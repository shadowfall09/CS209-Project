{"items":[{"tags":["java","validation","generics","enums"],"comments":[{"owner":{"account_id":4868925,"reputation":468,"user_id":3926131,"accept_rate":75,"display_name":"JoeyHolloway"},"score":0,"creation_date":1575892924,"post_id":58267178,"comment_id":104706738,"body_markdown":"Try looking at https://www.baeldung.com/javax-validations-enums","body":"Try looking at <a href=\"https://www.baeldung.com/javax-validations-enums\" rel=\"nofollow noreferrer\">baeldung.com/javax-validations-enums</a>"}],"answers":[{"comments":[{"owner":{"account_id":956605,"reputation":409,"user_id":981788,"accept_rate":75,"display_name":"Alex"},"score":0,"creation_date":1641232623,"post_id":59252693,"comment_id":124748058,"body_markdown":"this is not really working out if you want to validate a parameter, but only rather to restrict the possible values of an enum. at runtime, it will first try to convert the input to an Enum&lt;?&gt; and only then call your validator. it only works if you did input a valid entry form the enum, otherwise would crash before entering your validator","body":"this is not really working out if you want to validate a parameter, but only rather to restrict the possible values of an enum. at runtime, it will first try to convert the input to an Enum&lt;?&gt; and only then call your validator. it only works if you did input a valid entry form the enum, otherwise would crash before entering your validator"},{"owner":{"account_id":12146162,"reputation":237,"user_id":8868426,"display_name":"Alen Wesker"},"score":0,"creation_date":1648267391,"post_id":59252693,"comment_id":126587191,"body_markdown":"Thank&#39;s for your answer, this is so bloody tricky!","body":"Thank&#39;s for your answer, this is so bloody tricky!"}],"tags":[],"owner":{"account_id":6264675,"reputation":6520,"user_id":4870785,"accept_rate":67,"display_name":"Kapcash"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665071134,"creation_date":1575907983,"answer_id":59252693,"question_id":58267178,"body_markdown":"I&#39;ve succeeded to create a decorator that can validate that an Enum variable has a value within a given range of the Enum value.\r\n\r\nSee on [github gist][1].\r\n\r\n```java\r\n// EnumRestreint.java\r\n\r\n@Target({ FIELD })\r\n@Retention(RUNTIME)\r\n@Documented\r\n@Constraint(validatedBy = { EnumRestreintValidator.class })\r\npublic @interface EnumRestreint {\r\n    String message() default &quot;The enum value is not included in the possibles values.&quot;;\r\n\r\n    String[] authorizedFields() default {};\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n\r\n```java\r\n// EnumRestreintValidator.java\r\n\r\n/**\r\n * Restreint possibles values from Enum\r\n */\r\npublic class EnumRestreintValidator implements ConstraintValidator&lt;EnumRestreint, Enum&lt;?&gt;&gt; {\r\n\r\n    /** The possible values you can pick from the parameterized enum */\r\n    Set&lt;String&gt; validFields;\r\n\r\n    @Override\r\n    public void initialize(EnumRestreint constraint) {\r\n        validFields = Arrays.stream(constraint.authorizedFields()).collect(Collectors.toSet());\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(Enum&lt;?&gt; enumValue, ConstraintValidatorContext constraintValidatorContext) {\r\n        return validFields.contains(enumValue.name());\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://gist.github.com/Kapcash/d69deb8d123882cf7e34c35552acf91d","title":"Can&#39;t create generic javax validator for Enum only","body":"<p>I've succeeded to create a decorator that can validate that an Enum variable has a value within a given range of the Enum value.</p>\n<p>See on <a href=\"https://gist.github.com/Kapcash/d69deb8d123882cf7e34c35552acf91d\" rel=\"nofollow noreferrer\">github gist</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// EnumRestreint.java\n\n@Target({ FIELD })\n@Retention(RUNTIME)\n@Documented\n@Constraint(validatedBy = { EnumRestreintValidator.class })\npublic @interface EnumRestreint {\n    String message() default &quot;The enum value is not included in the possibles values.&quot;;\n\n    String[] authorizedFields() default {};\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// EnumRestreintValidator.java\n\n/**\n * Restreint possibles values from Enum\n */\npublic class EnumRestreintValidator implements ConstraintValidator&lt;EnumRestreint, Enum&lt;?&gt;&gt; {\n\n    /** The possible values you can pick from the parameterized enum */\n    Set&lt;String&gt; validFields;\n\n    @Override\n    public void initialize(EnumRestreint constraint) {\n        validFields = Arrays.stream(constraint.authorizedFields()).collect(Collectors.toSet());\n    }\n\n    @Override\n    public boolean isValid(Enum&lt;?&gt; enumValue, ConstraintValidatorContext constraintValidatorContext) {\n        return validFields.contains(enumValue.name());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6264675,"reputation":6520,"user_id":4870785,"accept_rate":67,"display_name":"Kapcash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1003,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59252693,"answer_count":1,"score":1,"last_activity_date":1665071134,"creation_date":1570442019,"question_id":58267178,"body_markdown":"I&#39;m trying to define a validation annotation for Enum fields as generic as possible (i.e. working only on Enum field type, and for all kind of Enum).\r\n\r\nThe goal is to have an annotation that will authorize only some values within the enum.\r\n\r\nI created the annotation this way:\r\n\r\n```java\r\n@Target({ FIELD })\r\n@Retention(RUNTIME)\r\n@Documented\r\n@Constraint(validatedBy = { EnumRestreintValidator.class })\r\npublic @interface EnumRestreint {\r\n    String message() default &quot;The field value is not included in the authorized values.&quot;;\r\n\r\n    String[] authorizedFields() default {};\r\n\r\n    Class&lt;?&gt;[] groups() default {};\r\n\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\n\r\nThen the validator:\r\n\r\n```java\r\npublic class EnumRestreintValidator&lt;T extends Enum&lt;T&gt;&gt; implements ConstraintValidator&lt;EnumRestreint, T&gt; {\r\n\r\n    Set&lt;T&gt; validFields;\r\n\r\n    @Override\r\n    public void initialize(EnumRestreint constraint) {\r\n        validFields = Arrays.stream(constraint.authorizedFields()).collect(Collectors.toSet());\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(T enumValue, ConstraintValidatorContext constraintValidatorContext) {\r\n        return false; // Not implemented yet\r\n    }\r\n}\r\n```\r\n\r\nExemple of use:\r\n\r\n    @EnumRestreint(authorizedValues = { &quot;BANANA&quot;, &quot;APPLE&quot; })\r\n    private Fruits value; // validator should break if value == Fruits.ORANGE\r\n\r\nI want to access the annotated field enum without including the enum class in the annotation parameters. So I tried to make the validator generic.\r\n\r\nBut I get this compilation error on the annotation definition:\r\n\r\n    @Constraint(validatedBy = { EnumRestreintValidator.class })\r\n    // Type mismatch: cannot convert from Class&lt;EnumRestreintValidator&gt; to Class&lt;? extends ConstraintValidator&lt;?,?&gt;&gt;\r\n\r\n\r\n**Is it possible to use a generic validator as I&#39;m intending to do? Or am I forced to pass the enum type in annotation parameters?**","title":"Can&#39;t create generic javax validator for Enum only","body":"<p>I'm trying to define a validation annotation for Enum fields as generic as possible (i.e. working only on Enum field type, and for all kind of Enum).</p>\n\n<p>The goal is to have an annotation that will authorize only some values within the enum.</p>\n\n<p>I created the annotation this way:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ FIELD })\n@Retention(RUNTIME)\n@Documented\n@Constraint(validatedBy = { EnumRestreintValidator.class })\npublic @interface EnumRestreint {\n    String message() default \"The field value is not included in the authorized values.\";\n\n    String[] authorizedFields() default {};\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n\n<p>Then the validator:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class EnumRestreintValidator&lt;T extends Enum&lt;T&gt;&gt; implements ConstraintValidator&lt;EnumRestreint, T&gt; {\n\n    Set&lt;T&gt; validFields;\n\n    @Override\n    public void initialize(EnumRestreint constraint) {\n        validFields = Arrays.stream(constraint.authorizedFields()).collect(Collectors.toSet());\n    }\n\n    @Override\n    public boolean isValid(T enumValue, ConstraintValidatorContext constraintValidatorContext) {\n        return false; // Not implemented yet\n    }\n}\n</code></pre>\n\n<p>Exemple of use:</p>\n\n<pre><code>@EnumRestreint(authorizedValues = { \"BANANA\", \"APPLE\" })\nprivate Fruits value; // validator should break if value == Fruits.ORANGE\n</code></pre>\n\n<p>I want to access the annotated field enum without including the enum class in the annotation parameters. So I tried to make the validator generic.</p>\n\n<p>But I get this compilation error on the annotation definition:</p>\n\n<pre><code>@Constraint(validatedBy = { EnumRestreintValidator.class })\n// Type mismatch: cannot convert from Class&lt;EnumRestreintValidator&gt; to Class&lt;? extends ConstraintValidator&lt;?,?&gt;&gt;\n</code></pre>\n\n<p><strong>Is it possible to use a generic validator as I'm intending to do? Or am I forced to pass the enum type in annotation parameters?</strong></p>\n"},{"tags":["java","asynchronous"],"answers":[{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1665070424,"creation_date":1665070424,"answer_id":73976501,"question_id":73976356,"body_markdown":"If you doesn&#39;t expect any problem with timeout you most probably can remove code related to feature.\r\n\r\nThere is possibility that code use some threadlocal variables or otherwise relies on being executed in separate thread.","title":"Is CompletableFuture followed immediately by a get efficient?","body":"<p>If you doesn't expect any problem with timeout you most probably can remove code related to feature.</p>\n<p>There is possibility that code use some threadlocal variables or otherwise relies on being executed in separate thread.</p>\n"}],"owner":{"account_id":184504,"reputation":3675,"user_id":420593,"accept_rate":54,"display_name":"fluminis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665070424,"creation_date":1665069930,"question_id":73976356,"body_markdown":"I just found the following code, it supplies an asynchronous task but immediately get the result (so if I understand correctly, it blocks the current thread until the result is available).\r\n\r\nIs it efficient ?\r\n\r\n    public String myMethod() {\r\n        CompletableFuture&lt;String&gt; futur = CompletableFuture.supplyAsync(() -&gt; {\r\n           // my long call to an external API\r\n           return &quot;theResult&quot;;\r\n        });\r\n        \r\n        try {\r\n            return future.get(FUTURE_TIMEOUT_DURATION, TimeUnit.MINUTES);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nIf the timeout is handled correctly in the call to the external API, do I need this completable futur ?\r\n\r\nIs it ok to simplify the code like this ?\r\n\r\n    public String myMethod() {\r\n        // my long call to an external API\r\n        return &quot;theResult&quot;;\r\n    }\r\n","title":"Is CompletableFuture followed immediately by a get efficient?","body":"<p>I just found the following code, it supplies an asynchronous task but immediately get the result (so if I understand correctly, it blocks the current thread until the result is available).</p>\n<p>Is it efficient ?</p>\n<pre><code>public String myMethod() {\n    CompletableFuture&lt;String&gt; futur = CompletableFuture.supplyAsync(() -&gt; {\n       // my long call to an external API\n       return &quot;theResult&quot;;\n    });\n    \n    try {\n        return future.get(FUTURE_TIMEOUT_DURATION, TimeUnit.MINUTES);\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>If the timeout is handled correctly in the call to the external API, do I need this completable futur ?</p>\n<p>Is it ok to simplify the code like this ?</p>\n<pre><code>public String myMethod() {\n    // my long call to an external API\n    return &quot;theResult&quot;;\n}\n</code></pre>\n"},{"tags":["java","junit","mocking","mockito"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":2,"creation_date":1665067106,"post_id":73975558,"comment_id":130616821,"body_markdown":"Does this answer your question? [When should we use @InjectMocks?](https://stackoverflow.com/questions/43463778/when-should-we-use-injectmocks)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/43463778/when-should-we-use-injectmocks\">When should we use @InjectMocks?</a>"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1665067251,"post_id":73975558,"comment_id":130616893,"body_markdown":"ok, what should be the solution?","body":"ok, what should be the solution?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665488822,"post_id":73975558,"comment_id":130707579,"body_markdown":"Does this help? https://stackoverflow.com/questions/74027324/why-is-my-class-not-using-my-mock-in-unit-test","body":"Does this help? <a href=\"https://stackoverflow.com/questions/74027324/why-is-my-class-not-using-my-mock-in-unit-test\" title=\"why is my class not using my mock in unit test\">stackoverflow.com/questions/74027324/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1665070249,"post_id":73976323,"comment_id":130618186,"body_markdown":"Thanks, now I get `Caused by: java.lang.UnsupportedOperationException: can&#39;t get field offset on a record class: private final java.lang.Long ....PromoCode.id`","body":"Thanks, now I get <code>Caused by: java.lang.UnsupportedOperationException: can&#39;t get field offset on a record class: private final java.lang.Long ....PromoCode.id</code>"}],"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665069771,"creation_date":1665069771,"answer_id":73976323,"question_id":73975558,"body_markdown":"You must do something like this\r\n\r\n        @Mock\r\n        private PromoCodeService promoCodeService;\r\n        @InjectMocks\r\n        private BusterClient app;\r\n        \r\n          @BeforeEach\r\n          void setUp() {\r\n        \r\n            MockitoAnnotations.initMocks(this);\r\n          }\r\n        \r\n        @Test\r\n        public void testTrackedReferralNotMatchingPromoCode() throws Exception {\r\n            \r\n            when(promoCodeService.findByCampaignPromoCodeIds(Long.valueOf(12), &quot;test&quot;)).thenReturn(Optional.of(PromoCode.builder().id(Long.valueOf(1)).build()));\r\n        \r\n            ...\r\n    // Test a public method and not a private method. Use one public method that in turn will call your &quot;getPromoCode&quot;.\r\n        }","title":"null exception for mocked service","body":"<p>You must do something like this</p>\n<pre><code>    @Mock\n    private PromoCodeService promoCodeService;\n    @InjectMocks\n    private BusterClient app;\n    \n      @BeforeEach\n      void setUp() {\n    \n        MockitoAnnotations.initMocks(this);\n      }\n    \n    @Test\n    public void testTrackedReferralNotMatchingPromoCode() throws Exception {\n        \n        when(promoCodeService.findByCampaignPromoCodeIds(Long.valueOf(12), &quot;test&quot;)).thenReturn(Optional.of(PromoCode.builder().id(Long.valueOf(1)).build()));\n    \n        ...\n// Test a public method and not a private method. Use one public method that in turn will call your &quot;getPromoCode&quot;.\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26391365,"reputation":1,"user_id":20043181,"display_name":"Hassan Abbass"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665070254,"creation_date":1665070254,"answer_id":73976452,"question_id":73975558,"body_markdown":"Try to inject your mocked object into the client you are creating, and create the client in the test method instead of making it class variable\r\n\r\n    var app = new BusterClient(o); //where o is the object you created with mockito","title":"null exception for mocked service","body":"<p>Try to inject your mocked object into the client you are creating, and create the client in the test method instead of making it class variable</p>\n<pre><code>var app = new BusterClient(o); //where o is the object you created with mockito\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665070254,"creation_date":1665066651,"question_id":73975558,"body_markdown":"I want to mock and test this Java code:\r\n\r\n    public class BusterClient {\r\n    \r\n        public BusterClient() {\r\n        }\r\n    \r\n        @Autowired\r\n        public BusterClient(PromoCodeService promoCodeService) {\r\n            this.promoCodeService = promoCodeService;\r\n        }\r\n    \r\n        private Optional&lt;PromoCode&gt; getPromoCode(CustomerRegistrationEvent event) {\r\n            Optional&lt;Long&gt; campaignId = getCampaignIdAsLong(event);\r\n            if (!event.hasPromoCode() || !campaignId.isPresent()) {\r\n                return Optional.empty();\r\n            }\r\n    \r\n            return promoCodeService.findByCampaignPromoCodeIds(campaignId.get(), event.getPromoCode());\r\n        }\r\n    }\r\n\r\nI created this test code:\r\n\r\n    @InjectMocks\r\n    private BusterClient app = new BusterClient();\r\n    \r\n    @Test\r\n    public void testTrackedReferralNotMatchingPromoCode() throws Exception {\r\n        \r\n        PromoCodeService o = mock(PromoCodeService.class);\r\n        when(o.findByCampaignPromoCodeIds(Long.valueOf(12), &quot;test&quot;)).thenReturn(Optional.of(PromoCode.builder().id(Long.valueOf(1)).build()));\r\n    \r\n        try {\r\n    \r\n            Method method = BusterClient.class.getDeclaredMethod(&quot;getPromoCode&quot;, CustomerRegistrationEvent.class);\r\n            method.setAccessible(true);\r\n            method.invoke(app, customerRegistrationEvent);\r\n    \r\n        } catch (InvocationTargetException e) {\r\n            e.getCause().printStackTrace();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nBut I get error: `promoCodeService.findByCampaignPromoCodeIds(java.lang.Long, String)&quot; because &quot;this.promoCodeService&quot; is null`\r\n\r\nDo you know what is the proper way to mock `PromoCodeService` service?","title":"null exception for mocked service","body":"<p>I want to mock and test this Java code:</p>\n<pre><code>public class BusterClient {\n\n    public BusterClient() {\n    }\n\n    @Autowired\n    public BusterClient(PromoCodeService promoCodeService) {\n        this.promoCodeService = promoCodeService;\n    }\n\n    private Optional&lt;PromoCode&gt; getPromoCode(CustomerRegistrationEvent event) {\n        Optional&lt;Long&gt; campaignId = getCampaignIdAsLong(event);\n        if (!event.hasPromoCode() || !campaignId.isPresent()) {\n            return Optional.empty();\n        }\n\n        return promoCodeService.findByCampaignPromoCodeIds(campaignId.get(), event.getPromoCode());\n    }\n}\n</code></pre>\n<p>I created this test code:</p>\n<pre><code>@InjectMocks\nprivate BusterClient app = new BusterClient();\n\n@Test\npublic void testTrackedReferralNotMatchingPromoCode() throws Exception {\n    \n    PromoCodeService o = mock(PromoCodeService.class);\n    when(o.findByCampaignPromoCodeIds(Long.valueOf(12), &quot;test&quot;)).thenReturn(Optional.of(PromoCode.builder().id(Long.valueOf(1)).build()));\n\n    try {\n\n        Method method = BusterClient.class.getDeclaredMethod(&quot;getPromoCode&quot;, CustomerRegistrationEvent.class);\n        method.setAccessible(true);\n        method.invoke(app, customerRegistrationEvent);\n\n    } catch (InvocationTargetException e) {\n        e.getCause().printStackTrace();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>But I get error: <code>promoCodeService.findByCampaignPromoCodeIds(java.lang.Long, String)&quot; because &quot;this.promoCodeService&quot; is null</code></p>\n<p>Do you know what is the proper way to mock <code>PromoCodeService</code> service?</p>\n"},{"tags":["java","oop","jpa"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1665069818,"post_id":73975842,"comment_id":130617987,"body_markdown":"Can you post stacktrace of exception?","body":"Can you post stacktrace of exception?"}],"answers":[{"tags":[],"owner":{"account_id":26036230,"reputation":260,"user_id":19741639,"display_name":"viking"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665070023,"creation_date":1665070023,"answer_id":73976385,"question_id":73975842,"body_markdown":"Try to specify relationship to `UserEntity` by adding `mappedBy` to annotatation\r\n\r\n```\r\n@Table(name = &quot;opportunity&quot;)\r\n    public class OpportunityEntity\r\n    {\r\n        @Id\r\n        @Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n        private Long id;\r\n    \r\n    @OneToMany\r\n    @JoinColumn(name = &quot;opportunity_id&quot;)\r\n    private List&lt;UserEntity&gt; users;\r\n\r\n    @OneToOne(mappedBy=&quot;opportunity&quot;)\r\n    @JoinColumn(name = &quot;mainuser_id&quot;)\r\n    private UserEntity mainUser;\r\n    \r\n    }\r\n\r\n```","title":"Got java &quot;stackoverflow&quot; when join two tables","body":"<p>Try to specify relationship to <code>UserEntity</code> by adding <code>mappedBy</code> to annotatation</p>\n<pre><code>@Table(name = &quot;opportunity&quot;)\n    public class OpportunityEntity\n    {\n        @Id\n        @Column(name = &quot;id&quot;, unique = true, nullable = false)\n        private Long id;\n    \n    @OneToMany\n    @JoinColumn(name = &quot;opportunity_id&quot;)\n    private List&lt;UserEntity&gt; users;\n\n    @OneToOne(mappedBy=&quot;opportunity&quot;)\n    @JoinColumn(name = &quot;mainuser_id&quot;)\n    private UserEntity mainUser;\n    \n    }\n\n</code></pre>\n"}],"owner":{"account_id":1680317,"reputation":634,"user_id":1544690,"accept_rate":44,"display_name":"Mirlo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665070023,"creation_date":1665067776,"question_id":73975842,"body_markdown":"I have two java entity classes :\r\n\r\n    @Table(name = &quot;user&quot;)\r\n    public class UserEntity\r\n    {\r\n        @Id\r\n        @Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n        private Long id;\r\n    \r\n        @OneToOne(cascade = CascadeType.PERSIST, fetch = FetchType.EAGER)\r\n        @JoinColumn(name = &quot;opportunity_id&quot;)\r\n        private OpportunityEntity opportunity;\r\n    \r\n    }\r\n\r\nand \r\n\r\n    @Table(name = &quot;opportunity&quot;)\r\n        public class OpportunityEntity\r\n        {\r\n            @Id\r\n            @Column(name = &quot;id&quot;, unique = true, nullable = false)\r\n            private Long id;\r\n        \r\n        @OneToMany\r\n        @JoinColumn(name = &quot;opportunity_id&quot;)\r\n        private List&lt;UserEntity&gt; users;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;mainuser_id&quot;)\r\n        private UserEntity mainUser;\r\n        \r\n        }\r\n\r\nWhen i search for a list of Users [find users], i&#39;ve got a &quot;stackoverflow&quot; when mapping `User.opportunity`.\r\n\r\nthe bug was clear that the opportunity.mainUser refer to User which itself refer to the same opportunity.\r\n\r\nIs there another way to design my models ?\r\nFor example create a `boolean isMain in User Model` ?","title":"Got java &quot;stackoverflow&quot; when join two tables","body":"<p>I have two java entity classes :</p>\n<pre><code>@Table(name = &quot;user&quot;)\npublic class UserEntity\n{\n    @Id\n    @Column(name = &quot;id&quot;, unique = true, nullable = false)\n    private Long id;\n\n    @OneToOne(cascade = CascadeType.PERSIST, fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;opportunity_id&quot;)\n    private OpportunityEntity opportunity;\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Table(name = &quot;opportunity&quot;)\n    public class OpportunityEntity\n    {\n        @Id\n        @Column(name = &quot;id&quot;, unique = true, nullable = false)\n        private Long id;\n    \n    @OneToMany\n    @JoinColumn(name = &quot;opportunity_id&quot;)\n    private List&lt;UserEntity&gt; users;\n\n    @OneToOne\n    @JoinColumn(name = &quot;mainuser_id&quot;)\n    private UserEntity mainUser;\n    \n    }\n</code></pre>\n<p>When i search for a list of Users [find users], i've got a &quot;stackoverflow&quot; when mapping <code>User.opportunity</code>.</p>\n<p>the bug was clear that the opportunity.mainUser refer to User which itself refer to the same opportunity.</p>\n<p>Is there another way to design my models ?\nFor example create a <code>boolean isMain in User Model</code> ?</p>\n"},{"tags":["java","jvm","out-of-memory","heap-memory"],"comments":[{"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"score":0,"creation_date":1428507393,"post_id":37335,"comment_id":47193310,"body_markdown":"The default max heap size of 64 MB is from before J2SE 5.0. For J2SE 8.0 information, see &quot;Garbage Collector Ergonomics&quot; at http://docs.oracle.com/javase/8/docs/technotes/guides/vm/gc-ergonomics.html .","body":"The default max heap size of 64 MB is from before J2SE 5.0. For J2SE 8.0 information, see &quot;Garbage Collector Ergonomics&quot; at <a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/vm/gc-ergonomics.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/vm/&hellip;</a> ."},{"owner":{"account_id":2767,"reputation":5319,"user_id":3892,"accept_rate":71,"display_name":"Steve Steiner"},"score":5,"creation_date":1524600782,"post_id":37335,"comment_id":87036739,"body_markdown":"If you landed here because every OOM question is duped to this one, make sure you also check out: https://stackoverflow.com/questions/299659/whats-the-difference-between-softreference-and-weakreference-in-java   It provides the solution for cleaning up memory references &#39;just in time&#39; before the OOM.  SoftReferences may be the tool that solves your actual problem.","body":"If you landed here because every OOM question is duped to this one, make sure you also check out: <a href=\"https://stackoverflow.com/questions/299659/whats-the-difference-between-softreference-and-weakreference-in-java\" title=\"whats the difference between softreference and weakreference in java\">stackoverflow.com/questions/299659/&hellip;</a>   It provides the solution for cleaning up memory references &#39;just in time&#39; before the OOM.  SoftReferences may be the tool that solves your actual problem."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1613923966,"post_id":37335,"comment_id":117220130,"body_markdown":"The Sun/Oracle JVM has always been quite rigid about specifying the amount memory to use (and having some interesting defaults if left on its own).  That was one of the nice things of the Microsoft JVM back then - it was _fast_ and it could use whatever memory the machine had.","body":"The Sun/Oracle JVM has always been quite rigid about specifying the amount memory to use (and having some interesting defaults if left on its own).  That was one of the nice things of the Microsoft JVM back then - it was <i>fast</i> and it could use whatever memory the machine had."},{"owner":{"account_id":11259570,"reputation":916,"user_id":8258305,"accept_rate":60,"display_name":"Mohd Qasim"},"score":0,"creation_date":1647243012,"post_id":37335,"comment_id":126312694,"body_markdown":"in my case I missed __gradle.properties__ file to add in my project","body":"in my case I missed <b>gradle.properties</b> file to add in my project"}],"answers":[{"comments":[{"owner":{"account_id":40443,"reputation":1902,"user_id":117220,"accept_rate":67,"display_name":"Petr Gladkikh"},"score":10,"creation_date":1366173643,"post_id":37349,"comment_id":22905268,"body_markdown":"OpenJDK and OracleJDK have bundled profiler - jvisualvm. If you want more conveniences I&#39;d suggest commercial Yourkit.","body":"OpenJDK and OracleJDK have bundled profiler - jvisualvm. If you want more conveniences I&#39;d suggest commercial Yourkit."},{"owner":{"account_id":4420950,"reputation":383,"user_id":3600935,"accept_rate":90,"display_name":"MrSalesi"},"score":2,"creation_date":1630708521,"post_id":37349,"comment_id":122039097,"body_markdown":"Use close unused object and array, say resultsSet.close(); fileOutputStream.close(); fileOutputStream.flush(); , I use resultsSet.close() and was working magically.","body":"Use close unused object and array, say resultsSet.close(); fileOutputStream.close(); fileOutputStream.flush(); , I use resultsSet.close() and was working magically."}],"tags":[],"owner":{"account_id":2119,"reputation":4500,"user_id":2925,"display_name":"Ben Childs"},"comment_count":2,"down_vote_count":2,"up_vote_count":310,"is_accepted":true,"score":308,"last_activity_date":1553330656,"creation_date":1220232594,"answer_id":37349,"question_id":37335,"body_markdown":"Ultimately you always have a finite max of heap to use no matter what platform you are running on. In Windows 32 bit this is around `2GB` (not specifically heap but total amount of memory per process). It just happens that Java chooses to make the default smaller (presumably so that the programmer can&#39;t create programs that have runaway memory allocation without running into this problem and having to examine exactly what they are doing).\r\n\r\nSo this given there are several approaches you could take to either determine what amount of memory you need or to reduce the amount of memory you are using. One common mistake with garbage collected languages such as Java or C# is to keep around references to objects that you **no longer** are using, or allocating many objects when you could **reuse** them instead. As long as objects have a reference to them they will continue to use heap space as the garbage collector will not delete them.\r\n\r\nIn this case you can use a Java memory profiler to determine what methods in your program are allocating large number of objects and then determine if there is a way to make sure they are no longer referenced, or to not allocate them in the first place. One option which I have used in the past is &quot;JMP&quot; &lt;http://www.khelekore.org/jmp/&gt;.\r\n\r\nIf you determine that you are allocating these objects for a reason and you need to keep around references (depending on what you are doing this might be the case), you will just need to increase the max heap size when you start the program. However, once you do the memory profiling and understand how your objects are getting allocated you should have a better idea about how much memory you need. \r\n\r\nIn general if you can&#39;t guarantee that your program will run in some finite amount of memory (perhaps depending on input size) you will always run into this problem. Only after exhausting all of this will you need to look into caching objects out to disk etc. At this point you should have a very good reason to say &quot;I need Xgb of memory&quot; for something and you can&#39;t work around it by improving your algorithms or memory allocation patterns. Generally this will only usually be the case for algorithms operating on large datasets (like a database or some scientific analysis program) and then techniques like caching and memory mapped IO become useful.\r\n\r\n","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>Ultimately you always have a finite max of heap to use no matter what platform you are running on. In Windows 32 bit this is around <code>2GB</code> (not specifically heap but total amount of memory per process). It just happens that Java chooses to make the default smaller (presumably so that the programmer can't create programs that have runaway memory allocation without running into this problem and having to examine exactly what they are doing).</p>\n\n<p>So this given there are several approaches you could take to either determine what amount of memory you need or to reduce the amount of memory you are using. One common mistake with garbage collected languages such as Java or C# is to keep around references to objects that you <strong>no longer</strong> are using, or allocating many objects when you could <strong>reuse</strong> them instead. As long as objects have a reference to them they will continue to use heap space as the garbage collector will not delete them.</p>\n\n<p>In this case you can use a Java memory profiler to determine what methods in your program are allocating large number of objects and then determine if there is a way to make sure they are no longer referenced, or to not allocate them in the first place. One option which I have used in the past is \"JMP\" <a href=\"http://www.khelekore.org/jmp/\" rel=\"noreferrer\">http://www.khelekore.org/jmp/</a>.</p>\n\n<p>If you determine that you are allocating these objects for a reason and you need to keep around references (depending on what you are doing this might be the case), you will just need to increase the max heap size when you start the program. However, once you do the memory profiling and understand how your objects are getting allocated you should have a better idea about how much memory you need. </p>\n\n<p>In general if you can't guarantee that your program will run in some finite amount of memory (perhaps depending on input size) you will always run into this problem. Only after exhausting all of this will you need to look into caching objects out to disk etc. At this point you should have a very good reason to say \"I need Xgb of memory\" for something and you can't work around it by improving your algorithms or memory allocation patterns. Generally this will only usually be the case for algorithms operating on large datasets (like a database or some scientific analysis program) and then techniques like caching and memory mapped IO become useful.</p>\n"},{"comments":[{"owner":{"account_id":185012,"reputation":3371,"user_id":421467,"accept_rate":100,"display_name":"Dr.jacky"},"score":6,"creation_date":1484811153,"post_id":37466,"comment_id":70665744,"body_markdown":"How to set this parameter for ever? Cause I&#39;m using &#39;gradlew assemble&#39; command.","body":"How to set this parameter for ever? Cause I&#39;m using &#39;gradlew assemble&#39; command."},{"owner":{"account_id":8731421,"reputation":3220,"user_id":9339242,"display_name":"Arayan Singh"},"score":5,"creation_date":1527187125,"post_id":37466,"comment_id":88044639,"body_markdown":"Run-&gt;Run Configurations-&gt;Click on arguments-&gt;inside VM arguments type\n\n  -Xms1g -Xmx2g","body":"Run-&gt;Run Configurations-&gt;Click on arguments-&gt;inside VM arguments type    -Xms1g -Xmx2g"}],"tags":[],"owner":{"account_id":2288,"reputation":191205,"user_id":3171,"accept_rate":92,"display_name":"David Webb"},"comment_count":2,"down_vote_count":7,"up_vote_count":162,"is_accepted":false,"score":155,"last_activity_date":1553331075,"creation_date":1220245201,"answer_id":37466,"question_id":37335,"body_markdown":"Run Java with the command-line option `-Xmx`, which sets the *maximum* size of the heap.\r\n\r\n[See here for details](http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html#nonstandard).","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>Run Java with the command-line option <code>-Xmx</code>, which sets the <em>maximum</em> size of the heap.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/java.html#nonstandard\" rel=\"noreferrer\">See here for details</a>.</p>\n"},{"comments":[{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":3,"creation_date":1547591305,"post_id":186390,"comment_id":95242171,"body_markdown":"JVMJ9VM007E Command-line option unrecognised: -Xmx\nCould not create the Java virtual machine. Downvote","body":"JVMJ9VM007E Command-line option unrecognised: -Xmx Could not create the Java virtual machine. Downvote"}],"tags":[],"owner":{"account_id":13068,"reputation":2596,"user_id":26056,"accept_rate":0,"display_name":"kohlerm"},"comment_count":1,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1553331185,"creation_date":1223540545,"answer_id":186390,"question_id":37335,"body_markdown":"Yes, with `-Xmx` you can configure more memory for your JVM. \r\nTo be sure that you don&#39;t leak or waste memory. Take a heap dump and use [the Eclipse Memory Analyzer][1] to analyze your memory consumption. \r\n\r\n\r\n  [1]: http://www.eclipse.org/mat/","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>Yes, with <code>-Xmx</code> you can configure more memory for your JVM. \nTo be sure that you don't leak or waste memory. Take a heap dump and use <a href=\"http://www.eclipse.org/mat/\" rel=\"noreferrer\">the Eclipse Memory Analyzer</a> to analyze your memory consumption. </p>\n"},{"tags":[],"owner":{"account_id":13070,"reputation":4278,"user_id":26061,"display_name":"Leigh"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1553331211,"creation_date":1223553870,"answer_id":186957,"question_id":37335,"body_markdown":"If you need to monitor your memory usage at runtime, the `java.lang.management` package offers `MBeans` that can be used to monitor the memory pools in your VM (eg, eden space, tenured generation etc), and also garbage collection behaviour.\r\n\r\nThe free heap space reported by these MBeans will vary greatly depending on GC behaviour, particularly if your application generates a lot of objects which are later GC-ed. One possible approach is to monitor the free heap space after each full-GC, which you may be able to use to make a decision on freeing up memory by persisting objects.\r\n\r\nUltimately, your best bet is to limit your memory retention as far as possible whilst performance remains acceptable. As a previous comment noted, memory is always limited, but your app should have a strategy for dealing with memory exhaustion. ","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>If you need to monitor your memory usage at runtime, the <code>java.lang.management</code> package offers <code>MBeans</code> that can be used to monitor the memory pools in your VM (eg, eden space, tenured generation etc), and also garbage collection behaviour.</p>\n\n<p>The free heap space reported by these MBeans will vary greatly depending on GC behaviour, particularly if your application generates a lot of objects which are later GC-ed. One possible approach is to monitor the free heap space after each full-GC, which you may be able to use to make a decision on freeing up memory by persisting objects.</p>\n\n<p>Ultimately, your best bet is to limit your memory retention as far as possible whilst performance remains acceptable. As a previous comment noted, memory is always limited, but your app should have a strategy for dealing with memory exhaustion. </p>\n"},{"tags":[],"owner":{"account_id":22991,"reputation":6031,"user_id":57246,"accept_rate":83,"display_name":"David"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1553330785,"creation_date":1239716055,"answer_id":747593,"question_id":37335,"body_markdown":"Big caveat ---- at my office, we were finding that (on some windows machines) we could not allocate more than 512m for Java heap. This turned out to be due to the Kaspersky anti-virus product installed on some of those machines. After uninstalling that AV product, we found we could allocate at least 1.6gb,   i.e,   `-Xmx1600m` (m is mandatory other wise it will lead to another error &quot;Too small initial heap&quot;) works.\r\n\r\nNo idea if this happens with other AV products but presumably this is happening because the AV program is reserving a small block of memory in every address space, thereby preventing a single really large allocation. ","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>Big caveat ---- at my office, we were finding that (on some windows machines) we could not allocate more than 512m for Java heap. This turned out to be due to the Kaspersky anti-virus product installed on some of those machines. After uninstalling that AV product, we found we could allocate at least 1.6gb,   i.e,   <code>-Xmx1600m</code> (m is mandatory other wise it will lead to another error \"Too small initial heap\") works.</p>\n\n<p>No idea if this happens with other AV products but presumably this is happening because the AV program is reserving a small block of memory in every address space, thereby preventing a single really large allocation. </p>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1546259622,"post_id":880998,"comment_id":94812265,"body_markdown":"Java WebStart is being phased out.  I am not yet aware of a suitable replacement.","body":"Java WebStart is being phased out.  I am not yet aware of a suitable replacement."}],"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1553331172,"creation_date":1242708322,"answer_id":880998,"question_id":37335,"body_markdown":"Note that if you need this in a deployment situation, consider using Java WebStart (with an &quot;ondisk&quot; version, not the network one - possible in Java 6u10 and later) as it allows you to specify the various arguments to the JVM in a cross platform way.\r\n\r\nOtherwise you will need an operating system specific launcher which sets the arguments you need.","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>Note that if you need this in a deployment situation, consider using Java WebStart (with an \"ondisk\" version, not the network one - possible in Java 6u10 and later) as it allows you to specify the various arguments to the JVM in a cross platform way.</p>\n\n<p>Otherwise you will need an operating system specific launcher which sets the arguments you need.</p>\n"},{"comments":[{"owner":{"account_id":120154,"reputation":10077,"user_id":312407,"accept_rate":100,"display_name":"Mike Clark"},"score":7,"creation_date":1290250207,"post_id":3500230,"comment_id":4581525,"body_markdown":"In general I think the JVM will prefer to Garbage Collect (GC) rather than throw an OutOfMemoryError.  Explicitly calling System.gc() after OutOfMemoryError might possibly help on some VMs/configurations, but I would not expect it to work very well in the general case.  However, dropping unnecessary object references would definitely help in almost all cases.","body":"In general I think the JVM will prefer to Garbage Collect (GC) rather than throw an OutOfMemoryError.  Explicitly calling System.gc() after OutOfMemoryError might possibly help on some VMs/configurations, but I would not expect it to work very well in the general case.  However, dropping unnecessary object references would definitely help in almost all cases."},{"owner":{"display_name":"user1014581"},"score":8,"creation_date":1319633506,"post_id":3500230,"comment_id":9651539,"body_markdown":"@mwangi Calling System.gc() directly from the code is generally a bad idea.\nIt&#39;s just a **suggestion** to JVM that GC should be performed, but there&#39;s absolutely **no guarantee** that it will be performed.","body":"@mwangi Calling System.gc() directly from the code is generally a bad idea. It&#39;s just a <b>suggestion</b> to JVM that GC should be performed, but there&#39;s absolutely <b>no guarantee</b> that it will be performed."},{"owner":{"account_id":7401461,"reputation":771,"user_id":5631767,"display_name":"Yorgos Lamprakis"},"score":0,"creation_date":1692276572,"post_id":3500230,"comment_id":135603102,"body_markdown":"this is bad for 2 reasons. \n1. Garbage collection is not guaranteed and 2. catching errors is a very bad practice. There is a distinction between exceptions and errors for that reason","body":"this is bad for 2 reasons.  1. Garbage collection is not guaranteed and 2. catching errors is a very bad practice. There is a distinction between exceptions and errors for that reason"}],"tags":[],"owner":{"account_id":185678,"reputation":1616,"user_id":422550,"accept_rate":83,"display_name":"mwangi"},"comment_count":3,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1553331147,"creation_date":1282030225,"answer_id":3500230,"question_id":37335,"body_markdown":"I read somewhere else that you can try - catch java.lang.OutOfMemoryError and on the catch block, you can free all resources that you know might use a lot of memory, close connections and so forth, then do a `System.gc()` then re-try whatever you were going to do.\r\n\r\nAnother way is this although, i don&#39;t know whether this would work, but I am currently testing whether it will work on my application.\r\n\r\nThe Idea is to do Garbage collection by calling System.gc() which is known to increase free memory. You can keep checking this after a memory gobbling code executes.\r\n\r\n    //Mimimum acceptable free memory you think your app needs\r\n    long minRunningMemory = (1024*1024);\r\n\r\n    Runtime runtime = Runtime.getRuntime();\r\n\r\n    if(runtime.freeMemory()&lt;minRunningMemory)\r\n     System.gc();\r\n\r\n","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>I read somewhere else that you can try - catch java.lang.OutOfMemoryError and on the catch block, you can free all resources that you know might use a lot of memory, close connections and so forth, then do a <code>System.gc()</code> then re-try whatever you were going to do.</p>\n\n<p>Another way is this although, i don't know whether this would work, but I am currently testing whether it will work on my application.</p>\n\n<p>The Idea is to do Garbage collection by calling System.gc() which is known to increase free memory. You can keep checking this after a memory gobbling code executes.</p>\n\n<pre><code>//Mimimum acceptable free memory you think your app needs\nlong minRunningMemory = (1024*1024);\n\nRuntime runtime = Runtime.getRuntime();\n\nif(runtime.freeMemory()&lt;minRunningMemory)\n System.gc();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":208672,"reputation":315,"user_id":459303,"accept_rate":75,"display_name":"SoulWanderer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553331124,"creation_date":1285746433,"answer_id":3819680,"question_id":37335,"body_markdown":"If you keep on allocating &amp; keeping references to object, you will fill up any amount of memory you have.\r\n\r\nOne option is to do a transparent file close &amp; open when they switch tabs (you only keep a pointer to the file, and when the user switches tab, you close &amp; clean all the objects... it&#39;ll make the file change slower... but...), and maybe keep only 3 or 4 files on memory.\r\n\r\nOther thing you should do is, when the user opens a file, load it, and intercept any OutOfMemoryError, then (as it is not possible to open the file) close that file, clean its objects and warn the user that he should close unused files.\r\n\r\nYour idea of dynamically extending virtual memory doesn&#39;t solve the issue, for the machine is limited on resources, so you should be carefull &amp; handle memory issues (or at least, be carefull with them).\r\n\r\nA couple of hints i&#39;ve seen with memory leaks is:\r\n\r\n   --&gt; Keep on mind that if you put something into a collection and afterwards forget about it, you still have a strong reference to it, so nullify the collection, clean it or do something with it... if not you will find a memory leak difficult to find.\r\n\r\n   --&gt; Maybe, using collections with weak references (weakhashmap...) can help with memory issues, but you **must** be carefull with it, for you might find that the object you look for has been collected.\r\n\r\n   --&gt; Another idea i&#39;ve found is to develope a persistent collection that stored on database objects least used and transparently loaded. This would probably be the best approach... \r\n   ","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>If you keep on allocating &amp; keeping references to object, you will fill up any amount of memory you have.</p>\n\n<p>One option is to do a transparent file close &amp; open when they switch tabs (you only keep a pointer to the file, and when the user switches tab, you close &amp; clean all the objects... it'll make the file change slower... but...), and maybe keep only 3 or 4 files on memory.</p>\n\n<p>Other thing you should do is, when the user opens a file, load it, and intercept any OutOfMemoryError, then (as it is not possible to open the file) close that file, clean its objects and warn the user that he should close unused files.</p>\n\n<p>Your idea of dynamically extending virtual memory doesn't solve the issue, for the machine is limited on resources, so you should be carefull &amp; handle memory issues (or at least, be carefull with them).</p>\n\n<p>A couple of hints i've seen with memory leaks is:</p>\n\n<p>--> Keep on mind that if you put something into a collection and afterwards forget about it, you still have a strong reference to it, so nullify the collection, clean it or do something with it... if not you will find a memory leak difficult to find.</p>\n\n<p>--> Maybe, using collections with weak references (weakhashmap...) can help with memory issues, but you <strong>must</strong> be carefull with it, for you might find that the object you look for has been collected.</p>\n\n<p>--> Another idea i've found is to develope a persistent collection that stored on database objects least used and transparently loaded. This would probably be the best approach... </p>\n"},{"comments":[{"owner":{"account_id":1256099,"reputation":907,"user_id":1215518,"accept_rate":67,"display_name":"AndroidRaji"},"score":1,"creation_date":1353736169,"post_id":5121287,"comment_id":18539803,"body_markdown":"hi bighostkim and cuongHuyTo, where is &quot;Arguments&quot;..i can able to see upto Run Configuration. Please tel me. My need to download and store nearly 2000 contacts from gmail. It crash due to out of memory exception","body":"hi bighostkim and cuongHuyTo, where is &quot;Arguments&quot;..i can able to see upto Run Configuration. Please tel me. My need to download and store nearly 2000 contacts from gmail. It crash due to out of memory exception"},{"owner":{"account_id":226633,"reputation":1333,"user_id":487785,"display_name":"CuongHuyTo"},"score":0,"creation_date":1393927616,"post_id":5121287,"comment_id":33644979,"body_markdown":"@AndroiRaji: you right click your mouse onto the Java class that has a runnable main (that is &quot;public static void main(String[] args)&quot;), then  choose Run As - Run Configuration. Then &quot;Arguments&quot; is the tab right after the Main (you see the tabs Main, Arguments, JRE, Classpath, Source, Environment, Common).","body":"@AndroiRaji: you right click your mouse onto the Java class that has a runnable main (that is &quot;public static void main(String[] args)&quot;), then  choose Run As - Run Configuration. Then &quot;Arguments&quot; is the tab right after the Main (you see the tabs Main, Arguments, JRE, Classpath, Source, Environment, Common)."}],"tags":[],"owner":{"account_id":205475,"reputation":27350,"user_id":454252,"accept_rate":56,"display_name":"allenhwkim"},"comment_count":2,"down_vote_count":3,"up_vote_count":107,"is_accepted":false,"score":104,"last_activity_date":1553330955,"creation_date":1298659531,"answer_id":5121287,"question_id":37335,"body_markdown":"You could specify **per** project how much heap space your project wants\r\n\r\nFollowing is for **Eclipse Helios/Juno/Kepler**:\r\n\r\n  Right mouse click on\r\n\r\n     Run As - Run Configuration - Arguments - Vm Arguments, \r\nthen add this\r\n\r\n    -Xmx2048m","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>You could specify <strong>per</strong> project how much heap space your project wants</p>\n\n<p>Following is for <strong>Eclipse Helios/Juno/Kepler</strong>:</p>\n\n<p>Right mouse click on</p>\n\n<pre><code> Run As - Run Configuration - Arguments - Vm Arguments, \n</code></pre>\n\n<p>then add this</p>\n\n<pre><code>-Xmx2048m\n</code></pre>\n"},{"tags":[],"owner":{"account_id":750151,"reputation":71,"user_id":747409,"display_name":"Soumya Sandeep Mohanty"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1553331091,"creation_date":1305053329,"answer_id":5954865,"question_id":37335,"body_markdown":"I have faced same problem from java heap size.\r\n\r\nI have two solutions if you are using java 5(1.5).\r\n\r\n1. just install jdk1.6 and go to the preferences of eclipse and set the jre path of jav1 1.6 as you have installed.\r\n\r\n2. Check your VM argument and let it be whatever it is.\r\njust add one line below of all the arguments present in VM arguments as \r\n-Xms512m  -Xmx512m -XX:MaxPermSize=...m(192m).\r\n\r\nI think it will work...","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>I have faced same problem from java heap size.</p>\n\n<p>I have two solutions if you are using java 5(1.5).</p>\n\n<ol>\n<li><p>just install jdk1.6 and go to the preferences of eclipse and set the jre path of jav1 1.6 as you have installed.</p></li>\n<li><p>Check your VM argument and let it be whatever it is.\njust add one line below of all the arguments present in VM arguments as \n-Xms512m  -Xmx512m -XX:MaxPermSize=...m(192m).</p></li>\n</ol>\n\n<p>I think it will work...</p>\n"},{"tags":[],"owner":{"account_id":767034,"reputation":261,"user_id":791703,"display_name":"loveall"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1553331051,"creation_date":1307652509,"answer_id":6299069,"question_id":37335,"body_markdown":"VM arguments worked for me in eclipse. If you are using eclipse version 3.4, do the following\r\n\r\ngo to `Run --&gt; Run Configurations --&gt;` then select the project under maven build --&gt; then select the tab &quot;JRE&quot; --&gt; then enter `-Xmx1024m`.\r\n\r\nAlternatively you could do `Run --&gt; Run Configurations --&gt; select the &quot;JRE&quot; tab --&gt;` then enter -`Xmx1024m`\r\n\r\nThis should increase the memory heap for all the builds/projects. The above memory size is 1 GB. You can optimize the way you want.","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>VM arguments worked for me in eclipse. If you are using eclipse version 3.4, do the following</p>\n\n<p>go to <code>Run --&gt; Run Configurations --&gt;</code> then select the project under maven build --> then select the tab \"JRE\" --> then enter <code>-Xmx1024m</code>.</p>\n\n<p>Alternatively you could do <code>Run --&gt; Run Configurations --&gt; select the \"JRE\" tab --&gt;</code> then enter -<code>Xmx1024m</code></p>\n\n<p>This should increase the memory heap for all the builds/projects. The above memory size is 1 GB. You can optimize the way you want.</p>\n"},{"comments":[{"owner":{"account_id":60721,"reputation":1919,"user_id":181293,"accept_rate":67,"display_name":"ernesto"},"score":1,"creation_date":1351162591,"post_id":7297504,"comment_id":17748522,"body_markdown":"Any idea why we need to keep them in 1:1 or 1:1.5 ratio?","body":"Any idea why we need to keep them in 1:1 or 1:1.5 ratio?"}],"tags":[],"owner":{"account_id":888426,"reputation":81,"user_id":927269,"display_name":"chaukssey"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1340188479,"creation_date":1315112707,"answer_id":7297504,"question_id":37335,"body_markdown":"Easy way to solve `OutOfMemoryError` in java is to increase the maximum heap size by using JVM options `-Xmx512M`, this will immediately solve your OutOfMemoryError. This is my preferred solution when I get OutOfMemoryError in Eclipse, Maven or ANT while building project because based upon size of project you can easily ran out of Memory.\r\n\r\nHere is an example of increasing maximum heap size of JVM, Also its better to keep -Xmx to -Xms ration either 1:1 or 1:1.5 if you are setting heap size in your java application.\r\n\r\n`export JVM_ARGS=&quot;-Xms1024m -Xmx1024m&quot;`\r\n\r\n[Reference Link][1]\r\n\r\n[1]:http://javarevisited.blogspot.com/2011/09/javalangoutofmemoryerror-permgen-space.html","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>Easy way to solve <code>OutOfMemoryError</code> in java is to increase the maximum heap size by using JVM options <code>-Xmx512M</code>, this will immediately solve your OutOfMemoryError. This is my preferred solution when I get OutOfMemoryError in Eclipse, Maven or ANT while building project because based upon size of project you can easily ran out of Memory.</p>\n\n<p>Here is an example of increasing maximum heap size of JVM, Also its better to keep -Xmx to -Xms ration either 1:1 or 1:1.5 if you are setting heap size in your java application.</p>\n\n<p><code>export JVM_ARGS=\"-Xms1024m -Xmx1024m\"</code></p>\n\n<p><a href=\"http://javarevisited.blogspot.com/2011/09/javalangoutofmemoryerror-permgen-space.html\" rel=\"noreferrer\">Reference Link</a></p>\n"},{"tags":[],"owner":{"account_id":2401302,"reputation":668,"user_id":2098900,"display_name":"Pradip Bhatt"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1553330805,"creation_date":1381143365,"answer_id":19222984,"question_id":37335,"body_markdown":"Follow below steps:\r\n\r\n1. Open `catalina.sh` from tomcat/bin.\r\n\r\n2. Change JAVA_OPTS to \r\n\r\n        JAVA_OPTS=&quot;-Djava.awt.headless=true -Dfile.encoding=UTF-8 -server -Xms1536m \r\n        -Xmx1536m -XX:NewSize=256m -XX:MaxNewSize=256m -XX:PermSize=256m \r\n        -XX:MaxPermSize=256m -XX:+DisableExplicitGC&quot;\r\n\r\n3. Restart your tomcat","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>Follow below steps:</p>\n\n<ol>\n<li><p>Open <code>catalina.sh</code> from tomcat/bin.</p></li>\n<li><p>Change JAVA_OPTS to </p>\n\n<pre><code>JAVA_OPTS=\"-Djava.awt.headless=true -Dfile.encoding=UTF-8 -server -Xms1536m \n-Xmx1536m -XX:NewSize=256m -XX:MaxNewSize=256m -XX:PermSize=256m \n-XX:MaxPermSize=256m -XX:+DisableExplicitGC\"\n</code></pre></li>\n<li><p>Restart your tomcat</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":3453880,"reputation":368,"user_id":2892806,"accept_rate":43,"display_name":"Ashish"},"score":0,"creation_date":1549863807,"post_id":21494341,"comment_id":96041419,"body_markdown":"This is so true. I am trying to fix one issue where I&#39;m getting OOM on AWT thread but if I use different new thread, I am not getting OOM issue. All I can find online is increase heap size for AWT thread.","body":"This is so true. I am trying to fix one issue where I&#39;m getting OOM on AWT thread but if I use different new thread, I am not getting OOM issue. All I can find online is increase heap size for AWT thread."},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":2,"creation_date":1549958353,"post_id":21494341,"comment_id":96081690,"body_markdown":"@Ash: Yes, fix the core problem instead of looking for plasters.","body":"@Ash: Yes, fix the core problem instead of looking for plasters."},{"owner":{"account_id":980276,"reputation":5186,"user_id":1335793,"display_name":"Davos"},"score":0,"creation_date":1570794682,"post_id":21494341,"comment_id":103036568,"body_markdown":"Garbage collection and the memory management approach in Java was supposed to solve all these malloc-dealloc complications of its predecessors :(  Of course I completely agree with this answer it&#39;s just a shame the defaults don&#39;t make it easy to write code with lean data-structures that are cleaned up ASAP.","body":"Garbage collection and the memory management approach in Java was supposed to solve all these malloc-dealloc complications of its predecessors :(  Of course I completely agree with this answer it&#39;s just a shame the defaults don&#39;t make it easy to write code with lean data-structures that are cleaned up ASAP."},{"owner":{"account_id":2701094,"reputation":547,"user_id":2331809,"display_name":"Zsolt Sky"},"score":8,"creation_date":1623328254,"post_id":21494341,"comment_id":120051544,"body_markdown":"I do not agree. You need to set it to some value initially. If it turns out to be insufficient it does not necessarily mean that your application is bad. Maybe you were too optimistic. It is a valid solution to set it to a higher value in this case.","body":"I do not agree. You need to set it to some value initially. If it turns out to be insufficient it does not necessarily mean that your application is bad. Maybe you were too optimistic. It is a valid solution to set it to a higher value in this case."},{"owner":{"account_id":518468,"reputation":534,"user_id":2897386,"display_name":"DustWolf"},"score":0,"creation_date":1698320439,"post_id":21494341,"comment_id":136391928,"body_markdown":"Sometimes the data is to blame, rather than the code. There exist trully massive datasets that need to be crosschecked in memory.","body":"Sometimes the data is to blame, rather than the code. There exist trully massive datasets that need to be crosschecked in memory."}],"tags":[],"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"comment_count":5,"down_vote_count":6,"up_vote_count":81,"is_accepted":false,"score":75,"last_activity_date":1553409698,"creation_date":1391231408,"answer_id":21494341,"question_id":37335,"body_markdown":"Increasing the heap size is not a &quot;fix&quot; it is a &quot;plaster&quot;, 100% temporary. It will crash again in somewhere else. To avoid these issues, write high performance code.\r\n\r\n1. Use local variables wherever possible.\r\n2. Make sure you select the correct object (EX: Selection between String, StringBuffer and StringBuilder)\r\n3. Use a good code system for your program(EX: Using static variables VS non static variables)\r\n3. Other stuff which could work on your code.\r\n4. Try to move with multy THREADING\r\n\r\n","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>Increasing the heap size is not a \"fix\" it is a \"plaster\", 100% temporary. It will crash again in somewhere else. To avoid these issues, write high performance code.</p>\n\n<ol>\n<li>Use local variables wherever possible.</li>\n<li>Make sure you select the correct object (EX: Selection between String, StringBuffer and StringBuilder)</li>\n<li>Use a good code system for your program(EX: Using static variables VS non static variables)</li>\n<li>Other stuff which could work on your code.</li>\n<li>Try to move with multy THREADING</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1553330829,"creation_date":1458671719,"answer_id":36162516,"question_id":37335,"body_markdown":"I would like to add recommendations from oracle [trouble shooting][1] article.\r\n\r\nException in thread thread_name: **java.lang.OutOfMemoryError: Java heap space**\r\n\r\n&gt;The detail message Java heap space indicates object could not be allocated in the Java heap. This error does not necessarily imply a memory leak\r\n\r\n*Possible causes:*\r\n\r\n1. *Simple configuration issue*, where the specified heap size is insufficient for the application.\r\n\r\n2. *Application is unintentionally holding references to objects*, and this prevents the objects from being garbage collected.\r\n\r\n3. *Excessive use of finalizers*. \r\n\r\n&gt; One other potential source of this error arises with applications that make excessive use of finalizers. If a class has a finalize method, then objects of that type do not have their space reclaimed at garbage collection time\r\n\r\nAfter *garbage collection*, the objects are queued for *finalization*, which occurs at a later time.  *finalizers* are executed by a daemon thread that services the finalization queue. If the *finalizer* thread cannot keep up with the finalization queue, then the Java heap could fill up and this type of **OutOfMemoryError** exception would be thrown. \r\n\r\nOne scenario that can cause this situation is when an application creates *high-priority threads* that cause the *finalization* queue to increase at a rate that is faster than the rate at which the finalizer thread is servicing that queue.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>I would like to add recommendations from oracle <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html\" rel=\"noreferrer\">trouble shooting</a> article.</p>\n\n<p>Exception in thread thread_name: <strong>java.lang.OutOfMemoryError: Java heap space</strong></p>\n\n<blockquote>\n  <p>The detail message Java heap space indicates object could not be allocated in the Java heap. This error does not necessarily imply a memory leak</p>\n</blockquote>\n\n<p><em>Possible causes:</em></p>\n\n<ol>\n<li><p><em>Simple configuration issue</em>, where the specified heap size is insufficient for the application.</p></li>\n<li><p><em>Application is unintentionally holding references to objects</em>, and this prevents the objects from being garbage collected.</p></li>\n<li><p><em>Excessive use of finalizers</em>. </p></li>\n</ol>\n\n<blockquote>\n  <p>One other potential source of this error arises with applications that make excessive use of finalizers. If a class has a finalize method, then objects of that type do not have their space reclaimed at garbage collection time</p>\n</blockquote>\n\n<p>After <em>garbage collection</em>, the objects are queued for <em>finalization</em>, which occurs at a later time.  <em>finalizers</em> are executed by a daemon thread that services the finalization queue. If the <em>finalizer</em> thread cannot keep up with the finalization queue, then the Java heap could fill up and this type of <strong>OutOfMemoryError</strong> exception would be thrown. </p>\n\n<p>One scenario that can cause this situation is when an application creates <em>high-priority threads</em> that cause the <em>finalization</em> queue to increase at a rate that is faster than the rate at which the finalizer thread is servicing that queue.</p>\n"},{"tags":[],"owner":{"account_id":6010232,"reputation":2616,"user_id":4720910,"display_name":"Musa"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1553330730,"creation_date":1464264049,"answer_id":37460287,"question_id":37335,"body_markdown":"By default for development JVM uses small size and small config for other performance related features. But for production you can tune e.g. (In addition it Application Server specific config can exist) -&gt; (If there still isn&#39;t enough memory to satisfy the request and the heap has already reached the maximum size, an OutOfMemoryError will occur)\r\n\r\n    -Xms&lt;size&gt;        set initial Java heap size\r\n    -Xmx&lt;size&gt;        set maximum Java heap size\r\n    -Xss&lt;size&gt;        set java thread stack size\r\n\r\n    -XX:ParallelGCThreads=8\r\n    -XX:+CMSClassUnloadingEnabled\r\n    -XX:InitiatingHeapOccupancyPercent=70\r\n    -XX:+UnlockDiagnosticVMOptions\r\n    -XX:+UseConcMarkSweepGC\r\n    -Xms512m\r\n    -Xmx8192m\r\n    -XX:MaxPermSize=256m (in java 8 optional)\r\n\r\n \r\n\r\nFor example: On linux Platform for production mode preferable settings. \r\n\r\nAfter downloading and configuring server with this way http://www.ehowstuff.com/how-to-install-and-setup-apache-tomcat-8-on-centos-7-1-rhel-7/  \r\n\r\n1.create setenv.sh file on folder /opt/tomcat/bin/\r\n\r\n       touch /opt/tomcat/bin/setenv.sh\r\n\r\n2.Open and write this params for setting preferable mode.\r\n\r\n  \r\n\r\n    nano  /opt/tomcat/bin/setenv.sh \r\n    \r\n    export CATALINA_OPTS=&quot;$CATALINA_OPTS -XX:ParallelGCThreads=8&quot;\r\n    export CATALINA_OPTS=&quot;$CATALINA_OPTS -XX:+CMSClassUnloadingEnabled&quot;\r\n    export CATALINA_OPTS=&quot;$CATALINA_OPTS -XX:InitiatingHeapOccupancyPercent=70&quot;\r\n    export CATALINA_OPTS=&quot;$CATALINA_OPTS -XX:+UnlockDiagnosticVMOptions&quot;\r\n    export CATALINA_OPTS=&quot;$CATALINA_OPTS -XX:+UseConcMarkSweepGC&quot;\r\n    export CATALINA_OPTS=&quot;$CATALINA_OPTS -Xms512m&quot;\r\n    export CATALINA_OPTS=&quot;$CATALINA_OPTS -Xmx8192m&quot;\r\n    export CATALINA_OPTS=&quot;$CATALINA_OPTS -XX:MaxMetaspaceSize=256M&quot;\r\n3.`service tomcat restart`\r\n\r\n\r\n&gt; Note that the JVM uses more memory than just the heap. For example\r\n&gt; Java methods, thread stacks and native handles are allocated in memory\r\n&gt; separate from the heap, as well as JVM internal data structures.","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>By default for development JVM uses small size and small config for other performance related features. But for production you can tune e.g. (In addition it Application Server specific config can exist) -> (If there still isn't enough memory to satisfy the request and the heap has already reached the maximum size, an OutOfMemoryError will occur)</p>\n\n<pre><code>-Xms&lt;size&gt;        set initial Java heap size\n-Xmx&lt;size&gt;        set maximum Java heap size\n-Xss&lt;size&gt;        set java thread stack size\n\n-XX:ParallelGCThreads=8\n-XX:+CMSClassUnloadingEnabled\n-XX:InitiatingHeapOccupancyPercent=70\n-XX:+UnlockDiagnosticVMOptions\n-XX:+UseConcMarkSweepGC\n-Xms512m\n-Xmx8192m\n-XX:MaxPermSize=256m (in java 8 optional)\n</code></pre>\n\n<p>For example: On linux Platform for production mode preferable settings. </p>\n\n<p>After downloading and configuring server with this way <a href=\"http://www.ehowstuff.com/how-to-install-and-setup-apache-tomcat-8-on-centos-7-1-rhel-7/\" rel=\"nofollow noreferrer\">http://www.ehowstuff.com/how-to-install-and-setup-apache-tomcat-8-on-centos-7-1-rhel-7/</a>  </p>\n\n<p>1.create setenv.sh file on folder /opt/tomcat/bin/</p>\n\n<pre><code>   touch /opt/tomcat/bin/setenv.sh\n</code></pre>\n\n<p>2.Open and write this params for setting preferable mode.</p>\n\n<pre><code>nano  /opt/tomcat/bin/setenv.sh \n\nexport CATALINA_OPTS=\"$CATALINA_OPTS -XX:ParallelGCThreads=8\"\nexport CATALINA_OPTS=\"$CATALINA_OPTS -XX:+CMSClassUnloadingEnabled\"\nexport CATALINA_OPTS=\"$CATALINA_OPTS -XX:InitiatingHeapOccupancyPercent=70\"\nexport CATALINA_OPTS=\"$CATALINA_OPTS -XX:+UnlockDiagnosticVMOptions\"\nexport CATALINA_OPTS=\"$CATALINA_OPTS -XX:+UseConcMarkSweepGC\"\nexport CATALINA_OPTS=\"$CATALINA_OPTS -Xms512m\"\nexport CATALINA_OPTS=\"$CATALINA_OPTS -Xmx8192m\"\nexport CATALINA_OPTS=\"$CATALINA_OPTS -XX:MaxMetaspaceSize=256M\"\n</code></pre>\n\n<p>3.<code>service tomcat restart</code></p>\n\n<blockquote>\n  <p>Note that the JVM uses more memory than just the heap. For example\n  Java methods, thread stacks and native handles are allocated in memory\n  separate from the heap, as well as JVM internal data structures.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6871153,"reputation":1591,"user_id":5281441,"display_name":"satish"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503897030,"creation_date":1491321174,"answer_id":43212058,"question_id":37335,"body_markdown":"If this issue is happening in Wildfly 8 and JDK1.8,then we need to specify MaxMetaSpace settings instead of PermGen settings.\r\n\r\nFor example we need to add below configuration in setenv.sh file of wildfly.\r\n`JAVA_OPTS=&quot;$JAVA_OPTS -XX:MaxMetaspaceSize=256M&quot;`\r\n\r\nFor more information, please check [Wildfly Heap Issue][1]\r\n\r\n\r\n  [1]: http://techno-terminal.blogspot.in/2017/03/wildfly-82-heap-issue.html","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>If this issue is happening in Wildfly 8 and JDK1.8,then we need to specify MaxMetaSpace settings instead of PermGen settings.</p>\n\n<p>For example we need to add below configuration in setenv.sh file of wildfly.\n<code>JAVA_OPTS=\"$JAVA_OPTS -XX:MaxMetaspaceSize=256M\"</code></p>\n\n<p>For more information, please check <a href=\"http://techno-terminal.blogspot.in/2017/03/wildfly-82-heap-issue.html\" rel=\"nofollow noreferrer\">Wildfly Heap Issue</a></p>\n"},{"tags":[],"owner":{"account_id":6468900,"reputation":350,"user_id":7533664,"display_name":"htlbydgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553330890,"creation_date":1497308166,"answer_id":44509883,"question_id":37335,"body_markdown":"Regarding to netbeans, you could set max heap size to solve the problem. \r\n\r\nGo to &#39;Run&#39;, then --&gt; &#39;Set Project Configuration&#39; --&gt; &#39;Customise&#39; --&gt; &#39;run&#39; of its popped up window --&gt; &#39;VM Option&#39; --&gt; fill in &#39;-Xms2048m -Xmx2048m&#39;.","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>Regarding to netbeans, you could set max heap size to solve the problem. </p>\n\n<p>Go to 'Run', then --> 'Set Project Configuration' --> 'Customise' --> 'run' of its popped up window --> 'VM Option' --> fill in '-Xms2048m -Xmx2048m'.</p>\n"},{"tags":[],"owner":{"account_id":230936,"reputation":1105,"user_id":1114052,"accept_rate":67,"display_name":"nccc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573511950,"creation_date":1573511950,"answer_id":58809609,"question_id":37335,"body_markdown":"If everything else fails, in addition to increasing the max heap size try also increasing the swap size. For Linux, as of now, relevant instructions can be found in https://linuxize.com/post/create-a-linux-swap-file/.\r\n\r\nThis can help if you&#39;re e.g. compiling something big in an embedded platform.","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>If everything else fails, in addition to increasing the max heap size try also increasing the swap size. For Linux, as of now, relevant instructions can be found in <a href=\"https://linuxize.com/post/create-a-linux-swap-file/\" rel=\"nofollow noreferrer\">https://linuxize.com/post/create-a-linux-swap-file/</a>.</p>\n\n<p>This can help if you're e.g. compiling something big in an embedded platform.</p>\n"},{"tags":[],"owner":{"account_id":6452151,"reputation":11,"user_id":4998760,"display_name":"Antonin Dioulo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600273148,"creation_date":1600273148,"answer_id":63924199,"question_id":37335,"body_markdown":"if you got this error when you launch eclipse birt\r\n1- you will go in the file of the eclipse configuration \r\n2- you must open eclipse.init\r\n3- modified the RAM memory, you can increase this, i give an example.\r\n\r\nmy old information was :\r\n-Xmx128m\r\n-XX:MaxPermSize=128m\r\n\r\nthe new modification that i opered :\r\n\r\n-Xmx512m\r\n-XX:MaxPermSize=512m\r\n\r\nthis modification will permit me to resolve java heap space when i launch my report in my browser.\r\n\r\nThanks","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>if you got this error when you launch eclipse birt\n1- you will go in the file of the eclipse configuration\n2- you must open eclipse.init\n3- modified the RAM memory, you can increase this, i give an example.</p>\n<p>my old information was :\n-Xmx128m\n-XX:MaxPermSize=128m</p>\n<p>the new modification that i opered :</p>\n<p>-Xmx512m\n-XX:MaxPermSize=512m</p>\n<p>this modification will permit me to resolve java heap space when i launch my report in my browser.</p>\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":14663326,"reputation":581,"user_id":10589851,"display_name":"Nima Ganji"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1603550146,"creation_date":1603550146,"answer_id":64514498,"question_id":37335,"body_markdown":"In android studio add/change this line at the end of `gradle.properties (Global Properties)`:\r\n\r\n    ...\r\n    org.gradle.jvmargs=-XX\\:MaxHeapSize\\=1024m -Xmx1024m \r\n\r\nif it doesn&#39;t work you can retry with bigger than 1024 heap size.","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>In android studio add/change this line at the end of <code>gradle.properties (Global Properties)</code>:</p>\n<pre><code>...\norg.gradle.jvmargs=-XX\\:MaxHeapSize\\=1024m -Xmx1024m \n</code></pre>\n<p>if it doesn't work you can retry with bigger than 1024 heap size.</p>\n"},{"tags":[],"owner":{"account_id":6190369,"reputation":1220,"user_id":4823237,"accept_rate":14,"display_name":"itzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1615728953,"creation_date":1615728953,"answer_id":66625139,"question_id":37335,"body_markdown":"Android Studio \r\n\r\nFile -&gt; Invalidate Caches and Restart solved it for me :)","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>Android Studio</p>\n<p>File -&gt; Invalidate Caches and Restart solved it for me :)</p>\n"},{"tags":[],"owner":{"account_id":16311070,"reputation":144,"user_id":11779689,"display_name":"Haranath Boggarapu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620852273,"creation_date":1619135194,"answer_id":67222160,"question_id":37335,"body_markdown":"Java OOM Heap space issue can also arise when your DB connection pool got full.\r\n\r\nI faced this issue because of my Hikari Connection pool (when upgraded to Spring boot 2.4.*) was full and not able to provide connections anymore (all active connections are still pending to fetch results from database). \r\n\r\n\r\nIssue is some of our native queries in JPA Repositories contain **ORDER BY ?#{#pageable}** which takes a very long time to get results when upgraded.\r\n\r\nRemoved **ORDER BY ?#{#pageable}** from all the native queries in JPA repositories and OOM heap space issue along with connection pool issue got resolved.","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>Java OOM Heap space issue can also arise when your DB connection pool got full.</p>\n<p>I faced this issue because of my Hikari Connection pool (when upgraded to Spring boot 2.4.*) was full and not able to provide connections anymore (all active connections are still pending to fetch results from database).</p>\n<p>Issue is some of our native queries in JPA Repositories contain <strong>ORDER BY ?#{#pageable}</strong> which takes a very long time to get results when upgraded.</p>\n<p>Removed <strong>ORDER BY ?#{#pageable}</strong> from all the native queries in JPA repositories and OOM heap space issue along with connection pool issue got resolved.</p>\n"},{"tags":[],"owner":{"account_id":10632236,"reputation":119,"user_id":7829977,"display_name":"samuelru"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622187316,"creation_date":1622186911,"answer_id":67734602,"question_id":37335,"body_markdown":"If this error occurs right after execution of your junit tests, then you should execute **Build** -&gt; **Rebuild Project**.","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>If this error occurs right after execution of your junit tests, then you should execute <strong>Build</strong> -&gt; <strong>Rebuild Project</strong>.</p>\n"},{"tags":[],"owner":{"account_id":13746824,"reputation":1533,"user_id":9920209,"display_name":"CodingEra"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1629965869,"creation_date":1629965869,"answer_id":68934961,"question_id":37335,"body_markdown":"add the below code inside **android/gradle.properties**:\r\n\r\n    org.gradle.jvmargs=-Xmx4096m -XX:MaxPermSize=4096m -XX:+HeapDumpOnOutOfMemoryError\r\n    org.gradle.daemon=true\r\n    org.gradle.parallel=true\r\n    org.gradle.configureondemand=true","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>add the below code inside <strong>android/gradle.properties</strong>:</p>\n<pre><code>org.gradle.jvmargs=-Xmx4096m -XX:MaxPermSize=4096m -XX:+HeapDumpOnOutOfMemoryError\norg.gradle.daemon=true\norg.gradle.parallel=true\norg.gradle.configureondemand=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17376347,"reputation":944,"user_id":12589424,"display_name":"Chukwunazaekpere"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1631232749,"creation_date":1630244225,"answer_id":68973465,"question_id":37335,"body_markdown":"If this error comes up during APK generation in react-native, cd into the android folder in your project and do:\r\n```\r\n./gradlew clean\r\n```\r\nthen \r\n```\r\n./gradlew assembleRelease\r\n```\r\nIf error persists, then, restart your machine.","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>If this error comes up during APK generation in react-native, cd into the android folder in your project and do:</p>\n<pre><code>./gradlew clean\n</code></pre>\n<p>then</p>\n<pre><code>./gradlew assembleRelease\n</code></pre>\n<p>If error persists, then, restart your machine.</p>\n"},{"tags":[],"owner":{"account_id":5680393,"reputation":314,"user_id":4491818,"display_name":"Muhammad Raqib"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1631083481,"creation_date":1631083481,"answer_id":69098151,"question_id":37335,"body_markdown":"If you came here to search this issue from REACT NATIVE.\r\n\r\nThen i guess you should do this \r\n\r\n    cd android/ &amp;&amp; ./gradlew clean &amp;&amp; cd ..","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>If you came here to search this issue from REACT NATIVE.</p>\n<p>Then i guess you should do this</p>\n<pre><code>cd android/ &amp;&amp; ./gradlew clean &amp;&amp; cd ..\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10585637,"reputation":641,"user_id":7798091,"display_name":"Talha Akbar"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1637759347,"creation_date":1637759347,"answer_id":70096676,"question_id":37335,"body_markdown":"Add this line to your gradle.properties file\r\n\r\n    org.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\r\n\r\nIt should work. You can change MaxPermSize accordingly to fix your heap problem","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>Add this line to your gradle.properties file</p>\n<pre><code>org.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8\n</code></pre>\n<p>It should work. You can change MaxPermSize accordingly to fix your heap problem</p>\n"},{"tags":[],"owner":{"account_id":1922702,"reputation":620,"user_id":1733810,"display_name":"Neeraj Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641750049,"creation_date":1641750049,"answer_id":70643906,"question_id":37335,"body_markdown":"If you are using Android Studio just add these lines with **gradle.properties** file\r\n\r\norg.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>If you are using Android Studio just add these lines with <strong>gradle.properties</strong> file</p>\n<p>org.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8</p>\n"},{"tags":[],"owner":{"account_id":14901094,"reputation":642,"user_id":13989422,"display_name":"Morteza"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1644401996,"creation_date":1644401996,"answer_id":71047778,"question_id":37335,"body_markdown":"In my case it solved by assigning more memory to `Shared build process heap size` in intellij settings.\r\n\r\nGo to intellij settings &gt; Compiler &gt; Shared build process heap size\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UV6Ii.png","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>In my case it solved by assigning more memory to <code>Shared build process heap size</code> in intellij settings.</p>\n<p>Go to intellij settings &gt; Compiler &gt; Shared build process heap size</p>\n<p><a href=\"https://i.stack.imgur.com/UV6Ii.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UV6Ii.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15164035,"reputation":619,"user_id":10942128,"display_name":"edalvb"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665069994,"creation_date":1665069994,"answer_id":73976373,"question_id":37335,"body_markdown":"In Intellij, it worked for me just by giving the &quot;Build Project&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/runsu.png","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>In Intellij, it worked for me just by giving the &quot;Build Project&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/runsu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/runsu.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2722,"reputation":94810,"user_id":3827,"accept_rate":94,"display_name":"Eugene Yokota"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2171934,"favorite_count":0,"down_vote_count":2,"up_vote_count":567,"accepted_answer_id":37349,"answer_count":31,"score":565,"last_activity_date":1665069994,"creation_date":1220231403,"question_id":37335,"body_markdown":"I am writing a client-side **Swing** application (graphical font designer) on **Java 5**. Recently, I am running into `java.lang.OutOfMemoryError: Java heap space` error because I am not being conservative on memory usage. The user can open unlimited number of files, and the program keeps the opened objects in the memory. After a quick research I found [Ergonomics in the 5.0 Java Virtual Machine][1] and others saying on Windows machine the JVM defaults max heap size as `64MB`.\r\n\r\nGiven this situation, how should I deal with this constraint?\r\n\r\nI could increase the **max heap size** using **command line** option to java, but that would require figuring out available RAM and writing some launching program or script. Besides, increasing to some **finite** max does not **ultimately** get rid of the issue.\r\n\r\nI could rewrite some of my code to persist objects to file system frequently (using database is the same thing) to free up the memory. It could work, but it&#39;s probably a lot work too.\r\n\r\nIf you could point me to details of above ideas or some alternatives like **automatic virtual memory, extending heap size dynamically**, that will be great.\r\n\r\n  [1]: http://java.sun.com/docs/hotspot/gc5.0/ergo5.html","title":"How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?","body":"<p>I am writing a client-side <strong>Swing</strong> application (graphical font designer) on <strong>Java 5</strong>. Recently, I am running into <code>java.lang.OutOfMemoryError: Java heap space</code> error because I am not being conservative on memory usage. The user can open unlimited number of files, and the program keeps the opened objects in the memory. After a quick research I found <a href=\"http://java.sun.com/docs/hotspot/gc5.0/ergo5.html\" rel=\"noreferrer\">Ergonomics in the 5.0 Java Virtual Machine</a> and others saying on Windows machine the JVM defaults max heap size as <code>64MB</code>.</p>\n\n<p>Given this situation, how should I deal with this constraint?</p>\n\n<p>I could increase the <strong>max heap size</strong> using <strong>command line</strong> option to java, but that would require figuring out available RAM and writing some launching program or script. Besides, increasing to some <strong>finite</strong> max does not <strong>ultimately</strong> get rid of the issue.</p>\n\n<p>I could rewrite some of my code to persist objects to file system frequently (using database is the same thing) to free up the memory. It could work, but it's probably a lot work too.</p>\n\n<p>If you could point me to details of above ideas or some alternatives like <strong>automatic virtual memory, extending heap size dynamically</strong>, that will be great.</p>\n"},{"tags":["java","maven","mobile","appium"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1665037881,"post_id":73969077,"comment_id":130606160,"body_markdown":"Something was compiled against a version of a library with that method in it, but the environment you provide doesnt have it.  Either you need another library or you have an incorrect version of what you have now.","body":"Something was compiled against a version of a library with that method in it, but the environment you provide doesnt have it.  Either you need another library or you have an incorrect version of what you have now."},{"owner":{"account_id":26541469,"reputation":1,"user_id":20172145,"display_name":"Jas"},"score":0,"creation_date":1665041482,"post_id":73969077,"comment_id":130607224,"body_markdown":"Yes, its just that I&#39;m not sure where to look or which library is out of date/incompatible? The error log just say that NoSuchMethod and the weird part is it is failing in this part \n\nURL url = new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;); \ndriver = new AndroidDriver(url, caps);\n\nIt is part of my setup method.","body":"Yes, its just that I&#39;m not sure where to look or which library is out of date/incompatible? The error log just say that NoSuchMethod and the weird part is it is failing in this part   URL url = new URL(&quot;<a href=\"http://127.0.0.1:4723/wd/hub&quot;\" rel=\"nofollow noreferrer\">127.0.0.1:4723/wd/hub&quot;</a>);  driver = new AndroidDriver(url, caps);  It is part of my setup method."}],"owner":{"account_id":26541469,"reputation":1,"user_id":20172145,"display_name":"Jas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665069702,"creation_date":1665034780,"question_id":73969077,"body_markdown":"I&#39;m new to Appium with Java automation and my tests seem to have started failing after adding the maven dependencies org.openqa.selenium.interactions.internal and org.openqa.selenium.interactions.touch. Here is a part of the code https://imgur.com/Juy8e\r\n\r\nI&#39;m using Selenium 4.1.3\r\n\r\n       &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n          &lt;version&gt;4.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\nHere is the stacktrace:\r\n\r\n    java.lang.NoSuchMethodError: &#39;java.util.stream.Collector com.google.common.collect.ImmutableMap.toImmutableMap(java.util.function.Function, java.util.function.Function)&#39;\r\n    \r\n    \tat io.appium.java_client.remote.AppiumNewSessionCommandPayload.makeW3CSafe(AppiumNewSessionCommandPayload.java:40)\r\n    \tat io.appium.java_client.remote.AppiumNewSessionCommandPayload.&lt;init&gt;(AppiumNewSessionCommandPayload.java:54)\r\n    \tat io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:224)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n    \tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:79)\r\n    \tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:87)\r\n    \tat io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:116)\r\n    \tat com.example.Tests.BaseClass.setup(BaseClass.java:48)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:135)\r\n    \tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:65)\r\n    \tat org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:381)\r\n    \tat org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:319)\r\n    \tat org.testng.TestRunner.invokeTestConfigurations(TestRunner.java:645)\r\n    \tat org.testng.TestRunner.beforeRun(TestRunner.java:634)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:596)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:429)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:423)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:383)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:326)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1249)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1092)\r\n    \tat org.testng.TestNG.run(TestNG.java:1060)\r\n    \tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n    \tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\n    \r\n    Test ignored.\r\n\r\n\r\nI traced the error to AppiunNewSessionCommandPayload. Here is the code snippet Rahttps://imgur.com/a/2QWgMRC","title":"java.lang.NoSuchMethodError: &#39;java.util.stream.Collector com.google.common.collect.ImmutableMap.toImmutableMap(java.util.function.Function","body":"<p>I'm new to Appium with Java automation and my tests seem to have started failing after adding the maven dependencies org.openqa.selenium.interactions.internal and org.openqa.selenium.interactions.touch. Here is a part of the code <a href=\"https://imgur.com/Juy8e\" rel=\"nofollow noreferrer\">https://imgur.com/Juy8e</a></p>\n<p>I'm using Selenium 4.1.3</p>\n<pre><code>   &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n      &lt;version&gt;4.1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Here is the stacktrace:</p>\n<pre><code>java.lang.NoSuchMethodError: 'java.util.stream.Collector com.google.common.collect.ImmutableMap.toImmutableMap(java.util.function.Function, java.util.function.Function)'\n\n    at io.appium.java_client.remote.AppiumNewSessionCommandPayload.makeW3CSafe(AppiumNewSessionCommandPayload.java:40)\n    at io.appium.java_client.remote.AppiumNewSessionCommandPayload.&lt;init&gt;(AppiumNewSessionCommandPayload.java:54)\n    at io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:224)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:79)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:87)\n    at io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:116)\n    at com.example.Tests.BaseClass.setup(BaseClass.java:48)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:135)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:65)\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:381)\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:319)\n    at org.testng.TestRunner.invokeTestConfigurations(TestRunner.java:645)\n    at org.testng.TestRunner.beforeRun(TestRunner.java:634)\n    at org.testng.TestRunner.run(TestRunner.java:596)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:429)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:423)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:383)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:326)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1249)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\n    at org.testng.TestNG.runSuites(TestNG.java:1092)\n    at org.testng.TestNG.run(TestNG.java:1060)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\n\nTest ignored.\n</code></pre>\n<p>I traced the error to AppiunNewSessionCommandPayload. Here is the code snippet Rahttps://imgur.com/a/2QWgMRC</p>\n"},{"tags":["java","android","android-studio","android-fragments"],"comments":[{"owner":{"account_id":11395699,"reputation":535,"user_id":8354184,"display_name":"Onur D."},"score":2,"creation_date":1664969434,"post_id":73959359,"comment_id":130588745,"body_markdown":"Can you provide your `Fragment` code? Specifically where you create and hold on to the `BottomNavigationView` instance and where you initiate the fragment transaction.","body":"Can you provide your <code>Fragment</code> code? Specifically where you create and hold on to the <code>BottomNavigationView</code> instance and where you initiate the fragment transaction."},{"owner":{"account_id":11395699,"reputation":535,"user_id":8354184,"display_name":"Onur D."},"score":0,"creation_date":1664970559,"post_id":73959359,"comment_id":130589139,"body_markdown":"Okay I think one of the issues is that you&#39;re using `getChildFragmentManager()` instead of `getFragmentManager()`. To interact with the fragment container of `HomeFragment`&#39;s `Activity` you need to use the latter, and pass in the container id as such `.replace(R.id.nav_host_fragment_activity_main, fragment)`","body":"Okay I think one of the issues is that you&#39;re using <code>getChildFragmentManager()</code> instead of <code>getFragmentManager()</code>. To interact with the fragment container of <code>HomeFragment</code>&#39;s <code>Activity</code> you need to use the latter, and pass in the container id as such <code>.replace(R.id.nav_host_fragment_activity_main, fragment)</code>"},{"owner":{"account_id":11395699,"reputation":535,"user_id":8354184,"display_name":"Onur D."},"score":0,"creation_date":1664970754,"post_id":73959359,"comment_id":130589199,"body_markdown":"Another issue I see is that you&#39;re using Navigation Component (i.e. `app:navGraph=&quot;@navigation/mobile_navigation&quot;`) but still trying to manage fragment transactions yourself. May I ask what&#39;s the reason not to put everything in the nav graph and just call `findNavController().navigate(R.id.action_home_to_notifications)`","body":"Another issue I see is that you&#39;re using Navigation Component (i.e. <code>app:navGraph=&quot;@navigation&#47;mobile_navigation&quot;</code>) but still trying to manage fragment transactions yourself. May I ask what&#39;s the reason not to put everything in the nav graph and just call <code>findNavController().navigate(R.id.action_home_to_notificatio&zwnj;&#8203;ns)</code>"},{"owner":{"account_id":11395699,"reputation":535,"user_id":8354184,"display_name":"Onur D."},"score":0,"creation_date":1664970825,"post_id":73959359,"comment_id":130589225,"body_markdown":"I suggest reading through this if you haven&#39;t already: https://developer.android.com/guide/navigation/navigation-getting-started","body":"I suggest reading through this if you haven&#39;t already: <a href=\"https://developer.android.com/guide/navigation/navigation-getting-started\" rel=\"nofollow noreferrer\">developer.android.com/guide/navigation/&hellip;</a>"},{"owner":{"account_id":11395699,"reputation":535,"user_id":8354184,"display_name":"Onur D."},"score":1,"creation_date":1664970938,"post_id":73959359,"comment_id":130589267,"body_markdown":"Can&#39;t say anything about the crash because you haven&#39;t provided some code to show where do you create &amp; keep the instance and where do you call `getMenu` on it","body":"Can&#39;t say anything about the crash because you haven&#39;t provided some code to show where do you create &amp; keep the instance and where do you call <code>getMenu</code> on it"},{"owner":{"account_id":26521942,"reputation":54,"user_id":20155481,"display_name":"James Gyps"},"score":0,"creation_date":1664974641,"post_id":73959359,"comment_id":130590541,"body_markdown":"Fixed the issue using parts of your answers, i&#39;ll edit that and suggest you to post a question for upvote","body":"Fixed the issue using parts of your answers, i&#39;ll edit that and suggest you to post a question for upvote"},{"owner":{"account_id":11395699,"reputation":535,"user_id":8354184,"display_name":"Onur D."},"score":0,"creation_date":1665069583,"post_id":73959359,"comment_id":130617882,"body_markdown":"Glad it helped. I summed it all up in an answer. Thanks!","body":"Glad it helped. I summed it all up in an answer. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":11395699,"reputation":535,"user_id":8354184,"display_name":"Onur D."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665069495,"creation_date":1665069495,"answer_id":73976251,"question_id":73959359,"body_markdown":"The first problem is that you used `getChildFragmentManager()` instead of `getFragmentManager()`. To interact with the fragment container of your `HomeFragment`&#39;s parent `Activity` you need to use the latter, and pass in the container id as such `.replace(R.id.nav_host_fragment_activity_main, fragment)`\r\n\r\nThe second problem is that you are trying to manually manage your `Fragment` transactions while at the same time you are using Navigation Component on your `&lt;fragment&gt;` tag as such: `app:navGraph=&quot;@navigation/mobile_navigation&quot;`\r\n\r\nI suggest using only one of the two, in this case the [Navigation Component][1]. You can change between fragments by simply doing:\r\n\r\n    card.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Log.e(TAG, &quot;Starting Login Activity&quot;);\r\n                findNavController().navigate(R.id.action_home_to_notifications)\r\n            }\r\n        });\r\n\r\nwhere in your `mobile_navigation.xml` you&#39;d have:\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/destination_home&quot;\r\n        android:name=&quot;...HomeFragment&quot;\r\n        ...&gt;\r\n\r\n        &lt;action\r\n            android:id=&quot;@+id/action_home_to_notifications&quot;\r\n            app:destination=&quot;@id/destination_notifications&quot;\r\n            app:enterAnim=&quot;@anim/fade_in&quot;\r\n            app:exitAnim=&quot;@anim/fade_out&quot;\r\n            app:popEnterAnim=&quot;@anim/fade_in&quot;\r\n            app:popExitAnim=&quot;@anim/fade_out&quot; /&gt;\r\n\r\n    &lt;/fragment&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/destination_notifications&quot;\r\n        android:name=&quot;...NotificationFragment&quot;\r\n        .../&gt;\r\n\r\n\r\n  [1]: https://developer.android.com/guide/navigation/navigation-getting-started","title":"BottomNavigationView disappears after Fragment Transaction","body":"<p>The first problem is that you used <code>getChildFragmentManager()</code> instead of <code>getFragmentManager()</code>. To interact with the fragment container of your <code>HomeFragment</code>'s parent <code>Activity</code> you need to use the latter, and pass in the container id as such <code>.replace(R.id.nav_host_fragment_activity_main, fragment)</code></p>\n<p>The second problem is that you are trying to manually manage your <code>Fragment</code> transactions while at the same time you are using Navigation Component on your <code>&lt;fragment&gt;</code> tag as such: <code>app:navGraph=&quot;@navigation/mobile_navigation&quot;</code></p>\n<p>I suggest using only one of the two, in this case the <a href=\"https://developer.android.com/guide/navigation/navigation-getting-started\" rel=\"nofollow noreferrer\">Navigation Component</a>. You can change between fragments by simply doing:</p>\n<pre><code>card.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Log.e(TAG, &quot;Starting Login Activity&quot;);\n            findNavController().navigate(R.id.action_home_to_notifications)\n        }\n    });\n</code></pre>\n<p>where in your <code>mobile_navigation.xml</code> you'd have:</p>\n<pre><code>&lt;fragment\n    android:id=&quot;@+id/destination_home&quot;\n    android:name=&quot;...HomeFragment&quot;\n    ...&gt;\n\n    &lt;action\n        android:id=&quot;@+id/action_home_to_notifications&quot;\n        app:destination=&quot;@id/destination_notifications&quot;\n        app:enterAnim=&quot;@anim/fade_in&quot;\n        app:exitAnim=&quot;@anim/fade_out&quot;\n        app:popEnterAnim=&quot;@anim/fade_in&quot;\n        app:popExitAnim=&quot;@anim/fade_out&quot; /&gt;\n\n&lt;/fragment&gt;\n\n&lt;fragment\n    android:id=&quot;@+id/destination_notifications&quot;\n    android:name=&quot;...NotificationFragment&quot;\n    .../&gt;\n</code></pre>\n"}],"owner":{"account_id":26521942,"reputation":54,"user_id":20155481,"display_name":"James Gyps"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73976251,"answer_count":1,"score":0,"last_activity_date":1665069495,"creation_date":1664967268,"question_id":73959359,"body_markdown":"I have a BottomNavigationView with 4 items inside. \r\nIn one of the Fragments (HomeFragment) i&#39;ve added card view with onClickListener.\r\n\r\nAfter clicking the CardView, it moves the user to a new Fragment. \r\nWhen the Fragment inflates, the BottomNavigationView disappears completely, and the app crashes when Clicking the back button (on a null reference to the BottomNavigationView).\r\n\r\n\r\nThe error:\r\n\r\n    Attempt to invoke virtual method &#39;android.view.Menu com.google.android.material.bottomnavigation.BottomNavigationView.getMenu()&#39; on a null object reference\r\n\r\nThe XML for the BottomNavigationView:\r\n\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;0dp&quot;\r\n        android:layout_marginEnd=&quot;0dp&quot;\r\n        android:background=&quot;?android:attr/windowBackground&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n\r\nThe Transaction from HomeFragment:\r\n\r\n                Fragment fragment = new NotificationsFragment();\r\n                getChildFragmentManager().beginTransaction()\r\n                        .replace(R.id.fragment_home, fragment)\r\n                        .addToBackStack(&quot;HomeFragment&quot;)\r\n                        .commit();\r\n\r\n\r\nAttached the screenshot of the HomeFragment with the BottomNavigationView appearing, and the new NotificationFragment - without the BottomNavigationView.\r\n\r\n**HomeFragment (With Bottom Navigation)**\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**NotificationFragment (Missing Bottom Navigation)**\r\n[![enter image description here][2]][2] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EQ6u8.png\r\n  [2]: https://i.stack.imgur.com/mcrjS.png\r\n\r\n\r\n**Expected result:**\r\n\r\n - BottomNavigationView should appear.\r\n\r\n\r\n**EDIT #1**\r\n\r\nmain_activity.xml - holds the fragment of BottomNavigationView\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/nav_view&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:layout_marginEnd=&quot;0dp&quot;\r\n            android:background=&quot;?android:attr/windowBackground&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n    \r\n    \r\n        &lt;fragment\r\n            android:id=&quot;@+id/nav_host_fragment_activity_main&quot;\r\n            android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n            class=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:defaultNavHost=&quot;true&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@id/nav_view&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;1.0&quot;\r\n            app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n\r\n**HomeFragment.java** - Initiate the Fragment Transaction\r\n\r\n    public class HomeFragment extends Fragment {\r\n    \r\n        private static final int AUTOCOMPLETE_REQUEST_CODE = 3;\r\n        private static final String TAG = &quot;HomeFragment&quot;;\r\n        private FragmentHomeBinding binding;\r\n    \r\n        @RequiresApi(api = Build.VERSION_CODES.N)\r\n        @Override\r\n        public void onViewCreated(View view, Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n    \r\n            CardView card = getView().findViewById(R.id.card1);\r\n            Log.e(TAG, &quot;Found Card!&quot;);\r\n    \r\n            card.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    getActivity().setContentView(R.layout.fragment_notifications);\r\n    \r\n                    Log.e(TAG, &quot;Starting Login Activity&quot;);\r\n                    Fragment fragment = new NotificationsFragment();\r\n                    getChildFragmentManager().beginTransaction()\r\n                            .setCustomAnimations(R.anim.slide_in,R.anim.slide_in)\r\n                            .replace(R.id.fragment_home, fragment)\r\n                            .addToBackStack(&quot;HomeFragment&quot;)\r\n                            .commit();\r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n\r\n\r\n\r\n**EDIT 2**\r\n\r\nSolved using the following:\r\n\r\n            NavHostFragment.findNavController(current).navigate(R.id.navigation_notifications);\r\n\r\nwhere current:\r\n\r\n        Fragment current = this;\r\n\r\nout side of the OnClickListener (current Fragment).\r\n\r\n\r\n\r\n\r\n","title":"BottomNavigationView disappears after Fragment Transaction","body":"<p>I have a BottomNavigationView with 4 items inside.\nIn one of the Fragments (HomeFragment) i've added card view with onClickListener.</p>\n<p>After clicking the CardView, it moves the user to a new Fragment.\nWhen the Fragment inflates, the BottomNavigationView disappears completely, and the app crashes when Clicking the back button (on a null reference to the BottomNavigationView).</p>\n<p>The error:</p>\n<pre><code>Attempt to invoke virtual method 'android.view.Menu com.google.android.material.bottomnavigation.BottomNavigationView.getMenu()' on a null object reference\n</code></pre>\n<p>The XML for the BottomNavigationView:</p>\n<pre><code>&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n    android:id=&quot;@+id/nav_view&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;0dp&quot;\n    android:layout_marginEnd=&quot;0dp&quot;\n    android:background=&quot;?android:attr/windowBackground&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\n</code></pre>\n<p>The Transaction from HomeFragment:</p>\n<pre><code>            Fragment fragment = new NotificationsFragment();\n            getChildFragmentManager().beginTransaction()\n                    .replace(R.id.fragment_home, fragment)\n                    .addToBackStack(&quot;HomeFragment&quot;)\n                    .commit();\n</code></pre>\n<p>Attached the screenshot of the HomeFragment with the BottomNavigationView appearing, and the new NotificationFragment - without the BottomNavigationView.</p>\n<p><strong>HomeFragment (With Bottom Navigation)</strong></p>\n<p><a href=\"https://i.stack.imgur.com/EQ6u8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EQ6u8.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>NotificationFragment (Missing Bottom Navigation)</strong>\n<a href=\"https://i.stack.imgur.com/mcrjS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mcrjS.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Expected result:</strong></p>\n<ul>\n<li>BottomNavigationView should appear.</li>\n</ul>\n<p><strong>EDIT #1</strong></p>\n<p>main_activity.xml - holds the fragment of BottomNavigationView</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;0dp&quot;\n        android:layout_marginEnd=&quot;0dp&quot;\n        android:background=&quot;?android:attr/windowBackground&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\n\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_host_fragment_activity_main&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        class=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:defaultNavHost=&quot;true&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/nav_view&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;1.0&quot;\n        app:navGraph=&quot;@navigation/mobile_navigation&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>HomeFragment.java</strong> - Initiate the Fragment Transaction</p>\n<pre><code>public class HomeFragment extends Fragment {\n\n    private static final int AUTOCOMPLETE_REQUEST_CODE = 3;\n    private static final String TAG = &quot;HomeFragment&quot;;\n    private FragmentHomeBinding binding;\n\n    @RequiresApi(api = Build.VERSION_CODES.N)\n    @Override\n    public void onViewCreated(View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n\n        CardView card = getView().findViewById(R.id.card1);\n        Log.e(TAG, &quot;Found Card!&quot;);\n\n        card.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                getActivity().setContentView(R.layout.fragment_notifications);\n\n                Log.e(TAG, &quot;Starting Login Activity&quot;);\n                Fragment fragment = new NotificationsFragment();\n                getChildFragmentManager().beginTransaction()\n                        .setCustomAnimations(R.anim.slide_in,R.anim.slide_in)\n                        .replace(R.id.fragment_home, fragment)\n                        .addToBackStack(&quot;HomeFragment&quot;)\n                        .commit();\n            }\n        });\n\n\n    }\n</code></pre>\n<p><strong>EDIT 2</strong></p>\n<p>Solved using the following:</p>\n<pre><code>        NavHostFragment.findNavController(current).navigate(R.id.navigation_notifications);\n</code></pre>\n<p>where current:</p>\n<pre><code>    Fragment current = this;\n</code></pre>\n<p>out side of the OnClickListener (current Fragment).</p>\n"},{"tags":["java","websphere"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":1,"creation_date":1565284950,"post_id":57417737,"comment_id":101315257,"body_markdown":"If it is a war  file, check the okta related jar files are there in web-inf/lib.","body":"If it is a war  file, check the okta related jar files are there in web-inf/lib."},{"owner":{"account_id":1291224,"reputation":19,"user_id":1243297,"display_name":"Xeqthr"},"score":0,"creation_date":1565285850,"post_id":57417737,"comment_id":101315656,"body_markdown":"It is not a war file, I exported the project as a .jar file and had to include the Okta .jars manually on Tririga ClassLoader.","body":"It is not a war file, I exported the project as a .jar file and had to include the Okta .jars manually on Tririga ClassLoader."},{"owner":{"account_id":9651072,"reputation":1933,"user_id":7162232,"display_name":"Jarid"},"score":0,"creation_date":1565286671,"post_id":57417737,"comment_id":101315991,"body_markdown":"If it&#39;s just a jar file, not a WAR, how is it running &quot;on&quot; WebSphere? Custom service, launchClient, etc.?","body":"If it&#39;s just a jar file, not a WAR, how is it running &quot;on&quot; WebSphere? Custom service, launchClient, etc.?"},{"owner":{"account_id":1291224,"reputation":19,"user_id":1243297,"display_name":"Xeqthr"},"score":0,"creation_date":1565287078,"post_id":57417737,"comment_id":101316153,"body_markdown":"Tririga is the .war file that is running on WebSphere, I uplodad the .jars using Tririga Web Interface.","body":"Tririga is the .war file that is running on WebSphere, I uplodad the .jars using Tririga Web Interface."}],"owner":{"account_id":1291224,"reputation":19,"user_id":1243297,"display_name":"Xeqthr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665069231,"creation_date":1565284654,"question_id":57417737,"body_markdown":"I have a Java app (with no main) that runs well on eclipse (I have imported Okta Dependencies using Maven https://github.com/okta/okta-auth-java), but when uploaded to Tririga ClassLoader, which runs over WebSphere it throws this error:\r\n\r\n \r\n\r\n    java.lang.IllegalStateException: Unable to find a &#39;com.okta.sdk.impl.http.RequestExecutorFactory&#39; implementation on the classpath.  Please ensure you have added the okta-sdk-httpclient.jar file to your runtime classpath.\r\n      at com.okta.commons.lang.Classes.lambda$loadFromService$0(Classes.java:205)\r\n      at com.okta.commons.lang.Classes$$Lambda$46.000000002B3AE740.get(Unknown Source)\r\n      at java.util.Optional.orElseThrow(Optional.java:301)\r\n      at com.okta.commons.lang.Classes.loadFromService(Classes.java:205)\r\n      at com.okta.sdk.impl.client.BaseClient.createRequestExecutor(BaseClient.java:103)\r\n      at com.okta.sdk.impl.client.BaseClient.&lt;init&gt;(BaseClient.java:72)\r\n\r\n  \r\nOf course that I included okta-sdk-httpclient.jar to the ClassPath (and other dependencies).\r\n \r\nWhen debugging the app on Eclipse, on com.okta.commons.lang.Classes, the variable &#39;return&#39; obtains the value Optional[com.okta.sdk.impl.http.httpclient.HttpClientRequestExecutorFactory@5e955596]; but when running on WebSphere, I assume it is assigned with nothing as .orElseThrow is executed:\r\n\r\n\r\n    public static &lt;T&gt; T loadFromService(Class&lt;T&gt; clazz, String errorMessage) {\r\n            try {\r\n                ServiceLoader&lt;T&gt; serviceLoader = ServiceLoader.load(clazz);\r\n                Optional&lt;T&gt; result = StreamSupport.stream(serviceLoader.spliterator(), false).findFirst();\r\n                return result.orElseThrow(() -&gt; new IllegalStateException(errorMessage));\r\n            } catch(ServiceConfigurationError e) {\r\n                throw new IllegalStateException(errorMessage, e);\r\n            }\r\n        }\r\n\r\nWebSphere 9.0.5.0 (Latest as of 08-08-2019)\r\nIBM Java JDK 8.0.5.37 (Latest as of 08-08-2019)\r\nTririga 3.6.0.4 (Latest as of 08-08-2019)\r\n\r\nNot sure where to look, please help.","title":"java.util.ServiceLoader not working on WebSphere? no issues on Eclipse","body":"<p>I have a Java app (with no main) that runs well on eclipse (I have imported Okta Dependencies using Maven <a href=\"https://github.com/okta/okta-auth-java\" rel=\"nofollow noreferrer\">https://github.com/okta/okta-auth-java</a>), but when uploaded to Tririga ClassLoader, which runs over WebSphere it throws this error:</p>\n\n<pre><code>java.lang.IllegalStateException: Unable to find a 'com.okta.sdk.impl.http.RequestExecutorFactory' implementation on the classpath.  Please ensure you have added the okta-sdk-httpclient.jar file to your runtime classpath.\n  at com.okta.commons.lang.Classes.lambda$loadFromService$0(Classes.java:205)\n  at com.okta.commons.lang.Classes$$Lambda$46.000000002B3AE740.get(Unknown Source)\n  at java.util.Optional.orElseThrow(Optional.java:301)\n  at com.okta.commons.lang.Classes.loadFromService(Classes.java:205)\n  at com.okta.sdk.impl.client.BaseClient.createRequestExecutor(BaseClient.java:103)\n  at com.okta.sdk.impl.client.BaseClient.&lt;init&gt;(BaseClient.java:72)\n</code></pre>\n\n<p>Of course that I included okta-sdk-httpclient.jar to the ClassPath (and other dependencies).</p>\n\n<p>When debugging the app on Eclipse, on com.okta.commons.lang.Classes, the variable 'return' obtains the value Optional[com.okta.sdk.impl.http.httpclient.HttpClientRequestExecutorFactory@5e955596]; but when running on WebSphere, I assume it is assigned with nothing as .orElseThrow is executed:</p>\n\n<pre><code>public static &lt;T&gt; T loadFromService(Class&lt;T&gt; clazz, String errorMessage) {\n        try {\n            ServiceLoader&lt;T&gt; serviceLoader = ServiceLoader.load(clazz);\n            Optional&lt;T&gt; result = StreamSupport.stream(serviceLoader.spliterator(), false).findFirst();\n            return result.orElseThrow(() -&gt; new IllegalStateException(errorMessage));\n        } catch(ServiceConfigurationError e) {\n            throw new IllegalStateException(errorMessage, e);\n        }\n    }\n</code></pre>\n\n<p>WebSphere 9.0.5.0 (Latest as of 08-08-2019)\nIBM Java JDK 8.0.5.37 (Latest as of 08-08-2019)\nTririga 3.6.0.4 (Latest as of 08-08-2019)</p>\n\n<p>Not sure where to look, please help.</p>\n"},{"tags":["java","scala","jenkins","report","gatling"],"answers":[{"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665068129,"creation_date":1665068129,"answer_id":73975919,"question_id":73971213,"body_markdown":"Random shots in the dark, in the absence of a [reproducer][1] from you:\r\n* you&#39;re forcing the virtual user to a failed state with something like [`Session#markAsFailed`][2] that would cause the group to fail without any failed request.\r\n* you&#39;ve configured some of your requests to be [silent][3]\r\n\r\nIf not, please provide a reproducer.\r\n\r\n  [1]: https://stackoverflow.com/help/minimal-reproducible-example\r\n  [2]: https://gatling.io/docs/gatling/reference/current/core/session/session_api/#handling-session-state\r\n  [3]: https://gatling.io/docs/gatling/reference/current/http/request/#silent","title":"Gatling scenarios show KOs but specific requests do not","body":"<p>Random shots in the dark, in the absence of a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">reproducer</a> from you:</p>\n<ul>\n<li>you're forcing the virtual user to a failed state with something like <a href=\"https://gatling.io/docs/gatling/reference/current/core/session/session_api/#handling-session-state\" rel=\"nofollow noreferrer\"><code>Session#markAsFailed</code></a> that would cause the group to fail without any failed request.</li>\n<li>you've configured some of your requests to be <a href=\"https://gatling.io/docs/gatling/reference/current/http/request/#silent\" rel=\"nofollow noreferrer\">silent</a></li>\n</ul>\n<p>If not, please provide a reproducer.</p>\n"},{"comments":[{"owner":{"account_id":21237877,"reputation":79,"user_id":15621824,"display_name":"Alexb1999"},"score":0,"creation_date":1665131790,"post_id":73976025,"comment_id":130632428,"body_markdown":"To run in debug mode do you mean to have this uncommented in the logback.xml file?\n\n     &lt;logger name=&quot;io.gatling.http&quot; level=&quot;DEBUG&quot; /&gt;","body":"To run in debug mode do you mean to have this uncommented in the logback.xml file?       &lt;logger name=&quot;io.gatling.http&quot; level=&quot;DEBUG&quot; /&gt;"}],"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665069047,"creation_date":1665068538,"answer_id":73976025,"question_id":73971213,"body_markdown":"This is indeed very strange. The best way to double check is to run the same test and enable debug mode.\r\n\r\nAlso:\r\nyou&#39;re forcing the virtual user to a failed state with something like Session#markAsFailed that would cause the group to fail without any failed request. Makes a lot of sense.","title":"Gatling scenarios show KOs but specific requests do not","body":"<p>This is indeed very strange. The best way to double check is to run the same test and enable debug mode.</p>\n<p>Also:\nyou're forcing the virtual user to a failed state with something like Session#markAsFailed that would cause the group to fail without any failed request. Makes a lot of sense.</p>\n"}],"owner":{"account_id":21237877,"reputation":79,"user_id":15621824,"display_name":"Alexb1999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665069047,"creation_date":1665047130,"question_id":73971213,"body_markdown":"After running a Gatling test via Jenkins the report shows that a certain number of requests in different scenarios are failing. However when this is expanded, none of the requests show KOs or give information about which specific requests are failing and why:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe Gatling logs show 0 sign that there are any errors as well:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nShould I assume that all requests succeeded or is this an issue that needs to be corrected?\r\n\r\n\r\nEDIT:\r\n\r\nI should also mention that I have a run which had 122k reqs and saw a similar issue, however that run also shows 6 reqs which are actually failing and output error messages:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThis leads me to believe that the first picture does not show any real errors, but I am not certain about this.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vFND1.png\r\n  [2]: https://i.stack.imgur.com/xjRz9.png\r\n  [3]: https://i.stack.imgur.com/sLVMt.png","title":"Gatling scenarios show KOs but specific requests do not","body":"<p>After running a Gatling test via Jenkins the report shows that a certain number of requests in different scenarios are failing. However when this is expanded, none of the requests show KOs or give information about which specific requests are failing and why:</p>\n<p><a href=\"https://i.stack.imgur.com/vFND1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vFND1.png\" alt=\"enter image description here\" /></a></p>\n<p>The Gatling logs show 0 sign that there are any errors as well:</p>\n<p><a href=\"https://i.stack.imgur.com/xjRz9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xjRz9.png\" alt=\"enter image description here\" /></a></p>\n<p>Should I assume that all requests succeeded or is this an issue that needs to be corrected?</p>\n<p>EDIT:</p>\n<p>I should also mention that I have a run which had 122k reqs and saw a similar issue, however that run also shows 6 reqs which are actually failing and output error messages:</p>\n<p><a href=\"https://i.stack.imgur.com/sLVMt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sLVMt.png\" alt=\"enter image description here\" /></a></p>\n<p>This leads me to believe that the first picture does not show any real errors, but I am not certain about this.</p>\n"},{"tags":["java","spring","spring-boot","testing","junit5"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665065311,"post_id":73975206,"comment_id":130616100,"body_markdown":"use `@DataJpaTest`","body":"use <code>@DataJpaTest</code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1665065635,"post_id":73975206,"comment_id":130616220,"body_markdown":"Wild guess, mixing JUnit4 and JUnit5 annotations on the same class. Also the `@Repository` is useless on a Spring Data interface.","body":"Wild guess, mixing JUnit4 and JUnit5 annotations on the same class. Also the <code>@Repository</code> is useless on a Spring Data interface."},{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1665065648,"post_id":73975206,"comment_id":130616227,"body_markdown":"@Jens This is not a repository test. Is an integration test for which I need the repository to insert data in the db prior to the test execution","body":"@Jens This is not a repository test. Is an integration test for which I need the repository to insert data in the db prior to the test execution"},{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1665065804,"post_id":73975206,"comment_id":130616304,"body_markdown":"@M.Deinum what am I mixing?","body":"@M.Deinum what am I mixing?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1665065896,"post_id":73975206,"comment_id":130616346,"body_markdown":"JUnit 5 and JUnit4 annotations. It looks like your class is for Junit5 (as it isn&#39;t public) but I guess the `@Test` you are importing is from JUnit4 `org.junit` package. Which  renders the `@SpringBootTest` annotation rather useless as it won&#39;t bootstrap nor inject anything.","body":"JUnit 5 and JUnit4 annotations. It looks like your class is for Junit5 (as it isn&#39;t public) but I guess the <code>@Test</code> you are importing is from JUnit4 <code>org.junit</code> package. Which  renders the <code>@SpringBootTest</code> annotation rather useless as it won&#39;t bootstrap nor inject anything."},{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1665065969,"post_id":73975206,"comment_id":130616375,"body_markdown":"@M.Deinum these are my imports: \n`import org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;`","body":"@M.Deinum these are my imports:  <code>import org.junit.jupiter.api.Test; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.boot.test.context.SpringBootTest;</code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1665066190,"post_id":73975206,"comment_id":130616452,"body_markdown":"Please don&#39;t add them as comments, instead edit your code and please add the full test (including hte package and imports) instead of a snippet which doesn&#39;t really expose what you are doing. Also please clarify which Spring Boot version you are using.","body":"Please don&#39;t add them as comments, instead edit your code and please add the full test (including hte package and imports) instead of a snippet which doesn&#39;t really expose what you are doing. Also please clarify which Spring Boot version you are using."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1665067738,"post_id":73975206,"comment_id":130617104,"body_markdown":"Spring Boot 1.5 doesn&#39;t add the `@ExtendWith` on `@SpringBootTest`. Either add `@ExtendWIth(SpringExtension.class)` to your test or upgrade to a newer Spring Boot version.","body":"Spring Boot 1.5 doesn&#39;t add the <code>@ExtendWith</code> on <code>@SpringBootTest</code>. Either add <code>@ExtendWIth(SpringExtension.class)</code> to your test or upgrade to a newer Spring Boot version."}],"answers":[{"tags":[],"owner":{"account_id":26546959,"reputation":1,"user_id":20176887,"display_name":"MEKAL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665069005,"creation_date":1665069005,"answer_id":73976126,"question_id":73975206,"body_markdown":"I think you are missing test properties/yaml and test DB(for testing we usually use h2 database)\r\n\r\n    @RunWith(SpringRunner.class)\r\n    \r\n    @SpringBootTest(SpringBootTest.WebEnvironment.MOCK,\r\n      classes = Application.class)\r\n    \r\n    @TestPropertySource(locations = &quot;classpath:application-integrationtest.properties&quot;)\r\n\r\nspring.datasource.url = jdbc:h2:mem:test\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.H2Dialect\r\n\r\nhttps://www.baeldung.com/spring-boot-testing","title":"Dependencies are not injected in tests","body":"<p>I think you are missing test properties/yaml and test DB(for testing we usually use h2 database)</p>\n<pre><code>@RunWith(SpringRunner.class)\n\n@SpringBootTest(SpringBootTest.WebEnvironment.MOCK,\n  classes = Application.class)\n\n@TestPropertySource(locations = &quot;classpath:application-integrationtest.properties&quot;)\n</code></pre>\n<p>spring.datasource.url = jdbc:h2:mem:test\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.H2Dialect</p>\n<p><a href=\"https://www.baeldung.com/spring-boot-testing\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-testing</a></p>\n"}],"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":566,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665069005,"creation_date":1665065084,"question_id":73975206,"body_markdown":"I have the following repository:\r\n\r\n```\r\npackage com.spring.domain.repository;\r\n\r\nimport com.spring.domain.Product;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface ProductRepository extends JpaRepository&lt;Product, String&gt; {\r\n}\r\n```\r\n\r\nAnd I&#39;m trying to create a simple integration test for my application, for which I need to inject the repository:\r\n\r\n```\r\npackage com.spring.integration;\r\n\r\nimport com.spring.domain.repository.ProductRepository;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\nclass IntegrationTest {\r\n\r\n    @Autowired\r\n    private ProductRepository productRepository;\r\n\r\n}\r\n```\r\n\r\nBut I don&#39;t know how to do it properly, since `productRepository` is always `null`.\r\n\r\nSpring Boot version is 1.5.14.RELEASE","title":"Dependencies are not injected in tests","body":"<p>I have the following repository:</p>\n<pre><code>package com.spring.domain.repository;\n\nimport com.spring.domain.Product;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ProductRepository extends JpaRepository&lt;Product, String&gt; {\n}\n</code></pre>\n<p>And I'm trying to create a simple integration test for my application, for which I need to inject the repository:</p>\n<pre><code>package com.spring.integration;\n\nimport com.spring.domain.repository.ProductRepository;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nclass IntegrationTest {\n\n    @Autowired\n    private ProductRepository productRepository;\n\n}\n</code></pre>\n<p>But I don't know how to do it properly, since <code>productRepository</code> is always <code>null</code>.</p>\n<p>Spring Boot version is 1.5.14.RELEASE</p>\n"},{"tags":["java","database","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":1295263,"reputation":799,"user_id":1534250,"accept_rate":50,"display_name":"egemen"},"score":0,"creation_date":1695416670,"post_id":73976081,"comment_id":136026684,"body_markdown":"It worked.Thank you.","body":"It worked.Thank you."}],"tags":[],"owner":{"account_id":9118538,"reputation":319,"user_id":6784846,"display_name":"Annamalai Palanikumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665068797,"creation_date":1665068797,"answer_id":73976081,"question_id":73224877,"body_markdown":"You can try `@PrimaryKeyJoinColumn` in the `ProfilePicture` entity to map your foreign key and primary key.\r\n\r\n    @Entity\r\n    public class ProfilePicture {\r\n        @Id\r\n        Long id;\r\n    \r\n        Byte[] picture;\r\n    \r\n        @OneToOne\r\n        @PrimaryKeyJoinColumn(name=&quot;id&quot;, referencedColumnName=&quot;picture_id&quot;)\r\n        Profile profile;\r\n    }\r\n\r\n\r\nReference: https://stackoverflow.com/a/27306662/6784846","title":"How to add a OneToOne relationship inside a child entity and map the Id of its parent","body":"<p>You can try <code>@PrimaryKeyJoinColumn</code> in the <code>ProfilePicture</code> entity to map your foreign key and primary key.</p>\n<pre><code>@Entity\npublic class ProfilePicture {\n    @Id\n    Long id;\n\n    Byte[] picture;\n\n    @OneToOne\n    @PrimaryKeyJoinColumn(name=&quot;id&quot;, referencedColumnName=&quot;picture_id&quot;)\n    Profile profile;\n}\n</code></pre>\n<p>Reference: <a href=\"https://stackoverflow.com/a/27306662/6784846\">https://stackoverflow.com/a/27306662/6784846</a></p>\n"}],"owner":{"account_id":9505356,"reputation":1019,"user_id":11225028,"display_name":"Luk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665068797,"creation_date":1659544863,"question_id":73224877,"body_markdown":"Consider a Java entity called `Profile`: \r\n\r\n    @Entity\r\n    public class Profile {\r\n    \r\n      @GeneratedValue\r\n      Long id;\r\n    \r\n      String firstname;\r\n    \r\n    }\r\n\r\nAnd consider another entity called `ProfilePicture`. \r\n\r\nEach `Profile` has exactly one `ProfilePicture`. The `ProfilePicture`, however, is optional. I want to establish a `@OneToOne` relationship between `Profile` and `ProfilePicture` and I wonder which of the two entities would be the owning entity, i.e. the parent. \r\n\r\nMy first thought was: Since each `Profile` has a `ProfilePicture` and not the other way round, the `Profile` owns the `ProfilePicture` and is, therefore, the parent. Therefore, I would add the following entry to `Profile`:\r\n\r\n\r\n    @Entity\r\n    public class Profile {\r\n    \r\n      @GeneratedValue\r\n      Long id;\r\n    \r\n      String firstname;\r\n\r\n      @OneToOne\r\n      @JoinColumn(name = &quot;picture_id&quot;)\r\n      ProfilePicture picture;\r\n    \r\n    }\r\n\r\nNow, I have come across the `@MapsId` annotation and I wonder, if I could instead change the `ProfilePicture`: \r\n\r\n    @Entity\r\n    public class ProfilePicture {\r\n    \r\n        @GeneratedValue\r\n        Long id;\r\n    \r\n        Byte[] picture;\r\n    \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;profile_id&quot;)\r\n        @MapsId\r\n        Profile profile;\r\n    }\r\n\r\nI would like the `ProfilePicture` to have the same id as the corresponding `Profile`. I am not sure, however, if - with the last shown option - the `Profile` still owns the `ProfilePicture`, as now the profile is declared as a variable inside the ProfilePicture entity. Can somebody help me out, please?","title":"How to add a OneToOne relationship inside a child entity and map the Id of its parent","body":"<p>Consider a Java entity called <code>Profile</code>:</p>\n<pre><code>@Entity\npublic class Profile {\n\n  @GeneratedValue\n  Long id;\n\n  String firstname;\n\n}\n</code></pre>\n<p>And consider another entity called <code>ProfilePicture</code>.</p>\n<p>Each <code>Profile</code> has exactly one <code>ProfilePicture</code>. The <code>ProfilePicture</code>, however, is optional. I want to establish a <code>@OneToOne</code> relationship between <code>Profile</code> and <code>ProfilePicture</code> and I wonder which of the two entities would be the owning entity, i.e. the parent.</p>\n<p>My first thought was: Since each <code>Profile</code> has a <code>ProfilePicture</code> and not the other way round, the <code>Profile</code> owns the <code>ProfilePicture</code> and is, therefore, the parent. Therefore, I would add the following entry to <code>Profile</code>:</p>\n<pre><code>@Entity\npublic class Profile {\n\n  @GeneratedValue\n  Long id;\n\n  String firstname;\n\n  @OneToOne\n  @JoinColumn(name = &quot;picture_id&quot;)\n  ProfilePicture picture;\n\n}\n</code></pre>\n<p>Now, I have come across the <code>@MapsId</code> annotation and I wonder, if I could instead change the <code>ProfilePicture</code>:</p>\n<pre><code>@Entity\npublic class ProfilePicture {\n\n    @GeneratedValue\n    Long id;\n\n    Byte[] picture;\n\n    @OneToOne\n    @JoinColumn(name = &quot;profile_id&quot;)\n    @MapsId\n    Profile profile;\n}\n</code></pre>\n<p>I would like the <code>ProfilePicture</code> to have the same id as the corresponding <code>Profile</code>. I am not sure, however, if - with the last shown option - the <code>Profile</code> still owns the <code>ProfilePicture</code>, as now the profile is declared as a variable inside the ProfilePicture entity. Can somebody help me out, please?</p>\n"},{"tags":["java","intellij-idea","classloader"],"comments":[{"owner":{"account_id":3267829,"reputation":1343,"user_id":2751962,"accept_rate":100,"display_name":"anavaras lamurep"},"score":0,"creation_date":1665068158,"post_id":73975887,"comment_id":130617285,"body_markdown":"this is not possible . To avoid this only we have package structure . Same package , same class name and different content of files , then its wrong . Can you provide if possible which jar you are trying to import and some examples","body":"this is not possible . To avoid this only we have package structure . Same package , same class name and different content of files , then its wrong . Can you provide if possible which jar you are trying to import and some examples"},{"owner":{"account_id":1107169,"reputation":6727,"user_id":1098361,"accept_rate":86,"display_name":"Zack Macomber"},"score":0,"creation_date":1665068528,"post_id":73975887,"comment_id":130617443,"body_markdown":"Sounds like a class loader issue. Sometimes alphabetizing your jars will give precedence to a jar with a name that comes before another. You could try naming your &quot;JAR-1&quot; file to be alphabetically before the &quot;JAR-2&quot; file.","body":"Sounds like a class loader issue. Sometimes alphabetizing your jars will give precedence to a jar with a name that comes before another. You could try naming your &quot;JAR-1&quot; file to be alphabetically before the &quot;JAR-2&quot; file."}],"owner":{"account_id":15940809,"reputation":25,"user_id":11502677,"display_name":"Rizwan Chaudhari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665068570,"creation_date":1665067985,"question_id":73975887,"body_markdown":"I want to call a Class A from JAR-1. But I have same Class in JAR-2 hence my app is calling Class A from JAR-2.\r\n\r\nAll the packages are same in both the JARs. For Eg,\r\n`com.package.classes.A` in JAR-1 and `com.package.classes.A` in JAR-2\r\n\r\nI want my app to call A from JAR-1.\r\n\r\nI am using IntelliJ.(If this information helps)","title":"Call to specific class from JAR file","body":"<p>I want to call a Class A from JAR-1. But I have same Class in JAR-2 hence my app is calling Class A from JAR-2.</p>\n<p>All the packages are same in both the JARs. For Eg,\n<code>com.package.classes.A</code> in JAR-1 and <code>com.package.classes.A</code> in JAR-2</p>\n<p>I want my app to call A from JAR-1.</p>\n<p>I am using IntelliJ.(If this information helps)</p>\n"},{"tags":["java","android","tapkey"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664949370,"post_id":73952620,"comment_id":130583079,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":22488169,"reputation":3,"user_id":16686252,"display_name":"DasShark"},"score":0,"creation_date":1664973317,"post_id":73953154,"comment_id":130590066,"body_markdown":"Thank you for your answer, I have tried that, but I just dont get it. I have a Method getToken() with the following Content: https://tiny.rip/6Q1GqiAB1h . And I use it in `userManager.logInAsync(getToken(), CancellationTokens.None);` but I get this error: https://tiny.rip/eeyaN8F8g7 .","body":"Thank you for your answer, I have tried that, but I just dont get it. I have a Method getToken() with the following Content: <a href=\"https://tiny.rip/6Q1GqiAB1h\" rel=\"nofollow noreferrer\">tiny.rip/6Q1GqiAB1h</a> . And I use it in <code>userManager.logInAsync(getToken(), CancellationTokens.None);</code> but I get this error: <a href=\"https://tiny.rip/eeyaN8F8g7\" rel=\"nofollow noreferrer\">tiny.rip/eeyaN8F8g7</a> ."},{"owner":{"account_id":21661399,"reputation":465,"user_id":15980487,"display_name":"Harald"},"score":0,"creation_date":1665044376,"post_id":73953154,"comment_id":130608143,"body_markdown":"Please don&#39;t sign production JWT Token directly on the device, as the JWT private key must not be shared with untrusted devices.\n\nThe signed JWT Token must be exchanged against a Tapkey Access Token. This is missing in your example","body":"Please don&#39;t sign production JWT Token directly on the device, as the JWT private key must not be shared with untrusted devices.  The signed JWT Token must be exchanged against a Tapkey Access Token. This is missing in your example"},{"owner":{"account_id":22488169,"reputation":3,"user_id":16686252,"display_name":"DasShark"},"score":0,"creation_date":1665058872,"post_id":73953154,"comment_id":130613410,"body_markdown":"How can I Exchange the token. Is there any method directly in the SDK or do I need to Code this in any other way?","body":"How can I Exchange the token. Is there any method directly in the SDK or do I need to Code this in any other way?"},{"owner":{"account_id":21661399,"reputation":465,"user_id":15980487,"display_name":"Harald"},"score":0,"creation_date":1665068576,"post_id":73953154,"comment_id":130617459,"body_markdown":"There is no implementation in the Mobile SDK for that. See updated answer.","body":"There is no implementation in the Mobile SDK for that. See updated answer."},{"owner":{"account_id":22488169,"reputation":3,"user_id":16686252,"display_name":"DasShark"},"score":0,"creation_date":1665218892,"post_id":73953154,"comment_id":130652030,"body_markdown":"I now have this code and get this error: https://tiny.rip/vGpXJyfm2c (You can find both in the snippet.) I use the code with my other method: `tokenExchangeManager.exchangeToken(TokenUtil.getToken())`. Any idea why this doesn&#39;t work?","body":"I now have this code and get this error: <a href=\"https://tiny.rip/vGpXJyfm2c\" rel=\"nofollow noreferrer\">tiny.rip/vGpXJyfm2c</a> (You can find both in the snippet.) I use the code with my other method: <code>tokenExchangeManager.exchangeToken(TokenUtil.getToken())</code>. Any idea why this doesn&#39;t work?"},{"owner":{"account_id":21661399,"reputation":465,"user_id":15980487,"display_name":"Harald"},"score":0,"creation_date":1665388818,"post_id":73953154,"comment_id":130680025,"body_markdown":"This error seems not to be from Tapkey. I guess it is thrown by the used OAuth Library. Which library do you use?","body":"This error seems not to be from Tapkey. I guess it is thrown by the used OAuth Library. Which library do you use?"},{"owner":{"account_id":22488169,"reputation":3,"user_id":16686252,"display_name":"DasShark"},"score":0,"creation_date":1665410037,"post_id":73953154,"comment_id":130687240,"body_markdown":"I use AppAuth for Android. I guess that&#39;s the Name, but it&#39;s also linked in the TapKey API Docs\nEdit: Yes, the Name is AppAuth for Android","body":"I use AppAuth for Android. I guess that&#39;s the Name, but it&#39;s also linked in the TapKey API Docs Edit: Yes, the Name is AppAuth for Android"},{"owner":{"account_id":21661399,"reputation":465,"user_id":15980487,"display_name":"Harald"},"score":0,"creation_date":1665435030,"post_id":73953154,"comment_id":130695529,"body_markdown":"Is the ClientId you are using a &quot;Token Exchange Client&quot;?","body":"Is the ClientId you are using a &quot;Token Exchange Client&quot;?"},{"owner":{"account_id":22488169,"reputation":3,"user_id":16686252,"display_name":"DasShark"},"score":0,"creation_date":1665505851,"post_id":73953154,"comment_id":130714483,"body_markdown":"Now I&#39;m using this code: https://tiny.rip/B97ywVDrtn . I figured the problem of the error out by myself. Now I can log in. But do I need in my getToken Method (https://tiny.rip/6Q1GqiAB1h) the IpId or do I need anything else in there?","body":"Now I&#39;m using this code: <a href=\"https://tiny.rip/B97ywVDrtn\" rel=\"nofollow noreferrer\">tiny.rip/B97ywVDrtn</a> . I figured the problem of the error out by myself. Now I can log in. But do I need in my getToken Method (<a href=\"https://tiny.rip/6Q1GqiAB1h\" rel=\"nofollow noreferrer\">tiny.rip/6Q1GqiAB1h</a>) the IpId or do I need anything else in there?"}],"tags":[],"owner":{"account_id":21661399,"reputation":465,"user_id":15980487,"display_name":"Harald"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665068550,"creation_date":1664914120,"answer_id":73953154,"question_id":73952620,"body_markdown":"To login into the `Tapkey Mobile SDK` you need to setup and configure an `Identity Provider` which signs an `JWK Token` which has then to be exchanged against an `Tapkey Access Token`.\r\n\r\nFind more detailed here:\r\nhttps://developers.tapkey.io/mobile/authentication/\r\n\r\nDetailed informations about using an `Identity Provider` can be found here:\r\nhttps://developers.tapkey.io/api/authentication/identity_providers/\r\n\r\nHow to create and register a `Identity Provider` and a `Token Exchange Client` can be found here:\r\nhttps://developers.tapkey.io/api/authentication/registration/#identity-provider-registration\r\n\r\n**1. Sign a JWT Token via trusted services**\r\n\r\nSign via a trusted services a JWT Token for your logged in user:\r\nhttps://developers.tapkey.io/api/authentication/identity_providers/\r\n\r\n**2. Exchange JWT Token with Tapkey Access Token** \r\n\r\nExchange the signed JWT Token with an Tapkey Access Token on your devices:\r\nhttps://developers.tapkey.io/api/authentication/token_exchange/\r\n\r\nThere is no specific implementation for it in the Tapkey Mobile SDK, this has to be done manually.\r\n\r\n**3. Use the Tapkey Access Token to login**\r\n\r\nUse the Tapkey Access Token to login into the Tapkey Mobile SDK\r\n\r\n`userManager.logInAsync([TAPKEY_ACCESS_TOKEN], CancellationTokens.None);`","title":"How do I log in so I can open my Tapkey Lock?","body":"<p>To login into the <code>Tapkey Mobile SDK</code> you need to setup and configure an <code>Identity Provider</code> which signs an <code>JWK Token</code> which has then to be exchanged against an <code>Tapkey Access Token</code>.</p>\n<p>Find more detailed here:\n<a href=\"https://developers.tapkey.io/mobile/authentication/\" rel=\"nofollow noreferrer\">https://developers.tapkey.io/mobile/authentication/</a></p>\n<p>Detailed informations about using an <code>Identity Provider</code> can be found here:\n<a href=\"https://developers.tapkey.io/api/authentication/identity_providers/\" rel=\"nofollow noreferrer\">https://developers.tapkey.io/api/authentication/identity_providers/</a></p>\n<p>How to create and register a <code>Identity Provider</code> and a <code>Token Exchange Client</code> can be found here:\n<a href=\"https://developers.tapkey.io/api/authentication/registration/#identity-provider-registration\" rel=\"nofollow noreferrer\">https://developers.tapkey.io/api/authentication/registration/#identity-provider-registration</a></p>\n<p><strong>1. Sign a JWT Token via trusted services</strong></p>\n<p>Sign via a trusted services a JWT Token for your logged in user:\n<a href=\"https://developers.tapkey.io/api/authentication/identity_providers/\" rel=\"nofollow noreferrer\">https://developers.tapkey.io/api/authentication/identity_providers/</a></p>\n<p><strong>2. Exchange JWT Token with Tapkey Access Token</strong></p>\n<p>Exchange the signed JWT Token with an Tapkey Access Token on your devices:\n<a href=\"https://developers.tapkey.io/api/authentication/token_exchange/\" rel=\"nofollow noreferrer\">https://developers.tapkey.io/api/authentication/token_exchange/</a></p>\n<p>There is no specific implementation for it in the Tapkey Mobile SDK, this has to be done manually.</p>\n<p><strong>3. Use the Tapkey Access Token to login</strong></p>\n<p>Use the Tapkey Access Token to login into the Tapkey Mobile SDK</p>\n<p><code>userManager.logInAsync([TAPKEY_ACCESS_TOKEN], CancellationTokens.None);</code></p>\n"}],"owner":{"account_id":22488169,"reputation":3,"user_id":16686252,"display_name":"DasShark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73953154,"answer_count":1,"score":0,"last_activity_date":1665068550,"creation_date":1664910789,"question_id":73952620,"body_markdown":"I don&#39;t know, how to authorize my app to open the tapkey lock.\r\n\r\nI have this code, but I dont know what to insert into STRING:\r\n```userManager.logInAsync(STRING, CancellationTokens.None)```\r\nDo you have any idea how I can get the User Id or a Token for logging in?\r\n\r\nIf you need anything of the code just tell me. Thanks for your help!","title":"How do I log in so I can open my Tapkey Lock?","body":"<p>I don't know, how to authorize my app to open the tapkey lock.</p>\n<p>I have this code, but I dont know what to insert into STRING:\n<code>userManager.logInAsync(STRING, CancellationTokens.None)</code>\nDo you have any idea how I can get the User Id or a Token for logging in?</p>\n<p>If you need anything of the code just tell me. Thanks for your help!</p>\n"},{"tags":["java","multithreading","timer"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1665029459,"post_id":73968499,"comment_id":130604631,"body_markdown":"I suspect what&#39;s happening is that your program is spending all its resources comparing `Ssytem.currentTimeMillis()` to `lastEdit`, and nothing else gets a chance to run.  You might need a `Thread.sleep` somewhere in there.  Also, make sure that `lastEdit` is declared `volatile`.","body":"I suspect what&#39;s happening is that your program is spending all its resources comparing <code>Ssytem.currentTimeMillis()</code> to <code>lastEdit</code>, and nothing else gets a chance to run.  You might need a <code>Thread.sleep</code> somewhere in there.  Also, make sure that <code>lastEdit</code> is declared <code>volatile</code>."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1665068577,"post_id":73968499,"comment_id":130617460,"body_markdown":"Yeah, &quot;hot&quot; waiting ... isn&#39;t a good idea.","body":"Yeah, &quot;hot&quot; waiting ... isn&#39;t a good idea."}],"answers":[{"comments":[{"owner":{"account_id":26498771,"reputation":21,"user_id":20136046,"display_name":"Cecil"},"score":0,"creation_date":1665029066,"post_id":73968534,"comment_id":130604574,"body_markdown":"I have searched about scheduleAtFixedRate. But what I want to do is initially delay execution for 10 seconds. And if I do something else in another program, it will restart the timer and execute the code after 10s.","body":"I have searched about scheduleAtFixedRate. But what I want to do is initially delay execution for 10 seconds. And if I do something else in another program, it will restart the timer and execute the code after 10s."},{"owner":{"account_id":2226374,"reputation":106,"user_id":1965042,"display_name":"vcg"},"score":1,"creation_date":1665065857,"post_id":73968534,"comment_id":130616325,"body_markdown":"Sorry misunderstood the question, I guess you are using `lastEdit` as static var, you may want to add `volatile` keyword to the var, so that the threads will access to the real value of your var.. take a look at [volatile keyword](https://www.baeldung.com/java-volatile)","body":"Sorry misunderstood the question, I guess you are using <code>lastEdit</code> as static var, you may want to add <code>volatile</code> keyword to the var, so that the threads will access to the real value of your var.. take a look at <a href=\"https://www.baeldung.com/java-volatile\" rel=\"nofollow noreferrer\">volatile keyword</a>"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1665068670,"post_id":73968534,"comment_id":130617492,"body_markdown":"Please note: this community wants quality answers. Telling people &quot;go read some documentation about X&quot; isn&#39;t that. Seriously: if you dont want to spend the time to write a proper answer, then write a comment. Otherwise, invest a few minutes and write an answer that deserves to be called &quot;answer&quot;.","body":"Please note: this community wants quality answers. Telling people &quot;go read some documentation about X&quot; isn&#39;t that. Seriously: if you dont want to spend the time to write a proper answer, then write a comment. Otherwise, invest a few minutes and write an answer that deserves to be called &quot;answer&quot;."}],"tags":[],"owner":{"account_id":2226374,"reputation":106,"user_id":1965042,"display_name":"vcg"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665028662,"creation_date":1665028662,"answer_id":73968534,"question_id":73968499,"body_markdown":"Hi so you could be using `ScheduledExecutorService`, take a look to oracle docs, you will find an example, I believe solves your problem ","title":"Execute a block of code after certain time in Java","body":"<p>Hi so you could be using <code>ScheduledExecutorService</code>, take a look to oracle docs, you will find an example, I believe solves your problem</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665068370,"creation_date":1665068370,"answer_id":73975979,"question_id":73968499,"body_markdown":"Not sure I understand what you&#39;re really trying to do, but changing your `run()` function so that it spends most of its time &quot;sleeping&quot; might improve the performance of your program:\r\n\r\n``` lang-java\r\npublic void run() {\r\n    System.out.println(&quot;it is running&quot;);\r\n    while(true) {\r\n        long timeUntilDelete = lastEdit - System.currentTimeMillis();\r\n        if (timeUntilDelete &gt; 0) {\r\n            try {\r\n                Thread.sleep(timeUntilDelete);\r\n            }\r\n            catch(InterruptedException ex) {\r\n                ...What you do here is up to you...\r\n            }\r\n            continue;\r\n        }\r\n        System.out.println(&quot;DELETE&quot;);\r\n        timerStart(12000);\r\n    }\r\n}\r\n```\r\n","title":"Execute a block of code after certain time in Java","body":"<p>Not sure I understand what you're really trying to do, but changing your <code>run()</code> function so that it spends most of its time &quot;sleeping&quot; might improve the performance of your program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void run() {\n    System.out.println(&quot;it is running&quot;);\n    while(true) {\n        long timeUntilDelete = lastEdit - System.currentTimeMillis();\n        if (timeUntilDelete &gt; 0) {\n            try {\n                Thread.sleep(timeUntilDelete);\n            }\n            catch(InterruptedException ex) {\n                ...What you do here is up to you...\n            }\n            continue;\n        }\n        System.out.println(&quot;DELETE&quot;);\n        timerStart(12000);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26498771,"reputation":21,"user_id":20136046,"display_name":"Cecil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665068370,"creation_date":1665028197,"question_id":73968499,"body_markdown":"I would like to execute a block of code in a thread after a mount of time.\r\n\r\nIn the thread:\r\n\r\n    public void run() {\r\n        System.out.println(&quot;it is running&quot;);\r\n        while (true) {\r\n            if (System.currentTimeMillis() &gt; lastEdit) {\r\n                System.out.println(&quot;DELETE&quot;);\r\n                timerStart(12000);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void timerStart(int time) {\r\n        lastEdit = System.currentTimeMillis() + time;\r\n    }\r\n\r\nIn this block of code, the System.out.println(&quot;DELETE&quot;) will execute after 12s.\r\nHowever, I would also call timeStart function in another code, which is the following\r\n\r\n    anotherThread.timerStart(12000);\r\n\r\nWhen I call this function, I expect the lastEdit will increase 12000 milli sec. However, it doesn&#39;t work.\r\nMay I know why and how to solve this problem? Thanks.","title":"Execute a block of code after certain time in Java","body":"<p>I would like to execute a block of code in a thread after a mount of time.</p>\n<p>In the thread:</p>\n<pre><code>public void run() {\n    System.out.println(&quot;it is running&quot;);\n    while (true) {\n        if (System.currentTimeMillis() &gt; lastEdit) {\n            System.out.println(&quot;DELETE&quot;);\n            timerStart(12000);\n        }\n    }\n}\n\npublic static void timerStart(int time) {\n    lastEdit = System.currentTimeMillis() + time;\n}\n</code></pre>\n<p>In this block of code, the System.out.println(&quot;DELETE&quot;) will execute after 12s.\nHowever, I would also call timeStart function in another code, which is the following</p>\n<pre><code>anotherThread.timerStart(12000);\n</code></pre>\n<p>When I call this function, I expect the lastEdit will increase 12000 milli sec. However, it doesn't work.\nMay I know why and how to solve this problem? Thanks.</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665067435,"creation_date":1665067435,"answer_id":73975752,"question_id":73975470,"body_markdown":"[Reading docs](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/LockSupport.html#park()) is fundamental. \r\n\r\nAs the docs indicate, `LockSupport.park()` is allowed to spuriously return. In other words, the docs literally spell out:\r\n\r\n* Q: &quot;Why did the park() call return so quickly?&quot;\r\n* A: Because the JVM felt like it.\r\n\r\nLockSupport&#39;s locks are thread-global. There is exactly one semaphore (which LockSupport calls a &#39;permit&#39;) for each thread, you can&#39;t make more and you can&#39;t make less. Basically meaning, exactly one system within your JVM can use it, because if two use it, they confuse each other.\r\n\r\nAs the docs also say:\r\n\r\n&gt; Basic thread blocking primitives for creating locks and other synchronization classes.\r\n\r\nWhich in essence means: Why are you doing this? If you want locking behaviour, use e.g. `ReentrantLock` from the `java.util.concurrent` package; this isn&#39;t meant for you, and hence it has all sorts of bizarre weirdness in it, such as `park()`&#39;s rule that it is allowed spurious returns.\r\n\r\nMost likely the `log.debug` code either [A] ends up calling `LockSupport.unpark(ownThread)` for some reason, which means the next `park()` call returns immediately, or [B] it&#39;s a timing matter. `log.debug` is not &#39;free&#39;, many log frameworks run &#39;in-place&#39;, meaning, the `log.debug` call actually goes out on disk and fsyncs, meaning, it takes a very long time indeed compared to your average non-disk-interacting java instruction (hundreds of instructions worth of time). That time is enough for the scheduler to fly by it, especially considering &#39;write to disk&#39; or &#39;fsync&#39; is a natural stopping point (threads in java are pre-emptive, but if you give the scheduler an excuse to pause your thread, it will usually take it).\r\n\r\nIn the end, the docs are clear: You don&#39;t get an answer to your &#39;why&#39; question. The specs give the JVM free reign not to have to explain to you why `park()` spuriously returns. Therefore there isn&#39;t much point chasing down the why for this case - even if you have an answer, tomorrow there can be a different reason. If your code can&#39;t handle spurious returns on `LockSupport.park()`, your code is by definition broken. Even if you can make it work on your machine, today, with this phase of the moon, then that&#39;s no guarantee it would work fine tomorrow.\r\n\r\nOnce your code can handle spurious returns, figuring out why it spuriously returns here isn&#39;t interesting anymore. Thus, solution: Deal with spurious returns properly. Or, more likely, don&#39;t use this for locks, use something more friendly to end users.\r\n","title":"Why does log.debug cause LockSupport.park() to fail","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/LockSupport.html#park()\" rel=\"nofollow noreferrer\">Reading docs</a> is fundamental.</p>\n<p>As the docs indicate, <code>LockSupport.park()</code> is allowed to spuriously return. In other words, the docs literally spell out:</p>\n<ul>\n<li>Q: &quot;Why did the park() call return so quickly?&quot;</li>\n<li>A: Because the JVM felt like it.</li>\n</ul>\n<p>LockSupport's locks are thread-global. There is exactly one semaphore (which LockSupport calls a 'permit') for each thread, you can't make more and you can't make less. Basically meaning, exactly one system within your JVM can use it, because if two use it, they confuse each other.</p>\n<p>As the docs also say:</p>\n<blockquote>\n<p>Basic thread blocking primitives for creating locks and other synchronization classes.</p>\n</blockquote>\n<p>Which in essence means: Why are you doing this? If you want locking behaviour, use e.g. <code>ReentrantLock</code> from the <code>java.util.concurrent</code> package; this isn't meant for you, and hence it has all sorts of bizarre weirdness in it, such as <code>park()</code>'s rule that it is allowed spurious returns.</p>\n<p>Most likely the <code>log.debug</code> code either [A] ends up calling <code>LockSupport.unpark(ownThread)</code> for some reason, which means the next <code>park()</code> call returns immediately, or [B] it's a timing matter. <code>log.debug</code> is not 'free', many log frameworks run 'in-place', meaning, the <code>log.debug</code> call actually goes out on disk and fsyncs, meaning, it takes a very long time indeed compared to your average non-disk-interacting java instruction (hundreds of instructions worth of time). That time is enough for the scheduler to fly by it, especially considering 'write to disk' or 'fsync' is a natural stopping point (threads in java are pre-emptive, but if you give the scheduler an excuse to pause your thread, it will usually take it).</p>\n<p>In the end, the docs are clear: You don't get an answer to your 'why' question. The specs give the JVM free reign not to have to explain to you why <code>park()</code> spuriously returns. Therefore there isn't much point chasing down the why for this case - even if you have an answer, tomorrow there can be a different reason. If your code can't handle spurious returns on <code>LockSupport.park()</code>, your code is by definition broken. Even if you can make it work on your machine, today, with this phase of the moon, then that's no guarantee it would work fine tomorrow.</p>\n<p>Once your code can handle spurious returns, figuring out why it spuriously returns here isn't interesting anymore. Thus, solution: Deal with spurious returns properly. Or, more likely, don't use this for locks, use something more friendly to end users.</p>\n"}],"owner":{"account_id":26536886,"reputation":3,"user_id":20168274,"display_name":"zheng peng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73975752,"answer_count":1,"score":0,"last_activity_date":1665068182,"creation_date":1665066298,"question_id":73975470,"body_markdown":"As shown in the code, locksupport.park () is called twice in thread t1. After LockSupport.park () for the first time, the main Thread wakes up Thread t1 with t1.interrupt() and then calls thread.interrupted () in t1 to clear the interrupted status of the thread. But Locksupport.park () does not suspend the thread a second time. Oddly enough, After comment out the [log.debug(&quot;test.......&quot;)], locksupport.park () can pause the thread a second time. What is the reason for this?\r\n\r\n[enter image description here][1]\r\n\r\n[enter image description here][2]\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @Slf4j\r\n    public class Test08Park4 {\r\n        public static void main(String[] args) throws InterruptedException{\r\n\r\n            Thread t1 = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    LockSupport.park();\r\n                    /**\r\n                     * With this log print, locksupport.park () cannot stop threads;\r\n                     * If you comment this out, locksupport.park () can stop the thread\r\n                     */\r\n                    log.debug(&quot;test.......&quot;);\r\n                    Thread.interrupted();\r\n                    LockSupport.park();\r\n                    log.debug(&quot;finished...&quot;);\r\n                }\r\n            });\r\n            t1.start();\r\n            sleep(1000);\r\n            t1.interrupt();\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\nif do not comment [log.debug(&quot;test.......&quot;)] out,the result:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    22:37:05.435 [Thread-0] DEBUG test.Test08Park4 - test.......\r\n    22:37:05.439 [Thread-0] DEBUG test.Test08Park4 - finished...\r\n\r\n&lt;!-- end snippet --&gt;\r\nif comment [log.debug(&quot;test.......&quot;)] out,the result:\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n//nothing\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PHOWJ.png\r\n  [2]: https://i.stack.imgur.com/v5CzM.png","title":"Why does log.debug cause LockSupport.park() to fail","body":"<p>As shown in the code, locksupport.park () is called twice in thread t1. After LockSupport.park () for the first time, the main Thread wakes up Thread t1 with t1.interrupt() and then calls thread.interrupted () in t1 to clear the interrupted status of the thread. But Locksupport.park () does not suspend the thread a second time. Oddly enough, After comment out the [log.debug(&quot;test.......&quot;)], locksupport.park () can pause the thread a second time. What is the reason for this?</p>\n<p><a href=\"https://i.stack.imgur.com/PHOWJ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/v5CzM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Slf4j\npublic class Test08Park4 {\n    public static void main(String[] args) throws InterruptedException{\n\n        Thread t1 = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                LockSupport.park();\n                /**\n                 * With this log print, locksupport.park () cannot stop threads;\n                 * If you comment this out, locksupport.park () can stop the thread\n                 */\n                log.debug(\"test.......\");\n                Thread.interrupted();\n                LockSupport.park();\n                log.debug(\"finished...\");\n            }\n        });\n        t1.start();\n        sleep(1000);\n        t1.interrupt();\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n\nif do not comment [log.debug(&quot;test.......&quot;)] out,the result:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>22:37:05.435 [Thread-0] DEBUG test.Test08Park4 - test.......\n22:37:05.439 [Thread-0] DEBUG test.Test08Park4 - finished...</code></pre>\r\n</div>\r\n</div>\r\n\nif comment [log.debug(&quot;test.......&quot;)] out,the result:</p>\n<p>//nothing</p>\n\n"},{"tags":["java","circular-buffer","circular-list"],"comments":[{"owner":{"account_id":4951627,"reputation":1332,"user_id":3985356,"accept_rate":74,"display_name":"CHANist"},"score":1,"creation_date":1665067929,"post_id":73975733,"comment_id":130617199,"body_markdown":"As an array, why do you think it will not work? In addition, camelCase will be a better decision for variable and you may use StringBuffer/StringBuilder instead of String for string concatenation.","body":"As an array, why do you think it will not work? In addition, camelCase will be a better decision for variable and you may use StringBuffer/StringBuilder instead of String for string concatenation."},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1665067978,"post_id":73975733,"comment_id":130617212,"body_markdown":"I have never used it before, can you pls show me how to use it?","body":"I have never used it before, can you pls show me how to use it?"}],"answers":[{"comments":[{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1665071675,"post_id":73975915,"comment_id":130618778,"body_markdown":"what should the return be then? I&#39;ve put my for loop inside where you said  // do stuff with `item` here, and then what?","body":"what should the return be then? I&#39;ve put my for loop inside where you said  // do stuff with <code>item</code> here, and then what?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1665072334,"post_id":73975915,"comment_id":130619062,"body_markdown":"That&#39;s the homework. You do that part.","body":"That&#39;s the homework. You do that part."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1665068113,"creation_date":1665068113,"answer_id":73975915,"question_id":73975733,"body_markdown":"It&#39;s a very bad idea to name your class `ArrayDeque`, given that java&#39;s built in library already has such a beast. If this is _not_ homework, use that one. If it is, it&#39;s a bit odd to ask SO to &#39;do your homework&#39; for you.\r\n\r\nThe idea behind a circular array is that they __do not__ start at `0`, so your `for (int x = 0` loop is incorrect. They start at `head` and they end at `tail`, with the caveat that when you loop through it, the &#39;index&#39; increment operation isn&#39;t `i++` but `i = (i + 1) % size`, i.e. if your backing store (`A1` here) is 100 large, head is 98, and tail is 5, to loop through the whole thing in sequence, the indices you want to hit are:\r\n\r\n* 98, 99, 0, 1, 2, 3, 4\r\n\r\n```java\r\nint idx = head;\r\n\r\nwhile (idx != tail) {\r\n  Object item = A1[idx];\r\n  // do stuff with `item` here\r\n  idx = (idx + 1) % A1.length;\r\n}\r\n```\r\n\r\n\r\nKey point here is the `%` operator. It is __crucial__ for circular implementations of any sort. If you don&#39;t recognize it, scroll to the end of this answer.\r\n\r\nThis assumes `head` is inclusive and `tail` is exclusive. If it isn&#39;t, change your code so that it works that way, the math is a ton easier, and doing ranges like `[1, 2)` so (start is inclusive, end is exclusive) is idiomatic java.\r\n\r\nThat&#39;s your loop. Get rid of the `for` loop.\r\n\r\nThere are many more smaller problems with this code:\r\n\r\n### Superfluous data\r\n\r\nThe size of your ArrayDeque is `(length + tail - head) % length`. There is no need to store it separately, and it significantly complicates matters by storing it separately. What if you fail to update `size` in accordance, for example? There&#39;s a ton more to test. Just don&#39;t do that. Similarly, the total length of the backing store is simply `A1.length`, there is no need to separately store this, it just introduces opportunity for things to fall out of sync. Get rid of the `volume` field entirely.\r\n\r\n## Failure to adhere to java standards\r\n\r\nVariable names are `writtenLikeThis`, so the right name is `a1`, not `A1`. Also, names should be descriptive; tha thing should be called `data` or `store`, not `A1`.\r\n\r\nShouldn&#39;t that method simply be called `toString()`? If not, at least it should be called `turnToString`, not `turntoString`.\r\n\r\nYour `S` variable in `turntoString` should be called `s`.\r\n\r\n## Bad string concatenation\r\n\r\n`x += y` where x and y are strings is very expensive. You do it in the loop. It&#39;s got `O(n^2)` performance behaviour because of this. Use a StringBuilder instead. So instead of:\r\n\r\n```\r\nString x = &quot;&quot;;\r\nfor (String item : list) x += item;\r\nreturn x;\r\n```\r\n\r\nyou do:\r\n\r\n```java\r\nStringBuilder x = new StringBuilder();\r\nfor (String item : list) x.append(item);\r\nreturn x.toString();\r\n```\r\n\r\n----\r\n\r\n## What&#39;s `%`?\r\n\r\nIt&#39;s the modulo operator. In basis `a % b` means: Divide a by b, but toss the result in the garbage; what we care about is the _remainder_. 7 divided by 2 is 3 (toss that in the garbage, we don&#39;t care), with a remainder of 1 (ah, that&#39;s what we care about).\r\n\r\nHowever, that&#39;s generally not the right way to think about it. What `%` does is make math circular. Stick `% X` at the end of anything and it&#39;s basically saying: &quot;... but do the operation on a number line that loops right back around at X&quot;. Hence why its so crucial for circular operations. It&#39;s an easy way to &#39;solve&#39; the problem. For example, in a deque with volume 100, if I want to go: &quot;What element is 50 to the right of the 80th element&quot;, in basis it&#39;s just 80+50, except that gives you 130 which is &#39;past&#39; the range of your arraydeque. You want 30 instead. `%100` will do that: 130%100 __is__ 30.\r\n\r\nOne weird thing about `%` is that it doesn&#39;t fix signs. `-30%100` is -30, not 30. This can be fixed by adding 100 to it all. `(-30+100)%100` is 70. This is what you want: Imagine I ask: We&#39;re at index 5. Now go 35 to the left. `5-35` is -30, but what we really want is store[70]. In general in &#39;circular math world&#39; adding the total size of the loop is a no-op. If you have a circle of size 100 and ask &#39;go 100 elements to the right&#39;, that&#39;s just walking around the circle and does nothing. Hence you can always just add that to any index lookups.\r\n","title":"How can I convert my circular array into a String?","body":"<p>It's a very bad idea to name your class <code>ArrayDeque</code>, given that java's built in library already has such a beast. If this is <em>not</em> homework, use that one. If it is, it's a bit odd to ask SO to 'do your homework' for you.</p>\n<p>The idea behind a circular array is that they <strong>do not</strong> start at <code>0</code>, so your <code>for (int x = 0</code> loop is incorrect. They start at <code>head</code> and they end at <code>tail</code>, with the caveat that when you loop through it, the 'index' increment operation isn't <code>i++</code> but <code>i = (i + 1) % size</code>, i.e. if your backing store (<code>A1</code> here) is 100 large, head is 98, and tail is 5, to loop through the whole thing in sequence, the indices you want to hit are:</p>\n<ul>\n<li>98, 99, 0, 1, 2, 3, 4</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>int idx = head;\n\nwhile (idx != tail) {\n  Object item = A1[idx];\n  // do stuff with `item` here\n  idx = (idx + 1) % A1.length;\n}\n</code></pre>\n<p>Key point here is the <code>%</code> operator. It is <strong>crucial</strong> for circular implementations of any sort. If you don't recognize it, scroll to the end of this answer.</p>\n<p>This assumes <code>head</code> is inclusive and <code>tail</code> is exclusive. If it isn't, change your code so that it works that way, the math is a ton easier, and doing ranges like <code>[1, 2)</code> so (start is inclusive, end is exclusive) is idiomatic java.</p>\n<p>That's your loop. Get rid of the <code>for</code> loop.</p>\n<p>There are many more smaller problems with this code:</p>\n<h3>Superfluous data</h3>\n<p>The size of your ArrayDeque is <code>(length + tail - head) % length</code>. There is no need to store it separately, and it significantly complicates matters by storing it separately. What if you fail to update <code>size</code> in accordance, for example? There's a ton more to test. Just don't do that. Similarly, the total length of the backing store is simply <code>A1.length</code>, there is no need to separately store this, it just introduces opportunity for things to fall out of sync. Get rid of the <code>volume</code> field entirely.</p>\n<h2>Failure to adhere to java standards</h2>\n<p>Variable names are <code>writtenLikeThis</code>, so the right name is <code>a1</code>, not <code>A1</code>. Also, names should be descriptive; tha thing should be called <code>data</code> or <code>store</code>, not <code>A1</code>.</p>\n<p>Shouldn't that method simply be called <code>toString()</code>? If not, at least it should be called <code>turnToString</code>, not <code>turntoString</code>.</p>\n<p>Your <code>S</code> variable in <code>turntoString</code> should be called <code>s</code>.</p>\n<h2>Bad string concatenation</h2>\n<p><code>x += y</code> where x and y are strings is very expensive. You do it in the loop. It's got <code>O(n^2)</code> performance behaviour because of this. Use a StringBuilder instead. So instead of:</p>\n<pre><code>String x = &quot;&quot;;\nfor (String item : list) x += item;\nreturn x;\n</code></pre>\n<p>you do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder x = new StringBuilder();\nfor (String item : list) x.append(item);\nreturn x.toString();\n</code></pre>\n<hr />\n<h2>What's <code>%</code>?</h2>\n<p>It's the modulo operator. In basis <code>a % b</code> means: Divide a by b, but toss the result in the garbage; what we care about is the <em>remainder</em>. 7 divided by 2 is 3 (toss that in the garbage, we don't care), with a remainder of 1 (ah, that's what we care about).</p>\n<p>However, that's generally not the right way to think about it. What <code>%</code> does is make math circular. Stick <code>% X</code> at the end of anything and it's basically saying: &quot;... but do the operation on a number line that loops right back around at X&quot;. Hence why its so crucial for circular operations. It's an easy way to 'solve' the problem. For example, in a deque with volume 100, if I want to go: &quot;What element is 50 to the right of the 80th element&quot;, in basis it's just 80+50, except that gives you 130 which is 'past' the range of your arraydeque. You want 30 instead. <code>%100</code> will do that: 130%100 <strong>is</strong> 30.</p>\n<p>One weird thing about <code>%</code> is that it doesn't fix signs. <code>-30%100</code> is -30, not 30. This can be fixed by adding 100 to it all. <code>(-30+100)%100</code> is 70. This is what you want: Imagine I ask: We're at index 5. Now go 35 to the left. <code>5-35</code> is -30, but what we really want is store[70]. In general in 'circular math world' adding the total size of the loop is a no-op. If you have a circle of size 100 and ask 'go 100 elements to the right', that's just walking around the circle and does nothing. Hence you can always just add that to any index lookups.</p>\n"}],"owner":{"display_name":"user18984687"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":73975915,"answer_count":1,"score":-1,"last_activity_date":1665068113,"creation_date":1665067392,"question_id":73975733,"body_markdown":"I have a class `ArrayDeque` where I take in a circular array and I&#39;m trying to implement a function `turntoString()` to turn my Array into a string.\r\n\r\nI&#39;m currently stumped on how can I do this due to the fact that this is a circular array. Here is my code so far:\r\n\r\n    public class ArrayDeque&lt;T&gt; {\r\n        private int volume = 0;\r\n        private int size = 0;\r\n        private int head = 0;\r\n        private int tail = 0;\r\n        private Object[] A1;\r\n    \r\n        public ArrayDeque(int volume) {\r\n            this.volume = volume;\r\n            A1 = new Object[volume];\r\n        }\r\n        public String turntoString() {\r\n            String S = &quot;&quot;;\r\n            for (int x = 0; x &lt; A1.length; x++) {\r\n                S += x;\r\n            }\r\n            return S;\r\n\r\nHowever, this doesn&#39;t work for circular arrays. Can anyone please help explain how can I do this?\r\n","title":"How can I convert my circular array into a String?","body":"<p>I have a class <code>ArrayDeque</code> where I take in a circular array and I'm trying to implement a function <code>turntoString()</code> to turn my Array into a string.</p>\n<p>I'm currently stumped on how can I do this due to the fact that this is a circular array. Here is my code so far:</p>\n<pre><code>public class ArrayDeque&lt;T&gt; {\n    private int volume = 0;\n    private int size = 0;\n    private int head = 0;\n    private int tail = 0;\n    private Object[] A1;\n\n    public ArrayDeque(int volume) {\n        this.volume = volume;\n        A1 = new Object[volume];\n    }\n    public String turntoString() {\n        String S = &quot;&quot;;\n        for (int x = 0; x &lt; A1.length; x++) {\n            S += x;\n        }\n        return S;\n</code></pre>\n<p>However, this doesn't work for circular arrays. Can anyone please help explain how can I do this?</p>\n"},{"tags":["java","xml-parsing","zipinputstream"],"answers":[{"comments":[{"owner":{"account_id":1434395,"reputation":6072,"user_id":1356106,"accept_rate":47,"display_name":"Tim Autin"},"score":0,"creation_date":1384621118,"post_id":20021055,"comment_id":29813464,"body_markdown":"It&#39;s working, many thanks ! If someone is interested, see my answer for more details.","body":"It&#39;s working, many thanks ! If someone is interested, see my answer for more details."}],"tags":[],"owner":{"account_id":3262531,"reputation":3444,"user_id":2747804,"display_name":"halfbit"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1384620619,"creation_date":1384620619,"answer_id":20021055,"question_id":20020982,"body_markdown":"You could wrap the ZipInputStream and intercept the call to `close()`.","title":"Java create InputStream from ZipInputStream entry","body":"<p>You could wrap the ZipInputStream and intercept the call to <code>close()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1434395,"reputation":6072,"user_id":1356106,"accept_rate":47,"display_name":"Tim Autin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384621270,"creation_date":1384621270,"answer_id":20021172,"question_id":20020982,"body_markdown":"Thanks to halfbit, I ended up with my own ZipInputStream class, which overrides the close method :\r\n\r\n\timport java.io.IOException;\r\n\timport java.io.InputStream;\r\n\timport java.util.zip.ZipInputStream;\r\n\t\r\n\tpublic class CustomZipInputStream extends ZipInputStream {\r\n\t\r\n\t\tprivate boolean _canBeClosed = false;\r\n\t\t\r\n\t\tpublic CustomZipInputStream(InputStream is) {\r\n\t\t\tsuper(is);\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void close() throws IOException {\r\n\t\t\t\r\n\t\t\tif(_canBeClosed) super.close();\r\n\t\t}\r\n\t\t\r\n\t\tpublic void allowToBeClosed() { _canBeClosed = true; }\r\n\t}","title":"Java create InputStream from ZipInputStream entry","body":"<p>Thanks to halfbit, I ended up with my own ZipInputStream class, which overrides the close method :</p>\n\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.util.zip.ZipInputStream;\n\npublic class CustomZipInputStream extends ZipInputStream {\n\n    private boolean _canBeClosed = false;\n\n    public CustomZipInputStream(InputStream is) {\n        super(is);\n    }\n\n    @Override\n    public void close() throws IOException {\n\n        if(_canBeClosed) super.close();\n    }\n\n    public void allowToBeClosed() { _canBeClosed = true; }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1917759,"reputation":424,"user_id":1729980,"accept_rate":29,"display_name":"rtcarlson"},"score":0,"creation_date":1406821664,"post_id":20513468,"comment_id":38989692,"body_markdown":"But your example class doesn&#39;t provide a way to ever close the InputStream.  The stream still should be able to be closed, perhaps via a separate method (ex. create forceClose() which delegates to close()).","body":"But your example class doesn&#39;t provide a way to ever close the InputStream.  The stream still should be able to be closed, perhaps via a separate method (ex. create forceClose() which delegates to close())."},{"owner":{"account_id":1820215,"reputation":109,"user_id":1654441,"display_name":"Tony Abbott"},"score":0,"creation_date":1410253570,"post_id":20513468,"comment_id":40246644,"body_markdown":"You could add a forceClose() method to UncloseableInputStream, but there is no need because you can just call zipIn.close(). And using zipIn.close() is better because, as in the above example, it plays nicely with try-with-resources.","body":"You could add a forceClose() method to UncloseableInputStream, but there is no need because you can just call zipIn.close(). And using zipIn.close() is better because, as in the above example, it plays nicely with try-with-resources."}],"tags":[],"owner":{"account_id":1820215,"reputation":109,"user_id":1654441,"display_name":"Tony Abbott"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1386748372,"creation_date":1386748372,"answer_id":20513468,"question_id":20020982,"body_markdown":"A small improvement on Tim&#39;s solution: The problem with having to call allowToBeClosed() before close() is that it makes closing the ZipInputStream properly when handling exceptions tricky and will break Java 7&#39;s try-with-resources statement.\r\n\r\nI suggest creating a wrapper class as follows:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class UncloseableInputStream extends InputStream {\r\n      private final InputStream input;\r\n\r\n      public UncloseableInputStream(InputStream input) {\r\n        this.input = input;\r\n      }\r\n\r\n      @Override\r\n      public void close() throws IOException {} // do not close the wrapped stream\r\n\r\n      @Override\r\n      public int read() throws IOException {\r\n        return input.read();\r\n      }\r\n\r\n      // delegate all other InputStream methods as with read above\r\n    }\r\n\r\nwhich can then safely be used as follows:\r\n\r\n    try (ZipInputStream zipIn = new ZipInputStream(...))\r\n    {\r\n      DocumentBuilder db = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n      ZipEntry entry;\r\n      while (null != (entry = zipIn.getNextEntry()))\r\n      {\r\n        if (&quot;file.xml&quot;.equals(entry.getName())\r\n        {\r\n          Document doc = db.parse(new UncloseableInputStream(zipIn));\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Java create InputStream from ZipInputStream entry","body":"<p>A small improvement on Tim's solution: The problem with having to call allowToBeClosed() before close() is that it makes closing the ZipInputStream properly when handling exceptions tricky and will break Java 7's try-with-resources statement.</p>\n\n<p>I suggest creating a wrapper class as follows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class UncloseableInputStream extends InputStream {\n  private final InputStream input;\n\n  public UncloseableInputStream(InputStream input) {\n    this.input = input;\n  }\n\n  @Override\n  public void close() throws IOException {} // do not close the wrapped stream\n\n  @Override\n  public int read() throws IOException {\n    return input.read();\n  }\n\n  // delegate all other InputStream methods as with read above\n}\n</code></pre>\n\n<p>which can then safely be used as follows:</p>\n\n<pre><code>try (ZipInputStream zipIn = new ZipInputStream(...))\n{\n  DocumentBuilder db = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n  ZipEntry entry;\n  while (null != (entry = zipIn.getNextEntry()))\n  {\n    if (\"file.xml\".equals(entry.getName())\n    {\n      Document doc = db.parse(new UncloseableInputStream(zipIn));\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3076,"reputation":7635,"user_id":4362,"display_name":"jt."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665067922,"creation_date":1665067922,"answer_id":73975873,"question_id":20020982,"body_markdown":"If you don&#39;t mind external dependencies, [Apache Commons IO][1] provides a convenience class named [CloseShieldInputStream][2] for blocking the `close()` call.\r\n\r\n   \r\n\r\n    private void readZip(InputStream is) throws IOException {\r\n    \r\n        ZipInputStream zis = new ZipInputStream(is);\r\n        ZipEntry entry = zis.getNextEntry();\r\n    \r\n        while (entry != null) {\r\n    \r\n            if (entry.getName().endsWith(&quot;.xml&quot;)) {\r\n                //commons-io 2.9 and later\r\n                InputStream tempIs = CloseShieldInputStream.wrap(zis);\r\n                //commons-io &lt; 2.9\r\n                //InputStream tempIs = new CloseShieldInputStream(zis);\r\n    \r\n                // READ THE STREAM\r\n    \r\n            }\r\n            entry = zis.getNextEntry();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/\r\n  [2]: https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/CloseShieldInputStream.html","title":"Java create InputStream from ZipInputStream entry","body":"<p>If you don't mind external dependencies, <a href=\"https://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">Apache Commons IO</a> provides a convenience class named <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/CloseShieldInputStream.html\" rel=\"nofollow noreferrer\">CloseShieldInputStream</a> for blocking the <code>close()</code> call.</p>\n<pre><code>private void readZip(InputStream is) throws IOException {\n\n    ZipInputStream zis = new ZipInputStream(is);\n    ZipEntry entry = zis.getNextEntry();\n\n    while (entry != null) {\n\n        if (entry.getName().endsWith(&quot;.xml&quot;)) {\n            //commons-io 2.9 and later\n            InputStream tempIs = CloseShieldInputStream.wrap(zis);\n            //commons-io &lt; 2.9\n            //InputStream tempIs = new CloseShieldInputStream(zis);\n\n            // READ THE STREAM\n\n        }\n        entry = zis.getNextEntry();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1434395,"reputation":6072,"user_id":1356106,"accept_rate":47,"display_name":"Tim Autin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5920,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":20021055,"answer_count":4,"score":9,"last_activity_date":1665067922,"creation_date":1384620194,"question_id":20020982,"body_markdown":"I would like to write a method that read several XML files inside a ZIP, from a single InputStream.\r\n\r\nThe method would open a ZipInputStream, and on each xml file, get the corresponding InputStream, and give it to my XML parser. Here is the skeleton of the method : \r\n\r\n\tprivate void readZip(InputStream is) throws IOException {\r\n\r\n\t\tZipInputStream zis = new ZipInputStream(is);\r\n\t\tZipEntry entry = zis.getNextEntry();\r\n\r\n\t\twhile (entry != null) {\r\n\r\n\t\t\tif (entry.getName().endsWith(&quot;.xml&quot;)) {\r\n\r\n\t\t\t\t// READ THE STREAM\r\n\t\t\t}\r\n\t\t\tentry = zis.getNextEntry();\r\n\t\t}\r\n\t}\r\n\r\nThe problematic part is the &quot;// READ THE STREAM&quot;. I have a working solution, which consist to create a ByteArrayInputStream, and feed my parser with it. But it uses a buffer, and for large files I get an OutOfMemoryError. Here is the code, if someone is still interested :\r\n\r\n\tint count;\r\n\tbyte buffer[] = new byte[2048];\r\n\tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\twhile ((count = zis.read(buffer)) != -1) { out.write(buffer, 0, count); }       \r\n\tInputStream is = new ByteArrayInputStream(out.toByteArray());\r\n\r\nThe ideal solution would be to feed the parser with the original ZipInputStream. It should works, because it works if I just print the entry content with a Scanner :\r\n\r\n\tScanner sc = new Scanner(zis);\r\n\twhile (sc.hasNextLine())\r\n\t{\r\n\t    System.out.println(sc.nextLine());\r\n\t}\r\n\r\nBut... The parser I&#39;m currently using (jdom2, but I also tried with javax.xml.parsers.DocumentBuilderFactory) closes the stream after parsing the data :/ . So I&#39;m unable to get the next entry and continue.\r\n\r\nSo finally the question is :\r\n\r\n- Does anybody know a DOM parser that doesn&#39;t close its stream ?\r\n- Is there another way to have an InputStream from a ZipEntry ?\r\n\r\nThanks.\r\n","title":"Java create InputStream from ZipInputStream entry","body":"<p>I would like to write a method that read several XML files inside a ZIP, from a single InputStream.</p>\n\n<p>The method would open a ZipInputStream, and on each xml file, get the corresponding InputStream, and give it to my XML parser. Here is the skeleton of the method : </p>\n\n<pre><code>private void readZip(InputStream is) throws IOException {\n\n    ZipInputStream zis = new ZipInputStream(is);\n    ZipEntry entry = zis.getNextEntry();\n\n    while (entry != null) {\n\n        if (entry.getName().endsWith(\".xml\")) {\n\n            // READ THE STREAM\n        }\n        entry = zis.getNextEntry();\n    }\n}\n</code></pre>\n\n<p>The problematic part is the \"// READ THE STREAM\". I have a working solution, which consist to create a ByteArrayInputStream, and feed my parser with it. But it uses a buffer, and for large files I get an OutOfMemoryError. Here is the code, if someone is still interested :</p>\n\n<pre><code>int count;\nbyte buffer[] = new byte[2048];\nByteArrayOutputStream out = new ByteArrayOutputStream();\nwhile ((count = zis.read(buffer)) != -1) { out.write(buffer, 0, count); }       \nInputStream is = new ByteArrayInputStream(out.toByteArray());\n</code></pre>\n\n<p>The ideal solution would be to feed the parser with the original ZipInputStream. It should works, because it works if I just print the entry content with a Scanner :</p>\n\n<pre><code>Scanner sc = new Scanner(zis);\nwhile (sc.hasNextLine())\n{\n    System.out.println(sc.nextLine());\n}\n</code></pre>\n\n<p>But... The parser I'm currently using (jdom2, but I also tried with javax.xml.parsers.DocumentBuilderFactory) closes the stream after parsing the data :/ . So I'm unable to get the next entry and continue.</p>\n\n<p>So finally the question is :</p>\n\n<ul>\n<li>Does anybody know a DOM parser that doesn't close its stream ?</li>\n<li>Is there another way to have an InputStream from a ZipEntry ?</li>\n</ul>\n\n<p>Thanks.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-connect"],"comments":[{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":1,"creation_date":1665062291,"post_id":73974484,"comment_id":130614837,"body_markdown":"you can try following document to create custom connector\nhttps://www.confluent.io/blog/create-dynamic-kafka-connect-source-connectors/","body":"you can try following document to create custom connector <a href=\"https://www.confluent.io/blog/create-dynamic-kafka-connect-source-connectors/\" rel=\"nofollow noreferrer\">confluent.io/blog/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665067756,"creation_date":1665067756,"answer_id":73975840,"question_id":73974484,"body_markdown":"Apache Kafka is open source, and you can find [the Connect source code here](https://github.com/apache/kafka/tree/trunk/connect). \r\n\r\nBut if you just want to create a source connector, the internals will not really help you do that. \r\n\r\nConfluent [has a blog post](https://www.confluent.io/blog/create-dynamic-kafka-connect-source-connectors/) on developing custom source connectors. \r\n\r\nAlternatively, you could not &quot;reinvent the wheel&quot; yourself, and use projects like [Apache Camel](https://camel.apache.org/camel-kafka-connector/1.0.x/user-guide/index.html) to see if they support a source system you&#39;re using. ","title":"Kafka Connect internal architecture","body":"<p>Apache Kafka is open source, and you can find <a href=\"https://github.com/apache/kafka/tree/trunk/connect\" rel=\"nofollow noreferrer\">the Connect source code here</a>.</p>\n<p>But if you just want to create a source connector, the internals will not really help you do that.</p>\n<p>Confluent <a href=\"https://www.confluent.io/blog/create-dynamic-kafka-connect-source-connectors/\" rel=\"nofollow noreferrer\">has a blog post</a> on developing custom source connectors.</p>\n<p>Alternatively, you could not &quot;reinvent the wheel&quot; yourself, and use projects like <a href=\"https://camel.apache.org/camel-kafka-connector/1.0.x/user-guide/index.html\" rel=\"nofollow noreferrer\">Apache Camel</a> to see if they support a source system you're using.</p>\n"}],"owner":{"account_id":18407085,"reputation":1,"user_id":13408512,"display_name":"Murali Kantineni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1665067796,"creation_date":1665062139,"question_id":73974484,"body_markdown":"I am trying to understand the internal nuances of Kafka connect, like how the design has been implemented and which patterns are used. \r\n\r\nspecifically I want to understand how to develop similar app which can take input configuration and start acting according to the configuration, so when we have to implement some new feature we can just write connects. So others need not to spend more time in reinventing the wheel. \r\n","title":"Kafka Connect internal architecture","body":"<p>I am trying to understand the internal nuances of Kafka connect, like how the design has been implemented and which patterns are used.</p>\n<p>specifically I want to understand how to develop similar app which can take input configuration and start acting according to the configuration, so when we have to implement some new feature we can just write connects. So others need not to spend more time in reinventing the wheel.</p>\n"},{"tags":["java","gradle","intellij-idea","wsdl2java","cannot-find-symbol"],"comments":[{"owner":{"account_id":3267829,"reputation":1343,"user_id":2751962,"accept_rate":100,"display_name":"anavaras lamurep"},"score":0,"creation_date":1665068495,"post_id":73975819,"comment_id":130617431,"body_markdown":"What files produced from plugin ? Is it .java or .class files in build folder? , i remember wsdl produces .java files in build folder , you need to copy paste to src directory manually to further proceed and code.","body":"What files produced from plugin ? Is it .java or .class files in build folder? , i remember wsdl produces .java files in build folder , you need to copy paste to src directory manually to further proceed and code."},{"owner":{"account_id":3267829,"reputation":1343,"user_id":2751962,"accept_rate":100,"display_name":"anavaras lamurep"},"score":0,"creation_date":1665068769,"post_id":73975819,"comment_id":130617535,"body_markdown":"I just saw images , package conventions are also weird, you have com.somthing in main but genearted classes have fr.company name.Try to follow proper convention.","body":"I just saw images , package conventions are also weird, you have com.somthing in main but genearted classes have fr.company name.Try to follow proper convention."},{"owner":{"account_id":26478352,"reputation":1,"user_id":20117934,"display_name":"ISMAEL BOUADI"},"score":0,"creation_date":1665125347,"post_id":73975819,"comment_id":130630365,"body_markdown":"@anavaraslamurep the files produced are .java","body":"@anavaraslamurep the files produced are .java"},{"owner":{"account_id":3267829,"reputation":1343,"user_id":2751962,"accept_rate":100,"display_name":"anavaras lamurep"},"score":0,"creation_date":1665126843,"post_id":73975819,"comment_id":130630854,"body_markdown":"you need to put those files inside src directory from build folder and try to have proper package namings.","body":"you need to put those files inside src directory from build folder and try to have proper package namings."},{"owner":{"account_id":26478352,"reputation":1,"user_id":20117934,"display_name":"ISMAEL BOUADI"},"score":0,"creation_date":1665131583,"post_id":73975819,"comment_id":130632343,"body_markdown":"@anavaraslamurep i don&#39;t know how to do that, shoud i just mark those file as source root or what ??","body":"@anavaraslamurep i don&#39;t know how to do that, shoud i just mark those file as source root or what ??"}],"owner":{"account_id":26478352,"reputation":1,"user_id":20117934,"display_name":"ISMAEL BOUADI"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665067662,"creation_date":1665067662,"question_id":73975819,"body_markdown":"I am using wsdl2java plugin for genreating wsdl in a gradle project.  I am using intellij.\r\n\r\nNow the functionality of JAXB seems fine and from some XSD schema several Java classes are generated in build/ folder.\r\n The problem is Intellijg cannot resolve those classes in main project it gives me the error package not found.\r\n I even manually import those package name but still the class names are not resolvable. \r\nIs there anything I am missing?\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NlJkH.png","title":"Package not found and generated classes are not recognized","body":"<p>I am using wsdl2java plugin for genreating wsdl in a gradle project.  I am using intellij.</p>\n<p>Now the functionality of JAXB seems fine and from some XSD schema several Java classes are generated in build/ folder.\nThe problem is Intellijg cannot resolve those classes in main project it gives me the error package not found.\nI even manually import those package name but still the class names are not resolvable.\nIs there anything I am missing?\n<a href=\"https://i.stack.imgur.com/NlJkH.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":3,"creation_date":1665066407,"post_id":73975480,"comment_id":130616550,"body_markdown":"`System.out.print(myArray[1] + myArray[3])` - Is this attempt failing in some way?  It&#39;s not clear to me what the problem is.","body":"<code>System.out.print(myArray[1] + myArray[3])</code> - Is this attempt failing in some way?  It&#39;s not clear to me what the problem is."},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":5,"creation_date":1665066414,"post_id":73975480,"comment_id":130616552,"body_markdown":"Nope, no such syntax in Java.","body":"Nope, no such syntax in Java."},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":0,"creation_date":1665066452,"post_id":73975480,"comment_id":130616568,"body_markdown":"Why would you expect a variable declared to hold a single `int` to be able to hold multiple `int`s?","body":"Why would you expect a variable declared to hold a single <code>int</code> to be able to hold multiple <code>int</code>s?"},{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1665066512,"post_id":73975480,"comment_id":130616592,"body_markdown":"What you seem to be referring to is known as a `slice` in some languages; Java is not one of them.","body":"What you seem to be referring to is known as a <code>slice</code> in some languages; Java is not one of them."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1665066567,"post_id":73975480,"comment_id":130616620,"body_markdown":"Btw, `Arrays.copyOfRange` doesn&#39;t let you access &quot;consecutive indexes&quot;, it creates a *copy* of the provided array in a range (hence the name of the method). So you&#39;re creating a subarray that you&#39;ll have to access element-wise just like in your working example.","body":"Btw, <code>Arrays.copyOfRange</code> doesn&#39;t let you access &quot;consecutive indexes&quot;, it creates a <i>copy</i> of the provided array in a range (hence the name of the method). So you&#39;re creating a subarray that you&#39;ll have to access element-wise just like in your working example."},{"owner":{"account_id":19057800,"reputation":3,"user_id":13914550,"display_name":"Kevin.J"},"score":0,"creation_date":1665066999,"post_id":73975480,"comment_id":130616775,"body_markdown":"Thank you all for your comments! I think Scott pointed out exactly what I was trying to say as I am new to Java.","body":"Thank you all for your comments! I think Scott pointed out exactly what I was trying to say as I am new to Java."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665067426,"creation_date":1665067426,"answer_id":73975747,"question_id":73975480,"body_markdown":"It is not possible to access different indices &quot;at once&quot;, but you can easily print multiple values:\r\n\r\n```\r\nSystem.out.printf(&quot;%d, %d&quot;, myArray[1], myArray[3])\r\n```","title":"Java - Access two or multiple specific indexes of an array","body":"<p>It is not possible to access different indices &quot;at once&quot;, but you can easily print multiple values:</p>\n<pre><code>System.out.printf(&quot;%d, %d&quot;, myArray[1], myArray[3])\n</code></pre>\n"}],"owner":{"account_id":19057800,"reputation":3,"user_id":13914550,"display_name":"Kevin.J"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73975747,"answer_count":1,"score":-2,"last_activity_date":1665067426,"creation_date":1665066326,"question_id":73975480,"body_markdown":"Is there a way in Java to access two or more non-consecutive indexes of an array at the same time?\r\n\r\nFor example, I have the following array:\r\n\r\n```int myArray = {1, 3, 5, 7, 9}```\r\n\r\nI know I can access one single index or consecutive indexes (using Arrays.copyOfRange) of this array. But if want to print out indexes 1 and 3 of this array; do I have to use the following:\r\n\r\n```System.out.print(myArray[1] + myArray[3])```\r\n\r\nI am expecting some syntax like the following; clearly, they are wrong\r\n\r\n```System.out.print(myArray[1,3])```\r\n\r\nor\r\n\r\n```int indexes = {1,3}```\r\n\r\n```System.out.print(myArray[indexes])```","title":"Java - Access two or multiple specific indexes of an array","body":"<p>Is there a way in Java to access two or more non-consecutive indexes of an array at the same time?</p>\n<p>For example, I have the following array:</p>\n<p><code>int myArray = {1, 3, 5, 7, 9}</code></p>\n<p>I know I can access one single index or consecutive indexes (using Arrays.copyOfRange) of this array. But if want to print out indexes 1 and 3 of this array; do I have to use the following:</p>\n<p><code>System.out.print(myArray[1] + myArray[3])</code></p>\n<p>I am expecting some syntax like the following; clearly, they are wrong</p>\n<p><code>System.out.print(myArray[1,3])</code></p>\n<p>or</p>\n<p><code>int indexes = {1,3}</code></p>\n<p><code>System.out.print(myArray[indexes])</code></p>\n"},{"tags":["java","akka","actor"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1665036900,"post_id":73969099,"comment_id":130605929,"body_markdown":"From reading the [documentation](https://doc.akka.io/japi/akka/current/akka/actor/ActorSystem.html) it seems like `whenTerminated()` waits for termination that may happen while `terminate()` triggers termination and returns the future to wait for the result - Javadoc on `terminate()` states: &quot;Terminates this actor system ...&quot;. So I&#39;d say unless you want to start termination right away use `whenTerminated()`.","body":"From reading the <a href=\"https://doc.akka.io/japi/akka/current/akka/actor/ActorSystem.html\" rel=\"nofollow noreferrer\">documentation</a> it seems like <code>whenTerminated()</code> waits for termination that may happen while <code>terminate()</code> triggers termination and returns the future to wait for the result - Javadoc on <code>terminate()</code> states: &quot;Terminates this actor system ...&quot;. So I&#39;d say unless you want to start termination right away use <code>whenTerminated()</code>."},{"owner":{"account_id":7017434,"reputation":121,"user_id":5378247,"accept_rate":0,"display_name":"Rajat"},"score":0,"creation_date":1665043296,"post_id":73969099,"comment_id":130607799,"body_markdown":"Thanks Thomas for your reply. So did you mean Future returned by terminate() and Future returned by whenTerminated() would differ ?","body":"Thanks Thomas for your reply. So did you mean Future returned by terminate() and Future returned by whenTerminated() would differ ?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1665047430,"post_id":73969099,"comment_id":130609180,"body_markdown":"I&#39;d guess the futures are providing the same data and complete at the same time, for me it looks the difference is whether termination is triggered right away or not.","body":"I&#39;d guess the futures are providing the same data and complete at the same time, for me it looks the difference is whether termination is triggered right away or not."}],"answers":[{"tags":[],"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665067129,"creation_date":1665067129,"answer_id":73975669,"question_id":73969099,"body_markdown":"The future returned by `ActorSystem.terminate()` is in fact `ActorSystem.whenTerminated()`, as can be seen [in the source code][1].  The only difference is that `whenTerminated` gives you a future which tells you when the termination has completed, while `terminate` actually starts the process of termination.\r\n\r\nSo in a process which is trying to stop the actor system, there&#39;s not really a difference between:\r\n\r\n```java\r\nscala.compat.java8.FutureConverters.toJava(actorSystem.terminate())\r\n    .thenAccept(t -&gt; System.out.println(t))\r\n    .join();\r\n```\r\n\r\nand\r\n\r\n```java\r\nactorSystem.terminate();\r\nactorSystem.getWhenTerminated()\r\n    .thenAccept(t -&gt; System.out.println(t))\r\n    .join();\r\n```\r\n\r\nHowever,\r\n\r\n```java\r\nactorSystem.getWhenTerminated()\r\n    .thenAccept(t -&gt; System.out.println(t))\r\n    .join();\r\n```\r\n\r\ncould be anywhere else in the system (e.g. in your `main`) relative to the `terminate` call.\r\n\r\n  [1]: https://github.com/akka/akka/blob/77d757c4ec74ecb231256f5b76f7bdd2fc797b7a/akka-actor/src/main/scala/akka/actor/ActorSystem.scala#L1058","title":"Is there any difference between Future&lt;Terminated&gt; returned by ActorSystem.terminate() vs ActorSystem.whenTerminated()?","body":"<p>The future returned by <code>ActorSystem.terminate()</code> is in fact <code>ActorSystem.whenTerminated()</code>, as can be seen <a href=\"https://github.com/akka/akka/blob/77d757c4ec74ecb231256f5b76f7bdd2fc797b7a/akka-actor/src/main/scala/akka/actor/ActorSystem.scala#L1058\" rel=\"nofollow noreferrer\">in the source code</a>.  The only difference is that <code>whenTerminated</code> gives you a future which tells you when the termination has completed, while <code>terminate</code> actually starts the process of termination.</p>\n<p>So in a process which is trying to stop the actor system, there's not really a difference between:</p>\n<pre class=\"lang-java prettyprint-override\"><code>scala.compat.java8.FutureConverters.toJava(actorSystem.terminate())\n    .thenAccept(t -&gt; System.out.println(t))\n    .join();\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>actorSystem.terminate();\nactorSystem.getWhenTerminated()\n    .thenAccept(t -&gt; System.out.println(t))\n    .join();\n</code></pre>\n<p>However,</p>\n<pre class=\"lang-java prettyprint-override\"><code>actorSystem.getWhenTerminated()\n    .thenAccept(t -&gt; System.out.println(t))\n    .join();\n</code></pre>\n<p>could be anywhere else in the system (e.g. in your <code>main</code>) relative to the <code>terminate</code> call.</p>\n"}],"owner":{"account_id":7017434,"reputation":121,"user_id":5378247,"accept_rate":0,"display_name":"Rajat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1665067129,"creation_date":1665034967,"question_id":73969099,"body_markdown":"I have my java application uses Akka framework for message routing. During application startup I create Actor System and then creates number of top level actors. Now while shutting down my application, I call  Await.result(actorSystem.terminate(), Duration.Inf()) and want my shutdown thread wait till actor system terminates. I came across other API ActorSystem.whenTerminated() which too return Future&lt;Terminated&gt; and does similar stuff.. Just want to know the difference between these two API&#39;s? should I use ActorSystem.whenTerminated() instead ?","title":"Is there any difference between Future&lt;Terminated&gt; returned by ActorSystem.terminate() vs ActorSystem.whenTerminated()?","body":"<p>I have my java application uses Akka framework for message routing. During application startup I create Actor System and then creates number of top level actors. Now while shutting down my application, I call  Await.result(actorSystem.terminate(), Duration.Inf()) and want my shutdown thread wait till actor system terminates. I came across other API ActorSystem.whenTerminated() which too return Future and does similar stuff.. Just want to know the difference between these two API's? should I use ActorSystem.whenTerminated() instead ?</p>\n"},{"tags":["java","android","okhttp"],"answers":[{"comments":[{"owner":{"account_id":1288547,"reputation":337,"user_id":1241118,"display_name":"Mathias Versichele"},"score":0,"creation_date":1665071775,"post_id":73975644,"comment_id":130618814,"body_markdown":"Sadly, still doesn&#39;t work","body":"Sadly, still doesn&#39;t work"},{"owner":{"account_id":1288547,"reputation":337,"user_id":1241118,"display_name":"Mathias Versichele"},"score":0,"creation_date":1665072312,"post_id":73975644,"comment_id":130619053,"body_markdown":"Regardless, seems like the call worked and I put the result in a String. I can &quot;print&quot; the string and then... nothing. Logcat doesn&#39;t show anything relevant.","body":"Regardless, seems like the call worked and I put the result in a String. I can &quot;print&quot; the string and then... nothing. Logcat doesn&#39;t show anything relevant."},{"owner":{"account_id":232182,"reputation":6622,"user_id":496854,"accept_rate":61,"display_name":"user496854"},"score":0,"creation_date":1665076561,"post_id":73975644,"comment_id":130620568,"body_markdown":"ok, try removing the 1st log line, and only leave the 2nd one. Maybe it&#39;s crashing once you actually access your peeked response (the exception may be caught somewhere upstream, and never shown in logcat)","body":"ok, try removing the 1st log line, and only leave the 2nd one. Maybe it&#39;s crashing once you actually access your peeked response (the exception may be caught somewhere upstream, and never shown in logcat)"},{"owner":{"account_id":1288547,"reputation":337,"user_id":1241118,"display_name":"Mathias Versichele"},"score":0,"creation_date":1665082525,"post_id":73975644,"comment_id":130622450,"body_markdown":"Ok, I was set of by a wrapper function which logged the same, my onresponse is never reached...","body":"Ok, I was set of by a wrapper function which logged the same, my onresponse is never reached..."}],"tags":[],"owner":{"account_id":232182,"reputation":6622,"user_id":496854,"accept_rate":61,"display_name":"user496854"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665067029,"creation_date":1665067029,"answer_id":73975644,"question_id":73974976,"body_markdown":"Try changing your `peekBody()` size down to something small, like 99L, and see what happens. There&#39;s a good chance that you&#39;re trying to peek too much data","title":"Fetching the response with peekBody() somehow blocks any following code","body":"<p>Try changing your <code>peekBody()</code> size down to something small, like 99L, and see what happens. There's a good chance that you're trying to peek too much data</p>\n"}],"owner":{"account_id":1288547,"reputation":337,"user_id":1241118,"display_name":"Mathias Versichele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73975644,"answer_count":1,"score":0,"last_activity_date":1665067029,"creation_date":1665064124,"question_id":73974976,"body_markdown":"Somewhere in my code I consume the response of a http call:\r\n\r\n    @Override\r\n                    public void onResponse(Call call, final okhttp3.Response response) throws IOException {\r\n                        String res = response.peekBody(99999L).string();\r\n                        //String res = response.body().string();\r\n                        Log.d(&quot;shalocmo&quot;, &quot;okhttp3:&quot; + res);\r\n                        Log.d(&quot;shalocmo&quot;, &quot;okhttp3: here&quot;);\r\n\r\n\r\n\r\n\r\nFirst debug line with return string returns perfectly. Second debug line never appears... According to docs and common sense (I don&#39;t do anything in between both lines), I don&#39;t understand why it would never appear. I don&#39;t get any exceptions, or Error messages except the &quot;E/memtrack: Couldn&#39;t load memtrack module&quot; message I get all over the place. Can anybody help me out here ?","title":"Fetching the response with peekBody() somehow blocks any following code","body":"<p>Somewhere in my code I consume the response of a http call:</p>\n<pre><code>@Override\n                public void onResponse(Call call, final okhttp3.Response response) throws IOException {\n                    String res = response.peekBody(99999L).string();\n                    //String res = response.body().string();\n                    Log.d(&quot;shalocmo&quot;, &quot;okhttp3:&quot; + res);\n                    Log.d(&quot;shalocmo&quot;, &quot;okhttp3: here&quot;);\n</code></pre>\n<p>First debug line with return string returns perfectly. Second debug line never appears... According to docs and common sense (I don't do anything in between both lines), I don't understand why it would never appear. I don't get any exceptions, or Error messages except the &quot;E/memtrack: Couldn't load memtrack module&quot; message I get all over the place. Can anybody help me out here ?</p>\n"},{"tags":["java","c++","eclipse","ide","eclipse-cdt"],"comments":[{"owner":{"account_id":4705420,"reputation":47683,"user_id":3807729,"display_name":"Galik"},"score":3,"creation_date":1483955537,"post_id":41545073,"comment_id":70294876,"body_markdown":"IIRC its the menu option: `Window-&gt;Perspective-&gt;Open Perspective-&gt;...` and then hunt around for the `Java` perspective.","body":"IIRC its the menu option: <code>Window-&gt;Perspective-&gt;Open Perspective-&gt;...</code> and then hunt around for the <code>Java</code> perspective."}],"answers":[{"tags":[],"owner":{"display_name":"user6244076"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484243345,"creation_date":1484242973,"answer_id":41619672,"question_id":41545073,"body_markdown":"You can change perspectives by accessing `Window&gt;Perspective&gt;Open Perspective&gt;..`, however there are some buttons on the right of the toolbar for switching perspectives and a button for adding new perspective switch buttons, so you can use those to switch perspectives rapidly.","title":"How do I switch perspectives Eclipse?","body":"<p>You can change perspectives by accessing <code>Window&gt;Perspective&gt;Open Perspective&gt;..</code>, however there are some buttons on the right of the toolbar for switching perspectives and a button for adding new perspective switch buttons, so you can use those to switch perspectives rapidly.</p>\n"},{"tags":[],"owner":{"account_id":13148677,"reputation":73,"user_id":9497980,"display_name":"Sempai"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665066981,"creation_date":1665066149,"answer_id":73975439,"question_id":41545073,"body_markdown":"The general Eclipse shortcut for switching perspectives is: \r\n\r\n    Ctrl+F8\r\n\r\nIf you hold down Ctrl longer, you can choose to which perspective to jump.\r\n\r\nSee Eclipse tutorial about shortcuts:\r\n[here][1]\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/eclipse/eclipse_shortcuts.htm","title":"How do I switch perspectives Eclipse?","body":"<p>The general Eclipse shortcut for switching perspectives is:</p>\n<pre><code>Ctrl+F8\n</code></pre>\n<p>If you hold down Ctrl longer, you can choose to which perspective to jump.</p>\n<p>See Eclipse tutorial about shortcuts:\n<a href=\"https://www.tutorialspoint.com/eclipse/eclipse_shortcuts.htm\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":1211489,"reputation":20463,"user_id":1179925,"accept_rate":47,"display_name":"mrgloom"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1665066981,"creation_date":1483955265,"question_id":41545073,"body_markdown":"I&#39;m developing a C++ application with Eclipse CDT but sometimes I need to work with Java projects.\r\n\r\nHow do you switch between the Java and C++ eclipse environments?","title":"How do I switch perspectives Eclipse?","body":"<p>I'm developing a C++ application with Eclipse CDT but sometimes I need to work with Java projects.</p>\n\n<p>How do you switch between the Java and C++ eclipse environments?</p>\n"},{"tags":["java","eclipse","debugging"],"comments":[{"owner":{"account_id":6701716,"reputation":268,"user_id":5167971,"display_name":"Dark Army"},"score":0,"creation_date":1447855637,"post_id":33781895,"comment_id":55330831,"body_markdown":"Whenever you dubug any code the perspective gets changed to dubug so even after the dubug is complete you are still in that mode only so inorder to change the mode just manually change the mode to java or javaee which ever you are using from top right corner in eclipse.","body":"Whenever you dubug any code the perspective gets changed to dubug so even after the dubug is complete you are still in that mode only so inorder to change the mode just manually change the mode to java or javaee which ever you are using from top right corner in eclipse."}],"answers":[{"tags":[],"owner":{"account_id":7299697,"reputation":250,"user_id":5563000,"accept_rate":100,"display_name":"Linksx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1447864499,"creation_date":1447859245,"answer_id":33783543,"question_id":33781895,"body_markdown":"In Eclipse there are buttons to select the *[Perspective][1]* (eg, Resources, Java, Debug, etc). When you are on Debug, the button Debug is on. If you want to go back to another Perspective, just press the corresponding button.\r\n\r\nRead more [here][2] and [here][3].\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: http://help.eclipse.org/mars/index.jsp?topic=%2Forg.eclipse.platform.doc.user%2Fconcepts%2Fconcepts-4.htm\r\n  [2]: https://stackoverflow.com/q/6650353/639520\r\n  [3]: https://eclipse.org/articles/using-perspectives/PerspectiveArticle.html\r\n  [4]: http://i.stack.imgur.com/RQXGG.jpg","title":"Eclipse does not return to code view after debugging exit","body":"<p>In Eclipse there are buttons to select the <em><a href=\"http://help.eclipse.org/mars/index.jsp?topic=%2Forg.eclipse.platform.doc.user%2Fconcepts%2Fconcepts-4.htm\" rel=\"nofollow noreferrer\">Perspective</a></em> (eg, Resources, Java, Debug, etc). When you are on Debug, the button Debug is on. If you want to go back to another Perspective, just press the corresponding button.</p>\n\n<p>Read more <a href=\"https://stackoverflow.com/q/6650353/639520\">here</a> and <a href=\"https://eclipse.org/articles/using-perspectives/PerspectiveArticle.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/RQXGG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RQXGG.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":13148677,"reputation":73,"user_id":9497980,"display_name":"Sempai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665066887,"creation_date":1665066887,"answer_id":73975604,"question_id":33781895,"body_markdown":"Short answer: \r\nIt&#39;s not possible (out of the box). \r\n\r\nAn Eclipse bug ticket exists, requesting this feature: \r\n[Bug 46336][1]\r\n\r\n\r\nAlternatively you can easily switch perspectives with: \r\nCtrl + F8.\r\nSee [Shotcuts tutorial][2]\r\n\r\nor install a plugin:\r\n[Eclipse plugin][3]\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=46336\r\n  [2]: https://www.tutorialspoint.com/eclipse/eclipse_shortcuts.htm\r\n  [3]: https://marketplace.eclipse.org/content/debug-perspective-auto-closer","title":"Eclipse does not return to code view after debugging exit","body":"<p>Short answer:\nIt's not possible (out of the box).</p>\n<p>An Eclipse bug ticket exists, requesting this feature:\n<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=46336\" rel=\"nofollow noreferrer\">Bug 46336</a></p>\n<p>Alternatively you can easily switch perspectives with:\nCtrl + F8.\nSee <a href=\"https://www.tutorialspoint.com/eclipse/eclipse_shortcuts.htm\" rel=\"nofollow noreferrer\">Shotcuts tutorial</a></p>\n<p>or install a plugin:\n<a href=\"https://marketplace.eclipse.org/content/debug-perspective-auto-closer\" rel=\"nofollow noreferrer\">Eclipse plugin</a></p>\n"}],"owner":{"account_id":2294975,"reputation":59,"user_id":2016641,"accept_rate":0,"display_name":"user2016641"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665066887,"creation_date":1447854886,"question_id":33781895,"body_markdown":"When I run my code in the debugger in Eclipse, it jumps to the various breakpoints I have set, but when I terminate the debugging session, it does not return me to my previous code editing location.\r\nHow can I make it return me to where I was working after a debugging session?\r\n","title":"Eclipse does not return to code view after debugging exit","body":"<p>When I run my code in the debugger in Eclipse, it jumps to the various breakpoints I have set, but when I terminate the debugging session, it does not return me to my previous code editing location.\nHow can I make it return me to where I was working after a debugging session?</p>\n"},{"tags":["java","websocket"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1665052045,"post_id":73972284,"comment_id":130610955,"body_markdown":"Google &quot;java websocket client&quot;","body":"Google &quot;java websocket client&quot;"},{"owner":{"account_id":13579254,"reputation":17,"user_id":9795754,"display_name":"Alessandro Provenzano"},"score":0,"creation_date":1665063660,"post_id":73972284,"comment_id":130615388,"body_markdown":"Yes, I have tried but I most tutorials either let me build the websocket and then send a message and receive the output or they ask me to import external APIs.\nMy aim is to connect to the ws and get the output without sending a message. Moreover I can not import any jar file, the maximum I can do is to use maven and its dependencies","body":"Yes, I have tried but I most tutorials either let me build the websocket and then send a message and receive the output or they ask me to import external APIs. My aim is to connect to the ws and get the output without sending a message. Moreover I can not import any jar file, the maximum I can do is to use maven and its dependencies"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1665124341,"post_id":73972284,"comment_id":130630073,"body_markdown":"My best bet is that you did it wrong. You dont have to send anything in order to receive messages via ws (except handshakes and subscriptions). What do you mean by &quot;importing external APIs&quot; ????????? If you mean libraries then that is correct as I dont think that JDK has built in WS support.","body":"My best bet is that you did it wrong. You dont have to send anything in order to receive messages via ws (except handshakes and subscriptions). What do you mean by &quot;importing external APIs&quot; ????????? If you mean libraries then that is correct as I dont think that JDK has built in WS support."}],"answers":[{"tags":[],"owner":{"account_id":140023,"reputation":814,"user_id":346027,"display_name":"anders"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665066533,"creation_date":1665066533,"answer_id":73975530,"question_id":73972284,"body_markdown":"this may be a start\r\n\r\npom.xml\r\n\r\n    &lt;dependency&gt;\r\n\t  &lt;groupId&gt;org.java-websocket&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;Java-WebSocket&lt;/artifactId&gt;\r\n\t  &lt;version&gt;1.5.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nimpl your client\r\n\r\n    private static class JavaWebSocketClient extends WebSocketClient {\r\n    \r\n     public JavaWebSocketClient(URI serverUri) {\r\n        super(serverUri);        \r\n     }\r\n     \r\n     @Override\r\n     public void onOpen(ServerHandshake handshakedata) {\r\n        System.out.println(&quot;Connected&quot;);\r\n        // do whatever        \r\n     }\r\n\r\n     @Override\r\n     public void onMessage(String message) {\r\n        System.out.println(&quot;got: &quot; + message);\r\n     }\r\n\r\n     @Override\r\n     public void onClose(int code, String reason, boolean remote) {\r\n        System.out.println(&quot;Disconnected&quot;);\r\n     }\r\n\r\n     @Override\r\n     public void onError(Exception ex) {\r\n        ex.printStackTrace();\r\n     }\r\n    }\r\n\r\nuse your client\r\n\r\n    JavaWebSocketClient client = new JavaWebSocketClient(new URI(URL));    \r\n    client.connectBlocking();","title":"Access a websocket using Java and print response","body":"<p>this may be a start</p>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.java-websocket&lt;/groupId&gt;\n  &lt;artifactId&gt;Java-WebSocket&lt;/artifactId&gt;\n  &lt;version&gt;1.5.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>impl your client</p>\n<pre><code>private static class JavaWebSocketClient extends WebSocketClient {\n\n public JavaWebSocketClient(URI serverUri) {\n    super(serverUri);        \n }\n \n @Override\n public void onOpen(ServerHandshake handshakedata) {\n    System.out.println(&quot;Connected&quot;);\n    // do whatever        \n }\n\n @Override\n public void onMessage(String message) {\n    System.out.println(&quot;got: &quot; + message);\n }\n\n @Override\n public void onClose(int code, String reason, boolean remote) {\n    System.out.println(&quot;Disconnected&quot;);\n }\n\n @Override\n public void onError(Exception ex) {\n    ex.printStackTrace();\n }\n}\n</code></pre>\n<p>use your client</p>\n<pre><code>JavaWebSocketClient client = new JavaWebSocketClient(new URI(URL));    \nclient.connectBlocking();\n</code></pre>\n"}],"owner":{"account_id":13579254,"reputation":17,"user_id":9795754,"display_name":"Alessandro Provenzano"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665066533,"creation_date":1665051946,"question_id":73972284,"body_markdown":"I have a websocket which I have tested by using Google Chrome.\r\nMy aim is to get the response from the websocket and print it by using Java.\r\nI have already done so by using this piece of code on Chrome:\r\n\r\n    var webSocket = new WebSocket(&#39;ws://address:port&#39;);\r\n    webSocket.onmessage = function(data) { console.log(data); }\r\n\r\nThis works really well, now I need to do the same but by using Java.\r\nAny advice on how to to this?\r\n\r\n","title":"Access a websocket using Java and print response","body":"<p>I have a websocket which I have tested by using Google Chrome.\nMy aim is to get the response from the websocket and print it by using Java.\nI have already done so by using this piece of code on Chrome:</p>\n<pre><code>var webSocket = new WebSocket('ws://address:port');\nwebSocket.onmessage = function(data) { console.log(data); }\n</code></pre>\n<p>This works really well, now I need to do the same but by using Java.\nAny advice on how to to this?</p>\n"},{"tags":["java","eclipse","java-10","javax.xml"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1539089781,"post_id":52719125,"comment_id":92368332,"body_markdown":"Why are you moving to Java 10 and not Java 11: java 10 is already EOL. According to the screenshot you have not imported things from the javax.xml.namespace package: do that first. In any case, post a [mcve], and specify whether you are also modularizing, as the javax.xml.* packages are in the module java.xml.","body":"Why are you moving to Java 10 and not Java 11: java 10 is already EOL. According to the screenshot you have not imported things from the javax.xml.namespace package: do that first. In any case, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and specify whether you are also modularizing, as the javax.xml.* packages are in the module java.xml."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1539123056,"post_id":52719125,"comment_id":92385146,"body_markdown":"I&#39;m not understanding your concern. In your screenshot the very first quick fix proposed is: _Import &#39;QName&#39; (java.xml.namespace)_. If you select that quick fix then isn&#39;t your problem resolved? Or is the issue that you **did** select that quick fix, but `QName` remained unresolved? Either way, please update your post to explicitly state what happens after you select that quick fix to import `QName`. As it stands your question is unclear on this point.","body":"I&#39;m not understanding your concern. In your screenshot the very first quick fix proposed is: <i>Import &#39;QName&#39; (java.xml.namespace)</i>. If you select that quick fix then isn&#39;t your problem resolved? Or is the issue that you <b>did</b> select that quick fix, but <code>QName</code> remained unresolved? Either way, please update your post to explicitly state what happens after you select that quick fix to import <code>QName</code>. As it stands your question is unclear on this point."},{"owner":{"account_id":1090482,"reputation":417,"user_id":1085225,"accept_rate":25,"display_name":"Ivan"},"score":0,"creation_date":1539300413,"post_id":52719125,"comment_id":92462843,"body_markdown":"Thanks for the comment and sorry that the screenshot is not clear. Actually if I select quick fix and import the class, the compiler still complaint that the class QName is not resolvable","body":"Thanks for the comment and sorry that the screenshot is not clear. Actually if I select quick fix and import the class, the compiler still complaint that the class QName is not resolvable"},{"owner":{"account_id":366241,"reputation":1735,"user_id":711659,"accept_rate":69,"display_name":"chrislhardin"},"score":0,"creation_date":1540203423,"post_id":52719125,"comment_id":92763358,"body_markdown":"I have this same issue... My pom has it, and Eclipse sees it and will even find it with ctrl-space but it complains it can&#39;t be resolved to a type all the same","body":"I have this same issue... My pom has it, and Eclipse sees it and will even find it with ctrl-space but it complains it can&#39;t be resolved to a type all the same"}],"answers":[{"tags":[],"owner":{"account_id":9563938,"reputation":81,"user_id":7103811,"display_name":"Wagner Lopes"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1545911458,"creation_date":1545911458,"answer_id":53944621,"question_id":52719125,"body_markdown":"I had the same error moving from Java 8 to Java 11,\r\nand I included an explicit dependency on the library stax-api 1.0-2:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.xml.stream&lt;/groupId&gt;\r\n      &lt;artifactId&gt;stax-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand excluded any transitional dependency on the library stax-api 1.0.1:\r\n\r\n        ...\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;stax&lt;/groupId&gt;\r\n          &lt;artifactId&gt;stax-api&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        ...\r\n\r\nAfter this, my IDE found the lost import javax.xml.namespace.QName correctly.\r\n\r\nI hope this helps.\r\n","title":"JDK 10 cannot import javax.xml.namespace in Eclipse","body":"<p>I had the same error moving from Java 8 to Java 11,\nand I included an explicit dependency on the library stax-api 1.0-2:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.xml.stream&lt;/groupId&gt;\n  &lt;artifactId&gt;stax-api&lt;/artifactId&gt;\n  &lt;version&gt;1.0-2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and excluded any transitional dependency on the library stax-api 1.0.1:</p>\n\n<pre><code>    ...\n    &lt;exclusion&gt;\n      &lt;groupId&gt;stax&lt;/groupId&gt;\n      &lt;artifactId&gt;stax-api&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    ...\n</code></pre>\n\n<p>After this, my IDE found the lost import javax.xml.namespace.QName correctly.</p>\n\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1549448837,"creation_date":1549448837,"answer_id":54551352,"question_id":52719125,"body_markdown":"Try to change the order of elements on your classpath. The JRE must be before the Maven Dependencies. That fixes the issue.\r\n\r\nMy guess is that the Java 10 compiler notices that you&#39;re trying to replace internal classes (`java.xml.namespace`) with code from JARs and it doesn&#39;t like that.","title":"JDK 10 cannot import javax.xml.namespace in Eclipse","body":"<p>Try to change the order of elements on your classpath. The JRE must be before the Maven Dependencies. That fixes the issue.</p>\n\n<p>My guess is that the Java 10 compiler notices that you're trying to replace internal classes (<code>java.xml.namespace</code>) with code from JARs and it doesn't like that.</p>\n"},{"tags":[],"owner":{"account_id":1507058,"reputation":2933,"user_id":1410212,"accept_rate":88,"display_name":"lilalinux"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1587646278,"creation_date":1587646278,"answer_id":61387697,"question_id":52719125,"body_markdown":"There probably is a duplicate dependency pulled in from some other dependency.\r\n\r\nIn eclipse do\r\n\r\n 1. &quot;Navivate -&gt; **Open Type...**&quot;\r\n 2. Type in &quot;java.xml.namespace&quot;.\r\n 3. If there are other results than from your (Open-)JDK, these need to be removed in the following steps. In my case it was xml-apis\r\n 4. Open your **pom.xml** in eclipse, and visit the &quot;**Dependency Hierarchy**&quot; tab to check which dependency was pulling in xml-apis\r\n 5. Type &quot;xml-apis&quot; in the Filter. In my case the top level dependency that was pulling xml-apis was &quot;esapi&quot;\r\n 6. exclude xml-apis from the esapi dependency:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.owasp.esapi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;esapi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.0.0&lt;/version&gt;\r\n\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n 7. Right click your Project and choose &quot;Maven -&gt; Update Project...&quot;. Check your project and click OK.\r\n\r\nThat&#39;s it","title":"JDK 10 cannot import javax.xml.namespace in Eclipse","body":"<p>There probably is a duplicate dependency pulled in from some other dependency.</p>\n\n<p>In eclipse do</p>\n\n<ol>\n<li>\"Navivate -> <strong>Open Type...</strong>\"</li>\n<li>Type in \"java.xml.namespace\".</li>\n<li>If there are other results than from your (Open-)JDK, these need to be removed in the following steps. In my case it was xml-apis</li>\n<li>Open your <strong>pom.xml</strong> in eclipse, and visit the \"<strong>Dependency Hierarchy</strong>\" tab to check which dependency was pulling in xml-apis</li>\n<li>Type \"xml-apis\" in the Filter. In my case the top level dependency that was pulling xml-apis was \"esapi\"</li>\n<li><p>exclude xml-apis from the esapi dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.owasp.esapi&lt;/groupId&gt;\n    &lt;artifactId&gt;esapi&lt;/artifactId&gt;\n    &lt;version&gt;2.2.0.0&lt;/version&gt;\n\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n            &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n\n&lt;/dependency&gt;\n</code></pre></li>\n<li>Right click your Project and choose \"Maven -> Update Project...\". Check your project and click OK.</li>\n</ol>\n\n<p>That's it</p>\n"},{"tags":[],"owner":{"account_id":2095857,"reputation":83,"user_id":1864647,"display_name":"Asanka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602607905,"creation_date":1602607905,"answer_id":64339688,"question_id":52719125,"body_markdown":"Resolved it by removing jsr173_api.jar from the project classpath (project -&gt; properties -&gt; java build path -&gt; libraries -&gt; classpath). It appears again when eclipse project rebuilt.","title":"JDK 10 cannot import javax.xml.namespace in Eclipse","body":"<p>Resolved it by removing jsr173_api.jar from the project classpath (project -&gt; properties -&gt; java build path -&gt; libraries -&gt; classpath). It appears again when eclipse project rebuilt.</p>\n"},{"tags":[],"owner":{"account_id":16250973,"reputation":1,"user_id":11734967,"display_name":"Lamiya Basheer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618425529,"creation_date":1618414033,"answer_id":67094620,"question_id":52719125,"body_markdown":"This worked! Checking for multipletypes &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;T&lt;/kbd&gt;, removing unwanted ones.","title":"JDK 10 cannot import javax.xml.namespace in Eclipse","body":"<p>This worked! Checking for multipletypes <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>T</kbd>, removing unwanted ones.</p>\n"},{"tags":[],"owner":{"account_id":502547,"reputation":1326,"user_id":1241115,"display_name":"Patrice Gagnon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665066368,"creation_date":1665066368,"answer_id":73975488,"question_id":52719125,"body_markdown":"I have had the same experience with the JRE 11, and Gradle 7.5. If it helps anyone, you can exclude xml-apis as such:\r\n\r\n    configurations {\r\n        all {\r\n            exclude group: &#39;xml-apis&#39;, module: &#39;xml-apis&#39;\r\n        }\r\n    }\r\n\r\n","title":"JDK 10 cannot import javax.xml.namespace in Eclipse","body":"<p>I have had the same experience with the JRE 11, and Gradle 7.5. If it helps anyone, you can exclude xml-apis as such:</p>\n<pre><code>configurations {\n    all {\n        exclude group: 'xml-apis', module: 'xml-apis'\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1090482,"reputation":417,"user_id":1085225,"accept_rate":25,"display_name":"Ivan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36862,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":6,"score":11,"last_activity_date":1665066368,"creation_date":1539081858,"question_id":52719125,"body_markdown":"It&#39;s very strange. I am moving a dynamic web project from Java 8 to Java 10.\r\n\r\nThe last thing I cannot get the dependency resolved is the javax.xml.namespace.QName class.\r\n\r\nYou can see in the attached screen shot, the QName class exist in JRE System Library, but the IDE keep complaining that QName cannot be resolved to a type.\r\n[![screen shot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SyvSW.png","title":"JDK 10 cannot import javax.xml.namespace in Eclipse","body":"<p>It's very strange. I am moving a dynamic web project from Java 8 to Java 10.</p>\n\n<p>The last thing I cannot get the dependency resolved is the javax.xml.namespace.QName class.</p>\n\n<p>You can see in the attached screen shot, the QName class exist in JRE System Library, but the IDE keep complaining that QName cannot be resolved to a type.\n<a href=\"https://i.stack.imgur.com/SyvSW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SyvSW.png\" alt=\"screen shot\"></a></p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":19003227,"reputation":57,"user_id":13911459,"display_name":"gilvictor"},"score":0,"creation_date":1665053011,"post_id":73972426,"comment_id":130611329,"body_markdown":"Hi, it worked for the findByXXX, but still not working for &quot; Boolean existByXXX&quot;. In my example repository: Boolean existByChannel(String channel). The error says &quot;No property &quot;existByChannel&quot; found for type &#39;Control&#39;","body":"Hi, it worked for the findByXXX, but still not working for &quot; Boolean existByXXX&quot;. In my example repository: Boolean existByChannel(String channel). The error says &quot;No property &quot;existByChannel&quot; found for type &#39;Control&#39;"},{"owner":{"account_id":13267339,"reputation":35,"user_id":9579650,"display_name":"Asekeeewka"},"score":0,"creation_date":1665053301,"post_id":73972426,"comment_id":130611423,"body_markdown":"Try writing the column name, if it is not showing then probably you&#39;re doing wrong naming. For example for Boolean fields you should do like &quot;findByIsFalse()&quot;","body":"Try writing the column name, if it is not showing then probably you&#39;re doing wrong naming. For example for Boolean fields you should do like &quot;findByIsFalse()&quot;"},{"owner":{"account_id":19003227,"reputation":57,"user_id":13911459,"display_name":"gilvictor"},"score":0,"creation_date":1665054080,"post_id":73972426,"comment_id":130611684,"body_markdown":"it does not work... should be something wrong with my files but i do not know why...","body":"it does not work... should be something wrong with my files but i do not know why..."}],"tags":[],"owner":{"account_id":13267339,"reputation":35,"user_id":9579650,"display_name":"Asekeeewka"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665052581,"creation_date":1665052581,"answer_id":73972426,"question_id":73972379,"body_markdown":"try declaring the return type of method like\r\n```java\r\nvoid findByXXX\r\n```\r\nor \r\n```java\r\nControl findByXXX\r\n```","title":"Spring Boot JPA - JPA Repository does not list the findByXXX columns","body":"<p>try declaring the return type of method like</p>\n<pre class=\"lang-java prettyprint-override\"><code>void findByXXX\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>Control findByXXX\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19003227,"reputation":57,"user_id":13911459,"display_name":"gilvictor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665066310,"creation_date":1665066310,"answer_id":73975476,"question_id":73972379,"body_markdown":"the error i made regarding the exists was that when i created a custom method i was forgetting the final s on exists.\r\n\r\nThis is i was defining in my repo:\r\n\r\nboolean existByChannel(String channel);\r\n\r\nWhen it should be:\r\n\r\nboolean existsByChannel(String channel);\r\n\r\nWhat a rooky mistake. Sorry","title":"Spring Boot JPA - JPA Repository does not list the findByXXX columns","body":"<p>the error i made regarding the exists was that when i created a custom method i was forgetting the final s on exists.</p>\n<p>This is i was defining in my repo:</p>\n<p>boolean existByChannel(String channel);</p>\n<p>When it should be:</p>\n<p>boolean existsByChannel(String channel);</p>\n<p>What a rooky mistake. Sorry</p>\n"}],"owner":{"account_id":19003227,"reputation":57,"user_id":13911459,"display_name":"gilvictor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665066310,"creation_date":1665052364,"question_id":73972379,"body_markdown":"I create a spring-boot application with the follow maven dependencies:\r\n\r\n``` \r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hyperledger.fabric&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;fabric-gateway-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flyway-mysql&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n``` \r\n\r\nI created an entity Control like follows:\r\n\r\n```\r\nimport lombok.Data;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Data\r\npublic class Control {\r\n\r\n    @Id\r\n    private String id;\r\n    private String channel;\r\n    private String chaincode;\r\n\r\n}\r\n```\r\n\r\nAnd a repository for control:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bwtiy.png\r\n\r\nYou can see that it does not appear my Control columns in the findByXXX options..\r\n\r\nI do not know why..\r\n\r\nAny help is appreciated.","title":"Spring Boot JPA - JPA Repository does not list the findByXXX columns","body":"<p>I create a spring-boot application with the follow maven dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hyperledger.fabric&lt;/groupId&gt;\n            &lt;artifactId&gt;fabric-gateway-java&lt;/artifactId&gt;\n            &lt;version&gt;2.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-mysql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I created an entity Control like follows:</p>\n<pre><code>import lombok.Data;\n\nimport javax.persistence.*;\n\n@Entity\n@Data\npublic class Control {\n\n    @Id\n    private String id;\n    private String channel;\n    private String chaincode;\n\n}\n</code></pre>\n<p>And a repository for control:</p>\n<p><a href=\"https://i.stack.imgur.com/Bwtiy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bwtiy.png\" alt=\"enter image description here\" /></a></p>\n<p>You can see that it does not appear my Control columns in the findByXXX options..</p>\n<p>I do not know why..</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":12948889,"reputation":11,"user_id":9362351,"display_name":"maysam babaei"},"score":0,"creation_date":1654499519,"post_id":70511000,"comment_id":128096793,"body_markdown":"[There is a correct answer to this problem on this page ](https://stackoverflow.com/questions/69034879/how-can-i-resolve-the-error-the-mincompilesdk-31-specified-in-a-dependencys)","body":"[There is a correct answer to this problem on this page ](<a href=\"https://stackoverflow.com/questions/69034879/how-can-i-resolve-the-error-the-mincompilesdk-31-specified-in-a-dependencys\" title=\"how can i resolve the error the mincompilesdk 31 specified in a dependencys\">stackoverflow.com/questions/69034879/&hellip;</a>)"},{"owner":{"account_id":9961744,"reputation":925,"user_id":7370837,"display_name":"vinay shetty"},"score":0,"creation_date":1668177579,"post_id":70511000,"comment_id":131349361,"body_markdown":"The solution is explained here in this [link](https://stackoverflow.com/a/74361346/7370837)\nhttps://stackoverflow.com/a/74361346/7370837","body":"The solution is explained here in this <a href=\"https://stackoverflow.com/a/74361346/7370837\">link</a> <a href=\"https://stackoverflow.com/a/74361346/7370837\">stackoverflow.com/a/74361346/7370837</a>"},{"owner":{"account_id":9961744,"reputation":925,"user_id":7370837,"display_name":"vinay shetty"},"score":0,"creation_date":1668177649,"post_id":70511000,"comment_id":131349390,"body_markdown":"The solution is explained in this [Link](https://stackoverflow.com/a/74361346/7370837) https://stackoverflow.com/a/74361346/7370837","body":"The solution is explained in this <a href=\"https://stackoverflow.com/a/74361346/7370837\">Link</a> <a href=\"https://stackoverflow.com/a/74361346/7370837\">stackoverflow.com/a/74361346/7370837</a>"}],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640716353,"creation_date":1640716353,"answer_id":70511109,"question_id":70511000,"body_markdown":"In the  app/build.gradle file change the `compileSdk` to have a value of `31`\r\n\r\n(Some of the newer components require an sdk version that is high than Android studio sets by default)","title":"How to solve: The minCompileSdk (31) specified in a dependency&#39;s AAR metadata","body":"<p>In the  app/build.gradle file change the <code>compileSdk</code> to have a value of <code>31</code></p>\n<p>(Some of the newer components require an sdk version that is high than Android studio sets by default)</p>\n"},{"comments":[{"owner":{"account_id":938093,"reputation":2857,"user_id":966656,"accept_rate":82,"display_name":"Andrew S"},"score":0,"creation_date":1642478454,"post_id":70511132,"comment_id":125074944,"body_markdown":"What gradle file is that example? app\\build.gradle?","body":"What gradle file is that example? app\\build.gradle?"},{"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"score":0,"creation_date":1642484070,"post_id":70511132,"comment_id":125075797,"body_markdown":"Yes, it&#39;s the module build.gradle","body":"Yes, it&#39;s the module build.gradle"},{"owner":{"account_id":18365940,"reputation":399,"user_id":13376958,"display_name":"Baraja Swargiary"},"score":0,"creation_date":1664166691,"post_id":70511132,"comment_id":130400816,"body_markdown":"thanks for the solution. I had to use second solution because my code was dependent on old sdk android and i cannot change the sdk version as it breaks the code.","body":"thanks for the solution. I had to use second solution because my code was dependent on old sdk android and i cannot change the sdk version as it breaks the code."}],"tags":[],"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"comment_count":3,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1640761309,"creation_date":1640716452,"answer_id":70511132,"question_id":70511000,"body_markdown":"&gt;The minCompileSdk (31) specified in a dependency&#39;s AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties) is greater than this module&#39;s compileSdkVersion (android-30). Dependency: androidx.appcompat:appcompat:1.4.0\r\n\r\nThe solution is in the error itself. There can be two solutions:\r\n1. Use Android SDK version 31 in your project. Find `compileSdkVersion 30` in your app\\build.gradle file, and change it to `compileSdkVersion 31`.\r\n2. Force gradle to use an older version of the dependency `androidx.lifecycle:lifecycle-process:2.4.0`. If you are not *directly* using this dependency, force gradle to use an older version like this:\r\n```\r\nandroid {\r\n  defaultConfig {\r\n       configurations.all {\r\n          resolutionStrategy { \r\n            force &#39;androidx.lifecycle:lifecycle process:2.3.1&#39;\r\n            force &#39;androidx.appcompat:appcompat:1.3.1&#39;\r\n            force &#39;androidx.appcompat:appcompat-resources:1.3.1&#39;  \r\n            // force &#39;androidx.emoji2:emoji2-views-helper:1.0.0&#39;, This won&#39;t work, because it is made to work with Android SDK version 31 only\r\n            force &#39;androidx.core:core:1.6.0&#39;        \r\n            force &#39;androidx.lifecycle:lifecycle-runtime:2.3.1&#39;\r\n         }\r\n      }\r\n   }\r\n}\r\n```\r\nForce older versions of other dependencies causing errors like this only.\r\n\r\n\r\nFollow only one out of these two steps\r\n\r\n","title":"How to solve: The minCompileSdk (31) specified in a dependency&#39;s AAR metadata","body":"<blockquote>\n<p>The minCompileSdk (31) specified in a dependency's AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties) is greater than this module's compileSdkVersion (android-30). Dependency: androidx.appcompat:appcompat:1.4.0</p>\n</blockquote>\n<p>The solution is in the error itself. There can be two solutions:</p>\n<ol>\n<li>Use Android SDK version 31 in your project. Find <code>compileSdkVersion 30</code> in your app\\build.gradle file, and change it to <code>compileSdkVersion 31</code>.</li>\n<li>Force gradle to use an older version of the dependency <code>androidx.lifecycle:lifecycle-process:2.4.0</code>. If you are not <em>directly</em> using this dependency, force gradle to use an older version like this:</li>\n</ol>\n<pre><code>android {\n  defaultConfig {\n       configurations.all {\n          resolutionStrategy { \n            force 'androidx.lifecycle:lifecycle process:2.3.1'\n            force 'androidx.appcompat:appcompat:1.3.1'\n            force 'androidx.appcompat:appcompat-resources:1.3.1'  \n            // force 'androidx.emoji2:emoji2-views-helper:1.0.0', This won't work, because it is made to work with Android SDK version 31 only\n            force 'androidx.core:core:1.6.0'        \n            force 'androidx.lifecycle:lifecycle-runtime:2.3.1'\n         }\n      }\n   }\n}\n</code></pre>\n<p>Force older versions of other dependencies causing errors like this only.</p>\n<p>Follow only one out of these two steps</p>\n"},{"tags":[],"owner":{"account_id":19443996,"reputation":21,"user_id":14221922,"display_name":"Rishabh kadam"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645943678,"creation_date":1645943678,"answer_id":71282669,"question_id":70511000,"body_markdown":"you just need to install latest \r\n\r\n 1. **Android SDK version 32**.\r\n 2. change **compileSdkVersion** and **targetSdkVersion** to **32**.\r\n 3. **sync now**.\r\n\r\n\r\n   \r\n\r\n","title":"How to solve: The minCompileSdk (31) specified in a dependency&#39;s AAR metadata","body":"<p>you just need to install latest</p>\n<ol>\n<li><strong>Android SDK version 32</strong>.</li>\n<li>change <strong>compileSdkVersion</strong> and <strong>targetSdkVersion</strong> to <strong>32</strong>.</li>\n<li><strong>sync now</strong>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15434778,"reputation":6814,"user_id":11135174,"display_name":"Rapha&#235;l Balet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650908215,"creation_date":1650908215,"answer_id":72003553,"question_id":70511000,"body_markdown":"This is a pure copy of the [following answer](https://stackoverflow.com/questions/69411447/ionic-cordova-build-always-use-last-version-of-androidx-appcompatappcompatn-and) but it should make the trick\r\n\r\n&quot;This issue is related to androidx.appcompat:appcompat 1.4.0-beta01 released on September 29, 2021.\r\n\r\nAs plugin.xml defines ANDROIDX_VERSION as major version 1 (1.+), 1.4.0-beta01 was used instead of 1.3.0. Unfortunately you cannot simply use cordova plugin add cordova.plugins.diagnostic --variable ANDROIDX_VERSION=1.3.+ to overwrite the value, as the same version would be used for androidx.legacy:legacy-support-v4 which exists as version 1.0.0 only.\r\n\r\nI successfully used cordova plugin add cordova.plugins.diagnostic --variable ANDROIDX_VERSION=&quot;[1.0, 1.4[&quot; to get my builds fixed.&quot; - [Vivek Kachhwaha](https://stackoverflow.com/users/9062273/vivek-kachhwaha)","title":"How to solve: The minCompileSdk (31) specified in a dependency&#39;s AAR metadata","body":"<p>This is a pure copy of the <a href=\"https://stackoverflow.com/questions/69411447/ionic-cordova-build-always-use-last-version-of-androidx-appcompatappcompatn-and\">following answer</a> but it should make the trick</p>\n<p>&quot;This issue is related to androidx.appcompat:appcompat 1.4.0-beta01 released on September 29, 2021.</p>\n<p>As plugin.xml defines ANDROIDX_VERSION as major version 1 (1.+), 1.4.0-beta01 was used instead of 1.3.0. Unfortunately you cannot simply use cordova plugin add cordova.plugins.diagnostic --variable ANDROIDX_VERSION=1.3.+ to overwrite the value, as the same version would be used for androidx.legacy:legacy-support-v4 which exists as version 1.0.0 only.</p>\n<p>I successfully used cordova plugin add cordova.plugins.diagnostic --variable ANDROIDX_VERSION=&quot;[1.0, 1.4[&quot; to get my builds fixed.&quot; - <a href=\"https://stackoverflow.com/users/9062273/vivek-kachhwaha\">Vivek Kachhwaha</a></p>\n"},{"tags":[],"owner":{"account_id":22516601,"reputation":849,"user_id":16710738,"display_name":"Deepak Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657261924,"creation_date":1657261924,"answer_id":72907505,"question_id":70511000,"body_markdown":"In React Native \r\n\r\nIn my case what worked for me was to change **compileSdk** version to **31**\r\n\r\nthis error face when I&#39;m using google **Admob** in react-native\r\n\r\n\r\n    buildscript {\r\n    ext {\r\n        buildToolsVersion = &quot;30.0.2&quot;\r\n        minSdkVersion = 21\r\n        compileSdkVersion = 31\r\n        targetSdkVersion = 30\r\n        ndkVersion = &quot;21.4.7075529&quot;\r\n    }","title":"How to solve: The minCompileSdk (31) specified in a dependency&#39;s AAR metadata","body":"<p>In React Native</p>\n<p>In my case what worked for me was to change <strong>compileSdk</strong> version to <strong>31</strong></p>\n<p>this error face when I'm using google <strong>Admob</strong> in react-native</p>\n<pre><code>buildscript {\next {\n    buildToolsVersion = &quot;30.0.2&quot;\n    minSdkVersion = 21\n    compileSdkVersion = 31\n    targetSdkVersion = 30\n    ndkVersion = &quot;21.4.7075529&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16243659,"reputation":61,"user_id":11729364,"display_name":"Surendra Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662908065,"creation_date":1662908065,"answer_id":73680253,"question_id":70511000,"body_markdown":"Need to upgrade android **SDK Version** \r\nIn **Android Studio** -&gt; **Tools** -&gt; **SDK Manager**\r\nDownload and apply **Android API 33 or 32**","title":"How to solve: The minCompileSdk (31) specified in a dependency&#39;s AAR metadata","body":"<p>Need to upgrade android <strong>SDK Version</strong>\nIn <strong>Android Studio</strong> -&gt; <strong>Tools</strong> -&gt; <strong>SDK Manager</strong>\nDownload and apply <strong>Android API 33 or 32</strong></p>\n"},{"tags":[],"owner":{"account_id":26524308,"reputation":21,"user_id":20157528,"display_name":"Siddhant"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665066264,"creation_date":1664880172,"answer_id":73946671,"question_id":70511000,"body_markdown":"Look at the error message\r\nnear what went wrong find &quot;AAR metadata file: &quot;\r\ncopy the location and paste it on file explorer\r\n\r\nmanually change the minCompileSdk=31 to 30\r\nsave \r\n","title":"How to solve: The minCompileSdk (31) specified in a dependency&#39;s AAR metadata","body":"<p>Look at the error message\nnear what went wrong find &quot;AAR metadata file: &quot;\ncopy the location and paste it on file explorer</p>\n<p>manually change the minCompileSdk=31 to 30\nsave</p>\n"}],"owner":{"account_id":19557925,"reputation":201,"user_id":14311781,"display_name":"Mr. Zero"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65566,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":7,"score":20,"last_activity_date":1665066264,"creation_date":1640715703,"question_id":70511000,"body_markdown":"One or more issues found when checking AAR metadata values:\r\n\r\nThe minCompileSdk (31) specified in a\r\ndependency&#39;s AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties)\r\nis greater than this module&#39;s compileSdkVersion (android-30).\r\nDependency: androidx.appcompat:appcompat:1.4.0.\r\nAAR metadata file: C:\\Users\\USER\\AppData\\Local\\Android\\Sdk\\caches\\transforms-3\\46d15f5c58a469270eeba15db4463d05\\transformed\\appcompat-1.4.0\\META-INF\\com\\android\\build\\gradle\\aar-metadata.properties.\r\n\r\nThe minCompileSdk (31) specified in a\r\ndependency&#39;s AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties)\r\nis greater than this module&#39;s compileSdkVersion (android-30).\r\nDependency: androidx.appcompat:appcompat-resources:1.4.0.\r\nAAR metadata file: C:\\Users\\USER\\AppData\\Local\\Android\\Sdk\\caches\\transforms-3\\70088de83757cd2e92dadb8b386e6adb\\transformed\\jetified-appcompat-resources-1.4.0\\META-INF\\com\\android\\build\\gradle\\aar-metadata.properties.\r\n\r\nThe minCompileSdk (31) specified in a\r\ndependency&#39;s AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties)\r\nis greater than this module&#39;s compileSdkVersion (android-30).\r\nDependency: androidx.emoji2:emoji2-views-helper:1.0.0.\r\nAAR metadata file: C:\\Users\\USER\\AppData\\Local\\Android\\Sdk\\caches\\transforms-3\\6cbed90352b213553df3539e2e7f22af\\transformed\\jetified-emoji2-views-helper-1.0.0\\META-INF\\com\\android\\build\\gradle\\aar-metadata.properties.\r\n\r\nThe minCompileSdk (31) specified in a\r\ndependency&#39;s AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties)\r\nis greater than this module&#39;s compileSdkVersion (android-30).\r\nDependency: androidx.emoji2:emoji2:1.0.0.\r\nAAR metadata file: C:\\Users\\USER\\AppData\\Local\\Android\\Sdk\\caches\\transforms-3\\09b79be83fba3907471fe1de63f439d3\\transformed\\jetified-emoji2-1.0.0\\META-INF\\com\\android\\build\\gradle\\aar-metadata.properties.\r\n\r\nThe minCompileSdk (31) specified in a\r\ndependency&#39;s AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties)\r\nis greater than this module&#39;s compileSdkVersion (android-30).\r\nDependency: androidx.core:core:1.7.0.\r\nAAR metadata file: C:\\Users\\USER\\AppData\\Local\\Android\\Sdk\\caches\\transforms-3\\9339927e08badd09bc5459e4ba900d5f\\transformed\\core-1.7.0\\META-INF\\com\\android\\build\\gradle\\aar-metadata.properties.\r\n\r\nThe minCompileSdk (31) specified in a\r\ndependency&#39;s AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties)\r\nis greater than this module&#39;s compileSdkVersion (android-30).\r\nDependency: androidx.lifecycle:lifecycle-process:2.4.0.\r\nAAR metadata file: C:\\Users\\USER\\AppData\\Local\\Android\\Sdk\\caches\\transforms-3\\0e4a425e61d135d109d64d5f17d999df\\transformed\\jetified-lifecycle-process-2.4.0\\META-INF\\com\\android\\build\\gradle\\aar-metadata.properties.\r\n\r\nThe minCompileSdk (31) specified in a\r\ndependency&#39;s AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties)\r\nis greater than this module&#39;s compileSdkVersion (android-30).\r\nDependency: androidx.lifecycle:lifecycle-runtime:2.4.0.\r\nAAR metadata file: C:\\Users\\USER\\AppData\\Local\\Android\\Sdk\\caches\\transforms-3\\bca1bb61c15ab5807e64593ca04debef\\transformed\\lifecycle-runtime-2.4.0\\META-INF\\com\\android\\build\\gradle\\aar-metadata.properties.\r\n","title":"How to solve: The minCompileSdk (31) specified in a dependency&#39;s AAR metadata","body":"<p>One or more issues found when checking AAR metadata values:</p>\n<p>The minCompileSdk (31) specified in a\ndependency's AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties)\nis greater than this module's compileSdkVersion (android-30).\nDependency: androidx.appcompat:appcompat:1.4.0.\nAAR metadata file: C:\\Users\\USER\\AppData\\Local\\Android\\Sdk\\caches\\transforms-3\\46d15f5c58a469270eeba15db4463d05\\transformed\\appcompat-1.4.0\\META-INF\\com\\android\\build\\gradle\\aar-metadata.properties.</p>\n<p>The minCompileSdk (31) specified in a\ndependency's AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties)\nis greater than this module's compileSdkVersion (android-30).\nDependency: androidx.appcompat:appcompat-resources:1.4.0.\nAAR metadata file: C:\\Users\\USER\\AppData\\Local\\Android\\Sdk\\caches\\transforms-3\\70088de83757cd2e92dadb8b386e6adb\\transformed\\jetified-appcompat-resources-1.4.0\\META-INF\\com\\android\\build\\gradle\\aar-metadata.properties.</p>\n<p>The minCompileSdk (31) specified in a\ndependency's AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties)\nis greater than this module's compileSdkVersion (android-30).\nDependency: androidx.emoji2:emoji2-views-helper:1.0.0.\nAAR metadata file: C:\\Users\\USER\\AppData\\Local\\Android\\Sdk\\caches\\transforms-3\\6cbed90352b213553df3539e2e7f22af\\transformed\\jetified-emoji2-views-helper-1.0.0\\META-INF\\com\\android\\build\\gradle\\aar-metadata.properties.</p>\n<p>The minCompileSdk (31) specified in a\ndependency's AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties)\nis greater than this module's compileSdkVersion (android-30).\nDependency: androidx.emoji2:emoji2:1.0.0.\nAAR metadata file: C:\\Users\\USER\\AppData\\Local\\Android\\Sdk\\caches\\transforms-3\\09b79be83fba3907471fe1de63f439d3\\transformed\\jetified-emoji2-1.0.0\\META-INF\\com\\android\\build\\gradle\\aar-metadata.properties.</p>\n<p>The minCompileSdk (31) specified in a\ndependency's AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties)\nis greater than this module's compileSdkVersion (android-30).\nDependency: androidx.core:core:1.7.0.\nAAR metadata file: C:\\Users\\USER\\AppData\\Local\\Android\\Sdk\\caches\\transforms-3\\9339927e08badd09bc5459e4ba900d5f\\transformed\\core-1.7.0\\META-INF\\com\\android\\build\\gradle\\aar-metadata.properties.</p>\n<p>The minCompileSdk (31) specified in a\ndependency's AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties)\nis greater than this module's compileSdkVersion (android-30).\nDependency: androidx.lifecycle:lifecycle-process:2.4.0.\nAAR metadata file: C:\\Users\\USER\\AppData\\Local\\Android\\Sdk\\caches\\transforms-3\\0e4a425e61d135d109d64d5f17d999df\\transformed\\jetified-lifecycle-process-2.4.0\\META-INF\\com\\android\\build\\gradle\\aar-metadata.properties.</p>\n<p>The minCompileSdk (31) specified in a\ndependency's AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties)\nis greater than this module's compileSdkVersion (android-30).\nDependency: androidx.lifecycle:lifecycle-runtime:2.4.0.\nAAR metadata file: C:\\Users\\USER\\AppData\\Local\\Android\\Sdk\\caches\\transforms-3\\bca1bb61c15ab5807e64593ca04debef\\transformed\\lifecycle-runtime-2.4.0\\META-INF\\com\\android\\build\\gradle\\aar-metadata.properties.</p>\n"},{"tags":["java","sql-server","jdbc"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1664776257,"post_id":73931401,"comment_id":130540667,"body_markdown":"&quot;Login failed&quot; doesn&#39;t necessarily mean &quot;Incorrect username or password,&quot; though that&#39;s often the case. When specifying the `databaseName` parameter in your JDBC connection string the target database has to exist already and your SQL Login must have previously been granted access to it. Does the `Test` database already exist? Has the `admin` login been mapped to a database user with sufficient access in it? Given the select query perhaps you need to specify the `fuse` database instead?","body":"&quot;Login failed&quot; doesn&#39;t necessarily mean &quot;Incorrect username or password,&quot; though that&#39;s often the case. When specifying the <code>databaseName</code> parameter in your JDBC connection string the target database has to exist already and your SQL Login must have previously been granted access to it. Does the <code>Test</code> database already exist? Has the <code>admin</code> login been mapped to a database user with sufficient access in it? Given the select query perhaps you need to specify the <code>fuse</code> database instead?"}],"answers":[{"tags":[],"owner":{"account_id":24881693,"reputation":155,"user_id":18754816,"display_name":" "},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665065673,"creation_date":1664776413,"answer_id":73931544,"question_id":73931401,"body_markdown":"As I see:\r\n\r\n`conn = DriverManager.getConnection(urlString, usernameString, driverr);`\r\n\r\nThis string is wrong.\r\n\r\n```\r\nThis method describes:\r\npublic static Connection getConnection(String url,\r\n        String user, String password) throws SQLException\r\n```\r\n\r\nAt the 3rd place must be the password.","title":"com.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user &#39;admin&#39; but everything seems correct","body":"<p>As I see:</p>\n<p><code>conn = DriverManager.getConnection(urlString, usernameString, driverr);</code></p>\n<p>This string is wrong.</p>\n<pre><code>This method describes:\npublic static Connection getConnection(String url,\n        String user, String password) throws SQLException\n</code></pre>\n<p>At the 3rd place must be the password.</p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1664779702,"post_id":73931586,"comment_id":130541378,"body_markdown":"It should be `DriverManager.getConnection(urlString, usernameString, password)`, the `driverr` doesn&#39;t belong in the request for a connection.","body":"It should be <code>DriverManager.getConnection(urlString, usernameString, password)</code>, the <code>driverr</code> doesn&#39;t belong in the request for a connection."},{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1664782232,"post_id":73931586,"comment_id":130542061,"body_markdown":"sorry, didn&#39;t notice that, thanks","body":"sorry, didn&#39;t notice that, thanks"}],"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664782215,"creation_date":1664776875,"answer_id":73931586,"question_id":73931401,"body_markdown":"You did not include the password in the statement: \r\n\r\n`conn = DriverManager.getConnection(urlString, usernameString, driverr);`\r\n\r\nIt should be:\r\n\r\n    conn = DriverManager.getConnection(urlString, usernameString, password);","title":"com.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user &#39;admin&#39; but everything seems correct","body":"<p>You did not include the password in the statement:</p>\n<p><code>conn = DriverManager.getConnection(urlString, usernameString, driverr);</code></p>\n<p>It should be:</p>\n<pre><code>conn = DriverManager.getConnection(urlString, usernameString, password);\n</code></pre>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1092,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73931586,"answer_count":2,"score":0,"last_activity_date":1665065673,"creation_date":1664774834,"question_id":73931401,"body_markdown":"I am getting this error message in Java while trying to connect to a SQL Server database:\r\n\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user &#39;admin&#39;. ClientConnectionId:81b24c93-1297-4713-91c8-7f639b172de3\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:216)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSTokenHandler.onEOF(tdsparser.java:254)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:84)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:2908)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:2234)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.access$000(SQLServerConnection.java:41)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:2220)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:5696)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:1715)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1326)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:991)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:827)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1012)\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\r\n    \tat first.assign_Code.createConn(assign_Code.java:34)\r\n    \tat first.assign_Code.getQueryResultInMap(assign_Code.java:42)\r\n    \tat first.assign_Code.main(assign_Code.java:73)\r\n\r\nIt is strange because it can establish connection, but fails trying to login.\r\n\r\nThis is my code:\r\n\r\n     package first;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.Keys;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.support.ui.FluentWait;\r\n    import org.openqa.selenium.support.ui.Wait;\r\n    import org.apache.commons.dbutils.DbUtils;\r\n    import org.apache.commons.dbutils.QueryRunner;\r\n    import org.apache.commons.dbutils.handlers.MapHandler;\r\n    \r\n    import java.io.IOException;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    import java.util.Map;\r\n    \r\n    public class assign_Code {\r\n        static Connection conn = null;\r\n        static QueryRunner run = new QueryRunner();\r\n        static boolean keepConnection = false;\r\n        \r\n        public static void createConn(String urlString, String driverr, String usernameString, String password) throws SQLException, IOException {\r\n    \r\n            if (conn == null || conn.isClosed()) {\r\n                String driver = null;\r\n    \t\t\tDbUtils.loadDriver(driver);\r\n                conn = DriverManager.getConnection(urlString, usernameString, driverr);\r\n                conn.setAutoCommit(false);\r\n            }\r\n        }\r\n        \r\n        public static Map&lt;String, Object&gt; getQueryResultInMap(String urlString, String driverr, String usernameString, String password,String sqlQuery, Object... params) throws SQLException, IOException {\r\n    \r\n            try {\r\n                createConn(urlString,driverr,usernameString,password);\r\n                if (params == null) {\r\n                    return run.query(conn, sqlQuery, new MapHandler());\r\n                } else {\r\n                    return run.query(conn, sqlQuery, new MapHandler(), params);\r\n                }\r\n            } catch (SQLException se) {\r\n                se.printStackTrace();\r\n                return null;\r\n            } finally {\r\n            \tcloseConn();\r\n            }\r\n        }\r\n        \r\n        public static void closeConn() throws SQLException {\r\n            if (!keepConnection) {\r\n                DbUtils.closeQuietly(conn);\r\n            }\r\n        }\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) throws InterruptedException, SQLException, IOException{\r\n    \tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\Steve\\\\Desktop\\\\SELENIUM\\\\chromedriver.exe&quot;);\r\n    \t\r\n        String urlString=&quot;jdbc:sqlserver://dfd45.hhgt.local:1433;databaseName=Test&quot;;\r\n        String usernameString=&quot;admin&quot;;\r\n        String password=&quot;admin&quot;;\r\n        String driverr=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\r\n        String sqlQuery= &quot;select sku from fuse.orders.WebOrderItem where itemid = ?&quot;;\r\n        \r\n    \t\r\n    \tMap&lt;String,Object&gt;resultSet= getQueryResultInMap(urlString, driverr, usernameString, password, sqlQuery, &quot;3&quot;);\r\n    \r\n    \tWebDriver driver = new ChromeDriver();\r\n    \t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nTake a look at this:\r\n\r\n        String urlString=&quot;jdbc:sqlserver://dfd45.hhgt.local:1433;databaseName=Test&quot;;\r\n        String usernameString=&quot;admin&quot;;\r\n        String password=&quot;admin&quot;;\r\n        String driverr=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\r\n\r\n\r\nAm I doing anything wrong? I can connect to the SQL Server using SQL Server Management Studio, but it fails to connect in Java:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat&#39;s wrong here? Is anything wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0Y0jS.png","title":"com.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user &#39;admin&#39; but everything seems correct","body":"<p>I am getting this error message in Java while trying to connect to a SQL Server database:</p>\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: Login failed for user 'admin'. ClientConnectionId:81b24c93-1297-4713-91c8-7f639b172de3\n    at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(SQLServerException.java:216)\n    at com.microsoft.sqlserver.jdbc.TDSTokenHandler.onEOF(tdsparser.java:254)\n    at com.microsoft.sqlserver.jdbc.TDSParser.parse(tdsparser.java:84)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.sendLogon(SQLServerConnection.java:2908)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.logon(SQLServerConnection.java:2234)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.access$000(SQLServerConnection.java:41)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection$LogonCommand.doExecute(SQLServerConnection.java:2220)\n    at com.microsoft.sqlserver.jdbc.TDSCommand.execute(IOBuffer.java:5696)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeCommand(SQLServerConnection.java:1715)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:1326)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:991)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:827)\n    at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:1012)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\n    at first.assign_Code.createConn(assign_Code.java:34)\n    at first.assign_Code.getQueryResultInMap(assign_Code.java:42)\n    at first.assign_Code.main(assign_Code.java:73)\n</code></pre>\n<p>It is strange because it can establish connection, but fails trying to login.</p>\n<p>This is my code:</p>\n<pre><code> package first;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.Keys;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.ui.FluentWait;\nimport org.openqa.selenium.support.ui.Wait;\nimport org.apache.commons.dbutils.DbUtils;\nimport org.apache.commons.dbutils.QueryRunner;\nimport org.apache.commons.dbutils.handlers.MapHandler;\n\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\nimport java.util.Map;\n\npublic class assign_Code {\n    static Connection conn = null;\n    static QueryRunner run = new QueryRunner();\n    static boolean keepConnection = false;\n    \n    public static void createConn(String urlString, String driverr, String usernameString, String password) throws SQLException, IOException {\n\n        if (conn == null || conn.isClosed()) {\n            String driver = null;\n            DbUtils.loadDriver(driver);\n            conn = DriverManager.getConnection(urlString, usernameString, driverr);\n            conn.setAutoCommit(false);\n        }\n    }\n    \n    public static Map&lt;String, Object&gt; getQueryResultInMap(String urlString, String driverr, String usernameString, String password,String sqlQuery, Object... params) throws SQLException, IOException {\n\n        try {\n            createConn(urlString,driverr,usernameString,password);\n            if (params == null) {\n                return run.query(conn, sqlQuery, new MapHandler());\n            } else {\n                return run.query(conn, sqlQuery, new MapHandler(), params);\n            }\n        } catch (SQLException se) {\n            se.printStackTrace();\n            return null;\n        } finally {\n            closeConn();\n        }\n    }\n    \n    public static void closeConn() throws SQLException {\n        if (!keepConnection) {\n            DbUtils.closeQuietly(conn);\n        }\n    }\n    \n    \n    public static void main(String[] args) throws InterruptedException, SQLException, IOException{\n    System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\Steve\\\\Desktop\\\\SELENIUM\\\\chromedriver.exe&quot;);\n    \n    String urlString=&quot;jdbc:sqlserver://dfd45.hhgt.local:1433;databaseName=Test&quot;;\n    String usernameString=&quot;admin&quot;;\n    String password=&quot;admin&quot;;\n    String driverr=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\n    String sqlQuery= &quot;select sku from fuse.orders.WebOrderItem where itemid = ?&quot;;\n    \n    \n    Map&lt;String,Object&gt;resultSet= getQueryResultInMap(urlString, driverr, usernameString, password, sqlQuery, &quot;3&quot;);\n\n    WebDriver driver = new ChromeDriver();\n    \n    }\n\n}\n</code></pre>\n<p>Take a look at this:</p>\n<pre><code>    String urlString=&quot;jdbc:sqlserver://dfd45.hhgt.local:1433;databaseName=Test&quot;;\n    String usernameString=&quot;admin&quot;;\n    String password=&quot;admin&quot;;\n    String driverr=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;;\n</code></pre>\n<p>Am I doing anything wrong? I can connect to the SQL Server using SQL Server Management Studio, but it fails to connect in Java:</p>\n<p><a href=\"https://i.stack.imgur.com/0Y0jS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Y0jS.png\" alt=\"enter image description here\" /></a></p>\n<p>What's wrong here? Is anything wrong?</p>\n"},{"tags":["java","android","react-native","gradle","expo"],"comments":[{"owner":{"account_id":1910825,"reputation":613,"user_id":1724684,"accept_rate":67,"display_name":"PJeremyMalouf"},"score":0,"creation_date":1630658461,"post_id":69040925,"comment_id":122021789,"body_markdown":"I line 4 of the settings.gradle file this one?\n`includeUnimodulesProjects()`","body":"I line 4 of the settings.gradle file this one? <code>includeUnimodulesProjects()</code>"},{"owner":{"account_id":22645051,"reputation":48,"user_id":16820553,"display_name":"David Pearl"},"score":0,"creation_date":1630722190,"post_id":69040925,"comment_id":122040524,"body_markdown":"Line 4 is the one before it.\n\n`apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;react-native-unimodules/package.json&#39;)&quot;].execute().text.trim(), &quot;../gradle.groovy&quot;);`\n\nI&#39;ve run it with `includeUnimodulesProjects()` on the same line as the one above and on separate lines and the error remained the same.","body":"Line 4 is the one before it.  <code>apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;react-native-unimodules&#47;package.json&#39;)&quot;].e&zwnj;&#8203;xecute().text.trim()&zwnj;&#8203;, &quot;..&#47;gradle.groovy&quot;);</code>  I&#39;ve run it with <code>includeUnimodulesProjects()</code> on the same line as the one above and on separate lines and the error remained the same."}],"answers":[{"comments":[{"owner":{"account_id":22645051,"reputation":48,"user_id":16820553,"display_name":"David Pearl"},"score":0,"creation_date":1631145522,"post_id":69083644,"comment_id":122147244,"body_markdown":"Thanks for your suggestion @creaddiscans. Using your suggestion and applying it to similar lines in app &gt; build.gradle, I was able to pass the Gradle sync step.","body":"Thanks for your suggestion @creaddiscans. Using your suggestion and applying it to similar lines in app &gt; build.gradle, I was able to pass the Gradle sync step."}],"tags":[],"owner":{"account_id":4601474,"reputation":56,"user_id":3732101,"display_name":"creaddiscans"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1630997772,"creation_date":1630997772,"answer_id":69083644,"question_id":69040925,"body_markdown":"\r\n    //apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;react-native-unimodules/package.json&#39;)&quot;].execute().text.trim(), &quot;../gradle.groovy&quot;); includeUnimodulesProjects()\r\n    apply from: file(&quot;../node_modules/react-native-unimodules/gradle.groovy&quot;); includeUnimodulesProjects()\r\n    apply from: file(&quot;../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesSettingsGradle(settings)\r\n    //apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;@react-native-community/cli-platform-android/package.json&#39;)&quot;].execute().text.trim(), &quot;../native_modules.gradle&quot;); applyNativeModulesSettingsGradle(settings)\r\n\r\nIt works in my case.","title":"Gradle Sync failed: A problem occurred evaluating settings","body":"<pre><code>//apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('react-native-unimodules/package.json')&quot;].execute().text.trim(), &quot;../gradle.groovy&quot;); includeUnimodulesProjects()\napply from: file(&quot;../node_modules/react-native-unimodules/gradle.groovy&quot;); includeUnimodulesProjects()\napply from: file(&quot;../node_modules/@react-native-community/cli-platform-android/native_modules.gradle&quot;); applyNativeModulesSettingsGradle(settings)\n//apply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('@react-native-community/cli-platform-android/package.json')&quot;].execute().text.trim(), &quot;../native_modules.gradle&quot;); applyNativeModulesSettingsGradle(settings)\n</code></pre>\n<p>It works in my case.</p>\n"},{"comments":[{"owner":{"account_id":22645051,"reputation":48,"user_id":16820553,"display_name":"David Pearl"},"score":0,"creation_date":1631145288,"post_id":69108835,"comment_id":122147217,"body_markdown":"Thanks for the suggestion, I looked and my node_modules does have @react-native-community/cli-platform-android. I found the solution from @creaddiscans has gotten me through the Gradle sync.","body":"Thanks for the suggestion, I looked and my node_modules does have @react-native-community/cli-platform-android. I found the solution from @creaddiscans has gotten me through the Gradle sync."}],"tags":[],"owner":{"account_id":20555448,"reputation":1,"user_id":15087151,"display_name":"Simon Covington"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631130196,"creation_date":1631130196,"answer_id":69108835,"question_id":69040925,"body_markdown":"Hey I had the same problem and am also on M1. Don&#39;t know how but @react-native-community/cli-platform-android was no longer in my node modules.\r\n\r\nTry running npm install @react-native-community/cli-platform-android","title":"Gradle Sync failed: A problem occurred evaluating settings","body":"<p>Hey I had the same problem and am also on M1. Don't know how but @react-native-community/cli-platform-android was no longer in my node modules.</p>\n<p>Try running npm install @react-native-community/cli-platform-android</p>\n"},{"tags":[],"owner":{"account_id":21787326,"reputation":1,"user_id":16336302,"display_name":"Elias In&#225;cio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665065652,"creation_date":1664898470,"answer_id":73950433,"question_id":69040925,"body_markdown":"I was facing the same issue. It could be some problem with permissions on Android Studio installation.\r\n\r\nOpening the project through the terminal worked fine for me: (Ubuntu linux)\r\n\r\n```\r\ncd App_Name/android/\r\nandroid-studio .\r\n```\r\n","title":"Gradle Sync failed: A problem occurred evaluating settings","body":"<p>I was facing the same issue. It could be some problem with permissions on Android Studio installation.</p>\n<p>Opening the project through the terminal worked fine for me: (Ubuntu linux)</p>\n<pre><code>cd App_Name/android/\nandroid-studio .\n</code></pre>\n"}],"owner":{"account_id":22645051,"reputation":48,"user_id":16820553,"display_name":"David Pearl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4087,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69083644,"answer_count":3,"score":2,"last_activity_date":1665065652,"creation_date":1630653475,"question_id":69040925,"body_markdown":"I have been attempting to run a React Native app using Android Studio, however after I open the project the Gradle sync fails. I have tried multiple gradle versions (4.7, 4.8, 6.8.1, 7.2), multiple Android Gradle Plugin versions (4.2.2, 7.02, 7.1.0-alpha10), different Gradle JDK&#39;s and a number of other things but have been unable to get past this step.  \r\n\r\nAny suggestions would be greatly appreciated.\r\n\r\nOther potentially relevant information.\r\nThe app runs in Android Studio on my workmate&#39;s machine, an Intel MBP.\r\nMy machine is a M1 MBP\r\n\r\n\r\nThe error message is:\r\n```\r\nSettings file &#39;/Users/davidpearl/Documents/repos/q83repos/influencer-app/android/settings.gradle&#39; line: 4\r\n\r\nA problem occurred evaluating settings &#39;[PROJECT NAME]&#39;.\r\n&gt; index 0,length 0\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.GradleScriptException: A problem occurred evaluating settings &#39;[PROJECT NAME]&#39;.\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\r\n\tat org.gradle.configuration.DefaultScriptTarget.addConfiguration(DefaultScriptTarget.java:74)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:43)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.initialization.ScriptEvaluatingSettingsProcessor.applySettingsScript(ScriptEvaluatingSettingsProcessor.java:74)\r\n\tat org.gradle.initialization.ScriptEvaluatingSettingsProcessor.process(ScriptEvaluatingSettingsProcessor.java:67)\r\n\tat org.gradle.initialization.SettingsEvaluatedCallbackFiringSettingsProcessor.process(SettingsEvaluatedCallbackFiringSettingsProcessor.java:34)\r\n\tat org.gradle.initialization.RootBuildCacheControllerSettingsProcessor.process(RootBuildCacheControllerSettingsProcessor.java:47)\r\n\tat org.gradle.initialization.BuildOperationSettingsProcessor$2.call(BuildOperationSettingsProcessor.java:50)\r\n\tat org.gradle.initialization.BuildOperationSettingsProcessor$2.call(BuildOperationSettingsProcessor.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.initialization.BuildOperationSettingsProcessor.process(BuildOperationSettingsProcessor.java:47)\r\n\tat org.gradle.initialization.DefaultSettingsLoader.findSettingsAndLoadIfAppropriate(DefaultSettingsLoader.java:127)\r\n\tat org.gradle.initialization.DefaultSettingsLoader.findAndLoadSettings(DefaultSettingsLoader.java:65)\r\n\tat org.gradle.initialization.SettingsAttachingSettingsLoader.findAndLoadSettings(SettingsAttachingSettingsLoader.java:35)\r\n\tat org.gradle.internal.composite.CommandLineIncludedBuildSettingsLoader.findAndLoadSettings(CommandLineIncludedBuildSettingsLoader.java:34)\r\n\tat org.gradle.internal.composite.ChildBuildRegisteringSettingsLoader.findAndLoadSettings(ChildBuildRegisteringSettingsLoader.java:53)\r\n\tat org.gradle.internal.composite.CompositeBuildSettingsLoader.findAndLoadSettings(CompositeBuildSettingsLoader.java:35)\r\n\tat org.gradle.initialization.DefaultSettingsPreparer.prepareSettings(DefaultSettingsPreparer.java:36)\r\n\tat org.gradle.initialization.BuildOperationFiringSettingsPreparer$LoadBuild.doLoadBuild(BuildOperationFiringSettingsPreparer.java:62)\r\n\tat org.gradle.initialization.BuildOperationFiringSettingsPreparer$LoadBuild.run(BuildOperationFiringSettingsPreparer.java:57)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.initialization.BuildOperationFiringSettingsPreparer.prepareSettings(BuildOperationFiringSettingsPreparer.java:45)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.prepareSettings(DefaultGradleLauncher.java:218)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:159)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:148)\r\n\tat org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:124)\r\n\tat org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:72)\r\n\tat org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:67)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\r\n\tat org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\r\n\tat org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:56)\r\n\tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:53)\r\n\tat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:47)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n\tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:63)\r\n\tat org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\r\n\tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:77)\r\n\tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.lambda$execute$0(InProcessBuildActionExecuter.java:54)\r\n\tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:86)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:53)\r\n\tat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:29)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.lambda$execute$0(BuildTreeScopeLifecycleBuildActionExecuter.java:33)\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:49)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:32)\r\n\tat org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:27)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:104)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:55)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:64)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:37)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.lambda$execute$0(SessionScopeLifecycleBuildActionExecuter.java:54)\r\n\tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:67)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:50)\r\n\tat org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:59)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: java.lang.StringIndexOutOfBoundsException: index 0,length 0\r\n\tat org.gradle.groovy.scripts.TextResourceScriptSource.classNameFromPath(TextResourceScriptSource.java:104)\r\n\tat org.gradle.groovy.scripts.TextResourceScriptSource.initClassName(TextResourceScriptSource.java:89)\r\n\tat org.gradle.groovy.scripts.TextResourceScriptSource.getClassName(TextResourceScriptSource.java:80)\r\n\tat org.gradle.groovy.scripts.DelegatingScriptSource.getClassName(DelegatingScriptSource.java:34)\r\n\tat org.gradle.groovy.scripts.internal.BuildScopeInMemoryCachingScriptClassCompiler.compile(BuildScopeInMemoryCachingScriptClassCompiler.java:47)\r\n\tat org.gradle.groovy.scripts.DefaultScriptCompilerFactory$ScriptCompilerImpl.compile(DefaultScriptCompilerFactory.java:49)\r\n\tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:110)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:43)\r\n\tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n\tat org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.applyScript(DefaultObjectConfigurationAction.java:149)\r\n\tat org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.access$000(DefaultObjectConfigurationAction.java:42)\r\n\tat org.gradle.api.internal.plugins.DefaultObjectConfigurationAction$1.run(DefaultObjectConfigurationAction.java:75)\r\n\tat org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.execute(DefaultObjectConfigurationAction.java:183)\r\n\tat org.gradle.groovy.scripts.DefaultScript.apply(DefaultScript.java:128)\r\n\tat org.gradle.api.Script$apply.callCurrent(Unknown Source)\r\n\tat settings_1yispwykv5oo7sv1g9rg079wk.run(/Users/davidpearl/Documents/repos/q83repos/influencer-app/android/settings.gradle:4)\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:91)\r\n\t... 135 more\r\n```\r\nMy settings.gradle file\r\n```\r\nrootProject.name = &#39;[PROJECT NAME]&#39;\r\n\r\n\r\napply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;react-native-unimodules/package.json&#39;)&quot;].execute().text.trim(), &quot;../gradle.groovy&quot;); \r\nincludeUnimodulesProjects()\r\n\r\napply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve(&#39;@react-native-community/cli-platform-android/package.json&#39;)&quot;].execute().text.trim(), &quot;../native_modules.gradle&quot;); applyNativeModulesSettingsGradle(settings)\r\n\r\n\r\ninclude &#39;:lottie-react-native&#39;\r\nproject(&#39;:lottie-react-native&#39;).projectDir = new File(rootProject.projectDir, &#39;../node_modules/lottie-react-native/src/android&#39;)\r\n\r\ninclude &#39;:app&#39;\r\n```\r\nMy build.gradle file\r\n```\r\nbuildscript {\r\n    ext.kotlin_version = &#39;1.5.21&#39;\r\n    ext {\r\n        minSdkVersion = 21\r\n        compileSdkVersion = 30\r\n        targetSdkVersion = 30\r\n        supportLibVersion = &quot;28.0.0&quot;\r\n    }\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.2.2&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.8&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        mavenLocal()\r\n        google()\r\n        jcenter()\r\n        maven {\r\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\r\n            url &quot;$rootDir/../node_modules/react-native/android&quot;\r\n        }\r\n        maven {\r\n            // Android JSC is installed from npm\r\n            url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\r\n        }\r\n        maven {\r\n            url &quot;https://sdk.smartlook.com/android/release&quot;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nwrapper {\r\n    gradleVersion = &#39;4.7&#39;\r\n    distributionUrl = distributionUrl.replace(&quot;bin&quot;, &quot;all&quot;)\r\n}\r\n```\r\n","title":"Gradle Sync failed: A problem occurred evaluating settings","body":"<p>I have been attempting to run a React Native app using Android Studio, however after I open the project the Gradle sync fails. I have tried multiple gradle versions (4.7, 4.8, 6.8.1, 7.2), multiple Android Gradle Plugin versions (4.2.2, 7.02, 7.1.0-alpha10), different Gradle JDK's and a number of other things but have been unable to get past this step.</p>\n<p>Any suggestions would be greatly appreciated.</p>\n<p>Other potentially relevant information.\nThe app runs in Android Studio on my workmate's machine, an Intel MBP.\nMy machine is a M1 MBP</p>\n<p>The error message is:</p>\n<pre><code>Settings file '/Users/davidpearl/Documents/repos/q83repos/influencer-app/android/settings.gradle' line: 4\n\nA problem occurred evaluating settings '[PROJECT NAME]'.\n&gt; index 0,length 0\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.GradleScriptException: A problem occurred evaluating settings '[PROJECT NAME]'.\n    at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:133)\n    at org.gradle.configuration.DefaultScriptTarget.addConfiguration(DefaultScriptTarget.java:74)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:136)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:43)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\n    at org.gradle.initialization.ScriptEvaluatingSettingsProcessor.applySettingsScript(ScriptEvaluatingSettingsProcessor.java:74)\n    at org.gradle.initialization.ScriptEvaluatingSettingsProcessor.process(ScriptEvaluatingSettingsProcessor.java:67)\n    at org.gradle.initialization.SettingsEvaluatedCallbackFiringSettingsProcessor.process(SettingsEvaluatedCallbackFiringSettingsProcessor.java:34)\n    at org.gradle.initialization.RootBuildCacheControllerSettingsProcessor.process(RootBuildCacheControllerSettingsProcessor.java:47)\n    at org.gradle.initialization.BuildOperationSettingsProcessor$2.call(BuildOperationSettingsProcessor.java:50)\n    at org.gradle.initialization.BuildOperationSettingsProcessor$2.call(BuildOperationSettingsProcessor.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.initialization.BuildOperationSettingsProcessor.process(BuildOperationSettingsProcessor.java:47)\n    at org.gradle.initialization.DefaultSettingsLoader.findSettingsAndLoadIfAppropriate(DefaultSettingsLoader.java:127)\n    at org.gradle.initialization.DefaultSettingsLoader.findAndLoadSettings(DefaultSettingsLoader.java:65)\n    at org.gradle.initialization.SettingsAttachingSettingsLoader.findAndLoadSettings(SettingsAttachingSettingsLoader.java:35)\n    at org.gradle.internal.composite.CommandLineIncludedBuildSettingsLoader.findAndLoadSettings(CommandLineIncludedBuildSettingsLoader.java:34)\n    at org.gradle.internal.composite.ChildBuildRegisteringSettingsLoader.findAndLoadSettings(ChildBuildRegisteringSettingsLoader.java:53)\n    at org.gradle.internal.composite.CompositeBuildSettingsLoader.findAndLoadSettings(CompositeBuildSettingsLoader.java:35)\n    at org.gradle.initialization.DefaultSettingsPreparer.prepareSettings(DefaultSettingsPreparer.java:36)\n    at org.gradle.initialization.BuildOperationFiringSettingsPreparer$LoadBuild.doLoadBuild(BuildOperationFiringSettingsPreparer.java:62)\n    at org.gradle.initialization.BuildOperationFiringSettingsPreparer$LoadBuild.run(BuildOperationFiringSettingsPreparer.java:57)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.initialization.BuildOperationFiringSettingsPreparer.prepareSettings(BuildOperationFiringSettingsPreparer.java:45)\n    at org.gradle.initialization.DefaultGradleLauncher.prepareSettings(DefaultGradleLauncher.java:218)\n    at org.gradle.initialization.DefaultGradleLauncher.doClassicBuildStages(DefaultGradleLauncher.java:159)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:148)\n    at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:124)\n    at org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:72)\n    at org.gradle.internal.invocation.GradleBuildController$1.create(GradleBuildController.java:67)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:213)\n    at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:67)\n    at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:56)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:53)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:47)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:63)\n    at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n    at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:77)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:49)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.call(RunAsBuildOperationBuildActionRunner.java:44)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:76)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:44)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.lambda$execute$0(InProcessBuildActionExecuter.java:54)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:86)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:53)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:29)\n    at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.lambda$execute$0(BuildTreeScopeLifecycleBuildActionExecuter.java:33)\n    at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:49)\n    at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:32)\n    at org.gradle.launcher.exec.BuildTreeScopeLifecycleBuildActionExecuter.execute(BuildTreeScopeLifecycleBuildActionExecuter.java:27)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:104)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:55)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:64)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecuter.execute(SubscribableBuildActionExecuter.java:37)\n    at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.lambda$execute$0(SessionScopeLifecycleBuildActionExecuter.java:54)\n    at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:67)\n    at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:50)\n    at org.gradle.tooling.internal.provider.SessionScopeLifecycleBuildActionExecuter.execute(SessionScopeLifecycleBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:59)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:55)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: java.lang.StringIndexOutOfBoundsException: index 0,length 0\n    at org.gradle.groovy.scripts.TextResourceScriptSource.classNameFromPath(TextResourceScriptSource.java:104)\n    at org.gradle.groovy.scripts.TextResourceScriptSource.initClassName(TextResourceScriptSource.java:89)\n    at org.gradle.groovy.scripts.TextResourceScriptSource.getClassName(TextResourceScriptSource.java:80)\n    at org.gradle.groovy.scripts.DelegatingScriptSource.getClassName(DelegatingScriptSource.java:34)\n    at org.gradle.groovy.scripts.internal.BuildScopeInMemoryCachingScriptClassCompiler.compile(BuildScopeInMemoryCachingScriptClassCompiler.java:47)\n    at org.gradle.groovy.scripts.DefaultScriptCompilerFactory$ScriptCompilerImpl.compile(DefaultScriptCompilerFactory.java:49)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:110)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$run$1(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.runWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:45)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:71)\n    at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:43)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\n    at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.applyScript(DefaultObjectConfigurationAction.java:149)\n    at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.access$000(DefaultObjectConfigurationAction.java:42)\n    at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction$1.run(DefaultObjectConfigurationAction.java:75)\n    at org.gradle.api.internal.plugins.DefaultObjectConfigurationAction.execute(DefaultObjectConfigurationAction.java:183)\n    at org.gradle.groovy.scripts.DefaultScript.apply(DefaultScript.java:128)\n    at org.gradle.api.Script$apply.callCurrent(Unknown Source)\n    at settings_1yispwykv5oo7sv1g9rg079wk.run(/Users/davidpearl/Documents/repos/q83repos/influencer-app/android/settings.gradle:4)\n    at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:91)\n    ... 135 more\n</code></pre>\n<p>My settings.gradle file</p>\n<pre><code>rootProject.name = '[PROJECT NAME]'\n\n\napply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('react-native-unimodules/package.json')&quot;].execute().text.trim(), &quot;../gradle.groovy&quot;); \nincludeUnimodulesProjects()\n\napply from: new File([&quot;node&quot;, &quot;--print&quot;, &quot;require.resolve('@react-native-community/cli-platform-android/package.json')&quot;].execute().text.trim(), &quot;../native_modules.gradle&quot;); applyNativeModulesSettingsGradle(settings)\n\n\ninclude ':lottie-react-native'\nproject(':lottie-react-native').projectDir = new File(rootProject.projectDir, '../node_modules/lottie-react-native/src/android')\n\ninclude ':app'\n</code></pre>\n<p>My build.gradle file</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.5.21'\n    ext {\n        minSdkVersion = 21\n        compileSdkVersion = 30\n        targetSdkVersion = 30\n        supportLibVersion = &quot;28.0.0&quot;\n    }\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.2.2'\n        classpath 'com.google.gms:google-services:4.3.8'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        mavenLocal()\n        google()\n        jcenter()\n        maven {\n            // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n            url &quot;$rootDir/../node_modules/react-native/android&quot;\n        }\n        maven {\n            // Android JSC is installed from npm\n            url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\n        }\n        maven {\n            url &quot;https://sdk.smartlook.com/android/release&quot;\n        }\n    }\n}\n\n\nwrapper {\n    gradleVersion = '4.7'\n    distributionUrl = distributionUrl.replace(&quot;bin&quot;, &quot;all&quot;)\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","internet-explorer","microsoft-edge"],"answers":[{"comments":[{"owner":{"account_id":26390323,"reputation":11,"user_id":20042274,"display_name":"Strike_Code"},"score":0,"creation_date":1663916188,"post_id":73795235,"comment_id":130355899,"body_markdown":"Hi there, thanks for your answer but that approach present in known limitations was already tried before but that didn&#39;t work, since it only catches the number of windows but that I don&#39;t need because I want to switch to the specific window having some title and also as I already mentioned in the question that after clicking the login button immediately a new tab gets opened and closed after that new window pops up, this window I need to switch but time taking by the new window is unpredictable. I hope you got my point. Cheers :)","body":"Hi there, thanks for your answer but that approach present in known limitations was already tried before but that didn&#39;t work, since it only catches the number of windows but that I don&#39;t need because I want to switch to the specific window having some title and also as I already mentioned in the question that after clicking the login button immediately a new tab gets opened and closed after that new window pops up, this window I need to switch but time taking by the new window is unpredictable. I hope you got my point. Cheers :)"},{"owner":{"account_id":25983853,"reputation":1595,"user_id":19697081,"display_name":"Kendrick Li"},"score":0,"creation_date":1664259182,"post_id":73795235,"comment_id":130423879,"body_markdown":"Yeah, I get it. And I&#39;ve tested my IE driver to fetch a handle/title of a newly created window using your code. Actually, it works in my case. You can check twice whether the &quot;new window&quot; is exactly (part of) your new window&#39;s title. BTW, I&#39;m using IE driver 4.3.0.0, and it should work according to a [changelog](https://github.com/SeleniumHQ/selenium/blob/trunk/cpp/iedriverserver/CHANGELOG) saying that it &quot;fixed Edge IE mode issue that sometimes cannot get the handle of a newly opened window&quot;. You can raise a question there informing the Team that this issue hasn&#39;t been fully solved. Regards.","body":"Yeah, I get it. And I&#39;ve tested my IE driver to fetch a handle/title of a newly created window using your code. Actually, it works in my case. You can check twice whether the &quot;new window&quot; is exactly (part of) your new window&#39;s title. BTW, I&#39;m using IE driver 4.3.0.0, and it should work according to a <a href=\"https://github.com/SeleniumHQ/selenium/blob/trunk/cpp/iedriverserver/CHANGELOG\" rel=\"nofollow noreferrer\">changelog</a> saying that it &quot;fixed Edge IE mode issue that sometimes cannot get the handle of a newly opened window&quot;. You can raise a question there informing the Team that this issue hasn&#39;t been fully solved. Regards."}],"tags":[],"owner":{"account_id":25983853,"reputation":1595,"user_id":19697081,"display_name":"Kendrick Li"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663733073,"creation_date":1663733073,"answer_id":73795235,"question_id":73786518,"body_markdown":"There&#39;re [known limitations][1] in Selenium 4 for IE mode automation. One of the workarounds suggests waiting until the driver gets the handle. You can try the sample code provided in that doc.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/microsoft-edge/webdriver-chromium/ie-mode?tabs=java#known-limitations","title":"Selenium not able to find new window handle in IE MODE but working in normal mode ( internet explorer )","body":"<p>There're <a href=\"https://learn.microsoft.com/en-us/microsoft-edge/webdriver-chromium/ie-mode?tabs=java#known-limitations\" rel=\"nofollow noreferrer\">known limitations</a> in Selenium 4 for IE mode automation. One of the workarounds suggests waiting until the driver gets the handle. You can try the sample code provided in that doc.</p>\n"}],"owner":{"account_id":26390323,"reputation":11,"user_id":20042274,"display_name":"Strike_Code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":319,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1665065455,"creation_date":1663675929,"question_id":73786518,"body_markdown":"I&#39;m trying to switch to a new window that will open when I login to the previous page. After clicking the login button a new tab will be open and gets closed immediately then a new window is open, this window handle is not recognized by the Selenium IE driver in **IE MODE** but I&#39;m able to switch to this new window while automating in normal Internet Explorer browser. Selenium version is 4.3.0.0. \r\n\r\nThe code that I&#39;d tried to switch to that new windows:\r\n\r\n```\r\nThread.sleep(3000); // This delay is to avoid the new tab that gets closed immediately without this delay the driver is trying to switch to that new tab, after that any operation leads to throwing no browser exception. So this line is saving from the issue.\r\nString desiredTitle = &quot;&quot;;\r\n\r\nwhile (!desiredTitle.contains(&quot;new window&quot;)) {\r\n\tfor (String ewh: driver.getWindowHandles()) {\r\n\t\tdesiredTitle = driver.switchTo().window(ewh).getTitle();\r\n\t}\r\n}\r\n```","title":"Selenium not able to find new window handle in IE MODE but working in normal mode ( internet explorer )","body":"<p>I'm trying to switch to a new window that will open when I login to the previous page. After clicking the login button a new tab will be open and gets closed immediately then a new window is open, this window handle is not recognized by the Selenium IE driver in <strong>IE MODE</strong> but I'm able to switch to this new window while automating in normal Internet Explorer browser. Selenium version is 4.3.0.0.</p>\n<p>The code that I'd tried to switch to that new windows:</p>\n<pre><code>Thread.sleep(3000); // This delay is to avoid the new tab that gets closed immediately without this delay the driver is trying to switch to that new tab, after that any operation leads to throwing no browser exception. So this line is saving from the issue.\nString desiredTitle = &quot;&quot;;\n\nwhile (!desiredTitle.contains(&quot;new window&quot;)) {\n    for (String ewh: driver.getWindowHandles()) {\n        desiredTitle = driver.switchTo().window(ewh).getTitle();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-mvc","bean-validation"],"answers":[{"comments":[{"owner":{"account_id":474122,"reputation":1627,"user_id":883603,"accept_rate":75,"display_name":"Dormouse"},"score":0,"creation_date":1405625670,"post_id":24811947,"comment_id":38515430,"body_markdown":"Cheers, works like a charm :) Would be nice though, not having to do this for every validated method.","body":"Cheers, works like a charm :) Would be nice though, not having to do this for every validated method."}],"tags":[],"owner":{"account_id":2419234,"reputation":29081,"user_id":2112633,"accept_rate":66,"display_name":"usha"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1597290898,"creation_date":1405625431,"answer_id":24811947,"question_id":24811643,"body_markdown":"Try this\r\n\r\n    @RequestMapping(value = &quot;/valid&quot;)\r\n    public String validatedMethod(@Valid ValidObject object, BindingResult result) {\r\n        StringBuilder builder = new StringBuilder();\r\n        List&lt;FieldError&gt; errors = result.getFieldErrors();\r\n        for (FieldError error : errors ) {\r\n           builder.append(error.getField() + &quot; : &quot; + error.getDefaultMessage());\r\n        } \r\n        return builder.toString();\r\n    }","title":"Spring Bean Validation @Valid handling","body":"<p>Try this</p>\n<pre><code>@RequestMapping(value = &quot;/valid&quot;)\npublic String validatedMethod(@Valid ValidObject object, BindingResult result) {\n    StringBuilder builder = new StringBuilder();\n    List&lt;FieldError&gt; errors = result.getFieldErrors();\n    for (FieldError error : errors ) {\n       builder.append(error.getField() + &quot; : &quot; + error.getDefaultMessage());\n    } \n    return builder.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":474122,"reputation":1627,"user_id":883603,"accept_rate":75,"display_name":"Dormouse"},"score":0,"creation_date":1405626354,"post_id":24812151,"comment_id":38515785,"body_markdown":"Ok, this seems DRY. Could you elaborate a bit more? How do I wire this up to my `validatedMethod`? Oh, and the method is lacking a name.","body":"Ok, this seems DRY. Could you elaborate a bit more? How do I wire this up to my <code>validatedMethod</code>? Oh, and the method is lacking a name."},{"owner":{"account_id":474122,"reputation":1627,"user_id":883603,"accept_rate":75,"display_name":"Dormouse"},"score":0,"creation_date":1405627146,"post_id":24812151,"comment_id":38516232,"body_markdown":"`ValidationFailureResponse` seems to not be in any of my dependencies, and Google doesn&#39;t think it exists. Which Maven dependency could I add?","body":"<code>ValidationFailureResponse</code> seems to not be in any of my dependencies, and Google doesn&#39;t think it exists. Which Maven dependency could I add?"},{"owner":{"account_id":999669,"reputation":7922,"user_id":1014830,"accept_rate":57,"display_name":"dharam"},"score":2,"creation_date":1405627208,"post_id":24812151,"comment_id":38516271,"body_markdown":"this is your custom response class. I said you can fabricate and send any response object you want :)","body":"this is your custom response class. I said you can fabricate and send any response object you want :)"},{"owner":{"account_id":474122,"reputation":1627,"user_id":883603,"accept_rate":75,"display_name":"Dormouse"},"score":0,"creation_date":1405627757,"post_id":24812151,"comment_id":38516548,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/57531/discussion-between-dormouse-and-dharam).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/57531/discussion-between-dormouse-and-dharam\">continue this discussion in chat</a>."},{"owner":{"account_id":3494833,"reputation":161,"user_id":2923413,"display_name":"fridberg"},"score":0,"creation_date":1496910917,"post_id":24812151,"comment_id":75858933,"body_markdown":"Referring to your update: You can now use `@ControllerAdvice` to define define global exception handlers.","body":"Referring to your update: You can now use <code>@ControllerAdvice</code> to define define global exception handlers."},{"owner":{"account_id":3635110,"reputation":1239,"user_id":3030406,"accept_rate":55,"display_name":"Rookie007"},"score":0,"creation_date":1634713485,"post_id":24812151,"comment_id":123095510,"body_markdown":"Is there way I can produce the result of `Set&lt;ConstraintViolation&lt;ValidObject&gt;&gt; constraintViolations = validator\n            .validate(object);` using `@Valid` in `MethodArgumentNotValidExeption` ?? I get only one field which is being voilated, but I want all of the fields which are voilated.","body":"Is there way I can produce the result of <code>Set&lt;ConstraintViolation&lt;ValidObject&gt;&gt; constraintViolations = validator             .validate(object);</code> using <code>@Valid</code> in <code>MethodArgumentNotValidExeption</code> ?? I get only one field which is being voilated, but I want all of the fields which are voilated."}],"tags":[],"owner":{"account_id":999669,"reputation":7922,"user_id":1014830,"accept_rate":57,"display_name":"dharam"},"comment_count":6,"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1405626787,"creation_date":1405626016,"answer_id":24812151,"question_id":24811643,"body_markdown":"I believe a better way of doing this is using `ExceptionHandler`.\r\n\r\nIn your `Controller` you can write `ExceptionHandler` to handle different exceptions. Below is the code for the same:\r\n\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\r\n    @ResponseBody\r\n    public ValidationFailureResponse validationError(MethodArgumentNotValidException ex) {\r\n        BindingResult result = ex.getBindingResult();\r\n        final List&lt;FieldError&gt; fieldErrors = result.getFieldErrors();\r\n\r\n        return new ValidationFailureResponse((FieldError[])(fieldErrors.toArray(new FieldError[fieldErrors.size()])));\r\n    }\r\n\r\nWhen you send a bad request to the Controller, the validator throws an exception of type `MethodArgumentNotValidException`. So the ideal way would be to write an exception handler to specifically handle this exception. \r\n\r\nThere you can create a beautiful response to tell the user of things which went wrong. \r\nI advocate this, because you have to write this just once and many `Controller` methods can use it. :)\r\n\r\n\r\n**UPDATE**\r\n\r\nWhen you use the @Valid annotation for a method argument in the `Controller`, the validator is invoked automatically and it tries to validate the object, if the object is invalid, it throws `MethodArgumentNotValidException`. \r\n\r\nIf Spring finds an `ExceptionHandler` method for this exception it will execute the code inside this method.\r\n\r\nYou just need to make sure that the method above is present in your Controller.\r\n\r\nNow there is another case when you have multiple `Controller`s where you want to validate the method arguments. In this case I suggest you to create a `ExceptionResolver` class and put this method there. Make your `Controller`s extend this class and your job is done.","title":"Spring Bean Validation @Valid handling","body":"<p>I believe a better way of doing this is using <code>ExceptionHandler</code>.</p>\n\n<p>In your <code>Controller</code> you can write <code>ExceptionHandler</code> to handle different exceptions. Below is the code for the same:</p>\n\n<pre><code>@ExceptionHandler(MethodArgumentNotValidException.class)\n@ResponseStatus(HttpStatus.BAD_REQUEST)\n@ResponseBody\npublic ValidationFailureResponse validationError(MethodArgumentNotValidException ex) {\n    BindingResult result = ex.getBindingResult();\n    final List&lt;FieldError&gt; fieldErrors = result.getFieldErrors();\n\n    return new ValidationFailureResponse((FieldError[])(fieldErrors.toArray(new FieldError[fieldErrors.size()])));\n}\n</code></pre>\n\n<p>When you send a bad request to the Controller, the validator throws an exception of type <code>MethodArgumentNotValidException</code>. So the ideal way would be to write an exception handler to specifically handle this exception. </p>\n\n<p>There you can create a beautiful response to tell the user of things which went wrong. \nI advocate this, because you have to write this just once and many <code>Controller</code> methods can use it. :)</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>When you use the @Valid annotation for a method argument in the <code>Controller</code>, the validator is invoked automatically and it tries to validate the object, if the object is invalid, it throws <code>MethodArgumentNotValidException</code>. </p>\n\n<p>If Spring finds an <code>ExceptionHandler</code> method for this exception it will execute the code inside this method.</p>\n\n<p>You just need to make sure that the method above is present in your Controller.</p>\n\n<p>Now there is another case when you have multiple <code>Controller</code>s where you want to validate the method arguments. In this case I suggest you to create a <code>ExceptionResolver</code> class and put this method there. Make your <code>Controller</code>s extend this class and your job is done.</p>\n"},{"tags":[],"owner":{"account_id":3977988,"reputation":43,"user_id":3280711,"accept_rate":33,"display_name":"user3280711"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634728687,"creation_date":1634728687,"answer_id":69645036,"question_id":24811643,"body_markdown":"The answer by @dharam works. \r\nFor users at Spring v4.3, Here&#39;s a nice implementation which uses a Custom Exception class to handle exception by type.\r\n\r\n\r\n    @RestControllerAdvice\r\n    public class CustomExceptionClass extends ResponseEntityExceptionHandler{\r\n       @ExceptionHandler(value = MethodArgumentNotValidException.class)\r\n       public ResponseEntity&lt;Object&gt; handleException(MethodArgumentNotValidException ex, WebRequest req){\r\n       // Build your custom response object and access the exception message using ex.getMessage()\r\n    }\r\n    }\r\n\r\nThis method will enable handling all `@Valid` exceptions across all of your `@Controller` methods in a consolidated way\r\n\r\n","title":"Spring Bean Validation @Valid handling","body":"<p>The answer by @dharam works.\nFor users at Spring v4.3, Here's a nice implementation which uses a Custom Exception class to handle exception by type.</p>\n<pre><code>@RestControllerAdvice\npublic class CustomExceptionClass extends ResponseEntityExceptionHandler{\n   @ExceptionHandler(value = MethodArgumentNotValidException.class)\n   public ResponseEntity&lt;Object&gt; handleException(MethodArgumentNotValidException ex, WebRequest req){\n   // Build your custom response object and access the exception message using ex.getMessage()\n}\n}\n</code></pre>\n<p>This method will enable handling all <code>@Valid</code> exceptions across all of your <code>@Controller</code> methods in a consolidated way</p>\n"},{"comments":[{"owner":{"account_id":474122,"reputation":1627,"user_id":883603,"accept_rate":75,"display_name":"Dormouse"},"score":0,"creation_date":1658697874,"post_id":73076000,"comment_id":129109591,"body_markdown":"Yes, good addition. I use `@ControllerAdvice` for some time now, to avoid code duplication and to have all Exception based response handling in one place.","body":"Yes, good addition. I use <code>@ControllerAdvice</code> for some time now, to avoid code duplication and to have all Exception based response handling in one place."}],"tags":[],"owner":{"account_id":19551190,"reputation":29,"user_id":14306749,"display_name":"Almaz Salyakhov"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665065311,"creation_date":1658471545,"answer_id":73076000,"question_id":24811643,"body_markdown":"When you use @Valid and doing bad request body Spring handle MethodArgumentNotValidException\r\nYou must create special class and extend ResponseEntityExceptionHandler and override handleMethodArgumentNotValid \r\nExample\r\n\r\n    @ControllerAdvice\r\n    public class ControllerExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n      @ExceptionHandler(UserExistException.class)\r\n      public ResponseEntity&lt;Object&gt; handleUserExistException(\r\n            UserExistException e, WebRequest request) {\r\n\r\n        Map&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;();\r\n        body.put(&quot;timestamp&quot;, LocalDateTime.now());\r\n        body.put(&quot;status&quot;, HttpStatus.BAD_REQUEST.value());\r\n        body.put(&quot;error&quot;, HttpStatus.BAD_REQUEST.getReasonPhrase());\r\n        body.put(&quot;message&quot;, e.getMessage());\r\n        body.put(&quot;path&quot;, request.getDescription(false).replace(&quot;uri=&quot;, &quot;&quot;));\r\n\r\n\r\n        return new ResponseEntity&lt;&gt;(body, HttpStatus.BAD_REQUEST);\r\n      }\r\n\r\n      @Override\r\n      protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n\r\n        Map&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;();\r\n        body.put(&quot;timestamp&quot;, LocalDateTime.now());\r\n        body.put(&quot;status&quot;, HttpStatus.BAD_REQUEST.value());\r\n        body.put(&quot;error&quot;, HttpStatus.BAD_REQUEST.getReasonPhrase());\r\n        body.put(&quot;path&quot;, request.getDescription(false).replace(&quot;uri=&quot;, &quot;&quot;));\r\n        return new ResponseEntity&lt;&gt;(body, headers, status);\r\n      }\r\n    }","title":"Spring Bean Validation @Valid handling","body":"<p>When you use @Valid and doing bad request body Spring handle MethodArgumentNotValidException\nYou must create special class and extend ResponseEntityExceptionHandler and override handleMethodArgumentNotValid\nExample</p>\n<pre><code>@ControllerAdvice\npublic class ControllerExceptionHandler extends ResponseEntityExceptionHandler {\n\n  @ExceptionHandler(UserExistException.class)\n  public ResponseEntity&lt;Object&gt; handleUserExistException(\n        UserExistException e, WebRequest request) {\n\n    Map&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;();\n    body.put(&quot;timestamp&quot;, LocalDateTime.now());\n    body.put(&quot;status&quot;, HttpStatus.BAD_REQUEST.value());\n    body.put(&quot;error&quot;, HttpStatus.BAD_REQUEST.getReasonPhrase());\n    body.put(&quot;message&quot;, e.getMessage());\n    body.put(&quot;path&quot;, request.getDescription(false).replace(&quot;uri=&quot;, &quot;&quot;));\n\n\n    return new ResponseEntity&lt;&gt;(body, HttpStatus.BAD_REQUEST);\n  }\n\n  @Override\n  protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n\n    Map&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;();\n    body.put(&quot;timestamp&quot;, LocalDateTime.now());\n    body.put(&quot;status&quot;, HttpStatus.BAD_REQUEST.value());\n    body.put(&quot;error&quot;, HttpStatus.BAD_REQUEST.getReasonPhrase());\n    body.put(&quot;path&quot;, request.getDescription(false).replace(&quot;uri=&quot;, &quot;&quot;));\n    return new ResponseEntity&lt;&gt;(body, headers, status);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":474122,"reputation":1627,"user_id":883603,"accept_rate":75,"display_name":"Dormouse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37640,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":24812151,"answer_count":4,"score":16,"last_activity_date":1665065311,"creation_date":1405624314,"question_id":24811643,"body_markdown":"I have created a Spring MVC REST service using Bean Validation 1.2 with the following method: \r\n\r\n    @RequestMapping(value = &quot;/valid&quot;)\r\n    public String validatedMethod(@Valid ValidObject object) {\r\n    \r\n    }\r\n\r\nIf object isn&#39;t valid, Tomcat informs me that `The request sent by the client was syntactically incorrect.` and my `validatedMethod` is never called.\r\n\r\nHow can I get the message that was defined in the `ValidObject` bean? Should I use some filter or interceptor?\r\n\r\nI know that I can rewrite like below, to get the set of `ConstraintViolation`s from the injected `Validator`, but the above seems more neat...\r\n\r\n    @RequestMapping(value = &quot;/valid&quot;)\r\n    public String validatedMethod(ValidObject object) {\r\n    \tSet&lt;ConstraintViolation&lt;ValidObject&gt;&gt; constraintViolations = validator\r\n    \t\t\t.validate(object);\r\n    \tif (constraintViolations.isEmpty()) {\r\n    \t\treturn &quot;valid&quot;;\r\n    \t} else {\r\n    \t\tfinal StringBuilder message = new StringBuilder();\r\n    \t\tconstraintViolations.forEach((action) -&gt; {\r\n    \t\t\tmessage.append(action.getPropertyPath());\r\n    \t\t\tmessage.append(&quot;: &quot;);\r\n    \t\t\tmessage.append(action.getMessage());\r\n    \t\t});\r\n    \t\treturn message.toString();\r\n    \t}\r\n    }","title":"Spring Bean Validation @Valid handling","body":"<p>I have created a Spring MVC REST service using Bean Validation 1.2 with the following method:</p>\n<pre><code>@RequestMapping(value = &quot;/valid&quot;)\npublic String validatedMethod(@Valid ValidObject object) {\n\n}\n</code></pre>\n<p>If object isn't valid, Tomcat informs me that <code>The request sent by the client was syntactically incorrect.</code> and my <code>validatedMethod</code> is never called.</p>\n<p>How can I get the message that was defined in the <code>ValidObject</code> bean? Should I use some filter or interceptor?</p>\n<p>I know that I can rewrite like below, to get the set of <code>ConstraintViolation</code>s from the injected <code>Validator</code>, but the above seems more neat...</p>\n<pre><code>@RequestMapping(value = &quot;/valid&quot;)\npublic String validatedMethod(ValidObject object) {\n    Set&lt;ConstraintViolation&lt;ValidObject&gt;&gt; constraintViolations = validator\n            .validate(object);\n    if (constraintViolations.isEmpty()) {\n        return &quot;valid&quot;;\n    } else {\n        final StringBuilder message = new StringBuilder();\n        constraintViolations.forEach((action) -&gt; {\n            message.append(action.getPropertyPath());\n            message.append(&quot;: &quot;);\n            message.append(action.getMessage());\n        });\n        return message.toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-poi","apache-poi-4"],"answers":[{"tags":[],"owner":{"account_id":23190047,"reputation":1,"user_id":17286535,"display_name":"Liu Hongjie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665065059,"creation_date":1665065059,"answer_id":73975199,"question_id":73973990,"body_markdown":"You can refer to this link: https://github.com/zkh152/xdocreport/issues/40\r\nSummarize:\r\nMaybe you should try to upgrade dependencies -&gt; itext -&gt; version to 2.1.7","title":"Apache poi dependency version issue -java.lang.ClassNotFoundException: fr.opensagres.xdocreport.converter.XDocConverterException","body":"<p>You can refer to this link: <a href=\"https://github.com/zkh152/xdocreport/issues/40\" rel=\"nofollow noreferrer\">https://github.com/zkh152/xdocreport/issues/40</a>\nSummarize:\nMaybe you should try to upgrade dependencies -&gt; itext -&gt; version to 2.1.7</p>\n"}],"owner":{"account_id":16949228,"reputation":33,"user_id":12259208,"display_name":"Misthi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665065059,"creation_date":1665060119,"question_id":73973990,"body_markdown":"I am trying to generate excel sheets, PDFs, and word documents using apache poi. Following are the pom entries I used in the code \r\n\r\n     &lt;!-- EXCEL GENERATION REPORT --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.2&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.2&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jxls&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jxls-reader&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.5&lt;/version&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jxls&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jxls&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.0&lt;/version&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- WORD GENERATION REPORT--&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;docx4j&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;2.11.0&lt;/version&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n                &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.4&lt;/version&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.itextpdf.tool&lt;/groupId&gt;\r\n                &lt;artifactId&gt;xmlworker&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.4&lt;/version&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n                &lt;artifactId&gt;itext-pdfa&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.4&lt;/version&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n                &lt;artifactId&gt;fr.opensagres.xdocreport.document.docx&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.4&lt;/version&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n                &lt;artifactId&gt;fr.opensagres.xdocreport.document&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.4&lt;/version&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n                &lt;artifactId&gt; fr.opensagres.xdocreport.core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.4&lt;/version&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n                &lt;artifactId&gt;fr.opensagres.xdocreport.converter&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.4&lt;/version&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n                &lt;artifactId&gt;fr.opensagres.xdocreport.converter.docx.xwpf&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.4&lt;/version&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.pdf&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n                &lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.pdf.itext5&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.4&lt;/version&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n                &lt;artifactId&gt;fr.opensagres.xdocreport.template&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.4&lt;/version&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n\r\n\r\n    import java.math.BigInteger;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTBody;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPageSz;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTSectPr;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.STPageOrientation;\r\n    \r\n    public class DocumentHelper {\r\n    \r\n         public static XWPFDocument getXwpfDocument() {\r\n            XWPFDocument document = new XWPFDocument();\r\n            CTBody body = document.getDocument().getBody();\r\n            if (!body.isSetSectPr()) {\r\n                body.addNewSectPr();\r\n            }\r\n            CTSectPr section = body.getSectPr();\r\n            if (!section.isSetPgSz()) {\r\n                section.addNewPgSz();\r\n            }\r\n            return document;\r\n        }\r\n    \r\n        }\r\n\r\nFollowing code is using to generate the report\r\n\r\n    public void generateReport(ReportParameters reportParameters, OutputStream outputStream) throws XDocConverterException, IOException {\r\n            val document = getXwpfDocument();\r\n            createParagraph(document, &quot;RESTRICTED&quot;, 12, CENTER, true, SINGLE);\r\n            document.write(outputStream);\r\n        }\r\n\r\nWhen I am trying to deploy the application, I am getting this exception :\r\n\r\n**java.lang.ClassNotFoundException: fr.opensagres.xdocreport.converter.XDocConverterException** Any leads to solve the issue.\r\n\r\n\r\n\r\n\r\n","title":"Apache poi dependency version issue -java.lang.ClassNotFoundException: fr.opensagres.xdocreport.converter.XDocConverterException","body":"<p>I am trying to generate excel sheets, PDFs, and word documents using apache poi. Following are the pom entries I used in the code</p>\n<pre><code> &lt;!-- EXCEL GENERATION REPORT --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jxls&lt;/groupId&gt;\n            &lt;artifactId&gt;jxls-reader&lt;/artifactId&gt;\n            &lt;version&gt;2.0.5&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jxls&lt;/groupId&gt;\n            &lt;artifactId&gt;jxls&lt;/artifactId&gt;\n            &lt;version&gt;2.6.0&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- WORD GENERATION REPORT--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.docx4j&lt;/groupId&gt;\n            &lt;artifactId&gt;docx4j&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n                    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.4.4&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf.tool&lt;/groupId&gt;\n            &lt;artifactId&gt;xmlworker&lt;/artifactId&gt;\n            &lt;version&gt;5.4.4&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itext-pdfa&lt;/artifactId&gt;\n            &lt;version&gt;5.4.4&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n            &lt;artifactId&gt;fr.opensagres.xdocreport.document.docx&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n            &lt;artifactId&gt;fr.opensagres.xdocreport.document&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n            &lt;artifactId&gt; fr.opensagres.xdocreport.core&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n            &lt;artifactId&gt;fr.opensagres.xdocreport.converter&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n            &lt;artifactId&gt;fr.opensagres.xdocreport.converter.docx.xwpf&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n                    &lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.pdf&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n            &lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.pdf.itext5&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n            &lt;artifactId&gt;fr.opensagres.xdocreport.template&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n\nimport java.math.BigInteger;\n\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTBody;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTPageSz;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTSectPr;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.STPageOrientation;\n\npublic class DocumentHelper {\n\n     public static XWPFDocument getXwpfDocument() {\n        XWPFDocument document = new XWPFDocument();\n        CTBody body = document.getDocument().getBody();\n        if (!body.isSetSectPr()) {\n            body.addNewSectPr();\n        }\n        CTSectPr section = body.getSectPr();\n        if (!section.isSetPgSz()) {\n            section.addNewPgSz();\n        }\n        return document;\n    }\n\n    }\n</code></pre>\n<p>Following code is using to generate the report</p>\n<pre><code>public void generateReport(ReportParameters reportParameters, OutputStream outputStream) throws XDocConverterException, IOException {\n        val document = getXwpfDocument();\n        createParagraph(document, &quot;RESTRICTED&quot;, 12, CENTER, true, SINGLE);\n        document.write(outputStream);\n    }\n</code></pre>\n<p>When I am trying to deploy the application, I am getting this exception :</p>\n<p><strong>java.lang.ClassNotFoundException: fr.opensagres.xdocreport.converter.XDocConverterException</strong> Any leads to solve the issue.</p>\n"},{"tags":["java","maven","maven-central","java-17"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1638186620,"post_id":70153962,"comment_id":124012516,"body_markdown":"First is there a good reason why you have defined `&lt;sourceDirectory&gt;./src&lt;/sourceDirectory&gt;` second can you please check what `mvn --version` exactly tells you ...I suppose the nexus staging plugin has issues with JDK17? If so you have to go via maven-deploy-plugin instead...","body":"First is there a good reason why you have defined <code>&lt;sourceDirectory&gt;.&#47;src&lt;&#47;sourceDirectory&gt;</code> second can you please check what <code>mvn --version</code> exactly tells you ...I suppose the nexus staging plugin has issues with JDK17? If so you have to go via maven-deploy-plugin instead..."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1638186915,"post_id":70153962,"comment_id":124012615,"body_markdown":"Sounds like the plugin is not updated for the new module system.  Is there a newer version?","body":"Sounds like the plugin is not updated for the new module system.  Is there a newer version?"},{"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"score":0,"creation_date":1638189397,"post_id":70153962,"comment_id":124013623,"body_markdown":"I checked the plugin versions. They seem up to date. @khmarbaise what do you mean &quot;go via maven-deploy-plugin instead&quot; ?","body":"I checked the plugin versions. They seem up to date. @khmarbaise what do you mean &quot;go via maven-deploy-plugin instead&quot; ?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1638189710,"post_id":70153962,"comment_id":124013751,"body_markdown":"There is no updated version for the nexus-staging-plugin available. My suggestion was simply remove the nexus-staging-plugin and just do a `mvn deploy` ...(define the version of the maven-deploy-plugin...that&#39;s it... You have to close the release repository on Nexus manually...","body":"There is no updated version for the nexus-staging-plugin available. My suggestion was simply remove the nexus-staging-plugin and just do a <code>mvn deploy</code> ...(define the version of the maven-deploy-plugin...that&#39;s it... You have to close the release repository on Nexus manually..."},{"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"score":0,"creation_date":1638191014,"post_id":70153962,"comment_id":124014324,"body_markdown":"I could try it under Java 16 maybe. OK I&#39;ll look into that. I created a case at sonatype as well.","body":"I could try it under Java 16 maybe. OK I&#39;ll look into that. I created a case at sonatype as well."},{"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"score":0,"creation_date":1638191112,"post_id":70153962,"comment_id":124014367,"body_markdown":"@khmarbaise I am running mvn deploy.","body":"@khmarbaise I am running mvn deploy."},{"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"score":0,"creation_date":1638193435,"post_id":70153962,"comment_id":124015410,"body_markdown":"@khmarbaise Hey thanks! That worked somehow! I just commented the nexus plugin and put maven-deploy-plugin with version. I don&#39;t know how this worked but it did!","body":"@khmarbaise Hey thanks! That worked somehow! I just commented the nexus plugin and put maven-deploy-plugin with version. I don&#39;t know how this worked but it did!"}],"answers":[{"comments":[{"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"score":0,"creation_date":1638209341,"post_id":70157413,"comment_id":124022306,"body_markdown":"commented that plugin and used   maven-deploy-plugin but still I can&#39;t release since the gpg now generates .md5 and sha1 files instead of .asc files. Any ideas?","body":"commented that plugin and used   maven-deploy-plugin but still I can&#39;t release since the gpg now generates .md5 and sha1 files instead of .asc files. Any ideas?"},{"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"score":0,"creation_date":1638209782,"post_id":70157413,"comment_id":124022466,"body_markdown":"Trying this method failed for the same reason. The .asc files are not there. :( This used to work.","body":"Trying this method failed for the same reason. The .asc files are not there. :( This used to work."},{"owner":{"account_id":4992892,"reputation":4470,"user_id":4014509,"accept_rate":77,"display_name":"Sebastian S"},"score":1,"creation_date":1638258669,"post_id":70157413,"comment_id":124034027,"body_markdown":"No idea, maybe the `maven-gpg-plugin` doesn&#39;t find a gpg key. That is a completely unrelated question, though.","body":"No idea, maybe the <code>maven-gpg-plugin</code> doesn&#39;t find a gpg key. That is a completely unrelated question, though."},{"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"score":0,"creation_date":1638274029,"post_id":70157413,"comment_id":124039696,"body_markdown":"Hey thanks. I didn&#39;t know we could override plugin dependencies.  It all worked fine.","body":"Hey thanks. I didn&#39;t know we could override plugin dependencies.  It all worked fine."},{"owner":{"account_id":449103,"reputation":8486,"user_id":843699,"accept_rate":59,"display_name":"electrotype"},"score":0,"creation_date":1650330282,"post_id":70157413,"comment_id":127084162,"body_markdown":"#2 Worked for me! Thanks a lot!","body":"#2 Worked for me! Thanks a lot!"},{"owner":{"account_id":4474969,"reputation":1676,"user_id":3640307,"accept_rate":71,"display_name":"Sajib Acharya"},"score":0,"creation_date":1681760717,"post_id":70157413,"comment_id":134106127,"body_markdown":"These workarounds don&#39;t work for me. Gives me the error: `Caused by: org.apache.maven.plugin.PluginExecutionException: Execution injected-nexus-deploy of goal org.sonatype.plugins:nexus-staging-maven-plugin:1.6.13:deploy failed: 400 - Bad Request`","body":"These workarounds don&#39;t work for me. Gives me the error: <code>Caused by: org.apache.maven.plugin.PluginExecutionException: Execution injected-nexus-deploy of goal org.sonatype.plugins:nexus-staging-maven-plugin:1.6.13:deplo&zwnj;&#8203;y failed: 400 - Bad Request</code>"},{"owner":{"account_id":69442,"reputation":3161,"user_id":202007,"display_name":"Lincoln"},"score":0,"creation_date":1696447777,"post_id":70157413,"comment_id":136155780,"body_markdown":"1.6.13 does not appear to solve this: ```Failed to execute goal org.sonatype.plugins:nexus-staging-maven-plugin:1.6.13:deploy (injected-nexus-deploy) on project rewrite-documentation: Execution injected-nexus-deploy of goal org.sonatype.plugins:nexus-staging-maven-plugin:1.6.13:deploy failed: A message body reader for Java class com.sonatype.nexus.staging.api.dto.StagingProfileRepositoryDTO, and Java type class com.sonatype.nexus.staging.api.dto.StagingProfileRepositoryDTO, and MIME media type text/html was not found -&gt; [Help 1]\n```","body":"1.6.13 does not appear to solve this: <code>Failed to execute goal org.sonatype.plugins:nexus-staging-maven-plugin:1.6.13:deplo&zwnj;&#8203;y (injected-nexus-deploy) on project rewrite-documentation: Execution injected-nexus-deploy of goal org.sonatype.plugins:nexus-staging-maven-plugin:1.6.13:deplo&zwnj;&#8203;y failed: A message body reader for Java class com.sonatype.nexus.staging.api.dto.StagingProfileRepositoryD&zwnj;&#8203;TO, and Java type class com.sonatype.nexus.staging.api.dto.StagingProfileRepositoryD&zwnj;&#8203;TO, and MIME media type text&#47;html was not found -&gt; [Help 1] </code>"},{"owner":{"account_id":27882256,"reputation":73,"user_id":21290471,"display_name":"geno"},"score":0,"creation_date":1699037071,"post_id":70157413,"comment_id":136485424,"body_markdown":"&quot;Version 1.6.13&quot; solved my problem","body":"&quot;Version 1.6.13&quot; solved my problem"}],"tags":[],"owner":{"account_id":4992892,"reputation":4470,"user_id":4014509,"accept_rate":77,"display_name":"Sebastian S"},"comment_count":8,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1661856579,"creation_date":1638200901,"answer_id":70157413,"question_id":70153962,"body_markdown":"**Update**: Version 1.6.13 has been released and should fix this issue! &#127881;\r\n\r\n\r\n----------\r\n\r\nThis is actually a known bug, which is now open for quite a while: [OSSRH-66257][1]. There are two known workarounds:\r\n\r\n### 1. Open Modules\r\n\r\nAs a workaround, use `--add-opens` to give the library causing the problem access to the required classes:\r\n\r\n```sh\r\nexport MAVEN_OPTS=&quot;--add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.desktop/java.awt.font=ALL-UNNAMED&quot;\r\nmvn deploy\r\n```\r\n\r\n### 2. Manage Upstream Dependencies\r\n\r\nOr you can update the library that causes the problem:\r\n\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.sonatype.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;nexus-staging-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;1.6.8&lt;/version&gt;\r\n  &lt;extensions&gt;true&lt;/extensions&gt;\r\n  &lt;configuration&gt;\r\n    &lt;serverId&gt;ossrh&lt;/serverId&gt;\r\n    &lt;nexusUrl&gt;https://s01.oss.sonatype.org/&lt;/nexusUrl&gt;\r\n    &lt;autoReleaseAfterClose&gt;true&lt;/autoReleaseAfterClose&gt;\r\n  &lt;/configuration&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\r\n      &lt;artifactId&gt;xstream&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.15&lt;/version&gt; &lt;!-- apparently this needs to be exactly this version --&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/plugin&gt;\r\n```\r\n  [1]: https://issues.sonatype.org/browse/OSSRH-66257","title":"nexus-staging-maven-plugin: maven deploy failed: An API incompatibility was encountered while executing","body":"<p><strong>Update</strong>: Version 1.6.13 has been released and should fix this issue! </p>\n<hr />\n<p>This is actually a known bug, which is now open for quite a while: <a href=\"https://issues.sonatype.org/browse/OSSRH-66257\" rel=\"noreferrer\">OSSRH-66257</a>. There are two known workarounds:</p>\n<h3>1. Open Modules</h3>\n<p>As a workaround, use <code>--add-opens</code> to give the library causing the problem access to the required classes:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export MAVEN_OPTS=&quot;--add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.desktop/java.awt.font=ALL-UNNAMED&quot;\nmvn deploy\n</code></pre>\n<h3>2. Manage Upstream Dependencies</h3>\n<p>Or you can update the library that causes the problem:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.sonatype.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;nexus-staging-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;1.6.8&lt;/version&gt;\n  &lt;extensions&gt;true&lt;/extensions&gt;\n  &lt;configuration&gt;\n    &lt;serverId&gt;ossrh&lt;/serverId&gt;\n    &lt;nexusUrl&gt;https://s01.oss.sonatype.org/&lt;/nexusUrl&gt;\n    &lt;autoReleaseAfterClose&gt;true&lt;/autoReleaseAfterClose&gt;\n  &lt;/configuration&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\n      &lt;artifactId&gt;xstream&lt;/artifactId&gt;\n      &lt;version&gt;1.4.15&lt;/version&gt; &lt;!-- apparently this needs to be exactly this version --&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2158186,"reputation":302,"user_id":1912944,"display_name":"David"},"score":3,"creation_date":1694102478,"post_id":73975097,"comment_id":135850282,"body_markdown":"I&#39;ve got 1.6.13 and I&#39;m still getting the same issue described here when trying to publish to Maven.","body":"I&#39;ve got 1.6.13 and I&#39;m still getting the same issue described here when trying to publish to Maven."},{"owner":{"account_id":69442,"reputation":3161,"user_id":202007,"display_name":"Lincoln"},"score":2,"creation_date":1696447756,"post_id":73975097,"comment_id":136155779,"body_markdown":"Same here. 1.6.13 does not solve this.","body":"Same here. 1.6.13 does not solve this."},{"owner":{"account_id":157470,"reputation":1518,"user_id":375449,"display_name":"dmatej"},"score":0,"creation_date":1699098374,"post_id":73975097,"comment_id":136490271,"body_markdown":"Bit different issue with 1.6.13, but similar: Unable to make field protected transient int java.util.AbstractList.modCount accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @53125718","body":"Bit different issue with 1.6.13, but similar: Unable to make field protected transient int java.util.AbstractList.modCount accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @53125718"}],"tags":[],"owner":{"account_id":4982023,"reputation":162,"user_id":13327121,"display_name":"Shailesh Mishra"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665064605,"creation_date":1665064605,"answer_id":73975097,"question_id":70153962,"body_markdown":"There are some broken internal dependencies in the library\r\n\r\nUpdating nexus-staging-maven-plugin to 1.6.13 will solve your problem:\r\n\r\n     &lt;groupId&gt;org.sonatype.plugins&lt;/groupId&gt;\r\n     &lt;artifactId&gt;nexus-staging-maven-plugin&lt;/artifactId&gt;\r\n     &lt;version&gt;1.6.13&lt;/version&gt;","title":"nexus-staging-maven-plugin: maven deploy failed: An API incompatibility was encountered while executing","body":"<p>There are some broken internal dependencies in the library</p>\n<p>Updating nexus-staging-maven-plugin to 1.6.13 will solve your problem:</p>\n<pre><code> &lt;groupId&gt;org.sonatype.plugins&lt;/groupId&gt;\n &lt;artifactId&gt;nexus-staging-maven-plugin&lt;/artifactId&gt;\n &lt;version&gt;1.6.13&lt;/version&gt;\n</code></pre>\n"}],"owner":{"account_id":21731,"reputation":9045,"user_id":53069,"accept_rate":77,"display_name":"sproketboy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5422,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":70157413,"answer_count":2,"score":11,"last_activity_date":1665064605,"creation_date":1638185775,"question_id":70153962,"body_markdown":"This worked fine for me be building under Java 8. Now under Java 17.01 I get this when I do mvn deploy.\r\n\r\nmvn install works fine. I tried 3.6.3 and 3.8.4 and updated (I think) all my plugins to the newest versions.\r\n\r\nAny ideas?\r\n\r\n    [ERROR] Failed to execute goal org.sonatype.plugins:nexus-staging-maven-plugin:1.6.8:deploy (injected-nexus-deploy) on project persism: Execution injected-nexus-deploy of goal org.sonatype.plugins:nexus-staging-maven-plugin:1.6.8:de\r\n    ploy failed: An API incompatibility was encountered while executing org.sonatype.plugins:nexus-staging-maven-plugin:1.6.8:deploy: java.lang.ExceptionInInitializerError: null\r\n    \r\n    \r\n    [ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\r\n    [ERROR]\r\n    [ERROR] -----------------------------------------------------\r\n    [ERROR] : Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @149f5761\r\n    [ERROR] -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.sonatype.plugins:nexus-staging-maven-plugin:1.6.8:deploy (injected-nexus-deploy) on project persism: Execution injected-nexus-deploy of goal org.sona\r\n    type.plugins:nexus-staging-maven-plugin:1.6.8:deploy failed: An API incompatibility was encountered while executing org.sonatype.plugins:nexus-staging-maven-plugin:1.6.8:deploy: java.lang.ExceptionInInitializerError: null\r\n    \r\n    Caused by: org.apache.maven.plugin.PluginExecutionException: Execution injected-nexus-deploy of goal org.sonatype.plugins:nexus-staging-maven-plugin:1.6.8:deploy failed: An API incompatibility was encountered while executing org.son\r\n    atype.plugins:nexus-staging-maven-plugin:1.6.8:deploy: java.lang.ExceptionInInitializerError: null\r\n\r\nPOM:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;io.github.sproket&lt;/groupId&gt;\r\n        &lt;artifactId&gt;persism&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n   \r\n        &lt;build&gt;\r\n            &lt;sourceDirectory&gt;./src&lt;/sourceDirectory&gt;\r\n            &lt;testSourceDirectory&gt;./test&lt;/testSourceDirectory&gt;\r\n            &lt;testResources&gt;\r\n                &lt;testResource&gt;\r\n                    &lt;directory&gt;./test&lt;/directory&gt;\r\n                    &lt;!--                &lt;includes&gt;--&gt;\r\n                    &lt;!--                    &lt;include&gt;*.*&lt;/include&gt;--&gt;\r\n                    &lt;!--                &lt;/includes&gt;--&gt;\r\n                &lt;/testResource&gt;\r\n            &lt;/testResources&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;!-- MSSQL does not seem to able to connect with 16 --&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                        &lt;target&gt;17&lt;/target&gt;\r\n    &lt;!--                    &lt;compilerArgs&gt;--&gt;\r\n    &lt;!--                        &lt;arg&gt;-parameters&lt;/arg&gt;--&gt;\r\n    &lt;!--                    &lt;/compilerArgs&gt;--&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifestEntries&gt;\r\n                                &lt;Automatic-Module-Name&gt;sproket.github.io.persism&lt;/Automatic-Module-Name&gt;\r\n                            &lt;/manifestEntries&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.1&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;attach-sources&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;jar-no-fork&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludePackageNames&gt;net.sf.persism.log*;net.sf.persism.logging.*&lt;/excludePackageNames&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;jar&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludedGroups&gt;net.sf.persism.categories.ExternalDB,net.sf.persism.categories.TestContainerDB\r\n                        &lt;/excludedGroups&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.sonatype.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;nexus-staging-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.6.8&lt;/version&gt;\r\n                    &lt;extensions&gt;true&lt;/extensions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;serverId&gt;ossrh&lt;/serverId&gt;\r\n                        &lt;nexusUrl&gt;https://s01.oss.sonatype.org/&lt;/nexusUrl&gt;\r\n                        &lt;autoReleaseAfterClose&gt;true&lt;/autoReleaseAfterClose&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;name&gt;persism&lt;/name&gt;\r\n        &lt;description&gt;A zero ceremony ORM for Java&lt;/description&gt;\r\n        &lt;url&gt;https://github.com/sproket/Persism&lt;/url&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n            &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;licenses&gt;\r\n            &lt;license&gt;\r\n                &lt;name&gt;BSD-3-Clause License&lt;/name&gt;\r\n                &lt;url&gt;https://github.com/sproket/Persism/blob/master/license.txt&lt;/url&gt;\r\n            &lt;/license&gt;\r\n        &lt;/licenses&gt;\r\n    \r\n        &lt;developers&gt;\r\n            &lt;developer&gt;\r\n                &lt;name&gt;Dan Howard&lt;/name&gt;\r\n                &lt;email&gt;--------------------------&lt;/email&gt;\r\n                &lt;organization&gt;io.github&lt;/organization&gt;\r\n                &lt;organizationUrl&gt;https://sproket.github.io/Persism/&lt;/organizationUrl&gt;\r\n            &lt;/developer&gt;\r\n        &lt;/developers&gt;\r\n    \r\n        &lt;distributionManagement&gt;\r\n            &lt;snapshotRepository&gt;\r\n                &lt;id&gt;ossrh&lt;/id&gt;\r\n                &lt;url&gt;https://s01.oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;\r\n            &lt;/snapshotRepository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;ossrh&lt;/id&gt;\r\n                &lt;url&gt;https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/distributionManagement&gt;\r\n    \r\n        &lt;scm&gt;\r\n            &lt;connection&gt;scm:git:git://github.com/sproket/Persism.git&lt;/connection&gt;\r\n            &lt;developerConnection&gt;scm:git:ssh://github.com/sproket/Persism.git&lt;/developerConnection&gt;\r\n            &lt;url&gt;https://github.com/sproket/Persism&lt;/url&gt;\r\n        &lt;/scm&gt;\r\n    \r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;include-test-containers-db&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n                &lt;/activation&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;excludedGroups&gt;net.sf.persism.categories.ExternalDB&lt;/excludedGroups&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n    \r\n            &lt;profile&gt;\r\n                &lt;id&gt;exclude-test-containers-db&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n                &lt;/activation&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;excludedGroups&gt;net.sf.persism.categories.TestContainerDB&lt;/excludedGroups&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n    \r\n            &lt;profile&gt;\r\n                &lt;id&gt;release&lt;/id&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.2.0&lt;/version&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;archive&gt;\r\n                                    &lt;manifestEntries&gt;\r\n                                        &lt;Automatic-Module-Name&gt;sproket.github.io.persism&lt;/Automatic-Module-Name&gt;\r\n                                    &lt;/manifestEntries&gt;\r\n                                &lt;/archive&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.2.1&lt;/version&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;attach-sources&lt;/id&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;jar-no-fork&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.2.0&lt;/version&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;jar&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                    &lt;configuration&gt;\r\n                                        &lt;release&gt;17&lt;/release&gt;\r\n                                    &lt;/configuration&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-gpg-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;3.0.1&lt;/version&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;sign-artifacts&lt;/id&gt;\r\n                                    &lt;phase&gt;verify&lt;/phase&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;sign&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    \r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.13.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.carrotsearch&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-benchmarks&lt;/artifactId&gt;\r\n                &lt;version&gt;0.7.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n                &lt;version&gt;1.15.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.7&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.17&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.14.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.14.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.firebirdsql.jdbc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaybird&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.2.java8&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.firebirdsql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;firebird-testcontainers-java&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.200&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;!-- using older version as 2.5.1 collides with ucanaccess --&gt;\r\n                &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.1&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;!--            &lt;classifier&gt;debug&lt;/classifier&gt;--&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n                &lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n                &lt;version&gt;10.8.2.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- OR -Djdk.tls.client.protocols=TLSv1 --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n                &lt;version&gt;8.4.1.jre8&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mssqlserver&lt;/artifactId&gt;\r\n                &lt;version&gt;1.15.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.23&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql&lt;/artifactId&gt;\r\n                &lt;version&gt;1.15.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jtds&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.1&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n                &lt;version&gt;21.3.0.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!--        &lt;dependency&gt;--&gt;\r\n            &lt;!--            &lt;groupId&gt;com.oracle&lt;/groupId&gt;--&gt;\r\n            &lt;!--            &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;--&gt;\r\n            &lt;!--            &lt;version&gt;11.2.0.4&lt;/version&gt;--&gt;\r\n            &lt;!--            &lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n            &lt;!--        &lt;/dependency&gt;--&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;9.2-1004-jdbc41&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;1.15.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n                &lt;version&gt;3.34.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sf.ucanaccess&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ucanaccess&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.1&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.ibm.informix&lt;/groupId&gt;\r\n                &lt;artifactId&gt;informix-jdbc-complete&lt;/artifactId&gt;\r\n                &lt;version&gt;4.50.4.1&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.toddfast.typeconverter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;typeconverter&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.reflections&lt;/groupId&gt;\r\n                &lt;artifactId&gt;reflections&lt;/artifactId&gt;\r\n                &lt;version&gt;0.9.11&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.codehaus.mojo/cobertura-maven-plugin --&gt;\r\n            &lt;!-- DOES NOT WORK with JAVA 8 + --&gt;\r\n            &lt;!--        &lt;dependency&gt;--&gt;\r\n            &lt;!--            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;--&gt;\r\n            &lt;!--            &lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;--&gt;\r\n            &lt;!--            &lt;version&gt;2.7&lt;/version&gt;--&gt;\r\n            &lt;!--            &lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n            &lt;!--            &lt;exclusions&gt;--&gt;\r\n            &lt;!--                &lt;exclusion&gt;--&gt;\r\n            &lt;!--                    &lt;groupId&gt;com.sun&lt;/groupId&gt;--&gt;\r\n            &lt;!--                    &lt;artifactId&gt;tools&lt;/artifactId&gt;--&gt;\r\n            &lt;!--                &lt;/exclusion&gt;--&gt;\r\n            &lt;!--            &lt;/exclusions&gt;--&gt;\r\n            &lt;!--        &lt;/dependency&gt;--&gt;\r\n    \r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"nexus-staging-maven-plugin: maven deploy failed: An API incompatibility was encountered while executing","body":"<p>This worked fine for me be building under Java 8. Now under Java 17.01 I get this when I do mvn deploy.</p>\n<p>mvn install works fine. I tried 3.6.3 and 3.8.4 and updated (I think) all my plugins to the newest versions.</p>\n<p>Any ideas?</p>\n<pre><code>[ERROR] Failed to execute goal org.sonatype.plugins:nexus-staging-maven-plugin:1.6.8:deploy (injected-nexus-deploy) on project persism: Execution injected-nexus-deploy of goal org.sonatype.plugins:nexus-staging-maven-plugin:1.6.8:de\nploy failed: An API incompatibility was encountered while executing org.sonatype.plugins:nexus-staging-maven-plugin:1.6.8:deploy: java.lang.ExceptionInInitializerError: null\n\n\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\n[ERROR]\n[ERROR] -----------------------------------------------------\n[ERROR] : Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @149f5761\n[ERROR] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.sonatype.plugins:nexus-staging-maven-plugin:1.6.8:deploy (injected-nexus-deploy) on project persism: Execution injected-nexus-deploy of goal org.sona\ntype.plugins:nexus-staging-maven-plugin:1.6.8:deploy failed: An API incompatibility was encountered while executing org.sonatype.plugins:nexus-staging-maven-plugin:1.6.8:deploy: java.lang.ExceptionInInitializerError: null\n\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution injected-nexus-deploy of goal org.sonatype.plugins:nexus-staging-maven-plugin:1.6.8:deploy failed: An API incompatibility was encountered while executing org.son\natype.plugins:nexus-staging-maven-plugin:1.6.8:deploy: java.lang.ExceptionInInitializerError: null\n</code></pre>\n<p>POM:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;io.github.sproket&lt;/groupId&gt;\n    &lt;artifactId&gt;persism&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;./src&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;./test&lt;/testSourceDirectory&gt;\n        &lt;testResources&gt;\n            &lt;testResource&gt;\n                &lt;directory&gt;./test&lt;/directory&gt;\n                &lt;!--                &lt;includes&gt;--&gt;\n                &lt;!--                    &lt;include&gt;*.*&lt;/include&gt;--&gt;\n                &lt;!--                &lt;/includes&gt;--&gt;\n            &lt;/testResource&gt;\n        &lt;/testResources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;!-- MSSQL does not seem to able to connect with 16 --&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n&lt;!--                    &lt;compilerArgs&gt;--&gt;\n&lt;!--                        &lt;arg&gt;-parameters&lt;/arg&gt;--&gt;\n&lt;!--                    &lt;/compilerArgs&gt;--&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Automatic-Module-Name&gt;sproket.github.io.persism&lt;/Automatic-Module-Name&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-sources&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar-no-fork&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludePackageNames&gt;net.sf.persism.log*;net.sf.persism.logging.*&lt;/excludePackageNames&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludedGroups&gt;net.sf.persism.categories.ExternalDB,net.sf.persism.categories.TestContainerDB\n                    &lt;/excludedGroups&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.sonatype.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;nexus-staging-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6.8&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;configuration&gt;\n                    &lt;serverId&gt;ossrh&lt;/serverId&gt;\n                    &lt;nexusUrl&gt;https://s01.oss.sonatype.org/&lt;/nexusUrl&gt;\n                    &lt;autoReleaseAfterClose&gt;true&lt;/autoReleaseAfterClose&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;name&gt;persism&lt;/name&gt;\n    &lt;description&gt;A zero ceremony ORM for Java&lt;/description&gt;\n    &lt;url&gt;https://github.com/sproket/Persism&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;licenses&gt;\n        &lt;license&gt;\n            &lt;name&gt;BSD-3-Clause License&lt;/name&gt;\n            &lt;url&gt;https://github.com/sproket/Persism/blob/master/license.txt&lt;/url&gt;\n        &lt;/license&gt;\n    &lt;/licenses&gt;\n\n    &lt;developers&gt;\n        &lt;developer&gt;\n            &lt;name&gt;Dan Howard&lt;/name&gt;\n            &lt;email&gt;--------------------------&lt;/email&gt;\n            &lt;organization&gt;io.github&lt;/organization&gt;\n            &lt;organizationUrl&gt;https://sproket.github.io/Persism/&lt;/organizationUrl&gt;\n        &lt;/developer&gt;\n    &lt;/developers&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;ossrh&lt;/id&gt;\n            &lt;url&gt;https://s01.oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;ossrh&lt;/id&gt;\n            &lt;url&gt;https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/distributionManagement&gt;\n\n    &lt;scm&gt;\n        &lt;connection&gt;scm:git:git://github.com/sproket/Persism.git&lt;/connection&gt;\n        &lt;developerConnection&gt;scm:git:ssh://github.com/sproket/Persism.git&lt;/developerConnection&gt;\n        &lt;url&gt;https://github.com/sproket/Persism&lt;/url&gt;\n    &lt;/scm&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;include-test-containers-db&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;excludedGroups&gt;net.sf.persism.categories.ExternalDB&lt;/excludedGroups&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;exclude-test-containers-db&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;excludedGroups&gt;net.sf.persism.categories.TestContainerDB&lt;/excludedGroups&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;release&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.2.0&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;archive&gt;\n                                &lt;manifestEntries&gt;\n                                    &lt;Automatic-Module-Name&gt;sproket.github.io.persism&lt;/Automatic-Module-Name&gt;\n                                &lt;/manifestEntries&gt;\n                            &lt;/archive&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.2.1&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;attach-sources&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;jar-no-fork&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.2.0&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;attach-javadocs&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;jar&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;configuration&gt;\n                                    &lt;release&gt;17&lt;/release&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-gpg-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;3.0.1&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;sign-artifacts&lt;/id&gt;\n                                &lt;phase&gt;verify&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;sign&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.carrotsearch&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-benchmarks&lt;/artifactId&gt;\n            &lt;version&gt;0.7.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n            &lt;version&gt;1.15.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.2.7&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.14.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.14.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.firebirdsql.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;jaybird&lt;/artifactId&gt;\n            &lt;version&gt;4.0.2.java8&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.firebirdsql&lt;/groupId&gt;\n            &lt;artifactId&gt;firebird-testcontainers-java&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;1.4.200&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;!-- using older version as 2.5.1 collides with ucanaccess --&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;!--            &lt;classifier&gt;debug&lt;/classifier&gt;--&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n            &lt;artifactId&gt;derby&lt;/artifactId&gt;\n            &lt;version&gt;10.8.2.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- OR -Djdk.tls.client.protocols=TLSv1 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;8.4.1.jre8&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;mssqlserver&lt;/artifactId&gt;\n            &lt;version&gt;1.15.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.23&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql&lt;/artifactId&gt;\n            &lt;version&gt;1.15.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\n            &lt;artifactId&gt;jtds&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;version&gt;21.3.0.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--        &lt;dependency&gt;--&gt;\n        &lt;!--            &lt;groupId&gt;com.oracle&lt;/groupId&gt;--&gt;\n        &lt;!--            &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;--&gt;\n        &lt;!--            &lt;version&gt;11.2.0.4&lt;/version&gt;--&gt;\n        &lt;!--            &lt;scope&gt;test&lt;/scope&gt;--&gt;\n        &lt;!--        &lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;9.2-1004-jdbc41&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;1.15.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.34.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.ucanaccess&lt;/groupId&gt;\n            &lt;artifactId&gt;ucanaccess&lt;/artifactId&gt;\n            &lt;version&gt;5.0.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.informix&lt;/groupId&gt;\n            &lt;artifactId&gt;informix-jdbc-complete&lt;/artifactId&gt;\n            &lt;version&gt;4.50.4.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.toddfast.typeconverter&lt;/groupId&gt;\n            &lt;artifactId&gt;typeconverter&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.reflections&lt;/groupId&gt;\n            &lt;artifactId&gt;reflections&lt;/artifactId&gt;\n            &lt;version&gt;0.9.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/org.codehaus.mojo/cobertura-maven-plugin --&gt;\n        &lt;!-- DOES NOT WORK with JAVA 8 + --&gt;\n        &lt;!--        &lt;dependency&gt;--&gt;\n        &lt;!--            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;--&gt;\n        &lt;!--            &lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;--&gt;\n        &lt;!--            &lt;version&gt;2.7&lt;/version&gt;--&gt;\n        &lt;!--            &lt;scope&gt;test&lt;/scope&gt;--&gt;\n        &lt;!--            &lt;exclusions&gt;--&gt;\n        &lt;!--                &lt;exclusion&gt;--&gt;\n        &lt;!--                    &lt;groupId&gt;com.sun&lt;/groupId&gt;--&gt;\n        &lt;!--                    &lt;artifactId&gt;tools&lt;/artifactId&gt;--&gt;\n        &lt;!--                &lt;/exclusion&gt;--&gt;\n        &lt;!--            &lt;/exclusions&gt;--&gt;\n        &lt;!--        &lt;/dependency&gt;--&gt;\n\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","if-statement","variables","boolean-expression"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1475007378,"post_id":39733453,"comment_id":66764911,"body_markdown":"*In other words, can I swap those two variables&#39; places such as following? (WEIGHT_LIMIT &lt; bagWeight).* Yes. `if (a &lt; b)` is equivalent to `if (b &gt; a)`","body":"<i>In other words, can I swap those two variables&#39; places such as following? (WEIGHT_LIMIT &lt; bagWeight).</i> Yes. <code>if (a &lt; b)</code> is equivalent to <code>if (b &gt; a)</code>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1475007699,"post_id":39733453,"comment_id":66765063,"body_markdown":"In a comparison the order of the variables doesn&#39;t matter. I prefer to write a comparison in &quot;natural order&quot;: In  spoken language you usually say &quot;if the bags weight is less than the weight limit&quot; and not &quot;if the weight limit is greater than the bag weight&quot;.","body":"In a comparison the order of the variables doesn&#39;t matter. I prefer to write a comparison in &quot;natural order&quot;: In  spoken language you usually say &quot;if the bags weight is less than the weight limit&quot; and not &quot;if the weight limit is greater than the bag weight&quot;."}],"answers":[{"tags":[],"owner":{"account_id":7654237,"reputation":41,"user_id":5801776,"display_name":"andyfed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475007383,"creation_date":1475007383,"answer_id":39733561,"question_id":39733453,"body_markdown":"You can freely change the order of the two variables as you prefer. Eclipse (or the compiler) doesn&#39;t care, it just evaluates the expression and returns a value, either true of false.","title":"if conditionals : boolean expression variables placing order","body":"<p>You can freely change the order of the two variables as you prefer. Eclipse (or the compiler) doesn't care, it just evaluates the expression and returns a value, either true of false.</p>\n"},{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1475008696,"post_id":39733601,"comment_id":66765599,"body_markdown":"&quot;Order only comes into play...&quot; Order of operands is important if the operands have side effects. For example, `i++ &lt; i` isn&#39;t equal to `i &gt; i++`.","body":"&quot;Order only comes into play...&quot; Order of operands is important if the operands have side effects. For example, <code>i++ &lt; i</code> isn&#39;t equal to <code>i &gt; i++</code>."}],"tags":[],"owner":{"account_id":4081547,"reputation":4204,"user_id":3351924,"accept_rate":89,"display_name":"secondbreakfast"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475007564,"creation_date":1475007564,"answer_id":39733601,"question_id":39733453,"body_markdown":"&gt; can I swap those two variables&#39; places such as following? (WEIGHT_LIMIT &lt; bagWeight)\r\n\r\nYes, it will still work exactly the same.\r\n\r\nOrder only comes in to play when using short circuit operates such as `||` or `&amp;&amp;`.\r\n\r\nexamples:\r\n\r\n    if (boolean1 || boolean2)\r\nIn this case, boolean1 will be evaluated first. If it evaluates to `true`, then boolean2 will not be evaluated, since the first one meets the criteria of the `if` statement.\r\n\r\n    if (boolean1 &amp;&amp; boolean2)\r\nIn this case if `boolean1` is evaluates to false, then `boolean2` will never be evaluated because the fact that `boolean1` is false means that even if `boolean2` was true, the condition of the `if` statement would never be satisfied.\r\n\r\nHope that helps.","title":"if conditionals : boolean expression variables placing order","body":"<blockquote>\n  <p>can I swap those two variables' places such as following? (WEIGHT_LIMIT &lt; bagWeight)</p>\n</blockquote>\n\n<p>Yes, it will still work exactly the same.</p>\n\n<p>Order only comes in to play when using short circuit operates such as <code>||</code> or <code>&amp;&amp;</code>.</p>\n\n<p>examples:</p>\n\n<pre><code>if (boolean1 || boolean2)\n</code></pre>\n\n<p>In this case, boolean1 will be evaluated first. If it evaluates to <code>true</code>, then boolean2 will not be evaluated, since the first one meets the criteria of the <code>if</code> statement.</p>\n\n<pre><code>if (boolean1 &amp;&amp; boolean2)\n</code></pre>\n\n<p>In this case if <code>boolean1</code> is evaluates to false, then <code>boolean2</code> will never be evaluated because the fact that <code>boolean1</code> is false means that even if <code>boolean2</code> was true, the condition of the <code>if</code> statement would never be satisfied.</p>\n\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":4620400,"reputation":1209,"user_id":3745667,"display_name":"fedup"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475008524,"creation_date":1475008524,"answer_id":39733835,"question_id":39733453,"body_markdown":"The order that Java evaluates &amp;&amp; and || is not so important if everything is already evaluated into variables as in your example.  If these where method calls instead then the second part of the &quot;if&quot; will not be called unless necessary.  Examples of when the myMethod() would not be evaluated at all.\r\n\r\n    if (true || myMethod())\r\n\r\nor\r\n\r\n    if (false &amp;&amp; myMethod())\r\n\r\nThat&#39;s why you might see statements similar to this in actual code.\r\n\r\n    String myStr = null;\r\n    if (myStr != null &amp;&amp; myStr.trim().size() &gt; 0)\r\n\r\nIf Java were to evaluate the second part then you would get a NullPointerException when myStr is null.  The fact that Java will bypass the second part keeps that from happening.","title":"if conditionals : boolean expression variables placing order","body":"<p>The order that Java evaluates &amp;&amp; and || is not so important if everything is already evaluated into variables as in your example.  If these where method calls instead then the second part of the \"if\" will not be called unless necessary.  Examples of when the myMethod() would not be evaluated at all.</p>\n\n<pre><code>if (true || myMethod())\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if (false &amp;&amp; myMethod())\n</code></pre>\n\n<p>That's why you might see statements similar to this in actual code.</p>\n\n<pre><code>String myStr = null;\nif (myStr != null &amp;&amp; myStr.trim().size() &gt; 0)\n</code></pre>\n\n<p>If Java were to evaluate the second part then you would get a NullPointerException when myStr is null.  The fact that Java will bypass the second part keeps that from happening.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475009548,"creation_date":1475009548,"answer_id":39734116,"question_id":39733453,"body_markdown":"The order of the operands doesn&#39;t matter in your specific case. Since the if statement is comparing two values, the two values must be evaluated. However, there are some cases when order _does_ matter:\r\n\r\n1. `||` and `&amp;&amp;`\r\n\r\n`||` and `&amp;&amp;` are shorthand logic operators. The second operand of `||` will not be evaluated if the first is true. The second operand of `&amp;&amp;` will not be evaluated if the first is false.\r\n\r\n2. `++` and `--`\r\n\r\nThese can yield different results:\r\n\r\n    if (i++ &gt; i)\r\n\r\n    if (i &lt; i++)\r\n\r\nIn the first line, `i` is evaluated after the increment is done, so the first operand is 1 less than the second.\r\n\r\nIn the second line, `i` is evaluated first, which evaluates to `i`, then `i++`, which evaluates to `i` as well.","title":"if conditionals : boolean expression variables placing order","body":"<p>The order of the operands doesn't matter in your specific case. Since the if statement is comparing two values, the two values must be evaluated. However, there are some cases when order <em>does</em> matter:</p>\n\n<ol>\n<li><code>||</code> and <code>&amp;&amp;</code></li>\n</ol>\n\n<p><code>||</code> and <code>&amp;&amp;</code> are shorthand logic operators. The second operand of <code>||</code> will not be evaluated if the first is true. The second operand of <code>&amp;&amp;</code> will not be evaluated if the first is false.</p>\n\n<ol start=\"2\">\n<li><code>++</code> and <code>--</code></li>\n</ol>\n\n<p>These can yield different results:</p>\n\n<pre><code>if (i++ &gt; i)\n\nif (i &lt; i++)\n</code></pre>\n\n<p>In the first line, <code>i</code> is evaluated after the increment is done, so the first operand is 1 less than the second.</p>\n\n<p>In the second line, <code>i</code> is evaluated first, which evaluates to <code>i</code>, then <code>i++</code>, which evaluates to <code>i</code> as well.</p>\n"}],"owner":{"account_id":9277935,"reputation":31,"user_id":6890027,"display_name":"C.Jinny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1665065898,"answer_count":4,"score":2,"last_activity_date":1665064526,"creation_date":1475006971,"question_id":39733453,"body_markdown":"When we&#39;re using an if-conditional, we specify the condition in a boolean expression such as following : \r\n\r\n    if(boolean expression). \r\n\r\nIf I have two variables in a boolean expression, such as `(bagWeight &gt; WEIGHT_LIMIT)`, does the order of the two variables in which they appear matter? In other words, can I swap those two variables&#39; places such as following? `(WEIGHT_LIMIT &lt; bagWeight)`. Notice it would still be bag weight is less than weight limit, but I just switch the order of which one appears first in the boolean expression. AND Does it depend on which one becomes a subject, like one that gets focused on and evaluated? (In this case, we&#39;re trying to figure out if the bag weight is heavier than the limit or not. So the bag weight gets evaluated according to something.. I would call it a subject.) \r\n\r\nEclipse doesn&#39;t scream at me that it&#39;s wrong, and intuitively it makes sense, but somehow it just bothers me whether there&#39;s a more common programming practice or not. So my questions were, can I swap the two variables&#39; places and would not matter? and does it depend on the context of which being a subject? and which is a more common programming practice? ","title":"if conditionals : boolean expression variables placing order","body":"<p>When we're using an if-conditional, we specify the condition in a boolean expression such as following : </p>\n\n<pre><code>if(boolean expression). \n</code></pre>\n\n<p>If I have two variables in a boolean expression, such as <code>(bagWeight &gt; WEIGHT_LIMIT)</code>, does the order of the two variables in which they appear matter? In other words, can I swap those two variables' places such as following? <code>(WEIGHT_LIMIT &lt; bagWeight)</code>. Notice it would still be bag weight is less than weight limit, but I just switch the order of which one appears first in the boolean expression. AND Does it depend on which one becomes a subject, like one that gets focused on and evaluated? (In this case, we're trying to figure out if the bag weight is heavier than the limit or not. So the bag weight gets evaluated according to something.. I would call it a subject.) </p>\n\n<p>Eclipse doesn't scream at me that it's wrong, and intuitively it makes sense, but somehow it just bothers me whether there's a more common programming practice or not. So my questions were, can I swap the two variables' places and would not matter? and does it depend on the context of which being a subject? and which is a more common programming practice? </p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiew"},"score":0,"creation_date":1665064324,"post_id":73975001,"comment_id":130615679,"body_markdown":"Use `userInput.matches(&quot;\\\\s*\\\\d+(?:\\\\s*[-+*]\\\\s*\\\\d+)*\\\\s*&quot;)`","body":"Use <code>userInput.matches(&quot;\\\\s*\\\\d+(?:\\\\s*[-+*]\\\\s*\\\\d+)*\\\\s*&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665064525,"creation_date":1665064525,"answer_id":73975080,"question_id":73975001,"body_markdown":"You may use this code:\r\n\r\n```Java\r\nbool valid = userInput.matches(&quot;\\\\d+(?:\\\\h*[+*-]\\\\h*\\\\d+)*&quot;);\r\n```\r\n\r\nIf you want to allow signed `-` numbers then use:\r\n\r\n```Java\r\nbool valid = userInput.matches(&quot;-?\\\\d+(?:\\\\h*[+*-]\\\\h*-?\\\\d+)*&quot;);\r\n```\r\n\r\nIf there can be leading/trailing spaces then use:\r\n\r\n```Java\r\nbool valid = userInput\r\n   .matches(&quot;\\\\h*-?\\\\d+(?:\\\\h*[+*-]\\\\h*-?\\\\d+)*\\\\h*&quot;);\r\n```\r\n\r\n\r\n**Breakup:**\r\n\r\n- `\\\\d+`: Match 1+ digits\r\n- `(?:`: Start non-capture group\r\n  - `\\\\h*`: Match 0 or more whitespaces\r\n  - `[+*-]`: Match `+` or `*` or `-`\r\n  - `\\\\h*`: Match 0 or more whitespaces\r\n  - \\\\d+`: Match 1+ digits\r\n- `)*`: End non-capture group. Repeat this group 0 or more times","title":"Regex expression to check if a string only contains digits and operators (but no 2 consecutive operators)","body":"<p>You may use this code:</p>\n<pre><code>bool valid = userInput.matches(&quot;\\\\d+(?:\\\\h*[+*-]\\\\h*\\\\d+)*&quot;);\n</code></pre>\n<p>If you want to allow signed <code>-</code> numbers then use:</p>\n<pre><code>bool valid = userInput.matches(&quot;-?\\\\d+(?:\\\\h*[+*-]\\\\h*-?\\\\d+)*&quot;);\n</code></pre>\n<p>If there can be leading/trailing spaces then use:</p>\n<pre><code>bool valid = userInput\n   .matches(&quot;\\\\h*-?\\\\d+(?:\\\\h*[+*-]\\\\h*-?\\\\d+)*\\\\h*&quot;);\n</code></pre>\n<p><strong>Breakup:</strong></p>\n<ul>\n<li><code>\\\\d+</code>: Match 1+ digits</li>\n<li><code>(?:</code>: Start non-capture group\n<ul>\n<li><code>\\\\h*</code>: Match 0 or more whitespaces</li>\n<li><code>[+*-]</code>: Match <code>+</code> or <code>*</code> or <code>-</code></li>\n<li><code>\\\\h*</code>: Match 0 or more whitespaces</li>\n<li>\\d+`: Match 1+ digits</li>\n</ul>\n</li>\n<li><code>)*</code>: End non-capture group. Repeat this group 0 or more times</li>\n</ul>\n"}],"owner":{"account_id":26546129,"reputation":3,"user_id":20176172,"display_name":"widyadarii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1665064525,"creation_date":1665064244,"question_id":73975001,"body_markdown":"I&#39;m trying to check if a user-entered string is a valid expression:\r\n1. There can&#39;t be any letters [a-zA-z]\r\n2. We&#39;re only dealing with integers\r\n3. Spaces are allowed\r\n4. The only valid operators are &#39;+&#39;, &#39;-&#39;, and &#39;*&#39; (no dividing)\r\n5. There can&#39;t be two consecutive operators (so &quot;123 ++ 456&quot; would be invalid)\r\n6. An operator must be followed by digits (&quot;123 + &quot; would be invalid but &quot;345678 * 6&quot; would be okay)\r\n\r\nSo far my current code `userInput.matches(&quot;[0-9(+*\\\\-\\\\s)]+&quot;)` can process requirements 1-4. How can I modify my regex to meet criteria 5 and 6? \r\n","title":"Regex expression to check if a string only contains digits and operators (but no 2 consecutive operators)","body":"<p>I'm trying to check if a user-entered string is a valid expression:</p>\n<ol>\n<li>There can't be any letters [a-zA-z]</li>\n<li>We're only dealing with integers</li>\n<li>Spaces are allowed</li>\n<li>The only valid operators are '+', '-', and '*' (no dividing)</li>\n<li>There can't be two consecutive operators (so &quot;123 ++ 456&quot; would be invalid)</li>\n<li>An operator must be followed by digits (&quot;123 + &quot; would be invalid but &quot;345678 * 6&quot; would be okay)</li>\n</ol>\n<p>So far my current code <code>userInput.matches(&quot;[0-9(+*\\\\-\\\\s)]+&quot;)</code> can process requirements 1-4. How can I modify my regex to meet criteria 5 and 6?</p>\n"},{"tags":["java","android","google-cloud-firestore","firebase-security"],"answers":[{"tags":[],"owner":{"account_id":11670140,"reputation":1875,"user_id":8545535,"accept_rate":67,"display_name":"dmuensterer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665043562,"creation_date":1665043562,"answer_id":73970465,"question_id":73970408,"body_markdown":"Im afraid theres **actually** nothing you can do.\r\nSince you are using a backend as a service provider you will have to use some sort of authentication if you want to prevent certain people to execute certain actions.\r\nThis could be classic username/password authentication or a more modern means like oauth.","title":"Setting up Firesotre security rules for read acttion for application without login autentication","body":"<p>Im afraid theres <strong>actually</strong> nothing you can do.\nSince you are using a backend as a service provider you will have to use some sort of authentication if you want to prevent certain people to execute certain actions.\nThis could be classic username/password authentication or a more modern means like oauth.</p>\n"},{"tags":[],"owner":{"display_name":"user19346309"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665044143,"creation_date":1665044143,"answer_id":73970595,"question_id":73970408,"body_markdown":"There is no way to do that but there is a way around just add Anonymously authentication with firebase Auth Ui this way users will not have to create an email and they will be authenticated \r\n\r\nanother way is: try to make some parts which doesn&#39;t require security public for anyone to read .   ","title":"Setting up Firesotre security rules for read acttion for application without login autentication","body":"<p>There is no way to do that but there is a way around just add Anonymously authentication with firebase Auth Ui this way users will not have to create an email and they will be authenticated</p>\n<p>another way is: try to make some parts which doesn't require security public for anyone to read .</p>\n"},{"comments":[{"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"score":0,"creation_date":1665078927,"post_id":73975012,"comment_id":130621352,"body_markdown":"I will try it after I Initialize App Check in my app what rule i need to write in firestore rules I didn&#39;t find an example.Is this rule `allow read, write: if request.auth != null;`","body":"I will try it after I Initialize App Check in my app what rule i need to write in firestore rules I didn&#39;t find an example.Is this rule <code>allow read, write: if request.auth != null;</code>"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1665081340,"post_id":73975012,"comment_id":130622097,"body_markdown":"App Check is unrelated to your security rules, and will actually reject reads/writes before they even reach your rules.","body":"App Check is unrelated to your security rules, and will actually reject reads/writes before they even reach your rules."}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665064308,"creation_date":1665064308,"answer_id":73975012,"question_id":73970408,"body_markdown":"If you only want your application code to be able to access the database, consider setting up [Firebase App Check](https://firebase.google.com/docs/app-check) for your project.\r\n","title":"Setting up Firesotre security rules for read acttion for application without login autentication","body":"<p>If you only want your application code to be able to access the database, consider setting up <a href=\"https://firebase.google.com/docs/app-check\" rel=\"nofollow noreferrer\">Firebase App Check</a> for your project.</p>\n"}],"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1665064308,"creation_date":1665043290,"question_id":73970408,"body_markdown":"I have the following rule in Firestore for `read if true` I recieve email that point anybody can read and my requests can be drained. I need some approach read action to be allowed only from my app.I don&#39;t have authentication in the app is accessible without registration.What can I do to restrict the access only from the app.I read can be set SHA1 key but not quite sure how to implement it.\r\n\r\n    rules_version = &#39;2&#39;;\r\n    service cloud.firestore {\r\n      match /databases/{database}/documents {\r\n        match /{document=**} {\r\n          allow read, write: if request.auth != null;\r\n          allow read: if true;\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Setting up Firesotre security rules for read acttion for application without login autentication","body":"<p>I have the following rule in Firestore for <code>read if true</code> I recieve email that point anybody can read and my requests can be drained. I need some approach read action to be allowed only from my app.I don't have authentication in the app is accessible without registration.What can I do to restrict the access only from the app.I read can be set SHA1 key but not quite sure how to implement it.</p>\n<pre><code>rules_version = '2';\nservice cloud.firestore {\n  match /databases/{database}/documents {\n    match /{document=**} {\n      allow read, write: if request.auth != null;\n      allow read: if true;\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","postgresql","eclipselink","payara"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1665179015,"post_id":73974404,"comment_id":130647221,"body_markdown":"How are you accessing this list? - specifically the where and when. Make sure you aren&#39;t concurrently accessing entities from the same context; EntityManager instances and the artifacts read from them (especially lazy lists) are not thread safe which I believe this error is likely related to.","body":"How are you accessing this list? - specifically the where and when. Make sure you aren&#39;t concurrently accessing entities from the same context; EntityManager instances and the artifacts read from them (especially lazy lists) are not thread safe which I believe this error is likely related to."},{"owner":{"account_id":26545638,"reputation":1,"user_id":20175752,"display_name":"florian20"},"score":0,"creation_date":1665386486,"post_id":73974404,"comment_id":130679291,"body_markdown":"This list is accessed mostly concurrently thats true. I have a framwork which has timers running which perform actions in new threads and those actions need to read the data. So I can not make sure the same data is not read by multiple threads at the same time. The thing is that this is the same for years and I seem to get this problem only recently.\nAlso it is not only happening with this list, other obejcts with lazy references seem to have the same problem from time to time.","body":"This list is accessed mostly concurrently thats true. I have a framwork which has timers running which perform actions in new threads and those actions need to read the data. So I can not make sure the same data is not read by multiple threads at the same time. The thing is that this is the same for years and I seem to get this problem only recently. Also it is not only happening with this list, other obejcts with lazy references seem to have the same problem from time to time."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1665502696,"post_id":73974404,"comment_id":130713345,"body_markdown":"All indirection should have the issue - entities read from a EntityManager are not thread safe. If you want to cache/access data on entities asynchronously, make sure all data required is fetched upfront, with the read with Join fetch in the query, query properties and fetch/load graphs, or even by manually accessing the properties on returned entities before returning them. As for it only occurring now - I&#39;m sure there have been many changes that might make concurrency more of an issue. You can (and I can help) look into it, but it isn&#39;t a supported pattern; it needs app level locking","body":"All indirection should have the issue - entities read from a EntityManager are not thread safe. If you want to cache/access data on entities asynchronously, make sure all data required is fetched upfront, with the read with Join fetch in the query, query properties and fetch/load graphs, or even by manually accessing the properties on returned entities before returning them. As for it only occurring now - I&#39;m sure there have been many changes that might make concurrency more of an issue. You can (and I can help) look into it, but it isn&#39;t a supported pattern; it needs app level locking"}],"owner":{"account_id":26545638,"reputation":1,"user_id":20175752,"display_name":"florian20"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665064234,"creation_date":1665061818,"question_id":73974404,"body_markdown":"From time to time I get a strange NPE in Eclipse-link AbstractSession.executeDeferredEvents(AbstractSession.java:1534). It does not happen very often and so far I was not able to reproduce this.\r\n\r\nAs my investigation has shown it happens always when I do operations on an IndirectList. The failing line has something like `entity.getAttributes().isEmpty()`.\r\n\r\nI have the list of items defines like this:\r\n\r\n    @OneToMany(cascade = { CascadeType.REMOVE, CascadeType.DETACH }, orphanRemoval = true)\r\n\t@JoinTable(\r\n\t\tschema = EntityConstants.SCHEMA,\r\n\t\tname = EntityConstants.TABLE_PREFIX + EntityConstants.TABLE_NAME_ATTRIBUTE, //\r\n\t\tjoinColumns = { @JoinColumn(name = &quot;entityid&quot;) },\r\n\t\tinverseJoinColumns = { @JoinColumn(name = &quot;attributeid&quot;) }) //\r\n\t@FieldPrivilege(PRIV_UPDATE_ATTRIBUTES)\r\n\tprivate List&lt;Attribute&gt; attributes = new ArrayList&lt;&gt;();\r\n\r\nWhat I use:\r\n\r\n - Payara: 5.2022.3 \r\n   \r\n -  Payara included eclipse-link: 2.7.9.payara-p2\r\n   \r\n - Java: zulu11.52.13-ca-jdk11.0.13\r\n\r\n - Postgres: 11\r\n\r\nThe stacktrace:\r\n\r\n``` [#|2022-10-06T09:36:40.457+0200|WARNUNG|Payara 5.2021.9|org.eclipse.persistence.session./file:/opt/phq/cc/domains/ipcm/applications/ipcm-indigo-4.1.2.5/WEB-INF/classes/_ILS|_ThreadID=32723;_ThreadName=concurrent/__defaultManagedExecutorService-managedThreadFactory-Thread-12030;_TimeMillis=1665041800457;_LevelValue=900;|\r\n  java.lang.NullPointerException\r\n\tat org.eclipse.persistence.internal.sessions.AbstractSession.executeDeferredEvents(AbstractSession.java:1534)\r\n\tat org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:3005)\r\n\tat org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)\r\n\tat org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)\r\n\tat org.eclipse.persistence.internal.indirection.QueryBasedValueHolder.instantiate(QueryBasedValueHolder.java:135)\r\n\tat org.eclipse.persistence.internal.indirection.QueryBasedValueHolder.instantiate(QueryBasedValueHolder.java:122)\r\n\tat org.eclipse.persistence.internal.indirection.DatabaseValueHolder.getValue(DatabaseValueHolder.java:97)\r\n\tat org.eclipse.persistence.internal.indirection.UnitOfWorkValueHolder.instantiateImpl(UnitOfWorkValueHolder.java:175)\r\n\tat org.eclipse.persistence.internal.indirection.UnitOfWorkValueHolder.instantiate(UnitOfWorkValueHolder.java:238)\r\n\tat org.eclipse.persistence.internal.indirection.DatabaseValueHolder.getValue(DatabaseValueHolder.java:97)\r\n\tat org.eclipse.persistence.indirection.IndirectList.buildDelegate(IndirectList.java:275)\r\n\tat org.eclipse.persistence.indirection.IndirectList.getDelegate(IndirectList.java:458)\r\n\tat org.eclipse.persistence.indirection.IndirectList.isEmpty(IndirectList.java:542)\r\n\tat com.xxx.entities.interfaces.AttributeCapable.getAttribute(AttributeCapable.java:22) \r\n","title":"NPE in Eclipse-Link AbstractSession.executeDeferredEvents(AbstractSession.java:1534) when using IndirectList","body":"<p>From time to time I get a strange NPE in Eclipse-link AbstractSession.executeDeferredEvents(AbstractSession.java:1534). It does not happen very often and so far I was not able to reproduce this.</p>\n<p>As my investigation has shown it happens always when I do operations on an IndirectList. The failing line has something like <code>entity.getAttributes().isEmpty()</code>.</p>\n<p>I have the list of items defines like this:</p>\n<pre><code>@OneToMany(cascade = { CascadeType.REMOVE, CascadeType.DETACH }, orphanRemoval = true)\n@JoinTable(\n    schema = EntityConstants.SCHEMA,\n    name = EntityConstants.TABLE_PREFIX + EntityConstants.TABLE_NAME_ATTRIBUTE, //\n    joinColumns = { @JoinColumn(name = &quot;entityid&quot;) },\n    inverseJoinColumns = { @JoinColumn(name = &quot;attributeid&quot;) }) //\n@FieldPrivilege(PRIV_UPDATE_ATTRIBUTES)\nprivate List&lt;Attribute&gt; attributes = new ArrayList&lt;&gt;();\n</code></pre>\n<p>What I use:</p>\n<ul>\n<li><p>Payara: 5.2022.3</p>\n</li>\n<li><p>Payara included eclipse-link: 2.7.9.payara-p2</p>\n</li>\n<li><p>Java: zulu11.52.13-ca-jdk11.0.13</p>\n</li>\n<li><p>Postgres: 11</p>\n</li>\n</ul>\n<p>The stacktrace:</p>\n<pre><code>  java.lang.NullPointerException\n    at org.eclipse.persistence.internal.sessions.AbstractSession.executeDeferredEvents(AbstractSession.java:1534)\n    at org.eclipse.persistence.internal.sessions.UnitOfWorkImpl.internalExecuteQuery(UnitOfWorkImpl.java:3005)\n    at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1898)\n    at org.eclipse.persistence.internal.sessions.AbstractSession.executeQuery(AbstractSession.java:1880)\n    at org.eclipse.persistence.internal.indirection.QueryBasedValueHolder.instantiate(QueryBasedValueHolder.java:135)\n    at org.eclipse.persistence.internal.indirection.QueryBasedValueHolder.instantiate(QueryBasedValueHolder.java:122)\n    at org.eclipse.persistence.internal.indirection.DatabaseValueHolder.getValue(DatabaseValueHolder.java:97)\n    at org.eclipse.persistence.internal.indirection.UnitOfWorkValueHolder.instantiateImpl(UnitOfWorkValueHolder.java:175)\n    at org.eclipse.persistence.internal.indirection.UnitOfWorkValueHolder.instantiate(UnitOfWorkValueHolder.java:238)\n    at org.eclipse.persistence.internal.indirection.DatabaseValueHolder.getValue(DatabaseValueHolder.java:97)\n    at org.eclipse.persistence.indirection.IndirectList.buildDelegate(IndirectList.java:275)\n    at org.eclipse.persistence.indirection.IndirectList.getDelegate(IndirectList.java:458)\n    at org.eclipse.persistence.indirection.IndirectList.isEmpty(IndirectList.java:542)\n    at com.xxx.entities.interfaces.AttributeCapable.getAttribute(AttributeCapable.java:22) \n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665064165,"creation_date":1665064165,"answer_id":73974982,"question_id":73970733,"body_markdown":"When updating a nested field, use `.` to separate the field names. Your code uses `/`, which Firestore interprets as a subcollection.\r\n\r\nSo:\r\n```\r\nwriteBatches.get(batchIndex).update(db.collection(&quot;Faculty&quot;)\r\n    .document(faculty.getId()), &quot;memberFees.&quot; + memberFeeId, true)\r\n                                     //    &#128070;\r\n```","title":"How to add new key to map in Firestore","body":"<p>When updating a nested field, use <code>.</code> to separate the field names. Your code uses <code>/</code>, which Firestore interprets as a subcollection.</p>\n<p>So:</p>\n<pre><code>writeBatches.get(batchIndex).update(db.collection(&quot;Faculty&quot;)\n    .document(faculty.getId()), &quot;memberFees.&quot; + memberFeeId, true)\n                                     //    \n</code></pre>\n"}],"owner":{"account_id":26090846,"reputation":113,"user_id":19787762,"display_name":"Vince Yba&#241;ez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73974982,"answer_count":1,"score":0,"last_activity_date":1665064165,"creation_date":1665044853,"question_id":73970733,"body_markdown":"I want to add new key to a map. memberFees is a field of a document under collection named Faculty\r\nI want to store only the key of each member fee inside the memberFees map.\r\n\r\nHere is an example of my memberFees map:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SgSv8.png\r\n\r\nI only added that keys in the example manually.\r\n\r\nThis is what I did:\r\n\r\n    writeBatches.get(batchIndex).update(db.collection(&quot;Faculty&quot;)\r\n                    .document(faculty.getId()), &quot;memberFees/&quot; + memberFeeId, true);\r\n\r\nThis code throws an error:\r\n\r\n    java.lang.IllegalArgumentException: Invalid document reference. Document references must have an even number of segments, but Faculty/7DEj7mlTPBf3cVSCtQO3/memberFees has 3\r\n        at com.google.firebase.firestore.DocumentReference.forPath(DocumentReference.java:81)","title":"How to add new key to map in Firestore","body":"<p>I want to add new key to a map. memberFees is a field of a document under collection named Faculty\nI want to store only the key of each member fee inside the memberFees map.</p>\n<p>Here is an example of my memberFees map:</p>\n<p><a href=\"https://i.stack.imgur.com/SgSv8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SgSv8.png\" alt=\"enter image description here\" /></a></p>\n<p>I only added that keys in the example manually.</p>\n<p>This is what I did:</p>\n<pre><code>writeBatches.get(batchIndex).update(db.collection(&quot;Faculty&quot;)\n                .document(faculty.getId()), &quot;memberFees/&quot; + memberFeeId, true);\n</code></pre>\n<p>This code throws an error:</p>\n<pre><code>java.lang.IllegalArgumentException: Invalid document reference. Document references must have an even number of segments, but Faculty/7DEj7mlTPBf3cVSCtQO3/memberFees has 3\n    at com.google.firebase.firestore.DocumentReference.forPath(DocumentReference.java:81)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","apache-kafka"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1665079431,"post_id":73974918,"comment_id":130621523,"body_markdown":"Perhaps you can listen on Spring application event [ListenerContainerIdleEvent](https://docs.spring.io/spring-kafka/reference/html/#events) instead.","body":"Perhaps you can listen on Spring application event <a href=\"https://docs.spring.io/spring-kafka/reference/html/#events\" rel=\"nofollow noreferrer\">ListenerContainerIdleEvent</a> instead."},{"owner":{"account_id":6995665,"reputation":475,"user_id":5363433,"accept_rate":52,"display_name":"Utkarsh Saraf"},"score":0,"creation_date":1665080914,"post_id":73974918,"comment_id":130621959,"body_markdown":"@ChinHuang problem is if another consumer is started from rest api even even before this consumer stops as specified in the time for  idle event.It leads to duplication","body":"@ChinHuang problem is if another consumer is started from rest api even even before this consumer stops as specified in the time for  idle event.It leads to duplication"}],"owner":{"account_id":6995665,"reputation":475,"user_id":5363433,"accept_rate":52,"display_name":"Utkarsh Saraf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665063887,"creation_date":1665063887,"question_id":73974918,"body_markdown":"I have setup my dynamic consumer as follows so that i can pass my topic name and create listener for it:\r\n\r\n```\r\n@Component\r\npublic class MessageListenerConfigurer {\r\n\r\n @Autowired\r\n ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory;\r\npublic ConcurrentMessageListenerContainer&lt;String,String&gt; createContainerForTopic(String topicName) {\r\n\r\n ConcurrentMessageListenerContainer&lt;String, String&gt; container = factory.createContainer(topicName);\r\n\r\n container.getContainerProperties().setMessageListener(new InstantMessageListener());\r\n}\r\n}\r\n```\r\n\r\n```\r\npackage org.kafka.listener;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.SneakyThrows;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\r\nimport org.kafka.service.MessageDbService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.kafka.listener.MessageListener;\r\n\r\nimport javax.sql.DataSource;\r\nimport javax.transaction.Transactional;\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\n@Slf4j\r\n@AllArgsConstructor\r\npublic class InstantMessageListener implements MessageListener&lt;String, String&gt; {\r\n    public InstantMessageListener(){\r\n    }\r\n\r\n    @Autowired\r\n    DataSource dataSource;\r\n    @Transactional\r\n    public void onMessage(ConsumerRecord&lt;String,String&gt; record) {\r\n        log.info(&quot;My message listener got a new record: &quot; + record);\r\n        log.info(&quot;message is: &quot;+record.toString());\r\n        log.warn(&quot;onMessage:: ===== from eventhub topic: {}, partition: {}, offset: {}, message: {}, timestamp: {}&quot;,\r\n                record.topic(), record.partition(), record.offset(), record.value(), record.timestamp());\r\n        CompletableFuture.runAsync(this::sleep).join();\r\n        log.info(&quot;My message listener done processing record: &quot; + record);\r\n\r\n\r\n    }\r\n\r\n    @SneakyThrows\r\n    private void sleep() {\r\n        Thread.sleep(5000);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI am trying to see if there are any idle containers so that instead of generating new container for same topic everytime, I can reuse it  and efficiently implement the thread mechanism but **below code is giving empty response**.\r\n\r\n```\r\npackage org.kafka.controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.config.AutowireCapableBeanFactory;\r\nimport org.springframework.beans.factory.config.SingletonBeanRegistry;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.kafka.listener.ConcurrentMessageListenerContainer;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.ResponseStatus;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\nclass ExportController {\r\n\r\n    @Autowired\r\n    private ApplicationContext applicationContext;\r\n\r\n    @GetMapping(&quot;/beans&quot;)\r\n    @ResponseStatus(value = HttpStatus.OK)\r\n    String[] registeredBeans() {\r\n        return printBeans();\r\n    }\r\n\r\n    private String[] printBeans() {\r\n        AutowireCapableBeanFactory autowireCapableBeanFactory = applicationContext.getAutowireCapableBeanFactory();\r\n        if (autowireCapableBeanFactory instanceof ConcurrentMessageListenerContainer) {\r\n            String[] singletonNames = ((SingletonBeanRegistry) autowireCapableBeanFactory).getSingletonNames();\r\n            for (String singleton : singletonNames) {\r\n                System.out.println(singleton);\r\n            }\r\n            return singletonNames;\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nKindlt help.","title":"Get idle consumer container listener details in kafka spring boot","body":"<p>I have setup my dynamic consumer as follows so that i can pass my topic name and create listener for it:</p>\n<pre><code>@Component\npublic class MessageListenerConfigurer {\n\n @Autowired\n ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory;\npublic ConcurrentMessageListenerContainer&lt;String,String&gt; createContainerForTopic(String topicName) {\n\n ConcurrentMessageListenerContainer&lt;String, String&gt; container = factory.createContainer(topicName);\n\n container.getContainerProperties().setMessageListener(new InstantMessageListener());\n}\n}\n</code></pre>\n<pre><code>package org.kafka.listener;\n\nimport lombok.AllArgsConstructor;\nimport lombok.SneakyThrows;\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.kafka.service.MessageDbService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.kafka.listener.MessageListener;\n\nimport javax.sql.DataSource;\nimport javax.transaction.Transactional;\nimport java.util.concurrent.CompletableFuture;\n\n@Slf4j\n@AllArgsConstructor\npublic class InstantMessageListener implements MessageListener&lt;String, String&gt; {\n    public InstantMessageListener(){\n    }\n\n    @Autowired\n    DataSource dataSource;\n    @Transactional\n    public void onMessage(ConsumerRecord&lt;String,String&gt; record) {\n        log.info(&quot;My message listener got a new record: &quot; + record);\n        log.info(&quot;message is: &quot;+record.toString());\n        log.warn(&quot;onMessage:: ===== from eventhub topic: {}, partition: {}, offset: {}, message: {}, timestamp: {}&quot;,\n                record.topic(), record.partition(), record.offset(), record.value(), record.timestamp());\n        CompletableFuture.runAsync(this::sleep).join();\n        log.info(&quot;My message listener done processing record: &quot; + record);\n\n\n    }\n\n    @SneakyThrows\n    private void sleep() {\n        Thread.sleep(5000);\n    }\n\n}\n</code></pre>\n<p>I am trying to see if there are any idle containers so that instead of generating new container for same topic everytime, I can reuse it  and efficiently implement the thread mechanism but <strong>below code is giving empty response</strong>.</p>\n<pre><code>package org.kafka.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.config.AutowireCapableBeanFactory;\nimport org.springframework.beans.factory.config.SingletonBeanRegistry;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.kafka.listener.ConcurrentMessageListenerContainer;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseStatus;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\nclass ExportController {\n\n    @Autowired\n    private ApplicationContext applicationContext;\n\n    @GetMapping(&quot;/beans&quot;)\n    @ResponseStatus(value = HttpStatus.OK)\n    String[] registeredBeans() {\n        return printBeans();\n    }\n\n    private String[] printBeans() {\n        AutowireCapableBeanFactory autowireCapableBeanFactory = applicationContext.getAutowireCapableBeanFactory();\n        if (autowireCapableBeanFactory instanceof ConcurrentMessageListenerContainer) {\n            String[] singletonNames = ((SingletonBeanRegistry) autowireCapableBeanFactory).getSingletonNames();\n            for (String singleton : singletonNames) {\n                System.out.println(singleton);\n            }\n            return singletonNames;\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Kindlt help.</p>\n"},{"tags":["java","spring","postgresql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665063550,"post_id":73974722,"comment_id":130615343,"body_markdown":"Do not send entities to the client. map it back to a dto","body":"Do not send entities to the client. map it back to a dto"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665063693,"post_id":73974722,"comment_id":130615399,"body_markdown":"Use a debugger, to see where the value is gone","body":"Use a debugger, to see where the value is gone"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665063962,"post_id":73974722,"comment_id":130615528,"body_markdown":"See my answer 2 min ago ;)","body":"See my answer 2 min ago ;)"}],"answers":[{"comments":[{"owner":{"account_id":26545881,"reputation":3,"user_id":20175952,"display_name":"Dugas Radoslav"},"score":0,"creation_date":1665064089,"post_id":73974885,"comment_id":130615587,"body_markdown":"Thank you, I sent the same to the comment (y)","body":"Thank you, I sent the same to the comment (y)"}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665063749,"creation_date":1665063749,"answer_id":73974885,"question_id":73974722,"body_markdown":"You set theo color value from the newly created entity to the entity which is not initialized at this time:\r\n\r\n    @Override\r\n    public EventCategoryColor addColor(EventCategoryColorRequestDto eventCategoryColorRequestDto) {\r\n        EventCategoryColor eventCategoryColor = new EventCategoryColor();\r\n        eventCategoryColor.setColor(eventCategoryColor.getColor());\r\n        return eventCategoryColorRepository.save(eventCategoryColor);\r\n    }\r\n\r\nshould be:\r\n\r\n    @Override\r\n    public EventCategoryColor addColor(EventCategoryColorRequestDto eventCategoryColorRequestDto) {\r\n        EventCategoryColor eventCategoryColor = new EventCategoryColor();\r\n        eventCategoryColor.setColor(eventCategoryColorRequestDto.getColor());\r\n        return eventCategoryColorRepository.save(eventCategoryColor);\r\n    }","title":"Database entry problem. Only null value is written","body":"<p>You set theo color value from the newly created entity to the entity which is not initialized at this time:</p>\n<pre><code>@Override\npublic EventCategoryColor addColor(EventCategoryColorRequestDto eventCategoryColorRequestDto) {\n    EventCategoryColor eventCategoryColor = new EventCategoryColor();\n    eventCategoryColor.setColor(eventCategoryColor.getColor());\n    return eventCategoryColorRepository.save(eventCategoryColor);\n}\n</code></pre>\n<p>should be:</p>\n<pre><code>@Override\npublic EventCategoryColor addColor(EventCategoryColorRequestDto eventCategoryColorRequestDto) {\n    EventCategoryColor eventCategoryColor = new EventCategoryColor();\n    eventCategoryColor.setColor(eventCategoryColorRequestDto.getColor());\n    return eventCategoryColorRepository.save(eventCategoryColor);\n}\n</code></pre>\n"}],"owner":{"account_id":26545881,"reputation":3,"user_id":20175952,"display_name":"Dugas Radoslav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73974885,"answer_count":1,"score":-2,"last_activity_date":1665063749,"creation_date":1665063086,"question_id":73974722,"body_markdown":"I&#39;m trying to work with REST api and after creating JSON post call, null value is written to the database instead of the value that was written in JSON.\r\n\r\nI am working with PostgreSQL database.\r\n\r\nAfter I send JSON using Postman or Swagger I get Server Response Code: 200. But the database writes the color as null.\r\n\r\n**EXAMPLE:**\r\n\r\nJSON:\r\n```\r\n{\r\n  &quot;color&quot;: &quot;string&quot;\r\n}\r\n```\r\nServer response:\r\n```\r\n{\r\n  &quot;id&quot;: 2,\r\n  &quot;color&quot;: null\r\n}\r\n```\r\n```\r\n connection: keep-alive \r\n content-type: application/json \r\n date: Thu06 Oct 2022 13:27:09 GMT \r\n keep-alive: timeout=60 \r\n transfer-encoding: chunked \r\n```\r\n\r\nI added here also application.properties file if I accidentally made some mistake already directly in it.\r\n\r\nProject structure:\r\n\r\n - controller\r\n - dto\r\n - model\r\n - repository\r\n - service\r\n\r\n**application.properties**\r\n```\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nspring.datasource.url=jdbc:postgresql://localhost/democalendareventapp\r\nspring.datasource.username=postgres\r\nspring.datasource.password=postgres\r\nspring.jpa.generate-dll=true\r\nspring.datasource.hikari.maximumPoolSize=2\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL10Dialect\r\n#spring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\n\r\nspring.mvc.pathmatch.matching-strategy=ant_path_matcher\r\n```\r\n\r\n**model: EventCategoryColor**\r\n```\r\npackage com.radocode.DemoCalendarEventApp.model;\r\n\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@NoArgsConstructor\r\n@Data\r\n@Table(name = &quot;EventCategoryColor&quot;)\r\npublic class EventCategoryColor {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String color;\r\n\r\n    public EventCategoryColor(String color) {\r\n        this.color = color;\r\n    }\r\n}\r\n```\r\n**repository: EventCategoryColorRepository**\r\n```\r\npackage com.radocode.DemoCalendarEventApp.repository;\r\n\r\nimport com.radocode.DemoCalendarEventApp.model.EventCategoryColor;\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface EventCategoryColorRepository extends CrudRepository&lt;EventCategoryColor, Long&gt; {\r\n}\r\n```\r\n**service - Interface: EventCategoryColorService**\r\n```\r\npackage com.radocode.DemoCalendarEventApp.service;\r\n\r\nimport com.radocode.DemoCalendarEventApp.dto.requestDto.EventCategoryColorRequestDto;\r\nimport com.radocode.DemoCalendarEventApp.model.EventCategoryColor;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.List;\r\n\r\n@Service\r\npublic interface EventCategoryColorService {\r\n    public EventCategoryColor addColor(EventCategoryColorRequestDto eventCategoryColorRequestDto);\r\n    public List&lt;EventCategoryColor&gt; getColors();\r\n    public EventCategoryColor getColor(Long id);\r\n    public EventCategoryColor deleteColor(Long id);\r\n    public EventCategoryColor editColor(Long id, EventCategoryColorRequestDto eventCategoryColorRequestDto);\r\n}\r\n```\r\n**service: EventCategoryColorServiceImp**\r\n```\r\npackage com.radocode.DemoCalendarEventApp.service;\r\n\r\nimport com.radocode.DemoCalendarEventApp.dto.requestDto.EventCategoryColorRequestDto;\r\nimport com.radocode.DemoCalendarEventApp.model.EventCategoryColor;\r\nimport com.radocode.DemoCalendarEventApp.repository.EventCategoryColorRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport javax.transaction.Transactional;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class EventCategoryColorServiceImpl implements EventCategoryColorService {\r\n\r\n    private final EventCategoryColorRepository eventCategoryColorRepository;\r\n\r\n    @Autowired\r\n    public EventCategoryColorServiceImpl(EventCategoryColorRepository eventCategoryColorRepository) {\r\n        this.eventCategoryColorRepository = eventCategoryColorRepository;\r\n    }\r\n\r\n    @Override\r\n    public EventCategoryColor addColor(EventCategoryColorRequestDto eventCategoryColorRequestDto) {\r\n        EventCategoryColor eventCategoryColor = new EventCategoryColor();\r\n        eventCategoryColor.setColor(eventCategoryColor.getColor());\r\n        return eventCategoryColorRepository.save(eventCategoryColor);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;EventCategoryColor&gt; getColors() {\r\n        List&lt;EventCategoryColor&gt; colors = new ArrayList&lt;&gt;();\r\n        eventCategoryColorRepository.findAll().forEach(colors::add);\r\n        return colors;\r\n    }\r\n\r\n    @Override\r\n    public EventCategoryColor getColor(Long id) {\r\n        return eventCategoryColorRepository.findById(id).orElseThrow(() -&gt;\r\n                new IllegalArgumentException(&quot;Color with Id: &quot; + id + &quot;, could not be found&quot;));\r\n    }\r\n\r\n    @Override\r\n    public EventCategoryColor deleteColor(Long id) {\r\n        EventCategoryColor eventCategoryColor = getColor(id);\r\n        eventCategoryColorRepository.delete(eventCategoryColor);\r\n        return eventCategoryColor;\r\n    }\r\n\r\n    @Transactional\r\n    @Override\r\n    public EventCategoryColor editColor(Long id, EventCategoryColorRequestDto eventCategoryColorRequestDto) {\r\n        EventCategoryColor colorToEdit = getColor(id);\r\n        colorToEdit.setColor(eventCategoryColorRequestDto.getColor());\r\n        return colorToEdit;\r\n    }\r\n}\r\n```\r\n**dto: EventCategoryColorRequestDto**\r\n```\r\npackage com.radocode.DemoCalendarEventApp.dto.requestDto;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class EventCategoryColorRequestDto {\r\n    private String color;\r\n}\r\n```\r\n**controller: EventCategoryColorController**\r\n```\r\npackage com.radocode.DemoCalendarEventApp.controller;\r\n\r\nimport com.radocode.DemoCalendarEventApp.dto.requestDto.EventCategoryColorRequestDto;\r\nimport com.radocode.DemoCalendarEventApp.model.EventCategoryColor;\r\nimport com.radocode.DemoCalendarEventApp.service.EventCategoryColorService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/event-category-color&quot;)\r\npublic class EventCatogeryColorController {\r\n\r\n    private final EventCategoryColorService eventCategoryColorService;\r\n\r\n    @Autowired\r\n    public EventCatogeryColorController(EventCategoryColorService eventCategoryColorService) {\r\n        this.eventCategoryColorService = eventCategoryColorService;\r\n    }\r\n\r\n    @PostMapping(&quot;/add&quot;)\r\n    public ResponseEntity&lt;EventCategoryColor&gt; addColor(\r\n            @RequestBody final EventCategoryColorRequestDto eventCategoryColorRequestDto) {\r\n        EventCategoryColor eventCategoryColor = eventCategoryColorService.addColor(eventCategoryColorRequestDto);\r\n        return new ResponseEntity&lt;&gt;(eventCategoryColor, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/get/{id}&quot;)\r\n    public ResponseEntity&lt;EventCategoryColor&gt; getColorById(@PathVariable final Long id) {\r\n        EventCategoryColor eventCategoryColor = eventCategoryColorService.getColor(id);\r\n        return new ResponseEntity&lt;&gt;(eventCategoryColor, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/get-all&quot;)\r\n    public ResponseEntity&lt;List&lt;EventCategoryColor&gt;&gt; getColors() {\r\n        List&lt;EventCategoryColor&gt; eventCategoryColors = eventCategoryColorService.getColors();\r\n        return new ResponseEntity&lt;&gt;(eventCategoryColors, HttpStatus.OK);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/delete/{id}&quot;)\r\n    public ResponseEntity&lt;EventCategoryColor&gt; deleteColor(@PathVariable final Long id) {\r\n        EventCategoryColor eventCategoryColor = eventCategoryColorService.deleteColor(id);\r\n        return new ResponseEntity&lt;&gt;(eventCategoryColor, HttpStatus.OK);\r\n    }\r\n\r\n    @PutMapping(&quot;/edit/{id}&quot;)\r\n    public ResponseEntity&lt;EventCategoryColor&gt; editColor(\r\n            @PathVariable final Long id,\r\n            @RequestBody final EventCategoryColorRequestDto eventCategoryColorRequestDto) {\r\n        EventCategoryColor eventCategoryColor = eventCategoryColorService.editColor(id, eventCategoryColorRequestDto);\r\n        return new ResponseEntity&lt;&gt;(eventCategoryColor, HttpStatus.OK);\r\n    }\r\n}\r\n```","title":"Database entry problem. Only null value is written","body":"<p>I'm trying to work with REST api and after creating JSON post call, null value is written to the database instead of the value that was written in JSON.</p>\n<p>I am working with PostgreSQL database.</p>\n<p>After I send JSON using Postman or Swagger I get Server Response Code: 200. But the database writes the color as null.</p>\n<p><strong>EXAMPLE:</strong></p>\n<p>JSON:</p>\n<pre><code>{\n  &quot;color&quot;: &quot;string&quot;\n}\n</code></pre>\n<p>Server response:</p>\n<pre><code>{\n  &quot;id&quot;: 2,\n  &quot;color&quot;: null\n}\n</code></pre>\n<pre><code> connection: keep-alive \n content-type: application/json \n date: Thu06 Oct 2022 13:27:09 GMT \n keep-alive: timeout=60 \n transfer-encoding: chunked \n</code></pre>\n<p>I added here also application.properties file if I accidentally made some mistake already directly in it.</p>\n<p>Project structure:</p>\n<ul>\n<li>controller</li>\n<li>dto</li>\n<li>model</li>\n<li>repository</li>\n<li>service</li>\n</ul>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.url=jdbc:postgresql://localhost/democalendareventapp\nspring.datasource.username=postgres\nspring.datasource.password=postgres\nspring.jpa.generate-dll=true\nspring.datasource.hikari.maximumPoolSize=2\n\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL10Dialect\n#spring.jpa.hibernate.ddl-auto=update\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\n\nspring.mvc.pathmatch.matching-strategy=ant_path_matcher\n</code></pre>\n<p><strong>model: EventCategoryColor</strong></p>\n<pre><code>package com.radocode.DemoCalendarEventApp.model;\n\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\n\n@Entity\n@NoArgsConstructor\n@Data\n@Table(name = &quot;EventCategoryColor&quot;)\npublic class EventCategoryColor {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String color;\n\n    public EventCategoryColor(String color) {\n        this.color = color;\n    }\n}\n</code></pre>\n<p><strong>repository: EventCategoryColorRepository</strong></p>\n<pre><code>package com.radocode.DemoCalendarEventApp.repository;\n\nimport com.radocode.DemoCalendarEventApp.model.EventCategoryColor;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface EventCategoryColorRepository extends CrudRepository&lt;EventCategoryColor, Long&gt; {\n}\n</code></pre>\n<p><strong>service - Interface: EventCategoryColorService</strong></p>\n<pre><code>package com.radocode.DemoCalendarEventApp.service;\n\nimport com.radocode.DemoCalendarEventApp.dto.requestDto.EventCategoryColorRequestDto;\nimport com.radocode.DemoCalendarEventApp.model.EventCategoryColor;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\npublic interface EventCategoryColorService {\n    public EventCategoryColor addColor(EventCategoryColorRequestDto eventCategoryColorRequestDto);\n    public List&lt;EventCategoryColor&gt; getColors();\n    public EventCategoryColor getColor(Long id);\n    public EventCategoryColor deleteColor(Long id);\n    public EventCategoryColor editColor(Long id, EventCategoryColorRequestDto eventCategoryColorRequestDto);\n}\n</code></pre>\n<p><strong>service: EventCategoryColorServiceImp</strong></p>\n<pre><code>package com.radocode.DemoCalendarEventApp.service;\n\nimport com.radocode.DemoCalendarEventApp.dto.requestDto.EventCategoryColorRequestDto;\nimport com.radocode.DemoCalendarEventApp.model.EventCategoryColor;\nimport com.radocode.DemoCalendarEventApp.repository.EventCategoryColorRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport javax.transaction.Transactional;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Service\npublic class EventCategoryColorServiceImpl implements EventCategoryColorService {\n\n    private final EventCategoryColorRepository eventCategoryColorRepository;\n\n    @Autowired\n    public EventCategoryColorServiceImpl(EventCategoryColorRepository eventCategoryColorRepository) {\n        this.eventCategoryColorRepository = eventCategoryColorRepository;\n    }\n\n    @Override\n    public EventCategoryColor addColor(EventCategoryColorRequestDto eventCategoryColorRequestDto) {\n        EventCategoryColor eventCategoryColor = new EventCategoryColor();\n        eventCategoryColor.setColor(eventCategoryColor.getColor());\n        return eventCategoryColorRepository.save(eventCategoryColor);\n    }\n\n    @Override\n    public List&lt;EventCategoryColor&gt; getColors() {\n        List&lt;EventCategoryColor&gt; colors = new ArrayList&lt;&gt;();\n        eventCategoryColorRepository.findAll().forEach(colors::add);\n        return colors;\n    }\n\n    @Override\n    public EventCategoryColor getColor(Long id) {\n        return eventCategoryColorRepository.findById(id).orElseThrow(() -&gt;\n                new IllegalArgumentException(&quot;Color with Id: &quot; + id + &quot;, could not be found&quot;));\n    }\n\n    @Override\n    public EventCategoryColor deleteColor(Long id) {\n        EventCategoryColor eventCategoryColor = getColor(id);\n        eventCategoryColorRepository.delete(eventCategoryColor);\n        return eventCategoryColor;\n    }\n\n    @Transactional\n    @Override\n    public EventCategoryColor editColor(Long id, EventCategoryColorRequestDto eventCategoryColorRequestDto) {\n        EventCategoryColor colorToEdit = getColor(id);\n        colorToEdit.setColor(eventCategoryColorRequestDto.getColor());\n        return colorToEdit;\n    }\n}\n</code></pre>\n<p><strong>dto: EventCategoryColorRequestDto</strong></p>\n<pre><code>package com.radocode.DemoCalendarEventApp.dto.requestDto;\n\nimport lombok.Data;\n\n@Data\npublic class EventCategoryColorRequestDto {\n    private String color;\n}\n</code></pre>\n<p><strong>controller: EventCategoryColorController</strong></p>\n<pre><code>package com.radocode.DemoCalendarEventApp.controller;\n\nimport com.radocode.DemoCalendarEventApp.dto.requestDto.EventCategoryColorRequestDto;\nimport com.radocode.DemoCalendarEventApp.model.EventCategoryColor;\nimport com.radocode.DemoCalendarEventApp.service.EventCategoryColorService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/event-category-color&quot;)\npublic class EventCatogeryColorController {\n\n    private final EventCategoryColorService eventCategoryColorService;\n\n    @Autowired\n    public EventCatogeryColorController(EventCategoryColorService eventCategoryColorService) {\n        this.eventCategoryColorService = eventCategoryColorService;\n    }\n\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;EventCategoryColor&gt; addColor(\n            @RequestBody final EventCategoryColorRequestDto eventCategoryColorRequestDto) {\n        EventCategoryColor eventCategoryColor = eventCategoryColorService.addColor(eventCategoryColorRequestDto);\n        return new ResponseEntity&lt;&gt;(eventCategoryColor, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/get/{id}&quot;)\n    public ResponseEntity&lt;EventCategoryColor&gt; getColorById(@PathVariable final Long id) {\n        EventCategoryColor eventCategoryColor = eventCategoryColorService.getColor(id);\n        return new ResponseEntity&lt;&gt;(eventCategoryColor, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/get-all&quot;)\n    public ResponseEntity&lt;List&lt;EventCategoryColor&gt;&gt; getColors() {\n        List&lt;EventCategoryColor&gt; eventCategoryColors = eventCategoryColorService.getColors();\n        return new ResponseEntity&lt;&gt;(eventCategoryColors, HttpStatus.OK);\n    }\n\n    @DeleteMapping(&quot;/delete/{id}&quot;)\n    public ResponseEntity&lt;EventCategoryColor&gt; deleteColor(@PathVariable final Long id) {\n        EventCategoryColor eventCategoryColor = eventCategoryColorService.deleteColor(id);\n        return new ResponseEntity&lt;&gt;(eventCategoryColor, HttpStatus.OK);\n    }\n\n    @PutMapping(&quot;/edit/{id}&quot;)\n    public ResponseEntity&lt;EventCategoryColor&gt; editColor(\n            @PathVariable final Long id,\n            @RequestBody final EventCategoryColorRequestDto eventCategoryColorRequestDto) {\n        EventCategoryColor eventCategoryColor = eventCategoryColorService.editColor(id, eventCategoryColorRequestDto);\n        return new ResponseEntity&lt;&gt;(eventCategoryColor, HttpStatus.OK);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","string","clipboard","spannablestring"],"answers":[{"comments":[{"owner":{"account_id":3359942,"reputation":4710,"user_id":2821954,"display_name":"Andrew T."},"score":0,"creation_date":1418629927,"post_id":27479231,"comment_id":43392280,"body_markdown":"Code-only answer is discouraged since it might confuse OP and future readers. Instead, explain what the code does.","body":"Code-only answer is discouraged since it might confuse OP and future readers. Instead, explain what the code does."},{"owner":{"account_id":373395,"reputation":727,"user_id":723000,"accept_rate":50,"display_name":"Aaron Dougherty"},"score":21,"creation_date":1422742503,"post_id":27479231,"comment_id":44872393,"body_markdown":"This is a work around, and does not address the root problem. The problem is that item.getText() returns a CharSequence, not a String. OP should use item.getText().toString() to convert the CharSequence to String","body":"This is a work around, and does not address the root problem. The problem is that item.getText() returns a CharSequence, not a String. OP should use item.getText().toString() to convert the CharSequence to String"}],"tags":[],"owner":{"account_id":55831,"reputation":9422,"user_id":167288,"accept_rate":89,"display_name":"Adem"},"comment_count":2,"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1418630190,"creation_date":1418628578,"answer_id":27479231,"question_id":27479181,"body_markdown":"SpannableString is not String directly. so, you can not cast. but, it can be converted to string. you can convert something to string with concatenating with empty string. \r\n\r\n    pasteData = &quot;&quot; + item.getText();\r\n\r\n","title":"Why show java.lang.ClassCastException: android.text.SpannableString cannot be cast to java.lang.String?","body":"<p>SpannableString is not String directly. so, you can not cast. but, it can be converted to string. you can convert something to string with concatenating with empty string. </p>\n\n<pre><code>pasteData = \"\" + item.getText();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":459680,"reputation":6944,"user_id":1160282,"accept_rate":100,"display_name":"SilentKiller"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1418628587,"creation_date":1418628587,"answer_id":27479237,"question_id":27479181,"body_markdown":"If your Spanned text only containing HTML content then you can convert it using `Html.toHtml()`\r\n\r\n    String htmlString = Html.toHtml(spannedText);","title":"Why show java.lang.ClassCastException: android.text.SpannableString cannot be cast to java.lang.String?","body":"<p>If your Spanned text only containing HTML content then you can convert it using <code>Html.toHtml()</code></p>\n\n<pre><code>String htmlString = Html.toHtml(spannedText);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3047381,"reputation":33,"user_id":2582651,"accept_rate":20,"display_name":"user2582651"},"score":1,"creation_date":1490430800,"post_id":27479325,"comment_id":73117319,"body_markdown":"Gem of an answer. Sounds trivial but saves a lot of headache. Thank you !","body":"Gem of an answer. Sounds trivial but saves a lot of headache. Thank you !"}],"tags":[],"owner":{"account_id":905775,"reputation":4960,"user_id":940720,"accept_rate":100,"display_name":"gio"},"comment_count":1,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1418629018,"creation_date":1418629018,"answer_id":27479325,"question_id":27479181,"body_markdown":"From [CharSequence.toString()][1] \r\n\r\n&gt; Returns a string with the same characters in the same order as in this sequence.\r\n\r\nYou need to use next code. \r\n\r\n    String pasteData = item.getText().toString();\r\n\r\nYou can not cast to `android.text.SpannableString` because `item.getText()` returns `CharSequence`, there are a lot of implementations of [it][2]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/lang/CharSequence.html#toString()\r\n  [2]: http://developer.android.com/reference/java/lang/CharSequence.html","title":"Why show java.lang.ClassCastException: android.text.SpannableString cannot be cast to java.lang.String?","body":"<p>From <a href=\"http://developer.android.com/reference/java/lang/CharSequence.html#toString()\">CharSequence.toString()</a> </p>\n\n<blockquote>\n  <p>Returns a string with the same characters in the same order as in this sequence.</p>\n</blockquote>\n\n<p>You need to use next code. </p>\n\n<pre><code>String pasteData = item.getText().toString();\n</code></pre>\n\n<p>You can not cast to <code>android.text.SpannableString</code> because <code>item.getText()</code> returns <code>CharSequence</code>, there are a lot of implementations of <a href=\"http://developer.android.com/reference/java/lang/CharSequence.html\">it</a></p>\n"},{"tags":[],"owner":{"account_id":14930961,"reputation":101,"user_id":10780379,"display_name":"Manju S B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557474405,"creation_date":1557397641,"answer_id":56057387,"question_id":27479181,"body_markdown":"It has worked for me`       \r\n     String htmlString = String.valueOf(Html.fromHtml(contenttext,Html.FROM_HTML_MODE_COMPACT));\r\n`","title":"Why show java.lang.ClassCastException: android.text.SpannableString cannot be cast to java.lang.String?","body":"<p>It has worked for me<code>\n     String htmlString = String.valueOf(Html.fromHtml(contenttext,Html.FROM_HTML_MODE_COMPACT));\n</code></p>\n"},{"tags":[],"owner":{"account_id":4557914,"reputation":15280,"user_id":3701102,"accept_rate":63,"display_name":"pableiros"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598390575,"creation_date":1598390575,"answer_id":63587314,"question_id":27479181,"body_markdown":"This is what it worked for me in `Kotlin`:\r\n\r\n    val str = text.toString()","title":"Why show java.lang.ClassCastException: android.text.SpannableString cannot be cast to java.lang.String?","body":"<p>This is what it worked for me in <code>Kotlin</code>:</p>\n<pre><code>val str = text.toString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16283993,"reputation":31,"user_id":11759191,"display_name":"sdh4967"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621994660,"creation_date":1621994660,"answer_id":67697622,"question_id":27479181,"body_markdown":"You want to add attribute in Textview in xml file like this\r\n\r\nadd this -&gt;  android:bufferType=&quot;spannable&quot;\r\n\r\nexample:\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/self_assessment_intro2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:bufferType=&quot;spannable&quot;\r\n            android:text=&quot;@string/self_assessment_intro2&quot;\r\n            android:textSize=&quot;@dimen/self_assessment_intro_text_size&quot; /&gt;\r\n\r\n    ","title":"Why show java.lang.ClassCastException: android.text.SpannableString cannot be cast to java.lang.String?","body":"<p>You want to add attribute in Textview in xml file like this</p>\n<p>add this -&gt;  android:bufferType=&quot;spannable&quot;</p>\n<p>example:</p>\n<pre><code>    &lt;TextView\n        android:id=&quot;@+id/self_assessment_intro2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:bufferType=&quot;spannable&quot;\n        android:text=&quot;@string/self_assessment_intro2&quot;\n        android:textSize=&quot;@dimen/self_assessment_intro_text_size&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24971620,"reputation":1,"user_id":18834736,"display_name":"Farouq An Najaby"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665063672,"creation_date":1664800740,"answer_id":73935606,"question_id":27479181,"body_markdown":"if using edittext don&#39;t forget to add like this when getting the data\r\n\r\n`binding.edittext.text.toString()`","title":"Why show java.lang.ClassCastException: android.text.SpannableString cannot be cast to java.lang.String?","body":"<p>if using edittext don't forget to add like this when getting the data</p>\n<p><code>binding.edittext.text.toString()</code></p>\n"}],"owner":{"display_name":"user4356416"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31268,"favorite_count":0,"down_vote_count":4,"up_vote_count":31,"accepted_answer_id":27479231,"answer_count":7,"score":27,"last_activity_date":1665063672,"creation_date":1418628368,"question_id":27479181,"body_markdown":"When copying `String` from any browser page, `pasteData` works properly.\r\nHowever when copying `SpannedString` from a message sent item editor(field), the application crashes and shows this error message:\r\n\t\r\n\r\n    java.lang.ClassCastException: android.text.SpannableString cannot be cast to java.lang.String\r\n\t\r\nMy code:\r\n\t\r\n\r\n    // since the clipboard contains plain text.\r\n    ClipData.Item item = clipBoard.getPrimaryClip().getItemAt(0);\r\n\r\n    // Gets the clipboard as text.\r\n    String pasteData = new String();\r\n    pasteData = (String) item.getText();\r\n\t\t\t\t\t\r\nwhere the `ClipboardManager` instance defined as `clipBoard`, below:\r\n\t\r\n    clipBoard = (ClipboardManager) context.getSystemService(context.CLIPBOARD_SERVICE);\r\n    clipBoard.addPrimaryClipChangedListener(new ClipboardListener());\r\n\t\t\r\nAll I&#39;m trying to do is use `pasteData` in `String` format.\r\nHow to get rid of this error?\r\nAny help is appreciated.","title":"Why show java.lang.ClassCastException: android.text.SpannableString cannot be cast to java.lang.String?","body":"<p>When copying <code>String</code> from any browser page, <code>pasteData</code> works properly.\nHowever when copying <code>SpannedString</code> from a message sent item editor(field), the application crashes and shows this error message:</p>\n\n<pre><code>java.lang.ClassCastException: android.text.SpannableString cannot be cast to java.lang.String\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>// since the clipboard contains plain text.\nClipData.Item item = clipBoard.getPrimaryClip().getItemAt(0);\n\n// Gets the clipboard as text.\nString pasteData = new String();\npasteData = (String) item.getText();\n</code></pre>\n\n<p>where the <code>ClipboardManager</code> instance defined as <code>clipBoard</code>, below:</p>\n\n<pre><code>clipBoard = (ClipboardManager) context.getSystemService(context.CLIPBOARD_SERVICE);\nclipBoard.addPrimaryClipChangedListener(new ClipboardListener());\n</code></pre>\n\n<p>All I'm trying to do is use <code>pasteData</code> in <code>String</code> format.\nHow to get rid of this error?\nAny help is appreciated.</p>\n"},{"tags":["java","spring","junit","dependency-injection"],"comments":[{"owner":{"account_id":9337303,"reputation":9995,"user_id":6931119,"accept_rate":89,"display_name":"Witold Kaczurba"},"score":0,"creation_date":1517815550,"post_id":19299513,"comment_id":84231710,"body_markdown":"Depends on the Spring version you are using - there might be different answers. Refer to: https://dzone.com/articles/mockbean-spring-boots-missing-ingredient","body":"Depends on the Spring version you are using - there might be different answers. Refer to: <a href=\"https://dzone.com/articles/mockbean-spring-boots-missing-ingredient\" rel=\"nofollow noreferrer\">dzone.com/articles/mockbean-spring-boots-missing-ingredient</a>"}],"answers":[{"comments":[{"owner":{"account_id":2617274,"reputation":6112,"user_id":2266098,"accept_rate":72,"display_name":"NeplatnyUdaj"},"score":1,"creation_date":1381419559,"post_id":19299920,"comment_id":28581362,"body_markdown":"Thanks. That&#39;s exactly what I did and is working. I&#39;m just wondering if there&#39;s a way to do that without writing new context(although I only imported the old one and overrode the bean i needed)","body":"Thanks. That&#39;s exactly what I did and is working. I&#39;m just wondering if there&#39;s a way to do that without writing new context(although I only imported the old one and overrode the bean i needed)"},{"owner":{"account_id":1748624,"reputation":2133,"user_id":1598255,"accept_rate":60,"display_name":"phury"},"score":1,"creation_date":1381420562,"post_id":19299920,"comment_id":28582046,"body_markdown":"@NeplatnyUdaj try using the @Qualifier(&quot;myAlternateBean&quot;) then, it should solve your problem","body":"@NeplatnyUdaj try using the @Qualifier(&quot;myAlternateBean&quot;) then, it should solve your problem"},{"owner":{"account_id":2617274,"reputation":6112,"user_id":2266098,"accept_rate":72,"display_name":"NeplatnyUdaj"},"score":0,"creation_date":1381423376,"post_id":19299920,"comment_id":28583723,"body_markdown":"That&#39;s a misunderstanding. Your suggestion works. It&#39;s just not exactly what I was  looking for. I&#39;ll use it until I find something else. Thanks","body":"That&#39;s a misunderstanding. Your suggestion works. It&#39;s just not exactly what I was  looking for. I&#39;ll use it until I find something else. Thanks"},{"owner":{"account_id":2441548,"reputation":2592,"user_id":2129937,"accept_rate":60,"display_name":"matt helliwell"},"score":0,"creation_date":1381610594,"post_id":19299920,"comment_id":28649644,"body_markdown":"If you are using autowiring in tests then having test specific contexts is normal so I wouldn&#39;t worry about looking for something better. The only other possibilities are to override init (which means it can&#39;t be private) or manually wire your beans for the test.","body":"If you are using autowiring in tests then having test specific contexts is normal so I wouldn&#39;t worry about looking for something better. The only other possibilities are to override init (which means it can&#39;t be private) or manually wire your beans for the test."},{"owner":{"account_id":5937539,"reputation":3116,"user_id":4669984,"accept_rate":86,"display_name":"Tarun Maganti"},"score":0,"creation_date":1489578311,"post_id":19299920,"comment_id":72729844,"body_markdown":"@ph. How to do it in Spring-Boot where there are no .xml files. Do I have to create a configuration file for the test?","body":"@ph. How to do it in Spring-Boot where there are no .xml files. Do I have to create a configuration file for the test?"}],"tags":[],"owner":{"account_id":1748624,"reputation":2133,"user_id":1598255,"accept_rate":60,"display_name":"phury"},"comment_count":5,"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1381418641,"creation_date":1381418641,"answer_id":19299920,"question_id":19299513,"body_markdown":"You can provide a new testContext.xml in which the `@Autowired` bean you define is of the type you need for your test.","title":"Spring JUnit: How to Mock autowired component in autowired component","body":"<p>You can provide a new testContext.xml in which the <code>@Autowired</code> bean you define is of the type you need for your test.</p>\n"},{"comments":[{"owner":{"account_id":2617274,"reputation":6112,"user_id":2266098,"accept_rate":72,"display_name":"NeplatnyUdaj"},"score":1,"creation_date":1381424072,"post_id":19300477,"comment_id":28584106,"body_markdown":"I&#39;ve tried exactly this, but the ```PostConstruct``` is still executed before the ```setUp()``` method.","body":"I&#39;ve tried exactly this, but the <code>PostConstruct</code> is still executed before the <code>setUp()</code> method."},{"owner":{"account_id":401145,"reputation":1655,"user_id":767530,"display_name":"Anna Zubenko"},"score":0,"creation_date":1381435105,"post_id":19300477,"comment_id":28590438,"body_markdown":"@NeplatnyUdaj, another chance is with `@BeforeClass` instead of `@Before`. Not sure how `initMocks` works with this though.","body":"@NeplatnyUdaj, another chance is with <code>@BeforeClass</code> instead of <code>@Before</code>. Not sure how <code>initMocks</code> works with this though."},{"owner":{"account_id":2617274,"reputation":6112,"user_id":2266098,"accept_rate":72,"display_name":"NeplatnyUdaj"},"score":0,"creation_date":1381478874,"post_id":19300477,"comment_id":28604440,"body_markdown":"That was my idea too, but ```MockitoAnnotations.initMocks(Object o)``` requires an instance of the test class.","body":"That was my idea too, but <code>MockitoAnnotations.initMocks(Object o)</code> requires an instance of the test class."},{"owner":{"account_id":7125787,"reputation":771,"user_id":5448746,"display_name":"Ondej Staek"},"score":2,"creation_date":1613395536,"post_id":19300477,"comment_id":117054185,"body_markdown":"Or with new TestUnit5 just use `@ExtendWith(MockitoExtension.class)` before your test class.","body":"Or with new TestUnit5 just use <code>@ExtendWith(MockitoExtension.class)</code> before your test class."}],"tags":[],"owner":{"account_id":401145,"reputation":1655,"user_id":767530,"display_name":"Anna Zubenko"},"comment_count":4,"down_vote_count":1,"up_vote_count":76,"is_accepted":false,"score":75,"last_activity_date":1427822795,"creation_date":1381420056,"answer_id":19300477,"question_id":19299513,"body_markdown":"You could use [Mockito][1]. I am not sure with `PostConstruct` specifically, but this generally works:\r\n\r\n    // Create a mock of Resource to change its behaviour for testing\r\n    @Mock\r\n    private Resource resource;\r\n\r\n    // Testing instance, mocked `resource` should be injected here \r\n    @InjectMocks\r\n    @Resource\r\n    private TestedClass testedClass;\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n        // Initialize mocks created above\r\n        MockitoAnnotations.initMocks(this);\r\n        // Change behaviour of `resource`\r\n        when(resource.getSomething()).thenReturn(&quot;Foo&quot;);   \r\n    }\r\n\r\n\r\n  [1]: https://github.com/mockito/mockito","title":"Spring JUnit: How to Mock autowired component in autowired component","body":"<p>You could use <a href=\"https://github.com/mockito/mockito\">Mockito</a>. I am not sure with <code>PostConstruct</code> specifically, but this generally works:</p>\n\n<pre><code>// Create a mock of Resource to change its behaviour for testing\n@Mock\nprivate Resource resource;\n\n// Testing instance, mocked `resource` should be injected here \n@InjectMocks\n@Resource\nprivate TestedClass testedClass;\n\n@Before\npublic void setUp() throws Exception {\n    // Initialize mocks created above\n    MockitoAnnotations.initMocks(this);\n    // Change behaviour of `resource`\n    when(resource.getSomething()).thenReturn(\"Foo\");   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2168554,"reputation":709,"user_id":1921113,"display_name":"Sergey Grigoriev"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1439816693,"creation_date":1391354650,"answer_id":21512304,"question_id":19299513,"body_markdown":"You can override bean definitions with mocks with spring-reinject https://github.com/sgri/spring-reinject/","title":"Spring JUnit: How to Mock autowired component in autowired component","body":"<p>You can override bean definitions with mocks with spring-reinject <a href=\"https://github.com/sgri/spring-reinject/\" rel=\"nofollow\">https://github.com/sgri/spring-reinject/</a></p>\n"},{"comments":[{"owner":{"account_id":6157939,"reputation":314,"user_id":4800378,"accept_rate":100,"display_name":"Daniel Sass"},"score":1,"creation_date":1464886026,"post_id":37051147,"comment_id":62680352,"body_markdown":"Thanks, this was exactly what I need!","body":"Thanks, this was exactly what I need!"}],"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1462452690,"creation_date":1462452690,"answer_id":37051147,"question_id":19299513,"body_markdown":"I created [blog post on the topic][1]. It contains also link to Github repository with working example. \r\n\r\nThe trick is using test configuration, where you override original spring bean with fake one. You can use `@Primary` and `@Profile` annotations for this trick. \r\n\r\n  [1]: https://lkrnac.net/blog/2015/12/mock-spring-bean-v2/","title":"Spring JUnit: How to Mock autowired component in autowired component","body":"<p>I created <a href=\"https://lkrnac.net/blog/2015/12/mock-spring-bean-v2/\" rel=\"noreferrer\">blog post on the topic</a>. It contains also link to Github repository with working example. </p>\n\n<p>The trick is using test configuration, where you override original spring bean with fake one. You can use <code>@Primary</code> and <code>@Profile</code> annotations for this trick. </p>\n"},{"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"comment_count":0,"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1473072174,"creation_date":1473072174,"answer_id":39328886,"question_id":19299513,"body_markdown":"Spring Boot 1.4 introduced testing annotation called [`@MockBean`][1]. So now mocking and spying on Spring beans is natively supported by Spring Boot.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-testing-spring-boot-applications-mocking-beans","title":"Spring JUnit: How to Mock autowired component in autowired component","body":"<p>Spring Boot 1.4 introduced testing annotation called <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-testing-spring-boot-applications-mocking-beans\" rel=\"noreferrer\"><code>@MockBean</code></a>. So now mocking and spying on Spring beans is natively supported by Spring Boot.</p>\n"},{"tags":[],"owner":{"account_id":9224441,"reputation":2843,"user_id":6852684,"display_name":"RazvanParautiu"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1540535907,"creation_date":1540535907,"answer_id":53002839,"question_id":19299513,"body_markdown":"Another approach in integration testing is to define a new Configuration class and provide it as your `@ContextConfiguration`. Into the configuration you will be able to mock your beans and also you must define all types of beans which you are using in test/s flow.\r\nTo provide an example : \r\n\r\n    @RunWith(SpringRunner.class)\r\n    @ContextConfiguration(loader = AnnotationConfigContextLoader.class)\r\n    public class MockTest{\r\n     @Configuration\r\n     static class ContextConfiguration{\r\n     // ... you beans here used in test flow\r\n     @Bean\r\n    \tpublic MockMvc mockMvc() {\r\n    \t\treturn MockMvcBuilders.standaloneSetup(/*you can declare your controller beans defines on top*/)\r\n    \t\t\t\t.addFilters(/*optionally filters*/).build();\r\n    \t}\r\n     //Defined a mocked bean\r\n     @Bean\r\n    \tpublic MyService myMockedService() {\r\n    \t\treturn Mockito.mock(MyService.class);\r\n    \t}\r\n     }\r\n\r\n     @Autowired\r\n     private MockMvc mockMvc;\r\n    \r\n     @Autowired\r\n     MyService myMockedService;\r\n    \r\n     @Before\r\n     public void setup(){\r\n      //mock your methods from MyService bean \r\n      when(myMockedService.myMethod(/*params*/)).thenReturn(/*my answer*/);\r\n     }\r\n    \r\n     @Test\r\n     public void test(){\r\n      //test your controller which trigger the method from MyService\r\n      MvcResult result = mockMvc.perform(get(CONTROLLER_URL)).andReturn();\r\n      // do your asserts to verify\r\n     }\r\n    }","title":"Spring JUnit: How to Mock autowired component in autowired component","body":"<p>Another approach in integration testing is to define a new Configuration class and provide it as your <code>@ContextConfiguration</code>. Into the configuration you will be able to mock your beans and also you must define all types of beans which you are using in test/s flow.\nTo provide an example : </p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@ContextConfiguration(loader = AnnotationConfigContextLoader.class)\npublic class MockTest{\n @Configuration\n static class ContextConfiguration{\n // ... you beans here used in test flow\n @Bean\n    public MockMvc mockMvc() {\n        return MockMvcBuilders.standaloneSetup(/*you can declare your controller beans defines on top*/)\n                .addFilters(/*optionally filters*/).build();\n    }\n //Defined a mocked bean\n @Bean\n    public MyService myMockedService() {\n        return Mockito.mock(MyService.class);\n    }\n }\n\n @Autowired\n private MockMvc mockMvc;\n\n @Autowired\n MyService myMockedService;\n\n @Before\n public void setup(){\n  //mock your methods from MyService bean \n  when(myMockedService.myMethod(/*params*/)).thenReturn(/*my answer*/);\n }\n\n @Test\n public void test(){\n  //test your controller which trigger the method from MyService\n  MvcResult result = mockMvc.perform(get(CONTROLLER_URL)).andReturn();\n  // do your asserts to verify\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650627001,"creation_date":1650573705,"answer_id":71960654,"question_id":19299513,"body_markdown":"For Junit5, you can mock using:\r\n    \r\n    @ExtendWith(MockitoExtension.class)\r\n    @MockitoSettings(strictness = Strictness.LENIENT)\r\n    class MytestClass {\r\n    \r\n    @Mock\r\n    MyInjectedSevice myInjservice;\r\n    \r\n    @InjectMock\r\n    MyService myservice;\r\n    \r\n    }","title":"Spring JUnit: How to Mock autowired component in autowired component","body":"<p>For Junit5, you can mock using:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@MockitoSettings(strictness = Strictness.LENIENT)\nclass MytestClass {\n\n@Mock\nMyInjectedSevice myInjservice;\n\n@InjectMock\nMyService myservice;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14053602,"reputation":21,"user_id":10151647,"display_name":"Jo&#227;o Pedro Gon&#231;alves"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665063512,"creation_date":1665063512,"answer_id":73974827,"question_id":19299513,"body_markdown":"```java\r\nimport org.junit.Before;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.MockitoAnnotations;\r\n\r\nimport javax.annotation.Resource;\r\n\r\n@Mock\r\n\tprivate IMyInterface yInterface;\r\n\r\n\t@InjectMocks\r\n\t@Resource\r\n\tResourceDependant resourceDependant = new resourceDependant();\r\n\r\n\r\n\t@Before\r\n\tpublic void initMocksForInjection() throws Exception {\r\n\t\tMockitoAnnotations.openMocks(this);\r\n\t}\r\n\r\n```\r\n\r\n","title":"Spring JUnit: How to Mock autowired component in autowired component","body":"<pre class=\"lang-java prettyprint-override\"><code>import org.junit.Before;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\n\nimport javax.annotation.Resource;\n\n@Mock\n    private IMyInterface yInterface;\n\n    @InjectMocks\n    @Resource\n    ResourceDependant resourceDependant = new resourceDependant();\n\n\n    @Before\n    public void initMocksForInjection() throws Exception {\n        MockitoAnnotations.openMocks(this);\n    }\n\n</code></pre>\n"}],"owner":{"account_id":2617274,"reputation":6112,"user_id":2266098,"accept_rate":72,"display_name":"NeplatnyUdaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189868,"favorite_count":0,"down_vote_count":0,"up_vote_count":88,"accepted_answer_id":19299920,"answer_count":8,"score":88,"last_activity_date":1665063512,"creation_date":1381417624,"question_id":19299513,"body_markdown":"I&#39;ve got a Spring component I&#39;d like to test and this component has an autowired attribute which I need to change for the purpose of unit testing. The problem is, that the class uses the autowired component inside the post-construct method so I&#39;m not able to replace it(i.e. via ReflectionTestUtils) before it&#39;s actually used. \r\n\r\nHow should I do that?\r\n\r\nThis is the class I want to test:\r\n\r\n    @Component\r\n    public final class TestedClass{\r\n    \r\n        @Autowired\r\n        private Resource resource;\r\n    \r\n        @PostConstruct\r\n        private void init(){\r\n            //I need this to return different result\r\n            resource.getSomething();\r\n        }\r\n    }\r\n\r\nAnd this is the base of a test case:\r\n    \r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations= &quot;classpath:applicationContext.xml&quot;)\r\n    public class TestedClassTest{\r\n    \r\n        @Autowired\r\n        private TestedClass instance;\r\n    \r\n        @Before\r\n        private void setUp(){\r\n            //this doesn&#39;t work because it&#39;s executed after the bean is instantiated\r\n            ReflectionTestUtils.setField(instance, &quot;resource&quot;, new Resource(&quot;something&quot;));\r\n        }\r\n    }\r\n    \r\nIs there some way to replace the resource with something else before the postconstruct method is invoked? Like to tell Spring JUnit runner to autowire different instance?","title":"Spring JUnit: How to Mock autowired component in autowired component","body":"<p>I've got a Spring component I'd like to test and this component has an autowired attribute which I need to change for the purpose of unit testing. The problem is, that the class uses the autowired component inside the post-construct method so I'm not able to replace it(i.e. via ReflectionTestUtils) before it's actually used. </p>\n\n<p>How should I do that?</p>\n\n<p>This is the class I want to test:</p>\n\n<pre><code>@Component\npublic final class TestedClass{\n\n    @Autowired\n    private Resource resource;\n\n    @PostConstruct\n    private void init(){\n        //I need this to return different result\n        resource.getSomething();\n    }\n}\n</code></pre>\n\n<p>And this is the base of a test case:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations= \"classpath:applicationContext.xml\")\npublic class TestedClassTest{\n\n    @Autowired\n    private TestedClass instance;\n\n    @Before\n    private void setUp(){\n        //this doesn't work because it's executed after the bean is instantiated\n        ReflectionTestUtils.setField(instance, \"resource\", new Resource(\"something\"));\n    }\n}\n</code></pre>\n\n<p>Is there some way to replace the resource with something else before the postconstruct method is invoked? Like to tell Spring JUnit runner to autowire different instance?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":10572708,"reputation":167,"user_id":7788900,"display_name":"pradhyo"},"score":0,"creation_date":1664980082,"post_id":73953927,"comment_id":130592891,"body_markdown":"that&#39;s definitely cleaner but what if I needed to convert to an object instead of `toMap` where the function could default to return an empty Map when there are exceptions? Is there a way to use flatMap to ignore the `Optional.empty()` values somehow? I couldn&#39;t find something like [Scala&#39;s flatten](https://stackoverflow.com/a/2895185/7788900) for this.","body":"that&#39;s definitely cleaner but what if I needed to convert to an object instead of <code>toMap</code> where the function could default to return an empty Map when there are exceptions? Is there a way to use flatMap to ignore the <code>Optional.empty()</code> values somehow? I couldn&#39;t find something like <a href=\"https://stackoverflow.com/a/2895185/7788900\">Scala&#39;s flatten</a> for this."},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1664981139,"post_id":73953927,"comment_id":130593331,"body_markdown":"@pradhyo I changed my answer. I may not agree with you, but I think you can do what you want.","body":"@pradhyo I changed my answer. I may not agree with you, but I think you can do what you want."}],"tags":[],"owner":{"display_name":"user17233545"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664980974,"creation_date":1664920003,"answer_id":73953927,"question_id":73953322,"body_markdown":"Immutable values should be declared as constants. The part that throws an exception in the lambda expression should be a separate method.\r\n\r\n\r\n    static final TypeReference&lt;HashMap&lt;String, Integer&gt;&gt; TYPEREF_MAP =\r\n        new TypeReference&lt;HashMap&lt;String, Integer&gt;&gt;() {};\r\n\r\n    static final Map&lt;String, String&gt; ITEM_VALUES = Map.of(\r\n        &quot;k1&quot;, &quot;{\\&quot;key1\\&quot;:1,\\&quot;key2\\&quot;:2}&quot;,\r\n        &quot;k2&quot;, &quot;{\\&quot;key1\\&quot;:3,\\&quot;key2\\&quot;:4}&quot;);\r\n\r\n    static final HashMap&lt;String, Integer&gt; FAILED_MAP = new HashMap&lt;&gt;();\r\n\r\n    static HashMap&lt;String, Integer&gt; toMap(String s) {\r\n        try {\r\n            return new ObjectMapper().readValue(s, TYPEREF_MAP);\r\n        } catch (JsonProcessingException e) {\r\n            return FAILED_MAP;\r\n        }\r\n    }\r\n\r\n    public static List&lt;Item&gt; getItems() {\r\n        return ITEM_VALUES.entrySet().stream()\r\n            .map(entry -&gt; new Item(entry.getKey(), toMap(entry.getValue())))\r\n            .filter(item -&gt; item.getValues() != FAILED_MAP)\r\n            .collect(Collectors.toList());\r\n    }\r\n\r\n","title":"How to convert a Java Map to a list of objects by processing the values and ignoring exceptions?","body":"<p>Immutable values should be declared as constants. The part that throws an exception in the lambda expression should be a separate method.</p>\n<pre><code>static final TypeReference&lt;HashMap&lt;String, Integer&gt;&gt; TYPEREF_MAP =\n    new TypeReference&lt;HashMap&lt;String, Integer&gt;&gt;() {};\n\nstatic final Map&lt;String, String&gt; ITEM_VALUES = Map.of(\n    &quot;k1&quot;, &quot;{\\&quot;key1\\&quot;:1,\\&quot;key2\\&quot;:2}&quot;,\n    &quot;k2&quot;, &quot;{\\&quot;key1\\&quot;:3,\\&quot;key2\\&quot;:4}&quot;);\n\nstatic final HashMap&lt;String, Integer&gt; FAILED_MAP = new HashMap&lt;&gt;();\n\nstatic HashMap&lt;String, Integer&gt; toMap(String s) {\n    try {\n        return new ObjectMapper().readValue(s, TYPEREF_MAP);\n    } catch (JsonProcessingException e) {\n        return FAILED_MAP;\n    }\n}\n\npublic static List&lt;Item&gt; getItems() {\n    return ITEM_VALUES.entrySet().stream()\n        .map(entry -&gt; new Item(entry.getKey(), toMap(entry.getValue())))\n        .filter(item -&gt; item.getValues() != FAILED_MAP)\n        .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12663513,"reputation":76,"user_id":9203590,"display_name":"Cristian Bianco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665062928,"creation_date":1665062928,"answer_id":73974670,"question_id":73953322,"body_markdown":"Instead of using Optional to manage the default case, you can use Stream&#39;s flatMap.\r\n\r\n`MAPPER.readerForMapOf` is a shortcut of ` new TypeReference&lt;..&gt;`\r\n\r\n\r\n```java\r\npublic class Example {\r\n    \r\n    static final ObjectMapper MAPPER = new ObjectMapper();\r\n    \r\n    static final Map&lt;String, String&gt; ITEM_VALUES = Map.of(\r\n        &quot;k1&quot;, &quot;{\\&quot;key1\\&quot;:1,\\&quot;key2\\&quot;:2}&quot;,\r\n        &quot;k2&quot;, &quot;{\\&quot;key1\\&quot;:3,\\&quot;key2\\&quot;:4}&quot;\r\n    );\r\n\r\n    static Stream&lt;Item&gt; toItemOrEmpty(Map.Entry&lt;String, String&gt; entry) {\r\n        try {\r\n            return Stream.of(\r\n                new Item(\r\n                    entry.getKey(),\r\n                    MAPPER.readerForMapOf(Integer.class).readValue(entry.getValue())\r\n                )\r\n            );\r\n        } catch (Exception e) {\r\n            return Stream.empty();\r\n        }\r\n    }\r\n\r\n    public static List&lt;Item&gt; getItems() {\r\n        return ITEM_VALUES\r\n            .entrySet()\r\n            .stream()\r\n            .flatMap(Example::toItemOrEmpty)\r\n            .collect(Collectors.toList());\r\n    }\r\n\r\n}","title":"How to convert a Java Map to a list of objects by processing the values and ignoring exceptions?","body":"<p>Instead of using Optional to manage the default case, you can use Stream's flatMap.</p>\n<p><code>MAPPER.readerForMapOf</code> is a shortcut of <code> new TypeReference&lt;..&gt;</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n    \n    static final ObjectMapper MAPPER = new ObjectMapper();\n    \n    static final Map&lt;String, String&gt; ITEM_VALUES = Map.of(\n        &quot;k1&quot;, &quot;{\\&quot;key1\\&quot;:1,\\&quot;key2\\&quot;:2}&quot;,\n        &quot;k2&quot;, &quot;{\\&quot;key1\\&quot;:3,\\&quot;key2\\&quot;:4}&quot;\n    );\n\n    static Stream&lt;Item&gt; toItemOrEmpty(Map.Entry&lt;String, String&gt; entry) {\n        try {\n            return Stream.of(\n                new Item(\n                    entry.getKey(),\n                    MAPPER.readerForMapOf(Integer.class).readValue(entry.getValue())\n                )\n            );\n        } catch (Exception e) {\n            return Stream.empty();\n        }\n    }\n\n    public static List&lt;Item&gt; getItems() {\n        return ITEM_VALUES\n            .entrySet()\n            .stream()\n            .flatMap(Example::toItemOrEmpty)\n            .collect(Collectors.toList());\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":10572708,"reputation":167,"user_id":7788900,"display_name":"pradhyo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1665062928,"creation_date":1664915278,"question_id":73953322,"body_markdown":"`values` in the code below comes from redis. What&#39;s the best way to convert it back to a list of `Items`. I am new to Java and have this code below but I am hoping there&#39;s a better way?\r\n\r\n```java\r\n@AllArgsConstructor\r\npublic class Item {\r\n  public String key;\r\n  public Map&lt;String, Integer&gt; values;\r\n}\r\n\r\n\r\npublic static List&lt;Item&gt; getItems() {\r\n\r\n  Map&lt;String, String&gt; values = Map.of(&quot;k1&quot;, &quot;{\\&quot;key1\\&quot;:1,\\&quot;key2\\&quot;:2}&quot;, &quot;k2&quot;, &quot;{\\&quot;key1\\&quot;:3,\\&quot;key2\\&quot;:4}&quot;);\r\n  \r\n  List&lt;Item&gt; items = values.entrySet().stream().map(entry -&gt; {\r\n    try {\r\n      TypeReference&lt;HashMap&lt;String, Integer&gt;&gt; typeRef = new TypeReference&lt;HashMap&lt;String, Integer&gt;&gt;() {};\r\n      var itemValues = new ObjectMapper().readValue(entry.getValue(), typeRef);\r\n      return Optional.of(new Item(entry.getKey(), itemValues));\r\n    } catch (JsonProcessingException ex) {\r\n      Optional&lt;Item&gt; emptyItem = Optional.empty();\r\n      return emptyItem;\r\n    }\r\n  }).flatMap(Optional::stream).collect(Collectors.toList());\r\n  return items;\r\n}\r\n\r\n```","title":"How to convert a Java Map to a list of objects by processing the values and ignoring exceptions?","body":"<p><code>values</code> in the code below comes from redis. What's the best way to convert it back to a list of <code>Items</code>. I am new to Java and have this code below but I am hoping there's a better way?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\npublic class Item {\n  public String key;\n  public Map&lt;String, Integer&gt; values;\n}\n\n\npublic static List&lt;Item&gt; getItems() {\n\n  Map&lt;String, String&gt; values = Map.of(&quot;k1&quot;, &quot;{\\&quot;key1\\&quot;:1,\\&quot;key2\\&quot;:2}&quot;, &quot;k2&quot;, &quot;{\\&quot;key1\\&quot;:3,\\&quot;key2\\&quot;:4}&quot;);\n  \n  List&lt;Item&gt; items = values.entrySet().stream().map(entry -&gt; {\n    try {\n      TypeReference&lt;HashMap&lt;String, Integer&gt;&gt; typeRef = new TypeReference&lt;HashMap&lt;String, Integer&gt;&gt;() {};\n      var itemValues = new ObjectMapper().readValue(entry.getValue(), typeRef);\n      return Optional.of(new Item(entry.getKey(), itemValues));\n    } catch (JsonProcessingException ex) {\n      Optional&lt;Item&gt; emptyItem = Optional.empty();\n      return emptyItem;\n    }\n  }).flatMap(Optional::stream).collect(Collectors.toList());\n  return items;\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","get-mapping"],"answers":[{"comments":[{"owner":{"account_id":21503873,"reputation":77,"user_id":15847588,"display_name":"Veritas1832"},"score":1,"creation_date":1634456921,"post_id":69602054,"comment_id":123025424,"body_markdown":"Wow thanks a lot! It seems I didn&#39;t understand the difference between static and templates folders. I was following another tutorial where thymleaf was used and the HTML files were put in templates, that&#39;s why I got confused here. Thanks again!","body":"Wow thanks a lot! It seems I didn&#39;t understand the difference between static and templates folders. I was following another tutorial where thymleaf was used and the HTML files were put in templates, that&#39;s why I got confused here. Thanks again!"}],"tags":[],"owner":{"account_id":11312373,"reputation":271,"user_id":8295173,"display_name":"Mehdi Varse"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634455040,"creation_date":1634454318,"answer_id":69602054,"question_id":69601526,"body_markdown":"Move hello.html to static folder in resource and change controller like this:\r\n\r\n        @GetMapping(value = &quot;/&quot;)\r\n        public String hello(){\r\n            return &quot;hello.html&quot;;\r\n        }\r\n\r\nor like this:\r\n\r\n        @GetMapping(value = &quot;/&quot;)\r\n        public ModelAndView  hello(){\r\n            ModelAndView modelAndView = new ModelAndView();\r\n            modelAndView.setViewName(&quot;hello.html&quot;);\r\n            return modelAndView;\r\n        }","title":"Spring Boot @Getmapping returns a 404 whitelabel error page in a very simple project","body":"<p>Move hello.html to static folder in resource and change controller like this:</p>\n<pre><code>    @GetMapping(value = &quot;/&quot;)\n    public String hello(){\n        return &quot;hello.html&quot;;\n    }\n</code></pre>\n<p>or like this:</p>\n<pre><code>    @GetMapping(value = &quot;/&quot;)\n    public ModelAndView  hello(){\n        ModelAndView modelAndView = new ModelAndView();\n        modelAndView.setViewName(&quot;hello.html&quot;);\n        return modelAndView;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21475686,"reputation":1,"user_id":15823993,"display_name":"Ragnarok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665062880,"creation_date":1665062503,"answer_id":73974585,"question_id":69601526,"body_markdown":"**Remplace here**\r\n\r\n     @GetMapping(value = &quot;/&quot;)\r\n    public String hello(){\r\n        return &quot;hello&quot;;\r\n    }\r\n\r\n\r\n**or like this**\r\n\r\n   \r\n\r\n    @RequestMapping(path = &quot;/&quot;, produces = MediaType.TEXT_HTML_VALUE)\r\n\tpublic String welcomepage() {\r\n\t\treturn &quot;hello&quot;;\r\n\t}\r\n\r\n","title":"Spring Boot @Getmapping returns a 404 whitelabel error page in a very simple project","body":"<p><strong>Remplace here</strong></p>\n<pre><code> @GetMapping(value = &quot;/&quot;)\npublic String hello(){\n    return &quot;hello&quot;;\n}\n</code></pre>\n<p><strong>or like this</strong></p>\n<pre><code>@RequestMapping(path = &quot;/&quot;, produces = MediaType.TEXT_HTML_VALUE)\npublic String welcomepage() {\n    return &quot;hello&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":21503873,"reputation":77,"user_id":15847588,"display_name":"Veritas1832"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69602054,"answer_count":2,"score":0,"last_activity_date":1665062880,"creation_date":1634448033,"question_id":69601526,"body_markdown":"I am learning spring boot. I created this super simple project, but I keep getting a 404 Whitelabel error page when I try to return an HTML page with the @GetMapping annotation. \r\n\r\nHere is my only controller:\r\n```\r\npackage com.example.springplay;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n@Controller\r\npublic class MainController {\r\n    @GetMapping(value = &quot;/&quot;)\r\n    public String hello(){\r\n        return &quot;hello&quot;;\r\n    }\r\n}\r\n```\r\n\r\nHere is the spring application:\r\n```\r\npackage com.example.springplay;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n\r\n@SpringBootApplication\r\npublic class SpringplayApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringplayApplication.class, args);\r\n\t}\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n[Here is the directory][1]\r\n\r\nHere is the hello.html page:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h1&gt;hello world&lt;/h1&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X2gFd.png\r\n\r\nThe hello.html page is in the resources/templates folder, I don&#39;t know what&#39;s going on.\r\nI copied this part which has the exact same structure from another working project, yet mine just gives me this Whitelabel error page.","title":"Spring Boot @Getmapping returns a 404 whitelabel error page in a very simple project","body":"<p>I am learning spring boot. I created this super simple project, but I keep getting a 404 Whitelabel error page when I try to return an HTML page with the @GetMapping annotation.</p>\n<p>Here is my only controller:</p>\n<pre><code>package com.example.springplay;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class MainController {\n    @GetMapping(value = &quot;/&quot;)\n    public String hello(){\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<p>Here is the spring application:</p>\n<pre><code>package com.example.springplay;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n\n@SpringBootApplication\npublic class SpringplayApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringplayApplication.class, args);\n    }\n\n\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/X2gFd.png\" rel=\"nofollow noreferrer\">Here is the directory</a></p>\n<p>Here is the hello.html page:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;hello world&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>The hello.html page is in the resources/templates folder, I don't know what's going on.\nI copied this part which has the exact same structure from another working project, yet mine just gives me this Whitelabel error page.</p>\n"},{"tags":["java","maven","intellij-idea","junit"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1665003662,"post_id":73966244,"comment_id":130600566,"body_markdown":"Show your pom.xml JUnit dependencies.","body":"Show your pom.xml JUnit dependencies."},{"owner":{"account_id":6496686,"reputation":578,"user_id":5029081,"display_name":"Haroldo Macedo"},"score":0,"creation_date":1665028537,"post_id":73966244,"comment_id":130604485,"body_markdown":"Please provide more information, such as the Pom file, so others can better understand or reproduce the problem.","body":"Please provide more information, such as the Pom file, so others can better understand or reproduce the problem."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1665070602,"post_id":73966244,"comment_id":130618334,"body_markdown":"First upgrade IntelliJ to most recent version.. second why using the vintage engine? Also please show the pom.xml file...and test on plain command line first after everything is working import it into IDEA IntelliJ","body":"First upgrade IntelliJ to most recent version.. second why using the vintage engine? Also please show the pom.xml file...and test on plain command line first after everything is working import it into IDEA IntelliJ"},{"owner":{"account_id":3205120,"reputation":2135,"user_id":2706300,"accept_rate":75,"display_name":"Crickcoder"},"score":0,"creation_date":1666372982,"post_id":73966244,"comment_id":130929747,"body_markdown":"Check this out http://javareferencegv.blogspot.com/2013/10/debugging-javalangnoclassdeffounderror.html","body":"Check this out <a href=\"http://javareferencegv.blogspot.com/2013/10/debugging-javalangnoclassdeffounderror.html\" rel=\"nofollow noreferrer\">javareferencegv.blogspot.com/2013/10/&hellip;</a>"}],"owner":{"account_id":26250773,"reputation":1,"user_id":19923612,"display_name":"Andrei Ferreira Lan&#231;anova"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665062710,"creation_date":1665003268,"question_id":73966244,"body_markdown":"I am trying  to run unit tests via JUnit Plugin in IntelliJ 2021.3.3, but everytime I try to run them, I got this error message on console:\r\n\r\n```\r\nException in thread &quot;main&quot;java.lang.NoClassDefFoundError:org/junit/platform/launcher/TestIdentifier\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.&lt;clinit&gt;(JUnit5IdeaTestRunner.java:86)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:315)\r\n\tat com.intellij.rt.junit.JUnitStarter.getAgentClass(JUnitStarter.java:244)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:225)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\n```\r\nCaused by: java.lang.ClassNotFoundException: org.junit.platform.launcher.TestIdentifier\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n```\r\n\r\nThe POM file JUnit snippet:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nI also have some JUnit configurations in a IML file:\r\n```\r\n&lt;orderEntry type=&quot;library&quot; scope=&quot;TEST&quot; name=&quot;Maven: org.junit.platform:junit-platform-commons:1.8.2&quot; level=&quot;project&quot; /&gt;\r\n&lt;orderEntry type=&quot;library&quot; scope=&quot;TEST&quot; name=&quot;Maven: org.junit.jupiter:junit-jupiter-api:5.8.2&quot; level=&quot;project&quot; /&gt;\r\n&lt;orderEntry type=&quot;library&quot; scope=&quot;TEST&quot; name=&quot;Maven: org.junit.jupiter:junit-jupiter-params:5.8.2&quot; level=&quot;project&quot; /&gt;\r\n&lt;orderEntry type=&quot;library&quot; scope=&quot;TEST&quot; name=&quot;Maven: org.junit.jupiter:junit-jupiter-engine:5.8.2&quot; level=&quot;project&quot; /&gt;\r\n```\r\n\r\nI have already tried to:\r\n- Delete Maven dependencies on dir .m2 and download them again;\r\n- Clean IntelliJ cache via &quot;File --&gt; Invalidate Caches;\r\n- Update version of dependencies on pom.xml\r\n\r\nI read about the possibility of modifying the JUnit Runtime Scope version, but I couldn&#39;t managed to do that, since the thread I&#39;ve found (https://stackoverflow.com/questions/56387386/java-lang-noclassdeffounderror-org-junit-platform-launcher-testexecutionlistene), explains how to do it in a Gradle Project. I also have another machine with the same project and same versions of IntelliJ, where the code is working. \r\nMay someone help me?\r\nSince now, I thank you so much for all help.\r\n\r\nEdit 1: I am trying to run the tests in VS Code and it works. It doesn&#39;t work only in IntelliJ.","title":"NoClassDefFoundError - Project with IntelliJ + Maven 3.8.4 + JUnit+ OpenJDK 11.05","body":"<p>I am trying  to run unit tests via JUnit Plugin in IntelliJ 2021.3.3, but everytime I try to run them, I got this error message on console:</p>\n<pre><code>Exception in thread &quot;main&quot;java.lang.NoClassDefFoundError:org/junit/platform/launcher/TestIdentifier\n    at com.intellij.junit5.JUnit5IdeaTestRunner.&lt;clinit&gt;(JUnit5IdeaTestRunner.java:86)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:315)\n    at com.intellij.rt.junit.JUnitStarter.getAgentClass(JUnitStarter.java:244)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:225)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.junit.platform.launcher.TestIdentifier\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n</code></pre>\n<p>The POM file JUnit snippet:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I also have some JUnit configurations in a IML file:</p>\n<pre><code>&lt;orderEntry type=&quot;library&quot; scope=&quot;TEST&quot; name=&quot;Maven: org.junit.platform:junit-platform-commons:1.8.2&quot; level=&quot;project&quot; /&gt;\n&lt;orderEntry type=&quot;library&quot; scope=&quot;TEST&quot; name=&quot;Maven: org.junit.jupiter:junit-jupiter-api:5.8.2&quot; level=&quot;project&quot; /&gt;\n&lt;orderEntry type=&quot;library&quot; scope=&quot;TEST&quot; name=&quot;Maven: org.junit.jupiter:junit-jupiter-params:5.8.2&quot; level=&quot;project&quot; /&gt;\n&lt;orderEntry type=&quot;library&quot; scope=&quot;TEST&quot; name=&quot;Maven: org.junit.jupiter:junit-jupiter-engine:5.8.2&quot; level=&quot;project&quot; /&gt;\n</code></pre>\n<p>I have already tried to:</p>\n<ul>\n<li>Delete Maven dependencies on dir .m2 and download them again;</li>\n<li>Clean IntelliJ cache via &quot;File --&gt; Invalidate Caches;</li>\n<li>Update version of dependencies on pom.xml</li>\n</ul>\n<p>I read about the possibility of modifying the JUnit Runtime Scope version, but I couldn't managed to do that, since the thread I've found (<a href=\"https://stackoverflow.com/questions/56387386/java-lang-noclassdeffounderror-org-junit-platform-launcher-testexecutionlistene\">java.lang.NoClassDefFoundError: org/junit/platform/launcher/TestExecutionListener</a>), explains how to do it in a Gradle Project. I also have another machine with the same project and same versions of IntelliJ, where the code is working.\nMay someone help me?\nSince now, I thank you so much for all help.</p>\n<p>Edit 1: I am trying to run the tests in VS Code and it works. It doesn't work only in IntelliJ.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":0,"creation_date":1665061930,"post_id":73974384,"comment_id":130614667,"body_markdown":"Which type of `HttpStatusCodeException` are you using,need to check the `import` code","body":"Which type of <code>HttpStatusCodeException</code> are you using,need to check the <code>import</code> code"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1665062107,"post_id":73974384,"comment_id":130614747,"body_markdown":"for all we know, the HttpStatusCodeException you are using is an abstract class, and you&#39;re supposed to use a subclass","body":"for all we know, the HttpStatusCodeException you are using is an abstract class, and you&#39;re supposed to use a subclass"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1665062368,"post_id":73974384,"comment_id":130614872,"body_markdown":"Assuming that you talk about `org.springframework.web.client.HttpStatusCodeException`: the class is abstract. Use one of its 2 subclasses: `HttpClientErrorException` or `HttpServerErrorException`.","body":"Assuming that you talk about <code>org.springframework.web.client.HttpStatusCodeException</code>: the class is abstract. Use one of its 2 subclasses: <code>HttpClientErrorException</code> or <code>HttpServerErrorException</code>."},{"owner":{"account_id":23190047,"reputation":1,"user_id":17286535,"display_name":"Liu Hongjie"},"score":1,"creation_date":1665062406,"post_id":73974384,"comment_id":130614890,"body_markdown":"I think this is the answer you need: https://stackoverflow.com/questions/52052146/throwing-http-status-code-exception-from-handlerinterceptor","body":"I think this is the answer you need: <a href=\"https://stackoverflow.com/questions/52052146/throwing-http-status-code-exception-from-handlerinterceptor\" title=\"throwing http status code exception from handlerinterceptor\">stackoverflow.com/questions/52052146/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":18126074,"reputation":51,"user_id":13181599,"display_name":"Mahammad Yusifov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665062516,"creation_date":1665062516,"answer_id":73974588,"question_id":73974384,"body_markdown":"HttpStatusCodeException is abstract class so you can not instantiate it.\r\nInstead, use \r\n\r\n    throw new HttpServerErrorException();\r\n    \r\n\r\nor throw another exception.","title":"how to solve Cannot instantiate the type HttpStatusCodeException","body":"<p>HttpStatusCodeException is abstract class so you can not instantiate it.\nInstead, use</p>\n<pre><code>throw new HttpServerErrorException();\n</code></pre>\n<p>or throw another exception.</p>\n"}],"owner":{"account_id":24983560,"reputation":410,"user_id":18845587,"display_name":"Tindona"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1665497352,"answer_count":1,"score":-1,"last_activity_date":1665062516,"creation_date":1665061733,"question_id":73974384,"body_markdown":"Here is my code: \r\n\r\n      public CommitResponse getOneCommitInfo(String commitHash) {\r\n        CommitResponse commit = new CommitResponse();\r\n        for (int i = 0; i &lt; allCommitsList.size(); i++) {\r\n          if (((CommitResponse) allCommitsList.get(i)).getHash().equals(commitHash)) {\r\n            commit = (CommitResponse) allCommitsList.get(i);\r\n            return commit;\r\n          }\r\n        }\r\n        throw new HttpStatusCodeException(HttpStatus.NOT_FOUND);\r\n      }\r\n\r\nThe exception gives `Cannot instantiate the type HttpStatusCodeException` Error, and I didn&#39;t find any related topics after searching for a while,","title":"how to solve Cannot instantiate the type HttpStatusCodeException","body":"<p>Here is my code:</p>\n<pre><code>  public CommitResponse getOneCommitInfo(String commitHash) {\n    CommitResponse commit = new CommitResponse();\n    for (int i = 0; i &lt; allCommitsList.size(); i++) {\n      if (((CommitResponse) allCommitsList.get(i)).getHash().equals(commitHash)) {\n        commit = (CommitResponse) allCommitsList.get(i);\n        return commit;\n      }\n    }\n    throw new HttpStatusCodeException(HttpStatus.NOT_FOUND);\n  }\n</code></pre>\n<p>The exception gives <code>Cannot instantiate the type HttpStatusCodeException</code> Error, and I didn't find any related topics after searching for a while,</p>\n"},{"tags":["java","javafx","compiler-warnings"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1460996383,"post_id":36699262,"comment_id":60986457,"body_markdown":"So did you try compiling with `-Xlint:unchecked` as the compiler warning said to?","body":"So did you try compiling with <code>-Xlint:unchecked</code> as the compiler warning said to?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1460996428,"post_id":36699262,"comment_id":60986485,"body_markdown":"(I would *strongly* urge you to start following Java naming conventions, btw - your classes should be called `Robot`, `RobotManager` and `RobotApp`.)","body":"(I would <i>strongly</i> urge you to start following Java naming conventions, btw - your classes should be called <code>Robot</code>, <code>RobotManager</code> and <code>RobotApp</code>.)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1460997654,"post_id":36699262,"comment_id":60987193,"body_markdown":"Link for [Java naming conventions](https://en.wikipedia.org/wiki/Naming_convention_(programming)#Java)","body":"Link for <a href=\"https://en.wikipedia.org/wiki/Naming_convention_(programming)#Java\" rel=\"nofollow noreferrer\">Java naming conventions</a>"},{"owner":{"account_id":5030334,"reputation":1521,"user_id":4040743,"accept_rate":77,"display_name":"Pete"},"score":0,"creation_date":1461001896,"post_id":36699262,"comment_id":60989592,"body_markdown":"You&#39;re right, Jon, I need to adopt proper naming conventions.  Believe it or not, but I used to be much worse.  I&#39;m gradually assimiliating the conventions, its taking me a few months...  Thx for the feedback!","body":"You&#39;re right, Jon, I need to adopt proper naming conventions.  Believe it or not, but I used to be much worse.  I&#39;m gradually assimiliating the conventions, its taking me a few months...  Thx for the feedback!"}],"answers":[{"comments":[{"owner":{"account_id":5030334,"reputation":1521,"user_id":4040743,"accept_rate":77,"display_name":"Pete"},"score":0,"creation_date":1461007357,"post_id":36699476,"comment_id":60992945,"body_markdown":"WOW - thanks for this, there is a lot of detail for me to dig through - and, more importantly, read up on!  This is incredibly helpful, you have no idea.  :)","body":"WOW - thanks for this, there is a lot of detail for me to dig through - and, more importantly, read up on!  This is incredibly helpful, you have no idea.  :)"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1461007465,"post_id":36699476,"comment_id":60992999,"body_markdown":"If you want an absolutely complete understanding of generics, I recommend &quot;Java Generics and Collections&quot; by Naftalin and Wadler.","body":"If you want an absolutely complete understanding of generics, I recommend &quot;Java Generics and Collections&quot; by Naftalin and Wadler."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1460996929,"creation_date":1460996929,"answer_id":36699476,"question_id":36699262,"body_markdown":"Your code is perfectly safe to run (it has bugs, which you&#39;ll discover when you run it, but those are unrelated to the typesafety about which you&#39;re asking).\r\n\r\nBasically, the issue is that the `addAll()` method you are invoking takes a &quot;varargs&quot; parameter whose type is a generic type. For a `TableView&lt;S&gt;`, `TableView.getColumns()` returns an `ObservableList&lt;TableColumn&lt;S,?&gt;&gt;` and the `ObservableList&lt;E&gt;` `addAll()` method you are then calling takes a vararg parameter: `addAll(E... elements)`. So you end up calling a method with signature `addAll(TableColumn&lt;Robot, ?&gt;... columns)`.\r\n\r\nVarargs are processed by converting them to an array, so you implicitly create an array of type `TableColumn&lt;Robot, ?&gt;[]` when you call the `addAll` method. Because arrays and parameterized types do not play well together, the compiler is unable to ensure the type safety of this array. Consequently, it issues a warning. See, e.g. [here](http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6227971) for an example of why the compiler can&#39;t ensure type safety here.\r\n\r\nThe authors of the `addAll()` method probably should have coded it so that it ensured type safety and annotated it so that it avoided this warning (if that&#39;s possible: I&#39;d need to think about it for more time than I have right now).\r\n\r\nTo avoid the warning, you can simply invoke the `add` method twice:\r\n\r\n    robotTable.getColumns().add(colName);\r\n    robotTable.getColumns().add(colIntelligenge);\r\n\r\nAlternatively you can create a `List` of table columns and pass that to the (other) `addAll(...)` method that takes a collection, instead of a varargs parameter:\r\n\r\n    robotTable.getColumns().addAll(Arrays.asList(colName, colIntelligence));","title":"JavaFX Compilation Warning - &quot;uses unchecked or unsafe operations&quot; - Raw Data Types?","body":"<p>Your code is perfectly safe to run (it has bugs, which you'll discover when you run it, but those are unrelated to the typesafety about which you're asking).</p>\n\n<p>Basically, the issue is that the <code>addAll()</code> method you are invoking takes a \"varargs\" parameter whose type is a generic type. For a <code>TableView&lt;S&gt;</code>, <code>TableView.getColumns()</code> returns an <code>ObservableList&lt;TableColumn&lt;S,?&gt;&gt;</code> and the <code>ObservableList&lt;E&gt;</code> <code>addAll()</code> method you are then calling takes a vararg parameter: <code>addAll(E... elements)</code>. So you end up calling a method with signature <code>addAll(TableColumn&lt;Robot, ?&gt;... columns)</code>.</p>\n\n<p>Varargs are processed by converting them to an array, so you implicitly create an array of type <code>TableColumn&lt;Robot, ?&gt;[]</code> when you call the <code>addAll</code> method. Because arrays and parameterized types do not play well together, the compiler is unable to ensure the type safety of this array. Consequently, it issues a warning. See, e.g. <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6227971\" rel=\"noreferrer\">here</a> for an example of why the compiler can't ensure type safety here.</p>\n\n<p>The authors of the <code>addAll()</code> method probably should have coded it so that it ensured type safety and annotated it so that it avoided this warning (if that's possible: I'd need to think about it for more time than I have right now).</p>\n\n<p>To avoid the warning, you can simply invoke the <code>add</code> method twice:</p>\n\n<pre><code>robotTable.getColumns().add(colName);\nrobotTable.getColumns().add(colIntelligenge);\n</code></pre>\n\n<p>Alternatively you can create a <code>List</code> of table columns and pass that to the (other) <code>addAll(...)</code> method that takes a collection, instead of a varargs parameter:</p>\n\n<pre><code>robotTable.getColumns().addAll(Arrays.asList(colName, colIntelligence));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26262947,"reputation":11,"user_id":19933963,"display_name":"Henryk Zschuppan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665062184,"creation_date":1664729492,"answer_id":73927660,"question_id":36699262,"body_markdown":"Same issue with column sorting:\r\n\r\n    /* avoid warning with Arrays.asList */\r\n        tableView.getSortOrder().setAll(Arrays.asList(columnTitle));\r\n\r\nAdditive note, because there is no compiler hint about:\r\nTableCell constructions.\r\nFor example, if instead of a primitive type, an Object is defined in the column as FactoryValue to be able to display an image and text in a single column cell, then make sure that the Observable Object Class implements Comparable or Comparator interface and compare the object&#39;s with the corresponding method by use of getValueSafe() on values that can be null. Otherwise an exception occurs and sorting may not work correctly. \r\n\r\n\r\n    /* modified column cell layout for column title */\r\n    columnTitle.setCellValueFactory(c -&gt; new SimpleObjectProperty&lt;AbstractNodeItem&gt;(c.getValue()));\r\n\r\n\t\tcolumnTitle.setCellFactory(col -&gt; {\r\n\t\t\tTableCell&lt;AbstractNodeItem, AbstractNodeItem&gt; cell = new TableCell&lt;&gt;();\r\n\r\n\t\t\tcell.itemProperty().addListener((observableValue, oldLink, newLink) -&gt; {\r\n\t\t\t\tif (newLink != null) {\r\n\t\t\t\t\tNode graphic = newLink.getIconImageView();\r\n\t\t\t\t\tcell.graphicProperty().bind(Bindings.when(cell.emptyProperty()).then((Node) null).otherwise(graphic));\r\n\t\t\t\t\tcell.textProperty().bind(Bindings.when(cell.emptyProperty()).then((String) null).otherwise(newLink.propertyTitle()));\r\n\r\n\t\t\t\t\tif (!cell.getStyleClass().contains(&quot;cell-title&quot;)) {\r\n\t\t\t\t\t\tcell.getStyleClass().add(&quot;cell-title&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn cell;\r\n\t\t});\r\n\r\nImplementation: \r\n\r\n    class AbstractNodeItem implements Comparable&lt;AbstractNodeItem&gt;{\r\n    \tpublic int compareTo(AbstractNodeItem o) {\r\n    \t\treturn this.propertyTitle.getValueSafe().compareTo(o.propertyTitle.getValueSafe());\r\n    \t}\r\n\r\nNow it is safe to sort the column!\r\n\r\n```\r\n\tprivate void sortTableItems() {\r\n\t\tswitch (SortOrder.get()) {\r\n\r\n\t\t\tcase ID :\r\n\t\t\t\tcolumnIndex.setSortType(TableColumn.SortType.ASCENDING);\r\n\t\t\t\ttableView.getSortOrder().setAll(Arrays.asList(columnIndex));\r\n\t\t\t\tbreak;\r\n\t\t\tcase TITLE :\r\n\t\t\t\tcolumnTitle.setSortType(TableColumn.SortType.ASCENDING);\r\n\t\t\t\ttableView.getSortOrder().setAll(Arrays.asList(columnTitle));\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"JavaFX Compilation Warning - &quot;uses unchecked or unsafe operations&quot; - Raw Data Types?","body":"<p>Same issue with column sorting:</p>\n<pre><code>/* avoid warning with Arrays.asList */\n    tableView.getSortOrder().setAll(Arrays.asList(columnTitle));\n</code></pre>\n<p>Additive note, because there is no compiler hint about:\nTableCell constructions.\nFor example, if instead of a primitive type, an Object is defined in the column as FactoryValue to be able to display an image and text in a single column cell, then make sure that the Observable Object Class implements Comparable or Comparator interface and compare the object's with the corresponding method by use of getValueSafe() on values that can be null. Otherwise an exception occurs and sorting may not work correctly.</p>\n<pre><code>/* modified column cell layout for column title */\ncolumnTitle.setCellValueFactory(c -&gt; new SimpleObjectProperty&lt;AbstractNodeItem&gt;(c.getValue()));\n\n    columnTitle.setCellFactory(col -&gt; {\n        TableCell&lt;AbstractNodeItem, AbstractNodeItem&gt; cell = new TableCell&lt;&gt;();\n\n        cell.itemProperty().addListener((observableValue, oldLink, newLink) -&gt; {\n            if (newLink != null) {\n                Node graphic = newLink.getIconImageView();\n                cell.graphicProperty().bind(Bindings.when(cell.emptyProperty()).then((Node) null).otherwise(graphic));\n                cell.textProperty().bind(Bindings.when(cell.emptyProperty()).then((String) null).otherwise(newLink.propertyTitle()));\n\n                if (!cell.getStyleClass().contains(&quot;cell-title&quot;)) {\n                    cell.getStyleClass().add(&quot;cell-title&quot;);\n                }\n            }\n        });\n        return cell;\n    });\n</code></pre>\n<p>Implementation:</p>\n<pre><code>class AbstractNodeItem implements Comparable&lt;AbstractNodeItem&gt;{\n    public int compareTo(AbstractNodeItem o) {\n        return this.propertyTitle.getValueSafe().compareTo(o.propertyTitle.getValueSafe());\n    }\n</code></pre>\n<p>Now it is safe to sort the column!</p>\n<pre><code>    private void sortTableItems() {\n        switch (SortOrder.get()) {\n\n            case ID :\n                columnIndex.setSortType(TableColumn.SortType.ASCENDING);\n                tableView.getSortOrder().setAll(Arrays.asList(columnIndex));\n                break;\n            case TITLE :\n                columnTitle.setSortType(TableColumn.SortType.ASCENDING);\n                tableView.getSortOrder().setAll(Arrays.asList(columnTitle));\n                break;\n\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5030334,"reputation":1521,"user_id":4040743,"accept_rate":77,"display_name":"Pete"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1915,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":36699476,"answer_count":2,"score":3,"last_activity_date":1665062184,"creation_date":1460996166,"question_id":36699262,"body_markdown":"\r\nI am learning JavaFX, specifically trying to implement a table using the TableColumn and TableView classes. My program compiles without error, but I get an ominous-looking warning at compilation time:\r\n\r\n    C:\\JavaFX_Sandbox&gt;javac robotApp.java\r\n    Note: robotApp.java uses unchecked or unsafe operations.\r\n    Note: Recompile with -Xlint:unchecked for details.\r\n    \r\n    C:\\JavaFX_Sandbox&gt;\r\n\r\nThis sufficiently weirded me out enough that I haven&#39;t had the nerve to try actually running my program. I did some digging here on StackOverflow plus a number of other sites, and discover that the most likely cause of this warning is that I&#39;m using raw data types. But if so, I can&#39;t spot them. And if not, I&#39;m worried what this message could mean.\r\n\r\nTo describe my program as quickly as possible: I&#39;ve created a nerdy robot.java class:\r\n\r\n    public class robot{\r\n\r\n    \tprivate String name;\r\n    \tprivate int intelligence;\r\n\r\n    \tpublic robot(String a, int b){\r\n\t    \tthis.name = a;\r\n\t\t    this.intelligence = b;\r\n\t    }\r\n    }\r\n\r\nNothing fancy. To store all those robots, I created a robotMgr.java class, essentially a glorified ArrayList to hold them all:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javafx.collections.*;\r\n    \r\n    public class robotMgr{\r\n    \r\n\t    private ArrayList&lt;robot&gt; robotList;\r\n\t    private ObservableList&lt;robot&gt; oRobotList;\r\n\t\r\n    \trobotMgr(){\r\n\t    \trobotList = new ArrayList&lt;robot&gt;();\r\n\t\t    robotList.add(new robot(&quot;R2-D2&quot;, 7));\r\n\t\t    robotList.add(new robot(&quot;Cylon&quot;, 3));\r\n    \t\trobotList.add(new robot(&quot;The Terminator&quot;, 5));\r\n\t    \trobotList.add(new robot(&quot;WALL-E&quot;, 6));\r\n\t\t    populateOList();\r\n    \t}\r\n    \tpublic void populateOList(){\r\n\t    \tfor(int i=0; i&lt;robotList.size(); i++)\r\n\t\t    \toRobotList.add(robotList.get(i));\r\n\t    }\r\n\t    \r\n    \tpublic List&lt;robot&gt; getRobotList(){\r\n\t    \treturn robotList;\r\n\t    }\r\n    \tpublic ObservableList&lt;robot&gt; getORobotList(){\r\n\t\t    return oRobotList;\r\n    \t}\r\n    }\r\n\r\n(I do more data manipulation in the ArrayList, but the ObservableList is necessary because the TableColumn class expects to be fed the table elements from an ObservableList.)\r\n\r\nNow for the Main Event: A JavaFX program which takes the data above and displays it in a simple, two-column table:\r\n\r\n    import javafx.application.*;\r\n    import javafx.stage.*;\r\n    import javafx.scene.*;\r\n    import javafx.scene.layout.*;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.control.cell.*;\r\n    import javafx.event.*;\r\n    import javafx.geometry.*;\r\n    import javafx.collections.*;\r\n    \r\n    public class robotApp extends Application{\r\n\t    \r\n\t    public static void main(String[] args){\r\n\t\t    launch(args);\t\r\n\t    }\r\n    \r\n\t    TableColumn&lt;robot, String&gt; colName;\r\n\t    TableColumn&lt;robot, Integer&gt; colIntelligenge;\r\n\t    TableView&lt;robot&gt; robotTable;\r\n    \t\r\n\t    BorderPane borderPane;\r\n\t    Scene scene;\r\n\t    Stage stage;\r\n\t\r\n       @Override public void start(Stage primaryStage){\r\n\t       \r\n\t\t    robotMgr myBots = new robotMgr();\r\n\t\t    \r\n    \t\tcolName = new TableColumn&lt;robot, String&gt;(&quot;Name&quot;);\r\n\t    \tcolName.setMinWidth(100);\r\n\t\t    colName.setCellValueFactory(new PropertyValueFactory&lt;robot, String&gt;(&quot;Name&quot;));\r\n    \t\tcolIntelligenge = new TableColumn&lt;robot, Integer&gt;(&quot;Intelligence&quot;);\r\n\t    \tcolIntelligenge.setMinWidth(100);\r\n\t\t    colIntelligenge.setCellValueFactory(new PropertyValueFactory&lt;robot, Integer&gt;(&quot;Intelligence&quot;));\r\n\r\n\t\t    robotTable = new TableView&lt;robot&gt;();\r\n\t\t    robotTable.getColumns().addAll(colName, colIntelligenge);\r\n\t\t    robotTable.setItems(myBots.getORobotList());\r\n    \r\n\t\t    borderPane = new BorderPane();\r\n\t\t    borderPane.setCenter(robotTable);\r\n\t\t    scene = new Scene(borderPane, 600, 600);\r\n\t\t    stage = primaryStage;\r\n\t\t    stage.setScene(scene);\r\n\t\t    stage.setTitle(&quot;Robot App&quot;);\r\n\t\t    stage.show();\r\n\t    \t\t\t\r\n    \t}\r\n    }\r\n\r\nAll looks good to me. And everything compiles fine, except for the warning messages I mentioned above. The weird thing is, the message goes away if I comment out the &quot;robotTable.getColumns().addAll(colName, colIntelligenge);&quot; line only.\r\n\r\nSo... I&#39;m completely baffled. If the error message is warning me about using raw data types, I don&#39;t know where they are in my program. And if the error message is warning about something else, I don&#39;t know what that might be. Also: why would the addAll() method be the line that causes the warning? I can&#39;t figure that one out for the life for me.\r\n\r\nIs the issue that the robots&#39; instance variables are all private? If so, wouldn&#39;t it create a specific syntax error at compilation time?  Or is the ObservableList the problem?  In understand that OLs are interfaces, not data structures... but I don&#39;t see how this could trip me up here.\r\n\r\nIf anyone can offer some help or advice, I will be incredibly grateful.\r\n\r\nMany thanks! -RAO\r\n","title":"JavaFX Compilation Warning - &quot;uses unchecked or unsafe operations&quot; - Raw Data Types?","body":"<p>I am learning JavaFX, specifically trying to implement a table using the TableColumn and TableView classes. My program compiles without error, but I get an ominous-looking warning at compilation time:</p>\n\n<pre><code>C:\\JavaFX_Sandbox&gt;javac robotApp.java\nNote: robotApp.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\nC:\\JavaFX_Sandbox&gt;\n</code></pre>\n\n<p>This sufficiently weirded me out enough that I haven't had the nerve to try actually running my program. I did some digging here on StackOverflow plus a number of other sites, and discover that the most likely cause of this warning is that I'm using raw data types. But if so, I can't spot them. And if not, I'm worried what this message could mean.</p>\n\n<p>To describe my program as quickly as possible: I've created a nerdy robot.java class:</p>\n\n<pre><code>public class robot{\n\n    private String name;\n    private int intelligence;\n\n    public robot(String a, int b){\n        this.name = a;\n        this.intelligence = b;\n    }\n}\n</code></pre>\n\n<p>Nothing fancy. To store all those robots, I created a robotMgr.java class, essentially a glorified ArrayList to hold them all:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport javafx.collections.*;\n\npublic class robotMgr{\n\n    private ArrayList&lt;robot&gt; robotList;\n    private ObservableList&lt;robot&gt; oRobotList;\n\n    robotMgr(){\n        robotList = new ArrayList&lt;robot&gt;();\n        robotList.add(new robot(\"R2-D2\", 7));\n        robotList.add(new robot(\"Cylon\", 3));\n        robotList.add(new robot(\"The Terminator\", 5));\n        robotList.add(new robot(\"WALL-E\", 6));\n        populateOList();\n    }\n    public void populateOList(){\n        for(int i=0; i&lt;robotList.size(); i++)\n            oRobotList.add(robotList.get(i));\n    }\n\n    public List&lt;robot&gt; getRobotList(){\n        return robotList;\n    }\n    public ObservableList&lt;robot&gt; getORobotList(){\n        return oRobotList;\n    }\n}\n</code></pre>\n\n<p>(I do more data manipulation in the ArrayList, but the ObservableList is necessary because the TableColumn class expects to be fed the table elements from an ObservableList.)</p>\n\n<p>Now for the Main Event: A JavaFX program which takes the data above and displays it in a simple, two-column table:</p>\n\n<pre><code>import javafx.application.*;\nimport javafx.stage.*;\nimport javafx.scene.*;\nimport javafx.scene.layout.*;\nimport javafx.scene.control.*;\nimport javafx.scene.control.cell.*;\nimport javafx.event.*;\nimport javafx.geometry.*;\nimport javafx.collections.*;\n\npublic class robotApp extends Application{\n\n    public static void main(String[] args){\n        launch(args);   \n    }\n\n    TableColumn&lt;robot, String&gt; colName;\n    TableColumn&lt;robot, Integer&gt; colIntelligenge;\n    TableView&lt;robot&gt; robotTable;\n\n    BorderPane borderPane;\n    Scene scene;\n    Stage stage;\n\n   @Override public void start(Stage primaryStage){\n\n        robotMgr myBots = new robotMgr();\n\n        colName = new TableColumn&lt;robot, String&gt;(\"Name\");\n        colName.setMinWidth(100);\n        colName.setCellValueFactory(new PropertyValueFactory&lt;robot, String&gt;(\"Name\"));\n        colIntelligenge = new TableColumn&lt;robot, Integer&gt;(\"Intelligence\");\n        colIntelligenge.setMinWidth(100);\n        colIntelligenge.setCellValueFactory(new PropertyValueFactory&lt;robot, Integer&gt;(\"Intelligence\"));\n\n        robotTable = new TableView&lt;robot&gt;();\n        robotTable.getColumns().addAll(colName, colIntelligenge);\n        robotTable.setItems(myBots.getORobotList());\n\n        borderPane = new BorderPane();\n        borderPane.setCenter(robotTable);\n        scene = new Scene(borderPane, 600, 600);\n        stage = primaryStage;\n        stage.setScene(scene);\n        stage.setTitle(\"Robot App\");\n        stage.show();\n\n    }\n}\n</code></pre>\n\n<p>All looks good to me. And everything compiles fine, except for the warning messages I mentioned above. The weird thing is, the message goes away if I comment out the \"robotTable.getColumns().addAll(colName, colIntelligenge);\" line only.</p>\n\n<p>So... I'm completely baffled. If the error message is warning me about using raw data types, I don't know where they are in my program. And if the error message is warning about something else, I don't know what that might be. Also: why would the addAll() method be the line that causes the warning? I can't figure that one out for the life for me.</p>\n\n<p>Is the issue that the robots' instance variables are all private? If so, wouldn't it create a specific syntax error at compilation time?  Or is the ObservableList the problem?  In understand that OLs are interfaces, not data structures... but I don't see how this could trip me up here.</p>\n\n<p>If anyone can offer some help or advice, I will be incredibly grateful.</p>\n\n<p>Many thanks! -RAO</p>\n"},{"tags":["java","android","kotlin","in-app-purchase","play-billing-library"],"comments":[{"owner":{"account_id":11030035,"reputation":1372,"user_id":8101634,"display_name":"primo"},"score":0,"creation_date":1665057515,"post_id":73972698,"comment_id":130612899,"body_markdown":"after the purchase from google billing library, you get a purchase token. For that you have to acknowledge your purchase.","body":"after the purchase from google billing library, you get a purchase token. For that you have to acknowledge your purchase."},{"owner":{"account_id":11030035,"reputation":1372,"user_id":8101634,"display_name":"primo"},"score":0,"creation_date":1665057607,"post_id":73972698,"comment_id":130612937,"body_markdown":"refer my answer here https://stackoverflow.com/a/73795479/8101634","body":"refer my answer here <a href=\"https://stackoverflow.com/a/73795479/8101634\">stackoverflow.com/a/73795479/8101634</a>"},{"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"score":0,"creation_date":1665057735,"post_id":73972698,"comment_id":130612991,"body_markdown":"yes we get that. but how to validate that. from billing again","body":"yes we get that. but how to validate that. from billing again"},{"owner":{"account_id":11030035,"reputation":1372,"user_id":8101634,"display_name":"primo"},"score":1,"creation_date":1665057763,"post_id":73972698,"comment_id":130613002,"body_markdown":"why you have to validate that again?","body":"why you have to validate that again?"},{"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"score":0,"creation_date":1665057799,"post_id":73972698,"comment_id":130613013,"body_markdown":"to make sure that it&#39;s on second device getting it back, kind of restore without own server side","body":"to make sure that it&#39;s on second device getting it back, kind of restore without own server side"},{"owner":{"account_id":11030035,"reputation":1372,"user_id":8101634,"display_name":"primo"},"score":1,"creation_date":1665057890,"post_id":73972698,"comment_id":130613045,"body_markdown":"acknowledge your purchases. Google provides the way to acknowledge purchase","body":"acknowledge your purchases. Google provides the way to acknowledge purchase"},{"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"score":0,"creation_date":1665058023,"post_id":73972698,"comment_id":130613096,"body_markdown":"how can i acknowledge in google billing version 5","body":"how can i acknowledge in google billing version 5"}],"answers":[{"comments":[{"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"score":0,"creation_date":1665141702,"post_id":73973631,"comment_id":130635763,"body_markdown":"Can we do it after several days to acknowledge the purchase from the product token?","body":"Can we do it after several days to acknowledge the purchase from the product token?"},{"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"score":0,"creation_date":1665142870,"post_id":73973631,"comment_id":130636169,"body_markdown":"and one more thing does the above method tell us about the valid purchase against the token or does it just save that token itself assuming its purchase has been done?","body":"and one more thing does the above method tell us about the valid purchase against the token or does it just save that token itself assuming its purchase has been done?"},{"owner":{"account_id":11030035,"reputation":1372,"user_id":8101634,"display_name":"primo"},"score":0,"creation_date":1665232891,"post_id":73973631,"comment_id":130654383,"body_markdown":"if your purchase is acknowledged then it is valid","body":"if your purchase is acknowledged then it is valid"}],"tags":[],"owner":{"account_id":11030035,"reputation":1372,"user_id":8101634,"display_name":"primo"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665061444,"creation_date":1665058521,"answer_id":73973631,"question_id":73972698,"body_markdown":"After you have purchased using google play billing library, you will get the purchase token in `PurchasesUpdateListener` .\r\n\r\nAfter this you can acknowledge your purchases using `AcknowledgePurchaseParams`. You have to set the purchase token in this.\r\n\r\n    val acknowledgePurchaseParams = AcknowledgePurchaseParams.newBuilder()\r\n                            .setPurchaseToken(purchase.purchaseToken)\r\n    val ackPurchaseResult =\r\n                         billingClient.acknowledgePurchase(acknowledgePurchaseParams.build())\r\n\r\n\r\n\r\nFor more info refer this [link][1]\r\n\r\n\r\n  [1]: https://developer.android.com/google/play/billing/integrate#process","title":"Google in app purchase version 5 purchase verification issue","body":"<p>After you have purchased using google play billing library, you will get the purchase token in <code>PurchasesUpdateListener</code> .</p>\n<p>After this you can acknowledge your purchases using <code>AcknowledgePurchaseParams</code>. You have to set the purchase token in this.</p>\n<pre><code>val acknowledgePurchaseParams = AcknowledgePurchaseParams.newBuilder()\n                        .setPurchaseToken(purchase.purchaseToken)\nval ackPurchaseResult =\n                     billingClient.acknowledgePurchase(acknowledgePurchaseParams.build())\n</code></pre>\n<p>For more info refer this <a href=\"https://developer.android.com/google/play/billing/integrate#process\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":19405192,"reputation":855,"user_id":14190819,"display_name":"Ammar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73973631,"answer_count":1,"score":0,"last_activity_date":1665061444,"creation_date":1665053951,"question_id":73972698,"body_markdown":"I&#39;m unable to verify the purchase or particular item after being purchased from the google play billing version.\r\n\r\nIs there any way to get the verification of the item purchase from email, or from the token after the item is purchased? \r\n\r\nhope this exists in google play, if not than what we can do?\r\n\r\nNote: I&#39;m using version 5.0.0","title":"Google in app purchase version 5 purchase verification issue","body":"<p>I'm unable to verify the purchase or particular item after being purchased from the google play billing version.</p>\n<p>Is there any way to get the verification of the item purchase from email, or from the token after the item is purchased?</p>\n<p>hope this exists in google play, if not than what we can do?</p>\n<p>Note: I'm using version 5.0.0</p>\n"},{"tags":["java","multithreading","kotlin","kotlin-coroutines"],"answers":[{"comments":[{"owner":{"account_id":16231683,"reputation":144,"user_id":11720290,"display_name":"Bananasmoothii"},"score":0,"creation_date":1665067927,"post_id":73974282,"comment_id":130617196,"body_markdown":"Thanks ! Could you explain how SupervisorJob is useful and what happens when it is not used, please ?","body":"Thanks ! Could you explain how SupervisorJob is useful and what happens when it is not used, please ?"},{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1665070421,"post_id":73974282,"comment_id":130618251,"body_markdown":"Without SupervisorJob, if any of the jobs launched with the scope fail, the rest of them are canceled and it can never launch another job again. There are potentially cases where that would be the behavior you might want though. I haven&#39;t personally ever had any though.","body":"Without SupervisorJob, if any of the jobs launched with the scope fail, the rest of them are canceled and it can never launch another job again. There are potentially cases where that would be the behavior you might want though. I haven&#39;t personally ever had any though."}],"tags":[],"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665061342,"creation_date":1665061342,"answer_id":73974282,"question_id":73973632,"body_markdown":"If you truly want to fire and forget, such that the coroutine will not be cancelled under any circumstance, GlobalScope is the right way to do it. The need to truly fire and forget is rare enough in practice that Kotlin gives you a warning about a &quot;fragile API&quot; if you use it, I think because so many newbies were using it for everything. This was especially a problem on Android (where Kotlin is primarily used), where long running tasks that should run even off-screen should be handled in services instead of coroutines.\r\n\r\nBut, referring to your example, if `inventory` is something that could become obsolete and you want to free it to the GC at some point, you should use your own created CoroutineScope that you store in a property, so you can cancel it to clear any running coroutines and prevent them from hanging onto references that should be freed for the GC. If the scope might be used for more than one coroutine, then you should give it a `SupervisorJob()`.\r\n\r\n```\r\nprivate val coroutineScope = CoroutineScope(SupervisorJob())\r\n\r\nfun onEndOfLifecycle() { // some function called when cleaning up memory \r\n    coroutineScope.cancel()\r\n}\r\n```","title":"How to &quot;fire and forget&quot; with kotlin coroutines in a blocking event?","body":"<p>If you truly want to fire and forget, such that the coroutine will not be cancelled under any circumstance, GlobalScope is the right way to do it. The need to truly fire and forget is rare enough in practice that Kotlin gives you a warning about a &quot;fragile API&quot; if you use it, I think because so many newbies were using it for everything. This was especially a problem on Android (where Kotlin is primarily used), where long running tasks that should run even off-screen should be handled in services instead of coroutines.</p>\n<p>But, referring to your example, if <code>inventory</code> is something that could become obsolete and you want to free it to the GC at some point, you should use your own created CoroutineScope that you store in a property, so you can cancel it to clear any running coroutines and prevent them from hanging onto references that should be freed for the GC. If the scope might be used for more than one coroutine, then you should give it a <code>SupervisorJob()</code>.</p>\n<pre><code>private val coroutineScope = CoroutineScope(SupervisorJob())\n\nfun onEndOfLifecycle() { // some function called when cleaning up memory \n    coroutineScope.cancel()\n}\n</code></pre>\n"}],"owner":{"account_id":16231683,"reputation":144,"user_id":11720290,"display_name":"Bananasmoothii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73974282,"answer_count":1,"score":0,"last_activity_date":1665061342,"creation_date":1665058524,"question_id":73973632,"body_markdown":"I am making something similar to minecraft plugin, but the API is all in Java.\r\n\r\nAt some point, there are events. Every event is fired sequentially, and the API will wait until an event finishes before calling the event listener for the next event. These events are called from the main thread, this means that nothing else is running while your event listener code is being run, and the application will crash eventually if you are blocking the main thread for too long.\r\n\r\nBasically, I want that when a player is opening an inventory, some first content is sent directly, and some second content is retrieved from a database. In Java, you, would do something like this:\r\n```java\r\nprivate static final List&lt;Item&gt; firstContent = ...;\r\n\r\npublic static void onInventoryOpenEvent(Inventory inventory) {\r\n    inventory.addItems(firstContent);\r\n    forkJoinPool.submit(() -&gt; { // &quot;fire and forget&quot;\r\n        List&lt;Item&gt; secondContent = retrieveContentFromDB(); // long and blocking\r\n        inventory.addItems(secondContent);\r\n    });\r\n}\r\n```\r\nAnd in kotlin, some would say to use the `GlobalScope`, others would say to not use it, but for now I don&#39;t see any other way than using it like this:\r\n```kotlin\r\nfun onInventoryOpenEvent(inventory: Inventory) { // not a suspending function\r\n    inventory.addItems(firstContent)\r\n    GlobalScope.launch {\r\n        val secondContent = retrieveContentFromDB() // long and blocking\r\n        inventory.addItems(secondContent)\r\n    }\r\n}\r\n```","title":"How to &quot;fire and forget&quot; with kotlin coroutines in a blocking event?","body":"<p>I am making something similar to minecraft plugin, but the API is all in Java.</p>\n<p>At some point, there are events. Every event is fired sequentially, and the API will wait until an event finishes before calling the event listener for the next event. These events are called from the main thread, this means that nothing else is running while your event listener code is being run, and the application will crash eventually if you are blocking the main thread for too long.</p>\n<p>Basically, I want that when a player is opening an inventory, some first content is sent directly, and some second content is retrieved from a database. In Java, you, would do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final List&lt;Item&gt; firstContent = ...;\n\npublic static void onInventoryOpenEvent(Inventory inventory) {\n    inventory.addItems(firstContent);\n    forkJoinPool.submit(() -&gt; { // &quot;fire and forget&quot;\n        List&lt;Item&gt; secondContent = retrieveContentFromDB(); // long and blocking\n        inventory.addItems(secondContent);\n    });\n}\n</code></pre>\n<p>And in kotlin, some would say to use the <code>GlobalScope</code>, others would say to not use it, but for now I don't see any other way than using it like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun onInventoryOpenEvent(inventory: Inventory) { // not a suspending function\n    inventory.addItems(firstContent)\n    GlobalScope.launch {\n        val secondContent = retrieveContentFromDB() // long and blocking\n        inventory.addItems(secondContent)\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","windows-11"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1665052469,"post_id":73972362,"comment_id":130611126,"body_markdown":"can you show the result of `echo $JAVA_HOME`? Have you restarted the cmd after set the variables?","body":"can you show the result of <code>echo $JAVA_HOME</code>? Have you restarted the cmd after set the variables?"},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1665052591,"post_id":73972362,"comment_id":130611183,"body_markdown":"Try in &quot;CMD&quot; or Git bash instead of &quot;Power Shell&quot;","body":"Try in &quot;CMD&quot; or Git bash instead of &quot;Power Shell&quot;"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665052635,"post_id":73972362,"comment_id":130611197,"body_markdown":"@Tristan Why it should work properbly in the windows cmd?","body":"@Tristan Why it should work properbly in the windows cmd?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665052776,"post_id":73972362,"comment_id":130611244,"body_markdown":"Please add all the outputs as text not as images","body":"Please add all the outputs as text not as images"},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1665052779,"post_id":73972362,"comment_id":130611245,"body_markdown":"Why what .....?","body":"Why what .....?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1665052998,"post_id":73972362,"comment_id":130611327,"body_markdown":"@Tristan Why should OP change from PS? It should work there in the same way","body":"@Tristan Why should OP change from PS? It should work there in the same way"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":5,"creation_date":1665053131,"post_id":73972362,"comment_id":130611367,"body_markdown":"That looks odd. JAVA_HOME points to v16, while running `java` on the command line shows v19.","body":"That looks odd. JAVA_HOME points to v16, while running <code>java</code> on the command line shows v19."},{"owner":{"account_id":339155,"reputation":8863,"user_id":668455,"accept_rate":80,"display_name":"Tristan"},"score":0,"creation_date":1665053313,"post_id":73972362,"comment_id":130611429,"body_markdown":"To see if he gets alternative results. Do u think &quot;echo $JAVA_HOME&quot; works in CMD ?","body":"To see if he gets alternative results. Do u think &quot;echo $JAVA_HOME&quot; works in CMD ?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1665054218,"post_id":73972362,"comment_id":130611734,"body_markdown":"use `echo $env:JAVA_HOME` in powershell or `echo %JAVA_HOME%` in CMD and see if that matches your settings. I suspect the variable points to an invalid path, does that folder exist? Also whenever you change these variables, you need a new cmd/powershell instance, otherwise you won&#39;t see the changes.","body":"use <code>echo $env:JAVA_HOME</code> in powershell or <code>echo %JAVA_HOME%</code> in CMD and see if that matches your settings. I suspect the variable points to an invalid path, does that folder exist? Also whenever you change these variables, you need a new cmd/powershell instance, otherwise you won&#39;t see the changes."}],"answers":[{"tags":[],"owner":{"account_id":13797456,"reputation":24,"user_id":9958300,"display_name":"Igor Bittencourt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665061099,"creation_date":1665061099,"answer_id":73974243,"question_id":73972362,"body_markdown":"The error happened because of the java version, it updated to version 19 and I didn&#39;t update the system variables","title":"Installing Maven on Windows 11 does not work","body":"<p>The error happened because of the java version, it updated to version 19 and I didn't update the system variables</p>\n"}],"owner":{"account_id":13797456,"reputation":24,"user_id":9958300,"display_name":"Igor Bittencourt"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1229,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73974243,"answer_count":1,"score":0,"last_activity_date":1665061099,"creation_date":1665052295,"question_id":73972362,"body_markdown":"I can&#39;t use maven on windows 11\r\n\r\n[![I can&#39;t use maven on windows 11][1]][1]\r\n\r\n\r\n\r\nSystem Variables\r\n\r\n[![System Variables][2]][2]\r\n\r\nPATH\r\n\r\n[![enter image description here][3]][3]\r\n\r\njava commands work perfectly\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zwpmo.png\r\n  [2]: https://i.stack.imgur.com/ndnrP.png\r\n  [3]: https://i.stack.imgur.com/juHkG.png\r\n  [4]: https://i.stack.imgur.com/z8hXR.png","title":"Installing Maven on Windows 11 does not work","body":"<p>I can't use maven on windows 11</p>\n<p><a href=\"https://i.stack.imgur.com/zwpmo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zwpmo.png\" alt=\"I can't use maven on windows 11\" /></a></p>\n<p>System Variables</p>\n<p><a href=\"https://i.stack.imgur.com/ndnrP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ndnrP.png\" alt=\"System Variables\" /></a></p>\n<p>PATH</p>\n<p><a href=\"https://i.stack.imgur.com/juHkG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/juHkG.png\" alt=\"enter image description here\" /></a></p>\n<p>java commands work perfectly\n<a href=\"https://i.stack.imgur.com/z8hXR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z8hXR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","amazon-dynamodb","dynamodb-queries"],"owner":{"account_id":26216671,"reputation":21,"user_id":19894717,"display_name":"alice menon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665060830,"creation_date":1665060830,"question_id":73974168,"body_markdown":"I am able to retrieve data from dynamoDB using this code, but how to get data when some sort of condition is needed?\r\n\r\nFor Example: [IMG][1] , Here I want to filter query using &#39;CONTAINS&#39; condition, How to fetch data in this case?\r\n```\r\n\r\n@Repository\r\npublic class DynamoDBRepo {\r\n\r\n    @Resource(name = &quot;dynamoDBMapper&quot;)\r\n    DynamoDBMapper dbMapper;\r\n\r\n    public List&lt;ApiData&gt; getDetails() {\r\n\r\n        List&lt;ApiData&gt; listing = new ArrayList&lt;&gt;();\r\n        QueryResultPage&lt;ApiData&gt; itemList;\r\n\r\n\r\n        Map&lt;String,String&gt; expAttributeName = new HashMap&lt;&gt;();\r\n        expAttributeName.put(&quot;#Id&quot;,&quot;Id&quot;);\r\n        Map&lt;String, AttributeValue&gt; expAttributeValue = new HashMap&lt;&gt;();\r\n        expAttributeValue.put(&quot;:Id&quot;,new AttributeValue().withS(&quot;Api_V3&quot;));\r\n\r\n\r\n        DynamoDBQueryExpression&lt;LaunchApiData&gt; retrieveQuery = new DynamoDBQueryExpression&lt;ApiData&gt;()\r\n                .withKeyConditionExpression(&quot;#Id=:Id&quot;)\r\n                .withExpressionAttributeNames(expAttributeName)\r\n                .withExpressionAttributeValues(expAttributeValue)\r\n                .withScanIndexForward(false);\r\n\r\n        try {\r\n            itemList = dbMapper.queryPage(ApiData.class, retrieveQuery);\r\n            listing = itemList.getResults();\r\n        }\r\n        catch (ResourceArnNotFoundException e) {\r\n            throw e;\r\n        }\r\n        catch (HttpServerErrorException e) {\r\n            throw e;\r\n        }\r\n        catch (Exception e) {\r\n            throw e;\r\n        }\r\n        return listing;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZtnWW.png","title":"DynamoDB query filter with condition","body":"<p>I am able to retrieve data from dynamoDB using this code, but how to get data when some sort of condition is needed?</p>\n<p>For Example: <a href=\"https://i.stack.imgur.com/ZtnWW.png\" rel=\"nofollow noreferrer\">IMG</a> , Here I want to filter query using 'CONTAINS' condition, How to fetch data in this case?</p>\n<pre><code>\n@Repository\npublic class DynamoDBRepo {\n\n    @Resource(name = &quot;dynamoDBMapper&quot;)\n    DynamoDBMapper dbMapper;\n\n    public List&lt;ApiData&gt; getDetails() {\n\n        List&lt;ApiData&gt; listing = new ArrayList&lt;&gt;();\n        QueryResultPage&lt;ApiData&gt; itemList;\n\n\n        Map&lt;String,String&gt; expAttributeName = new HashMap&lt;&gt;();\n        expAttributeName.put(&quot;#Id&quot;,&quot;Id&quot;);\n        Map&lt;String, AttributeValue&gt; expAttributeValue = new HashMap&lt;&gt;();\n        expAttributeValue.put(&quot;:Id&quot;,new AttributeValue().withS(&quot;Api_V3&quot;));\n\n\n        DynamoDBQueryExpression&lt;LaunchApiData&gt; retrieveQuery = new DynamoDBQueryExpression&lt;ApiData&gt;()\n                .withKeyConditionExpression(&quot;#Id=:Id&quot;)\n                .withExpressionAttributeNames(expAttributeName)\n                .withExpressionAttributeValues(expAttributeValue)\n                .withScanIndexForward(false);\n\n        try {\n            itemList = dbMapper.queryPage(ApiData.class, retrieveQuery);\n            listing = itemList.getResults();\n        }\n        catch (ResourceArnNotFoundException e) {\n            throw e;\n        }\n        catch (HttpServerErrorException e) {\n            throw e;\n        }\n        catch (Exception e) {\n            throw e;\n        }\n        return listing;\n    }\n}\n</code></pre>\n"},{"tags":["java","mongodb","mongodb-query"],"answers":[{"comments":[{"owner":{"account_id":422670,"reputation":79,"user_id":801573,"display_name":"ajay vasudevan"},"score":0,"creation_date":1665051840,"post_id":73972143,"comment_id":130610876,"body_markdown":"Get error ```unrecognized update options field: new```","body":"Get error <code>unrecognized update options field: new</code>"},{"owner":{"account_id":25813925,"reputation":312,"user_id":19554161,"display_name":"Vivek Rahul"},"score":0,"creation_date":1665052247,"post_id":73972143,"comment_id":130611057,"body_markdown":"remove `new: true`. only pass `upsert: true` as 3rd parameter","body":"remove <code>new: true</code>. only pass <code>upsert: true</code> as 3rd parameter"},{"owner":{"account_id":422670,"reputation":79,"user_id":801573,"display_name":"ajay vasudevan"},"score":0,"creation_date":1665056555,"post_id":73972143,"comment_id":130612562,"body_markdown":"Changed 3rd parameter to ```{upsert: true}``` . Only inserts OR updates document _id = 2. document _id = 1 is neither inserted nor updated. Please help","body":"Changed 3rd parameter to <code>{upsert: true}</code> . Only inserts OR updates document _id = 2. document _id = 1 is neither inserted nor updated. Please help"},{"owner":{"account_id":25813925,"reputation":312,"user_id":19554161,"display_name":"Vivek Rahul"},"score":0,"creation_date":1665056902,"post_id":73972143,"comment_id":130612678,"body_markdown":"Kindly go through this [link](https://www.mongodb.com/docs/manual/reference/method/db.collection.updateMany/)","body":"Kindly go through this <a href=\"https://www.mongodb.com/docs/manual/reference/method/db.collection.updateMany/\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":422670,"reputation":79,"user_id":801573,"display_name":"ajay vasudevan"},"score":0,"creation_date":1665057896,"post_id":73972143,"comment_id":130613047,"body_markdown":"Sorry, I went through the link, but couldn&#39;t make the query work.","body":"Sorry, I went through the link, but couldn&#39;t make the query work."},{"owner":{"account_id":25813925,"reputation":312,"user_id":19554161,"display_name":"Vivek Rahul"},"score":0,"creation_date":1665058488,"post_id":73972143,"comment_id":130613270,"body_markdown":"I guess you have to pass `{multi:true, upsert: true}`.","body":"I guess you have to pass <code>{multi:true, upsert: true}</code>."}],"tags":[],"owner":{"account_id":25813925,"reputation":312,"user_id":19554161,"display_name":"Vivek Rahul"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665051257,"creation_date":1665051257,"answer_id":73972143,"question_id":73972083,"body_markdown":"Instead of `true` in the 3rd parameter, you have to pass `{new: true, upsert: true}`.\r\n","title":"Upsert many documents based on _id","body":"<p>Instead of <code>true</code> in the 3rd parameter, you have to pass <code>{new: true, upsert: true}</code>.</p>\n"},{"tags":[],"owner":{"account_id":20092469,"reputation":12133,"user_id":14732669,"display_name":"ray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665060359,"creation_date":1665060359,"answer_id":73974041,"question_id":73972083,"body_markdown":"`$merge` seems to be a better option for upsert operation. You can store the records you want to upsert in another collection, says `to_be_inserted` and perform `$merge` in the aggregation pipeline.\r\n\r\n```js\r\ndb.to_be_upserted.aggregate([\r\n  {\r\n    &quot;$merge&quot;: {\r\n      &quot;into&quot;: &quot;my_collection&quot;,\r\n      &quot;on&quot;: &quot;_id&quot;,\r\n      &quot;whenMatched&quot;: &quot;merge&quot;,\r\n      &quot;whenNotMatched&quot;: &quot;insert&quot;\r\n    }\r\n  }\r\n])\r\n```\r\n\r\nHere is the [Mongo Playground](https://mongoplayground.net/p/rljnWbDvyUC) for your reference.","title":"Upsert many documents based on _id","body":"<p><code>$merge</code> seems to be a better option for upsert operation. You can store the records you want to upsert in another collection, says <code>to_be_inserted</code> and perform <code>$merge</code> in the aggregation pipeline.</p>\n<pre class=\"lang-js prettyprint-override\"><code>db.to_be_upserted.aggregate([\n  {\n    &quot;$merge&quot;: {\n      &quot;into&quot;: &quot;my_collection&quot;,\n      &quot;on&quot;: &quot;_id&quot;,\n      &quot;whenMatched&quot;: &quot;merge&quot;,\n      &quot;whenNotMatched&quot;: &quot;insert&quot;\n    }\n  }\n])\n</code></pre>\n<p>Here is the <a href=\"https://mongoplayground.net/p/rljnWbDvyUC\" rel=\"nofollow noreferrer\">Mongo Playground</a> for your reference.</p>\n"}],"owner":{"account_id":422670,"reputation":79,"user_id":801573,"display_name":"ajay vasudevan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665060359,"creation_date":1665051025,"question_id":73972083,"body_markdown":"I need to **upsert** many documents based on **_id**.\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nE.g.\r\n&lt;br&gt;\r\ndocument_1 = ```{_id:&quot;1&quot;, &quot;age&quot;:11, &quot;name&quot;:&quot;name1&quot;}```\r\n&lt;br&gt;\r\ndocument_2 = ```{_id:&quot;2&quot;, &quot;age&quot;:22, &quot;name&quot;:&quot;name2&quot;}```\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nI wrote the below\r\n```\r\ndb.my_collection.updateMany(\r\n    { _id: {&quot;$in&quot;:[&quot;1&quot;,&quot;2&quot;] } },\r\n    [\r\n        {$set: {_id:&quot;1&quot;, &quot;age&quot;:11, &quot;name&quot;:&quot;name1&quot;}},\r\n        {$set: {_id:&quot;2&quot;, &quot;age&quot;:22, &quot;name&quot;:&quot;name2&quot;}}\r\n    ],\r\n    true\r\n    )\r\n```\r\nBut no rows gets updated or inserted. Where have I gone wrong?\r\n","title":"Upsert many documents based on _id","body":"<p>I need to <strong>upsert</strong> many documents based on <strong>_id</strong>.\n<br>\n<br>\nE.g.\n<br>\ndocument_1 = <code>{_id:&quot;1&quot;, &quot;age&quot;:11, &quot;name&quot;:&quot;name1&quot;}</code>\n<br>\ndocument_2 = <code>{_id:&quot;2&quot;, &quot;age&quot;:22, &quot;name&quot;:&quot;name2&quot;}</code>\n<br>\n<br>\nI wrote the below</p>\n<pre><code>db.my_collection.updateMany(\n    { _id: {&quot;$in&quot;:[&quot;1&quot;,&quot;2&quot;] } },\n    [\n        {$set: {_id:&quot;1&quot;, &quot;age&quot;:11, &quot;name&quot;:&quot;name1&quot;}},\n        {$set: {_id:&quot;2&quot;, &quot;age&quot;:22, &quot;name&quot;:&quot;name2&quot;}}\n    ],\n    true\n    )\n</code></pre>\n<p>But no rows gets updated or inserted. Where have I gone wrong?</p>\n"},{"tags":["java","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1665052214,"post_id":73972298,"comment_id":130611040,"body_markdown":"`id` != `ID`... `id` translates to `Id` not `ID`.","body":"<code>id</code> != <code>ID</code>... <code>id</code> translates to <code>Id</code> not <code>ID</code>."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1665052637,"post_id":73972298,"comment_id":130611199,"body_markdown":"@M.Deinum I edited my post to add database table. Where should I change the code?","body":"@M.Deinum I edited my post to add database table. Where should I change the code?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1665053059,"post_id":73972298,"comment_id":130611345,"body_markdown":"YOu need to map the properties of your entity **not** the names of your database table.","body":"YOu need to map the properties of your entity <b>not</b> the names of your database table."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1665053371,"post_id":73972298,"comment_id":130611454,"body_markdown":"@M.Deinum You mean you should return the object from processor after mapping.","body":"@M.Deinum You mean you should return the object from processor after mapping."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1665059709,"post_id":73972298,"comment_id":130613770,"body_markdown":"No... You are mapping the names of the columns in your CVS configuration, you should map the names of the properties. So `id` instead of `ID` and `lastName` instead of `LAST_NAME` etc.","body":"No... You are mapping the names of the columns in your CVS configuration, you should map the names of the properties. So <code>id</code> instead of <code>ID</code> and <code>lastName</code> instead of <code>LAST_NAME</code> etc."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1665063374,"post_id":73972298,"comment_id":130615284,"body_markdown":"@M.Deinum I shared an answer. Is it right? I couldn&#39;t write the column titles and sort all values by id.","body":"@M.Deinum I shared an answer. Is it right? I couldn&#39;t write the column titles and sort all values by id."}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665060344,"creation_date":1665060344,"answer_id":73974036,"question_id":73972298,"body_markdown":"Here is the answer shown below.\r\n\r\nAfter I changed column names as lowercase, the issue disappeared.\r\n\r\n    @Bean\r\n        public FlatFileItemWriter&lt;User&gt; writer() {\r\n    \r\n            FlatFileItemWriter&lt;User&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n    \r\n            writer.setResource(outputResource);\r\n            writer.setAppendAllowed(true);\r\n    \r\n            writer.setLineAggregator(new DelimitedLineAggregator&lt;User&gt;() {\r\n                {\r\n                    setDelimiter(&quot;,&quot;);\r\n                    setFieldExtractor(new BeanWrapperFieldExtractor&lt;User&gt;() {\r\n                        {\r\n                            setNames(new String[]{&quot;id&quot;, &quot;age&quot;, &quot;birthday&quot;, &quot;country&quot;, &quot;email&quot;, &quot;firstName&quot;, &quot;gender&quot;, &quot;lastName&quot;, &quot;personId&quot;});\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n    \r\n            return writer;\r\n        }","title":"Spring Boot Batch DB to CSV Invalid property &#39;ID&#39; of bean class Bean property &#39;ID&#39; is not readable or has an invalid getter method","body":"<p>Here is the answer shown below.</p>\n<p>After I changed column names as lowercase, the issue disappeared.</p>\n<pre><code>@Bean\n    public FlatFileItemWriter&lt;User&gt; writer() {\n\n        FlatFileItemWriter&lt;User&gt; writer = new FlatFileItemWriter&lt;&gt;();\n\n        writer.setResource(outputResource);\n        writer.setAppendAllowed(true);\n\n        writer.setLineAggregator(new DelimitedLineAggregator&lt;User&gt;() {\n            {\n                setDelimiter(&quot;,&quot;);\n                setFieldExtractor(new BeanWrapperFieldExtractor&lt;User&gt;() {\n                    {\n                        setNames(new String[]{&quot;id&quot;, &quot;age&quot;, &quot;birthday&quot;, &quot;country&quot;, &quot;email&quot;, &quot;firstName&quot;, &quot;gender&quot;, &quot;lastName&quot;, &quot;personId&quot;});\n                    }\n                });\n            }\n        });\n\n        return writer;\n    }\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73974036,"answer_count":1,"score":0,"last_activity_date":1665060344,"creation_date":1665051998,"question_id":73972298,"body_markdown":"I tried to implement an example of Spring Batch processing. \r\nWhen I send a request, Normally all values from database is loaded to the csv file but I got this error shown below. \r\n\r\n    org.springframework.beans.NotReadablePropertyException: Invalid property &#39;ID&#39; of bean class [com.example.springbatchprocessdbtocsv.model.User]: Bean property &#39;ID&#39; is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\r\n\r\nAs There is a problem in data.sql, I inserted all values manually.\r\n\r\nHere is the User class\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;USERS&quot;)\r\n    @Builder\r\n    public class User extends BaseEntity{\r\n    \r\n        @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\r\n        private UUID personId;\r\n    \r\n        private String firstName;\r\n        private String lastName;\r\n        private String email;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        private Gender gender;\r\n    \r\n        private String country;\r\n    \r\n        @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n        private LocalDate birthday;\r\n    \r\n        private int age;\r\n    }\r\n\r\nHere is the enum of Gender?\r\n\r\n    public enum Gender {\r\n        MALE,\r\n        FEMALE\r\n    }\r\n\r\nHere is the BaseEntity class?\r\n\r\n    @MappedSuperclass\r\n    @Getter\r\n    public class BaseEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    }\r\n\r\nHere is the script of creating database.\r\n\r\n    CREATE TABLE USERS (\r\n        &quot;ID&quot; BIGINT auto_increment NOT NULL PRIMARY KEY,\r\n        &quot;AGE&quot; INTEGER NOT NULL,\r\n        &quot;BIRTHDAY&quot; DATE,\r\n        &quot;COUNTRY&quot; CHARACTER VARYING(255),\r\n        &quot;EMAIL&quot; CHARACTER VARYING(255),\r\n        &quot;FIRST_NAME&quot; CHARACTER VARYING(255),\r\n        &quot;GENDER&quot; CHARACTER VARYING(255),\r\n        &quot;LAST_NAME&quot; CHARACTER VARYING(255),\r\n        &quot;PERSON_ID&quot; CHARACTER VARYING(255)\r\n    );\r\n\r\nHere is the UserProcessor shown below\r\n\r\n    public class UserProcessor implements ItemProcessor&lt;User, User&gt; {\r\n    \r\n        @Override\r\n        public User process(User user) throws Exception {\r\n            //return user;\r\n\r\n            // I also tried it but nothing changed.\r\n            User user = User.builder()\r\n                .personId(from.getPersonId())\r\n                .firstName(from.getFirstName())\r\n                .lastName(from.getLastName())\r\n                .email(from.getEmail())\r\n                .country(from.getCountry())\r\n                .birthday(from.getBirthday())\r\n                .gender(from.getGender().equals(&quot;Male&quot;) ? Gender.MALE : Gender.FEMALE)\r\n                .age(from.getAge())\r\n                .build();\r\n\r\n        return user;\r\n        }\r\n    }\r\n\r\nHow can I fix the issue?\r\n\r\nHere is the example link : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/SpringBatchProcessDbToCsv","title":"Spring Boot Batch DB to CSV Invalid property &#39;ID&#39; of bean class Bean property &#39;ID&#39; is not readable or has an invalid getter method","body":"<p>I tried to implement an example of Spring Batch processing.\nWhen I send a request, Normally all values from database is loaded to the csv file but I got this error shown below.</p>\n<pre><code>org.springframework.beans.NotReadablePropertyException: Invalid property 'ID' of bean class [com.example.springbatchprocessdbtocsv.model.User]: Bean property 'ID' is not readable or has an invalid getter method: Does the return type of the getter match the parameter type of the setter?\n</code></pre>\n<p>As There is a problem in data.sql, I inserted all values manually.</p>\n<p>Here is the User class</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;USERS&quot;)\n@Builder\npublic class User extends BaseEntity{\n\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\n    private UUID personId;\n\n    private String firstName;\n    private String lastName;\n    private String email;\n\n    @Enumerated(EnumType.STRING)\n    private Gender gender;\n\n    private String country;\n\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\n    private LocalDate birthday;\n\n    private int age;\n}\n</code></pre>\n<p>Here is the enum of Gender?</p>\n<pre><code>public enum Gender {\n    MALE,\n    FEMALE\n}\n</code></pre>\n<p>Here is the BaseEntity class?</p>\n<pre><code>@MappedSuperclass\n@Getter\npublic class BaseEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n}\n</code></pre>\n<p>Here is the script of creating database.</p>\n<pre><code>CREATE TABLE USERS (\n    &quot;ID&quot; BIGINT auto_increment NOT NULL PRIMARY KEY,\n    &quot;AGE&quot; INTEGER NOT NULL,\n    &quot;BIRTHDAY&quot; DATE,\n    &quot;COUNTRY&quot; CHARACTER VARYING(255),\n    &quot;EMAIL&quot; CHARACTER VARYING(255),\n    &quot;FIRST_NAME&quot; CHARACTER VARYING(255),\n    &quot;GENDER&quot; CHARACTER VARYING(255),\n    &quot;LAST_NAME&quot; CHARACTER VARYING(255),\n    &quot;PERSON_ID&quot; CHARACTER VARYING(255)\n);\n</code></pre>\n<p>Here is the UserProcessor shown below</p>\n<pre><code>public class UserProcessor implements ItemProcessor&lt;User, User&gt; {\n\n    @Override\n    public User process(User user) throws Exception {\n        //return user;\n\n        // I also tried it but nothing changed.\n        User user = User.builder()\n            .personId(from.getPersonId())\n            .firstName(from.getFirstName())\n            .lastName(from.getLastName())\n            .email(from.getEmail())\n            .country(from.getCountry())\n            .birthday(from.getBirthday())\n            .gender(from.getGender().equals(&quot;Male&quot;) ? Gender.MALE : Gender.FEMALE)\n            .age(from.getAge())\n            .build();\n\n    return user;\n    }\n}\n</code></pre>\n<p>How can I fix the issue?</p>\n<p>Here is the example link : <a href=\"https://github.com/Rapter1990/SpringBatchProcessDbToCsv\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","ibm-mq"],"comments":[{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1665060156,"post_id":73973514,"comment_id":130613951,"body_markdown":"can you share connection pool configuration? also it would be that transactions are not commited thats why maybe connections are not released.\nyou can check this in thread dump that multiple connections might be waiting on something.","body":"can you share connection pool configuration? also it would be that transactions are not commited thats why maybe connections are not released. you can check this in thread dump that multiple connections might be waiting on something."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1665060575,"post_id":73973514,"comment_id":130614101,"body_markdown":"I guess you are focusing in the wrong problem. The problem is not why your &quot;tooMany&quot; class uses 16k+ File descriptors, but why your connection pool is reaching so many open connections.","body":"I guess you are focusing in the wrong problem. The problem is not why your &quot;tooMany&quot; class uses 16k+ File descriptors, but why your connection pool is reaching so many open connections."}],"owner":{"account_id":10568076,"reputation":51,"user_id":7785721,"display_name":"Anuj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665060310,"creation_date":1665058042,"question_id":73973514,"body_markdown":"\r\n```\r\nCaused by: java.sql.SQLException: Network error IOException: Too many open files\r\n        at net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:436)\r\n        at net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184)\r\n        at net.sourceforge.jtds.jdbcx.JtdsDataSource.getConnection(JtdsDataSource.java:186)\r\n        at net.sourceforge.jtds.jdbcx.JtdsDataSource.getXAConnection(JtdsDataSource.java:99)\r\n        at bitronix.tm.resource.jdbc.PoolingDataSource.createPooledConnection(PoolingDataSource.java:341)\r\n        at org.springframework.boot.jta.bitronix.PoolingDataSourceBean.createPooledConnection(PoolingDataSourceBean.java:110)\r\n        at bitronix.tm.resource.common.XAPool.createPooledObject(XAPool.java:283)\r\n        at bitronix.tm.resource.common.XAPool.grow(XAPool.java:391)\r\n        at bitronix.tm.resource.common.XAPool.getInPool(XAPool.java:371)\r\n        at bitronix.tm.resource.common.XAPool.getConnectionHandle(XAPool.java:123)\r\n        at bitronix.tm.resource.common.XAPool.getConnectionHandle(XAPool.java:91)\r\n        at bitronix.tm.resource.jdbc.PoolingDataSource.getConnection(PoolingDataSource.java:258)\r\n        ... 112 common frames omitted\r\nCaused by: java.net.SocketException: Too many open files\r\n        at java.net.Socket.createImpl(Unknown Source)\r\n        at java.net.Socket.connect(Unknown Source)\r\n        at net.sourceforge.jtds.jdbc.SharedSocket.createSocketForJDBC3(SharedSocket.java:288)\r\n        at net.sourceforge.jtds.jdbc.SharedSocket.&lt;init&gt;(SharedSocket.java:251)\r\n        at net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:331)\r\n        ... 123 common frames omitted\r\n```\r\n\r\nIn spring boot application which is running on linux we are using IBM MQ9 with MSSQL 2017\r\nUsing `com.ibm.mq.jms.MQXAQueueConnectionFactory` to connect to 4 different Qs and processing high volume of data.\r\n\r\nWe have tried increasing the soft limit and hard limit to 8192 but still we get this error around\r\n4k+ above value for command \r\n`lsof -u &lt;ouruser&gt; | grep &quot;jsk&quot;  | wc -l`\r\n\r\nAlso tried with `XX:+MaxFDLimit` but no use.\r\n\r\nI have tried almost everything that I could find for similar issues suggested in stackoverflow and the issue still persists.\r\n\r\nIf I run a simple java program like below in the same linux box , I can see this value going till 16380 and then throwing Too Many Open files exception \r\n```\r\npublic class tooMany {\r\n    public static void main(String[] args) throws  IOException {\r\n\r\n        System.out.println(&quot;Trying to reproduce&quot;);\r\n        try {\r\n            for (int x = 0; x &lt; 1000000; x++) {\r\n                System.out.println(&quot;Opening the file&quot;);\r\n                FileInputStream leakyHandle = new FileInputStream(&quot;some file to read&quot;);\r\n                System.out.println(&quot;file is opened&quot;);\r\n            }\r\n            System.out.println(&quot;Method Should Have Failed&quot;);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;too many open files&quot;);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Unexpected exception&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nbut in my application its failing after 4k+ .. \r\n\r\nAny help is much needed as this issue is been dragging for long now. The concern is we could not reproduce this in lower environment and seeing this twice a week in PROD..\r\n\r\n\r\nOutput of `ulimit -a`\r\n```\r\ncore file size          (blocks, -c) 0\r\ndata seg size           (kbytes, -d) unlimited\r\nscheduling priority             (-e) 0\r\nfile size               (blocks, -f) unlimited\r\npending signals                 (-i) 770116\r\nmax locked memory       (kbytes, -l) 64\r\nmax memory size         (kbytes, -m) unlimited\r\nopen files                      (-n) 8192\r\npipe size            (512 bytes, -p) 8\r\nPOSIX message queues     (bytes, -q) 819200\r\nreal-time priority              (-r) 0\r\nstack size              (kbytes, -s) 8192\r\ncpu time               (seconds, -t) unlimited\r\nmax user processes              (-u) 16384\r\nvirtual memory          (kbytes, -v) unlimited\r\nfile locks                      (-x) unlimited\r\n```","title":"Too Many Open Files Issue with MQ9 where we connect to Qs using com.ibm.mq.jms.MQXAQueueConnectionFactory","body":"<pre><code>Caused by: java.sql.SQLException: Network error IOException: Too many open files\n        at net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:436)\n        at net.sourceforge.jtds.jdbc.Driver.connect(Driver.java:184)\n        at net.sourceforge.jtds.jdbcx.JtdsDataSource.getConnection(JtdsDataSource.java:186)\n        at net.sourceforge.jtds.jdbcx.JtdsDataSource.getXAConnection(JtdsDataSource.java:99)\n        at bitronix.tm.resource.jdbc.PoolingDataSource.createPooledConnection(PoolingDataSource.java:341)\n        at org.springframework.boot.jta.bitronix.PoolingDataSourceBean.createPooledConnection(PoolingDataSourceBean.java:110)\n        at bitronix.tm.resource.common.XAPool.createPooledObject(XAPool.java:283)\n        at bitronix.tm.resource.common.XAPool.grow(XAPool.java:391)\n        at bitronix.tm.resource.common.XAPool.getInPool(XAPool.java:371)\n        at bitronix.tm.resource.common.XAPool.getConnectionHandle(XAPool.java:123)\n        at bitronix.tm.resource.common.XAPool.getConnectionHandle(XAPool.java:91)\n        at bitronix.tm.resource.jdbc.PoolingDataSource.getConnection(PoolingDataSource.java:258)\n        ... 112 common frames omitted\nCaused by: java.net.SocketException: Too many open files\n        at java.net.Socket.createImpl(Unknown Source)\n        at java.net.Socket.connect(Unknown Source)\n        at net.sourceforge.jtds.jdbc.SharedSocket.createSocketForJDBC3(SharedSocket.java:288)\n        at net.sourceforge.jtds.jdbc.SharedSocket.&lt;init&gt;(SharedSocket.java:251)\n        at net.sourceforge.jtds.jdbc.JtdsConnection.&lt;init&gt;(JtdsConnection.java:331)\n        ... 123 common frames omitted\n</code></pre>\n<p>In spring boot application which is running on linux we are using IBM MQ9 with MSSQL 2017\nUsing <code>com.ibm.mq.jms.MQXAQueueConnectionFactory</code> to connect to 4 different Qs and processing high volume of data.</p>\n<p>We have tried increasing the soft limit and hard limit to 8192 but still we get this error around\n4k+ above value for command\n<code>lsof -u &lt;ouruser&gt; | grep &quot;jsk&quot;  | wc -l</code></p>\n<p>Also tried with <code>XX:+MaxFDLimit</code> but no use.</p>\n<p>I have tried almost everything that I could find for similar issues suggested in stackoverflow and the issue still persists.</p>\n<p>If I run a simple java program like below in the same linux box , I can see this value going till 16380 and then throwing Too Many Open files exception</p>\n<pre><code>public class tooMany {\n    public static void main(String[] args) throws  IOException {\n\n        System.out.println(&quot;Trying to reproduce&quot;);\n        try {\n            for (int x = 0; x &lt; 1000000; x++) {\n                System.out.println(&quot;Opening the file&quot;);\n                FileInputStream leakyHandle = new FileInputStream(&quot;some file to read&quot;);\n                System.out.println(&quot;file is opened&quot;);\n            }\n            System.out.println(&quot;Method Should Have Failed&quot;);\n        } catch (IOException e) {\n            System.out.println(&quot;too many open files&quot;);\n        } catch (Exception e) {\n            System.out.println(&quot;Unexpected exception&quot;);\n        }\n    }\n}\n</code></pre>\n<p>but in my application its failing after 4k+ ..</p>\n<p>Any help is much needed as this issue is been dragging for long now. The concern is we could not reproduce this in lower environment and seeing this twice a week in PROD..</p>\n<p>Output of <code>ulimit -a</code></p>\n<pre><code>core file size          (blocks, -c) 0\ndata seg size           (kbytes, -d) unlimited\nscheduling priority             (-e) 0\nfile size               (blocks, -f) unlimited\npending signals                 (-i) 770116\nmax locked memory       (kbytes, -l) 64\nmax memory size         (kbytes, -m) unlimited\nopen files                      (-n) 8192\npipe size            (512 bytes, -p) 8\nPOSIX message queues     (bytes, -q) 819200\nreal-time priority              (-r) 0\nstack size              (kbytes, -s) 8192\ncpu time               (seconds, -t) unlimited\nmax user processes              (-u) 16384\nvirtual memory          (kbytes, -v) unlimited\nfile locks                      (-x) unlimited\n</code></pre>\n"},{"tags":["java","apache-kafka","jvm","heap-memory"],"answers":[{"comments":[{"owner":{"account_id":24911843,"reputation":1056,"user_id":18781306,"display_name":"KWriter"},"score":0,"creation_date":1664878975,"post_id":73939123,"comment_id":130566004,"body_markdown":"Thanks! I&#39;ve used https://amalgjose.com/2020/03/02/how-to-set-kafka-heap-size/ as a reference for 512MB.","body":"Thanks! I&#39;ve used <a href=\"https://amalgjose.com/2020/03/02/how-to-set-kafka-heap-size/\" rel=\"nofollow noreferrer\">amalgjose.com/2020/03/02/how-to-set-kafka-heap-size</a> as a reference for 512MB."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1664892617,"post_id":73939123,"comment_id":130570796,"body_markdown":"Well, that&#39;s wrong. Look at the source code https://github.com/apache/kafka/blob/trunk/bin/kafka-server-start.sh#L29","body":"Well, that&#39;s wrong. Look at the source code <a href=\"https://github.com/apache/kafka/blob/trunk/bin/kafka-server-start.sh#L29\" rel=\"nofollow noreferrer\">github.com/apache/kafka/blob/trunk/bin/&hellip;</a>"},{"owner":{"account_id":24911843,"reputation":1056,"user_id":18781306,"display_name":"KWriter"},"score":0,"creation_date":1664951039,"post_id":73939123,"comment_id":130583402,"body_markdown":"I see it. Thanks one more time!","body":"I see it. Thanks one more time!"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664819756,"creation_date":1664819756,"answer_id":73939123,"question_id":73928386,"body_markdown":"&gt; default size should be 512MB\r\n\r\nIn Kafka, it&#39;s actually 1G, by default. \r\n\r\nYou can look at the running processes on the machine, such as `ps aux | grep KafkaServer` on Unix, and look at the `Xmx` for max heap...\r\n\r\nFor finding **current** heap usage (over time), you&#39;ll need to hook up JVM monitoring tools like Prometheus JMX exporter. ","title":"What are heap sizes and how can I check the current settings?","body":"<blockquote>\n<p>default size should be 512MB</p>\n</blockquote>\n<p>In Kafka, it's actually 1G, by default.</p>\n<p>You can look at the running processes on the machine, such as <code>ps aux | grep KafkaServer</code> on Unix, and look at the <code>Xmx</code> for max heap...</p>\n<p>For finding <strong>current</strong> heap usage (over time), you'll need to hook up JVM monitoring tools like Prometheus JMX exporter.</p>\n"}],"owner":{"account_id":24911843,"reputation":1056,"user_id":18781306,"display_name":"KWriter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":815,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73939123,"answer_count":1,"score":0,"last_activity_date":1665060146,"creation_date":1664735624,"question_id":73928386,"body_markdown":"I&#39;ve never before came across the term &quot;[heap size][1]&quot; before. I&#39;ve done some reading and I came to conclusion that command `export KAFKA_HEAP_OPTS=&quot;-Xmx16G -Xms16G&quot;` would result in 16GB heap size.\r\n\r\nI know that default size should be 512MB, but how can I check settings on the running Kafka server? Is checking the config file the only way to find out what are the current settings?\r\n\r\n\r\n  [1]: https://docs.confluent.io/platform/current/kafka/deployment.html#memory","title":"What are heap sizes and how can I check the current settings?","body":"<p>I've never before came across the term &quot;<a href=\"https://docs.confluent.io/platform/current/kafka/deployment.html#memory\" rel=\"nofollow noreferrer\">heap size</a>&quot; before. I've done some reading and I came to conclusion that command <code>export KAFKA_HEAP_OPTS=&quot;-Xmx16G -Xms16G&quot;</code> would result in 16GB heap size.</p>\n<p>I know that default size should be 512MB, but how can I check settings on the running Kafka server? Is checking the config file the only way to find out what are the current settings?</p>\n"},{"tags":["java","spring","spring-boot","maven","thymeleaf"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1665043754,"post_id":73970329,"comment_id":130607944,"body_markdown":"what do you call? how do you call it? do you have error logs?","body":"what do you call? how do you call it? do you have error logs?"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":1,"creation_date":1665049801,"post_id":73970329,"comment_id":130610129,"body_markdown":"As you are not using Spring boot, you will have to explicitly declare `ViewResolver`. If you have already declared it, please post that code too.","body":"As you are not using Spring boot, you will have to explicitly declare <code>ViewResolver</code>. If you have already declared it, please post that code too."},{"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"score":0,"creation_date":1665050239,"post_id":73970329,"comment_id":130610309,"body_markdown":"yes,i have added it..now it is working for .jsp file but for .html file it is still showing 404 error @ChetanAhirrao","body":"yes,i have added it..now it is working for .jsp file but for .html file it is still showing 404 error @ChetanAhirrao"},{"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"score":0,"creation_date":1665050319,"post_id":73970329,"comment_id":130610337,"body_markdown":"i am calling controller  with (&quot;/) requestmapping which is works well for .jsp file after adding viewResolver but it does not work and give 404 error for .html file @Stultuske","body":"i am calling controller  with (&quot;/) requestmapping which is works well for .jsp file after adding viewResolver but it does not work and give 404 error for .html file @Stultuske"}],"answers":[{"comments":[{"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"score":0,"creation_date":1665047589,"post_id":73970632,"comment_id":130609239,"body_markdown":"even hii.html  still not found after creating hii.html in webapp folder @artiomi","body":"even hii.html  still not found after creating hii.html in webapp folder @artiomi"},{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":1,"creation_date":1665050600,"post_id":73970632,"comment_id":130610462,"body_markdown":"can you try to define a template resolver as per this [link](https://www.thymeleaf.org/doc/tutorials/3.0/thymeleafspring.html#the-springstandard-dialect)","body":"can you try to define a template resolver as per this <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/thymeleafspring.html#the-springstandard-dialect\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"score":0,"creation_date":1665051044,"post_id":73970632,"comment_id":130610630,"body_markdown":"yes i have created hii1.html file in web-inf/template folder but it gives error like :\nMessage JSP file [/WEB-INF/views/hii1.jsp] not found,it its still searhing for jsp file..i have added code as per the link @artiomi and when i comment InternalViewResolver it gives error as: The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.","body":"yes i have created hii1.html file in web-inf/template folder but it gives error like : Message JSP file [/WEB-INF/views/hii1.jsp] not found,it its still searhing for jsp file..i have added code as per the link @artiomi and when i comment InternalViewResolver it gives error as: The origin server did not find a current representation for the target resource or is not willing to disclose that one exists."},{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1665051549,"post_id":73970632,"comment_id":130610783,"body_markdown":"Try to move .jsp and .html files to `src\\main\\webapp\\WEB-INF\\views`","body":"Try to move .jsp and .html files to <code>src\\main\\webapp\\WEB-INF\\views</code>"},{"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"score":0,"creation_date":1665051766,"post_id":73970632,"comment_id":130610849,"body_markdown":"tried it...for .html file it is still not working","body":"tried it...for .html file it is still not working"},{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":1,"creation_date":1665052515,"post_id":73970632,"comment_id":130611143,"body_markdown":"Hmm, can you have a look at this [example](https://www.studytonight.com/spring-framework/spring-mvc-with-thymeleaf)","body":"Hmm, can you have a look at this <a href=\"https://www.studytonight.com/spring-framework/spring-mvc-with-thymeleaf\" rel=\"nofollow noreferrer\">example</a>"},{"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"score":0,"creation_date":1665053783,"post_id":73970632,"comment_id":130611593,"body_markdown":"tried it..it shows different error message: @artiomi error message is:java.io.FileNotFoundException: Could not open ServletContext resource [/WEB-INF/views/newFile.html]\n\tat org.springframework.web.context.support.ServletContextResource.getInputStream(ServletContextResource.java:158)","body":"tried it..it shows different error message: @artiomi error message is:java.io.FileNotFoundException: Could not open ServletContext resource [/WEB-INF/views/newFile.html] \tat org.springframework.web.context.support.ServletContextResour&zwnj;&#8203;ce.getInputStream(Se&zwnj;&#8203;rvletContextResource&zwnj;&#8203;.java:158)"},{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":1,"creation_date":1665054345,"post_id":73970632,"comment_id":130611767,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/248589/discussion-between-artiomi-and-ritu-mansata).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/248589/discussion-between-artiomi-and-ritu-mansata\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"comment_count":8,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665044311,"creation_date":1665044311,"answer_id":73970632,"question_id":73970329,"body_markdown":"Try to define in `webapp` folder a `hii.html` file. `helloGfg` is returning `hii` but the resource with such name is missing.","title":"How to detect from where 404 error is coming? debugger calls the method and works fine but then stills it showing 404 error","body":"<p>Try to define in <code>webapp</code> folder a <code>hii.html</code> file. <code>helloGfg</code> is returning <code>hii</code> but the resource with such name is missing.</p>\n"},{"comments":[{"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"score":0,"creation_date":1665055579,"post_id":73972857,"comment_id":130612229,"body_markdown":"yes,but now  i am getting another exception.exception is :java.io.FileNotFoundException: Could not open ServletContext resource [/WEB-INF/views/newFile.html]","body":"yes,but now  i am getting another exception.exception is :java.io.FileNotFoundException: Could not open ServletContext resource [/WEB-INF/views/newFile.html]"},{"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"score":0,"creation_date":1665055603,"post_id":73972857,"comment_id":130612238,"body_markdown":"org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;ServletContext resource [/WEB-INF/views/newFile.html]&quot;)","body":"org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;ServletContext resource [/WEB-INF/views/newFile.html]&quot;)"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":1,"creation_date":1665057412,"post_id":73972857,"comment_id":130612866,"body_markdown":"Did you also set order for `InternalResourceViewResolver`. Set it to higher value i.e. say setOrder(1)","body":"Did you also set order for <code>InternalResourceViewResolver</code>. Set it to higher value i.e. say setOrder(1)"},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":1,"creation_date":1665058099,"post_id":73972857,"comment_id":130613124,"body_markdown":"and Try  `templateResolver.setPrefix(&quot;classpath:/WEB-INF/templates/&quot;);`","body":"and Try  <code>templateResolver.setPrefix(&quot;classpath:&#47;WEB-INF&#47;templates&#47;&quot;);</code>"},{"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"score":1,"creation_date":1665059489,"post_id":73972857,"comment_id":130613663,"body_markdown":"finally solved &quot;org.thymeleaf.exceptions.TemplateInputException: Error resolving template &quot;hii1&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers by adding randomfile.html to views folder and solved other issue by adding thymeleaf-spring3 maven dependency instead of thymeleaf-spring5  .. @Chetan Ahirrao","body":"finally solved &quot;org.thymeleaf.exceptions.TemplateInputException: Error resolving template &quot;hii1&quot;, template might not exist or might not be accessible by any of the configured Template Resolvers by adding randomfile.html to views folder and solved other issue by adding thymeleaf-spring3 maven dependency instead of thymeleaf-spring5  .. @Chetan Ahirrao"}],"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665054865,"creation_date":1665054865,"answer_id":73972857,"question_id":73970329,"body_markdown":"Now that you have both the ```ViewResolver``` in place, you can add/set Order to them. Try, &lt;br/&gt;\r\n```\r\n    templateResolver.setOrder(0); //or lower value\r\n```","title":"How to detect from where 404 error is coming? debugger calls the method and works fine but then stills it showing 404 error","body":"<p>Now that you have both the <code>ViewResolver</code> in place, you can add/set Order to them. Try, <br/></p>\n<pre><code>    templateResolver.setOrder(0); //or lower value\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665060095,"creation_date":1665060095,"answer_id":73973985,"question_id":73970329,"body_markdown":"first I have to add \r\n\r\n    package com.crudoperation;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Description;\r\n    import org.springframework.web.servlet.ViewResolver;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    import org.thymeleaf.spring3.SpringTemplateEngine;\r\n    import org.thymeleaf.spring3.templateresolver.SpringResourceTemplateResolver;\r\n    import org.thymeleaf.spring3.view.ThymeleafViewResolver;\r\n    import org.thymeleaf.templateresolver.ClassLoaderTemplateResolver;\r\n    \r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan(basePackages = &quot;com.crudoperation&quot;)\r\n    @Qualifier(value = &quot;EmployeeAppConfig&quot;)\r\n    public class EmployeeAppConfig implements WebMvcConfigurer {\r\n    \t@Autowired\r\n    \tApplicationContext applicationContext;\r\n    \t@Override\r\n    \tpublic void addResourceHandlers(ResourceHandlerRegistry resourceHandlerRegistry) {\r\n    \t\tresourceHandlerRegistry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ClassLoaderTemplateResolver yourTemplateResolver() {\r\n    \t\tClassLoaderTemplateResolver configurer = new ClassLoaderTemplateResolver();\r\n    \t\tconfigurer.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n    \t\tconfigurer.setSuffix(&quot;.html&quot;);\r\n    \t\tconfigurer.setCharacterEncoding(&quot;UTF-8&quot;);\r\n    \t\tconfigurer.setOrder(0); // this is important. This way spring //boot will listen to both places 0 and 1\r\n    \t\tconfigurer.setCacheable(false);\r\n    \t\treturn configurer;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic SpringResourceTemplateResolver templateResolver() {\r\n    \t\tSpringResourceTemplateResolver srtr = new SpringResourceTemplateResolver();\r\n    \t\tsrtr.setApplicationContext(applicationContext);\r\n    \t\tsrtr.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n    \t\tsrtr.setSuffix(&quot;.html&quot;);\r\n    \r\n    \t\treturn srtr;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Description(&quot;Thymeleaf template engine with Spring integration&quot;)\r\n    \tpublic SpringTemplateEngine templateEngine() {\r\n    \r\n    \t\tSpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n    \t\ttemplateEngine.setTemplateResolver(templateResolver());\r\n    \r\n    \t\treturn templateEngine;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Description(&quot;Thymeleaf view resolver&quot;)\r\n    \tpublic ViewResolver viewResolver() {\r\n    \t\tThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\r\n    \t\tviewResolver.setTemplateEngine(templateEngine());\r\n    \t\tviewResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n    \t\treturn viewResolver;\r\n    \t}\r\n    }\r\nso that path can be found \r\n","title":"How to detect from where 404 error is coming? debugger calls the method and works fine but then stills it showing 404 error","body":"<p>first I have to add</p>\n<pre><code>package com.crudoperation;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Description;\nimport org.springframework.web.servlet.ViewResolver;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.thymeleaf.spring3.SpringTemplateEngine;\nimport org.thymeleaf.spring3.templateresolver.SpringResourceTemplateResolver;\nimport org.thymeleaf.spring3.view.ThymeleafViewResolver;\nimport org.thymeleaf.templateresolver.ClassLoaderTemplateResolver;\n\n@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages = &quot;com.crudoperation&quot;)\n@Qualifier(value = &quot;EmployeeAppConfig&quot;)\npublic class EmployeeAppConfig implements WebMvcConfigurer {\n    @Autowired\n    ApplicationContext applicationContext;\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry resourceHandlerRegistry) {\n        resourceHandlerRegistry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\n    }\n\n    @Bean\n    public ClassLoaderTemplateResolver yourTemplateResolver() {\n        ClassLoaderTemplateResolver configurer = new ClassLoaderTemplateResolver();\n        configurer.setPrefix(&quot;/WEB-INF/views/&quot;);\n        configurer.setSuffix(&quot;.html&quot;);\n        configurer.setCharacterEncoding(&quot;UTF-8&quot;);\n        configurer.setOrder(0); // this is important. This way spring //boot will listen to both places 0 and 1\n        configurer.setCacheable(false);\n        return configurer;\n    }\n\n    @Bean\n    public SpringResourceTemplateResolver templateResolver() {\n        SpringResourceTemplateResolver srtr = new SpringResourceTemplateResolver();\n        srtr.setApplicationContext(applicationContext);\n        srtr.setPrefix(&quot;/WEB-INF/views/&quot;);\n        srtr.setSuffix(&quot;.html&quot;);\n\n        return srtr;\n    }\n\n    @Bean\n    @Description(&quot;Thymeleaf template engine with Spring integration&quot;)\n    public SpringTemplateEngine templateEngine() {\n\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver());\n\n        return templateEngine;\n    }\n\n    @Bean\n    @Description(&quot;Thymeleaf view resolver&quot;)\n    public ViewResolver viewResolver() {\n        ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\n        viewResolver.setTemplateEngine(templateEngine());\n        viewResolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        return viewResolver;\n    }\n}\n</code></pre>\n<p>so that path can be found</p>\n"}],"owner":{"account_id":22104620,"reputation":87,"user_id":16360534,"display_name":"ritu mansata"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1665060095,"creation_date":1665042884,"question_id":73970329,"body_markdown":"\r\n\r\n    package com.crudoperation;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    \r\n    @Controller\r\n    public class EmployeeController {\r\n    \r\n    \t@Autowired\r\n    \tprivate EmployeeService employeeService;\r\n    \r\n    \t@RequestMapping(&quot;/&quot;)\r\n    \tpublic String helloGfg() {\r\n    \t\treturn &quot;hii&quot;;\r\n    \t}\r\n    \r\n    \t@PostMapping(&quot;/saveEmployee&quot;)\r\n    \tpublic String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee) {\r\n    \t\temployeeService.saveEmployee(employee);\r\n    \t\treturn &quot;redirect:/showEmployee&quot;;\r\n    \t}\r\n    }\r\n\r\n\r\n debugger comes in helloGfg method but then it still showing 404 error..i think there will be some other dependency or annotaion based issues......how could i find the issue?below is my pom.xml\r\n\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.crudoperation&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;crudoperation&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;crudoperation Maven Webapp&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;spring.version&gt;5.1.0.RELEASE&lt;/spring.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;42.3.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.5.51&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.17.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;crudoperation&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nhow to find from where the error is coming..in maven project in webapp directory  when i seperately run as run on server then it did not even find seprate file..how to solve it?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BtCmV.png\r\nthis is my project structure..which thing i need to remove.i cannot understand.\r\n\r\nhere is the code for viewResolver\r\n\r\n  \r\n\r\n      package com.crudoperation;\r\n        \r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.context.ApplicationContext;\r\n        import org.springframework.context.annotation.Bean;\r\n        import org.springframework.context.annotation.ComponentScan;\r\n        \r\n        import org.springframework.context.annotation.Configuration;\r\n        import org.springframework.context.annotation.Description;\r\n        import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n        import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\n        import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n        import org.springframework.web.servlet.view.InternalResourceViewResolver;\r\n        import org.springframework.web.servlet.view.JstlView;\r\n        import org.thymeleaf.templateresolver.ServletContextTemplateResolver;\r\n        \r\n        @Configuration\r\n        @EnableWebMvc\r\n        @ComponentScan(basePackages = &quot;com.crudoperation&quot;)\r\n        public class EmployeeAppConfig implements WebMvcConfigurer {\r\n        \t@Bean\r\n        \tpublic InternalResourceViewResolver resolver() {\r\n        \t\tInternalResourceViewResolver resolver = new InternalResourceViewResolver();\r\n        \t\tresolver.setViewClass(JstlView.class);\r\n        \t\tresolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n        \t\tresolver.setSuffix(&quot;.jsp&quot;);\r\n        \t\treturn resolver;\r\n        \t}\r\n        \r\n        @Bean\r\n    \tpublic SpringResourceTemplateResolver templateResolver() {\r\n    \t\t// SpringResourceTemplateResolver automatically integrates with Spring&#39;s own\r\n    \t\t// resource resolution infrastructure, which is highly recommended.\r\n    \t\tSpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n    \t\ttemplateResolver.setApplicationContext(this.applicationContext);\r\n    \t\ttemplateResolver.setPrefix(&quot;/WEB-INF/templates/&quot;);\r\n    \t\ttemplateResolver.setSuffix(&quot;.html&quot;);\r\n    \t\t// HTML is the default value, added here for the sake of clarity.\r\n    \t\ttemplateResolver.setTemplateMode(TemplateMode.HTML);\r\n    \t\t// Template cache is true by default. Set to false if you want\r\n    \t\t// templates to be automatically updated when modified.\r\n    \t\ttemplateResolver.setCacheable(true);\r\n    \t\treturn templateResolver;\r\n    \t}\r\n        \r\n        \tpublic void addResourceHandlers(ResourceHandlerRegistry resourceHandlerRegistry) {\r\n        \t\tresourceHandlerRegistry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\r\n        \t}\r\n        }\r\n\r\n","title":"How to detect from where 404 error is coming? debugger calls the method and works fine but then stills it showing 404 error","body":"<pre><code>package com.crudoperation;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\n@Controller\npublic class EmployeeController {\n\n    @Autowired\n    private EmployeeService employeeService;\n\n    @RequestMapping(&quot;/&quot;)\n    public String helloGfg() {\n        return &quot;hii&quot;;\n    }\n\n    @PostMapping(&quot;/saveEmployee&quot;)\n    public String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee) {\n        employeeService.saveEmployee(employee);\n        return &quot;redirect:/showEmployee&quot;;\n    }\n}\n</code></pre>\n<p>debugger comes in helloGfg method but then it still showing 404 error..i think there will be some other dependency or annotaion based issues......how could i find the issue?below is my pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.crudoperation&lt;/groupId&gt;\n    &lt;artifactId&gt;crudoperation&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;crudoperation Maven Webapp&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;spring.version&gt;5.1.0.RELEASE&lt;/spring.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\n            &lt;version&gt;1.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\n            &lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n            &lt;version&gt;8.5.51&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.2.17.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;crudoperation&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>how to find from where the error is coming..in maven project in webapp directory  when i seperately run as run on server then it did not even find seprate file..how to solve it?</p>\n<p><a href=\"https://i.stack.imgur.com/BtCmV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BtCmV.png\" alt=\"enter image description here\" /></a></p>\n<p>this is my project structure..which thing i need to remove.i cannot understand.</p>\n<p>here is the code for viewResolver</p>\n<pre><code>  package com.crudoperation;\n    \n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.context.ApplicationContext;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.ComponentScan;\n    \n    import org.springframework.context.annotation.Configuration;\n    import org.springframework.context.annotation.Description;\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\n    import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n    import org.springframework.web.servlet.view.InternalResourceViewResolver;\n    import org.springframework.web.servlet.view.JstlView;\n    import org.thymeleaf.templateresolver.ServletContextTemplateResolver;\n    \n    @Configuration\n    @EnableWebMvc\n    @ComponentScan(basePackages = &quot;com.crudoperation&quot;)\n    public class EmployeeAppConfig implements WebMvcConfigurer {\n        @Bean\n        public InternalResourceViewResolver resolver() {\n            InternalResourceViewResolver resolver = new InternalResourceViewResolver();\n            resolver.setViewClass(JstlView.class);\n            resolver.setPrefix(&quot;/WEB-INF/views/&quot;);\n            resolver.setSuffix(&quot;.jsp&quot;);\n            return resolver;\n        }\n    \n    @Bean\n    public SpringResourceTemplateResolver templateResolver() {\n        // SpringResourceTemplateResolver automatically integrates with Spring's own\n        // resource resolution infrastructure, which is highly recommended.\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n        templateResolver.setApplicationContext(this.applicationContext);\n        templateResolver.setPrefix(&quot;/WEB-INF/templates/&quot;);\n        templateResolver.setSuffix(&quot;.html&quot;);\n        // HTML is the default value, added here for the sake of clarity.\n        templateResolver.setTemplateMode(TemplateMode.HTML);\n        // Template cache is true by default. Set to false if you want\n        // templates to be automatically updated when modified.\n        templateResolver.setCacheable(true);\n        return templateResolver;\n    }\n    \n        public void addResourceHandlers(ResourceHandlerRegistry resourceHandlerRegistry) {\n            resourceHandlerRegistry.addResourceHandler(&quot;/resources/**&quot;).addResourceLocations(&quot;/resources/&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":24983560,"reputation":410,"user_id":18845587,"display_name":"Tindona"},"score":0,"creation_date":1665059952,"post_id":73973600,"comment_id":130613866,"body_markdown":"How should be the condition that throws an exception? some thing like `if commit.name()==null`?? Is there other condition fo it? Do I need a break in my loops?","body":"How should be the condition that throws an exception? some thing like <code>if commit.name()==null</code>?? Is there other condition fo it? Do I need a break in my loops?"}],"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665058419,"creation_date":1665058419,"answer_id":73973600,"question_id":73973540,"body_markdown":"Throw `HttpStatusCodeException`\r\n\r\n`throw new HttpStatusCodeException(HttpStatus.NOT_FOUND)`","title":"Exception handling for reading from a cached data","body":"<p>Throw <code>HttpStatusCodeException</code></p>\n<p><code>throw new HttpStatusCodeException(HttpStatus.NOT_FOUND)</code></p>\n"},{"comments":[{"owner":{"account_id":24983560,"reputation":410,"user_id":18845587,"display_name":"Tindona"},"score":0,"creation_date":1665060297,"post_id":73973876,"comment_id":130614005,"body_markdown":"could you please send a code structure? I don&#39;t know where should I put to avoid traversing unnecessary items","body":"could you please send a code structure? I don&#39;t know where should I put to avoid traversing unnecessary items"}],"tags":[],"owner":{"account_id":23851800,"reputation":1,"user_id":17855659,"display_name":"Archilles "},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665059575,"creation_date":1665059575,"answer_id":73973876,"question_id":73973540,"body_markdown":"Try catching an Exception with the final variable &quot;commit&quot; you referenced on the return statement or use the if statements to return None or string if failed to return any data from the API you&#39;re using.\r\n\r\n ","title":"Exception handling for reading from a cached data","body":"<p>Try catching an Exception with the final variable &quot;commit&quot; you referenced on the return statement or use the if statements to return None or string if failed to return any data from the API you're using.</p>\n"}],"owner":{"account_id":24983560,"reputation":410,"user_id":18845587,"display_name":"Tindona"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665059575,"creation_date":1665058177,"question_id":73973540,"body_markdown":"My question about handling an exception that is related to getting data from a list, that the list if filled with an API.\r\nTo be more specific, I have a method that is getting all the data from an API, and in ANOTHER method I want to search or filter that data. But I want it to throw an exception when the data is not found. how can I do this?\r\n\r\nHere is my code\r\n\r\n      public CommitResponse getOneCommitInfo(String commitHash) {\r\n        CommitResponse commit = new CommitResponse();\r\n        for (int i = 0; i &lt; allCommitsList.size(); i++) {\r\n          if (((CommitResponse) allCommitsList.get(i)).getHash().equals(commitHash)) {\r\n            commit = (CommitResponse) allCommitsList.get(i);\r\n          }\r\n        }\r\n        return commit;\r\n      }\r\n\r\nThis code always returns 200 status code, as it is not a real endpoint that is talking with API, and it is only talking with the cached data.\r\nI want to add 404 status code for it and I need it to throw an exception. ","title":"Exception handling for reading from a cached data","body":"<p>My question about handling an exception that is related to getting data from a list, that the list if filled with an API.\nTo be more specific, I have a method that is getting all the data from an API, and in ANOTHER method I want to search or filter that data. But I want it to throw an exception when the data is not found. how can I do this?</p>\n<p>Here is my code</p>\n<pre><code>  public CommitResponse getOneCommitInfo(String commitHash) {\n    CommitResponse commit = new CommitResponse();\n    for (int i = 0; i &lt; allCommitsList.size(); i++) {\n      if (((CommitResponse) allCommitsList.get(i)).getHash().equals(commitHash)) {\n        commit = (CommitResponse) allCommitsList.get(i);\n      }\n    }\n    return commit;\n  }\n</code></pre>\n<p>This code always returns 200 status code, as it is not a real endpoint that is talking with API, and it is only talking with the cached data.\nI want to add 404 status code for it and I need it to throw an exception.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","localstack"],"comments":[{"owner":{"account_id":1682782,"reputation":7143,"user_id":2096986,"accept_rate":37,"display_name":"Felipe"},"score":0,"creation_date":1635628024,"post_id":69393751,"comment_id":123348267,"body_markdown":"Are you lauching `localstack` using docker? Maybe if you use the docker ip instead of `localhost`","body":"Are you lauching <code>localstack</code> using docker? Maybe if you use the docker ip instead of <code>localhost</code>"}],"answers":[{"comments":[{"owner":{"account_id":106037,"reputation":3276,"user_id":282664,"accept_rate":25,"display_name":"GBC"},"score":1,"creation_date":1663382943,"post_id":73746905,"comment_id":130232976,"body_markdown":"How do you do that? Thanks","body":"How do you do that? Thanks"}],"tags":[],"owner":{"account_id":10475557,"reputation":1,"user_id":7722198,"display_name":"Alexandr Shegeda"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665059151,"creation_date":1663341032,"answer_id":73746905,"question_id":69393751,"body_markdown":"To resolve it you should make sure that the queue was created before listener initialization.\r\n\r\nIt is better to create a queue during the initialization of the SQS client\r\n\r\n\r\n    AmazonSQS sqsClient = AmazonSQSAsyncClientBuilder.standard().build();\r\n    sqsClient.createQueue(new CreateQueueRequest(&quot;test-queue&quot;));","title":"Spring Aws SQS don&#39;t connect to localstack","body":"<p>To resolve it you should make sure that the queue was created before listener initialization.</p>\n<p>It is better to create a queue during the initialization of the SQS client</p>\n<pre><code>AmazonSQS sqsClient = AmazonSQSAsyncClientBuilder.standard().build();\nsqsClient.createQueue(new CreateQueueRequest(&quot;test-queue&quot;));\n</code></pre>\n"}],"owner":{"account_id":1412553,"reputation":618,"user_id":1338877,"accept_rate":78,"display_name":"Renato Ramos Nascimento"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3599,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1665059151,"creation_date":1633011186,"question_id":69393751,"body_markdown":"I&#39;m trying to list an SQS queue using `Spring AWS`, but It is throwing this message exception.\r\n\r\n&gt; 2021-09-30 10:41:15.273  WARN 25992 --- [           main] i.a.c.m.l.SimpleMessageListenerContainer : Ignoring queue with name &#39;EVENTS_DEV&#39;: The queue does not exist.; nested exception is com.amazonaws.services.sqs.model.QueueDoesNotExistException: The specified queue EVENTS_DEV does not exist for this wsdl version. (Service: AmazonSQS; Status Code: 404; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: IKNNYB2ICCTDT6DXQ15RAP5JCY92NVG1H0LZK69WJWMBXZ1YIFKI; Proxy: null)\r\n\r\nIf I use was cli to get the queue attributes the queue is there\r\n\r\n```\r\naws --endpoint http://localhost:4566 sqs get-queue-attributes --queue-url  http://localhost:4566/000000000000/EVENTS_DEV\r\n{\r\n    &quot;Attributes&quot;: {\r\n        &quot;ApproximateNumberOfMessages&quot;: &quot;0&quot;,\r\n        &quot;ApproximateNumberOfMessagesDelayed&quot;: &quot;0&quot;,\r\n        &quot;ApproximateNumberOfMessagesNotVisible&quot;: &quot;0&quot;,\r\n        &quot;CreatedTimestamp&quot;: &quot;1633006230.73685&quot;,\r\n        &quot;DelaySeconds&quot;: &quot;0&quot;,\r\n        &quot;LastModifiedTimestamp&quot;: &quot;1633006230.73685&quot;,\r\n        &quot;MaximumMessageSize&quot;: &quot;262144&quot;,\r\n        &quot;MessageRetentionPeriod&quot;: &quot;345600&quot;,\r\n        &quot;QueueArn&quot;: &quot;arn:aws:sqs:sa-east-1:000000000000:EVENTS_DEV&quot;,\r\n        &quot;ReceiveMessageWaitTimeSeconds&quot;: &quot;0&quot;,\r\n        &quot;VisibilityTimeout&quot;: &quot;30&quot;\r\n    }\r\n}\r\n```\r\n\r\nHere is my listener code\r\n```Java\r\n@Component\r\npublic class Listener {\r\n\r\n    @SqsListener(value = &quot;${aws.queues.event}&quot;, deletionPolicy = SqsMessageDeletionPolicy.NEVER)\r\n    public void listen(String message, Acknowledgment acknowledgment) throws ExecutionException, InterruptedException {\r\n        System.out.printf(&quot;Message received %s%n&quot;, message );\r\n        acknowledgment.acknowledge().get();\r\n    }\r\n}\r\n```\r\nAnd here is my configuration\r\n\r\n```Java\r\n@Configuration\r\npublic class AWSConfig {\r\n    @Bean\r\n    public QueueMessagingTemplate queueMessagingTemplate(AmazonSQSAsync amazonSQSAsync) {\r\n        return new QueueMessagingTemplate(amazonSQSAsync);\r\n    }\r\n\r\n    @Bean\r\n    public NotificationMessagingTemplate notificationMessagingTemplate(\r\n            AmazonSNS amazonSNS) {\r\n        return new NotificationMessagingTemplate(amazonSNS);\r\n    }\r\n}\r\n```\r\nFinally my properties file\r\n\r\n```\r\ncloud.aws.sns.endpoint=http://localhost:4566\r\ncloud.aws.sns.region=sa-east-1\r\ncloud.aws.sqs.endpoint=http://localhost:4566\r\ncloud.aws.sqs.region=sa-east-1\r\ncloud.aws.credentials.instanceProfile=false\r\ncloud.aws.credentials.useDefaultAwsCredentialsChain=false\r\ncloud.aws.stack.auto=false\r\n\r\naws.queues.event=EVENTS_DEV\r\n```","title":"Spring Aws SQS don&#39;t connect to localstack","body":"<p>I'm trying to list an SQS queue using <code>Spring AWS</code>, but It is throwing this message exception.</p>\n<blockquote>\n<p>2021-09-30 10:41:15.273  WARN 25992 --- [           main] i.a.c.m.l.SimpleMessageListenerContainer : Ignoring queue with name 'EVENTS_DEV': The queue does not exist.; nested exception is com.amazonaws.services.sqs.model.QueueDoesNotExistException: The specified queue EVENTS_DEV does not exist for this wsdl version. (Service: AmazonSQS; Status Code: 404; Error Code: AWS.SimpleQueueService.NonExistentQueue; Request ID: IKNNYB2ICCTDT6DXQ15RAP5JCY92NVG1H0LZK69WJWMBXZ1YIFKI; Proxy: null)</p>\n</blockquote>\n<p>If I use was cli to get the queue attributes the queue is there</p>\n<pre><code>aws --endpoint http://localhost:4566 sqs get-queue-attributes --queue-url  http://localhost:4566/000000000000/EVENTS_DEV\n{\n    &quot;Attributes&quot;: {\n        &quot;ApproximateNumberOfMessages&quot;: &quot;0&quot;,\n        &quot;ApproximateNumberOfMessagesDelayed&quot;: &quot;0&quot;,\n        &quot;ApproximateNumberOfMessagesNotVisible&quot;: &quot;0&quot;,\n        &quot;CreatedTimestamp&quot;: &quot;1633006230.73685&quot;,\n        &quot;DelaySeconds&quot;: &quot;0&quot;,\n        &quot;LastModifiedTimestamp&quot;: &quot;1633006230.73685&quot;,\n        &quot;MaximumMessageSize&quot;: &quot;262144&quot;,\n        &quot;MessageRetentionPeriod&quot;: &quot;345600&quot;,\n        &quot;QueueArn&quot;: &quot;arn:aws:sqs:sa-east-1:000000000000:EVENTS_DEV&quot;,\n        &quot;ReceiveMessageWaitTimeSeconds&quot;: &quot;0&quot;,\n        &quot;VisibilityTimeout&quot;: &quot;30&quot;\n    }\n}\n</code></pre>\n<p>Here is my listener code</p>\n<pre><code>@Component\npublic class Listener {\n\n    @SqsListener(value = &quot;${aws.queues.event}&quot;, deletionPolicy = SqsMessageDeletionPolicy.NEVER)\n    public void listen(String message, Acknowledgment acknowledgment) throws ExecutionException, InterruptedException {\n        System.out.printf(&quot;Message received %s%n&quot;, message );\n        acknowledgment.acknowledge().get();\n    }\n}\n</code></pre>\n<p>And here is my configuration</p>\n<pre><code>@Configuration\npublic class AWSConfig {\n    @Bean\n    public QueueMessagingTemplate queueMessagingTemplate(AmazonSQSAsync amazonSQSAsync) {\n        return new QueueMessagingTemplate(amazonSQSAsync);\n    }\n\n    @Bean\n    public NotificationMessagingTemplate notificationMessagingTemplate(\n            AmazonSNS amazonSNS) {\n        return new NotificationMessagingTemplate(amazonSNS);\n    }\n}\n</code></pre>\n<p>Finally my properties file</p>\n<pre><code>cloud.aws.sns.endpoint=http://localhost:4566\ncloud.aws.sns.region=sa-east-1\ncloud.aws.sqs.endpoint=http://localhost:4566\ncloud.aws.sqs.region=sa-east-1\ncloud.aws.credentials.instanceProfile=false\ncloud.aws.credentials.useDefaultAwsCredentialsChain=false\ncloud.aws.stack.auto=false\n\naws.queues.event=EVENTS_DEV\n</code></pre>\n"},{"tags":["java","cryptoapi","java-17"],"owner":{"account_id":3239634,"reputation":20214,"user_id":2732991,"accept_rate":80,"display_name":"Halvor Holsten Strand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665059047,"creation_date":1665059047,"question_id":73973750,"body_markdown":"When using Java 8 and trying to access Microsoft CryptoAPI KeyStore (msCAPI) there was the issue of potential alias duplicates. That is, you could have two certificates with the same alias, making one inaccessible.\r\n\r\nFor Java 8 the workaround was this ([StackOverflow answer](https://stackoverflow.com/a/30591656/2732991), [Java.com bug](http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6672015)):\r\n\r\n```java\r\nprivate static void _fixAliases(KeyStore keyStore) {\r\n    Field field;\r\n    KeyStoreSpi keyStoreVeritable;\r\n\r\n    try {\r\n        field = keyStore.getClass().getDeclaredField(&quot;keyStoreSpi&quot;);\r\n        field.setAccessible(true);\r\n        keyStoreVeritable = (KeyStoreSpi)field.get(keyStore);\r\n\r\n        if(&quot;sun.security.mscapi.KeyStore$MY&quot;.equals(keyStoreVeritable.getClass().getName())) {\r\n            Collection entries;\r\n            String alias, hashCode;\r\n            X509Certificate[] certificates;\r\n\r\n            field = keyStoreVeritable.getClass().getEnclosingClass().getDeclaredField(&quot;entries&quot;);\r\n            field.setAccessible(true);\r\n            entries = (Collection)field.get(keyStoreVeritable);\r\n\r\n            for(Object entry : entries) {\r\n                field = entry.getClass().getDeclaredField(&quot;certChain&quot;);\r\n                field.setAccessible(true);\r\n                certificates = (X509Certificate[])field.get(entry);\r\n\r\n                hashCode = Integer.toString(certificates[0].hashCode());\r\n\r\n                field = entry.getClass().getDeclaredField(&quot;alias&quot;);\r\n                field.setAccessible(true);\r\n                alias = (String)field.get(entry);\r\n\r\n                if(!alias.equals(hashCode)) {\r\n                    field.set(entry, alias.concat(&quot; - &quot;).concat(hashCode));\r\n                } // if\r\n            } // for\r\n        } // if\r\n    } catch(Exception exception) {\r\n        System.err.println(exception);\r\n        exception.printStackTrace();\r\n    } // catch\r\n} // _fixAliases\r\n```\r\n\r\nWith Java 17 came [JEP 403](https://openjdk.org/jeps/403), which now causes the `field.setAccessible(true)` to give a stack similar to this:\r\n\r\n```\r\n14:17:53.916 [main] ERROR System.err - java.lang.reflect.InaccessibleObjectException: Unable to make field private java.security.KeyStoreSpi java.security.KeyStore.keyStoreSpi accessible: module java.base does not &quot;opens java.security&quot; to unnamed module @4206a205\r\n14:17:53.916 [main] ERROR System.err - \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n14:17:53.916 [main] ERROR System.err - \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n14:17:53.916 [main] ERROR System.err - \tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n14:17:53.916 [main] ERROR System.err - \tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n...\r\n```\r\n\r\nThis leaves me with one workaround of adding `--add-opens=java.base/java.security=ALL-UNNAMED` to the VM options.\r\n\r\n**Is there some cleaner way to deal with this in JDK17, to not undo JDK encapsulation?**","title":"Microsoft CryptoAPI KeyStore unique alias on Java 17 without --add-opens","body":"<p>When using Java 8 and trying to access Microsoft CryptoAPI KeyStore (msCAPI) there was the issue of potential alias duplicates. That is, you could have two certificates with the same alias, making one inaccessible.</p>\n<p>For Java 8 the workaround was this (<a href=\"https://stackoverflow.com/a/30591656/2732991\">StackOverflow answer</a>, <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=6672015\" rel=\"nofollow noreferrer\">Java.com bug</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void _fixAliases(KeyStore keyStore) {\n    Field field;\n    KeyStoreSpi keyStoreVeritable;\n\n    try {\n        field = keyStore.getClass().getDeclaredField(&quot;keyStoreSpi&quot;);\n        field.setAccessible(true);\n        keyStoreVeritable = (KeyStoreSpi)field.get(keyStore);\n\n        if(&quot;sun.security.mscapi.KeyStore$MY&quot;.equals(keyStoreVeritable.getClass().getName())) {\n            Collection entries;\n            String alias, hashCode;\n            X509Certificate[] certificates;\n\n            field = keyStoreVeritable.getClass().getEnclosingClass().getDeclaredField(&quot;entries&quot;);\n            field.setAccessible(true);\n            entries = (Collection)field.get(keyStoreVeritable);\n\n            for(Object entry : entries) {\n                field = entry.getClass().getDeclaredField(&quot;certChain&quot;);\n                field.setAccessible(true);\n                certificates = (X509Certificate[])field.get(entry);\n\n                hashCode = Integer.toString(certificates[0].hashCode());\n\n                field = entry.getClass().getDeclaredField(&quot;alias&quot;);\n                field.setAccessible(true);\n                alias = (String)field.get(entry);\n\n                if(!alias.equals(hashCode)) {\n                    field.set(entry, alias.concat(&quot; - &quot;).concat(hashCode));\n                } // if\n            } // for\n        } // if\n    } catch(Exception exception) {\n        System.err.println(exception);\n        exception.printStackTrace();\n    } // catch\n} // _fixAliases\n</code></pre>\n<p>With Java 17 came <a href=\"https://openjdk.org/jeps/403\" rel=\"nofollow noreferrer\">JEP 403</a>, which now causes the <code>field.setAccessible(true)</code> to give a stack similar to this:</p>\n<pre><code>14:17:53.916 [main] ERROR System.err - java.lang.reflect.InaccessibleObjectException: Unable to make field private java.security.KeyStoreSpi java.security.KeyStore.keyStoreSpi accessible: module java.base does not &quot;opens java.security&quot; to unnamed module @4206a205\n14:17:53.916 [main] ERROR System.err -  at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n14:17:53.916 [main] ERROR System.err -  at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n14:17:53.916 [main] ERROR System.err -  at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n14:17:53.916 [main] ERROR System.err -  at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n...\n</code></pre>\n<p>This leaves me with one workaround of adding <code>--add-opens=java.base/java.security=ALL-UNNAMED</code> to the VM options.</p>\n<p><strong>Is there some cleaner way to deal with this in JDK17, to not undo JDK encapsulation?</strong></p>\n"},{"tags":["java","spring","spring-boot","multipartform-data","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":7013238,"reputation":840,"user_id":5375394,"accept_rate":56,"display_name":"tomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1611734898,"creation_date":1611734898,"answer_id":65915120,"question_id":65896940,"body_markdown":"Finally i found a solution. I first tried it with RestTemplate. Same problem, i found no solution to access the binary data.\r\n\r\nI found a working solution without REST. I use httpClient directly.\r\n\r\n\r\n     CloseableHttpResponse response = client.execute(httpPost);\r\n     InputStream in = new BufferedInputStream(response.getEntity().getContent());\r\n     ByteArrayDataSource datasource = new ByteArrayDataSource(in, &quot;multipart/form-data&quot;);\r\n     MimeMultipart multipartR = new MimeMultipart(datasource);\r\n     BodyPart bodyPart = multipartR.getBodyPart(1); //Or you can iterate about the body parts\r\n     InputStream is = bodyPart.getInputStream());","title":"Spring Boot - WebClient - multipart response - How to get the binary data","body":"<p>Finally i found a solution. I first tried it with RestTemplate. Same problem, i found no solution to access the binary data.</p>\n<p>I found a working solution without REST. I use httpClient directly.</p>\n<pre><code> CloseableHttpResponse response = client.execute(httpPost);\n InputStream in = new BufferedInputStream(response.getEntity().getContent());\n ByteArrayDataSource datasource = new ByteArrayDataSource(in, &quot;multipart/form-data&quot;);\n MimeMultipart multipartR = new MimeMultipart(datasource);\n BodyPart bodyPart = multipartR.getBodyPart(1); //Or you can iterate about the body parts\n InputStream is = bodyPart.getInputStream());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20875859,"reputation":216,"user_id":15334651,"display_name":"SpartanX1"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665058972,"creation_date":1665058972,"answer_id":73973725,"question_id":65896940,"body_markdown":"There is now a way to do it via **Spring Flux** webclient and using the [DefaultPartHttpMessageReader][1] class \r\n\r\n\r\nFirst we would need the reader \r\n\r\n    final var partReader = new DefaultPartHttpMessageReader();\r\n    partReader.setStreaming(false); \r\n\r\nAnd then make the call via weblcient \r\n\r\n    WebClient webClient = WebClient.builder().build();\r\n    ResponseEntity&lt;Flux&lt;Part&gt;&gt; request = webClient\r\n                    .get()\r\n                    .uri(&quot;...&quot;)\r\n                    .accept(MediaType.MULTIPART_MIXED)\r\n                    .retrieve()\r\n                    .toEntityFlux((inputMessage, context) -&gt;\r\n                            partReader\r\n                                    .read(ResolvableType.forType(byte[].class), inputMessage, Map.of()))\r\n                    .block();\r\n\r\n Once we execute the request, we will get `Flux&lt;Part&gt;` as response with each part being the individual parts of the multipart response. \r\n\r\n`part.headers()` will give you the headers and `part.content()` will give you the actual content in [DataBuffer][2] format. For eg, if you want to extract an image from the response and send it in bytes, you can do this : \r\n\r\n                byte[] image = null;\r\n        \r\n                List&lt;Part&gt; parts = request.getBody().collectList().block();\r\n        \r\n                for (Part part : parts) {\r\n                    // access individual parts here\r\n                    System.out.println(part.headers());\r\n                    if (part.headers().get(&quot;Content-Type&quot;).get(0).equals(&quot;image/jpeg&quot;)) {\r\n                        image = DataBufferUtils.join(part.content())\r\n                                .map(dataBuffer -&gt; {\r\n                                    byte[] bytes = new byte[dataBuffer.readableByteCount()];\r\n                                    dataBuffer.read(bytes);\r\n                                    DataBufferUtils.release(dataBuffer);\r\n                                    return bytes;\r\n                                }).block();\r\n                    }\r\n                }\r\n    return image;\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/multipart/DefaultPartHttpMessageReader.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/buffer/DataBuffer.html","title":"Spring Boot - WebClient - multipart response - How to get the binary data","body":"<p>There is now a way to do it via <strong>Spring Flux</strong> webclient and using the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/multipart/DefaultPartHttpMessageReader.html\" rel=\"nofollow noreferrer\">DefaultPartHttpMessageReader</a> class</p>\n<p>First we would need the reader</p>\n<pre><code>final var partReader = new DefaultPartHttpMessageReader();\npartReader.setStreaming(false); \n</code></pre>\n<p>And then make the call via weblcient</p>\n<pre><code>WebClient webClient = WebClient.builder().build();\nResponseEntity&lt;Flux&lt;Part&gt;&gt; request = webClient\n                .get()\n                .uri(&quot;...&quot;)\n                .accept(MediaType.MULTIPART_MIXED)\n                .retrieve()\n                .toEntityFlux((inputMessage, context) -&gt;\n                        partReader\n                                .read(ResolvableType.forType(byte[].class), inputMessage, Map.of()))\n                .block();\n</code></pre>\n<p>Once we execute the request, we will get <code>Flux&lt;Part&gt;</code> as response with each part being the individual parts of the multipart response.</p>\n<p><code>part.headers()</code> will give you the headers and <code>part.content()</code> will give you the actual content in <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/buffer/DataBuffer.html\" rel=\"nofollow noreferrer\">DataBuffer</a> format. For eg, if you want to extract an image from the response and send it in bytes, you can do this :</p>\n<pre><code>            byte[] image = null;\n    \n            List&lt;Part&gt; parts = request.getBody().collectList().block();\n    \n            for (Part part : parts) {\n                // access individual parts here\n                System.out.println(part.headers());\n                if (part.headers().get(&quot;Content-Type&quot;).get(0).equals(&quot;image/jpeg&quot;)) {\n                    image = DataBufferUtils.join(part.content())\n                            .map(dataBuffer -&gt; {\n                                byte[] bytes = new byte[dataBuffer.readableByteCount()];\n                                dataBuffer.read(bytes);\n                                DataBufferUtils.release(dataBuffer);\n                                return bytes;\n                            }).block();\n                }\n            }\nreturn image;\n</code></pre>\n"}],"owner":{"account_id":7013238,"reputation":840,"user_id":5375394,"accept_rate":56,"display_name":"tomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1924,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65915120,"answer_count":2,"score":1,"last_activity_date":1665058972,"creation_date":1611643586,"question_id":65896940,"body_markdown":"Here is my code to call a REST-Service\r\n\r\n  \r\n\r\n     String result = webClient.post()\r\n                    .body(BodyInserters.fromMultipartData(bodyBuilder.build()))\r\n                    .exchangeToMono(clientResponse -&gt; clientResponse.bodyToMono(String.class))\r\n                    .block();\r\n\r\nThis works fine. I get a HTTP-Status 200. \r\n\r\n**Response**\r\n\r\n*Header Content-Type*: multipart/form-data; boundary=&quot;n1OnMVB:z)VeTRs)kd9:h8Hz9H+_kywMV2mb)MWu.&quot;\r\n\r\n*Body*\r\n\r\n    --n1OnMVB:z)VeTRs)kd9:h8Hz9H+_kywMV2mb)MWu. Content-Disposition: form-data; name=&quot;lastname&quot;\r\n    \r\n    smith\r\n    --n1OnMVB:z)VeTRs)kd9:h8Hz9H+_kywMV2mb)MWu. Content-Disposition: form-data; name=&quot;data&quot;; filename=&quot;data.cms&quot; Content-Transfer-Encoding: binary\r\n    \r\n    0\t*H 0\r\n\r\nProblem/Question: How can i receive the binary data. I need something like that\r\n\r\n    byte[] result = webClient.post()....... -&gt; clientResponse.bodyToMono(byte[])\r\n\r\nOr even better\r\n\r\n\r\n    MyResultObject result = webClient.post().....-&gt; clientResponse.bodyToMono(MyResultObject.class)\r\n\r\nWhere MyResultObject has the corresponding members.\r\n\r\nI tried many. I searched a lot. But i found unfortunately nothing what helped me.","title":"Spring Boot - WebClient - multipart response - How to get the binary data","body":"<p>Here is my code to call a REST-Service</p>\n<pre><code> String result = webClient.post()\n                .body(BodyInserters.fromMultipartData(bodyBuilder.build()))\n                .exchangeToMono(clientResponse -&gt; clientResponse.bodyToMono(String.class))\n                .block();\n</code></pre>\n<p>This works fine. I get a HTTP-Status 200.</p>\n<p><strong>Response</strong></p>\n<p><em>Header Content-Type</em>: multipart/form-data; boundary=&quot;n1OnMVB:z)VeTRs)kd9:h8Hz9H+_kywMV2mb)MWu.&quot;</p>\n<p><em>Body</em></p>\n<pre><code>--n1OnMVB:z)VeTRs)kd9:h8Hz9H+_kywMV2mb)MWu. Content-Disposition: form-data; name=&quot;lastname&quot;\n\nsmith\n--n1OnMVB:z)VeTRs)kd9:h8Hz9H+_kywMV2mb)MWu. Content-Disposition: form-data; name=&quot;data&quot;; filename=&quot;data.cms&quot; Content-Transfer-Encoding: binary\n\n0  *H 0\n</code></pre>\n<p>Problem/Question: How can i receive the binary data. I need something like that</p>\n<pre><code>byte[] result = webClient.post()....... -&gt; clientResponse.bodyToMono(byte[])\n</code></pre>\n<p>Or even better</p>\n<pre><code>MyResultObject result = webClient.post().....-&gt; clientResponse.bodyToMono(MyResultObject.class)\n</code></pre>\n<p>Where MyResultObject has the corresponding members.</p>\n<p>I tried many. I searched a lot. But i found unfortunately nothing what helped me.</p>\n"},{"tags":["java","builder","lombok"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1531300009,"post_id":51281165,"comment_id":89540191,"body_markdown":"Works for me. What version of Lombok are you using? What IDE are you using? What version of the Lombok plugin are you using? For me: Lombok 1.16.20, IntelliJ 2018.1, plugin 0.17-2018.1","body":"Works for me. What version of Lombok are you using? What IDE are you using? What version of the Lombok plugin are you using? For me: Lombok 1.16.20, IntelliJ 2018.1, plugin 0.17-2018.1"},{"owner":{"account_id":11615728,"reputation":365,"user_id":8508541,"display_name":"plkpiotr"},"score":0,"creation_date":1531300345,"post_id":51281165,"comment_id":89540427,"body_markdown":"Thanks for checking, but it still doesn&#39;t work for me.\n\nIDE: IntelliJ 2018.IDEA 1.3\n\nLombok: 1.16.20\n\nPlugin: 0.19-2018.1","body":"Thanks for checking, but it still doesn&#39;t work for me.  IDE: IntelliJ 2018.IDEA 1.3  Lombok: 1.16.20  Plugin: 0.19-2018.1"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1531300651,"post_id":51281165,"comment_id":89540679,"body_markdown":"The symbol its complaining about is the auto-generated builder name. Can you try overriding that and see if it makes a difference? Add `builderClassName = &quot;Foo&quot;` to the `@Builder` annotation, and change the return type of your `builder` method to `Foo`.","body":"The symbol its complaining about is the auto-generated builder name. Can you try overriding that and see if it makes a difference? Add <code>builderClassName = &quot;Foo&quot;</code> to the <code>@Builder</code> annotation, and change the return type of your <code>builder</code> method to <code>Foo</code>."},{"owner":{"account_id":11615728,"reputation":365,"user_id":8508541,"display_name":"plkpiotr"},"score":0,"creation_date":1531300723,"post_id":51281165,"comment_id":89540725,"body_markdown":"@Michael, What is your Java version? I have 10.\nI remeber that my colleagues have similar problems with Java 9 and higher...","body":"@Michael, What is your Java version? I have 10. I remeber that my colleagues have similar problems with Java 9 and higher..."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1531301163,"post_id":51281165,"comment_id":89541034,"body_markdown":"I&#39;m using Java 8. Lombok 1.16.20 should work with Java 9, but not Java 10. You may have more success using an edge version of Lombok if you need to stay with Java 10.","body":"I&#39;m using Java 8. Lombok 1.16.20 should work with Java 9, but not Java 10. You may have more success using an edge version of Lombok if you need to stay with Java 10."},{"owner":{"account_id":11615728,"reputation":365,"user_id":8508541,"display_name":"plkpiotr"},"score":0,"creation_date":1531301549,"post_id":51281165,"comment_id":89541306,"body_markdown":"Sorry, I&#39;m using Java 8 too, I checked in pom.xml -.-","body":"Sorry, I&#39;m using Java 8 too, I checked in pom.xml -.-"},{"owner":{"account_id":11615728,"reputation":365,"user_id":8508541,"display_name":"plkpiotr"},"score":0,"creation_date":1531301660,"post_id":51281165,"comment_id":89541395,"body_markdown":"I&#39;m going to check annotation proccessors, but it is enabling.","body":"I&#39;m going to check annotation proccessors, but it is enabling."},{"owner":{"account_id":2315188,"reputation":4406,"user_id":2032415,"display_name":"Tomasz Linkowski"},"score":0,"creation_date":1531302464,"post_id":51281165,"comment_id":89541978,"body_markdown":"Works for me too (IntelliJ 2018.1.5, Lombok 1.18.0, plugin 0.18-2018.1, Java 8). _Side note:_ Have you considered not generating `ownBuilderMethod` at all, and simply providing a custom builder method: `ProfileBuilder builder() { return new ProfileBuilder().id(UUID.randomUUID().toString()); }`?","body":"Works for me too (IntelliJ 2018.1.5, Lombok 1.18.0, plugin 0.18-2018.1, Java 8). <i>Side note:</i> Have you considered not generating <code>ownBuilderMethod</code> at all, and simply providing a custom builder method: <code>ProfileBuilder builder() { return new ProfileBuilder().id(UUID.randomUUID().toString()); }</code>?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1531302846,"post_id":51281165,"comment_id":89542215,"body_markdown":"@TomaszLinkowski The point is that Lombok&#39;s `@Builder` will always generate a `builder()` method unless you change the name, and OP wants `builder()` to return a builder with a pre-set ID. If he does what you suggest, Lombok will complain that a method with that signature is already defined.","body":"@TomaszLinkowski The point is that Lombok&#39;s <code>@Builder</code> will always generate a <code>builder()</code> method unless you change the name, and OP wants <code>builder()</code> to return a builder with a pre-set ID. If he does what you suggest, Lombok will complain that a method with that signature is already defined."},{"owner":{"account_id":11615728,"reputation":365,"user_id":8508541,"display_name":"plkpiotr"},"score":0,"creation_date":1531302924,"post_id":51281165,"comment_id":89542252,"body_markdown":"I noticed warnings before error:\n    Warning:(22, 8) java: lombok.javac.apt.LombokProcessor could not be initialized. Lombok will not run during this compilation: java.lang.IllegalArgumentException: com.sun.tools.javac.main.DelegatingJavaFileManager$DelegatingSJFM extends com.sun.tools.javac.main.DelegatingJavaFileManager implements javax.tools.StandardJavaFileManager (...)","body":"I noticed warnings before error:     Warning:(22, 8) java: lombok.javac.apt.LombokProcessor could not be initialized. Lombok will not run during this compilation: java.lang.IllegalArgumentException: com.sun.tools.javac.main.DelegatingJavaFileManager$Delegatin&zwnj;&#8203;gSJFM extends com.sun.tools.javac.main.DelegatingJavaFileManager implements javax.tools.StandardJavaFileManager (...)"},{"owner":{"account_id":2315188,"reputation":4406,"user_id":2032415,"display_name":"Tomasz Linkowski"},"score":0,"creation_date":1531303047,"post_id":51281165,"comment_id":89542332,"body_markdown":"@Michael Sorry, but you&#39;re wrong. See [Builder info](https://projectlombok.org/features/Builder): _Each listed generated element will be silently skipped if that element already exists_. Or just give it a try :)","body":"@Michael Sorry, but you&#39;re wrong. See <a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\">Builder info</a>: <i>Each listed generated element will be silently skipped if that element already exists</i>. Or just give it a try :)"},{"owner":{"account_id":11615728,"reputation":365,"user_id":8508541,"display_name":"plkpiotr"},"score":0,"creation_date":1531303539,"post_id":51281165,"comment_id":89542637,"body_markdown":"optional-true caused this...\n`code &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n`\nI wrote &lt;version&gt;1.16.22&lt;/version&gt; instead of &lt;optional&gt; and everything works o.O","body":"optional-true caused this... <code>code &lt;dependency&gt;         &lt;groupId&gt;org.projectlombok&lt;&#47;groupId&gt;         &lt;artifactId&gt;lombok&lt;&#47;artifactId&gt;         &lt;optional&gt;true&lt;&#47;optional&gt;     &lt;&#47;dependency&gt; </code> I wrote &lt;version&gt;1.16.22&lt;/version&gt; instead of &lt;optional&gt; and everything works o.O"},{"owner":{"account_id":2315188,"reputation":4406,"user_id":2032415,"display_name":"Tomasz Linkowski"},"score":2,"creation_date":1531303919,"post_id":51281165,"comment_id":89542889,"body_markdown":"@plkpiotr You might want to update the question with the original Maven dependency config, and write an answer with the optional=true removed.","body":"@plkpiotr You might want to update the question with the original Maven dependency config, and write an answer with the optional=true removed."},{"owner":{"account_id":11615728,"reputation":365,"user_id":8508541,"display_name":"plkpiotr"},"score":1,"creation_date":1531304197,"post_id":51281165,"comment_id":89543028,"body_markdown":"Thank you for your help guys :)\nI&#39;ve been participant of Forum Pasja Infromatyki so far, and I am still new here - so, thanks for your suggesting, Tomek ; )","body":"Thank you for your help guys :) I&#39;ve been participant of Forum Pasja Infromatyki so far, and I am still new here - so, thanks for your suggesting, Tomek ; )"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1531304260,"post_id":51281165,"comment_id":89543062,"body_markdown":"Please do as Tomasz suggested so that this question can be useful to future readers. You should also consider using `@Builder.Default` on your ID field rather than overriding the `builder` method (you&#39;ll actually end up with 2 public builder methods, which might be confusing)","body":"Please do as Tomasz suggested so that this question can be useful to future readers. You should also consider using <code>@Builder.Default</code> on your ID field rather than overriding the <code>builder</code> method (you&#39;ll actually end up with 2 public builder methods, which might be confusing)"}],"answers":[{"tags":[],"owner":{"account_id":11615728,"reputation":365,"user_id":8508541,"display_name":"plkpiotr"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1564495349,"creation_date":1531306904,"answer_id":51283847,"question_id":51281165,"body_markdown":"To fix the fact that LombokProcessor could not be initialized you have to change dependency of Lombok in Maven (pom.xml file):\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n    \r\nfor:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.16.22&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Lombok in project generated by Spring Initializr (LombokProcessor could not be initialized)","body":"<p>To fix the fact that LombokProcessor could not be initialized you have to change dependency of Lombok in Maven (pom.xml file):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>for:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.16.22&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8170109,"reputation":484,"user_id":6150881,"display_name":"Rabhi salim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665058860,"creation_date":1665058860,"answer_id":73973709,"question_id":51281165,"body_markdown":"*This can also be cause by setting wrong SDK version.*\r\n\r\nChecks todo:\r\n\r\n - Enable annotation processing\r\n - Set scope to provided for Lombok and remove optional tag\r\n - Update Lombok version to latest ones\r\n - Make sure you have right SDK project set in your IDE","title":"Lombok in project generated by Spring Initializr (LombokProcessor could not be initialized)","body":"<p><em>This can also be cause by setting wrong SDK version.</em></p>\n<p>Checks todo:</p>\n<ul>\n<li>Enable annotation processing</li>\n<li>Set scope to provided for Lombok and remove optional tag</li>\n<li>Update Lombok version to latest ones</li>\n<li>Make sure you have right SDK project set in your IDE</li>\n</ul>\n"}],"owner":{"account_id":11615728,"reputation":365,"user_id":8508541,"display_name":"plkpiotr"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51283847,"answer_count":2,"score":0,"last_activity_date":1665058860,"creation_date":1531299107,"question_id":51281165,"body_markdown":"I would like to create a class with **ownBuilderMethod** from Lombok. After click **Shift+F10** (launch app) I get the error:\r\n\r\n    Warning:(22, 8) java: lombok.javac.apt.LombokProcessor could not be initialized. Lombok will not run during this compilation: java.lang.IllegalArgumentException: com.sun.tools.javac.main.DelegatingJavaFileManager$DelegatingSJFM extends com.sun.tools.javac.main.DelegatingJavaFileManager implements javax.tools.StandardJavaFileManager\r\n      \t(..)\r\n\r\nAnd:\r\n\r\n\r\n    Error:(39, 19) java: cannot find symbol\r\n    symbol:   class ProfileBuilder\r\n    location: class io.github.plkpiotr.fifabackend.model.Profile\r\n\r\nPlain @Builder without this **builderMethodName** works properly, but with &quot;ownBuilderMethod&quot; doesn&#39;t.\r\n\r\nSource code:\r\n\r\n    package io.github.plkpiotr.fifabackend.model;\r\n    \r\n    import lombok.*;\r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.*;\r\n    import java.util.UUID;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;profiles&quot;)\r\n    @Data\r\n    @Builder(builderMethodName = &quot;ownBuilderMethod&quot;)\r\n    //@AllArgsConstructor\r\n    //@NoArgsConstructor\r\n    public class Profile {\r\n        @Id\r\n        private String id;\r\n    \r\n        @NotNull\r\n        @Pattern(regexp = &quot;^[a-zA-Z]+(([&#39;,. -][a-zA-Z ])?[a-zA-Z]*)*$&quot;)\r\n        private String nick;\r\n    \r\n        @NotNull\r\n        private String password;\r\n    \r\n        @NotNull\r\n        @Email\r\n        private String email;\r\n    \r\n        public static ProfileBuilder builder() {\r\n            return ownBuilderMethod()\r\n                    .id(UUID.randomUUID().toString());\r\n        }\r\n    }\r\n","title":"Lombok in project generated by Spring Initializr (LombokProcessor could not be initialized)","body":"<p>I would like to create a class with <strong>ownBuilderMethod</strong> from Lombok. After click <strong>Shift+F10</strong> (launch app) I get the error:</p>\n\n<pre><code>Warning:(22, 8) java: lombok.javac.apt.LombokProcessor could not be initialized. Lombok will not run during this compilation: java.lang.IllegalArgumentException: com.sun.tools.javac.main.DelegatingJavaFileManager$DelegatingSJFM extends com.sun.tools.javac.main.DelegatingJavaFileManager implements javax.tools.StandardJavaFileManager\n    (..)\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>Error:(39, 19) java: cannot find symbol\nsymbol:   class ProfileBuilder\nlocation: class io.github.plkpiotr.fifabackend.model.Profile\n</code></pre>\n\n<p>Plain @Builder without this <strong>builderMethodName</strong> works properly, but with \"ownBuilderMethod\" doesn't.</p>\n\n<p>Source code:</p>\n\n<pre><code>package io.github.plkpiotr.fifabackend.model;\n\nimport lombok.*;\nimport javax.persistence.*;\nimport javax.validation.constraints.*;\nimport java.util.UUID;\n\n@Entity\n@Table(name = \"profiles\")\n@Data\n@Builder(builderMethodName = \"ownBuilderMethod\")\n//@AllArgsConstructor\n//@NoArgsConstructor\npublic class Profile {\n    @Id\n    private String id;\n\n    @NotNull\n    @Pattern(regexp = \"^[a-zA-Z]+(([',. -][a-zA-Z ])?[a-zA-Z]*)*$\")\n    private String nick;\n\n    @NotNull\n    private String password;\n\n    @NotNull\n    @Email\n    private String email;\n\n    public static ProfileBuilder builder() {\n        return ownBuilderMethod()\n                .id(UUID.randomUUID().toString());\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","annotations","hibernate-annotations"],"comments":[{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1701515936,"post_id":9923643,"comment_id":136787127,"body_markdown":"Even the example provided in `@MapsId` source code is confusing","body":"Even the example provided in <code>@MapsId</code> source code is confusing"}],"answers":[{"comments":[{"owner":{"account_id":5116062,"reputation":642,"user_id":4101144,"accept_rate":47,"display_name":"Maksim Gumerov"},"score":18,"creation_date":1521813995,"post_id":9925895,"comment_id":85905371,"body_markdown":"But what&#39;s so nice about it? Even without @MapsId, one can use JoinColumn to same effect, can he not? And if so, this example does not really tell what&#39;s this annotation really good for.","body":"But what&#39;s so nice about it? Even without @MapsId, one can use JoinColumn to same effect, can he not? And if so, this example does not really tell what&#39;s this annotation really good for."},{"owner":{"account_id":3140002,"reputation":892,"user_id":2655624,"display_name":"johanwannheden"},"score":6,"creation_date":1528349527,"post_id":9925895,"comment_id":88474872,"body_markdown":"Since both entities will be sharing the same primary key, the entity with a column designated by `@MapsId` will in the persistence layer (database) only have primary key column. The idea is to share the primary key between the two entities.","body":"Since both entities will be sharing the same primary key, the entity with a column designated by <code>@MapsId</code> will in the persistence layer (database) only have primary key column. The idea is to share the primary key between the two entities."},{"owner":{"account_id":4563985,"reputation":3964,"user_id":3705478,"accept_rate":33,"display_name":"sofs1"},"score":1,"creation_date":1528576815,"post_id":9925895,"comment_id":88563523,"body_markdown":"What is an EmbeddedId primary key? How is it different from normal Primary Key?","body":"What is an EmbeddedId primary key? How is it different from normal Primary Key?"},{"owner":{"account_id":4563985,"reputation":3964,"user_id":3705478,"accept_rate":33,"display_name":"sofs1"},"score":0,"creation_date":1528578578,"post_id":9925895,"comment_id":88563960,"body_markdown":"&quot;The value element specifies the attribute within a composite key to which the relationship attribute corresponds. &quot; 1) What is meant by value element, please give an example? 2) What is a composite key? 3) What is the relationship attribute and give an example?","body":"&quot;The value element specifies the attribute within a composite key to which the relationship attribute corresponds. &quot; 1) What is meant by value element, please give an example? 2) What is a composite key? 3) What is the relationship attribute and give an example?"},{"owner":{"account_id":5071035,"reputation":5785,"user_id":4069782,"accept_rate":75,"display_name":"Emmanuel Osimosu"},"score":0,"creation_date":1530214205,"post_id":9925895,"comment_id":89168420,"body_markdown":"@MaksimGumerov it&#39;s efficient because you can fetch `Dependent` just by knowing identifier of `Employee`.","body":"@MaksimGumerov it&#39;s efficient because you can fetch <code>Dependent</code> just by knowing identifier of <code>Employee</code>."},{"owner":{"account_id":5116062,"reputation":642,"user_id":4101144,"accept_rate":47,"display_name":"Maksim Gumerov"},"score":1,"creation_date":1530263590,"post_id":9925895,"comment_id":89183962,"body_markdown":"&quot;just by knowing identifier of Employee&quot; - how so? There&#39;s ManyToOne, thus many  Dependent may be associated with the same Employee.","body":"&quot;just by knowing identifier of Employee&quot; - how so? There&#39;s ManyToOne, thus many  Dependent may be associated with the same Employee."},{"owner":{"account_id":5116062,"reputation":642,"user_id":4101144,"accept_rate":47,"display_name":"Maksim Gumerov"},"score":0,"creation_date":1530264408,"post_id":9925895,"comment_id":89184478,"body_markdown":"&quot;The idea is to share the primary key between the two entities&quot; - but can&#39;t we just use derived identifiers? I.e. write DependentId not like this, but like &quot;... Employee emp&quot;? No need to use MapsId then. And anyway, I am not saying the approach is inherently bad, I am saying that the cited explanation isn&#39;t particularly &quot;nice&quot; :)","body":"&quot;The idea is to share the primary key between the two entities&quot; - but can&#39;t we just use derived identifiers? I.e. write DependentId not like this, but like &quot;... Employee emp&quot;? No need to use MapsId then. And anyway, I am not saying the approach is inherently bad, I am saying that the cited explanation isn&#39;t particularly &quot;nice&quot; :)"},{"owner":{"account_id":4527150,"reputation":65,"user_id":3678624,"display_name":"user3678624"},"score":0,"creation_date":1693406147,"post_id":9925895,"comment_id":135757043,"body_markdown":"I have similar scenario @ManuPK , This mapping worked out for me but how do we save Parent and chil entity in single go with JPA repository. For example I want to save Employee with its list of dependents just by employeeRepo.save(employee) method. Challenge I am facing is what do we set for employeeId attribute of dependent table even before saving .. please assist, have been struck from 3 days","body":"I have similar scenario @ManuPK , This mapping worked out for me but how do we save Parent and chil entity in single go with JPA repository. For example I want to save Employee with its list of dependents just by employeeRepo.save(employee) method. Challenge I am facing is what do we set for employeeId attribute of dependent table even before saving .. please assist, have been struck from 3 days"}],"tags":[],"owner":{"account_id":238759,"reputation":11691,"user_id":507864,"accept_rate":100,"display_name":"ManuPK"},"comment_count":8,"down_vote_count":6,"up_vote_count":69,"is_accepted":true,"score":63,"last_activity_date":1333026126,"creation_date":1333026126,"answer_id":9925895,"question_id":9923643,"body_markdown":"\r\nHere is a nice explanation from [Object DB][1].\r\n\r\n&gt;Designates a ManyToOne or  OneToOne relationship attribute that provides the mapping for an EmbeddedId primary key, an attribute within an EmbeddedId primary key, or a simple primary key of the parent entity. The value element specifies the attribute within a composite key to which the relationship attribute corresponds. If the entity&#39;s primary key is of the same Java type as the primary key of the entity referenced by the relationship, the value attribute is not specified.\r\n\r\n    // parent entity has simple primary key\r\n \r\n    @Entity\r\n    public class Employee {\r\n       @Id long empId;\r\n       String name;\r\n       ...\r\n    } \r\n \r\n    // dependent entity uses EmbeddedId for composite key\r\n \r\n    @Embeddable\r\n    public class DependentId {\r\n       String name;\r\n       long empid;   // corresponds to primary key type of Employee\r\n    }\r\n \r\n    @Entity\r\n    public class Dependent {\r\n       @EmbeddedId DependentId id;\r\n        ...\r\n       @MapsId(&quot;empid&quot;)  //  maps the empid attribute of embedded id\r\n       @ManyToOne Employee emp;\r\n    }\r\n\r\n\r\nRead the [API Docs][2] here.\r\n\r\n\r\n  [1]: http://www.objectdb.com/api/java/jpa/MapsId\r\n  [2]: http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/#entity-mapping-identifier","title":"can someone please explain me @MapsId in hibernate?","body":"<p>Here is a nice explanation from <a href=\"http://www.objectdb.com/api/java/jpa/MapsId\" rel=\"noreferrer\">Object DB</a>.</p>\n\n<blockquote>\n  <p>Designates a ManyToOne or  OneToOne relationship attribute that provides the mapping for an EmbeddedId primary key, an attribute within an EmbeddedId primary key, or a simple primary key of the parent entity. The value element specifies the attribute within a composite key to which the relationship attribute corresponds. If the entity's primary key is of the same Java type as the primary key of the entity referenced by the relationship, the value attribute is not specified.</p>\n</blockquote>\n\n<pre><code>// parent entity has simple primary key\n\n@Entity\npublic class Employee {\n   @Id long empId;\n   String name;\n   ...\n} \n\n// dependent entity uses EmbeddedId for composite key\n\n@Embeddable\npublic class DependentId {\n   String name;\n   long empid;   // corresponds to primary key type of Employee\n}\n\n@Entity\npublic class Dependent {\n   @EmbeddedId DependentId id;\n    ...\n   @MapsId(\"empid\")  //  maps the empid attribute of embedded id\n   @ManyToOne Employee emp;\n}\n</code></pre>\n\n<p>Read the <a href=\"http://docs.jboss.org/hibernate/annotations/3.5/reference/en/html_single/#entity-mapping-identifier\" rel=\"noreferrer\">API Docs</a> here.</p>\n"},{"comments":[{"owner":{"account_id":188605,"reputation":5059,"user_id":427413,"accept_rate":71,"display_name":"marcus"},"score":2,"creation_date":1538515944,"post_id":48531258,"comment_id":92167599,"body_markdown":"Where do I put @MapsId in a bidirectional association? Should both classes have `@MapsId`. Does it even make a difference?","body":"Where do I put @MapsId in a bidirectional association? Should both classes have <code>@MapsId</code>. Does it even make a difference?"},{"owner":{"account_id":3378723,"reputation":948,"user_id":2836301,"display_name":"Tonsic"},"score":0,"creation_date":1542664951,"post_id":48531258,"comment_id":93642521,"body_markdown":"I think one table will be the &quot;owner&quot; of the original pk (the one with `@Id` and `@GeneratedValue` and `@Column`) and have a `@OneToOne` and `@JoinColumn` with the other table, and the other table will have the `@MapsId` . However this probably wouldn&#39;t work if you wanted to INSERT into the &#39;other table&#39; first.","body":"I think one table will be the &quot;owner&quot; of the original pk (the one with <code>@Id</code> and <code>@GeneratedValue</code> and <code>@Column</code>) and have a <code>@OneToOne</code> and <code>@JoinColumn</code> with the other table, and the other table will have the <code>@MapsId</code> . However this probably wouldn&#39;t work if you wanted to INSERT into the &#39;other table&#39; first."},{"owner":{"account_id":15459711,"reputation":1631,"user_id":11152683,"display_name":"Lubo"},"score":2,"creation_date":1571807002,"post_id":48531258,"comment_id":103358051,"body_markdown":"Nice article about this way of usage (using id from another table as id of other entity) is here https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/","body":"Nice article about this way of usage (using id from another table as id of other entity) is here <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"},{"owner":{"account_id":2443091,"reputation":416,"user_id":2131068,"accept_rate":0,"display_name":"M_F"},"score":0,"creation_date":1589097862,"post_id":48531258,"comment_id":109152996,"body_markdown":"But if you want filter out transactions from canceled ones.. which is a common cause. How is this more efficient? I mean for SQL you just have to say NOT NULL for TRANSACTION.fk_cancelled_id  but in this case, will be more operations.","body":"But if you want filter out transactions from canceled ones.. which is a common cause. How is this more efficient? I mean for SQL you just have to say NOT NULL for TRANSACTION.fk_cancelled_id  but in this case, will be more operations."},{"owner":{"account_id":3378723,"reputation":948,"user_id":2836301,"display_name":"Tonsic"},"score":0,"creation_date":1589213016,"post_id":48531258,"comment_id":109197439,"body_markdown":"In this specific case here, it is common to use a column like &#39;type&#39; in the base class and table, where you&#39;d identify if the transaction is of type &#39;cancel&#39; or other.","body":"In this specific case here, it is common to use a column like &#39;type&#39; in the base class and table, where you&#39;d identify if the transaction is of type &#39;cancel&#39; or other."},{"owner":{"account_id":3378723,"reputation":948,"user_id":2836301,"display_name":"Tonsic"},"score":0,"creation_date":1589213166,"post_id":48531258,"comment_id":109197533,"body_markdown":"Ah, found another useful blog post about this subject https://www.baeldung.com/hibernate-inheritance","body":"Ah, found another useful blog post about this subject <a href=\"https://www.baeldung.com/hibernate-inheritance\" rel=\"nofollow noreferrer\">baeldung.com/hibernate-inheritance</a>"}],"tags":[],"owner":{"account_id":3378723,"reputation":948,"user_id":2836301,"display_name":"Tonsic"},"comment_count":6,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1517587417,"creation_date":1517349741,"answer_id":48531258,"question_id":9923643,"body_markdown":"I found this note also useful: `@MapsId` in hibernate annotation maps a column with another table&#39;s column.\r\n\r\nIt can be used also to share the same primary key between 2 tables.\r\n\r\nExample:\r\n\r\n    @Entity\r\n    @Table(name = &quot;TRANSACTION_CANCEL&quot;)\r\n    public class CancelledTransaction {\r\n        @Id\r\n        private Long id; // the value in this pk will be the same as the\r\n                         // transaction line from transaction table to which \r\n                         // this cancelled transaction is related\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;ID_TRANSACTION&quot;, nullable = false)\r\n        @MapsId\r\n        private Transaction transaction;\r\n        ....\r\n    }\r\n\r\n    @Entity\r\n    @Table(name = &quot;TRANSACTION&quot;)\r\n    @SequenceGenerator(name = &quot;SQ_TRAN_ID&quot;, sequenceName = &quot;SQ_TRAN_ID&quot;)\r\n    public class Transaction  {\r\n        @Id\r\n        @GeneratedValue(generator = &quot;SQ_TRAN_ID&quot;, strategy = GenerationType.SEQUENCE)\r\n        @Column(name = &quot;ID_TRANSACTION&quot;, nullable = false)\r\n        private Long id;\r\n        ...\r\n    }","title":"can someone please explain me @MapsId in hibernate?","body":"<p>I found this note also useful: <code>@MapsId</code> in hibernate annotation maps a column with another table's column.</p>\n\n<p>It can be used also to share the same primary key between 2 tables.</p>\n\n<p>Example:</p>\n\n<pre><code>@Entity\n@Table(name = \"TRANSACTION_CANCEL\")\npublic class CancelledTransaction {\n    @Id\n    private Long id; // the value in this pk will be the same as the\n                     // transaction line from transaction table to which \n                     // this cancelled transaction is related\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = \"ID_TRANSACTION\", nullable = false)\n    @MapsId\n    private Transaction transaction;\n    ....\n}\n\n@Entity\n@Table(name = \"TRANSACTION\")\n@SequenceGenerator(name = \"SQ_TRAN_ID\", sequenceName = \"SQ_TRAN_ID\")\npublic class Transaction  {\n    @Id\n    @GeneratedValue(generator = \"SQ_TRAN_ID\", strategy = GenerationType.SEQUENCE)\n    @Column(name = \"ID_TRANSACTION\", nullable = false)\n    private Long id;\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2659819,"reputation":6153,"user_id":2299789,"accept_rate":62,"display_name":"BERGUIGA Mohamed Amine"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1665058855,"creation_date":1576143982,"answer_id":59301703,"question_id":9923643,"body_markdown":"As he explained Vladimir in his [tutorial][1], The best way to map a `@OneToOne` relationship is to use `@MapsId`. This way, you dont even need a bidirectional association since you can always fetch the Child entity by using the Parent entity identifier.\r\n\r\n  [1]: https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/","title":"can someone please explain me @MapsId in hibernate?","body":"<p>As he explained Vladimir in his <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">tutorial</a>, The best way to map a <code>@OneToOne</code> relationship is to use <code>@MapsId</code>. This way, you dont even need a bidirectional association since you can always fetch the Child entity by using the Parent entity identifier.</p>\n"},{"comments":[{"owner":{"account_id":17074189,"reputation":163,"user_id":12354182,"display_name":"cherish sham"},"score":0,"creation_date":1681703159,"post_id":60159200,"comment_id":134093680,"body_markdown":"and removed manually as well","body":"and removed manually as well"}],"tags":[],"owner":{"account_id":1613382,"reputation":3295,"user_id":1502439,"accept_rate":40,"display_name":"Janac Meena"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1581372578,"creation_date":1581372578,"answer_id":60159200,"question_id":9923643,"body_markdown":"MapsId lets you use the same primary key between two different entities/tables. Note: when you use MapsId, the `CASCADE.ALL` flag becomes useless, and you will need to make sure that your entities are saved manually. ","title":"can someone please explain me @MapsId in hibernate?","body":"<p>MapsId lets you use the same primary key between two different entities/tables. Note: when you use MapsId, the <code>CASCADE.ALL</code> flag becomes useless, and you will need to make sure that your entities are saved manually. </p>\n"},{"tags":[],"owner":{"account_id":3753631,"reputation":2325,"user_id":3120564,"accept_rate":80,"display_name":"Jaumzera"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1651522249,"creation_date":1592405286,"answer_id":62431808,"question_id":9923643,"body_markdown":"IMHO, the best way to think about `@MapsId` is when you need to map a composite key in a n:m entity.\r\n\r\nFor instance, a customer can have one or more consultant and a consultant can have one or more customer: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd your entites would be something like this (pseudo Java code):\r\n\r\n```java\r\n@Entity\r\npublic class Customer {\r\n   @Id\r\n   private Integer id;\r\n\r\n   private String name;\r\n}\r\n\r\n@Entity\r\npublic class Consultant {\r\n   @Id\r\n   private Integer id;\r\n\r\n   private String name;\r\n\r\n   @OneToMany\r\n   private List&lt;CustomerByConsultant&gt; customerByConsultants = new ArrayList&lt;&gt;();\r\n\r\n   public void add(CustomerByConsultant cbc) {\r\n      cbc.setConsultant(this);\r\n      this.customerByConsultant.add(cbc);\r\n   }\r\n}\r\n\r\n@Embeddable\r\npublic class CustomerByConsultantPk implements Serializable {\r\n    \r\n    private Integer customerId;\r\n\r\n    private Integer consultantId;\r\n}\r\n\r\n@Entity\r\npublic class CustomerByConsultant{\r\n   \r\n   @EmbeddedId\r\n   private CustomerByConsultantPk id = new CustomerByConsultantPk();\r\n   \r\n   @MapsId(&quot;customerId&quot;)\r\n   @JoinColumn(insertable = false, updatable = false)\r\n   private Customer customer;\r\n\r\n   @MapsId(&quot;consultantId&quot;)\r\n   @JoinColumn(insertable = false, updatable = false)\r\n   private Consultant consultant;\r\n}\r\n```\r\n\r\nMapping this way, JPA automagically inserts `Customer` and `Consultant` ids in the `EmbeddableId` whenever you save a consultant. So you don&#39;t need to manually create the `CustomerByConsultantPk`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CUUE4.png","title":"can someone please explain me @MapsId in hibernate?","body":"<p>IMHO, the best way to think about <code>@MapsId</code> is when you need to map a composite key in a n:m entity.</p>\n<p>For instance, a customer can have one or more consultant and a consultant can have one or more customer:</p>\n<p><a href=\"https://i.stack.imgur.com/CUUE4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CUUE4.png\" alt=\"enter image description here\" /></a></p>\n<p>And your entites would be something like this (pseudo Java code):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Customer {\n   @Id\n   private Integer id;\n\n   private String name;\n}\n\n@Entity\npublic class Consultant {\n   @Id\n   private Integer id;\n\n   private String name;\n\n   @OneToMany\n   private List&lt;CustomerByConsultant&gt; customerByConsultants = new ArrayList&lt;&gt;();\n\n   public void add(CustomerByConsultant cbc) {\n      cbc.setConsultant(this);\n      this.customerByConsultant.add(cbc);\n   }\n}\n\n@Embeddable\npublic class CustomerByConsultantPk implements Serializable {\n    \n    private Integer customerId;\n\n    private Integer consultantId;\n}\n\n@Entity\npublic class CustomerByConsultant{\n   \n   @EmbeddedId\n   private CustomerByConsultantPk id = new CustomerByConsultantPk();\n   \n   @MapsId(&quot;customerId&quot;)\n   @JoinColumn(insertable = false, updatable = false)\n   private Customer customer;\n\n   @MapsId(&quot;consultantId&quot;)\n   @JoinColumn(insertable = false, updatable = false)\n   private Consultant consultant;\n}\n</code></pre>\n<p>Mapping this way, JPA automagically inserts <code>Customer</code> and <code>Consultant</code> ids in the <code>EmbeddableId</code> whenever you save a consultant. So you don't need to manually create the <code>CustomerByConsultantPk</code>.</p>\n"}],"owner":{"account_id":105232,"reputation":19916,"user_id":280924,"accept_rate":82,"display_name":"brainydexter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122922,"favorite_count":0,"down_vote_count":0,"up_vote_count":122,"accepted_answer_id":9925895,"answer_count":5,"score":122,"last_activity_date":1665058855,"creation_date":1333017250,"question_id":9923643,"body_markdown":"Can someone please explain to me `@MapsId` in hibernate? I&#39;m having a hard time understanding it.\r\n\r\nIt would be great if one could explain it with an example and in what kind of use cases is it most applicable?","title":"can someone please explain me @MapsId in hibernate?","body":"<p>Can someone please explain to me <code>@MapsId</code> in hibernate? I'm having a hard time understanding it.</p>\n\n<p>It would be great if one could explain it with an example and in what kind of use cases is it most applicable?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1665058372,"post_id":73973565,"comment_id":130613216,"body_markdown":"[Please do not upload images of code/data/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors when asking a question.</a>"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":3,"creation_date":1665058383,"post_id":73973565,"comment_id":130613222,"body_markdown":"You forgot to show your `getAll` method","body":"You forgot to show your <code>getAll</code> method"},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":1,"creation_date":1665058543,"post_id":73973565,"comment_id":130613288,"body_markdown":"What is `database` in `database.put(userId, user)`. At what point is `userId` applied to the `user`?","body":"What is <code>database</code> in <code>database.put(userId, user)</code>. At what point is <code>userId</code> applied to the <code>user</code>?"}],"answers":[{"tags":[],"owner":{"account_id":11186541,"reputation":184,"user_id":8208674,"display_name":"Edson Vicente Carli Junior"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665058763,"creation_date":1665058763,"answer_id":73973690,"question_id":73973565,"body_markdown":"Try:\r\n\r\n```\r\n@Override\r\npublic int insertUser(UUID userId, User user) {\r\n    user.setUserId(userId);\r\n    database.put(userId, user);\r\n    return 1;\r\n}  \r\n```","title":"geting null, but expected randon UUID","body":"<p>Try:</p>\n<pre><code>@Override\npublic int insertUser(UUID userId, User user) {\n    user.setUserId(userId);\n    database.put(userId, user);\n    return 1;\n}  \n</code></pre>\n"}],"owner":{"account_id":20853579,"reputation":338,"user_id":16436722,"display_name":""},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73973690,"answer_count":1,"score":-1,"last_activity_date":1665058763,"creation_date":1665058289,"question_id":73973565,"body_markdown":"geting null, but expected randon UUID  \r\nentity  \r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class User {\r\n    \r\n      private UUID userId;\r\n      private String firstName;\r\n      private String lastName;\r\n      private Gender gender;\r\n      private Integer age;\r\n      private String email;\r\n    \r\n       public enum Gender {\r\n            MALE, FEMALE\r\n        }\r\n    }  \r\nservice method   \r\n \r\n\r\n    public int insertUser(User user) {\r\n            return repository.insertUser(UUID.randomUUID(), user);\r\n        }  \r\nrepository method  \r\n\r\n    @Override\r\n    public int insertUser(UUID userId, User user) {\r\n        database.put(userId, user);\r\n        return 1;\r\n    }  \r\ncontroller  \r\n\r\n    @PostMapping()\r\n    public ResponseEntity&lt;Integer&gt; insertNewUser(@RequestBody User user) {\r\n        int result = service.insertUser(user);\r\n        if (result == 1) {\r\n            return ResponseEntity.ok().build();\r\n        }\r\n        return ResponseEntity.badRequest().build();\r\n    }    \r\nafter insert entity and getting, it has userId null  \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/STi23.png","title":"geting null, but expected randon UUID","body":"<p>geting null, but expected randon UUID<br />\nentity</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n\n  private UUID userId;\n  private String firstName;\n  private String lastName;\n  private Gender gender;\n  private Integer age;\n  private String email;\n\n   public enum Gender {\n        MALE, FEMALE\n    }\n}  \n</code></pre>\n<p>service method</p>\n<pre><code>public int insertUser(User user) {\n        return repository.insertUser(UUID.randomUUID(), user);\n    }  \n</code></pre>\n<p>repository method</p>\n<pre><code>@Override\npublic int insertUser(UUID userId, User user) {\n    database.put(userId, user);\n    return 1;\n}  \n</code></pre>\n<p>controller</p>\n<pre><code>@PostMapping()\npublic ResponseEntity&lt;Integer&gt; insertNewUser(@RequestBody User user) {\n    int result = service.insertUser(user);\n    if (result == 1) {\n        return ResponseEntity.ok().build();\n    }\n    return ResponseEntity.badRequest().build();\n}    \n</code></pre>\n<p>after insert entity and getting, it has userId null<br />\n<a href=\"https://i.stack.imgur.com/STi23.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/STi23.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","web-services","soap","wsdl","jax-ws"],"answers":[{"comments":[{"owner":{"account_id":6332948,"reputation":673,"user_id":4917326,"accept_rate":64,"display_name":"Pradeep Charan"},"score":0,"creation_date":1499841565,"post_id":45050000,"comment_id":77073882,"body_markdown":"I am using Soap UI to test this,Where to write above code? In SoapService  class in method method1?","body":"I am using Soap UI to test this,Where to write above code? In SoapService  class in method method1?"},{"owner":{"account_id":8043351,"reputation":67,"user_id":6064296,"display_name":"Dinuka Hettiarachchi"},"score":0,"creation_date":1499856617,"post_id":45050000,"comment_id":77084349,"body_markdown":"I think it would be better if u try this one https://coderanch.com/t/503621/java/Modify-WSDL-HTTP-HTTPS","body":"I think it would be better if u try this one <a href=\"https://coderanch.com/t/503621/java/Modify-WSDL-HTTP-HTTPS\" rel=\"nofollow noreferrer\">coderanch.com/t/503621/java/Modify-WSDL-HTTP-HTTPS</a>"}],"tags":[],"owner":{"account_id":8043351,"reputation":67,"user_id":6064296,"display_name":"Dinuka Hettiarachchi"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1499840940,"creation_date":1499840940,"answer_id":45050000,"question_id":45049418,"body_markdown":"you may need to programmatically override the endpoint:\r\nTry to change it as \r\n\r\n    \r\n\r\n    MyServicePort myPort = new MyServiceInterface(new URL(&quot;https://acme.com/services/MyService.svc?wsdl&quot;)).getMyPort();\r\n    // set endpoint to use https\r\n    String endpointURL = &quot;https://acme.com/services/MyService.svc&quot;;\r\n    BindingProvider bp = (BindingProvider) myPort;\r\n    bp.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, endpointURL);``\r\n    myPort.test();","title":"How to make JAX-WS use https (http to https) for soap:address in generated wsdl","body":"<p>you may need to programmatically override the endpoint:\nTry to change it as </p>\n\n<pre><code>MyServicePort myPort = new MyServiceInterface(new URL(\"https://acme.com/services/MyService.svc?wsdl\")).getMyPort();\n// set endpoint to use https\nString endpointURL = \"https://acme.com/services/MyService.svc\";\nBindingProvider bp = (BindingProvider) myPort;\nbp.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, endpointURL);``\nmyPort.test();\n</code></pre>\n"}],"owner":{"account_id":6332948,"reputation":673,"user_id":4917326,"accept_rate":64,"display_name":"Pradeep Charan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665058528,"creation_date":1499838747,"question_id":45049418,"body_markdown":"I am creating soap web service using jax-ws and spring. Here is my code\r\n\r\n  \r\n\r\n    @WebService\r\n    @Service\r\n    public class SoapService {\r\n    \tSoapServiceDao soapServiceDao;\r\n    \t@WebMethod(exclude = true)\r\n    \tpublic void setSoapServiceDao(SoapServiceDao soapServiceDao) {\r\n    \t\tthis.soapServiceDao = soapServiceDao;\r\n    \t}\r\n    \r\n    \t@WebMethod\r\n        @SOAPBinding(parameterStyle=ParameterStyle.BARE)\r\n    \tpublic Message method1(SoapResponse soapResponse) {\r\n    \t\treturn new Message();\r\n    \t}\r\n    }\r\n\r\nand in application-context.xml\r\n\r\n    &lt;wss:binding url=&quot;/soapservice&quot;&gt;\r\n\t\t&lt;wss:service&gt;\r\n\t\t\t&lt;ws:service bean=&quot;#soapserviceImpl&quot; /&gt;\r\n\t\t&lt;/wss:service&gt;\r\n&lt;/wss:binding&gt;\r\n\t\r\nIn generated wsdl \r\n\r\n        &lt;soap:address location=&quot;http://localhost:8080/soapservice&quot;/&gt;\r\n\r\nbut i want **https** because my server accepts only https requests. \r\n\r\nIs it possible to change http to https in this case?","title":"How to make JAX-WS use https (http to https) for soap:address in generated wsdl","body":"<p>I am creating soap web service using jax-ws and spring. Here is my code</p>\n\n<pre><code>@WebService\n@Service\npublic class SoapService {\n    SoapServiceDao soapServiceDao;\n    @WebMethod(exclude = true)\n    public void setSoapServiceDao(SoapServiceDao soapServiceDao) {\n        this.soapServiceDao = soapServiceDao;\n    }\n\n    @WebMethod\n    @SOAPBinding(parameterStyle=ParameterStyle.BARE)\n    public Message method1(SoapResponse soapResponse) {\n        return new Message();\n    }\n}\n</code></pre>\n\n<p>and in application-context.xml</p>\n\n<pre><code>&lt;wss:binding url=\"/soapservice\"&gt;\n    &lt;wss:service&gt;\n        &lt;ws:service bean=\"#soapserviceImpl\" /&gt;\n    &lt;/wss:service&gt;\n</code></pre>\n\n<p></p>\n\n<p>In generated wsdl </p>\n\n<pre><code>    &lt;soap:address location=\"http://localhost:8080/soapservice\"/&gt;\n</code></pre>\n\n<p>but i want <strong>https</strong> because my server accepts only https requests. </p>\n\n<p>Is it possible to change http to https in this case?</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":6513889,"reputation":609,"user_id":5040323,"accept_rate":75,"display_name":"Shivanshu Verma"},"score":0,"creation_date":1665057051,"post_id":73973272,"comment_id":130612730,"body_markdown":"where and how you call goToLoginActivity() Method ?","body":"where and how you call goToLoginActivity() Method ?"},{"owner":{"account_id":26516869,"reputation":41,"user_id":20151246,"display_name":"Blek Bomor"},"score":0,"creation_date":1665057158,"post_id":73973272,"comment_id":130612779,"body_markdown":"in the main activity in line 11","body":"in the main activity in line 11"},{"owner":{"account_id":11532477,"reputation":151,"user_id":8451032,"display_name":"Chandresh 204"},"score":0,"creation_date":1665057257,"post_id":73973272,"comment_id":130612809,"body_markdown":"Its looks like there is some problem with your image view in loginScreen.xml, check this line  app:srcCompat=&quot;@drawable/bg_plain&quot;, is bg_plain in the drawable folder, or in drawable(v24) something, try with some other image, your log cat says, resource not found exception,","body":"Its looks like there is some problem with your image view in loginScreen.xml, check this line  app:srcCompat=&quot;@drawable/bg_plain&quot;, is bg_plain in the drawable folder, or in drawable(v24) something, try with some other image, your log cat says, resource not found exception,"},{"owner":{"account_id":4972497,"reputation":1593,"user_id":3999808,"accept_rate":0,"display_name":"Zun"},"score":0,"creation_date":1665057534,"post_id":73973272,"comment_id":130612906,"body_markdown":"Real exception is `Caused by: android.content.res.Resources$NotFoundException: Resource ID #0x7f080059`. Seems like you&#39;re using an image that doesn&#39;t exist in the right folder","body":"Real exception is <code>Caused by: android.content.res.Resources$NotFoundException: Resource ID #0x7f080059</code>. Seems like you&#39;re using an image that doesn&#39;t exist in the right folder"},{"owner":{"account_id":26516869,"reputation":41,"user_id":20151246,"display_name":"Blek Bomor"},"score":0,"creation_date":1665057727,"post_id":73973272,"comment_id":130612987,"body_markdown":"yes, bg_plain is in the drawable folder","body":"yes, bg_plain is in the drawable folder"},{"owner":{"account_id":26516869,"reputation":41,"user_id":20151246,"display_name":"Blek Bomor"},"score":0,"creation_date":1665058285,"post_id":73973272,"comment_id":130613179,"body_markdown":"no wait, sorry the bg_plain was in the drawable_v24 folder. you need to check it in the files.","body":"no wait, sorry the bg_plain was in the drawable_v24 folder. you need to check it in the files."}],"owner":{"account_id":26516869,"reputation":41,"user_id":20151246,"display_name":"Blek Bomor"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665058424,"creation_date":1665056889,"question_id":73973272,"body_markdown":"There is a button in &quot;MainActivity.java&quot; which has an button with a onClick command of goToLoginPage and I have a second activity named &quot;LoginScreen.java&quot; and and in the UI, when I click the button, the application crashes.\r\n\r\n## MainActivity.java ##\r\n```java\r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n        public void goToLoginActivity (View view){\r\n\r\n            Intent intent = new Intent(getApplicationContext(), LoginScreen.class);\r\n            startActivity(intent);\r\n\r\n        }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n}\r\n```\r\n\r\n# activity_main.xml #\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:scaleType=&quot;fitXY&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:srcCompat=&quot;@drawable/bg_bootiful&quot;\r\n        android:contentDescription = &quot;@string/background&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.62&quot;\r\n        app:srcCompat=&quot;@drawable/divider&quot;\r\n        android:contentDescription=&quot;@string/divider_image&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/logInButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/button_dark&quot;\r\n        android:fontFamily=&quot;@font/staatliches&quot;\r\n        android:onClick=&quot;goToLoginActivity&quot;\r\n        android:text=&quot;@string/login_st&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.526&quot;\r\n        tools:ignore=&quot;UsingOnClickInXml&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/signUpButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/light_button&quot;\r\n        android:backgroundTint=&quot;#00FF0000&quot;\r\n        android:backgroundTintMode=&quot;src_over&quot;\r\n        android:fontFamily=&quot;@font/staatliches&quot;\r\n        android:includeFontPadding=&quot;true&quot;\r\n        android:text=&#39;@string/signup_str&#39;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.747&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/top_text&quot;\r\n        android:layout_width=&quot;304dp&quot;\r\n        android:layout_height=&quot;75dp&quot;\r\n        android:fontFamily=&quot;@font/poppins&quot;\r\n        android:gravity=&quot;center_horizontal&quot;\r\n        android:text=&#39;@string/welcome&#39;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;60sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.231&quot; /&gt;\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n#  LoginScreen.java #\r\n```java\r\npackage com.example.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\n\r\npublic class LoginScreen extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login_screen);\r\n    }\r\n}\r\n```\r\n#  activity_login_screen.xml #\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.LoginScreen&quot;&gt;\r\n\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView3&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:contentDescription=&quot;@string/background&quot;\r\n        android:scaleType=&quot;fitXY&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot;\r\n        app:srcCompat=&quot;@drawable/bg_plain&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:fontFamily=&quot;@font/poppins&quot;\r\n        android:text=&quot;@string/login&quot;\r\n        android:textColor=&quot;#FFFFFF&quot;\r\n        android:textSize=&quot;50sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.165&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/usernameField&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/field_bg&quot;\r\n        android:drawableStart=&quot;@drawable/custom_username_field&quot;\r\n        android:drawablePadding=&quot;50dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:fontFamily=&quot;@font/poppins&quot;\r\n        android:hint=&quot;@string/username&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        android:textColor=&quot;#9A9A9A&quot;\r\n        app:boxStrokeWidth=&quot;@null&quot;\r\n        app:boxStrokeWidthFocused=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.504&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.424&quot;\r\n        tools:ignore=&quot;TouchTargetSizeCheck&quot;\r\n        android:autofillHints=&quot;&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/passwordField&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:autofillHints=&quot;&quot;\r\n        android:background=&quot;@drawable/field_bg&quot;\r\n        android:drawableStart=&quot;@drawable/custom_password_field&quot;\r\n        android:drawablePadding=&quot;50dp&quot;\r\n        android:ems=&quot;10&quot;\r\n        android:fontFamily=&quot;@font/poppins&quot;\r\n        android:hint=&quot;@string/password&quot;\r\n        android:inputType=&quot;textPassword&quot;\r\n        app:boxStrokeWidth=&quot;@null&quot;\r\n        app:boxStrokeWidthFocused=&quot;0dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.504&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.532&quot;\r\n        tools:ignore=&quot;TouchTargetSizeCheck&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/logInButton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/button_dark&quot;\r\n        android:fontFamily=&quot;@font/staatliches&quot;\r\n        android:text=&quot;@string/login_st&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.507&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.699&quot;\r\n        tools:ignore=&quot;UsingOnClickInXml&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n## Error Log ##\r\n\r\n```error\r\n2022-10-06 16:32:52.589 4551-4551/com.example.myapplication E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.myapplication, PID: 4551\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myapplication/com.example.myapplication.LoginScreen}: android.view.InflateException: Binary XML file line #10: Error inflating class ImageView\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2325)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)\r\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:135)\r\n        at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at java.lang.reflect.Method.invoke(Method.java:372)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\r\n     Caused by: android.view.InflateException: Binary XML file line #10: Error inflating class ImageView\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:763)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:806)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:504)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:414)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:365)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710)\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\r\n        at com.example.myapplication.LoginScreen.onCreate(LoginScreen.java:12)\r\n        at android.app.Activity.performCreate(Activity.java:5990)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)&#160;\r\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n        at android.os.Looper.loop(Looper.java:135)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:5254)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at java.lang.reflect.Method.invoke(Method.java:372)&#160;\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)&#160;\r\n     Caused by: android.content.res.Resources$NotFoundException: Resource ID #0x7f080059\r\n        at android.content.res.Resources.getValue(Resources.java:1266)\r\n        at androidx.appcompat.widget.ResourceManagerInternal.loadDrawableFromDelegates(ResourceManagerInternal.java:257)\r\n        at androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:144)\r\n        at androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:137)\r\n        at androidx.appcompat.content.res.AppCompatResources.getDrawable(AppCompatResources.java:66)\r\n        at androidx.appcompat.widget.AppCompatImageHelper.loadFromAttributes(AppCompatImageHelper.java:64)\r\n        at androidx.appcompat.widget.AppCompatImageView.&lt;init&gt;(AppCompatImageView.java:86)\r\n        at androidx.appcompat.widget.AppCompatImageView.&lt;init&gt;(AppCompatImageView.java:73)\r\n        at androidx.appcompat.app.AppCompatViewInflater.createImageView(AppCompatViewInflater.java:206)\r\n        at androidx.appcompat.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:125)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.createView(AppCompatDelegateImpl.java:1569)\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.onCreateView(AppCompatDelegateImpl.java:1620)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:725)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:806)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:504)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:414)&#160;\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:365)&#160;\r\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710)&#160;\r\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)&#160;\r\n        at com.example.myapplication.LoginScreen.onCreate(LoginScreen.java:12)&#160;\r\n        at android.app.Activity.performCreate(Activity.java:5990)&#160;\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)&#160;\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278)&#160;\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)&#160;\r\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n        at android.os.Looper.loop(Looper.java:135)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:5254)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at java.lang.reflect.Method.invoke(Method.java:372)&#160;\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)&#160;\r\n2022-10-06 16:33:01.959 4551-4551/com.example.myapplication I/Process: Sending signal. PID: 4551 SIG: 9\r\n```\r\n## (edit) AppManifest.xml ##\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.myapplication&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyApplication&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;preloaded_fonts&quot;\r\n            android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.LoginScreen&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n# SOLVED #\r\nyou need to make sure that the images you use are in the correct drawable folder other than the drawable-v24 folder","title":"App crashed on startup for an unknown reason","body":"<p>There is a button in &quot;MainActivity.java&quot; which has an button with a onClick command of goToLoginPage and I have a second activity named &quot;LoginScreen.java&quot; and and in the UI, when I click the button, the application crashes.</p>\n<h2>MainActivity.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\n\npublic class MainActivity extends AppCompatActivity {\n\n        public void goToLoginActivity (View view){\n\n            Intent intent = new Intent(getApplicationContext(), LoginScreen.class);\n            startActivity(intent);\n\n        }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n<h1>activity_main.xml</h1>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:scaleType=&quot;fitXY&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:srcCompat=&quot;@drawable/bg_bootiful&quot;\n        android:contentDescription = &quot;@string/background&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.62&quot;\n        app:srcCompat=&quot;@drawable/divider&quot;\n        android:contentDescription=&quot;@string/divider_image&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/logInButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@drawable/button_dark&quot;\n        android:fontFamily=&quot;@font/staatliches&quot;\n        android:onClick=&quot;goToLoginActivity&quot;\n        android:text=&quot;@string/login_st&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.526&quot;\n        tools:ignore=&quot;UsingOnClickInXml&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/signUpButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@drawable/light_button&quot;\n        android:backgroundTint=&quot;#00FF0000&quot;\n        android:backgroundTintMode=&quot;src_over&quot;\n        android:fontFamily=&quot;@font/staatliches&quot;\n        android:includeFontPadding=&quot;true&quot;\n        android:text='@string/signup_str'\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.747&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/top_text&quot;\n        android:layout_width=&quot;304dp&quot;\n        android:layout_height=&quot;75dp&quot;\n        android:fontFamily=&quot;@font/poppins&quot;\n        android:gravity=&quot;center_horizontal&quot;\n        android:text='@string/welcome'\n        android:textAlignment=&quot;center&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:textSize=&quot;60sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.231&quot; /&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<h1>LoginScreen.java</h1>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\n\npublic class LoginScreen extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_login_screen);\n    }\n}\n</code></pre>\n<h1>activity_login_screen.xml</h1>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.LoginScreen&quot;&gt;\n\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView3&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:contentDescription=&quot;@string/background&quot;\n        android:scaleType=&quot;fitXY&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot;\n        app:srcCompat=&quot;@drawable/bg_plain&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:fontFamily=&quot;@font/poppins&quot;\n        android:text=&quot;@string/login&quot;\n        android:textColor=&quot;#FFFFFF&quot;\n        android:textSize=&quot;50sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.165&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/usernameField&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@drawable/field_bg&quot;\n        android:drawableStart=&quot;@drawable/custom_username_field&quot;\n        android:drawablePadding=&quot;50dp&quot;\n        android:ems=&quot;10&quot;\n        android:fontFamily=&quot;@font/poppins&quot;\n        android:hint=&quot;@string/username&quot;\n        android:inputType=&quot;textPersonName&quot;\n        android:textColor=&quot;#9A9A9A&quot;\n        app:boxStrokeWidth=&quot;@null&quot;\n        app:boxStrokeWidthFocused=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.504&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.424&quot;\n        tools:ignore=&quot;TouchTargetSizeCheck&quot;\n        android:autofillHints=&quot;&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/passwordField&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:autofillHints=&quot;&quot;\n        android:background=&quot;@drawable/field_bg&quot;\n        android:drawableStart=&quot;@drawable/custom_password_field&quot;\n        android:drawablePadding=&quot;50dp&quot;\n        android:ems=&quot;10&quot;\n        android:fontFamily=&quot;@font/poppins&quot;\n        android:hint=&quot;@string/password&quot;\n        android:inputType=&quot;textPassword&quot;\n        app:boxStrokeWidth=&quot;@null&quot;\n        app:boxStrokeWidthFocused=&quot;0dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.504&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.532&quot;\n        tools:ignore=&quot;TouchTargetSizeCheck&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/logInButton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@drawable/button_dark&quot;\n        android:fontFamily=&quot;@font/staatliches&quot;\n        android:text=&quot;@string/login_st&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.507&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.699&quot;\n        tools:ignore=&quot;UsingOnClickInXml&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<h2>Error Log</h2>\n<pre><code>2022-10-06 16:32:52.589 4551-4551/com.example.myapplication E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.myapplication, PID: 4551\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.myapplication/com.example.myapplication.LoginScreen}: android.view.InflateException: Binary XML file line #10: Error inflating class ImageView\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2325)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:135)\n        at android.app.ActivityThread.main(ActivityThread.java:5254)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\n     Caused by: android.view.InflateException: Binary XML file line #10: Error inflating class ImageView\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:763)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:806)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:504)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:414)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:365)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\n        at com.example.myapplication.LoginScreen.onCreate(LoginScreen.java:12)\n        at android.app.Activity.performCreate(Activity.java:5990)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:135)\n        at android.app.ActivityThread.main(ActivityThread.java:5254)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\n     Caused by: android.content.res.Resources$NotFoundException: Resource ID #0x7f080059\n        at android.content.res.Resources.getValue(Resources.java:1266)\n        at androidx.appcompat.widget.ResourceManagerInternal.loadDrawableFromDelegates(ResourceManagerInternal.java:257)\n        at androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:144)\n        at androidx.appcompat.widget.ResourceManagerInternal.getDrawable(ResourceManagerInternal.java:137)\n        at androidx.appcompat.content.res.AppCompatResources.getDrawable(AppCompatResources.java:66)\n        at androidx.appcompat.widget.AppCompatImageHelper.loadFromAttributes(AppCompatImageHelper.java:64)\n        at androidx.appcompat.widget.AppCompatImageView.&lt;init&gt;(AppCompatImageView.java:86)\n        at androidx.appcompat.widget.AppCompatImageView.&lt;init&gt;(AppCompatImageView.java:73)\n        at androidx.appcompat.app.AppCompatViewInflater.createImageView(AppCompatViewInflater.java:206)\n        at androidx.appcompat.app.AppCompatViewInflater.createView(AppCompatViewInflater.java:125)\n        at androidx.appcompat.app.AppCompatDelegateImpl.createView(AppCompatDelegateImpl.java:1569)\n        at androidx.appcompat.app.AppCompatDelegateImpl.onCreateView(AppCompatDelegateImpl.java:1620)\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:725)\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:806)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:504)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:414)\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:365)\n        at androidx.appcompat.app.AppCompatDelegateImpl.setContentView(AppCompatDelegateImpl.java:710)\n        at androidx.appcompat.app.AppCompatActivity.setContentView(AppCompatActivity.java:195)\n        at com.example.myapplication.LoginScreen.onCreate(LoginScreen.java:12)\n        at android.app.Activity.performCreate(Activity.java:5990)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1106)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2278)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2387)\n        at android.app.ActivityThread.access$800(ActivityThread.java:151)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1303)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loop(Looper.java:135)\n        at android.app.ActivityThread.main(ActivityThread.java:5254)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:372)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\n2022-10-06 16:33:01.959 4551-4551/com.example.myapplication I/Process: Sending signal. PID: 4551 SIG: 9\n</code></pre>\n<h2>(edit) AppManifest.xml</h2>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.myapplication&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyApplication&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;meta-data\n            android:name=&quot;preloaded_fonts&quot;\n            android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.LoginScreen&quot;\n            android:exported=&quot;false&quot; /&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<h1>SOLVED</h1>\n<p>you need to make sure that the images you use are in the correct drawable folder other than the drawable-v24 folder</p>\n"},{"tags":["java","spring","hibernate","unit-testing","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78757,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665057865,"creation_date":1665057865,"answer_id":73973480,"question_id":73973100,"body_markdown":"[`@DataJpaTest`][1] includes `@Transactional` so your test runs in a single transaction.\r\n\r\nBut for a single transaction the 1st level cache of JPA ensures that you&#39;ll get always the same instance for a given class and id.\r\nThis means `request1` and `request2` are actually the same instance and there happens only a single flush will can&#39;t create an optimistic locking exception.\r\n\r\nThere are two approaches to create an optimistic locking exception.\r\n\r\n1. Actually use two or more transactions. [`TransactionTemplate`][2] is very useful for this. You could put the loading of the `request1` in a first transaction then load, modify, save, and flush `request2` and then modify, save, and flush `request1`. If you want to have it even closer to what is happen in production you could start two threads doing those operations and by using [`CountDownLatch`][3] make sure they proceed in the desired order.\r\n\r\n2. Alternatively you should be able to trigger the desired exception by loading a request, modifying its version attribute and flush the transaction. This of course is rather far from what happens in production but as said it should trigger the exception.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/support/TransactionTemplate.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html","title":"How to trigger org.springframework.orm.ObjectOptimisticLockingFailureException in tests?","body":"<p><a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html\" rel=\"nofollow noreferrer\"><code>@DataJpaTest</code></a> includes <code>@Transactional</code> so your test runs in a single transaction.</p>\n<p>But for a single transaction the 1st level cache of JPA ensures that you'll get always the same instance for a given class and id.\nThis means <code>request1</code> and <code>request2</code> are actually the same instance and there happens only a single flush will can't create an optimistic locking exception.</p>\n<p>There are two approaches to create an optimistic locking exception.</p>\n<ol>\n<li><p>Actually use two or more transactions. <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/support/TransactionTemplate.html\" rel=\"nofollow noreferrer\"><code>TransactionTemplate</code></a> is very useful for this. You could put the loading of the <code>request1</code> in a first transaction then load, modify, save, and flush <code>request2</code> and then modify, save, and flush <code>request1</code>. If you want to have it even closer to what is happen in production you could start two threads doing those operations and by using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\"><code>CountDownLatch</code></a> make sure they proceed in the desired order.</p>\n</li>\n<li><p>Alternatively you should be able to trigger the desired exception by loading a request, modifying its version attribute and flush the transaction. This of course is rather far from what happens in production but as said it should trigger the exception.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":23220679,"reputation":51,"user_id":17312952,"display_name":"Grigorii Kostarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73973480,"answer_count":1,"score":0,"last_activity_date":1665057865,"creation_date":1665055990,"question_id":73973100,"body_markdown":"I have following error in code, when I save objects in 2 different transactions:\r\n\r\n&gt; org.springframework.orm.ObjectOptimisticLockingFailureException: Object of class [] with identifier []: optimistic locking failed; nested exception is org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : []\r\n\r\nI have been trying to write test for the exception. However, all tests have been passed. \r\n\r\nMy test:\r\n\r\n    @Slf4j\r\n    @Rollback\r\n    @Transactional\r\n    @DataJpaTest\r\n    @ActiveProfiles({&quot;test&quot;, &quot;h2&quot;})\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    @Import(value = {\r\n            StatusService.class\r\n    })\r\n    class StatusServiceTest {\r\n    \r\n        @Autowired\r\n        private RequestRepository repository;\r\n        @Autowired\r\n        private StatusService statusService;\r\n    \r\n        private Request request;\r\n        private final UUID requestUID = UUID.randomUUID();\r\n    \r\n        @BeforeEach\r\n        void setUp() {\r\n            request = new Request();\r\n            request.setRequestUID(requestUID);\r\n            repository.save(request);\r\n        }\r\n    \r\n        @Test\r\n        void updateStatus() {\r\n            Request request1 = repository.findByRequestUID(requestUID);\r\n            Request request2 = repository.findByRequestUID(requestUID);\r\n            statusService.updateStatus(request1, &quot;Done&quot;);\r\n            statusService.updateStatus(request2, &quot;In_progress&quot;);\r\n        }\r\n    }\r\n\r\nService:\r\n\r\n    @Service\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    public class StatusService {\r\n        private final RequestRepository repository;\r\n    \r\n        @Transactional\r\n        public void updateStatus(Request request, String status) {\r\n            // Some simple logic\r\n            request.setStatus(status);\r\n            repository.save(request); // The line with error\r\n        }\r\n    }\r\n\r\nModel:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class Request {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @JsonIgnore\r\n        protected Long id;\r\n    \r\n        protected UUID requestUID;\r\n    \r\n        private String status;\r\n        \r\n        // Some additional fields\r\n        \r\n        @JsonIgnore\r\n        @Version\r\n        private Integer version;\r\n    \r\n    }\r\n\r\nWhere am I wrong? How to write test for triggering error?","title":"How to trigger org.springframework.orm.ObjectOptimisticLockingFailureException in tests?","body":"<p>I have following error in code, when I save objects in 2 different transactions:</p>\n<blockquote>\n<p>org.springframework.orm.ObjectOptimisticLockingFailureException: Object of class [] with identifier []: optimistic locking failed; nested exception is org.hibernate.StaleObjectStateException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect) : []</p>\n</blockquote>\n<p>I have been trying to write test for the exception. However, all tests have been passed.</p>\n<p>My test:</p>\n<pre><code>@Slf4j\n@Rollback\n@Transactional\n@DataJpaTest\n@ActiveProfiles({&quot;test&quot;, &quot;h2&quot;})\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@Import(value = {\n        StatusService.class\n})\nclass StatusServiceTest {\n\n    @Autowired\n    private RequestRepository repository;\n    @Autowired\n    private StatusService statusService;\n\n    private Request request;\n    private final UUID requestUID = UUID.randomUUID();\n\n    @BeforeEach\n    void setUp() {\n        request = new Request();\n        request.setRequestUID(requestUID);\n        repository.save(request);\n    }\n\n    @Test\n    void updateStatus() {\n        Request request1 = repository.findByRequestUID(requestUID);\n        Request request2 = repository.findByRequestUID(requestUID);\n        statusService.updateStatus(request1, &quot;Done&quot;);\n        statusService.updateStatus(request2, &quot;In_progress&quot;);\n    }\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@Service\n@Slf4j\n@RequiredArgsConstructor\npublic class StatusService {\n    private final RequestRepository repository;\n\n    @Transactional\n    public void updateStatus(Request request, String status) {\n        // Some simple logic\n        request.setStatus(status);\n        repository.save(request); // The line with error\n    }\n}\n</code></pre>\n<p>Model:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class Request {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @JsonIgnore\n    protected Long id;\n\n    protected UUID requestUID;\n\n    private String status;\n    \n    // Some additional fields\n    \n    @JsonIgnore\n    @Version\n    private Integer version;\n\n}\n</code></pre>\n<p>Where am I wrong? How to write test for triggering error?</p>\n"},{"tags":["java","scala","maven","apache-spark","intellij-idea"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1665050620,"post_id":73971966,"comment_id":130610474,"body_markdown":"`&#39;-target:8&#39;` --&gt; `&#39;-target:1.8&#39;`","body":"<code>&#39;-target:8&#39;</code> --&gt; <code>&#39;-target:1.8&#39;</code>"},{"owner":{"account_id":24589355,"reputation":63,"user_id":18493482,"display_name":"Reda20"},"score":0,"creation_date":1665051131,"post_id":73971966,"comment_id":130610661,"body_markdown":"where can i change this ?","body":"where can i change this ?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665051434,"post_id":73971966,"comment_id":130610746,"body_markdown":"How should I know, without knowing your pom.xml?","body":"How should I know, without knowing your pom.xml?"},{"owner":{"account_id":24589355,"reputation":63,"user_id":18493482,"display_name":"Reda20"},"score":0,"creation_date":1665056962,"post_id":73971966,"comment_id":130612704,"body_markdown":"Sorry! I&#39;ve just added it in the com bellow","body":"Sorry! I&#39;ve just added it in the com bellow"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665057402,"post_id":73971966,"comment_id":130612860,"body_markdown":"Do oyu set `maven.compiler.target` via command line?","body":"Do oyu set <code>maven.compiler.target</code> via command line?"},{"owner":{"account_id":24589355,"reputation":63,"user_id":18493482,"display_name":"Reda20"},"score":0,"creation_date":1665057856,"post_id":73971966,"comment_id":130613036,"body_markdown":"I only use `mvn package -DskipTests` for compilation","body":"I only use <code>mvn package -DskipTests</code> for compilation"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665058407,"post_id":73971966,"comment_id":130613240,"body_markdown":"Maybe this helps: https://stackoverflow.com/questions/29041527/jvm-1-8-is-not-a-valid-choice-for-target","body":"Maybe this helps: <a href=\"https://stackoverflow.com/questions/29041527/jvm-1-8-is-not-a-valid-choice-for-target\" title=\"jvm 1 8 is not a valid choice for target\">stackoverflow.com/questions/29041527/&hellip;</a>"}],"owner":{"account_id":24589355,"reputation":63,"user_id":18493482,"display_name":"Reda20"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1991,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665057802,"creation_date":1665050453,"question_id":73971966,"body_markdown":"I&#39;m trying to build and run a scala/spark program from a terminal, but while building the program I&#39;m getting the following error. Does anyone know how to solve this issue ?\r\n\r\n    [ERROR] &#39;8&#39; is not a valid choice for &#39;-target&#39;\r\n    [ERROR] bad option: &#39;-target:8&#39;\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  1.961 s\r\n    [INFO] Finished at: 2022-10-06T11:39:28+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal net.alchim31.maven:scala-maven-plugin:4.7.2:compile (default) on project DisDPMM_2.13: Execution default of goal net.alchim31.maven:scala-maven-plugin:4.7.2:compile failed: Compilation failed: InterfaceCompileFailed -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n\r\n\r\nThe pom.xml\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n        &lt;scala.version&gt;2.13.0&lt;/scala.version&gt;\r\n        &lt;scala.compat.version&gt;2.13&lt;/scala.compat.version&gt;\r\n        &lt;scala.binary.version&gt;2.13&lt;/scala.binary.version&gt;\r\n        &lt;spark.version&gt;3.3.0&lt;/spark.version&gt;\r\n        &lt;spec2.version&gt;4.2.0&lt;/spec2.version&gt;\r\n        &lt;timestamp&gt;${maven.build.timestamp}&lt;/timestamp&gt;\r\n        &lt;maven.build.timestamp.format&gt;ddMMyyyy&lt;/maven.build.timestamp.format&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Scala --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n            &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n            &lt;version&gt;${scala.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Spark --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_${scala.binary.version}&lt;/artifactId&gt;\r\n            &lt;version&gt;${spark.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-sql_${scala.binary.version}&lt;/artifactId&gt;\r\n            &lt;version&gt;${spark.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-mllib_${scala.binary.version}&lt;/artifactId&gt;\r\n            &lt;version&gt;${spark.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Breeze --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.scalanlp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;breeze_${scala.binary.version}&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.scalanlp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;breeze-natives_${scala.binary.version}&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.scalanlp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;breeze-viz_${scala.binary.version}&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Test --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.12&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.scalatest/scalatest --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.scalatest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;scalatest_2.13&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.12&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;me.tongfei&lt;/groupId&gt;\r\n            &lt;artifactId&gt;progressbar&lt;/artifactId&gt;\r\n            &lt;version&gt;0.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Other Dependencies --&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.github.haifengl/smile-scala --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.haifengl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;smile-scala_${scala.binary.version}&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;gov.sandia.foundry&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cognitive-foundry&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json4s&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json4s-native_${scala.binary.version}&lt;/artifactId&gt;\r\n            &lt;version&gt;3.7.0-M7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;dev.ludovic.netlib&lt;/groupId&gt;\r\n            &lt;artifactId&gt;blas&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;dev.ludovic.netlib&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lapack&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src/main/scala&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;src/test/scala&lt;/testSourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n                &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.7.2&lt;/version&gt;&lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;goal&gt;testCompile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;args&gt;\r\n                        &lt;arg&gt;-g:line&lt;/arg&gt;\r\n                    &lt;/args&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- segmentation.Test --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;!-- Tests will be run with scalatest-maven-plugin instead --&gt;\r\n                    &lt;skipTests&gt;true&lt;/skipTests&gt;\r\n                    &lt;argLine&gt;-Xmx1024m&lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.scalatest&lt;/groupId&gt;\r\n                &lt;artifactId&gt;scalatest-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;test&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;test&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\nI&#39;m using:\r\n- scala 2.13\r\n- scala-maven-plugin: 4.7.2\r\n- spark 3.3.0\r\n- Java-8-\r\nThanks a lot!\r\n\r\n","title":"Failed to execute goal net.alchim31.maven:scala-maven-plugin:4.7.2:compile","body":"<p>I'm trying to build and run a scala/spark program from a terminal, but while building the program I'm getting the following error. Does anyone know how to solve this issue ?</p>\n<pre><code>[ERROR] '8' is not a valid choice for '-target'\n[ERROR] bad option: '-target:8'\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.961 s\n[INFO] Finished at: 2022-10-06T11:39:28+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal net.alchim31.maven:scala-maven-plugin:4.7.2:compile (default) on project DisDPMM_2.13: Execution default of goal net.alchim31.maven:scala-maven-plugin:4.7.2:compile failed: Compilation failed: InterfaceCompileFailed -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n</code></pre>\n<p>The pom.xml</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n    &lt;scala.version&gt;2.13.0&lt;/scala.version&gt;\n    &lt;scala.compat.version&gt;2.13&lt;/scala.compat.version&gt;\n    &lt;scala.binary.version&gt;2.13&lt;/scala.binary.version&gt;\n    &lt;spark.version&gt;3.3.0&lt;/spark.version&gt;\n    &lt;spec2.version&gt;4.2.0&lt;/spec2.version&gt;\n    &lt;timestamp&gt;${maven.build.timestamp}&lt;/timestamp&gt;\n    &lt;maven.build.timestamp.format&gt;ddMMyyyy&lt;/maven.build.timestamp.format&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- Scala --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n        &lt;version&gt;${scala.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Spark --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-core_${scala.binary.version}&lt;/artifactId&gt;\n        &lt;version&gt;${spark.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-sql_${scala.binary.version}&lt;/artifactId&gt;\n        &lt;version&gt;${spark.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-mllib_${scala.binary.version}&lt;/artifactId&gt;\n        &lt;version&gt;${spark.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Breeze --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.scalanlp&lt;/groupId&gt;\n        &lt;artifactId&gt;breeze_${scala.binary.version}&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.scalanlp&lt;/groupId&gt;\n        &lt;artifactId&gt;breeze-natives_${scala.binary.version}&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.scalanlp&lt;/groupId&gt;\n        &lt;artifactId&gt;breeze-viz_${scala.binary.version}&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Test --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.scalatest/scalatest --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.scalatest&lt;/groupId&gt;\n        &lt;artifactId&gt;scalatest_2.13&lt;/artifactId&gt;\n        &lt;version&gt;3.2.12&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n        &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n        &lt;version&gt;4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;me.tongfei&lt;/groupId&gt;\n        &lt;artifactId&gt;progressbar&lt;/artifactId&gt;\n        &lt;version&gt;0.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Other Dependencies --&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.github.haifengl/smile-scala --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.haifengl&lt;/groupId&gt;\n        &lt;artifactId&gt;smile-scala_${scala.binary.version}&lt;/artifactId&gt;\n        &lt;version&gt;2.5.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;gov.sandia.foundry&lt;/groupId&gt;\n        &lt;artifactId&gt;cognitive-foundry&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json4s&lt;/groupId&gt;\n        &lt;artifactId&gt;json4s-native_${scala.binary.version}&lt;/artifactId&gt;\n        &lt;version&gt;3.7.0-M7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;dev.ludovic.netlib&lt;/groupId&gt;\n        &lt;artifactId&gt;blas&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;dev.ludovic.netlib&lt;/groupId&gt;\n        &lt;artifactId&gt;lapack&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;sourceDirectory&gt;src/main/scala&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt;src/test/scala&lt;/testSourceDirectory&gt;\n    &lt;plugins&gt;\n    &lt;plugin&gt;\n            &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;scala-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;4.7.2&lt;/version&gt;&lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;goal&gt;testCompile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;args&gt;\n                    &lt;arg&gt;-g:line&lt;/arg&gt;\n                &lt;/args&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;!-- segmentation.Test --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.7&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;!-- Tests will be run with scalatest-maven-plugin instead --&gt;\n                &lt;skipTests&gt;true&lt;/skipTests&gt;\n                &lt;argLine&gt;-Xmx1024m&lt;/argLine&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.scalatest&lt;/groupId&gt;\n            &lt;artifactId&gt;scalatest-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n            &lt;configuration&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;test&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;Main&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>I'm using:</p>\n<ul>\n<li>scala 2.13</li>\n<li>scala-maven-plugin: 4.7.2</li>\n<li>spark 3.3.0</li>\n<li>Java-8-\nThanks a lot!</li>\n</ul>\n"},{"tags":["java","android","android-studio","payment-gateway"],"comments":[{"owner":{"account_id":23242663,"reputation":399,"user_id":17331686,"display_name":"Niaj Mahmud"},"score":0,"creation_date":1647941811,"post_id":71569454,"comment_id":126491958,"body_markdown":"you need to add more details in your question . and add your code where the problem is appeared.","body":"you need to add more details in your question . and add your code where the problem is appeared."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647943915,"post_id":71569454,"comment_id":126492741,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":18463401,"reputation":81,"user_id":13450267,"display_name":"SHUBHAM SONI"},"score":0,"creation_date":1648045981,"post_id":71569454,"comment_id":126525287,"body_markdown":"It&#39;s showing on sign app bundle create time","body":"It&#39;s showing on sign app bundle create time"}],"answers":[{"tags":[],"owner":{"account_id":18463401,"reputation":81,"user_id":13450267,"display_name":"SHUBHAM SONI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665057506,"creation_date":1665057506,"answer_id":73973403,"question_id":71569454,"body_markdown":"This type of issue on my case in bank site payment gateway code version old (deprecated code) issue so that&#39;s I will remove all bank payment gateway code and new payment gateway added on my android project that solved my problem .  ","title":"File &#39;root/res/layout/custom_spinner.xml&#39; uses reserved file or directory name &#39;res&#39;","body":"<p>This type of issue on my case in bank site payment gateway code version old (deprecated code) issue so that's I will remove all bank payment gateway code and new payment gateway added on my android project that solved my problem .</p>\n"}],"owner":{"account_id":18463401,"reputation":81,"user_id":13450267,"display_name":"SHUBHAM SONI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665057506,"creation_date":1647940184,"question_id":71569454,"body_markdown":"Execution failed for task &#39;:app:packageReleaseBundle&#39;.\r\n\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n&gt; File &#39;root/res/layout/custom_spinner.xml&#39; uses reserved file or directory name &#39;res&#39;.\r\n\r\nIn Android studio this type issue created\r\nThis is &#39;custom_spinner.xml&#39; atom payment gateway sdk internal file how to resolve it every one can you tell .... suggestions \r\nIt showing on release sign app bundle time \r\n\r\n","title":"File &#39;root/res/layout/custom_spinner.xml&#39; uses reserved file or directory name &#39;res&#39;","body":"<p>Execution failed for task ':app:packageReleaseBundle'.</p>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nFile 'root/res/layout/custom_spinner.xml' uses reserved file or directory name 'res'.</p>\n</blockquote>\n<p>In Android studio this type issue created\nThis is 'custom_spinner.xml' atom payment gateway sdk internal file how to resolve it every one can you tell .... suggestions\nIt showing on release sign app bundle time</p>\n"},{"tags":["java","maven","junit"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1665070131,"post_id":73973193,"comment_id":130618151,"body_markdown":"First remove powerMockito (it&#39;s in itself a smell) and use a more recent version of Mockito...the ones you are using is very old...","body":"First remove powerMockito (it&#39;s in itself a smell) and use a more recent version of Mockito...the ones you are using is very old..."}],"owner":{"account_id":24503858,"reputation":11,"user_id":18419139,"display_name":"Bhavitha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665057328,"creation_date":1665056450,"question_id":73973193,"body_markdown":"I am using PowerMockito and Mockito for Junit(4) test class in JDK 17. But it is throwing some errors while doing &quot;coverage as&quot;. We are using the following dependencies version:\r\npowerMockito version - 1.7.4 , Mockito - 1.10.19.\r\n\r\nWhile doing &quot;coverage as&quot; in my test case getting the below error:\r\n\r\nInitialization error:\r\n\r\n```\r\norg.objenesis.ObjenesisException: java.lang.reflect.InvocationTargetException at org.objenesis.instantiator.sun.SunReflectionFactoryHelper.newConstructorForSerialization(SunReflectionFactoryHelper.java:54) at org.objenesis.instantiator.sun.SunReflectionFactoryInstantiator.(SunReflectionFactoryInstantiator.java:41) at org.objenesis.strategy.StdInstantiatorStrategy.newInstantiatorOf(StdInstantiatorStrategy.java:68) at org.objenesis.ObjenesisBase.getInstantiatorOf(ObjenesisBase.java:94) at org.powermock.reflect.internal.WhiteboxImpl.newInstance(WhiteboxImpl.java:259) at org.powermock.reflect.Whitebox.newInstance(Whitebox.java:139) at org.powermock.tests.utils.impl.AbstractTestSuiteChunkerImpl.getPowerMockTestListenersLoadedByASpecificClassLoader(AbstractTestSuiteChunkerImpl.java:95) at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.createDelegatorFromClassloader(JUnit4TestSuiteChunkerImpl.java:174) at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.createDelegatorFromClassloader(JUnit4TestSuiteChunkerImpl.java:48) at org.powermock.tests.utils.impl.AbstractTestSuiteChunkerImpl.createTestDelegators(AbstractTestSuiteChunkerImpl.java:108) at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.(JUnit4TestSuiteChunkerImpl.java:71) at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.(AbstractCommonPowerMockRunner.java:36) at org.powermock.modules.junit4.PowerMockRunner.(PowerMockRunner.java:34) at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104) at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86) at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59) at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\r\n```\r\nAny help here can be appreciate.\r\n\r\n\r\n\r\n","title":"Getting JUnit Initialization error : org.objenesis.ObjenesisException: java.lang.reflect.InvocationTargetException in JDK17","body":"<p>I am using PowerMockito and Mockito for Junit(4) test class in JDK 17. But it is throwing some errors while doing &quot;coverage as&quot;. We are using the following dependencies version:\npowerMockito version - 1.7.4 , Mockito - 1.10.19.</p>\n<p>While doing &quot;coverage as&quot; in my test case getting the below error:</p>\n<p>Initialization error:</p>\n<pre><code>org.objenesis.ObjenesisException: java.lang.reflect.InvocationTargetException at org.objenesis.instantiator.sun.SunReflectionFactoryHelper.newConstructorForSerialization(SunReflectionFactoryHelper.java:54) at org.objenesis.instantiator.sun.SunReflectionFactoryInstantiator.(SunReflectionFactoryInstantiator.java:41) at org.objenesis.strategy.StdInstantiatorStrategy.newInstantiatorOf(StdInstantiatorStrategy.java:68) at org.objenesis.ObjenesisBase.getInstantiatorOf(ObjenesisBase.java:94) at org.powermock.reflect.internal.WhiteboxImpl.newInstance(WhiteboxImpl.java:259) at org.powermock.reflect.Whitebox.newInstance(Whitebox.java:139) at org.powermock.tests.utils.impl.AbstractTestSuiteChunkerImpl.getPowerMockTestListenersLoadedByASpecificClassLoader(AbstractTestSuiteChunkerImpl.java:95) at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.createDelegatorFromClassloader(JUnit4TestSuiteChunkerImpl.java:174) at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.createDelegatorFromClassloader(JUnit4TestSuiteChunkerImpl.java:48) at org.powermock.tests.utils.impl.AbstractTestSuiteChunkerImpl.createTestDelegators(AbstractTestSuiteChunkerImpl.java:108) at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.(JUnit4TestSuiteChunkerImpl.java:71) at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.(AbstractCommonPowerMockRunner.java:36) at org.powermock.modules.junit4.PowerMockRunner.(PowerMockRunner.java:34) at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104) at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86) at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59) at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\n</code></pre>\n<p>Any help here can be appreciate.</p>\n"},{"tags":["java","android","xml","android-layout","webview"],"answers":[{"comments":[{"owner":{"account_id":25945371,"reputation":25,"user_id":19664159,"display_name":"bilkyroot"},"score":0,"creation_date":1664885225,"post_id":73947420,"comment_id":130567985,"body_markdown":"i solved that problem, but i cant reload webpage when internet is active..i want to reload the page on button click...i cant call &quot;reload();&quot; function in my class &quot;NetworkChangeListener&quot; because my webview is called in MainActivity ( protected void onCreate(Bundle savedInstanceState) )..","body":"i solved that problem, but i cant reload webpage when internet is active..i want to reload the page on button click...i cant call &quot;reload();&quot; function in my class &quot;NetworkChangeListener&quot; because my webview is called in MainActivity ( protected void onCreate(Bundle savedInstanceState) ).."}],"tags":[],"owner":{"account_id":6316309,"reputation":2040,"user_id":4906130,"display_name":"Bhavnik"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664884070,"creation_date":1664884070,"answer_id":73947420,"question_id":73945851,"body_markdown":"set minWidth and minHeight of 800dp/1000dp to RelativeLayout of your dialog layout file.\r\n\r\n    \r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#f7f7f7&quot;\r\n        android:id=&quot;@+id/nointernet&quot;\r\n        minWidth=&quot;1000dp&quot;\r\n        minHeight=&quot;1000dp&quot;&gt;\r\n           // rest of the views.\r\n        &lt;/RelativeLayout&gt;","title":"Alert dialog is not showing in full screen","body":"<p>set minWidth and minHeight of 800dp/1000dp to RelativeLayout of your dialog layout file.</p>\n\n<pre><code>&lt;RelativeLayout \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#f7f7f7&quot;\n    android:id=&quot;@+id/nointernet&quot;\n    minWidth=&quot;1000dp&quot;\n    minHeight=&quot;1000dp&quot;&gt;\n       // rest of the views.\n    &lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25945371,"reputation":25,"user_id":19664159,"display_name":"bilkyroot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664885060,"creation_date":1664885060,"answer_id":73947588,"question_id":73945851,"body_markdown":"i added this and it works fine..\r\n\r\n    &lt;style&gt;\r\n    &lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\r\n    &lt;item name=&quot;android:layout_height&quot;&gt;match_parent&lt;/item&gt;\r\n    &lt;item name=&quot;backgroundColor&quot;&gt;#f7f7f7&lt;/item&gt;\r\n    &lt;item name=&quot;android:windowBackground&quot;&gt;#f7f7f7&lt;/item&gt;\r\n    &lt;/style&gt;","title":"Alert dialog is not showing in full screen","body":"<p>i added this and it works fine..</p>\n<pre><code>&lt;style&gt;\n&lt;item name=&quot;android:layout_width&quot;&gt;match_parent&lt;/item&gt;\n&lt;item name=&quot;android:layout_height&quot;&gt;match_parent&lt;/item&gt;\n&lt;item name=&quot;backgroundColor&quot;&gt;#f7f7f7&lt;/item&gt;\n&lt;item name=&quot;android:windowBackground&quot;&gt;#f7f7f7&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25945371,"reputation":25,"user_id":19664159,"display_name":"bilkyroot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664957361,"creation_date":1664957361,"answer_id":73957516,"question_id":73945851,"body_markdown":"And code for button wich will reload webpage after i recreate activity:\r\n\r\n    btnRetry.setOnClickListener(view1 -&gt; {\r\n      if (Common.isConnectedToInternet(context)) {\r\n         dialog.dismiss();\r\n         onReceive(context,intent);\r\n         ((MainActivity)context).recreate();\r\n      }\r\n    });","title":"Alert dialog is not showing in full screen","body":"<p>And code for button wich will reload webpage after i recreate activity:</p>\n<pre><code>btnRetry.setOnClickListener(view1 -&gt; {\n  if (Common.isConnectedToInternet(context)) {\n     dialog.dismiss();\n     onReceive(context,intent);\n     ((MainActivity)context).recreate();\n  }\n});\n</code></pre>\n"}],"owner":{"account_id":25945371,"reputation":25,"user_id":19664159,"display_name":"bilkyroot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73947588,"answer_count":3,"score":0,"last_activity_date":1665057250,"creation_date":1664875880,"question_id":73945851,"body_markdown":"My &quot;no internet&quot; alert dialog is not showing in full screen and also to mention that my button after i click not refreshing just disappear..what should i do to change it to open in full screen, i also tried with setContentView too, but it not worked..\r\n\r\nThis is my code..\r\n\r\nClass file:\r\n\r\n``` \r\npublic class NetworkChangeListener extends BroadcastReceiver {\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        if(!Common.isConnectedToInternet(context)){\r\n            AlertDialog.Builder builder =  new AlertDialog.Builder(context);\r\n            View view = LayoutInflater.from(context).inflate(R.layout.alert_dialog,null);\r\n            builder.setView(view);\r\n\r\n            AppCompatButton btnRetry = view.findViewById(R.id.btnRetry);\r\n\r\n            AlertDialog dialog = builder.create();\r\n            dialog.show();\r\n            dialog.setCancelable(false);\r\n            dialog.getWindow().setLayout(RelativeLayout.LayoutParams.MATCH_PARENT, RelativeLayout.LayoutParams.MATCH_PARENT);\r\n\r\n            btnRetry.setOnClickListener(view1 -&gt; {\r\n                dialog.dismiss();\r\n                onReceive(context,intent);\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nXML file:\r\n\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#f7f7f7&quot;\r\n    android:id=&quot;@+id/nointernet&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView&quot;\r\n        android:layout_width=&quot;212dp&quot;\r\n        android:layout_height=&quot;188dp&quot;\r\n        android:scaleType=&quot;centerCrop&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;250dp&quot;\r\n        android:src=&quot;@drawable/ic_baseline_signal_wifi_off_24&quot;&gt;&lt;/ImageView&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/text&quot;\r\n        android:layout_width=&quot;253dp&quot;\r\n        android:layout_height=&quot;52dp&quot;\r\n        android:text=&quot;Error!&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;25dp&quot;\r\n        android:layout_below=&quot;@id/imageView&quot;\r\n        android:layout_centerInParent=&quot;true&quot;&gt;&lt;/TextView&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/text2&quot;\r\n        android:layout_width=&quot;337dp&quot;\r\n        android:layout_height=&quot;63dp&quot;\r\n        android:text=&quot;No internet connection&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;21dp&quot;\r\n        android:layout_below=&quot;@id/text&quot;\r\n        android:layout_centerInParent=&quot;true&quot;&gt;&lt;/TextView&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnRetry&quot;\r\n        android:layout_width=&quot;213dp&quot;\r\n        android:layout_height=&quot;49dp&quot;\r\n        android:text=&quot;Try again&quot;\r\n        android:layout_below=&quot;@id/text2&quot;\r\n        android:layout_centerInParent=&quot;true&quot;&gt;&lt;/Button&gt;\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n ```\r\nMain acitivity:\r\n\r\n ```\r\n    @Override\r\n    protected void onStart() {\r\n        IntentFilter intentFilter = new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION);\r\n        registerReceiver(networkChangeListener,intentFilter);\r\n        super.onStart();\r\n        recreate();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        unregisterReceiver(networkChangeListener);\r\n        super.onStop();\r\n    }\r\n ```","title":"Alert dialog is not showing in full screen","body":"<p>My &quot;no internet&quot; alert dialog is not showing in full screen and also to mention that my button after i click not refreshing just disappear..what should i do to change it to open in full screen, i also tried with setContentView too, but it not worked..</p>\n<p>This is my code..</p>\n<p>Class file:</p>\n<pre><code>public class NetworkChangeListener extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if(!Common.isConnectedToInternet(context)){\n            AlertDialog.Builder builder =  new AlertDialog.Builder(context);\n            View view = LayoutInflater.from(context).inflate(R.layout.alert_dialog,null);\n            builder.setView(view);\n\n            AppCompatButton btnRetry = view.findViewById(R.id.btnRetry);\n\n            AlertDialog dialog = builder.create();\n            dialog.show();\n            dialog.setCancelable(false);\n            dialog.getWindow().setLayout(RelativeLayout.LayoutParams.MATCH_PARENT, RelativeLayout.LayoutParams.MATCH_PARENT);\n\n            btnRetry.setOnClickListener(view1 -&gt; {\n                dialog.dismiss();\n                onReceive(context,intent);\n            });\n        }\n    }\n}\n</code></pre>\n<p>XML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#f7f7f7&quot;\n    android:id=&quot;@+id/nointernet&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView&quot;\n        android:layout_width=&quot;212dp&quot;\n        android:layout_height=&quot;188dp&quot;\n        android:scaleType=&quot;centerCrop&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;250dp&quot;\n        android:src=&quot;@drawable/ic_baseline_signal_wifi_off_24&quot;&gt;&lt;/ImageView&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/text&quot;\n        android:layout_width=&quot;253dp&quot;\n        android:layout_height=&quot;52dp&quot;\n        android:text=&quot;Error!&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;25dp&quot;\n        android:layout_below=&quot;@id/imageView&quot;\n        android:layout_centerInParent=&quot;true&quot;&gt;&lt;/TextView&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/text2&quot;\n        android:layout_width=&quot;337dp&quot;\n        android:layout_height=&quot;63dp&quot;\n        android:text=&quot;No internet connection&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;21dp&quot;\n        android:layout_below=&quot;@id/text&quot;\n        android:layout_centerInParent=&quot;true&quot;&gt;&lt;/TextView&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnRetry&quot;\n        android:layout_width=&quot;213dp&quot;\n        android:layout_height=&quot;49dp&quot;\n        android:text=&quot;Try again&quot;\n        android:layout_below=&quot;@id/text2&quot;\n        android:layout_centerInParent=&quot;true&quot;&gt;&lt;/Button&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>Main acitivity:</p>\n<pre><code>   @Override\n   protected void onStart() {\n       IntentFilter intentFilter = new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION);\n       registerReceiver(networkChangeListener,intentFilter);\n       super.onStart();\n       recreate();\n   }\n\n   @Override\n   protected void onStop() {\n       unregisterReceiver(networkChangeListener);\n       super.onStop();\n   }\n</code></pre>\n"},{"tags":["java","logging","configuration","log4j","log4j2"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1664965436,"post_id":73958583,"comment_id":130587491,"body_markdown":"Have a look at https://logging.apache.org/log4j/2.x/manual/customloglevels.html, Extended Loggers/Custom Loggers","body":"Have a look at <a href=\"https://logging.apache.org/log4j/2.x/manual/customloglevels.html\" rel=\"nofollow noreferrer\">logging.apache.org/log4j/2.x/manual/customloglevels.html</a>, Extended Loggers/Custom Loggers"}],"answers":[{"tags":[],"owner":{"account_id":14082535,"reputation":51,"user_id":10173184,"display_name":"damian5996"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665056485,"creation_date":1664966856,"answer_id":73959288,"question_id":73958583,"body_markdown":"I found the solution! :) \r\n\r\n    &lt;JsonTemplateLayout eventTemplateUri=&quot;classpath:EcsLayout.json&quot;&gt;\r\n                 &lt;EventTemplateAdditionalField\r\n                    key=&quot;@l&quot;\r\n                    format=&quot;JSON&quot;\r\n                    value=&#39;{&quot;$resolver&quot;: &quot;pattern&quot;, &quot;pattern&quot;: &quot;%level{WARN=Warning, DEBUG=Debug, ERROR=Error, TRACE=Trace, INFO=Information}&quot;}&#39;/&gt;\r\n    &lt;/JsonTemplateLayout&gt;\r\n\r\nIt&#39;s not very elegant, but it works :) \r\n\r\n**Edit:**\r\n\r\nI&#39;m not sure why, but for ERROR level it didn&#39;t work correctly.\r\nIt changed ERROR to Error, but my @l contained also exception message.\r\nI needed to add **%ex{none}** to my pattern like this:\r\n\r\n    {&quot;$resolver&quot;: &quot;pattern&quot;, &quot;pattern&quot;: &quot;%level{FATAL=Fatal, ERROR=Error}%ex{none}&quot;}","title":"Set custom name for Log4j2 log level in XML configuration file","body":"<p>I found the solution! :)</p>\n<pre><code>&lt;JsonTemplateLayout eventTemplateUri=&quot;classpath:EcsLayout.json&quot;&gt;\n             &lt;EventTemplateAdditionalField\n                key=&quot;@l&quot;\n                format=&quot;JSON&quot;\n                value='{&quot;$resolver&quot;: &quot;pattern&quot;, &quot;pattern&quot;: &quot;%level{WARN=Warning, DEBUG=Debug, ERROR=Error, TRACE=Trace, INFO=Information}&quot;}'/&gt;\n&lt;/JsonTemplateLayout&gt;\n</code></pre>\n<p>It's not very elegant, but it works :)</p>\n<p><strong>Edit:</strong></p>\n<p>I'm not sure why, but for ERROR level it didn't work correctly.\nIt changed ERROR to Error, but my @l contained also exception message.\nI needed to add <strong>%ex{none}</strong> to my pattern like this:</p>\n<pre><code>{&quot;$resolver&quot;: &quot;pattern&quot;, &quot;pattern&quot;: &quot;%level{FATAL=Fatal, ERROR=Error}%ex{none}&quot;}\n</code></pre>\n"}],"owner":{"account_id":14082535,"reputation":51,"user_id":10173184,"display_name":"damian5996"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73959288,"answer_count":1,"score":1,"last_activity_date":1665056485,"creation_date":1664963086,"question_id":73958583,"body_markdown":"I&#39;d like to force my log4j2 to display log level like &quot;Warning&quot; instead of &quot;WARN&quot; etc.\r\n\r\nIs it possible to do so? It can&#39;t be done programmatically, it must be done in XML configuration file because I&#39;m using it in an already built image so I don&#39;t have access to the source code.\r\n\r\nI tried something like this but it did nothing. \r\n\r\n    &lt;CustomLevels&gt;\r\n        &lt;CustomLevel name=&quot;Warning&quot; intLevel=&quot;300&quot; /&gt;\r\n        &lt;CustomLevel name=&quot;Information&quot; intLevel=&quot;400&quot; /&gt;\r\n    &lt;/CustomLevels&gt;\r\n\r\nI&#39;d like to replace default log levels with my custom names.\r\n\r\n**Edit**: \r\n\r\nI need something like this, but for JsonTemplateLayout:\r\n\r\n    &lt;PatternLayout&gt;\r\n       &lt;Pattern&gt;&quot;%level{WARN=Warning, DEBUG=Debug, ERROR=Error, TRACE=Trace, INFO=Info}&quot;&lt;/Pattern&gt;\r\n    &lt;/PatternLayout&gt;\r\n\r\nIt must be in JSON format using JsonTemplateLayout (no PatternLayout)","title":"Set custom name for Log4j2 log level in XML configuration file","body":"<p>I'd like to force my log4j2 to display log level like &quot;Warning&quot; instead of &quot;WARN&quot; etc.</p>\n<p>Is it possible to do so? It can't be done programmatically, it must be done in XML configuration file because I'm using it in an already built image so I don't have access to the source code.</p>\n<p>I tried something like this but it did nothing.</p>\n<pre><code>&lt;CustomLevels&gt;\n    &lt;CustomLevel name=&quot;Warning&quot; intLevel=&quot;300&quot; /&gt;\n    &lt;CustomLevel name=&quot;Information&quot; intLevel=&quot;400&quot; /&gt;\n&lt;/CustomLevels&gt;\n</code></pre>\n<p>I'd like to replace default log levels with my custom names.</p>\n<p><strong>Edit</strong>:</p>\n<p>I need something like this, but for JsonTemplateLayout:</p>\n<pre><code>&lt;PatternLayout&gt;\n   &lt;Pattern&gt;&quot;%level{WARN=Warning, DEBUG=Debug, ERROR=Error, TRACE=Trace, INFO=Info}&quot;&lt;/Pattern&gt;\n&lt;/PatternLayout&gt;\n</code></pre>\n<p>It must be in JSON format using JsonTemplateLayout (no PatternLayout)</p>\n"},{"tags":["java","apache-camel","activemq","junit5","quarkus"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":1,"creation_date":1664982763,"post_id":73962011,"comment_id":130593977,"body_markdown":"I don&#39;t see `producerTemplate` declaration in `MessagingServiceImpl`; do you have a  `@javax.enterprise.inject.Produces` for a `ProducerTemplate` bean? If not, mocking doesn&#39;t work because there is no bean to mock.\nI&#39;m pretty new to CDI world, I hope to gave you a good advice.","body":"I don&#39;t see <code>producerTemplate</code> declaration in <code>MessagingServiceImpl</code>; do you have a  <code>@javax.enterprise.inject.Produces</code> for a <code>ProducerTemplate</code> bean? If not, mocking doesn&#39;t work because there is no bean to mock. I&#39;m pretty new to CDI world, I hope to gave you a good advice."},{"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":1,"creation_date":1664983616,"post_id":73962011,"comment_id":130594297,"body_markdown":"If you want to use Quarkus and Camel, you should consider using Camel Quarkus https://github.com/apache/camel-quarkus","body":"If you want to use Quarkus and Camel, you should consider using Camel Quarkus <a href=\"https://github.com/apache/camel-quarkus\" rel=\"nofollow noreferrer\">github.com/apache/camel-quarkus</a>"},{"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1664983760,"post_id":73962011,"comment_id":130594346,"body_markdown":"BTW no need to call the `mock` method to initialize a field annotated with `@Mock`, it will be automatically done by the Mockito extension.","body":"BTW no need to call the <code>mock</code> method to initialize a field annotated with <code>@Mock</code>, it will be automatically done by the Mockito extension."},{"owner":{"account_id":7546897,"reputation":3757,"user_id":5729579,"display_name":"Derrick"},"score":0,"creation_date":1665056492,"post_id":73962011,"comment_id":130612539,"body_markdown":"@LucaBassoRicci Yes I am using, I missed to add it in, I have edited the code. Thanks","body":"@LucaBassoRicci Yes I am using, I missed to add it in, I have edited the code. Thanks"},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1665062020,"post_id":73962011,"comment_id":130614715,"body_markdown":"I can&#39;t see a the `@Produces` annotation","body":"I can&#39;t see a the <code>@Produces</code> annotation"},{"owner":{"account_id":7546897,"reputation":3757,"user_id":5729579,"display_name":"Derrick"},"score":0,"creation_date":1665064490,"post_id":73962011,"comment_id":130615754,"body_markdown":"@LucaBassoRicci I am not using Produces annotation","body":"@LucaBassoRicci I am not using Produces annotation"},{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1665085359,"post_id":73962011,"comment_id":130623221,"body_markdown":"Without a producer for `producerTemplate` you can&#39;t mock bean; object created using `new` can&#39;t be mocked (I suppose `context.createProducerTemplate()` use the new operator to instantiate producerTemplate)","body":"Without a producer for <code>producerTemplate</code> you can&#39;t mock bean; object created using <code>new</code> can&#39;t be mocked (I suppose <code>context.createProducerTemplate()</code> use the new operator to instantiate producerTemplate)"}],"owner":{"account_id":7546897,"reputation":3757,"user_id":5729579,"display_name":"Derrick"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665056438,"creation_date":1664980420,"question_id":73962011,"body_markdown":"Trying to write junit tests for below service class -&gt;\r\n\r\n    @ApplicationScoped\r\n    public class MessagingServiceImpl implements MessagingService {\r\n    \r\n        private static Logger LOG = \r\n        LoggerFactory.getLogger(MessagingServiceImpl.class);\r\n\r\n        @ConfigProperty(name = &quot;messaging.amq.jms&quot;)\r\n        String jms;\r\n\r\n        private CamelContext context;\r\n\r\n        private ProducerTemplate producerTemplate;\r\n    \r\n        @ConfigProperty(name = &quot;messaging.source.request-queue&quot;)\r\n        String sourceRequestQueue;\r\n    \t\r\n    \t@Override\r\n        public void submitSourcePayment(final String processPaymentMessage) {\r\n    \r\n           producerTemplate.sendBody(sourceRequestQueue, processPaymentMessage);\r\n    \r\n           LOG.info(&quot;Message sent to source request queue&quot;);\r\n        }\r\n    \t\r\n    \tvoid onStart(@Observes StartupEvent ev) {\r\n    \r\n            final ConnectionFactory factory = new ActiveMQConnectionFactory(amqUsername, amqPassword, amqUrl);\r\n            context.addComponent(jms, JmsComponent.jmsComponentAutoAcknowledge(factory));\r\n            producerTemplate = context.createProducerTemplate();\r\n        }\r\n    \r\n        void onStop(@Observes ShutdownEvent ev) throws Exception {\r\n            LOG.info(&quot;Shutting down&quot;);\r\n            context.close();\r\n        }\r\n    \t\r\n    }\r\n\r\nJunit test written in Junit5 and Quarkus1.2 -&gt;\r\n\r\n    @QuarkusTest\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class MessagingServiceImplTest {\r\n    \r\n    @Inject\r\n    MessagingServiceImpl messageServiceImpl;\r\n    \r\n    @Mock\r\n    ProducerTemplate producerTemplate = mock(ProducerTemplate.class);\r\n    \r\n    @Mock\r\n    CamelContext camelContext = mock(CamelContext.class);\r\n    \r\n    @Test\r\n    void submitSourcePaymentTest() {\r\n        \r\n        doNothing().when(producerTemplate).sendBody(&quot;activemq:queue:source-request-queue&quot;, \r\n    &quot;&quot;);\r\n        messageServiceImpl.submitSourcePayment(&quot;&quot;);\r\n        verify(producerTemplate, times(1)).sendBody(&quot;activemq:queue:source-request-queue&quot;, \r\n    &quot;&quot;);      \r\n    }\r\n  }\r\n\r\nGetting below error -&gt;\r\n\r\n&gt; Wanted but not invoked:\r\nproducerTemplate.sendBody(\r\n    &quot;activemq:queue:source-request-queue&quot;,\r\n    &quot;&quot;\r\n);\r\n-&gt; at amq.service.impl.MessagingServiceImplTest.submitSourcePaymentTest(MessagingServiceImplTest.java:40)\r\nActually, there were zero interactions with this mock.\r\n\r\nIn debudding I am seeing mock object (producerTemplate) not being referenced, instead new object is getting created. Any suggestions are welcome. thanks ","title":"Quarkus Junit - Apache&#39;s Producer template mocking isn&#39;t working","body":"<p>Trying to write junit tests for below service class -&gt;</p>\n<pre><code>@ApplicationScoped\npublic class MessagingServiceImpl implements MessagingService {\n\n    private static Logger LOG = \n    LoggerFactory.getLogger(MessagingServiceImpl.class);\n\n    @ConfigProperty(name = &quot;messaging.amq.jms&quot;)\n    String jms;\n\n    private CamelContext context;\n\n    private ProducerTemplate producerTemplate;\n\n    @ConfigProperty(name = &quot;messaging.source.request-queue&quot;)\n    String sourceRequestQueue;\n    \n    @Override\n    public void submitSourcePayment(final String processPaymentMessage) {\n\n       producerTemplate.sendBody(sourceRequestQueue, processPaymentMessage);\n\n       LOG.info(&quot;Message sent to source request queue&quot;);\n    }\n    \n    void onStart(@Observes StartupEvent ev) {\n\n        final ConnectionFactory factory = new ActiveMQConnectionFactory(amqUsername, amqPassword, amqUrl);\n        context.addComponent(jms, JmsComponent.jmsComponentAutoAcknowledge(factory));\n        producerTemplate = context.createProducerTemplate();\n    }\n\n    void onStop(@Observes ShutdownEvent ev) throws Exception {\n        LOG.info(&quot;Shutting down&quot;);\n        context.close();\n    }\n    \n}\n</code></pre>\n<p>Junit test written in Junit5 and Quarkus1.2 -&gt;</p>\n<pre><code>@QuarkusTest\n@ExtendWith(MockitoExtension.class)\npublic class MessagingServiceImplTest {\n\n@Inject\nMessagingServiceImpl messageServiceImpl;\n\n@Mock\nProducerTemplate producerTemplate = mock(ProducerTemplate.class);\n\n@Mock\nCamelContext camelContext = mock(CamelContext.class);\n\n@Test\nvoid submitSourcePaymentTest() {\n    \n    doNothing().when(producerTemplate).sendBody(&quot;activemq:queue:source-request-queue&quot;, \n&quot;&quot;);\n    messageServiceImpl.submitSourcePayment(&quot;&quot;);\n    verify(producerTemplate, times(1)).sendBody(&quot;activemq:queue:source-request-queue&quot;, \n&quot;&quot;);      \n}\n</code></pre>\n<p>}</p>\n<p>Getting below error -&gt;</p>\n<blockquote>\n<p>Wanted but not invoked:\nproducerTemplate.sendBody(\n&quot;activemq:queue:source-request-queue&quot;,\n&quot;&quot;\n);\n-&gt; at amq.service.impl.MessagingServiceImplTest.submitSourcePaymentTest(MessagingServiceImplTest.java:40)\nActually, there were zero interactions with this mock.</p>\n</blockquote>\n<p>In debudding I am seeing mock object (producerTemplate) not being referenced, instead new object is getting created. Any suggestions are welcome. thanks</p>\n"},{"tags":["java","android","kotlin","code-generation","kotlin-coroutines"],"comments":[{"owner":{"account_id":3529755,"reputation":613,"user_id":2949696,"accept_rate":67,"display_name":"apex39"},"score":0,"creation_date":1652443914,"post_id":71564685,"comment_id":127613704,"body_markdown":"Have you updated coroutines library to [recommended version](https://kotlinlang.org/docs/releases.html#release-details)?","body":"Have you updated coroutines library to <a href=\"https://kotlinlang.org/docs/releases.html#release-details\" rel=\"nofollow noreferrer\">recommended version</a>?"}],"owner":{"account_id":11008048,"reputation":584,"user_id":8086401,"display_name":"Muraino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1694,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1665056433,"creation_date":1647900385,"question_id":71564685,"body_markdown":"How can I solve this error\r\n\r\nI have updated the kotlin version, still not solving the error. \r\nI have also invalidate cache but error still persist. \r\n\r\n\r\ne: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn&#39;t transform method node:\r\n\r\n\r\nI don&#39;t know if this is a gradle issue or kotlin issue. \r\n\r\nAny one has an approach to solve this build issues?\r\n\r\n\r\n```\r\n    File is unknown\r\nThe root cause java.lang.AssertionError was thrown at: org.jetbrains.kotlin.codegen.coroutines.CoroutineTransformerMethodVisitor.fixRangeOfLvtRecord(CoroutineTransformerMethodVisitor.kt:335)\r\n\tat org.jetbrains.kotlin.codegen.TransformationMethodVisitor.visitEnd(TransformationMethodVisitor.kt:92)\r\n\tat org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:813)\r\n\tat org.jetbrains.kotlin.codegen.inline.DeferredMethodVisitor.visitEnd(DeferredMethodVisitor.kt:31)\r\norg.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:77)\r\n\tat org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethodAndUpdateGlobalResult(AnonymousObjectTransformer.kt:265)\r\n\tat org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.doTransform(AnonymousObjectTransformer.kt:152)\r\n\tat org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.handleAnonymousObjectRegeneration(MethodInliner.kt:192)\r\n\tat org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.anew(MethodInliner.kt:216)\r\n\tat org.jetbrains.org.objectweb.asm.commons.InstructionAdapter.visitTypeInsn(InstructionAdapter.java:472)\r\n\tat org.jetbrains.org.objectweb.asm.tree.TypeInsnNode.accept(TypeInsnNode.java:77)\r\n\tat org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:144)\r\n\tat org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:792)\r\n\tat org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:370)\r\n\tat org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:107)\r\n\tat org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:77)\r\n\tat org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:251)\r\n\tat org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:146)\r\n\tat org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(PsiInlineCodegen.kt:67)\r\n\tat org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:115)\r\n\tat org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(PsiInlineCodegen.kt:33)\r\n\tat org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2656)\r\n\tat org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2598)\r\n\tat org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)\r\n\tat org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)\r\n\tat org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)\r\n\tat org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:124)\r\n\tat org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:117)\r\n\tat org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:393)\r\n\tat org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:374)\r\n\tat org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1760)\r\n\tat org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:64)\r\n\tat org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:86)\r\n\tat org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:639)\r\n\tat org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:467)\r\n\tat org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:249)\r\n\tat org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:165)\r\n\tat org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:136)\r\n\tat org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:196)\r\n\tat org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:169)\r\n\tat org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:89)\r\n\tat org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:128)\r\n\tat org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:301)\r\n\tat org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:285)\r\n\tat org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:119)\r\n\tat org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:138)\r\n\tat org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:70)\r\n\tat org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:88)\r\n\tat org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:67)\r\n\tat org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:35)\r\n\tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:616)\r\n\tat org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:203)\r\n\tat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:164)\r\n\tat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:51)\r\n\tat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:86)\r\n\tat org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:44)\r\n\tat org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:98)\r\n\tat org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:346)\r\n\tat org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:102)\r\n\tat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:240)\r\n\tat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.access$compileIncrementally(IncrementalCompilerRunner.kt:39)\r\n\tat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner$compile$2.invoke(IncrementalCompilerRunner.kt:81)\r\n\tat org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:93)\r\n\tat org.jetbrains.kotlin.daemon.CompileServiceImplBase.execIncrementalCompiler(CompileServiceImpl.kt:601)\r\n\tat org.jetbrains.kotlin.daemon.CompileServiceImplBase.access$execIncrementalCompiler(CompileServiceImpl.kt:93)\r\n\tat org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:1633)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)\r\n\tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n\tat java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.AssertionError: Someone else occupies parameter&#39;s slot at 2\r\n\tat org.jetbrains.kotlin.codegen.coroutines.CoroutineTransformerMethodVisitor.fixRangeOfLvtRecord(CoroutineTransformerMethodVisitor.kt:335)\r\n\tat org.jetbrains.kotlin.codegen.coroutines.CoroutineTransformerMethodVisitor.fixLvtForParameters(CoroutineTransformerMethodVisitor.kt:329)\r\n\tat org.jetbrains.kotlin.codegen.coroutines.CoroutineTransformerMethodVisitor.performTransformations(CoroutineTransformerMethodVisitor.kt:201)\r\n\tat org.jetbrains.kotlin.codegen.TransformationMethodVisitor.visitEnd(TransformationMethodVisitor.kt:70)\r\n\t... 91 more\r\n\r\nCaused by: java.lang.AssertionError: Someone else occupies parameter&#39;s slot at 2\r\n\r\n\r\n```\r\n\r\n\r\nHere is the build.gradle\r\n\r\n```\r\ndependencies {\r\n   classpath &quot;com.android.tools.build:gradle:4.1.2&quot;\r\n   classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.4.10&quot;\r\n}\r\n```\r\n\r\nThe errors are thrown whenever I tried to compile the code \r\n\r\n```\r\ne: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn&#39;t transform method node:\r\nemit (Ljava/lang/Object;Lkotlin/coroutines/Continuation;)Ljava/lang/Object;:\r\n\r\n```\r\n\r\n","title":"Android Studio: Caused by: java.lang.AssertionError: Someone else occupies parameter&#39;s slot at 2 error","body":"<p>How can I solve this error</p>\n<p>I have updated the kotlin version, still not solving the error.\nI have also invalidate cache but error still persist.</p>\n<p>e: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't transform method node:</p>\n<p>I don't know if this is a gradle issue or kotlin issue.</p>\n<p>Any one has an approach to solve this build issues?</p>\n<pre><code>    File is unknown\nThe root cause java.lang.AssertionError was thrown at: org.jetbrains.kotlin.codegen.coroutines.CoroutineTransformerMethodVisitor.fixRangeOfLvtRecord(CoroutineTransformerMethodVisitor.kt:335)\n    at org.jetbrains.kotlin.codegen.TransformationMethodVisitor.visitEnd(TransformationMethodVisitor.kt:92)\n    at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:813)\n    at org.jetbrains.kotlin.codegen.inline.DeferredMethodVisitor.visitEnd(DeferredMethodVisitor.kt:31)\norg.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:77)\n    at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.inlineMethodAndUpdateGlobalResult(AnonymousObjectTransformer.kt:265)\n    at org.jetbrains.kotlin.codegen.inline.AnonymousObjectTransformer.doTransform(AnonymousObjectTransformer.kt:152)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.handleAnonymousObjectRegeneration(MethodInliner.kt:192)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner$doInline$lambdaInliner$1.anew(MethodInliner.kt:216)\n    at org.jetbrains.org.objectweb.asm.commons.InstructionAdapter.visitTypeInsn(InstructionAdapter.java:472)\n    at org.jetbrains.org.objectweb.asm.tree.TypeInsnNode.accept(TypeInsnNode.java:77)\n    at org.jetbrains.org.objectweb.asm.tree.InsnList.accept(InsnList.java:144)\n    at org.jetbrains.org.objectweb.asm.tree.MethodNode.accept(MethodNode.java:792)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:370)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:107)\n    at org.jetbrains.kotlin.codegen.inline.MethodInliner.doInline(MethodInliner.kt:77)\n    at org.jetbrains.kotlin.codegen.inline.InlineCodegen.inlineCall(InlineCodegen.kt:251)\n    at org.jetbrains.kotlin.codegen.inline.InlineCodegen.performInline(InlineCodegen.kt:146)\n    at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCallInner(PsiInlineCodegen.kt:67)\n    at org.jetbrains.kotlin.codegen.CallGenerator$DefaultImpls.genCall(CallGenerator.kt:115)\n    at org.jetbrains.kotlin.codegen.inline.PsiInlineCodegen.genCall(PsiInlineCodegen.kt:33)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2656)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.invokeMethodWithArguments(ExpressionCodegen.java:2598)\n    at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:41)\n    at org.jetbrains.kotlin.codegen.Callable$invokeMethodWithArguments$1.invoke(Callable.kt:13)\n    at org.jetbrains.kotlin.codegen.OperationStackValue.putSelector(StackValue.kt:79)\n    at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:124)\n    at org.jetbrains.kotlin.codegen.StackValue.put(StackValue.java:117)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.putStackValue(ExpressionCodegen.java:393)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.gen(ExpressionCodegen.java:374)\n    at org.jetbrains.kotlin.codegen.ExpressionCodegen.returnExpression(ExpressionCodegen.java:1760)\n    at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$FunctionDefault.doGenerateBody(FunctionGenerationStrategy.java:64)\n    at org.jetbrains.kotlin.codegen.FunctionGenerationStrategy$CodegenBased.generateBody(FunctionGenerationStrategy.java:86)\n    at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:639)\n    at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethodBody(FunctionCodegen.java:467)\n    at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:249)\n    at org.jetbrains.kotlin.codegen.FunctionCodegen.generateMethod(FunctionCodegen.java:165)\n    at org.jetbrains.kotlin.codegen.FunctionCodegen.gen(FunctionCodegen.java:136)\n    at org.jetbrains.kotlin.codegen.MemberCodegen.genSimpleMember(MemberCodegen.java:196)\n    at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateDeclaration(ClassBodyCodegen.java:169)\n    at org.jetbrains.kotlin.codegen.ClassBodyCodegen.generateBody(ClassBodyCodegen.java:89)\n    at org.jetbrains.kotlin.codegen.MemberCodegen.generate(MemberCodegen.java:128)\n    at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:301)\n    at org.jetbrains.kotlin.codegen.MemberCodegen.genClassOrObject(MemberCodegen.java:285)\n    at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateClassesAndObjectsInFile(PackageCodegenImpl.java:119)\n    at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generateFile(PackageCodegenImpl.java:138)\n    at org.jetbrains.kotlin.codegen.PackageCodegenImpl.generate(PackageCodegenImpl.java:70)\n    at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generatePackage(CodegenFactory.kt:88)\n    at org.jetbrains.kotlin.codegen.DefaultCodegenFactory.generateModule(CodegenFactory.kt:67)\n    at org.jetbrains.kotlin.codegen.KotlinCodegenFacade.compileCorrectFiles(KotlinCodegenFacade.java:35)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.generate(KotlinToJVMBytecodeCompiler.kt:616)\n    at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules$cli(KotlinToJVMBytecodeCompiler.kt:203)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:164)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:51)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:86)\n    at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.kt:44)\n    at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:98)\n    at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:346)\n    at org.jetbrains.kotlin.incremental.IncrementalJvmCompilerRunner.runCompiler(IncrementalJvmCompilerRunner.kt:102)\n    at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compileIncrementally(IncrementalCompilerRunner.kt:240)\n    at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.access$compileIncrementally(IncrementalCompilerRunner.kt:39)\n    at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner$compile$2.invoke(IncrementalCompilerRunner.kt:81)\n    at org.jetbrains.kotlin.incremental.IncrementalCompilerRunner.compile(IncrementalCompilerRunner.kt:93)\n    at org.jetbrains.kotlin.daemon.CompileServiceImplBase.execIncrementalCompiler(CompileServiceImpl.kt:601)\n    at org.jetbrains.kotlin.daemon.CompileServiceImplBase.access$execIncrementalCompiler(CompileServiceImpl.kt:93)\n    at org.jetbrains.kotlin.daemon.CompileServiceImpl.compile(CompileServiceImpl.kt:1633)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.AssertionError: Someone else occupies parameter's slot at 2\n    at org.jetbrains.kotlin.codegen.coroutines.CoroutineTransformerMethodVisitor.fixRangeOfLvtRecord(CoroutineTransformerMethodVisitor.kt:335)\n    at org.jetbrains.kotlin.codegen.coroutines.CoroutineTransformerMethodVisitor.fixLvtForParameters(CoroutineTransformerMethodVisitor.kt:329)\n    at org.jetbrains.kotlin.codegen.coroutines.CoroutineTransformerMethodVisitor.performTransformations(CoroutineTransformerMethodVisitor.kt:201)\n    at org.jetbrains.kotlin.codegen.TransformationMethodVisitor.visitEnd(TransformationMethodVisitor.kt:70)\n    ... 91 more\n\nCaused by: java.lang.AssertionError: Someone else occupies parameter's slot at 2\n\n\n</code></pre>\n<p>Here is the build.gradle</p>\n<pre><code>dependencies {\n   classpath &quot;com.android.tools.build:gradle:4.1.2&quot;\n   classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.4.10&quot;\n}\n</code></pre>\n<p>The errors are thrown whenever I tried to compile the code</p>\n<pre><code>e: org.jetbrains.kotlin.codegen.CompilationException: Back-end (JVM) Internal error: Couldn't transform method node:\nemit (Ljava/lang/Object;Lkotlin/coroutines/Continuation;)Ljava/lang/Object;:\n\n</code></pre>\n"},{"tags":["java","zip"],"answers":[{"comments":[{"owner":{"account_id":26543361,"reputation":1,"user_id":20173765,"display_name":"kynewbee"},"score":0,"creation_date":1665060928,"post_id":73973155,"comment_id":130614243,"body_markdown":"Thank you for your answer. But the whole project is under java jdk 11                      version: openjdk version &quot;11.0.12&quot; 2021-07-20\nOpenJDK Runtime Environment Temurin-11.0.12+7 (build 11.0.12+7)\nOpenJDK 64-Bit Server VM Temurin-11.0.12+7 (build 11.0.12+7, mixed mode)","body":"Thank you for your answer. But the whole project is under java jdk 11                      version: openjdk version &quot;11.0.12&quot; 2021-07-20 OpenJDK Runtime Environment Temurin-11.0.12+7 (build 11.0.12+7) OpenJDK 64-Bit Server VM Temurin-11.0.12+7 (build 11.0.12+7, mixed mode)"}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665056296,"creation_date":1665056296,"answer_id":73973155,"question_id":73971537,"body_markdown":"With JDK13 and above, a zip filesystem provides an easy way to modify ZIP files. Once ZIP filesystem is setup you can create directories and copy files using the `Files.createDirectories()` and `Files.copy()`:\r\n\r\n    private static void addToZip(Path zip, Path file, String zipPath) throws IOException {\r\n        try (FileSystem fs = FileSystems.newFileSystem(zip, Map.of(&quot;create&quot;,&quot;true&quot;))) {\r\n            Path root = fs.getRootDirectories().iterator().next();\r\n            Path target = root.resolve(zipPath);\r\n            Files.createDirectories(target.getParent());\r\n            Files.copy(file, target, StandardCopyOption.REPLACE_EXISTING);\r\n        }\r\n    }\r\n\r\nFor example these calls will update / create ZIP by copying a file to particular path:\r\n\r\n    addToZip(Path.of(&quot;/tmp/xyz.zip&quot;), Path.of(&quot;/tmp/123.txt&quot;), &quot;some/path/somename.txt&quot;);\r\n    addToZip(Path.of(&quot;/tmp/xyz.zip&quot;), Path.of(&quot;/tmp/123.txt&quot;), &quot;anothername.txt&quot;);\r\n","title":"java: how to open exist zip file and store bufferedimage into it","body":"<p>With JDK13 and above, a zip filesystem provides an easy way to modify ZIP files. Once ZIP filesystem is setup you can create directories and copy files using the <code>Files.createDirectories()</code> and <code>Files.copy()</code>:</p>\n<pre><code>private static void addToZip(Path zip, Path file, String zipPath) throws IOException {\n    try (FileSystem fs = FileSystems.newFileSystem(zip, Map.of(&quot;create&quot;,&quot;true&quot;))) {\n        Path root = fs.getRootDirectories().iterator().next();\n        Path target = root.resolve(zipPath);\n        Files.createDirectories(target.getParent());\n        Files.copy(file, target, StandardCopyOption.REPLACE_EXISTING);\n    }\n}\n</code></pre>\n<p>For example these calls will update / create ZIP by copying a file to particular path:</p>\n<pre><code>addToZip(Path.of(&quot;/tmp/xyz.zip&quot;), Path.of(&quot;/tmp/123.txt&quot;), &quot;some/path/somename.txt&quot;);\naddToZip(Path.of(&quot;/tmp/xyz.zip&quot;), Path.of(&quot;/tmp/123.txt&quot;), &quot;anothername.txt&quot;);\n</code></pre>\n"}],"owner":{"account_id":26543361,"reputation":1,"user_id":20173765,"display_name":"kynewbee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1665056296,"creation_date":1665048597,"question_id":73971537,"body_markdown":"I am doing a project dealing with images.\r\nAnd one function is to zip images. Just as my code shows, it will new a zipOutputStream every time i call compress. As a result, the previous zip file will be overwrite if the path is the same. \r\n\r\n    public void compress() throws IOException {\r\n   \r\n        String localPath = iProcessor.getPath();\r\n\r\n     \r\n        String name = getName(localPath);\r\n        String type = getType(name);\r\n\r\n      \r\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n        ImageIO.write(iProcessor.getImg(), type, os);\r\n        ByteArrayInputStream file = new ByteArrayInputStream(os.toByteArray());\r\n\r\n        ZipOutputStream out = new ZipOutputStream(new FileOutputStream(path));\r\n\r\n   \r\n        out.putNextEntry(new ZipEntry(name));\r\n        //write into zip\r\n        int len;\r\n        byte[] buffer = new byte[1024]; \r\n\r\n        while ((len = file.read(buffer)) &gt; 0) {\r\n            out.write(buffer, 0, len);\r\n        }\r\n\r\n        \r\n        out.closeEntry();\r\n        file.close();\r\n        out.close();\r\n        System.out.println(&quot;Create zip file successfully!\\n&quot;);\r\n    }\r\n\r\nIs there any methods that when I input the same path, it will open the same zipfile and store the image into it? Thanks \r\n\r\n ","title":"java: how to open exist zip file and store bufferedimage into it","body":"<p>I am doing a project dealing with images.\nAnd one function is to zip images. Just as my code shows, it will new a zipOutputStream every time i call compress. As a result, the previous zip file will be overwrite if the path is the same.</p>\n<pre><code>public void compress() throws IOException {\n\n    String localPath = iProcessor.getPath();\n\n \n    String name = getName(localPath);\n    String type = getType(name);\n\n  \n    ByteArrayOutputStream os = new ByteArrayOutputStream();\n    ImageIO.write(iProcessor.getImg(), type, os);\n    ByteArrayInputStream file = new ByteArrayInputStream(os.toByteArray());\n\n    ZipOutputStream out = new ZipOutputStream(new FileOutputStream(path));\n\n\n    out.putNextEntry(new ZipEntry(name));\n    //write into zip\n    int len;\n    byte[] buffer = new byte[1024]; \n\n    while ((len = file.read(buffer)) &gt; 0) {\n        out.write(buffer, 0, len);\n    }\n\n    \n    out.closeEntry();\n    file.close();\n    out.close();\n    System.out.println(&quot;Create zip file successfully!\\n&quot;);\n}\n</code></pre>\n<p>Is there any methods that when I input the same path, it will open the same zipfile and store the image into it? Thanks</p>\n"},{"tags":["java","database","spring-boot","character-encoding"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1665055900,"post_id":73973036,"comment_id":130612333,"body_markdown":"*&amp;characterEncoding=UTF-16* Is that really the case? Please post ```show create table PLAYER```","body":"<i>&amp;characterEncoding=UTF-16</i> Is that really the case? Please post <code>show create table PLAYER</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1665056162,"post_id":73973036,"comment_id":130612421,"body_markdown":"Please see last comment. Also, how and where are you displaying the output?","body":"Please see last comment. Also, how and where are you displaying the output?"},{"owner":{"account_id":4542739,"reputation":105,"user_id":3690116,"display_name":"p zankat"},"score":0,"creation_date":1665056210,"post_id":73973036,"comment_id":130612437,"body_markdown":"CREATE TABLE IF NOT EXISTS `compdb`.`PLAYER` (\n  `OBJECT` VARCHAR(50) NOT NULL DEFAULT &#39;&#39;,\n  `SCALE` VARCHAR(50) NOT NULL DEFAULT &#39;&#39;\nENGINE = InnoDB\nDEFAULT CHARACTER SET = utf8;","body":"CREATE TABLE IF NOT EXISTS <code>compdb</code>.<code>PLAYER</code> (   <code>OBJECT</code> VARCHAR(50) NOT NULL DEFAULT &#39;&#39;,   <code>SCALE</code> VARCHAR(50) NOT NULL DEFAULT &#39;&#39; ENGINE = InnoDB DEFAULT CHARACTER SET = utf8;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1665056413,"post_id":73973036,"comment_id":130612517,"body_markdown":"OK, progress. Now you know it&#39;s UTF-8 (as I suspected). Now see my last comment (question)","body":"OK, progress. Now you know it&#39;s UTF-8 (as I suspected). Now see my last comment (question)"},{"owner":{"account_id":4542739,"reputation":105,"user_id":3690116,"display_name":"p zankat"},"score":0,"creation_date":1665056597,"post_id":73973036,"comment_id":130612576,"body_markdown":"I am using that output in http response. But I also checked it locally during debug. The output doesn&#39;t seems parsing.","body":"I am using that output in http response. But I also checked it locally during debug. The output doesn&#39;t seems parsing."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665057071,"post_id":73973036,"comment_id":130612746,"body_markdown":"You&#39;re using Windows? ```System.out.println(System.getProperty(&quot;file.encoding&quot;));``` Also print ```&quot;Scale&quot;:&quot;&#181;s&quot;```  and see what you get","body":"You&#39;re using Windows? <code>System.out.println(System.getProperty(&quot;file.encoding&quot;));</code> Also print <code>&quot;Scale&quot;:&quot;&#181;s&quot;</code>  and see what you get"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665057405,"post_id":73973036,"comment_id":130612863,"body_markdown":"That should have been Also print ```&quot;Scale&quot;:&quot;\\u00B5s&quot;```  and see what you get","body":"That should have been Also print <code>&quot;Scale&quot;:&quot;\\u00B5s&quot;</code>  and see what you get"},{"owner":{"account_id":4542739,"reputation":105,"user_id":3690116,"display_name":"p zankat"},"score":0,"creation_date":1665116981,"post_id":73973036,"comment_id":130628732,"body_markdown":"I used these two statements -\n\nSystem.out.println(&quot;file encoding = &quot;+System.getProperty(&quot;file.encoding&quot;));\nSystem.out.println(&quot;\\&quot;Scale\\&quot;:\\&quot;&#181;s\\&quot;&quot;);\n\nAnd here is the output:\n\nfile encoding = UTF-8\n&quot;Scale&quot;:&quot;&#181;s&quot;","body":"I used these two statements -  System.out.println(&quot;file encoding = &quot;+System.getProperty(&quot;file.encoding&quot;)); System.out.println(&quot;\\&quot;Scale\\&quot;:\\&quot;&#181;s\\&quot;&quot;);  And here is the output:  file encoding = UTF-8 &quot;Scale&quot;:&quot;&#181;s&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665131574,"post_id":73973036,"comment_id":130632341,"body_markdown":"*Are* you running Windows?","body":"<i>Are</i> you running Windows?"},{"owner":{"account_id":4542739,"reputation":105,"user_id":3690116,"display_name":"p zankat"},"score":0,"creation_date":1665138814,"post_id":73973036,"comment_id":130634752,"body_markdown":"The database and spring boot application is hosted on Linux. My Java editor is on Windows.","body":"The database and spring boot application is hosted on Linux. My Java editor is on Windows."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665138993,"post_id":73973036,"comment_id":130634800,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/248626/discussion-between-g00se-and-p-zankat).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/248626/discussion-between-g00se-and-p-zankat\">continue this discussion in chat</a>."}],"owner":{"account_id":4542739,"reputation":105,"user_id":3690116,"display_name":"p zankat"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665056047,"creation_date":1665055713,"question_id":73973036,"body_markdown":"This is a two-column table row output in the MySQL database console\r\n\r\n    &gt; SELECT * FROM PLAYER\\G\r\n    *************************** 1. row ***************************\r\n    OBJECT_TYPE: VLC\r\n    SCALE: &#181;s\r\n\r\nThe output I get in the Java code is \r\n\r\n    &quot;Object&quot;:&quot;VLC&quot;, \r\n    &quot;Scale&quot;:&quot;s&quot;\r\n\r\nI tried this in the configuration file -\r\n\r\n    spring.datasource.url=jdbc:mysql://silver.mg.com:3306/compdb?useUnicode=true&amp;characterEncoding=UTF-16\r\n\r\nI want output in SQL query results in Java as -\r\n\r\n    &quot;Object&quot;:&quot;VLC&quot;, \r\n    &quot;Scale&quot;:&quot;&#181;s&quot;\r\n\r\nSomehow that special character(&#181;)is not getting parsed.\r\n\r\nTried with `characterEncoding=UTF-16` and also with `characterEncoding=UTF-8` in the `spring.datasource.url`","title":"How to read special character as it is from MySQL table into Spring boot","body":"<p>This is a two-column table row output in the MySQL database console</p>\n<pre><code>&gt; SELECT * FROM PLAYER\\G\n*************************** 1. row ***************************\nOBJECT_TYPE: VLC\nSCALE: s\n</code></pre>\n<p>The output I get in the Java code is</p>\n<pre><code>&quot;Object&quot;:&quot;VLC&quot;, \n&quot;Scale&quot;:&quot;s&quot;\n</code></pre>\n<p>I tried this in the configuration file -</p>\n<pre><code>spring.datasource.url=jdbc:mysql://silver.mg.com:3306/compdb?useUnicode=true&amp;characterEncoding=UTF-16\n</code></pre>\n<p>I want output in SQL query results in Java as -</p>\n<pre><code>&quot;Object&quot;:&quot;VLC&quot;, \n&quot;Scale&quot;:&quot;s&quot;\n</code></pre>\n<p>Somehow that special character()is not getting parsed.</p>\n<p>Tried with <code>characterEncoding=UTF-16</code> and also with <code>characterEncoding=UTF-8</code> in the <code>spring.datasource.url</code></p>\n"},{"tags":["java","wso2","wso2-esb","apache-axis","wso2-enterprise-integrator"],"comments":[{"owner":{"account_id":3103561,"reputation":13351,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"score":0,"creation_date":1656958350,"post_id":72856337,"comment_id":128691947,"body_markdown":"Can you enable wire logs and share the logs.https://docs.wso2.com/display/EI660/Logs+in+WSO2+EI+6.6.0#LogsinWSO2EI6.6.0-Wirelogs(fortheESBprofile)","body":"Can you enable wire logs and share the logs.<a href=\"https://docs.wso2.com/display/EI660/Logs+in+WSO2+EI+6.6.0#LogsinWSO2EI6.6.0-Wirelogs(fortheESBprofile)\" rel=\"nofollow noreferrer\">docs.wso2.com/display/EI660/&hellip;</a>"},{"owner":{"account_id":3279603,"reputation":1259,"user_id":2760506,"display_name":"tmoasz"},"score":0,"creation_date":1656968894,"post_id":72856337,"comment_id":128694427,"body_markdown":"The ERROR occurs after the `&lt;/filter&gt;`, so the question is: What are the next steps in sequence?","body":"The ERROR occurs after the <code>&lt;&#47;filter&gt;</code>, so the question is: What are the next steps in sequence?"},{"owner":{"account_id":23280730,"reputation":67,"user_id":17364216,"display_name":"Thamu"},"score":0,"creation_date":1656993176,"post_id":72856337,"comment_id":128697695,"body_markdown":"After that I&#39;m using Script mediator in the flow.","body":"After that I&#39;m using Script mediator in the flow."},{"owner":{"account_id":20398059,"reputation":69,"user_id":14964412,"display_name":"Novren"},"score":1,"creation_date":1657023228,"post_id":72856337,"comment_id":128706247,"body_markdown":"You&#39;ll have to provide what you&#39;re doing after since the part you shared is working correctly. Usually when this error shows up you&#39;re calling some endpoint that returned HTML to you.","body":"You&#39;ll have to provide what you&#39;re doing after since the part you shared is working correctly. Usually when this error shows up you&#39;re calling some endpoint that returned HTML to you."},{"owner":{"account_id":23280730,"reputation":67,"user_id":17364216,"display_name":"Thamu"},"score":0,"creation_date":1657080880,"post_id":72856337,"comment_id":128721643,"body_markdown":"Hi Novren I&#39;ve added the complete flow please check.","body":"Hi Novren I&#39;ve added the complete flow please check."}],"answers":[{"tags":[],"owner":{"account_id":20398059,"reputation":69,"user_id":14964412,"display_name":"Novren"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657129728,"creation_date":1657129728,"answer_id":72887899,"question_id":72856337,"body_markdown":"This is most likely an HTTP page being returned by the laravel endpoint you&#39;ve defined at the end. I recommend you turn on Wire logging via the config tab in the carbon console to see what exactly is being returned by the endpoint.\r\n\r\n","title":"WSO2 EI: First Element must contain the local name, Envelope , but found html","body":"<p>This is most likely an HTTP page being returned by the laravel endpoint you've defined at the end. I recommend you turn on Wire logging via the config tab in the carbon console to see what exactly is being returned by the endpoint.</p>\n"},{"comments":[{"owner":{"account_id":20398059,"reputation":69,"user_id":14964412,"display_name":"Novren"},"score":0,"creation_date":1666246208,"post_id":73973095,"comment_id":130891157,"body_markdown":"This is the answer :)","body":"This is the answer :)"}],"tags":[],"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665055965,"creation_date":1665055965,"answer_id":73973095,"question_id":72856337,"body_markdown":"I had similar issue, and I was getting html response from the endpoint instead of JSON response, but I couldn&#39;t see the html response so I enabled the following in **&lt;EI_HOME&gt;/conf/log4j2.properties** and restarted WSO2\r\n\r\n    logger.httpclient-wire-content.level=TRACE\r\n    \r\n    logger.synapse-transport-http-wire.level=TRACE\r\n    \r\n    logger.httpclient-wire-header.level=TRACE\r\n\r\nAfter enabling logging I was able to see the response HTML which was a Support ID by Load Balancer\r\n\r\nreference is : https://docs.wso2.com/display/EI660/Logs+in+WSO2+EI+6.6.0#LogsinWSO2EI6.6.0-Wirelogs(fortheESBprofile)\r\n\r\nAlso It&#39;s better If you enabled message formatters and message builders in **deployment.toml**\r\n\r\n    [[custom_message_formatters]]\r\n    content_type = &quot;text/html&quot;\r\n    class = &quot;org.apache.axis2.format.PlainTextFormatter&quot;\r\n    \r\n    [[custom_message_builders]]\r\n    content_type = &quot;text/html&quot;\r\n    class = &quot;org.apache.axis2.format.PlainTextBuilder&quot;\r\n\r\n","title":"WSO2 EI: First Element must contain the local name, Envelope , but found html","body":"<p>I had similar issue, and I was getting html response from the endpoint instead of JSON response, but I couldn't see the html response so I enabled the following in <strong>&lt;EI_HOME&gt;/conf/log4j2.properties</strong> and restarted WSO2</p>\n<pre><code>logger.httpclient-wire-content.level=TRACE\n\nlogger.synapse-transport-http-wire.level=TRACE\n\nlogger.httpclient-wire-header.level=TRACE\n</code></pre>\n<p>After enabling logging I was able to see the response HTML which was a Support ID by Load Balancer</p>\n<p>reference is : <a href=\"https://docs.wso2.com/display/EI660/Logs+in+WSO2+EI+6.6.0#LogsinWSO2EI6.6.0-Wirelogs(fortheESBprofile)\" rel=\"nofollow noreferrer\">https://docs.wso2.com/display/EI660/Logs+in+WSO2+EI+6.6.0#LogsinWSO2EI6.6.0-Wirelogs(fortheESBprofile)</a></p>\n<p>Also It's better If you enabled message formatters and message builders in <strong>deployment.toml</strong></p>\n<pre><code>[[custom_message_formatters]]\ncontent_type = &quot;text/html&quot;\nclass = &quot;org.apache.axis2.format.PlainTextFormatter&quot;\n\n[[custom_message_builders]]\ncontent_type = &quot;text/html&quot;\nclass = &quot;org.apache.axis2.format.PlainTextBuilder&quot;\n</code></pre>\n"}],"owner":{"account_id":23280730,"reputation":67,"user_id":17364216,"display_name":"Thamu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":605,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1665055965,"creation_date":1656935900,"question_id":72856337,"body_markdown":"I&#39;m retrieving some data&#39;s from the DSS using select query after that, I do some transformation using payload factory and then send it to an endpoint but when I do that *First Element must contain the local name, Envelope , but found html* error please help me to sort this out.\r\n\r\n    &lt;sequence name=&quot;ValidateRecordExistanceInDB&quot; xmlns=&quot;http://ws.apache.org/ns/synapse&quot;&gt;\r\n    &lt;payloadFactory media-type=&quot;xml&quot;&gt;\r\n        &lt;format&gt;\r\n            &lt;p:select_with_key_novum_extension_operation xmlns:p=&quot;novum.service&quot;&gt;\r\n                &lt;xs:Id xmlns:xs=&quot;novum.service&quot;&gt;$1&lt;/xs:Id&gt;\r\n            &lt;/p:select_with_key_novum_extension_operation&gt;\r\n        &lt;/format&gt;\r\n        &lt;args&gt;\r\n            &lt;arg evaluator=&quot;xml&quot; expression=&quot;get-property(&#39;Extension&#39;)&quot;\r\n                literal=&quot;false&quot; xmlns:ns=&quot;http://org.apache.synapse/xsd&quot;/&gt;\r\n        &lt;/args&gt;\r\n    &lt;/payloadFactory&gt;\r\n    &lt;property name=&quot;REST_URL_POSTFIX&quot; scope=&quot;axis2&quot; type=&quot;STRING&quot; value=&quot;&quot;/&gt;\r\n    &lt;property name=&quot;HTTP_METHOD&quot; scope=&quot;axis2&quot; type=&quot;STRING&quot; value=&quot;POST&quot;/&gt;\r\n    &lt;property name=&quot;ContentType&quot; scope=&quot;axis2&quot; type=&quot;STRING&quot; value=&quot;text/xml&quot;/&gt;\r\n    &lt;property name=&quot;Accept&quot; scope=&quot;transport&quot; type=&quot;STRING&quot; value=&quot;text/xml&quot;/&gt;\r\n    &lt;property expression=&quot;$ctx:config//*[local-name()=&#39;localHost&#39;]&quot;\r\n        name=&quot;localHost&quot; scope=&quot;default&quot; type=&quot;STRING&quot; xmlns:ns=&quot;http://org.apache.synapse/xsd&quot;/&gt;\r\n    &lt;header\r\n        expression=&quot;concat($ctx:localHost, &#39;/services/NovumAudioValidationDataRetrievalService&#39;)&quot;\r\n        name=&quot;To&quot; scope=&quot;default&quot; xmlns:ns=&quot;http://org.apache.synapse/xsd&quot;/&gt;\r\n    &lt;property name=&quot;SOAPAction&quot; scope=&quot;transport&quot; type=&quot;STRING&quot; value=&quot;select_with_key_novum_extension&quot;/&gt;\r\n    &lt;call&gt;\r\n        &lt;endpoint&gt;\r\n            &lt;default format=&quot;soap11&quot;&gt;                \r\n            &lt;/default&gt;\r\n        &lt;/endpoint&gt;\r\n    &lt;/call&gt;\r\n    &lt;filter xmlns:ds=&quot;novum.service&quot;\r\n        xmlns:ns=&quot;http://org.apache.synapse/xsd&quot; xpath=&quot;boolean(//ds:novum_extensionCollection/ds:novum_extension)&quot;&gt;\r\n        &lt;then&gt;\r\n            &lt;property expression=&quot;//*[local-name()=&#39;Department&#39;]&quot; name=&quot;department&quot;/&gt;\r\n            &lt;property expression=&quot;//*[local-name()=&#39;Username&#39;]&quot; name=&quot;username&quot;/&gt;\r\n            &lt;property expression=&quot;//*[local-name()=&#39;Extension&#39;]&quot; name=&quot;extension&quot;/&gt;\r\n            &lt;property expression=&quot;//*[local-name()=&#39;Novum_Extension&#39;]&quot; name=&quot;novumExtension&quot;/&gt;\r\n            &lt;property expression=&quot;//*[local-name()=&#39;email&#39;]&quot; name=&quot;email&quot;/&gt;\r\n            &lt;property expression=&quot;//*[local-name()=&#39;location&#39;]&quot; name=&quot;location&quot;/&gt;\r\n            &lt;property expression=&quot;//*[local-name()=&#39;selling_dealer__c&#39;]&quot; name=&quot;selling_dealer__c&quot;/&gt;            \r\n            &lt;log level=&quot;custom&quot;&gt;\r\n                &lt;property\r\n                    expression=&quot;concat(&#39;successfully retrieved record with extension &#39;, $ctx:Rec_Id, &#39; from the db&#39;)&quot; name=&quot;novum-api-status&quot;/&gt;\r\n                &lt;property expression=&quot;$ctx:department&quot; name=&quot;department&quot;/&gt;\r\n                &lt;property expression=&quot;$ctx:location&quot; name=&quot;location&quot;/&gt;\r\n                &lt;property expression=&quot;$ctx:username&quot; name=&quot;username&quot;/&gt;\r\n                &lt;property expression=&quot;$ctx:email&quot; name=&quot;notifierEmail&quot;/&gt;\r\n                &lt;property expression=&quot;$ctx:selling_dealer__c&quot; name=&quot;selling_dealer__c&quot;/&gt;\r\n            &lt;/log&gt;\r\n        &lt;/then&gt;\r\n        &lt;else&gt;\r\n            &lt;log level=&quot;custom&quot;&gt;\r\n                &lt;property\r\n                    expression=&quot;concat(&#39;record with extension &#39;, $ctx:Rec_Id, &#39; not found in the db, sending out error email notification&#39;)&quot; name=&quot;novum-api-status&quot;/&gt;\r\n            &lt;/log&gt;\r\n            &lt;property\r\n                expression=&quot;concat(&#39;Record with Novum Extension &#39;, $ctx:Rec_Id, &#39; can not be found in the database.&#39;)&quot; name=&quot;errorMsg&quot;/&gt;\r\n            &lt;sequence key=&quot;NotifyErrorSubscribers&quot;/&gt;\r\n            &lt;drop/&gt;\r\n        &lt;/else&gt;\r\n    &lt;/filter&gt;    \r\n&lt;/sequence&gt;\r\n\r\n[![Log error][1]][1]\r\n[![Script][2]][2]\r\n[![Sequence 1][3]][3]\r\n[![Sequence 2][4]][4]\r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D24W7.png\r\n  [2]: https://i.stack.imgur.com/1zvJ4.png\r\n  [3]: https://i.stack.imgur.com/5aTEW.png\r\n  [4]: https://i.stack.imgur.com/mShvH.png","title":"WSO2 EI: First Element must contain the local name, Envelope , but found html","body":"<p>I'm retrieving some data's from the DSS using select query after that, I do some transformation using payload factory and then send it to an endpoint but when I do that <em>First Element must contain the local name, Envelope , but found html</em> error please help me to sort this out.</p>\n<pre><code>&lt;sequence name=&quot;ValidateRecordExistanceInDB&quot; xmlns=&quot;http://ws.apache.org/ns/synapse&quot;&gt;\n&lt;payloadFactory media-type=&quot;xml&quot;&gt;\n    &lt;format&gt;\n        &lt;p:select_with_key_novum_extension_operation xmlns:p=&quot;novum.service&quot;&gt;\n            &lt;xs:Id xmlns:xs=&quot;novum.service&quot;&gt;$1&lt;/xs:Id&gt;\n        &lt;/p:select_with_key_novum_extension_operation&gt;\n    &lt;/format&gt;\n    &lt;args&gt;\n        &lt;arg evaluator=&quot;xml&quot; expression=&quot;get-property('Extension')&quot;\n            literal=&quot;false&quot; xmlns:ns=&quot;http://org.apache.synapse/xsd&quot;/&gt;\n    &lt;/args&gt;\n&lt;/payloadFactory&gt;\n&lt;property name=&quot;REST_URL_POSTFIX&quot; scope=&quot;axis2&quot; type=&quot;STRING&quot; value=&quot;&quot;/&gt;\n&lt;property name=&quot;HTTP_METHOD&quot; scope=&quot;axis2&quot; type=&quot;STRING&quot; value=&quot;POST&quot;/&gt;\n&lt;property name=&quot;ContentType&quot; scope=&quot;axis2&quot; type=&quot;STRING&quot; value=&quot;text/xml&quot;/&gt;\n&lt;property name=&quot;Accept&quot; scope=&quot;transport&quot; type=&quot;STRING&quot; value=&quot;text/xml&quot;/&gt;\n&lt;property expression=&quot;$ctx:config//*[local-name()='localHost']&quot;\n    name=&quot;localHost&quot; scope=&quot;default&quot; type=&quot;STRING&quot; xmlns:ns=&quot;http://org.apache.synapse/xsd&quot;/&gt;\n&lt;header\n    expression=&quot;concat($ctx:localHost, '/services/NovumAudioValidationDataRetrievalService')&quot;\n    name=&quot;To&quot; scope=&quot;default&quot; xmlns:ns=&quot;http://org.apache.synapse/xsd&quot;/&gt;\n&lt;property name=&quot;SOAPAction&quot; scope=&quot;transport&quot; type=&quot;STRING&quot; value=&quot;select_with_key_novum_extension&quot;/&gt;\n&lt;call&gt;\n    &lt;endpoint&gt;\n        &lt;default format=&quot;soap11&quot;&gt;                \n        &lt;/default&gt;\n    &lt;/endpoint&gt;\n&lt;/call&gt;\n&lt;filter xmlns:ds=&quot;novum.service&quot;\n    xmlns:ns=&quot;http://org.apache.synapse/xsd&quot; xpath=&quot;boolean(//ds:novum_extensionCollection/ds:novum_extension)&quot;&gt;\n    &lt;then&gt;\n        &lt;property expression=&quot;//*[local-name()='Department']&quot; name=&quot;department&quot;/&gt;\n        &lt;property expression=&quot;//*[local-name()='Username']&quot; name=&quot;username&quot;/&gt;\n        &lt;property expression=&quot;//*[local-name()='Extension']&quot; name=&quot;extension&quot;/&gt;\n        &lt;property expression=&quot;//*[local-name()='Novum_Extension']&quot; name=&quot;novumExtension&quot;/&gt;\n        &lt;property expression=&quot;//*[local-name()='email']&quot; name=&quot;email&quot;/&gt;\n        &lt;property expression=&quot;//*[local-name()='location']&quot; name=&quot;location&quot;/&gt;\n        &lt;property expression=&quot;//*[local-name()='selling_dealer__c']&quot; name=&quot;selling_dealer__c&quot;/&gt;            \n        &lt;log level=&quot;custom&quot;&gt;\n            &lt;property\n                expression=&quot;concat('successfully retrieved record with extension ', $ctx:Rec_Id, ' from the db')&quot; name=&quot;novum-api-status&quot;/&gt;\n            &lt;property expression=&quot;$ctx:department&quot; name=&quot;department&quot;/&gt;\n            &lt;property expression=&quot;$ctx:location&quot; name=&quot;location&quot;/&gt;\n            &lt;property expression=&quot;$ctx:username&quot; name=&quot;username&quot;/&gt;\n            &lt;property expression=&quot;$ctx:email&quot; name=&quot;notifierEmail&quot;/&gt;\n            &lt;property expression=&quot;$ctx:selling_dealer__c&quot; name=&quot;selling_dealer__c&quot;/&gt;\n        &lt;/log&gt;\n    &lt;/then&gt;\n    &lt;else&gt;\n        &lt;log level=&quot;custom&quot;&gt;\n            &lt;property\n                expression=&quot;concat('record with extension ', $ctx:Rec_Id, ' not found in the db, sending out error email notification')&quot; name=&quot;novum-api-status&quot;/&gt;\n        &lt;/log&gt;\n        &lt;property\n            expression=&quot;concat('Record with Novum Extension ', $ctx:Rec_Id, ' can not be found in the database.')&quot; name=&quot;errorMsg&quot;/&gt;\n        &lt;sequence key=&quot;NotifyErrorSubscribers&quot;/&gt;\n        &lt;drop/&gt;\n    &lt;/else&gt;\n&lt;/filter&gt;    \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/D24W7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D24W7.png\" alt=\"Log error\" /></a>\n<a href=\"https://i.stack.imgur.com/1zvJ4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1zvJ4.png\" alt=\"Script\" /></a>\n<a href=\"https://i.stack.imgur.com/5aTEW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5aTEW.png\" alt=\"Sequence 1\" /></a>\n<a href=\"https://i.stack.imgur.com/mShvH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mShvH.png\" alt=\"Sequence 2\" /></a></p>\n<p>Thanks!</p>\n"},{"tags":["java","jmx"],"answers":[{"comments":[{"owner":{"account_id":1091571,"reputation":17212,"user_id":1086117,"accept_rate":56,"display_name":"DarVar"},"score":0,"creation_date":1452688645,"post_id":34766508,"comment_id":57278659,"body_markdown":"Any idea how this is calculated? Just trying to figure out what&#39;s a healthy getSystemLoadAverage() percentage for my machine.\n\nAlso re my first question. Is getSystemCpuLoad() percentage for all 8 cpus","body":"Any idea how this is calculated? Just trying to figure out what&#39;s a healthy getSystemLoadAverage() percentage for my machine.  Also re my first question. Is getSystemCpuLoad() percentage for all 8 cpus"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1452691096,"post_id":34766508,"comment_id":57280279,"body_markdown":"The OS samples the number of waiting threads and averages it over 1 minutes, 5 minutes and 15 minutes.  How healthy this is depends on the number of CPUs you have and the impact this has on your application. e.g. in a trading system, a load of 1 is bad. In a batch processing system 100 might be bad.","body":"The OS samples the number of waiting threads and averages it over 1 minutes, 5 minutes and 15 minutes.  How healthy this is depends on the number of CPUs you have and the impact this has on your application. e.g. in a trading system, a load of 1 is bad. In a batch processing system 100 might be bad."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452687394,"creation_date":1452687394,"answer_id":34766508,"question_id":34765359,"body_markdown":"The load average is the number of waiting threads on average.  The upper limit is based on the number of threads you have (not the number of CPUs)","title":"OperatingSystemMXBean CPU usage methods","body":"<p>The load average is the number of waiting threads on average.  The upper limit is based on the number of threads you have (not the number of CPUs)</p>\n"},{"tags":[],"owner":{"account_id":2725451,"reputation":52,"user_id":2350659,"accept_rate":0,"display_name":"vishal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665055513,"creation_date":1665055513,"answer_id":73972992,"question_id":34765359,"body_markdown":"Yes you have max of 800% and it&#39;s completely occupied + you have 89% processes  waiting for cpu slice. This indicates your system is overloaded.","title":"OperatingSystemMXBean CPU usage methods","body":"<p>Yes you have max of 800% and it's completely occupied + you have 89% processes  waiting for cpu slice. This indicates your system is overloaded.</p>\n"}],"owner":{"account_id":1091571,"reputation":17212,"user_id":1086117,"accept_rate":56,"display_name":"DarVar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1665055513,"creation_date":1452684171,"question_id":34765359,"body_markdown":"I&#39;m using the Oracle JDK 7 on RHEL\r\n\r\nDoes the method `com.sun.management.OperatingSystemMXBean.getSystemCpuLoad()` return percentage CPU usage across all available cpus on the machine?\r\n\r\nAlso, when I used `java.lang.management.OperatingSystemMXBean.getSystemLoadAverage()` it returned 8.89. My machine only has 8 cpus. That&#39;s 889% CPU usage?? But isn&#39;t 800% max since I only have 8 cpus?\r\n\r\n","title":"OperatingSystemMXBean CPU usage methods","body":"<p>I'm using the Oracle JDK 7 on RHEL</p>\n\n<p>Does the method <code>com.sun.management.OperatingSystemMXBean.getSystemCpuLoad()</code> return percentage CPU usage across all available cpus on the machine?</p>\n\n<p>Also, when I used <code>java.lang.management.OperatingSystemMXBean.getSystemLoadAverage()</code> it returned 8.89. My machine only has 8 cpus. That's 889% CPU usage?? But isn't 800% max since I only have 8 cpus?</p>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1518776941,"post_id":46057033,"comment_id":84652936,"body_markdown":"I&#39;m confused about your `from(direct....)` definition inside the route. You get your payload from an HTTP endpoint invocation not from a direct endpoint, so what is the use of it in the route? I&#39;m also not sure if this does work in general, but haven&#39;t tried that yet, tbh. Next, do you really need the stream data once you converted it to a PhoneNumber object?","body":"I&#39;m confused about your <code>from(direct....)</code> definition inside the route. You get your payload from an HTTP endpoint invocation not from a direct endpoint, so what is the use of it in the route? I&#39;m also not sure if this does work in general, but haven&#39;t tried that yet, tbh. Next, do you really need the stream data once you converted it to a PhoneNumber object?"},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1518777377,"post_id":46057033,"comment_id":84653242,"body_markdown":"I addition to that, you already defined that the payload should be mapped to a `PhoneNumber` instance via `.type(PhoneNumber)` why do you need to convert it later on on using `.unmarshal().json(JsonLibrary.Jackson, PhoneNumber.class)`? Use either one or the other","body":"I addition to that, you already defined that the payload should be mapped to a <code>PhoneNumber</code> instance via <code>.type(PhoneNumber)</code> why do you need to convert it later on on using <code>.unmarshal().json(JsonLibrary.Jackson, PhoneNumber.class)</code>? Use either one or the other"}],"answers":[{"comments":[{"owner":{"account_id":378737,"reputation":4024,"user_id":731650,"accept_rate":75,"display_name":"damian"},"score":1,"creation_date":1504871380,"post_id":46088219,"comment_id":79193628,"body_markdown":"Hi, I&#39;m already using streamcaching() but still having the issue. Thanks","body":"Hi, I&#39;m already using streamcaching() but still having the issue. Thanks"}],"tags":[],"owner":{"account_id":101445,"reputation":1676,"user_id":272922,"display_name":"Vyacheslav Enis"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504760749,"creation_date":1504760749,"answer_id":46088219,"question_id":46057033,"body_markdown":"To be able to read stream more than once you can use &quot;stream caching&quot;. Details: http://camel.apache.org/stream-caching.html","title":"Apache Camel - Stream Closed","body":"<p>To be able to read stream more than once you can use \"stream caching\". Details: <a href=\"http://camel.apache.org/stream-caching.html\" rel=\"nofollow noreferrer\">http://camel.apache.org/stream-caching.html</a></p>\n"},{"tags":[],"owner":{"account_id":10089984,"reputation":51,"user_id":7457278,"display_name":"Bence Bodrogi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518775800,"creation_date":1518775800,"answer_id":48824385,"question_id":46057033,"body_markdown":"If you get rid of `.unmarshal().json(JsonLibrary.Jackson, PhoneNumber.class)` &amp; `.streamcaching()`\r\n\r\nand use \r\n\r\n    .put(&quot;/{number}&quot;)\r\n      .bindingMode(RestBindingMode.json)\r\n      .type(PhoneNumber.class)\r\n      .consumes(MediaType.APPLICATION_JSON_VALUE)`\r\n\r\nit should work properly","title":"Apache Camel - Stream Closed","body":"<p>If you get rid of <code>.unmarshal().json(JsonLibrary.Jackson, PhoneNumber.class)</code> &amp; <code>.streamcaching()</code></p>\n\n<p>and use </p>\n\n<pre><code>.put(\"/{number}\")\n  .bindingMode(RestBindingMode.json)\n  .type(PhoneNumber.class)\n  .consumes(MediaType.APPLICATION_JSON_VALUE)`\n</code></pre>\n\n<p>it should work properly</p>\n"},{"tags":[],"owner":{"account_id":202415,"reputation":83,"user_id":2890661,"display_name":"Luigi De Masi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525450302,"creation_date":1525450302,"answer_id":50179173,"question_id":46057033,"body_markdown":"I had the same issue, add \r\n\r\n    .setHeader(Exchange.CONTENT_TYPE, constant(javax.ws.rs.core.MediaType.APPLICATION_JSON))\r\n\r\nat the end of the route. ","title":"Apache Camel - Stream Closed","body":"<p>I had the same issue, add </p>\n\n<pre><code>.setHeader(Exchange.CONTENT_TYPE, constant(javax.ws.rs.core.MediaType.APPLICATION_JSON))\n</code></pre>\n\n<p>at the end of the route. </p>\n"}],"owner":{"account_id":378737,"reputation":4024,"user_id":731650,"accept_rate":75,"display_name":"damian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7438,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1665055348,"creation_date":1504620407,"question_id":46057033,"body_markdown":"I have the following route in Camel:\r\n\r\n    restConfiguration()\r\n    \t        .component(&quot;servlet&quot;)\r\n    \t        .contextPath(contextPath)\r\n    \t        .host(host)\r\n    \t        .port(port)\r\n    \t        .enableCORS(true);    \r\n    \r\n    rest(&quot;/phoneNumbers&quot;)\r\n    \t\t\t.put(&quot;/{number}&quot;)\r\n    \t\t\t\t.type(PhoneNumber.class)\r\n    \t\t\t.route()\r\n    \t\t\t\t.streamCaching()\r\n    \t\t\t\t.from(DIRECT_SETSTATUS_REST)\r\n    \t\t\t\t.onException(Exception.class).handled(true)\r\n    \t\t\t\t.to(&quot;bean:exceptionProcessor&quot;)\r\n    \t\t\t\t.end()\r\n    \t\t\t\t.unmarshal().json(JsonLibrary.Jackson, PhoneNumber.class)\r\n    \t\t\t\t.to(&quot;activemq:setStatus?exchangePattern=InOnly&quot;);\r\n\r\nWhen I send a put request with a valid JSON body, I get the following exception:\r\n\r\n    java.io.IOException: Stream closed\r\n\tat org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:339) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:152) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.camel.util.IOHelper.copy(IOHelper.java:196) ~[camel-core-2.18.2.jar:2.18.2]\r\n\tat org.apache.camel.http.common.DefaultHttpBinding.copyStream(DefaultHttpBinding.java:427) ~[camel-http-common-2.18.2.jar:2.18.2]\r\n\tat org.apache.camel.http.common.DefaultHttpBinding.doWriteDirectResponse(DefaultHttpBinding.java:491) ~[camel-http-common-2.18.2.jar:2.18.2]\r\n\tat org.apache.camel.http.common.DefaultHttpBinding.doWriteResponse(DefaultHttpBinding.java:390) ~[camel-http-common-2.18.2.jar:2.18.2]\r\n\tat org.apache.camel.http.common.DefaultHttpBinding.writeResponse(DefaultHttpBinding.java:322) ~[camel-http-common-2.18.2.jar:2.18.2]\r\n\tat org.apache.camel.http.common.CamelServlet.doService(CamelServlet.java:210) ~[camel-http-common-2.18.2.jar:2.18.2]\r\n\tat org.apache.camel.http.common.CamelServlet.service(CamelServlet.java:74) ~[camel-http-common-2.18.2.jar:2.18.2]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:108) ~[spring-boot-actuator-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:106) ~[spring-boot-actuator-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.11.jar:8.5.11]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]\r\n\r\nBut then the message is processed. I can see in the logs that the message went to the queue, and later on it was processed from the queue.\r\n\r\nIf I remove this line:\r\n\r\n    .unmarshal().json(JsonLibrary.Jackson, PhoneNumber.class)\r\n\r\nThen I don&#39;t get the exception, but I would like to keep it to parse into POJO.  Any idea of what&#39;s causing the exception?\r\n","title":"Apache Camel - Stream Closed","body":"<p>I have the following route in Camel:</p>\n\n<pre><code>restConfiguration()\n            .component(\"servlet\")\n            .contextPath(contextPath)\n            .host(host)\n            .port(port)\n            .enableCORS(true);    \n\nrest(\"/phoneNumbers\")\n            .put(\"/{number}\")\n                .type(PhoneNumber.class)\n            .route()\n                .streamCaching()\n                .from(DIRECT_SETSTATUS_REST)\n                .onException(Exception.class).handled(true)\n                .to(\"bean:exceptionProcessor\")\n                .end()\n                .unmarshal().json(JsonLibrary.Jackson, PhoneNumber.class)\n                .to(\"activemq:setStatus?exchangePattern=InOnly\");\n</code></pre>\n\n<p>When I send a put request with a valid JSON body, I get the following exception:</p>\n\n<pre><code>java.io.IOException: Stream closed\nat org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:339) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:152) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.camel.util.IOHelper.copy(IOHelper.java:196) ~[camel-core-2.18.2.jar:2.18.2]\nat org.apache.camel.http.common.DefaultHttpBinding.copyStream(DefaultHttpBinding.java:427) ~[camel-http-common-2.18.2.jar:2.18.2]\nat org.apache.camel.http.common.DefaultHttpBinding.doWriteDirectResponse(DefaultHttpBinding.java:491) ~[camel-http-common-2.18.2.jar:2.18.2]\nat org.apache.camel.http.common.DefaultHttpBinding.doWriteResponse(DefaultHttpBinding.java:390) ~[camel-http-common-2.18.2.jar:2.18.2]\nat org.apache.camel.http.common.DefaultHttpBinding.writeResponse(DefaultHttpBinding.java:322) ~[camel-http-common-2.18.2.jar:2.18.2]\nat org.apache.camel.http.common.CamelServlet.doService(CamelServlet.java:210) ~[camel-http-common-2.18.2.jar:2.18.2]\nat org.apache.camel.http.common.CamelServlet.service(CamelServlet.java:74) ~[camel-http-common-2.18.2.jar:2.18.2]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:729) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:108) ~[spring-boot-actuator-1.5.2.RELEASE.jar:1.5.2.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:106) ~[spring-boot-actuator-1.5.2.RELEASE.jar:1.5.2.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.3.7.RELEASE.jar:4.3.7.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:192) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:165) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) ~[tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:474) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:349) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:783) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:798) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1434) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_144]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_144]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.11.jar:8.5.11]\nat java.lang.Thread.run(Thread.java:748) [na:1.8.0_144]\n</code></pre>\n\n<p>But then the message is processed. I can see in the logs that the message went to the queue, and later on it was processed from the queue.</p>\n\n<p>If I remove this line:</p>\n\n<pre><code>.unmarshal().json(JsonLibrary.Jackson, PhoneNumber.class)\n</code></pre>\n\n<p>Then I don't get the exception, but I would like to keep it to parse into POJO.  Any idea of what's causing the exception?</p>\n"},{"tags":["java","oracle","spring","jdbctemplate"],"comments":[{"owner":{"account_id":2281958,"reputation":2224,"user_id":2006839,"accept_rate":67,"display_name":"Lakshmi"},"score":1,"creation_date":1362741338,"post_id":15292331,"comment_id":21580150,"body_markdown":"check if this helps http://www.coderanch.com/t/489862/Spring/Calling-Stored-Procedure-Spring-StoredProcedure .Did you try calling the procedure in sql prompt ? Did it work ?","body":"check if this helps <a href=\"http://www.coderanch.com/t/489862/Spring/Calling-Stored-Procedure-Spring-StoredProcedure\" rel=\"nofollow noreferrer\">coderanch.com/t/489862/Spring/&hellip;</a> .Did you try calling the procedure in sql prompt ? Did it work ?"},{"owner":{"account_id":461282,"reputation":5319,"user_id":1249225,"accept_rate":81,"display_name":"Krushna"},"score":0,"creation_date":1362743159,"post_id":15292331,"comment_id":21581126,"body_markdown":"There is no error in the procedure it working fine, The error might in java side.","body":"There is no error in the procedure it working fine, The error might in java side."},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1571328826,"post_id":15292331,"comment_id":103213754,"body_markdown":"It worked for me only use CallableStatement. It is strange that in other similar procedures there are no problems.","body":"It worked for me only use CallableStatement. It is strange that in other similar procedures there are no problems."},{"owner":{"account_id":7117652,"reputation":1968,"user_id":5443319,"accept_rate":0,"display_name":"Ziaullhaq Savanur"},"score":0,"creation_date":1637046165,"post_id":15292331,"comment_id":123713500,"body_markdown":"If you use IN clause in sql query, then you can&#39;t pass list of values in place of this directly it need to converted to comma separated strings or need to be handled smartly.","body":"If you use IN clause in sql query, then you can&#39;t pass list of values in place of this directly it need to converted to comma separated strings or need to be handled smartly."}],"answers":[{"comments":[{"owner":{"account_id":2073637,"reputation":23447,"user_id":1847592,"accept_rate":80,"display_name":"Egor Skriptunoff"},"score":0,"creation_date":1362744318,"post_id":15292978,"comment_id":21581764,"body_markdown":"@KrushnaCh.Dash - Are parameters for `new SqlParameter()` correct?","body":"@KrushnaCh.Dash - Are parameters for <code>new SqlParameter()</code> correct?"},{"owner":{"account_id":461282,"reputation":5319,"user_id":1249225,"accept_rate":81,"display_name":"Krushna"},"score":0,"creation_date":1362744705,"post_id":15292978,"comment_id":21582006,"body_markdown":"Yes adding SQL parameter is optional as i have mention the type at the top","body":"Yes adding SQL parameter is optional as i have mention the type at the top"}],"tags":[],"owner":{"account_id":2073637,"reputation":23447,"user_id":1847592,"accept_rate":80,"display_name":"Egor Skriptunoff"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1362742251,"creation_date":1362742251,"answer_id":15292978,"question_id":15292331,"body_markdown":"Probably, you need to insert schema identifier here:  \r\n\r\n    in.addValue(&quot;po_system_users&quot;, null, OracleTypes.ARRAY, &quot;your_schema.T_SYSTEM_USER_TAB&quot;);","title":"SQL state [99999]; error code [17004]; Invalid column type: 1111 With Spring SimpleJdbcCall","body":"<p>Probably, you need to insert schema identifier here:  </p>\n\n<pre><code>in.addValue(\"po_system_users\", null, OracleTypes.ARRAY, \"your_schema.T_SYSTEM_USER_TAB\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":0,"creation_date":1649432445,"post_id":15294345,"comment_id":126882165,"body_markdown":"sometimes it could be enum type value that interferes with data type.","body":"sometimes it could be enum type value that interferes with data type."}],"tags":[],"owner":{"account_id":2281958,"reputation":2224,"user_id":2006839,"accept_rate":67,"display_name":"Lakshmi"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1362746878,"creation_date":1362746878,"answer_id":15294345,"question_id":15292331,"body_markdown":"I think the problem is with the datatype of the data you are passing `Caused by: java.sql.SQLException: Invalid column type: 1111` check the datatypes you pass with the actual column datatypes may be there can be some mismatch or some constraint violation with `null`","title":"SQL state [99999]; error code [17004]; Invalid column type: 1111 With Spring SimpleJdbcCall","body":"<p>I think the problem is with the datatype of the data you are passing <code>Caused by: java.sql.SQLException: Invalid column type: 1111</code> check the datatypes you pass with the actual column datatypes may be there can be some mismatch or some constraint violation with <code>null</code></p>\n"},{"comments":[{"owner":{"account_id":169876,"reputation":2154,"user_id":396216,"accept_rate":81,"display_name":"Murat Derya &#214;zen"},"score":7,"creation_date":1403787974,"post_id":15332385,"comment_id":37800284,"body_markdown":"Why do you not include how you solved it instead of pasting code?","body":"Why do you not include how you solved it instead of pasting code?"},{"owner":{"account_id":461282,"reputation":5319,"user_id":1249225,"accept_rate":81,"display_name":"Krushna"},"score":0,"creation_date":1445674265,"post_id":15332385,"comment_id":54430225,"body_markdown":"Please see the edits, The error will happen due to mismatch of IN/OUT parameter as declare in procedure and java code","body":"Please see the edits, The error will happen due to mismatch of IN/OUT parameter as declare in procedure and java code"},{"owner":{"account_id":13218252,"reputation":93,"user_id":9569085,"display_name":"mohamed_ashraf51"},"score":0,"creation_date":1699401944,"post_id":15332385,"comment_id":136526488,"body_markdown":"hey I don&#39;t know if you still have the code but can you show me the code of OracleSystemUser() class","body":"hey I don&#39;t know if you still have the code but can you show me the code of OracleSystemUser() class"},{"owner":{"account_id":461282,"reputation":5319,"user_id":1249225,"accept_rate":81,"display_name":"Krushna"},"score":0,"creation_date":1700635822,"post_id":15332385,"comment_id":136677430,"body_markdown":"Sorry Bro, I do not have the code with me now","body":"Sorry Bro, I do not have the code with me now"}],"tags":[],"owner":{"account_id":461282,"reputation":5319,"user_id":1249225,"accept_rate":81,"display_name":"Krushna"},"comment_count":4,"down_vote_count":3,"up_vote_count":4,"is_accepted":true,"score":1,"last_activity_date":1445674236,"creation_date":1362982972,"answer_id":15332385,"question_id":15292331,"body_markdown":"Finally I solve the issues using below code. This type of error will happen when there is a mismatch between In/Out parameter as declare in procedure and in java code `declareParameters`. Here we need to defined oracle return tab\r\n\r\n    public class ManualSaleStoredProcedureDao {\r\n\r\n\tprivate SimpleJdbcCall getAllSytemUsers;\r\n\r\n\tpublic List&lt;SystemUser&gt; getAllSytemUsers(String clientCode) {\r\n\r\n\t\tMapSqlParameterSource in = new MapSqlParameterSource();\r\n\t\tin.addValue(&quot;pi_client_code&quot;, clientCode);\r\n\t\tMap&lt;String, Object&gt; result = getAllSytemUsers.execute(in);\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tList&lt;SystemUser&gt; systemUsers = (List&lt;SystemUser&gt;) result\r\n\t\t\t\t.get(VSCConstants.GET_SYSTEM_USER_OUT_PARAM1);\r\n\t\treturn systemUsers;\r\n\r\n\t}\r\n\r\n\tpublic void setDataSource(DataSource dataSource) {\r\n\r\n\t\tgetAllSytemUsers = new SimpleJdbcCall(dataSource)\r\n\t\t\t\t.withSchemaName(VSCConstants.SCHEMA)\r\n\t\t\t\t.withProcedureName(VSCConstants.GET_SYSTEM_USER_PROC_NAME)\r\n\t\t\t\t.declareParameters(\r\n\t\t\t\t\t\tnew SqlParameter(\r\n\t\t\t\t\t\t\t\t&quot;pi_client_code&quot;,\r\n\t\t\t\t\t\t\t\tOracleTypes.NUMBER,\r\n\t\t\t\t\t\t\t\t&quot;pi_client_code&quot;),\r\n\t\t\t\t\t\tnew SqlInOutParameter(\r\n\t\t\t\t\t\t\t\t&quot;po_system_users&quot;,\r\n\t\t\t\t\t\t\t\tOracleTypes.ARRAY,\r\n\t\t\t\t\t\t\t\t&quot;T_SYSTEM_USER_TAB&quot;,\r\n\t\t\t\t\t\t\t\tnew OracleSystemUser()));\r\n\r\n\t}","title":"SQL state [99999]; error code [17004]; Invalid column type: 1111 With Spring SimpleJdbcCall","body":"<p>Finally I solve the issues using below code. This type of error will happen when there is a mismatch between In/Out parameter as declare in procedure and in java code <code>declareParameters</code>. Here we need to defined oracle return tab</p>\n\n<pre><code>public class ManualSaleStoredProcedureDao {\n\nprivate SimpleJdbcCall getAllSytemUsers;\n\npublic List&lt;SystemUser&gt; getAllSytemUsers(String clientCode) {\n\n    MapSqlParameterSource in = new MapSqlParameterSource();\n    in.addValue(\"pi_client_code\", clientCode);\n    Map&lt;String, Object&gt; result = getAllSytemUsers.execute(in);\n    @SuppressWarnings(\"unchecked\")\n    List&lt;SystemUser&gt; systemUsers = (List&lt;SystemUser&gt;) result\n            .get(VSCConstants.GET_SYSTEM_USER_OUT_PARAM1);\n    return systemUsers;\n\n}\n\npublic void setDataSource(DataSource dataSource) {\n\n    getAllSytemUsers = new SimpleJdbcCall(dataSource)\n            .withSchemaName(VSCConstants.SCHEMA)\n            .withProcedureName(VSCConstants.GET_SYSTEM_USER_PROC_NAME)\n            .declareParameters(\n                    new SqlParameter(\n                            \"pi_client_code\",\n                            OracleTypes.NUMBER,\n                            \"pi_client_code\"),\n                    new SqlInOutParameter(\n                            \"po_system_users\",\n                            OracleTypes.ARRAY,\n                            \"T_SYSTEM_USER_TAB\",\n                            new OracleSystemUser()));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":90734,"reputation":2071,"user_id":249623,"display_name":"Ryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498070950,"creation_date":1498070950,"answer_id":44683985,"question_id":15292331,"body_markdown":"I have a function which returns a CLOB and I was seeing the above error when I&#39;d forgotten to declare the return value as an output parameter.  Initially I had:\r\n\r\n    protected SimpleJdbcCall buildJdbcCall(JdbcTemplate jdbcTemplate)\r\n\t{\r\n\t\tSimpleJdbcCall call = new SimpleJdbcCall(jdbcTemplate)\r\n\t\t\t.withSchemaName(schema)\r\n\t\t\t.withCatalogName(catalog)\r\n\t\t\t.withFunctionName(functionName)\r\n\t\t\t.withReturnValue()\t\t\t\r\n\t\t\t.declareParameters(buildSqlParameters());\r\n\r\n\t\treturn call;\r\n\t}\r\n\r\n\tpublic SqlParameter[] buildSqlParameters() {\r\n\t\treturn new SqlParameter[]{\r\n\t\t\tnew SqlParameter(&quot;p_names&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_format&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_units&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_datums&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_start&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_end&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_timezone&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_office_id&quot;, Types.VARCHAR),\r\n\t\t\t};\r\n\t}\r\n\r\nThe buildSqlParameters method should have included the SqlOutParameter:\r\n\r\n\tpublic SqlParameter[] buildSqlParameters() {\r\n\t\treturn new SqlParameter[]{\r\n\t\t\tnew SqlParameter(&quot;p_names&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_format&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_units&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_datums&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_start&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_end&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_timezone&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlParameter(&quot;p_office_id&quot;, Types.VARCHAR),\r\n\t\t\tnew SqlOutParameter(&quot;l_clob&quot;, Types.CLOB)  // &lt;-- This was missing!\r\n        }; \r\n\t}\r\n\r\n","title":"SQL state [99999]; error code [17004]; Invalid column type: 1111 With Spring SimpleJdbcCall","body":"<p>I have a function which returns a CLOB and I was seeing the above error when I'd forgotten to declare the return value as an output parameter.  Initially I had:</p>\n\n<pre><code>protected SimpleJdbcCall buildJdbcCall(JdbcTemplate jdbcTemplate)\n{\n    SimpleJdbcCall call = new SimpleJdbcCall(jdbcTemplate)\n        .withSchemaName(schema)\n        .withCatalogName(catalog)\n        .withFunctionName(functionName)\n        .withReturnValue()          \n        .declareParameters(buildSqlParameters());\n\n    return call;\n}\n\npublic SqlParameter[] buildSqlParameters() {\n    return new SqlParameter[]{\n        new SqlParameter(\"p_names\", Types.VARCHAR),\n        new SqlParameter(\"p_format\", Types.VARCHAR),\n        new SqlParameter(\"p_units\", Types.VARCHAR),\n        new SqlParameter(\"p_datums\", Types.VARCHAR),\n        new SqlParameter(\"p_start\", Types.VARCHAR),\n        new SqlParameter(\"p_end\", Types.VARCHAR),\n        new SqlParameter(\"p_timezone\", Types.VARCHAR),\n        new SqlParameter(\"p_office_id\", Types.VARCHAR),\n        };\n}\n</code></pre>\n\n<p>The buildSqlParameters method should have included the SqlOutParameter:</p>\n\n<pre><code>public SqlParameter[] buildSqlParameters() {\n    return new SqlParameter[]{\n        new SqlParameter(\"p_names\", Types.VARCHAR),\n        new SqlParameter(\"p_format\", Types.VARCHAR),\n        new SqlParameter(\"p_units\", Types.VARCHAR),\n        new SqlParameter(\"p_datums\", Types.VARCHAR),\n        new SqlParameter(\"p_start\", Types.VARCHAR),\n        new SqlParameter(\"p_end\", Types.VARCHAR),\n        new SqlParameter(\"p_timezone\", Types.VARCHAR),\n        new SqlParameter(\"p_office_id\", Types.VARCHAR),\n        new SqlOutParameter(\"l_clob\", Types.CLOB)  // &lt;-- This was missing!\n    }; \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3351190,"reputation":3386,"user_id":2815227,"accept_rate":64,"display_name":"mcvkr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559317740,"creation_date":1559317740,"answer_id":56398191,"question_id":15292331,"body_markdown":"We had the same issue when we had a typo in the mybatis mapping file like\r\n\r\n            ....\r\n            #{column1Name,\t\t\tjdbcType=INTEGER},\r\n\t\t\t#{column2Name,\t\t\tjdbcType=VARCHAR},\r\n\t\t\t#{column3Name,\t\tjdbcTyep=VARCHAR}  -- do you see the typo ?\r\n            .....\r\n\r\nSo check this kind of typos as well. Unfortunately, it can not understand the typo in compile/build time, it causes an unchecked exception and booms in runtime.","title":"SQL state [99999]; error code [17004]; Invalid column type: 1111 With Spring SimpleJdbcCall","body":"<p>We had the same issue when we had a typo in the mybatis mapping file like</p>\n\n<pre><code>        ....\n        #{column1Name,          jdbcType=INTEGER},\n        #{column2Name,          jdbcType=VARCHAR},\n        #{column3Name,      jdbcTyep=VARCHAR}  -- do you see the typo ?\n        .....\n</code></pre>\n\n<p>So check this kind of typos as well. Unfortunately, it can not understand the typo in compile/build time, it causes an unchecked exception and booms in runtime.</p>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592485354,"creation_date":1592485354,"answer_id":62450616,"question_id":15292331,"body_markdown":"I had this problem, and turns out the problem was that I had used\r\n\r\n```java\r\nnew SimpleJdbcCall(jdbcTemplate)\r\n    .withProcedureName(&quot;foo&quot;)\r\n```\r\n\r\ninstead of\r\n\r\n```java\r\nnew SimpleJdbcCall(jdbcTemplate)\r\n    .withFunctionName(&quot;foo&quot;)\r\n```","title":"SQL state [99999]; error code [17004]; Invalid column type: 1111 With Spring SimpleJdbcCall","body":"<p>I had this problem, and turns out the problem was that I had used</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>new SimpleJdbcCall(jdbcTemplate)\n    .withProcedureName(\"foo\")\n</code></pre>\n\n<p>instead of</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>new SimpleJdbcCall(jdbcTemplate)\n    .withFunctionName(\"foo\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26544815,"reputation":1,"user_id":20175033,"display_name":"Ge&#243;rgia Maria"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665055324,"creation_date":1665055324,"answer_id":73972955,"question_id":15292331,"body_markdown":"I had this problem. The cause was a table of record indexed type.\r\n\r\nThis \r\n\r\n    TYPE tp_tb IS TABLE OF VARCHAR2(21) INDEX BY PLS_INTEGER;\r\n\r\nInstead of \r\n\r\n    TYPE tp_tb IS TABLE OF VARCHAR2(21);","title":"SQL state [99999]; error code [17004]; Invalid column type: 1111 With Spring SimpleJdbcCall","body":"<p>I had this problem. The cause was a table of record indexed type.</p>\n<p>This</p>\n<pre><code>TYPE tp_tb IS TABLE OF VARCHAR2(21) INDEX BY PLS_INTEGER;\n</code></pre>\n<p>Instead of</p>\n<pre><code>TYPE tp_tb IS TABLE OF VARCHAR2(21);\n</code></pre>\n"}],"owner":{"account_id":461282,"reputation":5319,"user_id":1249225,"accept_rate":81,"display_name":"Krushna"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166374,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":15332385,"answer_count":7,"score":12,"last_activity_date":1665055324,"creation_date":1362740107,"question_id":15292331,"body_markdown":"Hi All I am using spring simple JDBC template to call the oracle procedure the below are my code.\r\n\r\nThe procedure\r\n\r\n    create or replace\r\n    PROCEDURE get_all_system_users(\r\n    pi_client_code IN VARCHAR2,\r\n    po_system_users OUT T_SYSTEM_USER_TAB,\r\n    po_error_code        OUT NUMBER,\r\n    po_error_description OUT VARCHAR2)\r\n    IS\r\n    ctr NUMBER;\r\n    sysUser SYSTEM_USER_OBJ;\r\n    BEGIN\r\n    ctr:=0;\r\n    po_system_users:= t_system_user_tab();\r\n    end\r\nThe Spring Dao class\r\n\r\n    public class ManualSaleStoredProcedureDao {\r\n\r\n\tprivate SimpleJdbcCall getAllSytemUsers;\r\n\r\n\tpublic List&lt;SystemUser&gt; getAllSytemUsers(String clientCode) {\r\n\r\n\t\tMapSqlParameterSource in = new MapSqlParameterSource();\r\n\t\tin.addValue(&quot;pi_client_code&quot;, clientCode);\r\n\t\tin.addValue(&quot;po_system_users&quot;, null,\r\n\t\t\t\tOracleTypes.ARRAY, &quot;T_SYSTEM_USER_TAB&quot;);\r\n\t\t\r\n\t\tMap&lt;String, Object&gt; result = getAllSytemUsers.execute(in);\r\n\t\t\r\n\t\treturn null;\r\n\r\n\t}\r\n\r\n\tpublic void setDataSource(DataSource dataSource) {\r\n\r\n\t\tgetAllSytemUsers = new SimpleJdbcCall(dataSource)\r\n\t\t\t\t.withSchemaName(&quot;SChemaName&quot;)\r\n\t\t\t\t.withProcedureName(&quot;get_all_system_users&quot;)\r\n\r\n\t\t\t\t.declareParameters(\r\n\r\n\t\t\t\t\t\tnew SqlParameter(\r\n\t\t\t\t\t\t\t\t&quot;pi_client_code&quot;,\r\n\t\t\t\t\t\t\t\tOracleTypes.VARCHAR,\r\n\t\t\t\t\t\t\t\t&quot;pi_client_code&quot;));\r\n\r\n\t}\r\n\r\n When I am calling `Map&lt;String, Object&gt; result = getAllSytemUsers.execute(in);`\r\nIam getting the below exception\r\n\r\n    org.springframework.jdbc.UncategorizedSQLException: CallableStatementCallback; uncategorized SQLException for SQL [{call VSC.GET_ALL_SYSTEM_USERS(?, ?, ?, ?)}]; SQL state [99999]; error code [17004]; Invalid column type: 1111; nested exception is java.sql.SQLException: Invalid column type: 1111\r\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:83)\r\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:80)\r\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:80)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1030)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:1064)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcCall.executeCallInternal(AbstractJdbcCall.java:388)\r\n\tat org.springframework.jdbc.core.simple.AbstractJdbcCall.doExecute(AbstractJdbcCall.java:351)\r\n\tat org.springframework.jdbc.core.simple.SimpleJdbcCall.execute(SimpleJdbcCall.java:181)\r\n\tat com.budco.vsc.dao.ManualSaleStoredProcedureDao.getAllSytemUsers(ManualSaleStoredProcedureDao.java:30)\r\n\tat com.budco.vsc.dao.ManualSaleStoredProcedureDaoITest.getCustomerNotes(ManualSaleStoredProcedureDaoITest.java:64)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:601)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)\r\n\tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:236)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n       Caused by: java.sql.SQLException: Invalid column type: 1111\r\n\tat oracle.jdbc.driver.OracleStatement.getInternalType(OracleStatement.java:3950)\r\n\tat oracle.jdbc.driver.OracleCallableStatement.registerOutParameterInternal(OracleCallableStatement.java:135)\r\n\tat oracle.jdbc.driver.OracleCallableStatement.registerOutParameter(OracleCallableStatement.java:304)\r\n\tat oracle.jdbc.driver.OracleCallableStatement.registerOutParameter(OracleCallableStatement.java:393)\r\n\tat oracle.jdbc.driver.OracleCallableStatementWrapper.registerOutParameter(OracleCallableStatementWrapper.java:1569)\r\n\tat org.apache.commons.dbcp.DelegatingCallableStatement.registerOutParameter(DelegatingCallableStatement.java:95)\r\n\tat org.apache.commons.dbcp.DelegatingCallableStatement.registerOutParameter(DelegatingCallableStatement.java:95)\r\n\tat org.springframework.jdbc.core.CallableStatementCreatorFactory$CallableStatementCreatorImpl.createCallableStatement(CallableStatementCreatorFactory.java:198)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1008)\r\n\t... 35 more\r\n\r\n","title":"SQL state [99999]; error code [17004]; Invalid column type: 1111 With Spring SimpleJdbcCall","body":"<p>Hi All I am using spring simple JDBC template to call the oracle procedure the below are my code.</p>\n\n<p>The procedure</p>\n\n<pre><code>create or replace\nPROCEDURE get_all_system_users(\npi_client_code IN VARCHAR2,\npo_system_users OUT T_SYSTEM_USER_TAB,\npo_error_code        OUT NUMBER,\npo_error_description OUT VARCHAR2)\nIS\nctr NUMBER;\nsysUser SYSTEM_USER_OBJ;\nBEGIN\nctr:=0;\npo_system_users:= t_system_user_tab();\nend\n</code></pre>\n\n<p>The Spring Dao class</p>\n\n<pre><code>public class ManualSaleStoredProcedureDao {\n\nprivate SimpleJdbcCall getAllSytemUsers;\n\npublic List&lt;SystemUser&gt; getAllSytemUsers(String clientCode) {\n\n    MapSqlParameterSource in = new MapSqlParameterSource();\n    in.addValue(\"pi_client_code\", clientCode);\n    in.addValue(\"po_system_users\", null,\n            OracleTypes.ARRAY, \"T_SYSTEM_USER_TAB\");\n\n    Map&lt;String, Object&gt; result = getAllSytemUsers.execute(in);\n\n    return null;\n\n}\n\npublic void setDataSource(DataSource dataSource) {\n\n    getAllSytemUsers = new SimpleJdbcCall(dataSource)\n            .withSchemaName(\"SChemaName\")\n            .withProcedureName(\"get_all_system_users\")\n\n            .declareParameters(\n\n                    new SqlParameter(\n                            \"pi_client_code\",\n                            OracleTypes.VARCHAR,\n                            \"pi_client_code\"));\n\n}\n</code></pre>\n\n<p>When I am calling <code>Map&lt;String, Object&gt; result = getAllSytemUsers.execute(in);</code>\nIam getting the below exception</p>\n\n<pre><code>org.springframework.jdbc.UncategorizedSQLException: CallableStatementCallback; uncategorized SQLException for SQL [{call VSC.GET_ALL_SYSTEM_USERS(?, ?, ?, ?)}]; SQL state [99999]; error code [17004]; Invalid column type: 1111; nested exception is java.sql.SQLException: Invalid column type: 1111\nat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:83)\nat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:80)\nat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:80)\nat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1030)\nat org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:1064)\nat org.springframework.jdbc.core.simple.AbstractJdbcCall.executeCallInternal(AbstractJdbcCall.java:388)\nat org.springframework.jdbc.core.simple.AbstractJdbcCall.doExecute(AbstractJdbcCall.java:351)\nat org.springframework.jdbc.core.simple.SimpleJdbcCall.execute(SimpleJdbcCall.java:181)\nat com.budco.vsc.dao.ManualSaleStoredProcedureDao.getAllSytemUsers(ManualSaleStoredProcedureDao.java:30)\nat com.budco.vsc.dao.ManualSaleStoredProcedureDaoITest.getCustomerNotes(ManualSaleStoredProcedureDaoITest.java:64)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:601)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:28)\nat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:74)\nat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:83)\nat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:72)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:231)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:49)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\nat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\nat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:71)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:236)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:174)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n   Caused by: java.sql.SQLException: Invalid column type: 1111\nat oracle.jdbc.driver.OracleStatement.getInternalType(OracleStatement.java:3950)\nat oracle.jdbc.driver.OracleCallableStatement.registerOutParameterInternal(OracleCallableStatement.java:135)\nat oracle.jdbc.driver.OracleCallableStatement.registerOutParameter(OracleCallableStatement.java:304)\nat oracle.jdbc.driver.OracleCallableStatement.registerOutParameter(OracleCallableStatement.java:393)\nat oracle.jdbc.driver.OracleCallableStatementWrapper.registerOutParameter(OracleCallableStatementWrapper.java:1569)\nat org.apache.commons.dbcp.DelegatingCallableStatement.registerOutParameter(DelegatingCallableStatement.java:95)\nat org.apache.commons.dbcp.DelegatingCallableStatement.registerOutParameter(DelegatingCallableStatement.java:95)\nat org.springframework.jdbc.core.CallableStatementCreatorFactory$CallableStatementCreatorImpl.createCallableStatement(CallableStatementCreatorFactory.java:198)\nat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1008)\n... 35 more\n</code></pre>\n"},{"tags":["java","spring-boot","security","ssl","prometheus"],"owner":{"account_id":20345409,"reputation":316,"user_id":14923466,"display_name":"Alex_Pap"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1665055257,"creation_date":1665055257,"question_id":73972938,"body_markdown":"I am following the [official documentation](https://prometheus.io/docs/guides/tls-encryption/) regarding the TLS encryption of Prometheus. My Spring Boot uses https endpoints and thus I want Prometheus to scrap them as is. I am following the instructions but I am having problem in configuring Prometheus to read my web-config.yml. Specifically the following command,\r\n\r\n```\r\nprometheus \\\r\n--config.file=/mnt/d/Projects/Msc-Thesis-Project/prometheus.yml \\\r\n--web.config.file=/mnt/d/Projects/Msc-Thesis-Project/web-config.yml \\\r\n--web.external-url=https://localhost:8443/\r\n```\r\n\r\nthrows the following error,\r\n\r\n&gt;Error parsing commandline arguments: unknown long flag &#39;--web.config.file&#39;\r\n&gt;prometheus: error: unknown long flag &#39;--web.config.file&#39;\r\n\r\nDoes anyone had encountered the issue? Any advices?","title":"Unable to Make Prometheus Read the web-config.yml for TLS Encryption (Error: unknown long flag &#39;--web.config.file&#39;)","body":"<p>I am following the <a href=\"https://prometheus.io/docs/guides/tls-encryption/\" rel=\"nofollow noreferrer\">official documentation</a> regarding the TLS encryption of Prometheus. My Spring Boot uses https endpoints and thus I want Prometheus to scrap them as is. I am following the instructions but I am having problem in configuring Prometheus to read my web-config.yml. Specifically the following command,</p>\n<pre><code>prometheus \\\n--config.file=/mnt/d/Projects/Msc-Thesis-Project/prometheus.yml \\\n--web.config.file=/mnt/d/Projects/Msc-Thesis-Project/web-config.yml \\\n--web.external-url=https://localhost:8443/\n</code></pre>\n<p>throws the following error,</p>\n<blockquote>\n<p>Error parsing commandline arguments: unknown long flag '--web.config.file'\nprometheus: error: unknown long flag '--web.config.file'</p>\n</blockquote>\n<p>Does anyone had encountered the issue? Any advices?</p>\n"},{"tags":["java","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665049035,"creation_date":1665049035,"answer_id":73971637,"question_id":73971339,"body_markdown":"When you apply a regular overlay to a signed PDF, i.e. when you add the static content of another PDF to the static content of the signed PDF, you will always invalidate the signature.\r\n\r\nThis is because only certain changes are allowed to a signed PDF, and changing the static content is not one of them. For details see [this answer][1] and documents referenced from there.\r\n\r\nWhether there is an alternative, depends on the nature of the signature in the PDF. If it restricts the allowed changes to _form fill-in only_ or even forbids changes at all, you&#39;re out of luck.\r\n\r\nBut if the signature allows annotation changes, you can try and add the overlay content as a page filling annotation. Obviously the annotation must be added in an incremental update. Beware, though, this overlay-in-an-annotation acts differently from regular overlay content. E.g. regular text extraction will not extract text from the overlay. Also the annotation is very volatile, it can easily be removed, even accidentally.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16711745/1729265","title":"Using pdfbox overlay for a document with a digital signature","body":"<p>When you apply a regular overlay to a signed PDF, i.e. when you add the static content of another PDF to the static content of the signed PDF, you will always invalidate the signature.</p>\n<p>This is because only certain changes are allowed to a signed PDF, and changing the static content is not one of them. For details see <a href=\"https://stackoverflow.com/a/16711745/1729265\">this answer</a> and documents referenced from there.</p>\n<p>Whether there is an alternative, depends on the nature of the signature in the PDF. If it restricts the allowed changes to <em>form fill-in only</em> or even forbids changes at all, you're out of luck.</p>\n<p>But if the signature allows annotation changes, you can try and add the overlay content as a page filling annotation. Obviously the annotation must be added in an incremental update. Beware, though, this overlay-in-an-annotation acts differently from regular overlay content. E.g. regular text extraction will not extract text from the overlay. Also the annotation is very volatile, it can easily be removed, even accidentally.</p>\n"}],"owner":{"account_id":8138896,"reputation":468,"user_id":6129750,"display_name":"Christian O."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73971637,"answer_count":1,"score":0,"last_activity_date":1665054713,"creation_date":1665047721,"question_id":73971339,"body_markdown":"I have a PDF document that is digitaly signed by an application other than pdfbox. I would now like add an overlay to that digitaly signed PDF using pdfbox. Usually, this would look something like this: \r\n\r\n    Overlay overlayObj = new Overlay();\r\n    PDDocument originalDoc = PDDocument.load(new File(...));\r\n    PDDocument overlayDoc = PDDocument.load(new File(...));\r\n    overlayObj.setInputPDF(originalDoc);\r\n    overlayObj.setAllPagesOverlayPDF(overlayDoc );\r\n    Map&lt;Integer, String&gt; ovmap = new HashMap&lt;Integer, String&gt;(); // empty map is a dummy\r\n    PDDocument res = overlayObj.overlay(ovmap);\r\n    res.save(...);\r\n\r\nHowever, this code generates a new PDF file, thus invalidating the digital signature. It seems that the `saveIncremental()` (https://issues.apache.org/jira/browse/PDFBOX-45) may be able to preserve the digital signature.\r\n\r\nIs there a way to use `saveIncremental()` in combination with overlays? Or is there any other way to overlay a file with a digital signature that preserves the signature?\r\n","title":"Using pdfbox overlay for a document with a digital signature","body":"<p>I have a PDF document that is digitaly signed by an application other than pdfbox. I would now like add an overlay to that digitaly signed PDF using pdfbox. Usually, this would look something like this:</p>\n<pre><code>Overlay overlayObj = new Overlay();\nPDDocument originalDoc = PDDocument.load(new File(...));\nPDDocument overlayDoc = PDDocument.load(new File(...));\noverlayObj.setInputPDF(originalDoc);\noverlayObj.setAllPagesOverlayPDF(overlayDoc );\nMap&lt;Integer, String&gt; ovmap = new HashMap&lt;Integer, String&gt;(); // empty map is a dummy\nPDDocument res = overlayObj.overlay(ovmap);\nres.save(...);\n</code></pre>\n<p>However, this code generates a new PDF file, thus invalidating the digital signature. It seems that the <code>saveIncremental()</code> (<a href=\"https://issues.apache.org/jira/browse/PDFBOX-45\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/PDFBOX-45</a>) may be able to preserve the digital signature.</p>\n<p>Is there a way to use <code>saveIncremental()</code> in combination with overlays? Or is there any other way to overlay a file with a digital signature that preserves the signature?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3942245,"reputation":2183,"user_id":3256139,"accept_rate":75,"display_name":"cosmos"},"score":0,"creation_date":1526407947,"post_id":50355486,"comment_id":87729843,"body_markdown":"Are you using Spring Security? How is your security conifg setup?","body":"Are you using Spring Security? How is your security conifg setup?"}],"answers":[{"comments":[{"owner":{"account_id":13577901,"reputation":393,"user_id":9794763,"display_name":"sumit maske"},"score":0,"creation_date":1526414526,"post_id":50356861,"comment_id":87733191,"body_markdown":"i tried your answer but it gives anonymousUser as result","body":"i tried your answer but it gives anonymousUser as result"},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1665054598,"post_id":50356861,"comment_id":130611870,"body_markdown":"@sumitmaske because nobody is logged in","body":"@sumitmaske because nobody is logged in"},{"owner":{"display_name":"user19145409"},"score":0,"creation_date":1671723371,"post_id":50356861,"comment_id":132163457,"body_markdown":"I used the same method, it threw me the following error:\nhttps://stackoverflow.com/questions/74888304/java-lang-string-is-in-module-java-base-of-loader-bootstrap-com-gaurav-studen","body":"I used the same method, it threw me the following error: <a href=\"https://stackoverflow.com/questions/74888304/java-lang-string-is-in-module-java-base-of-loader-bootstrap-com-gaurav-studen\" title=\"java lang string is in module java base of loader bootstrap com gaurav studen\">stackoverflow.com/questions/74888304/&hellip;</a>"}],"tags":[],"owner":{"account_id":4712900,"reputation":3227,"user_id":3812888,"accept_rate":73,"display_name":"The Head Rush"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1665054615,"creation_date":1526408301,"answer_id":50356861,"question_id":50355486,"body_markdown":"Assuming your `User` class implements `UserDetails`, you can get the `User` from `SecurityContextHolder` without dependency injection.\r\n\r\n    public User getCurrentUser() {\r\n      return ((User) SecurityContextHolder.getContext()\r\n                .getAuthentication()\r\n                .getPrincipal());\r\n    }","title":"Spring boot: Get current user&#39;s username","body":"<p>Assuming your <code>User</code> class implements <code>UserDetails</code>, you can get the <code>User</code> from <code>SecurityContextHolder</code> without dependency injection.</p>\n<pre><code>public User getCurrentUser() {\n  return ((User) SecurityContextHolder.getContext()\n            .getAuthentication()\n            .getPrincipal());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"score":0,"creation_date":1616761606,"post_id":50466472,"comment_id":118110792,"body_markdown":"`@AuthenticationPrincipal` and `final` should technically not be required according to https://www.baeldung.com/get-user-in-spring-security","body":"<code>@AuthenticationPrincipal</code> and <code>final</code> should technically not be required according to <a href=\"https://www.baeldung.com/get-user-in-spring-security\" rel=\"nofollow noreferrer\">baeldung.com/get-user-in-spring-security</a>"}],"tags":[],"owner":{"account_id":5153148,"reputation":7842,"user_id":4127155,"accept_rate":45,"display_name":"David"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547022600,"creation_date":1526988315,"answer_id":50466472,"question_id":50355486,"body_markdown":"The previous answer should work fine,\r\nif using spring web MVC controllers you can also have it injected into your controllers automatically out of the box using springs default method argument resolvers (`org.springframework.security.web.method.annotation.AuthenticationPrincipalArgumentResolver`)\r\n\r\nA controller can do:\r\n\r\n    @RestController\r\n    public class AcceptConnectionController {\r\n        \r\n        @PostMapping(value = &quot;/&quot;)\r\n        public void controllerMethod(@AuthenticationPrincipal final MyPrincipal user) {\r\n            //...\r\n        }\r\n    \r\n    }\r\n\r\nIn the example above, `MyPrincipal` extends `org.springframework.security.authentication.AbstractAuthenticationToken`\r\nYou can then pass this principal to your service layer.\r\n","title":"Spring boot: Get current user&#39;s username","body":"<p>The previous answer should work fine,\nif using spring web MVC controllers you can also have it injected into your controllers automatically out of the box using springs default method argument resolvers (<code>org.springframework.security.web.method.annotation.AuthenticationPrincipalArgumentResolver</code>)</p>\n\n<p>A controller can do:</p>\n\n<pre><code>@RestController\npublic class AcceptConnectionController {\n\n    @PostMapping(value = \"/\")\n    public void controllerMethod(@AuthenticationPrincipal final MyPrincipal user) {\n        //...\n    }\n\n}\n</code></pre>\n\n<p>In the example above, <code>MyPrincipal</code> extends <code>org.springframework.security.authentication.AbstractAuthenticationToken</code>\nYou can then pass this principal to your service layer.</p>\n"},{"tags":[],"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532640828,"creation_date":1532640828,"answer_id":51547820,"question_id":50355486,"body_markdown":"As @cosmos asked - are you using Spring Security? \r\n\r\nIf yes, the following should work:\r\n\r\nIn your SecurityConfig:\r\n\r\n    @Bean\r\n\tpublic AuthenticationManager customAuthenticationManager() throws Exception {\r\n\t\treturn authenticationManager();\r\n\t}\r\n\r\nAnd in your Controller:\r\n\r\n    private String getPrincipal() {\r\n\t        String userName = null;\r\n\t        Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n\r\n\t        if (principal instanceof UserDetails) {\r\n\t            userName = ((UserDetails) principal).getUsername();\r\n\t        } else {\r\n\t            userName = principal.toString();\r\n\t        }\r\n\t        return userName;\r\n\t    }","title":"Spring boot: Get current user&#39;s username","body":"<p>As @cosmos asked - are you using Spring Security? </p>\n\n<p>If yes, the following should work:</p>\n\n<p>In your SecurityConfig:</p>\n\n<pre><code>@Bean\npublic AuthenticationManager customAuthenticationManager() throws Exception {\n    return authenticationManager();\n}\n</code></pre>\n\n<p>And in your Controller:</p>\n\n<pre><code>private String getPrincipal() {\n        String userName = null;\n        Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n\n        if (principal instanceof UserDetails) {\n            userName = ((UserDetails) principal).getUsername();\n        } else {\n            userName = principal.toString();\n        }\n        return userName;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1295346,"reputation":4152,"user_id":1246547,"display_name":"Philzen"},"score":1,"creation_date":1616761692,"post_id":51960800,"comment_id":118110830,"body_markdown":"A fourth way of doing this is to get it from the Authentication Token as described in https://www.baeldung.com/get-user-in-spring-security#controller","body":"A fourth way of doing this is to get it from the Authentication Token as described in <a href=\"https://www.baeldung.com/get-user-in-spring-security#controller\" rel=\"nofollow noreferrer\">baeldung.com/get-user-in-spring-security#controller</a>"}],"tags":[],"owner":{"account_id":1613951,"reputation":331,"user_id":1492159,"display_name":"pgardunoc"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1534918561,"creation_date":1534918561,"answer_id":51960800,"question_id":50355486,"body_markdown":"There are multiple ways to do this.\r\n\r\nUsing `SecurityContextHolder`\r\n\r\n    Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n    String username = auth.getName();\r\n\r\nUsing `Principal` from a Controller\r\n\r\n    @RequestMapping(value = &quot;/myusername&quot;, method = RequestMethod.GET)\r\n    @ResponseBody\r\n    public String currentUserName(Principal principal) {\r\n        return principal.getName();\r\n    }\r\n\r\nFrom `HttpServletRequest`\r\n\r\n    @RequestMapping(value = &quot;/myusername&quot;, method = RequestMethod.GET)\r\n    @ResponseBody\r\n    public String getUsername(HttpServletRequest req) {\r\n        return req.getUserPrincipal.getName();\r\n    }","title":"Spring boot: Get current user&#39;s username","body":"<p>There are multiple ways to do this.</p>\n\n<p>Using <code>SecurityContextHolder</code></p>\n\n<pre><code>Authentication auth = SecurityContextHolder.getContext().getAuthentication();\nString username = auth.getName();\n</code></pre>\n\n<p>Using <code>Principal</code> from a Controller</p>\n\n<pre><code>@RequestMapping(value = \"/myusername\", method = RequestMethod.GET)\n@ResponseBody\npublic String currentUserName(Principal principal) {\n    return principal.getName();\n}\n</code></pre>\n\n<p>From <code>HttpServletRequest</code></p>\n\n<pre><code>@RequestMapping(value = \"/myusername\", method = RequestMethod.GET)\n@ResponseBody\npublic String getUsername(HttpServletRequest req) {\n    return req.getUserPrincipal.getName();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9351314,"reputation":359,"user_id":6940908,"display_name":"Dennis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586164889,"creation_date":1586164889,"answer_id":61056563,"question_id":50355486,"body_markdown":"Here is a method to used to get a user principal\r\n    \r\n    \r\n    @PutMapping(value = &quot;/{userId}&quot;)\r\n    public ResponseEntity&lt;?&gt; updateUser(@Valid @RequestBody UserPutRequest updateRequest, @PathVariable String userId,\r\n            Authentication authentication) {\r\n        Optional&lt;UserObject&gt; userOptional = userRepository.findById(userId);\r\n        UserPrincipal userPrincipal = (UserPrincipal) authentication.getPrincipal();\r\n        UserObject currentUser = userRepository.findByEmail(userPrincipal.getEmail());\r\n    }","title":"Spring boot: Get current user&#39;s username","body":"<p>Here is a method to used to get a user principal</p>\n\n<pre><code>@PutMapping(value = \"/{userId}\")\npublic ResponseEntity&lt;?&gt; updateUser(@Valid @RequestBody UserPutRequest updateRequest, @PathVariable String userId,\n        Authentication authentication) {\n    Optional&lt;UserObject&gt; userOptional = userRepository.findById(userId);\n    UserPrincipal userPrincipal = (UserPrincipal) authentication.getPrincipal();\n    UserObject currentUser = userRepository.findByEmail(userPrincipal.getEmail());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9171232,"reputation":119,"user_id":9628146,"display_name":"hasanga lakdinu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635354752,"creation_date":1635354752,"answer_id":69742877,"question_id":50355486,"body_markdown":"if you are using keycloak you can get more details using this way\r\n\r\n     Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n\r\n        KeycloakPrincipal principal = (KeycloakPrincipal)auth.getPrincipal();\r\n\r\n\r\n        KeycloakSecurityContext session = principal.getKeycloakSecurityContext();\r\n        AccessToken accessToken = session.getToken();\r\n        String username = accessToken.getPreferredUsername();\r\n        String emailID = accessToken.getEmail();\r\n        String lastname = accessToken.getFamilyName();\r\n        String firstname = accessToken.getGivenName();\r\n        String realmName = accessToken.getIssuer();\r\n        AccessToken.Access realmAccess = accessToken.getRealmAccess();","title":"Spring boot: Get current user&#39;s username","body":"<p>if you are using keycloak you can get more details using this way</p>\n<pre><code> Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n\n    KeycloakPrincipal principal = (KeycloakPrincipal)auth.getPrincipal();\n\n\n    KeycloakSecurityContext session = principal.getKeycloakSecurityContext();\n    AccessToken accessToken = session.getToken();\n    String username = accessToken.getPreferredUsername();\n    String emailID = accessToken.getEmail();\n    String lastname = accessToken.getFamilyName();\n    String firstname = accessToken.getGivenName();\n    String realmName = accessToken.getIssuer();\n    AccessToken.Access realmAccess = accessToken.getRealmAccess();\n</code></pre>\n"}],"owner":{"account_id":13577901,"reputation":393,"user_id":9794763,"display_name":"sumit maske"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23749,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1665054615,"creation_date":1526403024,"question_id":50355486,"body_markdown":"I am trying to get the current logged in username using Spring&#39;s security but the `Principal` object returns null.\r\n\r\nThis is my REST controller method:\r\n\r\n    @RequestMapping(&quot;/getCurrentUser&quot;)\r\n\tpublic User getCurrentUser(Principal principal) {\r\n\r\n\t\tString username = principal.getName();\r\n\t\tUser user = new User();\r\n\t\tif (null != username) {\r\n\t\t\tuser = userService.findByUsername(username);\r\n\t\t}\r\n\r\n\t\treturn user;\r\n\t}\r\n\r\n**NB: I am running Spring boot 1.5.13 and spring security 4.2.6**\r\n\r\n* This is my security config class: \r\n\r\n\t\t@Configuration\r\n\r\n\t\t@EnableWebSecurity\r\n\r\n\t\tpublic class SecurityConfig extends WebSecurityConfigurerAdapter{\r\n\r\n\t\t\t@Autowired\r\n\t\t\tprivate Environment env;\r\n\t\t\t\r\n\t\t\t@Autowired\r\n\t\t\tprivate UserSecurityService userSecurityService;\r\n\t\t\t\r\n\t\t\tprivate BCryptPasswordEncoder passwordEncoder() {\r\n\t\t\t\treturn SecurityUtility.passwordEncoder();\r\n\t\t\t}\r\n\r\n\t\t\tprivate static final String[] PUBLIC_MATCHERS = {\r\n\t\t\t\t\t&quot;/css/**&quot;,\r\n\t\t\t\t\t&quot;/js/**&quot;,\r\n\t\t\t\t\t&quot;/image/**&quot;,\r\n\t\t\t\t\t&quot;/book/**&quot;,\r\n\t\t\t\t\t&quot;/user/**&quot;\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\t\thttp.csrf().disable().cors().disable().httpBasic().and().authorizeRequests()\r\n\t\t\t\t.antMatchers(PUBLIC_MATCHERS).permitAll().anyRequest().authenticated();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Autowired\r\n\t\t\tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t\t\tauth.userDetailsService(userSecurityService).passwordEncoder(passwordEncoder());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Bean\r\n\t\t\tpublic HttpSessionStrategy httpSessionStrategy() {\r\n\t\t\t\treturn new HeaderHttpSessionStrategy();\r\n\t\t\t}\r\n\t\t}\r\n\r\n* This is my user security service class:\r\n\r\n\t\t@Service\r\n\r\n\t\tpublic class UserSecurityService implements UserDetailsService {\r\n\r\n\t\tprivate static final Logger LOG = LoggerFactory.getLogger(UserSecurityService.class);\r\n\t\t\t\r\n\t\t\t@Autowired \r\n\t\t\tprivate UserRepository userRepository;\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n\t\t\t\tUser user = userRepository.findByUsername(username);\r\n\t\t\t\tif(null == user) {\r\n\t\t\t\t\tLOG.warn(&quot;Username {} not found&quot;, username);\r\n\t\t\t\t\tthrow new UsernameNotFoundException(&quot;Username &quot;+username+&quot; not found&quot;);\r\n\t\t\t\t}\r\n\t\t\t\treturn user;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n* this is my user class:\r\n\r\n\t\t@Entity\r\n\r\n\t\tpublic class User implements UserDetails, Serializable {\r\n\t\t\t\r\n\t\t\tprivate static final long serialVersionUID = 902783495L;\r\n\t\t\t\r\n\t\t\t@Id\r\n\t\t\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\t\t\t@Column(name=&quot;Id&quot;, nullable=false, updatable = false)\r\n\t\t\tprivate Long id;\r\n\t\t\t\r\n\t\t\tprivate String username;\r\n\t\t\tprivate String password;\r\n\t\t\tprivate String firstName;\r\n\t\t\tprivate String lastName;\r\n\t\t\t\r\n\t\t\tprivate String email;\r\n\t\t\tprivate String phone;\r\n\t\t\tprivate boolean enabled = true;\r\n\t\t\t\r\n\t\t\t@OneToMany(mappedBy = &quot;user&quot;, cascade=CascadeType.ALL, fetch = FetchType.EAGER)\r\n\t\t\t@JsonIgnore\r\n\t\t\tprivate Set&lt;UserRole&gt; userRoles = new HashSet&lt;&gt;();\r\n\t\t}","title":"Spring boot: Get current user&#39;s username","body":"<p>I am trying to get the current logged in username using Spring's security but the <code>Principal</code> object returns null.</p>\n\n<p>This is my REST controller method:</p>\n\n<pre><code>@RequestMapping(\"/getCurrentUser\")\npublic User getCurrentUser(Principal principal) {\n\n    String username = principal.getName();\n    User user = new User();\n    if (null != username) {\n        user = userService.findByUsername(username);\n    }\n\n    return user;\n}\n</code></pre>\n\n<p><strong>NB: I am running Spring boot 1.5.13 and spring security 4.2.6</strong></p>\n\n<ul>\n<li><p>This is my security config class: </p>\n\n<pre><code>@Configuration\n\n@EnableWebSecurity\n\npublic class SecurityConfig extends WebSecurityConfigurerAdapter{\n\n    @Autowired\n    private Environment env;\n\n    @Autowired\n    private UserSecurityService userSecurityService;\n\n    private BCryptPasswordEncoder passwordEncoder() {\n        return SecurityUtility.passwordEncoder();\n    }\n\n    private static final String[] PUBLIC_MATCHERS = {\n            \"/css/**\",\n            \"/js/**\",\n            \"/image/**\",\n            \"/book/**\",\n            \"/user/**\"\n    };\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable().cors().disable().httpBasic().and().authorizeRequests()\n        .antMatchers(PUBLIC_MATCHERS).permitAll().anyRequest().authenticated();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userSecurityService).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    public HttpSessionStrategy httpSessionStrategy() {\n        return new HeaderHttpSessionStrategy();\n    }\n}\n</code></pre></li>\n<li><p>This is my user security service class:</p>\n\n<pre><code>@Service\n\npublic class UserSecurityService implements UserDetailsService {\n\nprivate static final Logger LOG = LoggerFactory.getLogger(UserSecurityService.class);\n\n    @Autowired \n    private UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findByUsername(username);\n        if(null == user) {\n            LOG.warn(\"Username {} not found\", username);\n            throw new UsernameNotFoundException(\"Username \"+username+\" not found\");\n        }\n        return user;\n    }\n}\n</code></pre></li>\n<li><p>this is my user class:</p>\n\n<pre><code>@Entity\n\npublic class User implements UserDetails, Serializable {\n\n    private static final long serialVersionUID = 902783495L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=\"Id\", nullable=false, updatable = false)\n    private Long id;\n\n    private String username;\n    private String password;\n    private String firstName;\n    private String lastName;\n\n    private String email;\n    private String phone;\n    private boolean enabled = true;\n\n    @OneToMany(mappedBy = \"user\", cascade=CascadeType.ALL, fetch = FetchType.EAGER)\n    @JsonIgnore\n    private Set&lt;UserRole&gt; userRoles = new HashSet&lt;&gt;();\n}\n</code></pre></li>\n</ul>\n"},{"tags":["java","json","kotlin","gson"],"answers":[{"tags":[],"owner":{"account_id":6199489,"reputation":29,"user_id":4829799,"accept_rate":20,"display_name":"TheFlashes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665054335,"creation_date":1665054335,"answer_id":73972769,"question_id":73971792,"body_markdown":"Ok, I figured it out,\r\nI can just deserialize list of components:\r\n\r\nFor future generations:\r\nAdd registerTypeAdapter to gson builder\r\n```kotlin\r\nval gson = GsonBuilder()\r\n        .registerTypeAdapter(object : TypeToken&lt;MutableList&lt;Component&gt;&gt;() {}.type, ComponentsDeserializer())\r\n        .create()\r\n```\r\n\r\nAnd set appropriate type for JsonDeserializer\r\n```kotlin\r\nclass ComponentsDeserializer : JsonDeserializer&lt;List&lt;Component&gt;&gt; {\r\n    override fun deserialize(\r\n        json: JsonElement,\r\n        typeOfT: Type,\r\n        context: JsonDeserializationContext\r\n    ): List&lt;Component&gt; {\r\n        /* filter list... */\r\n    }\r\n}\r\n```","title":"Excluding an element in an array using JsonDeserializer in gson","body":"<p>Ok, I figured it out,\nI can just deserialize list of components:</p>\n<p>For future generations:\nAdd registerTypeAdapter to gson builder</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val gson = GsonBuilder()\n        .registerTypeAdapter(object : TypeToken&lt;MutableList&lt;Component&gt;&gt;() {}.type, ComponentsDeserializer())\n        .create()\n</code></pre>\n<p>And set appropriate type for JsonDeserializer</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class ComponentsDeserializer : JsonDeserializer&lt;List&lt;Component&gt;&gt; {\n    override fun deserialize(\n        json: JsonElement,\n        typeOfT: Type,\n        context: JsonDeserializationContext\n    ): List&lt;Component&gt; {\n        /* filter list... */\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6199489,"reputation":29,"user_id":4829799,"accept_rate":20,"display_name":"TheFlashes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665054335,"creation_date":1665049724,"question_id":73971792,"body_markdown":"I have an example json object\r\n```json\r\n{\r\n\tid: 10,\r\n\tname: &quot;Hello World&quot;,\r\n\tcomponents: [\r\n\t\t{\r\n\t\t\tid: 1,\r\n\t\t\ttype: &quot;FRAME&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: 2,\r\n\t\t\ttype: &quot;DEFAULT&quot;\r\n\t\t}\r\n\t]\r\n}\r\n```\r\nAnd JsonDeserializer but only for Component objects\r\n```kotlin\r\nclass ComponentDeserializer : JsonDeserializer&lt;Component&gt; {\r\n    override fun deserialize(\r\n        json: JsonElement,\r\n        typeOfT: Type,\r\n        context: JsonDeserializationContext\r\n    ): Component {\r\n        val componentObject = json.asJsonObject\r\n        \r\n        val id = componentObject.get(&quot;id&quot;).asInt\r\n        val type = componentObject.get(&quot;type&quot;).asString\r\n        \r\n        return Component(\r\n            id = id,\r\n            type = type\r\n        )\r\n    }\r\n}\r\n```\r\nCan I somehow exclude components that have the type &quot;DEFAULT&quot; from the array without writing a deserializer for the entire json? I&#39;d like something like &quot;return null&quot; and then the &quot;components&quot; array has one less element","title":"Excluding an element in an array using JsonDeserializer in gson","body":"<p>I have an example json object</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    id: 10,\n    name: &quot;Hello World&quot;,\n    components: [\n        {\n            id: 1,\n            type: &quot;FRAME&quot;\n        },\n        {\n            id: 2,\n            type: &quot;DEFAULT&quot;\n        }\n    ]\n}\n</code></pre>\n<p>And JsonDeserializer but only for Component objects</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class ComponentDeserializer : JsonDeserializer&lt;Component&gt; {\n    override fun deserialize(\n        json: JsonElement,\n        typeOfT: Type,\n        context: JsonDeserializationContext\n    ): Component {\n        val componentObject = json.asJsonObject\n        \n        val id = componentObject.get(&quot;id&quot;).asInt\n        val type = componentObject.get(&quot;type&quot;).asString\n        \n        return Component(\n            id = id,\n            type = type\n        )\n    }\n}\n</code></pre>\n<p>Can I somehow exclude components that have the type &quot;DEFAULT&quot; from the array without writing a deserializer for the entire json? I'd like something like &quot;return null&quot; and then the &quot;components&quot; array has one less element</p>\n"},{"tags":["javascript","java","glassfish","java-ee-7"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1665056394,"post_id":73972713,"comment_id":130612508,"body_markdown":"Depending how much request data, Ajax and or a cookie to control session.","body":"Depending how much request data, Ajax and or a cookie to control session."},{"owner":{"account_id":3031405,"reputation":66,"user_id":2570337,"display_name":"Murray Wilson"},"score":0,"creation_date":1695835651,"post_id":73972713,"comment_id":136078306,"body_markdown":"I would suggest having the js add a parameter to the URL, something like ?auto=1","body":"I would suggest having the js add a parameter to the URL, something like ?auto=1"}],"owner":{"account_id":5376107,"reputation":1657,"user_id":4282957,"accept_rate":87,"display_name":"Bohdan Myslyvchuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665054055,"creation_date":1665054055,"question_id":73972713,"body_markdown":"I have Java EE app + Glassfish 4.1 + JSF Primefaces + Websockets. Session timeout configured for 30 minutes. It works on some pages.\r\n\r\n    &lt;!-- Session Timeout in min --&gt;\r\n\t&lt;session-config&gt;\r\n\t\t&lt;session-timeout&gt;1&lt;/session-timeout&gt;\r\n\t&lt;/session-config&gt;\r\n\r\nHowever we have pages where we have custom js logic to reload page (invoked every 30 sec) to get latest result on page (kind of workaround if web-sockets won&#39;t work) which then invoke servlet on backend.\r\n\r\nIs there any possibility to track is user inactive or check is this activity from user or it was auto-reload?\r\n\r\n\r\n","title":"Server Session timeout in Glassfish with custom page reload doesn&#39;t work","body":"<p>I have Java EE app + Glassfish 4.1 + JSF Primefaces + Websockets. Session timeout configured for 30 minutes. It works on some pages.</p>\n<pre><code>&lt;!-- Session Timeout in min --&gt;\n&lt;session-config&gt;\n    &lt;session-timeout&gt;1&lt;/session-timeout&gt;\n&lt;/session-config&gt;\n</code></pre>\n<p>However we have pages where we have custom js logic to reload page (invoked every 30 sec) to get latest result on page (kind of workaround if web-sockets won't work) which then invoke servlet on backend.</p>\n<p>Is there any possibility to track is user inactive or check is this activity from user or it was auto-reload?</p>\n"},{"tags":["java","jwt","bouncycastle","jwk"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1663044990,"post_id":73697175,"comment_id":130140216,"body_markdown":"`&quot;alg&quot;` is optional, as stated in rfc7517 linked from the page you link, but there is a builder method `.algorithm(String)` to set it if you want it. Similarly `&quot;x5c&quot;` and `&quot;x5t&quot;` apply only if you have a cert chain or thumbprint respectively, which you don&#39;t show; if you do have such, there are builder methods for them. Bouncy doesn&#39;t support JOSE/JWK, but it (bcpkix+bcprov) does most PEM, which could replace your first 7 lines by about 2.","body":"<code>&quot;alg&quot;</code> is optional, as stated in rfc7517 linked from the page you link, but there is a builder method <code>.algorithm(String)</code> to set it if you want it. Similarly <code>&quot;x5c&quot;</code> and <code>&quot;x5t&quot;</code> apply only if you have a cert chain or thumbprint respectively, which you don&#39;t show; if you do have such, there are builder methods for them. Bouncy doesn&#39;t support JOSE/JWK, but it (bcpkix+bcprov) does most PEM, which could replace your first 7 lines by about 2."},{"owner":{"account_id":44601,"reputation":20150,"user_id":131021,"accept_rate":86,"display_name":"stwissel"},"score":0,"creation_date":1663054125,"post_id":73697175,"comment_id":130142359,"body_markdown":"@dave_thompson_085 Thx for chipping in. Updated the code with the alg. wonder how I get the values for x5t and x5c to feed into the builder method.","body":"@dave_thompson_085 Thx for chipping in. Updated the code with the alg. wonder how I get the values for x5t and x5c to feed into the builder method."}],"answers":[{"comments":[{"owner":{"account_id":446439,"reputation":2037,"user_id":2956829,"accept_rate":93,"display_name":"el n00b"},"score":0,"creation_date":1664977703,"post_id":73703594,"comment_id":130591884,"body_markdown":"Which library are you using for `SamlResourceUtils`, it doesn&#39;t look like it&#39;s in nimbus-jose-jwt.  I am using Guava&#39;s `Hashing.sha256().hashBytes(certEncoded).toString()` and it seems to be working, but I want to be sure.","body":"Which library are you using for <code>SamlResourceUtils</code>, it doesn&#39;t look like it&#39;s in nimbus-jose-jwt.  I am using Guava&#39;s <code>Hashing.sha256().hashBytes(certEncoded).toString()</code> and it seems to be working, but I want to be sure."},{"owner":{"account_id":44601,"reputation":20150,"user_id":131021,"accept_rate":86,"display_name":"stwissel"},"score":1,"creation_date":1665054243,"post_id":73703594,"comment_id":130611740,"body_markdown":"getThumbprint uses java.security.MessageDigest, full import see above","body":"getThumbprint uses java.security.MessageDigest, full import see above"}],"tags":[],"owner":{"account_id":44601,"reputation":20150,"user_id":131021,"accept_rate":86,"display_name":"stwissel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665054050,"creation_date":1663074536,"answer_id":73703594,"question_id":73697175,"body_markdown":"Along the way I learned that I need the certificate besides the public key. So the 2 method solution (until I learn better) is:\r\n\r\n```java\r\n/**\r\n   * Returns the JSON formatted JWK based on provided public key / cert\r\n   *\r\n   * @param rawKey - public key as read from disk in pem format\r\n   * @param cert - certificate as read from disk in pem format\r\n   * @return JWK Key as Optional&lt;String&gt;\r\n   */\r\n  public static Optional&lt;String&gt; getJwkString(final String rawKey, final String cert) {\r\n    try {\r\n      final KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n      final CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n      final SubjectPublicKeyInfo pubKeyInfo =\r\n          (SubjectPublicKeyInfo) new PEMParser(new StringReader(rawKey)).readObject();\r\n      final X509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(pubKeyInfo.getEncoded());\r\n      final RSAPublicKey rsaPubKey = (RSAPublicKey) kf.generatePublic(keySpecX509);\r\n\r\n      final X509Certificate rsaCert =\r\n          (X509Certificate) cf.generateCertificate(new ByteArrayInputStream(cert.getBytes()));\r\n      final byte[] certEncoded = rsaCert.getEncoded();\r\n      final List&lt;Base64&gt; certChain = new ArrayList&lt;&gt;();\r\n      certChain.add(Base64.encode(certEncoded));\r\n\r\n      final Base64URL thumbprint = Base64URL.from(getThumbprint(certEncoded));\r\n\r\n      final RSAKey key = new RSAKey.Builder(rsaPubKey)\r\n          .keyUse(KeyUse.SIGNATURE)\r\n          .algorithm(new Algorithm(&quot;RS256&quot;))\r\n          .x509CertChain(certChain)\r\n          .x509CertThumbprint(thumbprint)\r\n          .keyID(&quot;mykey&quot;)\r\n          .build();\r\n\r\n      return Optional.of(key.toJSONString());\r\n\r\n    } catch (final Exception e) {\r\n      SamlResourceUtils.logger.error(e);\r\n    }\r\n\r\n    return Optional.empty();\r\n  }\r\n\r\n  public static String getThumbprint(final byte[] bytes)\r\n      throws NoSuchAlgorithmException {\r\n    final MessageDigest md = MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n    md.update(bytes);\r\n    return Hex.toHexString(md.digest());\r\n  }\r\n```\r\n\r\n`getThumbprint` using `java.security.MessageDigest`. Full import (not all classes are relevant here):\r\n\r\n```java\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.StringReader;\r\nimport java.security.KeyFactory;\r\nimport java.security.MessageDigest;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.cert.CertificateFactory;\r\nimport java.security.cert.X509Certificate;\r\nimport java.security.interfaces.RSAPublicKey;\r\nimport java.security.spec.X509EncodedKeySpec;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport com.nimbusds.jose.Algorithm;\r\nimport com.nimbusds.jose.jwk.KeyUse;\r\nimport com.nimbusds.jose.jwk.RSAKey;\r\nimport com.nimbusds.jose.util.Base64;\r\nimport com.nimbusds.jose.util.Base64URL;\r\n\r\nimport io.vertx.core.json.JsonObject;\r\n\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.bouncycastle.asn1.x509.SubjectPublicKeyInfo;\r\nimport org.bouncycastle.openssl.PEMParser;\r\nimport org.bouncycastle.util.encoders.Hex;\r\n```\r\n","title":"How to generate a JWK from a PEM encoded public key in Java?","body":"<p>Along the way I learned that I need the certificate besides the public key. So the 2 method solution (until I learn better) is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n   * Returns the JSON formatted JWK based on provided public key / cert\n   *\n   * @param rawKey - public key as read from disk in pem format\n   * @param cert - certificate as read from disk in pem format\n   * @return JWK Key as Optional&lt;String&gt;\n   */\n  public static Optional&lt;String&gt; getJwkString(final String rawKey, final String cert) {\n    try {\n      final KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n      final CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\n      final SubjectPublicKeyInfo pubKeyInfo =\n          (SubjectPublicKeyInfo) new PEMParser(new StringReader(rawKey)).readObject();\n      final X509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(pubKeyInfo.getEncoded());\n      final RSAPublicKey rsaPubKey = (RSAPublicKey) kf.generatePublic(keySpecX509);\n\n      final X509Certificate rsaCert =\n          (X509Certificate) cf.generateCertificate(new ByteArrayInputStream(cert.getBytes()));\n      final byte[] certEncoded = rsaCert.getEncoded();\n      final List&lt;Base64&gt; certChain = new ArrayList&lt;&gt;();\n      certChain.add(Base64.encode(certEncoded));\n\n      final Base64URL thumbprint = Base64URL.from(getThumbprint(certEncoded));\n\n      final RSAKey key = new RSAKey.Builder(rsaPubKey)\n          .keyUse(KeyUse.SIGNATURE)\n          .algorithm(new Algorithm(&quot;RS256&quot;))\n          .x509CertChain(certChain)\n          .x509CertThumbprint(thumbprint)\n          .keyID(&quot;mykey&quot;)\n          .build();\n\n      return Optional.of(key.toJSONString());\n\n    } catch (final Exception e) {\n      SamlResourceUtils.logger.error(e);\n    }\n\n    return Optional.empty();\n  }\n\n  public static String getThumbprint(final byte[] bytes)\n      throws NoSuchAlgorithmException {\n    final MessageDigest md = MessageDigest.getInstance(&quot;SHA-1&quot;);\n    md.update(bytes);\n    return Hex.toHexString(md.digest());\n  }\n</code></pre>\n<p><code>getThumbprint</code> using <code>java.security.MessageDigest</code>. Full import (not all classes are relevant here):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayInputStream;\nimport java.io.StringReader;\nimport java.security.KeyFactory;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.cert.CertificateFactory;\nimport java.security.cert.X509Certificate;\nimport java.security.interfaces.RSAPublicKey;\nimport java.security.spec.X509EncodedKeySpec;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\nimport com.nimbusds.jose.Algorithm;\nimport com.nimbusds.jose.jwk.KeyUse;\nimport com.nimbusds.jose.jwk.RSAKey;\nimport com.nimbusds.jose.util.Base64;\nimport com.nimbusds.jose.util.Base64URL;\n\nimport io.vertx.core.json.JsonObject;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.bouncycastle.asn1.x509.SubjectPublicKeyInfo;\nimport org.bouncycastle.openssl.PEMParser;\nimport org.bouncycastle.util.encoders.Hex;\n</code></pre>\n"}],"owner":{"account_id":44601,"reputation":20150,"user_id":131021,"accept_rate":86,"display_name":"stwissel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3783,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73703594,"answer_count":1,"score":1,"last_activity_date":1665054050,"creation_date":1663038705,"question_id":73697175,"body_markdown":"I have a PEM encoded public key and want to generate a JWK key from it in Java. This is what I tried:\r\n\r\n```\r\n-----BEGIN PUBLIC KEY-----\r\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwGhr2bd1u5JVSWEQjo+UWfH1pE0iK9lm\r\nC//yb5my5PnQ2O62etGX3odWvb10J95pWvhahQcC8wPnjvedZtBxcgHiFOprbYYgZWcXarpw9EO6\r\nH/brPiK1h4akjgNxTdBsFHikzaZ1Erd3T4FEzop8j4pRNrjA/tUHEqxdqOl7H0xHJmbv9odn4Mmq\r\nE/azyohY8LhZ/+YUNbEAT3RCb1Z64tUHow4K+K3QFbNTcEQdN69wNvuAskYsSPCR2f8c6hYShhdf\r\ns8NxnGAKgb9APWvkbLw8+n2/sbHyCmWw5ofW1LokXiCxczqK87UCPMaqFwOt2rlBNrzoMMzWAmH7\r\ns9O6qQIDAQAB\r\n-----END PUBLIC KEY-----\r\n```\r\n\r\n```\r\n-----BEGIN CERTIFICATE-----\r\nMIICuTCCAaGgAwIBAgIJALza9IWWJsHkMA0GCSqGSIb3DQEBCwUAMBwxGjAYBgNVBAMMEVN0ZXBo\r\nYW4gV2lzc2VsL09VMB4XDTIxMDEyMDE5MDAxM1oXDTIxMDMwNjEzMDAxM1owHDEaMBgGA1UEAwwR\r\nU3RlcGhhbiBXaXNzZWwvT1UwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDAaGvZt3W7\r\nklVJYRCOj5RZ8fWkTSIr2WYL//JvmbLk+dDY7rZ60Zfeh1a9vXQn3mla+FqFBwLzA+eO951m0HFy\r\nAeIU6mtthiBlZxdqunD0Q7of9us+IrWHhqSOA3FN0GwUeKTNpnUSt3dPgUTOinyPilE2uMD+1QcS\r\nrF2o6XsfTEcmZu/2h2fgyaoT9rPKiFjwuFn/5hQ1sQBPdEJvVnri1QejDgr4rdAVs1NwRB03r3A2\r\n+4CyRixI8JHZ/xzqFhKGF1+zw3GcYAqBv0A9a+RsvDz6fb+xsfIKZbDmh9bUuiReILFzOorztQI8\r\nxqoXA63auUE2vOgwzNYCYfuz07qpAgMBAAEwDQYJKoZIhvcNAQELBQADggEBAIHX2SudJ6vtpenZ\r\nIhR44/t4WTSfN53lCB2AxOrMFDoa1zZDfM/w7ewtfAND3Y0VGNerpxCh3D2M9NDImgTVKr42ip/+\r\nDxkfubrph24lW7o3gR2ujlLoY4K9Xvt8xD5jo1PRQC6G9YgS6nOeJjpu55QH1BVT1s2i09WAzNID\r\nl4rIsyRoP9r4FZu2W21UYEzs39uOM81r/zEM+7o2UZXVmx6CLdnPZG4HLvPcqNO2waMBNxGXpwAU\r\njiND/72QMzzENl/Su5Sc//4TOuNYKdTjMZ5GhCBftpMRL6FebFa9lkhES07e5aVzW4UyC94KpHXH\r\nh+a3MDv2zYm070cF44zDTFQ=\r\n-----END CERTIFICATE-----\r\n```\r\n\r\nJava method using [com.nimbusds.jose.jwk](https://bitbucket.org/connect2id/nimbus-jose-jwt/src/master/) and [vert.x](https://vertx.io/)&#39;s [JsonObject](https://vertx.io/docs/apidocs/io/vertx/core/json/JsonObject.html):\r\n\r\n```java\r\n  String getJWTKey(final String rawKey) throws Exception {\r\n    final KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    final SubjectPublicKeyInfo pubKeyInfo =\r\n        (SubjectPublicKeyInfo) new PEMParser(new StringReader(rawKey)).readObject();\r\n    final X509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(pubKeyInfo.getEncoded());\r\n    final RSAPublicKey rsaPubKey = (RSAPublicKey) kf.generatePublic(keySpecX509);\r\n\r\n    // How to get these two?\r\n    List&lt;Base64&gt; certChain = null;\r\n    Base64URL thumbprint = null;\r\n\r\n    final RSAKey key = new RSAKey.Builder(rsaPubKey)\r\n        .keyUse(KeyUse.SIGNATURE)\r\n        .algorithm(new Algorithm(&quot;RS256&quot;))\r\n        .keyID(&quot;mykey&quot;)\r\n        .x509CertChain(certChain)\r\n        .x509CertSHA256Thumbprint(thumbprint)\r\n        .build();\r\n \r\n    return key.toJSONString();\r\n```\r\n\r\nThe result is:\r\n\r\n```json\r\n{\r\n  &quot;keys&quot;: [\r\n    {\r\n      &quot;kty&quot;: &quot;RSA&quot;,\r\n      &quot;e&quot;: &quot;AQAB&quot;,\r\n      &quot;use&quot;: &quot;sig&quot;,\r\n      &quot;alg&quot; : &quot;RS256&quot;,\r\n      &quot;kid&quot;: &quot;mykey&quot;,\r\n      &quot;n&quot;: &quot;wGhr2bd1u5JVSWEQjo-UWfH1pE0iK9lmC__yb5my5PnQ2O62etGX3odWvb10J95pWvhahQcC8wPnjvedZtBxcgHiFOprbYYgZWcXarpw9EO6H_brPiK1h4akjgNxTdBsFHikzaZ1Erd3T4FEzop8j4pRNrjA_tUHEqxdqOl7H0xHJmbv9odn4MmqE_azyohY8LhZ_-YUNbEAT3RCb1Z64tUHow4K-K3QFbNTcEQdN69wNvuAskYsSPCR2f8c6hYShhdfs8NxnGAKgb9APWvkbLw8-n2_sbHyCmWw5ofW1LokXiCxczqK87UCPMaqFwOt2rlBNrzoMMzWAmH7s9O6qQ&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nLooking at [documentation](https://auth0.com/docs/secure/tokens/json-web-tokens/json-web-key-set-properties) I&#39;m missing:\r\n\r\n- x5c\r\n- x5t\r\n\r\nWhat do I miss in my code? A solution using [**bouncycastle**](https://www.bouncycastle.org/documentation.html) would be very much welcome. I have access to the cert file (self generated) if required","title":"How to generate a JWK from a PEM encoded public key in Java?","body":"<p>I have a PEM encoded public key and want to generate a JWK key from it in Java. This is what I tried:</p>\n<pre><code>-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwGhr2bd1u5JVSWEQjo+UWfH1pE0iK9lm\nC//yb5my5PnQ2O62etGX3odWvb10J95pWvhahQcC8wPnjvedZtBxcgHiFOprbYYgZWcXarpw9EO6\nH/brPiK1h4akjgNxTdBsFHikzaZ1Erd3T4FEzop8j4pRNrjA/tUHEqxdqOl7H0xHJmbv9odn4Mmq\nE/azyohY8LhZ/+YUNbEAT3RCb1Z64tUHow4K+K3QFbNTcEQdN69wNvuAskYsSPCR2f8c6hYShhdf\ns8NxnGAKgb9APWvkbLw8+n2/sbHyCmWw5ofW1LokXiCxczqK87UCPMaqFwOt2rlBNrzoMMzWAmH7\ns9O6qQIDAQAB\n-----END PUBLIC KEY-----\n</code></pre>\n<pre><code>-----BEGIN CERTIFICATE-----\nMIICuTCCAaGgAwIBAgIJALza9IWWJsHkMA0GCSqGSIb3DQEBCwUAMBwxGjAYBgNVBAMMEVN0ZXBo\nYW4gV2lzc2VsL09VMB4XDTIxMDEyMDE5MDAxM1oXDTIxMDMwNjEzMDAxM1owHDEaMBgGA1UEAwwR\nU3RlcGhhbiBXaXNzZWwvT1UwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDAaGvZt3W7\nklVJYRCOj5RZ8fWkTSIr2WYL//JvmbLk+dDY7rZ60Zfeh1a9vXQn3mla+FqFBwLzA+eO951m0HFy\nAeIU6mtthiBlZxdqunD0Q7of9us+IrWHhqSOA3FN0GwUeKTNpnUSt3dPgUTOinyPilE2uMD+1QcS\nrF2o6XsfTEcmZu/2h2fgyaoT9rPKiFjwuFn/5hQ1sQBPdEJvVnri1QejDgr4rdAVs1NwRB03r3A2\n+4CyRixI8JHZ/xzqFhKGF1+zw3GcYAqBv0A9a+RsvDz6fb+xsfIKZbDmh9bUuiReILFzOorztQI8\nxqoXA63auUE2vOgwzNYCYfuz07qpAgMBAAEwDQYJKoZIhvcNAQELBQADggEBAIHX2SudJ6vtpenZ\nIhR44/t4WTSfN53lCB2AxOrMFDoa1zZDfM/w7ewtfAND3Y0VGNerpxCh3D2M9NDImgTVKr42ip/+\nDxkfubrph24lW7o3gR2ujlLoY4K9Xvt8xD5jo1PRQC6G9YgS6nOeJjpu55QH1BVT1s2i09WAzNID\nl4rIsyRoP9r4FZu2W21UYEzs39uOM81r/zEM+7o2UZXVmx6CLdnPZG4HLvPcqNO2waMBNxGXpwAU\njiND/72QMzzENl/Su5Sc//4TOuNYKdTjMZ5GhCBftpMRL6FebFa9lkhES07e5aVzW4UyC94KpHXH\nh+a3MDv2zYm070cF44zDTFQ=\n-----END CERTIFICATE-----\n</code></pre>\n<p>Java method using <a href=\"https://bitbucket.org/connect2id/nimbus-jose-jwt/src/master/\" rel=\"nofollow noreferrer\">com.nimbusds.jose.jwk</a> and <a href=\"https://vertx.io/\" rel=\"nofollow noreferrer\">vert.x</a>'s <a href=\"https://vertx.io/docs/apidocs/io/vertx/core/json/JsonObject.html\" rel=\"nofollow noreferrer\">JsonObject</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  String getJWTKey(final String rawKey) throws Exception {\n    final KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n    final SubjectPublicKeyInfo pubKeyInfo =\n        (SubjectPublicKeyInfo) new PEMParser(new StringReader(rawKey)).readObject();\n    final X509EncodedKeySpec keySpecX509 = new X509EncodedKeySpec(pubKeyInfo.getEncoded());\n    final RSAPublicKey rsaPubKey = (RSAPublicKey) kf.generatePublic(keySpecX509);\n\n    // How to get these two?\n    List&lt;Base64&gt; certChain = null;\n    Base64URL thumbprint = null;\n\n    final RSAKey key = new RSAKey.Builder(rsaPubKey)\n        .keyUse(KeyUse.SIGNATURE)\n        .algorithm(new Algorithm(&quot;RS256&quot;))\n        .keyID(&quot;mykey&quot;)\n        .x509CertChain(certChain)\n        .x509CertSHA256Thumbprint(thumbprint)\n        .build();\n \n    return key.toJSONString();\n</code></pre>\n<p>The result is:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;keys&quot;: [\n    {\n      &quot;kty&quot;: &quot;RSA&quot;,\n      &quot;e&quot;: &quot;AQAB&quot;,\n      &quot;use&quot;: &quot;sig&quot;,\n      &quot;alg&quot; : &quot;RS256&quot;,\n      &quot;kid&quot;: &quot;mykey&quot;,\n      &quot;n&quot;: &quot;wGhr2bd1u5JVSWEQjo-UWfH1pE0iK9lmC__yb5my5PnQ2O62etGX3odWvb10J95pWvhahQcC8wPnjvedZtBxcgHiFOprbYYgZWcXarpw9EO6H_brPiK1h4akjgNxTdBsFHikzaZ1Erd3T4FEzop8j4pRNrjA_tUHEqxdqOl7H0xHJmbv9odn4MmqE_azyohY8LhZ_-YUNbEAT3RCb1Z64tUHow4K-K3QFbNTcEQdN69wNvuAskYsSPCR2f8c6hYShhdfs8NxnGAKgb9APWvkbLw8-n2_sbHyCmWw5ofW1LokXiCxczqK87UCPMaqFwOt2rlBNrzoMMzWAmH7s9O6qQ&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Looking at <a href=\"https://auth0.com/docs/secure/tokens/json-web-tokens/json-web-key-set-properties\" rel=\"nofollow noreferrer\">documentation</a> I'm missing:</p>\n<ul>\n<li>x5c</li>\n<li>x5t</li>\n</ul>\n<p>What do I miss in my code? A solution using <a href=\"https://www.bouncycastle.org/documentation.html\" rel=\"nofollow noreferrer\"><strong>bouncycastle</strong></a> would be very much welcome. I have access to the cert file (self generated) if required</p>\n"},{"tags":["java","android","jenkins","gradle"],"answers":[{"tags":[],"owner":{"account_id":14764421,"reputation":310,"user_id":10662871,"display_name":"Bipin Tiwari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665053935,"creation_date":1665053935,"answer_id":73972694,"question_id":73908652,"body_markdown":"If someone encounters the same issue :\r\n\r\nTurns out I needed to upgrade the java version from 8 to 11 and compileSdkVersion of the project from 30 to 31. And it worked","title":"Caused by: java.lang.ClassNotFoundException: org.w3c.dom.ElementTraversal error in jenkins when building android project","body":"<p>If someone encounters the same issue :</p>\n<p>Turns out I needed to upgrade the java version from 8 to 11 and compileSdkVersion of the project from 30 to 31. And it worked</p>\n"}],"owner":{"account_id":14764421,"reputation":310,"user_id":10662871,"display_name":"Bipin Tiwari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73972694,"answer_count":1,"score":0,"last_activity_date":1665053935,"creation_date":1664540287,"question_id":73908652,"body_markdown":"I am using Jenkins 2.346.3 to build my android project apk. It was working fine when the project was using Android gradle plugin v3.6.4 and gradle version-5.6.4. \r\n\r\nBut when I updated Android gradle plugin to v4.2.2 and gradle version to v6.7.1, jenkins is giving error when building the project. It running fine when building in Android studio. \r\n\r\nI have already updated gradle of jenkins to use v6.7.1 when building.\r\n\r\nThis is the error I am getting : \r\n\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:anothersimpletooltip:mergeDebugJniLibFolders&#39;.\r\n        \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:200)\r\n        \tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\r\n        \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:198)\r\n        \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:179) \r\n    ......\r\n    \r\n    Caused by: java.lang.NoClassDefFoundError: org/w3c/dom/ElementTraversal\r\n    \tat org.apache.xerces.jaxp.DocumentBuilderImpl.newDocument(Unknown Source)\r\n    \tat com.android.ide.common.resources.DataMerger.writeBlobTo(DataMerger.java:322)\r\n    \tat com.android.ide.common.resources.AssetMerger.writeBlobTo(AssetMerger.java:28)\r\n    .......\r\n    \r\n    org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:271)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:260)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.lambda$execute$0(ExecuteStep.java:33)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:33)\r\n    \r\n    ......\r\n    Caused by: java.lang.ClassNotFoundException: org.w3c.dom.ElementTraversal\r\n    \t... 105 more","title":"Caused by: java.lang.ClassNotFoundException: org.w3c.dom.ElementTraversal error in jenkins when building android project","body":"<p>I am using Jenkins 2.346.3 to build my android project apk. It was working fine when the project was using Android gradle plugin v3.6.4 and gradle version-5.6.4.</p>\n<p>But when I updated Android gradle plugin to v4.2.2 and gradle version to v6.7.1, jenkins is giving error when building the project. It running fine when building in Android studio.</p>\n<p>I have already updated gradle of jenkins to use v6.7.1 when building.</p>\n<p>This is the error I am getting :</p>\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':anothersimpletooltip:mergeDebugJniLibFolders'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:200)\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:263)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:198)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:179) \n......\n\nCaused by: java.lang.NoClassDefFoundError: org/w3c/dom/ElementTraversal\n    at org.apache.xerces.jaxp.DocumentBuilderImpl.newDocument(Unknown Source)\n    at com.android.ide.common.resources.DataMerger.writeBlobTo(DataMerger.java:322)\n    at com.android.ide.common.resources.AssetMerger.writeBlobTo(AssetMerger.java:28)\n.......\n\norg.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.executeWithPreviousOutputFiles(ExecuteActionsTaskExecuter.java:271)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:260)\n    at org.gradle.internal.execution.steps.ExecuteStep.lambda$execute$0(ExecuteStep.java:33)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:33)\n\n......\nCaused by: java.lang.ClassNotFoundException: org.w3c.dom.ElementTraversal\n    ... 105 more\n</code></pre>\n"},{"tags":["java","android","android-studio","libgdx","game-development"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661607431,"post_id":73509292,"comment_id":129814824,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1661748544,"post_id":73509292,"comment_id":129836774,"body_markdown":"Since these aren&#39;t pixel-width lines, you should either draw solid rectangles with ShapeRenderer, or draw rectangular sprites with SpriteBatch. You just need to work out the math for calculating the rectangle size and orientation based on the two end-points you want to connect.","body":"Since these aren&#39;t pixel-width lines, you should either draw solid rectangles with ShapeRenderer, or draw rectangular sprites with SpriteBatch. You just need to work out the math for calculating the rectangle size and orientation based on the two end-points you want to connect."}],"answers":[{"tags":[],"owner":{"account_id":14848544,"reputation":170,"user_id":10723244,"display_name":"Robert O&#39;Connor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665053814,"creation_date":1665053814,"answer_id":73972666,"question_id":73509292,"body_markdown":"Use a shape renderer with a rectLine\r\n\r\n            shapeRenderer.rectLine(new Vector2(x1, y1), new Vector2(x2, y2),lineWidth);\r\n\r\nwhere x1, y1 is the position of your first image, and x2 y2 is the position of the second.\r\n\r\nIf you want the line to follow the users finger as they drag, then you must listen for if the drag/touch event has begun, and then set x2, y2 to the position of the users touch position.","title":"how to draw dynamic line using shape renderer (Libgdx)","body":"<p>Use a shape renderer with a rectLine</p>\n<pre><code>        shapeRenderer.rectLine(new Vector2(x1, y1), new Vector2(x2, y2),lineWidth);\n</code></pre>\n<p>where x1, y1 is the position of your first image, and x2 y2 is the position of the second.</p>\n<p>If you want the line to follow the users finger as they drag, then you must listen for if the drag/touch event has begun, and then set x2, y2 to the position of the users touch position.</p>\n"}],"owner":{"account_id":22705733,"reputation":1,"user_id":16872484,"display_name":"Md Humza"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665053814,"creation_date":1661587237,"question_id":73509292,"body_markdown":"I am trying to make a matching game using Libgdx. but I stuck in drawing a line from one image to another to match the actors like [this game][1] have . Can anyone help?!!\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=com.hegodev.matchit","title":"how to draw dynamic line using shape renderer (Libgdx)","body":"<p>I am trying to make a matching game using Libgdx. but I stuck in drawing a line from one image to another to match the actors like <a href=\"https://play.google.com/store/apps/details?id=com.hegodev.matchit\" rel=\"nofollow noreferrer\">this game</a> have . Can anyone help?!!</p>\n"},{"tags":["java","spring-boot","graphql","spring-graphql"],"comments":[{"owner":{"account_id":6852053,"reputation":103,"user_id":5268947,"display_name":"Aleksandar Stojsavljevic"},"score":0,"creation_date":1677850347,"post_id":73958688,"comment_id":133423390,"body_markdown":"The issue is solved with Spring Boot 3.0.1","body":"The issue is solved with Spring Boot 3.0.1"}],"answers":[{"comments":[{"owner":{"account_id":6852053,"reputation":103,"user_id":5268947,"display_name":"Aleksandar Stojsavljevic"},"score":0,"creation_date":1665054087,"post_id":73969417,"comment_id":130611686,"body_markdown":"Hi Julio, thanks for the response. Unfortunately, enabling method level security doesn&#39;t help. My feeling is that this is the bug somehow related to schema mapping. As I stated before, everything works well if subtype is not used in a subscription response. I tried adding `DelegatingSecurityContextAsyncTaskExecutor` and `MethodInvokingFactoryBean` but without any success.","body":"Hi Julio, thanks for the response. Unfortunately, enabling method level security doesn&#39;t help. My feeling is that this is the bug somehow related to schema mapping. As I stated before, everything works well if subtype is not used in a subscription response. I tried adding <code>DelegatingSecurityContextAsyncTaskExecutor</code> and <code>MethodInvokingFactoryBean</code> but without any success."}],"tags":[],"owner":{"account_id":26482382,"reputation":239,"user_id":20121447,"display_name":"Julio C&#233;sar Estravis"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665037558,"creation_date":1665037558,"answer_id":73969417,"question_id":73958688,"body_markdown":"According to Rossen Stoyanchev&#39;s presentation at Spring IO last May ([which you can watch here][1]), Spring for GraphQL has a layered architecture that has a Web transport layer at the top (be it HTTP or Websocket), then comes the GraphQL engine, and then the Data Controllers.\r\n\r\nIt&#39;s at this last level that we find the Components, like a mutation or a query service, or also one of this &quot;service&quot; operations invoked by a Controller method. \r\nSpring for GraphQL makes sure that the Security context (e.g. the SecurityFilterChain) gets propagated through the GraphQL engine layer and remains available. \r\nFor that to work in your example, according to what I saw in your Github repository I believe you should use a @Secured(&quot;ROLE_ADMIN&quot;) annotation in your methods. \r\n\r\n        @Secured(&quot;ROLE_ADMIN&quot;)\r\n        public Post createPost(CreatePostInput postInput) {\r\n\t\t\r\n\t\tPost post = new Post(&quot;1&quot;, postInput.getTitle(), postInput.getAuthorId());\r\n\t\t// not actually saving anything\r\n\t\t\r\n\t\t// publish newly created Post\r\n\t\tthis.publisher.tryEmitNext(post);\r\n\t\t\r\n\t\treturn post;\r\n\t}\r\n\r\nMake sure to enable method level security as well.\r\nHope it helps.\r\n\r\nNote: For the Security part of Rossen&#39;s talk [go to 24:05 onwards][2].\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=FMZckqbPGq0\r\n  [2]: https://youtu.be/FMZckqbPGq0?t=1444","title":"Lost authentication when using GraphQL subscriptions with Spring Security","body":"<p>According to Rossen Stoyanchev's presentation at Spring IO last May (<a href=\"https://www.youtube.com/watch?v=FMZckqbPGq0\" rel=\"nofollow noreferrer\">which you can watch here</a>), Spring for GraphQL has a layered architecture that has a Web transport layer at the top (be it HTTP or Websocket), then comes the GraphQL engine, and then the Data Controllers.</p>\n<p>It's at this last level that we find the Components, like a mutation or a query service, or also one of this &quot;service&quot; operations invoked by a Controller method.\nSpring for GraphQL makes sure that the Security context (e.g. the SecurityFilterChain) gets propagated through the GraphQL engine layer and remains available.\nFor that to work in your example, according to what I saw in your Github repository I believe you should use a @Secured(&quot;ROLE_ADMIN&quot;) annotation in your methods.</p>\n<pre><code>    @Secured(&quot;ROLE_ADMIN&quot;)\n    public Post createPost(CreatePostInput postInput) {\n    \n    Post post = new Post(&quot;1&quot;, postInput.getTitle(), postInput.getAuthorId());\n    // not actually saving anything\n    \n    // publish newly created Post\n    this.publisher.tryEmitNext(post);\n    \n    return post;\n}\n</code></pre>\n<p>Make sure to enable method level security as well.\nHope it helps.</p>\n<p>Note: For the Security part of Rossen's talk <a href=\"https://youtu.be/FMZckqbPGq0?t=1444\" rel=\"nofollow noreferrer\">go to 24:05 onwards</a>.</p>\n"}],"owner":{"account_id":6852053,"reputation":103,"user_id":5268947,"display_name":"Aleksandar Stojsavljevic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665053758,"creation_date":1664963587,"question_id":73958688,"body_markdown":"I&#39;m using ```spring-boot-starter-graphql``` for my GraphQL server application. I protected the application with basic authentication using Spring security. \r\nGraphQL subscription are used to return a type with a subtype. As soon as subscription returns a type, authentication gets lost from security context.\r\n\r\nHere is short version of my configuration:\r\n```\r\ntype Post  {\r\n    id: String!\r\n    title: String! \r\n    author: Author!\r\n}\r\n\r\ntype Author  {\r\n    id: String!\r\n    name: String!\r\n}\r\n\r\ntype Subscription {\r\n    getNewPost: Post\r\n}\r\n\r\n@SchemaMapping(typeName = &quot;Post&quot;, field = &quot;author&quot;)\r\npublic Author getAuthor(Post post) {\r\n\treturn this.appService.getAuthorById(post.getAuthorId());\r\n}\r\n\r\n@Bean\r\nMany&lt;Post&gt; publisher() {\r\n\treturn Sinks.many().multicast().directBestEffort();\r\n}\r\n\r\n@SubscriptionMapping(&quot;getNewPost&quot;)\r\npublic Publisher&lt;Post&gt; getNewPost() {\r\n\treturn this.publisher.asFlux();\r\n}\r\n\r\npublic Post createPost(CreatePostInput postInput) {\r\n\t...\t\t\r\n\tthis.publisher.tryEmitNext(post);\r\n\t...\r\n}\r\n```\r\nEverything works as expected until subscription returns first object. After that security context becomes empty and any following request gets redirected to login page.\r\n\r\nI noticed two things:\r\n\r\n - In case that object that subscription returns (```Post``` in this example) doesn&#39;t contain nested object (```Author```), everything works as it should\r\n - With Java Kickstart everything works as it should\r\n\r\nI created an example application for reproducing this issue: https://github.com/stojsavljevic/graphql-security-issue\r\n\r\n\r\nAny help is very much appreciated!\r\n","title":"Lost authentication when using GraphQL subscriptions with Spring Security","body":"<p>I'm using <code>spring-boot-starter-graphql</code> for my GraphQL server application. I protected the application with basic authentication using Spring security.\nGraphQL subscription are used to return a type with a subtype. As soon as subscription returns a type, authentication gets lost from security context.</p>\n<p>Here is short version of my configuration:</p>\n<pre><code>type Post  {\n    id: String!\n    title: String! \n    author: Author!\n}\n\ntype Author  {\n    id: String!\n    name: String!\n}\n\ntype Subscription {\n    getNewPost: Post\n}\n\n@SchemaMapping(typeName = &quot;Post&quot;, field = &quot;author&quot;)\npublic Author getAuthor(Post post) {\n    return this.appService.getAuthorById(post.getAuthorId());\n}\n\n@Bean\nMany&lt;Post&gt; publisher() {\n    return Sinks.many().multicast().directBestEffort();\n}\n\n@SubscriptionMapping(&quot;getNewPost&quot;)\npublic Publisher&lt;Post&gt; getNewPost() {\n    return this.publisher.asFlux();\n}\n\npublic Post createPost(CreatePostInput postInput) {\n    ...     \n    this.publisher.tryEmitNext(post);\n    ...\n}\n</code></pre>\n<p>Everything works as expected until subscription returns first object. After that security context becomes empty and any following request gets redirected to login page.</p>\n<p>I noticed two things:</p>\n<ul>\n<li>In case that object that subscription returns (<code>Post</code> in this example) doesn't contain nested object (<code>Author</code>), everything works as it should</li>\n<li>With Java Kickstart everything works as it should</li>\n</ul>\n<p>I created an example application for reproducing this issue: <a href=\"https://github.com/stojsavljevic/graphql-security-issue\" rel=\"nofollow noreferrer\">https://github.com/stojsavljevic/graphql-security-issue</a></p>\n<p>Any help is very much appreciated!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":2,"creation_date":1664558856,"post_id":73911298,"comment_id":130507304,"body_markdown":"You probably want to implement *Drag and Drop* instead of rolling your own solution: https://developer.android.com/develop/ui/views/touch-and-input/drag-drop","body":"You probably want to implement <i>Drag and Drop</i> instead of rolling your own solution: <a href=\"https://developer.android.com/develop/ui/views/touch-and-input/drag-drop\" rel=\"nofollow noreferrer\">developer.android.com/develop/ui/views/touch-and-input/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21474253,"reputation":61,"user_id":18082608,"display_name":"aWiseMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665053563,"creation_date":1665053563,"answer_id":73972600,"question_id":73911298,"body_markdown":"As @cactustictacs suggested the Drag and Drop works great for this. \r\nBasically:\r\n1. Set a onTouchListener on objects B view that starts a drag action.\r\n2. Extend DragShadowBuilder and create a custom background/shadow for the dragged object. (Transparent drawable for me)\r\n3. Add data of object B to the drag action\r\n4. Set Object 1 2 3 views as drop zones by implementing onDragListeners.\r\n\r\n","title":"How to detect if a view is being touched if the press down originates outside of that view?","body":"<p>As @cactustictacs suggested the Drag and Drop works great for this.\nBasically:</p>\n<ol>\n<li>Set a onTouchListener on objects B view that starts a drag action.</li>\n<li>Extend DragShadowBuilder and create a custom background/shadow for the dragged object. (Transparent drawable for me)</li>\n<li>Add data of object B to the drag action</li>\n<li>Set Object 1 2 3 views as drop zones by implementing onDragListeners.</li>\n</ol>\n"}],"owner":{"account_id":21474253,"reputation":61,"user_id":18082608,"display_name":"aWiseMan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73972600,"answer_count":1,"score":0,"last_activity_date":1665053563,"creation_date":1664553620,"question_id":73911298,"body_markdown":"I want to touch down on the view of object B and swipe to ie. object 3 where I release it. It needs to register that is has been released at object 3. I thought to give object 3 a OnTouchListener as well but that ontouchlistener is not called since it started outside of its view. I dont think a global ontouchlistener working back to coordinates will work since its all in a ScrollView. I tried several callback but none seem to work and I can&#39;t find an answer to this.\r\nSo, How to detect if a view is being touched if the press down originates outside of that view?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2qjHY.png","title":"How to detect if a view is being touched if the press down originates outside of that view?","body":"<p>I want to touch down on the view of object B and swipe to ie. object 3 where I release it. It needs to register that is has been released at object 3. I thought to give object 3 a OnTouchListener as well but that ontouchlistener is not called since it started outside of its view. I dont think a global ontouchlistener working back to coordinates will work since its all in a ScrollView. I tried several callback but none seem to work and I can't find an answer to this.\nSo, How to detect if a view is being touched if the press down originates outside of that view?</p>\n<p><a href=\"https://i.stack.imgur.com/2qjHY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2qjHY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","libgdx"],"answers":[{"tags":[],"owner":{"account_id":14848544,"reputation":170,"user_id":10723244,"display_name":"Robert O&#39;Connor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665053501,"creation_date":1665053501,"answer_id":73972589,"question_id":73955567,"body_markdown":"You could try using a Container.\r\n\r\n    Container&lt;Actor&gt; container = new Container&lt;&gt;(myRotatedActor);\r\n\r\nApply all your drag &amp; drop logic to the container.\r\n\r\nWhen you want to rotate, apply the rotation to the child (myRotatedActor) within the Container.","title":"Libgdx actor rotation drag position","body":"<p>You could try using a Container.</p>\n<pre><code>Container&lt;Actor&gt; container = new Container&lt;&gt;(myRotatedActor);\n</code></pre>\n<p>Apply all your drag &amp; drop logic to the container.</p>\n<p>When you want to rotate, apply the rotation to the child (myRotatedActor) within the Container.</p>\n"}],"owner":{"account_id":44550,"reputation":131,"user_id":130822,"accept_rate":71,"display_name":"avenger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665053501,"creation_date":1664939276,"question_id":73955567,"body_markdown":"How can I set the drag position of a rotated libGDX actor?\r\n\r\nFor an non rotated actor, the normal drag position is at the center. In order to set the drag position where the finger is touched, I use the following method as described here:\r\nhttps://stackoverflow.com/questions/22062429/how-to-drag-and-drop-a-libgdx-image-actor\r\n\r\n`dragAndDrop.setDragActorPosition(-x, -y + sourceImage.getHeight())`\r\n\r\nThis works flawlessly only when the actor is not rotated. Now if I rotate the actor using either of the below options:\r\n\r\nOption 1: `rotateBy(-90)`\r\nOption 2: `addAction(Actions.rotateBy(-90))`\r\n\r\nthe drag position is no longer under my finger because the coordinates are rotated. I tried using `localToParentCoordinates()` provided by the Actor class and rotation matrix algorithm but both doesn&#39;t seem to work.","title":"Libgdx actor rotation drag position","body":"<p>How can I set the drag position of a rotated libGDX actor?</p>\n<p>For an non rotated actor, the normal drag position is at the center. In order to set the drag position where the finger is touched, I use the following method as described here:\n<a href=\"https://stackoverflow.com/questions/22062429/how-to-drag-and-drop-a-libgdx-image-actor\">How to drag and drop a LibGDX Image actor</a></p>\n<p><code>dragAndDrop.setDragActorPosition(-x, -y + sourceImage.getHeight())</code></p>\n<p>This works flawlessly only when the actor is not rotated. Now if I rotate the actor using either of the below options:</p>\n<p>Option 1: <code>rotateBy(-90)</code>\nOption 2: <code>addAction(Actions.rotateBy(-90))</code></p>\n<p>the drag position is no longer under my finger because the coordinates are rotated. I tried using <code>localToParentCoordinates()</code> provided by the Actor class and rotation matrix algorithm but both doesn't seem to work.</p>\n"},{"tags":["java","maven","junit","simd","java-module"],"answers":[{"tags":[],"owner":{"account_id":4753102,"reputation":3151,"user_id":4886722,"display_name":"Dmitry Khamitov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665052571,"creation_date":1665005957,"answer_id":73966595,"question_id":73958179,"body_markdown":"As far as I can judge, the compilation is fine. That means the `maven-compiler-plugin` is properly configured, i.e. `&lt;arg&gt;--add-modules=jdk.incubator.vector&lt;/arg&gt;` is picked up.\r\n\r\nThe `java.lang.NoClassDefFoundError` happens at runtime, i.e. when the test is running. That obviously means `--add-modules=jdk.incubator.vector` is not picked up. I believe the reason is the `maven-surefire-plugin` not configured properly so that it doesn&#39;t propagate that value to the JVM that actually runs the test. By default, that JVM is different from the one running Maven itself. This is managed by [the `forkCount` parameter][1]:\r\n\r\n&gt; The default setting is forkCount=1/reuseForks=true, which means that maven-surefire-plugin creates one new JVM process to execute all tests in one Maven module.\r\n\r\nSo, if you want to keep it that way (`forkCount` &gt; 0) then you have to properly configure the `maven-surefire-plugin`. Like in the following example:\r\n```\r\n&lt;plugins&gt;\r\n[...]\r\n  &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0-M7&lt;/version&gt; &lt;!-- pick your own version --&gt;\r\n    &lt;configuration&gt;\r\n        &lt;forkCount&gt;1&lt;/forkCount&gt;\r\n        &lt;argLine&gt;--add-modules=jdk.incubator.vector&lt;/argLine&gt;\r\n    &lt;/configuration&gt;\r\n  &lt;/plugin&gt;\r\n[...]\r\n&lt;/plugins&gt;\r\n``` \r\n\r\n[`.mvn/jvm.config`][2] doesn&#39;t work in your case because this configuration is for Maven JVM as sort of alternative for [MAVEN_OPTS][3]:\r\n&gt; So no need anymore for MAVEN_OPTS... You don&#39;t need to use these options in MAVEN_OPTS or switch between different configurations.\r\n\r\nAbout MAVEN_OPTS:\r\n&gt; This variable contains parameters used to start up the JVM running Maven and can be used to supply additional options to it.\r\n\r\nSo, if forking is disabled (`forkCount` = 0) then it will work because there will be only one JVM for everything. Otherwise, only [the system properties get passed to a forked JVM][1]:\r\n\r\n&gt; System property variables from the main maven process are passed to the forked process as well.\r\n\r\n \r\n\r\n\r\n  [1]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html#forked-test-execution\r\n  [2]: https://maven.apache.org/configure.html#mvn-jvm-config-file\r\n  [3]: https://maven.apache.org/configure.html#maven_opts-environment-variable","title":"JUnit tests do not seem to get run with --add-modules=jdk.incubator.vector from Maven","body":"<p>As far as I can judge, the compilation is fine. That means the <code>maven-compiler-plugin</code> is properly configured, i.e. <code>&lt;arg&gt;--add-modules=jdk.incubator.vector&lt;/arg&gt;</code> is picked up.</p>\n<p>The <code>java.lang.NoClassDefFoundError</code> happens at runtime, i.e. when the test is running. That obviously means <code>--add-modules=jdk.incubator.vector</code> is not picked up. I believe the reason is the <code>maven-surefire-plugin</code> not configured properly so that it doesn't propagate that value to the JVM that actually runs the test. By default, that JVM is different from the one running Maven itself. This is managed by <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html#forked-test-execution\" rel=\"nofollow noreferrer\">the <code>forkCount</code> parameter</a>:</p>\n<blockquote>\n<p>The default setting is forkCount=1/reuseForks=true, which means that maven-surefire-plugin creates one new JVM process to execute all tests in one Maven module.</p>\n</blockquote>\n<p>So, if you want to keep it that way (<code>forkCount</code> &gt; 0) then you have to properly configure the <code>maven-surefire-plugin</code>. Like in the following example:</p>\n<pre><code>&lt;plugins&gt;\n[...]\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M7&lt;/version&gt; &lt;!-- pick your own version --&gt;\n    &lt;configuration&gt;\n        &lt;forkCount&gt;1&lt;/forkCount&gt;\n        &lt;argLine&gt;--add-modules=jdk.incubator.vector&lt;/argLine&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n[...]\n&lt;/plugins&gt;\n</code></pre>\n<p><a href=\"https://maven.apache.org/configure.html#mvn-jvm-config-file\" rel=\"nofollow noreferrer\"><code>.mvn/jvm.config</code></a> doesn't work in your case because this configuration is for Maven JVM as sort of alternative for <a href=\"https://maven.apache.org/configure.html#maven_opts-environment-variable\" rel=\"nofollow noreferrer\">MAVEN_OPTS</a>:</p>\n<blockquote>\n<p>So no need anymore for MAVEN_OPTS... You don't need to use these options in MAVEN_OPTS or switch between different configurations.</p>\n</blockquote>\n<p>About MAVEN_OPTS:</p>\n<blockquote>\n<p>This variable contains parameters used to start up the JVM running Maven and can be used to supply additional options to it.</p>\n</blockquote>\n<p>So, if forking is disabled (<code>forkCount</code> = 0) then it will work because there will be only one JVM for everything. Otherwise, only <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html#forked-test-execution\" rel=\"nofollow noreferrer\">the system properties get passed to a forked JVM</a>:</p>\n<blockquote>\n<p>System property variables from the main maven process are passed to the forked process as well.</p>\n</blockquote>\n"}],"owner":{"account_id":1208031,"reputation":14071,"user_id":1915854,"accept_rate":63,"display_name":"Serge Rogatch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73966595,"answer_count":1,"score":1,"last_activity_date":1665052571,"creation_date":1664960927,"question_id":73958179,"body_markdown":"I&#39;ve added SIMD code to a Java application that uses Maven to build, and now I have to run it like this:\r\n\r\n    mvn exec:java -Dexec.mainClass=&quot;com.path.to.app.MainClass&quot; -Dexec.classpathScope=runtime -Dexec.systemProperties=&quot;-da --add-modules=jdk.incubator.vector&quot;\r\n\r\nI also created `.mvn/jvm.config` file with the following content:\r\n\r\n    --add-modules=jdk.incubator.vector\r\n\r\nFinally, in `pom.xml` I added the following under `project/build/plugins`:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;--add-modules=jdk.incubator.vector&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\nThe application itself runs from Eclipse and from command-line with Maven as shown above. However, if I run `mvn install`, the JUnit tests fail:\r\n\r\n    java.lang.NoClassDefFoundError: jdk/incubator/vector/Vector\r\n    ...\r\n    Caused by: java.lang.ClassNotFoundException: jdk.incubator.vector.Vector\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\r\nAll the above steps were found on the internet. I couldn&#39;t find how to fix JUnit. Please, suggest.\r\n\r\nOpenJDK 19, Maven 3.8.6, Ubuntu 20.04, JUnit is enabled in `pom.xml` as follows:\r\n\r\n    &lt;junit.version&gt;4.13.2&lt;/junit.version&gt;\r\n    ...\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;","title":"JUnit tests do not seem to get run with --add-modules=jdk.incubator.vector from Maven","body":"<p>I've added SIMD code to a Java application that uses Maven to build, and now I have to run it like this:</p>\n<pre><code>mvn exec:java -Dexec.mainClass=&quot;com.path.to.app.MainClass&quot; -Dexec.classpathScope=runtime -Dexec.systemProperties=&quot;-da --add-modules=jdk.incubator.vector&quot;\n</code></pre>\n<p>I also created <code>.mvn/jvm.config</code> file with the following content:</p>\n<pre><code>--add-modules=jdk.incubator.vector\n</code></pre>\n<p>Finally, in <code>pom.xml</code> I added the following under <code>project/build/plugins</code>:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.10.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;--add-modules=jdk.incubator.vector&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>The application itself runs from Eclipse and from command-line with Maven as shown above. However, if I run <code>mvn install</code>, the JUnit tests fail:</p>\n<pre><code>java.lang.NoClassDefFoundError: jdk/incubator/vector/Vector\n...\nCaused by: java.lang.ClassNotFoundException: jdk.incubator.vector.Vector\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n</code></pre>\n<p>All the above steps were found on the internet. I couldn't find how to fix JUnit. Please, suggest.</p>\n<p>OpenJDK 19, Maven 3.8.6, Ubuntu 20.04, JUnit is enabled in <code>pom.xml</code> as follows:</p>\n<pre><code>&lt;junit.version&gt;4.13.2&lt;/junit.version&gt;\n...\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-security"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1665051998,"post_id":73972201,"comment_id":130610936,"body_markdown":"*Why password field send IllegalArgumentException instead of* because `BCryptPasswordEncoder.encode` is called before the validation.  The validation should be done in the &#217;serModel` I think","body":"<i>Why password field send IllegalArgumentException instead of</i> because <code>BCryptPasswordEncoder.encode</code> is called before the validation.  The validation should be done in the &#217;serModel` I think"}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665051758,"creation_date":1665051758,"answer_id":73972248,"question_id":73972201,"body_markdown":"Because it&#39;s throwing that exception before even reaching the point where it would throw a `ConstraintViolationException`.\r\n\r\nHere\r\n\r\n    user.setPasword(bCryptPasswordEncoder.encode(userModel.getPasword()));\r\n\r\nIt&#39;s `bCryptPasswordEncoder.encode(userModel.getPasword())` that is throwing the `IllegalArgumentException`, because it doesn&#39;t expect a null argument.","title":"How to handle &quot;java.lang.IllegalArgumentException: rawPassword cannot be null&quot;","body":"<p>Because it's throwing that exception before even reaching the point where it would throw a <code>ConstraintViolationException</code>.</p>\n<p>Here</p>\n<pre><code>user.setPasword(bCryptPasswordEncoder.encode(userModel.getPasword()));\n</code></pre>\n<p>It's <code>bCryptPasswordEncoder.encode(userModel.getPasword())</code> that is throwing the <code>IllegalArgumentException</code>, because it doesn't expect a null argument.</p>\n"}],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73972248,"answer_count":1,"score":0,"last_activity_date":1665052523,"creation_date":1665051542,"question_id":73972201,"body_markdown":"In my code, I have `User` entity who have multiple fields and I&#39;m trying to handle field exception that&#39;s work fine. If any field is null then JVM will throw `ConstraintViolationException` which is I&#39;m handling perfectly with Custom Exception Handling but my problem is if password field is null then JVM will throw `IllegalArgumentException`. \r\n\r\nMy question is why am I getting an `IllegalArgumentException` instead of a `ConstraintViolationException`?\r\n\r\nHere is my code:\r\n\r\n**Entity**\r\n```\r\npublic class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Integer userId;\r\n\r\n\t@NotBlank(message = &quot;Please Insert Username !!&quot;)\r\n\tprivate String userName;\r\n\t\r\n\t@NotBlank(message = &quot;Please Insert Password !!&quot;)\r\n\tprivate String password;\r\n\t\r\n\t@NotBlank(message = &quot;Please Insert Location !!&quot;)\r\n\tprivate String location;\r\n\r\n\t@Lob\r\n\tprivate String bio;\r\n    \r\n    // Parameterized Constructor\r\n    // getter and setter\r\n}\r\n```\r\n\r\n**Service**\r\n```\r\n@Override\r\npublic User addUser(UserModel userModel) {\r\n\tOptional&lt;Role&gt; role = roleRepo.findById(userModel.getRoleId());\r\n\t\r\n\tUser user = new User();\r\n\tuser.setUserId(userModel.getUserId());\r\n\tuser.setUserName(userModel.getUserName());\r\n\tuser.setPasword(bCryptPasswordEncoder.encode(userModel.getPasword()));\r\n\tuser.setLocation(userModel.getLocation());\r\n\tuser.setBio(userModel.getBio());\r\n\r\n\treturn userRepo.save(user);\r\n}\r\n```\r\n\r\n**Custom Exception Handler**\r\n```\r\n@ExceptionHandler(ConstraintViolationException.class)\r\n@ResponseStatus(value = HttpStatus.BAD_GATEWAY)\r\npublic Map&lt;Path, String&gt; handleConstraintViolationException(ConstraintViolationException ex) {\r\n\tSet&lt;ConstraintViolation&lt;?&gt;&gt; constraintViolations = ex.getConstraintViolations();\r\n\t         \r\n\tMap&lt;Path, String&gt; fieldException = new HashMap&lt;&gt;();\r\n\tconstraintViolations.stream().forEach(e -&gt; {\r\n\t    fieldException.put(e.getPropertyPath(), e.getMessage());\r\n\t});\r\n\treturn fieldException;\r\n}\r\n```\r\n\r\nHere is my full stack trace:\r\n```\r\njava.lang.IllegalArgumentException: rawPassword cannot be null\r\n\tat org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.encode(BCryptPasswordEncoder.java:107) ~[spring-security-crypto-5.7.3.jar:5.7.3]\r\n\tat com.pixel.service.UserSereviceImpl.addUser(UserSereviceImpl.java:34) ~[classes/:na]\r\n\tat com.pixel.controller.UserController.addUser(UserController.java:24) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```","title":"How to handle &quot;java.lang.IllegalArgumentException: rawPassword cannot be null&quot;","body":"<p>In my code, I have <code>User</code> entity who have multiple fields and I'm trying to handle field exception that's work fine. If any field is null then JVM will throw <code>ConstraintViolationException</code> which is I'm handling perfectly with Custom Exception Handling but my problem is if password field is null then JVM will throw <code>IllegalArgumentException</code>.</p>\n<p>My question is why am I getting an <code>IllegalArgumentException</code> instead of a <code>ConstraintViolationException</code>?</p>\n<p>Here is my code:</p>\n<p><strong>Entity</strong></p>\n<pre><code>public class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer userId;\n\n    @NotBlank(message = &quot;Please Insert Username !!&quot;)\n    private String userName;\n    \n    @NotBlank(message = &quot;Please Insert Password !!&quot;)\n    private String password;\n    \n    @NotBlank(message = &quot;Please Insert Location !!&quot;)\n    private String location;\n\n    @Lob\n    private String bio;\n    \n    // Parameterized Constructor\n    // getter and setter\n}\n</code></pre>\n<p><strong>Service</strong></p>\n<pre><code>@Override\npublic User addUser(UserModel userModel) {\n    Optional&lt;Role&gt; role = roleRepo.findById(userModel.getRoleId());\n    \n    User user = new User();\n    user.setUserId(userModel.getUserId());\n    user.setUserName(userModel.getUserName());\n    user.setPasword(bCryptPasswordEncoder.encode(userModel.getPasword()));\n    user.setLocation(userModel.getLocation());\n    user.setBio(userModel.getBio());\n\n    return userRepo.save(user);\n}\n</code></pre>\n<p><strong>Custom Exception Handler</strong></p>\n<pre><code>@ExceptionHandler(ConstraintViolationException.class)\n@ResponseStatus(value = HttpStatus.BAD_GATEWAY)\npublic Map&lt;Path, String&gt; handleConstraintViolationException(ConstraintViolationException ex) {\n    Set&lt;ConstraintViolation&lt;?&gt;&gt; constraintViolations = ex.getConstraintViolations();\n             \n    Map&lt;Path, String&gt; fieldException = new HashMap&lt;&gt;();\n    constraintViolations.stream().forEach(e -&gt; {\n        fieldException.put(e.getPropertyPath(), e.getMessage());\n    });\n    return fieldException;\n}\n</code></pre>\n<p>Here is my full stack trace:</p>\n<pre><code>java.lang.IllegalArgumentException: rawPassword cannot be null\n    at org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.encode(BCryptPasswordEncoder.java:107) ~[spring-security-crypto-5.7.3.jar:5.7.3]\n    at com.pixel.service.UserSereviceImpl.addUser(UserSereviceImpl.java:34) ~[classes/:na]\n    at com.pixel.controller.UserController.addUser(UserController.java:24) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:166) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:223) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.3.jar:5.7.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n"},{"tags":["java","android","collections","arraylist","swap"],"answers":[{"comments":[{"owner":{"account_id":264582,"reputation":82175,"user_id":550966,"accept_rate":97,"display_name":"Pankaj Kumar"},"score":1,"creation_date":1385364007,"post_id":20186745,"comment_id":30095999,"body_markdown":"isn&#39;t it will increase the size of list?","body":"isn&#39;t it will increase the size of list?"},{"owner":{"account_id":1095385,"reputation":1553,"user_id":1089080,"display_name":"Venkata Krishna"},"score":0,"creation_date":1385364113,"post_id":20186745,"comment_id":30096035,"body_markdown":"Then remove the element from list by using url.remove(&quot;C&quot;); and add element at zero position by using url.add(0,&quot;C&quot;);","body":"Then remove the element from list by using url.remove(&quot;C&quot;); and add element at zero position by using url.add(0,&quot;C&quot;);"}],"tags":[],"owner":{"account_id":1095385,"reputation":1553,"user_id":1089080,"display_name":"Venkata Krishna"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1540467027,"creation_date":1385363974,"answer_id":20186745,"question_id":20186681,"body_markdown":"Do this:\r\n\r\n 1. ***Remove*** the element from the list: `ArraylistObj.remove(object);`\r\n 2. ***Add*** the element **back** to the list ***at specific position***: `ArrayListObj.add(position, Object);`\r\n\r\nAs per your code use this :\r\n\r\n    url.remove(&quot;C&quot;);\r\n    url.add(0,&quot;C&quot;);","title":"How to move specific item in array list to the first item","body":"<p>Do this:</p>\n\n<ol>\n<li><strong><em>Remove</em></strong> the element from the list: <code>ArraylistObj.remove(object);</code></li>\n<li><strong><em>Add</em></strong> the element <strong>back</strong> to the list <strong><em>at specific position</em></strong>: <code>ArrayListObj.add(position, Object);</code></li>\n</ol>\n\n<p>As per your code use this :</p>\n\n<pre><code>url.remove(\"C\");\nurl.add(0,\"C\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1709322,"reputation":2168,"user_id":1567678,"accept_rate":60,"display_name":"Aditya"},"score":4,"creation_date":1385364994,"post_id":20186749,"comment_id":30096347,"body_markdown":"if speed is a criteria, then maybe you should also look at http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.1/org/apache/commons/collections/list/TreeList.html","body":"if speed is a criteria, then maybe you should also look at <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.1/org/apache/commons/collections/list/TreeList.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-collections/javadocs/&hellip;</a>"},{"owner":{"account_id":4690396,"reputation":1599,"user_id":3796660,"accept_rate":54,"display_name":"AJW"},"score":0,"creation_date":1569439740,"post_id":20186749,"comment_id":102601567,"body_markdown":"@Aditya broken link now.","body":"@Aditya broken link now."},{"owner":{"account_id":1709322,"reputation":2168,"user_id":1567678,"accept_rate":60,"display_name":"Aditya"},"score":0,"creation_date":1569485800,"post_id":20186749,"comment_id":102614562,"body_markdown":"Here is the new link - https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/list/TreeList.html","body":"Here is the new link - <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/list/TreeList.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-collections/javadocs/api-4&zwnj;&#8203;.4/&hellip;</a>"}],"tags":[],"owner":{"account_id":2029833,"reputation":11611,"user_id":1813853,"display_name":"Chris Hayes"},"comment_count":3,"down_vote_count":0,"up_vote_count":134,"is_accepted":true,"score":134,"last_activity_date":1500034271,"creation_date":1385363995,"answer_id":20186749,"question_id":20186681,"body_markdown":"What you want is a very expensive operation in an `ArrayList`. It requires shifting every element between the beginning of the list and the location of `C` down by one.\r\n\r\nHowever, if you really want to do it:\r\n\r\n    int index = url.indexOf(itemToMove);\r\n    url.remove(index);\r\n    url.add(0, itemToMove);\r\n\r\nIf this is a frequent operation for you, and random access is rather less frequent, you might consider switching to another `List` implementation such as `LinkedList`. You should also consider whether a list is the right data structure at all if you&#39;re so concerned about the order of elements.","title":"How to move specific item in array list to the first item","body":"<p>What you want is a very expensive operation in an <code>ArrayList</code>. It requires shifting every element between the beginning of the list and the location of <code>C</code> down by one.</p>\n\n<p>However, if you really want to do it:</p>\n\n<pre><code>int index = url.indexOf(itemToMove);\nurl.remove(index);\nurl.add(0, itemToMove);\n</code></pre>\n\n<p>If this is a frequent operation for you, and random access is rather less frequent, you might consider switching to another <code>List</code> implementation such as <code>LinkedList</code>. You should also consider whether a list is the right data structure at all if you're so concerned about the order of elements.</p>\n"},{"tags":[],"owner":{"account_id":3424174,"reputation":343,"user_id":2870535,"accept_rate":100,"display_name":"hbsrud"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1385367732,"creation_date":1385364174,"answer_id":20186795,"question_id":20186681,"body_markdown":"The problem is, you swap C with A, so A B C D E becomes C B A D E.\r\n\r\nYou could try something like this:\r\n\r\n    url.remove(itemToMove);\r\n    url.add(0, itemToMove);\r\n\r\nOr if ``url`` is a ``LinkedList``:\r\n\r\n    url.remove(itemToMove);\r\n    url.addFirst(itemToMove);","title":"How to move specific item in array list to the first item","body":"<p>The problem is, you swap C with A, so A B C D E becomes C B A D E.</p>\n\n<p>You could try something like this:</p>\n\n<pre><code>url.remove(itemToMove);\nurl.add(0, itemToMove);\n</code></pre>\n\n<p>Or if <code>url</code> is a <code>LinkedList</code>:</p>\n\n<pre><code>url.remove(itemToMove);\nurl.addFirst(itemToMove);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5571074,"reputation":1,"user_id":4416340,"display_name":"sbc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425002891,"creation_date":1425002891,"answer_id":28756352,"question_id":20186681,"body_markdown":"This code will allow you to increase size of list, and insert elements without otherwise disturbing order of list    \r\n\r\n    private void insert(double price){\r\n        for(int i = 0; i &lt; keys.size(); i++){\r\n            if(price &gt; keys.get(i)){\r\n                keys.add(null);\r\n                for(int j = keys.size()-1; j &gt; i; j--){\r\n                    Collections.swap(keys, j, j-1);\r\n                }\r\n                keys.add(price);\r\n                Collections.swap(keys, keys.size()-1, i);\r\n                keys.remove(keys.size()-1);\r\n                return;\r\n            }\r\n        }\r\n        keys.add(price);\r\n    }","title":"How to move specific item in array list to the first item","body":"<p>This code will allow you to increase size of list, and insert elements without otherwise disturbing order of list    </p>\n\n<pre><code>private void insert(double price){\n    for(int i = 0; i &lt; keys.size(); i++){\n        if(price &gt; keys.get(i)){\n            keys.add(null);\n            for(int j = keys.size()-1; j &gt; i; j--){\n                Collections.swap(keys, j, j-1);\n            }\n            keys.add(price);\n            Collections.swap(keys, keys.size()-1, i);\n            keys.remove(keys.size()-1);\n            return;\n        }\n    }\n    keys.add(price);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":996480,"reputation":1615,"user_id":1012277,"accept_rate":25,"display_name":"Zulqarnain Mustafa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477050776,"creation_date":1477050776,"answer_id":40176045,"question_id":20186681,"body_markdown":"Let say you have an array:\r\n\r\n    String[] arrayOne = new String[]{&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;E&quot;};\r\n\r\nNow you want to place the `C` at index `0` get the `C` in another variable\r\n\r\n    String characterC = arrayOne[2];\r\nNow run the loop like following:\r\n\r\n    for (int i = (2 - 1); i &gt;= 0; i--) {\r\n\r\n                arrayOne[i+1] = arrayOne[i];\r\n            }\r\nAbove `2` is index of `C`. Now insert `C` at index for example on `0`\r\n\r\n    arrayOne[0] = characterC;\r\nResult of above loop will be like that:\r\n\r\n    arrayOne: {&quot;C&quot;,&quot;A&quot;,&quot;B&quot;,&quot;D&quot;,&quot;E&quot;}\r\nThe end, we achieve our goal.","title":"How to move specific item in array list to the first item","body":"<p>Let say you have an array:</p>\n\n<pre><code>String[] arrayOne = new String[]{\"A\",\"B\",\"C\",\"D\",\"E\"};\n</code></pre>\n\n<p>Now you want to place the <code>C</code> at index <code>0</code> get the <code>C</code> in another variable</p>\n\n<pre><code>String characterC = arrayOne[2];\n</code></pre>\n\n<p>Now run the loop like following:</p>\n\n<pre><code>for (int i = (2 - 1); i &gt;= 0; i--) {\n\n            arrayOne[i+1] = arrayOne[i];\n        }\n</code></pre>\n\n<p>Above <code>2</code> is index of <code>C</code>. Now insert <code>C</code> at index for example on <code>0</code></p>\n\n<pre><code>arrayOne[0] = characterC;\n</code></pre>\n\n<p>Result of above loop will be like that:</p>\n\n<pre><code>arrayOne: {\"C\",\"A\",\"B\",\"D\",\"E\"}\n</code></pre>\n\n<p>The end, we achieve our goal.</p>\n"},{"comments":[{"owner":{"account_id":9419546,"reputation":1889,"user_id":7016052,"display_name":"lazarevzubov"},"score":0,"creation_date":1682181544,"post_id":47654383,"comment_id":134176438,"body_markdown":"It gives &quot;C, B, A, D, E&quot; on output instead of &quot;C, A, B, D, E&quot;.","body":"It gives &quot;C, B, A, D, E&quot; on output instead of &quot;C, A, B, D, E&quot;."},{"owner":{"account_id":10956798,"reputation":231,"user_id":8051306,"display_name":"MYLS"},"score":0,"creation_date":1683811059,"post_id":47654383,"comment_id":134425813,"body_markdown":"@lazarevzubov you can test it at Kotlin Playground, e.g. https://pl.kotl.in/OwYLJ_SZ-","body":"@lazarevzubov you can test it at Kotlin Playground, e.g. <a href=\"https://pl.kotl.in/OwYLJ_SZ-\" rel=\"nofollow noreferrer\">pl.kotl.in/OwYLJ_SZ-</a>"},{"owner":{"account_id":9419546,"reputation":1889,"user_id":7016052,"display_name":"lazarevzubov"},"score":0,"creation_date":1683813902,"post_id":47654383,"comment_id":134426655,"body_markdown":"My apologies...","body":"My apologies..."}],"tags":[],"owner":{"account_id":10956798,"reputation":231,"user_id":8051306,"display_name":"MYLS"},"comment_count":3,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1512479191,"creation_date":1512479191,"answer_id":47654383,"question_id":20186681,"body_markdown":"Another solution, just keep swaping from `0` to `indexOf(itemToMove)`.\r\n\r\nThis is my Kotlin version:\r\n\r\n    val list = mutableListOf(&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;)\r\n    (0..list.indexOf(&#39;C&#39;)).forEach {\r\n        Collections.swap(list, 0, it)\r\n    }\r\n\r\nSorry I am unfamiliar with Java but learned a little Kotlin. But the algorithm is the same.","title":"How to move specific item in array list to the first item","body":"<p>Another solution, just keep swaping from <code>0</code> to <code>indexOf(itemToMove)</code>.</p>\n\n<p>This is my Kotlin version:</p>\n\n<pre><code>val list = mutableListOf('A', 'B', 'C', 'D', 'E')\n(0..list.indexOf('C')).forEach {\n    Collections.swap(list, 0, it)\n}\n</code></pre>\n\n<p>Sorry I am unfamiliar with Java but learned a little Kotlin. But the algorithm is the same.</p>\n"},{"tags":[],"owner":{"account_id":16908317,"reputation":767,"user_id":12228079,"display_name":"Kunal Kalwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657125031,"creation_date":1657125031,"answer_id":72887015,"question_id":20186681,"body_markdown":"Kotlin -&gt;\r\n\r\n   \r\n\r\n     \r\n    fun &lt;T&gt; MutableList&lt;T&gt;.move(item: T, newIndex: Int)  {\r\n        val currentIndex = indexOf(item)\r\n        if (currentIndex &lt; 0) return\r\n        removeAt(currentIndex)\r\n        add(newIndex, item)\r\n    }","title":"How to move specific item in array list to the first item","body":"<p>Kotlin -&gt;</p>\n<pre><code>fun &lt;T&gt; MutableList&lt;T&gt;.move(item: T, newIndex: Int)  {\n    val currentIndex = indexOf(item)\n    if (currentIndex &lt; 0) return\n    removeAt(currentIndex)\n    add(newIndex, item)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2675066,"reputation":1496,"user_id":2311651,"accept_rate":86,"display_name":"Pavlo28"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665052326,"creation_date":1665052326,"answer_id":73972371,"question_id":20186681,"body_markdown":"One more Kotlin solution based on other answers from this thread:\r\n\r\n    inline fun &lt;T&gt; List&lt;T&gt;.moveItemToFirstPosition(predicate: (T) -&gt; Boolean): List&lt;T&gt; {\r\n        for (element in this.withIndex()) {\r\n            if (predicate(element.value)) {\r\n                return this.toMutableList().apply {\r\n                    removeAt(element.index)\r\n                    add(0, element.value)\r\n                }.toList()\r\n            }\r\n        }\r\n        return this\r\n    }\r\n\r\nUsage:\r\n\r\n    var list = listOf(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;)\r\n    list = list.moveItemToFirstPosition { it == &quot;C&quot; }\r\n\r\nOR\r\n\r\n    inline fun &lt;T&gt; MutableList&lt;T&gt;.moveItemToFirstPosition(predicate: (T) -&gt; Boolean) {\r\n        for (element in this.withIndex()) {\r\n            if (predicate(element.value)) {\r\n                removeAt(element.index)\r\n                add(0, element.value)\r\n                break\r\n            }\r\n        }\r\n    }\r\n\r\nUsage:\r\n\r\n    val list = mutableListOf(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;)\r\n    list.moveItemToFirstPosition { it == &quot;C&quot; }","title":"How to move specific item in array list to the first item","body":"<p>One more Kotlin solution based on other answers from this thread:</p>\n<pre><code>inline fun &lt;T&gt; List&lt;T&gt;.moveItemToFirstPosition(predicate: (T) -&gt; Boolean): List&lt;T&gt; {\n    for (element in this.withIndex()) {\n        if (predicate(element.value)) {\n            return this.toMutableList().apply {\n                removeAt(element.index)\n                add(0, element.value)\n            }.toList()\n        }\n    }\n    return this\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>var list = listOf(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;)\nlist = list.moveItemToFirstPosition { it == &quot;C&quot; }\n</code></pre>\n<p>OR</p>\n<pre><code>inline fun &lt;T&gt; MutableList&lt;T&gt;.moveItemToFirstPosition(predicate: (T) -&gt; Boolean) {\n    for (element in this.withIndex()) {\n        if (predicate(element.value)) {\n            removeAt(element.index)\n            add(0, element.value)\n            break\n        }\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>val list = mutableListOf(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;)\nlist.moveItemToFirstPosition { it == &quot;C&quot; }\n</code></pre>\n"}],"owner":{"account_id":410328,"reputation":13353,"user_id":782104,"accept_rate":91,"display_name":"user782104"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125972,"favorite_count":0,"down_vote_count":0,"up_vote_count":94,"accepted_answer_id":20186749,"answer_count":8,"score":94,"last_activity_date":1665052326,"creation_date":1385363745,"question_id":20186681,"body_markdown":"For example : A list\r\n\r\nA B C D E\r\n\r\nGiven C , Switch to \r\n\r\nC A B D E\r\n\r\nNotice that the array size will change, some items may removed in run times\r\n\r\n    Collections.swap(url, url.indexOf(itemToMove), 0);\r\n\r\nThis statement is not working because it output C B A D E not C A B D E , how to fix it?\r\n\r\nThanks. ","title":"How to move specific item in array list to the first item","body":"<p>For example : A list</p>\n\n<p>A B C D E</p>\n\n<p>Given C , Switch to </p>\n\n<p>C A B D E</p>\n\n<p>Notice that the array size will change, some items may removed in run times</p>\n\n<pre><code>Collections.swap(url, url.indexOf(itemToMove), 0);\n</code></pre>\n\n<p>This statement is not working because it output C B A D E not C A B D E , how to fix it?</p>\n\n<p>Thanks. </p>\n"},{"tags":["java","algorithm","data-structures","disjoint-sets"],"comments":[{"owner":{"display_name":"user1181445"},"score":1,"creation_date":1333233055,"post_id":9459938,"comment_id":12721429,"body_markdown":"Correct me if I am wrong but this is a tree, so every node except the first node would have a parent node. Have you considered this implementation.","body":"Correct me if I am wrong but this is a tree, so every node except the first node would have a parent node. Have you considered this implementation."},{"owner":{"account_id":182320,"reputation":22341,"user_id":416926,"accept_rate":81,"display_name":"Saeed Amiri"},"score":1,"creation_date":1333634443,"post_id":9459938,"comment_id":12828249,"body_markdown":"@Legend, In kruskall&#39;s algorithm, during runtime of algorithm we have forest not tree, so your assumption is wrong.","body":"@Legend, In kruskall&#39;s algorithm, during runtime of algorithm we have forest not tree, so your assumption is wrong."}],"answers":[{"comments":[{"owner":{"account_id":6885505,"reputation":913,"user_id":5407757,"accept_rate":62,"display_name":"Daniel R. Collins"},"score":0,"creation_date":1559305519,"post_id":9459988,"comment_id":99388612,"body_markdown":"This is incorrect. Kruskal&#39;s algorithm proceeds by developing a disconnected subgraph, so it will commonly need to connect separate components, in which both vertices of the bridging edge have already been visited. E.g., see [here](https://en.wikipedia.org/wiki/Kruskal&#39;s_algorithm#Example) (Example step 5, in which edge BE is added). However, this claim would be true for a different algorithm like Prim&#39;s, which does grow a connected tree at each step (and hence is easier to implement and prove its correctness).","body":"This is incorrect. Kruskal&#39;s algorithm proceeds by developing a disconnected subgraph, so it will commonly need to connect separate components, in which both vertices of the bridging edge have already been visited. E.g., see <a href=\"https://en.wikipedia.org/wiki/Kruskal&#39;s_algorithm#Example\" rel=\"nofollow noreferrer\">here</a> (Example step 5, in which edge BE is added). However, this claim would be true for a different algorithm like Prim&#39;s, which does grow a connected tree at each step (and hence is easier to implement and prove its correctness)."}],"tags":[],"owner":{"account_id":1261919,"reputation":1717,"user_id":1219955,"accept_rate":100,"display_name":"Dan675"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1330317210,"creation_date":1330316020,"answer_id":9459988,"question_id":9459938,"body_markdown":"If the vertices are labelled in some way all you need to do is check if both vertices of the edge selected has been visited previously which will indicate a loop.\r\n\r\nSo if its implemented with integers you could use a boolean array to mark which vertices have been selected.\r\n\r\n    boolean[] visited = new boolean[vertex-count-1];\r\n\r\nOr if the vertices are labelled as strings you could add them to a Map for instance and check they have not already been added.","title":"Testing for a circuit when implementing Kruskalls algorithm","body":"<p>If the vertices are labelled in some way all you need to do is check if both vertices of the edge selected has been visited previously which will indicate a loop.</p>\n\n<p>So if its implemented with integers you could use a boolean array to mark which vertices have been selected.</p>\n\n<pre><code>boolean[] visited = new boolean[vertex-count-1];\n</code></pre>\n\n<p>Or if the vertices are labelled as strings you could add them to a Map for instance and check they have not already been added.</p>\n"},{"tags":[],"owner":{"account_id":182320,"reputation":22341,"user_id":416926,"accept_rate":81,"display_name":"Saeed Amiri"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1665052233,"creation_date":1333237904,"answer_id":9960713,"question_id":9459938,"body_markdown":"Kruskall&#39;s algorithm doesn&#39;t searche for cycles, because it&#39;s not performance efficient; instead creates disjoint  trees, and then connects them. Since connecting two distinct subtrees with a single edge creates a new tree, there is no need to check for cycles.\r\n\r\nIf you look at [wiki page][1] algorithm is as follow:\r\n\r\n    1. create a forest **F** (a set of trees), where each vertex in the graph is a separate tree\r\n    2. create a set S containing all the edges in the graph\r\n    3. while S is nonempty and F is not yet spanning\r\n        a. remove an edge with minimum weight from S\r\n        b. if that edge connects two different trees, then add it to the forest, combining \r\n           two trees into a single tree\r\n        c. otherwise discard that edge.\r\n\r\n\r\nYou should use [Disjoint Set Data Structure][2] for this. again from wiki:\r\n\r\n&gt; first sort the edges by weight using a comparison sort in O(E log E)\r\n&gt; time; this allows the step &quot;remove an edge with minimum weight from S&quot;\r\n&gt; to operate in constant time. Next, we use a disjoint-set data\r\n&gt; structure (Union&amp;Find) to keep track of which vertices are in which\r\n&gt; components. We need to perform O(E) operations, two &#39;find&#39; operations\r\n&gt; and possibly one union for each edge. Even a simple disjoint-set data\r\n&gt; structure such as disjoint-set forests with union by rank can perform\r\n&gt; O(E) operations in O(E log V) time. Thus the total time is O(E log E)\r\n&gt; = O(E log V).\r\n\r\n---\r\n\r\n#Creating Disjoint Forests\r\nNow you can take a look at [Boost Graph Library-Incremental Components][3] part.\r\nYou should implement some methods: **MakeSet**, **Find**, **Union**, After that you can implement Kruskall&#39;s algorithm. All you doing is working with sets, and simplest possible way to do so is using linked list.\r\n\r\nEach set has one element named as **representative element** which is the first element in the set.\r\n\r\n1- First implement **MakeSet** by linked lists:\r\n\r\n&gt; This prepares the disjoint-sets data structure for the incremental\r\n&gt; connected components algorithm by making each vertex in the graph a\r\n&gt; member of its own component (or set).\r\n\r\nJust initialize each vertex (element) as a representative element of new set, we can do this by setting them as themselves&#39; parent:\r\n\r\n     function MakeSet(x)\r\n       x.parent := x\r\n\r\n2- Implement **Find** method:\r\n\r\nFind representative element of a set that contains a vertex `x`:\r\n\r\n     function Find(x)\r\n     if x.parent == x\r\n        return x\r\n     else\r\n        return Find(x.parent)\r\n\r\nThe `if` part checks the element is representative element or not. we set all representative elements of sets as their first element by setting them as themselves parent.\r\n\r\n3- And finally when all previous steps are done, simple part is implementing the **Union** method:\r\n\r\n    function Union(x, y)\r\n     xRoot := Find(x) // find representative element of first element(set)\r\n     yRoot := Find(y) // find representative element of second element(set)\r\n     xRoot.parent := yRoot // set representative element of first set \r\n                           // as same as representative element of second set\r\n\r\nNow how you should run Kruskall?\r\n\r\nFirst put all nodes in `n` disjoint sets by **MakeSet** method. In each iteration after finding desired  edge (not marked and minimal one), find related sets of its endpoint vertices by **Find** method (their representative elements), if they are the same, drop this edge out because this edge causes a cycle, but If they are in different sets, use **Union** method to merge these sets. Since each set is a tree their union is a tree.\r\n\r\nYou can optimize this by choosing better data structure for disjoint sets, but for now I think this is enough. If you are interested in more advanced data structures, you can implement **rank** base method, there is a good documentation about it in wiki, it&#39;s easy but I didn&#39;t mention it to prevent from bewilderment.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Kruskal%27s_algorithm\r\n  [2]: http://en.wikipedia.org/wiki/Disjoint-set_data_structure\r\n  [3]: http://www.boost.org/doc/libs/1_49_0/libs/graph/doc/incremental_components.html","title":"Testing for a circuit when implementing Kruskalls algorithm","body":"<p>Kruskall's algorithm doesn't searche for cycles, because it's not performance efficient; instead creates disjoint  trees, and then connects them. Since connecting two distinct subtrees with a single edge creates a new tree, there is no need to check for cycles.</p>\n<p>If you look at <a href=\"http://en.wikipedia.org/wiki/Kruskal%27s_algorithm\" rel=\"nofollow noreferrer\">wiki page</a> algorithm is as follow:</p>\n<pre><code>1. create a forest **F** (a set of trees), where each vertex in the graph is a separate tree\n2. create a set S containing all the edges in the graph\n3. while S is nonempty and F is not yet spanning\n    a. remove an edge with minimum weight from S\n    b. if that edge connects two different trees, then add it to the forest, combining \n       two trees into a single tree\n    c. otherwise discard that edge.\n</code></pre>\n<p>You should use <a href=\"http://en.wikipedia.org/wiki/Disjoint-set_data_structure\" rel=\"nofollow noreferrer\">Disjoint Set Data Structure</a> for this. again from wiki:</p>\n<blockquote>\n<p>first sort the edges by weight using a comparison sort in O(E log E)\ntime; this allows the step &quot;remove an edge with minimum weight from S&quot;\nto operate in constant time. Next, we use a disjoint-set data\nstructure (Union&amp;Find) to keep track of which vertices are in which\ncomponents. We need to perform O(E) operations, two 'find' operations\nand possibly one union for each edge. Even a simple disjoint-set data\nstructure such as disjoint-set forests with union by rank can perform\nO(E) operations in O(E log V) time. Thus the total time is O(E log E)\n= O(E log V).</p>\n</blockquote>\n<hr />\n<p>#Creating Disjoint Forests\nNow you can take a look at <a href=\"http://www.boost.org/doc/libs/1_49_0/libs/graph/doc/incremental_components.html\" rel=\"nofollow noreferrer\">Boost Graph Library-Incremental Components</a> part.\nYou should implement some methods: <strong>MakeSet</strong>, <strong>Find</strong>, <strong>Union</strong>, After that you can implement Kruskall's algorithm. All you doing is working with sets, and simplest possible way to do so is using linked list.</p>\n<p>Each set has one element named as <strong>representative element</strong> which is the first element in the set.</p>\n<p>1- First implement <strong>MakeSet</strong> by linked lists:</p>\n<blockquote>\n<p>This prepares the disjoint-sets data structure for the incremental\nconnected components algorithm by making each vertex in the graph a\nmember of its own component (or set).</p>\n</blockquote>\n<p>Just initialize each vertex (element) as a representative element of new set, we can do this by setting them as themselves' parent:</p>\n<pre><code> function MakeSet(x)\n   x.parent := x\n</code></pre>\n<p>2- Implement <strong>Find</strong> method:</p>\n<p>Find representative element of a set that contains a vertex <code>x</code>:</p>\n<pre><code> function Find(x)\n if x.parent == x\n    return x\n else\n    return Find(x.parent)\n</code></pre>\n<p>The <code>if</code> part checks the element is representative element or not. we set all representative elements of sets as their first element by setting them as themselves parent.</p>\n<p>3- And finally when all previous steps are done, simple part is implementing the <strong>Union</strong> method:</p>\n<pre><code>function Union(x, y)\n xRoot := Find(x) // find representative element of first element(set)\n yRoot := Find(y) // find representative element of second element(set)\n xRoot.parent := yRoot // set representative element of first set \n                       // as same as representative element of second set\n</code></pre>\n<p>Now how you should run Kruskall?</p>\n<p>First put all nodes in <code>n</code> disjoint sets by <strong>MakeSet</strong> method. In each iteration after finding desired  edge (not marked and minimal one), find related sets of its endpoint vertices by <strong>Find</strong> method (their representative elements), if they are the same, drop this edge out because this edge causes a cycle, but If they are in different sets, use <strong>Union</strong> method to merge these sets. Since each set is a tree their union is a tree.</p>\n<p>You can optimize this by choosing better data structure for disjoint sets, but for now I think this is enough. If you are interested in more advanced data structures, you can implement <strong>rank</strong> base method, there is a good documentation about it in wiki, it's easy but I didn't mention it to prevent from bewilderment.</p>\n"},{"tags":[],"owner":{"account_id":408159,"reputation":526,"user_id":778643,"display_name":"gwilkins"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1333238002,"creation_date":1333238002,"answer_id":9960724,"question_id":9459938,"body_markdown":"To check for circuits, you&#39;ll want to use a union-find data structure.  The easiest way to do it is just with linked lists, but there are more efficient implementations. This link can help you if you want to implement one yourself.\r\n\r\nhttp://en.wikipedia.org/wiki/Disjoint-set_data_structure\r\n\r\nOr here&#39;s a link to a java implementation:\r\n\r\nhttp://www.koders.com/java/fid125D835ECD1C1C701008C456A93A7179FA06D196.aspx\r\n\r\nBasically, a union-find data structure allows you to track disjoint sets of elements, and supports two operations:\r\n\r\n    1) Find, which takes an element as an argument and tells you which set it is in\r\n    2) Union, which takes 2 disjoint sets and merges them\r\n\r\n\r\nLet&#39;s say your array of edges that will form the MST is `S`. The idea is that you can make a set, `C`, using Union-Find, that tracks which vertices of the graph are connected by the edges in `S`. When `C` contains all the vertices in the graph, then you&#39;re finished, and checking to see if the addition of an edge will create a cycle amounts to checking whether the two vertices that it connects are already in `C` (by using two `Find` operations).\r\n\r\nSo if `E` is the set of all the edges in the graph, your update operation can proceed like so:\r\n\r\n\r\n        Remove edge, e from E, with minimum weight (say that it connects vertices v1 and v2)\r\n        Find(v1) and Find(v2)\r\n        If v1 and v2 are both in C then continue\r\n        Else, Union(C,{v1,v2}) and append e to S\r\n\r\nAnd you stop the update once `C` contains every vertex of the graph.\r\n","title":"Testing for a circuit when implementing Kruskalls algorithm","body":"<p>To check for circuits, you'll want to use a union-find data structure.  The easiest way to do it is just with linked lists, but there are more efficient implementations. This link can help you if you want to implement one yourself.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Disjoint-set_data_structure\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Disjoint-set_data_structure</a></p>\n\n<p>Or here's a link to a java implementation:</p>\n\n<p><a href=\"http://www.koders.com/java/fid125D835ECD1C1C701008C456A93A7179FA06D196.aspx\" rel=\"nofollow\">http://www.koders.com/java/fid125D835ECD1C1C701008C456A93A7179FA06D196.aspx</a></p>\n\n<p>Basically, a union-find data structure allows you to track disjoint sets of elements, and supports two operations:</p>\n\n<pre><code>1) Find, which takes an element as an argument and tells you which set it is in\n2) Union, which takes 2 disjoint sets and merges them\n</code></pre>\n\n<p>Let's say your array of edges that will form the MST is <code>S</code>. The idea is that you can make a set, <code>C</code>, using Union-Find, that tracks which vertices of the graph are connected by the edges in <code>S</code>. When <code>C</code> contains all the vertices in the graph, then you're finished, and checking to see if the addition of an edge will create a cycle amounts to checking whether the two vertices that it connects are already in <code>C</code> (by using two <code>Find</code> operations).</p>\n\n<p>So if <code>E</code> is the set of all the edges in the graph, your update operation can proceed like so:</p>\n\n<pre><code>    Remove edge, e from E, with minimum weight (say that it connects vertices v1 and v2)\n    Find(v1) and Find(v2)\n    If v1 and v2 are both in C then continue\n    Else, Union(C,{v1,v2}) and append e to S\n</code></pre>\n\n<p>And you stop the update once <code>C</code> contains every vertex of the graph.</p>\n"},{"tags":[],"owner":{"account_id":72186,"reputation":1419,"user_id":208527,"accept_rate":75,"display_name":"kilotaras"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333432060,"creation_date":1333432060,"answer_id":9987733,"question_id":9459938,"body_markdown":"If you check for cycle, using DFS it will be very inefficient. But you can use [Disjoint Set][1]. When connecting, you&#39;ll only need to check if your nodes are in same connected component.  \r\n\r\nAlso note, that you have to check that your original is connected, because Kruskall algorithm will find spanning forest and not a spanning tree in that case.\r\n\r\n\r\n  [1]: http://community.topcoder.com/tc?module=Static&amp;d1=tutorials&amp;d2=disjointDataStructure &quot;Disjoint Set Tutorial&quot;","title":"Testing for a circuit when implementing Kruskalls algorithm","body":"<p>If you check for cycle, using DFS it will be very inefficient. But you can use <a href=\"http://community.topcoder.com/tc?module=Static&amp;d1=tutorials&amp;d2=disjointDataStructure\" rel=\"nofollow\" title=\"Disjoint Set Tutorial\">Disjoint Set</a>. When connecting, you'll only need to check if your nodes are in same connected component.  </p>\n\n<p>Also note, that you have to check that your original is connected, because Kruskall algorithm will find spanning forest and not a spanning tree in that case.</p>\n"},{"tags":[],"owner":{"account_id":36062,"reputation":951,"user_id":102600,"display_name":"Garen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333835500,"creation_date":1333835500,"answer_id":10058684,"question_id":9459938,"body_markdown":"The most powerful if not most common way to detect cycles is via Tarjan&#39;s SCC (Strongly Connected Components) algorithm.  In any case, this question has already been answered:\r\n\r\nhttps://stackoverflow.com/questions/546655/finding-all-cycles-in-graph\r\n","title":"Testing for a circuit when implementing Kruskalls algorithm","body":"<p>The most powerful if not most common way to detect cycles is via Tarjan's SCC (Strongly Connected Components) algorithm.  In any case, this question has already been answered:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/546655/finding-all-cycles-in-graph\">Finding all cycles in a directed graph</a></p>\n"}],"owner":{"account_id":192764,"reputation":9156,"user_id":434089,"accept_rate":98,"display_name":"Steffan Harris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1993,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":9960713,"answer_count":5,"score":8,"last_activity_date":1665052233,"creation_date":1330315671,"question_id":9459938,"body_markdown":"I&#39;m trying to write a program that would find the minimum spanning tree. But one problem I am having with this algorithm, is testing for a circuit. What would be the best way to do this in java.\r\n\r\nOk here is my code\r\n\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    public class JungleRoads \r\n    {\r\n        public static int FindMinimumCost(ArrayList graph,int size)\r\n        {\r\n            int total = 0;\r\n            int [] marked = new int[size];      //keeps track over integer in the mst\r\n            \r\n            //convert an arraylist to an array\r\n            List&lt;String&gt; wrapper = graph;\r\n            String[] arrayGraph = wrapper.toArray(new String[wrapper.size()]);\r\n            String[] temp = new String[size];\r\n            HashMap visited = new HashMap();\r\n            \r\n            \r\n            for(int i = 0; i &lt; size; i++)\r\n            {\r\n               // System.out.println(arrayGraph[i]);\r\n                temp = arrayGraph[i].split(&quot; &quot;);\r\n                \r\n                //loop over connections of a current node\r\n                for(int j =  2; j &lt; Integer.parseInt(temp[1])*2+2; j++)\r\n                {\r\n                            \r\n                    if(temp[j].matches(&quot;[0-9]+&quot;))\r\n                    {\r\n                        System.out.println(temp[j]);\r\n                    }\r\n                }\r\n                \r\n              \r\n            }\r\n            \r\n           \r\n            graph.clear();\r\n            return total;\r\n            \r\n            \r\n        }\r\n        \r\n        \r\n        public static void main(String[] args) throws IOException\r\n        {\r\n    \r\n             FileReader fin = new FileReader(&quot;jungle.in&quot;);\r\n            BufferedReader infile = new BufferedReader(fin);\r\n    \r\n            FileWriter fout = new FileWriter(&quot;jungle.out&quot;);\r\n            BufferedWriter outfile = new BufferedWriter(fout);\r\n            \r\n            \r\n            String line;\r\n            line = infile.readLine();\r\n            ArrayList graph = new ArrayList();\r\n            \r\n            do\r\n            {\r\n                \r\n                int num = Integer.parseInt(line);\r\n                if(num!= 0)\r\n                {\r\n                   \r\n                    int size = Integer.parseInt(line)-1;\r\n                    \r\n                    for(int i=0; i &lt; size; i++)\r\n                    {\r\n                        line = infile.readLine(); \r\n                        graph.add(line);\r\n                    }\r\n                    \r\n                   outfile.write(FindMinimumCost(graph, size));\r\n                }   \r\n                \r\n                \r\n                line = infile.readLine();\r\n            }while(!line.equals(&quot;0&quot;));\r\n            \r\n        }\r\n    }\r\n\r\n","title":"Testing for a circuit when implementing Kruskalls algorithm","body":"<p>I'm trying to write a program that would find the minimum spanning tree. But one problem I am having with this algorithm, is testing for a circuit. What would be the best way to do this in java.</p>\n\n<p>Ok here is my code</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class JungleRoads \n{\n    public static int FindMinimumCost(ArrayList graph,int size)\n    {\n        int total = 0;\n        int [] marked = new int[size];      //keeps track over integer in the mst\n\n        //convert an arraylist to an array\n        List&lt;String&gt; wrapper = graph;\n        String[] arrayGraph = wrapper.toArray(new String[wrapper.size()]);\n        String[] temp = new String[size];\n        HashMap visited = new HashMap();\n\n\n        for(int i = 0; i &lt; size; i++)\n        {\n           // System.out.println(arrayGraph[i]);\n            temp = arrayGraph[i].split(\" \");\n\n            //loop over connections of a current node\n            for(int j =  2; j &lt; Integer.parseInt(temp[1])*2+2; j++)\n            {\n\n                if(temp[j].matches(\"[0-9]+\"))\n                {\n                    System.out.println(temp[j]);\n                }\n            }\n\n\n        }\n\n\n        graph.clear();\n        return total;\n\n\n    }\n\n\n    public static void main(String[] args) throws IOException\n    {\n\n         FileReader fin = new FileReader(\"jungle.in\");\n        BufferedReader infile = new BufferedReader(fin);\n\n        FileWriter fout = new FileWriter(\"jungle.out\");\n        BufferedWriter outfile = new BufferedWriter(fout);\n\n\n        String line;\n        line = infile.readLine();\n        ArrayList graph = new ArrayList();\n\n        do\n        {\n\n            int num = Integer.parseInt(line);\n            if(num!= 0)\n            {\n\n                int size = Integer.parseInt(line)-1;\n\n                for(int i=0; i &lt; size; i++)\n                {\n                    line = infile.readLine(); \n                    graph.add(line);\n                }\n\n               outfile.write(FindMinimumCost(graph, size));\n            }   \n\n\n            line = infile.readLine();\n        }while(!line.equals(\"0\"));\n\n    }\n}\n</code></pre>\n"},{"tags":["java","jpa","persistence","eclipselink"],"comments":[{"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"score":0,"creation_date":1665046409,"post_id":73970601,"comment_id":130608789,"body_markdown":"Why ins&#39;t their any `@Id` into your entity ?","body":"Why ins&#39;t their any <code>@Id</code> into your entity ?"},{"owner":{"account_id":12662835,"reputation":71,"user_id":9203135,"display_name":"Jssson"},"score":0,"creation_date":1665046631,"post_id":73970601,"comment_id":130608868,"body_markdown":"@Zorglube I omitted it because it deemed it not relevant, it&#39;s done in a superclass.","body":"@Zorglube I omitted it because it deemed it not relevant, it&#39;s done in a superclass."}],"answers":[{"comments":[{"owner":{"account_id":12662835,"reputation":71,"user_id":9203135,"display_name":"Jssson"},"score":0,"creation_date":1665046777,"post_id":73971099,"comment_id":130608927,"body_markdown":"My setter does not look like that, but in practice I do the same thing. Whenever I create a suggestion, I set the Item in the suggestion-class, and then I set the suggestion in the Item-class, and that should accomplish the same thing right?","body":"My setter does not look like that, but in practice I do the same thing. Whenever I create a suggestion, I set the Item in the suggestion-class, and then I set the suggestion in the Item-class, and that should accomplish the same thing right?"},{"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"score":0,"creation_date":1665047055,"post_id":73971099,"comment_id":130609025,"body_markdown":"yes, if that the case you need to show more code such as how you are populating your entities before saving and transactional boundaries etc","body":"yes, if that the case you need to show more code such as how you are populating your entities before saving and transactional boundaries etc"},{"owner":{"account_id":12662835,"reputation":71,"user_id":9203135,"display_name":"Jssson"},"score":0,"creation_date":1665048206,"post_id":73971099,"comment_id":130609500,"body_markdown":"I updated the question with more code, showing how I populate the entities. Regarding the transactional boundaries I&#39;m not exactly sure what&#39;s relevant there. If you have anything specific you want to know then I&#39;ll provide it. Thanks for the feedback!","body":"I updated the question with more code, showing how I populate the entities. Regarding the transactional boundaries I&#39;m not exactly sure what&#39;s relevant there. If you have anything specific you want to know then I&#39;ll provide it. Thanks for the feedback!"}],"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665046639,"creation_date":1665046639,"answer_id":73971099,"question_id":73970601,"body_markdown":"Your setter in item should be as follows:\r\n```\r\npublic void setItemGroupSuggestion(ItemGroupSuggestion itemGroupSuggestion) {\r\n    itemGroupSuggestion.setItem(this);\r\n    this.itemGroupSuggestion = itemGroupSuggestion;\r\n}\r\n```\r\n","title":"JPA OneToOne relation doesnt persist child entity when saving parent","body":"<p>Your setter in item should be as follows:</p>\n<pre><code>public void setItemGroupSuggestion(ItemGroupSuggestion itemGroupSuggestion) {\n    itemGroupSuggestion.setItem(this);\n    this.itemGroupSuggestion = itemGroupSuggestion;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"score":1,"creation_date":1665064536,"post_id":73972304,"comment_id":130615771,"body_markdown":"It tell Hibernate (or any ORM) how is made the `SQL` junction. `@JoinColumn(name = &quot;item_id&quot;, referencedColumnName = &quot;id&quot;) private Item item;` That mean, in SQL : `mp_itemgroup_suggestion.item_id` is a foreingKey of `mp_item.id`.","body":"It tell Hibernate (or any ORM) how is made the <code>SQL</code> junction. <code>@JoinColumn(name = &quot;item_id&quot;, referencedColumnName = &quot;id&quot;) private Item item;</code> That mean, in SQL : <code>mp_itemgroup_suggestion.item_id</code> is a foreingKey of <code>mp_item.id</code>."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1665179344,"post_id":73972304,"comment_id":130647288,"body_markdown":"It should have defaulted if the &quot;id&quot; column in Item is annotated as the ID and it isn&#39;t a composite ID. There is no need for it otherwise: Having the wrong value should still have let this &#39;work&#39; using the ID field or throw exceptions; eclipseLink doesn&#39;t ignore bad mappings and will validate and let you know about them - turn on logging though and it might help explain what is happening.","body":"It should have defaulted if the &quot;id&quot; column in Item is annotated as the ID and it isn&#39;t a composite ID. There is no need for it otherwise: Having the wrong value should still have let this &#39;work&#39; using the ID field or throw exceptions; eclipseLink doesn&#39;t ignore bad mappings and will validate and let you know about them - turn on logging though and it might help explain what is happening."}],"tags":[],"owner":{"account_id":12662835,"reputation":71,"user_id":9203135,"display_name":"Jssson"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665052030,"creation_date":1665052030,"answer_id":73972304,"question_id":73970601,"body_markdown":"Seems like I finally got it to work, for some reason when I provided the **referencedColumnName** it started working. I thought that would be the default, but apparently not. \r\n\r\n    @JoinColumn(name = &quot;item_id&quot;, referencedColumnName = &quot;id&quot;)\r\n\tprivate Item item;\r\n\r\nIf anyone knows why this was needed to get things working, please let me know.","title":"JPA OneToOne relation doesnt persist child entity when saving parent","body":"<p>Seems like I finally got it to work, for some reason when I provided the <strong>referencedColumnName</strong> it started working. I thought that would be the default, but apparently not.</p>\n<pre><code>@JoinColumn(name = &quot;item_id&quot;, referencedColumnName = &quot;id&quot;)\nprivate Item item;\n</code></pre>\n<p>If anyone knows why this was needed to get things working, please let me know.</p>\n"}],"owner":{"account_id":12662835,"reputation":71,"user_id":9203135,"display_name":"Jssson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":756,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665052030,"creation_date":1665044186,"question_id":73970601,"body_markdown":"I&#39;m having problems with automatically persisting my child entity when persisting the parent. I have followed guides etc but can&#39;t seem to find where I&#39;m making a mistake.\r\n\r\nI have the following entities:\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;mp_item&quot;)\r\n    public class Item {\r\n\r\n\t@BatchFetch(value = BatchFetchType.JOIN)\r\n\t@OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;item&quot;, cascade = CascadeType.ALL)\r\n\tprivate ItemGroupSuggestion itemGroupSuggestion; \r\n    }\r\n\r\n\r\nChild:\r\n\r\n   \r\n\r\n     @Entity\r\n    @Table(name = &quot;mp_itemgroup_suggestion&quot;)\r\n    public class ItemGroupSuggestion  {\r\n\r\n\t@OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n\t@JoinColumn(name = &quot;item_id&quot;)\r\n\tprivate Item item;\r\n\r\n\t\r\nWhen creating a suggestion I am setting the reference to the parent, and in the parent the reference to the child, like this:\r\n\r\n    ItemGroupSuggestion suggestion = new ItemGroupSuggestion(item, itemgroups, nearestItem);\r\n    // sets this.item = item inside constructor of ItemGroupSuggestion\r\n    item.setItemGroupSuggestion(suggestion);\r\n\r\n\r\n\r\nAfter setting the references, I do a batch-save:\r\n\r\n    itemService.saveAll(items);\r\n\r\nWhy are the children not getting persisted?\r\n\r\n\r\n\r\n","title":"JPA OneToOne relation doesnt persist child entity when saving parent","body":"<p>I'm having problems with automatically persisting my child entity when persisting the parent. I have followed guides etc but can't seem to find where I'm making a mistake.</p>\n<p>I have the following entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;mp_item&quot;)\npublic class Item {\n\n@BatchFetch(value = BatchFetchType.JOIN)\n@OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;item&quot;, cascade = CascadeType.ALL)\nprivate ItemGroupSuggestion itemGroupSuggestion; \n}\n</code></pre>\n<p>Child:</p>\n<pre><code> @Entity\n@Table(name = &quot;mp_itemgroup_suggestion&quot;)\npublic class ItemGroupSuggestion  {\n\n@OneToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;item_id&quot;)\nprivate Item item;\n</code></pre>\n<p>When creating a suggestion I am setting the reference to the parent, and in the parent the reference to the child, like this:</p>\n<pre><code>ItemGroupSuggestion suggestion = new ItemGroupSuggestion(item, itemgroups, nearestItem);\n// sets this.item = item inside constructor of ItemGroupSuggestion\nitem.setItemGroupSuggestion(suggestion);\n</code></pre>\n<p>After setting the references, I do a batch-save:</p>\n<pre><code>itemService.saveAll(items);\n</code></pre>\n<p>Why are the children not getting persisted?</p>\n"},{"tags":["java","digest-authentication"],"comments":[{"owner":{"account_id":16927701,"reputation":61,"user_id":12242894,"display_name":"Oussama Abouzid"},"score":0,"creation_date":1661435817,"post_id":73484721,"comment_id":129776173,"body_markdown":"any solution about this issue, I tried to create a header with authorization key but it did not work","body":"any solution about this issue, I tried to create a header with authorization key but it did not work"},{"owner":{"account_id":6921189,"reputation":1490,"user_id":5313817,"display_name":"Rishal"},"score":0,"creation_date":1664521501,"post_id":73484721,"comment_id":130495088,"body_markdown":"Can you give more elaboration on &#39;header like postman&#39; part ?","body":"Can you give more elaboration on &#39;header like postman&#39; part ?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1664616675,"post_id":73484721,"comment_id":130515748,"body_markdown":"If you&#39;re talking about [this](https://en.wikipedia.org/wiki/Digest_access_authentication), you should have a realm and a nonce too. Is it the case?","body":"If you&#39;re talking about <a href=\"https://en.wikipedia.org/wiki/Digest_access_authentication\" rel=\"nofollow noreferrer\">this</a>, you should have a realm and a nonce too. Is it the case?"}],"answers":[{"tags":[],"owner":{"account_id":1332279,"reputation":337,"user_id":1275904,"display_name":"forrestg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664964739,"creation_date":1664964739,"answer_id":73958900,"question_id":73484721,"body_markdown":"There&#39;re two key points, one is calculate the auth key, the other is pass key in request header. Depending on the service authentication method, you can read documentation of the service to do the calculation. I focus on later part, that you can pass the key in header like below:\r\n\r\n    import org.apache.hc.client5.http.classic.HttpClient;\r\n    import org.apache.hc.client5.http.classic.methods.HttpPost;\r\n    import org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\r\n    import org.apache.hc.client5.http.impl.classic.CloseableHttpResponse;\r\n    import org.apache.hc.client5.http.impl.classic.HttpClients;\r\n    import org.apache.hc.core5.http.ContentType;\r\n    import org.apache.hc.core5.http.HttpEntity;\r\n    import org.apache.hc.core5.http.io.entity.StringEntity;\r\n    \r\n    public void post() throws IOException {\r\n\t\tCloseableHttpClient httpClient = HttpClients.createDefault();\r\n\t\tString url = &quot;http://127.0.0.1:5050/vaccine/report&quot;;\r\n\t\tHttpPost post = new HttpPost(url);\r\n\t\tpost.addHeader(&quot;x-auth-token&quot;, &quot;computed value&quot;);\r\n\t\tString body = &quot;{\\n&quot; +\r\n\t\t\t\t&quot;    \\&quot;siteId\\&quot;:3,\\n&quot; +\r\n\t\t\t\t&quot;    \\&quot;injectCount\\&quot;:3,\\n&quot; +\r\n\t\t\t\t&quot;    \\&quot;email\\&quot;:\\&quot;yanghe@xyz.com\\&quot;\\n&quot; +\r\n\t\t\t\t&quot;}&quot;;\r\n\t\tHttpEntity entity = new StringEntity(body, ContentType.APPLICATION_JSON);\r\n\t\tpost.setEntity(entity);\r\n\r\n\t\tCloseableHttpResponse response = httpClient.execute(post);\r\n\r\n\t\tSystem.out.println(&quot;response code: &quot;+ response.getCode());\r\n\r\n\t\t\r\n\t}\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents.client5/httpclient5 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Create digest auth header","body":"<p>There're two key points, one is calculate the auth key, the other is pass key in request header. Depending on the service authentication method, you can read documentation of the service to do the calculation. I focus on later part, that you can pass the key in header like below:</p>\n<pre><code>import org.apache.hc.client5.http.classic.HttpClient;\nimport org.apache.hc.client5.http.classic.methods.HttpPost;\nimport org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\nimport org.apache.hc.client5.http.impl.classic.CloseableHttpResponse;\nimport org.apache.hc.client5.http.impl.classic.HttpClients;\nimport org.apache.hc.core5.http.ContentType;\nimport org.apache.hc.core5.http.HttpEntity;\nimport org.apache.hc.core5.http.io.entity.StringEntity;\n\npublic void post() throws IOException {\n    CloseableHttpClient httpClient = HttpClients.createDefault();\n    String url = &quot;http://127.0.0.1:5050/vaccine/report&quot;;\n    HttpPost post = new HttpPost(url);\n    post.addHeader(&quot;x-auth-token&quot;, &quot;computed value&quot;);\n    String body = &quot;{\\n&quot; +\n            &quot;    \\&quot;siteId\\&quot;:3,\\n&quot; +\n            &quot;    \\&quot;injectCount\\&quot;:3,\\n&quot; +\n            &quot;    \\&quot;email\\&quot;:\\&quot;yanghe@xyz.com\\&quot;\\n&quot; +\n            &quot;}&quot;;\n    HttpEntity entity = new StringEntity(body, ContentType.APPLICATION_JSON);\n    post.setEntity(entity);\n\n    CloseableHttpResponse response = httpClient.execute(post);\n\n    System.out.println(&quot;response code: &quot;+ response.getCode());\n\n    \n}\n\n&lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents.client5/httpclient5 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n        &lt;version&gt;5.1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10500127,"reputation":1609,"user_id":7739083,"display_name":"Stempler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665051931,"creation_date":1665051542,"answer_id":73972202,"question_id":73484721,"body_markdown":"No example like the [source example][1]. If you want to use request headers:\r\n\r\n1. Select the API Key option from the list in the request Authorization tab\r\n2. Enter your key in the dialogue box in front of Key.\r\n3. Enter the value corresponding to your key in the dialogue box in front of value.\r\n4. Select between Header and Query params from the list.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n This is what the `Postman` team are saying:\r\n\r\n\r\n\r\n&gt; &quot;This method of authorization is a little more complex than the\r\n&gt; methods mentioned above. In this method, the server sends some details\r\n&gt; when a client sends the first request to the API. During this time,\r\n&gt; the server generates an encrypted string using this passed data and\r\n&gt; stores it for future purposes. This data contains a nonce field ( a\r\n&gt; number that you can use only one time), other few details, and a 401\r\n&gt; unauthorized response.\r\n&gt; \r\n&gt; After receiving these details from the server, send an array of\r\n&gt; data(encrypted), which also contains username and password and the\r\n&gt; data that the server sent you in the first place.\r\n&gt; \r\n&gt; \r\n&gt; When you send the second request, the server matches the stored\r\n&gt; encrypted string with the data you sent in your request and decides\r\n&gt; whether to authenticate you.   Select Digest Auth from the dropdown\r\n&gt; list in the Authorization section of a request to use this method.&quot;\r\n\r\nAnd they provide exactly how to enter a digest request on Postman:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://www.codingninjas.com/codestudio/library/authorization-types-in-postman-including-no-auth-basic-auth-digest-auth-bearer-token-oauth\r\n  [2]: https://i.stack.imgur.com/sQmiE.png\r\n  [3]: https://i.stack.imgur.com/Tuio5.png","title":"Create digest auth header","body":"<p>No example like the <a href=\"https://www.codingninjas.com/codestudio/library/authorization-types-in-postman-including-no-auth-basic-auth-digest-auth-bearer-token-oauth\" rel=\"nofollow noreferrer\">source example</a>. If you want to use request headers:</p>\n<ol>\n<li>Select the API Key option from the list in the request Authorization tab</li>\n<li>Enter your key in the dialogue box in front of Key.</li>\n<li>Enter the value corresponding to your key in the dialogue box in front of value.</li>\n<li>Select between Header and Query params from the list.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/sQmiE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sQmiE.png\" alt=\"enter image description here\" /></a></p>\n<p>This is what the <code>Postman</code> team are saying:</p>\n<blockquote>\n<p>&quot;This method of authorization is a little more complex than the\nmethods mentioned above. In this method, the server sends some details\nwhen a client sends the first request to the API. During this time,\nthe server generates an encrypted string using this passed data and\nstores it for future purposes. This data contains a nonce field ( a\nnumber that you can use only one time), other few details, and a 401\nunauthorized response.</p>\n<p>After receiving these details from the server, send an array of\ndata(encrypted), which also contains username and password and the\ndata that the server sent you in the first place.</p>\n<p>When you send the second request, the server matches the stored\nencrypted string with the data you sent in your request and decides\nwhether to authenticate you.   Select Digest Auth from the dropdown\nlist in the Authorization section of a request to use this method.&quot;</p>\n</blockquote>\n<p>And they provide exactly how to enter a digest request on Postman:</p>\n<p><a href=\"https://i.stack.imgur.com/Tuio5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tuio5.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16927701,"reputation":61,"user_id":12242894,"display_name":"Oussama Abouzid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":790,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1665051931,"creation_date":1661418020,"question_id":73484721,"body_markdown":"I want to create a header in order to get a resource from a web service which is protected by a digest auth, I have the login and password but I did not find the right way to create this header like postman.","title":"Create digest auth header","body":"<p>I want to create a header in order to get a resource from a web service which is protected by a digest auth, I have the login and password but I did not find the right way to create this header like postman.</p>\n"},{"tags":["java","spring","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":1133506,"reputation":591,"user_id":1119046,"accept_rate":80,"display_name":"Nazar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380291829,"creation_date":1380291829,"answer_id":19053187,"question_id":16166951,"body_markdown":"If you are using MSSQL please add such Quartz Properties to the SchedulerFactoryBean:\r\n\r\n    org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.MSSQLDelegate\r\n    org.quartz.jobStore.selectWithLockSQL=select lock_name from {0}locks with (updlock,rowlock) where lock_name=?","title":"Error creating bean with name &#39;org.springframework.scheduling.quartz.SchedulerFactoryBean#0&#39;","body":"<p>If you are using MSSQL please add such Quartz Properties to the SchedulerFactoryBean:</p>\n\n<pre><code>org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.MSSQLDelegate\norg.quartz.jobStore.selectWithLockSQL=select lock_name from {0}locks with (updlock,rowlock) where lock_name=?\n</code></pre>\n"}],"owner":{"account_id":2084143,"reputation":265,"user_id":1855466,"accept_rate":36,"display_name":"Swapnil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4841,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665051918,"creation_date":1366712710,"question_id":16166951,"body_markdown":"I am using Spring 3.0.5 and Quartz 1.8.3 and I am getting exceptions in SchedulerFactoryBean\r\nCan someone help me with this? with Quartz 1.8.6 also its not working\r\n\r\nI have following configuration\r\n\r\n    &lt;bean name=&quot;dailyScheduleBean&quot; class=&quot;com.abc.quartz.ComputeAndScheduleAlert&quot; /&gt;\r\n\r\n\r\n\t&lt;bean id=&quot;dailyQuartzJob&quot;\r\n\t\tclass=&quot;org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;targetObject&quot; ref=&quot;dailyScheduleBean&quot; /&gt;\r\n\t\t&lt;property name=&quot;targetMethod&quot; value=&quot;computeScheduleAlert&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;bean id=&quot;simpleTrigger&quot; class=&quot;org.springframework.scheduling.quartz.SimpleTriggerBean&quot;&gt;\r\n    &lt;!-- see the example of method invoking job above --&gt;\r\n    &lt;property name=&quot;jobDetail&quot; ref=&quot;dailyQuartzJob&quot; /&gt;\r\n    &lt;!-- 10 seconds --&gt;\r\n    &lt;property name=&quot;startDelay&quot; value=&quot;10000&quot; /&gt;\r\n    &lt;!-- repeat every 50 seconds --&gt;\r\n    &lt;property name=&quot;repeatInterval&quot; value=&quot;50000&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;dailyTrigger&quot; class=&quot;org.springframework.scheduling.quartz.CronTriggerBean&quot;&gt;\r\n\t\t&lt;property name=&quot;jobDetail&quot; ref=&quot;dailyQuartzJob&quot; /&gt;\r\n\t\t&lt;!-- run every morning at 00:05 AM CST --&gt;\r\n\t\t&lt;property name=&quot;cronExpression&quot; value=&quot;0 05 11 ? JAN-DEC SUN-SAT&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean class=&quot;org.springframework.scheduling.quartz.SchedulerFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;triggers&quot;&gt;\r\n\t\t\t&lt;list&gt;\t\t\t\r\n \t\t\t\t&lt;ref bean=&quot;dailyTrigger&quot; /&gt;  \t\t\t\t\r\n \t\t\t\t&lt;ref bean=&quot;simpleTrigger&quot; /&gt; \r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n==============================================================================================================\r\n\r\nFollowing is Full Stack Trace\r\n\r\n    %[main] ERROR org.springframework.web.servlet.DispatcherServlet  - Context initialization failed\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.scheduling.quartz.SchedulerFactoryBean#0&#39; defined in ServletContext resource [/WEB-INF/hmpn-mvc-dispatcher-servlet.xml]: Invocation of init method failed; nested exception is org.quartz.SchedulerConfigException: Failure occured during job recovery. [See nested exception: org.quartz.impl.jdbcjobstore.LockException: Failure obtaining db row lock: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR. [See nested exception: java.sql.SQLException: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR.]]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1420)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:563)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:895)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:425)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:442)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:458)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:339)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:306)\r\n    \tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:127)\r\n    \tat javax.servlet.GenericServlet.init(GenericServlet.java:212)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1173)\r\n    \tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:993)\r\n    \tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4420)\r\n    \tat org.apache.catalina.core.StandardContext.start(StandardContext.java:4733)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:799)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:779)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:601)\r\n    \tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:943)\r\n    \tat org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:778)\r\n    \tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:504)\r\n    \tat org.apache.catalina.startup.HostConfig.start(HostConfig.java:1315)\r\n    \tat org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:324)\r\n    \tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:142)\r\n    \tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1061)\r\n    \tat org.apache.catalina.core.StandardHost.start(StandardHost.java:840)\r\n    \tat org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)\r\n    \tat org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)\r\n    \tat org.apache.catalina.core.StandardService.start(StandardService.java:525)\r\n    \tat org.apache.catalina.core.StandardServer.start(StandardServer.java:754)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:595)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:601)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\r\n    Caused by: org.quartz.SchedulerConfigException: Failure occured during job recovery. [See nested exception: org.quartz.impl.jdbcjobstore.LockException: Failure obtaining db row lock: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR. [See nested exception: java.sql.SQLException: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR.]]\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.initialize(JobStoreSupport.java:607)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreCMT.initialize(JobStoreCMT.java:142)\r\n    \tat org.springframework.scheduling.quartz.LocalDataSourceJobStore.initialize(LocalDataSourceJobStore.java:151)\r\n    \tat org.quartz.impl.StdSchedulerFactory.instantiate(StdSchedulerFactory.java:1269)\r\n    \tat org.quartz.impl.StdSchedulerFactory.getScheduler(StdSchedulerFactory.java:1460)\r\n    \tat org.springframework.scheduling.quartz.SchedulerFactoryBean.createScheduler(SchedulerFactoryBean.java:600)\r\n    \tat org.springframework.scheduling.quartz.SchedulerFactoryBean.afterPropertiesSet(SchedulerFactoryBean.java:481)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1477)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1417)\r\n    \t... 41 more\r\n    Caused by: org.quartz.impl.jdbcjobstore.LockException: Failure obtaining db row lock: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR. [See nested exception: java.sql.SQLException: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR.]\r\n    \tat org.quartz.impl.jdbcjobstore.StdRowLockSemaphore.executeSQL(StdRowLockSemaphore.java:109)\r\n    \tat org.quartz.impl.jdbcjobstore.DBSemaphore.obtainLock(DBSemaphore.java:112)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInNonManagedTXLock(JobStoreSupport.java:3756)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInNonManagedTXLock(JobStoreSupport.java:3725)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.cleanVolatileTriggerAndJobs(JobStoreSupport.java:747)\r\n    \tat org.quartz.impl.jdbcjobstore.JobStoreSupport.initialize(JobStoreSupport.java:605)\r\n    \t... 49 more\r\n    Caused by: java.sql.SQLException: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR.\r\n    \tat net.sourceforge.jtds.jdbc.SQLDiagnostic.addDiagnostic(SQLDiagnostic.java:368)\r\n    \tat net.sourceforge.jtds.jdbc.TdsCore.tdsErrorToken(TdsCore.java:2820)\r\n    \tat net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2258)\r\n    \tat net.sourceforge.jtds.jdbc.TdsCore.getMoreResults(TdsCore.java:632)\r\n    \tat net.sourceforge.jtds.jdbc.JtdsStatement.executeSQLQuery(JtdsStatement.java:477)\r\n    \tat net.sourceforge.jtds.jdbc.JtdsPreparedStatement.executeQuery(JtdsPreparedStatement.java:776)\r\n    \tat org.quartz.impl.jdbcjobstore.StdRowLockSemaphore.executeSQL(StdRowLockSemaphore.java:89)\r\n    \t... 54 more\r\n    %[org.springframework.scheduling.quartz.SchedulerFactoryBean#0_Worker-5] DEBUG org.quartz.simpl.SimpleThreadPool  - WorkerThread is shut down.\r\n    %[org.springframework.scheduling.quartz.SchedulerFactoryBean#0_Worker-8] DEBUG org.quartz.simpl.SimpleThreadPool  - WorkerThread is shut down.\r\n    %[org.springframework.scheduling.quartz.SchedulerFactoryBean#0_Worker-4] DEBUG org.quartz.simpl.SimpleThreadPool  - \r\n    WorkerThread is shut down.\r\n","title":"Error creating bean with name &#39;org.springframework.scheduling.quartz.SchedulerFactoryBean#0&#39;","body":"<p>I am using Spring 3.0.5 and Quartz 1.8.3 and I am getting exceptions in SchedulerFactoryBean\nCan someone help me with this? with Quartz 1.8.6 also its not working</p>\n\n<p>I have following configuration</p>\n\n<pre><code>&lt;bean name=\"dailyScheduleBean\" class=\"com.abc.quartz.ComputeAndScheduleAlert\" /&gt;\n\n\n&lt;bean id=\"dailyQuartzJob\"\n    class=\"org.springframework.scheduling.quartz.MethodInvokingJobDetailFactoryBean\"&gt;\n    &lt;property name=\"targetObject\" ref=\"dailyScheduleBean\" /&gt;\n    &lt;property name=\"targetMethod\" value=\"computeScheduleAlert\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"simpleTrigger\" class=\"org.springframework.scheduling.quartz.SimpleTriggerBean\"&gt;\n&lt;!-- see the example of method invoking job above --&gt;\n&lt;property name=\"jobDetail\" ref=\"dailyQuartzJob\" /&gt;\n&lt;!-- 10 seconds --&gt;\n&lt;property name=\"startDelay\" value=\"10000\" /&gt;\n&lt;!-- repeat every 50 seconds --&gt;\n&lt;property name=\"repeatInterval\" value=\"50000\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"dailyTrigger\" class=\"org.springframework.scheduling.quartz.CronTriggerBean\"&gt;\n    &lt;property name=\"jobDetail\" ref=\"dailyQuartzJob\" /&gt;\n    &lt;!-- run every morning at 00:05 AM CST --&gt;\n    &lt;property name=\"cronExpression\" value=\"0 05 11 ? JAN-DEC SUN-SAT\" /&gt;\n&lt;/bean&gt;\n&lt;bean class=\"org.springframework.scheduling.quartz.SchedulerFactoryBean\"&gt;\n    &lt;property name=\"triggers\"&gt;\n        &lt;list&gt;          \n            &lt;ref bean=\"dailyTrigger\" /&gt;                 \n            &lt;ref bean=\"simpleTrigger\" /&gt; \n        &lt;/list&gt;\n    &lt;/property&gt;\n</code></pre>\n\n<h1>    </h1>\n\n<p>Following is Full Stack Trace</p>\n\n<pre><code>%[main] ERROR org.springframework.web.servlet.DispatcherServlet  - Context initialization failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.scheduling.quartz.SchedulerFactoryBean#0' defined in ServletContext resource [/WEB-INF/hmpn-mvc-dispatcher-servlet.xml]: Invocation of init method failed; nested exception is org.quartz.SchedulerConfigException: Failure occured during job recovery. [See nested exception: org.quartz.impl.jdbcjobstore.LockException: Failure obtaining db row lock: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR. [See nested exception: java.sql.SQLException: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR.]]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1420)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:190)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:563)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:895)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:425)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:442)\n    at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:458)\n    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:339)\n    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:306)\n    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:127)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:212)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1173)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:993)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4420)\n    at org.apache.catalina.core.StandardContext.start(StandardContext.java:4733)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:799)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:779)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:601)\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:943)\n    at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:778)\n    at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:504)\n    at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1315)\n    at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:324)\n    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:142)\n    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1061)\n    at org.apache.catalina.core.StandardHost.start(StandardHost.java:840)\n    at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1053)\n    at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:463)\n    at org.apache.catalina.core.StandardService.start(StandardService.java:525)\n    at org.apache.catalina.core.StandardServer.start(StandardServer.java:754)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:595)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:601)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414)\nCaused by: org.quartz.SchedulerConfigException: Failure occured during job recovery. [See nested exception: org.quartz.impl.jdbcjobstore.LockException: Failure obtaining db row lock: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR. [See nested exception: java.sql.SQLException: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR.]]\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.initialize(JobStoreSupport.java:607)\n    at org.quartz.impl.jdbcjobstore.JobStoreCMT.initialize(JobStoreCMT.java:142)\n    at org.springframework.scheduling.quartz.LocalDataSourceJobStore.initialize(LocalDataSourceJobStore.java:151)\n    at org.quartz.impl.StdSchedulerFactory.instantiate(StdSchedulerFactory.java:1269)\n    at org.quartz.impl.StdSchedulerFactory.getScheduler(StdSchedulerFactory.java:1460)\n    at org.springframework.scheduling.quartz.SchedulerFactoryBean.createScheduler(SchedulerFactoryBean.java:600)\n    at org.springframework.scheduling.quartz.SchedulerFactoryBean.afterPropertiesSet(SchedulerFactoryBean.java:481)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1477)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1417)\n    ... 41 more\nCaused by: org.quartz.impl.jdbcjobstore.LockException: Failure obtaining db row lock: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR. [See nested exception: java.sql.SQLException: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR.]\n    at org.quartz.impl.jdbcjobstore.StdRowLockSemaphore.executeSQL(StdRowLockSemaphore.java:109)\n    at org.quartz.impl.jdbcjobstore.DBSemaphore.obtainLock(DBSemaphore.java:112)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInNonManagedTXLock(JobStoreSupport.java:3756)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.executeInNonManagedTXLock(JobStoreSupport.java:3725)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.cleanVolatileTriggerAndJobs(JobStoreSupport.java:747)\n    at org.quartz.impl.jdbcjobstore.JobStoreSupport.initialize(JobStoreSupport.java:605)\n    ... 49 more\nCaused by: java.sql.SQLException: Line 1: FOR UPDATE clause allowed only for DECLARE CURSOR.\n    at net.sourceforge.jtds.jdbc.SQLDiagnostic.addDiagnostic(SQLDiagnostic.java:368)\n    at net.sourceforge.jtds.jdbc.TdsCore.tdsErrorToken(TdsCore.java:2820)\n    at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2258)\n    at net.sourceforge.jtds.jdbc.TdsCore.getMoreResults(TdsCore.java:632)\n    at net.sourceforge.jtds.jdbc.JtdsStatement.executeSQLQuery(JtdsStatement.java:477)\n    at net.sourceforge.jtds.jdbc.JtdsPreparedStatement.executeQuery(JtdsPreparedStatement.java:776)\n    at org.quartz.impl.jdbcjobstore.StdRowLockSemaphore.executeSQL(StdRowLockSemaphore.java:89)\n    ... 54 more\n%[org.springframework.scheduling.quartz.SchedulerFactoryBean#0_Worker-5] DEBUG org.quartz.simpl.SimpleThreadPool  - WorkerThread is shut down.\n%[org.springframework.scheduling.quartz.SchedulerFactoryBean#0_Worker-8] DEBUG org.quartz.simpl.SimpleThreadPool  - WorkerThread is shut down.\n%[org.springframework.scheduling.quartz.SchedulerFactoryBean#0_Worker-4] DEBUG org.quartz.simpl.SimpleThreadPool  - \nWorkerThread is shut down.\n</code></pre>\n"},{"tags":["java","recursion","tree","stack-overflow"],"answers":[{"comments":[{"owner":{"account_id":2843069,"reputation":349,"user_id":2442218,"display_name":"MattArmstrong"},"score":0,"creation_date":1665050752,"post_id":46683509,"comment_id":130610530,"body_markdown":"You can always transform recursion to a loop but must often also use a stack.  Since the stack overflow here is a problem, a naive translation of a recursive algorithm into a stack based loop may also run into memory problems.  The root issue is that splay trees can become arbitrarily unbalanced.","body":"You can always transform recursion to a loop but must often also use a stack.  Since the stack overflow here is a problem, a naive translation of a recursive algorithm into a stack based loop may also run into memory problems.  The root issue is that splay trees can become arbitrarily unbalanced."}],"tags":[],"owner":{"account_id":2976774,"reputation":500,"user_id":2527678,"display_name":"Sorontur"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507710834,"creation_date":1507710834,"answer_id":46683509,"question_id":46683166,"body_markdown":"Your poblem is the recursive algorithm. As you figured out there is a limit in the stack size, which is build when you have recursion.\r\n\r\nYou can always transform recursion to a loop. \r\n\r\nhere are some examples for DFS and BFS algorithms using loops: https://stackoverflow.com/questions/5278580/non-recursive-depth-first-search-algorithm ","title":"StackOverFlow Error when converting 1,000,000 Nodes in a Splay Tree to a SinglyLinkedList","body":"<p>Your poblem is the recursive algorithm. As you figured out there is a limit in the stack size, which is build when you have recursion.</p>\n\n<p>You can always transform recursion to a loop. </p>\n\n<p>here are some examples for DFS and BFS algorithms using loops: <a href=\"https://stackoverflow.com/questions/5278580/non-recursive-depth-first-search-algorithm\">Non recursive Depth first search algorithm</a> </p>\n"},{"tags":[],"owner":{"account_id":10300271,"reputation":612,"user_id":7599197,"display_name":"niemar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507711125,"creation_date":1507711125,"answer_id":46683600,"question_id":46683166,"body_markdown":"You can increase the stacks size. To do it you have to pass parameter to the jvm.\r\nThe format is -Xss&lt;size&gt;[g|G|m|M|k|K].\r\nFor example: java -Xss4m YourTreeProgram","title":"StackOverFlow Error when converting 1,000,000 Nodes in a Splay Tree to a SinglyLinkedList","body":"<p>You can increase the stacks size. To do it you have to pass parameter to the jvm.\nThe format is -Xss[g|G|m|M|k|K].\nFor example: java -Xss4m YourTreeProgram</p>\n"},{"tags":[],"owner":{"account_id":2843069,"reputation":349,"user_id":2442218,"display_name":"MattArmstrong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665051253,"creation_date":1665051253,"answer_id":73972142,"question_id":46683166,"body_markdown":"The root issue is that splay trees can have a height equal to their node count, so the recursive algorithms you often see applied to binary trees are risky when applied to splay trees.\r\n\r\nThe easiest approach is to splay the tree as you go.\r\n\r\n1. Find the tree&#39;s minimum node.  Simply follow the &quot;left&quot; links from the root all the way until they are null.  Splay this node to the root, then add it to your list.\r\n2. Find its successor.  I.e. follow the root&#39;s &quot;right&quot; link once, then follow &quot;left&quot; repeatedly until null.  Splay that node to the root, then add it to your list.\r\n3. Repeat step 2 until there is no successor (i.e. the root&#39;s &quot;right&quot; link is null).\r\n\r\nFinding the minimum and successor nodes are no different from other kinds of trees.","title":"StackOverFlow Error when converting 1,000,000 Nodes in a Splay Tree to a SinglyLinkedList","body":"<p>The root issue is that splay trees can have a height equal to their node count, so the recursive algorithms you often see applied to binary trees are risky when applied to splay trees.</p>\n<p>The easiest approach is to splay the tree as you go.</p>\n<ol>\n<li>Find the tree's minimum node.  Simply follow the &quot;left&quot; links from the root all the way until they are null.  Splay this node to the root, then add it to your list.</li>\n<li>Find its successor.  I.e. follow the root's &quot;right&quot; link once, then follow &quot;left&quot; repeatedly until null.  Splay that node to the root, then add it to your list.</li>\n<li>Repeat step 2 until there is no successor (i.e. the root's &quot;right&quot; link is null).</li>\n</ol>\n<p>Finding the minimum and successor nodes are no different from other kinds of trees.</p>\n"}],"owner":{"account_id":11968199,"reputation":113,"user_id":8757299,"display_name":"Yanzal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1665051253,"creation_date":1507709777,"question_id":46683166,"body_markdown":"I have implemented a Splay Tree class that uses nodes to store data. In this class I have tried to convert the data of nodes into a Singly Linked List. 1,000,000 nodes can be inserted into the splay tree and it works perfectly. Using recursion I get a StackOverFlow error when the tree contains 1,000,000 nodes. However when the tree contains around 15000 nodes it is able to be converted to a linked list without a problem.\r\n\r\nHere is the code for my toList Method that is inside the splay tree class\r\n\r\n    public LinkedList&lt;Node&gt; toList() {\r\n\r\n       LinkedList&lt;Node&gt; list = new LinkedList&lt;Node&gt;();\r\n       Node node = root;\r\n       addToList(node, list);\r\n\r\n       return list;\r\n    }\r\n\r\n    private void addToList(Node node, LinkedList&lt;Node&gt; list) {\r\n       if(node != null) {\r\n          addToList(node.left, list);\r\n          list.add(node);\r\n          addToList(node.right, list);\r\n       }\r\n    }\r\n\r\nI used this test class below to test the function of this method\r\n\r\n    @Test\r\n    public void testConversionToLinkedList {\r\n       SplayTree&lt;Integer,String&gt; st = new SplayTree&lt;Integer,String&gt;();\r\n       for(int i = 0; i &lt; 1000000; i++) {\r\n          st.insert(i, Integer.toString(i));\r\n       }\r\n       assertEquals(1000000, st.size());\r\n       \r\n       LinkedList&lt;Node&gt; list = st.toList();\r\n       assertEquals(1000000, list.size());\r\n    }\r\n\r\n  The test passes when the size entered is around 15000, however any number greater than that will show a StackOverFlowError\r\n\r\nThe error occurs at the line `addToList(node.left, list);`\r\n\r\nThis is really weird because when i used the same recursion technique to print the data of the nodes into a txt file, there is no StackOverFlow error and the data prints perfectly.\r\n\r\nI have tried to use In Order Traversal, PreOrder and PostOrder but I still receive the same error at 1,000,000 nodes. I do know that it could be doing recursion too deeply and the stack runs out of memory. If that is the case is there any way I can convert a splay tree of nodes into a linked list?\r\nAny idea what could be going wrong? cheers","title":"StackOverFlow Error when converting 1,000,000 Nodes in a Splay Tree to a SinglyLinkedList","body":"<p>I have implemented a Splay Tree class that uses nodes to store data. In this class I have tried to convert the data of nodes into a Singly Linked List. 1,000,000 nodes can be inserted into the splay tree and it works perfectly. Using recursion I get a StackOverFlow error when the tree contains 1,000,000 nodes. However when the tree contains around 15000 nodes it is able to be converted to a linked list without a problem.</p>\n\n<p>Here is the code for my toList Method that is inside the splay tree class</p>\n\n<pre><code>public LinkedList&lt;Node&gt; toList() {\n\n   LinkedList&lt;Node&gt; list = new LinkedList&lt;Node&gt;();\n   Node node = root;\n   addToList(node, list);\n\n   return list;\n}\n\nprivate void addToList(Node node, LinkedList&lt;Node&gt; list) {\n   if(node != null) {\n      addToList(node.left, list);\n      list.add(node);\n      addToList(node.right, list);\n   }\n}\n</code></pre>\n\n<p>I used this test class below to test the function of this method</p>\n\n<pre><code>@Test\npublic void testConversionToLinkedList {\n   SplayTree&lt;Integer,String&gt; st = new SplayTree&lt;Integer,String&gt;();\n   for(int i = 0; i &lt; 1000000; i++) {\n      st.insert(i, Integer.toString(i));\n   }\n   assertEquals(1000000, st.size());\n\n   LinkedList&lt;Node&gt; list = st.toList();\n   assertEquals(1000000, list.size());\n}\n</code></pre>\n\n<p>The test passes when the size entered is around 15000, however any number greater than that will show a StackOverFlowError</p>\n\n<p>The error occurs at the line <code>addToList(node.left, list);</code></p>\n\n<p>This is really weird because when i used the same recursion technique to print the data of the nodes into a txt file, there is no StackOverFlow error and the data prints perfectly.</p>\n\n<p>I have tried to use In Order Traversal, PreOrder and PostOrder but I still receive the same error at 1,000,000 nodes. I do know that it could be doing recursion too deeply and the stack runs out of memory. If that is the case is there any way I can convert a splay tree of nodes into a linked list?\nAny idea what could be going wrong? cheers</p>\n"},{"tags":["java","android","kotlin","augmented-reality","arcore"],"answers":[{"comments":[{"owner":{"account_id":15138562,"reputation":63,"user_id":10924307,"display_name":"Kiran George"},"score":1,"creation_date":1665053171,"post_id":73971855,"comment_id":130611385,"body_markdown":"What&#39;s the computer vision library it is using. I&#39;m unable to import those:\n\nimport com.google.ar.core.examples.java.computervision.rendering.BackgroundRenderer;","body":"What&#39;s the computer vision library it is using. I&#39;m unable to import those:  import com.google.ar.core.examples.java.computervision.rendering.Ba&zwnj;&#8203;ckgroundRenderer;"},{"owner":{"account_id":8834917,"reputation":50835,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"score":0,"creation_date":1665072743,"post_id":73971855,"comment_id":130619187,"body_markdown":"`computervision` is the name of the project (not the name of a library). Also, it&#39;s hard to tell what renderer was used. But its setup is here  https://chromium.googlesource.com/external/github.com/google-ar/arcore-android-sdk/+/refs/tags/v1.0.0/samples/computervision/app/src/main/java/com/google/ar/core/examples/java/computervision/rendering/BackgroundRenderer.java","body":"<code>computervision</code> is the name of the project (not the name of a library). Also, it&#39;s hard to tell what renderer was used. But its setup is here  <a href=\"https://chromium.googlesource.com/external/github.com/google-ar/arcore-android-sdk/+/refs/tags/v1.0.0/samples/computervision/app/src/main/java/com/google/ar/core/examples/java/computervision/rendering/BackgroundRenderer.java\" rel=\"nofollow noreferrer\">chromium.googlesource.com/external/github.com/google-ar/&hellip;</a>"}],"tags":[],"owner":{"account_id":8834917,"reputation":50835,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665051203,"creation_date":1665049988,"answer_id":73971855,"question_id":73970615,"body_markdown":"I&#39;ve found an example demonstrating ARCore texture&#39;s reading app that implements `GLSurfaceView` and its renderer. Due to the fact that the code takes almost 300 lines, I&#39;m posting a [link][1] to it.\r\n\r\n    class MainActivity extends AppCompatActivity implements GLSurfaceView.Renderer {\r\n\r\n        private GLSurfaceView surfaceView;\r\n        private Session session;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            surfaceView = (GLSurfaceView) findViewById(R.id.surfaceview);\r\n\r\n            // some code...\r\n\r\n            surfaceView.setRenderer(this);\r\n            surfaceView.setRenderMode(GLSurfaceView.RENDERMODE_CONTINUOUSLY);\r\n        }\r\n\r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n\r\n            if (session == null) {\r\n                if (!CameraPermissionHelper.hasCameraPermission(this)) {\r\n                    CameraPermissionHelper.requestCameraPermission(this);\r\n                    return;\r\n                }\r\n                session = new Session(/* some context= */ this);\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: https://chromium.googlesource.com/external/github.com/google-ar/arcore-android-sdk/+/refs/tags/v1.0.0/samples/computervision/app/src/main/java/com/google/ar/core/examples/java/computervision/MainActivity.java","title":"How to use SurfaceView in ARCore to get the Pose of the camera","body":"<p>I've found an example demonstrating ARCore texture's reading app that implements <code>GLSurfaceView</code> and its renderer. Due to the fact that the code takes almost 300 lines, I'm posting a <a href=\"https://chromium.googlesource.com/external/github.com/google-ar/arcore-android-sdk/+/refs/tags/v1.0.0/samples/computervision/app/src/main/java/com/google/ar/core/examples/java/computervision/MainActivity.java\" rel=\"nofollow noreferrer\">link</a> to it.</p>\n<pre><code>class MainActivity extends AppCompatActivity implements GLSurfaceView.Renderer {\n\n    private GLSurfaceView surfaceView;\n    private Session session;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        surfaceView = (GLSurfaceView) findViewById(R.id.surfaceview);\n\n        // some code...\n\n        surfaceView.setRenderer(this);\n        surfaceView.setRenderMode(GLSurfaceView.RENDERMODE_CONTINUOUSLY);\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n\n        if (session == null) {\n            if (!CameraPermissionHelper.hasCameraPermission(this)) {\n                CameraPermissionHelper.requestCameraPermission(this);\n                return;\n            }\n            session = new Session(/* some context= */ this);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15138562,"reputation":63,"user_id":10924307,"display_name":"Kiran George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665051203,"creation_date":1665044236,"question_id":73970615,"body_markdown":"I&#39;m trying to create a camera application which saves the camera position along with each image captured. I&#39;m new to Android Studio and ARCore.\r\n\r\nI created a camera app using Android Studio tutorial, then tried to use the Pose class inside the app. But it gives me an error saying that it requires and OpenGL context. I then realized that I have to use SurfaceView instead of PreviewView for Pose to work. But I don&#39;t get how to use it properly even after reading the documentation. Please help me out.\r\n","title":"How to use SurfaceView in ARCore to get the Pose of the camera","body":"<p>I'm trying to create a camera application which saves the camera position along with each image captured. I'm new to Android Studio and ARCore.</p>\n<p>I created a camera app using Android Studio tutorial, then tried to use the Pose class inside the app. But it gives me an error saying that it requires and OpenGL context. I then realized that I have to use SurfaceView instead of PreviewView for Pose to work. But I don't get how to use it properly even after reading the documentation. Please help me out.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9239,"page":984,"page_size":100}
