{"items":[{"tags":["java","android","android-studio"],"owner":{"account_id":3444677,"reputation":83,"user_id":10015540,"display_name":"lolo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665044058,"creation_date":1639772706,"question_id":70398541,"body_markdown":"I am trying to add events dynamically from Firebase , but I&#39;m not able to display any events, I am using [Alamkanak Week-View][1] , I stuck with problem and try many ways because **onMonthChange** called before executing firebase, please help guys.\r\n\r\n\r\n  [1]: https://github.com/alamkanak/Android-Week-View\r\n\r\n        private void RetriveAllAppointment(ArrayList&lt;String&gt; id_list) {\r\n            mrefDatabase = FirebaseDatabase.getInstance().getReference(&quot;Appointments&quot;).child(&quot;Active&quot;);\r\n            mrefDatabase.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                    if (dataSnapshot.exists()) {\r\n                        for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n                         times_list = new ArrayList&lt;&gt;();\r\n                                    for (DataSnapshot snapshot1 : snapshot.getChildren()) {\r\n                       appointmantdate = snapshot.child(&quot;Date&quot;).getValue().toString();\r\n     selectedVenueName = snapshot.child(&quot;venueName&quot;).getValue().toString();\r\n                                        if (snapshot.hasChild(&quot;times&quot;)) {\r\n                                            for (DataSnapshot timesnapshot \r\n    \r\n        :snapshot.child(&quot;times&quot;).getChildren()) {\r\n        String time = timesnapshot.getValue().toString();\r\n        times_list.add(time);}\r\n                                            CreateEvent(year, month);}\r\n\r\ncreate event from data that come from firebase\r\n\r\n\r\n    public void CreateEvent(int year, int month) {\r\n            String[] separated = appointmantdate.split(&quot;-&quot;);\r\n            int year_ = Integer.parseInt(separated[0]);\r\n            int month_ = Integer.parseInt(separated[1]);\r\n            int day = Integer.parseInt(separated[2]);\r\n            for (int a = 0; a &lt; times_list.size(); a++) {\r\n\r\n                String[] timeSplit = times_list.get(a).split(&quot;:&quot;);\r\n                int time_hour = Integer.parseInt(timeSplit[0]);\r\n                int time_minute = Integer.parseInt(timeSplit[1]);\r\n\r\n                Calendar startTime = Calendar.getInstance();\r\n                startTime.set(Calendar.HOUR_OF_DAY, time_hour);\r\n                startTime.set(Calendar.MINUTE, time_minute);\r\n                startTime.set(Calendar.DAY_OF_MONTH, day);\r\n                startTime.set(Calendar.MONTH, month_ - 1);\r\n                startTime.set(Calendar.YEAR, year_);\r\n                Calendar endTime = (Calendar) startTime.clone();\r\n\r\n                String[] endtimeSplit = times_list.get(times_list.size() - 1).split(&quot;:&quot;);\r\n                int endtime_hour = Integer.parseInt(endtimeSplit[0]);\r\n                int endtime_minute = Integer.parseInt(endtimeSplit[1]);\r\n                endTime.add(Calendar.HOUR, endtime_hour);\r\n                startTime.set(Calendar.MINUTE, endtime_minute);\r\n                endTime.set(Calendar.MONTH, month - 1);\r\n                event = new WeekViewEvent(1, selectedVenueName, startTime, endTime);\r\n                event.setColor(getActivity(). getResources().getColor(R.color.event_color_03));\r\n                events.add(event);}\r\n       \r\n\r\nonMonthChange method\r\n\r\n    @Override\r\n    public List&lt;? extends WeekViewEvent&gt; onMonthChange(int newYear, int newMonth) {\r\n        List&lt;WeekViewEvent&gt; lastone = new ArrayList&lt;WeekViewEvent&gt;();\r\n        \r\n        if (appointmantdate != null &amp;&amp; times_list != null) {\r\n          lastone = CreateEvent(newYear, newMonth);\r\n            events.addAll(lastone);\r\n        }\r\n        ArrayList&lt;WeekViewEvent&gt; matchedEvents = new ArrayList&lt;WeekViewEvent&gt;();\r\n        for (WeekViewEvent event : events) {\r\n            if (eventMatches(event, newYear, newMonth)) {\r\n                matchedEvents.add(event);\r\n            }\r\n         return matchedEvents;\r\n\r\n","title":"How to get all events from Firebase database in Alamkanak Android-Week-View library","body":"<p>I am trying to add events dynamically from Firebase , but I'm not able to display any events, I am using <a href=\"https://github.com/alamkanak/Android-Week-View\" rel=\"nofollow noreferrer\">Alamkanak Week-View</a> , I stuck with problem and try many ways because <strong>onMonthChange</strong> called before executing firebase, please help guys.</p>\n<pre><code>    private void RetriveAllAppointment(ArrayList&lt;String&gt; id_list) {\n        mrefDatabase = FirebaseDatabase.getInstance().getReference(&quot;Appointments&quot;).child(&quot;Active&quot;);\n        mrefDatabase.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                if (dataSnapshot.exists()) {\n                    for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\n                     times_list = new ArrayList&lt;&gt;();\n                                for (DataSnapshot snapshot1 : snapshot.getChildren()) {\n                   appointmantdate = snapshot.child(&quot;Date&quot;).getValue().toString();\n selectedVenueName = snapshot.child(&quot;venueName&quot;).getValue().toString();\n                                    if (snapshot.hasChild(&quot;times&quot;)) {\n                                        for (DataSnapshot timesnapshot \n\n    :snapshot.child(&quot;times&quot;).getChildren()) {\n    String time = timesnapshot.getValue().toString();\n    times_list.add(time);}\n                                        CreateEvent(year, month);}\n</code></pre>\n<p>create event from data that come from firebase</p>\n<pre><code>public void CreateEvent(int year, int month) {\n        String[] separated = appointmantdate.split(&quot;-&quot;);\n        int year_ = Integer.parseInt(separated[0]);\n        int month_ = Integer.parseInt(separated[1]);\n        int day = Integer.parseInt(separated[2]);\n        for (int a = 0; a &lt; times_list.size(); a++) {\n\n            String[] timeSplit = times_list.get(a).split(&quot;:&quot;);\n            int time_hour = Integer.parseInt(timeSplit[0]);\n            int time_minute = Integer.parseInt(timeSplit[1]);\n\n            Calendar startTime = Calendar.getInstance();\n            startTime.set(Calendar.HOUR_OF_DAY, time_hour);\n            startTime.set(Calendar.MINUTE, time_minute);\n            startTime.set(Calendar.DAY_OF_MONTH, day);\n            startTime.set(Calendar.MONTH, month_ - 1);\n            startTime.set(Calendar.YEAR, year_);\n            Calendar endTime = (Calendar) startTime.clone();\n\n            String[] endtimeSplit = times_list.get(times_list.size() - 1).split(&quot;:&quot;);\n            int endtime_hour = Integer.parseInt(endtimeSplit[0]);\n            int endtime_minute = Integer.parseInt(endtimeSplit[1]);\n            endTime.add(Calendar.HOUR, endtime_hour);\n            startTime.set(Calendar.MINUTE, endtime_minute);\n            endTime.set(Calendar.MONTH, month - 1);\n            event = new WeekViewEvent(1, selectedVenueName, startTime, endTime);\n            event.setColor(getActivity(). getResources().getColor(R.color.event_color_03));\n            events.add(event);}\n   \n</code></pre>\n<p>onMonthChange method</p>\n<pre><code>@Override\npublic List&lt;? extends WeekViewEvent&gt; onMonthChange(int newYear, int newMonth) {\n    List&lt;WeekViewEvent&gt; lastone = new ArrayList&lt;WeekViewEvent&gt;();\n    \n    if (appointmantdate != null &amp;&amp; times_list != null) {\n      lastone = CreateEvent(newYear, newMonth);\n        events.addAll(lastone);\n    }\n    ArrayList&lt;WeekViewEvent&gt; matchedEvents = new ArrayList&lt;WeekViewEvent&gt;();\n    for (WeekViewEvent event : events) {\n        if (eventMatches(event, newYear, newMonth)) {\n            matchedEvents.add(event);\n        }\n     return matchedEvents;\n</code></pre>\n"},{"tags":["javascript","java","asynchronous","jsf","user-experience"],"comments":[{"owner":{"account_id":16306907,"reputation":117,"user_id":11776660,"display_name":"dssof"},"score":0,"creation_date":1664992086,"post_id":73964004,"comment_id":130597152,"body_markdown":"@JasperdeVries how can it help to use a websocket? When I get the notification I have the same problem","body":"@JasperdeVries how can it help to use a websocket? When I get the notification I have the same problem"},{"owner":{"account_id":16306907,"reputation":117,"user_id":11776660,"display_name":"dssof"},"score":0,"creation_date":1665063585,"post_id":73964004,"comment_id":130615354,"body_markdown":"I already can notify the user using javascript, that&#39;s not the problem.","body":"I already can notify the user using javascript, that&#39;s not the problem."}],"owner":{"account_id":16306907,"reputation":117,"user_id":11776660,"display_name":"dssof"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665043993,"creation_date":1664989916,"question_id":73964004,"body_markdown":"I have to use an external api, which may be slow, so I&#39;m using javascript to send the request asynchronously. When the response it&#39;s back, I need to update the JSF component.\r\n\r\nActually I&#39;m using a remotecommand to do this, it calls a method on the bean which reloads the component (datatable). The thing is, if the user is doing some other action and I reload the component I could affect the user experience (eg. the user already went to the next page of the datatable and when the reloads happens the datatable goes back to the first page)\r\n\r\nSo my question is, which would be the correct way of updating a component asynchronously when the user is performing other actions on the same page?\r\n\r\nAlso, could I have concurrency problems if instead of reloading the entire datatable, I modify an object of the list and then update the UI? ","title":"Update a JSF component from async javascript request","body":"<p>I have to use an external api, which may be slow, so I'm using javascript to send the request asynchronously. When the response it's back, I need to update the JSF component.</p>\n<p>Actually I'm using a remotecommand to do this, it calls a method on the bean which reloads the component (datatable). The thing is, if the user is doing some other action and I reload the component I could affect the user experience (eg. the user already went to the next page of the datatable and when the reloads happens the datatable goes back to the first page)</p>\n<p>So my question is, which would be the correct way of updating a component asynchronously when the user is performing other actions on the same page?</p>\n<p>Also, could I have concurrency problems if instead of reloading the entire datatable, I modify an object of the list and then update the UI?</p>\n"},{"tags":["java","combobox","listbox","zk"],"answers":[{"tags":[],"owner":{"account_id":12839224,"reputation":431,"user_id":9287770,"display_name":"MDuchemin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665043775,"creation_date":1665043775,"answer_id":73970521,"question_id":73942680,"body_markdown":"From your syntax, it looks like you are using `GenericForwardComposer` as the super class for your BaseController.\r\nIs that correct?\r\n\r\nDepending on how much you have already done, I&#39;d recommend checking if you could switch to `SelectorComposer` instead.\r\nThey work the same way (wire components, and listen to events), but the `SelectorComposer` is much more explicit in how things are wired. `GenericForwardComposer` can be somewhat error-prone unless you are very clear about its lifecycle.\r\n\r\nRegarding why the onSelect would not be firing in this case:\r\n\r\nZK Composers works in phases. One important phase is the &quot;compose&quot; phase, during which the components are created, events listeners are put in places, etc.\r\n\r\nAt the end of that phase, the &quot;afterCompose&quot; phase takes place. During afterCompose, &quot;magic&quot; stuff (like the wiring of the private components in your current composer, or the auto-forwarding of the onSelect$myCombobox0 in the same class) takes place. It will also attempt to rewire stuff that was missing again just before triggering onCreate on its root anchor component.\r\n\r\nNow, if your comboboxes are created dynamically after that step (for example, during an &quot;onCreate$myWindow&quot; event which happens after all of the above is finished), the composer will have already done all of the wiring and forwarding, and will not know to re-check the components for additional wiring.\r\n\r\nWith all of that explained, what can you do about it?\r\n\r\nFirst, you can consider moving the onCreate code to a doAfterCompose method.\r\nInstead of waiting for onCreate to generate the Listbox content, if you do it during doAfterCompose (override from genericFowardComposer), you should be early enough that auto-wiring will trigger on these components.\r\n\r\nThat should look like this:\r\n\r\n    @Override\r\n    public void doAfterCompose(Component comp) {\r\n        ListModelList&lt;DocumentoVinculado&gt; modelo = new ListModelList&lt;&gt;(crearLista());\r\n        myListbox.setModel(modelo);\r\n        myListbox.setItemRenderer(new NewFileRender());\r\n    }\r\n\r\n2nd, if you move from genericForwardComposer to SelectorComposer, you can actually tell the composer to rewire itself &quot;on demand&quot; by using the Selectors.wireComponents method. Of course, that&#39;s only valid if your application can be refactored for this change.\r\n\r\n","title":"ZK Framework - How to access the onSelect method of a Combobox that is inside a Listbox generated with a render?","body":"<p>From your syntax, it looks like you are using <code>GenericForwardComposer</code> as the super class for your BaseController.\nIs that correct?</p>\n<p>Depending on how much you have already done, I'd recommend checking if you could switch to <code>SelectorComposer</code> instead.\nThey work the same way (wire components, and listen to events), but the <code>SelectorComposer</code> is much more explicit in how things are wired. <code>GenericForwardComposer</code> can be somewhat error-prone unless you are very clear about its lifecycle.</p>\n<p>Regarding why the onSelect would not be firing in this case:</p>\n<p>ZK Composers works in phases. One important phase is the &quot;compose&quot; phase, during which the components are created, events listeners are put in places, etc.</p>\n<p>At the end of that phase, the &quot;afterCompose&quot; phase takes place. During afterCompose, &quot;magic&quot; stuff (like the wiring of the private components in your current composer, or the auto-forwarding of the onSelect$myCombobox0 in the same class) takes place. It will also attempt to rewire stuff that was missing again just before triggering onCreate on its root anchor component.</p>\n<p>Now, if your comboboxes are created dynamically after that step (for example, during an &quot;onCreate$myWindow&quot; event which happens after all of the above is finished), the composer will have already done all of the wiring and forwarding, and will not know to re-check the components for additional wiring.</p>\n<p>With all of that explained, what can you do about it?</p>\n<p>First, you can consider moving the onCreate code to a doAfterCompose method.\nInstead of waiting for onCreate to generate the Listbox content, if you do it during doAfterCompose (override from genericFowardComposer), you should be early enough that auto-wiring will trigger on these components.</p>\n<p>That should look like this:</p>\n<pre><code>@Override\npublic void doAfterCompose(Component comp) {\n    ListModelList&lt;DocumentoVinculado&gt; modelo = new ListModelList&lt;&gt;(crearLista());\n    myListbox.setModel(modelo);\n    myListbox.setItemRenderer(new NewFileRender());\n}\n</code></pre>\n<p>2nd, if you move from genericForwardComposer to SelectorComposer, you can actually tell the composer to rewire itself &quot;on demand&quot; by using the Selectors.wireComponents method. Of course, that's only valid if your application can be refactored for this change.</p>\n"}],"owner":{"account_id":26520197,"reputation":1,"user_id":20154219,"display_name":"Matias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665043775,"creation_date":1664851618,"question_id":73942680,"body_markdown":"Good evening, I tell you my problem:\r\n\r\nIn the ZK Framework I need to use the onSelect method of a dynamically rendered Combobox within a Listbox that is also rendered.\r\n\r\nWhen I select one of the Combobox options, its content should be saved in the observaciones variable of the DocumentoVinculado class. But the onSelect don&#39;t work! I appreciate any help. Attached code:\r\n\r\n**.zul**\r\n```\r\n&lt;zk&gt;\r\n&lt;window id=&quot;myWindow&quot; apply=&quot;com.curso.controller.NewFileComposer&quot; title=&quot;Help&quot;&gt;\r\n        &lt;listbox id=&quot;myListbox&quot;&gt;\r\n            &lt;listhead&gt;\r\n                &lt;listheader label=&quot;NroGEBI&quot;&gt;&lt;/listheader&gt;\r\n                &lt;listheader label=&quot;Observaciones&quot;&gt;&lt;/listheader&gt;\r\n            &lt;/listhead&gt;\r\n        &lt;/listbox&gt;\r\n        &lt;label id=&quot;myLabel&quot;&gt;&lt;/label&gt;\r\n&lt;/window&gt;\r\n&lt;/zk&gt;\r\n```\r\n**Composer / Controller**\r\n```\r\npublic class NewFileComposer extends BaseController {\r\n\r\n    private Window myWindow;\r\n    private Listbox myListbox;\r\n    private Combobox myCombobox0;\r\n    private Combobox myCombobox1;\r\n    private Label myLabel;\r\n\r\n    public void onSelect$myCombobox0() { myLabel.setValue(myCombobox0.getValue()); }\r\n\r\n    public void onSelect$myCombobox1() { myLabel.setValue(myCombobox1.getValue()); }\r\n    \r\n    public void onCreate$myWindow() {\r\n        ListModelList&lt;DocumentoVinculado&gt; modelo = new ListModelList&lt;&gt;(crearLista());\r\n        myListbox.setModel(modelo);\r\n        myListbox.setItemRenderer(new NewFileRender());\r\n    }\r\n    \r\n    private List&lt;DocumentoVinculado&gt; crearLista() {\r\n        List&lt;DocumentoVinculado&gt; docVinculados = new ArrayList&lt;&gt;();\r\n        docVinculados.add(new DocumentoVinculado(&quot;123GEBI1&quot;, &quot; &quot;));\r\n        docVinculados.add(new DocumentoVinculado(&quot;123GEBI2&quot;, &quot; &quot;));\r\n        return docVinculados;\r\n    }\r\n}\r\n```\r\n**Render**\r\n```\r\npublic class NewFileRender implements ListitemRenderer {\r\n\r\n    @Override\r\n    public void render(Listitem item, Object data, int i) throws Exception {\r\n        DocumentoVinculado docVinculado = (DocumentoVinculado) data;\r\n\r\n        Listcell nroGebiCell = new Listcell(docVinculado.getNroGEBI());\r\n        nroGebiCell.setParent(item);\r\n\r\n        Listcell opcionesCell = new Listcell();\r\n        opcionesCell.appendChild(comboboxObservaciones(i));\r\n        item.appendChild(opcionesCell);\r\n    }\r\n    \r\n    private Combobox comboboxObservaciones(int i) {\r\n        Combobox combobox = new Combobox();\r\n        List&lt;String&gt; listaDeOpciones = listaDeOpciones();\r\n        for(String opcion : listaDeOpciones) {\r\n            Comboitem myComboitem = new Comboitem();\r\n            myComboitem.setLabel(opcion);\r\n            myComboitem.setParent(combobox);\r\n        }       \r\n        combobox.setId(&quot;myCombobox&quot; + i);\r\n        return combobox;\r\n    }\r\n    \r\n    private List&lt;String&gt; listaDeOpciones() {\r\n        List&lt;String&gt; opciones = new ArrayList&lt;&gt;();\r\n        opciones.add(&quot; &quot;);\r\n        opciones.add(&quot;Opcion1&quot;);\r\n        opciones.add(&quot;Opcion2&quot;);\r\n        return opciones;\r\n    }\r\n}\r\n```\r\nThank you for reading. Cheers!","title":"ZK Framework - How to access the onSelect method of a Combobox that is inside a Listbox generated with a render?","body":"<p>Good evening, I tell you my problem:</p>\n<p>In the ZK Framework I need to use the onSelect method of a dynamically rendered Combobox within a Listbox that is also rendered.</p>\n<p>When I select one of the Combobox options, its content should be saved in the observaciones variable of the DocumentoVinculado class. But the onSelect don't work! I appreciate any help. Attached code:</p>\n<p><strong>.zul</strong></p>\n<pre><code>&lt;zk&gt;\n&lt;window id=&quot;myWindow&quot; apply=&quot;com.curso.controller.NewFileComposer&quot; title=&quot;Help&quot;&gt;\n        &lt;listbox id=&quot;myListbox&quot;&gt;\n            &lt;listhead&gt;\n                &lt;listheader label=&quot;NroGEBI&quot;&gt;&lt;/listheader&gt;\n                &lt;listheader label=&quot;Observaciones&quot;&gt;&lt;/listheader&gt;\n            &lt;/listhead&gt;\n        &lt;/listbox&gt;\n        &lt;label id=&quot;myLabel&quot;&gt;&lt;/label&gt;\n&lt;/window&gt;\n&lt;/zk&gt;\n</code></pre>\n<p><strong>Composer / Controller</strong></p>\n<pre><code>public class NewFileComposer extends BaseController {\n\n    private Window myWindow;\n    private Listbox myListbox;\n    private Combobox myCombobox0;\n    private Combobox myCombobox1;\n    private Label myLabel;\n\n    public void onSelect$myCombobox0() { myLabel.setValue(myCombobox0.getValue()); }\n\n    public void onSelect$myCombobox1() { myLabel.setValue(myCombobox1.getValue()); }\n    \n    public void onCreate$myWindow() {\n        ListModelList&lt;DocumentoVinculado&gt; modelo = new ListModelList&lt;&gt;(crearLista());\n        myListbox.setModel(modelo);\n        myListbox.setItemRenderer(new NewFileRender());\n    }\n    \n    private List&lt;DocumentoVinculado&gt; crearLista() {\n        List&lt;DocumentoVinculado&gt; docVinculados = new ArrayList&lt;&gt;();\n        docVinculados.add(new DocumentoVinculado(&quot;123GEBI1&quot;, &quot; &quot;));\n        docVinculados.add(new DocumentoVinculado(&quot;123GEBI2&quot;, &quot; &quot;));\n        return docVinculados;\n    }\n}\n</code></pre>\n<p><strong>Render</strong></p>\n<pre><code>public class NewFileRender implements ListitemRenderer {\n\n    @Override\n    public void render(Listitem item, Object data, int i) throws Exception {\n        DocumentoVinculado docVinculado = (DocumentoVinculado) data;\n\n        Listcell nroGebiCell = new Listcell(docVinculado.getNroGEBI());\n        nroGebiCell.setParent(item);\n\n        Listcell opcionesCell = new Listcell();\n        opcionesCell.appendChild(comboboxObservaciones(i));\n        item.appendChild(opcionesCell);\n    }\n    \n    private Combobox comboboxObservaciones(int i) {\n        Combobox combobox = new Combobox();\n        List&lt;String&gt; listaDeOpciones = listaDeOpciones();\n        for(String opcion : listaDeOpciones) {\n            Comboitem myComboitem = new Comboitem();\n            myComboitem.setLabel(opcion);\n            myComboitem.setParent(combobox);\n        }       \n        combobox.setId(&quot;myCombobox&quot; + i);\n        return combobox;\n    }\n    \n    private List&lt;String&gt; listaDeOpciones() {\n        List&lt;String&gt; opciones = new ArrayList&lt;&gt;();\n        opciones.add(&quot; &quot;);\n        opciones.add(&quot;Opcion1&quot;);\n        opciones.add(&quot;Opcion2&quot;);\n        return opciones;\n    }\n}\n</code></pre>\n<p>Thank you for reading. Cheers!</p>\n"},{"tags":["java","algorithm","data-structures"],"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":1,"creation_date":1665033742,"post_id":73968682,"comment_id":130605314,"body_markdown":"Try debugging using `String` values.","body":"Try debugging using <code>String</code> values."},{"owner":{"account_id":20526095,"reputation":238,"user_id":15064501,"display_name":"Alex"},"score":0,"creation_date":1665035418,"post_id":73968682,"comment_id":130605620,"body_markdown":"I&#39;m not sure how running a String array though would help. When I do this is just fails at ``while ((int) quickList.get(length) &gt; (int) pivot &amp;&amp; length &gt; begin) { length--; }``","body":"I&#39;m not sure how running a String array though would help. When I do this is just fails at <code>while ((int) quickList.get(length) &gt; (int) pivot &amp;&amp; length &gt; begin) { length--; }</code>"},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1665039183,"post_id":73968682,"comment_id":130606531,"body_markdown":"`String` values can be easy to tell from index values. (So choose &quot;A&quot;, &quot;G&quot;, &quot;O&quot;…, *not* &quot;3&quot;, &quot;1&quot;, &quot;4&quot;…) (Why cast to int?)","body":"<code>String</code> values can be easy to tell from index values. (So choose &quot;A&quot;, &quot;G&quot;, &quot;O&quot;…, <i>not</i> &quot;3&quot;, &quot;1&quot;, &quot;4&quot;…) (Why cast to int?)"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665043725,"creation_date":1665039055,"answer_id":73969645,"question_id":73968682,"body_markdown":"```java\r\n// 3-way quicksort\r\npublic final class QuickSort {\r\n\r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void quickSort(List&lt;T&gt; items) {\r\n        Collections.shuffle(items);  // sorted array is the worst case\r\n        quickSort(items, 0, items.size() - 1);\r\n    }\r\n\r\n    private static &lt;T extends Comparable&lt;? super T&gt;&gt; void quickSort(List&lt;T&gt; items, int lo, int hi) {\r\n        if (lo &lt; hi) {\r\n            Pair pair = partition(items, lo, hi);\r\n            quickSort(items, lo, pair.lt - 1);\r\n            quickSort(items, pair.gt + 1, hi);\r\n        }\r\n    }\r\n\r\n    private static &lt;T extends Comparable&lt;? super T&gt;&gt; Pair partition(List&lt;T&gt; items, int lo, int hi) {\r\n        int lt = lo;\r\n        int i = lo + 1;\r\n        int gt = hi;\r\n        T item = items.get(lo);\r\n\r\n        while (i &lt;= gt) {\r\n            int cmp = items.get(i).compareTo(item);\r\n\r\n            if (cmp &lt; 0)\r\n                swap(items, lt++, i++);\r\n            else if (cmp &gt; 0)\r\n                swap(items, i, gt--);\r\n            else\r\n                i++;\r\n        }\r\n\r\n        return new Pair(lt, gt);\r\n    }\r\n\r\n    private static &lt;T&gt; void swap(List&lt;T&gt; items, int i, int j) {\r\n        T tmp = items.get(i);\r\n        items.set(i, items.get(j));\r\n        items.set(j, tmp);\r\n    }\r\n\r\n    private static final class Pair {\r\n\r\n        private int lt;\r\n        private int gt;\r\n\r\n        public Pair(int lt, int gt) {\r\n            this.lt = lt;\r\n            this.gt = gt;\r\n        }\r\n    }\r\n\r\n    private QuickSort() {\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Demo**\r\n```java\r\nList&lt;Integer&gt; items = Arrays.asList(9, 2, 10, 3, 6, 7, 4, 8, 5, 1);\r\nSystem.out.println(items);  // [9, 2, 10, 3, 6, 7, 4, 8, 5, 1\r\nQuickSort.quickSort(items);\r\nSystem.out.println(items);  // [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\n```\r\n---\r\n[Algorithms, 4th Edition by Robert Sedgewick and Kevin Wayne. - 2.3   Quicksort][1] is your friend!\r\n\r\n\r\n  [1]: https://algs4.cs.princeton.edu/23quicksort/","title":"Java ArrayList quickSort algorithm not working properly","body":"<pre class=\"lang-java prettyprint-override\"><code>// 3-way quicksort\npublic final class QuickSort {\n\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void quickSort(List&lt;T&gt; items) {\n        Collections.shuffle(items);  // sorted array is the worst case\n        quickSort(items, 0, items.size() - 1);\n    }\n\n    private static &lt;T extends Comparable&lt;? super T&gt;&gt; void quickSort(List&lt;T&gt; items, int lo, int hi) {\n        if (lo &lt; hi) {\n            Pair pair = partition(items, lo, hi);\n            quickSort(items, lo, pair.lt - 1);\n            quickSort(items, pair.gt + 1, hi);\n        }\n    }\n\n    private static &lt;T extends Comparable&lt;? super T&gt;&gt; Pair partition(List&lt;T&gt; items, int lo, int hi) {\n        int lt = lo;\n        int i = lo + 1;\n        int gt = hi;\n        T item = items.get(lo);\n\n        while (i &lt;= gt) {\n            int cmp = items.get(i).compareTo(item);\n\n            if (cmp &lt; 0)\n                swap(items, lt++, i++);\n            else if (cmp &gt; 0)\n                swap(items, i, gt--);\n            else\n                i++;\n        }\n\n        return new Pair(lt, gt);\n    }\n\n    private static &lt;T&gt; void swap(List&lt;T&gt; items, int i, int j) {\n        T tmp = items.get(i);\n        items.set(i, items.get(j));\n        items.set(j, tmp);\n    }\n\n    private static final class Pair {\n\n        private int lt;\n        private int gt;\n\n        public Pair(int lt, int gt) {\n            this.lt = lt;\n            this.gt = gt;\n        }\n    }\n\n    private QuickSort() {\n    }\n\n}\n</code></pre>\n<p><strong>Demo</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; items = Arrays.asList(9, 2, 10, 3, 6, 7, 4, 8, 5, 1);\nSystem.out.println(items);  // [9, 2, 10, 3, 6, 7, 4, 8, 5, 1\nQuickSort.quickSort(items);\nSystem.out.println(items);  // [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n</code></pre>\n<hr />\n<p><a href=\"https://algs4.cs.princeton.edu/23quicksort/\" rel=\"nofollow noreferrer\">Algorithms, 4th Edition by Robert Sedgewick and Kevin Wayne. - 2.3   Quicksort</a> is your friend!</p>\n"}],"owner":{"account_id":20526095,"reputation":238,"user_id":15064501,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73969645,"answer_count":1,"score":0,"last_activity_date":1665043725,"creation_date":1665030584,"question_id":73968682,"body_markdown":"I am trying to sort an ArrayList of integers in numerical order using a quicksort algorithm. The below code is what I have been able to come up with and it is getting close to sorting the list but unfortunately, it does not completely sort my ArrayList as it should. It will come pretty close but it is almost as if it just needs to run the while loop a few more times to completely sort the list. I have been trying for quite a long time now to figure out why my code won&#39;t work properly so any help would be appreciated.\r\n\r\nRight now these are the results I am getting:\r\n\r\nPre-sort: [9, 2, 10, 3, 6, 7, 4, 8, 5, 1]\r\n\r\nPost-sort: [1, 2, 5, 3, 4, 6, 7, 8, 9, 10]\r\n\r\n     /**\r\n    \t * \r\n    \t * This method performs a quicksort on the generic ArrayList given as input. You\r\n    \t * must implement three different strategies for determining the pivot, and your\r\n    \t * implementation should be able to easily switch among these strategies.\r\n    \t * (Consider using a few private helper methods for your different\r\n    \t * pivot-selection strategies.) You will perform timing experiments to determine\r\n    \t * which strategy works best. Your implementation may switch to insertion sort\r\n    \t * on some small threshold, if you wish.\r\n    \t * \r\n    \t * @param &lt;T&gt;\r\n    \t */\r\n    \tstatic &lt;T extends Comparable&lt;? super T&gt;&gt; void quickSort(ArrayList&lt;T&gt; quickList, int begin, int end) {\r\n    \t\tif (begin &lt; end) {\r\n    \t\t\tint partitionIndex = partition(quickList, begin, end);\r\n    \r\n    \t\t\tquickSort(quickList, begin, partitionIndex - 1);\r\n    \t\t\tquickSort(quickList, partitionIndex + 1, end);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t\r\n    \tprivate static &lt;T extends Comparable&lt;? super T&gt;&gt; int partition(ArrayList&lt;T&gt; quickList, int begin, int end) {\r\n    \t\tint init = begin;\r\n    \t\tint length = end;\r\n    \r\n    \t\tint pivot = quicksort.getRandom(quickList);\r\n    \t\t\r\n    \t\twhile (true) {\r\n    \t\t\twhile ((int) quickList.get(length) &gt; (int) pivot &amp;&amp; length &gt; begin) {\r\n    \t\t\t\tlength--;\r\n    \t\t\t}\r\n    \r\n    \t\t\twhile ((int) quickList.get(init) &lt; (int) pivot &amp;&amp; init &lt; end) {\r\n    \t\t\t\tinit++;\r\n    \t\t\t}\r\n    \r\n    \t\t\tif (init &lt; length) {\r\n    \t\t\t\tT temp;\r\n    \t\t\t\ttemp = quickList.get(init);\r\n    \t\t\t\tquickList.set(init, quickList.get(length));\r\n    \t\t\t\tquickList.set(length, temp);\r\n    \t\t\t\tlength--;\r\n    \t\t\t\tinit++;\r\n    \r\n    \t\t\t} else {\r\n    \t\t\t\treturn length;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t\r\n    \tpublic interface quicksort {\r\n    \t\t/**\r\n    \t\t * This method will grab the median of the entire ArrayList\r\n    \t\t * \r\n    \t\t * @return median\r\n    \t\t */\r\n    \t\tstatic &lt;T&gt; int getMedian(ArrayList&lt;T&gt; passedArrayList) {\r\n    \t\t\tdouble lower = 0;\r\n    \t\t\tdouble upper = 0;\r\n    \r\n    \t\t\tif (passedArrayList.size() % 2 == 1)\r\n    \t\t\t\tSystem.out.println(passedArrayList.get((passedArrayList.size() + 1) / 2 - 1));\r\n    \t\t\telse {\r\n    \t\t\t\t// Will make sure that our passed array is able to be divided\r\n    \t\t\t\tlower = (double) (passedArrayList.size() / 2 - 1);\r\n    \t\t\t\tupper = (double) (passedArrayList.size() / 2);\r\n    \t\t\t}\r\n    \r\n    \t\t\treturn (int) Math.round((lower + upper) / 2.0);\r\n    \t\t}\r\n    \r\n    \t\t/**\r\n    \t\t * This method will randomly grab a index out of the provided ArrayList\r\n    \t\t * \r\n    \t\t * @param &lt;T&gt;\r\n    \t\t * @return median\r\n    \t\t */\r\n    \t\tstatic &lt;T&gt; int getRandom(ArrayList&lt;T&gt; passedArrayList) {\r\n    \t\t\tint arrayListSize = passedArrayList.size();\r\n    \r\n    \t\t\tRandom rand = new Random(); // instance of random class\r\n    \t\t\tint upperbound = arrayListSize;\r\n    \t\t\tint randomIndex = rand.nextInt(upperbound);\r\n    \r\n    \t\t\treturn randomIndex;\r\n    \t\t}\r\n    \r\n    \t\t/**\r\n    \t\t * This method will grab three random indexes and then determine the median\r\n    \t\t * based off of those\r\n    \t\t * \r\n    \t\t * @return median\r\n    \t\t */\r\n    \t\tstatic &lt;T&gt; int getThreeRandomThenMedian(ArrayList&lt;T&gt; passedArrayList) {\r\n    \t\t\tint[] intArray;\r\n    \t\t\tintArray = new int[3];\r\n    \r\n    \t\t\t// sets are array with 3 random numbers from our passedArrayList\r\n    \t\t\tintArray[0] = getRandom(passedArrayList);\r\n    \t\t\tintArray[1] = getRandom(passedArrayList);\r\n    \t\t\tintArray[2] = getRandom(passedArrayList);\r\n    \r\n    \t\t\t// finds the median of our 3 random numbers\r\n    \t\t\tArrays.sort(intArray);\r\n    \t\t\tdouble median;\r\n    \t\t\tif (intArray.length % 2 == 0)\r\n    \t\t\t\tmedian = ((double) intArray[intArray.length / 2] + (double) intArray[intArray.length / 2 - 1]) / 2;\r\n    \t\t\telse\r\n    \t\t\t\tmedian = (double) intArray[intArray.length / 2];\r\n    \r\n    \t\t\t// converts our median from a double to a int so we can grab the median from our\r\n    \t\t\t// array\r\n    \t\t\tint returnMedian = (int) Math.round(median);\r\n    \r\n    \t\t\treturn returnMedian;\r\n    \t\t}\r\n    \t}","title":"Java ArrayList quickSort algorithm not working properly","body":"<p>I am trying to sort an ArrayList of integers in numerical order using a quicksort algorithm. The below code is what I have been able to come up with and it is getting close to sorting the list but unfortunately, it does not completely sort my ArrayList as it should. It will come pretty close but it is almost as if it just needs to run the while loop a few more times to completely sort the list. I have been trying for quite a long time now to figure out why my code won't work properly so any help would be appreciated.</p>\n<p>Right now these are the results I am getting:</p>\n<p>Pre-sort: [9, 2, 10, 3, 6, 7, 4, 8, 5, 1]</p>\n<p>Post-sort: [1, 2, 5, 3, 4, 6, 7, 8, 9, 10]</p>\n<pre><code> /**\n     * \n     * This method performs a quicksort on the generic ArrayList given as input. You\n     * must implement three different strategies for determining the pivot, and your\n     * implementation should be able to easily switch among these strategies.\n     * (Consider using a few private helper methods for your different\n     * pivot-selection strategies.) You will perform timing experiments to determine\n     * which strategy works best. Your implementation may switch to insertion sort\n     * on some small threshold, if you wish.\n     * \n     * @param &lt;T&gt;\n     */\n    static &lt;T extends Comparable&lt;? super T&gt;&gt; void quickSort(ArrayList&lt;T&gt; quickList, int begin, int end) {\n        if (begin &lt; end) {\n            int partitionIndex = partition(quickList, begin, end);\n\n            quickSort(quickList, begin, partitionIndex - 1);\n            quickSort(quickList, partitionIndex + 1, end);\n        }\n    }\n\n    \n    private static &lt;T extends Comparable&lt;? super T&gt;&gt; int partition(ArrayList&lt;T&gt; quickList, int begin, int end) {\n        int init = begin;\n        int length = end;\n\n        int pivot = quicksort.getRandom(quickList);\n        \n        while (true) {\n            while ((int) quickList.get(length) &gt; (int) pivot &amp;&amp; length &gt; begin) {\n                length--;\n            }\n\n            while ((int) quickList.get(init) &lt; (int) pivot &amp;&amp; init &lt; end) {\n                init++;\n            }\n\n            if (init &lt; length) {\n                T temp;\n                temp = quickList.get(init);\n                quickList.set(init, quickList.get(length));\n                quickList.set(length, temp);\n                length--;\n                init++;\n\n            } else {\n                return length;\n            }\n        }\n    }\n\n    \n    public interface quicksort {\n        /**\n         * This method will grab the median of the entire ArrayList\n         * \n         * @return median\n         */\n        static &lt;T&gt; int getMedian(ArrayList&lt;T&gt; passedArrayList) {\n            double lower = 0;\n            double upper = 0;\n\n            if (passedArrayList.size() % 2 == 1)\n                System.out.println(passedArrayList.get((passedArrayList.size() + 1) / 2 - 1));\n            else {\n                // Will make sure that our passed array is able to be divided\n                lower = (double) (passedArrayList.size() / 2 - 1);\n                upper = (double) (passedArrayList.size() / 2);\n            }\n\n            return (int) Math.round((lower + upper) / 2.0);\n        }\n\n        /**\n         * This method will randomly grab a index out of the provided ArrayList\n         * \n         * @param &lt;T&gt;\n         * @return median\n         */\n        static &lt;T&gt; int getRandom(ArrayList&lt;T&gt; passedArrayList) {\n            int arrayListSize = passedArrayList.size();\n\n            Random rand = new Random(); // instance of random class\n            int upperbound = arrayListSize;\n            int randomIndex = rand.nextInt(upperbound);\n\n            return randomIndex;\n        }\n\n        /**\n         * This method will grab three random indexes and then determine the median\n         * based off of those\n         * \n         * @return median\n         */\n        static &lt;T&gt; int getThreeRandomThenMedian(ArrayList&lt;T&gt; passedArrayList) {\n            int[] intArray;\n            intArray = new int[3];\n\n            // sets are array with 3 random numbers from our passedArrayList\n            intArray[0] = getRandom(passedArrayList);\n            intArray[1] = getRandom(passedArrayList);\n            intArray[2] = getRandom(passedArrayList);\n\n            // finds the median of our 3 random numbers\n            Arrays.sort(intArray);\n            double median;\n            if (intArray.length % 2 == 0)\n                median = ((double) intArray[intArray.length / 2] + (double) intArray[intArray.length / 2 - 1]) / 2;\n            else\n                median = (double) intArray[intArray.length / 2];\n\n            // converts our median from a double to a int so we can grab the median from our\n            // array\n            int returnMedian = (int) Math.round(median);\n\n            return returnMedian;\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","c++","java-native-interface"],"comments":[{"owner":{"account_id":1654563,"reputation":57569,"user_id":1524450,"display_name":"Michael"},"score":0,"creation_date":1665035884,"post_id":73967740,"comment_id":130605715,"body_markdown":"See https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/types.html for a list of available primitive types.","body":"See <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/types.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/jni/spec/&hellip;</a> for a list of available primitive types."},{"owner":{"display_name":"user16458899"},"score":0,"creation_date":1665036047,"post_id":73967740,"comment_id":130605744,"body_markdown":"@Michael, I have everything sorted out now, just posted an answer, it was my bad and at end of day, JNI is not that hard to implement, have learnt heaps from this, cheers","body":"@Michael, I have everything sorted out now, just posted an answer, it was my bad and at end of day, JNI is not that hard to implement, have learnt heaps from this, cheers"}],"answers":[{"tags":[],"owner":{"display_name":"user16458899"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665037615,"creation_date":1665035946,"answer_id":73969223,"question_id":73967740,"body_markdown":"Solved my problem, was simple error of not changing one important detail before executing call i was looking for a return type of short but had String in native declaration. \r\n\r\n\r\nI had  \r\n        `private native String getCheckSum(String a);` \r\n \r\nit should have been \r\n\r\n        `private native short getCheckSum(String a);`\r\n\r\nMy call was / is\r\n\r\n short result = getCheckSum(A);\r\n\r\nWorked fine after correcting my mistake.\r\n\r\nfor those interested my c++ code\r\n\r\n        #include &lt;jni.h&gt;       // JNI header provided by JDK\r\n    #include &quot;ekmCheckSum.h&quot;\r\n    #include &lt;iostream&gt;    // C++ standard IO header\r\n    using namespace std;\r\n    \r\n    //---------------------------------------------------------------------------\r\n     void ekmCheckSum() {\r\n    \r\n    }\r\n    \r\n    static const unsigned short ekmCrcLut[256] = {\r\n        0x0000, 0xc0c1, 0xc181, 0x0140, 0xc301, 0x03c0, 0x0280, 0xc241,\r\n        0xc601, 0x06c0, 0x0780, 0xc741, 0x0500, 0xc5c1, 0xc481, 0x0440,\r\n        0xcc01, 0x0cc0, 0x0d80, 0xcd41, 0x0f00, 0xcfc1, 0xce81, 0x0e40,\r\n        0x0a00, 0xcac1, 0xcb81, 0x0b40, 0xc901, 0x09c0, 0x0880, 0xc841,\r\n        0xd801, 0x18c0, 0x1980, 0xd941, 0x1b00, 0xdbc1, 0xda81, 0x1a40,\r\n        0x1e00, 0xdec1, 0xdf81, 0x1f40, 0xdd01, 0x1dc0, 0x1c80, 0xdc41,\r\n        0x1400, 0xd4c1, 0xd581, 0x1540, 0xd701, 0x17c0, 0x1680, 0xd641,\r\n        0xd201, 0x12c0, 0x1380, 0xd341, 0x1100, 0xd1c1, 0xd081, 0x1040,\r\n        0xf001, 0x30c0, 0x3180, 0xf141, 0x3300, 0xf3c1, 0xf281, 0x3240,\r\n        0x3600, 0xf6c1, 0xf781, 0x3740, 0xf501, 0x35c0, 0x3480, 0xf441,\r\n        0x3c00, 0xfcc1, 0xfd81, 0x3d40, 0xff01, 0x3fc0, 0x3e80, 0xfe41,\r\n        0xfa01, 0x3ac0, 0x3b80, 0xfb41, 0x3900, 0xf9c1, 0xf881, 0x3840,\r\n        0x2800, 0xe8c1, 0xe981, 0x2940, 0xeb01, 0x2bc0, 0x2a80, 0xea41,\r\n        0xee01, 0x2ec0, 0x2f80, 0xef41, 0x2d00, 0xedc1, 0xec81, 0x2c40,\r\n        0xe401, 0x24c0, 0x2580, 0xe541, 0x2700, 0xe7c1, 0xe681, 0x2640,\r\n        0x2200, 0xe2c1, 0xe381, 0x2340, 0xe101, 0x21c0, 0x2080, 0xe041,\r\n        0xa001, 0x60c0, 0x6180, 0xa141, 0x6300, 0xa3c1, 0xa281, 0x6240,\r\n        0x6600, 0xa6c1, 0xa781, 0x6740, 0xa501, 0x65c0, 0x6480, 0xa441,\r\n        0x6c00, 0xacc1, 0xad81, 0x6d40, 0xaf01, 0x6fc0, 0x6e80, 0xae41,\r\n        0xaa01, 0x6ac0, 0x6b80, 0xab41, 0x6900, 0xa9c1, 0xa881, 0x6840,\r\n        0x7800, 0xb8c1, 0xb981, 0x7940, 0xbb01, 0x7bc0, 0x7a80, 0xba41,\r\n        0xbe01, 0x7ec0, 0x7f80, 0xbf41, 0x7d00, 0xbdc1, 0xbc81, 0x7c40,\r\n        0xb401, 0x74c0, 0x7580, 0xb541, 0x7700, 0xb7c1, 0xb681, 0x7640,\r\n        0x7200, 0xb2c1, 0xb381, 0x7340, 0xb101, 0x71c0, 0x7080, 0xb041,\r\n        0x5000, 0x90c1, 0x9181, 0x5140, 0x9301, 0x53c0, 0x5280, 0x9241,\r\n        0x9601, 0x56c0, 0x5780, 0x9741, 0x5500, 0x95c1, 0x9481, 0x5440,\r\n        0x9c01, 0x5cc0, 0x5d80, 0x9d41, 0x5f00, 0x9fc1, 0x9e81, 0x5e40,\r\n        0x5a00, 0x9ac1, 0x9b81, 0x5b40, 0x9901, 0x59c0, 0x5880, 0x9841,\r\n        0x8801, 0x48c0, 0x4980, 0x8941, 0x4b00, 0x8bc1, 0x8a81, 0x4a40,\r\n        0x4e00, 0x8ec1, 0x8f81, 0x4f40, 0x8d01, 0x4dc0, 0x4c80, 0x8c41,\r\n        0x4400, 0x84c1, 0x8581, 0x4540, 0x8701, 0x47c0, 0x4680, 0x8641,\r\n        0x8201, 0x42c0, 0x4380, 0x8341, 0x4100, 0x81c1, 0x8081, 0x4040\r\n    };\r\n    //---------------------------------------------------------------------------\r\n    unsigned short ekmCheckCRC16(const unsigned char *dat, unsigned short len)\r\n    {\r\n        unsigned short crc = 0xffff;\r\n    \r\n        while (len--)\r\n        {\r\n            crc = (crc &gt;&gt; 8 ) ^ ekmCrcLut[(crc ^ *dat++) &amp; 0xff];\r\n        }\r\n    \r\n        crc = (crc &lt;&lt; 8 ) | (crc &gt;&gt; 8);\r\n        crc &amp;= 0x7f7f;\r\n    \r\n        return crc;\r\n    }\r\n    //---------------------------------------------------------------------------\r\n    // Implementation of the native method getCheckSum()\r\n    extern &quot;C&quot;\r\n    JNIEXPORT unsigned short JNICALL\r\n    Java_com_[project name]_ekmV4Fields_getCheckSum(JNIEnv *env, jobject thiz, jstring a) {\r\n        const char * aCStr = env-&gt;GetStringUTFChars(a, NULL);\r\n        if(NULL == aCStr)\r\n            return NULL;\r\n        unsigned  short crc = ekmCheckCRC16(reinterpret_cast&lt;const unsigned char *&gt;(aCStr), strlen(aCStr));\r\n    \r\n        return crc;\r\n    \r\n    }\r\n\r\nmy .h file contains\r\n\r\n        #ifndef PROJECT_NAME_EKMCHECKSUM_H\r\n    #define PROJECT_NAME_EKMCHECKSUM_H\r\n    \r\n    class ekmCheckSum\r\n    \t{\r\n    \tprivate:\r\n    \tpublic:\r\n    \t\tekmCheckSum();\r\n    \t \tunsigned short ekmCheckCRC16(const unsigned char *dat, unsigned short len);\r\n      };\r\n    \r\n    #endif //PROJECT_NAME_EKMCHECKSUM_H\r\n    \r\nmy java file includes\r\n\r\n        \r\n     static {System.loadLibrary(&quot;ekmCheckSum&quot;);}\r\n        \r\n        private native short getCheckSum(String a);\r\n        \r\n        public void SetEkmFieldValueStrings(String A, String B)\r\n          {\r\n          /* if length of A is less than 250 chars, read is no good, discard\r\n          *  NOTE:  both Strings A and B will need to be validated for checksum\r\n          * TODO check A &amp; B if checksum is correct\r\n          * */\r\n          boolean _aOk = false, _bOk=false;\r\n        \r\n         short result = getCheckSum(A); \r\n         ...\r\n         ...\r\n\r\n\r\n       ","title":"SIGABRT error when returning from C++ code from java module in android","body":"<p>Solved my problem, was simple error of not changing one important detail before executing call i was looking for a return type of short but had String in native declaration.</p>\n<p>I had<br />\n<code>private native String getCheckSum(String a);</code></p>\n<p>it should have been</p>\n<pre><code>    `private native short getCheckSum(String a);`\n</code></pre>\n<p>My call was / is</p>\n<p>short result = getCheckSum(A);</p>\n<p>Worked fine after correcting my mistake.</p>\n<p>for those interested my c++ code</p>\n<pre><code>    #include &lt;jni.h&gt;       // JNI header provided by JDK\n#include &quot;ekmCheckSum.h&quot;\n#include &lt;iostream&gt;    // C++ standard IO header\nusing namespace std;\n\n//---------------------------------------------------------------------------\n void ekmCheckSum() {\n\n}\n\nstatic const unsigned short ekmCrcLut[256] = {\n    0x0000, 0xc0c1, 0xc181, 0x0140, 0xc301, 0x03c0, 0x0280, 0xc241,\n    0xc601, 0x06c0, 0x0780, 0xc741, 0x0500, 0xc5c1, 0xc481, 0x0440,\n    0xcc01, 0x0cc0, 0x0d80, 0xcd41, 0x0f00, 0xcfc1, 0xce81, 0x0e40,\n    0x0a00, 0xcac1, 0xcb81, 0x0b40, 0xc901, 0x09c0, 0x0880, 0xc841,\n    0xd801, 0x18c0, 0x1980, 0xd941, 0x1b00, 0xdbc1, 0xda81, 0x1a40,\n    0x1e00, 0xdec1, 0xdf81, 0x1f40, 0xdd01, 0x1dc0, 0x1c80, 0xdc41,\n    0x1400, 0xd4c1, 0xd581, 0x1540, 0xd701, 0x17c0, 0x1680, 0xd641,\n    0xd201, 0x12c0, 0x1380, 0xd341, 0x1100, 0xd1c1, 0xd081, 0x1040,\n    0xf001, 0x30c0, 0x3180, 0xf141, 0x3300, 0xf3c1, 0xf281, 0x3240,\n    0x3600, 0xf6c1, 0xf781, 0x3740, 0xf501, 0x35c0, 0x3480, 0xf441,\n    0x3c00, 0xfcc1, 0xfd81, 0x3d40, 0xff01, 0x3fc0, 0x3e80, 0xfe41,\n    0xfa01, 0x3ac0, 0x3b80, 0xfb41, 0x3900, 0xf9c1, 0xf881, 0x3840,\n    0x2800, 0xe8c1, 0xe981, 0x2940, 0xeb01, 0x2bc0, 0x2a80, 0xea41,\n    0xee01, 0x2ec0, 0x2f80, 0xef41, 0x2d00, 0xedc1, 0xec81, 0x2c40,\n    0xe401, 0x24c0, 0x2580, 0xe541, 0x2700, 0xe7c1, 0xe681, 0x2640,\n    0x2200, 0xe2c1, 0xe381, 0x2340, 0xe101, 0x21c0, 0x2080, 0xe041,\n    0xa001, 0x60c0, 0x6180, 0xa141, 0x6300, 0xa3c1, 0xa281, 0x6240,\n    0x6600, 0xa6c1, 0xa781, 0x6740, 0xa501, 0x65c0, 0x6480, 0xa441,\n    0x6c00, 0xacc1, 0xad81, 0x6d40, 0xaf01, 0x6fc0, 0x6e80, 0xae41,\n    0xaa01, 0x6ac0, 0x6b80, 0xab41, 0x6900, 0xa9c1, 0xa881, 0x6840,\n    0x7800, 0xb8c1, 0xb981, 0x7940, 0xbb01, 0x7bc0, 0x7a80, 0xba41,\n    0xbe01, 0x7ec0, 0x7f80, 0xbf41, 0x7d00, 0xbdc1, 0xbc81, 0x7c40,\n    0xb401, 0x74c0, 0x7580, 0xb541, 0x7700, 0xb7c1, 0xb681, 0x7640,\n    0x7200, 0xb2c1, 0xb381, 0x7340, 0xb101, 0x71c0, 0x7080, 0xb041,\n    0x5000, 0x90c1, 0x9181, 0x5140, 0x9301, 0x53c0, 0x5280, 0x9241,\n    0x9601, 0x56c0, 0x5780, 0x9741, 0x5500, 0x95c1, 0x9481, 0x5440,\n    0x9c01, 0x5cc0, 0x5d80, 0x9d41, 0x5f00, 0x9fc1, 0x9e81, 0x5e40,\n    0x5a00, 0x9ac1, 0x9b81, 0x5b40, 0x9901, 0x59c0, 0x5880, 0x9841,\n    0x8801, 0x48c0, 0x4980, 0x8941, 0x4b00, 0x8bc1, 0x8a81, 0x4a40,\n    0x4e00, 0x8ec1, 0x8f81, 0x4f40, 0x8d01, 0x4dc0, 0x4c80, 0x8c41,\n    0x4400, 0x84c1, 0x8581, 0x4540, 0x8701, 0x47c0, 0x4680, 0x8641,\n    0x8201, 0x42c0, 0x4380, 0x8341, 0x4100, 0x81c1, 0x8081, 0x4040\n};\n//---------------------------------------------------------------------------\nunsigned short ekmCheckCRC16(const unsigned char *dat, unsigned short len)\n{\n    unsigned short crc = 0xffff;\n\n    while (len--)\n    {\n        crc = (crc &gt;&gt; 8 ) ^ ekmCrcLut[(crc ^ *dat++) &amp; 0xff];\n    }\n\n    crc = (crc &lt;&lt; 8 ) | (crc &gt;&gt; 8);\n    crc &amp;= 0x7f7f;\n\n    return crc;\n}\n//---------------------------------------------------------------------------\n// Implementation of the native method getCheckSum()\nextern &quot;C&quot;\nJNIEXPORT unsigned short JNICALL\nJava_com_[project name]_ekmV4Fields_getCheckSum(JNIEnv *env, jobject thiz, jstring a) {\n    const char * aCStr = env-&gt;GetStringUTFChars(a, NULL);\n    if(NULL == aCStr)\n        return NULL;\n    unsigned  short crc = ekmCheckCRC16(reinterpret_cast&lt;const unsigned char *&gt;(aCStr), strlen(aCStr));\n\n    return crc;\n\n}\n</code></pre>\n<p>my .h file contains</p>\n<pre><code>    #ifndef PROJECT_NAME_EKMCHECKSUM_H\n#define PROJECT_NAME_EKMCHECKSUM_H\n\nclass ekmCheckSum\n    {\n    private:\n    public:\n        ekmCheckSum();\n        unsigned short ekmCheckCRC16(const unsigned char *dat, unsigned short len);\n  };\n\n#endif //PROJECT_NAME_EKMCHECKSUM_H\n</code></pre>\n<p>my java file includes</p>\n<pre><code> static {System.loadLibrary(&quot;ekmCheckSum&quot;);}\n    \n    private native short getCheckSum(String a);\n    \n    public void SetEkmFieldValueStrings(String A, String B)\n      {\n      /* if length of A is less than 250 chars, read is no good, discard\n      *  NOTE:  both Strings A and B will need to be validated for checksum\n      * TODO check A &amp; B if checksum is correct\n      * */\n      boolean _aOk = false, _bOk=false;\n    \n     short result = getCheckSum(A); \n     ...\n     ...\n\n\n   \n</code></pre>\n"}],"owner":{"display_name":"user16458899"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665043184,"creation_date":1665018590,"question_id":73967740,"body_markdown":"Still new to android and java but learning more each day :)\r\n\r\n[This question refers to ][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73941988/yet-another-how-to-call-c-method-from-java-have-added-to-project-and-compiles?noredirect=1#comment130585346_73941988\r\nOk, the error refers to \r\n\r\n&gt; expression failed to parse:\r\nerror: &lt;user expression 27&gt;:1:1: &#39;bl&#39; has unknown type; cast it to its declared type to use it\r\nbl\r\n^~\r\nand\r\n \r\n&gt; expression failed to parse:\r\nerror: &lt;user expression 28&gt;:1:1: &#39;uxtb&#39; has unknown type; cast it to its declared type to use it\r\nuxtb.w\r\n^~~~\r\n\r\nI call (will want a short ) `result = getCheckSum(A, B);` from my java code.\r\n\r\nThe method in my C++ code is \r\n\r\n        //---------------------------------------------------------------------------\r\n    unsigned short ekmCheckCRC16(const unsigned char *dat, unsigned short len)\r\n    {\r\n        unsigned short crc = 0xffff;\r\n    \r\n        while (len--)\r\n        {\r\n            crc = (crc &gt;&gt; 8 ) ^ ekmCrcLut[(crc ^ *dat++) &amp; 0xff];\r\n        }\r\n    \r\n        crc = (crc &lt;&lt; 8 ) | (crc &gt;&gt; 8);\r\n        crc &amp;= 0x7f7f;\r\n    \r\n        return crc;\r\n    }\r\n    //---------------------------------------------------------------------------\r\n    // Implementation of the native method getCheckSum()\r\n    extern &quot;C&quot;\r\n    JNIEXPORT unsigned short JNICALL\r\n    Java_com_(...)_getCheckSum(JNIEnv *env, jobject thiz, jstring a) {\r\n        const char * aCStr = env-&gt;GetStringUTFChars(a, NULL);\r\n        if(NULL == aCStr)\r\n            return NULL;\r\n        unsigned  short crc = ekmCheckCRC16(reinterpret_cast&lt;const unsigned char *&gt;(aCStr), strlen(aCStr));\r\n    \r\n        return crc;\r\n    \r\n    }\r\n\r\n    \r\nThis code is experimental showing the actual code I want to run ekmCheckCRC16( ... ), its purpose is to learn how to return a value back to the java module.\r\n\r\nThe error message seems to be clear &#39;unknown&#39; type cast, so question is, how should I be returning the value of aCStr?\r\n\r\nThanks in advance.\r\n  \r\n","title":"SIGABRT error when returning from C++ code from java module in android","body":"<p>Still new to android and java but learning more each day :)</p>\n<p><a href=\"https://stackoverflow.com/questions/73941988/yet-another-how-to-call-c-method-from-java-have-added-to-project-and-compiles?noredirect=1#comment130585346_73941988\">This question refers to </a></p>\n<p>Ok, the error refers to</p>\n<blockquote>\n<p>expression failed to parse:\nerror: &lt;user expression 27&gt;:1:1: 'bl' has unknown type; cast it to its declared type to use it\nbl\n^~\nand</p>\n</blockquote>\n<blockquote>\n<p>expression failed to parse:\nerror: &lt;user expression 28&gt;:1:1: 'uxtb' has unknown type; cast it to its declared type to use it\nuxtb.w\n^~~~</p>\n</blockquote>\n<p>I call (will want a short ) <code>result = getCheckSum(A, B);</code> from my java code.</p>\n<p>The method in my C++ code is</p>\n<pre><code>    //---------------------------------------------------------------------------\nunsigned short ekmCheckCRC16(const unsigned char *dat, unsigned short len)\n{\n    unsigned short crc = 0xffff;\n\n    while (len--)\n    {\n        crc = (crc &gt;&gt; 8 ) ^ ekmCrcLut[(crc ^ *dat++) &amp; 0xff];\n    }\n\n    crc = (crc &lt;&lt; 8 ) | (crc &gt;&gt; 8);\n    crc &amp;= 0x7f7f;\n\n    return crc;\n}\n//---------------------------------------------------------------------------\n// Implementation of the native method getCheckSum()\nextern &quot;C&quot;\nJNIEXPORT unsigned short JNICALL\nJava_com_(...)_getCheckSum(JNIEnv *env, jobject thiz, jstring a) {\n    const char * aCStr = env-&gt;GetStringUTFChars(a, NULL);\n    if(NULL == aCStr)\n        return NULL;\n    unsigned  short crc = ekmCheckCRC16(reinterpret_cast&lt;const unsigned char *&gt;(aCStr), strlen(aCStr));\n\n    return crc;\n\n}\n</code></pre>\n<p>This code is experimental showing the actual code I want to run ekmCheckCRC16( ... ), its purpose is to learn how to return a value back to the java module.</p>\n<p>The error message seems to be clear 'unknown' type cast, so question is, how should I be returning the value of aCStr?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","api","moodle"],"comments":[{"owner":{"account_id":4900106,"reputation":1024,"user_id":3948711,"display_name":"Alex Baranowski"},"score":0,"creation_date":1483807563,"post_id":41522924,"comment_id":70253497,"body_markdown":"Generally speaking if something has API you can interact with it. There are plenty repos on github that you can use in order to understand how to do it. [Searching on github](https://github.com/search?l=Java&amp;q=moodle&amp;type=Repositories&amp;utf8=%E2%9C%93)","body":"Generally speaking if something has API you can interact with it. There are plenty repos on github that you can use in order to understand how to do it. <a href=\"https://github.com/search?l=Java&amp;q=moodle&amp;type=Repositories&amp;utf8=%E2%9C%93\" rel=\"nofollow noreferrer\">Searching on github</a>"},{"owner":{"account_id":7495825,"reputation":504,"user_id":5696129,"accept_rate":43,"display_name":"Nephilim"},"score":0,"creation_date":1483972213,"post_id":41522924,"comment_id":70305472,"body_markdown":"@AlexBaranowski I still dont understand. Would I be able to just develop an app that generates a bunch of URL requests then parses the JSON to fit a GUI?","body":"@AlexBaranowski I still dont understand. Would I be able to just develop an app that generates a bunch of URL requests then parses the JSON to fit a GUI?"},{"owner":{"account_id":4900106,"reputation":1024,"user_id":3948711,"display_name":"Alex Baranowski"},"score":0,"creation_date":1483988372,"post_id":41522924,"comment_id":70315199,"body_markdown":"You can look on already working app - [Github](https://github.com/praveendath92/MDroid) - the author is using rest and gson [Gson on github](https://github.com/google/gson). Gson is library that can convert java objects to json and json to java object. The example usage can be find in MDroid repo [example gson (json) + rest](https://github.com/praveendath92/MDroid/blob/master/app/src/main/java/in/co/praveenkumar/mdroid/moodlerest/MoodleRestCourse.java).\n\nSO it&#39;s cleary possible to interact with Moodle via REST/JSON api :).","body":"You can look on already working app - <a href=\"https://github.com/praveendath92/MDroid\" rel=\"nofollow noreferrer\">Github</a> - the author is using rest and gson <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson on github</a>. Gson is library that can convert java objects to json and json to java object. The example usage can be find in MDroid repo <a href=\"https://github.com/praveendath92/MDroid/blob/master/app/src/main/java/in/co/praveenkumar/mdroid/moodlerest/MoodleRestCourse.java\" rel=\"nofollow noreferrer\">example gson (json) + rest</a>.  SO it&#39;s cleary possible to interact with Moodle via REST/JSON api :)."}],"answers":[{"tags":[],"owner":{"account_id":468922,"reputation":538,"user_id":875177,"accept_rate":60,"display_name":"Bearzi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1484047027,"creation_date":1484047027,"answer_id":41567522,"question_id":41522924,"body_markdown":"Please note that &quot;API&quot; in moodle does not automatically refer to webservices like you are used to communicate with.\r\n\r\nSee https://docs.moodle.org/32/en/Mobile_web_services and https://docs.moodle.org/32/en/Using_web_services and https://docs.moodle.org/dev/Web_service_API_functions\r\n\r\nThese docs might be interesting for you.\r\n\r\nBeside the existing webservice methods, you can also create your own moodle plugin, which provides the methods required, some info can be found here https://docs.moodle.org/dev/Adding_a_web_service_to_a_plugin\r\n","title":"Is it possible to have my app communicate with moodle?","body":"<p>Please note that \"API\" in moodle does not automatically refer to webservices like you are used to communicate with.</p>\n\n<p>See <a href=\"https://docs.moodle.org/32/en/Mobile_web_services\" rel=\"nofollow noreferrer\">https://docs.moodle.org/32/en/Mobile_web_services</a> and <a href=\"https://docs.moodle.org/32/en/Using_web_services\" rel=\"nofollow noreferrer\">https://docs.moodle.org/32/en/Using_web_services</a> and <a href=\"https://docs.moodle.org/dev/Web_service_API_functions\" rel=\"nofollow noreferrer\">https://docs.moodle.org/dev/Web_service_API_functions</a></p>\n\n<p>These docs might be interesting for you.</p>\n\n<p>Beside the existing webservice methods, you can also create your own moodle plugin, which provides the methods required, some info can be found here <a href=\"https://docs.moodle.org/dev/Adding_a_web_service_to_a_plugin\" rel=\"nofollow noreferrer\">https://docs.moodle.org/dev/Adding_a_web_service_to_a_plugin</a></p>\n"}],"owner":{"account_id":7495825,"reputation":504,"user_id":5696129,"accept_rate":43,"display_name":"Nephilim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1867,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1665043120,"creation_date":1483802054,"question_id":41522924,"body_markdown":"I am thinking about building a student app, that would use Moodle data, and notify the user when a new file has been uploaded, and perhaps  do something like checking your grades etc.\r\n\r\nI&#39;m quite new to android programming and can get easily confused with the technical terms. I&#39;ve looked around the web and found that there is an API, but I dont really 100% know what that means. Which is weird since I&#39;ve communicated with API&#39;s like the OpenWeatherMap one and uTorrent. Would Moodle&#39;s api do the same? Make it easier for me to get their data? Their descriptions are really technical and I can not understand much.","title":"Is it possible to have my app communicate with moodle?","body":"<p>I am thinking about building a student app, that would use Moodle data, and notify the user when a new file has been uploaded, and perhaps  do something like checking your grades etc.</p>\n\n<p>I'm quite new to android programming and can get easily confused with the technical terms. I've looked around the web and found that there is an API, but I dont really 100% know what that means. Which is weird since I've communicated with API's like the OpenWeatherMap one and uTorrent. Would Moodle's api do the same? Make it easier for me to get their data? Their descriptions are really technical and I can not understand much.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":21459,"reputation":31234,"user_id":52162,"accept_rate":83,"display_name":"jensgram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665043000,"creation_date":1665043000,"answer_id":73970347,"question_id":73970136,"body_markdown":"I may be mistaken here, but the following looks odd:\r\n\r\n```\r\n  HttpHeaders headers = new HttpHeaders();\r\n  ResponseEntity.ok().header(HttpHeaders.SET_COOKIE, jwtCookie.toString()); // What now?\r\n  headers.add(&quot;Location&quot;, &quot;/api/users/tripAdvisorHomePage&quot;);\r\n  return new ResponseEntity&lt;String&gt;(headers, HttpStatus.FOUND);\r\n```\r\n\r\nThe `Set-Cookie` header is never part of the _actually returned_ `ResponseEntity`. Try adding the `Set-Cookie` and `Location` header to the same response entity:\r\n\r\n```\r\nreturn ResponseEntity\r\n  .status(HttpStatus.FOUND)\r\n  .location(&quot;/api/users/tripAdvisorHomePage&quot;)\r\n  .header(HttpHeaders.SET_COOKIE, jwtCookie.toString())\r\n  .build();\r\n```\r\n\r\n(untested)","title":"I have blocked the URL for a user who is not logged in, but after the user logs in he still cannot access the URL","body":"<p>I may be mistaken here, but the following looks odd:</p>\n<pre><code>  HttpHeaders headers = new HttpHeaders();\n  ResponseEntity.ok().header(HttpHeaders.SET_COOKIE, jwtCookie.toString()); // What now?\n  headers.add(&quot;Location&quot;, &quot;/api/users/tripAdvisorHomePage&quot;);\n  return new ResponseEntity&lt;String&gt;(headers, HttpStatus.FOUND);\n</code></pre>\n<p>The <code>Set-Cookie</code> header is never part of the <em>actually returned</em> <code>ResponseEntity</code>. Try adding the <code>Set-Cookie</code> and <code>Location</code> header to the same response entity:</p>\n<pre><code>return ResponseEntity\n  .status(HttpStatus.FOUND)\n  .location(&quot;/api/users/tripAdvisorHomePage&quot;)\n  .header(HttpHeaders.SET_COOKIE, jwtCookie.toString())\n  .build();\n</code></pre>\n<p>(untested)</p>\n"}],"owner":{"account_id":26446486,"reputation":51,"user_id":20090266,"display_name":"Stefan Jankovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73970347,"answer_count":1,"score":0,"last_activity_date":1665043000,"creation_date":1665041940,"question_id":73970136,"body_markdown":"Title says it all. \r\n\r\n- `WebSecurityConfig`\r\n\r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception {\r\n        http.cors().and().csrf().disable()\r\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                .authorizeRequests().antMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                .antMatchers(&quot;/api/users/**&quot;).authenticated()\r\n                .antMatchers(h2ConsolePath + &quot;/**&quot;).permitAll().and()\r\n                .formLogin().loginPage(&quot;/api/auth/loginAndRegisterForm&quot;)\r\n                .successForwardUrl(&quot;/api/users/tripAdvisorHomePage&quot;).and()\r\n                .logout().logoutUrl(&quot;/api/auth/logout&quot;).logoutSuccessUrl(&quot;/api/auth/loginAndRegisterForm&quot;)\r\n                .permitAll();\r\n        http.headers().frameOptions().sameOrigin();\r\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\r\n      }\r\n\r\nAs you can see I have `.antMatchers(&quot;/api/users/**&quot;).authenticated()` and that works, I cant access that URL, getting `Unauthorized error: Full authentication is required to access this resource` with code `401`. \r\n\r\nBut when I go back and enter a credentials and get redirected to `successForwardUrl(&quot;/api/users/tripAdvisorHomePage&quot;)` its still `Full authentication is required`.\r\n\r\n- This is my `login` method:\r\n\r\n      @PostMapping(&quot;/login&quot;)\r\n      @Transactional\r\n      public ResponseEntity&lt;?&gt; login(@Valid @ModelAttribute(&quot;login&quot;) \r\n      LoginRequest loginRequest, Model model) {\r\n        Authentication authentication = authenticationManager.\r\n                authenticate(new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n        UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\r\n\r\n        ResponseCookie jwtCookie = jwtHelper.generateJwtCookie(user);\r\n        System.out.println(jwtCookie);\r\n\r\n\r\n        model.addAttribute(&quot;login&quot;, loginRequest);\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        ResponseEntity.ok().header(HttpHeaders.SET_COOKIE, jwtCookie.toString());\r\n        headers.add(&quot;Location&quot;, &quot;/api/users/tripAdvisorHomePage&quot;);\r\n        return new ResponseEntity&lt;String&gt;(headers, HttpStatus.FOUND);\r\n\r\n- This is my method to show page if user is logged in.\r\n\r\n      @GetMapping(&quot;/tripAdvisorHomePage&quot;)\r\n      public String index() {\r\n        return &quot;tripAdvisorHomePage&quot;;\r\n      }\r\n\r\nAnd on top of class I have `@RequestMapping(&quot;/api/users&quot;)` so the URL for that `index` API is like in `WebSecurityConfig` - `&quot;/api/users/tripAdvisorHomePage&quot;`\r\n\r\nI tried to find something useful around but there are all specific ways for each and other and so far I had no success.","title":"I have blocked the URL for a user who is not logged in, but after the user logs in he still cannot access the URL","body":"<p>Title says it all.</p>\n<ul>\n<li><p><code>WebSecurityConfig</code></p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n  http.cors().and().csrf().disable()\n          .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n          .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n          .authorizeRequests().antMatchers(&quot;/api/auth/**&quot;).permitAll()\n          .antMatchers(&quot;/api/users/**&quot;).authenticated()\n          .antMatchers(h2ConsolePath + &quot;/**&quot;).permitAll().and()\n          .formLogin().loginPage(&quot;/api/auth/loginAndRegisterForm&quot;)\n          .successForwardUrl(&quot;/api/users/tripAdvisorHomePage&quot;).and()\n          .logout().logoutUrl(&quot;/api/auth/logout&quot;).logoutSuccessUrl(&quot;/api/auth/loginAndRegisterForm&quot;)\n          .permitAll();\n  http.headers().frameOptions().sameOrigin();\n  http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n}\n</code></pre>\n</li>\n</ul>\n<p>As you can see I have <code>.antMatchers(&quot;/api/users/**&quot;).authenticated()</code> and that works, I cant access that URL, getting <code>Unauthorized error: Full authentication is required to access this resource</code> with code <code>401</code>.</p>\n<p>But when I go back and enter a credentials and get redirected to <code>successForwardUrl(&quot;/api/users/tripAdvisorHomePage&quot;)</code> its still <code>Full authentication is required</code>.</p>\n<ul>\n<li><p>This is my <code>login</code> method:</p>\n<pre><code>@PostMapping(&quot;/login&quot;)\n@Transactional\npublic ResponseEntity&lt;?&gt; login(@Valid @ModelAttribute(&quot;login&quot;) \nLoginRequest loginRequest, Model model) {\n  Authentication authentication = authenticationManager.\n          authenticate(new UsernamePasswordAuthenticationToken(loginRequest.getUsername(), loginRequest.getPassword()));\n  SecurityContextHolder.getContext().setAuthentication(authentication);\n  UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\n\n  ResponseCookie jwtCookie = jwtHelper.generateJwtCookie(user);\n  System.out.println(jwtCookie);\n\n\n  model.addAttribute(&quot;login&quot;, loginRequest);\n\n  HttpHeaders headers = new HttpHeaders();\n  ResponseEntity.ok().header(HttpHeaders.SET_COOKIE, jwtCookie.toString());\n  headers.add(&quot;Location&quot;, &quot;/api/users/tripAdvisorHomePage&quot;);\n  return new ResponseEntity&lt;String&gt;(headers, HttpStatus.FOUND);\n</code></pre>\n</li>\n<li><p>This is my method to show page if user is logged in.</p>\n<pre><code>@GetMapping(&quot;/tripAdvisorHomePage&quot;)\npublic String index() {\n  return &quot;tripAdvisorHomePage&quot;;\n}\n</code></pre>\n</li>\n</ul>\n<p>And on top of class I have <code>@RequestMapping(&quot;/api/users&quot;)</code> so the URL for that <code>index</code> API is like in <code>WebSecurityConfig</code> - <code>&quot;/api/users/tripAdvisorHomePage&quot;</code></p>\n<p>I tried to find something useful around but there are all specific ways for each and other and so far I had no success.</p>\n"},{"tags":["java","azure","azure-functions","azure-functions-runtime","azure-functions-core-tools"],"comments":[{"owner":{"account_id":21648949,"reputation":1274,"user_id":15969858,"display_name":"RKM"},"score":0,"creation_date":1663240422,"post_id":73713321,"comment_id":130194973,"body_markdown":"looking at the error message we understood that its an authorization error. Could you please let us know do you have the contributor access to the function app?\nIf you have recently got the contributor access, try to re-login and do the deployment again.","body":"looking at the error message we understood that its an authorization error. Could you please let us know do you have the contributor access to the function app? If you have recently got the contributor access, try to re-login and do the deployment again."},{"owner":{"account_id":21648949,"reputation":1274,"user_id":15969858,"display_name":"RKM"},"score":0,"creation_date":1664255664,"post_id":73713321,"comment_id":130423239,"body_markdown":"Did you check this @Preethi H R?","body":"Did you check this @Preethi H R?"},{"owner":{"display_name":"anon"},"score":0,"creation_date":1665043149,"post_id":73713321,"comment_id":130607746,"body_markdown":"@Preethi H R, please mask the subscription Id, object Id and official email id from the above image in the question.","body":"@Preethi H R, please mask the subscription Id, object Id and official email id from the above image in the question."}],"answers":[{"tags":[],"owner":{"display_name":"anon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665041626,"creation_date":1665041626,"answer_id":73970095,"question_id":73713321,"body_markdown":"I have created the user in my Azure Subscription and provided the **reader** role access and then deployed the function app from local to Azure using the maven cmdlet `mvn azure-functions:deploy`:\r\n\r\n![enter image description here](https://i.stack.imgur.com/fUQZM.png)\r\n\r\n\r\nSo, instead of reader role on the subscription, provided **contributor** role this time and checked the deployment which is successful:\r\n\r\n![enter image description here](https://i.stack.imgur.com/WtYq5.png)\r\n\r\n**In Azure Portal**:\r\n\r\n![enter image description here](https://i.stack.imgur.com/yJVKU.png)\r\n\r\n\r\nNot only the Contributor access, two more roles available \r\n\r\n![enter image description here](https://i.stack.imgur.com/UOsgK.png)\r\n\r\n\r\nin accessing the Function App with specific privileges mentioned in one of the [MSFT Q&amp;A Answer](https://learn.microsoft.com/en-us/answers/questions/669276/azure-function-rbac.html) by @*MughundhanRaveendran*.\r\n\r\n","title":"Java Azure Functions deployment error: Failed to execute goal com.microsoft.azure:azure-functions-maven-plugin:1.19.0:deploy","body":"<p>I have created the user in my Azure Subscription and provided the <strong>reader</strong> role access and then deployed the function app from local to Azure using the maven cmdlet <code>mvn azure-functions:deploy</code>:</p>\n<p><img src=\"https://i.stack.imgur.com/fUQZM.png\" alt=\"enter image description here\" /></p>\n<p>So, instead of reader role on the subscription, provided <strong>contributor</strong> role this time and checked the deployment which is successful:</p>\n<p><img src=\"https://i.stack.imgur.com/WtYq5.png\" alt=\"enter image description here\" /></p>\n<p><strong>In Azure Portal</strong>:</p>\n<p><img src=\"https://i.stack.imgur.com/yJVKU.png\" alt=\"enter image description here\" /></p>\n<p>Not only the Contributor access, two more roles available</p>\n<p><img src=\"https://i.stack.imgur.com/UOsgK.png\" alt=\"enter image description here\" /></p>\n<p>in accessing the Function App with specific privileges mentioned in one of the <a href=\"https://learn.microsoft.com/en-us/answers/questions/669276/azure-function-rbac.html\" rel=\"nofollow noreferrer\">MSFT Q&amp;A Answer</a> by @<em>MughundhanRaveendran</em>.</p>\n"}],"owner":{"account_id":16476340,"reputation":43,"user_id":11904210,"display_name":"Preethi H R "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665041626,"creation_date":1663141943,"question_id":73713321,"body_markdown":"I have created a azure function in java created Using Command line by following below given Microsoft guide https://docs.microsoft.com/en-us/azure/azure-functions/create-first-function-cli-java\r\n\r\nI have followed all the steps and locally I have deployed the functions and it is working fine but while trying to deploy into Azure using the following commands:\r\n\r\n[![error][1]][1]\r\n\r\n\r\nI am getting the following error on Command line:\r\n[![error][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7fPyC.png\r\n  [2]: https://i.stack.imgur.com/pzJFT.png\r\n\r\nAnyone please help me in resolving the above error to deploy the function into azure.\r\n\r\nThanks &amp; Regards, \r\nPreethi H R","title":"Java Azure Functions deployment error: Failed to execute goal com.microsoft.azure:azure-functions-maven-plugin:1.19.0:deploy","body":"<p>I have created a azure function in java created Using Command line by following below given Microsoft guide <a href=\"https://learn.microsoft.com/en-us/azure/azure-functions/create-first-function-cli-java\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/azure-functions/create-first-function-cli-java</a></p>\n<p>I have followed all the steps and locally I have deployed the functions and it is working fine but while trying to deploy into Azure using the following commands:</p>\n<p><a href=\"https://i.stack.imgur.com/7fPyC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7fPyC.png\" alt=\"error\" /></a></p>\n<p>I am getting the following error on Command line:\n<a href=\"https://i.stack.imgur.com/pzJFT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pzJFT.png\" alt=\"error\" /></a></p>\n<p>Anyone please help me in resolving the above error to deploy the function into azure.</p>\n<p>Thanks &amp; Regards,\nPreethi H R</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1665042469,"post_id":73969971,"comment_id":130607528,"body_markdown":"Because toolbar is shared.","body":"Because toolbar is shared."},{"owner":{"account_id":25270658,"reputation":11,"user_id":19100028,"display_name":"HaPhoba"},"score":0,"creation_date":1665042730,"post_id":73969971,"comment_id":130607608,"body_markdown":"How can I fix it?","body":"How can I fix it?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1665044237,"post_id":73969971,"comment_id":130608098,"body_markdown":"Set it again to whatever you require","body":"Set it again to whatever you require"}],"owner":{"account_id":25270658,"reputation":11,"user_id":19100028,"display_name":"HaPhoba"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665041618,"creation_date":1665040906,"question_id":73969971,"body_markdown":"I changed colors of toolbar&#39;s background and its icon in one Activity.\r\nbut when I start other Activities, changed Colors is maintained....\r\n\r\n            setSupportActionBar(binding.toolbar);\r\n            getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n    \r\n            binding.toolbar.getBackground().setAlpha(0);\r\n            binding.toolbar.getNavigationIcon().setTint(getResources().getColor(R.color.black,null));\r\n            binding.toolbar.getOverflowIcon().setTint(getResources().getColor(R.color.black,null));\r\n            binding.toolbar.setTitleTextColor(Color.argb(0,255,255,255));\r\n\r\n\r\nWhat is the problem??","title":"Why toolbar&#39;s background color is maintained?","body":"<p>I changed colors of toolbar's background and its icon in one Activity.\nbut when I start other Activities, changed Colors is maintained....</p>\n<pre><code>        setSupportActionBar(binding.toolbar);\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n\n        binding.toolbar.getBackground().setAlpha(0);\n        binding.toolbar.getNavigationIcon().setTint(getResources().getColor(R.color.black,null));\n        binding.toolbar.getOverflowIcon().setTint(getResources().getColor(R.color.black,null));\n        binding.toolbar.setTitleTextColor(Color.argb(0,255,255,255));\n</code></pre>\n<p>What is the problem??</p>\n"},{"tags":["java","regex","split"],"comments":[{"owner":{"account_id":4739783,"reputation":612575,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1665046721,"post_id":73969006,"comment_id":130608903,"body_markdown":"When you split, you get a string array. Why do you need an array list? Are you sure about the type of the result?","body":"When you split, you get a string array. Why do you need an array list? Are you sure about the type of the result?"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665034362,"creation_date":1665034362,"answer_id":73969028,"question_id":73969006,"body_markdown":"One approach:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String line = &quot;2022{yyyy}{mm}{dd}&quot;;\r\n    String[] parts = line.split(&quot;[{}]+&quot;);\r\n    System.out.println(Arrays.toString(parts));  // [2022, yyyy, mm, dd]\r\n\r\nAnother possibility might be to do a regex find all on `\\w+` using a formal pattern matcher.","title":"Split string with two brackets","body":"<p>One approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String line = &quot;2022{yyyy}{mm}{dd}&quot;;\nString[] parts = line.split(&quot;[{}]+&quot;);\nSystem.out.println(Arrays.toString(parts));  // [2022, yyyy, mm, dd]\n</code></pre>\n<p>Another possibility might be to do a regex find all on <code>\\w+</code> using a formal pattern matcher.</p>\n"},{"tags":[],"owner":{"account_id":328297,"reputation":106386,"user_id":651174,"accept_rate":92,"display_name":"David542"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665041560,"creation_date":1665041560,"answer_id":73970082,"question_id":73969006,"body_markdown":"Here would be an example approach if you wanted to use four capturing groups:\r\n\r\n- [`(\\d{4}){(y{4})}{(m{2})}{(d{2})}`](https://regex101.com/r/O59FiG/1)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHaving said that, Tim&#39;s approach is much simpler and I&#39;d go for that.\r\n\r\n  [1]: https://i.stack.imgur.com/6pZWb.png","title":"Split string with two brackets","body":"<p>Here would be an example approach if you wanted to use four capturing groups:</p>\n<ul>\n<li><a href=\"https://regex101.com/r/O59FiG/1\" rel=\"nofollow noreferrer\"><code>(\\d{4}){(y{4})}{(m{2})}{(d{2})}</code></a></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/6pZWb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6pZWb.png\" alt=\"enter image description here\" /></a></p>\n<p>Having said that, Tim's approach is much simpler and I'd go for that.</p>\n"}],"owner":{"account_id":24552187,"reputation":41,"user_id":18461232,"display_name":"hanchao"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":7,"up_vote_count":2,"closed_date":1665089563,"accepted_answer_id":73969028,"answer_count":2,"score":-5,"last_activity_date":1665041560,"creation_date":1665034251,"question_id":73969006,"body_markdown":"I have a string that comes out like this:\r\n\r\n    String line = &quot;2022{yyyy}{mm}{dd}&quot;;\r\n\r\n\r\nI want to split it into an arraylist like this:\r\n\r\n    2022\r\n    yyyy\r\n    mm\r\n    dd\r\n\r\nhow can i do this?","title":"Split string with two brackets","body":"<p>I have a string that comes out like this:</p>\n<pre><code>String line = &quot;2022{yyyy}{mm}{dd}&quot;;\n</code></pre>\n<p>I want to split it into an arraylist like this:</p>\n<pre><code>2022\nyyyy\nmm\ndd\n</code></pre>\n<p>how can i do this?</p>\n"},{"tags":["java","spring","spring-boot","servlets","streamingresponsebody"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1665041266,"post_id":73969980,"comment_id":130607156,"body_markdown":"Zip to filesystem. Close stream, determine size, then stream to client. If you really want you need an intermediate step.","body":"Zip to filesystem. Close stream, determine size, then stream to client. If you really want you need an intermediate step."},{"owner":{"account_id":15598270,"reputation":35,"user_id":11253079,"display_name":"Venkatasai Janaparapu"},"score":0,"creation_date":1665041886,"post_id":73969980,"comment_id":130607351,"body_markdown":"Hi @M.Deinum we are wrapping the zip similar to https://medium.com/swlh/streaming-data-with-spring-boot-restful-web-service-87522511c071 using lamda. Without filesystem is it possible to set content length.","body":"Hi @M.Deinum we are wrapping the zip similar to <a href=\"https://medium.com/swlh/streaming-data-with-spring-boot-restful-web-service-87522511c071\" rel=\"nofollow noreferrer\">medium.com/swlh/&hellip;</a> using lamda. Without filesystem is it possible to set content length."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1665042044,"post_id":73969980,"comment_id":130607395,"body_markdown":"You would need to store it in memory in a byte[] or `ByteArrayOutputStream` however that is really memory intensive and might lead to OOM.","body":"You would need to store it in memory in a byte[] or <code>ByteArrayOutputStream</code> however that is really memory intensive and might lead to OOM."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1665042340,"post_id":73969980,"comment_id":130607496,"body_markdown":"If you are using the code from the link, you are actually using a file system (as a `File` is just that, a resource on the filesystem).","body":"If you are using the code from the link, you are actually using a file system (as a <code>File</code> is just that, a resource on the filesystem)."}],"owner":{"account_id":15598270,"reputation":35,"user_id":11253079,"display_name":"Venkatasai Janaparapu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665041240,"creation_date":1665040947,"question_id":73969980,"body_markdown":"I&#39;m trying to download a zip file in spring boot. Using `HttpServletResponse` output stream. We will be reading a file from local, zip it, inside `StreamingResponseBody` and add it in the return statement of `ResponseEntity.body(StreamingResponseBody)`. We require content length to show progress bar in UI. We can get `zipEntry.getCompressedSize()` for the content length. But as soon as the zip file is written spring boot sending response headers to UI and I&#39;ll be getting content length only after I close zipoutputstream. Because of this I&#39;m getting 0 as content length as a header in UI. \r\nCan you please help me to properly add content length to response headers.\r\n\r\n\r\nThanks in advance.","title":"Not able to set content length for ResponseEntity&lt;StreamingResponseBody&gt;","body":"<p>I'm trying to download a zip file in spring boot. Using <code>HttpServletResponse</code> output stream. We will be reading a file from local, zip it, inside <code>StreamingResponseBody</code> and add it in the return statement of <code>ResponseEntity.body(StreamingResponseBody)</code>. We require content length to show progress bar in UI. We can get <code>zipEntry.getCompressedSize()</code> for the content length. But as soon as the zip file is written spring boot sending response headers to UI and I'll be getting content length only after I close zipoutputstream. Because of this I'm getting 0 as content length as a header in UI.\nCan you please help me to properly add content length to response headers.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","arangodb"],"owner":{"account_id":26542810,"reputation":11,"user_id":20173295,"display_name":"Vaibhav Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2686,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665041184,"creation_date":1665041184,"question_id":73970024,"body_markdown":"Arango version 3.3.16\r\n\r\nWe are creating connection trough java service as below\r\n\r\n\treturn new ArangoDB.Builder().host(host, port).user(user).password(password).useProtocol(Protocol.VST)\r\n\t\t\t.useSsl(ssl).maxConnections(1).connectionTtl(1000 * 60 * 3L).build();\r\nbelow are the java driver versions used\r\n\r\n\t\tarangodb-spring-data\r\n\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\r\n\t\tarangodb-java-driver\r\n\t\t&lt;version&gt;4.7.0&lt;/version&gt;\r\nwe are getting below error frequently is some requests\r\n\r\n\r\nstandard code used to query database \r\n\tpublic Iterable&lt;? extends Object&gt; queryArango(String query, Map&lt;String, Object&gt; bindVars, Class className) {\r\n\r\n\t\tArangoDatabase db = null;\r\n\t\tArangoCursor&lt;Object&gt; cursor = null;\r\n\r\n\t\ttry {\r\n\t\t\tdb = multitenantDbFactory.connectDB().db(multitenantDbFactory.getDb());\r\n\t\t\tcursor = db.query(query, bindVars, null, className);\r\n\r\n\t\t\tList&lt;? extends Object&gt; result = cursor.asListRemaining();\r\n\r\n\t\t\tList&lt;Object&gt; response = new ArrayList&lt;&gt;();\r\n\r\n\t\t\tfor (Object baseDocument : result) {\r\n\t\t\t\tif (log.isDebugEnabled()) {\r\n\t\t\t\t\tlog.info(&quot;result {}&quot;, baseDocument.getClass());\r\n\t\t\t\t}\r\n\t\t\t\tresponse.add(baseDocument);\r\n\t\t\t}\r\n\t\t\treturn response;\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tcursor.close();\r\n\t\t\t\tdb.arango().shutdown();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tlog.warn(&quot;Failed to close the query cursor, possible memory leak &quot;, e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\nCould not connect to host[addr=XXXXXX,port=XXXX] or SSL Handshake failed. Try connecting to host[addr=XXXXXX,port=XXXX]\r\n\r\ng.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\r\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:321)\r\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:284)\r\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:118)\r\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1100)\r\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at","title":"Could not connect to host[addr=XXXXXX,port=XXXX] or SSL Handshake failed. Try connecting to host[addr=XXXXXX,port=XXXX] || Arango Broken PIPe","body":"<p>Arango version 3.3.16</p>\n<p>We are creating connection trough java service as below</p>\n<pre><code>return new ArangoDB.Builder().host(host, port).user(user).password(password).useProtocol(Protocol.VST)\n        .useSsl(ssl).maxConnections(1).connectionTtl(1000 * 60 * 3L).build();\n</code></pre>\n<p>below are the java driver versions used</p>\n<pre><code>    arangodb-spring-data\n    &lt;version&gt;3.2.0&lt;/version&gt;\n\n    arangodb-java-driver\n    &lt;version&gt;4.7.0&lt;/version&gt;\n</code></pre>\n<p>we are getting below error frequently is some requests</p>\n<p>standard code used to query database\npublic Iterable&lt;? extends Object&gt; queryArango(String query, Map&lt;String, Object&gt; bindVars, Class className) {</p>\n<pre><code>    ArangoDatabase db = null;\n    ArangoCursor&lt;Object&gt; cursor = null;\n\n    try {\n        db = multitenantDbFactory.connectDB().db(multitenantDbFactory.getDb());\n        cursor = db.query(query, bindVars, null, className);\n\n        List&lt;? extends Object&gt; result = cursor.asListRemaining();\n\n        List&lt;Object&gt; response = new ArrayList&lt;&gt;();\n\n        for (Object baseDocument : result) {\n            if (log.isDebugEnabled()) {\n                log.info(&quot;result {}&quot;, baseDocument.getClass());\n            }\n            response.add(baseDocument);\n        }\n        return response;\n    } finally {\n        try {\n            cursor.close();\n            db.arango().shutdown();\n        } catch (IOException e) {\n            log.warn(&quot;Failed to close the query cursor, possible memory leak &quot;, e);\n        }\n    }\n\n}\n</code></pre>\n<p>Could not connect to host[addr=XXXXXX,port=XXXX] or SSL Handshake failed. Try connecting to host[addr=XXXXXX,port=XXXX]</p>\n<p>g.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:321)\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:284)\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:118)\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1100)\nadmit_erpservicescalendar.1.m84fuptatr8a@ADMIT-PROD-MEMBER2-NEW | at</p>\n"},{"tags":["java","spring","initialization","conditional-statements","autowired"],"answers":[{"tags":[],"owner":{"account_id":2155152,"reputation":3994,"user_id":1910582,"accept_rate":88,"display_name":"Bond - Java Bond"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1424164891,"creation_date":1424164891,"answer_id":28558464,"question_id":28556627,"body_markdown":"If we have a look at [java docs][1] for `Condition` interface - \r\n\r\n&gt; Conditions must follow the same restrictions as `BeanFactoryPostProcessor` and take care to never interact with bean instances.\r\n\r\nThe restrictions are (*from [java docs][2] of `BeanFactoryPostProcessor`*)\r\n\r\n&gt; A `BeanFactoryPostProcessor` may interact with and modify bean definitions, but **never** bean instances. Doing so may cause premature bean instantiation, violating the container and causing unintended side-effects.\r\n\r\nSo what you are trying to achieve is something *not recommended*; side effects of which already encountered.\r\n\r\nHowever if we dig further in docs for `Condition` we get \r\n\r\n&gt; For more fine-grained control of conditions that interact with @Configuration beans consider the `ConfigurationCondition` interface.\r\n\r\nHere as well the *restrictions* are in violation. Thus all in all using `Condition` in this scenario is not a good idea.\r\n\r\nSo IMO the best bet for you is to go with [@Profile][3] where you can activate the desired profile at a time and use the respective bean; without considering the frills attached.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/Condition.html\r\n  [2]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/factory/config/BeanFactoryPostProcessor.html\r\n  [3]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/Profile.html","title":"How to autowire properties bean from Condition","body":"<p>If we have a look at <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/Condition.html\" rel=\"nofollow\">java docs</a> for <code>Condition</code> interface - </p>\n\n<blockquote>\n  <p>Conditions must follow the same restrictions as <code>BeanFactoryPostProcessor</code> and take care to never interact with bean instances.</p>\n</blockquote>\n\n<p>The restrictions are (<em>from <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/factory/config/BeanFactoryPostProcessor.html\" rel=\"nofollow\">java docs</a> of <code>BeanFactoryPostProcessor</code></em>)</p>\n\n<blockquote>\n  <p>A <code>BeanFactoryPostProcessor</code> may interact with and modify bean definitions, but <strong>never</strong> bean instances. Doing so may cause premature bean instantiation, violating the container and causing unintended side-effects.</p>\n</blockquote>\n\n<p>So what you are trying to achieve is something <em>not recommended</em>; side effects of which already encountered.</p>\n\n<p>However if we dig further in docs for <code>Condition</code> we get </p>\n\n<blockquote>\n  <p>For more fine-grained control of conditions that interact with @Configuration beans consider the <code>ConfigurationCondition</code> interface.</p>\n</blockquote>\n\n<p>Here as well the <em>restrictions</em> are in violation. Thus all in all using <code>Condition</code> in this scenario is not a good idea.</p>\n\n<p>So IMO the best bet for you is to go with <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/Profile.html\" rel=\"nofollow\">@Profile</a> where you can activate the desired profile at a time and use the respective bean; without considering the frills attached.</p>\n"},{"tags":[],"owner":{"account_id":26542806,"reputation":1,"user_id":20173291,"display_name":"V&#245; Tiến An"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665041013,"creation_date":1665041013,"answer_id":73969993,"question_id":28556627,"body_markdown":"To get system properties in Condition, I use `conditionContext.getEnvironment().getProperty(&quot;app.x.y.z&quot;, String.class);`","title":"How to autowire properties bean from Condition","body":"<p>To get system properties in Condition, I use <code>conditionContext.getEnvironment().getProperty(&quot;app.x.y.z&quot;, String.class);</code></p>\n"}],"owner":{"account_id":4633564,"reputation":132,"user_id":3755385,"accept_rate":40,"display_name":"biven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4382,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":28558464,"answer_count":2,"score":6,"last_activity_date":1665041013,"creation_date":1424157506,"question_id":28556627,"body_markdown":"Does have anyone way to autowire bean in Condition? \r\n\r\nThere is an next example. We have 2 implementation of FileManager. One of implementation should be initialize in depends on property &#39;platform&#39;. Properties handles via Archaius.\r\n\r\n    @Component\r\n    public class AwsPlatformCondition implements Condition {\r\n    \r\n        @Autowired\r\n        private ArchaiusProperties archaiusProperties;\r\n    \r\n        @Override\r\n        public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {\r\n            return &quot;aws&quot;.equalsIgnoreCase(archaiusProperties.getStringProperty(PropertiesMapper.PLATFORM));\r\n        }\r\n    }\r\n\r\n.\r\n\r\n    @Component\r\n    public class StandardPlatformCondition implements Condition {\r\n    \r\n        @Autowired\r\n        private ArchaiusProperties archaiusProperties;\r\n    \r\n        @Override\r\n        public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {\r\n            return &quot;standard&quot;.equalsIgnoreCase(archaiusProperties.getStringProperty(PropertiesMapper.PLATFORM));\r\n        }\r\n    }\r\n\r\n.\r\n\r\n    @Component\r\n    @Conditional(AwsPlatformCondition.class)\r\n    public class AS3FileManager implements FileManager {\r\n    ...\r\n    }\r\n\r\n.\r\n\r\n    @Component\r\n    @Conditional(StandardPlatformCondition.class)\r\n    public class NativeFileManager implements FileManager {\r\n    ...\r\n    }\r\n\r\nThis code doesn&#39;t work. Main reason is because ArchaiusProperties bean doesn&#39;t initialized when condition matches. Does have anyone way to initialize ArchaiusProperties bean before using it in condition?","title":"How to autowire properties bean from Condition","body":"<p>Does have anyone way to autowire bean in Condition? </p>\n\n<p>There is an next example. We have 2 implementation of FileManager. One of implementation should be initialize in depends on property 'platform'. Properties handles via Archaius.</p>\n\n<pre><code>@Component\npublic class AwsPlatformCondition implements Condition {\n\n    @Autowired\n    private ArchaiusProperties archaiusProperties;\n\n    @Override\n    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {\n        return \"aws\".equalsIgnoreCase(archaiusProperties.getStringProperty(PropertiesMapper.PLATFORM));\n    }\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>@Component\npublic class StandardPlatformCondition implements Condition {\n\n    @Autowired\n    private ArchaiusProperties archaiusProperties;\n\n    @Override\n    public boolean matches(ConditionContext conditionContext, AnnotatedTypeMetadata annotatedTypeMetadata) {\n        return \"standard\".equalsIgnoreCase(archaiusProperties.getStringProperty(PropertiesMapper.PLATFORM));\n    }\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>@Component\n@Conditional(AwsPlatformCondition.class)\npublic class AS3FileManager implements FileManager {\n...\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>@Component\n@Conditional(StandardPlatformCondition.class)\npublic class NativeFileManager implements FileManager {\n...\n}\n</code></pre>\n\n<p>This code doesn't work. Main reason is because ArchaiusProperties bean doesn't initialized when condition matches. Does have anyone way to initialize ArchaiusProperties bean before using it in condition?</p>\n"},{"tags":["java","io","nosuchelementexception"],"comments":[{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":2,"creation_date":1664754731,"post_id":73930070,"comment_id":130538045,"body_markdown":"You&#39;re calling `scan.next()` ten times after checking once that `scan.hasNext()` so if any row does not have the required number of fields, you&#39;ll get an error.\n\nMaybe use a CSV parsing library.","body":"You&#39;re calling <code>scan.next()</code> ten times after checking once that <code>scan.hasNext()</code> so if any row does not have the required number of fields, you&#39;ll get an error.  Maybe use a CSV parsing library."}],"answers":[{"tags":[],"owner":{"account_id":25166600,"reputation":1,"user_id":19010055,"display_name":"pranayroni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664755173,"creation_date":1664755173,"answer_id":73930112,"question_id":73930070,"body_markdown":"    if (scan.next().equals(&quot;N/A&quot;)\r\n\r\n\r\nmight be your problem here. from what it looks like, this is not doing what you intend on doing.\r\n\r\nWhen you call `scan.next()` it will read regardless of whether it is equal to &quot;N/A&quot; \r\n\r\nyou put an else statement after this and say `discount = Double.parseDouble(scan.next()` and I presume you are talking about the same `scan.next()` that you called in the initial if statement, but that line has already passed. You need to store this `scan.next()` in a variable and then check if it is &quot;N/A&quot;.","title":"Why am I getting &quot;NoSuchElementException&quot; When I can print everything from textfile?","body":"<pre><code>if (scan.next().equals(&quot;N/A&quot;)\n</code></pre>\n<p>might be your problem here. from what it looks like, this is not doing what you intend on doing.</p>\n<p>When you call <code>scan.next()</code> it will read regardless of whether it is equal to &quot;N/A&quot;</p>\n<p>you put an else statement after this and say <code>discount = Double.parseDouble(scan.next()</code> and I presume you are talking about the same <code>scan.next()</code> that you called in the initial if statement, but that line has already passed. You need to store this <code>scan.next()</code> in a variable and then check if it is &quot;N/A&quot;.</p>\n"},{"tags":[],"owner":{"account_id":247030,"reputation":2030,"user_id":521495,"accept_rate":78,"display_name":"Kojotak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665040865,"creation_date":1665040865,"answer_id":73969964,"question_id":73930070,"body_markdown":" - your CSV has actually two delimiters: comma and new line. Try: `scan.useDelimiter(&quot;,|\\\\R&quot;);`\r\n - discount is read twice for numeric values, try: \r\n\r\n```\r\n    String discountStr = scan.next();\r\n    discount = discountStr.equals(&quot;N/A&quot;) ? 0 : Double.parseDouble(discountStr);\r\n```","title":"Why am I getting &quot;NoSuchElementException&quot; When I can print everything from textfile?","body":"<ul>\n<li>your CSV has actually two delimiters: comma and new line. Try: <code>scan.useDelimiter(&quot;,|\\\\R&quot;);</code></li>\n<li>discount is read twice for numeric values, try:</li>\n</ul>\n<pre><code>    String discountStr = scan.next();\n    discount = discountStr.equals(&quot;N/A&quot;) ? 0 : Double.parseDouble(discountStr);\n</code></pre>\n"}],"owner":{"account_id":22384913,"reputation":13,"user_id":16597877,"display_name":"happy days"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73969964,"answer_count":2,"score":0,"last_activity_date":1665040865,"creation_date":1664754424,"question_id":73930070,"body_markdown":"I&#39;m able to read everything from the text file and print the data yet I get a &quot;No Such Element&quot; Exception. All the solutions i&#39;ve found say to use &quot;HasNext&quot; in while loop and yet it doesn&#39;t seem to work for me\r\n\r\n\r\n  public void fileReader() throws IOException {\r\n\r\n\t\tString id;\r\n\t\tString brand;\r\n\t\tint yearOfManufacture;\r\n\t\tint numSeats;\r\n\t\tdouble rentalPerDay;\r\n\t\tdouble insurancePerDay;\r\n\t\tdouble serviceFee;\r\n\t\tdouble discount;\r\n\t\tString model;\r\n\t\tString type;\r\n\t\tString color;\r\n\t\tArrayList&lt;Vehicle&gt; vehicleArray = new ArrayList&lt;&gt;();\r\n\t\tFile file = new File(&quot;C:/Users/jockg/Downloads/Fleet (1).csv&quot;);\r\n\t\tScanner scan = new Scanner(file);\r\n\t\tscan.useDelimiter(&quot;n/n&quot;);\r\n\r\n\t\twhile (scan.hasNext() || scan.hasNextDouble() || scan.hasNextInt()) {\r\n\r\n\t\t\tid = scan.next();\r\n\t\t\t System.out.println(id);\r\n\t\t\tbrand = scan.next();\r\n\t\t\t System.out.println(brand);\r\n\t\t\tmodel = scan.next();\r\n\t\t\t System.out.println(model);\r\n\t\t\ttype = scan.next();\r\n\t\t\t System.out.println(type);\r\n\t\t\tyearOfManufacture = Integer.parseInt(scan.next());\r\n\t\t\t System.out.println(yearOfManufacture);\r\n\t\t\tnumSeats = Integer.parseInt(scan.next());\r\n\t\t\t System.out.println(numSeats);\r\n\t\t\tcolor = scan.next();\r\n\t\t\t System.out.println(color);\r\n\t\t\trentalPerDay = Double.parseDouble(scan.next());\r\n\t\t\t System.out.println(rentalPerDay);\r\n\t\t\tinsurancePerDay = Double.parseDouble(scan.next());\r\n\t\t\t System.out.println(insurancePerDay);\r\n\t\t\tserviceFee = Double.parseDouble(scan.next());\r\n\t\t\t System.out.println(serviceFee);\r\n\t\t\tif (scan.next().equals(&quot;N/A&quot;)) {\r\n\t\t\t\tdiscount = 0;\r\n\t\t\t} else {\r\n\t\t\t\tdiscount = Double.parseDouble(scan.next());\r\n\t\t\t}\r\n\r\n\t\t\t System.out.println(discount);\r\n\r\n\t\t\tCar newCar = new Car(id, brand, yearOfManufacture, numSeats, rentalPerDay, insurancePerDay, serviceFee,\r\n\t\t\t\t\tdiscount, model, type, color);\r\n\t\t\tvehicleArray.add(newCar);\r\n\t\t}\r\n\t}\r\n\r\nC001,Toyota,Yaris,Sedan,2012,4,Blue,50,15,10,10\r\nC002,Toyota,Corolla,Hatch,2020,4,White,45,20,10,10\r\nC003,Toyota,Kluger,SUV,2019,7,Grey,70,20,20,10\r\nC004,Audi,A3,Sedan,2015,5,Red,65,10,20,10\r\nC005,Holden,Cruze,Hatch,2020,4,Green,70,10,10,10\r\nC006,BMW,X5,SUV,2018,7,White,100,25,20,10\r\nC007,BMW,320i,Sedan,2021,5,Grey,75,10,15,N/A\r\nC008,Ford,Focus,Sedan,2014,5,Red,45,10,10,N/A\r\nC009,Ford,Puma,SUV,2015,5,Black,70,20,15,20\r\n\r\nThis is the Exception I get:\r\n\r\n","title":"Why am I getting &quot;NoSuchElementException&quot; When I can print everything from textfile?","body":"<p>I'm able to read everything from the text file and print the data yet I get a &quot;No Such Element&quot; Exception. All the solutions i've found say to use &quot;HasNext&quot; in while loop and yet it doesn't seem to work for me</p>\n<p>public void fileReader() throws IOException {</p>\n<pre><code>    String id;\n    String brand;\n    int yearOfManufacture;\n    int numSeats;\n    double rentalPerDay;\n    double insurancePerDay;\n    double serviceFee;\n    double discount;\n    String model;\n    String type;\n    String color;\n    ArrayList&lt;Vehicle&gt; vehicleArray = new ArrayList&lt;&gt;();\n    File file = new File(&quot;C:/Users/jockg/Downloads/Fleet (1).csv&quot;);\n    Scanner scan = new Scanner(file);\n    scan.useDelimiter(&quot;n/n&quot;);\n\n    while (scan.hasNext() || scan.hasNextDouble() || scan.hasNextInt()) {\n\n        id = scan.next();\n         System.out.println(id);\n        brand = scan.next();\n         System.out.println(brand);\n        model = scan.next();\n         System.out.println(model);\n        type = scan.next();\n         System.out.println(type);\n        yearOfManufacture = Integer.parseInt(scan.next());\n         System.out.println(yearOfManufacture);\n        numSeats = Integer.parseInt(scan.next());\n         System.out.println(numSeats);\n        color = scan.next();\n         System.out.println(color);\n        rentalPerDay = Double.parseDouble(scan.next());\n         System.out.println(rentalPerDay);\n        insurancePerDay = Double.parseDouble(scan.next());\n         System.out.println(insurancePerDay);\n        serviceFee = Double.parseDouble(scan.next());\n         System.out.println(serviceFee);\n        if (scan.next().equals(&quot;N/A&quot;)) {\n            discount = 0;\n        } else {\n            discount = Double.parseDouble(scan.next());\n        }\n\n         System.out.println(discount);\n\n        Car newCar = new Car(id, brand, yearOfManufacture, numSeats, rentalPerDay, insurancePerDay, serviceFee,\n                discount, model, type, color);\n        vehicleArray.add(newCar);\n    }\n}\n</code></pre>\n<p>C001,Toyota,Yaris,Sedan,2012,4,Blue,50,15,10,10\nC002,Toyota,Corolla,Hatch,2020,4,White,45,20,10,10\nC003,Toyota,Kluger,SUV,2019,7,Grey,70,20,20,10\nC004,Audi,A3,Sedan,2015,5,Red,65,10,20,10\nC005,Holden,Cruze,Hatch,2020,4,Green,70,10,10,10\nC006,BMW,X5,SUV,2018,7,White,100,25,20,10\nC007,BMW,320i,Sedan,2021,5,Grey,75,10,15,N/A\nC008,Ford,Focus,Sedan,2014,5,Red,45,10,10,N/A\nC009,Ford,Puma,SUV,2015,5,Black,70,20,15,20</p>\n<p>This is the Exception I get:</p>\n"},{"tags":["java","tomcat","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":10743045,"reputation":116,"user_id":7905416,"display_name":"Sjnao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617251141,"creation_date":1617251141,"answer_id":66898416,"question_id":66896629,"body_markdown":"If I understand that correctly you set up your Tomcat Server in intellij IDEA you should have 5 tabs in the tomcat configuration: Server, Deployment, Logs, Code Coverage and Startup/Connection. In the deployment tab you can change the application context, I hope that is what you/they meant. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qiteR.png","title":"How to add or update context root of tomcat server in Intellij","body":"<p>If I understand that correctly you set up your Tomcat Server in intellij IDEA you should have 5 tabs in the tomcat configuration: Server, Deployment, Logs, Code Coverage and Startup/Connection. In the deployment tab you can change the application context, I hope that is what you/they meant.\n<a href=\"https://i.stack.imgur.com/qiteR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qiteR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":24323906,"reputation":128,"user_id":18263761,"display_name":"ilia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665040610,"creation_date":1665040610,"answer_id":73969922,"question_id":66896629,"body_markdown":"File -&gt;Project Structure -&gt; Artifacts -&gt;  and check if there are war files from previous ones.\r\n\r\nAlso, delete if you have previous deployments in the Tomcat server and add a new one.\r\n\r\n","title":"How to add or update context root of tomcat server in Intellij","body":"<p>File -&gt;Project Structure -&gt; Artifacts -&gt;  and check if there are war files from previous ones.</p>\n<p>Also, delete if you have previous deployments in the Tomcat server and add a new one.</p>\n"}],"owner":{"account_id":18696844,"reputation":122,"user_id":13629957,"display_name":"Sid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665040610,"creation_date":1617233909,"question_id":66896629,"body_markdown":"I am setting up my project in Intellij for which I was following companies documentation but the problem is its written for eclipse IDE. In the documentation they asked to &quot;Update the Context root under -&gt; WebProject Settings : order/genome-database&quot; \r\n\r\nI don&#39;t know how to do the same in Intellij. I added tomcat server and added artifacts to it. Its running fine without errors and lunching the application but its not working as expected. Now, I want to update &quot;context root&quot; of tomcat server and I don&#39;t know how to do it for Intellij. \r\n\r\nI was googling for a while but couldn&#39;t resolve the issue. Please let me know if you know how to do it.\r\n\r\nThanks","title":"How to add or update context root of tomcat server in Intellij","body":"<p>I am setting up my project in Intellij for which I was following companies documentation but the problem is its written for eclipse IDE. In the documentation they asked to &quot;Update the Context root under -&gt; WebProject Settings : order/genome-database&quot;</p>\n<p>I don't know how to do the same in Intellij. I added tomcat server and added artifacts to it. Its running fine without errors and lunching the application but its not working as expected. Now, I want to update &quot;context root&quot; of tomcat server and I don't know how to do it for Intellij.</p>\n<p>I was googling for a while but couldn't resolve the issue. Please let me know if you know how to do it.</p>\n<p>Thanks</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1665040745,"post_id":73969918,"comment_id":130607000,"body_markdown":"have you considered to create a library?","body":"have you considered to create a library?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1665041015,"post_id":73969918,"comment_id":130607070,"body_markdown":"Perhaps this is relevant: [Sharing Build Logic between Subprojects](https://docs.gradle.org/current/userguide/sharing_build_logic_between_subprojects.html).","body":"Perhaps this is relevant: <a href=\"https://docs.gradle.org/current/userguide/sharing_build_logic_between_subprojects.html\" rel=\"nofollow noreferrer\">Sharing Build Logic between Subprojects</a>."}],"owner":{"account_id":2141833,"reputation":5558,"user_id":1900290,"accept_rate":59,"display_name":"Rpj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665040589,"creation_date":1665040589,"question_id":73969918,"body_markdown":"How to just override sourceSets between gradle files without copying over all definitions. I want to define all groovy functions to build Bar Application in build-bar.gradle but just inherit everything from build-bar.gradle and override `just` the sourceSets in build-baz.gradle file. How can we do this?\r\n\r\nBar Application contains this\r\n\r\n    build-bar.gradle\r\n    sourceSets {\r\n        main {\r\n            java {\r\n                exclude &#39;com/foo/BarApplication.java&#39;\r\n            }   \r\n        }   \r\n    }\r\n\r\n\r\nBaz Application contains this\r\n\r\n    build-baz.gradle\r\n    sourceSets {\r\n        main {\r\n            java {\r\n                exclude &#39;com/foo/BazApplication.java&#39;\r\n            }   \r\n        }   \r\n    }\r\n\r\n","title":"How to just override sourceSets in a different gradle file","body":"<p>How to just override sourceSets between gradle files without copying over all definitions. I want to define all groovy functions to build Bar Application in build-bar.gradle but just inherit everything from build-bar.gradle and override <code>just</code> the sourceSets in build-baz.gradle file. How can we do this?</p>\n<p>Bar Application contains this</p>\n<pre><code>build-bar.gradle\nsourceSets {\n    main {\n        java {\n            exclude 'com/foo/BarApplication.java'\n        }   \n    }   \n}\n</code></pre>\n<p>Baz Application contains this</p>\n<pre><code>build-baz.gradle\nsourceSets {\n    main {\n        java {\n            exclude 'com/foo/BazApplication.java'\n        }   \n    }   \n}\n</code></pre>\n"},{"tags":["java","spring","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665040306,"creation_date":1665040306,"answer_id":73969862,"question_id":73961761,"body_markdown":"You probably need to inject the class into the targeted class loader rather then creating a new one (which is the default). So instead of:\r\n\r\n    load(getClass().getClassLoader())\r\n\r\nYou&#39;d use:\r\n\r\n    load(getClass().getClassLoader(), ClassLoadingStrategy.Default.INJECT)\r\n\r\nFor Java 9+, you&#39;d rather use ClassLoadingStrategy.UsingLookup. It has a factory that would work on either JVM version.","title":"Register Spring reactive repository using Byte Buddy","body":"<p>You probably need to inject the class into the targeted class loader rather then creating a new one (which is the default). So instead of:</p>\n<pre><code>load(getClass().getClassLoader())\n</code></pre>\n<p>You'd use:</p>\n<pre><code>load(getClass().getClassLoader(), ClassLoadingStrategy.Default.INJECT)\n</code></pre>\n<p>For Java 9+, you'd rather use ClassLoadingStrategy.UsingLookup. It has a factory that would work on either JVM version.</p>\n"}],"owner":{"account_id":8464239,"reputation":33,"user_id":6348860,"display_name":"Bogdan Dob&#226;ndă"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73969862,"answer_count":1,"score":0,"last_activity_date":1665040306,"creation_date":1664979408,"question_id":73961761,"body_markdown":"I want to create and register at runtime using **Byte Buddy** a trio of three entities (a class for entity/table, a repository interface and controller class)\r\n```\r\nClass&lt;?&gt; tableClass =\r\n    new ByteBuddy()\r\n        .subclass(Object.class, ConstructorStrategy.Default.DEFAULT_CONSTRUCTOR)\r\n        .name(className)\r\n        .annotateType(getTableAnnotation(tableName))\r\n        .defineField(&quot;id&quot;, UUID.class, Visibility.PRIVATE)\r\n        .annotateField(getIdAnnotation())\r\n        .defineMethod(&quot;getId&quot;, UUID.class, Visibility.PUBLIC)\r\n        .intercept(FieldAccessor.ofBeanProperty())\r\n        .defineMethod(&quot;setId&quot;, void.class, Visibility.PUBLIC)\r\n        .withParameter(UUID.class)\r\n        .intercept(FieldAccessor.ofBeanProperty());\r\n        .defineField(&quot;name&quot;, String.class, Visibility.PRIVATE)\r\n        .defineMethod(&quot;getName&quot;, String.class, Visibility.PUBLIC)\r\n        .intercept(FieldAccessor.ofBeanProperty())\r\n        .defineMethod(&quot;setName&quot;, void.class, Visibility.PUBLIC)\r\n        .withParameter(String.class)\r\n        .intercept(FieldAccessor.ofBeanProperty())\r\n        .make()\r\n        .load(getClass().getClassLoader())\r\n        .getLoaded();\r\n\r\nTypeDescription.Generic repositoryTypeDescription =\r\n    TypeDescription.Generic.Builder.parameterizedType(\r\n            R2dbcRepository.class, tableClass, UUID.class)\r\n\r\nClass&lt;? extends Object&gt; repositoryClass =\r\n    new ByteBuddy()\r\n        .makeInterface(repositoryTypeDescription)\r\n        .name(tableClass.getCanonicalName() + &quot;Repository&quot;)\r\n        .make()\r\n        .load(tableClass.getClassLoader())\r\n        .getLoaded();\r\n\r\n```\r\n\r\nI have also a service class that does all bean registration\r\n\r\n```\r\n@Service\r\npublic class BeanRegisterService {\r\n\r\n  @Autowired private BeanFactory beanFactory;\r\n  @Autowired private R2dbcEntityTemplate entityTemplate;\r\n\r\n  public &lt;T&gt; void registerBean(String beanName, T bean) {\r\n    ((ConfigurableBeanFactory) beanFactory).registerSingleton(beanName, bean);\r\n  }\r\n\r\n  public &lt;T&gt; void registerBeanDefinition(String beanName, Class&lt;T&gt; rootBeanClass) {\r\n    BeanDefinitionBuilder beanDefinitionBuilder =\r\n        BeanDefinitionBuilder.rootBeanDefinition(rootBeanClass);\r\n    ((DefaultListableBeanFactory) beanFactory)\r\n        .registerBeanDefinition(beanName, beanDefinitionBuilder.getBeanDefinition());\r\n  }\r\n\r\n  public &lt;T&gt; void registerRepositoryBeanDefinition(\r\n      String entityBean, Class&lt;T&gt; repositoryInterface) {\r\n    BeanDefinitionBuilder beanDefinitionBuilder =\r\n        BeanDefinitionBuilder.rootBeanDefinition(R2dbcRepositoryFactoryBean.class)\r\n            .addConstructorArgValue(repositoryInterface)\r\n            .addPropertyValue(&quot;databaseClient&quot;, entityTemplate.getDatabaseClient())\r\n            .addPropertyValue(&quot;dataAccessStrategy&quot;, entityTemplate.getDataAccessStrategy());\r\n\r\n    ((DefaultListableBeanFactory) beanFactory)\r\n        .registerBeanDefinition(\r\n            repositoryInterface.getSimpleName(), beanDefinitionBuilder.getBeanDefinition());\r\n  }\r\n}\r\n```\r\n\r\n```\r\nbeanService.registerBeanDefinition(tableClass.getSimpleName(), tableClass);\r\nbeanService.registerRepositoryBeanDefinition(tableClass.getSimpleName(), repositoryClass);\r\n```\r\n\r\nWhen I try to gain access to the repository bean via `ApplicationContext` I get an error: `MyRepository referenced from a method is not visible from class loader`.\r\n\r\n```\r\nCaused by: java.lang.IllegalArgumentException: com.example.MyRepository referenced from a method is not visible from class loader\r\n        at java.base/java.lang.reflect.Proxy$ProxyBuilder.ensureVisible(Proxy.java:858) ~[na:na]\r\n        at java.base/java.lang.reflect.Proxy$ProxyBuilder.validateProxyInterfaces(Proxy.java:681) ~[na:na]\r\n        at java.base/java.lang.reflect.Proxy$ProxyBuilder.&lt;init&gt;(Proxy.java:627) ~[na:na]\r\n        at java.base/java.lang.reflect.Proxy.lambda$getProxyConstructor$1(Proxy.java:426) ~[na:na]\r\n        at java.base/jdk.internal.loader.AbstractClassLoaderValue$Memoizer.get(AbstractClassLoaderValue.java:329) ~[na:na]\r\n        at java.base/jdk.internal.loader.AbstractClassLoaderValue.computeIfAbsent(AbstractClassLoaderValue.java:205) ~[na:na]\r\n        at java.base/java.lang.reflect.Proxy.getProxyConstructor(Proxy.java:424) ~[na:na]\r\n        at java.base/java.lang.reflect.Proxy.newProxyInstance(Proxy.java:1006) ~[na:na]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.getProxy(JdkDynamicAopProxy.java:126) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-5.3.22.jar:5.3.22]\r\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:371) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n        at org.springframework.data.util.Lazy.getNullable(Lazy.java:231) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n        at org.springframework.data.util.Lazy.get(Lazy.java:115) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n        at org.springframework.data.r2dbc.repository.support.R2dbcRepositoryFactoryBean.afterPropertiesSet(R2dbcRepositoryFactoryBean.java:179) ~[spring-data-r2dbc-1.5.2.jar:1.5.2]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\r\n        ... 15 common frames omitted\r\n```\r\n\r\nThe table class has a more dynamic definition than above example and it is not known at build time; so all the classes must be generated at runtime on demand.\r\n\r\nWhat am I missing?\r\n\r\nMy code is based on answers from:\r\n\r\nhttps://stackoverflow.com/questions/41615861/byte-buddy-runtime-generation-for-spring-boot-jpa-repository-classes\r\n\r\nhttps://stackoverflow.com/questions/71100421/how-to-register-custom-jpa-interface-using-bytebuddy\r\n\r\n**Edit:**\r\n\r\nIf I load ```repositoryClass``` with ```this.getClass()``` it doesn&#39;t make it to ProxyBuilder. \r\nIt crashes way sooner with ClassNotFound.\r\nSwitching ClassLoadingStrategy to persistent does not help either.\r\nOn the other hand ```tableClass``` bean gets loaded without any issues.","title":"Register Spring reactive repository using Byte Buddy","body":"<p>I want to create and register at runtime using <strong>Byte Buddy</strong> a trio of three entities (a class for entity/table, a repository interface and controller class)</p>\n<pre><code>Class&lt;?&gt; tableClass =\n    new ByteBuddy()\n        .subclass(Object.class, ConstructorStrategy.Default.DEFAULT_CONSTRUCTOR)\n        .name(className)\n        .annotateType(getTableAnnotation(tableName))\n        .defineField(&quot;id&quot;, UUID.class, Visibility.PRIVATE)\n        .annotateField(getIdAnnotation())\n        .defineMethod(&quot;getId&quot;, UUID.class, Visibility.PUBLIC)\n        .intercept(FieldAccessor.ofBeanProperty())\n        .defineMethod(&quot;setId&quot;, void.class, Visibility.PUBLIC)\n        .withParameter(UUID.class)\n        .intercept(FieldAccessor.ofBeanProperty());\n        .defineField(&quot;name&quot;, String.class, Visibility.PRIVATE)\n        .defineMethod(&quot;getName&quot;, String.class, Visibility.PUBLIC)\n        .intercept(FieldAccessor.ofBeanProperty())\n        .defineMethod(&quot;setName&quot;, void.class, Visibility.PUBLIC)\n        .withParameter(String.class)\n        .intercept(FieldAccessor.ofBeanProperty())\n        .make()\n        .load(getClass().getClassLoader())\n        .getLoaded();\n\nTypeDescription.Generic repositoryTypeDescription =\n    TypeDescription.Generic.Builder.parameterizedType(\n            R2dbcRepository.class, tableClass, UUID.class)\n\nClass&lt;? extends Object&gt; repositoryClass =\n    new ByteBuddy()\n        .makeInterface(repositoryTypeDescription)\n        .name(tableClass.getCanonicalName() + &quot;Repository&quot;)\n        .make()\n        .load(tableClass.getClassLoader())\n        .getLoaded();\n\n</code></pre>\n<p>I have also a service class that does all bean registration</p>\n<pre><code>@Service\npublic class BeanRegisterService {\n\n  @Autowired private BeanFactory beanFactory;\n  @Autowired private R2dbcEntityTemplate entityTemplate;\n\n  public &lt;T&gt; void registerBean(String beanName, T bean) {\n    ((ConfigurableBeanFactory) beanFactory).registerSingleton(beanName, bean);\n  }\n\n  public &lt;T&gt; void registerBeanDefinition(String beanName, Class&lt;T&gt; rootBeanClass) {\n    BeanDefinitionBuilder beanDefinitionBuilder =\n        BeanDefinitionBuilder.rootBeanDefinition(rootBeanClass);\n    ((DefaultListableBeanFactory) beanFactory)\n        .registerBeanDefinition(beanName, beanDefinitionBuilder.getBeanDefinition());\n  }\n\n  public &lt;T&gt; void registerRepositoryBeanDefinition(\n      String entityBean, Class&lt;T&gt; repositoryInterface) {\n    BeanDefinitionBuilder beanDefinitionBuilder =\n        BeanDefinitionBuilder.rootBeanDefinition(R2dbcRepositoryFactoryBean.class)\n            .addConstructorArgValue(repositoryInterface)\n            .addPropertyValue(&quot;databaseClient&quot;, entityTemplate.getDatabaseClient())\n            .addPropertyValue(&quot;dataAccessStrategy&quot;, entityTemplate.getDataAccessStrategy());\n\n    ((DefaultListableBeanFactory) beanFactory)\n        .registerBeanDefinition(\n            repositoryInterface.getSimpleName(), beanDefinitionBuilder.getBeanDefinition());\n  }\n}\n</code></pre>\n<pre><code>beanService.registerBeanDefinition(tableClass.getSimpleName(), tableClass);\nbeanService.registerRepositoryBeanDefinition(tableClass.getSimpleName(), repositoryClass);\n</code></pre>\n<p>When I try to gain access to the repository bean via <code>ApplicationContext</code> I get an error: <code>MyRepository referenced from a method is not visible from class loader</code>.</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: com.example.MyRepository referenced from a method is not visible from class loader\n        at java.base/java.lang.reflect.Proxy$ProxyBuilder.ensureVisible(Proxy.java:858) ~[na:na]\n        at java.base/java.lang.reflect.Proxy$ProxyBuilder.validateProxyInterfaces(Proxy.java:681) ~[na:na]\n        at java.base/java.lang.reflect.Proxy$ProxyBuilder.&lt;init&gt;(Proxy.java:627) ~[na:na]\n        at java.base/java.lang.reflect.Proxy.lambda$getProxyConstructor$1(Proxy.java:426) ~[na:na]\n        at java.base/jdk.internal.loader.AbstractClassLoaderValue$Memoizer.get(AbstractClassLoaderValue.java:329) ~[na:na]\n        at java.base/jdk.internal.loader.AbstractClassLoaderValue.computeIfAbsent(AbstractClassLoaderValue.java:205) ~[na:na]\n        at java.base/java.lang.reflect.Proxy.getProxyConstructor(Proxy.java:424) ~[na:na]\n        at java.base/java.lang.reflect.Proxy.newProxyInstance(Proxy.java:1006) ~[na:na]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.getProxy(JdkDynamicAopProxy.java:126) ~[spring-aop-5.3.22.jar:5.3.22]\n        at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-5.3.22.jar:5.3.22]\n        at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:371) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:323) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.util.Lazy.getNullable(Lazy.java:231) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.util.Lazy.get(Lazy.java:115) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:329) ~[spring-data-commons-2.7.2.jar:2.7.2]\n        at org.springframework.data.r2dbc.repository.support.R2dbcRepositoryFactoryBean.afterPropertiesSet(R2dbcRepositoryFactoryBean.java:179) ~[spring-data-r2dbc-1.5.2.jar:1.5.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.22.jar:5.3.22]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.22.jar:5.3.22]\n        ... 15 common frames omitted\n</code></pre>\n<p>The table class has a more dynamic definition than above example and it is not known at build time; so all the classes must be generated at runtime on demand.</p>\n<p>What am I missing?</p>\n<p>My code is based on answers from:</p>\n<p><a href=\"https://stackoverflow.com/questions/41615861/byte-buddy-runtime-generation-for-spring-boot-jpa-repository-classes\">Byte Buddy Runtime generation for spring boot JPA repository classes</a></p>\n<p><a href=\"https://stackoverflow.com/questions/71100421/how-to-register-custom-jpa-interface-using-bytebuddy\">How to register custom JPA interface using bytebuddy</a></p>\n<p><strong>Edit:</strong></p>\n<p>If I load <code>repositoryClass</code> with <code>this.getClass()</code> it doesn't make it to ProxyBuilder.\nIt crashes way sooner with ClassNotFound.\nSwitching ClassLoadingStrategy to persistent does not help either.\nOn the other hand <code>tableClass</code> bean gets loaded without any issues.</p>\n"},{"tags":["java","spring","spring-boot","keycloak"],"comments":[{"owner":{"account_id":4077251,"reputation":26290,"user_id":3348604,"display_name":"Jan Garaj"},"score":1,"creation_date":1663150109,"post_id":73712613,"comment_id":130169578,"body_markdown":"Compare you Keycloak versions dev vs prod.","body":"Compare you Keycloak versions dev vs prod."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":1,"creation_date":1663168960,"post_id":73712613,"comment_id":130176932,"body_markdown":"This  does not answer your question, but **do not use Keycloak libs for spring** [it is deprecated](https://github.com/keycloak/keycloak/discussions/10187). Directly call the REST API with your prefered client (Feign, rest-template, WebClient). If you need to configure resource-server security too, have a look at [this article](https://dzone.com/articles/spring-oauth2-resource-servers)","body":"This  does not answer your question, but <b>do not use Keycloak libs for spring</b> <a href=\"https://github.com/keycloak/keycloak/discussions/10187\" rel=\"nofollow noreferrer\">it is deprecated</a>. Directly call the REST API with your prefered client (Feign, rest-template, WebClient). If you need to configure resource-server security too, have a look at <a href=\"https://dzone.com/articles/spring-oauth2-resource-servers\" rel=\"nofollow noreferrer\">this article</a>"},{"owner":{"account_id":4215707,"reputation":113,"user_id":3451991,"display_name":"Michael Kronberger"},"score":0,"creation_date":1663757909,"post_id":73712613,"comment_id":130313257,"body_markdown":"thxs for the answer. Hoped that it&#39;s not necessary to reimplement the feature via REST API...","body":"thxs for the answer. Hoped that it&#39;s not necessary to reimplement the feature via REST API..."}],"owner":{"account_id":4215707,"reputation":113,"user_id":3451991,"display_name":"Michael Kronberger"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665040306,"creation_date":1663138273,"question_id":73712613,"body_markdown":"   I have the following situation. I have implemented in a Spring Boot application a user management system using keycloak. \r\nIts working perfectly fine on my test systems. Only in Production I always get an 404 error when trying to create a keylcoak user. \r\n\r\n```\r\ncom.example.solar.frontend.usecase.exceptions.KeycloakException: Error creating Keycloak user. Get Response 404\r\nSep 14 08:34:08 solar[23098]: at com.example.solar.frontend.adapter.outgoing.KeycloakUserService.createUser(KeycloakUserService.java:59) ~[classes!/:0.0.4]\r\n```\r\n\r\nThis is my service:\r\n\r\n    public class KeycloakUserService implements UserService {\r\n\r\n    private final RealmResource realmResource;\r\n\r\n    @Autowired\r\n    public KeycloakUserService(KeycloakProvider keycloakProvider, @Value(&quot;${keycloak.realm}&quot;) String realm) {\r\n\r\n        realmResource = keycloakProvider.keycloak().realm(realm);\r\n    }\r\n\r\n    public String createUser(KeycloakUserRequest userRequest) throws KeycloakException {\r\n\r\n        UsersResource usersResource = realmResource.users();\r\n        CredentialRepresentation credentialRepresentation = createPasswordCredentials(userRequest.getPassword());\r\n\r\n        UserRepresentation kcUser = new UserRepresentation();\r\n        kcUser.setUsername(userRequest.getUsername());\r\n        kcUser.setCredentials(Collections.singletonList(credentialRepresentation));\r\n        kcUser.setFirstName(userRequest.getFirstname());\r\n        kcUser.setLastName(userRequest.getLastname());\r\n        kcUser.setEmail(userRequest.getEmail());\r\n        kcUser.setEnabled(true);\r\n        kcUser.setEmailVerified(false);\r\n\r\n        Response response = usersResource.create(kcUser);\r\n\r\n        if (response.getStatus() == HttpStatus.SC_CREATED) {\r\n\r\n            String userId = response.getLocation().getPath().replaceAll(&quot;.*/([^/]+)$&quot;, &quot;$1&quot;);\r\n            log.info(&quot;Successfully created user in Keycloak userId: {}, email: {}, firstname: {}, lastname: {}&quot;, userId,\r\n                    kcUser.getEmail(), kcUser.getFirstName(), kcUser.getLastName());\r\n            return userId;\r\n        } else {\r\n            throw new KeycloakException(&quot;Error creating Keycloak user. Get Response &quot; + response.getStatus() + &quot; &quot; + response.getStatusInfo().getReasonPhrase());\r\n        }\r\n    }\r\n\r\n\r\nThis is my configuration in application.properties:\r\n\r\n```\r\nkeycloak.realm=&lt;realm&gt;\r\nkeycloak.auth-server-url=http://&lt;loadbalancer-keycloak-url&gt;/auth/\r\nkeycloak.resource=solar\r\nkeycloak.credentials.secret=&lt;secret&gt;\r\n```\r\n\r\nThis config is working on dev perfectly, but there I calling keycloak auth url directly  instead over a loadbalancer. (http protocol is correct). Calling the url via browser, the keycloak admin index page is returned, so url is correct. \r\n\r\nAny idea, which config I am missing, or what else I can do? \r\n\r\nFinally I could solve the issue. It was a firewall issue. \r\n\r\nbest regards\r\nMichael \r\n","title":"Always get 404 when calling keycloak create User in Spring boot via Loadbalancer","body":"<p>I have the following situation. I have implemented in a Spring Boot application a user management system using keycloak.\nIts working perfectly fine on my test systems. Only in Production I always get an 404 error when trying to create a keylcoak user.</p>\n<pre><code>com.example.solar.frontend.usecase.exceptions.KeycloakException: Error creating Keycloak user. Get Response 404\nSep 14 08:34:08 solar[23098]: at com.example.solar.frontend.adapter.outgoing.KeycloakUserService.createUser(KeycloakUserService.java:59) ~[classes!/:0.0.4]\n</code></pre>\n<p>This is my service:</p>\n<pre><code>public class KeycloakUserService implements UserService {\n\nprivate final RealmResource realmResource;\n\n@Autowired\npublic KeycloakUserService(KeycloakProvider keycloakProvider, @Value(&quot;${keycloak.realm}&quot;) String realm) {\n\n    realmResource = keycloakProvider.keycloak().realm(realm);\n}\n\npublic String createUser(KeycloakUserRequest userRequest) throws KeycloakException {\n\n    UsersResource usersResource = realmResource.users();\n    CredentialRepresentation credentialRepresentation = createPasswordCredentials(userRequest.getPassword());\n\n    UserRepresentation kcUser = new UserRepresentation();\n    kcUser.setUsername(userRequest.getUsername());\n    kcUser.setCredentials(Collections.singletonList(credentialRepresentation));\n    kcUser.setFirstName(userRequest.getFirstname());\n    kcUser.setLastName(userRequest.getLastname());\n    kcUser.setEmail(userRequest.getEmail());\n    kcUser.setEnabled(true);\n    kcUser.setEmailVerified(false);\n\n    Response response = usersResource.create(kcUser);\n\n    if (response.getStatus() == HttpStatus.SC_CREATED) {\n\n        String userId = response.getLocation().getPath().replaceAll(&quot;.*/([^/]+)$&quot;, &quot;$1&quot;);\n        log.info(&quot;Successfully created user in Keycloak userId: {}, email: {}, firstname: {}, lastname: {}&quot;, userId,\n                kcUser.getEmail(), kcUser.getFirstName(), kcUser.getLastName());\n        return userId;\n    } else {\n        throw new KeycloakException(&quot;Error creating Keycloak user. Get Response &quot; + response.getStatus() + &quot; &quot; + response.getStatusInfo().getReasonPhrase());\n    }\n}\n</code></pre>\n<p>This is my configuration in application.properties:</p>\n<pre><code>keycloak.realm=&lt;realm&gt;\nkeycloak.auth-server-url=http://&lt;loadbalancer-keycloak-url&gt;/auth/\nkeycloak.resource=solar\nkeycloak.credentials.secret=&lt;secret&gt;\n</code></pre>\n<p>This config is working on dev perfectly, but there I calling keycloak auth url directly  instead over a loadbalancer. (http protocol is correct). Calling the url via browser, the keycloak admin index page is returned, so url is correct.</p>\n<p>Any idea, which config I am missing, or what else I can do?</p>\n<p>Finally I could solve the issue. It was a firewall issue.</p>\n<p>best regards\nMichael</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":21851467,"reputation":682,"user_id":16143492,"display_name":"nineninesevenfour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665039920,"creation_date":1665039920,"answer_id":73969790,"question_id":73951672,"body_markdown":"It seems you need an `org.modelmapper.Converter` to assign `taskName`from `taskInfo`.\r\n\r\nAssuming `StudentDTO.getTaskInfo()` returns a type `TaskInfo` and `Person.taskName` is of type `String`:\r\n```java\r\nConverter&lt;TaskInfo, String&gt; nameOfTaskInfo = ctx -&gt; PersonUtil.getTaskName(ctx.getSource());\r\n```\r\n...and then...\r\n```java\r\n  modelMapper.typeMap(StudentDTO.class, Person.class).addMappings(mapper -&gt; {\r\n    mapper.map(StudentDTO::getId, Person::setId); // I think this could be skipped\r\n    mapper.using(nameOfTaskInfo).map(StudentDTO::getTaskInfo), Person::setTaskName);\r\n  })\r\n```\r\nBut TBH, I am new to ModelMapper too, maybe there are easier solutions.\r\n## Explanation ##\r\nThe purpose of the `map` function seems to determine Getters and Setters through some magic (using byte code manipulated stub objects). The provided expressions are executed when defining the `TypeMap` and not during the actual mapping. The [documentation][1] says:\r\n\r\n&gt; Map source getter value to destination setter \r\n\r\nWhile on the other hand the `org.modelmapper.Converter` is executed during the mapping.\r\n\r\n  [1]: http://modelmapper.org/javadoc/org/modelmapper/builder/ReferenceMapExpression.html#map-org.modelmapper.spi.SourceGetter-org.modelmapper.spi.DestinationSetter-","title":"How do I update entity with ModelMapper?","body":"<p>It seems you need an <code>org.modelmapper.Converter</code> to assign <code>taskName</code>from <code>taskInfo</code>.</p>\n<p>Assuming <code>StudentDTO.getTaskInfo()</code> returns a type <code>TaskInfo</code> and <code>Person.taskName</code> is of type <code>String</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Converter&lt;TaskInfo, String&gt; nameOfTaskInfo = ctx -&gt; PersonUtil.getTaskName(ctx.getSource());\n</code></pre>\n<p>...and then...</p>\n<pre class=\"lang-java prettyprint-override\"><code>  modelMapper.typeMap(StudentDTO.class, Person.class).addMappings(mapper -&gt; {\n    mapper.map(StudentDTO::getId, Person::setId); // I think this could be skipped\n    mapper.using(nameOfTaskInfo).map(StudentDTO::getTaskInfo), Person::setTaskName);\n  })\n</code></pre>\n<p>But TBH, I am new to ModelMapper too, maybe there are easier solutions.</p>\n<h2>Explanation</h2>\n<p>The purpose of the <code>map</code> function seems to determine Getters and Setters through some magic (using byte code manipulated stub objects). The provided expressions are executed when defining the <code>TypeMap</code> and not during the actual mapping. The <a href=\"http://modelmapper.org/javadoc/org/modelmapper/builder/ReferenceMapExpression.html#map-org.modelmapper.spi.SourceGetter-org.modelmapper.spi.DestinationSetter-\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n<blockquote>\n<p>Map source getter value to destination setter</p>\n</blockquote>\n<p>While on the other hand the <code>org.modelmapper.Converter</code> is executed during the mapping.</p>\n"}],"owner":{"account_id":26527947,"reputation":41,"user_id":20160624,"display_name":"Lewis12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":807,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665039920,"creation_date":1664905195,"question_id":73951672,"body_markdown":"\r\n\r\nSo I have a method like this\r\n\r\n    public void updateEntity(String id) {\r\n    .....\r\n    .....\r\n      Person person = personRepository.findById(id);\r\n      StudentDTO studentDTO = studentService.getStudent(id); //This returns StudentDTO for the given id\r\n    \r\n      Person updatedPerson = personService.updatePerson(person, studentDTO);\r\n    \r\n      personRepository.save(updatedPerson);\r\n    }\r\n    \r\n    public Person updatePerson(Person person, StudentDTO studentDTO) {\r\n      ModelMapper modelMapper = new ModelMapper();\r\n      modelMapper.getConfiguration().setSkipNullEnabled(true);\r\n      modelMapper.typeMap(StudentDTO.class, Person.class).addMappings(mapper -&gt; {\r\n        mapper.map(StudentDTO::getId, PersonDTO::setId);\r\n        mapper.map(src -&gt; PersonUtil.getTaskName(src.getTaskInfo), Person::setTaskName);\r\n      })\r\n    \r\n      return modelMapper.map(studentDTO, Person.class);\r\n    }\r\n\r\nI am facing two issues with this code.\r\n- Its not updating the Person entity. Rather it is just setting the values of StudentDTO and assigning null values to those properties of Person entity which are not available in StudentDTO.\r\n- For task name, it is setting the entire DTO present inside the TaskInfo property. PersonUtil.getTaskName is the function which takes the object and returns the string taskName but modelmapper for some reason is assigning an entire dto for that field.","title":"How do I update entity with ModelMapper?","body":"<p>So I have a method like this</p>\n<pre><code>public void updateEntity(String id) {\n.....\n.....\n  Person person = personRepository.findById(id);\n  StudentDTO studentDTO = studentService.getStudent(id); //This returns StudentDTO for the given id\n\n  Person updatedPerson = personService.updatePerson(person, studentDTO);\n\n  personRepository.save(updatedPerson);\n}\n\npublic Person updatePerson(Person person, StudentDTO studentDTO) {\n  ModelMapper modelMapper = new ModelMapper();\n  modelMapper.getConfiguration().setSkipNullEnabled(true);\n  modelMapper.typeMap(StudentDTO.class, Person.class).addMappings(mapper -&gt; {\n    mapper.map(StudentDTO::getId, PersonDTO::setId);\n    mapper.map(src -&gt; PersonUtil.getTaskName(src.getTaskInfo), Person::setTaskName);\n  })\n\n  return modelMapper.map(studentDTO, Person.class);\n}\n</code></pre>\n<p>I am facing two issues with this code.</p>\n<ul>\n<li>Its not updating the Person entity. Rather it is just setting the values of StudentDTO and assigning null values to those properties of Person entity which are not available in StudentDTO.</li>\n<li>For task name, it is setting the entire DTO present inside the TaskInfo property. PersonUtil.getTaskName is the function which takes the object and returns the string taskName but modelmapper for some reason is assigning an entire dto for that field.</li>\n</ul>\n"},{"tags":["java","csv","jackson"],"answers":[{"tags":[],"owner":{"account_id":12663900,"reputation":415,"user_id":9203876,"display_name":"Federico Bellini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665039647,"creation_date":1665039647,"answer_id":73969746,"question_id":71441736,"body_markdown":"This might solve your problem. Full example [here][1]\r\n\r\n    /**\r\n     * @param listOfMap\r\n     * @param writer\r\n     * @throws IOException\r\n     */\r\n    public static void csvWriter(List&lt;HashMap&lt;String, String&gt;&gt; listOfMap, Writer writer) throws IOException {\r\n        CsvSchema schema = null;\r\n        CsvSchema.Builder schemaBuilder = CsvSchema.builder();\r\n        if (listOfMap != null &amp;&amp; !listOfMap.isEmpty()) {\r\n            for (String col : listOfMap.get(0).keySet()) {\r\n                schemaBuilder.addColumn(col);\r\n            }\r\n            schema = schemaBuilder.build().withLineSeparator(System.lineSeparator()).withHeader();\r\n        }\r\n        CsvMapper mapper = new CsvMapper();\r\n        mapper.writer(schema).writeValues(writer).writeAll(listOfMap);\r\n        writer.flush();\r\n    }\r\n\r\n\r\n  [1]: https://itexpertsconsultant.wordpress.com/2016/08/03/how-to-readwrite-csv-file-to-map-in-java/","title":"Jackson CsvMapper to map object with a map of maps to csv","body":"<p>This might solve your problem. Full example <a href=\"https://itexpertsconsultant.wordpress.com/2016/08/03/how-to-readwrite-csv-file-to-map-in-java/\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>/**\n * @param listOfMap\n * @param writer\n * @throws IOException\n */\npublic static void csvWriter(List&lt;HashMap&lt;String, String&gt;&gt; listOfMap, Writer writer) throws IOException {\n    CsvSchema schema = null;\n    CsvSchema.Builder schemaBuilder = CsvSchema.builder();\n    if (listOfMap != null &amp;&amp; !listOfMap.isEmpty()) {\n        for (String col : listOfMap.get(0).keySet()) {\n            schemaBuilder.addColumn(col);\n        }\n        schema = schemaBuilder.build().withLineSeparator(System.lineSeparator()).withHeader();\n    }\n    CsvMapper mapper = new CsvMapper();\n    mapper.writer(schema).writeValues(writer).writeAll(listOfMap);\n    writer.flush();\n}\n</code></pre>\n"}],"owner":{"account_id":15602262,"reputation":11,"user_id":11256061,"display_name":"May"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1863,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665039647,"creation_date":1647016530,"question_id":71441736,"body_markdown":"I have a complex java object that I want to map to csv using Jacksons CsvMapper.\r\n\r\n    public class TestObject {\r\n      private Map&lt;String, Map&lt;String, String&gt;&gt; values;\r\n      @JsonAnyGetter\r\n      public Map&lt;String, Map&lt;String, String&gt;&gt; getValues() {\r\n          return values;\r\n      }\r\n\r\n      @JsonAnySetter\r\n      public void setValues(Map&lt;String, Map&lt;String, String&gt;&gt; values) {\r\n        this.values = values;\r\n      }\r\n\r\n    }\r\n\r\nThe object is a list of TestObjects:  \r\n\r\n     CsvMapper mapper = new CsvMapper(); \r\n     CsvSchema schema = mapper.schemaFor(clazz).withUseHeader(true);\r\n     \r\n     ObjectWriter myObjectWriter = mapper.writer(schema);\r\n     return myObjectWriter.writeValueAsString(objectList);\r\n\r\nHowever when I try to map this to csv, I get an error due to the values in the map since its a map of map.\r\n\r\n    Caused by: com.fasterxml.jackson.dataformat.csv.CsvMappingException: Unrecognized column &#39;test_column&#39;: known columns: ....\r\n\r\nDoes anyone know how I can get jacksons csvmapper to correctly convert this map of maps to csv?\r\n\r\n","title":"Jackson CsvMapper to map object with a map of maps to csv","body":"<p>I have a complex java object that I want to map to csv using Jacksons CsvMapper.</p>\n<pre><code>public class TestObject {\n  private Map&lt;String, Map&lt;String, String&gt;&gt; values;\n  @JsonAnyGetter\n  public Map&lt;String, Map&lt;String, String&gt;&gt; getValues() {\n      return values;\n  }\n\n  @JsonAnySetter\n  public void setValues(Map&lt;String, Map&lt;String, String&gt;&gt; values) {\n    this.values = values;\n  }\n\n}\n</code></pre>\n<p>The object is a list of TestObjects:</p>\n<pre><code> CsvMapper mapper = new CsvMapper(); \n CsvSchema schema = mapper.schemaFor(clazz).withUseHeader(true);\n \n ObjectWriter myObjectWriter = mapper.writer(schema);\n return myObjectWriter.writeValueAsString(objectList);\n</code></pre>\n<p>However when I try to map this to csv, I get an error due to the values in the map since its a map of map.</p>\n<pre><code>Caused by: com.fasterxml.jackson.dataformat.csv.CsvMappingException: Unrecognized column 'test_column': known columns: ....\n</code></pre>\n<p>Does anyone know how I can get jacksons csvmapper to correctly convert this map of maps to csv?</p>\n"},{"tags":["java","android","android-recyclerview","nullpointerexception"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1665039494,"post_id":73969695,"comment_id":130606604,"body_markdown":"*110.8500* is not an integer. It is a decimal value","body":"<i>110.8500</i> is not an integer. It is a decimal value"},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":0,"creation_date":1665039660,"post_id":73969695,"comment_id":130606665,"body_markdown":"@Jens - So changing int to double will solve the  error?","body":"@Jens - So changing int to double will solve the  error?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1665039681,"post_id":73969695,"comment_id":130606674,"body_markdown":"@Abm yes, that and use Double.parseDouble.","body":"@Abm yes, that and use Double.parseDouble."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665039749,"post_id":73969695,"comment_id":130606696,"body_markdown":"Yes that should work","body":"Yes that should work"},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":0,"creation_date":1665039881,"post_id":73969695,"comment_id":130606727,"body_markdown":"@Jens -  holder.brd_value.setText(Double.parseDouble(b)*numVal); It says Cannot resolve method &#39;setText(double)&#39;","body":"@Jens -  holder.brd_value.setText(Double.parseDouble(b)*numVal); It says Cannot resolve method &#39;setText(double)&#39;"},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":0,"creation_date":1665039907,"post_id":73969695,"comment_id":130606737,"body_markdown":"@Stultuske - holder.brd_value.setText(Double.parseDouble(b)*numVal); It says Cannot resolve method &#39;setText(double)&#39;","body":"@Stultuske - holder.brd_value.setText(Double.parseDouble(b)*numVal); It says Cannot resolve method &#39;setText(double)&#39;"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665040025,"post_id":73969695,"comment_id":130606774,"body_markdown":"First question, can your quantity be a double or should it be an integer&#223;. Second question what is *holder.brd_quantity*?","body":"First question, can your quantity be a double or should it be an integer&#223;. Second question what is <i>holder.brd_quantity</i>?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665040068,"post_id":73969695,"comment_id":130606797,"body_markdown":"BTW: Take care of java naming conventions. Variable names must be camelCase not snake_case","body":"BTW: Take care of java naming conventions. Variable names must be camelCase not snake_case"},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":0,"creation_date":1665040120,"post_id":73969695,"comment_id":130606814,"body_markdown":"It is double.. holder.brd_quantity is editText binding in recyclerview","body":"It is double.. holder.brd_quantity is editText binding in recyclerview"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1665040282,"post_id":73969695,"comment_id":130606863,"body_markdown":"@Abm no doubt you are familiar with String concatenation?","body":"@Abm no doubt you are familiar with String concatenation?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1665040638,"post_id":73969695,"comment_id":130606972,"body_markdown":"@Abm You should reformat your double as text","body":"@Abm You should reformat your double as text"},{"owner":{"account_id":11873112,"reputation":1073,"user_id":8688810,"display_name":"Dan Baruch"},"score":0,"creation_date":1665041286,"post_id":73969695,"comment_id":130607161,"body_markdown":"This line - holder.brd_value.setText(Integer.parseInt(b)*numVal); will also cause crash. It will consider the int resulted as a string id, which does not exist and will then crash. You should change it to holder.brd_value.setText(&quot;&quot;+Integer.parseInt(b)*numVal); or any other form of converting the value to string","body":"This line - holder.brd_value.setText(Integer.parseInt(b)*numVal); will also cause crash. It will consider the int resulted as a string id, which does not exist and will then crash. You should change it to holder.brd_value.setText(&quot;&quot;+Integer.parseInt(b)*numVal); or any other form of converting the value to string"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1665041671,"post_id":73969695,"comment_id":130607284,"body_markdown":"@DanBaruch that is indeed the line we&#39;ve been talking about all along","body":"@DanBaruch that is indeed the line we&#39;ve been talking about all along"},{"owner":{"account_id":11873112,"reputation":1073,"user_id":8688810,"display_name":"Dan Baruch"},"score":0,"creation_date":1665041816,"post_id":73969695,"comment_id":130607325,"body_markdown":"@Stultuske ye, only after I&#39;ve written down the comment I noticed there&#39;s a whole conversation here haha","body":"@Stultuske ye, only after I&#39;ve written down the comment I noticed there&#39;s a whole conversation here haha"},{"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"score":0,"creation_date":1665041967,"post_id":73969695,"comment_id":130607369,"body_markdown":"@DanBaruch -  holder.brd_value.setText(String.valueOf(product.getBrdprice())); This is working fine. Is it the correct way?","body":"@DanBaruch -  holder.brd_value.setText(String.valueOf(product.getBrdprice(&zwnj;&#8203;))); This is working fine. Is it the correct way?"},{"owner":{"account_id":11873112,"reputation":1073,"user_id":8688810,"display_name":"Dan Baruch"},"score":0,"creation_date":1665042107,"post_id":73969695,"comment_id":130607419,"body_markdown":"@Abm considering it&#39;s different than the original line I don&#39;t know if that&#39;s the value you are looking for, but yes. It&#39;s a correct way.","body":"@Abm considering it&#39;s different than the original line I don&#39;t know if that&#39;s the value you are looking for, but yes. It&#39;s a correct way."}],"owner":{"account_id":8247829,"reputation":291,"user_id":6203399,"accept_rate":20,"display_name":"Abm"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665039328,"creation_date":1665039328,"question_id":73969695,"body_markdown":"In the below code of recyclerView I am increment/decrementing product quantity onClick of respective buttons but app is crashing onClick of increment. I am also calculating product quantity * price but its not working right. Where have I gone wrong? How do I calculate the product price?\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RVOrderBrdAdapter.RVViewHolder holder, int position) {\r\n        //getting the product of the specified position\r\n        OrderBrdDataModel product = filteredList.get(position);\r\n\r\n        //binding the data with the viewholder views\r\n        holder.brd_value.setText(product.getBrdprice());\r\n        holder.brd_product.setText(product.getBrdname());\r\n        holder.brd_quantity.setText(&quot;1&quot;);\r\n\r\n        holder.brd_increment.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                number = Integer.parseInt(holder.brd_quantity.getText().toString());\r\n                if(holder.brd_quantity.getText().toString().equals(&quot;&quot;)){\r\n                    Toast.makeText(v.getContext(), &quot;Quantity cannot be empty&quot;, Toast.LENGTH_SHORT).show();\r\n                }else if(number &gt;=9999){\r\n                    Toast.makeText(v.getContext(), &quot;Quantity cannot be greater than 9999&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                }else{\r\n                    number++;\r\n                    numVal =number++;\r\n\r\n                }\r\n\r\n                holder.brd_quantity.setText(&quot;&quot;+number);\r\n                String b = product.getBrdprice();\r\n\r\n               holder.brd_value.setText(Integer.parseInt(b)*numVal);\r\n\r\n\r\n            }\r\n        });\r\n\r\n        holder.brd_decrement.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                number = Integer.parseInt(holder.brd_quantity.getText().toString());\r\n                if(holder.brd_quantity.getText().toString().equals(&quot;&quot;)){\r\n                    Toast.makeText(v.getContext(), &quot;Quantity cannot be empty&quot;, Toast.LENGTH_SHORT).show();\r\n                }else if(number&lt;=0){\r\n                    Toast.makeText(v.getContext(), &quot;Quantity cannot be less than 0&quot;, Toast.LENGTH_SHORT).show();\r\n                    number = 0;\r\n                }else {\r\n                    number--;\r\n                    holder.brd_quantity.setText(&quot;&quot;+number);\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return filteredList.size();\r\n    }\r\n\r\n    @Override\r\n    public Filter getFilter() {\r\n\r\n        return itemFilter;\r\n    }\r\n\r\n    public class RVViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView brd_value, brd_product,brd_quantity,brd_increment,brd_decrement;\r\n\r\n        public RVViewHolder(View itemView) {\r\n            super(itemView);\r\n\r\n            brd_value = itemView.findViewById(R.id.brd_value);\r\n            brd_product = itemView.findViewById(R.id.brd_product);\r\n            brd_quantity = itemView.findViewById(R.id.brd_quantity);\r\n            brd_increment = itemView.findViewById(R.id.brd_increment);\r\n            brd_decrement = itemView.findViewById(R.id.brd_decrement);\r\n\r\n        }\r\n\r\n    }\r\n    public class ItemFilter extends Filter{\r\n\r\n        @Override\r\n        protected FilterResults performFiltering(CharSequence constraint) {\r\n             ArrayList&lt;OrderBrdDataModel&gt; temp_filteredList= new ArrayList&lt;&gt;();\r\n            for (int i=0;i&lt;ordList.size();i++){\r\n                if (ordList.get(i).isSelected()){\r\n                    temp_filteredList.add(ordList.get(i));\r\n                }\r\n\r\n            }\r\n            FilterResults results = new FilterResults();\r\n            results.values = temp_filteredList;\r\n            return results;\r\n        }\r\n\r\n        @Override\r\n        protected void publishResults(CharSequence constraint, FilterResults results) {\r\n            filteredList = (ArrayList)results.values;\r\n            System.out.println(&quot;RvFilter &quot; + filteredList.size());\r\n            notifyDataSetChanged();\r\n        }\r\n    }\r\n}\r\nBelow is my crash log\r\n\r\n    2022-10-06 12:06:46.633 11380-11380/com.live I/System.out: crash_report=Exception is: android.content.res.Resources$NotFoundException: String resource ID #0x6e\r\n    2022-10-06 12:15:50.147 12148-12148/com.live I/System.out: crash_report=Exception is: java.lang.NumberFormatException: For input string: &quot;110.8500&quot;","title":"android Exception is: java.lang.NumberFormatException: For input string: &quot;110.8500&quot;","body":"<p>In the below code of recyclerView I am increment/decrementing product quantity onClick of respective buttons but app is crashing onClick of increment. I am also calculating product quantity * price but its not working right. Where have I gone wrong? How do I calculate the product price?</p>\n<pre><code>@Override\npublic void onBindViewHolder(@NonNull RVOrderBrdAdapter.RVViewHolder holder, int position) {\n    //getting the product of the specified position\n    OrderBrdDataModel product = filteredList.get(position);\n\n    //binding the data with the viewholder views\n    holder.brd_value.setText(product.getBrdprice());\n    holder.brd_product.setText(product.getBrdname());\n    holder.brd_quantity.setText(&quot;1&quot;);\n\n    holder.brd_increment.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            number = Integer.parseInt(holder.brd_quantity.getText().toString());\n            if(holder.brd_quantity.getText().toString().equals(&quot;&quot;)){\n                Toast.makeText(v.getContext(), &quot;Quantity cannot be empty&quot;, Toast.LENGTH_SHORT).show();\n            }else if(number &gt;=9999){\n                Toast.makeText(v.getContext(), &quot;Quantity cannot be greater than 9999&quot;, Toast.LENGTH_SHORT).show();\n\n            }else{\n                number++;\n                numVal =number++;\n\n            }\n\n            holder.brd_quantity.setText(&quot;&quot;+number);\n            String b = product.getBrdprice();\n\n           holder.brd_value.setText(Integer.parseInt(b)*numVal);\n\n\n        }\n    });\n\n    holder.brd_decrement.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            number = Integer.parseInt(holder.brd_quantity.getText().toString());\n            if(holder.brd_quantity.getText().toString().equals(&quot;&quot;)){\n                Toast.makeText(v.getContext(), &quot;Quantity cannot be empty&quot;, Toast.LENGTH_SHORT).show();\n            }else if(number&lt;=0){\n                Toast.makeText(v.getContext(), &quot;Quantity cannot be less than 0&quot;, Toast.LENGTH_SHORT).show();\n                number = 0;\n            }else {\n                number--;\n                holder.brd_quantity.setText(&quot;&quot;+number);\n            }\n        }\n    });\n\n\n}\n\n@Override\npublic int getItemCount() {\n    return filteredList.size();\n}\n\n@Override\npublic Filter getFilter() {\n\n    return itemFilter;\n}\n\npublic class RVViewHolder extends RecyclerView.ViewHolder {\n\n    TextView brd_value, brd_product,brd_quantity,brd_increment,brd_decrement;\n\n    public RVViewHolder(View itemView) {\n        super(itemView);\n\n        brd_value = itemView.findViewById(R.id.brd_value);\n        brd_product = itemView.findViewById(R.id.brd_product);\n        brd_quantity = itemView.findViewById(R.id.brd_quantity);\n        brd_increment = itemView.findViewById(R.id.brd_increment);\n        brd_decrement = itemView.findViewById(R.id.brd_decrement);\n\n    }\n\n}\npublic class ItemFilter extends Filter{\n\n    @Override\n    protected FilterResults performFiltering(CharSequence constraint) {\n         ArrayList&lt;OrderBrdDataModel&gt; temp_filteredList= new ArrayList&lt;&gt;();\n        for (int i=0;i&lt;ordList.size();i++){\n            if (ordList.get(i).isSelected()){\n                temp_filteredList.add(ordList.get(i));\n            }\n\n        }\n        FilterResults results = new FilterResults();\n        results.values = temp_filteredList;\n        return results;\n    }\n\n    @Override\n    protected void publishResults(CharSequence constraint, FilterResults results) {\n        filteredList = (ArrayList)results.values;\n        System.out.println(&quot;RvFilter &quot; + filteredList.size());\n        notifyDataSetChanged();\n    }\n}\n</code></pre>\n<p>}\nBelow is my crash log</p>\n<pre><code>2022-10-06 12:06:46.633 11380-11380/com.live I/System.out: crash_report=Exception is: android.content.res.Resources$NotFoundException: String resource ID #0x6e\n2022-10-06 12:15:50.147 12148-12148/com.live I/System.out: crash_report=Exception is: java.lang.NumberFormatException: For input string: &quot;110.8500&quot;\n</code></pre>\n"},{"tags":["java","jackson","jackson-databind"],"comments":[{"owner":{"account_id":19559913,"reputation":181,"user_id":14313338,"display_name":"Jurgen Rutten"},"score":0,"creation_date":1665040549,"post_id":73969602,"comment_id":130606940,"body_markdown":"Here&#39;s some info online regarding this: https://www.baeldung.com/jackson-field-serializable-deserializable-or-not","body":"Here&#39;s some info online regarding this: <a href=\"https://www.baeldung.com/jackson-field-serializable-deserializable-or-not\" rel=\"nofollow noreferrer\">baeldung.com/jackson-field-serializable-deserializable-or-no&zwnj;&#8203;t</a>"}],"answers":[{"tags":[],"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665039010,"creation_date":1665039010,"answer_id":73969636,"question_id":73969602,"body_markdown":"When you are using Spring-Boot, take a look at `@Validated`.","title":"How to validate fields if they aren&#39;t serialized in jackson","body":"<p>When you are using Spring-Boot, take a look at <code>@Validated</code>.</p>\n"}],"owner":{"account_id":5676941,"reputation":804,"user_id":4489743,"accept_rate":62,"display_name":"Yuval"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665039010,"creation_date":1665038774,"question_id":73969602,"body_markdown":"In my class, there&#39;s a field I want to validate, but I don&#39;t want to return it in the response. For that I&#39;ve used the annotations \r\n\r\n    @Valid\r\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n    private User user;\r\n\r\nThe problem is that when I use WRITE_ONLY, the code doesn&#39;t check the validations. What can I do to fix that?","title":"How to validate fields if they aren&#39;t serialized in jackson","body":"<p>In my class, there's a field I want to validate, but I don't want to return it in the response. For that I've used the annotations</p>\n<pre><code>@Valid\n@JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\nprivate User user;\n</code></pre>\n<p>The problem is that when I use WRITE_ONLY, the code doesn't check the validations. What can I do to fix that?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1665038617,"post_id":73969560,"comment_id":130606367,"body_markdown":"you could ... not provide code to create them, I assume?","body":"you could ... not provide code to create them, I assume?"},{"owner":{"account_id":1308063,"reputation":1336,"user_id":2806801,"accept_rate":71,"display_name":"Radu Dumbrăveanu"},"score":0,"creation_date":1665038831,"post_id":73969560,"comment_id":130606429,"body_markdown":"yes, but I was thinking of some solution like `@Immutable`, that explicitly marks the entity","body":"yes, but I was thinking of some solution like <code>@Immutable</code>, that explicitly marks the entity"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1665039157,"post_id":73969560,"comment_id":130606523,"body_markdown":"This seems like it would be better _enforced_ by the DBMS, if possible. Then in the Java code, simply don&#39;t write code to insert/update/delete `Country` entities. Though perhaps you could throw an exception from an `@PrePersist` handler? I don&#39;t know what the defined behavior is in that case, however.","body":"This seems like it would be better <i>enforced</i> by the DBMS, if possible. Then in the Java code, simply don&#39;t write code to insert/update/delete <code>Country</code> entities. Though perhaps you could throw an exception from an <code>@PrePersist</code> handler? I don&#39;t know what the defined behavior is in that case, however."},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":1,"creation_date":1665403984,"post_id":73969560,"comment_id":130685052,"body_markdown":"How about making it impossible to insert into the entity table by e.g. not configuring the id generation i.e. remove `@GeneratedValue`?","body":"How about making it impossible to insert into the entity table by e.g. not configuring the id generation i.e. remove <code>@GeneratedValue</code>?"}],"owner":{"account_id":1308063,"reputation":1336,"user_id":2806801,"accept_rate":71,"display_name":"Radu Dumbrăveanu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665038504,"creation_date":1665038504,"question_id":73969560,"body_markdown":"I have a type of entity that must not be created or updated by application, .e.g. `Country` entity. Its corresponding table is filled manually, the application must only read from it.\r\n\r\nI&#39;m using the `@Immutable` to mark that the entity must not be changed. But I can not find an analog annotation to prevent entity creation. Are there possibilities from Hibernate to prevent an application from creating an entity? ","title":"Hibernate: how to prevent entity creation?","body":"<p>I have a type of entity that must not be created or updated by application, .e.g. <code>Country</code> entity. Its corresponding table is filled manually, the application must only read from it.</p>\n<p>I'm using the <code>@Immutable</code> to mark that the entity must not be changed. But I can not find an analog annotation to prevent entity creation. Are there possibilities from Hibernate to prevent an application from creating an entity?</p>\n"},{"tags":["java","android","xml","android-studio","kotlin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1665040851,"post_id":73969552,"comment_id":130607030,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":20858467,"reputation":466,"user_id":15321239,"display_name":"MACROSystems"},"score":0,"creation_date":1665065657,"post_id":73969552,"comment_id":130616233,"body_markdown":"can you please share the XML?","body":"can you please share the XML?"}],"owner":{"account_id":18247691,"reputation":1,"user_id":13283418,"display_name":"HabibUllah786"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665038468,"creation_date":1665038468,"question_id":73969552,"body_markdown":"Basically, my app is AppLocker.\r\nWhen you click the locked app it shows overlay Lock.\r\nAll was working until I notice that LockOverlay not looking good when shown on Landscape apps like Games.\r\n\r\nWhat I did until now.\r\n---&gt; I created a landscape layout for lock Overlay, but the problem still exist, the landscape layout is not applied on Overlay.\r\n\r\nPortrait\r\n[enter image description here][1]\r\n\r\n\r\nLandscape\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IlUQp.png\r\n  [2]: https://i.stack.imgur.com/uidlt.png","title":"Landscape not working for overlay Android","body":"<p>Basically, my app is AppLocker.\nWhen you click the locked app it shows overlay Lock.\nAll was working until I notice that LockOverlay not looking good when shown on Landscape apps like Games.</p>\n<p>What I did until now.\n---&gt; I created a landscape layout for lock Overlay, but the problem still exist, the landscape layout is not applied on Overlay.</p>\n<p>Portrait\n<a href=\"https://i.stack.imgur.com/IlUQp.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Landscape\n<a href=\"https://i.stack.imgur.com/uidlt.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","couchbase","project-reactor"],"comments":[{"owner":{"account_id":6716331,"reputation":1131,"user_id":5178057,"display_name":"Stepan Tsybulski"},"score":0,"creation_date":1580740908,"post_id":60033730,"comment_id":106186537,"body_markdown":"what does your method `upsert` return? Could you also provide its signature?","body":"what does your method <code>upsert</code> return? Could you also provide its signature?"},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1580923941,"post_id":60033730,"comment_id":106260588,"body_markdown":"What class is `bucket` an instance of?","body":"What class is <code>bucket</code> an instance of?"},{"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"score":0,"creation_date":1586888975,"post_id":60033730,"comment_id":108293311,"body_markdown":"@KunalGupta consider accepting an answer if it works for you.","body":"@KunalGupta consider accepting an answer if it works for you."},{"owner":{"account_id":15182352,"reputation":511,"user_id":10955333,"display_name":"Kunal gupta"},"score":0,"creation_date":1586961433,"post_id":60033730,"comment_id":108322455,"body_markdown":"The reason documents weren&#39;t getting persisting was because I was trying to flush the bucket in a different thread without realising that the flush operation can take some time. By the time the documents were persisted, the flush operation hadn&#39;t finished and when it actually did it removed the documents that i was persisting. But your answer is still valid. I had to use flatmap for this little operation i am doing here. Thanks :)","body":"The reason documents weren&#39;t getting persisting was because I was trying to flush the bucket in a different thread without realising that the flush operation can take some time. By the time the documents were persisted, the flush operation hadn&#39;t finished and when it actually did it removed the documents that i was persisting. But your answer is still valid. I had to use flatmap for this little operation i am doing here. Thanks :)"},{"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"score":0,"creation_date":1586978807,"post_id":60033730,"comment_id":108332839,"body_markdown":"Oh okay, those details were missing from the question.","body":"Oh okay, those details were missing from the question."}],"answers":[{"tags":[],"owner":{"account_id":9008991,"reputation":4402,"user_id":6714426,"accept_rate":74,"display_name":"Prashant Pandey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1580711238,"creation_date":1580711238,"answer_id":60034097,"question_id":60033730,"body_markdown":"Use .`flatMap` instead of .`map`. You inner stream is not getting subscribed to.","title":"Blocking upsert in couchbase","body":"<p>Use .<code>flatMap</code> instead of .<code>map</code>. You inner stream is not getting subscribed to.</p>\n"},{"tags":[],"owner":{"account_id":24761472,"reputation":17,"user_id":19669649,"display_name":"Mark Day"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665038426,"creation_date":1664612751,"answer_id":73916866,"question_id":60033730,"body_markdown":"I&#39;m getting the same issue regarding upserting items into couchbase with a `block()` then performing a get without the items being there.  There seems to be an tiny amount of time after a `block()` to an upsert before a get can find the items.   This is not the expected behaviour of a `block()` which should complete.\r\n\r\nIf i do create\r\n\r\n    Thread.sleep(5000)\r\n\r\n    GetItems\r\n\r\nIt works fine.\r\n\r\n","title":"Blocking upsert in couchbase","body":"<p>I'm getting the same issue regarding upserting items into couchbase with a <code>block()</code> then performing a get without the items being there.  There seems to be an tiny amount of time after a <code>block()</code> to an upsert before a get can find the items.   This is not the expected behaviour of a <code>block()</code> which should complete.</p>\n<p>If i do create</p>\n<pre><code>Thread.sleep(5000)\n\nGetItems\n</code></pre>\n<p>It works fine.</p>\n"},{"tags":[],"owner":{"account_id":24761472,"reputation":17,"user_id":19669649,"display_name":"Mark Day"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665038218,"creation_date":1664615602,"answer_id":73917120,"question_id":60033730,"body_markdown":"I think you may need this added to your query\r\n\r\nIt basically waits until all indexes have been completed internally on the couchbase before proceeding with the query.  It fixed my issues where i had a bulk upsert and then tried to do a get items which was returning an inconsistent number of rows (simply based on how many couchbase indexes had been fully resolved internally).  Nasty symptoms but this is your path to glory!\r\n\r\n    QueryOptions.queryOptions().scanConsistency(QueryScanConsistency.REQUEST_PLUS)","title":"Blocking upsert in couchbase","body":"<p>I think you may need this added to your query</p>\n<p>It basically waits until all indexes have been completed internally on the couchbase before proceeding with the query.  It fixed my issues where i had a bulk upsert and then tried to do a get items which was returning an inconsistent number of rows (simply based on how many couchbase indexes had been fully resolved internally).  Nasty symptoms but this is your path to glory!</p>\n<pre><code>QueryOptions.queryOptions().scanConsistency(QueryScanConsistency.REQUEST_PLUS)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24761472,"reputation":17,"user_id":19669649,"display_name":"Mark Day"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664631423,"creation_date":1664616486,"answer_id":73917204,"question_id":60033730,"body_markdown":"Finally solved this issue regarding couchbase and its state not totally updated after block\r\n\r\n\r\n\r\nMore notes on this issue.  It was actually not an error but Couchbase uses a scanning consistency for its internal indexes of UNBOUNDED.  This means that if any creates, deletes, etc are performed on couchbase then its internal state takes a tiny amount of time to reindex.  This was causing the intermittent behavour when running the reactor service.  Especially when doing a bulk create followed by a get items.  Using the query option command QueryOptions.queryOptions().scanConsistency(QueryScanConsistency.REQUEST_PLUS) forced couchbase to update its indexes prior to running the query.  This is exactly the behaviour we need and putting this in fixed all this shit ive been having.","title":"Blocking upsert in couchbase","body":"<p>Finally solved this issue regarding couchbase and its state not totally updated after block</p>\n<p>More notes on this issue.  It was actually not an error but Couchbase uses a scanning consistency for its internal indexes of UNBOUNDED.  This means that if any creates, deletes, etc are performed on couchbase then its internal state takes a tiny amount of time to reindex.  This was causing the intermittent behavour when running the reactor service.  Especially when doing a bulk create followed by a get items.  Using the query option command QueryOptions.queryOptions().scanConsistency(QueryScanConsistency.REQUEST_PLUS) forced couchbase to update its indexes prior to running the query.  This is exactly the behaviour we need and putting this in fixed all this shit ive been having.</p>\n"}],"owner":{"account_id":15182352,"reputation":511,"user_id":10955333,"display_name":"Kunal gupta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":60034097,"answer_count":4,"score":3,"last_activity_date":1665038426,"creation_date":1580708859,"question_id":60033730,"body_markdown":"I am writing a test where I need to upsert some documents(let&#39;s say 10) in my couchbase bucket before actually running any tests. So I have a method annotated with @BeforeAll that tries to upset these documents. Now when I try to run the test, the test fails because documents were not persisted by then. In order to wait for these documents to be inserted I am doing something like this -\r\n\r\n```\r\n\r\n    Flux.fromIterable(couchDocs)\r\n        .map(couchDoc -&gt; bucket.upsert(couchDoc, persistTo)\r\n        .collectList()\r\n        .block();\r\n```\r\n\r\nBut still when I run the test I can see that the documents were not persisted by then and the assertions fail. Am I missing something here?\r\n","title":"Blocking upsert in couchbase","body":"<p>I am writing a test where I need to upsert some documents(let's say 10) in my couchbase bucket before actually running any tests. So I have a method annotated with @BeforeAll that tries to upset these documents. Now when I try to run the test, the test fails because documents were not persisted by then. In order to wait for these documents to be inserted I am doing something like this -</p>\n\n<pre><code>\n    Flux.fromIterable(couchDocs)\n        .map(couchDoc -&gt; bucket.upsert(couchDoc, persistTo)\n        .collectList()\n        .block();\n</code></pre>\n\n<p>But still when I run the test I can see that the documents were not persisted by then and the assertions fail. Am I missing something here?</p>\n"},{"tags":["javascript","java","spring","selenium","aop"],"comments":[{"owner":{"account_id":6318334,"reputation":1487,"user_id":4907452,"accept_rate":75,"display_name":"Fabian Damken"},"score":0,"creation_date":1446243134,"post_id":33445617,"comment_id":54679560,"body_markdown":"Have you made sure that the class containing the click()-method is a Spring bean that is running in you ApplicationContext?","body":"Have you made sure that the class containing the click()-method is a Spring bean that is running in you ApplicationContext?"},{"owner":{"account_id":3614660,"reputation":10861,"user_id":3014866,"accept_rate":96,"display_name":"Rudziankoŭ"},"score":0,"creation_date":1446243189,"post_id":33445617,"comment_id":54679576,"body_markdown":"Nope. Thanks it could be a clue","body":"Nope. Thanks it could be a clue"}],"answers":[{"tags":[],"owner":{"account_id":8027063,"reputation":89,"user_id":6053575,"display_name":"Uchiha Suryajit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665038294,"creation_date":1664527176,"answer_id":73906074,"question_id":33445617,"body_markdown":"As far as I know, \r\n1. ProceedingJoinPoint can&#39;t be used with `@Before`, it&#39;s only available with `@Advice`\r\n2. Even in `@Advice`, as soon as you initiate the advice to proceed (i.e. click happens), there is NO guarantee that the element will be present in the DOM.","title":"Highlight selenium clicks using AOP","body":"<p>As far as I know,</p>\n<ol>\n<li>ProceedingJoinPoint can't be used with <code>@Before</code>, it's only available with <code>@Advice</code></li>\n<li>Even in <code>@Advice</code>, as soon as you initiate the advice to proceed (i.e. click happens), there is NO guarantee that the element will be present in the DOM.</li>\n</ol>\n"}],"owner":{"account_id":3614660,"reputation":10861,"user_id":3014866,"accept_rate":96,"display_name":"Rudziankoŭ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665038294,"creation_date":1446242967,"question_id":33445617,"body_markdown":"I am trying to plug in js element highlighting to selenium framework. I have this code:\r\n\r\n    @Aspect\r\n    public class HighlightAspect {\r\n\r\n\t@Pointcut(&quot;execution(* *.click())&quot;)\r\n\tprivate void allClickMethods(){}\r\n\r\n\t@Before(&quot;allClickMethods()&quot;)\r\n\tpublic void proxyClick(ProceedingJoinPoint joinPoint){\r\n\t\tWebElement element = (WebElement)joinPoint.getTarget();\r\n\t\thighlight(element, &quot;green&quot;);\r\n\t}\r\n\r\n\tprivate void highlight(WebElement element, String color) {\r\n\t\tBrowser.getBrowser().executeScript(&quot;arguments[0].style.backgroundColor = &#39;&quot;+color+&quot;&#39;&quot;,  element);\r\n    \t}\r\n    }\r\n\r\nI initialize spring context in &#39;main&#39; class like:\r\n\r\n    private static ConfigurableApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;spring_config.xml&quot;);\r\n\r\nAnd my `src/main/resources/spring_config.xml` looks like:\r\n\r\n    &lt;aop:aspectj-autoproxy /&gt;\r\n    ...\r\n        &lt;bean\r\n                id=&quot;highlightAspect&quot;\r\n                class=&quot;com.&lt;my_name_space&gt;.HighlightAspect&quot;&gt;\r\n        &lt;/bean&gt;\r\n    ...\r\n\r\n_______________\r\nI don&#39;t receive any exceptions from JVM, but when I add a logger to `proxyClick` I see this method didn&#39;t happen to be executed. \r\nPlease, help me to make it work. \r\n","title":"Highlight selenium clicks using AOP","body":"<p>I am trying to plug in js element highlighting to selenium framework. I have this code:</p>\n\n<pre><code>@Aspect\npublic class HighlightAspect {\n\n@Pointcut(\"execution(* *.click())\")\nprivate void allClickMethods(){}\n\n@Before(\"allClickMethods()\")\npublic void proxyClick(ProceedingJoinPoint joinPoint){\n    WebElement element = (WebElement)joinPoint.getTarget();\n    highlight(element, \"green\");\n}\n\nprivate void highlight(WebElement element, String color) {\n    Browser.getBrowser().executeScript(\"arguments[0].style.backgroundColor = '\"+color+\"'\",  element);\n    }\n}\n</code></pre>\n\n<p>I initialize spring context in 'main' class like:</p>\n\n<pre><code>private static ConfigurableApplicationContext ctx = new ClassPathXmlApplicationContext(\"spring_config.xml\");\n</code></pre>\n\n<p>And my <code>src/main/resources/spring_config.xml</code> looks like:</p>\n\n<pre><code>&lt;aop:aspectj-autoproxy /&gt;\n...\n    &lt;bean\n            id=\"highlightAspect\"\n            class=\"com.&lt;my_name_space&gt;.HighlightAspect\"&gt;\n    &lt;/bean&gt;\n...\n</code></pre>\n\n<hr>\n\n<p>I don't receive any exceptions from JVM, but when I add a logger to <code>proxyClick</code> I see this method didn't happen to be executed. \nPlease, help me to make it work. </p>\n"},{"tags":["java","byte-buddy"],"comments":[{"owner":{"account_id":17010875,"reputation":73,"user_id":12305901,"display_name":"rgb1380"},"score":0,"creation_date":1665057101,"post_id":73969523,"comment_id":130612760,"body_markdown":"I have upgraded byte-buddy to version 1.12.17 and still getting the same issue.","body":"I have upgraded byte-buddy to version 1.12.17 and still getting the same issue."},{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1665137651,"post_id":73969523,"comment_id":130634353,"body_markdown":"Have you tried registering an `AgentBuilder.Listener` to see if the transformation fails in some way?","body":"Have you tried registering an <code>AgentBuilder.Listener</code> to see if the transformation fails in some way?"}],"owner":{"account_id":17010875,"reputation":73,"user_id":12305901,"display_name":"rgb1380"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665038269,"creation_date":1665038269,"question_id":73969523,"body_markdown":"I am trying to create a deep copy of method arguments using the ByteBuddy agent (this is handy for using ArgumentCaptor of Mockito where the reference to the object is not enough and a deep copy is desired). It works for the private method of the target class but not the public one. The lib I have tested with is version 1.11.19.\r\n\r\nHere is the MRE where testPrivate() passes but testPublic() fails. The only difference is the access modifier of the wrapped method in the Print class. \r\n\r\nAm I missing something in setting up the agent?\r\n\r\n```java\r\nimport net.bytebuddy.agent.ByteBuddyAgent;\r\nimport net.bytebuddy.agent.builder.AgentBuilder;\r\nimport net.bytebuddy.implementation.MethodDelegation;\r\nimport net.bytebuddy.implementation.bind.annotation.*;\r\nimport net.bytebuddy.matcher.ElementMatchers;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.ArgumentCaptor;\r\n\r\nimport java.lang.reflect.Method;\r\nimport java.util.concurrent.Callable;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.mockito.Mockito.mock;\r\nimport static org.mockito.Mockito.verify;\r\nimport static org.mockito.internal.verification.VerificationModeFactory.times;\r\n\r\npublic class ByteBuddyTest {\r\n\r\n    public static class CopyInterceptor {\r\n        @RuntimeType\r\n        public static Object intercept(\r\n            @AllArguments Object[] allArguments,\r\n            @SuperMethod Method superMethod,\r\n            @Origin Method method,\r\n            @SuperCall Callable&lt;?&gt; callable,\r\n            @This Object self\r\n        ) throws Exception {\r\n            if (allArguments.length == 1 &amp;&amp; allArguments[0] instanceof Person person) {\r\n                var copiedPerson = new Person(person.getAge());\r\n                allArguments[0] = copiedPerson;\r\n            }\r\n            return superMethod.invoke(self, allArguments);\r\n        }\r\n    }\r\n\r\n    void initAgent() {\r\n        ByteBuddyAgent.install();\r\n        new AgentBuilder.Default()\r\n            .type(ElementMatchers.nameEndsWith(&quot;Print&quot;))\r\n            .transform((builder, type, classLoader, module, protectionDomain) -&gt;\r\n                builder\r\n                    .method(ElementMatchers.any())\r\n                    .intercept(MethodDelegation.to(CopyInterceptor.class))\r\n            ).installOnByteBuddyAgent();\r\n    }\r\n\r\n    @Test\r\n    void testPrivate() {\r\n        initAgent();\r\n        final ArgumentCaptor&lt;Person&gt; personCaptor =\r\n            ArgumentCaptor.forClass(Person.class);\r\n\r\n        var print = mock(Print.class);\r\n        var person = new Person(0);\r\n\r\n        int count = 10;\r\n\r\n        for (int i = 0; i &lt; count; i++) {\r\n            person.setAge(i);\r\n            print.privatePrint(person);\r\n        }\r\n        verify(print, times(count)).privatePrint(personCaptor.capture());\r\n\r\n        for (int i = 0; i &lt; count; i++) {\r\n            var p = personCaptor.getAllValues().get(i);\r\n            assertEquals(i, p.getAge());\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void testPublic() {\r\n        initAgent();\r\n        final ArgumentCaptor&lt;Person&gt; personCaptor =\r\n            ArgumentCaptor.forClass(Person.class);\r\n\r\n        var print = mock(Print.class);\r\n        var person = new Person(0);\r\n\r\n        int count = 10;\r\n        for (int i = 0; i &lt; count; i++) {\r\n            person.setAge(i);\r\n            print.publicPrint(person);\r\n        }\r\n        verify(print, times(count)).publicPrint(personCaptor.capture());\r\n\r\n        for (int i = 0; i &lt; count; i++) {\r\n            var p = personCaptor.getAllValues().get(i);\r\n            assertEquals(i, p.getAge());\r\n        }\r\n    }\r\n\r\n    static class Person {\r\n        private int age;\r\n        public Person (int age) {\r\n            this.age = age;\r\n        }\r\n\r\n        public int getAge() {\r\n            return age;\r\n        }\r\n\r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    }\r\n\r\n    static class Print {\r\n        private void privatePrint(Person p) {\r\n            System.out.println(&quot;private - &quot; + p.getAge());\r\n        }\r\n\r\n        public void publicPrint(Person p) {\r\n            System.out.println(&quot;public - &quot; + p.getAge());\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"ByteBuddy does not intercept public method","body":"<p>I am trying to create a deep copy of method arguments using the ByteBuddy agent (this is handy for using ArgumentCaptor of Mockito where the reference to the object is not enough and a deep copy is desired). It works for the private method of the target class but not the public one. The lib I have tested with is version 1.11.19.</p>\n<p>Here is the MRE where testPrivate() passes but testPublic() fails. The only difference is the access modifier of the wrapped method in the Print class.</p>\n<p>Am I missing something in setting up the agent?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import net.bytebuddy.agent.ByteBuddyAgent;\nimport net.bytebuddy.agent.builder.AgentBuilder;\nimport net.bytebuddy.implementation.MethodDelegation;\nimport net.bytebuddy.implementation.bind.annotation.*;\nimport net.bytebuddy.matcher.ElementMatchers;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.ArgumentCaptor;\n\nimport java.lang.reflect.Method;\nimport java.util.concurrent.Callable;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.verify;\nimport static org.mockito.internal.verification.VerificationModeFactory.times;\n\npublic class ByteBuddyTest {\n\n    public static class CopyInterceptor {\n        @RuntimeType\n        public static Object intercept(\n            @AllArguments Object[] allArguments,\n            @SuperMethod Method superMethod,\n            @Origin Method method,\n            @SuperCall Callable&lt;?&gt; callable,\n            @This Object self\n        ) throws Exception {\n            if (allArguments.length == 1 &amp;&amp; allArguments[0] instanceof Person person) {\n                var copiedPerson = new Person(person.getAge());\n                allArguments[0] = copiedPerson;\n            }\n            return superMethod.invoke(self, allArguments);\n        }\n    }\n\n    void initAgent() {\n        ByteBuddyAgent.install();\n        new AgentBuilder.Default()\n            .type(ElementMatchers.nameEndsWith(&quot;Print&quot;))\n            .transform((builder, type, classLoader, module, protectionDomain) -&gt;\n                builder\n                    .method(ElementMatchers.any())\n                    .intercept(MethodDelegation.to(CopyInterceptor.class))\n            ).installOnByteBuddyAgent();\n    }\n\n    @Test\n    void testPrivate() {\n        initAgent();\n        final ArgumentCaptor&lt;Person&gt; personCaptor =\n            ArgumentCaptor.forClass(Person.class);\n\n        var print = mock(Print.class);\n        var person = new Person(0);\n\n        int count = 10;\n\n        for (int i = 0; i &lt; count; i++) {\n            person.setAge(i);\n            print.privatePrint(person);\n        }\n        verify(print, times(count)).privatePrint(personCaptor.capture());\n\n        for (int i = 0; i &lt; count; i++) {\n            var p = personCaptor.getAllValues().get(i);\n            assertEquals(i, p.getAge());\n        }\n    }\n\n    @Test\n    void testPublic() {\n        initAgent();\n        final ArgumentCaptor&lt;Person&gt; personCaptor =\n            ArgumentCaptor.forClass(Person.class);\n\n        var print = mock(Print.class);\n        var person = new Person(0);\n\n        int count = 10;\n        for (int i = 0; i &lt; count; i++) {\n            person.setAge(i);\n            print.publicPrint(person);\n        }\n        verify(print, times(count)).publicPrint(personCaptor.capture());\n\n        for (int i = 0; i &lt; count; i++) {\n            var p = personCaptor.getAllValues().get(i);\n            assertEquals(i, p.getAge());\n        }\n    }\n\n    static class Person {\n        private int age;\n        public Person (int age) {\n            this.age = age;\n        }\n\n        public int getAge() {\n            return age;\n        }\n\n        public void setAge(int age) {\n            this.age = age;\n        }\n    }\n\n    static class Print {\n        private void privatePrint(Person p) {\n            System.out.println(&quot;private - &quot; + p.getAge());\n        }\n\n        public void publicPrint(Person p) {\n            System.out.println(&quot;public - &quot; + p.getAge());\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","input","numbers"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1665030869,"post_id":73968686,"comment_id":130604842,"body_markdown":"What does &quot;won&#39;t accept it&quot; mean?","body":"What does &quot;won&#39;t accept it&quot; mean?"},{"owner":{"account_id":1413789,"reputation":61252,"user_id":1553090,"accept_rate":89,"display_name":"paddy"},"score":0,"creation_date":1665030971,"post_id":73968686,"comment_id":130604856,"body_markdown":"You should describe the exact behavior (_i.e._ output) for a given input, and explain what you expect. Otherwise it&#39;s very difficult to unpack what you&#39;re saying. Note that `999 99` is _two_ numbers. Also, your for-loop could be rewritten with modulo arithmetic instead of looping.","body":"You should describe the exact behavior (<i>i.e.</i> output) for a given input, and explain what you expect. Otherwise it&#39;s very difficult to unpack what you&#39;re saying. Note that <code>999 99</code> is <i>two</i> numbers. Also, your for-loop could be rewritten with modulo arithmetic instead of looping."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1665031068,"post_id":73968686,"comment_id":130604876,"body_markdown":"Do not close you stdin Scanner `input.close();\n`","body":"Do not close you stdin Scanner <code>input.close(); </code>"}],"answers":[{"tags":[],"owner":{"account_id":10985088,"reputation":3,"user_id":8071065,"display_name":"Pascal Anema"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665038106,"creation_date":1665038106,"answer_id":73969501,"question_id":73968686,"body_markdown":"I believe your problem lies in the following part of your code:\r\n\r\n     while (moneySum &gt; EPS) {\r\n\r\n        month = month + 1;\r\n        moneySum = moneySum * (1 + 0.06 / 12);\r\n        moneySum = moneySum - withDraw;\r\n\r\n    }\r\nImagine what happens when ```moneySum``` is very large, at the end of each iteration of the ```while``` loop. Let&#39;s say you input ```moneySum = 1000000```, then it gets updated like so:\r\n\r\n    final double withDraw = 500;\r\n    moneySum = 1000000; // from input\r\n    \r\n    while (moneySum &gt; EPS) {\r\n       month = month + 1;\r\n       moneySum = moneySum * (1 + 0.06 / 12); // 1005000\r\n       moneySum = moneySum - withDraw; // 1004500\r\n       // moneySum is now larger than it was before,\r\n       //  it will thus keep increasing indefinitely\r\n    }\r\nAfter each iteration, ```moneySum``` only increases, but your loop condition checks whether ```moneySum``` decreases to below ```EPS = 0.000000000000001```, which will never happen.\r\n\r\nTo fix this issue, make sure you account for this possibility in your loop, it&#39;s the special case where you &quot;never run out of money&quot;. Like this:\r\n\r\n    while (moneySum &gt; EPS) {\r\n        month = month + 1;\r\n        double newMoneySum = moneySum * (1 + 0.06 / 12) - withDraw;\r\n        if (newMoneySum &lt; moneySum)\r\n            moneySum = newMoneySum;\r\n        else {\r\n            month = -1; // this is so we can check for this condition later\r\n            year = -1;  // feel free to implement it however you like\r\n            break; // this will exit the while loop, regardless of the loop condition\r\n        }\r\n    }\r\n\r\n    for (int i = 0; month &gt; 12; i++) {\r\n\r\n        month = month / 12;\r\n        year = month + i;\r\n\r\n    }\r\n    \r\n    if (year &lt; 0 &amp;&amp; month &lt; 0) {\r\n        System.out.println(&quot;Your money will last you forever!&quot;);\r\n    } else if (year &gt; 0) {\r\n        System.out.println(&quot;Your money will last &quot; + year + &quot; years and &quot; + month + &quot; months&quot;);\r\n    } else if (year &lt;= 0) {\r\n        System.out.println(&quot;your money will last &quot; + month + &quot; months&quot;);\r\n    } else if (month &lt;= 1) {\r\n        System.out.println(&quot;Your money will last &quot; + month + &quot;months&quot;);\r\n    } else if (month == 1 &amp;&amp; year == 1) {\r\n        System.out.println(&quot;Your money will last one year and one month&quot;);\r\n    }\r\n\r\nHope this helps!\r\n\r\nFeel free to implement it differently as well, helps with learning :)","title":"My program does not accept numbers bigger than 999 99","body":"<p>I believe your problem lies in the following part of your code:</p>\n<pre><code> while (moneySum &gt; EPS) {\n\n    month = month + 1;\n    moneySum = moneySum * (1 + 0.06 / 12);\n    moneySum = moneySum - withDraw;\n\n}\n</code></pre>\n<p>Imagine what happens when <code>moneySum</code> is very large, at the end of each iteration of the <code>while</code> loop. Let's say you input <code>moneySum = 1000000</code>, then it gets updated like so:</p>\n<pre><code>final double withDraw = 500;\nmoneySum = 1000000; // from input\n\nwhile (moneySum &gt; EPS) {\n   month = month + 1;\n   moneySum = moneySum * (1 + 0.06 / 12); // 1005000\n   moneySum = moneySum - withDraw; // 1004500\n   // moneySum is now larger than it was before,\n   //  it will thus keep increasing indefinitely\n}\n</code></pre>\n<p>After each iteration, <code>moneySum</code> only increases, but your loop condition checks whether <code>moneySum</code> decreases to below <code>EPS = 0.000000000000001</code>, which will never happen.</p>\n<p>To fix this issue, make sure you account for this possibility in your loop, it's the special case where you &quot;never run out of money&quot;. Like this:</p>\n<pre><code>while (moneySum &gt; EPS) {\n    month = month + 1;\n    double newMoneySum = moneySum * (1 + 0.06 / 12) - withDraw;\n    if (newMoneySum &lt; moneySum)\n        moneySum = newMoneySum;\n    else {\n        month = -1; // this is so we can check for this condition later\n        year = -1;  // feel free to implement it however you like\n        break; // this will exit the while loop, regardless of the loop condition\n    }\n}\n\nfor (int i = 0; month &gt; 12; i++) {\n\n    month = month / 12;\n    year = month + i;\n\n}\n\nif (year &lt; 0 &amp;&amp; month &lt; 0) {\n    System.out.println(&quot;Your money will last you forever!&quot;);\n} else if (year &gt; 0) {\n    System.out.println(&quot;Your money will last &quot; + year + &quot; years and &quot; + month + &quot; months&quot;);\n} else if (year &lt;= 0) {\n    System.out.println(&quot;your money will last &quot; + month + &quot; months&quot;);\n} else if (month &lt;= 1) {\n    System.out.println(&quot;Your money will last &quot; + month + &quot;months&quot;);\n} else if (month == 1 &amp;&amp; year == 1) {\n    System.out.println(&quot;Your money will last one year and one month&quot;);\n}\n</code></pre>\n<p>Hope this helps!</p>\n<p>Feel free to implement it differently as well, helps with learning :)</p>\n"}],"owner":{"account_id":26541574,"reputation":1,"user_id":20172234,"display_name":"Paulo De Souza Moulatlet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665038106,"creation_date":1665030637,"question_id":73968686,"body_markdown":"So I am making an interest calculator for my CPSC class in college first year, things are kinda moving fast and I almost feel like I&#39;m not cut out for this future but I will continue to try until I get it right. However, there is one issue that I can&#39;t overcome. Basically, I am trying to input around 999 99 or more but it won&#39;t accept it. Lower numbers are accepted however higher ones aren&#39;t well even just numbers like 9000. Earlier I was trying to type cast but nothing was working. Any tips on how to fix this would be greatly appreciated!\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\tfinal double withDraw = 500;\r\n\t\tdouble  moneySum = 0;\r\n\t\tint month = 0;\r\n\t\tdouble EPS = 0.000000000000001;\r\n\t\tint year = 0;\r\n\t\t// all the needed variables\r\n\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\t// Starting the first scanner input\r\n\t\tSystem.out.print(&quot;Now input the sum of money in the bank account: &quot;);\r\n\t\tmoneySum = input.nextDouble();\r\n\t\tinput.close();\r\n\r\n\t\twhile (moneySum &gt; EPS) {\r\n\r\n\t\t\tmonth = month + 1;\r\n\t\t\tmoneySum = moneySum * (1 + 0.06 / 12);\r\n\t\t\tmoneySum = moneySum - withDraw;\r\n\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; month &gt; 12; i++) {\r\n\r\n\t\t\tmonth = month / 12;\r\n\t\t\tyear = month + i;\r\n\r\n\t\t}\r\n\t\t// Work on this to make sure things are plural when they should be and singular\r\n\t\t// when they should be\r\n\t\tif (year &gt; 0) {\r\n\t\t\tSystem.out.println(&quot;Your money will last &quot; + year + &quot; years and &quot; + month + &quot; months&quot;);\r\n\t\t} else if (year &lt;= 0) {\r\n\t\t\tSystem.out.println(&quot;your money will last &quot; + month + &quot; months&quot;);\r\n\t\t} else if (month &lt;= 1) {\r\n\t\t\tSystem.out.println(&quot;Your money will last &quot; + month + &quot;months&quot;);\r\n\t\t} else if (month == 1 &amp;&amp; year == 1) {\r\n\t\t\tSystem.out.println(&quot;Your money will last one year and one month&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n","title":"My program does not accept numbers bigger than 999 99","body":"<p>So I am making an interest calculator for my CPSC class in college first year, things are kinda moving fast and I almost feel like I'm not cut out for this future but I will continue to try until I get it right. However, there is one issue that I can't overcome. Basically, I am trying to input around 999 99 or more but it won't accept it. Lower numbers are accepted however higher ones aren't well even just numbers like 9000. Earlier I was trying to type cast but nothing was working. Any tips on how to fix this would be greatly appreciated!</p>\n<pre><code>    final double withDraw = 500;\n    double  moneySum = 0;\n    int month = 0;\n    double EPS = 0.000000000000001;\n    int year = 0;\n    // all the needed variables\n\n    Scanner input = new Scanner(System.in);\n    // Starting the first scanner input\n    System.out.print(&quot;Now input the sum of money in the bank account: &quot;);\n    moneySum = input.nextDouble();\n    input.close();\n\n    while (moneySum &gt; EPS) {\n\n        month = month + 1;\n        moneySum = moneySum * (1 + 0.06 / 12);\n        moneySum = moneySum - withDraw;\n\n    }\n\n    for (int i = 0; month &gt; 12; i++) {\n\n        month = month / 12;\n        year = month + i;\n\n    }\n    // Work on this to make sure things are plural when they should be and singular\n    // when they should be\n    if (year &gt; 0) {\n        System.out.println(&quot;Your money will last &quot; + year + &quot; years and &quot; + month + &quot; months&quot;);\n    } else if (year &lt;= 0) {\n        System.out.println(&quot;your money will last &quot; + month + &quot; months&quot;);\n    } else if (month &lt;= 1) {\n        System.out.println(&quot;Your money will last &quot; + month + &quot;months&quot;);\n    } else if (month == 1 &amp;&amp; year == 1) {\n        System.out.println(&quot;Your money will last one year and one month&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1664989663,"post_id":73963860,"comment_id":130596354,"body_markdown":"I believe this would be a limitation of prepared statements, in that you cannot use it to specify a dynamic field/table name (e.g. you cannot use them for `ORDER BY` clauses in this manner). In this one rare case, you can append **known** database tables to the query (or keep a list of allowed queries), but do not do that for user input. Overall, it&#39;s more likely there&#39;s a bit of a misdesign in your DB, as users should not really know anything about the database.","body":"I believe this would be a limitation of prepared statements, in that you cannot use it to specify a dynamic field/table name (e.g. you cannot use them for <code>ORDER BY</code> clauses in this manner). In this one rare case, you can append <b>known</b> database tables to the query (or keep a list of allowed queries), but do not do that for user input. Overall, it&#39;s more likely there&#39;s a bit of a misdesign in your DB, as users should not really know anything about the database."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664989769,"post_id":73963860,"comment_id":130596392,"body_markdown":"@Rogue is correct but you shouldn&#39;t be doing it from Java anyway - big security no-no","body":"@Rogue is correct but you shouldn&#39;t be doing it from Java anyway - big security no-no"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664994181,"post_id":73963860,"comment_id":130597798,"body_markdown":"Both right, but I think it&#39;s only a syntax([quoting](https://dev.mysql.com/doc/refman/8.0/en/grant.html#grant-quoting)) problem... Try to hard code `dbTest.*` ... Try also `&quot;?&quot;.*`","body":"Both right, but I think it&#39;s only a syntax(<a href=\"https://dev.mysql.com/doc/refman/8.0/en/grant.html#grant-quoting\" rel=\"nofollow noreferrer\">quoting</a>) problem... Try to hard code <code>dbTest.*</code> ... Try also <code>&quot;?&quot;.*</code>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1665020284,"post_id":73963860,"comment_id":130603382,"body_markdown":"@xerx593 your approach would work for the username, but not for the `dbTest`. That will always be escaped as a value, and not a reference (which would use backticks ``` instead of `&#39;` or `&quot;`). In order for it to (maybe) work, you would need to enable `ANSI_QUOTES` for mysql, which has its own set of hassles/nightmares (e.g. strings can no longer be quoted with `&quot;`). I believe the prepared statement would still just appropriately substitute it with `PRIVILEGES ON &#39;dbTest&#39;.* ...` again, however.","body":"@xerx593 your approach would work for the username, but not for the <code>dbTest</code>. That will always be escaped as a value, and not a reference (which would use backticks ``` instead of <code>&#39;</code> or <code>&quot;</code>). In order for it to (maybe) work, you would need to enable <code>ANSI_QUOTES</code> for mysql, which has its own set of hassles/nightmares (e.g. strings can no longer be quoted with <code>&quot;</code>). I believe the prepared statement would still just appropriately substitute it with <code>PRIVILEGES ON &#39;dbTest&#39;.* ...</code> again, however."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1665037925,"post_id":73963860,"comment_id":130606179,"body_markdown":"You cannot use parameters for object names.","body":"You cannot use parameters for object names."}],"owner":{"display_name":"user12693314"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665037886,"creation_date":1664989165,"question_id":73963860,"body_markdown":"I&#39;m trying to give to a user all privileges on a database to all the tables it has.\r\n\r\nWhen I do it from Java, I get a syntax error when `this.ps.execute()` is called.\r\n\r\n    String setPrivileges = &quot;GRANT ALL PRIVILEGES ON ?.* TO ? @&#39;localhost&#39;&quot;;\r\n\r\n    this.ps = this.connection.prepareStatement(setPrivileges);\r\n    this.ps.setString(1, &quot;dbTest&quot;);\r\n    this.ps.setString(2, &quot;John&quot;);\r\n        \r\n    this.ps.execute(); \r\n\r\nThe error is:\r\n\r\n&gt; java.sql.SQLSyntaxErrorException** near &#39;dbTest&#39;.* TO &#39;John&#39; @&#39;%&#39;\r\n    ","title":"Grant privileges to user on MySQL from java","body":"<p>I'm trying to give to a user all privileges on a database to all the tables it has.</p>\n<p>When I do it from Java, I get a syntax error when <code>this.ps.execute()</code> is called.</p>\n<pre><code>String setPrivileges = &quot;GRANT ALL PRIVILEGES ON ?.* TO ? @'localhost'&quot;;\n\nthis.ps = this.connection.prepareStatement(setPrivileges);\nthis.ps.setString(1, &quot;dbTest&quot;);\nthis.ps.setString(2, &quot;John&quot;);\n    \nthis.ps.execute(); \n</code></pre>\n<p>The error is:</p>\n<blockquote>\n<p>java.sql.SQLSyntaxErrorException** near 'dbTest'.* TO 'John' @'%'</p>\n</blockquote>\n"},{"tags":["java","linked-list","reverse"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665037060,"creation_date":1664995147,"answer_id":73964916,"question_id":73962629,"body_markdown":"The &quot;full&quot; reverse version cannot work, because the reversal is done *inplace*, which means that the *original* list is reversed, and specifically all `next` pointers have been altered. You write *&quot;...and compare the original with...&quot;*, but there is no original anymore. It has been reversed.\r\n\r\nThat means that after having called `reverse(head)`, the node at `head` is now the tail of this list. It is still the same node, but its `next` pointer is now `null`. And since `fast` references the same node as `head`, the loop will end after its first iteration... `fast=fast.next` will surely make `fast` null.\r\n\r\nWhen only the second half of the list is reversed, the first half is still as it was originally, and so the `head` node still has its `next` pointer going forward, and a forward walk is possible until the half of the nodes have been traversed. \r\n\r\nIt may help to visualise it. Let&#39;s say we have this list:\r\n\r\n```none\r\n       head\r\n        ↓\r\n      ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐\r\n      │ data: 1 │   │ data: 2 │   │ data: 3 │   │ data: 4 │\r\n      │ next: ────► │ next: ────► │ next: ────► │ next: ────►null\r\n      └─────────┘   └─────────┘   └─────────┘   └─────────┘\r\n```\r\n\r\nAfter code has executed to reverse the *whole* list, we get:\r\n\r\n```none\r\n       head fast                                 slow\r\n        ↓    ↓                                    ↓\r\n      ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐\r\n      │ data: 1 │   │ data: 2 │   │ data: 3 │   │ data: 4 │\r\nnull◄──── :next │ ◄──── :next │ ◄──── :next │ ◄──── :next │\r\n      └─────────┘   └─────────┘   └─────────┘   └─────────┘\r\n```\r\n\r\nNote how there is no way anymore to go from the leftmost node to its right neighbor.\r\n\r\nNow see what happens when the code executes that performs the half-reversal. First it moves the `slow` pointer into place with a loop:\r\n\r\n```none\r\n       head                        slow\r\n        ↓                           ↓ \r\n      ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐\r\n      │ data: 1 │   │ data: 2 │   │ data: 3 │   │ data: 4 │\r\n      │ next: ────► │ next: ────► │ next: ────► │ next: ────►null\r\n      └─────────┘   └─────────┘   └─────────┘   └─────────┘\r\n```\r\n\r\n...then it calls `reverse(slow)`:\r\n\r\n```none\r\n       head fast                                 slow\r\n        ↓    ↓                                    ↓ \r\n      ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐\r\n      │ data: 1 │   │ data: 2 │   │ data: 3 │   │ data: 4 │\r\n      │ next: ────► │ next: ────► │┌─ :next │ ◄──── :next │\r\n      └─────────┘   └─────────┘   └│────────┘   └─────────┘\r\n                             null◄─┘\r\n```\r\n\r\nNow both `slow` and `fast` can move in the intended direction. If they follow the `next` pointers then they can move &quot;toward&quot; each other. If the list happens to be a palindrome, that loop will continue until `slow` is null, which is when both pointers have traversed half of the list. \r\n\r\n\r\nThe full reversal algorithm would have worked if `reverse` would have created *new* nodes and linked those together into a new, reversed list, leaving the original untouched.\r\n\r\n","title":"why my reverse is not working on full linked list and it is working on half of the linked list","body":"<p>The &quot;full&quot; reverse version cannot work, because the reversal is done <em>inplace</em>, which means that the <em>original</em> list is reversed, and specifically all <code>next</code> pointers have been altered. You write <em>&quot;...and compare the original with...&quot;</em>, but there is no original anymore. It has been reversed.</p>\n<p>That means that after having called <code>reverse(head)</code>, the node at <code>head</code> is now the tail of this list. It is still the same node, but its <code>next</code> pointer is now <code>null</code>. And since <code>fast</code> references the same node as <code>head</code>, the loop will end after its first iteration... <code>fast=fast.next</code> will surely make <code>fast</code> null.</p>\n<p>When only the second half of the list is reversed, the first half is still as it was originally, and so the <code>head</code> node still has its <code>next</code> pointer going forward, and a forward walk is possible until the half of the nodes have been traversed.</p>\n<p>It may help to visualise it. Let's say we have this list:</p>\n<pre class=\"lang-none prettyprint-override\"><code>       head\n        ↓\n      ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐\n      │ data: 1 │   │ data: 2 │   │ data: 3 │   │ data: 4 │\n      │ next: ────► │ next: ────► │ next: ────► │ next: ────►null\n      └─────────┘   └─────────┘   └─────────┘   └─────────┘\n</code></pre>\n<p>After code has executed to reverse the <em>whole</em> list, we get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>       head fast                                 slow\n        ↓    ↓                                    ↓\n      ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐\n      │ data: 1 │   │ data: 2 │   │ data: 3 │   │ data: 4 │\nnull◄──── :next │ ◄──── :next │ ◄──── :next │ ◄──── :next │\n      └─────────┘   └─────────┘   └─────────┘   └─────────┘\n</code></pre>\n<p>Note how there is no way anymore to go from the leftmost node to its right neighbor.</p>\n<p>Now see what happens when the code executes that performs the half-reversal. First it moves the <code>slow</code> pointer into place with a loop:</p>\n<pre class=\"lang-none prettyprint-override\"><code>       head                        slow\n        ↓                           ↓ \n      ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐\n      │ data: 1 │   │ data: 2 │   │ data: 3 │   │ data: 4 │\n      │ next: ────► │ next: ────► │ next: ────► │ next: ────►null\n      └─────────┘   └─────────┘   └─────────┘   └─────────┘\n</code></pre>\n<p>...then it calls <code>reverse(slow)</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>       head fast                                 slow\n        ↓    ↓                                    ↓ \n      ┌─────────┐   ┌─────────┐   ┌─────────┐   ┌─────────┐\n      │ data: 1 │   │ data: 2 │   │ data: 3 │   │ data: 4 │\n      │ next: ────► │ next: ────► │┌─ :next │ ◄──── :next │\n      └─────────┘   └─────────┘   └│────────┘   └─────────┘\n                             null◄─┘\n</code></pre>\n<p>Now both <code>slow</code> and <code>fast</code> can move in the intended direction. If they follow the <code>next</code> pointers then they can move &quot;toward&quot; each other. If the list happens to be a palindrome, that loop will continue until <code>slow</code> is null, which is when both pointers have traversed half of the list.</p>\n<p>The full reversal algorithm would have worked if <code>reverse</code> would have created <em>new</em> nodes and linked those together into a new, reversed list, leaving the original untouched.</p>\n"}],"owner":{"account_id":26282587,"reputation":1,"user_id":19950845,"display_name":"Jayasimha Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665037060,"creation_date":1664983160,"question_id":73962629,"body_markdown":"I tried solving palindrome of linked list in leetcode, initially i thought of just reversing the linked list and compare the original with reverse to find palindrome, but the reverse function is not working. after seeing the solutions, I found 2 pointer method, and solved it now my reverse is working.(commented are the 2 pointer).\r\n\r\nAny help, why the full reverse is not and it is working for half linked list.\r\nThanks in advance. \r\n\r\n`enter code here`\r\n\r\n           class Solution {\r\n             public boolean isPalindrome(ListNode head) {\r\n              ListNode fast=head;\r\n              ListNode slow=reverse(head);\r\n              // while(fast!=null &amp;&amp; fast.next!=null){\r\n              //     fast=fast.next.next;\r\n              //     slow=slow.next;\r\n              // }\r\n              // slow=reverse(slow);\r\n              // fast=head;\r\n              while(slow!=null){\r\n                 if(fast.val!=slow.val){\r\n                 return false;\r\n              }\r\n               fast=fast.next;\r\n                slow=slow.next;\r\n            }\r\n           return true;\r\n          }\r\n         public ListNode reverse(ListNode head){\r\n            ListNode prev=null;\r\n            ListNode cur=head;\r\n            ListNode ne=head.next;\r\n            while(cur!=null){\r\n             cur.next=prev;\r\n             prev=cur;\r\n             cur=ne;\r\n             if(ne!=null){\r\n                ne=ne.next;\r\n             }\r\n          }\r\n           return prev;\r\n       }\r\n     }\r\n","title":"why my reverse is not working on full linked list and it is working on half of the linked list","body":"<p>I tried solving palindrome of linked list in leetcode, initially i thought of just reversing the linked list and compare the original with reverse to find palindrome, but the reverse function is not working. after seeing the solutions, I found 2 pointer method, and solved it now my reverse is working.(commented are the 2 pointer).</p>\n<p>Any help, why the full reverse is not and it is working for half linked list.\nThanks in advance.</p>\n<p><code>enter code here</code></p>\n<pre><code>       class Solution {\n         public boolean isPalindrome(ListNode head) {\n          ListNode fast=head;\n          ListNode slow=reverse(head);\n          // while(fast!=null &amp;&amp; fast.next!=null){\n          //     fast=fast.next.next;\n          //     slow=slow.next;\n          // }\n          // slow=reverse(slow);\n          // fast=head;\n          while(slow!=null){\n             if(fast.val!=slow.val){\n             return false;\n          }\n           fast=fast.next;\n            slow=slow.next;\n        }\n       return true;\n      }\n     public ListNode reverse(ListNode head){\n        ListNode prev=null;\n        ListNode cur=head;\n        ListNode ne=head.next;\n        while(cur!=null){\n         cur.next=prev;\n         prev=cur;\n         cur=ne;\n         if(ne!=null){\n            ne=ne.next;\n         }\n      }\n       return prev;\n   }\n }\n</code></pre>\n"},{"tags":["java","neo4j"],"comments":[{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1665034989,"post_id":73968794,"comment_id":130605547,"body_markdown":"It&#39;s similar to the question asked by you here https://stackoverflow.com/questions/73603380/errors-calling-procedures-when-using-the-official-neo4j-procedure-template","body":"It&#39;s similar to the question asked by you here <a href=\"https://stackoverflow.com/questions/73603380/errors-calling-procedures-when-using-the-official-neo4j-procedure-template\" title=\"errors calling procedures when using the official neo4j procedure template\">stackoverflow.com/questions/73603380/&hellip;</a>"},{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1665035256,"post_id":73968794,"comment_id":130605592,"body_markdown":"In the `YIELD` statement use fields of the class CoActorRecord","body":"In the <code>YIELD</code> statement use fields of the class CoActorRecord"},{"owner":{"account_id":380616,"reputation":3245,"user_id":734748,"accept_rate":76,"display_name":"drdot"},"score":0,"creation_date":1665035440,"post_id":73968794,"comment_id":130605624,"body_markdown":"Yes similar, but the return is in diff format and I am trying to learn more on stream API. Can you provide a concrete answer? @CharchitKapoor","body":"Yes similar, but the return is in diff format and I am trying to learn more on stream API. Can you provide a concrete answer? @CharchitKapoor"}],"answers":[{"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665036606,"creation_date":1665036329,"answer_id":73969259,"question_id":73968794,"body_markdown":"In the example, of the neo4j Template, the procedure returns `Stream&lt;RelationshipTypes&gt;`, where the `RelationshipTypes` class is defined as:\r\n\r\n    public static class RelationshipTypes {\r\n        public List&lt;String&gt; outgoing;\r\n        public List&lt;String&gt; incoming;\r\n    \r\n        public RelationshipTypes(List&lt;String&gt; incoming, List&lt;String&gt; outgoing) {\r\n             this.outgoing = outgoing;\r\n             this.incoming = incoming;\r\n        }\r\n    }\r\n\r\nSo when using this procedure, we use `YIELD incoming, outcoming`, basically the fields of the `RelationshipTypes` class. Similarly, now, in this case, you should yield the field of `CoActorRecord` class. For example, if the node is one field, then something like this:\r\n\r\n    MATCH (n:Person)\r\n    CALL travers.findCoActors(n.name)\r\n    YIELD node\r\n    RETURN node\r\n\r\n","title":"errors calling procedures when using the official &quot;Neo4j Procedure Template&quot; travers.findCoActors","body":"<p>In the example, of the neo4j Template, the procedure returns <code>Stream&lt;RelationshipTypes&gt;</code>, where the <code>RelationshipTypes</code> class is defined as:</p>\n<pre><code>public static class RelationshipTypes {\n    public List&lt;String&gt; outgoing;\n    public List&lt;String&gt; incoming;\n\n    public RelationshipTypes(List&lt;String&gt; incoming, List&lt;String&gt; outgoing) {\n         this.outgoing = outgoing;\n         this.incoming = incoming;\n    }\n}\n</code></pre>\n<p>So when using this procedure, we use <code>YIELD incoming, outcoming</code>, basically the fields of the <code>RelationshipTypes</code> class. Similarly, now, in this case, you should yield the field of <code>CoActorRecord</code> class. For example, if the node is one field, then something like this:</p>\n<pre><code>MATCH (n:Person)\nCALL travers.findCoActors(n.name)\nYIELD node\nRETURN node\n</code></pre>\n"}],"owner":{"account_id":380616,"reputation":3245,"user_id":734748,"accept_rate":76,"display_name":"drdot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73969259,"answer_count":1,"score":0,"last_activity_date":1665036606,"creation_date":1665031927,"question_id":73968794,"body_markdown":"I am using this official neo4j template to understand how to write customized procedures https://github.com/neo4j-examples/neo4j-procedure-template\r\n\r\nI have loaded the compiled JAR file into the plugins directory on a neo4j container (community verison 4.4.4)\r\n\r\nThe customized function and aggregated function both works as expected. But when I call the customized procedure\r\n\r\n    MATCH (n:Person)\r\n    CALL travers.findCoActors(n.name);\r\n\r\nI got an error\r\n\r\n    Procedure call inside a query does not support naming results implicitly (name explicitly using `YIELD` instead) (line 2, column 1 (offset: 17))\r\n    &quot;CALL travers.findCoActors(n.name);&quot;\r\n     ^\r\n\r\nI understand that I need to use yield and return in the cypher query, but I am not sure what is the correct output format of the findCoActors based on the function definition in java. Not very familiar with all the stream APIs...\r\n\r\n    @Procedure(value = &quot;travers.findCoActors&quot;, mode = Mode.READ)\r\n    @Description(&quot;traverses starting from the Person with the given name and returns all co-actors&quot;)\r\n    public Stream&lt;CoActorRecord&gt; findCoActors(@Name(&quot;actorName&quot;) String actorName) {\r\n    \r\n        Node actor = tx.findNodes(PERSON, &quot;name&quot;, actorName)\r\n                .stream()\r\n                .findFirst()\r\n                .orElseThrow(IllegalArgumentException::new);\r\n    \r\n        final Traverser traverse = tx.traversalDescription()\r\n                .depthFirst()\r\n                .evaluator(Evaluators.fromDepth(1))\r\n                .evaluator(Evaluators.toDepth(2))\r\n                .evaluator(Evaluators.includeIfAcceptedByAny(new PathLogger(), new LabelEvaluator(PERSON)))\r\n                .traverse(actor);\r\n    \r\n        return StreamSupport\r\n                .stream(traverse.spliterator(), false)\r\n                .map(Path::endNode)\r\n                .map(CoActorRecord::new);\r\n    }\r\n\r\n\r\nHow do I make the query work?","title":"errors calling procedures when using the official &quot;Neo4j Procedure Template&quot; travers.findCoActors","body":"<p>I am using this official neo4j template to understand how to write customized procedures <a href=\"https://github.com/neo4j-examples/neo4j-procedure-template\" rel=\"nofollow noreferrer\">https://github.com/neo4j-examples/neo4j-procedure-template</a></p>\n<p>I have loaded the compiled JAR file into the plugins directory on a neo4j container (community verison 4.4.4)</p>\n<p>The customized function and aggregated function both works as expected. But when I call the customized procedure</p>\n<pre><code>MATCH (n:Person)\nCALL travers.findCoActors(n.name);\n</code></pre>\n<p>I got an error</p>\n<pre><code>Procedure call inside a query does not support naming results implicitly (name explicitly using `YIELD` instead) (line 2, column 1 (offset: 17))\n&quot;CALL travers.findCoActors(n.name);&quot;\n ^\n</code></pre>\n<p>I understand that I need to use yield and return in the cypher query, but I am not sure what is the correct output format of the findCoActors based on the function definition in java. Not very familiar with all the stream APIs...</p>\n<pre><code>@Procedure(value = &quot;travers.findCoActors&quot;, mode = Mode.READ)\n@Description(&quot;traverses starting from the Person with the given name and returns all co-actors&quot;)\npublic Stream&lt;CoActorRecord&gt; findCoActors(@Name(&quot;actorName&quot;) String actorName) {\n\n    Node actor = tx.findNodes(PERSON, &quot;name&quot;, actorName)\n            .stream()\n            .findFirst()\n            .orElseThrow(IllegalArgumentException::new);\n\n    final Traverser traverse = tx.traversalDescription()\n            .depthFirst()\n            .evaluator(Evaluators.fromDepth(1))\n            .evaluator(Evaluators.toDepth(2))\n            .evaluator(Evaluators.includeIfAcceptedByAny(new PathLogger(), new LabelEvaluator(PERSON)))\n            .traverse(actor);\n\n    return StreamSupport\n            .stream(traverse.spliterator(), false)\n            .map(Path::endNode)\n            .map(CoActorRecord::new);\n}\n</code></pre>\n<p>How do I make the query work?</p>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":10531491,"reputation":330,"user_id":7760687,"display_name":"Mayur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665035518,"creation_date":1665035518,"answer_id":73969168,"question_id":73967148,"body_markdown":"**Use this**\r\n\r\n    android {\r\n        compileSdk 32\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.myapplication&quot;\r\n            minSdk 23\r\n            targetSdk 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    \r\n    \r\n        useLibrary &#39;org.apache.http.legacy&#39;\r\n    \r\n        packagingOptions {\r\n            exclude &#39;META-INF/DEPENDENCIES.txt&#39;\r\n            exclude &#39;META-INF/LICENSE.txt&#39;\r\n            exclude &#39;META-INF/NOTICE.txt&#39;\r\n            exclude &#39;META-INF/NOTICE&#39;\r\n            exclude &#39;META-INF/LICENSE&#39;\r\n            exclude &#39;META-INF/DEPENDENCIES&#39;\r\n            exclude &#39;META-INF/notice.txt&#39;\r\n            exclude &#39;META-INF/license.txt&#39;\r\n            exclude &#39;META-INF/dependencies.txt&#39;\r\n            exclude &#39;META-INF/LGPL2.1&#39;\r\n        }\r\n    \r\n        dexOptions {\r\n            javaMaxHeapSize &quot;4g&quot;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.5.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n        \r\n        implementation &#39;org.apache.httpcomponents:httpclient:4.2.6&#39;\r\n        implementation &#39;org.apache.httpcomponents:httpmime:4.5.6&#39;\r\n    }","title":"Gradle Duplicate classes for org.apache.http library","body":"<p><strong>Use this</strong></p>\n<pre><code>android {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.myapplication&quot;\n        minSdk 23\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n\n    useLibrary 'org.apache.http.legacy'\n\n    packagingOptions {\n        exclude 'META-INF/DEPENDENCIES.txt'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/notice.txt'\n        exclude 'META-INF/license.txt'\n        exclude 'META-INF/dependencies.txt'\n        exclude 'META-INF/LGPL2.1'\n    }\n\n    dexOptions {\n        javaMaxHeapSize &quot;4g&quot;\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.5.0'\n    implementation 'com.google.android.material:material:1.6.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    \n    implementation 'org.apache.httpcomponents:httpclient:4.2.6'\n    implementation 'org.apache.httpcomponents:httpmime:4.5.6'\n}\n</code></pre>\n"}],"owner":{"account_id":2805482,"reputation":397,"user_id":2412814,"accept_rate":62,"display_name":"PewK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665035518,"creation_date":1665011257,"question_id":73967148,"body_markdown":"I am getting duplicate classes errors when building my gradle with the Apache http classes. Here are some of the errors I&#39;m getting:\r\n\r\n```\r\nDuplicate class org.apache.http.HttpHeaders found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.TruncatedChunkException found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.annotation.GuardedBy found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.annotation.Immutable found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.annotation.NotThreadSafe found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.annotation.ThreadSafe found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.auth.ContextAwareAuthScheme found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.AuthCache found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.RedirectStrategy found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.entity.DecompressingEntity found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.entity.DeflateDecompressingEntity found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.entity.GzipDecompressingEntity found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.protocol.RequestAcceptEncoding found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.protocol.RequestAuthCache found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.protocol.RequestClientConnControl found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.protocol.ResponseContentEncoding found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.utils.Idn found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.utils.JdkIdn found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.utils.Punycode found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.client.utils.Rfc3492Idn found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\r\nDuplicate class org.apache.http.conn.HttpRoutedConnection found in modules jetified-httpclient-android-4.3.5.1.jar \r\n```\r\n\r\nHere&#39;s my gradle:\r\n\r\n    \r\n\r\n    \r\n\r\n    android {\r\n                compileSdkVersion 30\r\n                buildToolsVersion &quot;30.0.2&quot;\r\n                useLibrary &#39;org.apache.http.legacy&#39;\r\n            \r\n                compileOptions {\r\n                    sourceCompatibility JavaVersion.VERSION_1_8\r\n                    targetCompatibility JavaVersion.VERSION_1_8\r\n                }\r\n            \r\n                dexOptions {\r\n                    javaMaxHeapSize &quot;4g&quot;\r\n                }\r\n    \r\n                ...\r\n             defaultConfig {\r\n                applicationId &quot;com.myapp.android&quot;\r\n                //Oreo 8.0\r\n                minSdkVersion 26\r\n                // Android 11\r\n                targetSdkVersion 30\r\n    }\r\n            \r\n                ...\r\n            }\r\n            \r\n            dependencies {\r\n                ...\r\n                implementation (&#39;org.apache.httpcomponents:httpclient-android:4.3.5.1&#39;) {\r\n                    exclude group: &#39;org.apache.http&#39;\r\n                }\r\n                implementation(&#39;org.apache.httpcomponents:httpmime:4.3&#39;) {\r\n                    exclude group: &#39;org.apache.httpcomponents&#39;, module: &#39;httpclient&#39;\r\n                 ...\r\n                }\r\n               \r\n        implementation&#39;org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2&#39;\r\n            }\r\n\r\nI need to access the following classes: `HttpMultipartMode, MultipartEntityBuilder, ContentType, HttpPost, HttpRequestBase, HttpUriRequest`. That&#39;s why this combination of libraries work for me. However it fails right before running on the device. Any support is appreciated!","title":"Gradle Duplicate classes for org.apache.http library","body":"<p>I am getting duplicate classes errors when building my gradle with the Apache http classes. Here are some of the errors I'm getting:</p>\n<pre><code>Duplicate class org.apache.http.HttpHeaders found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.TruncatedChunkException found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.annotation.GuardedBy found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.annotation.Immutable found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.annotation.NotThreadSafe found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.annotation.ThreadSafe found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.auth.ContextAwareAuthScheme found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.AuthCache found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.RedirectStrategy found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.entity.DecompressingEntity found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.entity.DeflateDecompressingEntity found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.entity.GzipDecompressingEntity found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.protocol.RequestAcceptEncoding found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.protocol.RequestAuthCache found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.protocol.RequestClientConnControl found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.protocol.ResponseContentEncoding found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.utils.Idn found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.utils.JdkIdn found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.utils.Punycode found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.client.utils.Rfc3492Idn found in modules jetified-httpclient-android-4.3.5.1.jar (org.apache.httpcomponents:httpclient-android:4.3.5.1) and jetified-org.jbundle.util.osgi.wrapped.org.apache.http.client-4.1.2.jar (org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2)\nDuplicate class org.apache.http.conn.HttpRoutedConnection found in modules jetified-httpclient-android-4.3.5.1.jar \n</code></pre>\n<p>Here's my gradle:</p>\n<pre><code>android {\n            compileSdkVersion 30\n            buildToolsVersion &quot;30.0.2&quot;\n            useLibrary 'org.apache.http.legacy'\n        \n            compileOptions {\n                sourceCompatibility JavaVersion.VERSION_1_8\n                targetCompatibility JavaVersion.VERSION_1_8\n            }\n        \n            dexOptions {\n                javaMaxHeapSize &quot;4g&quot;\n            }\n\n            ...\n         defaultConfig {\n            applicationId &quot;com.myapp.android&quot;\n            //Oreo 8.0\n            minSdkVersion 26\n            // Android 11\n            targetSdkVersion 30\n}\n        \n            ...\n        }\n        \n        dependencies {\n            ...\n            implementation ('org.apache.httpcomponents:httpclient-android:4.3.5.1') {\n                exclude group: 'org.apache.http'\n            }\n            implementation('org.apache.httpcomponents:httpmime:4.3') {\n                exclude group: 'org.apache.httpcomponents', module: 'httpclient'\n             ...\n            }\n           \n    implementation'org.jbundle.util.osgi.wrapped:org.jbundle.util.osgi.wrapped.org.apache.http.client:4.1.2'\n        }\n</code></pre>\n<p>I need to access the following classes: <code>HttpMultipartMode, MultipartEntityBuilder, ContentType, HttpPost, HttpRequestBase, HttpUriRequest</code>. That's why this combination of libraries work for me. However it fails right before running on the device. Any support is appreciated!</p>\n"},{"tags":["java","int","java.util.scanner"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1487776458,"post_id":42395182,"comment_id":71937863,"body_markdown":"Your code works fine for me if I give it a number.  What, exactly, are you providing as input on system in? (The error message you&#39;ve posted indicates you&#39;re trying to parse `null`)","body":"Your code works fine for me if I give it a number.  What, exactly, are you providing as input on system in? (The error message you&#39;ve posted indicates you&#39;re trying to parse <code>null</code>)"},{"owner":{"account_id":6535577,"reputation":5673,"user_id":5055190,"accept_rate":100,"display_name":"dumbPotato21"},"score":0,"creation_date":1487776691,"post_id":42395182,"comment_id":71938002,"body_markdown":"What is your input ? The code looks fine to me. http://ideone.com/omNdEF","body":"What is your input ? The code looks fine to me. <a href=\"http://ideone.com/omNdEF\" rel=\"nofollow noreferrer\">ideone.com/omNdEF</a>"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1487777588,"post_id":42395182,"comment_id":71938685,"body_markdown":"I doubt that your exception message matches your code. Scanner methods don&#39;t return `null`. They will throw an exception if there&#39;s nothing to read. Please provide a [mcve].","body":"I doubt that your exception message matches your code. Scanner methods don&#39;t return <code>null</code>. They will throw an exception if there&#39;s nothing to read. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":7577842,"reputation":9624,"user_id":5749570,"display_name":"VHS"},"score":0,"creation_date":1535747469,"post_id":42395182,"comment_id":91195859,"body_markdown":"The steps given do not reproduce the quoted problem.","body":"The steps given do not reproduce the quoted problem."}],"answers":[{"tags":[],"owner":{"account_id":9538011,"reputation":418,"user_id":7087480,"accept_rate":53,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487776296,"creation_date":1487776296,"answer_id":42395285,"question_id":42395182,"body_markdown":"    System.out.println(&quot;Enter first number&quot;);\r\n    Scanner sc=new Scanner(System.in); \r\n    String name=sc.next();\r\n    int result = Integer.parseInt(name);\r\n    if (result / 2 == 1){\r\n    System.out.println(&quot;a&quot;);\r\n\r\nparseint changes it to a primitive int rather than an Integer object","title":"How do I convert scanner input into an integer?","body":"<pre><code>System.out.println(\"Enter first number\");\nScanner sc=new Scanner(System.in); \nString name=sc.next();\nint result = Integer.parseInt(name);\nif (result / 2 == 1){\nSystem.out.println(\"a\");\n</code></pre>\n\n<p>parseint changes it to a primitive int rather than an Integer object</p>\n"},{"tags":[],"owner":{"account_id":7983058,"reputation":19,"user_id":6023628,"display_name":"Sergei Stepanenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487776914,"creation_date":1487776914,"answer_id":42395537,"question_id":42395182,"body_markdown":"In your stacktrace you have `null` as parameter in `Integer.valueOf(name)`. \r\nSeems your console produce some invalid input sequence.\r\nTry to check it with `sc.hasNext()` condition:\r\n\r\n        System.out.println(&quot;Enter first number&quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        if (sc.hasNext()) {\r\n            String name = sc.next();\r\n            int result = Integer.parseInt(name);\r\n            if (result / 2 == 1) {\r\n                System.out.println(&quot;a&quot;);\r\n            }\r\n        }\r\n","title":"How do I convert scanner input into an integer?","body":"<p>In your stacktrace you have <code>null</code> as parameter in <code>Integer.valueOf(name)</code>. \nSeems your console produce some invalid input sequence.\nTry to check it with <code>sc.hasNext()</code> condition:</p>\n\n<pre><code>    System.out.println(\"Enter first number\");\n    Scanner sc = new Scanner(System.in);\n    if (sc.hasNext()) {\n        String name = sc.next();\n        int result = Integer.parseInt(name);\n        if (result / 2 == 1) {\n            System.out.println(\"a\");\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1461157,"reputation":2027,"user_id":1375455,"accept_rate":93,"display_name":"FSm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487777005,"creation_date":1487777005,"answer_id":42395565,"question_id":42395182,"body_markdown":"Try \r\n   \r\n    System.out.println(&quot;Enter first number&quot;);\r\n    Scanner sc=new Scanner(System.in); \r\n    int name=sc.nextInt();\r\n    if ((name / 2) == 1)\r\n    System.out.println(&quot;a&quot;); \r\n\r\n**RUN**\r\n\r\n    run:\r\n    Enter first number\r\n    2\r\n    a","title":"How do I convert scanner input into an integer?","body":"<p>Try </p>\n\n<pre><code>System.out.println(\"Enter first number\");\nScanner sc=new Scanner(System.in); \nint name=sc.nextInt();\nif ((name / 2) == 1)\nSystem.out.println(\"a\"); \n</code></pre>\n\n<p><strong>RUN</strong></p>\n\n<pre><code>run:\nEnter first number\n2\na\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3915545,"reputation":616,"user_id":3239441,"accept_rate":0,"display_name":"Anik Dey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487786467,"creation_date":1487786467,"answer_id":42399006,"question_id":42395182,"body_markdown":"Try this code\r\n\r\n    package exmaple;\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Parser {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\t\r\n    \t\tString name = in.next();\r\n    \t\t\r\n    \t\ttry{\r\n    \t\t\tint result = Integer.parseInt(name);\r\n    \t\t\tif(result / 2 == 1) {\r\n    \t\t\t\tSystem.out.println(&quot;a&quot;);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t} catch(Exception exception) {\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tin.close();\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How do I convert scanner input into an integer?","body":"<p>Try this code</p>\n\n<pre><code>package exmaple;\n\nimport java.util.Scanner;\n\npublic class Parser {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n\n        String name = in.next();\n\n        try{\n            int result = Integer.parseInt(name);\n            if(result / 2 == 1) {\n                System.out.println(\"a\");\n            }\n\n        } catch(Exception exception) {\n\n        }\n        in.close();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19253211,"reputation":3,"user_id":14070712,"display_name":"David Drezel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665034996,"creation_date":1665034996,"answer_id":73969102,"question_id":42395182,"body_markdown":"try\r\n\r\n    System.out.println(&quot;Enter first number&quot;);\r\n    Scanner sc=new Scanner(System.in); \r\n    int result = sc.nextInt;\r\n    if (result / 2 == 1){\r\n    System.out.println(&quot;a&quot;);","title":"How do I convert scanner input into an integer?","body":"<p>try</p>\n<pre><code>System.out.println(&quot;Enter first number&quot;);\nScanner sc=new Scanner(System.in); \nint result = sc.nextInt;\nif (result / 2 == 1){\nSystem.out.println(&quot;a&quot;);\n</code></pre>\n"}],"owner":{"account_id":10309082,"reputation":25,"user_id":7605466,"display_name":"O Williams"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38329,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":5,"score":0,"last_activity_date":1665034996,"creation_date":1487776017,"question_id":42395182,"body_markdown":"In Java, how, if possible, can I convert numerical scanner input (such as 2 or 87) into an integer variable? What I&#39;m using now yields the error message:\r\n\r\n        Exception in thread &quot;main&quot; java.lang.NumberFormatException: null\r\n        at java.lang.Integer.parseInt(Unknown Source)\r\n\t    at java.lang.Integer.valueOf(Unknown Source)\r\n\t    at diDecryption.Didecryption.main(Didecryption.java:226)\r\n\r\nAnd this is the code I&#39;m using to do it (pieced together, it&#39;s part of a much larger program):\r\n\r\n        System.out.println(&quot;Enter first number&quot;);\r\n\t\tScanner sc=new Scanner(System.in); \r\n\t\tString name=sc.next();\r\n        int result = Integer.valueOf(name);\r\n        if (result / 2 == 1){\r\n\t\tSystem.out.println(&quot;a&quot;);\r\n\r\nThe purpose of the program is to decode an encrypted message. The input is numerical, and if I remove the string to int converter, the division does not work. How do I fix this?\r\n        ","title":"How do I convert scanner input into an integer?","body":"<p>In Java, how, if possible, can I convert numerical scanner input (such as 2 or 87) into an integer variable? What I'm using now yields the error message:</p>\n\n<pre><code>    Exception in thread \"main\" java.lang.NumberFormatException: null\n    at java.lang.Integer.parseInt(Unknown Source)\n    at java.lang.Integer.valueOf(Unknown Source)\n    at diDecryption.Didecryption.main(Didecryption.java:226)\n</code></pre>\n\n<p>And this is the code I'm using to do it (pieced together, it's part of a much larger program):</p>\n\n<pre><code>    System.out.println(\"Enter first number\");\n    Scanner sc=new Scanner(System.in); \n    String name=sc.next();\n    int result = Integer.valueOf(name);\n    if (result / 2 == 1){\n    System.out.println(\"a\");\n</code></pre>\n\n<p>The purpose of the program is to decode an encrypted message. The input is numerical, and if I remove the string to int converter, the division does not work. How do I fix this?</p>\n"},{"tags":["java","elasticsearch","kibana","elasticsearch-api"],"comments":[{"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"score":0,"creation_date":1665000977,"post_id":73965064,"comment_id":130599796,"body_markdown":"I believe you will have to use a script to see if the user is list or object.","body":"I believe you will have to use a script to see if the user is list or object."}],"answers":[{"tags":[],"owner":{"account_id":12826545,"reputation":8857,"user_id":9279354,"display_name":"jaspreet chahal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665034600,"creation_date":1665034600,"answer_id":73969056,"question_id":73965064,"body_markdown":"You can use script query like below \r\n```\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;script&quot;: {\r\n      &quot;script&quot;: &quot;if (doc[&#39;document.keyword&#39;].size()==1) return true;&quot;\r\n    }\r\n  }\r\n}\r\n```","title":"Elastic ExistsRequst for field value and field type","body":"<p>You can use script query like below</p>\n<pre><code>{\n  &quot;query&quot;: {\n    &quot;script&quot;: {\n      &quot;script&quot;: &quot;if (doc['document.keyword'].size()==1) return true;&quot;\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665034600,"creation_date":1664995987,"question_id":73965064,"body_markdown":"I&#39;m working on a project creating integration tests and the data I have includes all the schema updates people have done in the past.  For example My &quot;documents&quot; field has a property of `user`, which has been an array in the past, but is now an Object.\r\n\r\nI&#39;m trying to write an integration test that will ONLY use a `document` if the `user` type is Object, not array.\r\n\r\nIs there a way to do this with an `ExistsQuery`?  So far I have not been able to find anything. Here&#39;s my current query which brings back inconsistent data:\r\n\r\n```\r\nGET _search\r\n{\r\n &quot;query&quot; : {\r\n   &quot;bool&quot; : {\r\n     &quot;must&quot; : {\r\n       &quot;exists&quot; : {\r\n         &quot;document.user&quot;\r\n       }\r\n     }\r\n   }\r\n }\r\n}\r\n```\r\n\r\nIdeally I&#39;d like to check for `document.user[]` and filter those values out.","title":"Elastic ExistsRequst for field value and field type","body":"<p>I'm working on a project creating integration tests and the data I have includes all the schema updates people have done in the past.  For example My &quot;documents&quot; field has a property of <code>user</code>, which has been an array in the past, but is now an Object.</p>\n<p>I'm trying to write an integration test that will ONLY use a <code>document</code> if the <code>user</code> type is Object, not array.</p>\n<p>Is there a way to do this with an <code>ExistsQuery</code>?  So far I have not been able to find anything. Here's my current query which brings back inconsistent data:</p>\n<pre><code>GET _search\n{\n &quot;query&quot; : {\n   &quot;bool&quot; : {\n     &quot;must&quot; : {\n       &quot;exists&quot; : {\n         &quot;document.user&quot;\n       }\n     }\n   }\n }\n}\n</code></pre>\n<p>Ideally I'd like to check for <code>document.user[]</code> and filter those values out.</p>\n"},{"tags":["java","list","matrix"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1664976683,"post_id":73960753,"comment_id":130591399,"body_markdown":"You don&#39;t need to return the matrix passed as a parameter, right? That would mean you could create a new list of lists and then add the values accordingly. Rotation basically swaps columns and rows so depending on whether the first dimension is rows or columns you basically read the values from the same column or row and add then to the _new array list_ which you in turn add to the _new list_ that represents the entire matrix.","body":"You don&#39;t need to return the matrix passed as a parameter, right? That would mean you could create a new list of lists and then add the values accordingly. Rotation basically swaps columns and rows so depending on whether the first dimension is rows or columns you basically read the values from the same column or row and add then to the <i>new array list</i> which you in turn add to the <i>new list</i> that represents the entire matrix."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664977872,"creation_date":1664977217,"answer_id":73961271,"question_id":73960753,"body_markdown":"In case if according to the requirements of this challenge you&#39;re expected to return a newly created nested list, then you can prepopulate it and then manipulate with it as if it&#39;s a nested array.\r\n\r\nThe key point you need to understand in order to solve this problem - is how in indices are getting changed during rotation of element. And the best way to visualize this is to draw this process on a paper.\r\n\r\nIf you&#39;ll do that, you&#39;ll be able to observe that while rotating elements of a square matrix clockwise that:\r\n* a **row** becomes a **column**\r\n```\r\nrow -&gt; column // i -&gt; j   in the code\r\n```\r\n* a new **column** index becomes equal to the matrix size `n` minus `1` minus previous **row** index\r\n```\r\nj -&gt; (n - 1) - i\r\n```\r\nThat&#39;s how it might be implemented:\r\n\r\n    public static List&lt;List&lt;Integer&gt;&gt; rotate(List&lt;List&lt;Integer&gt;&gt; matrix, int n) {\r\n        List&lt;List&lt;Integer&gt;&gt; result = getMatrix(n);\r\n        \r\n        // i -&gt; j &amp; j -&gt; (n - 1) - i\r\n        \r\n        for (int i = 0; i &lt; n; i++) {\r\n            for (int j = 0; j &lt; n; j++) {\r\n                int next = matrix.get(i).get(j);\r\n                result.get(j).set((n - 1) - i, next);\r\n            }\r\n        }\r\n        \r\n        return result;\r\n    }\r\n    \r\n    public static List&lt;List&lt;Integer&gt;&gt; getMatrix(int n) {\r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            result.add(new ArrayList&lt;&gt;(Collections.nCopies(n, 0)));\r\n        }\r\n        return result;\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;List&lt;Integer&gt;&gt; rotatedList = rotate(List.of(\r\n            List.of(1, 2, 3),\r\n            List.of(4, 5, 6),\r\n            List.of(7, 8, 9)\r\n        ), 3);\r\n        \r\n        rotatedList.forEach(System.out::println);\r\n    }\r\n\r\n*Output:*\r\n```\r\n[7, 4, 1]\r\n[8, 5, 2]\r\n[9, 6, 3]\r\n```","title":"Rotate 2D matrix clockwise by 90 degree using array list only","body":"<p>In case if according to the requirements of this challenge you're expected to return a newly created nested list, then you can prepopulate it and then manipulate with it as if it's a nested array.</p>\n<p>The key point you need to understand in order to solve this problem - is how in indices are getting changed during rotation of element. And the best way to visualize this is to draw this process on a paper.</p>\n<p>If you'll do that, you'll be able to observe that while rotating elements of a square matrix clockwise that:</p>\n<ul>\n<li>a <strong>row</strong> becomes a <strong>column</strong></li>\n</ul>\n<pre><code>row -&gt; column // i -&gt; j   in the code\n</code></pre>\n<ul>\n<li>a new <strong>column</strong> index becomes equal to the matrix size <code>n</code> minus <code>1</code> minus previous <strong>row</strong> index</li>\n</ul>\n<pre><code>j -&gt; (n - 1) - i\n</code></pre>\n<p>That's how it might be implemented:</p>\n<pre><code>public static List&lt;List&lt;Integer&gt;&gt; rotate(List&lt;List&lt;Integer&gt;&gt; matrix, int n) {\n    List&lt;List&lt;Integer&gt;&gt; result = getMatrix(n);\n    \n    // i -&gt; j &amp; j -&gt; (n - 1) - i\n    \n    for (int i = 0; i &lt; n; i++) {\n        for (int j = 0; j &lt; n; j++) {\n            int next = matrix.get(i).get(j);\n            result.get(j).set((n - 1) - i, next);\n        }\n    }\n    \n    return result;\n}\n\npublic static List&lt;List&lt;Integer&gt;&gt; getMatrix(int n) {\n    List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; n; i++) {\n        result.add(new ArrayList&lt;&gt;(Collections.nCopies(n, 0)));\n    }\n    return result;\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    List&lt;List&lt;Integer&gt;&gt; rotatedList = rotate(List.of(\n        List.of(1, 2, 3),\n        List.of(4, 5, 6),\n        List.of(7, 8, 9)\n    ), 3);\n    \n    rotatedList.forEach(System.out::println);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[7, 4, 1]\n[8, 5, 2]\n[9, 6, 3]\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664979995,"creation_date":1664978912,"answer_id":73961649,"question_id":73960753,"body_markdown":"Try this.\r\n\r\n    static &lt;T&gt; List&lt;List&lt;T&gt;&gt; rotate(List&lt;List&lt;T&gt;&gt; matrix) {\r\n        final int rows = matrix.size(), cols = matrix.get(0).size();\r\n        List&lt;List&lt;T&gt;&gt; result = new ArrayList&lt;&gt;(cols);\r\n        for (int c = 0; c &lt; cols; ++c) {\r\n            List&lt;T&gt; newRow = new ArrayList&lt;&gt;(rows);\r\n            for (int r = rows - 1; r &gt;= 0 ; --r)\r\n                newRow.add(matrix.get(r).get(c));\r\n            result.add(newRow);\r\n        }\r\n        return result;\r\n    }\r\n    \r\nand\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; matrix = List.of(\r\n        List.of(1,2,3),\r\n        List.of(4,5,6));\r\n    List&lt;List&lt;Integer&gt;&gt; result = rotate(matrix);\r\n    for (List&lt;Integer&gt; row : result)\r\n        System.out.println(row);\r\n\r\n\r\noutput:\r\n\r\n    [4, 1]\r\n    [5, 2]\r\n    [6, 3]\r\n\r\n","title":"Rotate 2D matrix clockwise by 90 degree using array list only","body":"<p>Try this.</p>\n<pre><code>static &lt;T&gt; List&lt;List&lt;T&gt;&gt; rotate(List&lt;List&lt;T&gt;&gt; matrix) {\n    final int rows = matrix.size(), cols = matrix.get(0).size();\n    List&lt;List&lt;T&gt;&gt; result = new ArrayList&lt;&gt;(cols);\n    for (int c = 0; c &lt; cols; ++c) {\n        List&lt;T&gt; newRow = new ArrayList&lt;&gt;(rows);\n        for (int r = rows - 1; r &gt;= 0 ; --r)\n            newRow.add(matrix.get(r).get(c));\n        result.add(newRow);\n    }\n    return result;\n}\n</code></pre>\n<p>and</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; matrix = List.of(\n    List.of(1,2,3),\n    List.of(4,5,6));\nList&lt;List&lt;Integer&gt;&gt; result = rotate(matrix);\nfor (List&lt;Integer&gt; row : result)\n    System.out.println(row);\n</code></pre>\n<p>output:</p>\n<pre><code>[4, 1]\n[5, 2]\n[6, 3]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665034587,"creation_date":1664980966,"answer_id":73962139,"question_id":73960753,"body_markdown":"It is possible to do it **in place**\r\n\r\n```java\r\npublic static List&lt;List&lt;Integer&gt;&gt; rotate(List&lt;List&lt;Integer&gt;&gt; matrix, int n) {\r\n    assert matrix.size() == n;\r\n\r\n    /*\r\n        1,2,3\r\n        4,5,6\r\n        7,8,9\r\n    */\r\n    matrix.forEach(row -&gt; {\r\n        assert row.size() == n;\r\n\r\n        for (int i = 0; i &lt; n / 2; i++)\r\n            swap(row, i, row, n - 1 - i);\r\n    });\r\n\r\n    /*\r\n        3,2,1\r\n        6,5,4\r\n        9,8,7\r\n    */\r\n    for (int i = 0; i &lt; n; i++) {\r\n        for (int j = 0; j &lt;= i; j++) {\r\n            List&lt;Integer&gt; row1 = matrix.get(i - j);\r\n            List&lt;Integer&gt; row2 = matrix.get(n - 1 - j);\r\n            swap(row1, j, row2, n - 1 - i + j);\r\n        }\r\n    }\r\n\r\n    /*\r\n        7,4,1\r\n        8,5,2\r\n        9,6,3\r\n    */\r\n    return matrix;\r\n}\r\n\r\nprivate static void swap(List&lt;Integer&gt; one, int i, List&lt;Integer&gt; two, int j) {\r\n    int tmp = one.get(i);\r\n    one.set(i, two.get(j));\r\n    two.set(j, tmp);\r\n}\r\n```","title":"Rotate 2D matrix clockwise by 90 degree using array list only","body":"<p>It is possible to do it <strong>in place</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;List&lt;Integer&gt;&gt; rotate(List&lt;List&lt;Integer&gt;&gt; matrix, int n) {\n    assert matrix.size() == n;\n\n    /*\n        1,2,3\n        4,5,6\n        7,8,9\n    */\n    matrix.forEach(row -&gt; {\n        assert row.size() == n;\n\n        for (int i = 0; i &lt; n / 2; i++)\n            swap(row, i, row, n - 1 - i);\n    });\n\n    /*\n        3,2,1\n        6,5,4\n        9,8,7\n    */\n    for (int i = 0; i &lt; n; i++) {\n        for (int j = 0; j &lt;= i; j++) {\n            List&lt;Integer&gt; row1 = matrix.get(i - j);\n            List&lt;Integer&gt; row2 = matrix.get(n - 1 - j);\n            swap(row1, j, row2, n - 1 - i + j);\n        }\n    }\n\n    /*\n        7,4,1\n        8,5,2\n        9,6,3\n    */\n    return matrix;\n}\n\nprivate static void swap(List&lt;Integer&gt; one, int i, List&lt;Integer&gt; two, int j) {\n    int tmp = one.get(i);\n    one.set(i, two.get(j));\n    two.set(j, tmp);\n}\n</code></pre>\n"}],"owner":{"account_id":11603944,"reputation":11,"user_id":8500266,"display_name":"The Programmer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73962139,"answer_count":3,"score":0,"last_activity_date":1665034587,"creation_date":1664974869,"question_id":73960753,"body_markdown":"Encountered this problem on hackerrank ,\r\n\r\nPlease guide on how to rotate a 2D array clockwise by 90 degree using `ArrayList` only?\r\n\r\nHere is my code below:\r\n\r\n```\r\npublic static List&lt;List&lt;Integer&gt;&gt; rotate(List&lt;List&lt;Integer&gt;&gt; matrix, int n) {\r\n    \r\n    int N=n;\r\n    ArrayList&lt;List&lt;Integer&gt;&gt; temp = new ArrayList&lt;&gt;();\r\n    for (int j = 0; j &lt; N; j++) {\r\n        for (int i = N - 1; i &gt;= 0; i--)\r\n            matrix.get(i).get(j);\r\n    }\r\n    temp.add(matrix);  \r\n    return temp;\r\n    }\r\n}\r\n```","title":"Rotate 2D matrix clockwise by 90 degree using array list only","body":"<p>Encountered this problem on hackerrank ,</p>\n<p>Please guide on how to rotate a 2D array clockwise by 90 degree using <code>ArrayList</code> only?</p>\n<p>Here is my code below:</p>\n<pre><code>public static List&lt;List&lt;Integer&gt;&gt; rotate(List&lt;List&lt;Integer&gt;&gt; matrix, int n) {\n    \n    int N=n;\n    ArrayList&lt;List&lt;Integer&gt;&gt; temp = new ArrayList&lt;&gt;();\n    for (int j = 0; j &lt; N; j++) {\n        for (int i = N - 1; i &gt;= 0; i--)\n            matrix.get(i).get(j);\n    }\n    temp.add(matrix);  \n    return temp;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664927738,"post_id":73953702,"comment_id":130580442,"body_markdown":"Where is your spring/test config? Sounds like `Calculator` is not a &quot;bean&quot;, then `@Value` is &quot;worthless&quot; (does nothing, `boolean` default/unassigned value is `false`)","body":"Where is your spring/test config? Sounds like <code>Calculator</code> is not a &quot;bean&quot;, then <code>@Value</code> is &quot;worthless&quot; (does nothing, <code>boolean</code> default/unassigned value is <code>false</code>)"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1664954863,"post_id":73953702,"comment_id":130584285,"body_markdown":"You are doing `new Calculator` which renders `@Value` useless. Inject the `Calculator` so you get a spring managed instance.","body":"You are doing <code>new Calculator</code> which renders <code>@Value</code> useless. Inject the <code>Calculator</code> so you get a spring managed instance."},{"owner":{"account_id":15284188,"reputation":3,"user_id":11027679,"display_name":"Shubham Gupta"},"score":0,"creation_date":1664957567,"post_id":73953702,"comment_id":130585085,"body_markdown":"@xerx593 - `Calculator` is a bean. I forgot to add the `@Component` annotation to the posted question.","body":"@xerx593 - <code>Calculator</code> is a bean. I forgot to add the <code>@Component</code> annotation to the posted question."}],"answers":[{"tags":[],"owner":{"account_id":21132388,"reputation":1,"user_id":15536444,"display_name":"Andreas K&#252;bl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665034100,"creation_date":1665033979,"answer_id":73968975,"question_id":73953702,"body_markdown":"As M. Deinum already said you are creating the Calculator with &quot;new Calculator();&quot; in the init() method. Therefore it is not a spring-managed bean. \r\n\r\nYou should have spring create the calculator. \r\nPre-condition &quot;spring-boot-starter-test&quot; E.g.:\r\n\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @TestPropertySource(properties = {&quot;calculator.enabled=true&quot;})\r\n    @SpringBootTest(classes = Calculator.class)\r\n    public class CalculatorTest {\r\n    \r\n        @Autowired\r\n        private Calculator calculator;\r\n        \r\n        @Test\r\n        public void isEnabled_Success_Test() {\r\n            Assert.assertTrue(calculator.isEnabled());\r\n        }\r\n    }\r\n\r\nMoreover, you are currently using JUnit4 maybe it is a good idea to move to JUnit5\r\n","title":"@TestPropertySource not initialising boolean property","body":"<p>As M. Deinum already said you are creating the Calculator with &quot;new Calculator();&quot; in the init() method. Therefore it is not a spring-managed bean.</p>\n<p>You should have spring create the calculator.\nPre-condition &quot;spring-boot-starter-test&quot; E.g.:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@TestPropertySource(properties = {&quot;calculator.enabled=true&quot;})\n@SpringBootTest(classes = Calculator.class)\npublic class CalculatorTest {\n\n    @Autowired\n    private Calculator calculator;\n    \n    @Test\n    public void isEnabled_Success_Test() {\n        Assert.assertTrue(calculator.isEnabled());\n    }\n}\n</code></pre>\n<p>Moreover, you are currently using JUnit4 maybe it is a good idea to move to JUnit5</p>\n"}],"owner":{"account_id":15284188,"reputation":3,"user_id":11027679,"display_name":"Shubham Gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665034100,"creation_date":1664918034,"question_id":73953702,"body_markdown":"I am trying to override one of my declared variables by using @TestPropertySource. Below is my code for the test :\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @TestPropertySource(properties = {&quot;calculator.enabled=true&quot;})\r\n    public class CalculatorTest {\r\n    \r\n        private Calculator calculator;\r\n    \r\n        @Before\r\n        public void init() {\r\n            calculator = new Calculator();\r\n        }\r\n    \r\n        @Test\r\n        public void isEnabled_Success_Test() {\r\n            Assert.assertFalse(calculator.isEnabled());\r\n        }\r\n    }\r\n\r\nHere is the class to be tested :\r\n\r\n    @Component\r\n    public class Calculator {\r\n    \r\n        @Value(&quot;${calculator.enabled:true}&quot;)\r\n        private boolean isEnabled;\r\n    \r\n        @Override\r\n        public boolean isEnabled() {\r\n            return isEnabled;\r\n        }\r\n    }\r\n\r\nHowever, I always end up with the test actually passing when it should not since the isEnabled field gets initialized with the default value of false.\r\nWhat could I be doing wrong here?","title":"@TestPropertySource not initialising boolean property","body":"<p>I am trying to override one of my declared variables by using @TestPropertySource. Below is my code for the test :</p>\n<pre><code>@RunWith(SpringRunner.class)\n@TestPropertySource(properties = {&quot;calculator.enabled=true&quot;})\npublic class CalculatorTest {\n\n    private Calculator calculator;\n\n    @Before\n    public void init() {\n        calculator = new Calculator();\n    }\n\n    @Test\n    public void isEnabled_Success_Test() {\n        Assert.assertFalse(calculator.isEnabled());\n    }\n}\n</code></pre>\n<p>Here is the class to be tested :</p>\n<pre><code>@Component\npublic class Calculator {\n\n    @Value(&quot;${calculator.enabled:true}&quot;)\n    private boolean isEnabled;\n\n    @Override\n    public boolean isEnabled() {\n        return isEnabled;\n    }\n}\n</code></pre>\n<p>However, I always end up with the test actually passing when it should not since the isEnabled field gets initialized with the default value of false.\nWhat could I be doing wrong here?</p>\n"},{"tags":["java","swagger","openapi"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1664878929,"post_id":73946337,"comment_id":130565992,"body_markdown":"Are the methods in the same order than in the controller class?","body":"Are the methods in the same order than in the controller class?"},{"owner":{"account_id":24349304,"reputation":33,"user_id":18285469,"display_name":"Jos&#233; Puente Fuentes"},"score":0,"creation_date":1664880155,"post_id":73946337,"comment_id":130566373,"body_markdown":"We have only one method per class, and that it is ok, but swagger is a mess because there too many sections, one by method","body":"We have only one method per class, and that it is ok, but swagger is a mess because there too many sections, one by method"},{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1664880338,"post_id":73946337,"comment_id":130566422,"body_markdown":"You seem to be misusing `tags`. Tags are used to create groups like that in Swagger UI. Maybe you meant to use those texts as operation `summary` or `description`?","body":"You seem to be misusing <code>tags</code>. Tags are used to create groups like that in Swagger UI. Maybe you meant to use those texts as operation <code>summary</code> or <code>description</code>?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1664880413,"post_id":73946337,"comment_id":130566440,"body_markdown":"Why not grouping methods by the class of the objects manipulated (here application?)","body":"Why not grouping methods by the class of the objects manipulated (here application?)"},{"owner":{"account_id":24349304,"reputation":33,"user_id":18285469,"display_name":"Jos&#233; Puente Fuentes"},"score":0,"creation_date":1664880909,"post_id":73946337,"comment_id":130566625,"body_markdown":"We use the tags, one for each method, because in this way, when openapi-generator creates the interfaces, it generates an interface for each endpoint, so we can create classes of the type CreateTextEndpoint, DeleteTextEndpoint, etc instead of a single class that contains all the methods, so we isolate the dependencies of each method and do not generate too large controllers","body":"We use the tags, one for each method, because in this way, when openapi-generator creates the interfaces, it generates an interface for each endpoint, so we can create classes of the type CreateTextEndpoint, DeleteTextEndpoint, etc instead of a single class that contains all the methods, so we isolate the dependencies of each method and do not generate too large controllers"}],"owner":{"account_id":24349304,"reputation":33,"user_id":18285469,"display_name":"Jos&#233; Puente Fuentes"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665032998,"creation_date":1664878311,"question_id":73946337,"body_markdown":"We have defined, for example, a path to create, read, modify and delete texts:\r\n\r\n       /api/v1/applications/{applicationCode}/texts:\r\n         get:\r\n           tags:\r\n           - Texts - Find texts\r\n    [...]\r\n         post:\r\n           tags:\r\n           - Texts - Create text\r\n    [...]\r\n         delete:\r\n           tags:\r\n           - Texts - Delete text\r\n\r\nWe have a tag for each endpoint, and thus it generates an interface for each one and thus we have each endpoint separated in a class (CreateTextEndpoint, FindTextEndpoint, etc). The problem is that the documentation in swagger is not very attractive, since it also separates and creates a section for each tag (as you can see in the image below).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIs it possible to have a class for each endpoint like we have, but grouping them in swagger?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D3Nj7.png","title":"Openapi 3 one single endpoint per operation","body":"<p>We have defined, for example, a path to create, read, modify and delete texts:</p>\n<pre><code>   /api/v1/applications/{applicationCode}/texts:\n     get:\n       tags:\n       - Texts - Find texts\n[...]\n     post:\n       tags:\n       - Texts - Create text\n[...]\n     delete:\n       tags:\n       - Texts - Delete text\n</code></pre>\n<p>We have a tag for each endpoint, and thus it generates an interface for each one and thus we have each endpoint separated in a class (CreateTextEndpoint, FindTextEndpoint, etc). The problem is that the documentation in swagger is not very attractive, since it also separates and creates a section for each tag (as you can see in the image below).</p>\n<p><a href=\"https://i.stack.imgur.com/D3Nj7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D3Nj7.png\" alt=\"enter image description here\" /></a></p>\n<p>Is it possible to have a class for each endpoint like we have, but grouping them in swagger?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1435576801,"post_id":31114289,"comment_id":50242006,"body_markdown":"https://www.jetbrains.com/idea/help/creating-and-editing-live-templates.html","body":"<a href=\"https://www.jetbrains.com/idea/help/creating-and-editing-live-templates.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/help/&hellip;</a>"},{"owner":{"account_id":45349,"reputation":10115,"user_id":133645,"display_name":"reto"},"score":2,"creation_date":1435576807,"post_id":31114289,"comment_id":50242010,"body_markdown":"Have you read the related documentation? https://www.jetbrains.com/idea/help/live-templates.html","body":"Have you read the related documentation? <a href=\"https://www.jetbrains.com/idea/help/live-templates.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/help/live-templates.html</a>"},{"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"score":0,"creation_date":1435577001,"post_id":31114289,"comment_id":50242124,"body_markdown":"I did not realize that it was called &quot;templates&quot;. What a horrible naming.","body":"I did not realize that it was called &quot;templates&quot;. What a horrible naming."},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":2,"creation_date":1435577155,"post_id":31114289,"comment_id":50242230,"body_markdown":"Better than &quot;macro&quot;, because they _are_ templates. :P","body":"Better than &quot;macro&quot;, because they <i>are</i> templates. :P"},{"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"score":0,"creation_date":1435577189,"post_id":31114289,"comment_id":50242252,"body_markdown":"Also, did not work: https://www.dropbox.com/s/m7hyvfzljecft4d/Screenshot%202015-06-29%2013.26.20.png?dl=0","body":"Also, did not work: <a href=\"https://www.dropbox.com/s/m7hyvfzljecft4d/Screenshot%202015-06-29%2013.26.20.png?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/m7hyvfzljecft4d/&hellip;</a>"},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1435577436,"post_id":31114289,"comment_id":50242385,"body_markdown":"@ChristianJonassen It works ... if you define the context.","body":"@ChristianJonassen It works ... if you define the context."},{"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"score":0,"creation_date":1435577503,"post_id":31114289,"comment_id":50242435,"body_markdown":"@Tom nope. https://www.dropbox.com/s/cb5h7fnrhttu6js/Screenshot%202015-06-29%2013.31.17.png?dl=0 and, well, https://www.dropbox.com/s/zfnkz1d17igvk38/Screenshot%202015-06-29%2013.31.33.png?dl=0 ...","body":"@Tom nope. <a href=\"https://www.dropbox.com/s/cb5h7fnrhttu6js/Screenshot%202015-06-29%2013.31.17.png?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/cb5h7fnrhttu6js/&hellip;</a> and, well, <a href=\"https://www.dropbox.com/s/zfnkz1d17igvk38/Screenshot%202015-06-29%2013.31.33.png?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/zfnkz1d17igvk38/&hellip;</a> ..."},{"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"score":0,"creation_date":1435577674,"post_id":31114289,"comment_id":50242544,"body_markdown":"oh, I see now what you mean. the context UNDER the text field. sorry. feel free to make an answer.","body":"oh, I see now what you mean. the context UNDER the text field. sorry. feel free to make an answer."}],"answers":[{"tags":[],"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1435578486,"creation_date":1435578176,"answer_id":31114815,"question_id":31114289,"body_markdown":"Like said in the comments, these macros are called [&quot;Live Templates&quot;](https://www.jetbrains.com/idea/help/live-templates.html).\n\nTo create one:\n\n* open the settings menu\n* select the &quot;Live Templates&quot; entry in the left menu\n* select the category where you like to create your new template\n* press the &quot;+&quot; button on the right hand side of the settings menu window\n* add the abbreviation, &quot;fb&quot; in your case\n* add a description\n* ... and then the text:\n\n        final boolean\n  (`$END$` can be omitted here)\n\n* Now select the _context_ (link is beneath the text field) where this template will be used and recognized by IDEA\n\n  I&#39;ve used the contexts Java _Statement_, _Expression_, _Declaration_ and _Other_ (but &quot;Other&quot; isn&#39;t shown in the list of contexts).\n\nIt could like this:\n![live template example][1]\n\nTo use it write `fb` on the appropriate place and either wait until IDEA suggests to use the template or press &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;space&lt;/kbd&gt; to activate the auto complete, it should create:\n\n    final boolean\n\nYou may find some more information about creating and editing live templates on the official help page: [Creating and Editing Live Templates](https://www.jetbrains.com/idea/help/creating-and-editing-live-templates.html)\n\n  [1]: http://i.stack.imgur.com/fVGOs.png","title":"Adding your own custom macros like &quot;sout&quot;in IntelliJ","body":"<p>Like said in the comments, these macros are called <a href=\"https://www.jetbrains.com/idea/help/live-templates.html\" rel=\"nofollow noreferrer\">&quot;Live Templates&quot;</a>.</p>\n<p>To create one:</p>\n<ul>\n<li><p>open the settings menu</p>\n</li>\n<li><p>select the &quot;Live Templates&quot; entry in the left menu</p>\n</li>\n<li><p>select the category where you like to create your new template</p>\n</li>\n<li><p>press the &quot;+&quot; button on the right hand side of the settings menu window</p>\n</li>\n<li><p>add the abbreviation, &quot;fb&quot; in your case</p>\n</li>\n<li><p>add a description</p>\n</li>\n<li><p>... and then the text:</p>\n<pre><code>  final boolean\n</code></pre>\n<p>(<code>$END$</code> can be omitted here)</p>\n</li>\n<li><p>Now select the <em>context</em> (link is beneath the text field) where this template will be used and recognized by IDEA</p>\n<p>I've used the contexts Java <em>Statement</em>, <em>Expression</em>, <em>Declaration</em> and <em>Other</em> (but &quot;Other&quot; isn't shown in the list of contexts).</p>\n</li>\n</ul>\n<p>It could like this:\n<img src=\"https://i.stack.imgur.com/fVGOs.png\" alt=\"live template example\" /></p>\n<p>To use it write <code>fb</code> on the appropriate place and either wait until IDEA suggests to use the template or press <kbd>ctrl</kbd> + <kbd>space</kbd> to activate the auto complete, it should create:</p>\n<pre><code>final boolean\n</code></pre>\n<p>You may find some more information about creating and editing live templates on the official help page: <a href=\"https://www.jetbrains.com/idea/help/creating-and-editing-live-templates.html\" rel=\"nofollow noreferrer\">Creating and Editing Live Templates</a></p>\n"}],"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2156,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":31114815,"answer_count":1,"score":5,"last_activity_date":1665032637,"creation_date":1435576662,"question_id":31114289,"body_markdown":"I really like to be able to type sout&lt;TAB&gt; and get System.out.println. In fact, I like it so much that I want to add more of these. For example, fb could be final boolean.\r\n\r\nHow do I add that?","title":"Adding your own custom macros like &quot;sout&quot;in IntelliJ","body":"<p>I really like to be able to type sout and get System.out.println. In fact, I like it so much that I want to add more of these. For example, fb could be final boolean.</p>\n\n<p>How do I add that?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":0,"creation_date":1344425906,"post_id":11863663,"comment_id":15781234,"body_markdown":"Do you mean all at once, or one at a time (as in organise imports, then safely delete unused functions, etc.)","body":"Do you mean all at once, or one at a time (as in organise imports, then safely delete unused functions, etc.)"},{"owner":{"account_id":1102563,"reputation":15092,"user_id":1094640,"accept_rate":86,"display_name":"Bober02"},"score":0,"creation_date":1344431853,"post_id":11863663,"comment_id":15783928,"body_markdown":"DOes it make a difference? I guess the underlying implementation will go one by one with all of them","body":"DOes it make a difference? I guess the underlying implementation will go one by one with all of them"}],"answers":[{"tags":[],"owner":{"account_id":1672011,"reputation":1318,"user_id":1538311,"display_name":"evg"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1344425989,"creation_date":1344425989,"answer_id":11863717,"question_id":11863663,"body_markdown":"There is a plugin for IDEA - FindBugs-IDEA. It scans for cases you listed and a lot more.","title":"intellij - cleanup code","body":"<p>There is a plugin for IDEA - FindBugs-IDEA. It scans for cases you listed and a lot more.</p>\n"},{"tags":[],"owner":{"account_id":191938,"reputation":15835,"user_id":432806,"accept_rate":100,"display_name":"pcalcao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344426004,"creation_date":1344426004,"answer_id":11863721,"question_id":11863663,"body_markdown":"You can try it out using the trial.\r\n\r\nAs to the imports, yes, you can Organize Imports `ctrl-alt-o`, and you can choose to do so on the current file or on every file in the project.\r\n\r\nNot sure if you can delete all unused methods in a project, but you do get warnings regarding methods/variables that aren&#39;t used and can be safely deleted (and IntelliJ does offer the option to safely delete).\r\n\r\nAlso, in the Preferences, you can setup a ton of things that you choose to be considered as warnings, depending on your coding style, conventions, etc.","title":"intellij - cleanup code","body":"<p>You can try it out using the trial.</p>\n\n<p>As to the imports, yes, you can Organize Imports <code>ctrl-alt-o</code>, and you can choose to do so on the current file or on every file in the project.</p>\n\n<p>Not sure if you can delete all unused methods in a project, but you do get warnings regarding methods/variables that aren't used and can be safely deleted (and IntelliJ does offer the option to safely delete).</p>\n\n<p>Also, in the Preferences, you can setup a ton of things that you choose to be considered as warnings, depending on your coding style, conventions, etc.</p>\n"},{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1344427003,"creation_date":1344427003,"answer_id":11863997,"question_id":11863663,"body_markdown":"Use `Analyze` | **Inspect Code** with the corresponding options enabled to find unused code, in the results you can apply the fix to all the occurrences at once removing all the unused methods and fields.\r\n\r\nUse `Code` | **Reformat Code** or **Optimize Imports** for the rest. Reformat Code has an option to optimize imports and you can run it on the whole project to do both operations globally in a single step. \r\n\r\nIt&#39;s also possible to optimize imports on the fly (enabled in Settings) and reformat/optimize imports when committing to the version control. Code inspections can be also executed before the commit to notify you about possible problems.","title":"intellij - cleanup code","body":"<p>Use <code>Analyze</code> | <strong>Inspect Code</strong> with the corresponding options enabled to find unused code, in the results you can apply the fix to all the occurrences at once removing all the unused methods and fields.</p>\n\n<p>Use <code>Code</code> | <strong>Reformat Code</strong> or <strong>Optimize Imports</strong> for the rest. Reformat Code has an option to optimize imports and you can run it on the whole project to do both operations globally in a single step. </p>\n\n<p>It's also possible to optimize imports on the fly (enabled in Settings) and reformat/optimize imports when committing to the version control. Code inspections can be also executed before the commit to notify you about possible problems.</p>\n"},{"tags":[],"owner":{"account_id":6537188,"reputation":2325,"user_id":5303558,"display_name":"Dmytro Melnychuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476903450,"creation_date":1476903450,"answer_id":40139458,"question_id":11863663,"body_markdown":"I propose to use these 10 IDEA Inspections that maybe you&#39;re not using:\r\n\r\nhttp://hamletdarcy.blogspot.com/2008/04/10-best-idea-inspections-youre-not.html\r\n\r\nAnd from myself I like fighting with **NullPointerException** with help of **Intellij IDEA.** \r\n\r\nFollowing inspections are helping me so much:\r\n\r\n 1. Constant conditions &amp; exceptions\r\n[![enter image description here][1]][1]\r\n 2. @NotNull/@Nullable problems\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XAGUE.png\r\n  [2]: https://i.stack.imgur.com/Qu00a.png","title":"intellij - cleanup code","body":"<p>I propose to use these 10 IDEA Inspections that maybe you're not using:</p>\n\n<p><a href=\"http://hamletdarcy.blogspot.com/2008/04/10-best-idea-inspections-youre-not.html\" rel=\"nofollow\">http://hamletdarcy.blogspot.com/2008/04/10-best-idea-inspections-youre-not.html</a></p>\n\n<p>And from myself I like fighting with <strong>NullPointerException</strong> with help of <strong>Intellij IDEA.</strong> </p>\n\n<p>Following inspections are helping me so much:</p>\n\n<ol>\n<li>Constant conditions &amp; exceptions\n<a href=\"https://i.stack.imgur.com/XAGUE.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/XAGUE.png\" alt=\"enter image description here\"></a></li>\n<li>@NotNull/@Nullable problems\n<a href=\"https://i.stack.imgur.com/Qu00a.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/Qu00a.png\" alt=\"enter image description here\"></a></li>\n</ol>\n"}],"owner":{"account_id":1102563,"reputation":15092,"user_id":1094640,"accept_rate":86,"display_name":"Bober02"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13017,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":11863717,"answer_count":4,"score":8,"last_activity_date":1665032061,"creation_date":1344425794,"question_id":11863663,"body_markdown":"I was wondering whether intellij has a feature that would allow it to scan through files and perform things such as organising imports, safely deleting unused functions and fields etc. This feature was very helpful in .NET in Resharper plugin. Thanks for any pointers.","title":"intellij - cleanup code","body":"<p>I was wondering whether intellij has a feature that would allow it to scan through files and perform things such as organising imports, safely deleting unused functions and fields etc. This feature was very helpful in .NET in Resharper plugin. Thanks for any pointers.</p>\n"},{"tags":["java","spring-boot","vaadin"],"comments":[{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":1,"creation_date":1665028298,"post_id":73968442,"comment_id":130604449,"body_markdown":"Using static variable in conjuction to the Spring Bean is not advice, because we can&#39;t make sure the object is injected by Spring before the static function is called, but if you are sure that the variable is always initiated then I have nothing else stopping you. \nSpring Bean is instantiated with singleton object design pattern unless specified different, I&#39;m not sure about what you want, creating autowired constructor looks fine for me, if you want something else you can also autowired by setter injection through setter function.","body":"Using static variable in conjuction to the Spring Bean is not advice, because we can&#39;t make sure the object is injected by Spring before the static function is called, but if you are sure that the variable is always initiated then I have nothing else stopping you.  Spring Bean is instantiated with singleton object design pattern unless specified different, I&#39;m not sure about what you want, creating autowired constructor looks fine for me, if you want something else you can also autowired by setter injection through setter function."},{"owner":{"account_id":3549364,"reputation":133,"user_id":2964585,"accept_rate":25,"display_name":"jetberay"},"score":0,"creation_date":1665028538,"post_id":73968442,"comment_id":130604486,"body_markdown":"I just want to have a different approach on how to implement it but I&#39;m just worried that there might be some performance issues later on that&#39;s why I have posted it here to get some feedback before proceeding..","body":"I just want to have a different approach on how to implement it but I&#39;m just worried that there might be some performance issues later on that&#39;s why I have posted it here to get some feedback before proceeding.."},{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1665029059,"post_id":73968442,"comment_id":130604572,"body_markdown":"I do not see any issue with either of both your approach unless the static reference, and also if you want another approach you can check the setter injection style, it uses autowired annotation on a function that sets the value of the variable you want, and then the Spring framework will inject the appropriate object to the variable.","body":"I do not see any issue with either of both your approach unless the static reference, and also if you want another approach you can check the setter injection style, it uses autowired annotation on a function that sets the value of the variable you want, and then the Spring framework will inject the appropriate object to the variable."},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":3,"creation_date":1665035516,"post_id":73968442,"comment_id":130605639,"body_markdown":"My 2ct: when in rome... If you have decided to use Spring, then use it the intended way. If you are asking this, because some button down many many layouts and classes needs this service, then you might want to rething your architecture. A button should not need a repository, it should set the wheels in motion for some central building block to use it (just an example of course).","body":"My 2ct: when in rome... If you have decided to use Spring, then use it the intended way. If you are asking this, because some button down many many layouts and classes needs this service, then you might want to rething your architecture. A button should not need a repository, it should set the wheels in motion for some central building block to use it (just an example of course)."},{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":1,"creation_date":1665047457,"post_id":73968442,"comment_id":130609190,"body_markdown":"What is the problem you&#39;re actually trying to solve? In other words, why are you &quot;trying to avoid passing a parameter in a view class of Vaadin&quot;?","body":"What is the problem you&#39;re actually trying to solve? In other words, why are you &quot;trying to avoid passing a parameter in a view class of Vaadin&quot;?"},{"owner":{"account_id":3549364,"reputation":133,"user_id":2964585,"accept_rate":25,"display_name":"jetberay"},"score":0,"creation_date":1665364041,"post_id":73968442,"comment_id":130675837,"body_markdown":"Hi @ollitietavainen I was not trying to solve a problem, I was just trying to implement a different approach..","body":"Hi @ollitietavainen I was not trying to solve a problem, I was just trying to implement a different approach.."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1665384380,"post_id":73968442,"comment_id":130678692,"body_markdown":"As @cfrick Use the tools/frameworks as they are intended to use","body":"As @cfrick Use the tools/frameworks as they are intended to use"},{"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"score":0,"creation_date":1665386211,"post_id":73968442,"comment_id":130679200,"body_markdown":"@garagumo I assume there&#39;s still a reason why you&#39;re trying to avoid passing a parameter for the view class. If you start with that reason, you might get better results.","body":"@garagumo I assume there&#39;s still a reason why you&#39;re trying to avoid passing a parameter for the view class. If you start with that reason, you might get better results."},{"owner":{"account_id":3549364,"reputation":133,"user_id":2964585,"accept_rate":25,"display_name":"jetberay"},"score":0,"creation_date":1665452495,"post_id":73968442,"comment_id":130698456,"body_markdown":"I think I&#39;ll just stick to the standard as you&#39;ve all suggested. Thank you :)","body":"I think I&#39;ll just stick to the standard as you&#39;ve all suggested. Thank you :)"}],"owner":{"account_id":3549364,"reputation":133,"user_id":2964585,"accept_rate":25,"display_name":"jetberay"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665031963,"creation_date":1665027470,"question_id":73968442,"body_markdown":"Vaadin views only allows injecting @Autowired repositories in constructor, but instead of doing that I implemented it using a Singleton class. my question is, do I have to worry in the future about this? or will it affect my app or are there going to be some performance issues?\r\n\r\nHow to implement in Vaadin view:\r\n\r\n    public class HelloWorldView extends HorizontalLayout {\r\n\r\n        public HelloWorldView(@Autowired AccountRepository accountRepository) {\r\n       \r\n            for(Account a : accountRepository.findAll()){\r\n                 System.out.println(a.getName);  \r\n            }\r\n        }\r\n    }\r\n    \r\nOR\r\n\r\n    public class HelloWorldView extends HorizontalLayout {\r\n\r\n        @Autowired\r\n        public HelloWorldView(AccountRepository accountRepository) {\r\n\r\n            for(Account a : accountRepository.findAll()){\r\n                 System.out.println(a.getName);  \r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;m trying to avoid passing a parameter in a view class of Vaadin, so my implementation is:\r\n\r\n    @Repository\r\n    public interface AccountRepository extends JpaRepository&lt;Account, Long&gt; {\r\n    }\r\n\r\n    @Service\r\n    public class AccountService {\r\n\r\n        private static AccountRepository accountRepository;\r\n\r\n        private static AccountService INSTANCE;\r\n\r\n        private AccountService(AccountRepository accountRepository) {\r\n            this.accountRepository = accountRepository;\r\n        }\r\n\r\n        public synchronized static AccountService getInstance() {\r\n            if(INSTANCE == null){\r\n                INSTANCE = new AccountService(accountRepository);\r\n            }\r\n\r\n            return INSTANCE;\r\n        }\r\n\r\n        public List&lt;Account&gt; findAll() {\r\n            return accountRepository.findAll();\r\n        }\r\n    }\r\n\r\n    public class HelloWorldView extends HorizontalLayout {\r\n\r\n        public HelloWorldView() {\r\n       \r\n            for(Account a : AccountService.getInstance().findAll()){\r\n                 System.out.println(a.getName);  \r\n            }\r\n        }\r\n    }\r\n\r\nEDIT: \r\n\r\nremove the static from the findAll() method and call the service using AccountService.getInstance().findAll()","title":"Creating a Singleton class rather than Injecting repository in constructor","body":"<p>Vaadin views only allows injecting @Autowired repositories in constructor, but instead of doing that I implemented it using a Singleton class. my question is, do I have to worry in the future about this? or will it affect my app or are there going to be some performance issues?</p>\n<p>How to implement in Vaadin view:</p>\n<pre><code>public class HelloWorldView extends HorizontalLayout {\n\n    public HelloWorldView(@Autowired AccountRepository accountRepository) {\n   \n        for(Account a : accountRepository.findAll()){\n             System.out.println(a.getName);  \n        }\n    }\n}\n</code></pre>\n<p>OR</p>\n<pre><code>public class HelloWorldView extends HorizontalLayout {\n\n    @Autowired\n    public HelloWorldView(AccountRepository accountRepository) {\n\n        for(Account a : accountRepository.findAll()){\n             System.out.println(a.getName);  \n        }\n    }\n}\n</code></pre>\n<p>I'm trying to avoid passing a parameter in a view class of Vaadin, so my implementation is:</p>\n<pre><code>@Repository\npublic interface AccountRepository extends JpaRepository&lt;Account, Long&gt; {\n}\n\n@Service\npublic class AccountService {\n\n    private static AccountRepository accountRepository;\n\n    private static AccountService INSTANCE;\n\n    private AccountService(AccountRepository accountRepository) {\n        this.accountRepository = accountRepository;\n    }\n\n    public synchronized static AccountService getInstance() {\n        if(INSTANCE == null){\n            INSTANCE = new AccountService(accountRepository);\n        }\n\n        return INSTANCE;\n    }\n\n    public List&lt;Account&gt; findAll() {\n        return accountRepository.findAll();\n    }\n}\n\npublic class HelloWorldView extends HorizontalLayout {\n\n    public HelloWorldView() {\n   \n        for(Account a : AccountService.getInstance().findAll()){\n             System.out.println(a.getName);  \n        }\n    }\n}\n</code></pre>\n<p>EDIT:</p>\n<p>remove the static from the findAll() method and call the service using AccountService.getInstance().findAll()</p>\n"},{"tags":["java","while-loop","indexof","longest-prefix"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665031124,"post_id":73968227,"comment_id":130604886,"body_markdown":"Stepping through the code with the debugger will help.","body":"Stepping through the code with the debugger will help."}],"answers":[{"tags":[],"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665031551,"creation_date":1665031078,"answer_id":73968722,"question_id":73968227,"body_markdown":"&gt; // System.out.println(&quot;Confused by this--&gt; &quot; +\r\n&gt; strs[i].indexOf(prefix));// this prints out -1 and im not sure why..\r\n\r\n-1 means that the prefix was not a prefix of the current string you are comparing it with. For example, foo is not a prefix of bar, so when you try to call &quot;foo&quot;.indexOf(&quot;bar&quot;) you will indeed get &#39;-1&#39; because an index does not exist where this is true.\r\n\r\n&gt; however I do not understand the conditional statement within the while\r\n&gt; loop, which is while (strs[i].indexOf(prefix) != 0)\r\n\r\nAll this condition is doing is checking if prefix is a prefix of the current string you comparing it with. If it returns 0 it means that it is, else -1 is returned and the while loop will continue to trim the last character of prefix until the condition is satisfied. If prefix is completely trimmed then return an empty string.\r\n\r\nExample 1:\r\n```\r\nString[] s = {&quot;al&quot;, &quot;alamonte&quot;, &quot;alligator&quot;} \r\nprefix = s[0] // &quot;al&quot;\r\n```\r\n\r\n - &quot;al&quot; exist in &quot;alimonte&quot; -- &quot;alimonte&quot;.indexOf(&quot;al&quot;) = 0\r\n - &quot;al&quot; exist in &quot;alligator&quot; -- &quot;alligator.indexOf(&quot;al&quot;) = 0\r\n - return &quot;al&quot;\r\n - This is a bad example to look into because &quot;al&quot; is conveniently at the beginning of the array and it fits into all other elements. The while loop is never entered, so we never see it in action.\r\n\r\nLet&#39;s try another example:\r\n```\r\nString[] s = {&quot;leet&quot;,&quot;leetcode&quot;, &quot;leet&quot;, &quot;leed&quot;};\r\nprefix = &quot;leet&quot;\r\n```\r\n\r\n - &quot;leet&quot; exist in &quot;leetcode&quot; -- leetcode.indexOf(&quot;leet&quot;) = 0\r\n - &quot;leet&quot; exist in &quot;leet&quot; -- leet.indexOf(&quot;leet&quot;) = 0\r\n - &quot;leet&quot; DOES NOT exist in &quot;leed&quot; -- leet.indexOf(&quot;leed&quot;) = -1\r\n   - Enter while body and continue to trim last character.\r\n   - trim &#39;t&#39; from prefix: &quot;leet&quot;\r\n   - prefix = &quot;lee&quot;\r\n   - check while condition again -&gt; &quot;lee&quot; exist in &quot;leed&quot; -&quot;leed&quot;.indexOf(&quot;lee&quot;) = 0\r\n - We reached the end of our array and return prefix : &quot;lee&quot;.\r\n\r\nI took the code you provided and modified it with print statements, so that you can see how prefix is trimmed when index.Of() returns -1.\r\n\r\n```\r\npublic class LongestCommonPrefix {\r\n\r\n\tpublic static String longestCommonPrefix(String[] strs) {\r\n        if (strs.length == 0) return &quot;&quot;;\r\n        String prefix = strs[0];\r\n        \r\n        for (int i = 1; i &lt; strs.length; i++) {\r\n        \tSystem.out.println(strs[i] + &quot;.indexOf(&quot; + prefix + &quot;)&quot; + &quot; =  &quot; + strs[i].indexOf(prefix));\r\n            while (strs[i].indexOf(prefix) != 0) {\r\n            \tSystem.out.println(&quot;Trim the last character: &quot; + prefix.charAt(prefix.length() - 1));\r\n                prefix = prefix.substring(0, prefix.length() - 1);\r\n                if (prefix.isEmpty())  {\r\n                \tSystem.out.println(&quot;No LCP exist after trimming all characters from prefix!&quot;);\r\n                \treturn &quot;&quot;;\r\n                }\r\n            }\r\n            System.out.println(&quot;prefix after comparing with &quot; + strs[i] + &quot;: &quot; + prefix + &quot;\\n&quot;);\r\n        }\r\n        return prefix;\r\n    }\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tString[] s = {&quot;leet&quot;,&quot;leetcode&quot;, &quot;leet&quot;, &quot;leed&quot;};\r\n\t\tSystem.out.println(&quot;Input array: &quot; + Arrays.toString(s) + &quot;\\n&quot;);\r\n\t\tSystem.out.println(&quot;LCP: &quot; + longestCommonPrefix(s));\r\n\t}\r\n}\r\n```\r\nHope this helps out and best of luck!","title":"I need clarification of Java while loop conditional statement, when trying to find longest common prefix from an array of Strings","body":"<blockquote>\n<p>// System.out.println(&quot;Confused by this--&gt; &quot; +\nstrs[i].indexOf(prefix));// this prints out -1 and im not sure why..</p>\n</blockquote>\n<p>-1 means that the prefix was not a prefix of the current string you are comparing it with. For example, foo is not a prefix of bar, so when you try to call &quot;foo&quot;.indexOf(&quot;bar&quot;) you will indeed get '-1' because an index does not exist where this is true.</p>\n<blockquote>\n<p>however I do not understand the conditional statement within the while\nloop, which is while (strs[i].indexOf(prefix) != 0)</p>\n</blockquote>\n<p>All this condition is doing is checking if prefix is a prefix of the current string you comparing it with. If it returns 0 it means that it is, else -1 is returned and the while loop will continue to trim the last character of prefix until the condition is satisfied. If prefix is completely trimmed then return an empty string.</p>\n<p>Example 1:</p>\n<pre><code>String[] s = {&quot;al&quot;, &quot;alamonte&quot;, &quot;alligator&quot;} \nprefix = s[0] // &quot;al&quot;\n</code></pre>\n<ul>\n<li>&quot;al&quot; exist in &quot;alimonte&quot; -- &quot;alimonte&quot;.indexOf(&quot;al&quot;) = 0</li>\n<li>&quot;al&quot; exist in &quot;alligator&quot; -- &quot;alligator.indexOf(&quot;al&quot;) = 0</li>\n<li>return &quot;al&quot;</li>\n<li>This is a bad example to look into because &quot;al&quot; is conveniently at the beginning of the array and it fits into all other elements. The while loop is never entered, so we never see it in action.</li>\n</ul>\n<p>Let's try another example:</p>\n<pre><code>String[] s = {&quot;leet&quot;,&quot;leetcode&quot;, &quot;leet&quot;, &quot;leed&quot;};\nprefix = &quot;leet&quot;\n</code></pre>\n<ul>\n<li>&quot;leet&quot; exist in &quot;leetcode&quot; -- leetcode.indexOf(&quot;leet&quot;) = 0</li>\n<li>&quot;leet&quot; exist in &quot;leet&quot; -- leet.indexOf(&quot;leet&quot;) = 0</li>\n<li>&quot;leet&quot; DOES NOT exist in &quot;leed&quot; -- leet.indexOf(&quot;leed&quot;) = -1\n<ul>\n<li>Enter while body and continue to trim last character.</li>\n<li>trim 't' from prefix: &quot;leet&quot;</li>\n<li>prefix = &quot;lee&quot;</li>\n<li>check while condition again -&gt; &quot;lee&quot; exist in &quot;leed&quot; -&quot;leed&quot;.indexOf(&quot;lee&quot;) = 0</li>\n</ul>\n</li>\n<li>We reached the end of our array and return prefix : &quot;lee&quot;.</li>\n</ul>\n<p>I took the code you provided and modified it with print statements, so that you can see how prefix is trimmed when index.Of() returns -1.</p>\n<pre><code>public class LongestCommonPrefix {\n\n    public static String longestCommonPrefix(String[] strs) {\n        if (strs.length == 0) return &quot;&quot;;\n        String prefix = strs[0];\n        \n        for (int i = 1; i &lt; strs.length; i++) {\n            System.out.println(strs[i] + &quot;.indexOf(&quot; + prefix + &quot;)&quot; + &quot; =  &quot; + strs[i].indexOf(prefix));\n            while (strs[i].indexOf(prefix) != 0) {\n                System.out.println(&quot;Trim the last character: &quot; + prefix.charAt(prefix.length() - 1));\n                prefix = prefix.substring(0, prefix.length() - 1);\n                if (prefix.isEmpty())  {\n                    System.out.println(&quot;No LCP exist after trimming all characters from prefix!&quot;);\n                    return &quot;&quot;;\n                }\n            }\n            System.out.println(&quot;prefix after comparing with &quot; + strs[i] + &quot;: &quot; + prefix + &quot;\\n&quot;);\n        }\n        return prefix;\n    }\n    \n    public static void main(String[] args) {\n        String[] s = {&quot;leet&quot;,&quot;leetcode&quot;, &quot;leet&quot;, &quot;leed&quot;};\n        System.out.println(&quot;Input array: &quot; + Arrays.toString(s) + &quot;\\n&quot;);\n        System.out.println(&quot;LCP: &quot; + longestCommonPrefix(s));\n    }\n}\n</code></pre>\n<p>Hope this helps out and best of luck!</p>\n"}],"owner":{"account_id":18414388,"reputation":3,"user_id":13413725,"display_name":"Altoids weed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73968722,"answer_count":1,"score":0,"last_activity_date":1665031551,"creation_date":1665024877,"question_id":73968227,"body_markdown":"I&#39;m working on a problem - Longest Common Prefix - using Java, for this problem I must return the longest common prefix when given an array of Strings, for example an array of [&quot;ale&quot;, &quot;Altamonte&quot;, &quot;alligator&quot;] would return the Longest Common Prefix &quot;al&quot;. One of the answers given for this problem was provided and I have posted it below, however I do not understand the conditional statement within the while loop, which is ``` while (strs[i].indexOf(prefix) != 0) ```. When I try to understand this conditional statement I perceive it as if parameter strs at index i, which can only be 1 through ```strs.length -1 ```, why put ```.indexOf(prefix) != 0 ``` ?  when I do a print out statement of ``` System.out.println(strs[i].indexOf(prefix)); ``` I get value of -1. I perceive this as some way for the loop to iterate backwards from ```strs[i]``` until the method finally gets to the longest common prefix? I also see that the variable ```prefix``` is equal to ```strs[0]``` so is the while loop conditional saying that since ```strs[i]``` cannot go to 0 then we get value of -1? I hope this question makes sense, I&#39;m just struggling to understand this conditional statement and if anyone could help me understand how this code below is actually working I would very much appreciate the knowledge! many sincere thanks for any help given!\r\n\r\n```   \r\n  public String longestCommonPrefix(String[] strs) {\r\n        if (strs.length == 0) return &quot;&quot;;\r\n        String prefix = strs[0];\r\n        for (int i = 1; i &lt; strs.length; i++)\r\n            while (strs[i].indexOf(prefix) != 0) {\r\n // System.out.println(&quot;Confused by this--&gt; &quot; + strs[i].indexOf(prefix));// this prints out -1 and im not sure why..\r\n                prefix = prefix.substring(0, prefix.length() - 1);\r\n                if (prefix.isEmpty()) return &quot;&quot;;\r\n            }        \r\n        return prefix;\r\n    }\r\n```","title":"I need clarification of Java while loop conditional statement, when trying to find longest common prefix from an array of Strings","body":"<p>I'm working on a problem - Longest Common Prefix - using Java, for this problem I must return the longest common prefix when given an array of Strings, for example an array of [&quot;ale&quot;, &quot;Altamonte&quot;, &quot;alligator&quot;] would return the Longest Common Prefix &quot;al&quot;. One of the answers given for this problem was provided and I have posted it below, however I do not understand the conditional statement within the while loop, which is <code>while (strs[i].indexOf(prefix) != 0)</code>. When I try to understand this conditional statement I perceive it as if parameter strs at index i, which can only be 1 through <code>strs.length -1 </code>, why put <code>.indexOf(prefix) != 0 </code> ?  when I do a print out statement of <code>System.out.println(strs[i].indexOf(prefix));</code> I get value of -1. I perceive this as some way for the loop to iterate backwards from <code>strs[i]</code> until the method finally gets to the longest common prefix? I also see that the variable <code>prefix</code> is equal to <code>strs[0]</code> so is the while loop conditional saying that since <code>strs[i]</code> cannot go to 0 then we get value of -1? I hope this question makes sense, I'm just struggling to understand this conditional statement and if anyone could help me understand how this code below is actually working I would very much appreciate the knowledge! many sincere thanks for any help given!</p>\n<pre><code>  public String longestCommonPrefix(String[] strs) {\n        if (strs.length == 0) return &quot;&quot;;\n        String prefix = strs[0];\n        for (int i = 1; i &lt; strs.length; i++)\n            while (strs[i].indexOf(prefix) != 0) {\n // System.out.println(&quot;Confused by this--&gt; &quot; + strs[i].indexOf(prefix));// this prints out -1 and im not sure why..\n                prefix = prefix.substring(0, prefix.length() - 1);\n                if (prefix.isEmpty()) return &quot;&quot;;\n            }        \n        return prefix;\n    }\n</code></pre>\n"},{"tags":["java","algorithm","java-me","geolocation"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1296723056,"post_id":4883933,"comment_id":5432358,"body_markdown":"can you please describe what you want to do functionally","body":"can you please describe what you want to do functionally"},{"owner":{"account_id":69570,"reputation":1457,"user_id":202313,"accept_rate":62,"display_name":"Rangana Sampath"},"score":0,"creation_date":1296723338,"post_id":4883933,"comment_id":5432405,"body_markdown":"i want to fetch the data that needed by a user depending on his location , for example let&#39;s say the person want to find the ATM machines around him within a 100m radius, so the user can search for that and algorithm will show the ATM machines depending on his location , that is the kind of thing that i want to implement.","body":"i want to fetch the data that needed by a user depending on his location , for example let&#39;s say the person want to find the ATM machines around him within a 100m radius, so the user can search for that and algorithm will show the ATM machines depending on his location , that is the kind of thing that i want to implement."},{"owner":{"account_id":8620,"reputation":22142,"user_id":15619,"accept_rate":91,"display_name":"Riduidel"},"score":0,"creation_date":1296724747,"post_id":4883933,"comment_id":5432660,"body_markdown":"@anganMIT please update your question according to that comment, in order for answers to come more easily.","body":"@anganMIT please update your question according to that comment, in order for answers to come more easily."}],"answers":[{"tags":[],"owner":{"account_id":286378,"reputation":1266,"user_id":585602,"accept_rate":80,"display_name":"Marcin Michalski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1296723842,"creation_date":1296723842,"answer_id":4884095,"question_id":4883933,"body_markdown":"You could have PointOfInterest table that relates to address.\r\nLet say I want to find an ATM in Chicago. Then you perform a seach for all ATMs in chicago.\r\nAfter you get your result set you perform distance calculation over each of them and check which is the closest one.\r\n\r\nHere you may find a way how to calculate distance based on longitude/latitude coordinates\r\n\r\nhttp://www.movable-type.co.uk/scripts/latlong.html","title":"location based data grabbing algorithm","body":"<p>You could have PointOfInterest table that relates to address.\nLet say I want to find an ATM in Chicago. Then you perform a seach for all ATMs in chicago.\nAfter you get your result set you perform distance calculation over each of them and check which is the closest one.</p>\n\n<p>Here you may find a way how to calculate distance based on longitude/latitude coordinates</p>\n\n<p><a href=\"http://www.movable-type.co.uk/scripts/latlong.html\" rel=\"nofollow\">http://www.movable-type.co.uk/scripts/latlong.html</a></p>\n"}],"owner":{"account_id":69570,"reputation":1457,"user_id":202313,"accept_rate":62,"display_name":"Rangana Sampath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":566,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":4884095,"answer_count":1,"score":0,"last_activity_date":1665031510,"creation_date":1296722675,"question_id":4883933,"body_markdown":"I have to develop an algorithm for location based data grabbing and displaying it on a mobile device. I&#39;m just a web programmer with some knowledge of php and mysql. I need to develop this algorithm. Please give some instructions on where to start the development.","title":"location based data grabbing algorithm","body":"<p>I have to develop an algorithm for location based data grabbing and displaying it on a mobile device. I'm just a web programmer with some knowledge of php and mysql. I need to develop this algorithm. Please give some instructions on where to start the development.</p>\n"},{"tags":["java","oop","design-patterns","object-design"],"answers":[{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665009941,"creation_date":1665009941,"answer_id":73967018,"question_id":73966824,"body_markdown":"&gt; The obvious solution would be to move the preparePackage function inside the ConcreteProductA and expose the method in BaseProduct, so that I can take advantage of polymorphism\r\n\r\nYes, that would be the typical solution.\r\n\r\n&gt; However, the thing I dislike about this approach is tha the product classes are mostly data objects, and the preparePackage function can contain lots of business logic\r\n\r\nThat doesn&#39;t follow. Just because you have a method in BaseProduct doesn&#39;t imply that this method must do all the work. It can call other methods, you know :-)\r\n\r\nSo I&#39;d have a bare-bones polymorphic method in BaseProduct that locates and calls the correct implementation, which contains the &quot;lots of business logic&quot; you don&#39;t want in your domain class.\r\n\r\nIf you take this technique to its extreme (where the domain class contains nothing but delegation code), you end up with the visitor pattern.\r\n\r\n```\r\nclass BaseProduct {\r\n    abstract &lt;R&gt; R visit(Visitor&lt;R&gt; visitor);\r\n}\r\n\r\nclass ProductA {\r\n    &lt;R&gt; R visit(Visitor&lt;R&gt; visitor) {\r\n        return visitor.visit(this);\r\n    }\r\n}\r\n\r\n// similar for ProductB\r\n\r\ninterface Visitor&lt;R&gt; {\r\n    R visit(ProductA productA);\r\n    R visit(ProductB productB);\r\n}\r\n\r\nclass Packager implements Visitor&lt;Package&gt; {\r\n    public Package visit(ProductA productA) {\r\n        // lots of business logic here\r\n    }\r\n\r\n    public Package visit(ProductB productB) {\r\n        // lots of business logic here\r\n    }\r\n}\r\n\r\n\r\n// and then you can write\r\nmyProduct.visit(new Packager()); // type safe invocation of logic the domain knows nothing about\r\n```","title":"Suggestion on Pattern to solve concrete class specialization","body":"<blockquote>\n<p>The obvious solution would be to move the preparePackage function inside the ConcreteProductA and expose the method in BaseProduct, so that I can take advantage of polymorphism</p>\n</blockquote>\n<p>Yes, that would be the typical solution.</p>\n<blockquote>\n<p>However, the thing I dislike about this approach is tha the product classes are mostly data objects, and the preparePackage function can contain lots of business logic</p>\n</blockquote>\n<p>That doesn't follow. Just because you have a method in BaseProduct doesn't imply that this method must do all the work. It can call other methods, you know :-)</p>\n<p>So I'd have a bare-bones polymorphic method in BaseProduct that locates and calls the correct implementation, which contains the &quot;lots of business logic&quot; you don't want in your domain class.</p>\n<p>If you take this technique to its extreme (where the domain class contains nothing but delegation code), you end up with the visitor pattern.</p>\n<pre><code>class BaseProduct {\n    abstract &lt;R&gt; R visit(Visitor&lt;R&gt; visitor);\n}\n\nclass ProductA {\n    &lt;R&gt; R visit(Visitor&lt;R&gt; visitor) {\n        return visitor.visit(this);\n    }\n}\n\n// similar for ProductB\n\ninterface Visitor&lt;R&gt; {\n    R visit(ProductA productA);\n    R visit(ProductB productB);\n}\n\nclass Packager implements Visitor&lt;Package&gt; {\n    public Package visit(ProductA productA) {\n        // lots of business logic here\n    }\n\n    public Package visit(ProductB productB) {\n        // lots of business logic here\n    }\n}\n\n\n// and then you can write\nmyProduct.visit(new Packager()); // type safe invocation of logic the domain knows nothing about\n</code></pre>\n"}],"owner":{"account_id":26539736,"reputation":3,"user_id":20170682,"display_name":"codeWarrior0712"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73967018,"answer_count":1,"score":0,"last_activity_date":1665030857,"creation_date":1665008073,"question_id":73966824,"body_markdown":"Suppose that you have several data objects that share some common fields and inherit from a base object.\r\n\r\n```\r\nclass BaseProduct {\r\nString productId;\r\nString productType; // i.e. {A, B}.\r\n}\r\n\r\nclass ConcreteProductA extends BaseProduct {\r\n...\r\nString concreteAttA;\r\n}\r\n\r\nclass ConcreteProductB extends BaseProduct {\r\n...\r\nString concreteAttB;\r\n}\r\n```\r\n\r\nNow suppose I can create packages containing a specific type of product, and that the implementation of the function that creates the package is different depending on the concrete type being packaged. However, Ideally, I&#39;d want to encapsulate that specific behavior behind an abstraction, as I&#39;d always want to take the same steps (i.e. preparePackage) for any type of product. In other words, I want to be calling `packageManager.preparePackage` from the following excerpt:\r\n\r\n```\r\ninterface PackageBuilder&lt;T extends BaseProduct&gt; {\r\n      Package preparePackage(T product);\r\n}\r\n\r\nclass ProductAPackageBuilder implements PackageBuilder&lt;ConcreteProductA&gt; {\r\n\r\n     @Override\r\n    Package preparePackage(ConcreteProductA productA) {\r\n        return new Package(productA.concreteAttA);\r\n    }\r\n}\r\n\r\nclass PackageManager {\r\n    Map&lt;String, PackageBuilder&gt; packageBuilders;\r\n\r\n    Package preparePackage(BaseProduct product) {\r\n      return packageBuilders.get(product.productType).preparePackage(product);\r\n    }\r\n}\r\n```\r\n\r\nThis code results in a downcast being made from `BaseProduct` when calling the prepare package. This also raises a compiler warning. I understand the disadvantages in downcasting and having calls to preparePackage not being statically typed. However, I&#39;m also struggling to find a solution that&#39;s strictly better than this approach.\r\n\r\nThe obvious solution would be to move the preparePackage function inside the ConcreteProductA and expose the method in BaseProduct, so that I can take advantage of polymorphism.\r\nHowever, the thing I dislike about this approach is tha the product classes are mostly data objects, and the `preparePackage` function can contain lots of business logic. Ideally I&#39;d like the product classes to be as thin as possible and contain just data and not a lot of behavior.\r\n\r\nIs there any alternative that allows me to keep the product objects being data-only, and avoid this downcast?\r\nWould this be an acceptable case where downcast could be useful?","title":"Suggestion on Pattern to solve concrete class specialization","body":"<p>Suppose that you have several data objects that share some common fields and inherit from a base object.</p>\n<pre><code>class BaseProduct {\nString productId;\nString productType; // i.e. {A, B}.\n}\n\nclass ConcreteProductA extends BaseProduct {\n...\nString concreteAttA;\n}\n\nclass ConcreteProductB extends BaseProduct {\n...\nString concreteAttB;\n}\n</code></pre>\n<p>Now suppose I can create packages containing a specific type of product, and that the implementation of the function that creates the package is different depending on the concrete type being packaged. However, Ideally, I'd want to encapsulate that specific behavior behind an abstraction, as I'd always want to take the same steps (i.e. preparePackage) for any type of product. In other words, I want to be calling <code>packageManager.preparePackage</code> from the following excerpt:</p>\n<pre><code>interface PackageBuilder&lt;T extends BaseProduct&gt; {\n      Package preparePackage(T product);\n}\n\nclass ProductAPackageBuilder implements PackageBuilder&lt;ConcreteProductA&gt; {\n\n     @Override\n    Package preparePackage(ConcreteProductA productA) {\n        return new Package(productA.concreteAttA);\n    }\n}\n\nclass PackageManager {\n    Map&lt;String, PackageBuilder&gt; packageBuilders;\n\n    Package preparePackage(BaseProduct product) {\n      return packageBuilders.get(product.productType).preparePackage(product);\n    }\n}\n</code></pre>\n<p>This code results in a downcast being made from <code>BaseProduct</code> when calling the prepare package. This also raises a compiler warning. I understand the disadvantages in downcasting and having calls to preparePackage not being statically typed. However, I'm also struggling to find a solution that's strictly better than this approach.</p>\n<p>The obvious solution would be to move the preparePackage function inside the ConcreteProductA and expose the method in BaseProduct, so that I can take advantage of polymorphism.\nHowever, the thing I dislike about this approach is tha the product classes are mostly data objects, and the <code>preparePackage</code> function can contain lots of business logic. Ideally I'd like the product classes to be as thin as possible and contain just data and not a lot of behavior.</p>\n<p>Is there any alternative that allows me to keep the product objects being data-only, and avoid this downcast?\nWould this be an acceptable case where downcast could be useful?</p>\n"},{"tags":["java","mysql","github"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1665024434,"post_id":73968189,"comment_id":130603927,"body_markdown":"Use a public key rather than plain text password","body":"Use a public key rather than plain text password"}],"answers":[{"tags":[],"owner":{"account_id":6496686,"reputation":578,"user_id":5029081,"display_name":"Haroldo Macedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665030458,"creation_date":1665030458,"answer_id":73968669,"question_id":73968189,"body_markdown":"As a good practice, you should never store user/password in your code. There are a few alternatives to do so.\r\n\r\nYou may use variables whose values come from system variables or context files.\r\n\r\nAn even better alternative is to rely on the infrastructure, such as provided by application servers, for example.\r\nIn this case, your code looks up data sources that define the DB connection. No password, users nor even DB name, IP and port are stored in your code.\r\n\r\nYour DB access info is stored in your infra and can be easily and securely updated without changing the code.","title":"Correct way to upload my Java Mysql application on Github","body":"<p>As a good practice, you should never store user/password in your code. There are a few alternatives to do so.</p>\n<p>You may use variables whose values come from system variables or context files.</p>\n<p>An even better alternative is to rely on the infrastructure, such as provided by application servers, for example.\nIn this case, your code looks up data sources that define the DB connection. No password, users nor even DB name, IP and port are stored in your code.</p>\n<p>Your DB access info is stored in your infra and can be easily and securely updated without changing the code.</p>\n"}],"owner":{"account_id":25969414,"reputation":1,"user_id":19684875,"display_name":"Genaro Di Stilio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665030458,"creation_date":1665024334,"question_id":73968189,"body_markdown":"first ever question here. I&#39;m sorry if this one has been alredy asked but I couldn&#39;t find it anywhere.\r\nI just finished my first crud application using java and mysql, the thing is: To upload it to github I will be revealing mysql password... I mean, its a simple password and of course I have nothing more than the project data in the database. So should I find another way to upload my project or is it fairly safe to share the password?. Thanks in advance!","title":"Correct way to upload my Java Mysql application on Github","body":"<p>first ever question here. I'm sorry if this one has been alredy asked but I couldn't find it anywhere.\nI just finished my first crud application using java and mysql, the thing is: To upload it to github I will be revealing mysql password... I mean, its a simple password and of course I have nothing more than the project data in the database. So should I find another way to upload my project or is it fairly safe to share the password?. Thanks in advance!</p>\n"},{"tags":["java","android","xml","android-imageview"],"comments":[{"owner":{"account_id":1501507,"reputation":9507,"user_id":1405983,"accept_rate":64,"display_name":"Hardik Joshi"},"score":0,"creation_date":1382513810,"post_id":19535571,"comment_id":28983829,"body_markdown":"You need to check like click.getId() == profileBtn. And share your code how you initialize your whoamiwith ?","body":"You need to check like click.getId() == profileBtn. And share your code how you initialize your whoamiwith ?"},{"owner":{"account_id":456932,"reputation":4574,"user_id":855950,"accept_rate":82,"display_name":"A.S."},"score":0,"creation_date":1382513827,"post_id":19535571,"comment_id":28983835,"body_markdown":"have you initialized your `whoamiwith` ?","body":"have you initialized your <code>whoamiwith</code> ?"},{"owner":{"account_id":1112634,"reputation":3922,"user_id":1102799,"accept_rate":56,"display_name":"Rethinavel"},"score":0,"creation_date":1382513851,"post_id":19535571,"comment_id":28983847,"body_markdown":"There is a problem with your initialization. Check your imageview id.","body":"There is a problem with your initialization. Check your imageview id."},{"owner":{"account_id":3449696,"reputation":7618,"user_id":2889614,"accept_rate":60,"display_name":"jofftiquez"},"score":0,"creation_date":1382513955,"post_id":19535571,"comment_id":28983903,"body_markdown":"ImageView whereami = (ImageView) findViewById(R.id.whereami); i got it this way guys..","body":"ImageView whereami = (ImageView) findViewById(R.id.whereami); i got it this way guys.."},{"owner":{"account_id":1112634,"reputation":3922,"user_id":1102799,"accept_rate":56,"display_name":"Rethinavel"},"score":0,"creation_date":1382514194,"post_id":19535571,"comment_id":28984014,"body_markdown":"How you dealt with &quot;whoamiwith&quot; You have only initialized whoamiwith rite? How about whereami? and you are trying to set background image with initializing that!","body":"How you dealt with &quot;whoamiwith&quot; You have only initialized whoamiwith rite? How about whereami? and you are trying to set background image with initializing that!"},{"owner":{"account_id":1687957,"reputation":11835,"user_id":2660283,"display_name":"arshu"},"score":0,"creation_date":1382514240,"post_id":19535571,"comment_id":28984036,"body_markdown":"you have declared the imageview as whereami &amp; you are setting the background image on whoami. Recheck your calling variables.","body":"you have declared the imageview as whereami &amp; you are setting the background image on whoami. Recheck your calling variables."},{"owner":{"account_id":3449696,"reputation":7618,"user_id":2889614,"accept_rate":60,"display_name":"jofftiquez"},"score":0,"creation_date":1382514705,"post_id":19535571,"comment_id":28984265,"body_markdown":"im sorry that was a FAIL question i edited the code and now that should help you understand the problem.","body":"im sorry that was a FAIL question i edited the code and now that should help you understand the problem."},{"owner":{"account_id":3449696,"reputation":7618,"user_id":2889614,"accept_rate":60,"display_name":"jofftiquez"},"score":0,"creation_date":1382514919,"post_id":19535571,"comment_id":28984372,"body_markdown":"this force close is really bugging me all day. and by the way, the &lt;FrameLayout&gt; is located on a fragment which appears on my activity, i think that might be one of the reason. dont you think guys?","body":"this force close is really bugging me all day. and by the way, the &lt;FrameLayout&gt; is located on a fragment which appears on my activity, i think that might be one of the reason. dont you think guys?"},{"owner":{"account_id":3057704,"reputation":7306,"user_id":2591002,"accept_rate":36,"display_name":"SweetWisher ツ"},"score":0,"creation_date":1382516188,"post_id":19535571,"comment_id":28985011,"body_markdown":"Show me initialication line for whoamiwith","body":"Show me initialication line for whoamiwith"},{"owner":{"account_id":1440073,"reputation":1630,"user_id":1360475,"display_name":"Manivannan"},"score":0,"creation_date":1382516412,"post_id":19535571,"comment_id":28985135,"body_markdown":"did u initialise like... ImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith)..it is saying whoamiwith is null, i think..","body":"did u initialise like... ImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith)..it is saying whoamiwith is null, i think.."}],"answers":[{"tags":[],"owner":{"account_id":1717378,"reputation":5135,"user_id":1574153,"accept_rate":26,"display_name":"Bhanu Sharma"},"down_vote_count":1,"up_vote_count":111,"is_accepted":true,"score":110,"last_activity_date":1382514609,"creation_date":1382514609,"answer_id":19535849,"question_id":19535571,"body_markdown":"    whoamiwith.setImageResource(R.drawable.loginbtn);","title":"How to change ImageView source in android","body":"<pre><code>whoamiwith.setImageResource(R.drawable.loginbtn);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3057704,"reputation":7306,"user_id":2591002,"accept_rate":36,"display_name":"SweetWisher ツ"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1382516374,"creation_date":1382516374,"answer_id":19536406,"question_id":19535571,"body_markdown":"Initialize image view :\r\n\r\n    whoamiwith = findViewByid(R.id.whoamiwith);\r\n\r\nThen on Click method, write this lines to change the image resource  : \r\n\r\n   \r\n\r\n     if(android.os.Build.VERSION.SDK_INT &gt; 15)\r\n        {\r\n            // for API above 15\r\n        \twhoamiwith.setBackground(getResources().getDrawable(R.drawable.loginbtn));\r\n        }\r\n        else\r\n        {\r\n            // for API below 15\r\n    \t    whoamiwith.setBackgroundDrawable(getResources().getDrawable(R.drawable.loginbtn));\r\n        }","title":"How to change ImageView source in android","body":"<p>Initialize image view :</p>\n\n<pre><code>whoamiwith = findViewByid(R.id.whoamiwith);\n</code></pre>\n\n<p>Then on Click method, write this lines to change the image resource  : </p>\n\n<pre><code> if(android.os.Build.VERSION.SDK_INT &gt; 15)\n    {\n        // for API above 15\n        whoamiwith.setBackground(getResources().getDrawable(R.drawable.loginbtn));\n    }\n    else\n    {\n        // for API below 15\n        whoamiwith.setBackgroundDrawable(getResources().getDrawable(R.drawable.loginbtn));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1440073,"reputation":1630,"user_id":1360475,"display_name":"Manivannan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441092561,"creation_date":1382516766,"answer_id":19536552,"question_id":19535571,"body_markdown":"Exception is `whoamiwith` is null.\r\ndid u initialise `whoamiwith` like,\r\nImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith)\r\n\r\nRefer https://stackoverflow.com/questions/8642823/using-setimagedrawable-dynamically-to-set-image-in-an-imageview","title":"How to change ImageView source in android","body":"<p>Exception is <code>whoamiwith</code> is null.\ndid u initialise <code>whoamiwith</code> like,\nImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith)</p>\n\n<p>Refer <a href=\"https://stackoverflow.com/questions/8642823/using-setimagedrawable-dynamically-to-set-image-in-an-imageview\">Using setImageDrawable dynamically to set image in an ImageView</a></p>\n"},{"tags":[],"owner":{"account_id":2854391,"reputation":141,"user_id":2450919,"display_name":"Eloytxo"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1382517217,"creation_date":1382517217,"answer_id":19536724,"question_id":19535571,"body_markdown":"     ImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith)  \r\n     Drawable new_image= getResources().getDrawable(R.drawable.loginbtn); \t\r\n        whoamiwith.setBackgroundDrawable(new_image);","title":"How to change ImageView source in android","body":"<pre><code> ImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith)  \n Drawable new_image= getResources().getDrawable(R.drawable.loginbtn);   \n    whoamiwith.setBackgroundDrawable(new_image);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2374296,"reputation":1917,"user_id":2078099,"accept_rate":75,"display_name":"Jitesh Dalsaniya"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1382517304,"creation_date":1382517304,"answer_id":19536754,"question_id":19535571,"body_markdown":"Just try\r\n\r\n    ImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith)  \r\n    whoamiwith.setImageResource(R.id.new_image);","title":"How to change ImageView source in android","body":"<p>Just try</p>\n\n<pre><code>ImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith)  \nwhoamiwith.setImageResource(R.id.new_image);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3360128,"reputation":900,"user_id":2822093,"accept_rate":33,"display_name":"RussVirtuoso"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1382517607,"creation_date":1382517607,"answer_id":19536868,"question_id":19535571,"body_markdown":"    ImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith);\r\n    whoamiwith.setImageResource(R.drawable.image_i_wanna_put);\r\n","title":"How to change ImageView source in android","body":"<pre><code>ImageView whoamiwith = (ImageView)findViewById(R.id.whoamiwith);\nwhoamiwith.setImageResource(R.drawable.image_i_wanna_put);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23875912,"reputation":251,"user_id":17877077,"display_name":"Samiya Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665030126,"creation_date":1665030126,"answer_id":73968646,"question_id":19535571,"body_markdown":"In Kotlin, we can change ImageView programmatically like this.\r\n\r\n    val imageView: ImageView = findViewById(R.id.imageView)\r\n    imageView.setImageResource(R.drawable.imagename)\r\n\r\nAnd in Java,\r\n\r\n    ImageView imageView= (ImageView)findViewById(R.id.imageView);\r\n    imageView.setImageResource(R.drawable.imagename);\r\n","title":"How to change ImageView source in android","body":"<p>In Kotlin, we can change ImageView programmatically like this.</p>\n<pre><code>val imageView: ImageView = findViewById(R.id.imageView)\nimageView.setImageResource(R.drawable.imagename)\n</code></pre>\n<p>And in Java,</p>\n<pre><code>ImageView imageView= (ImageView)findViewById(R.id.imageView);\nimageView.setImageResource(R.drawable.imagename);\n</code></pre>\n"}],"owner":{"account_id":3449696,"reputation":7618,"user_id":2889614,"accept_rate":60,"display_name":"jofftiquez"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120485,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":19535849,"answer_count":7,"score":50,"last_activity_date":1665030126,"creation_date":1382513715,"question_id":19535571,"body_markdown":"This is my xml, this is located inside a fragment that appears in my activity.\r\n\r\n    &lt;FrameLayout\r\n                        android:id=&quot;@+id/frame1&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;115dp&quot;\r\n                        android:layout_margin=&quot;2dp&quot;\r\n                        android:layout_weight=&quot;0.33&quot;&gt;\r\n    \r\n                        &lt;ImageView\r\n                            android:id=&quot;@+id/whoamiwith&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;match_parent&quot;\r\n                            android:scaleType=&quot;fitCenter&quot;\r\n                            android:src=&quot;@drawable/default_image&quot; /&gt;\r\n                    &lt;/FrameLayout&gt;\r\n\r\nAnd this is my java code : \r\n\r\n    @Override\r\n    public void onClick(View click) {\r\n    \tif (click == profileBtn) {\r\n    \t\twhoamiwith.setBackgroundResource(R.drawable.image_i_wanna_put);\r\n    \t}\r\n    }\r\n\r\nI am trying to change the image source of the image view. There are no syntax errors but when I click the button the emulator is giving me a force close and on the logcat it says:\r\n\r\n&gt; java.lang.NullPointerException\r\n\r\n\r\nIt&#39;s pointing to the line:  \r\n\r\n    whoamiwith.setBackgroundResource(R.drawable.loginbtn);","title":"How to change ImageView source in android","body":"<p>This is my xml, this is located inside a fragment that appears in my activity.</p>\n\n<pre><code>&lt;FrameLayout\n                    android:id=\"@+id/frame1\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"115dp\"\n                    android:layout_margin=\"2dp\"\n                    android:layout_weight=\"0.33\"&gt;\n\n                    &lt;ImageView\n                        android:id=\"@+id/whoamiwith\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"match_parent\"\n                        android:scaleType=\"fitCenter\"\n                        android:src=\"@drawable/default_image\" /&gt;\n                &lt;/FrameLayout&gt;\n</code></pre>\n\n<p>And this is my java code : </p>\n\n<pre><code>@Override\npublic void onClick(View click) {\n    if (click == profileBtn) {\n        whoamiwith.setBackgroundResource(R.drawable.image_i_wanna_put);\n    }\n}\n</code></pre>\n\n<p>I am trying to change the image source of the image view. There are no syntax errors but when I click the button the emulator is giving me a force close and on the logcat it says:</p>\n\n<blockquote>\n  <p>java.lang.NullPointerException</p>\n</blockquote>\n\n<p>It's pointing to the line:  </p>\n\n<pre><code>whoamiwith.setBackgroundResource(R.drawable.loginbtn);\n</code></pre>\n"},{"tags":["java","mongodb","aggregation-framework","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1664295588,"post_id":73869815,"comment_id":130436948,"body_markdown":"I think Atlas Search may be a better approach to this problem. They have a video demonstration [here on YouTube](https://www.youtube.com/watch?v=s2kXYZRE7pA)","body":"I think Atlas Search may be a better approach to this problem. They have a video demonstration <a href=\"https://www.youtube.com/watch?v=s2kXYZRE7pA\" rel=\"nofollow noreferrer\">here on YouTube</a>"},{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":2,"creation_date":1664496171,"post_id":73869815,"comment_id":130491321,"body_markdown":"There&#39;s no need for the `$unionWith` clauses. Instead you can just use `$or: [ { &quot;productName&quot; : /HYPER/i }, {&quot;subCategoryName&quot; : /HYPER/i}, ... ], &lt;companyNo&gt;, &lt;status&gt;` all in a single `$match`.  Can you also clarify what you mean when you say that you need _support for pagination_ and that you aren&#39;t _aren&#39;t able to achieve that with Spring Data_?","body":"There&#39;s no need for the <code>$unionWith</code> clauses. Instead you can just use <code>$or: [ { &quot;productName&quot; : &#47;HYPER&#47;i }, {&quot;subCategoryName&quot; : &#47;HYPER&#47;i}, ... ], &lt;companyNo&gt;, &lt;status&gt;</code> all in a single <code>$match</code>.  Can you also clarify what you mean when you say that you need <i>support for pagination</i> and that you aren&#39;t <i>aren&#39;t able to achieve that with Spring Data</i>?"}],"answers":[{"tags":[],"owner":{"account_id":26328686,"reputation":919,"user_id":19989557,"display_name":"wikimind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664901892,"creation_date":1664552713,"answer_id":73911145,"question_id":73869815,"body_markdown":"Checkout mongodb&#39;s search indexes. You can create a search index with the needed fields to search by, and then you can add a $search stage to your aggregation. You can use the already built in dynamic tech search functionality. If you&#39;re using mongodb atlas, I suggest looking at the atlas text search docs!\r\n\r\nTo address your auto complete needs, you can set the index to allow for autocompletions (i.e - you type &quot;hello&quot; and the product &quot;hello world&quot; shows up). In addition you can implement fuzzy searches and have other neat configurations to allow for filtering alongside the text search.\r\n\r\n[text search docs][1]\r\n\r\n[atlas text search docs][2]\r\n\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    // example search index to be added to mongodb atlas\r\n\r\n    {\r\n      &quot;analyzer&quot;: &quot;lucene.standard&quot;,\r\n      &quot;searchAnalyzer&quot;: &quot;lucene.standard&quot;,\r\n      &quot;mappings&quot;: {\r\n        &quot;dynamic&quot;: true,\r\n        &quot;fields&quot;: {\r\n          &quot;_id&quot;: {\r\n            &quot;type&quot;: &quot;objectId&quot;\r\n          },\r\n          &quot;title&quot;: {\r\n            &quot;type&quot;: &quot;autocomplete&quot;\r\n          },\r\n          &quot;subTitle&quot;: {\r\n            &quot;type&quot;: &quot;autocomplete&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // example aggregation\r\n\r\n    const userSearchText = &#39;some search&#39;;\r\n\r\n    db.someCollection.aggregate([\r\n      {\r\n        $search: {\r\n          should: [\r\n            autocomplete: {\r\n              query: userSearchText,\r\n              path: &#39;title&#39;,\r\n              fuzzy: {\r\n                maxEdits: 2,\r\n                prefixLength: 2\r\n              }\r\n            },\r\n            autocomplete: {\r\n              query: userSearchText,\r\n              path: &#39;subTitle&#39;,\r\n              fuzzy: {\r\n                maxEdits: 2,\r\n                prefixLength: 2\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    ])\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nApologies for any typos in the code\r\n\r\nAlso take a look at the different pipeline options that can be used:\r\n[pipeline search options][3]\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/manual/text-search/\r\n  [2]: https://www.mongodb.com/docs/atlas/atlas-search/atlas-search-overview/\r\n  [3]: https://www.mongodb.com/docs/atlas/atlas-search/compound/","title":"Spring Data MongoDB | Dynamic Search with Pagination","body":"<p>Checkout mongodb's search indexes. You can create a search index with the needed fields to search by, and then you can add a $search stage to your aggregation. You can use the already built in dynamic tech search functionality. If you're using mongodb atlas, I suggest looking at the atlas text search docs!</p>\n<p>To address your auto complete needs, you can set the index to allow for autocompletions (i.e - you type &quot;hello&quot; and the product &quot;hello world&quot; shows up). In addition you can implement fuzzy searches and have other neat configurations to allow for filtering alongside the text search.</p>\n<p><a href=\"https://www.mongodb.com/docs/manual/text-search/\" rel=\"nofollow noreferrer\">text search docs</a></p>\n<p><a href=\"https://www.mongodb.com/docs/atlas/atlas-search/atlas-search-overview/\" rel=\"nofollow noreferrer\">atlas text search docs</a></p>\n<pre class=\"lang-js prettyprint-override\"><code>// example search index to be added to mongodb atlas\n\n{\n  &quot;analyzer&quot;: &quot;lucene.standard&quot;,\n  &quot;searchAnalyzer&quot;: &quot;lucene.standard&quot;,\n  &quot;mappings&quot;: {\n    &quot;dynamic&quot;: true,\n    &quot;fields&quot;: {\n      &quot;_id&quot;: {\n        &quot;type&quot;: &quot;objectId&quot;\n      },\n      &quot;title&quot;: {\n        &quot;type&quot;: &quot;autocomplete&quot;\n      },\n      &quot;subTitle&quot;: {\n        &quot;type&quot;: &quot;autocomplete&quot;\n      }\n    }\n  }\n}\n\n// example aggregation\n\nconst userSearchText = 'some search';\n\ndb.someCollection.aggregate([\n  {\n    $search: {\n      should: [\n        autocomplete: {\n          query: userSearchText,\n          path: 'title',\n          fuzzy: {\n            maxEdits: 2,\n            prefixLength: 2\n          }\n        },\n        autocomplete: {\n          query: userSearchText,\n          path: 'subTitle',\n          fuzzy: {\n            maxEdits: 2,\n            prefixLength: 2\n          }\n        }\n      ]\n    }\n  }\n])\n</code></pre>\n\n<p>Apologies for any typos in the code</p>\n<p>Also take a look at the different pipeline options that can be used:\n<a href=\"https://www.mongodb.com/docs/atlas/atlas-search/compound/\" rel=\"nofollow noreferrer\">pipeline search options</a></p>\n"},{"tags":[],"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665030082,"creation_date":1665011534,"answer_id":73967169,"question_id":73869815,"body_markdown":"Here is my working example in Spring Boot.\r\n\r\nhttps://github.com/ConsciousObserver/MongoAggregationTest\r\n\r\nYou can invoke the `/product` REST service using following command\r\n\r\n    http://localhost:8080/products?productName=product&amp;brandName=BRAND1&amp;categoryName=CATEGORY2&amp;subCategoryName=SUB_CATEGORY3&amp;pageNumber=0&amp;pageSize=10\r\n\r\nImplementation supports following\r\n\r\n 1. Text search on `productName` (Searches by words, needs text search index)\r\n 2. Exact match on `brandName`, `categoryName` and `subCategoryName`\r\n 3. Pagination using `pageNumber` and `pageSize`\r\n\r\nAll of it is implemented using Spring Data APIs. I generally avoid writing native queries in code, as they are not validated at compile time.\r\n\r\nAll classes are added to one Java file, it&#39;s just a sample so it&#39;s better to keep everything in one place.\r\n\r\nAdding code below in case GitHub repository goes down.\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.4&lt;/version&gt;\r\n            &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;MongoAggregationTest&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;MongoAggregationTest&lt;/name&gt;\r\n        &lt;description&gt;MongoAggregationTest&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n**MongoAggregationTestApplication.java**\r\n\r\n    package com.example;\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    import javax.annotation.PostConstruct;\r\n    import javax.validation.constraints.Max;\r\n    import javax.validation.constraints.Min;\r\n\r\n    import org.bson.BsonDocument;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.data.annotation.Id;\r\n    import org.springframework.data.mongodb.core.MongoTemplate;\r\n    import org.springframework.data.mongodb.core.aggregation.Aggregation;\r\n    import org.springframework.data.mongodb.core.aggregation.AggregationResults;\r\n    import org.springframework.data.mongodb.core.aggregation.LimitOperation;\r\n    import org.springframework.data.mongodb.core.aggregation.MatchOperation;\r\n    import org.springframework.data.mongodb.core.aggregation.SkipOperation;\r\n    import org.springframework.data.mongodb.core.index.TextIndexDefinition;\r\n    import org.springframework.data.mongodb.core.index.TextIndexDefinition.TextIndexDefinitionBuilder;\r\n    import org.springframework.data.mongodb.core.index.TextIndexed;\r\n    import org.springframework.data.mongodb.core.mapping.Document;\r\n    import org.springframework.data.mongodb.core.mapping.Field;\r\n    import org.springframework.data.mongodb.core.query.Criteria;\r\n    import org.springframework.data.mongodb.core.query.CriteriaDefinition;\r\n    import org.springframework.data.mongodb.core.query.Query;\r\n    import org.springframework.data.mongodb.core.query.TextCriteria;\r\n    import org.springframework.validation.annotation.Validated;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n\r\n    @RequiredArgsConstructor\r\n    @SpringBootApplication\r\n    @Slf4j\r\n    public class MongoAggregationTestApplication {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MongoAggregationTestApplication.class, args);\r\n        }\r\n\r\n        private final MongoTemplate mongoTemplate;\r\n\r\n        @PostConstruct\r\n        void prepareData() {\r\n            boolean collectionExists = mongoTemplate.collectionExists(Product.COLLECTION_NAME);\r\n\r\n            log.info(&quot;####### product collection exists: {}&quot;, collectionExists);\r\n\r\n            if (!collectionExists) {\r\n                throw new RuntimeException(\r\n                        String.format(&quot;Required collection {%s} does not exist&quot;, Product.COLLECTION_NAME));\r\n            }\r\n\r\n            //Adding index manually ------------- This is required for text search on productName\r\n            TextIndexDefinition textIndex = new TextIndexDefinitionBuilder().onField(&quot;productName&quot;, 1F).build();\r\n            mongoTemplate.indexOps(Product.class).ensureIndex(textIndex);\r\n\r\n            boolean samplesAlreadyAdded = mongoTemplate\r\n                    .exists(new Query().addCriteria(Criteria.where(&quot;brandName&quot;).exists(true)), Product.class);\r\n\r\n            //Uncomment to delete all rows from product collection\r\n            //mongoTemplate.getCollection(Product.COLLECTION_NAME).deleteMany(new BsonDocument());\r\n\r\n            if (!samplesAlreadyAdded) {\r\n                for (int i = 1; i &lt;= 5; i++) {\r\n                    //adds 3 words in productName\r\n                    //product name term1\r\n                    String productName = &quot;product name term&quot; + i;\r\n\r\n                    Product product = new Product(null, &quot;ACTIVE&quot;, productName, &quot;BRAND&quot; + i, &quot;CATEGORY&quot; + i,\r\n                            &quot;SUB_CATEGORY&quot; + 1);\r\n\r\n                    mongoTemplate.save(product);\r\n\r\n                    log.info(&quot;Saving sample product to database: {}&quot;, product);\r\n                }\r\n            } else {\r\n                log.info(&quot;Skipping sample insertion as they&#39;re already in DB&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Slf4j\r\n    @RestController\r\n    @RequiredArgsConstructor\r\n    @Validated\r\n    class ProductController {\r\n        private final MongoTemplate mongoTemplate;\r\n\r\n        //JSR 303 validations are returning 500 when validation fails, instead of 400. Will look into it later\r\n        /**\r\n         * Invoke using follwing command\r\n         * &lt;p&gt;\r\n         * &lt;code&gt;http://localhost:8080/products?productName=product&amp;brandName=BRAND1&amp;categoryName=CATEGORY2&amp;subCategoryName=SUB_CATEGORY3&amp;pageNumber=0&amp;pageSize=10&lt;/code&gt;\r\n         * \r\n         * @param productName\r\n         * @param brandName\r\n         * @param categoryName\r\n         * @param subCategoryName\r\n         * @param pageNumber\r\n         * @param pageSize\r\n         * @return\r\n         */\r\n        @GetMapping(&quot;/products&quot;)\r\n        public List&lt;Product&gt; getProducts(@RequestParam String productName, @RequestParam String brandName,\r\n                @RequestParam String categoryName, @RequestParam String subCategoryName,\r\n                @RequestParam @Min(0) int pageNumber, @RequestParam @Min(1) @Max(100) int pageSize) {\r\n\r\n            log.info(\r\n                    &quot;Request parameters: productName: {}, brandName: {}, categoryName: {}, subCategoryName: {}, pageNumber: {}, pageSize: {}&quot;,\r\n                    productName, brandName, categoryName, subCategoryName, pageNumber, pageSize);\r\n            //Query Start\r\n\r\n            TextCriteria productNameTextCriteria = new TextCriteria().matchingAny(productName).caseSensitive(false);\r\n            TextCriteriaHack textCriteriaHack = new TextCriteriaHack();\r\n            textCriteriaHack.addCriteria(productNameTextCriteria);\r\n\r\n            //Needs this hack to combine TextCriteria with Criteria in a single query\r\n            //See TextCriteriaHack for details\r\n            MatchOperation productNameTextMatch = new MatchOperation(textCriteriaHack);\r\n\r\n            //Exact match\r\n            Criteria brandNameMatch = Criteria.where(&quot;brandName&quot;).is(brandName);\r\n            Criteria categoryNameMatch = Criteria.where(&quot;categoryName&quot;).is(categoryName);\r\n            Criteria subCategoryNameMatch = Criteria.where(&quot;subCategoryName&quot;).is(subCategoryName);\r\n\r\n            MatchOperation orMatch = Aggregation\r\n                    .match(new Criteria().orOperator(brandNameMatch, categoryNameMatch, subCategoryNameMatch));\r\n\r\n            //Pagination setup\r\n            SkipOperation skip = Aggregation.skip((long) pageNumber * pageSize);\r\n            LimitOperation limit = Aggregation.limit(pageSize);\r\n\r\n            Aggregation aggregation = Aggregation.newAggregation(productNameTextMatch, orMatch, skip, limit);\r\n\r\n            //Query end\r\n\r\n            //Query execution\r\n            AggregationResults&lt;Product&gt; aggregateResults = mongoTemplate.aggregate(aggregation, Product.COLLECTION_NAME,\r\n                    Product.class);\r\n\r\n            List&lt;Product&gt; products = new ArrayList&lt;&gt;();\r\n\r\n            aggregateResults.iterator().forEachRemaining(products::add);\r\n\r\n            log.info(&quot;Found products: {}&quot;, products);\r\n\r\n            return products;\r\n        }\r\n    }\r\n\r\n    @Data\r\n    @Document(Product.COLLECTION_NAME)\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    class Product {\r\n        static final String COLLECTION_NAME = &quot;product&quot;;\r\n\r\n        @Id\r\n        @Field(&quot;_id&quot;)\r\n        private String id;\r\n\r\n        @Field(&quot;status&quot;)\r\n        private String status;\r\n\r\n        @TextIndexed\r\n        @Field(&quot;productName&quot;)\r\n        private String productName;\r\n\r\n        @Field(&quot;brandName&quot;)\r\n        private String brandName;\r\n\r\n        @Field(&quot;categoryName&quot;)\r\n        private String categoryName;\r\n\r\n        @Field(&quot;subCategoryName&quot;)\r\n        private String subCategoryName;\r\n    }\r\n\r\n    /**\r\n     * https://stackoverflow.com/a/29925876 There is no way to combine\r\n     * CriteriaDefinition and Criteria in one query This hack converts\r\n     * CriteriaDefinition to Query which can be converted to Criteria\r\n     */\r\n    class TextCriteriaHack extends Query implements CriteriaDefinition {\r\n        @Override\r\n        public org.bson.Document getCriteriaObject() {\r\n            return this.getQueryObject();\r\n        }\r\n\r\n        @Override\r\n        public String getKey() {\r\n            return null;\r\n        }\r\n    }\r\n\r\nHere&#39;s the query that&#39;s being executed by `/products`, I got it from `MongoTemplate` logs\r\n\r\n    [\r\n        {\r\n            &quot;$match&quot;: {\r\n                &quot;$text&quot;: {\r\n                    &quot;$search&quot;: &quot;name&quot;,\r\n                    &quot;$caseSensitive&quot;: false\r\n                }\r\n            }\r\n        },\r\n        {\r\n            &quot;$match&quot;: {\r\n                &quot;$or&quot;: [\r\n                    {\r\n                        &quot;brandName&quot;: &quot;BRAND1&quot;\r\n                    },\r\n                    {\r\n                        &quot;categoryName&quot;: &quot;CATEGORY2&quot;\r\n                    },\r\n                    {\r\n                        &quot;subCategoryName&quot;: &quot;SUB_CATEGORY3&quot;\r\n                    }\r\n                ]\r\n            }\r\n        },\r\n        {\r\n            &quot;$skip&quot;: 0\r\n        },\r\n        {\r\n            &quot;$limit&quot;: 1\r\n        }\r\n    ]\r\n\r\nHere&#39;s log contents, after a few requests have been fired\r\n\r\n    2022-10-06 04:50:01.209  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-10-06 04:50:01.770  INFO 26472 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\r\n    2022-10-06 04:50:01.780  INFO 26472 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 MongoDB repository interfaces.\r\n    2022-10-06 04:50:02.447  INFO 26472 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-10-06 04:50:02.456  INFO 26472 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-10-06 04:50:02.456  INFO 26472 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\r\n    2022-10-06 04:50:02.531  INFO 26472 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-10-06 04:50:02.531  INFO 26472 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1277 ms\r\n    2022-10-06 04:50:02.679  INFO 26472 --- [           main] org.mongodb.driver.client                : MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync|spring-boot&quot;, &quot;version&quot;: &quot;4.6.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Windows&quot;, &quot;name&quot;: &quot;Windows 10&quot;, &quot;architecture&quot;: &quot;amd64&quot;, &quot;version&quot;: &quot;10.0&quot;}, &quot;platform&quot;: &quot;Java/OpenLogic-OpenJDK/1.8.0-262-b10&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@22bd2039]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName=&#39;null&#39;, serverSelector=&#39;null&#39;, clusterListeners=&#39;[]&#39;, serverSelectionTimeout=&#39;30000 ms&#39;, localThreshold=&#39;30000 ms&#39;}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners=&#39;[]&#39;, serverMonitorListeners=&#39;[]&#39;}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName=&#39;null&#39;, compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}\r\n    2022-10-06 04:50:02.725  INFO 26472 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:121}] to localhost:27017\r\n    2022-10-06 04:50:02.725  INFO 26472 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:122}] to localhost:27017\r\n    2022-10-06 04:50:02.726  INFO 26472 --- [localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48972600}\r\n    2022-10-06 04:50:02.922  INFO 26472 --- [           main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:123}] to localhost:27017\r\n    2022-10-06 04:50:02.933  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : ####### product collection exists: true\r\n    2022-10-06 04:50:02.957 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Executing count: { &quot;brandName&quot; : { &quot;$exists&quot; : true}} in collection: product\r\n    2022-10-06 04:50:02.977 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\r\n    2022-10-06 04:50:02.993  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d4, status=ACTIVE, productName=product name term1, brandName=BRAND1, categoryName=CATEGORY1, subCategoryName=SUB_CATEGORY1)\r\n    2022-10-06 04:50:02.993 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\r\n    2022-10-06 04:50:02.995  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1)\r\n    2022-10-06 04:50:02.995 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\r\n    2022-10-06 04:50:02.996  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d6, status=ACTIVE, productName=product name term3, brandName=BRAND3, categoryName=CATEGORY3, subCategoryName=SUB_CATEGORY1)\r\n    2022-10-06 04:50:02.996 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\r\n    2022-10-06 04:50:02.997  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d7, status=ACTIVE, productName=product name term4, brandName=BRAND4, categoryName=CATEGORY4, subCategoryName=SUB_CATEGORY1)\r\n    2022-10-06 04:50:02.997 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\r\n    2022-10-06 04:50:02.998  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d8, status=ACTIVE, productName=product name term5, brandName=BRAND5, categoryName=CATEGORY5, subCategoryName=SUB_CATEGORY1)\r\n    2022-10-06 04:50:03.310  INFO 26472 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2022-10-06 04:50:03.318  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Started MongoAggregationTestApplication in 2.446 seconds (JVM running for 2.802)\r\n    2022-10-06 04:50:17.447  INFO 26472 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2022-10-06 04:50:17.447  INFO 26472 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2022-10-06 04:50:17.448  INFO 26472 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n    2022-10-06 04:50:17.511  INFO 26472 --- [nio-8080-exec-1] com.example.ProductController            : Request parameters: productName: product, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 10\r\n    2022-10-06 04:50:17.517 DEBUG 26472 --- [nio-8080-exec-1] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;product&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 10}] in collection product\r\n    2022-10-06 04:50:17.527  INFO 26472 --- [nio-8080-exec-1] com.example.ProductController            : Found products: [Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1), Product(id=633e1122297cce382aea07d4, status=ACTIVE, productName=product name term1, brandName=BRAND1, categoryName=CATEGORY1, subCategoryName=SUB_CATEGORY1)]\r\n    2022-10-06 04:50:23.235  INFO 26472 --- [nio-8080-exec-2] com.example.ProductController            : Request parameters: productName: product, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 1\r\n    2022-10-06 04:50:23.236 DEBUG 26472 --- [nio-8080-exec-2] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;product&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 1}] in collection product\r\n    2022-10-06 04:50:23.238  INFO 26472 --- [nio-8080-exec-2] com.example.ProductController            : Found products: [Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1)]\r\n    2022-10-06 04:50:28.891  INFO 26472 --- [nio-8080-exec-3] com.example.ProductController            : Request parameters: productName: product, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 10\r\n    2022-10-06 04:50:28.892 DEBUG 26472 --- [nio-8080-exec-3] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;product&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 10}] in collection product\r\n    2022-10-06 04:50:28.894  INFO 26472 --- [nio-8080-exec-3] com.example.ProductController            : Found products: [Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1), Product(id=633e1122297cce382aea07d4, status=ACTIVE, productName=product name term1, brandName=BRAND1, categoryName=CATEGORY1, subCategoryName=SUB_CATEGORY1)]\r\n    2022-10-06 04:50:33.354  INFO 26472 --- [nio-8080-exec-4] com.example.ProductController            : Request parameters: productName: term3, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 10\r\n    2022-10-06 04:50:33.355 DEBUG 26472 --- [nio-8080-exec-4] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;term3&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 10}] in collection product\r\n    2022-10-06 04:50:33.356  INFO 26472 --- [nio-8080-exec-4] com.example.ProductController            : Found products: []\r\n    2022-10-06 04:50:36.667  INFO 26472 --- [nio-8080-exec-5] com.example.ProductController            : Request parameters: productName: term2, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 10\r\n    2022-10-06 04:50:36.667 DEBUG 26472 --- [nio-8080-exec-5] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;term2&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 10}] in collection product\r\n    2022-10-06 04:50:36.669  INFO 26472 --- [nio-8080-exec-5] com.example.ProductController            : Found products: [Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1)]\r\n","title":"Spring Data MongoDB | Dynamic Search with Pagination","body":"<p>Here is my working example in Spring Boot.</p>\n<p><a href=\"https://github.com/ConsciousObserver/MongoAggregationTest\" rel=\"nofollow noreferrer\">https://github.com/ConsciousObserver/MongoAggregationTest</a></p>\n<p>You can invoke the <code>/product</code> REST service using following command</p>\n<pre><code>http://localhost:8080/products?productName=product&amp;brandName=BRAND1&amp;categoryName=CATEGORY2&amp;subCategoryName=SUB_CATEGORY3&amp;pageNumber=0&amp;pageSize=10\n</code></pre>\n<p>Implementation supports following</p>\n<ol>\n<li>Text search on <code>productName</code> (Searches by words, needs text search index)</li>\n<li>Exact match on <code>brandName</code>, <code>categoryName</code> and <code>subCategoryName</code></li>\n<li>Pagination using <code>pageNumber</code> and <code>pageSize</code></li>\n</ol>\n<p>All of it is implemented using Spring Data APIs. I generally avoid writing native queries in code, as they are not validated at compile time.</p>\n<p>All classes are added to one Java file, it's just a sample so it's better to keep everything in one place.</p>\n<p>Adding code below in case GitHub repository goes down.</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;MongoAggregationTest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;MongoAggregationTest&lt;/name&gt;\n    &lt;description&gt;MongoAggregationTest&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>MongoAggregationTestApplication.java</strong></p>\n<pre><code>package com.example;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.annotation.PostConstruct;\nimport javax.validation.constraints.Max;\nimport javax.validation.constraints.Min;\n\nimport org.bson.BsonDocument;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.data.mongodb.core.aggregation.Aggregation;\nimport org.springframework.data.mongodb.core.aggregation.AggregationResults;\nimport org.springframework.data.mongodb.core.aggregation.LimitOperation;\nimport org.springframework.data.mongodb.core.aggregation.MatchOperation;\nimport org.springframework.data.mongodb.core.aggregation.SkipOperation;\nimport org.springframework.data.mongodb.core.index.TextIndexDefinition;\nimport org.springframework.data.mongodb.core.index.TextIndexDefinition.TextIndexDefinitionBuilder;\nimport org.springframework.data.mongodb.core.index.TextIndexed;\nimport org.springframework.data.mongodb.core.mapping.Document;\nimport org.springframework.data.mongodb.core.mapping.Field;\nimport org.springframework.data.mongodb.core.query.Criteria;\nimport org.springframework.data.mongodb.core.query.CriteriaDefinition;\nimport org.springframework.data.mongodb.core.query.Query;\nimport org.springframework.data.mongodb.core.query.TextCriteria;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\n\n@RequiredArgsConstructor\n@SpringBootApplication\n@Slf4j\npublic class MongoAggregationTestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MongoAggregationTestApplication.class, args);\n    }\n\n    private final MongoTemplate mongoTemplate;\n\n    @PostConstruct\n    void prepareData() {\n        boolean collectionExists = mongoTemplate.collectionExists(Product.COLLECTION_NAME);\n\n        log.info(&quot;####### product collection exists: {}&quot;, collectionExists);\n\n        if (!collectionExists) {\n            throw new RuntimeException(\n                    String.format(&quot;Required collection {%s} does not exist&quot;, Product.COLLECTION_NAME));\n        }\n\n        //Adding index manually ------------- This is required for text search on productName\n        TextIndexDefinition textIndex = new TextIndexDefinitionBuilder().onField(&quot;productName&quot;, 1F).build();\n        mongoTemplate.indexOps(Product.class).ensureIndex(textIndex);\n\n        boolean samplesAlreadyAdded = mongoTemplate\n                .exists(new Query().addCriteria(Criteria.where(&quot;brandName&quot;).exists(true)), Product.class);\n\n        //Uncomment to delete all rows from product collection\n        //mongoTemplate.getCollection(Product.COLLECTION_NAME).deleteMany(new BsonDocument());\n\n        if (!samplesAlreadyAdded) {\n            for (int i = 1; i &lt;= 5; i++) {\n                //adds 3 words in productName\n                //product name term1\n                String productName = &quot;product name term&quot; + i;\n\n                Product product = new Product(null, &quot;ACTIVE&quot;, productName, &quot;BRAND&quot; + i, &quot;CATEGORY&quot; + i,\n                        &quot;SUB_CATEGORY&quot; + 1);\n\n                mongoTemplate.save(product);\n\n                log.info(&quot;Saving sample product to database: {}&quot;, product);\n            }\n        } else {\n            log.info(&quot;Skipping sample insertion as they're already in DB&quot;);\n        }\n    }\n}\n\n@Slf4j\n@RestController\n@RequiredArgsConstructor\n@Validated\nclass ProductController {\n    private final MongoTemplate mongoTemplate;\n\n    //JSR 303 validations are returning 500 when validation fails, instead of 400. Will look into it later\n    /**\n     * Invoke using follwing command\n     * &lt;p&gt;\n     * &lt;code&gt;http://localhost:8080/products?productName=product&amp;brandName=BRAND1&amp;categoryName=CATEGORY2&amp;subCategoryName=SUB_CATEGORY3&amp;pageNumber=0&amp;pageSize=10&lt;/code&gt;\n     * \n     * @param productName\n     * @param brandName\n     * @param categoryName\n     * @param subCategoryName\n     * @param pageNumber\n     * @param pageSize\n     * @return\n     */\n    @GetMapping(&quot;/products&quot;)\n    public List&lt;Product&gt; getProducts(@RequestParam String productName, @RequestParam String brandName,\n            @RequestParam String categoryName, @RequestParam String subCategoryName,\n            @RequestParam @Min(0) int pageNumber, @RequestParam @Min(1) @Max(100) int pageSize) {\n\n        log.info(\n                &quot;Request parameters: productName: {}, brandName: {}, categoryName: {}, subCategoryName: {}, pageNumber: {}, pageSize: {}&quot;,\n                productName, brandName, categoryName, subCategoryName, pageNumber, pageSize);\n        //Query Start\n\n        TextCriteria productNameTextCriteria = new TextCriteria().matchingAny(productName).caseSensitive(false);\n        TextCriteriaHack textCriteriaHack = new TextCriteriaHack();\n        textCriteriaHack.addCriteria(productNameTextCriteria);\n\n        //Needs this hack to combine TextCriteria with Criteria in a single query\n        //See TextCriteriaHack for details\n        MatchOperation productNameTextMatch = new MatchOperation(textCriteriaHack);\n\n        //Exact match\n        Criteria brandNameMatch = Criteria.where(&quot;brandName&quot;).is(brandName);\n        Criteria categoryNameMatch = Criteria.where(&quot;categoryName&quot;).is(categoryName);\n        Criteria subCategoryNameMatch = Criteria.where(&quot;subCategoryName&quot;).is(subCategoryName);\n\n        MatchOperation orMatch = Aggregation\n                .match(new Criteria().orOperator(brandNameMatch, categoryNameMatch, subCategoryNameMatch));\n\n        //Pagination setup\n        SkipOperation skip = Aggregation.skip((long) pageNumber * pageSize);\n        LimitOperation limit = Aggregation.limit(pageSize);\n\n        Aggregation aggregation = Aggregation.newAggregation(productNameTextMatch, orMatch, skip, limit);\n\n        //Query end\n\n        //Query execution\n        AggregationResults&lt;Product&gt; aggregateResults = mongoTemplate.aggregate(aggregation, Product.COLLECTION_NAME,\n                Product.class);\n\n        List&lt;Product&gt; products = new ArrayList&lt;&gt;();\n\n        aggregateResults.iterator().forEachRemaining(products::add);\n\n        log.info(&quot;Found products: {}&quot;, products);\n\n        return products;\n    }\n}\n\n@Data\n@Document(Product.COLLECTION_NAME)\n@NoArgsConstructor\n@AllArgsConstructor\nclass Product {\n    static final String COLLECTION_NAME = &quot;product&quot;;\n\n    @Id\n    @Field(&quot;_id&quot;)\n    private String id;\n\n    @Field(&quot;status&quot;)\n    private String status;\n\n    @TextIndexed\n    @Field(&quot;productName&quot;)\n    private String productName;\n\n    @Field(&quot;brandName&quot;)\n    private String brandName;\n\n    @Field(&quot;categoryName&quot;)\n    private String categoryName;\n\n    @Field(&quot;subCategoryName&quot;)\n    private String subCategoryName;\n}\n\n/**\n * https://stackoverflow.com/a/29925876 There is no way to combine\n * CriteriaDefinition and Criteria in one query This hack converts\n * CriteriaDefinition to Query which can be converted to Criteria\n */\nclass TextCriteriaHack extends Query implements CriteriaDefinition {\n    @Override\n    public org.bson.Document getCriteriaObject() {\n        return this.getQueryObject();\n    }\n\n    @Override\n    public String getKey() {\n        return null;\n    }\n}\n</code></pre>\n<p>Here's the query that's being executed by <code>/products</code>, I got it from <code>MongoTemplate</code> logs</p>\n<pre><code>[\n    {\n        &quot;$match&quot;: {\n            &quot;$text&quot;: {\n                &quot;$search&quot;: &quot;name&quot;,\n                &quot;$caseSensitive&quot;: false\n            }\n        }\n    },\n    {\n        &quot;$match&quot;: {\n            &quot;$or&quot;: [\n                {\n                    &quot;brandName&quot;: &quot;BRAND1&quot;\n                },\n                {\n                    &quot;categoryName&quot;: &quot;CATEGORY2&quot;\n                },\n                {\n                    &quot;subCategoryName&quot;: &quot;SUB_CATEGORY3&quot;\n                }\n            ]\n        }\n    },\n    {\n        &quot;$skip&quot;: 0\n    },\n    {\n        &quot;$limit&quot;: 1\n    }\n]\n</code></pre>\n<p>Here's log contents, after a few requests have been fired</p>\n<pre><code>2022-10-06 04:50:01.209  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-10-06 04:50:01.770  INFO 26472 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\n2022-10-06 04:50:01.780  INFO 26472 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 6 ms. Found 0 MongoDB repository interfaces.\n2022-10-06 04:50:02.447  INFO 26472 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-10-06 04:50:02.456  INFO 26472 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-10-06 04:50:02.456  INFO 26472 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\n2022-10-06 04:50:02.531  INFO 26472 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-10-06 04:50:02.531  INFO 26472 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1277 ms\n2022-10-06 04:50:02.679  INFO 26472 --- [           main] org.mongodb.driver.client                : MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync|spring-boot&quot;, &quot;version&quot;: &quot;4.6.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Windows&quot;, &quot;name&quot;: &quot;Windows 10&quot;, &quot;architecture&quot;: &quot;amd64&quot;, &quot;version&quot;: &quot;10.0&quot;}, &quot;platform&quot;: &quot;Java/OpenLogic-OpenJDK/1.8.0-262-b10&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@22bd2039]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}\n2022-10-06 04:50:02.725  INFO 26472 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:121}] to localhost:27017\n2022-10-06 04:50:02.725  INFO 26472 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:122}] to localhost:27017\n2022-10-06 04:50:02.726  INFO 26472 --- [localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=13, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=48972600}\n2022-10-06 04:50:02.922  INFO 26472 --- [           main] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:123}] to localhost:27017\n2022-10-06 04:50:02.933  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : ####### product collection exists: true\n2022-10-06 04:50:02.957 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Executing count: { &quot;brandName&quot; : { &quot;$exists&quot; : true}} in collection: product\n2022-10-06 04:50:02.977 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\n2022-10-06 04:50:02.993  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d4, status=ACTIVE, productName=product name term1, brandName=BRAND1, categoryName=CATEGORY1, subCategoryName=SUB_CATEGORY1)\n2022-10-06 04:50:02.993 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\n2022-10-06 04:50:02.995  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1)\n2022-10-06 04:50:02.995 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\n2022-10-06 04:50:02.996  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d6, status=ACTIVE, productName=product name term3, brandName=BRAND3, categoryName=CATEGORY3, subCategoryName=SUB_CATEGORY1)\n2022-10-06 04:50:02.996 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\n2022-10-06 04:50:02.997  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d7, status=ACTIVE, productName=product name term4, brandName=BRAND4, categoryName=CATEGORY4, subCategoryName=SUB_CATEGORY1)\n2022-10-06 04:50:02.997 DEBUG 26472 --- [           main] o.s.data.mongodb.core.MongoTemplate      : Saving Document containing fields: [status, productName, brandName, categoryName, subCategoryName, _class]\n2022-10-06 04:50:02.998  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Saving sample product to database: Product(id=633e1122297cce382aea07d8, status=ACTIVE, productName=product name term5, brandName=BRAND5, categoryName=CATEGORY5, subCategoryName=SUB_CATEGORY1)\n2022-10-06 04:50:03.310  INFO 26472 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-10-06 04:50:03.318  INFO 26472 --- [           main] c.e.MongoAggregationTestApplication      : Started MongoAggregationTestApplication in 2.446 seconds (JVM running for 2.802)\n2022-10-06 04:50:17.447  INFO 26472 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-10-06 04:50:17.447  INFO 26472 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-10-06 04:50:17.448  INFO 26472 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2022-10-06 04:50:17.511  INFO 26472 --- [nio-8080-exec-1] com.example.ProductController            : Request parameters: productName: product, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 10\n2022-10-06 04:50:17.517 DEBUG 26472 --- [nio-8080-exec-1] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;product&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 10}] in collection product\n2022-10-06 04:50:17.527  INFO 26472 --- [nio-8080-exec-1] com.example.ProductController            : Found products: [Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1), Product(id=633e1122297cce382aea07d4, status=ACTIVE, productName=product name term1, brandName=BRAND1, categoryName=CATEGORY1, subCategoryName=SUB_CATEGORY1)]\n2022-10-06 04:50:23.235  INFO 26472 --- [nio-8080-exec-2] com.example.ProductController            : Request parameters: productName: product, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 1\n2022-10-06 04:50:23.236 DEBUG 26472 --- [nio-8080-exec-2] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;product&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 1}] in collection product\n2022-10-06 04:50:23.238  INFO 26472 --- [nio-8080-exec-2] com.example.ProductController            : Found products: [Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1)]\n2022-10-06 04:50:28.891  INFO 26472 --- [nio-8080-exec-3] com.example.ProductController            : Request parameters: productName: product, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 10\n2022-10-06 04:50:28.892 DEBUG 26472 --- [nio-8080-exec-3] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;product&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 10}] in collection product\n2022-10-06 04:50:28.894  INFO 26472 --- [nio-8080-exec-3] com.example.ProductController            : Found products: [Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1), Product(id=633e1122297cce382aea07d4, status=ACTIVE, productName=product name term1, brandName=BRAND1, categoryName=CATEGORY1, subCategoryName=SUB_CATEGORY1)]\n2022-10-06 04:50:33.354  INFO 26472 --- [nio-8080-exec-4] com.example.ProductController            : Request parameters: productName: term3, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 10\n2022-10-06 04:50:33.355 DEBUG 26472 --- [nio-8080-exec-4] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;term3&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 10}] in collection product\n2022-10-06 04:50:33.356  INFO 26472 --- [nio-8080-exec-4] com.example.ProductController            : Found products: []\n2022-10-06 04:50:36.667  INFO 26472 --- [nio-8080-exec-5] com.example.ProductController            : Request parameters: productName: term2, brandName: BRAND1, categoryName: CATEGORY2, subCategoryName: SUB_CATEGORY3, pageNumber: 0, pageSize: 10\n2022-10-06 04:50:36.667 DEBUG 26472 --- [nio-8080-exec-5] o.s.data.mongodb.core.MongoTemplate      : Executing aggregation: [{ &quot;$match&quot; : { &quot;$text&quot; : { &quot;$search&quot; : &quot;term2&quot;, &quot;$caseSensitive&quot; : false}}}, { &quot;$match&quot; : { &quot;$or&quot; : [{ &quot;brandName&quot; : &quot;BRAND1&quot;}, { &quot;categoryName&quot; : &quot;CATEGORY2&quot;}, { &quot;subCategoryName&quot; : &quot;SUB_CATEGORY3&quot;}]}}, { &quot;$skip&quot; : 0}, { &quot;$limit&quot; : 10}] in collection product\n2022-10-06 04:50:36.669  INFO 26472 --- [nio-8080-exec-5] com.example.ProductController            : Found products: [Product(id=633e1122297cce382aea07d5, status=ACTIVE, productName=product name term2, brandName=BRAND2, categoryName=CATEGORY2, subCategoryName=SUB_CATEGORY1)]\n</code></pre>\n"}],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1996,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73967169,"answer_count":2,"score":4,"last_activity_date":1665030082,"creation_date":1664291071,"question_id":73869815,"body_markdown":"I&#39;m trying to implement a dynamic search for a huge product collection. The object has several properties including `productName`, `subCategoryName`, `categoryName`, `brandName`, etc. The user could search for products using any of these properties. The order is fixed and the first priority for a search string is to find it in `productName` and then `subCategoryName` and so on.\r\n\r\nI used `aggregate` to achieve this and then `unionWith` to concat records that matched with other properties. It seems to work when fired as a raw query but we also need support for pagination and I&#39;m not being able to achieve that with Spring Data MongoDB\r\n```\r\ndb.product.aggregate(\r\n[\r\n&#160; { $match: { &quot;productName&quot; : { &quot;$regex&quot; : &quot;HYPER&quot;, &quot;$options&quot; : &quot;i&quot;}, \r\n&#160; &quot;companyNo&quot; : { &quot;$in&quot; : [10000009]}, &quot;status&quot; : { &quot;$in&quot; : [&quot;ACTIVE&quot;, &quot;IN_ACTIVE&quot;, &quot;OUT_OF_STOCK&quot;]} }},\r\n&#160; { $unionWith: { coll: &quot;product&quot;, pipeline: [{ $match: { &quot;subCategoryName&quot; : { &quot;$regex&quot; : &quot;HYPER&quot;, &quot;$options&quot; : &quot;i&quot;},\r\n&#160; &quot;companyNo&quot; : { &quot;$in&quot; : [10000009]}, &quot;status&quot; : { &quot;$in&quot; : [&quot;ACTIVE&quot;, &quot;IN_ACTIVE&quot;, &quot;OUT_OF_STOCK&quot;]}} }] } },\r\n&#160; { $unionWith: { coll: &quot;product&quot;, pipeline: [{ $match: { &quot;categoryName&quot; : { &quot;$regex&quot; : &quot;HYPER&quot;, &quot;$options&quot; : &quot;i&quot;}, \r\n&#160; &quot;companyNo&quot; : { &quot;$in&quot; : [10000009]}, &quot;status&quot; : { &quot;$in&quot; : [&quot;ACTIVE&quot;, &quot;IN_ACTIVE&quot;, &quot;OUT_OF_STOCK&quot;]}} }] } },\r\n&#160; { $unionWith: { coll: &quot;product&quot;, pipeline: [{ $match: { &quot;brandName&quot; : { &quot;$regex&quot; : &quot;HYPER&quot;, &quot;$options&quot; : &quot;i&quot;},\r\n&#160; &quot;companyNo&quot; : { &quot;$in&quot; : [10000009]}, &quot;status&quot; : { &quot;$in&quot; : [&quot;ACTIVE&quot;, &quot;IN_ACTIVE&quot;, &quot;OUT_OF_STOCK&quot;]}} }] } },\r\n]\r\n)\r\n```\r\nAlso, this query only works if we pass the substring of the exact name. For example, the ***NIVEA BODY LOTION EXPRESS HYDRATION 200 ML HYPERmart*** product will be returned if I search with *NIVEA BODY LOTION* but it won&#39;t return anything if I search with *HYDRATION LOTION*\r\n\r\nA Sample Product:\r\n```\r\n{\r\n    &quot;_id&quot; : ObjectId(&quot;6278c1c2f2570d6f199435b2&quot;),\r\n    &quot;companyNo&quot; : 10000009,\r\n    &quot;categoryName&quot; : &quot;BEAUTY and PERSONAL CARE&quot;,\r\n    &quot;brandName&quot; : &quot;HYPERMART&quot;,\r\n    &quot;productName&quot; : &quot;NIVEA BODY LOTION EXPRESS HYDRATION 200 ML HYPERmart&quot;,\r\n    &quot;productImageUrl&quot; : &quot;https://shop-now-bucket.s3.ap-south-1.amazonaws.com/shop-now-bucket/qa/10000009/product/BEAUTY%20%26%20PERSONAL%20CARE/HYPERMART/NIVEA%20BODY%20LOTION%20EXPRESS%20HYDRATION%20200%20ML/temp1652081080302.jpeg&quot;,\r\n    &quot;compressProductImageUrl&quot; : &quot;https://shop-now-bucket.s3.ap-south-1.amazonaws.com/shop-now-bucket/qa/10000009/product/BEAUTY%20%26%20PERSONAL%20CARE/HYPERMART/NIVEA%20BODY%20LOTION%20EXPRESS%20HYDRATION%20200%20ML/temp1652081080302.jpeg&quot;,\r\n    &quot;productPrice&quot; : 249.0,\r\n    &quot;status&quot; : &quot;ACTIVE&quot;,\r\n    &quot;subCategoryName&quot; : &quot;BODY LOTION &amp; BODY CREAM&quot;,\r\n    &quot;defaultDiscount&quot; : 0.0,\r\n    &quot;discount&quot; : 7.0,\r\n    &quot;description&quot; : &quot;Give your skin fast-absorbing moisturisation and make it noticeably smoother for 48-hours with Nivea Express Hydration Body Lotion. The formula with Sea Minerals and Hydra IQ supplies your skin with moisture all day. The new improved formula contains Deep Moisture Serum to lock in deep moisture leaving you with soft and supple skin.&quot;,\r\n    &quot;afterDiscountPrice&quot; : 231.57,\r\n    &quot;taxPercentage&quot; : 1.0,\r\n    &quot;availableQuantity&quot; : NumberLong(100),\r\n    &quot;packingCharges&quot; : 0.0,\r\n    &quot;available&quot; : true,\r\n    &quot;featureProduct&quot; : false,\r\n    &quot;wholesaleProduct&quot; : false,\r\n    &quot;rewards&quot; : NumberLong(0),\r\n    &quot;createAt&quot; : ISODate(&quot;2022-05-09T07:24:40.286Z&quot;),\r\n    &quot;createdBy&quot; : &quot;companyAdmin_@+919146670758shivani.patni@apptware.com&quot;,\r\n    &quot;isBulkUpload&quot; : true,\r\n    &quot;buyPrice&quot; : 0.0,\r\n    &quot;privateProduct&quot; : false,\r\n    &quot;comboProduct&quot; : false,\r\n    &quot;subscribable&quot; : false,\r\n    &quot;discountAdded&quot; : false,\r\n    &quot;_class&quot; : &quot;com.apptmart.product.entity.Product&quot;\r\n}\r\n```\r\nI&#39;m new to MongoDB. any references will be appretiated.","title":"Spring Data MongoDB | Dynamic Search with Pagination","body":"<p>I'm trying to implement a dynamic search for a huge product collection. The object has several properties including <code>productName</code>, <code>subCategoryName</code>, <code>categoryName</code>, <code>brandName</code>, etc. The user could search for products using any of these properties. The order is fixed and the first priority for a search string is to find it in <code>productName</code> and then <code>subCategoryName</code> and so on.</p>\n<p>I used <code>aggregate</code> to achieve this and then <code>unionWith</code> to concat records that matched with other properties. It seems to work when fired as a raw query but we also need support for pagination and I'm not being able to achieve that with Spring Data MongoDB</p>\n<pre><code>db.product.aggregate(\n[\n  { $match: { &quot;productName&quot; : { &quot;$regex&quot; : &quot;HYPER&quot;, &quot;$options&quot; : &quot;i&quot;}, \n  &quot;companyNo&quot; : { &quot;$in&quot; : [10000009]}, &quot;status&quot; : { &quot;$in&quot; : [&quot;ACTIVE&quot;, &quot;IN_ACTIVE&quot;, &quot;OUT_OF_STOCK&quot;]} }},\n  { $unionWith: { coll: &quot;product&quot;, pipeline: [{ $match: { &quot;subCategoryName&quot; : { &quot;$regex&quot; : &quot;HYPER&quot;, &quot;$options&quot; : &quot;i&quot;},\n  &quot;companyNo&quot; : { &quot;$in&quot; : [10000009]}, &quot;status&quot; : { &quot;$in&quot; : [&quot;ACTIVE&quot;, &quot;IN_ACTIVE&quot;, &quot;OUT_OF_STOCK&quot;]}} }] } },\n  { $unionWith: { coll: &quot;product&quot;, pipeline: [{ $match: { &quot;categoryName&quot; : { &quot;$regex&quot; : &quot;HYPER&quot;, &quot;$options&quot; : &quot;i&quot;}, \n  &quot;companyNo&quot; : { &quot;$in&quot; : [10000009]}, &quot;status&quot; : { &quot;$in&quot; : [&quot;ACTIVE&quot;, &quot;IN_ACTIVE&quot;, &quot;OUT_OF_STOCK&quot;]}} }] } },\n  { $unionWith: { coll: &quot;product&quot;, pipeline: [{ $match: { &quot;brandName&quot; : { &quot;$regex&quot; : &quot;HYPER&quot;, &quot;$options&quot; : &quot;i&quot;},\n  &quot;companyNo&quot; : { &quot;$in&quot; : [10000009]}, &quot;status&quot; : { &quot;$in&quot; : [&quot;ACTIVE&quot;, &quot;IN_ACTIVE&quot;, &quot;OUT_OF_STOCK&quot;]}} }] } },\n]\n)\n</code></pre>\n<p>Also, this query only works if we pass the substring of the exact name. For example, the <em><strong>NIVEA BODY LOTION EXPRESS HYDRATION 200 ML HYPERmart</strong></em> product will be returned if I search with <em>NIVEA BODY LOTION</em> but it won't return anything if I search with <em>HYDRATION LOTION</em></p>\n<p>A Sample Product:</p>\n<pre><code>{\n    &quot;_id&quot; : ObjectId(&quot;6278c1c2f2570d6f199435b2&quot;),\n    &quot;companyNo&quot; : 10000009,\n    &quot;categoryName&quot; : &quot;BEAUTY and PERSONAL CARE&quot;,\n    &quot;brandName&quot; : &quot;HYPERMART&quot;,\n    &quot;productName&quot; : &quot;NIVEA BODY LOTION EXPRESS HYDRATION 200 ML HYPERmart&quot;,\n    &quot;productImageUrl&quot; : &quot;https://shop-now-bucket.s3.ap-south-1.amazonaws.com/shop-now-bucket/qa/10000009/product/BEAUTY%20%26%20PERSONAL%20CARE/HYPERMART/NIVEA%20BODY%20LOTION%20EXPRESS%20HYDRATION%20200%20ML/temp1652081080302.jpeg&quot;,\n    &quot;compressProductImageUrl&quot; : &quot;https://shop-now-bucket.s3.ap-south-1.amazonaws.com/shop-now-bucket/qa/10000009/product/BEAUTY%20%26%20PERSONAL%20CARE/HYPERMART/NIVEA%20BODY%20LOTION%20EXPRESS%20HYDRATION%20200%20ML/temp1652081080302.jpeg&quot;,\n    &quot;productPrice&quot; : 249.0,\n    &quot;status&quot; : &quot;ACTIVE&quot;,\n    &quot;subCategoryName&quot; : &quot;BODY LOTION &amp; BODY CREAM&quot;,\n    &quot;defaultDiscount&quot; : 0.0,\n    &quot;discount&quot; : 7.0,\n    &quot;description&quot; : &quot;Give your skin fast-absorbing moisturisation and make it noticeably smoother for 48-hours with Nivea Express Hydration Body Lotion. The formula with Sea Minerals and Hydra IQ supplies your skin with moisture all day. The new improved formula contains Deep Moisture Serum to lock in deep moisture leaving you with soft and supple skin.&quot;,\n    &quot;afterDiscountPrice&quot; : 231.57,\n    &quot;taxPercentage&quot; : 1.0,\n    &quot;availableQuantity&quot; : NumberLong(100),\n    &quot;packingCharges&quot; : 0.0,\n    &quot;available&quot; : true,\n    &quot;featureProduct&quot; : false,\n    &quot;wholesaleProduct&quot; : false,\n    &quot;rewards&quot; : NumberLong(0),\n    &quot;createAt&quot; : ISODate(&quot;2022-05-09T07:24:40.286Z&quot;),\n    &quot;createdBy&quot; : &quot;companyAdmin_@+919146670758shivani.patni@apptware.com&quot;,\n    &quot;isBulkUpload&quot; : true,\n    &quot;buyPrice&quot; : 0.0,\n    &quot;privateProduct&quot; : false,\n    &quot;comboProduct&quot; : false,\n    &quot;subscribable&quot; : false,\n    &quot;discountAdded&quot; : false,\n    &quot;_class&quot; : &quot;com.apptmart.product.entity.Product&quot;\n}\n</code></pre>\n<p>I'm new to MongoDB. any references will be appretiated.</p>\n"},{"tags":["java","android","api","retrofit"],"comments":[{"owner":{"account_id":5209923,"reputation":579,"user_id":4166687,"accept_rate":60,"display_name":"Stack Man"},"score":6,"creation_date":1413949996,"post_id":26500036,"comment_id":41632355,"body_markdown":"I don&#39;t find enough documentations/tutorials for using Retrofit.","body":"I don&#39;t find enough documentations/tutorials for using Retrofit."},{"owner":{"account_id":2193124,"reputation":122,"user_id":1939598,"accept_rate":100,"display_name":"Rafed Nole"},"score":1,"creation_date":1414314389,"post_id":26500036,"comment_id":41761056,"body_markdown":"Did you get it resolved ?","body":"Did you get it resolved ?"},{"owner":{"account_id":2100504,"reputation":10224,"user_id":1868262,"accept_rate":50,"display_name":"Pankaj Arora"},"score":1,"creation_date":1414415010,"post_id":26500036,"comment_id":41791239,"body_markdown":"better to use volley for fast networking.","body":"better to use volley for fast networking."},{"owner":{"account_id":430748,"reputation":884,"user_id":814353,"display_name":"peitek"},"score":8,"creation_date":1427450667,"post_id":26500036,"comment_id":46791084,"body_markdown":"A little late to the party, but for future searchers: you can find a fairly extensive guide for retrofit [here](http://futurestud.io/blog/retrofit-getting-started-and-android-client/).","body":"A little late to the party, but for future searchers: you can find a fairly extensive guide for retrofit <a href=\"http://futurestud.io/blog/retrofit-getting-started-and-android-client/\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1466241480,"creation_date":1414330894,"answer_id":26573609,"question_id":26500036,"body_markdown":"Found a small, but complete and concise example at\r\nhttps://github.com/square/retrofit/tree/master/samples","title":"Using Retrofit in Android","body":"<p>Found a small, but complete and concise example at\n<a href=\"https://github.com/square/retrofit/tree/master/samples\" rel=\"nofollow\">https://github.com/square/retrofit/tree/master/samples</a></p>\n"},{"tags":[],"owner":{"account_id":1326426,"reputation":4831,"user_id":1271136,"accept_rate":100,"display_name":"Artemis"},"down_vote_count":0,"up_vote_count":101,"is_accepted":true,"score":101,"last_activity_date":1414331054,"creation_date":1414331054,"answer_id":26573636,"question_id":26500036,"body_markdown":"Using Retrofit is quite simple and straightforward. \r\n\r\nFirst of all you need to add retrofit to your project, as example with Gradle build sytem. \r\n\r\n    compile &#39;com.squareup.retrofit:retrofit:1.7.1&#39; |\r\n\r\nanother way you can download .jar and place it to your libs folder. \r\n\r\nThen you need to define interfaces that will be used by Retrofit to make API calls to your REST endpoints. For example for users:  \r\n\r\n    public interface YourUsersApi {\r\n\r\n       //You can use rx.java for sophisticated composition of requests \r\n       @GET(&quot;/users/{user}&quot;)\r\n       public Observable&lt;SomeUserModel&gt; fetchUser(@Path(&quot;user&quot;) String user);\r\n\r\n       //or you can just get your model if you use json api\r\n       @GET(&quot;/users/{user}&quot;)\r\n       public SomeUserModel fetchUser(@Path(&quot;user&quot;) String user);\r\n\r\n       //or if there are some special cases you can process your response manually \r\n       @GET(&quot;/users/{user}&quot;)\r\n       public Response fetchUser(@Path(&quot;user&quot;) String user);\r\n    \r\n    }\r\n\r\nOk. Now you have defined your API interface an you can try to use it. \r\n\r\nTo start you need to create an instance of ***RestAdapter*** and set base url of your API back-end. It&#39;s also quite simple: \r\n\r\n    RestAdapter restAdapter = new RestAdapter.Builder()\r\n       .setEndpoint(&quot;https://yourserveraddress.com&quot;)\r\n        .build();\r\n\r\n    YourUsersApi yourUsersApi = restAdapter.create(YourUsersApi.class);\r\n\r\nHere Retrofit will read your information from interface and under the hood it will create ***RestHandler*** according to meta-info your provided which actually will perform HTTP  requests. \r\n\r\nThen under the hood, once response is received, in case of json api your data will be transformed to your model using Gson library so you should be aware of that fact that limitations that are present in Gson are actually there in Retrofit. \r\n\r\nTo extend/override process of serialisers/deserialisation your response data to your models you might want to provide your custom serialisers/deserialisers to retrofit.\r\n\r\nHere you need to implement Converter interface and implement 2 methods ***fromBody()*** and ***toBody()***.\r\n\r\nHere is example: \r\n\r\n    public class SomeCustomRetrofitConverter implements Converter {\r\n\r\n        private GsonBuilder gb;\r\n\r\n        public SomeCustomRetrofitConverter() {\r\n            gb = new GsonBuilder();\r\n\r\n            //register your cursom custom type serialisers/deserialisers if needed\r\n            gb.registerTypeAdapter(SomeCutsomType.class, new SomeCutsomTypeDeserializer());\r\n        }\r\n\r\n        public static final String ENCODING = &quot;UTF-8&quot;;\r\n\r\n        @Override\r\n        public Object fromBody(TypedInput body, Type type) throws ConversionException {\r\n            String charset = &quot;UTF-8&quot;;\r\n            if (body.mimeType() != null) {\r\n                charset = MimeUtil.parseCharset(body.mimeType());\r\n            }\r\n            InputStreamReader isr = null;\r\n            try {\r\n               isr = new InputStreamReader(body.in(), charset);\r\n               Gson gson = gb.create();\r\n               return gson.fromJson(isr, type);\r\n            } catch (IOException e) {\r\n                throw new ConversionException(e);\r\n            } catch (JsonParseException e) {\r\n                throw new ConversionException(e);\r\n            } finally {\r\n                if (isr != null) {\r\n                       try {\r\n                          isr.close();\r\n                       } catch (IOException ignored) {\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public TypedOutput toBody(Object object) {\r\n            try {\r\n                Gson gson = gb.create();\r\n                return new JsonTypedOutput(gson.toJson(object).getBytes(ENCODING), ENCODING);\r\n            } catch (UnsupportedEncodingException e) {\r\n                throw new AssertionError(e);\r\n            }\r\n         }\r\n\r\n        private static class JsonTypedOutput implements TypedOutput {\r\n            private final byte[] jsonBytes;\r\n            private final String mimeType;\r\n\r\n            JsonTypedOutput(byte[] jsonBytes, String encode) {\r\n                this.jsonBytes = jsonBytes;\r\n                this.mimeType = &quot;application/json; charset=&quot; + encode;\r\n            }\r\n\r\n            @Override\r\n            public String fileName() {\r\n                return null;\r\n            }\r\n\r\n           @Override\r\n           public String mimeType() {\r\n               return mimeType;\r\n           }\r\n\r\n           @Override\r\n           public long length() {\r\n              return jsonBytes.length;\r\n           }\r\n\r\n           @Override\r\n           public void writeTo(OutputStream out) throws IOException {\r\n               out.write(jsonBytes);\r\n           }\r\n        }\r\n     }\r\n\r\nAnd now you need to enable your custom adapters, if it was needed by using ***setConverter()*** on building RestAdapter \r\n\r\nOk. Now you are aware how you can get your data from server to your Android application. But you need somehow mange your data and invoke REST call in right place. \r\nThere I would suggest to use android Service or AsyncTask or loader or rx.java that would query your data on background thread in order to not block your UI. \r\n\r\nSo now you can find the most appropriate place to call  \r\n\r\n    SomeUserModel yourUser = yourUsersApi.fetchUser(&quot;someUsers&quot;)\r\nto fetch your remote data.\r\n  ","title":"Using Retrofit in Android","body":"<p>Using Retrofit is quite simple and straightforward. </p>\n\n<p>First of all you need to add retrofit to your project, as example with Gradle build sytem. </p>\n\n<pre><code>compile 'com.squareup.retrofit:retrofit:1.7.1' |\n</code></pre>\n\n<p>another way you can download .jar and place it to your libs folder. </p>\n\n<p>Then you need to define interfaces that will be used by Retrofit to make API calls to your REST endpoints. For example for users:  </p>\n\n<pre><code>public interface YourUsersApi {\n\n   //You can use rx.java for sophisticated composition of requests \n   @GET(\"/users/{user}\")\n   public Observable&lt;SomeUserModel&gt; fetchUser(@Path(\"user\") String user);\n\n   //or you can just get your model if you use json api\n   @GET(\"/users/{user}\")\n   public SomeUserModel fetchUser(@Path(\"user\") String user);\n\n   //or if there are some special cases you can process your response manually \n   @GET(\"/users/{user}\")\n   public Response fetchUser(@Path(\"user\") String user);\n\n}\n</code></pre>\n\n<p>Ok. Now you have defined your API interface an you can try to use it. </p>\n\n<p>To start you need to create an instance of <strong><em>RestAdapter</em></strong> and set base url of your API back-end. It's also quite simple: </p>\n\n<pre><code>RestAdapter restAdapter = new RestAdapter.Builder()\n   .setEndpoint(\"https://yourserveraddress.com\")\n    .build();\n\nYourUsersApi yourUsersApi = restAdapter.create(YourUsersApi.class);\n</code></pre>\n\n<p>Here Retrofit will read your information from interface and under the hood it will create <strong><em>RestHandler</em></strong> according to meta-info your provided which actually will perform HTTP  requests. </p>\n\n<p>Then under the hood, once response is received, in case of json api your data will be transformed to your model using Gson library so you should be aware of that fact that limitations that are present in Gson are actually there in Retrofit. </p>\n\n<p>To extend/override process of serialisers/deserialisation your response data to your models you might want to provide your custom serialisers/deserialisers to retrofit.</p>\n\n<p>Here you need to implement Converter interface and implement 2 methods <strong><em>fromBody()</em></strong> and <strong><em>toBody()</em></strong>.</p>\n\n<p>Here is example: </p>\n\n<pre><code>public class SomeCustomRetrofitConverter implements Converter {\n\n    private GsonBuilder gb;\n\n    public SomeCustomRetrofitConverter() {\n        gb = new GsonBuilder();\n\n        //register your cursom custom type serialisers/deserialisers if needed\n        gb.registerTypeAdapter(SomeCutsomType.class, new SomeCutsomTypeDeserializer());\n    }\n\n    public static final String ENCODING = \"UTF-8\";\n\n    @Override\n    public Object fromBody(TypedInput body, Type type) throws ConversionException {\n        String charset = \"UTF-8\";\n        if (body.mimeType() != null) {\n            charset = MimeUtil.parseCharset(body.mimeType());\n        }\n        InputStreamReader isr = null;\n        try {\n           isr = new InputStreamReader(body.in(), charset);\n           Gson gson = gb.create();\n           return gson.fromJson(isr, type);\n        } catch (IOException e) {\n            throw new ConversionException(e);\n        } catch (JsonParseException e) {\n            throw new ConversionException(e);\n        } finally {\n            if (isr != null) {\n                   try {\n                      isr.close();\n                   } catch (IOException ignored) {\n                }\n            }\n        }\n    }\n\n    @Override\n    public TypedOutput toBody(Object object) {\n        try {\n            Gson gson = gb.create();\n            return new JsonTypedOutput(gson.toJson(object).getBytes(ENCODING), ENCODING);\n        } catch (UnsupportedEncodingException e) {\n            throw new AssertionError(e);\n        }\n     }\n\n    private static class JsonTypedOutput implements TypedOutput {\n        private final byte[] jsonBytes;\n        private final String mimeType;\n\n        JsonTypedOutput(byte[] jsonBytes, String encode) {\n            this.jsonBytes = jsonBytes;\n            this.mimeType = \"application/json; charset=\" + encode;\n        }\n\n        @Override\n        public String fileName() {\n            return null;\n        }\n\n       @Override\n       public String mimeType() {\n           return mimeType;\n       }\n\n       @Override\n       public long length() {\n          return jsonBytes.length;\n       }\n\n       @Override\n       public void writeTo(OutputStream out) throws IOException {\n           out.write(jsonBytes);\n       }\n    }\n }\n</code></pre>\n\n<p>And now you need to enable your custom adapters, if it was needed by using <strong><em>setConverter()</em></strong> on building RestAdapter </p>\n\n<p>Ok. Now you are aware how you can get your data from server to your Android application. But you need somehow mange your data and invoke REST call in right place. \nThere I would suggest to use android Service or AsyncTask or loader or rx.java that would query your data on background thread in order to not block your UI. </p>\n\n<p>So now you can find the most appropriate place to call  </p>\n\n<pre><code>SomeUserModel yourUser = yourUsersApi.fetchUser(\"someUsers\")\n</code></pre>\n\n<p>to fetch your remote data.</p>\n"},{"tags":[],"owner":{"account_id":3084900,"reputation":16354,"user_id":2612259,"accept_rate":76,"display_name":"nPn"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1414383320,"creation_date":1414383320,"answer_id":26581104,"question_id":26500036,"body_markdown":"Take a look at this , excellent blog on using Retrofit in conjunction with Otto, both libraries are from Square.\r\n\r\nhttp://www.mdswanson.com/blog/2014/04/07/durable-android-rest-clients.html\r\n\r\nThe basic idea is that you will hold a reference to a &quot;repository&quot; object in your Application class.  This object will have methods that &quot;subscribe&quot; to rest api event requests. When one is received it will make the proper Retrofit call, and then &quot;post&quot; the response, which can then be  &quot;subscribed&quot; to by another component (such as the activity that made the request).\r\n\r\nOnce you have this all setup properly,  accessing data via your rest api becomes very easy.  For example, making are request for data would look something like this :\r\n\r\n\t\tmBus.post(new GetMicropostsRequest(mUserId));\r\n\r\nand consuming the data would look something like this:\r\n\r\n\t@Subscribe\r\n\tpublic void onGetUserProfileResponse(GetUserProfileResponse event) {\r\n\t\tmView.setUserIcon(&quot;http://www.gravatar.com/avatar/&quot; + event.getGravatar_id());\r\n\t\tmView.setUserName(event.getName());\r\n\r\n\t}\r\n\r\nIt takes a little bit of upfront effort, but in the end it becomes &quot;trivial&quot; to access anything you need from our backend via Rest.","title":"Using Retrofit in Android","body":"<p>Take a look at this , excellent blog on using Retrofit in conjunction with Otto, both libraries are from Square.</p>\n\n<p><a href=\"http://www.mdswanson.com/blog/2014/04/07/durable-android-rest-clients.html\" rel=\"nofollow\">http://www.mdswanson.com/blog/2014/04/07/durable-android-rest-clients.html</a></p>\n\n<p>The basic idea is that you will hold a reference to a \"repository\" object in your Application class.  This object will have methods that \"subscribe\" to rest api event requests. When one is received it will make the proper Retrofit call, and then \"post\" the response, which can then be  \"subscribed\" to by another component (such as the activity that made the request).</p>\n\n<p>Once you have this all setup properly,  accessing data via your rest api becomes very easy.  For example, making are request for data would look something like this :</p>\n\n<pre><code>    mBus.post(new GetMicropostsRequest(mUserId));\n</code></pre>\n\n<p>and consuming the data would look something like this:</p>\n\n<pre><code>@Subscribe\npublic void onGetUserProfileResponse(GetUserProfileResponse event) {\n    mView.setUserIcon(\"http://www.gravatar.com/avatar/\" + event.getGravatar_id());\n    mView.setUserName(event.getName());\n\n}\n</code></pre>\n\n<p>It takes a little bit of upfront effort, but in the end it becomes \"trivial\" to access anything you need from our backend via Rest.</p>\n"},{"tags":[],"owner":{"account_id":140142,"reputation":7582,"user_id":346232,"accept_rate":60,"display_name":"Ben Pearson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466243282,"creation_date":1414509533,"answer_id":26611983,"question_id":26500036,"body_markdown":"Firstly, putting everything in MainActivity would be bad practice and you would end up with a [God object][1].\r\n\r\nThe documentation on the [Retrofit site][2] is fantastic, so I&#39;m going to read your question on how to structure the project. I wrote a very small app for demonstration purposes. It loads cats from the cat API and should be fairly simple to follow what is happening.\r\n\r\nIt has an example of using JSON or XML for the parsing of data from the service. You can find it at https://github.com/codepath/android_guides/wiki/Consuming-APIs-with-Retrofit\r\n\r\nHopefully you can extrapolate why I have structured it the way I have. I&#39;m happy to answer any questions you have in the comments and update the answer.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/God_object\r\n  [2]: http://square.github.io/retrofit/","title":"Using Retrofit in Android","body":"<p>Firstly, putting everything in MainActivity would be bad practice and you would end up with a <a href=\"http://en.wikipedia.org/wiki/God_object\" rel=\"nofollow\">God object</a>.</p>\n\n<p>The documentation on the <a href=\"http://square.github.io/retrofit/\" rel=\"nofollow\">Retrofit site</a> is fantastic, so I'm going to read your question on how to structure the project. I wrote a very small app for demonstration purposes. It loads cats from the cat API and should be fairly simple to follow what is happening.</p>\n\n<p>It has an example of using JSON or XML for the parsing of data from the service. You can find it at <a href=\"https://github.com/codepath/android_guides/wiki/Consuming-APIs-with-Retrofit\" rel=\"nofollow\">https://github.com/codepath/android_guides/wiki/Consuming-APIs-with-Retrofit</a></p>\n\n<p>Hopefully you can extrapolate why I have structured it the way I have. I'm happy to answer any questions you have in the comments and update the answer.</p>\n"},{"tags":[],"owner":{"account_id":3749,"reputation":7592,"user_id":5446,"accept_rate":88,"display_name":"Sean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414685702,"creation_date":1414685702,"answer_id":26658073,"question_id":26500036,"body_markdown":"Checkout this app that demonstrates Retrofit integration to Google Tasks API.\r\n\r\nhttps://github.com/sschendel/SyncManagerAndroid-DemoGoogleTasks\r\n\r\nThere are examples of Retrofit api (TaskApi) used within Activity AsyncTask in MainActivity, as well as examples of use within Sync Adapter in background service.\r\n\r\nThe strategy from the article posted in @nPn&#39;s answer is probably a more elegant solution, but you can at least look at another working example.","title":"Using Retrofit in Android","body":"<p>Checkout this app that demonstrates Retrofit integration to Google Tasks API.</p>\n\n<p><a href=\"https://github.com/sschendel/SyncManagerAndroid-DemoGoogleTasks\" rel=\"nofollow\">https://github.com/sschendel/SyncManagerAndroid-DemoGoogleTasks</a></p>\n\n<p>There are examples of Retrofit api (TaskApi) used within Activity AsyncTask in MainActivity, as well as examples of use within Sync Adapter in background service.</p>\n\n<p>The strategy from the article posted in @nPn's answer is probably a more elegant solution, but you can at least look at another working example.</p>\n"},{"tags":[],"owner":{"account_id":3795203,"reputation":1302,"user_id":3150510,"accept_rate":50,"display_name":"chkm8"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1414724851,"creation_date":1414724851,"answer_id":26666965,"question_id":26500036,"body_markdown":"I have just used retrofit for a couple of weeks and at first I found it hard to use in my application. I would like to share to you the easiest way to use retrofit in you application. And then later on if you already have a good grasp in retrofit you can enhance your codes(separating your ui from api and use callbacks) and maybe get some techniques from the post above.\r\n\r\nIn your app you have Login,Activity for list of task,and activity to view detailed task.\r\n\r\nFirst thing is you need to add retrofit in your app and theres 2 ways, follow @artemis post above.\r\n\r\nRetrofit uses interface as your API. So, create an interface class.\r\n\r\n    public interface MyApi{\r\n\r\n\t/*LOGIN*/\r\n    @GET(&quot;/api_reciever/login&quot;) //your login function in your api\r\n    public void login(@Query(&quot;username&quot;) String username,@Query(&quot;password&quot;) String password,Callback&lt;String&gt; calback); //this is for your login, and you can used String as response or you can use a POJO, retrofit is very rubust to convert JSON to POJO\r\n\r\n    /*GET LIST*/\r\n    @GET(&quot;/api_reciever/getlist&quot;) //a function in your api to get all the list\r\n    public void getTaskList(@Query(&quot;user_uuid&quot;) String user_uuid,Callback&lt;ArrayList&lt;Task&gt;&gt; callback); //this is an example of response POJO - make sure your variable name is the same with your json tagging\r\n\r\n    /*GET LIST*/\r\n    @GET(&quot;/api_reciever/getlistdetails&quot;) //a function in your api to get all the list\r\n    public void getTaskDetail(@Query(&quot;task_uuid&quot;) String task_uuid,Callback&lt;Task&gt; callback);   //this is an example of response POJO - make sure your variable name is the same with your json tagging\r\n\r\n    }\r\n\r\nCreate another interface class to hold all your BASE ADDRESS of your api\r\n\r\n    public interface Constants{\r\n\t   public String URL = &quot;www.yoururl.com&quot;\r\n    }\r\n\r\n\r\nIn your Login activity create a method to handle the retrofit\r\n\r\n    private void myLogin(String username,String password){\r\n\r\n\tRestAdapter restAdapter = new RestAdapter.Builder()\r\n   \t\t.setEndpoint(Constants.URL)  //call your base url\r\n    \t.build();\r\n\r\n\r\n    MyApi mylogin = restAdapter.create(MyApi.class); //this is how retrofit create your api\r\n    mylogin.login(username,password,new Callback&lt;String&gt;() {\r\n            @Override\r\n            public void success(String s, Response response) {\r\n                //process your response if login successfull you can call Intent and launch your main activity\r\n\r\n            }\r\n\r\n            @Override\r\n            public void failure(RetrofitError retrofitError) {\r\n                retrofitError.printStackTrace(); //to see if you have errors\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nIn your MainActivityList\r\n\r\n    private void myList(String user_uuid){\r\n\r\n\tRestAdapter restAdapter = new RestAdapter.Builder()\r\n   \t\t.setEndpoint(Constants.URL)  //call your base url\r\n    \t.build();\r\n\r\n\r\n    MyApi mytask = restAdapter.create(MyApi.class); //this is how retrofit create your api\r\n    mytask.getTaskDetail(user_uuid,new Callback&lt;Task&gt;&gt;() {\r\n            @Override\r\n            public void success(ArrayList&lt;Task&gt; list, Response response) {\r\n                //process your response if successful load the list in your listview adapter\r\n\r\n            }\r\n\r\n            @Override\r\n            public void failure(RetrofitError retrofitError) {\r\n                retrofitError.printStackTrace(); //to see if you have errors\r\n            }\r\n        });\r\n    }\r\n\r\nIn your Detailed List\r\n\r\n    private void myDetailed(String task_uuid){\r\n\r\n\tRestAdapter restAdapter = new RestAdapter.Builder()\r\n   \t\t.setEndpoint(Constants.URL)  //call your base url\r\n    \t.build();\r\n\r\n\r\n    MyApi mytask = restAdapter.create(MyApi.class); //this is how retrofit create your api\r\n    mytask.getTaskList(task_uuid,new Callback&lt;Task&gt;() {\r\n            @Override\r\n            public void success(Task task, Response response) {\r\n                //process your response if successful do what you want in your task\r\n\r\n            }\r\n\r\n            @Override\r\n            public void failure(RetrofitError retrofitError) {\r\n                retrofitError.printStackTrace(); //to see if you have errors\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nHope this would help you though its really the simplest way to use retrofit. \r\n\r\n\r\n\r\n","title":"Using Retrofit in Android","body":"<p>I have just used retrofit for a couple of weeks and at first I found it hard to use in my application. I would like to share to you the easiest way to use retrofit in you application. And then later on if you already have a good grasp in retrofit you can enhance your codes(separating your ui from api and use callbacks) and maybe get some techniques from the post above.</p>\n\n<p>In your app you have Login,Activity for list of task,and activity to view detailed task.</p>\n\n<p>First thing is you need to add retrofit in your app and theres 2 ways, follow @artemis post above.</p>\n\n<p>Retrofit uses interface as your API. So, create an interface class.</p>\n\n<pre><code>public interface MyApi{\n\n/*LOGIN*/\n@GET(\"/api_reciever/login\") //your login function in your api\npublic void login(@Query(\"username\") String username,@Query(\"password\") String password,Callback&lt;String&gt; calback); //this is for your login, and you can used String as response or you can use a POJO, retrofit is very rubust to convert JSON to POJO\n\n/*GET LIST*/\n@GET(\"/api_reciever/getlist\") //a function in your api to get all the list\npublic void getTaskList(@Query(\"user_uuid\") String user_uuid,Callback&lt;ArrayList&lt;Task&gt;&gt; callback); //this is an example of response POJO - make sure your variable name is the same with your json tagging\n\n/*GET LIST*/\n@GET(\"/api_reciever/getlistdetails\") //a function in your api to get all the list\npublic void getTaskDetail(@Query(\"task_uuid\") String task_uuid,Callback&lt;Task&gt; callback);   //this is an example of response POJO - make sure your variable name is the same with your json tagging\n\n}\n</code></pre>\n\n<p>Create another interface class to hold all your BASE ADDRESS of your api</p>\n\n<pre><code>public interface Constants{\n   public String URL = \"www.yoururl.com\"\n}\n</code></pre>\n\n<p>In your Login activity create a method to handle the retrofit</p>\n\n<pre><code>private void myLogin(String username,String password){\n\nRestAdapter restAdapter = new RestAdapter.Builder()\n    .setEndpoint(Constants.URL)  //call your base url\n    .build();\n\n\nMyApi mylogin = restAdapter.create(MyApi.class); //this is how retrofit create your api\nmylogin.login(username,password,new Callback&lt;String&gt;() {\n        @Override\n        public void success(String s, Response response) {\n            //process your response if login successfull you can call Intent and launch your main activity\n\n        }\n\n        @Override\n        public void failure(RetrofitError retrofitError) {\n            retrofitError.printStackTrace(); //to see if you have errors\n        }\n    });\n}\n</code></pre>\n\n<p>In your MainActivityList</p>\n\n<pre><code>private void myList(String user_uuid){\n\nRestAdapter restAdapter = new RestAdapter.Builder()\n    .setEndpoint(Constants.URL)  //call your base url\n    .build();\n\n\nMyApi mytask = restAdapter.create(MyApi.class); //this is how retrofit create your api\nmytask.getTaskDetail(user_uuid,new Callback&lt;Task&gt;&gt;() {\n        @Override\n        public void success(ArrayList&lt;Task&gt; list, Response response) {\n            //process your response if successful load the list in your listview adapter\n\n        }\n\n        @Override\n        public void failure(RetrofitError retrofitError) {\n            retrofitError.printStackTrace(); //to see if you have errors\n        }\n    });\n}\n</code></pre>\n\n<p>In your Detailed List</p>\n\n<pre><code>private void myDetailed(String task_uuid){\n\nRestAdapter restAdapter = new RestAdapter.Builder()\n    .setEndpoint(Constants.URL)  //call your base url\n    .build();\n\n\nMyApi mytask = restAdapter.create(MyApi.class); //this is how retrofit create your api\nmytask.getTaskList(task_uuid,new Callback&lt;Task&gt;() {\n        @Override\n        public void success(Task task, Response response) {\n            //process your response if successful do what you want in your task\n\n        }\n\n        @Override\n        public void failure(RetrofitError retrofitError) {\n            retrofitError.printStackTrace(); //to see if you have errors\n        }\n    });\n}\n</code></pre>\n\n<p>Hope this would help you though its really the simplest way to use retrofit. </p>\n"},{"tags":[],"owner":{"account_id":3028959,"reputation":545,"user_id":2568378,"display_name":"mr. Nutscracker"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1414783627,"creation_date":1414783627,"answer_id":26682054,"question_id":26500036,"body_markdown":"You may try saving references to your api inside your application class. Then you can get it&#39;s instance from any activity or fragment and get api from there. That sounds a little weird, but it may be a simple DI alternative. And if you will only store references in your app class, it won&#39;t be a kind of god object\r\n\r\nUPD: http://square.github.io/retrofit/ - here is some documentation, it might be useful","title":"Using Retrofit in Android","body":"<p>You may try saving references to your api inside your application class. Then you can get it's instance from any activity or fragment and get api from there. That sounds a little weird, but it may be a simple DI alternative. And if you will only store references in your app class, it won't be a kind of god object</p>\n\n<p>UPD: <a href=\"http://square.github.io/retrofit/\" rel=\"nofollow\">http://square.github.io/retrofit/</a> - here is some documentation, it might be useful</p>\n"},{"tags":[],"owner":{"account_id":4842194,"reputation":1936,"user_id":4647343,"accept_rate":33,"display_name":"kundan roy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1445352867,"creation_date":1445352867,"answer_id":33239974,"question_id":26500036,"body_markdown":"Using RetroFit is very easy. \r\n\r\n - Add dependecy in build.gradle. \r\n \r\n\r\n            compile &#39;com.squareup.retrofit:retrofit:1.9.0&#39;\r\n\r\n            compile &#39;com.squareup.okhttp:okhttp:2.4.0&#39; \r\n\r\n\r\n - Make an Interface for all http methods.\r\n\r\n   \r\n\r\n - Copy your json output and create pojo class to recieve json of your  \r\n   response, you can make pojo from [JsonSchema2pojo ][1]  site .\r\n - make an adapter and call your method\r\n\r\n for complete demo try this tutorial [Retrofit Android example][2]\r\n\r\n\r\n  [1]: http://www.jsonschema2pojo.org/\r\n  [2]: http://www.androidwarriors.com/2015/08/retrofit-android-example-web-services.html","title":"Using Retrofit in Android","body":"<p>Using RetroFit is very easy. </p>\n\n<ul>\n<li><p>Add dependecy in build.gradle. </p>\n\n<pre><code>    compile 'com.squareup.retrofit:retrofit:1.9.0'\n\n    compile 'com.squareup.okhttp:okhttp:2.4.0' \n</code></pre></li>\n<li><p>Make an Interface for all http methods.</p></li>\n<li><p>Copy your json output and create pojo class to recieve json of your<br>\nresponse, you can make pojo from <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow\">JsonSchema2pojo </a>  site .</p></li>\n<li><p>make an adapter and call your method</p>\n\n<p>for complete demo try this tutorial <a href=\"http://www.androidwarriors.com/2015/08/retrofit-android-example-web-services.html\" rel=\"nofollow\">Retrofit Android example</a></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4275999,"reputation":34098,"user_id":3496570,"accept_rate":39,"display_name":"Zar E Ahmer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473332024,"creation_date":1473321946,"answer_id":39385674,"question_id":26500036,"body_markdown":"I find these tutorials [AndroidHive][1] , [CodePath][2] helpful\r\n\r\nI will briefly describe what I have learned.\r\n\r\n**Step 1 :** Add these three `dependencies to build.gradle` and Add `Internet permission` to `Manifest`\r\n\r\n    compile &#39;com.google.code.gson:gson:2.6.2&#39; // for string to class conversion. Not Compulsory\r\n    compile &#39;com.squareup.retrofit2:retrofit:2.1.0&#39;// compulsory\r\n    compile &#39;com.squareup.retrofit2:converter-gson:2.1.0&#39; //for retrofit conversion\r\n\r\nAdd them in Manifest\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n**Step 2**\r\nCreae ApiClient and ApiInterface.\r\n\r\n    public class ApiClient {\r\n    \r\n        public static final String BASE_URL = &quot;http://yourwebsite/services/&quot;;\r\n        private static Retrofit retrofit = null;\r\n        \r\n        public static Retrofit getClient() {\r\n            if (retrofit==null) {\r\n                retrofit = new Retrofit.Builder()\r\n                        .baseUrl(BASE_URL)\r\n                        .addConverterFactory(GsonConverterFactory.create())\r\n                        .build();\r\n            }\r\n            return retrofit;\r\n        }\r\n    }\r\nwhere ApiInterface.class\r\n\r\n    public interface ApiInterface {\r\n    \r\n        // getting same data in three different ways.\r\n        @GET(&quot;GetCompanyDetailByID&quot;)\r\n        Call&lt;CompanyResponse&gt; getDetailOfComapanies(@Query(&quot;CompanyID&quot;) int companyID);\r\n    \r\n    \r\n        @GET(&quot;GetCompanyDetailByID&quot;)\r\n        Call&lt;ResponseBody&gt; getRawDetailOfCompanies(@Query(&quot;CompanyID&quot;) int companyID);\r\n    \r\n        @GET(&quot;{pathToAdd}&quot;)\r\n        Call&lt;CompanyResponse&gt; getDetailOfComapaniesWithPath(@Path(&quot;pathToAdd&quot;) String pathToAppend, @Query(&quot;CompanyID&quot;) int companyID);\r\n    }\r\n\r\nAnd call this service like\r\n\r\n    ApiInterface apiService =\r\n                    ApiClient.getClient().create(ApiInterface.class);\r\n    \r\n            Call&lt;CompanyResponse&gt; companyResponseCall = apiService.getDetailOfComapanies(2);\r\n            //Call&lt;CompanyResponse&gt; companyResponseCall = apiService.getDetailOfComapaniesWithPath(&quot;GetCompanyDetailByID&quot;,2);\r\n    \r\n            companyResponseCall.enqueue(new Callback&lt;CompanyResponse&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;CompanyResponse&gt; call, Response&lt;CompanyResponse&gt; response) {\r\n                    CompanyResponse comapnyResponse = response.body();\r\n                    Boolean status  = comapnyResponse.getStatus();\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;CompanyResponse&gt; call, Throwable t) {\r\n                }\r\n            });\r\n\r\n\r\n**For Getting Raw Json String** \r\n\r\n    Call&lt;ResponseBody&gt; call = apiService.getRawDetailOfCompanies(2);\r\n            call.enqueue(new Callback&lt;ResponseBody&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\r\n                        String jsonStr = response.body().string();\r\n                        if(!jsonStr.isEmpty()){\r\n                            Gson gson = new Gson();\r\n    \r\n                            JSONObject jObject = new JSONObject(jsonStr).getJSONObject(&quot;data&quot;);\r\n    \r\n    \t\t\t\t\t\t//1st Method\r\n                            Data dataKiType = gson.fromJson(jObject.toString(), Data.class);\r\n                            dataKiType.getCompanyDetail();\r\n    \r\n                            //2nd method for creaing class or List at runTime\r\n                            Type listType = new TypeToken&lt;Data&gt;(){}.getType();\r\n                            Data yourClassList = new Gson().fromJson(jObject.toString(), listType);\r\n                            yourClassList.getCompanyDetail();\r\n                        }  e.printStackTrace();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n                }\r\n            });\r\n\r\n&gt;You can create your business object using http://www.jsonschema2pojo.org/ by simply pasting json. and selecting source type to JSON and Annotation Style to GSon\r\n\r\n  [1]: http://www.androidhive.info/2016/05/android-working-with-retrofit-http-library/\r\n  [2]: https://github.com/codepath/android_guides/wiki/Consuming-APIs-with-Retrofit","title":"Using Retrofit in Android","body":"<p>I find these tutorials <a href=\"http://www.androidhive.info/2016/05/android-working-with-retrofit-http-library/\" rel=\"nofollow\">AndroidHive</a> , <a href=\"https://github.com/codepath/android_guides/wiki/Consuming-APIs-with-Retrofit\" rel=\"nofollow\">CodePath</a> helpful</p>\n\n<p>I will briefly describe what I have learned.</p>\n\n<p><strong>Step 1 :</strong> Add these three <code>dependencies to build.gradle</code> and Add <code>Internet permission</code> to <code>Manifest</code></p>\n\n<pre><code>compile 'com.google.code.gson:gson:2.6.2' // for string to class conversion. Not Compulsory\ncompile 'com.squareup.retrofit2:retrofit:2.1.0'// compulsory\ncompile 'com.squareup.retrofit2:converter-gson:2.1.0' //for retrofit conversion\n</code></pre>\n\n<p>Add them in Manifest</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n</code></pre>\n\n<p><strong>Step 2</strong>\nCreae ApiClient and ApiInterface.</p>\n\n<pre><code>public class ApiClient {\n\n    public static final String BASE_URL = \"http://yourwebsite/services/\";\n    private static Retrofit retrofit = null;\n\n    public static Retrofit getClient() {\n        if (retrofit==null) {\n            retrofit = new Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build();\n        }\n        return retrofit;\n    }\n}\n</code></pre>\n\n<p>where ApiInterface.class</p>\n\n<pre><code>public interface ApiInterface {\n\n    // getting same data in three different ways.\n    @GET(\"GetCompanyDetailByID\")\n    Call&lt;CompanyResponse&gt; getDetailOfComapanies(@Query(\"CompanyID\") int companyID);\n\n\n    @GET(\"GetCompanyDetailByID\")\n    Call&lt;ResponseBody&gt; getRawDetailOfCompanies(@Query(\"CompanyID\") int companyID);\n\n    @GET(\"{pathToAdd}\")\n    Call&lt;CompanyResponse&gt; getDetailOfComapaniesWithPath(@Path(\"pathToAdd\") String pathToAppend, @Query(\"CompanyID\") int companyID);\n}\n</code></pre>\n\n<p>And call this service like</p>\n\n<pre><code>ApiInterface apiService =\n                ApiClient.getClient().create(ApiInterface.class);\n\n        Call&lt;CompanyResponse&gt; companyResponseCall = apiService.getDetailOfComapanies(2);\n        //Call&lt;CompanyResponse&gt; companyResponseCall = apiService.getDetailOfComapaniesWithPath(\"GetCompanyDetailByID\",2);\n\n        companyResponseCall.enqueue(new Callback&lt;CompanyResponse&gt;() {\n            @Override\n            public void onResponse(Call&lt;CompanyResponse&gt; call, Response&lt;CompanyResponse&gt; response) {\n                CompanyResponse comapnyResponse = response.body();\n                Boolean status  = comapnyResponse.getStatus();\n            }\n\n            @Override\n            public void onFailure(Call&lt;CompanyResponse&gt; call, Throwable t) {\n            }\n        });\n</code></pre>\n\n<p><strong>For Getting Raw Json String</strong> </p>\n\n<pre><code>Call&lt;ResponseBody&gt; call = apiService.getRawDetailOfCompanies(2);\n        call.enqueue(new Callback&lt;ResponseBody&gt;() {\n            @Override\n            public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\n                    String jsonStr = response.body().string();\n                    if(!jsonStr.isEmpty()){\n                        Gson gson = new Gson();\n\n                        JSONObject jObject = new JSONObject(jsonStr).getJSONObject(\"data\");\n\n                        //1st Method\n                        Data dataKiType = gson.fromJson(jObject.toString(), Data.class);\n                        dataKiType.getCompanyDetail();\n\n                        //2nd method for creaing class or List at runTime\n                        Type listType = new TypeToken&lt;Data&gt;(){}.getType();\n                        Data yourClassList = new Gson().fromJson(jObject.toString(), listType);\n                        yourClassList.getCompanyDetail();\n                    }  e.printStackTrace();\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\n            }\n        });\n</code></pre>\n\n<blockquote>\n  <p>You can create your business object using <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow\">http://www.jsonschema2pojo.org/</a> by simply pasting json. and selecting source type to JSON and Annotation Style to GSon</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3264477,"reputation":857,"user_id":2749218,"accept_rate":67,"display_name":"Madhav Bhattarai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490775875,"creation_date":1490775875,"answer_id":43088178,"question_id":26500036,"body_markdown":"Beginners find it little intimidating to learn retrofit. I have prepared a tutorial which will simplify the learning curve. See [Retrofit android tutorial][1] for more information.\r\n\r\n\r\n  [1]: http://learnzone.info/retrofit-android-tutorial/","title":"Using Retrofit in Android","body":"<p>Beginners find it little intimidating to learn retrofit. I have prepared a tutorial which will simplify the learning curve. See <a href=\"http://learnzone.info/retrofit-android-tutorial/\" rel=\"nofollow noreferrer\">Retrofit android tutorial</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500367087,"creation_date":1500367087,"answer_id":45161592,"question_id":26500036,"body_markdown":"**Its Working**\r\n\r\n[![enter image description here][1]][1]\r\n    package com.keshav.gmailretrofitexampleworking.network;\r\n    \r\n    import retrofit2.Retrofit;\r\n    import retrofit2.converter.gson.GsonConverterFactory;\r\n    \r\n    public class ApiClient {\r\n        public static final String BASE_URL = &quot;http://api.androidhive.info/json/&quot;;\r\n        private static Retrofit retrofit = null;\r\n        \r\n        public static Retrofit getClient() {\r\n            if (retrofit == null) {\r\n                retrofit = new Retrofit.Builder()\r\n                        .baseUrl(BASE_URL)\r\n                        .addConverterFactory(GsonConverterFactory.create())\r\n                        .build();\r\n            }\r\n            return retrofit;\r\n        }\r\n    }\r\n    ==============================================\r\n    package com.keshav.gmailretrofitexampleworking.network;\r\n    \r\n    import com.keshav.gmailretrofitexampleworking.models.Message;\r\n    \r\n    import java.util.List;\r\n    \r\n    import retrofit2.Call;\r\n    import retrofit2.http.GET;\r\n    \r\n    public interface ApiInterface {\r\n        @GET(&quot;inbox.json&quot;)\r\n        Call&lt;List&lt;Message&gt;&gt; getInbox();\r\n    }\r\n\r\n compile &#39;com.google.code.gson:gson:2.6.2&#39;\r\n\r\n    compile &#39;com.squareup.retrofit2:retrofit:2.0.2&#39;\r\n\r\n    compile &#39;com.squareup.retrofit2:converter-gson:2.0.2&#39;\r\n\r\n\r\n=====================================================\r\n       Call Retrofit 2 APi inside onCreate \r\n=====================================================\r\n\r\n    private void getInbox() {\r\n        swipeRefreshLayout.setRefreshing(true);\r\n\r\n        ApiInterface apiService =\r\n                ApiClient.getClient().create(ApiInterface.class);\r\n\r\n        Call&lt;List&lt;Message&gt;&gt; call = apiService.getInbox();\r\n        call.enqueue(new Callback&lt;List&lt;Message&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;List&lt;Message&gt;&gt; call, Response&lt;List&lt;Message&gt;&gt; response) {\r\n                // clear the inbox\r\n                messages.clear();\r\n\r\n                // add all the messages\r\n                // messages.addAll(response.body());\r\n\r\n                // TODO - avoid looping\r\n                // the loop was performed to add colors to each message\r\n\r\n                Log.e(&quot;keshav&quot;,&quot;response&quot; +response.body());\r\n\r\n                for (Message message : response.body()) {\r\n                    // generate a random color\r\n\r\n                    // TODO keshav Generate Random Color Here\r\n                    message.setColor(getRandomMaterialColor(&quot;400&quot;));\r\n                    messages.add(message);\r\n                }\r\n\r\n                mAdapter.notifyDataSetChanged();\r\n                swipeRefreshLayout.setRefreshing(false);\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;List&lt;Message&gt;&gt; call, Throwable t) {\r\n                Toast.makeText(getApplicationContext(), &quot;Unable to fetch json: &quot; + t.getMessage(), Toast.LENGTH_LONG).show();\r\n                swipeRefreshLayout.setRefreshing(false);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nSource Code \r\nhttps://drive.google.com/open?id=0BzBKpZ4nzNzUVFRnVVkzc0JabUU\r\n\r\nhttps://drive.google.com/open?id=0BzBKpZ4nzNzUc2FBdW00WkRfWW8\r\n\r\n  [1]: https://i.stack.imgur.com/ipgeT.png","title":"Using Retrofit in Android","body":"<p><strong>Its Working</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/ipgeT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ipgeT.png\" alt=\"enter image description here\"></a>\n    package com.keshav.gmailretrofitexampleworking.network;</p>\n\n<pre><code>import retrofit2.Retrofit;\nimport retrofit2.converter.gson.GsonConverterFactory;\n\npublic class ApiClient {\n    public static final String BASE_URL = \"http://api.androidhive.info/json/\";\n    private static Retrofit retrofit = null;\n\n    public static Retrofit getClient() {\n        if (retrofit == null) {\n            retrofit = new Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build();\n        }\n        return retrofit;\n    }\n}\n==============================================\npackage com.keshav.gmailretrofitexampleworking.network;\n\nimport com.keshav.gmailretrofitexampleworking.models.Message;\n\nimport java.util.List;\n\nimport retrofit2.Call;\nimport retrofit2.http.GET;\n\npublic interface ApiInterface {\n    @GET(\"inbox.json\")\n    Call&lt;List&lt;Message&gt;&gt; getInbox();\n}\n</code></pre>\n\n<p>compile 'com.google.code.gson:gson:2.6.2'</p>\n\n<pre><code>compile 'com.squareup.retrofit2:retrofit:2.0.2'\n\ncompile 'com.squareup.retrofit2:converter-gson:2.0.2'\n</code></pre>\n\n<p>=====================================================</p>\n\n<h1>       Call Retrofit 2 APi inside onCreate</h1>\n\n<pre><code>private void getInbox() {\n    swipeRefreshLayout.setRefreshing(true);\n\n    ApiInterface apiService =\n            ApiClient.getClient().create(ApiInterface.class);\n\n    Call&lt;List&lt;Message&gt;&gt; call = apiService.getInbox();\n    call.enqueue(new Callback&lt;List&lt;Message&gt;&gt;() {\n        @Override\n        public void onResponse(Call&lt;List&lt;Message&gt;&gt; call, Response&lt;List&lt;Message&gt;&gt; response) {\n            // clear the inbox\n            messages.clear();\n\n            // add all the messages\n            // messages.addAll(response.body());\n\n            // TODO - avoid looping\n            // the loop was performed to add colors to each message\n\n            Log.e(\"keshav\",\"response\" +response.body());\n\n            for (Message message : response.body()) {\n                // generate a random color\n\n                // TODO keshav Generate Random Color Here\n                message.setColor(getRandomMaterialColor(\"400\"));\n                messages.add(message);\n            }\n\n            mAdapter.notifyDataSetChanged();\n            swipeRefreshLayout.setRefreshing(false);\n        }\n\n        @Override\n        public void onFailure(Call&lt;List&lt;Message&gt;&gt; call, Throwable t) {\n            Toast.makeText(getApplicationContext(), \"Unable to fetch json: \" + t.getMessage(), Toast.LENGTH_LONG).show();\n            swipeRefreshLayout.setRefreshing(false);\n        }\n    });\n}\n</code></pre>\n\n<p>Source Code \n<a href=\"https://drive.google.com/open?id=0BzBKpZ4nzNzUVFRnVVkzc0JabUU\" rel=\"nofollow noreferrer\">https://drive.google.com/open?id=0BzBKpZ4nzNzUVFRnVVkzc0JabUU</a></p>\n\n<p><a href=\"https://drive.google.com/open?id=0BzBKpZ4nzNzUc2FBdW00WkRfWW8\" rel=\"nofollow noreferrer\">https://drive.google.com/open?id=0BzBKpZ4nzNzUc2FBdW00WkRfWW8</a></p>\n"},{"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500547428,"creation_date":1500547428,"answer_id":45212463,"question_id":26500036,"body_markdown":"**Developing your own type-safe HTTP library to interface with a REST API can be a real pain: you have to handle many aspects, such as making connections, caching, retrying failed requests, threading, response parsing, error handling, and more. Retrofit, on the other hand, is a well-planned, documented and tested library that will save you a lot of precious time and headaches.**\r\n\r\n\r\ncompile &#39;com.google.code.gson:gson:2.6.2&#39; \r\n\r\ncompile &#39;com.squareup.retrofit2:retrofit:2.1.0&#39;// compulsory\r\n\r\ncompile &#39;com.squareup.retrofit2:converter-gson:2.1.0&#39; //for retrofit conversion","title":"Using Retrofit in Android","body":"<p><strong>Developing your own type-safe HTTP library to interface with a REST API can be a real pain: you have to handle many aspects, such as making connections, caching, retrying failed requests, threading, response parsing, error handling, and more. Retrofit, on the other hand, is a well-planned, documented and tested library that will save you a lot of precious time and headaches.</strong></p>\n\n<p>compile 'com.google.code.gson:gson:2.6.2' </p>\n\n<p>compile 'com.squareup.retrofit2:retrofit:2.1.0'// compulsory</p>\n\n<p>compile 'com.squareup.retrofit2:converter-gson:2.1.0' //for retrofit conversion</p>\n"},{"tags":[],"owner":{"account_id":7117449,"reputation":473,"user_id":5443193,"accept_rate":44,"display_name":"jojo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511805076,"creation_date":1511805076,"answer_id":47516986,"question_id":26500036,"body_markdown":"First, add this lines to gradle file\r\n\r\n    compile &#39;com.squareup.retrofit2:retrofit:2.1.0&#39;\r\n        compile &#39;com.squareup.retrofit2:converter-gson:2.1.0&#39;\r\n        compile &#39;com.google.code.gson:gson:2.7&#39;\r\n        compile &#39;com.squareup:otto:1.3.8&#39;\r\n        compile &#39;com.squareup.okhttp3:logging-interceptor:3.4.1&#39;\r\n\r\nThen Create Objects in OnCreate of Activity\r\n\r\n    HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\r\n    interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\t\r\n    OkHttpClient client= new OkHttpClient\r\n                    .Builder()\r\n                    .connectTimeout(30, TimeUnit.SECONDS)\r\n                    .readTimeout(30, TimeUnit.SECONDS)\r\n                    .addInterceptor(interceptor).build();\r\n    Gson gson=new GsonBuilder()\r\n              .setDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssZ&quot;)\r\n              .create();\r\n    Retrofit retrofit= new Retrofit.Builder()\r\n                    .baseUrl(&quot;url&quot;)\r\n                    .client(client)\r\n                    .addConverterFactory(GsonConverterFactory.create(gson))\r\n                    .build();\r\n\r\nCreate an iterface\r\n\r\n    public interface summaryListAPI {\r\n    //post\r\n        @FormUrlEncoded\r\n        @POST(&quot;index.php&quot;)\r\n        Call&lt;summaryList&gt; post(\r\n                @Field(&quot;status&quot;) String status,\r\n                @Field(&quot;sox&quot;) String sox\r\n        );\r\n    //get\r\n    @GET(&quot;yesbdeChatHistoryList/{userId}/&quot;)\r\n        Call&lt;List&lt;ChatTabTwoResp&gt;&gt; getFriends(\r\n                @Path(&quot;userId&quot;) int userId\r\n        );\r\n    }\r\n\r\nCreate classes\r\n\r\n    public class summaryList {\r\n        @SerializedName(&quot;bookingSummary&quot;) @Expose private List&lt;summaryListData&gt; status = new ArrayList&lt;summaryListData&gt;();\r\n    }\t\r\n    \r\n    public class summaryListData {\r\n        @SerializedName(&quot;date&quot;) @Expose private String date;\r\n    }\r\n\r\nAdd this Method to your activity\r\n\r\n     public void apiSummaryListMain(final Retrofit retrofit) {\r\n            retrofit.create(summaryListAPI.class).post(&quot;8547861657&quot;,&quot;100&quot;).enqueue(new Callback&lt;summaryList&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;summaryList&gt; call, Response&lt;summaryList&gt; response) {\r\n                    if (response.isSuccessful()) {\r\n                        progressBar.setVisibility(View.INVISIBLE);\r\n                         List&lt;summaryListData&gt; summary_List= response.body().getStatus();                   \r\n                    }else{              \r\n                    }\r\n                }\r\n                @Override\r\n                public void onFailure(Call&lt;summaryList&gt; call, Throwable t) {\r\n                   \r\n                }\r\n            });\r\n    \r\n        }\r\n\r\n","title":"Using Retrofit in Android","body":"<p>First, add this lines to gradle file</p>\n\n<pre><code>compile 'com.squareup.retrofit2:retrofit:2.1.0'\n    compile 'com.squareup.retrofit2:converter-gson:2.1.0'\n    compile 'com.google.code.gson:gson:2.7'\n    compile 'com.squareup:otto:1.3.8'\n    compile 'com.squareup.okhttp3:logging-interceptor:3.4.1'\n</code></pre>\n\n<p>Then Create Objects in OnCreate of Activity</p>\n\n<pre><code>HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\ninterceptor.setLevel(HttpLoggingInterceptor.Level.BODY);    \nOkHttpClient client= new OkHttpClient\n                .Builder()\n                .connectTimeout(30, TimeUnit.SECONDS)\n                .readTimeout(30, TimeUnit.SECONDS)\n                .addInterceptor(interceptor).build();\nGson gson=new GsonBuilder()\n          .setDateFormat(\"yyyy-MM-dd'T'HH:mm:ssZ\")\n          .create();\nRetrofit retrofit= new Retrofit.Builder()\n                .baseUrl(\"url\")\n                .client(client)\n                .addConverterFactory(GsonConverterFactory.create(gson))\n                .build();\n</code></pre>\n\n<p>Create an iterface</p>\n\n<pre><code>public interface summaryListAPI {\n//post\n    @FormUrlEncoded\n    @POST(\"index.php\")\n    Call&lt;summaryList&gt; post(\n            @Field(\"status\") String status,\n            @Field(\"sox\") String sox\n    );\n//get\n@GET(\"yesbdeChatHistoryList/{userId}/\")\n    Call&lt;List&lt;ChatTabTwoResp&gt;&gt; getFriends(\n            @Path(\"userId\") int userId\n    );\n}\n</code></pre>\n\n<p>Create classes</p>\n\n<pre><code>public class summaryList {\n    @SerializedName(\"bookingSummary\") @Expose private List&lt;summaryListData&gt; status = new ArrayList&lt;summaryListData&gt;();\n}   \n\npublic class summaryListData {\n    @SerializedName(\"date\") @Expose private String date;\n}\n</code></pre>\n\n<p>Add this Method to your activity</p>\n\n<pre><code> public void apiSummaryListMain(final Retrofit retrofit) {\n        retrofit.create(summaryListAPI.class).post(\"8547861657\",\"100\").enqueue(new Callback&lt;summaryList&gt;() {\n            @Override\n            public void onResponse(Call&lt;summaryList&gt; call, Response&lt;summaryList&gt; response) {\n                if (response.isSuccessful()) {\n                    progressBar.setVisibility(View.INVISIBLE);\n                     List&lt;summaryListData&gt; summary_List= response.body().getStatus();                   \n                }else{              \n                }\n            }\n            @Override\n            public void onFailure(Call&lt;summaryList&gt; call, Throwable t) {\n\n            }\n        });\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3428198,"reputation":2311,"user_id":3690456,"display_name":"A-Droid Tech"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511957771,"creation_date":1511957771,"answer_id":47552676,"question_id":26500036,"body_markdown":"I just braked this problem in a very easy way you just need install a plugin and  follow some steps to implement retrofit in any of your App.:\r\n\r\nAlready posted answer : https://stackoverflow.com/questions/39866613/retrofit-in-android/47552486#47552486\r\n\r\nAdd (QAssist - Android Studio Plugin) Android plugin in your Android studio. ( https://github.com/sakkeerhussain/QAssist ).\r\n\r\n\r\nHope this will help you.","title":"Using Retrofit in Android","body":"<p>I just braked this problem in a very easy way you just need install a plugin and  follow some steps to implement retrofit in any of your App.:</p>\n\n<p>Already posted answer : <a href=\"https://stackoverflow.com/questions/39866613/retrofit-in-android/47552486#47552486\">Retrofit in android?</a></p>\n\n<p>Add (QAssist - Android Studio Plugin) Android plugin in your Android studio. ( <a href=\"https://github.com/sakkeerhussain/QAssist\" rel=\"nofollow noreferrer\">https://github.com/sakkeerhussain/QAssist</a> ).</p>\n\n<p>Hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":5905776,"reputation":4552,"user_id":4647628,"accept_rate":73,"display_name":"Aks4125"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522604627,"creation_date":1522604627,"answer_id":49600884,"question_id":26500036,"body_markdown":"Simple retrofit + okhttp integration using RxJava\r\n\r\n    public WebService apiService(Context context) {\r\n        String mBaseUrl = context.getString(BuildConfig.DEBUG ? R.string.local_url : R.string.live_url);\r\n\r\n        int cacheSize = 5 * 1024 * 1024; // 5 MB\r\n        Cache cache = new Cache(context.getCacheDir(), cacheSize);\r\n\r\n        HttpLoggingInterceptor loggingInterceptor = new HttpLoggingInterceptor();\r\n        loggingInterceptor.setLevel(BuildConfig.DEBUG ? HttpLoggingInterceptor.Level.BODY : HttpLoggingInterceptor.Level.NONE);\r\n\r\n        OkHttpClient okHttpClient = new OkHttpClient.Builder()\r\n                .readTimeout(120, TimeUnit.SECONDS)\r\n                .writeTimeout(120, TimeUnit.SECONDS)\r\n                .connectTimeout(120, TimeUnit.SECONDS)\r\n                .addInterceptor(loggingInterceptor)\r\n                //.addNetworkInterceptor(networkInterceptor)\r\n                .cache(cache)\r\n                .build();\r\n\r\n        return new Retrofit.Builder().baseUrl(mBaseUrl)\r\n                .client(okHttpClient)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\r\n                .build().create(WebService.class);\r\n\r\n    }","title":"Using Retrofit in Android","body":"<p>Simple retrofit + okhttp integration using RxJava</p>\n\n<pre><code>public WebService apiService(Context context) {\n    String mBaseUrl = context.getString(BuildConfig.DEBUG ? R.string.local_url : R.string.live_url);\n\n    int cacheSize = 5 * 1024 * 1024; // 5 MB\n    Cache cache = new Cache(context.getCacheDir(), cacheSize);\n\n    HttpLoggingInterceptor loggingInterceptor = new HttpLoggingInterceptor();\n    loggingInterceptor.setLevel(BuildConfig.DEBUG ? HttpLoggingInterceptor.Level.BODY : HttpLoggingInterceptor.Level.NONE);\n\n    OkHttpClient okHttpClient = new OkHttpClient.Builder()\n            .readTimeout(120, TimeUnit.SECONDS)\n            .writeTimeout(120, TimeUnit.SECONDS)\n            .connectTimeout(120, TimeUnit.SECONDS)\n            .addInterceptor(loggingInterceptor)\n            //.addNetworkInterceptor(networkInterceptor)\n            .cache(cache)\n            .build();\n\n    return new Retrofit.Builder().baseUrl(mBaseUrl)\n            .client(okHttpClient)\n            .addConverterFactory(GsonConverterFactory.create())\n            .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n            .build().create(WebService.class);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7791517,"reputation":61,"user_id":5894271,"display_name":"CHirag RAmi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554116063,"creation_date":1554116063,"answer_id":55453462,"question_id":26500036,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    public interface APIService {\r\n\r\n        @POST(Constant.updateProfile)\r\n        @FormUrlEncoded\r\n        Call&lt;ResponseBody&gt; updateProfile(\r\n                @Field(&quot;user_id&quot;) String user_id,\r\n                @Field(&quot;first_name&quot;) String first_name,\r\n                @Field(&quot;last_name&quot;) String last_name\r\n        );\r\n    }\r\n\r\n    public class RetrofitClient {\r\n        private static Retrofit retrofit = null;\r\n\r\n        public static Retrofit getClient(String baseUrl) {\r\n            if (retrofit == null) {\r\n                retrofit = new Retrofit.Builder()\r\n                        .baseUrl(baseUrl)\r\n                        .addConverterFactory(GsonConverterFactory.create())\r\n                        .build();\r\n            }\r\n            return retrofit;\r\n        }\r\n\r\n    }\r\n\r\n\r\npublic class Body {\r\n\r\n\r\n    // Check Status if Status True or False\r\n    String status;\r\n    String message;\r\n    String checksum;\r\n  \r\n}\r\n\r\n\r\n\r\npublic interface OnBodyResponseListner {\r\n\r\n\r\n    public void onSucces(Body response);\r\n    public void onFailure(Body response);\r\n    public void onBlankBody(Call&lt;ResponseBody&gt; call);\r\n\r\n}\r\n\r\n public static void setOnWebServiceCallListner(final Call&lt;ResponseBody&gt; t, final OnBodyResponseListner onBodyResponseListner) {\r\n        t.enqueue(new Callback&lt;ResponseBody&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\r\n                try {\r\n                    call.cancel();\r\n                    Gson gson = new GsonBuilder().serializeNulls().create();\r\n                    String json = response.body().string();\r\n                    Log.d(TAG, json + &quot;  ~ Response ~  &quot; + json);\r\n                    Body body = gson.fromJson(json, Body.class);\r\n\r\n                    if (body.getStatus().equalsIgnoreCase(&quot;true&quot;)) {\r\n                        onBodyResponseListner.onSucces(body);\r\n                    } else {\r\n                        onBodyResponseListner.onFailure(body);\r\n                    }\r\n\r\n\r\n                } catch (Exception e) {\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n                onBodyResponseListner.onBlankBody(call);\r\n                Log.d(TAG, &quot;~ Response Message Blank ~ &quot; + t.getMessage() + &quot; \\n Localize Message ~ &quot; + t.getLocalizedMessage() + &quot; \\n&quot; + t.getStackTrace().toString());\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n APIService mService = RetrofitClient.getClient(Constant.BASE_URL).create(APIService.class);\r\n\r\n\r\nOprations.setOnWebServiceCallListner(mService.updateProfile(&quot;12&quot;,\r\n                &quot;first_name&quot;,\r\n                &quot;last,name&quot;\r\n        ), new OnBodyResponseListner() {\r\n            @Override\r\n            public void onSucces(Body response) {\r\n                \r\n               \r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Body response) {\r\n                \r\n                Toast.makeText(mContext, response.getMessage(), Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onBlankBody(Call&lt;ResponseBody&gt; call) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Using Retrofit in Android","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>public interface APIService {\r\n\r\n    @POST(Constant.updateProfile)\r\n    @FormUrlEncoded\r\n    Call&lt;ResponseBody&gt; updateProfile(\r\n            @Field(\"user_id\") String user_id,\r\n            @Field(\"first_name\") String first_name,\r\n            @Field(\"last_name\") String last_name\r\n    );\r\n}\r\n\r\npublic class RetrofitClient {\r\n    private static Retrofit retrofit = null;\r\n\r\n    public static Retrofit getClient(String baseUrl) {\r\n        if (retrofit == null) {\r\n            retrofit = new Retrofit.Builder()\r\n                    .baseUrl(baseUrl)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }\r\n\r\n}\r\n\r\n\r\npublic class Body {\r\n\r\n\r\n// Check Status if Status True or False\r\nString status;\r\nString message;\r\nString checksum;\r\n  \r\n}\r\n\r\n\r\n\r\npublic interface OnBodyResponseListner {\r\n\r\n\r\npublic void onSucces(Body response);\r\npublic void onFailure(Body response);\r\npublic void onBlankBody(Call&lt;ResponseBody&gt; call);\r\n\r\n}\r\n\r\n public static void setOnWebServiceCallListner(final Call&lt;ResponseBody&gt; t, final OnBodyResponseListner onBodyResponseListner) {\r\n    t.enqueue(new Callback&lt;ResponseBody&gt;() {\r\n        @Override\r\n        public void onResponse(Call&lt;ResponseBody&gt; call, Response&lt;ResponseBody&gt; response) {\r\n            try {\r\n                call.cancel();\r\n                Gson gson = new GsonBuilder().serializeNulls().create();\r\n                String json = response.body().string();\r\n                Log.d(TAG, json + \"  ~ Response ~  \" + json);\r\n                Body body = gson.fromJson(json, Body.class);\r\n\r\n                if (body.getStatus().equalsIgnoreCase(\"true\")) {\r\n                    onBodyResponseListner.onSucces(body);\r\n                } else {\r\n                    onBodyResponseListner.onFailure(body);\r\n                }\r\n\r\n\r\n            } catch (Exception e) {\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n            onBodyResponseListner.onBlankBody(call);\r\n            Log.d(TAG, \"~ Response Message Blank ~ \" + t.getMessage() + \" \\n Localize Message ~ \" + t.getLocalizedMessage() + \" \\n\" + t.getStackTrace().toString());\r\n        }\r\n    });\r\n\r\n\r\n}\r\n\r\n\r\n APIService mService = RetrofitClient.getClient(Constant.BASE_URL).create(APIService.class);\r\n\r\n\r\nOprations.setOnWebServiceCallListner(mService.updateProfile(\"12\",\r\n            \"first_name\",\r\n            \"last,name\"\r\n    ), new OnBodyResponseListner() {\r\n        @Override\r\n        public void onSucces(Body response) {\r\n            \r\n           \r\n\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(Body response) {\r\n            \r\n            Toast.makeText(mContext, response.getMessage(), Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onBlankBody(Call&lt;ResponseBody&gt; call) {\r\n\r\n        }\r\n    });\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":14019881,"reputation":279,"user_id":10126339,"display_name":"ajaas azeez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581330661,"creation_date":1581329100,"answer_id":60147991,"question_id":26500036,"body_markdown":"1. First, add the dependency - `compile &#39;com.squareup.retrofit:retrofit:1.7.1&#39; `\r\n2. Create retrofit instance class\r\n\r\n```\r\npublic class RetrofitClientInstance {\r\n    private Context context;\r\n    private static OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\r\n    private static Retrofit retrofit\r\n    private static Retrofit.Builder builder =\r\n            new Retrofit.Builder()\r\n                    .baseUrl(BuildConfig.SERVER_URL)\r\n                    .client(getRequestHeader())\r\n                    .addConverterFactory(GsonConverterFactory.create());\r\n    public static HttpLoggingInterceptor setLogger() {\r\n        HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\r\n        logging.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n        return logging;\r\n    }\r\n    public static &lt;S&gt; S createService(Class&lt;S&gt; serviceClass) {\r\n    \r\n        if (!httpClient.interceptors().isEmpty()) {\r\n    \r\n            httpClient.interceptors().clear();\r\n        }\r\n        httpClient.authenticator(new AccessTokenAuthenticator());\r\n        httpClient.readTimeout(60,TimeUnit.SECONDS);\r\n        httpClient.connectTimeout(60,TimeUnit.SECONDS);\r\n        httpClient.addInterceptor(setLogger());\r\n        httpClient.addInterceptor(new Interceptor() {\r\n            @Override\r\n            public Response intercept(Chain chain) throws IOException {\r\n                Request original = chain.request();\r\n                Request.Builder requestBuilder = original.newBuilder()\r\n                        .header(&quot;LocalSystemDate&quot;, MyApplication.getInstance().getCurrentDateAndTimeWithTimeZone())\r\n                        .addHeader(&quot;channel_id&quot;, AppConst.CHANNEL_ID)\r\n                        .addHeader(&quot;Authorization&quot;, &quot;Bearer&quot; + &quot; &quot; + SharedPref.getsAccessToken())\r\n                        .method(original.method(), original.body());\r\n                Request request = requestBuilder.build();\r\n                return chain.proceed(request);\r\n            }\r\n        });\r\n    \r\n        OkHttpClient client = httpClient.build();\r\n        Retrofit retrofit = builder.client(client).build();\r\n        return retrofit.create(serviceClass);\r\n    }\r\n    \r\n    \r\n    private static OkHttpClient getRequestHeader() {\r\n    \r\n        return new OkHttpClient.Builder()\r\n                .readTimeout(60, TimeUnit.SECONDS)\r\n                .connectTimeout(60, TimeUnit.SECONDS)\r\n                .build();\r\n    }\r\n}\r\n\r\n```\r\n\r\n3. Write the interface\r\n```\r\npublic interface GetDataService {\r\n\r\n    @Headers(&quot;Content-Type: application/json&quot;)\r\n    @POST(&quot;login&quot;)\r\n    Call&lt;LoginResponseModel&gt; loginUser(\r\n          @Body LoginBodyModel loginBodyModel\r\n    );\r\n\r\n}\r\n```\r\n\r\n\r\n4. Call the service\r\n```\r\nGetDataService service = RetrofitClientInstance.createService(GetDataService.class);\r\n\r\nCall&lt;LoginResponseModel&gt; loginModelCall = service.loginUser(loginBodyModel);\r\n\r\nloginModelCall.enqueue(new Callback&lt;LoginResponseModel&gt;() {\r\n    @Override\r\n    public void onResponse(Call&lt;LoginResponseModel&gt; call, Response&lt;LoginResponseModel&gt; response) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onFailure(Call&lt;LoginResponseModel&gt; call, Throwable t)  {\r\n       \r\n    }\r\n});\r\n```","title":"Using Retrofit in Android","body":"<ol>\n<li>First, add the dependency - <code>compile 'com.squareup.retrofit:retrofit:1.7.1'</code></li>\n<li>Create retrofit instance class</li>\n</ol>\n\n<pre><code>public class RetrofitClientInstance {\n    private Context context;\n    private static OkHttpClient.Builder httpClient = new OkHttpClient.Builder();\n    private static Retrofit retrofit\n    private static Retrofit.Builder builder =\n            new Retrofit.Builder()\n                    .baseUrl(BuildConfig.SERVER_URL)\n                    .client(getRequestHeader())\n                    .addConverterFactory(GsonConverterFactory.create());\n    public static HttpLoggingInterceptor setLogger() {\n        HttpLoggingInterceptor logging = new HttpLoggingInterceptor();\n        logging.setLevel(HttpLoggingInterceptor.Level.BODY);\n        return logging;\n    }\n    public static &lt;S&gt; S createService(Class&lt;S&gt; serviceClass) {\n\n        if (!httpClient.interceptors().isEmpty()) {\n\n            httpClient.interceptors().clear();\n        }\n        httpClient.authenticator(new AccessTokenAuthenticator());\n        httpClient.readTimeout(60,TimeUnit.SECONDS);\n        httpClient.connectTimeout(60,TimeUnit.SECONDS);\n        httpClient.addInterceptor(setLogger());\n        httpClient.addInterceptor(new Interceptor() {\n            @Override\n            public Response intercept(Chain chain) throws IOException {\n                Request original = chain.request();\n                Request.Builder requestBuilder = original.newBuilder()\n                        .header(\"LocalSystemDate\", MyApplication.getInstance().getCurrentDateAndTimeWithTimeZone())\n                        .addHeader(\"channel_id\", AppConst.CHANNEL_ID)\n                        .addHeader(\"Authorization\", \"Bearer\" + \" \" + SharedPref.getsAccessToken())\n                        .method(original.method(), original.body());\n                Request request = requestBuilder.build();\n                return chain.proceed(request);\n            }\n        });\n\n        OkHttpClient client = httpClient.build();\n        Retrofit retrofit = builder.client(client).build();\n        return retrofit.create(serviceClass);\n    }\n\n\n    private static OkHttpClient getRequestHeader() {\n\n        return new OkHttpClient.Builder()\n                .readTimeout(60, TimeUnit.SECONDS)\n                .connectTimeout(60, TimeUnit.SECONDS)\n                .build();\n    }\n}\n\n</code></pre>\n\n<ol start=\"3\">\n<li>Write the interface</li>\n</ol>\n\n<pre><code>public interface GetDataService {\n\n    @Headers(\"Content-Type: application/json\")\n    @POST(\"login\")\n    Call&lt;LoginResponseModel&gt; loginUser(\n          @Body LoginBodyModel loginBodyModel\n    );\n\n}\n</code></pre>\n\n<ol start=\"4\">\n<li>Call the service</li>\n</ol>\n\n<pre><code>GetDataService service = RetrofitClientInstance.createService(GetDataService.class);\n\nCall&lt;LoginResponseModel&gt; loginModelCall = service.loginUser(loginBodyModel);\n\nloginModelCall.enqueue(new Callback&lt;LoginResponseModel&gt;() {\n    @Override\n    public void onResponse(Call&lt;LoginResponseModel&gt; call, Response&lt;LoginResponseModel&gt; response) {\n\n    }\n\n    @Override\n    public void onFailure(Call&lt;LoginResponseModel&gt; call, Throwable t)  {\n\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17180029,"reputation":268,"user_id":12435588,"display_name":"Asghar Hosseini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651826734,"creation_date":1651826734,"answer_id":72138655,"question_id":26500036,"body_markdown":"**You can do this with hilt**\r\n\r\n    @Module\r\n    @InstallIn(SingletonComponent::class)\r\n    object RestClientModule {\r\n    \r\n        @Provides\r\n        @Singleton\r\n        internal fun provideApiService(\r\n            @WeatherRetrofit retrofit: Retrofit\r\n        ): ApiService = retrofit.create(ApiService::class.java)\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        @Provides\r\n        @WeatherRetrofit\r\n        @Singleton\r\n        internal fun provideHiCityRetrofit(\r\n            okHttpClient: OkHttpClient,\r\n            moshi: Moshi\r\n        ): Retrofit = Retrofit.Builder()\r\n            .baseUrl(EndPoint.STAGE_BASE_URL)\r\n            .client(okHttpClient)\r\n            .addConverterFactory(ScalarsConverterFactory.create())\r\n            .addConverterFactory(MoshiConverterFactory.create(moshi))\r\n            .build()\r\n    }\r\n\r\n\r\n","title":"Using Retrofit in Android","body":"<p><strong>You can do this with hilt</strong></p>\n<pre><code>@Module\n@InstallIn(SingletonComponent::class)\nobject RestClientModule {\n\n    @Provides\n    @Singleton\n    internal fun provideApiService(\n        @WeatherRetrofit retrofit: Retrofit\n    ): ApiService = retrofit.create(ApiService::class.java)\n\n\n\n\n\n    @Provides\n    @WeatherRetrofit\n    @Singleton\n    internal fun provideHiCityRetrofit(\n        okHttpClient: OkHttpClient,\n        moshi: Moshi\n    ): Retrofit = Retrofit.Builder()\n        .baseUrl(EndPoint.STAGE_BASE_URL)\n        .client(okHttpClient)\n        .addConverterFactory(ScalarsConverterFactory.create())\n        .addConverterFactory(MoshiConverterFactory.create(moshi))\n        .build()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24997503,"reputation":448,"user_id":18858169,"display_name":"Bhavin Solanki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665029829,"creation_date":1664301285,"answer_id":73871886,"question_id":26500036,"body_markdown":"You can checkout this Github Link with source-code avaible for login and signup API in android. https://github.com/probelalkhan/kotlin-retrofit-tutorial/commits/master\r\n\r\nOr you can check this tutorial for learning purpose.\r\n[https://youtu.be/TyJEDhauUeQ][1]\r\n\r\n\r\nOr for more other details checkout this \r\n\r\n[https://gist.github.com/codinginflow/d7a02bd69eebf566b4650c41bc362be7][2]\r\n\r\n\r\n  [1]: https://youtu.be/TyJEDhauUeQ\r\n  [2]: https://gist.github.com/codinginflow/d7a02bd69eebf566b4650c41bc362be7","title":"Using Retrofit in Android","body":"<p>You can checkout this Github Link with source-code avaible for login and signup API in android. <a href=\"https://github.com/probelalkhan/kotlin-retrofit-tutorial/commits/master\" rel=\"nofollow noreferrer\">https://github.com/probelalkhan/kotlin-retrofit-tutorial/commits/master</a></p>\n<p>Or you can check this tutorial for learning purpose.\n<a href=\"https://youtu.be/TyJEDhauUeQ\" rel=\"nofollow noreferrer\">https://youtu.be/TyJEDhauUeQ</a></p>\n<p>Or for more other details checkout this</p>\n<p><a href=\"https://gist.github.com/codinginflow/d7a02bd69eebf566b4650c41bc362be7\" rel=\"nofollow noreferrer\">https://gist.github.com/codinginflow/d7a02bd69eebf566b4650c41bc362be7</a></p>\n"}],"owner":{"account_id":5209923,"reputation":579,"user_id":4166687,"accept_rate":60,"display_name":"Stack Man"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70979,"favorite_count":0,"down_vote_count":2,"up_vote_count":47,"accepted_answer_id":26573636,"answer_count":19,"score":45,"last_activity_date":1665029829,"creation_date":1413949874,"question_id":26500036,"body_markdown":"I have an android app that has 3 activities :\r\n\r\n1. A login activity\r\n2. A tasks acivity where all tasks pertaining to a user are displayed (Populated using an Array Adapter)\r\n3. A task_details activity which results from clicking a task on the list\r\n\r\nI have to consume REST Apis. The research I have done so far directs me to use Retrofit. I checked how to use it and found out that :\r\n\r\n1. Set the base URL in the Main Activity (Mine is  the Login Activity)\r\n2. I need to create a API class and define my functions using annotations.\r\n3. Use the class Rest Adapter in the Activity and define Callbacks.\r\n\r\nHad my app been a single activity app, I would have crunched everything in my MainActivity.java but I don&#39;t know how and where to put all the code from steps 1,2,3 for use in my 3 activities.Could you please help by telling how to use Retrofit in my app. Thanks a lot.\r\n\r\nSpecifically, I need network calls to :\r\n1. Login the user\r\n2. Get all the tasks of the user. \r\nAnd for both I would be using a given REST api.\r\n\r\n\r\n\r\n    *********************************************\r\n              Calling Api USing Retrofit\r\n    *********************************************\r\n    **Dependancies** :-\r\n          implementation &#39;com.android.support:recyclerview-v7:27.1.1&#39;\r\n            implementation &#39;com.squareup.picasso:picasso:2.5.2&#39;\r\n            implementation &#39;com.android.support:cardview-v7:27.1.1&#39;\r\n        enter code here\r\n    **Model**\r\n    use the Pozo class\r\n    \r\n    **Api Call**\r\n     -&gt; getLogin()    // use the method\r\n    \r\n    \r\n    \r\n      //API call for Login\r\n        private void getLogin()\r\n        {\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE,\r\n                    WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\r\n            AsyncHttpClient client = new AsyncHttpClient();\r\n            RequestParams requestParams = new RequestParams();\r\n            requestParams.put(&quot;email_id&quot;, edit_email.getText().toString());\r\n            requestParams.put(&quot;password&quot;, edit_password.getText().toString());\r\n            Log.e(&quot;&quot;, &quot;LOGIN URL==&gt;&quot; + Urls.LOGIN + requestParams);\r\n            Log.d(&quot;device_token&quot;, &quot;Device_ Token&quot; + FirebaseInstanceId.getInstance().getToken());\r\n            client.post(Urls.LOGIN, requestParams, new JsonHttpResponseHandler() {\r\n                @Override\r\n                public void onStart() {\r\n                    super.onStart();\r\n                    ShowProgress();\r\n                }\r\n    \r\n                @Override\r\n                public void onFinish() {\r\n                    super.onFinish();\r\n                    Hideprogress();\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onSuccess(int statusCode, Header[] headers, JSONObject response) {\r\n                    super.onSuccess(statusCode, headers, response);\r\n                    Log.e(&quot;&quot;, &quot;Login RESPONSE-&quot; + response);\r\n                    Login login = new Gson().fromJson(String.valueOf(response), Login.class);\r\n                    edit_email.setText(&quot;&quot;);\r\n                    edit_password.setText(&quot;&quot;);\r\n                    if (login.getStatus().equals(&quot;true&quot;)) {\r\n                        getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\r\n                        MDToast mdToast = MDToast.makeText(SignInActivity.this, String.valueOf(&quot;User Login Successfully!&quot;),\r\n                                MDToast.LENGTH_SHORT, MDToast.TYPE_SUCCESS);\r\n                        mdToast.show();\r\n                        Utils.WriteSharePrefrence(SignInActivity.this, Util_Main.Constant.EMAIL, login.getData().getEmailId());\r\n                        Utils.WriteSharePrefrence(SignInActivity.this, Constant.USERID, login.getData().getId());\r\n    \r\n                        Utils.WriteSharePrefrence(SignInActivity.this, Constant.USERNAME, login.getData().getFirstName());\r\n                        Utils.WriteSharePrefrence(SignInActivity.this, Constant.PROFILE, login.getData().getProfileImage());\r\n                        hideKeyboard(SignInActivity.this);\r\n                        Intent intent = new Intent(SignInActivity.this, DashboardActivity.class);\r\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n                        startActivity(intent);\r\n                        finish();\r\n                    } else {\r\n                        getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\r\n                        MDToast mdToast = MDToast.makeText(SignInActivity.this, String.valueOf(&quot;Login Denied&quot;),\r\n                                MDToast.LENGTH_SHORT, MDToast.TYPE_ERROR);\r\n                        mdToast.show();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(int statusCode, Header[] headers, String responseString, Throwable throwable) {\r\n                    super.onFailure(statusCode, headers, responseString, throwable);\r\n                    Log.e(&quot;&quot;, throwable.getMessage());\r\n                    getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\r\n                    MDToast mdToast = MDToast.makeText(SignInActivity.this, &quot;Something went wrong&quot;,\r\n                            MDToast.LENGTH_SHORT, MDToast.TYPE_ERROR);\r\n                    mdToast.show();\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n\r\n\r\n","title":"Using Retrofit in Android","body":"<p>I have an android app that has 3 activities :</p>\n\n<ol>\n<li>A login activity</li>\n<li>A tasks acivity where all tasks pertaining to a user are displayed (Populated using an Array Adapter)</li>\n<li>A task_details activity which results from clicking a task on the list</li>\n</ol>\n\n<p>I have to consume REST Apis. The research I have done so far directs me to use Retrofit. I checked how to use it and found out that :</p>\n\n<ol>\n<li>Set the base URL in the Main Activity (Mine is  the Login Activity)</li>\n<li>I need to create a API class and define my functions using annotations.</li>\n<li>Use the class Rest Adapter in the Activity and define Callbacks.</li>\n</ol>\n\n<p>Had my app been a single activity app, I would have crunched everything in my MainActivity.java but I don't know how and where to put all the code from steps 1,2,3 for use in my 3 activities.Could you please help by telling how to use Retrofit in my app. Thanks a lot.</p>\n\n<p>Specifically, I need network calls to :\n1. Login the user\n2. Get all the tasks of the user. \nAnd for both I would be using a given REST api.</p>\n\n<pre><code>*********************************************\n          Calling Api USing Retrofit\n*********************************************\n**Dependancies** :-\n      implementation 'com.android.support:recyclerview-v7:27.1.1'\n        implementation 'com.squareup.picasso:picasso:2.5.2'\n        implementation 'com.android.support:cardview-v7:27.1.1'\n    enter code here\n**Model**\nuse the Pozo class\n\n**Api Call**\n -&gt; getLogin()    // use the method\n\n\n\n  //API call for Login\n    private void getLogin()\n    {\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE,\n                WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\n        AsyncHttpClient client = new AsyncHttpClient();\n        RequestParams requestParams = new RequestParams();\n        requestParams.put(\"email_id\", edit_email.getText().toString());\n        requestParams.put(\"password\", edit_password.getText().toString());\n        Log.e(\"\", \"LOGIN URL==&gt;\" + Urls.LOGIN + requestParams);\n        Log.d(\"device_token\", \"Device_ Token\" + FirebaseInstanceId.getInstance().getToken());\n        client.post(Urls.LOGIN, requestParams, new JsonHttpResponseHandler() {\n            @Override\n            public void onStart() {\n                super.onStart();\n                ShowProgress();\n            }\n\n            @Override\n            public void onFinish() {\n                super.onFinish();\n                Hideprogress();\n\n            }\n\n            @Override\n            public void onSuccess(int statusCode, Header[] headers, JSONObject response) {\n                super.onSuccess(statusCode, headers, response);\n                Log.e(\"\", \"Login RESPONSE-\" + response);\n                Login login = new Gson().fromJson(String.valueOf(response), Login.class);\n                edit_email.setText(\"\");\n                edit_password.setText(\"\");\n                if (login.getStatus().equals(\"true\")) {\n                    getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\n                    MDToast mdToast = MDToast.makeText(SignInActivity.this, String.valueOf(\"User Login Successfully!\"),\n                            MDToast.LENGTH_SHORT, MDToast.TYPE_SUCCESS);\n                    mdToast.show();\n                    Utils.WriteSharePrefrence(SignInActivity.this, Util_Main.Constant.EMAIL, login.getData().getEmailId());\n                    Utils.WriteSharePrefrence(SignInActivity.this, Constant.USERID, login.getData().getId());\n\n                    Utils.WriteSharePrefrence(SignInActivity.this, Constant.USERNAME, login.getData().getFirstName());\n                    Utils.WriteSharePrefrence(SignInActivity.this, Constant.PROFILE, login.getData().getProfileImage());\n                    hideKeyboard(SignInActivity.this);\n                    Intent intent = new Intent(SignInActivity.this, DashboardActivity.class);\n                    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n                    startActivity(intent);\n                    finish();\n                } else {\n                    getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\n                    MDToast mdToast = MDToast.makeText(SignInActivity.this, String.valueOf(\"Login Denied\"),\n                            MDToast.LENGTH_SHORT, MDToast.TYPE_ERROR);\n                    mdToast.show();\n                }\n            }\n\n            @Override\n            public void onFailure(int statusCode, Header[] headers, String responseString, Throwable throwable) {\n                super.onFailure(statusCode, headers, responseString, throwable);\n                Log.e(\"\", throwable.getMessage());\n                getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE);\n                MDToast mdToast = MDToast.makeText(SignInActivity.this, \"Something went wrong\",\n                        MDToast.LENGTH_SHORT, MDToast.TYPE_ERROR);\n                mdToast.show();\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","sockets","while-loop","bufferedreader","java-io"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664612339,"post_id":73916809,"comment_id":130515085,"body_markdown":"You need to close the socket.","body":"You need to close the socket."},{"owner":{"account_id":26498771,"reputation":21,"user_id":20136046,"display_name":"Cecil"},"score":0,"creation_date":1664612473,"post_id":73916809,"comment_id":130515103,"body_markdown":"But I would like to reuse this socket. As I may send the message from client to server more than once.","body":"But I would like to reuse this socket. As I may send the message from client to server more than once."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664612576,"post_id":73916809,"comment_id":130515118,"body_markdown":"Then you need to tell server when it should exit the loop. Yo may send special string or something.","body":"Then you need to tell server when it should exit the loop. Yo may send special string or something."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664612625,"post_id":73916809,"comment_id":130515130,"body_markdown":"Or use non-blocking","body":"Or use non-blocking"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664612671,"post_id":73916809,"comment_id":130515142,"body_markdown":"@g00se it won&#39;t help.","body":"@g00se it won&#39;t help."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664613059,"post_id":73916809,"comment_id":130515185,"body_markdown":"@talex not sure why you say that","body":"@talex not sure why you say that"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1664613232,"post_id":73916809,"comment_id":130515208,"body_markdown":"@g00se because non-blocking IO wont help server to understand when this specific part of communication is over. If you think I&#39;m wrong can you please explain your suggestion in more details.","body":"@g00se because non-blocking IO wont help server to understand when this specific part of communication is over. If you think I&#39;m wrong can you please explain your suggestion in more details."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664617359,"post_id":73916809,"comment_id":130515839,"body_markdown":"@talex Well, I read *Is it here?* as &quot;this is a debugging line&quot; rather than &quot;I haven&#39;t got a clue about what the client is going to send&quot;. So, if my guess is correct, when a &#39;unit of communication&#39; has arrived in non-blocking IO, that unit can be captured and processed.","body":"@talex Well, I read <i>Is it here?</i> as &quot;this is a debugging line&quot; rather than &quot;I haven&#39;t got a clue about what the client is going to send&quot;. So, if my guess is correct, when a &#39;unit of communication&#39; has arrived in non-blocking IO, that unit can be captured and processed."}],"answers":[{"tags":[],"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664617907,"creation_date":1664617907,"answer_id":73917341,"question_id":73916809,"body_markdown":"Your Client is waiting for some response of the Server. But the Server does not send any response. The Server writes to the `System.out` only. The Server has to write the response with the `out`.\r\n\r\n            in = new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n            out = new PrintWriter(client.getOutputStream(), true);\r\n\r\n            //read client input\r\n            //multi line \r\n            //https://stackoverflow.com/questions/43416889/java-filereader-only-seems-to-be-reading-the-first-line-of-text-document?newreg=2f77b35c458846dbb1290afce8853930\r\n            String line = &quot;&quot;;\r\n            while((line =in.readLine()) != null) {\r\n                System.out.println(line);\r\n                out.println(line);  // send Server response\r\n            }\r\n            System.out.println(&quot;is it here?&quot;);","title":"While loop doesn&#39;t break after reading multiple line of text with BufferedReader in Java Socket","body":"<p>Your Client is waiting for some response of the Server. But the Server does not send any response. The Server writes to the <code>System.out</code> only. The Server has to write the response with the <code>out</code>.</p>\n<pre><code>        in = new BufferedReader(new InputStreamReader(client.getInputStream()));\n        out = new PrintWriter(client.getOutputStream(), true);\n\n        //read client input\n        //multi line \n        //https://stackoverflow.com/questions/43416889/java-filereader-only-seems-to-be-reading-the-first-line-of-text-document?newreg=2f77b35c458846dbb1290afce8853930\n        String line = &quot;&quot;;\n        while((line =in.readLine()) != null) {\n            System.out.println(line);\n            out.println(line);  // send Server response\n        }\n        System.out.println(&quot;is it here?&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26498771,"reputation":21,"user_id":20136046,"display_name":"Cecil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665027938,"creation_date":1665027938,"answer_id":73968472,"question_id":73916809,"body_markdown":"@ talex\r\nThen you need to tell server when it should exit the loop. Yo may send special string or something.\r\n\r\nThis works fine.\r\n        \r\n\r\n            String line = &quot;&quot;;\r\n            while((line =in.readLine()) != null) {\r\n                System.out.println(line);\r\n                if (line.equals(&quot;break&quot;) {\r\n                break;\r\n                }\r\n            }","title":"While loop doesn&#39;t break after reading multiple line of text with BufferedReader in Java Socket","body":"<p>@ talex\nThen you need to tell server when it should exit the loop. Yo may send special string or something.</p>\n<p>This works fine.</p>\n<pre><code>        String line = &quot;&quot;;\n        while((line =in.readLine()) != null) {\n            System.out.println(line);\n            if (line.equals(&quot;break&quot;) {\n            break;\n            }\n        }\n</code></pre>\n"}],"owner":{"account_id":26498771,"reputation":21,"user_id":20136046,"display_name":"Cecil"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73968472,"answer_count":2,"score":1,"last_activity_date":1665027938,"creation_date":1664612208,"question_id":73916809,"body_markdown":"I have trying to send multiple lines of code from a client to the server.\r\n\r\nHere is the code on the server side\r\n\r\n                in = new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n                out = new PrintWriter(client.getOutputStream(), true);\r\n\r\n                //read client input\r\n                //multi line \r\n                //https://stackoverflow.com/questions/43416889/java-filereader-only-seems-to-be-reading-the-first-line-of-text-document?newreg=2f77b35c458846dbb1290afce8853930\r\n                String line = &quot;&quot;;\r\n                while((line =in.readLine()) != null) {\r\n                    System.out.println(line);\r\n                }\r\n                System.out.println(&quot;is it here?&quot;);\r\n\r\nHere is the code on the client side :\r\n\r\n        BufferedReader input = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n        BufferedReader keyboard = new BufferedReader(new InputStreamReader(System.in));\r\n        PrintWriter out = new PrintWriter(socket.getOutputStream(),true);\r\n\r\n        while (true) {\r\n            System.out.print(&quot;&gt; &quot;);\r\n\r\n            //content server input command (put, lamport clock, message)\r\n            String command = keyboard.readLine();\r\n            if (command.equals(&quot;quit&quot;)){\r\n                break;\r\n            }\r\n            //read from CSDB/txt1.txt\r\n            String message = readFileReturnString(&quot;CSDB/txt1.txt&quot;, StandardCharsets.UTF_8);\r\n            System.out.println(message);\r\n            //send to clientHandler through PrintWriter\r\n            out.println(command + &quot; 3 \\n&quot; + message);\r\n\r\n            //receive response from ClientHandler (lamport clock)\r\n            String serverResponse = input.readLine();\r\n            System.out.println(serverResponse + socket);\r\n        }\r\n\r\nServer side is able to print out all the text that is sent from the client side. However, the while loop doesn&#39;t break and System.out.println(&quot;is it here?&quot;); has never been executed.\r\n\r\nMay I know why and how I can solve this problem please?","title":"While loop doesn&#39;t break after reading multiple line of text with BufferedReader in Java Socket","body":"<p>I have trying to send multiple lines of code from a client to the server.</p>\n<p>Here is the code on the server side</p>\n<pre><code>            in = new BufferedReader(new InputStreamReader(client.getInputStream()));\n            out = new PrintWriter(client.getOutputStream(), true);\n\n            //read client input\n            //multi line \n            //https://stackoverflow.com/questions/43416889/java-filereader-only-seems-to-be-reading-the-first-line-of-text-document?newreg=2f77b35c458846dbb1290afce8853930\n            String line = &quot;&quot;;\n            while((line =in.readLine()) != null) {\n                System.out.println(line);\n            }\n            System.out.println(&quot;is it here?&quot;);\n</code></pre>\n<p>Here is the code on the client side :</p>\n<pre><code>    BufferedReader input = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n    BufferedReader keyboard = new BufferedReader(new InputStreamReader(System.in));\n    PrintWriter out = new PrintWriter(socket.getOutputStream(),true);\n\n    while (true) {\n        System.out.print(&quot;&gt; &quot;);\n\n        //content server input command (put, lamport clock, message)\n        String command = keyboard.readLine();\n        if (command.equals(&quot;quit&quot;)){\n            break;\n        }\n        //read from CSDB/txt1.txt\n        String message = readFileReturnString(&quot;CSDB/txt1.txt&quot;, StandardCharsets.UTF_8);\n        System.out.println(message);\n        //send to clientHandler through PrintWriter\n        out.println(command + &quot; 3 \\n&quot; + message);\n\n        //receive response from ClientHandler (lamport clock)\n        String serverResponse = input.readLine();\n        System.out.println(serverResponse + socket);\n    }\n</code></pre>\n<p>Server side is able to print out all the text that is sent from the client side. However, the while loop doesn't break and System.out.println(&quot;is it here?&quot;); has never been executed.</p>\n<p>May I know why and how I can solve this problem please?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":6,"creation_date":1664830646,"post_id":73940741,"comment_id":130556697,"body_markdown":"`numberCups &gt;= 1 || numberCups &lt;= 100` reads &quot;if the number of cups is at least one, OR if the number of cups is up to 100 (or both), then do ...&quot;. Is this the logic you intended?","body":"<code>numberCups &gt;= 1 || numberCups &lt;= 100</code> reads &quot;if the number of cups is at least one, OR if the number of cups is up to 100 (or both), then do ...&quot;. Is this the logic you intended?"},{"owner":{"account_id":357186,"reputation":1764,"user_id":697188,"accept_rate":90,"display_name":"Michael Welch"},"score":0,"creation_date":1664830873,"post_id":73940741,"comment_id":130556761,"body_markdown":"To build on what @nanofarad said. 0 is less than or equal to 100. So your if statement is true for the value of 0.","body":"To build on what @nanofarad said. 0 is less than or equal to 100. So your if statement is true for the value of 0."},{"owner":{"account_id":26519143,"reputation":11,"user_id":20153151,"display_name":"Daniel Colbert"},"score":0,"creation_date":1664831059,"post_id":73940741,"comment_id":130556812,"body_markdown":"I see what you&#39;re getting at.  So the number has to be BETWEEN 1 and 100. If that makes more sense.  0 should fail, 101+ should fail.","body":"I see what you&#39;re getting at.  So the number has to be BETWEEN 1 and 100. If that makes more sense.  0 should fail, 101+ should fail."},{"owner":{"account_id":357186,"reputation":1764,"user_id":697188,"accept_rate":90,"display_name":"Michael Welch"},"score":1,"creation_date":1664831154,"post_id":73940741,"comment_id":130556830,"body_markdown":"correct. So check that logic to see if you&#39;ve expressed your requirements correctly in your code.","body":"correct. So check that logic to see if you&#39;ve expressed your requirements correctly in your code."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1664831203,"post_id":73940741,"comment_id":130556842,"body_markdown":"The value is either valid or not; you want an `&amp;&amp;` (not an `||`), and an `else` (not an `else if`).","body":"The value is either valid or not; you want an <code>&amp;&amp;</code> (not an <code>||</code>), and an <code>else</code> (not an <code>else if</code>)."},{"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"score":0,"creation_date":1664831863,"post_id":73940741,"comment_id":130557003,"body_markdown":"All integers are at least one of `&gt;=1` or `&lt;=100` (possibly both).","body":"All integers are at least one of <code>&gt;=1</code> or <code>&lt;=100</code> (possibly both)."}],"answers":[{"tags":[],"owner":{"account_id":19335843,"reputation":249,"user_id":14136453,"display_name":"JustQuest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664831486,"creation_date":1664831486,"answer_id":73940879,"question_id":73940741,"body_markdown":"Problem was in line:\r\n\r\n     if (numberCups &gt;= 1 || numberCups &lt;= 100) {\r\n     ...\r\n     }\r\n\r\n\r\n\r\nWhen you entered 0, program checked if 0 is greater or equal to 1, and that was false but you had also &quot;or&quot; condition ( || ), and in that condition you were checking if 0 &lt;= 100 and because that is true, false || true gives true and that&#39;s why your if statement was correct. You needed to use &quot;and&quot; ( &amp;&amp; ) instead of &quot;or&quot;. There was flaw in your logic.\r\n\r\nTest code below, it should work now:\r\n  \r\n\r\n    package recipe_collection_manager;\r\n        \r\n        import java.util.Scanner;\r\n        \r\n        public class Ingredient {\r\n        \r\n        \r\n            public static void main(String[] args) {\r\n                Scanner scnr = new Scanner(System.in);\r\n        \r\n                //Initializes the variables\r\n        \r\n                String nameOfIngredient = &quot;&quot;;\r\n                int numberCups = 0;\r\n                int numberCaloriesPerCup = 0;\r\n                int totalCaloriesPerCup = 0;\r\n                double totalCalories = 0.0;\r\n        \r\n        // Enter the name of the ingredient.\r\n        \r\n                System.out.println(&quot;Please enter the name of the ingredient: &quot;);\r\n                nameOfIngredient = scnr.next();\r\n        \r\n                // Enter the number of cups needed for the ingredient.\r\n                // If Else statements used to establish if the number of cups is valid.\r\n        \r\n                System.out.println(&quot;Please enter the number of cups of &quot;\r\n                        + nameOfIngredient + &quot; we&#39;ll need. The number of cups must be between 1 and 100: &quot;);\r\n                numberCups = scnr.nextInt();\r\n        \r\n                if (numberCups &gt;= 1 &amp;&amp; numberCups &lt;= 100) {\r\n                    System.out.println(&quot;The number of cups is valid.&quot;);\r\n                } else if (numberCups &lt;= 1 || numberCups &gt;= 100) {\r\n                    System.out.println(&quot;The number you have entered is invalid.  Please try again.&quot;);\r\n                }\r\n        \r\n                // Enter the number of calories used per cup.\r\n                // If Else statements are used to establish if the number of calories is valid.\r\n        \r\n                System.out.println(&quot;Please enter the number of calories per cup: &quot;);\r\n                numberCaloriesPerCup = scnr.nextInt();\r\n        \r\n                if (numberCaloriesPerCup &gt;= 1 || numberCaloriesPerCup &lt;= 1000) {\r\n                    System.out.println(&quot;The number of calories is valid.&quot;);\r\n                } else if (numberCaloriesPerCup &lt;= 1 || numberCaloriesPerCup &gt;= 1000) {\r\n                    System.out.println(&quot;The number you have entered is invalid.  Please try again.&quot;);\r\n                }\r\n        \r\n                // Calculation for totalCalories based on numberCups and numberCaloriesPerCup\r\n        \r\n                if (numberCups &gt; 0 &amp;&amp; numberCaloriesPerCup &gt; 0) {\r\n                    totalCalories = numberCups * numberCaloriesPerCup;\r\n                }\r\n        \r\n                System.out.println(nameOfIngredient + &quot; uses &quot; + numberCups\r\n                        + &quot; cups and has &quot; + totalCalories + &quot; calories.&quot;);\r\n        \r\n            }\r\n        }","title":"My &quot;Else If&quot; Code Isn&#39;t Working As Expected","body":"<p>Problem was in line:</p>\n<pre><code> if (numberCups &gt;= 1 || numberCups &lt;= 100) {\n ...\n }\n</code></pre>\n<p>When you entered 0, program checked if 0 is greater or equal to 1, and that was false but you had also &quot;or&quot; condition ( || ), and in that condition you were checking if 0 &lt;= 100 and because that is true, false || true gives true and that's why your if statement was correct. You needed to use &quot;and&quot; ( &amp;&amp; ) instead of &quot;or&quot;. There was flaw in your logic.</p>\n<p>Test code below, it should work now:</p>\n<pre><code>package recipe_collection_manager;\n    \n    import java.util.Scanner;\n    \n    public class Ingredient {\n    \n    \n        public static void main(String[] args) {\n            Scanner scnr = new Scanner(System.in);\n    \n            //Initializes the variables\n    \n            String nameOfIngredient = &quot;&quot;;\n            int numberCups = 0;\n            int numberCaloriesPerCup = 0;\n            int totalCaloriesPerCup = 0;\n            double totalCalories = 0.0;\n    \n    // Enter the name of the ingredient.\n    \n            System.out.println(&quot;Please enter the name of the ingredient: &quot;);\n            nameOfIngredient = scnr.next();\n    \n            // Enter the number of cups needed for the ingredient.\n            // If Else statements used to establish if the number of cups is valid.\n    \n            System.out.println(&quot;Please enter the number of cups of &quot;\n                    + nameOfIngredient + &quot; we'll need. The number of cups must be between 1 and 100: &quot;);\n            numberCups = scnr.nextInt();\n    \n            if (numberCups &gt;= 1 &amp;&amp; numberCups &lt;= 100) {\n                System.out.println(&quot;The number of cups is valid.&quot;);\n            } else if (numberCups &lt;= 1 || numberCups &gt;= 100) {\n                System.out.println(&quot;The number you have entered is invalid.  Please try again.&quot;);\n            }\n    \n            // Enter the number of calories used per cup.\n            // If Else statements are used to establish if the number of calories is valid.\n    \n            System.out.println(&quot;Please enter the number of calories per cup: &quot;);\n            numberCaloriesPerCup = scnr.nextInt();\n    \n            if (numberCaloriesPerCup &gt;= 1 || numberCaloriesPerCup &lt;= 1000) {\n                System.out.println(&quot;The number of calories is valid.&quot;);\n            } else if (numberCaloriesPerCup &lt;= 1 || numberCaloriesPerCup &gt;= 1000) {\n                System.out.println(&quot;The number you have entered is invalid.  Please try again.&quot;);\n            }\n    \n            // Calculation for totalCalories based on numberCups and numberCaloriesPerCup\n    \n            if (numberCups &gt; 0 &amp;&amp; numberCaloriesPerCup &gt; 0) {\n                totalCalories = numberCups * numberCaloriesPerCup;\n            }\n    \n            System.out.println(nameOfIngredient + &quot; uses &quot; + numberCups\n                    + &quot; cups and has &quot; + totalCalories + &quot; calories.&quot;);\n    \n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664833252,"creation_date":1664832484,"answer_id":73940998,"question_id":73940741,"body_markdown":"Just to clarify.  The following statement\r\n```\r\nif(numberCups &gt;= 1 || numberCups &lt;= 100) {\r\n...\r\n}\r\n```\r\nIs true any number of cups.  Any number of cups `&gt;= 1` will be caught by the first condition.  Any number of cups `&lt;= 0` will be caught by the second condition since in that case they will all be less than `100`.  With a logical `||` only one condition is required to be true for the statement to be true.\r\n\r\nIn fact,\r\n```\r\nif(numberOfCups is &gt;= A || numberOfCups &lt;= B) {\r\n...\r\n}\r\n```\r\nwill always be true as long as `B &gt;= A-1`.","title":"My &quot;Else If&quot; Code Isn&#39;t Working As Expected","body":"<p>Just to clarify.  The following statement</p>\n<pre><code>if(numberCups &gt;= 1 || numberCups &lt;= 100) {\n...\n}\n</code></pre>\n<p>Is true any number of cups.  Any number of cups <code>&gt;= 1</code> will be caught by the first condition.  Any number of cups <code>&lt;= 0</code> will be caught by the second condition since in that case they will all be less than <code>100</code>.  With a logical <code>||</code> only one condition is required to be true for the statement to be true.</p>\n<p>In fact,</p>\n<pre><code>if(numberOfCups is &gt;= A || numberOfCups &lt;= B) {\n...\n}\n</code></pre>\n<p>will always be true as long as <code>B &gt;= A-1</code>.</p>\n"}],"owner":{"account_id":26519143,"reputation":11,"user_id":20153151,"display_name":"Daniel Colbert"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1665027723,"creation_date":1664830535,"question_id":73940741,"body_markdown":"I am a new coder.  Working on an assignment.  This is also my first post here so I apologize if it&#39;s a little sloppy.\r\n\r\nI&#39;m having some troubles with my if/else statements in Java...the &quot;if&quot; conditions seem to work okay.  But my &quot;else&quot; conditions do not.  Take a look at the code and the build results below.\r\n\r\nBasically, I enter an ingredient. And then I put in the number of cups needed.  And the number of calories the ingredient has per x cup.  That all seems to work as long as I input what I want to for &quot;successful&quot; results.\r\n\r\n[Successful Build Image][1]\r\n\r\nBut when I start to input values outside of my criteria, my application doesn&#39;t seem to care.  If I input 0, I should get that output of &quot;your response is invalid&quot; or whatever it is I coded.  But it just seems to skip over that entirely.\r\n\r\n[Bad Code Image][2]\r\n\r\n    package recipe_collection_manager;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class Ingredient {\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scnr = new Scanner(System.in);\r\n    \r\n            //Initializes the variables\r\n    \r\n            String nameOfIngredient = &quot;&quot;;\r\n            int numberCups = 0;\r\n            int numberCaloriesPerCup = 0;\r\n            int totalCaloriesPerCup = 0;\r\n            double totalCalories = 0.0;\r\n    \r\n    // Enter the name of the ingredient.\r\n    \r\n            System.out.println(&quot;Please enter the name of the ingredient: &quot;);\r\n            nameOfIngredient = scnr.next();\r\n    \r\n            // Enter the number of cups needed for the ingredient.\r\n            // If Else statements used to establish if the number of cups is valid.\r\n    \r\n            System.out.println(&quot;Please enter the number of cups of &quot;\r\n                    + nameOfIngredient + &quot; we&#39;ll need. The number of cups must be between 1 and 100: &quot;);\r\n            numberCups = scnr.nextInt();\r\n    \r\n            if (numberCups &gt;= 1 || numberCups &lt;= 100) {\r\n                System.out.println(&quot;The number of cups is valid.&quot;);\r\n            } else if (numberCups &lt;= 1 || numberCups &gt;= 100) {\r\n                System.out.println(&quot;The number you have entered is invalid.  Please try again.&quot;);\r\n            }\r\n    \r\n            // Enter the number of calories used per cup.\r\n            // If Else statements are used to establish if the number of calories is valid.\r\n    \r\n            System.out.println(&quot;Please enter the number of calories per cup: &quot;);\r\n            numberCaloriesPerCup = scnr.nextInt();\r\n    \r\n            if (numberCaloriesPerCup &gt;= 1 || numberCaloriesPerCup &lt;= 1000) {\r\n                System.out.println(&quot;The number of calories is valid.&quot;);\r\n            } else if (numberCaloriesPerCup &lt;= 1 || numberCaloriesPerCup &gt;= 1000) {\r\n                System.out.println(&quot;The number you have entered is invalid.  Please try again.&quot;);\r\n            }\r\n    \r\n            // Calculation for totalCalories based on numberCups and numberCaloriesPerCup\r\n    \r\n            if (numberCups &gt; 0 &amp;&amp; numberCaloriesPerCup &gt; 0) {\r\n                totalCalories = numberCups * numberCaloriesPerCup;\r\n            }\r\n    \r\n            System.out.println(nameOfIngredient + &quot; uses &quot; + numberCups\r\n                    + &quot; cups and has &quot; + totalCalories + &quot; calories.&quot;);\r\n    \r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/8obJc.jpg\r\n  [2]: https://i.stack.imgur.com/HqyVj.jpg\r\n","title":"My &quot;Else If&quot; Code Isn&#39;t Working As Expected","body":"<p>I am a new coder.  Working on an assignment.  This is also my first post here so I apologize if it's a little sloppy.</p>\n<p>I'm having some troubles with my if/else statements in Java...the &quot;if&quot; conditions seem to work okay.  But my &quot;else&quot; conditions do not.  Take a look at the code and the build results below.</p>\n<p>Basically, I enter an ingredient. And then I put in the number of cups needed.  And the number of calories the ingredient has per x cup.  That all seems to work as long as I input what I want to for &quot;successful&quot; results.</p>\n<p><a href=\"https://i.stack.imgur.com/8obJc.jpg\" rel=\"nofollow noreferrer\">Successful Build Image</a></p>\n<p>But when I start to input values outside of my criteria, my application doesn't seem to care.  If I input 0, I should get that output of &quot;your response is invalid&quot; or whatever it is I coded.  But it just seems to skip over that entirely.</p>\n<p><a href=\"https://i.stack.imgur.com/HqyVj.jpg\" rel=\"nofollow noreferrer\">Bad Code Image</a></p>\n<pre><code>package recipe_collection_manager;\n\nimport java.util.Scanner;\n\npublic class Ingredient {\n\n\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n\n        //Initializes the variables\n\n        String nameOfIngredient = &quot;&quot;;\n        int numberCups = 0;\n        int numberCaloriesPerCup = 0;\n        int totalCaloriesPerCup = 0;\n        double totalCalories = 0.0;\n\n// Enter the name of the ingredient.\n\n        System.out.println(&quot;Please enter the name of the ingredient: &quot;);\n        nameOfIngredient = scnr.next();\n\n        // Enter the number of cups needed for the ingredient.\n        // If Else statements used to establish if the number of cups is valid.\n\n        System.out.println(&quot;Please enter the number of cups of &quot;\n                + nameOfIngredient + &quot; we'll need. The number of cups must be between 1 and 100: &quot;);\n        numberCups = scnr.nextInt();\n\n        if (numberCups &gt;= 1 || numberCups &lt;= 100) {\n            System.out.println(&quot;The number of cups is valid.&quot;);\n        } else if (numberCups &lt;= 1 || numberCups &gt;= 100) {\n            System.out.println(&quot;The number you have entered is invalid.  Please try again.&quot;);\n        }\n\n        // Enter the number of calories used per cup.\n        // If Else statements are used to establish if the number of calories is valid.\n\n        System.out.println(&quot;Please enter the number of calories per cup: &quot;);\n        numberCaloriesPerCup = scnr.nextInt();\n\n        if (numberCaloriesPerCup &gt;= 1 || numberCaloriesPerCup &lt;= 1000) {\n            System.out.println(&quot;The number of calories is valid.&quot;);\n        } else if (numberCaloriesPerCup &lt;= 1 || numberCaloriesPerCup &gt;= 1000) {\n            System.out.println(&quot;The number you have entered is invalid.  Please try again.&quot;);\n        }\n\n        // Calculation for totalCalories based on numberCups and numberCaloriesPerCup\n\n        if (numberCups &gt; 0 &amp;&amp; numberCaloriesPerCup &gt; 0) {\n            totalCalories = numberCups * numberCaloriesPerCup;\n        }\n\n        System.out.println(nameOfIngredient + &quot; uses &quot; + numberCups\n                + &quot; cups and has &quot; + totalCalories + &quot; calories.&quot;);\n\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665027346,"creation_date":1665027346,"answer_id":73968432,"question_id":73968082,"body_markdown":"You should use `nextLine()` to scan the current line of characters, because `next()` method finds and returns the next complete token from your specified Scanner object, which from `System.in` so it is really depends on how you input the characters.\r\n\r\nfor more information about `Scanner` class here is the reference [link][1].\r\nand also another reference [link][2] from SO about Scanner in that you need to know.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\r\n  [2]: https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo","title":"How to build a linked list using two inputs","body":"<p>You should use <code>nextLine()</code> to scan the current line of characters, because <code>next()</code> method finds and returns the next complete token from your specified Scanner object, which from <code>System.in</code> so it is really depends on how you input the characters.</p>\n<p>for more information about <code>Scanner</code> class here is the reference <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">link</a>.\nand also another reference <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">link</a> from SO about Scanner in that you need to know.</p>\n"}],"owner":{"account_id":18324523,"reputation":11,"user_id":13344521,"display_name":"Finklie Fuerst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665027346,"creation_date":1665023011,"question_id":73968082,"body_markdown":"I have having an issue figuring out how to create a linked list of objects created with two inputs. It is not printing as it should be. I wasn&#39;t sure how to initiate the initial headObj. I think that might be causing the issue?     \r\n\r\n    public class ContactList {\r\n     public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      int i;\r\n      String name;\r\n      String number;\r\n      int counter;\r\n\r\n      ContactNode headObj = new ContactNode(&quot; &quot;);\r\n      ContactNode newObject;\r\n      ContactNode prevObject;\r\n      \r\n      \r\n      prevObject = headObj;\r\n      for (i = 0; i&lt;3; i++){\r\n        \r\n        name = scnr.next();\r\n        number = scnr.next();\r\n        newObject = new ContactNode(name, number);\r\n        prevObject.insertAfter(newObject);\r\n        prevObject = newObject;\r\n      }\r\n      \r\n      newObject = headObj;\r\n      \r\n       counter = 0;\r\n      \r\n      while (newObject != null) {\r\n         counter++;\r\n         System.out.print(&quot;Person &quot; + counter + &quot; &quot;);\r\n         newObject.printContactNode();\r\n         newObject = newObject.getNext();\r\n         \r\n       }\r\n      }\r\n    }\r\n\r\n\r\nThe result is supposed to be:\r\n\r\n Person 1: Roxanne Hughes, 443-555-2864\r\n\r\n Person 2: Juan Alberto Jr., 410-555-9385\r\n\r\n Person 3: Rachel Phillips, 310-555-6610\r\n\r\nBut it is printing as:\r\n\r\nPerson 1  , null\r\n\r\nPerson 2 Roxanne, Hughes\r\n\r\nPerson 3 443-555-2864, Juan\r\n\r\nPerson 4 Alberto, Jr.","title":"How to build a linked list using two inputs","body":"<p>I have having an issue figuring out how to create a linked list of objects created with two inputs. It is not printing as it should be. I wasn't sure how to initiate the initial headObj. I think that might be causing the issue?</p>\n<pre><code>public class ContactList {\n public static void main(String[] args) {\n  Scanner scnr = new Scanner(System.in);\n  int i;\n  String name;\n  String number;\n  int counter;\n\n  ContactNode headObj = new ContactNode(&quot; &quot;);\n  ContactNode newObject;\n  ContactNode prevObject;\n  \n  \n  prevObject = headObj;\n  for (i = 0; i&lt;3; i++){\n    \n    name = scnr.next();\n    number = scnr.next();\n    newObject = new ContactNode(name, number);\n    prevObject.insertAfter(newObject);\n    prevObject = newObject;\n  }\n  \n  newObject = headObj;\n  \n   counter = 0;\n  \n  while (newObject != null) {\n     counter++;\n     System.out.print(&quot;Person &quot; + counter + &quot; &quot;);\n     newObject.printContactNode();\n     newObject = newObject.getNext();\n     \n   }\n  }\n}\n</code></pre>\n<p>The result is supposed to be:</p>\n<p>Person 1: Roxanne Hughes, 443-555-2864</p>\n<p>Person 2: Juan Alberto Jr., 410-555-9385</p>\n<p>Person 3: Rachel Phillips, 310-555-6610</p>\n<p>But it is printing as:</p>\n<p>Person 1  , null</p>\n<p>Person 2 Roxanne, Hughes</p>\n<p>Person 3 443-555-2864, Juan</p>\n<p>Person 4 Alberto, Jr.</p>\n"},{"tags":["java","file","jsp","netbeans"],"comments":[{"owner":{"account_id":1284058,"reputation":33,"user_id":1237504,"display_name":"Nikos Sakiotis"},"score":0,"creation_date":1340461644,"post_id":11168966,"comment_id":14652662,"body_markdown":"I used an absolute path and it works, however that&#39;s not a right solution. Any ideas?","body":"I used an absolute path and it works, however that&#39;s not a right solution. Any ideas?"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340473543,"creation_date":1340472544,"answer_id":11171549,"question_id":11168966,"body_markdown":"What you show is the structure of your source project. When you&#39;re running a deployed webapp, there is no source project anymore. Everything is bundled in a war file, containing JSP files, other web resources, class files under `WEB-INF/classes`, and jar files under `WEB-INF/lib`. If you want to access a file which is, in the generated war file, inside `WEB-INF/classes`, then you should access it using the classloader, using \r\n\r\n    InputStream in = SomeClassOfTheWebApp.class.getResourceAsStream(&quot;/myIndex/someFile.txt&quot;);\r\n\r\nAnd if you plan to store something inside the `myIndex` directory, then forget about it: the war file is read-only. Configure some absolute directory on the file system, outside of the webapp, and use this absolute location to store new files. Don&#39;t use a relative location, because it would depend on where the server is physically located, how it&#39;s started, what&#39;s the current directory of its JVM is, etc. And if the server is moved, everything will break.","title":"JSP Project Structure - Files Placement","body":"<p>What you show is the structure of your source project. When you're running a deployed webapp, there is no source project anymore. Everything is bundled in a war file, containing JSP files, other web resources, class files under <code>WEB-INF/classes</code>, and jar files under <code>WEB-INF/lib</code>. If you want to access a file which is, in the generated war file, inside <code>WEB-INF/classes</code>, then you should access it using the classloader, using </p>\n\n<pre><code>InputStream in = SomeClassOfTheWebApp.class.getResourceAsStream(\"/myIndex/someFile.txt\");\n</code></pre>\n\n<p>And if you plan to store something inside the <code>myIndex</code> directory, then forget about it: the war file is read-only. Configure some absolute directory on the file system, outside of the webapp, and use this absolute location to store new files. Don't use a relative location, because it would depend on where the server is physically located, how it's started, what's the current directory of its JVM is, etc. And if the server is moved, everything will break.</p>\n"}],"owner":{"account_id":1284058,"reputation":33,"user_id":1237504,"display_name":"Nikos Sakiotis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":980,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665026470,"creation_date":1340449332,"question_id":11168966,"body_markdown":"I am developing a JSP project in Netbeans. I am using some JSP files and some java files.\r\nThe project structure is the following:\r\n\r\n    root\r\n    -Web Pages\r\n      --Jsp files\r\n    -Source Packages\r\n      --myPacakge\r\n        ---Java files\r\n      --myIndex (it&#39;s a folder)\r\n\r\n**So, my problem is: I want to refer to myIndex from a java file, that is placed in myPackage.**\r\n\r\nI firstly assumed that the java files see the &quot;Source Packages&quot; as root.\r\nSo, I thaught the path to the index would be just **&quot;myIndex&quot;**, but through the debugger I found out that it is looking at ***C:\\Program Files\\Apache Software Foundation\\Apache Tomcat 7.0.14\\bin\\myIndex&#39;***\r\n\r\nI then tried the following path: **&quot;\\myIndex&quot;**, but it&#39;s now looking at ***&quot;C:\\myIndex&quot;***\r\n\r\nCould you please help me with that, how the right path to myIndex should be, or if I should place it somewhere ekse in the project ?\r\n","title":"JSP Project Structure - Files Placement","body":"<p>I am developing a JSP project in Netbeans. I am using some JSP files and some java files.\nThe project structure is the following:</p>\n\n<pre><code>root\n-Web Pages\n  --Jsp files\n-Source Packages\n  --myPacakge\n    ---Java files\n  --myIndex (it's a folder)\n</code></pre>\n\n<p><strong>So, my problem is: I want to refer to myIndex from a java file, that is placed in myPackage.</strong></p>\n\n<p>I firstly assumed that the java files see the \"Source Packages\" as root.\nSo, I thaught the path to the index would be just <strong>\"myIndex\"</strong>, but through the debugger I found out that it is looking at <strong><em>C:\\Program Files\\Apache Software Foundation\\Apache Tomcat 7.0.14\\bin\\myIndex'</em></strong></p>\n\n<p>I then tried the following path: <strong>\"\\myIndex\"</strong>, but it's now looking at <strong><em>\"C:\\myIndex\"</em></strong></p>\n\n<p>Could you please help me with that, how the right path to myIndex should be, or if I should place it somewhere ekse in the project ?</p>\n"},{"tags":["java","string","for-loop"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1665026398,"post_id":73968324,"comment_id":130604199,"body_markdown":"What should happen if there&#39;s a two-beat note occupying the 12th and 13th beats back from the end?","body":"What should happen if there&#39;s a two-beat note occupying the 12th and 13th beats back from the end?"},{"owner":{"account_id":26540927,"reputation":1,"user_id":20171676,"display_name":"user46382"},"score":0,"creation_date":1665027740,"post_id":73968324,"comment_id":130604380,"body_markdown":"it should return 11 beats","body":"it should return 11 beats"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1665028186,"post_id":73968324,"comment_id":130604430,"body_markdown":"OK, well there are lots of mistakes in your main loop.  But the most important one is probably the line `song = song.length() + upperCaseCountString + whiteSpaceCountString` - you&#39;re replacing your entire song with three numbers concatenated together, and you&#39;re doing that as many times as there are characters in the original song.","body":"OK, well there are lots of mistakes in your main loop.  But the most important one is probably the line <code>song = song.length() + upperCaseCountString + whiteSpaceCountString</code> - you&#39;re replacing your entire song with three numbers concatenated together, and you&#39;re doing that as many times as there are characters in the original song."},{"owner":{"account_id":26540927,"reputation":1,"user_id":20171676,"display_name":"user46382"},"score":0,"creation_date":1665029167,"post_id":73968324,"comment_id":130604590,"body_markdown":"oh, so I should take it out of the for loop?","body":"oh, so I should take it out of the for loop?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1665029530,"post_id":73968324,"comment_id":130604640,"body_markdown":"You probably shouldn&#39;t do that step at all.  Either `song` stores the song, or it stores the counts.  Don&#39;t change its purpose partway through.","body":"You probably shouldn&#39;t do that step at all.  Either <code>song</code> stores the song, or it stores the counts.  Don&#39;t change its purpose partway through."},{"owner":{"account_id":26540927,"reputation":1,"user_id":20171676,"display_name":"user46382"},"score":0,"creation_date":1665030678,"post_id":73968324,"comment_id":130604810,"body_markdown":"ok, thanks. how do I add the upperCaseCount and whiteSpaceCount to the string length though, if I shouldn&#39;t change it to an int?","body":"ok, thanks. how do I add the upperCaseCount and whiteSpaceCount to the string length though, if I shouldn&#39;t change it to an int?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1665083880,"post_id":73968324,"comment_id":130622827,"body_markdown":"But you&#39;re not adding them, you&#39;re concatenating them.  Your &quot;300&quot; results from `3 + &quot;0&quot; + &quot;0&quot;`.","body":"But you&#39;re not adding them, you&#39;re concatenating them.  Your &quot;300&quot; results from <code>3 + &quot;0&quot; + &quot;0&quot;</code>."}],"owner":{"account_id":26540927,"reputation":1,"user_id":20171676,"display_name":"user46382"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665026300,"creation_date":1665025839,"question_id":73968324,"body_markdown":"I need to write a method that gives the value of 2 for uppercase letters, the value of 1 for lower case, and a value of 1 for spaces and also add them to my string length. But it can&#39;t print out a value it has to print out the last 12 letters in the string after changing the values of the upper, lower case letters and the spaces\r\n\r\nFor example: \r\nedcdeeE ddDeeEedcdeeE eddedC &lt;-- if this is the string from the user\r\n\r\neeE eddedC &lt;-- this should be the output\r\n\r\n\r\nthe code below is what I came up with but it just gives me a value of 300 and i don&#39;t know why, if someone could help me that would be great!!\r\n\r\n\r\n        int upperCaseCount = 0;\r\n        int whiteSpaceCount = 0;\r\n        for(int c = 0; c &lt; song.length(); c++){\r\n            if(Character.isUpperCase(song.charAt(c)))\r\n            {\r\n                upperCaseCount++;\r\n            }\r\n            else if (song.contains(&quot; &quot;))\r\n            {\r\n                whiteSpaceCount++;\r\n            }\r\n            else\r\n            {\r\n                upperCaseCount = 0;\r\n                whiteSpaceCount = 0;\r\n            }\r\n\r\n            String whiteSpaceCountString = String.valueOf(whiteSpaceCount);\r\n            String upperCaseCountString = String.valueOf(upperCaseCount);\r\n            song = song.length() + upperCaseCountString + whiteSpaceCountString;\r\n            \r\n        }\r\n        \r\n        //extracts last 12 beats of musical score from song string\r\n        String lastTwelve = &quot; &quot;;\r\n        if(song.length() &gt; 12)\r\n        {\r\n            String songWithNumOfBeats = song;\r\n            lastTwelve = song.substring(songWithNumOfBeats.length()-12);\r\n        }\r\n        else\r\n        {\r\n            lastTwelve = song;\r\n        }\r\n        System.out.println(lastTwelve);\r\n","title":"How to give upper case letters a value of two and white space a value of 1 to add to string length and prints out last 12 letters in the string java","body":"<p>I need to write a method that gives the value of 2 for uppercase letters, the value of 1 for lower case, and a value of 1 for spaces and also add them to my string length. But it can't print out a value it has to print out the last 12 letters in the string after changing the values of the upper, lower case letters and the spaces</p>\n<p>For example:\nedcdeeE ddDeeEedcdeeE eddedC &lt;-- if this is the string from the user</p>\n<p>eeE eddedC &lt;-- this should be the output</p>\n<p>the code below is what I came up with but it just gives me a value of 300 and i don't know why, if someone could help me that would be great!!</p>\n<pre><code>    int upperCaseCount = 0;\n    int whiteSpaceCount = 0;\n    for(int c = 0; c &lt; song.length(); c++){\n        if(Character.isUpperCase(song.charAt(c)))\n        {\n            upperCaseCount++;\n        }\n        else if (song.contains(&quot; &quot;))\n        {\n            whiteSpaceCount++;\n        }\n        else\n        {\n            upperCaseCount = 0;\n            whiteSpaceCount = 0;\n        }\n\n        String whiteSpaceCountString = String.valueOf(whiteSpaceCount);\n        String upperCaseCountString = String.valueOf(upperCaseCount);\n        song = song.length() + upperCaseCountString + whiteSpaceCountString;\n        \n    }\n    \n    //extracts last 12 beats of musical score from song string\n    String lastTwelve = &quot; &quot;;\n    if(song.length() &gt; 12)\n    {\n        String songWithNumOfBeats = song;\n        lastTwelve = song.substring(songWithNumOfBeats.length()-12);\n    }\n    else\n    {\n        lastTwelve = song;\n    }\n    System.out.println(lastTwelve);\n</code></pre>\n"},{"tags":["java","variables","geometry","double"],"comments":[{"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"score":1,"creation_date":1665025845,"post_id":73968302,"comment_id":130604115,"body_markdown":"`final double pi = 3.14159;` need to be declared inside `Circle`","body":"<code>final double pi = 3.14159;</code> need to be declared inside <code>Circle</code>"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1665571641,"post_id":73968302,"comment_id":130730530,"body_markdown":"All code must be inside a class, only `package` and `import` can be outside of a class.","body":"All code must be inside a class, only <code>package</code> and <code>import</code> can be outside of a class."}],"answers":[{"tags":[],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665025890,"creation_date":1665025890,"answer_id":73968329,"question_id":73968302,"body_markdown":"It&#39;s a typo,`final double pi = 3.14159;` need to be declared inside `Circle` and `final double Pi = 3.14159;` is never used in `Main`\r\n\r\n\r\n    import java.lang.Math;\r\n    \r\n    class Circle{\r\n      double radius = 0.0;\r\n      final double pi = 3.14159;\r\n      \r\n      public Circle (){\r\n        radius = 0.0;\r\n      }\r\n    \r\n       Circle(double r){\r\n        radius = r;\r\n      }\r\n      \r\n      public double getRadius(){\r\n        return radius;\r\n      }\r\n    \r\n      public double getDiameter(){\r\n        return radius*2;\r\n      }  \r\n    \r\n      private double circumference(){\r\n        return 2*pi*radius;\r\n      }\r\n      \r\n      private double area(){\r\n        return pi*(radius*radius);\r\n      }\r\n    \r\n      public void results(){\r\n        System.out.println(&quot;The circumcerence is: &quot;+ circumference() );\r\n        System.out.println(&quot;The area is: &quot;+ area() );\r\n      }\r\n    }","title":"Using a final double variable in java","body":"<p>It's a typo,<code>final double pi = 3.14159;</code> need to be declared inside <code>Circle</code> and <code>final double Pi = 3.14159;</code> is never used in <code>Main</code></p>\n<pre><code>import java.lang.Math;\n\nclass Circle{\n  double radius = 0.0;\n  final double pi = 3.14159;\n  \n  public Circle (){\n    radius = 0.0;\n  }\n\n   Circle(double r){\n    radius = r;\n  }\n  \n  public double getRadius(){\n    return radius;\n  }\n\n  public double getDiameter(){\n    return radius*2;\n  }  \n\n  private double circumference(){\n    return 2*pi*radius;\n  }\n  \n  private double area(){\n    return pi*(radius*radius);\n  }\n\n  public void results(){\n    System.out.println(&quot;The circumcerence is: &quot;+ circumference() );\n    System.out.println(&quot;The area is: &quot;+ area() );\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":25590234,"reputation":35,"user_id":19367134,"display_name":"Ian"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1665571654,"accepted_answer_id":73968329,"answer_count":1,"score":0,"last_activity_date":1665025890,"creation_date":1665025680,"question_id":73968302,"body_markdown":"I&#39;m making a small program that asks the user for the radius of a circle and then outputs the radius, diameter, area, and circumference of the circle in java. I was asked to use a final double to declare the number pi, and I need to use that later in the code to calculate values. I&#39;m having issues with declaring/using the variable and I&#39;m not sure what I&#39;m doing wrong.\r\n\r\nI get this error when running the code:\r\n \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qBdTA.png\r\n\r\nMain.java :\r\n````\r\nimport java.util.Scanner;\r\n\r\nclass Main {\r\n  public static void main(String[] args) {\r\n    final double Pi = 3.14159;\r\n    \r\n    Scanner keyboard = new Scanner(System.in);\r\n    System.out.println(&quot;What is the radius of the circle? &quot;);    \r\n    double radius = keyboard.nextDouble();\r\n    \r\n    Circle circle1 = new Circle(radius);\r\n     \r\n    System.out.println(&quot;For a circle with diameter of &quot;+circle1.getDiameter());\r\n    System.out.print(&quot;, a radius of &quot;+circle1.getRadius());\r\n\r\n    // Calling the public method that prints the results\r\n    circle1.results();\r\n    \r\n  }\r\n````\r\n\r\nCircle.java :\r\n````\r\nimport java.lang.Math;\r\nfinal double pi = 3.14159;\r\n\r\nclass Circle{\r\n  double radius = 0.0;\r\n  \r\n  public Circle (){\r\n    radius = 0.0;\r\n  }\r\n\r\n   Circle(double r){\r\n    radius = r;\r\n  }\r\n  \r\n  public double getRadius(){\r\n    return radius;\r\n  }\r\n\r\n  public double getDiameter(){\r\n    return radius*2;\r\n  }  \r\n\r\n  private double circumference(){\r\n    return 2*pi*radius;\r\n  }\r\n  \r\n  private double area(){\r\n    return pi*(radius*radius);\r\n  }\r\n\r\n  public void results(){\r\n    System.out.println(&quot;The circumcerence is: &quot;+ circumference() );\r\n    System.out.println(&quot;The area is: &quot;+ area() );\r\n  }\r\n}\r\n````","title":"Using a final double variable in java","body":"<p>I'm making a small program that asks the user for the radius of a circle and then outputs the radius, diameter, area, and circumference of the circle in java. I was asked to use a final double to declare the number pi, and I need to use that later in the code to calculate values. I'm having issues with declaring/using the variable and I'm not sure what I'm doing wrong.</p>\n<p>I get this error when running the code:</p>\n<p><a href=\"https://i.stack.imgur.com/qBdTA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qBdTA.png\" alt=\"enter image description here\" /></a></p>\n<p>Main.java :</p>\n<pre><code>import java.util.Scanner;\n\nclass Main {\n  public static void main(String[] args) {\n    final double Pi = 3.14159;\n    \n    Scanner keyboard = new Scanner(System.in);\n    System.out.println(&quot;What is the radius of the circle? &quot;);    \n    double radius = keyboard.nextDouble();\n    \n    Circle circle1 = new Circle(radius);\n     \n    System.out.println(&quot;For a circle with diameter of &quot;+circle1.getDiameter());\n    System.out.print(&quot;, a radius of &quot;+circle1.getRadius());\n\n    // Calling the public method that prints the results\n    circle1.results();\n    \n  }\n</code></pre>\n<p>Circle.java :</p>\n<pre><code>import java.lang.Math;\nfinal double pi = 3.14159;\n\nclass Circle{\n  double radius = 0.0;\n  \n  public Circle (){\n    radius = 0.0;\n  }\n\n   Circle(double r){\n    radius = r;\n  }\n  \n  public double getRadius(){\n    return radius;\n  }\n\n  public double getDiameter(){\n    return radius*2;\n  }  \n\n  private double circumference(){\n    return 2*pi*radius;\n  }\n  \n  private double area(){\n    return pi*(radius*radius);\n  }\n\n  public void results(){\n    System.out.println(&quot;The circumcerence is: &quot;+ circumference() );\n    System.out.println(&quot;The area is: &quot;+ area() );\n  }\n}\n</code></pre>\n"},{"tags":["java","oop","interface"],"comments":[{"owner":{"account_id":19319034,"reputation":384,"user_id":14123115,"display_name":"VanSuTuyDuyen"},"score":0,"creation_date":1664992075,"post_id":73963742,"comment_id":130597144,"body_markdown":"Have you tried in your second `createObject3()`, replace it with a new method which return a new object from `class Four implements TestInterface, NewInterface { ... }` ?","body":"Have you tried in your second <code>createObject3()</code>, replace it with a new method which return a new object from <code>class Four implements TestInterface, NewInterface { ... }</code> ?"},{"owner":{"account_id":1536635,"reputation":5711,"user_id":1432503,"accept_rate":43,"display_name":"Zed"},"score":1,"creation_date":1664995243,"post_id":73963742,"comment_id":130598121,"body_markdown":"Thanks, just realized I can&#39;t simply assign value from interface to another(duh), but I was able to cast it to the target interface so it was fine. This feels somehow dirty..\n\nNot sure what I would get with class Four ? I already have class Three implements TestInterface, NewInterface { ... } which that functionality is needed.","body":"Thanks, just realized I can&#39;t simply assign value from interface to another(duh), but I was able to cast it to the target interface so it was fine. This feels somehow dirty..  Not sure what I would get with class Four ? I already have class Three implements TestInterface, NewInterface { ... } which that functionality is needed."},{"owner":{"account_id":19319034,"reputation":384,"user_id":14123115,"display_name":"VanSuTuyDuyen"},"score":0,"creation_date":1665022312,"post_id":73963742,"comment_id":130603636,"body_markdown":"I can give an example: Have you ever heard of ActionListener on GUI ? There are onClickListener, onLongClickListener, onCheckChangedListener (checkbox) and many many things else, they are seperated interfaces. If the framework designer just design the button component as : class Button implements ActionListener, it becomes really bad because I will have tons of method with empty body which I don&#39;t need. In your case, what happened if I never use NewInterface ?","body":"I can give an example: Have you ever heard of ActionListener on GUI ? There are onClickListener, onLongClickListener, onCheckChangedListener (checkbox) and many many things else, they are seperated interfaces. If the framework designer just design the button component as : class Button implements ActionListener, it becomes really bad because I will have tons of method with empty body which I don&#39;t need. In your case, what happened if I never use NewInterface ?"}],"answers":[{"tags":[],"owner":{"account_id":733809,"reputation":43147,"user_id":1211528,"accept_rate":57,"display_name":"plalx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665024036,"creation_date":1665024036,"answer_id":73968167,"question_id":73963742,"body_markdown":"### Default methods\r\n\r\nJava can now have default methods to make it easier to add new behaviors to interfaces without modifying all implementing classes.\r\n\r\ne.g.\r\n\r\n```java\r\ninterface TestInterface {\r\n    String action1();\r\n    String action2();\r\n    String action3();\r\n    default String action4() { return &quot;&quot;; }\r\n}\r\n```\r\n\r\nIf there&#39;s a sensible default behavior to implement then perhaps this could be a suitable design. You might say this doesn&#39;t align with the Interface Segregation Principle, but bear in mind the implementor isin&#39;t concerned with implementing `action4` and the consumer depends on all 4 actions, so I wouldn&#39;t say it&#39;s necessarily a terrible design.\r\n\r\n### Feature interfaces\r\n\r\nAlternatively you could use feature-like interfaces, like plugins, where each action has it&#39;s own interface e.g. \r\n\r\n`interface Action4Executor { String action4(); }`\r\n\r\nIn this case however the consumer will have to use `instanceof Action4Executor` to check if the action is supported prior to invoking the behavior. Bear in mind that you need to make code discovery easy here, so that it&#39;s obvious what feature interfaces are available. For instance, you may declare other actions as nested interfaces under `TestInterface`.\r\n\r\n### Actions as first-class citizens\r\n\r\nPerhaps it could make sense to model actions as messages, such as rather than \r\nbeing methods, actions are objects e.g.\r\n\r\n```java\r\ninterface TestInterface {\r\n    String executeAction(Action action);\r\n}\r\n```\r\n\r\nIn this case you&#39;d have to document in the interface what should happen when actions aren&#39;t supported for instance, or you may add a `boolean supportsAction(Action action)` in the interface as well.\r\n\r\n### Conclusion\r\n\r\nHopefully that gives you some design ideas. It&#39;s hard to tell what should be the proper design without knowing more about the problem domain...\r\n\r\n\r\n\r\n","title":"How to handle a new method in the interface that is not applicable for all classes?","body":"<h3>Default methods</h3>\n<p>Java can now have default methods to make it easier to add new behaviors to interfaces without modifying all implementing classes.</p>\n<p>e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface TestInterface {\n    String action1();\n    String action2();\n    String action3();\n    default String action4() { return &quot;&quot;; }\n}\n</code></pre>\n<p>If there's a sensible default behavior to implement then perhaps this could be a suitable design. You might say this doesn't align with the Interface Segregation Principle, but bear in mind the implementor isin't concerned with implementing <code>action4</code> and the consumer depends on all 4 actions, so I wouldn't say it's necessarily a terrible design.</p>\n<h3>Feature interfaces</h3>\n<p>Alternatively you could use feature-like interfaces, like plugins, where each action has it's own interface e.g.</p>\n<p><code>interface Action4Executor { String action4(); }</code></p>\n<p>In this case however the consumer will have to use <code>instanceof Action4Executor</code> to check if the action is supported prior to invoking the behavior. Bear in mind that you need to make code discovery easy here, so that it's obvious what feature interfaces are available. For instance, you may declare other actions as nested interfaces under <code>TestInterface</code>.</p>\n<h3>Actions as first-class citizens</h3>\n<p>Perhaps it could make sense to model actions as messages, such as rather than\nbeing methods, actions are objects e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface TestInterface {\n    String executeAction(Action action);\n}\n</code></pre>\n<p>In this case you'd have to document in the interface what should happen when actions aren't supported for instance, or you may add a <code>boolean supportsAction(Action action)</code> in the interface as well.</p>\n<h3>Conclusion</h3>\n<p>Hopefully that gives you some design ideas. It's hard to tell what should be the proper design without knowing more about the problem domain...</p>\n"}],"owner":{"account_id":1536635,"reputation":5711,"user_id":1432503,"accept_rate":43,"display_name":"Zed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665024036,"creation_date":1664988526,"question_id":73963742,"body_markdown":"I am faced with an interesting OOD problem: I have an interface with 3 methods:\r\n\r\n    interface TestInterface {\r\n       String action1();\r\n       String action2();\r\n       String action3();\r\n    } \r\n\r\n\r\nand 3 classes that implement this interface, so I have a very simple code:\r\n\r\n    TestInterface testInt;\r\n    \r\n    if(something) {\r\n       testInt = createObject1();\r\n    } else if(somethingElse) {\r\n       testInt = createObject2();\r\n    } else {\r\n       testInt = createObject3();\r\n    }\r\n    \r\n    \r\n    if(againSomething) {\r\n        testInt.action1();\r\n    } else if(againSomethingElse) {\r\n        testInt.action2();\r\n    } else {\r\n        testInt.action3();\r\n    }\r\n\r\nThis works fine, however I need to add additional action, but this action only makes sense in the context of one of the classes that implement TestInterface and not in the other two, so if I would to continue the pattern, I would have to add it to the interface, and make a dummy implementation in other classes, but at least the rest of the code would look nice:\r\n\r\n    interface TestInterface {\r\n       String action1();\r\n       String action2();\r\n       String action3();\r\n       String action4();\r\n    }\r\n\r\n \r\n\r\n    ...\r\n    if(someSpecificAction) {\r\n       testInt.action4();\r\n    }\r\n\r\nI&#39;m not quite keen on that kind of design, so I&#39;m looking for an alternative. I was thinking about creating another interface, just with that method, but I was wondering if I can do better than this code below ?\r\n\r\n    interface TestInterface {\r\n       String action1();\r\n       String action2();\r\n       String action3();\r\n    }\r\n    \r\n    interface NewInterface {\r\n       String action4();\r\n    \r\n    }\r\n    \r\n    TestInterface testInt;\r\n    NewInterface newInt;\r\n    \r\n    if(something) {\r\n       testInt = createObject1();\r\n    } else if(somethingElse) {\r\n       testInt = createObject2();\r\n    } else if(something3) {\r\n       testInt = createObject3();\r\n    } else {\r\n       testInt = createObject3();\r\n       newInt = testInt;\r\n    }\r\n    \r\n    \r\n    if(againSomething) {\r\n        testInt.action1();\r\n    } else if(againSomethingElse) {\r\n        testInt.action2();\r\n    } else if(something) {\r\n        testInt.action3();\r\n    } else {\r\n       newInt.action4();\r\n    }\r\n\r\nIs there a better way to solve this problem ?","title":"How to handle a new method in the interface that is not applicable for all classes?","body":"<p>I am faced with an interesting OOD problem: I have an interface with 3 methods:</p>\n<pre><code>interface TestInterface {\n   String action1();\n   String action2();\n   String action3();\n} \n</code></pre>\n<p>and 3 classes that implement this interface, so I have a very simple code:</p>\n<pre><code>TestInterface testInt;\n\nif(something) {\n   testInt = createObject1();\n} else if(somethingElse) {\n   testInt = createObject2();\n} else {\n   testInt = createObject3();\n}\n\n\nif(againSomething) {\n    testInt.action1();\n} else if(againSomethingElse) {\n    testInt.action2();\n} else {\n    testInt.action3();\n}\n</code></pre>\n<p>This works fine, however I need to add additional action, but this action only makes sense in the context of one of the classes that implement TestInterface and not in the other two, so if I would to continue the pattern, I would have to add it to the interface, and make a dummy implementation in other classes, but at least the rest of the code would look nice:</p>\n<pre><code>interface TestInterface {\n   String action1();\n   String action2();\n   String action3();\n   String action4();\n}\n\n\n\n...\nif(someSpecificAction) {\n   testInt.action4();\n}\n</code></pre>\n<p>I'm not quite keen on that kind of design, so I'm looking for an alternative. I was thinking about creating another interface, just with that method, but I was wondering if I can do better than this code below ?</p>\n<pre><code>interface TestInterface {\n   String action1();\n   String action2();\n   String action3();\n}\n\ninterface NewInterface {\n   String action4();\n\n}\n\nTestInterface testInt;\nNewInterface newInt;\n\nif(something) {\n   testInt = createObject1();\n} else if(somethingElse) {\n   testInt = createObject2();\n} else if(something3) {\n   testInt = createObject3();\n} else {\n   testInt = createObject3();\n   newInt = testInt;\n}\n\n\nif(againSomething) {\n    testInt.action1();\n} else if(againSomethingElse) {\n    testInt.action2();\n} else if(something) {\n    testInt.action3();\n} else {\n   newInt.action4();\n}\n</code></pre>\n<p>Is there a better way to solve this problem ?</p>\n"},{"tags":["java","android","android-room"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665023911,"creation_date":1665020532,"answer_id":73967887,"question_id":73967731,"body_markdown":"&gt; How can I create multiple tables in a single database without loosing data on restart.\r\n\r\nYou define multiple tables by specifying multiple `@Entity` annotated classes in the entities parameter of the `@Database` annotation.\r\n\r\nThat is how you tell Room what tables will be created.\r\n\r\nWhere you use `ItineraryDatabase.class, CONSTANTS.ITINERARY_TABLE`, this is telling Room that the database (i.e. the file name) will be named as per `CONSTANTS.ITINERARY_TABLE`.\r\n\r\nI suspect that you want the same table layout/schema but multiple tables (possibly itself not a good idea as each table has overheads when a single column could indicate the equivalent of the row belonging to a specific set of data). \r\n\r\n- ***you may wish to edit your question to say more about what you are trying to achieve and you may therefore get more elaborate and specific answers.*** If you do then feel free to notify myself by comment as such to this answer. At the minimum I would then look at any changes, but there is a very good chance that I would elaborate.\r\n\r\n**Additional (DEMO)**\r\n\r\nConsidering the comment:-\r\n\r\n&gt; I want to have different table with different table schema&#39;s in a single database file. I have seperate entity classes for them. Do i need to have getinstance for each table in this single class ( which extends with roomdatabase) ? One Database Class with multiple getinstance?\r\n\r\nand also the presumption of a single schema (not that it matters much if not, simpler if not). Then consider the following code that is based very much on your code.\r\n\r\n**ItineraryData** (used as a model for two tables, so not @Entity annotated - can be ignored if different schemas);-\r\n\r\n    class ItineraryData {\r\n       @PrimaryKey\r\n       Long id=null;\r\n       long date=System.currentTimeMillis() / 1000;\r\n       @NonNull\r\n       String otherColumn;\r\n    }\r\n\r\n**CONSTANTS** :-\r\n\r\n    class CONSTANTS {\r\n       static final String ITINERARY_TABLE = &quot;it01&quot;;\r\n       static final String ITINERARY_TABLE_2 = &quot;it02&quot;;\r\n    }\r\n\r\n**ItineraryTable01** (bit of a cheat as schema grabbed from ItineraryData) :-\r\n\r\n    @Entity(tableName = CONSTANTS.ITINERARY_TABLE)\r\n    class ItineraryTable01 extends ItineraryData {\r\n    }\r\n\r\n**ItineraryTable02** (cheat again):-\r\n\r\n    @Entity(tableName = CONSTANTS.ITINERARY_TABLE_2)\r\n    class ItineraryTable02 extends ItineraryData {\r\n    }\r\n\r\n**ItineraryDao**\r\n\r\n    @Dao\r\n    public interface ItineraryDao {\r\n       \r\n       @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n       void insert(ItineraryTable01 model);\r\n       @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n       void insert(ItineraryTable02 model);\r\n    \r\n       @Update\r\n       void update(ItineraryTable01 model);\r\n       @Update\r\n       void update(ItineraryTable02 model);\r\n    \r\n       @Delete\r\n       void delete(ItineraryTable01 model);\r\n       @Delete\r\n       void delete(ItineraryTable02 model);\r\n    \r\n       @Query(&quot;DELETE FROM &quot; + CONSTANTS.ITINERARY_TABLE)\r\n       void deleteAllItineraryTable01();\r\n       @Query(&quot;DELETE FROM &quot; + CONSTANTS.ITINERARY_TABLE_2)\r\n       void deleteAllItineraryTable02();\r\n    \r\n       @Query(&quot;SELECT * FROM &quot; + CONSTANTS.ITINERARY_TABLE + &quot; ORDER BY Date ASC&quot;)\r\n       /*LiveData&lt;*/List&lt;ItineraryTable01&gt;/*&gt;*/ getAllItineraryTable01();\r\n       @Query(&quot;SELECT * FROM &quot; + CONSTANTS.ITINERARY_TABLE + &quot; ORDER BY Date ASC&quot;)\r\n          /*LiveData&lt;*/List&lt;ItineraryTable02&gt;/*&gt;*/ getAllItineraryTable02();\r\n    }\r\n\r\n- commented out LiveData so can run on MainThread (although queries not used in demo, but just in case)\r\n- note the close duplications for each table.\r\n\r\n**ItineraryDatabase**\r\n\r\n    @Database(entities = { ItineraryTable01.class,ItineraryTable02.class/*ItineraryData.class*/} ,version = 1,exportSchema = false)\r\n    public abstract  class ItineraryDatabase extends RoomDatabase {\r\n    \r\n       private static ItineraryDatabase instance;\r\n    \r\n       public abstract ItineraryDao Dao();\r\n    \r\n       public static synchronized ItineraryDatabase getInstance(Context mCon) {\r\n          if (instance == null) {\r\n             instance =\r\n                     Room.databaseBuilder(mCon.getApplicationContext(),\r\n                                     ItineraryDatabase.class, CONSTANTS.ITINERARY_TABLE)\r\n                             .allowMainThreadQueries() /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Added for convenience brevity of demo */\r\n                             .fallbackToDestructiveMigration()\r\n                             .addCallback(roomCallback)\r\n                             .build();\r\n          }\r\n          return instance;\r\n    \r\n       }\r\n    \r\n       private static RoomDatabase.Callback roomCallback = new RoomDatabase.Callback() {\r\n          @Override\r\n          public void onCreate(@NonNull SupportSQLiteDatabase db) {\r\n             super.onCreate(db);\r\n    \r\n             new PopulateDbAsyncTask(instance).execute();\r\n          }\r\n       };\r\n    \r\n       private static class PopulateDbAsyncTask extends AsyncTask&lt;Void, Void, Void&gt; {\r\n          PopulateDbAsyncTask(ItineraryDatabase instance) {\r\n             ItineraryDao dao = instance.Dao();\r\n          }\r\n    \r\n          @Override\r\n          protected Void doInBackground(Void... voids) {\r\n             return null;\r\n          }\r\n       }\r\n    }\r\n\r\n- allow to run on Main thread, otherwise unchanged (no need for callback though, it does nothing)\r\n\r\nFinally to demo some code in an activity :-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        ItineraryDatabase db;\r\n        ItineraryDao dao;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            ItineraryTable01 it01 = new ItineraryTable01();\r\n            ItineraryTable02 it02 = new ItineraryTable02();\r\n    \r\n            it01.otherColumn = &quot;blah01&quot;;\r\n            it02.otherColumn = &quot;blah02&quot;;\r\n    \r\n            db = ItineraryDatabase.getInstance(this);\r\n            dao = db.Dao();\r\n            /* Not until following code is executed is the database actually opened */\r\n            dao.insert(it01); /* Inserts into table01 */\r\n            dao.insert(it02); /* Inserts into table02 */\r\n    \r\n        }\r\n    }\r\n\r\n**Results**\r\n\r\n**When first run**\r\n\r\nUsing App Inspection:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nand \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**Run again** (aka rerun)\r\n\r\n[![enter image description here][3]][3]\r\n\r\nand\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n- as can be seen the data (rows highlighted) from the first run has been retained and data from the second run has been added (different generated id&#39;s and timestamps)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SE1yW.png\r\n  [2]: https://i.stack.imgur.com/EIuTr.png\r\n  [3]: https://i.stack.imgur.com/ISBfz.png\r\n  [4]: https://i.stack.imgur.com/0Pg4o.png","title":"Room Database Empty when Restarted App ( Same DB Name)","body":"<blockquote>\n<p>How can I create multiple tables in a single database without loosing data on restart.</p>\n</blockquote>\n<p>You define multiple tables by specifying multiple <code>@Entity</code> annotated classes in the entities parameter of the <code>@Database</code> annotation.</p>\n<p>That is how you tell Room what tables will be created.</p>\n<p>Where you use <code>ItineraryDatabase.class, CONSTANTS.ITINERARY_TABLE</code>, this is telling Room that the database (i.e. the file name) will be named as per <code>CONSTANTS.ITINERARY_TABLE</code>.</p>\n<p>I suspect that you want the same table layout/schema but multiple tables (possibly itself not a good idea as each table has overheads when a single column could indicate the equivalent of the row belonging to a specific set of data).</p>\n<ul>\n<li><em><strong>you may wish to edit your question to say more about what you are trying to achieve and you may therefore get more elaborate and specific answers.</strong></em> If you do then feel free to notify myself by comment as such to this answer. At the minimum I would then look at any changes, but there is a very good chance that I would elaborate.</li>\n</ul>\n<p><strong>Additional (DEMO)</strong></p>\n<p>Considering the comment:-</p>\n<blockquote>\n<p>I want to have different table with different table schema's in a single database file. I have seperate entity classes for them. Do i need to have getinstance for each table in this single class ( which extends with roomdatabase) ? One Database Class with multiple getinstance?</p>\n</blockquote>\n<p>and also the presumption of a single schema (not that it matters much if not, simpler if not). Then consider the following code that is based very much on your code.</p>\n<p><strong>ItineraryData</strong> (used as a model for two tables, so not @Entity annotated - can be ignored if different schemas);-</p>\n<pre><code>class ItineraryData {\n   @PrimaryKey\n   Long id=null;\n   long date=System.currentTimeMillis() / 1000;\n   @NonNull\n   String otherColumn;\n}\n</code></pre>\n<p><strong>CONSTANTS</strong> :-</p>\n<pre><code>class CONSTANTS {\n   static final String ITINERARY_TABLE = &quot;it01&quot;;\n   static final String ITINERARY_TABLE_2 = &quot;it02&quot;;\n}\n</code></pre>\n<p><strong>ItineraryTable01</strong> (bit of a cheat as schema grabbed from ItineraryData) :-</p>\n<pre><code>@Entity(tableName = CONSTANTS.ITINERARY_TABLE)\nclass ItineraryTable01 extends ItineraryData {\n}\n</code></pre>\n<p><strong>ItineraryTable02</strong> (cheat again):-</p>\n<pre><code>@Entity(tableName = CONSTANTS.ITINERARY_TABLE_2)\nclass ItineraryTable02 extends ItineraryData {\n}\n</code></pre>\n<p><strong>ItineraryDao</strong></p>\n<pre><code>@Dao\npublic interface ItineraryDao {\n   \n   @Insert(onConflict = OnConflictStrategy.IGNORE)\n   void insert(ItineraryTable01 model);\n   @Insert(onConflict = OnConflictStrategy.IGNORE)\n   void insert(ItineraryTable02 model);\n\n   @Update\n   void update(ItineraryTable01 model);\n   @Update\n   void update(ItineraryTable02 model);\n\n   @Delete\n   void delete(ItineraryTable01 model);\n   @Delete\n   void delete(ItineraryTable02 model);\n\n   @Query(&quot;DELETE FROM &quot; + CONSTANTS.ITINERARY_TABLE)\n   void deleteAllItineraryTable01();\n   @Query(&quot;DELETE FROM &quot; + CONSTANTS.ITINERARY_TABLE_2)\n   void deleteAllItineraryTable02();\n\n   @Query(&quot;SELECT * FROM &quot; + CONSTANTS.ITINERARY_TABLE + &quot; ORDER BY Date ASC&quot;)\n   /*LiveData&lt;*/List&lt;ItineraryTable01&gt;/*&gt;*/ getAllItineraryTable01();\n   @Query(&quot;SELECT * FROM &quot; + CONSTANTS.ITINERARY_TABLE + &quot; ORDER BY Date ASC&quot;)\n      /*LiveData&lt;*/List&lt;ItineraryTable02&gt;/*&gt;*/ getAllItineraryTable02();\n}\n</code></pre>\n<ul>\n<li>commented out LiveData so can run on MainThread (although queries not used in demo, but just in case)</li>\n<li>note the close duplications for each table.</li>\n</ul>\n<p><strong>ItineraryDatabase</strong></p>\n<pre><code>@Database(entities = { ItineraryTable01.class,ItineraryTable02.class/*ItineraryData.class*/} ,version = 1,exportSchema = false)\npublic abstract  class ItineraryDatabase extends RoomDatabase {\n\n   private static ItineraryDatabase instance;\n\n   public abstract ItineraryDao Dao();\n\n   public static synchronized ItineraryDatabase getInstance(Context mCon) {\n      if (instance == null) {\n         instance =\n                 Room.databaseBuilder(mCon.getApplicationContext(),\n                                 ItineraryDatabase.class, CONSTANTS.ITINERARY_TABLE)\n                         .allowMainThreadQueries() /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Added for convenience brevity of demo */\n                         .fallbackToDestructiveMigration()\n                         .addCallback(roomCallback)\n                         .build();\n      }\n      return instance;\n\n   }\n\n   private static RoomDatabase.Callback roomCallback = new RoomDatabase.Callback() {\n      @Override\n      public void onCreate(@NonNull SupportSQLiteDatabase db) {\n         super.onCreate(db);\n\n         new PopulateDbAsyncTask(instance).execute();\n      }\n   };\n\n   private static class PopulateDbAsyncTask extends AsyncTask&lt;Void, Void, Void&gt; {\n      PopulateDbAsyncTask(ItineraryDatabase instance) {\n         ItineraryDao dao = instance.Dao();\n      }\n\n      @Override\n      protected Void doInBackground(Void... voids) {\n         return null;\n      }\n   }\n}\n</code></pre>\n<ul>\n<li>allow to run on Main thread, otherwise unchanged (no need for callback though, it does nothing)</li>\n</ul>\n<p>Finally to demo some code in an activity :-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    ItineraryDatabase db;\n    ItineraryDao dao;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ItineraryTable01 it01 = new ItineraryTable01();\n        ItineraryTable02 it02 = new ItineraryTable02();\n\n        it01.otherColumn = &quot;blah01&quot;;\n        it02.otherColumn = &quot;blah02&quot;;\n\n        db = ItineraryDatabase.getInstance(this);\n        dao = db.Dao();\n        /* Not until following code is executed is the database actually opened */\n        dao.insert(it01); /* Inserts into table01 */\n        dao.insert(it02); /* Inserts into table02 */\n\n    }\n}\n</code></pre>\n<p><strong>Results</strong></p>\n<p><strong>When first run</strong></p>\n<p>Using App Inspection:-</p>\n<p><a href=\"https://i.stack.imgur.com/SE1yW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SE1yW.png\" alt=\"enter image description here\" /></a></p>\n<p>and</p>\n<p><a href=\"https://i.stack.imgur.com/EIuTr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EIuTr.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Run again</strong> (aka rerun)</p>\n<p><a href=\"https://i.stack.imgur.com/ISBfz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ISBfz.png\" alt=\"enter image description here\" /></a></p>\n<p>and</p>\n<p><a href=\"https://i.stack.imgur.com/0Pg4o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Pg4o.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>as can be seen the data (rows highlighted) from the first run has been retained and data from the second run has been added (different generated id's and timestamps)</li>\n</ul>\n"}],"owner":{"account_id":18724988,"reputation":519,"user_id":13651898,"display_name":"Supun Ayeshmantha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73967887,"answer_count":1,"score":1,"last_activity_date":1665023911,"creation_date":1665018499,"question_id":73967731,"body_markdown":"I am newbie to the Android X Room Database. Earlier I used Sqlitehelper class to access the sqlite databases and then migrated to room. The question is , when I insert data into Room database table it stores for that moment and when I restart the app the data is gone. I want to have multiple tables in a single database. \r\n\r\nDAO : \r\n\r\n    @androidx.room.Dao\r\n    public interface ItineraryDao {\r\n\r\n\r\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n    void insert(ItineraryData model);\r\n\r\n    @Update\r\n    void update(ItineraryData model);\r\n\r\n    @Delete\r\n    void delete(ItineraryData model);\r\n\r\n    @Query(&quot;DELETE FROM &quot;+ CONSTANTS.ITINERARY_TABLE)\r\n    void deleteAllItinerary();\r\n\r\n    @Query(&quot;SELECT * FROM &quot;+CONSTANTS.ITINERARY_TABLE+&quot; ORDER BY Date ASC&quot;)\r\n    LiveData&lt;List&lt;ItineraryData&gt;&gt; getAllItinerary();\r\n\r\n\r\n\r\nDatabase:\r\n\r\n\r\n    @Database(entities = {ItineraryData.class},version = 1,exportSchema = false)\r\n    public abstract  class ItineraryDatabase extends RoomDatabase {\r\n\r\n    private static ItineraryDatabase instance;\r\n    public abstract ItineraryDao Dao();\r\n\r\n    public static synchronized ItineraryDatabase getInstance(Context mCon){\r\n        if (instance == null) {\r\n            instance =\r\n                  Room.databaseBuilder(mCon.getApplicationContext(),\r\n                                    ItineraryDatabase.class, CONSTANTS.ITINERARY_TABLE)\r\n                            .fallbackToDestructiveMigration()\r\n                            .addCallback(roomCallback)\r\n                            .build();\r\n        }\r\n      \r\n        return instance;\r\n\r\n    }\r\n\r\n    private static RoomDatabase.Callback roomCallback = new RoomDatabase.Callback() {\r\n        @Override\r\n        public void onCreate(@NonNull SupportSQLiteDatabase db) {\r\n            super.onCreate(db);\r\n      \r\n            new PopulateDbAsyncTask(instance).execute();\r\n        }\r\n    };\r\n    private static class PopulateDbAsyncTask extends AsyncTask&lt;Void, Void, Void&gt; {\r\n        PopulateDbAsyncTask(ItineraryDatabase instance) {\r\n            ItineraryDao dao = instance.Dao();\r\n        }\r\n        @Override\r\n        protected Void doInBackground(Void... voids) {\r\n            return null;\r\n        }\r\n\r\nThe above is the code I used is every table to generate table with different Dao&#39;s . As I need to create the tablets in a single database i used same CONSTANTS.ITINERARY_TABLE for all of them. If I use differnt names in CONSTANTS.ITINERARY_TABLE this works fine. But it creates different databases. \r\n\r\nHow can I create multiple tables in a single database without loosing data on restart. I went thorugh some earlier posts. But they suggest to use different database names.\r\n\r\nThank you\r\n","title":"Room Database Empty when Restarted App ( Same DB Name)","body":"<p>I am newbie to the Android X Room Database. Earlier I used Sqlitehelper class to access the sqlite databases and then migrated to room. The question is , when I insert data into Room database table it stores for that moment and when I restart the app the data is gone. I want to have multiple tables in a single database.</p>\n<p>DAO :</p>\n<pre><code>@androidx.room.Dao\npublic interface ItineraryDao {\n\n\n@Insert(onConflict = OnConflictStrategy.IGNORE)\nvoid insert(ItineraryData model);\n\n@Update\nvoid update(ItineraryData model);\n\n@Delete\nvoid delete(ItineraryData model);\n\n@Query(&quot;DELETE FROM &quot;+ CONSTANTS.ITINERARY_TABLE)\nvoid deleteAllItinerary();\n\n@Query(&quot;SELECT * FROM &quot;+CONSTANTS.ITINERARY_TABLE+&quot; ORDER BY Date ASC&quot;)\nLiveData&lt;List&lt;ItineraryData&gt;&gt; getAllItinerary();\n</code></pre>\n<p>Database:</p>\n<pre><code>@Database(entities = {ItineraryData.class},version = 1,exportSchema = false)\npublic abstract  class ItineraryDatabase extends RoomDatabase {\n\nprivate static ItineraryDatabase instance;\npublic abstract ItineraryDao Dao();\n\npublic static synchronized ItineraryDatabase getInstance(Context mCon){\n    if (instance == null) {\n        instance =\n              Room.databaseBuilder(mCon.getApplicationContext(),\n                                ItineraryDatabase.class, CONSTANTS.ITINERARY_TABLE)\n                        .fallbackToDestructiveMigration()\n                        .addCallback(roomCallback)\n                        .build();\n    }\n  \n    return instance;\n\n}\n\nprivate static RoomDatabase.Callback roomCallback = new RoomDatabase.Callback() {\n    @Override\n    public void onCreate(@NonNull SupportSQLiteDatabase db) {\n        super.onCreate(db);\n  \n        new PopulateDbAsyncTask(instance).execute();\n    }\n};\nprivate static class PopulateDbAsyncTask extends AsyncTask&lt;Void, Void, Void&gt; {\n    PopulateDbAsyncTask(ItineraryDatabase instance) {\n        ItineraryDao dao = instance.Dao();\n    }\n    @Override\n    protected Void doInBackground(Void... voids) {\n        return null;\n    }\n</code></pre>\n<p>The above is the code I used is every table to generate table with different Dao's . As I need to create the tablets in a single database i used same CONSTANTS.ITINERARY_TABLE for all of them. If I use differnt names in CONSTANTS.ITINERARY_TABLE this works fine. But it creates different databases.</p>\n<p>How can I create multiple tables in a single database without loosing data on restart. I went thorugh some earlier posts. But they suggest to use different database names.</p>\n<p>Thank you</p>\n"},{"tags":["java","string","jvm"],"comments":[{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":1,"creation_date":1384174331,"post_id":19906786,"comment_id":29617517,"body_markdown":"As I understand it only strings that are known at compile time are pooled. There is no runtime check","body":"As I understand it only strings that are known at compile time are pooled. There is no runtime check"},{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":0,"creation_date":1384174379,"post_id":19906786,"comment_id":29617548,"body_markdown":"@RichardTingle no object pool exists at compile time. Everything comes into existence during execution.","body":"@RichardTingle no object pool exists at compile time. Everything comes into existence during execution."},{"owner":{"account_id":1029041,"reputation":807,"user_id":1037729,"accept_rate":0,"display_name":"newlogic"},"score":0,"creation_date":1384174411,"post_id":19906786,"comment_id":29617564,"body_markdown":"Are yes that would make sense.","body":"Are yes that would make sense."},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":1,"creation_date":1384174449,"post_id":19906786,"comment_id":29617590,"body_markdown":"@JunedAhsan **Known** at compile time","body":"@JunedAhsan <b>Known</b> at compile time"},{"owner":{"account_id":1126136,"reputation":17393,"user_id":1113392,"display_name":"A4L"},"score":0,"creation_date":1384174461,"post_id":19906786,"comment_id":29617599,"body_markdown":"The pool / chache is only for literals, i.e. constant String known at compile time. If you create a String using the new operator then it will be a new instance regardless whether it has already been declared as literal or not.","body":"The pool / chache is only for literals, i.e. constant String known at compile time. If you create a String using the new operator then it will be a new instance regardless whether it has already been declared as literal or not."},{"owner":{"account_id":1029041,"reputation":807,"user_id":1037729,"accept_rate":0,"display_name":"newlogic"},"score":0,"creation_date":1384174572,"post_id":19906786,"comment_id":29617668,"body_markdown":"Maybe the compiler just creates a static string and replaces repeated strings with that static reference?","body":"Maybe the compiler just creates a static string and replaces repeated strings with that static reference?"},{"owner":{"account_id":1029041,"reputation":807,"user_id":1037729,"accept_rate":0,"display_name":"newlogic"},"score":0,"creation_date":1384174669,"post_id":19906786,"comment_id":29617715,"body_markdown":"@A4L, sure but how does it pool / cache the literals, is it a dynamic systems at runtime, or does the compiler replace literals with a reference to a static?","body":"@A4L, sure but how does it pool / cache the literals, is it a dynamic systems at runtime, or does the compiler replace literals with a reference to a static?"},{"owner":{"account_id":3490045,"reputation":3759,"user_id":2919971,"accept_rate":100,"display_name":"MadConan"},"score":0,"creation_date":1384175294,"post_id":19906786,"comment_id":29618070,"body_markdown":"@user1037729: You have it backwards:  The compiler replaces all static  final references Strings with the String literal.","body":"@user1037729: You have it backwards:  The compiler replaces all static  final references Strings with the String literal."},{"owner":{"account_id":1029041,"reputation":807,"user_id":1037729,"accept_rate":0,"display_name":"newlogic"},"score":0,"creation_date":1384175683,"post_id":19906786,"comment_id":29618286,"body_markdown":"@MadConan that doesn&#39;t make sense to me, why would it create more instances when it doesn&#39;t need to, surely the compiler would scan through the java code and if it finds a repeated string literal it would create a static and reference this.. are this would mean the string would never get GC&#39;d this means a string dynamic pool must be  used, if so how is this pool implemented, tree, hash table...?","body":"@MadConan that doesn&#39;t make sense to me, why would it create more instances when it doesn&#39;t need to, surely the compiler would scan through the java code and if it finds a repeated string literal it would create a static and reference this.. are this would mean the string would never get GC&#39;d this means a string dynamic pool must be  used, if so how is this pool implemented, tree, hash table...?"},{"owner":{"account_id":3490045,"reputation":3759,"user_id":2919971,"accept_rate":100,"display_name":"MadConan"},"score":0,"creation_date":1384175774,"post_id":19906786,"comment_id":29618319,"body_markdown":"@user1037729:  See the edit to my answer.  That doesn&#39;t create more instances.  It simply points the reference to the same instance.  It sounds like you need to do some research on the terminology of reference and instance in Java, as well as basic memory allocation.","body":"@user1037729:  See the edit to my answer.  That doesn&#39;t create more instances.  It simply points the reference to the same instance.  It sounds like you need to do some research on the terminology of reference and instance in Java, as well as basic memory allocation."}],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384174425,"creation_date":1384174425,"answer_id":19906898,"question_id":19906786,"body_markdown":"There is no check whether a new string is already in the string pool, this is one of the reasons why you should not use `==` to compare strings.\r\n\r\nThe string pool is used for strings that are known at compile time. Or if you manually use `intern()` and use the returned instance.","title":"What is the time cost of creating a String in Java, with respect to JVM&#39;s string pool?","body":"<p>There is no check whether a new string is already in the string pool, this is one of the reasons why you should not use <code>==</code> to compare strings.</p>\n\n<p>The string pool is used for strings that are known at compile time. Or if you manually use <code>intern()</code> and use the returned instance.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384174613,"creation_date":1384174613,"answer_id":19906957,"question_id":19906786,"body_markdown":"Every time a String is created dynamically at runtime, a new String instance is returned. The String pool only contains String literals and String compile-time constants, or Strings that have explicitely been added to the pool by calling [`String.intern()`][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#intern%28%29","title":"What is the time cost of creating a String in Java, with respect to JVM&#39;s string pool?","body":"<p>Every time a String is created dynamically at runtime, a new String instance is returned. The String pool only contains String literals and String compile-time constants, or Strings that have explicitely been added to the pool by calling <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#intern%28%29\" rel=\"nofollow\"><code>String.intern()</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446336778,"creation_date":1384174634,"answer_id":19906967,"question_id":19906786,"body_markdown":"Any String that can, at compile time, be known is pooled, this means the following creates only one string. (String literals are the most obvious of example, but any compile time constant string is pooled)\r\n\r\n    static final String a= &quot;hello world&quot;;\r\n    static final String b= &quot;hello world&quot;;\r\n    static final String c= &quot;hello&quot; + &quot; world&quot;;\r\n\r\nHowever, any string which is created during the normal run of the program is not pooled and so no such check exists unless you explicitely call `.intern()`\r\n","title":"What is the time cost of creating a String in Java, with respect to JVM&#39;s string pool?","body":"<p>Any String that can, at compile time, be known is pooled, this means the following creates only one string. (String literals are the most obvious of example, but any compile time constant string is pooled)</p>\n\n<pre><code>static final String a= \"hello world\";\nstatic final String b= \"hello world\";\nstatic final String c= \"hello\" + \" world\";\n</code></pre>\n\n<p>However, any string which is created during the normal run of the program is not pooled and so no such check exists unless you explicitely call <code>.intern()</code></p>\n"},{"tags":[],"owner":{"account_id":907854,"reputation":15741,"user_id":942391,"accept_rate":57,"display_name":"Sumit Singh"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1665022485,"creation_date":1384174698,"answer_id":19906990,"question_id":19906786,"body_markdown":"From [this unofficial blog][1]\r\n&gt;Java Virtual Machine maintains an internal list of references for interned Strings ( pool of unique Strings) to avoid duplicate String objects in heap memory. Whenever the JVM loads String literal from class file and executes, it checks whether that String exists in the internal list or not. If it already exists in the list, then it  does not create a new String and it uses reference to the existing String Object.  \r\n&gt;\r\n&gt; **JVM does this type of checking internally for String literal but not for String object which it creates through &#39;new&#39; keyword**. You can explicitly force JVM to do this type of checking for String objects which are created through &#39;`new`&#39; keyword using `String.intern()` method. This forces JVM to check the internal list and use the existing String object if it is already present.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20151209084324/http://www.precisejava.com/javaperf/j2se/StringAndStringBuffer.htm","title":"What is the time cost of creating a String in Java, with respect to JVM&#39;s string pool?","body":"<p>From <a href=\"https://web.archive.org/web/20151209084324/http://www.precisejava.com/javaperf/j2se/StringAndStringBuffer.htm\" rel=\"nofollow noreferrer\">this unofficial blog</a></p>\n<blockquote>\n<p>Java Virtual Machine maintains an internal list of references for interned Strings ( pool of unique Strings) to avoid duplicate String objects in heap memory. Whenever the JVM loads String literal from class file and executes, it checks whether that String exists in the internal list or not. If it already exists in the list, then it  does not create a new String and it uses reference to the existing String Object.</p>\n<p><strong>JVM does this type of checking internally for String literal but not for String object which it creates through 'new' keyword</strong>. You can explicitly force JVM to do this type of checking for String objects which are created through '<code>new</code>' keyword using <code>String.intern()</code> method. This forces JVM to check the internal list and use the existing String object if it is already present.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3490045,"reputation":3759,"user_id":2919971,"accept_rate":100,"display_name":"MadConan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1384175503,"creation_date":1384175055,"answer_id":19907122,"question_id":19906786,"body_markdown":"When a JVM is running, only constant Strings (i.e. hard coded)  are in the String pool.  \r\n\r\n    public class StringExample{\r\n        private static final String CONSTANT = &quot;Cannon Ball!!!&quot;; // &lt;- In the pool\r\n        public void processStrings(String[] args){\r\n                                   //        ^--Assumed contents are variables, not in the pool\r\n            String temp = &quot;I&#39;ll wade in.&quot;; // &lt;- In the pool\r\n            StringBuilder sb = new StringBuilder(100);\r\n            sb.append(&quot;I&quot;).append(&quot; hate&quot;).append(&quot; water.&quot;);  \r\n            String dynamic = sb.toString(); //  &lt;- Not in the pool.\r\n            dynamic.intern(); // &lt;- Now it&#39;s in the pool.\r\n\r\n        }\r\n    }\r\n\r\nAll dynamic strings are external to the String pool.  You can programatically add Strings to the pool by calling `String.intern()`. \r\n&lt;HR&gt;\r\nEDIT:  To address your comment to your question:  When you have something like the following:\r\n\r\n    public class StringExample{\r\n       public static final String CONSTANT = &quot;Just me.&quot;;\r\n    }\r\n    public class Foo{\r\n       private String value = StringExample.CONSTANT;\r\n    }\r\n\r\nAt compile time, the compiler simply replaces the reference with the hard-coded string, so it would be the equivalent of doing\r\n\r\n    public class StringExample{\r\n       public static final String CONSTANT = &quot;Just me.&quot;;\r\n    }\r\n    public class Foo{\r\n       private String value = &quot;Just me.&quot;;\r\n    }\r\n","title":"What is the time cost of creating a String in Java, with respect to JVM&#39;s string pool?","body":"<p>When a JVM is running, only constant Strings (i.e. hard coded)  are in the String pool.  </p>\n\n<pre><code>public class StringExample{\n    private static final String CONSTANT = \"Cannon Ball!!!\"; // &lt;- In the pool\n    public void processStrings(String[] args){\n                               //        ^--Assumed contents are variables, not in the pool\n        String temp = \"I'll wade in.\"; // &lt;- In the pool\n        StringBuilder sb = new StringBuilder(100);\n        sb.append(\"I\").append(\" hate\").append(\" water.\");  \n        String dynamic = sb.toString(); //  &lt;- Not in the pool.\n        dynamic.intern(); // &lt;- Now it's in the pool.\n\n    }\n}\n</code></pre>\n\n<p>All dynamic strings are external to the String pool.  You can programatically add Strings to the pool by calling <code>String.intern()</code>. \n<HR>\nEDIT:  To address your comment to your question:  When you have something like the following:</p>\n\n<pre><code>public class StringExample{\n   public static final String CONSTANT = \"Just me.\";\n}\npublic class Foo{\n   private String value = StringExample.CONSTANT;\n}\n</code></pre>\n\n<p>At compile time, the compiler simply replaces the reference with the hard-coded string, so it would be the equivalent of doing</p>\n\n<pre><code>public class StringExample{\n   public static final String CONSTANT = \"Just me.\";\n}\npublic class Foo{\n   private String value = \"Just me.\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384179463,"creation_date":1384179463,"answer_id":19908539,"question_id":19906786,"body_markdown":"&gt; Java has a string pool and therefore before a new string is actually created I guess there is a check to see if the same string already exists, what is the cost of this call?\r\n\r\nThis only happens for String literals, not Strings you create.  You can call String.intern() to add it to the pool, but only after it has been created.\r\n\r\n&gt; Is the pool a hash or tree based structure?\r\n\r\nIts a fixed size hash map with linked list for collisions.  I suggest you not over use this. As it doesn&#39;t scale.\r\n\r\n&gt; In either case I guess comes down to the performance of the String hash code, as search trees use hash code as a key?\r\n\r\nIf you need a String pool I suggest you write one yourself.  I have one which takes a `byte[]` or a `CharSequence` such a StringBuilder and pools the String so it doesn&#39;t create objects around 90% of the time (that is the target)\r\n\r\n&gt; I&#39;m guessing its about log n, where n is the number of strings currently on the heap.\r\n\r\nActually is O(1) up to around 10,000 which is the capacity, after that it is O(n) which is not great.\r\n\r\n&gt; how does it pool / cache the literals, does the compiler replace literals with a reference to a static? – \r\n\r\nThe compiler combines String literals in a given class file, but the JVM takes that and combines them for the whole JVM.","title":"What is the time cost of creating a String in Java, with respect to JVM&#39;s string pool?","body":"<blockquote>\n  <p>Java has a string pool and therefore before a new string is actually created I guess there is a check to see if the same string already exists, what is the cost of this call?</p>\n</blockquote>\n\n<p>This only happens for String literals, not Strings you create.  You can call String.intern() to add it to the pool, but only after it has been created.</p>\n\n<blockquote>\n  <p>Is the pool a hash or tree based structure?</p>\n</blockquote>\n\n<p>Its a fixed size hash map with linked list for collisions.  I suggest you not over use this. As it doesn't scale.</p>\n\n<blockquote>\n  <p>In either case I guess comes down to the performance of the String hash code, as search trees use hash code as a key?</p>\n</blockquote>\n\n<p>If you need a String pool I suggest you write one yourself.  I have one which takes a <code>byte[]</code> or a <code>CharSequence</code> such a StringBuilder and pools the String so it doesn't create objects around 90% of the time (that is the target)</p>\n\n<blockquote>\n  <p>I'm guessing its about log n, where n is the number of strings currently on the heap.</p>\n</blockquote>\n\n<p>Actually is O(1) up to around 10,000 which is the capacity, after that it is O(n) which is not great.</p>\n\n<blockquote>\n  <p>how does it pool / cache the literals, does the compiler replace literals with a reference to a static? – </p>\n</blockquote>\n\n<p>The compiler combines String literals in a given class file, but the JVM takes that and combines them for the whole JVM.</p>\n"}],"owner":{"account_id":1029041,"reputation":807,"user_id":1037729,"accept_rate":0,"display_name":"newlogic"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1665022485,"creation_date":1384174151,"question_id":19906786,"body_markdown":"Java has a string pool and therefore before a new string is actually created I guess there is a check to see if the same string already exists, what is the cost of this call? \r\n\r\nIs the pool a hash or tree based structure?\r\n\r\nIn either case I guess comes down to the performance of the String hash code, as search trees use hash code as a key? \r\n\r\nI&#39;m guessing its about log n, where n is the number of strings currently on the heap.","title":"What is the time cost of creating a String in Java, with respect to JVM&#39;s string pool?","body":"<p>Java has a string pool and therefore before a new string is actually created I guess there is a check to see if the same string already exists, what is the cost of this call? </p>\n\n<p>Is the pool a hash or tree based structure?</p>\n\n<p>In either case I guess comes down to the performance of the String hash code, as search trees use hash code as a key? </p>\n\n<p>I'm guessing its about log n, where n is the number of strings currently on the heap.</p>\n"},{"tags":["java","graphics","dimensions"],"comments":[{"owner":{"account_id":980255,"reputation":2416,"user_id":1000159,"accept_rate":84,"display_name":"dann.dev"},"score":1,"creation_date":1321385218,"post_id":8141865,"comment_id":9991838,"body_markdown":"What are you drawing too? Fullscreen, or something like a JPanel?","body":"What are you drawing too? Fullscreen, or something like a JPanel?"},{"owner":{"account_id":146068,"reputation":429,"user_id":356293,"accept_rate":50,"display_name":"peter"},"score":1,"creation_date":1321386153,"post_id":8141865,"comment_id":9992148,"body_markdown":"a JPanel. but this method should not care about that, it only has g to go on.","body":"a JPanel. but this method should not care about that, it only has g to go on."},{"owner":{"account_id":980255,"reputation":2416,"user_id":1000159,"accept_rate":84,"display_name":"dann.dev"},"score":0,"creation_date":1321391107,"post_id":8141865,"comment_id":9993645,"body_markdown":"I&#39;m not 100% sure but I think in this kind of instance you always draw relative to 0,0 in the top corner. The viewport as it were, never actually moves. If you wanted to do something where conceptually it moves, you have to code over the top of it to manage a viewport yourself","body":"I&#39;m not 100% sure but I think in this kind of instance you always draw relative to 0,0 in the top corner. The viewport as it were, never actually moves. If you wanted to do something where conceptually it moves, you have to code over the top of it to manage a viewport yourself"},{"owner":{"account_id":146068,"reputation":429,"user_id":356293,"accept_rate":50,"display_name":"peter"},"score":0,"creation_date":1322308520,"post_id":8141865,"comment_id":10192619,"body_markdown":"that&#39;s wrong. but even if it were true, top left 0,0, how does that give me the other corners?","body":"that&#39;s wrong. but even if it were true, top left 0,0, how does that give me the other corners?"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1321384861,"creation_date":1321384861,"answer_id":8141895,"question_id":8141865,"body_markdown":"Is\r\n\r\n    Rectangle bounds = g.getDeviceConfiguration().getBounds()\r\n\r\nwhat you&#39;re after perhaps? I don&#39;t know myself, but just browsing the docs it looks like a reasonable bet...","title":"java: How to get the &#39;screen&#39; dimensions from a Graphics object","body":"<p>Is</p>\n\n<pre><code>Rectangle bounds = g.getDeviceConfiguration().getBounds()\n</code></pre>\n\n<p>what you're after perhaps? I don't know myself, but just browsing the docs it looks like a reasonable bet...</p>\n"},{"tags":[],"owner":{"account_id":45842,"reputation":13608,"user_id":135294,"display_name":"cjstehno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321385661,"creation_date":1321385661,"answer_id":8142075,"question_id":8141865,"body_markdown":"How about\r\n\r\n    java.awt.Toolkit.getDefaultToolkit().getScreenSize()\r\n\r\nwhich returns a Dimension object with the size of the screen. \r\n\r\nHope this helps.","title":"java: How to get the &#39;screen&#39; dimensions from a Graphics object","body":"<p>How about</p>\n\n<pre><code>java.awt.Toolkit.getDefaultToolkit().getScreenSize()\n</code></pre>\n\n<p>which returns a Dimension object with the size of the screen. </p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":20175027,"reputation":21,"user_id":14796919,"display_name":"Jorge Davalos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665022041,"creation_date":1665022041,"answer_id":73968008,"question_id":8141865,"body_markdown":"For me, this works: \r\n\r\n    Rectangle rect = g.getClipBounds();\r\n\r\n\r\nExample:\r\n\r\n    public class GetBoundsThroughGraphics extends JPanel {\r\n    \r\n        public GetBoundsThroughGraphics() {\r\n            setPreferredSize(new Dimension(300, 300));\r\n        }\r\n    \r\n        @Override\r\n        public void paint(Graphics g) {\r\n            super.paint(g);\r\n            Rectangle rect = g.getClipBounds();\r\n            int width = (int)rect.getWidth(); // 300\r\n            int height = (int)rect.getHeight(); // 300\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            JFrame frame = new JFrame();\r\n            frame.add(new GetBoundsThroughGraphics());\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n    }","title":"java: How to get the &#39;screen&#39; dimensions from a Graphics object","body":"<p>For me, this works:</p>\n<pre><code>Rectangle rect = g.getClipBounds();\n</code></pre>\n<p>Example:</p>\n<pre><code>public class GetBoundsThroughGraphics extends JPanel {\n\n    public GetBoundsThroughGraphics() {\n        setPreferredSize(new Dimension(300, 300));\n    }\n\n    @Override\n    public void paint(Graphics g) {\n        super.paint(g);\n        Rectangle rect = g.getClipBounds();\n        int width = (int)rect.getWidth(); // 300\n        int height = (int)rect.getHeight(); // 300\n    }\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        frame.add(new GetBoundsThroughGraphics());\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":146068,"reputation":429,"user_id":356293,"accept_rate":50,"display_name":"peter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10060,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1665022041,"creation_date":1321384731,"question_id":8141865,"body_markdown":"I am working on a geometry program where I need to draw &#39;infinite&#39; lines. My class Line has a method\r\n\r\n    public void draw(Graphics2D g){\r\n        //... calculate x1,y1,x2,y2 here ...\r\n        g.draw(new Line2D.Double(x1,y1, x2,y2));\r\n    }\r\n\r\nMy idea is to choose the coordinates large enough so they will be off the visible surface. But I don&#39;t know, and this is my question, how do I know the coordinates of the corners of the visible surface? Graphic&#39;s method getClip() sounded nice, but apparently it only returns a custom clip the user set before. Apparently what I need is called &#39;device clip&#39; in the docs.\r\n\r\nAnd before you suggest a big length, like 10000, I don&#39;t mean pixel size here. I use transforms for zooming and translating and such, so 10000 might well be visible.\r\n\r\nedit:\r\nI just wanted to tell you what I ended up doing: I defined a reasonably large constants for maximum screen width and height (they might need adjusting in 10 years), then I apply the inverse of my current display transformation to this &#39;screen&#39; to know the necessary length of my &#39;infinite&#39; lines.\r\nI.e. the problem is not solved, only confined to a single spot in the code.","title":"java: How to get the &#39;screen&#39; dimensions from a Graphics object","body":"<p>I am working on a geometry program where I need to draw 'infinite' lines. My class Line has a method</p>\n\n<pre><code>public void draw(Graphics2D g){\n    //... calculate x1,y1,x2,y2 here ...\n    g.draw(new Line2D.Double(x1,y1, x2,y2));\n}\n</code></pre>\n\n<p>My idea is to choose the coordinates large enough so they will be off the visible surface. But I don't know, and this is my question, how do I know the coordinates of the corners of the visible surface? Graphic's method getClip() sounded nice, but apparently it only returns a custom clip the user set before. Apparently what I need is called 'device clip' in the docs.</p>\n\n<p>And before you suggest a big length, like 10000, I don't mean pixel size here. I use transforms for zooming and translating and such, so 10000 might well be visible.</p>\n\n<p>edit:\nI just wanted to tell you what I ended up doing: I defined a reasonably large constants for maximum screen width and height (they might need adjusting in 10 years), then I apply the inverse of my current display transformation to this 'screen' to know the necessary length of my 'infinite' lines.\nI.e. the problem is not solved, only confined to a single spot in the code.</p>\n"},{"tags":["java","anylogic"],"answers":[{"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664106137,"creation_date":1664104331,"answer_id":73844048,"question_id":73843449,"body_markdown":"You can package conditions into nested conditions as below:\r\n[![enter image description here][1]][1]\r\n\r\nNow the agent will continue on the &quot;true&quot; exit if the entire first line is `true`, else it will check the third line and follow whatever boolean that returns.\r\n\r\nNOTE: You cannot use `;` in these 1-line condition code boxes. If you want to write longer code, you must create a function that returns a boolean and call that instead. Especially for complex nested statements like yours, it is often much easier to create a specific function\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZOf0U.png","title":"Conditional statement in SelectOutput checking for 2 conditions anylogic returning error","body":"<p>You can package conditions into nested conditions as below:\n<a href=\"https://i.stack.imgur.com/ZOf0U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZOf0U.png\" alt=\"enter image description here\" /></a></p>\n<p>Now the agent will continue on the &quot;true&quot; exit if the entire first line is <code>true</code>, else it will check the third line and follow whatever boolean that returns.</p>\n<p>NOTE: You cannot use <code>;</code> in these 1-line condition code boxes. If you want to write longer code, you must create a function that returns a boolean and call that instead. Especially for complex nested statements like yours, it is often much easier to create a specific function</p>\n"},{"tags":[],"owner":{"account_id":2649548,"reputation":65,"user_id":2291580,"display_name":"slepax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665021943,"creation_date":1665021943,"answer_id":73967997,"question_id":73843449,"body_markdown":"Since Java supports lazy evaluations, this should do what you want:\r\n\r\n    (agent.isMorning &amp;&amp; doctorMorning.idle() == 0) || (!agent.isMorning &amp;&amp; doctorAfternoon.idle() == 0)\r\n\r\n","title":"Conditional statement in SelectOutput checking for 2 conditions anylogic returning error","body":"<p>Since Java supports lazy evaluations, this should do what you want:</p>\n<pre><code>(agent.isMorning &amp;&amp; doctorMorning.idle() == 0) || (!agent.isMorning &amp;&amp; doctorAfternoon.idle() == 0)\n</code></pre>\n"}],"owner":{"account_id":18081032,"reputation":433,"user_id":13143177,"display_name":"NickA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73844048,"answer_count":2,"score":0,"last_activity_date":1665021943,"creation_date":1664098413,"question_id":73843449,"body_markdown":"I am trying to set 2 conditions that have to be checked inside the ```Condition``` field of ```selectOutput```. If the entirety of the first line is false, I want the entirety of the second to be checked. However, using the code below, I am returned the error that only shows for the first instance of ```==``` of the second statement:\r\n\r\nSyntax error on token &quot;==&quot;, invalid AssignmentOperator\r\n\r\n\r\n```\r\nagent.isMorning == true &amp;&amp; doctorMorning.idle() == 0;\r\n\r\nagent.isMorning == false &amp;&amp; doctorAfternoon.idle() == 0;\r\n```","title":"Conditional statement in SelectOutput checking for 2 conditions anylogic returning error","body":"<p>I am trying to set 2 conditions that have to be checked inside the <code>Condition</code> field of <code>selectOutput</code>. If the entirety of the first line is false, I want the entirety of the second to be checked. However, using the code below, I am returned the error that only shows for the first instance of <code>==</code> of the second statement:</p>\n<p>Syntax error on token &quot;==&quot;, invalid AssignmentOperator</p>\n<pre><code>agent.isMorning == true &amp;&amp; doctorMorning.idle() == 0;\n\nagent.isMorning == false &amp;&amp; doctorAfternoon.idle() == 0;\n</code></pre>\n"},{"tags":["java","file","text","output"],"comments":[{"owner":{"account_id":450898,"reputation":15332,"user_id":846476,"accept_rate":86,"display_name":"RNJ"},"score":0,"creation_date":1351586448,"post_id":13135331,"comment_id":17864281,"body_markdown":"Usually the buffered readers are best but I would advise trying a couple of ways and then timing them. These things often have lots of factors affecting performance","body":"Usually the buffered readers are best but I would advise trying a couple of ways and then timing them. These things often have lots of factors affecting performance"},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1351586694,"post_id":13135331,"comment_id":17864362,"body_markdown":"What is a &quot;reading&quot;? Do you just want to write a string to a text file?","body":"What is a &quot;reading&quot;? Do you just want to write a string to a text file?"}],"answers":[{"tags":[],"owner":{"account_id":318130,"reputation":4243,"user_id":635171,"accept_rate":78,"display_name":"Arun Manivannan"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1351586561,"creation_date":1351586561,"answer_id":13135367,"question_id":13135331,"body_markdown":"If you are planning to use the JDK alone, you might want to consider wrapping your `BufferedWriter` with a `PrintWriter` as in \r\n\r\n    PrintWriter printWriter=new PrintWriter(bufferedWriter);\r\n    printWriter.println(yourString);\r\n\r\nThe printWriter comes with a nice `println` method. \r\n\r\nOr if you are free to use external libraries, try [FileUtils][1] `writeStringToFile`\r\n\r\n  [1]: http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html","title":"Most efficient way to write a string to a file","body":"<p>If you are planning to use the JDK alone, you might want to consider wrapping your <code>BufferedWriter</code> with a <code>PrintWriter</code> as in </p>\n\n<pre><code>PrintWriter printWriter=new PrintWriter(bufferedWriter);\nprintWriter.println(yourString);\n</code></pre>\n\n<p>The printWriter comes with a nice <code>println</code> method. </p>\n\n<p>Or if you are free to use external libraries, try <a href=\"http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html\">FileUtils</a> <code>writeStringToFile</code></p>\n"},{"tags":[],"owner":{"account_id":208605,"reputation":5884,"user_id":459185,"accept_rate":100,"display_name":"Amit Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1351586793,"creation_date":1351586637,"answer_id":13135380,"question_id":13135331,"body_markdown":"Yup. Use `java.io.BufferedWriter`. ","title":"Most efficient way to write a string to a file","body":"<p>Yup. Use <code>java.io.BufferedWriter</code>. </p>\n"},{"tags":[],"owner":{"account_id":907854,"reputation":15741,"user_id":942391,"accept_rate":57,"display_name":"Sumit Singh"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1351586763,"creation_date":1351586763,"answer_id":13135405,"question_id":13135331,"body_markdown":"Use [FileWriter][1] will do you job.  \r\n\r\n    BufferedWriter writer = new BufferedWriter( new FileWriter( yourfilename));\r\n    writer.write( yourstring);\r\n    // do stuff \r\n    writer.close();\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/io/FileWriter.html","title":"Most efficient way to write a string to a file","body":"<p>Use <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/io/FileWriter.html\" rel=\"noreferrer\">FileWriter</a> will do you job.  </p>\n\n<pre><code>BufferedWriter writer = new BufferedWriter( new FileWriter( yourfilename));\nwriter.write( yourstring);\n// do stuff \nwriter.close();\n</code></pre>\n"}],"owner":{"account_id":1489533,"reputation":311,"user_id":1396974,"accept_rate":84,"display_name":"DavyGravy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21823,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1351590003,"accepted_answer_id":13135405,"answer_count":3,"score":5,"last_activity_date":1665020921,"creation_date":1351586364,"question_id":13135331,"body_markdown":"&gt; **Possible Duplicate:**  \r\n&gt; [How do I save a String to a text file using Java?](https://stackoverflow.com/questions/1053467/how-do-i-save-a-string-to-a-text-file-using-java)  \r\n\r\n&lt;!-- End of automatically inserted text --&gt;\r\n\r\nI want to add a reading from a machine to a file (Java).\r\nThe reading will be in the form of a string that I have formatted. The file is just a text file. At the moment I am considering Filewriter/Buffered writer is this the correct one to use?\r\n","title":"Most efficient way to write a string to a file","body":"<blockquote>\n<p><strong>Possible Duplicate:</strong><br />\n<a href=\"https://stackoverflow.com/questions/1053467/how-do-i-save-a-string-to-a-text-file-using-java\">How do I save a String to a text file using Java?</a></p>\n</blockquote>\n\n<p>I want to add a reading from a machine to a file (Java).\nThe reading will be in the form of a string that I have formatted. The file is just a text file. At the moment I am considering Filewriter/Buffered writer is this the correct one to use?</p>\n"},{"tags":["java","vb.net","java-8","binary","binaryfiles"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":6,"creation_date":1665013729,"post_id":73967336,"comment_id":130602526,"body_markdown":"binary files don&#39;t have a notion of lines, and they shouldn&#39;t not be processed using the character-oriented classes and methods of Java, e.g. don&#39;t use Readers to read them or Writers to write them.","body":"binary files don&#39;t have a notion of lines, and they shouldn&#39;t not be processed using the character-oriented classes and methods of Java, e.g. don&#39;t use Readers to read them or Writers to write them."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1665015965,"post_id":73967336,"comment_id":130602811,"body_markdown":"What format does the file have? What is the objective of this method?","body":"What format does the file have? What is the objective of this method?"},{"owner":{"account_id":18422632,"reputation":77,"user_id":13419857,"display_name":"Edisson Gabriel L&#243;pez"},"score":1,"creation_date":1665017277,"post_id":73967336,"comment_id":130602960,"body_markdown":"It has no format, I can see it with Notepad, only the file arrives with the Julian date file.JJJ @TimMoore","body":"It has no format, I can see it with Notepad, only the file arrives with the Julian date file.JJJ @TimMoore"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1665017915,"post_id":73967336,"comment_id":130603033,"body_markdown":"What is the file for, and what are you trying to do with it?","body":"What is the file for, and what are you trying to do with it?"},{"owner":{"account_id":18422632,"reputation":77,"user_id":13419857,"display_name":"Edisson Gabriel L&#243;pez"},"score":0,"creation_date":1665018341,"post_id":73967336,"comment_id":130603092,"body_markdown":"@TimMoore Extract the binaries to another temporary file with an id:binary\nexample:\n`200232133:..3....&#162;...€ . ...\n\n300232133:.....&#222;&#249;...€ ....€\n\n400232133:&#249;....&#222;&#249;...€ ....€ ....`","body":"@TimMoore Extract the binaries to another temporary file with an id:binary example: <code>200232133:..3....&#162;...€ . ...  300232133:.....&#222;&#249;...€ ....€  400232133:&#249;....&#222;&#249;...€ ....€ ....</code>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1665019139,"post_id":73967336,"comment_id":130603208,"body_markdown":"What do you mean by “extract”? We’re going to need a lot more information in this question if you’d like a useful answer. Going back and forth in comments is not the best approach.","body":"What do you mean by “extract”? We’re going to need a lot more information in this question if you’d like a useful answer. Going back and forth in comments is not the best approach."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1665019314,"post_id":73967336,"comment_id":130603230,"body_markdown":"Also, looking at binary files in Notepad is not a good way to understand the contents. You can try a hex editor if you want to see the numeric value of each byte, but it will probably not help you to understand the format of the data. If you don’t know how the data is formatted, there is not much of anything useful you can do with it, other than copy it directly.","body":"Also, looking at binary files in Notepad is not a good way to understand the contents. You can try a hex editor if you want to see the numeric value of each byte, but it will probably not help you to understand the format of the data. If you don’t know how the data is formatted, there is not much of anything useful you can do with it, other than copy it directly."},{"owner":{"account_id":18422632,"reputation":77,"user_id":13419857,"display_name":"Edisson Gabriel L&#243;pez"},"score":0,"creation_date":1665020129,"post_id":73967336,"comment_id":130603362,"body_markdown":"@TimMoore There I updated the post with a VB.net code that I am basing it on to write it in JAVA.","body":"@TimMoore There I updated the post with a VB.net code that I am basing it on to write it in JAVA."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1665020381,"post_id":73967336,"comment_id":130603393,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/248583/discussion-between-tim-moore-and-edisson-gabriel-lopez).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/248583/discussion-between-tim-moore-and-edisson-gabriel-lopez\">continue this discussion in chat</a>."}],"owner":{"account_id":18422632,"reputation":77,"user_id":13419857,"display_name":"Edisson Gabriel L&#243;pez"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665020546,"creation_date":1665013508,"question_id":73967336,"body_markdown":"I have the following method, but this one has a problem and it is that in a part of the file there are some special characters where the character with hexadecimal value `81(.)` when the program generates the export of the file is `3F(?)` and with that it damages the binary:\r\n\r\n```\r\npublic static void exportbinary() {\r\n        List&lt;String&gt; files = listFiles(source,1);\r\n        System.out.println(&quot;Reviewing files to extract data&quot;);\r\n        String registro = null;\r\n        String contenido = &quot;&quot;;\r\n        for (String s : files) {\r\n            //The name of the files to be processed is adjusted\r\n            String ogName=s;\r\n            System.out.println(&quot;Renaming files to extract binary data...&quot;);\r\n            File sFile = new File(source, s);\r\n            sFile.renameTo(new File(source,s+&quot;ext&quot;));\r\n            s = s+&quot;ext&quot;;\r\n            \r\n            //Start binary extraction process\r\n            File sourceFile = new File(source, s);\r\n            File destFile = new File(destination, ogName);\r\n            if (destFile.exists()) {\r\n                destFile.delete();\r\n            }\r\n            if (!dctmp.exists()) {\r\n                try {\r\n                    dctmp.createNewFile();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            Writer w = null;\r\n            try {\r\n                w = new BufferedWriter(new FileWriter(dctmp, true));\r\n            } catch (IOException e1) {\r\n                e1.printStackTrace();\r\n            }\r\n            System.out.println(&quot;Processing&quot; + sourceFile + &quot; en &quot; + destFile);\r\n            try (BufferedReader br = new BufferedReader(new FileReader(sourceFile))) {\r\n                String data;\r\n                while ((data = br.readLine()) != null) {\r\n                    String line = data;\r\n                    if (line.substring(0, 6).equals(&quot;924007&quot;)) {\r\n                        // Valores binarios\r\n                        String binarios = line.substring(585, 586 + 82);\r\n                        line = line.substring(0, 585) + (new String(new char[83]).replace(&#39;\\0&#39;, &#39;0&#39;))\r\n                                + line.substring((586 + 82), line.length());\r\n                        // TID\r\n                        String TID = line.substring(1005, 1020);\r\n                        registro = TID + &quot;;&quot; + binarios + &quot;\\n&quot;;\r\n                        contenido = contenido + registro;\r\n                    }\r\n                    BufferedWriter wrtr = new BufferedWriter(new FileWriter(destFile, true));\r\n                    wrtr.append(line + &quot;\\n&quot;);\r\n                    wrtr.close();\r\n                    line = null;\r\n                }\r\n                System.out.println(&quot;Data is added to the temporary&quot;);\r\n                w.append(contenido);\r\n                w.close();\r\n                br.close();\r\n                System.out.println(&quot;Successfully complete process&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                sourceFile.delete();\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nI did an exercise treating the file with `FileInputStream()` and it worked and kept the value, and it is the following code:\r\n\r\n```\r\nprivate void testBinary(File filename) {\r\n   try {\r\n\r\n     FileInputStream FileOrigin = new FileInputStream(filename);\r\n\r\n     // Arrays\r\n     byte[] biyeFile = new byte[(int) filename.length()];\r\n     int[] intArray = new int[biyeFile.length];\r\n     char[] CharArrayBit = new char[intArray.length];\r\n\r\n     FileOrigin.read(biyeFile);\r\n\r\n     for (int i = 0; i &lt; biyeFile.length; i++) {\r\n       // Converting each char into its byte equivalent\r\n       intArray[i] = (int) Byte.toUnsignedInt(biyeFile[i]);\r\n     }\r\n\r\n     File temp = new File(&quot;C:/MOVIMIENTO/ebcdic/ascii/&quot;, filename.getName() + &quot;.TMP&quot;);\r\n\r\n     temp.createNewFile();\r\n     FileOutputStream fileOutputStream = new FileOutputStream(temp);\r\n\r\n     for (int j = 0; j &lt; charArrayBit.length; ++j) {\r\n\r\n       charArrayBit[j] = (char) intArray[j];\r\n\r\n       try {\r\n         if ((intArray[j] != 10) &amp;&amp; (intArray[j] != 13)) {\r\n           fileOutputStream.write(charArrayBit[j]);\r\n         }\r\n       } catch (IOException e) {\r\n         e.printStackTrace();\r\n       }\r\n\r\n     }\r\n\r\n     FileOrigin.close();\r\n     fileOutputStream.close();\r\n     filename.delete();\r\n     temp.renameTo(filename);\r\n   } catch (IOException e) {\r\n     e.printStackTrace();\r\n   }\r\n\r\n }\r\n```\r\n\r\nBut I can&#39;t seem to implement the logic I made with the one that is already there and I&#39;m getting stuck :( on how I can deal line by line in bytes. Try this &lt;https://stackoverflow.com/questions/34954630/java-read-line-using-inputstream&gt;\r\n\r\nThe mess I have is that by using String I already lose the value `String data; data = br.readLine() String line = data;` \r\n\r\nUpdate:\r\nThe idea is that the temporary file where I am printing the TID and binary is as follows:\r\nfile `dc.tmp`\r\n```\r\n200232133:..3....&#162;...€ . ...  \r\n300232133:.....&#222;&#249;...€ ....€  \r\n400232133:&#249;....&#222;&#249;...€ ....€ ....\r\netc\r\n```\r\n\r\n\r\nThis is some VB.net code that I&#39;m basing on pulling out the binary:\r\n```\r\nWhile POS &lt; inputFile.Length\r\n            While reg &lt; rowlen\r\n                dato1 = inputFile.ReadByte()\r\n                POS = POS + 1\r\n                reg = reg + 1\r\n                dato11 = BitConverter.GetBytes(dato1)\r\n                If (binary  = 1 And (reg &gt; 589 And reg &lt;= 589 + 53 + 53)) Then\r\n                    &#39; here you should read two bytes and convert it to one\r\n                    byte1 = dato1\r\n                    &#39; now read the second byte\r\n                    byte2 = inputFile.ReadByte()\r\n                    reg = reg + 1\r\n                    POS = POS + 1\r\n                    final = CInt(&quot;&amp;H&quot; &amp; (Chr(byte1) + Chr(byte2)))\r\n                Else\r\n                    dato2 = Encoding.Convert(source, DEST, dato11)\r\n                    final = dato2(0)\r\n                End If\r\n                Print(1, Chr(final))\r\n                If (reg &lt; 7) Then &#39;the first positions give us the type of message\r\n                    MTI = MTI + Chr(dato1)\r\n                End If\r\n                If reg = 7 Then\r\n                    binary = 0\r\n                    rowlen = 1400\r\n                    If (MTI = &quot;924007&quot;) Then &#39; binary\r\n                        binary  = 1\r\n                        rowlen = 1400 + 53\r\n                    End If\r\n                    MTI = &quot;&quot;\r\n                End If\r\n            End While\r\n            POS = POS + 2\r\n            reg = 0\r\n        End While\r\n\r\n```\r\n\r\n\r\nThank you.","title":"Extract binaries line by line in JAVA without saving to a string","body":"<p>I have the following method, but this one has a problem and it is that in a part of the file there are some special characters where the character with hexadecimal value <code>81(.)</code> when the program generates the export of the file is <code>3F(?)</code> and with that it damages the binary:</p>\n<pre><code>public static void exportbinary() {\n        List&lt;String&gt; files = listFiles(source,1);\n        System.out.println(&quot;Reviewing files to extract data&quot;);\n        String registro = null;\n        String contenido = &quot;&quot;;\n        for (String s : files) {\n            //The name of the files to be processed is adjusted\n            String ogName=s;\n            System.out.println(&quot;Renaming files to extract binary data...&quot;);\n            File sFile = new File(source, s);\n            sFile.renameTo(new File(source,s+&quot;ext&quot;));\n            s = s+&quot;ext&quot;;\n            \n            //Start binary extraction process\n            File sourceFile = new File(source, s);\n            File destFile = new File(destination, ogName);\n            if (destFile.exists()) {\n                destFile.delete();\n            }\n            if (!dctmp.exists()) {\n                try {\n                    dctmp.createNewFile();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n            Writer w = null;\n            try {\n                w = new BufferedWriter(new FileWriter(dctmp, true));\n            } catch (IOException e1) {\n                e1.printStackTrace();\n            }\n            System.out.println(&quot;Processing&quot; + sourceFile + &quot; en &quot; + destFile);\n            try (BufferedReader br = new BufferedReader(new FileReader(sourceFile))) {\n                String data;\n                while ((data = br.readLine()) != null) {\n                    String line = data;\n                    if (line.substring(0, 6).equals(&quot;924007&quot;)) {\n                        // Valores binarios\n                        String binarios = line.substring(585, 586 + 82);\n                        line = line.substring(0, 585) + (new String(new char[83]).replace('\\0', '0'))\n                                + line.substring((586 + 82), line.length());\n                        // TID\n                        String TID = line.substring(1005, 1020);\n                        registro = TID + &quot;;&quot; + binarios + &quot;\\n&quot;;\n                        contenido = contenido + registro;\n                    }\n                    BufferedWriter wrtr = new BufferedWriter(new FileWriter(destFile, true));\n                    wrtr.append(line + &quot;\\n&quot;);\n                    wrtr.close();\n                    line = null;\n                }\n                System.out.println(&quot;Data is added to the temporary&quot;);\n                w.append(contenido);\n                w.close();\n                br.close();\n                System.out.println(&quot;Successfully complete process&quot;);\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                sourceFile.delete();\n            }\n        }\n    }\n</code></pre>\n<p>I did an exercise treating the file with <code>FileInputStream()</code> and it worked and kept the value, and it is the following code:</p>\n<pre><code>private void testBinary(File filename) {\n   try {\n\n     FileInputStream FileOrigin = new FileInputStream(filename);\n\n     // Arrays\n     byte[] biyeFile = new byte[(int) filename.length()];\n     int[] intArray = new int[biyeFile.length];\n     char[] CharArrayBit = new char[intArray.length];\n\n     FileOrigin.read(biyeFile);\n\n     for (int i = 0; i &lt; biyeFile.length; i++) {\n       // Converting each char into its byte equivalent\n       intArray[i] = (int) Byte.toUnsignedInt(biyeFile[i]);\n     }\n\n     File temp = new File(&quot;C:/MOVIMIENTO/ebcdic/ascii/&quot;, filename.getName() + &quot;.TMP&quot;);\n\n     temp.createNewFile();\n     FileOutputStream fileOutputStream = new FileOutputStream(temp);\n\n     for (int j = 0; j &lt; charArrayBit.length; ++j) {\n\n       charArrayBit[j] = (char) intArray[j];\n\n       try {\n         if ((intArray[j] != 10) &amp;&amp; (intArray[j] != 13)) {\n           fileOutputStream.write(charArrayBit[j]);\n         }\n       } catch (IOException e) {\n         e.printStackTrace();\n       }\n\n     }\n\n     FileOrigin.close();\n     fileOutputStream.close();\n     filename.delete();\n     temp.renameTo(filename);\n   } catch (IOException e) {\n     e.printStackTrace();\n   }\n\n }\n</code></pre>\n<p>But I can't seem to implement the logic I made with the one that is already there and I'm getting stuck :( on how I can deal line by line in bytes. Try this <a href=\"https://stackoverflow.com/questions/34954630/java-read-line-using-inputstream\">Java - Read line using InputStream</a></p>\n<p>The mess I have is that by using String I already lose the value <code>String data; data = br.readLine() String line = data;</code></p>\n<p>Update:\nThe idea is that the temporary file where I am printing the TID and binary is as follows:\nfile <code>dc.tmp</code></p>\n<pre><code>200232133:..3....¢...€ . ...  \n300232133:.....Þù...€ ....€  \n400232133:ù....Þù...€ ....€ ....\netc\n</code></pre>\n<p>This is some VB.net code that I'm basing on pulling out the binary:</p>\n<pre><code>While POS &lt; inputFile.Length\n            While reg &lt; rowlen\n                dato1 = inputFile.ReadByte()\n                POS = POS + 1\n                reg = reg + 1\n                dato11 = BitConverter.GetBytes(dato1)\n                If (binary  = 1 And (reg &gt; 589 And reg &lt;= 589 + 53 + 53)) Then\n                    ' here you should read two bytes and convert it to one\n                    byte1 = dato1\n                    ' now read the second byte\n                    byte2 = inputFile.ReadByte()\n                    reg = reg + 1\n                    POS = POS + 1\n                    final = CInt(&quot;&amp;H&quot; &amp; (Chr(byte1) + Chr(byte2)))\n                Else\n                    dato2 = Encoding.Convert(source, DEST, dato11)\n                    final = dato2(0)\n                End If\n                Print(1, Chr(final))\n                If (reg &lt; 7) Then 'the first positions give us the type of message\n                    MTI = MTI + Chr(dato1)\n                End If\n                If reg = 7 Then\n                    binary = 0\n                    rowlen = 1400\n                    If (MTI = &quot;924007&quot;) Then ' binary\n                        binary  = 1\n                        rowlen = 1400 + 53\n                    End If\n                    MTI = &quot;&quot;\n                End If\n            End While\n            POS = POS + 2\n            reg = 0\n        End While\n\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["javascript","java","chart.js"],"answers":[{"tags":[],"owner":{"account_id":9118538,"reputation":319,"user_id":6784846,"display_name":"Annamalai Palanikumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665020432,"creation_date":1665020432,"answer_id":73967880,"question_id":73967662,"body_markdown":"This **Chart.js plugin** might also be a good option for your use case. Refer and implement if it is helpful.\r\n\r\n**Reference:** \r\n\r\nhttps://github.com/chartjs/chartjs-plugin-datalabels","title":"(Chart.js 3.7.1) How can I always show the tooltip?","body":"<p>This <strong>Chart.js plugin</strong> might also be a good option for your use case. Refer and implement if it is helpful.</p>\n<p><strong>Reference:</strong></p>\n<p><a href=\"https://github.com/chartjs/chartjs-plugin-datalabels\" rel=\"nofollow noreferrer\">https://github.com/chartjs/chartjs-plugin-datalabels</a></p>\n"}],"owner":{"account_id":22353093,"reputation":68,"user_id":16570842,"display_name":"Ironman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1665020432,"creation_date":1665017671,"question_id":73967662,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lmfqn.png\r\n\r\n[Chart.js 3.7.1] How can I always show the tooltip?\r\n\r\n1. I want to use tootip always show.\r\n\r\n2. And the text should be darkened only on today&#39;s date.\r\n\r\nLike the picture.\r\n\r\nplz help me..","title":"(Chart.js 3.7.1) How can I always show the tooltip?","body":"<p><a href=\"https://i.stack.imgur.com/Lmfqn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lmfqn.png\" alt=\"enter image description here\" /></a></p>\n<p>[Chart.js 3.7.1] How can I always show the tooltip?</p>\n<ol>\n<li><p>I want to use tootip always show.</p>\n</li>\n<li><p>And the text should be darkened only on today's date.</p>\n</li>\n</ol>\n<p>Like the picture.</p>\n<p>plz help me..</p>\n"},{"tags":["java","design-patterns","facade","abstract-factory"],"comments":[{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":3,"creation_date":1340625570,"post_id":11188869,"comment_id":14684026,"body_markdown":"They are different enough to belong to distinct *categories*: one is structural, the other creational.","body":"They are different enough to belong to distinct <i>categories</i>: one is structural, the other creational."}],"answers":[{"tags":[],"owner":{"account_id":1578571,"reputation":4109,"user_id":1464455,"accept_rate":38,"display_name":"Yair Zaslavsky"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1665019066,"creation_date":1340625547,"answer_id":11188946,"question_id":11188869,"body_markdown":"A facade is a class or a group of classes hiding internal implementation/services from the user.\r\n\r\nAn abstract factory encapsulates a group of factories which are used for creating objects, whereas Facade can be used to provide abstraction to all kinds of operations, not just creation.","title":"What are the differences between facade pattern and abstract factory pattern?","body":"<p>A facade is a class or a group of classes hiding internal implementation/services from the user.</p>\n<p>An abstract factory encapsulates a group of factories which are used for creating objects, whereas Facade can be used to provide abstraction to all kinds of operations, not just creation.</p>\n"},{"tags":[],"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1659173281,"creation_date":1340625691,"answer_id":11188977,"question_id":11188869,"body_markdown":"They are two patterns used for to solve two different problems and they are totally unrelated.\r\n\r\nWith the _[abstract factory pattern][1]_, you just provide a common factory builder for many different builders for the same thing. This can be used whenever you need to provide an interface to a set of builders meant to be used with something in common (the product) without bothering on what are you going to build or which factory are you going to use.\r\n\r\nThe [_facade_ pattern][2] instead is used to provide a simple interface to a lot of different operations that the client classes should not see.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Abstract_factory_pattern\r\n  [2]: https://en.wikipedia.org/wiki/Facade_pattern\r\n","title":"What are the differences between facade pattern and abstract factory pattern?","body":"<p>They are two patterns used for to solve two different problems and they are totally unrelated.</p>\n<p>With the <em><a href=\"https://en.wikipedia.org/wiki/Abstract_factory_pattern\" rel=\"nofollow noreferrer\">abstract factory pattern</a></em>, you just provide a common factory builder for many different builders for the same thing. This can be used whenever you need to provide an interface to a set of builders meant to be used with something in common (the product) without bothering on what are you going to build or which factory are you going to use.</p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/Facade_pattern\" rel=\"nofollow noreferrer\"><em>facade</em> pattern</a> instead is used to provide a simple interface to a lot of different operations that the client classes should not see.</p>\n"}],"owner":{"account_id":172757,"reputation":1287,"user_id":401001,"accept_rate":48,"display_name":"Adalarasan Sachithanantham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22215,"favorite_count":0,"down_vote_count":8,"up_vote_count":53,"closed_date":1340637619,"answer_count":2,"score":45,"last_activity_date":1665019066,"creation_date":1340625261,"question_id":11188869,"body_markdown":"I&#39;m not asking the interview point of view. What is the real time scenario of implementing it in the projects, like the [Struts][1] framework, etc.?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Struts\r\n\r\n","title":"What are the differences between facade pattern and abstract factory pattern?","body":"<p>I'm not asking the interview point of view. What is the real time scenario of implementing it in the projects, like the <a href=\"https://en.wikipedia.org/wiki/Apache_Struts\" rel=\"nofollow noreferrer\">Struts</a> framework, etc.?</p>\n"},{"tags":["java","arrays","eclipse","counter"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665018720,"creation_date":1665018720,"answer_id":73967747,"question_id":73967706,"body_markdown":"Unless I&#39;m missing something, you could use a loop from `1` to `9` and print a newline every third term by testing if the number is divisible by `3` (e.g. modulo `3` is `0`). Like,\r\n\r\n\tfor (int i = 1; i &lt; 10; i++) {\r\n\t\tSystem.out.printf(&quot;%d &quot;, i);\r\n\t\tif (i % 3 == 0) {\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t}\r\n\r\nNo arrays (or vectors) required.\r\n\r\nOr, you could just print the values instead.\r\n\r\n    System.out.println(&quot;1 2 3&quot;);\r\n    System.out.println(&quot;4 5 6&quot;);\r\n    System.out.println(&quot;7 8 9&quot;);\r\n","title":"how to print 3x3 2d array from numbers 1-9 without declaring and initializing vectors In Java?","body":"<p>Unless I'm missing something, you could use a loop from <code>1</code> to <code>9</code> and print a newline every third term by testing if the number is divisible by <code>3</code> (e.g. modulo <code>3</code> is <code>0</code>). Like,</p>\n<pre><code>for (int i = 1; i &lt; 10; i++) {\n    System.out.printf(&quot;%d &quot;, i);\n    if (i % 3 == 0) {\n        System.out.println();\n    }\n}\n</code></pre>\n<p>No arrays (or vectors) required.</p>\n<p>Or, you could just print the values instead.</p>\n<pre><code>System.out.println(&quot;1 2 3&quot;);\nSystem.out.println(&quot;4 5 6&quot;);\nSystem.out.println(&quot;7 8 9&quot;);\n</code></pre>\n"}],"owner":{"account_id":7242665,"reputation":329,"user_id":5525740,"accept_rate":12,"display_name":"Aziz Bokhari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73967747,"answer_count":1,"score":1,"last_activity_date":1665018720,"creation_date":1665018212,"question_id":73967706,"body_markdown":"I have my java solution for printing out numbers 1-9 in a 3x3 matrix below:\r\n\r\n         // declare and initialize a 3x3 matrix\r\n        int matrix[][] = \r\n        { { 1, 2, 3 }, { 4, 5, 6 }, { 7, 8, 9 } };\r\n      \r\n      // display matrix using for loops\r\n      // outer loop for row\r\n      for(int row =-0; row &lt;matrix.length; row++) {\r\n        // inner loop for column\r\n        for(int column=0; column &lt;matrix[row].length; column++) {\r\n          System.out.print(matrix[row][column] + &quot; &quot;);\r\n        }\r\n        System.out.println(); // new line\r\n      }\r\n\r\nSo I declared and Intialized a 3*3 vector (Array or matrix) in the code above.\r\n\r\nBut I want to  do print out  3x3 2d array from numbers 1-9 without declaring and initializing vectors.\r\n\r\n How do I approach this problem?\r\n\r\n","title":"how to print 3x3 2d array from numbers 1-9 without declaring and initializing vectors In Java?","body":"<p>I have my java solution for printing out numbers 1-9 in a 3x3 matrix below:</p>\n<pre><code>     // declare and initialize a 3x3 matrix\n    int matrix[][] = \n    { { 1, 2, 3 }, { 4, 5, 6 }, { 7, 8, 9 } };\n  \n  // display matrix using for loops\n  // outer loop for row\n  for(int row =-0; row &lt;matrix.length; row++) {\n    // inner loop for column\n    for(int column=0; column &lt;matrix[row].length; column++) {\n      System.out.print(matrix[row][column] + &quot; &quot;);\n    }\n    System.out.println(); // new line\n  }\n</code></pre>\n<p>So I declared and Intialized a 3*3 vector (Array or matrix) in the code above.</p>\n<p>But I want to  do print out  3x3 2d array from numbers 1-9 without declaring and initializing vectors.</p>\n<p>How do I approach this problem?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":1,"creation_date":1665038654,"post_id":73967690,"comment_id":130606374,"body_markdown":"How do you run the jar from the command line? It works fine for me if I launch it as follows: `java -jar HelloWorld.jar` Try to delete `build/out/.gradle` directories and rebuild your project from scratch using `Build | Build Artifacts... | Build`","body":"How do you run the jar from the command line? It works fine for me if I launch it as follows: <code>java -jar HelloWorld.jar</code> Try to delete <code>build&#47;out&#47;.gradle</code> directories and rebuild your project from scratch using <code>Build | Build Artifacts... | Build</code>"},{"owner":{"account_id":15242146,"reputation":818,"user_id":10998081,"display_name":"yazan sayed"},"score":0,"creation_date":1665040157,"post_id":73967690,"comment_id":130606824,"body_markdown":"OMG the time i wasted yesterday, thanks alot, &#39;-jar&#39; was the cause , should I delete the question ? or close it","body":"OMG the time i wasted yesterday, thanks alot, &#39;-jar&#39; was the cause , should I delete the question ? or close it"}],"owner":{"account_id":15242146,"reputation":818,"user_id":10998081,"display_name":"yazan sayed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665018045,"creation_date":1665018045,"question_id":73967690,"body_markdown":"I&#39;m using IntelliJ IDEA 2021.3.3 (Community Edition) , I upgraded it to the latest verion and since then I&#39;m facing this error even when I downgraded it.  \r\nAny project I make runs fine inside the IDE but the jar file built using `build artifacts` never runs from cmd, shows this error  \r\n`Error: Could not find or load main class E:\\HelloWorld\\out\\artifacts\\HelloWorld_jar\\HelloWorld.jar\r\nCaused by: java.lang.ClassNotFoundException`  \r\nI tried the solutions at [this answer][1] but nothing seems to work. \r\n\r\nhere is the jar file: https://www.dropbox.com/s/raw/1p2inr054qsjhcs/HelloWorld.jar  \r\n([scanned by VirusTotal][2] , or run the jar online in this Colab [notebook][3] )\r\n\r\nand the project folder zipped : https://www.dropbox.com/s/raw/wzxz0z48x1shkyk/HelloWorld.zip (scan [VirusTotal][4])\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/42660624/10998081\r\n  [2]: https://www.virustotal.com/gui/url/69d7b0e68715e71b87ad475044143a5048eaa28a092e123fe17b41109d3afb07\r\n  [3]: https://colab.research.google.com/drive/14XSePfUoc_9J56Vy3mDPL-97-OgCstjs?usp=sharing\r\n  [4]: https://www.virustotal.com/gui/url/c6b365e91a13bd5d68718249f71be0a171081eb8d0de638efb4ee51c851fa9b1?nocache=1\r\n  [5]: https://i.stack.imgur.com/odjjH.png","title":"Error when running jar : Could not find or load main class , Caused by: java.lang.ClassNotFoundException","body":"<p>I'm using IntelliJ IDEA 2021.3.3 (Community Edition) , I upgraded it to the latest verion and since then I'm facing this error even when I downgraded it.<br />\nAny project I make runs fine inside the IDE but the jar file built using <code>build artifacts</code> never runs from cmd, shows this error<br />\n<code>Error: Could not find or load main class E:\\HelloWorld\\out\\artifacts\\HelloWorld_jar\\HelloWorld.jar Caused by: java.lang.ClassNotFoundException</code><br />\nI tried the solutions at <a href=\"https://stackoverflow.com/a/42660624/10998081\">this answer</a> but nothing seems to work.</p>\n<p>here is the jar file: <a href=\"https://www.dropbox.com/s/raw/1p2inr054qsjhcs/HelloWorld.jar\" rel=\"nofollow noreferrer\">https://www.dropbox.com/s/raw/1p2inr054qsjhcs/HelloWorld.jar</a><br />\n(<a href=\"https://www.virustotal.com/gui/url/69d7b0e68715e71b87ad475044143a5048eaa28a092e123fe17b41109d3afb07\" rel=\"nofollow noreferrer\">scanned by VirusTotal</a> , or run the jar online in this Colab <a href=\"https://colab.research.google.com/drive/14XSePfUoc_9J56Vy3mDPL-97-OgCstjs?usp=sharing\" rel=\"nofollow noreferrer\">notebook</a> )</p>\n<p>and the project folder zipped : <a href=\"https://www.dropbox.com/s/raw/wzxz0z48x1shkyk/HelloWorld.zip\" rel=\"nofollow noreferrer\">https://www.dropbox.com/s/raw/wzxz0z48x1shkyk/HelloWorld.zip</a> (scan <a href=\"https://www.virustotal.com/gui/url/c6b365e91a13bd5d68718249f71be0a171081eb8d0de638efb4ee51c851fa9b1?nocache=1\" rel=\"nofollow noreferrer\">VirusTotal</a>)</p>\n<p><a href=\"https://i.stack.imgur.com/odjjH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/odjjH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jnativehook"],"answers":[{"tags":[],"owner":{"account_id":18127256,"reputation":46,"user_id":13182683,"display_name":"Alexandre Petrassi Cardoso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665018040,"creation_date":1665018040,"answer_id":73967688,"question_id":70489315,"body_markdown":"Try declaring `work` as `volatile`:\r\n\r\n`static volatile boolean work = false;`\r\n\r\n## The problem is probrably due to synchronization ##\r\n\r\nWhen your method `nativeKeyReleased` is invoked, it is going to run on a different thread, and all variables visible to a thread are instead copies.\r\n\r\nYour code does not work because when you set `work` as `true`, this change will not propagate to the copy your `while` loop is looking at.\r\n\r\nThe `volatile` keyword will ensure that this variable is written to the main memory as well, instead of the CPU cache. thus achieving synchronization among different threads.\r\n\r\nThis [article][1] describes well how volatile works in Java.\r\n\r\n## Side Note ##\r\nIf you need to set the value of `work` in different locations, you should use `synchronized` setter method instead of a `volatile` field, as stated [here][2]\r\n\r\nThe rule of thumb is:\r\n\r\n&gt; Use Volatile when you variables are going to get read by **multiple**\r\n&gt; threads, but written to by **only one** thread\r\n&gt;\r\n&gt; Use Synchronized when your variables will get read and written to by\r\n&gt; **multiple** threads\r\n\r\n  [1]: https://jenkov.com/tutorials/java-concurrency/volatile.html\r\n  [2]: https://jorosjavajams.wordpress.com/volatile-vs-synchronized/#:~:text=When%20to%20use%20Volatile%20over,written%20to%20by%20multiple%20threads.","title":"Java robot does not stop","body":"<p>Try declaring <code>work</code> as <code>volatile</code>:</p>\n<p><code>static volatile boolean work = false;</code></p>\n<h2>The problem is probrably due to synchronization</h2>\n<p>When your method <code>nativeKeyReleased</code> is invoked, it is going to run on a different thread, and all variables visible to a thread are instead copies.</p>\n<p>Your code does not work because when you set <code>work</code> as <code>true</code>, this change will not propagate to the copy your <code>while</code> loop is looking at.</p>\n<p>The <code>volatile</code> keyword will ensure that this variable is written to the main memory as well, instead of the CPU cache. thus achieving synchronization among different threads.</p>\n<p>This <a href=\"https://jenkov.com/tutorials/java-concurrency/volatile.html\" rel=\"nofollow noreferrer\">article</a> describes well how volatile works in Java.</p>\n<h2>Side Note</h2>\n<p>If you need to set the value of <code>work</code> in different locations, you should use <code>synchronized</code> setter method instead of a <code>volatile</code> field, as stated <a href=\"https://jorosjavajams.wordpress.com/volatile-vs-synchronized/#:%7E:text=When%20to%20use%20Volatile%20over,written%20to%20by%20multiple%20threads.\" rel=\"nofollow noreferrer\">here</a></p>\n<p>The rule of thumb is:</p>\n<blockquote>\n<p>Use Volatile when you variables are going to get read by <strong>multiple</strong>\nthreads, but written to by <strong>only one</strong> thread</p>\n<p>Use Synchronized when your variables will get read and written to by\n<strong>multiple</strong> threads</p>\n</blockquote>\n"}],"owner":{"account_id":20494620,"reputation":31,"user_id":15039913,"display_name":"Macijke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1665018040,"creation_date":1640547373,"question_id":70489315,"body_markdown":"I have a problem with the operation of the JNativeHook library and Java Robot. My robot should run when I press F9 and it should stop when I click F6, but it is not working. I don&#39;t know what I am doing wrong here. Every time I tried to stop the robot it just does not stop. The code says that when I press F6 the work value should change to false and the while loop should stop calling the robot.\r\n```\r\nimport com.github.kwhat.jnativehook.GlobalScreen;\r\nimport com.github.kwhat.jnativehook.NativeHookException;\r\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyEvent;\r\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyListener;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.InputEvent;\r\nimport java.awt.event.KeyEvent;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\npublic class Main extends JFrame implements NativeKeyListener {\r\n\r\n    static int szerokosc = 2;\r\n    static int dlugosc = 10;\r\n    static boolean work = false;\r\n    static Robot robot;\r\n    static JTextField t1;\r\n    static JTextField t3;\r\n    static JTextField p1;\r\n    JFrame jf;\r\n    JLabel label, label2, label4;\r\n\r\n    public Main() {\r\n        try {\r\n            robot = new Robot();\r\n            jf = new JFrame();\r\n            ImageIcon img = new ImageIcon(&quot;pickaxe.png&quot;);\r\n            JTextPane tp = new JTextPane();\r\n            jf.setLocation(800, 300);\r\n            tp.setFont(new Font(&quot;Arial&quot;, 0, 32));\r\n            jf.setTitle(&quot;Kopacz by Macijke&quot;);\r\n            jf.setIconImage(img.getImage());\r\n            jf.setPreferredSize(new Dimension(350, 350));\r\n            jf.setLayout(new FlowLayout());\r\n            label = new JLabel(&quot;Kliknij F9, aby włączyć kopanie na 6/3/3!&quot;);\r\n            label.setBounds(50, 10, 250, 20);\r\n            jf.add(label);\r\n\r\n            label2 = new JLabel(&quot;Komenda nr 1&quot;);\r\n            label2.setBounds(10, 20, 250, 90);\r\n            t1 = new JTextField(&quot;/repair&quot;);\r\n            t1.setBounds(100, 50, 150, 30);\r\n            label2.setVisible(true);\r\n\r\n            label4 = new JLabel(&quot;Długość&quot;);\r\n            label4.setBounds(10, 240, 250, 90);\r\n            t3 = new JTextField(&quot;10&quot;);\r\n            t3.setBounds(65, 270, 50, 30);\r\n\r\n            // ============\r\n            p1 = new JTextField(&quot;11&quot;);\r\n            p1.setBounds(255, 50, 30, 30);\r\n\r\n            // ============\r\n\r\n            jf.setDefaultCloseOperation(3);\r\n            jf.setLayout(null);\r\n            jf.add(t1);\r\n            jf.add(t3);\r\n            jf.add(label2);\r\n            jf.add(label4);\r\n            jf.add(p1);\r\n            jf.pack();\r\n            jf.setVisible(true);\r\n        } catch (AWTException var3) {\r\n            var3.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            GlobalScreen.registerNativeHook();\r\n            Logger logger = Logger.getLogger(GlobalScreen.class.getPackage().getName());\r\n            logger.setLevel(Level.ALL);\r\n            logger.setUseParentHandlers(false);\r\n        } catch (NativeHookException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        GlobalScreen.addNativeKeyListener(new Main());\r\n    }\r\n\r\n    @Override\r\n    public void nativeKeyPressed(NativeKeyEvent e) {\r\n        //\r\n    }\r\n\r\n    @Override\r\n    public void nativeKeyReleased(NativeKeyEvent e) {\r\n        if (e.getKeyCode() == NativeKeyEvent.VC_F6) {\r\n            work = false;\r\n        }\r\n\r\n        if (e.getKeyCode() == NativeKeyEvent.VC_F9) {\r\n            dlugosc = Integer.parseInt(t3.getText());\r\n            work = true;\r\n            int i = 1;\r\n            while (work) {\r\n                robot.mousePress(InputEvent.BUTTON1_MASK);\r\n                for (int z = 0; z &lt; dlugosc; z++) {\r\n                    robot.keyPress(KeyEvent.VK_W);\r\n                    robot.delay(210);\r\n                    robot.keyRelease(KeyEvent.VK_W);\r\n\r\n                }\r\n\r\n                for (int a = 0; a &lt; szerokosc; a++) {\r\n                    robot.keyPress(KeyEvent.VK_A);\r\n                    robot.delay(150);\r\n                    robot.keyRelease(KeyEvent.VK_A);\r\n                }\r\n\r\n                for (int z = 0; z &lt; dlugosc; z++) {\r\n                    robot.keyPress(KeyEvent.VK_S);\r\n                    robot.delay(210);\r\n                    robot.keyRelease(KeyEvent.VK_S);\r\n\r\n                }\r\n\r\n                for (int z = 0; z &lt; szerokosc; z++) {\r\n                    robot.keyPress(KeyEvent.VK_D);\r\n                    robot.delay(150);\r\n                    robot.keyRelease(KeyEvent.VK_D);\r\n                }\r\n                robot.mouseRelease(InputEvent.BUTTON1_MASK);\r\n\r\n                if (i % 25 == 0) {\r\n                    robot.delay(100);\r\n                    robot.keyPress(KeyEvent.VK_2);\r\n                    robot.keyRelease(KeyEvent.VK_2);\r\n                    robot.delay(250);\r\n                    robot.mousePress(InputEvent.BUTTON3_MASK);\r\n                    robot.delay(4000);\r\n                    robot.mouseRelease(InputEvent.BUTTON3_MASK);\r\n                    robot.delay(250);\r\n                    robot.keyPress(KeyEvent.VK_1);\r\n                    robot.keyRelease(KeyEvent.VK_1);\r\n                    robot.delay(100);\r\n                }\r\n                i++;\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void nativeKeyTyped(NativeKeyEvent e) {\r\n        //\r\n    }\r\n\r\n}\r\n```","title":"Java robot does not stop","body":"<p>I have a problem with the operation of the JNativeHook library and Java Robot. My robot should run when I press F9 and it should stop when I click F6, but it is not working. I don't know what I am doing wrong here. Every time I tried to stop the robot it just does not stop. The code says that when I press F6 the work value should change to false and the while loop should stop calling the robot.</p>\n<pre><code>import com.github.kwhat.jnativehook.GlobalScreen;\nimport com.github.kwhat.jnativehook.NativeHookException;\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyEvent;\nimport com.github.kwhat.jnativehook.keyboard.NativeKeyListener;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.InputEvent;\nimport java.awt.event.KeyEvent;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class Main extends JFrame implements NativeKeyListener {\n\n    static int szerokosc = 2;\n    static int dlugosc = 10;\n    static boolean work = false;\n    static Robot robot;\n    static JTextField t1;\n    static JTextField t3;\n    static JTextField p1;\n    JFrame jf;\n    JLabel label, label2, label4;\n\n    public Main() {\n        try {\n            robot = new Robot();\n            jf = new JFrame();\n            ImageIcon img = new ImageIcon(&quot;pickaxe.png&quot;);\n            JTextPane tp = new JTextPane();\n            jf.setLocation(800, 300);\n            tp.setFont(new Font(&quot;Arial&quot;, 0, 32));\n            jf.setTitle(&quot;Kopacz by Macijke&quot;);\n            jf.setIconImage(img.getImage());\n            jf.setPreferredSize(new Dimension(350, 350));\n            jf.setLayout(new FlowLayout());\n            label = new JLabel(&quot;Kliknij F9, aby włączyć kopanie na 6/3/3!&quot;);\n            label.setBounds(50, 10, 250, 20);\n            jf.add(label);\n\n            label2 = new JLabel(&quot;Komenda nr 1&quot;);\n            label2.setBounds(10, 20, 250, 90);\n            t1 = new JTextField(&quot;/repair&quot;);\n            t1.setBounds(100, 50, 150, 30);\n            label2.setVisible(true);\n\n            label4 = new JLabel(&quot;Długość&quot;);\n            label4.setBounds(10, 240, 250, 90);\n            t3 = new JTextField(&quot;10&quot;);\n            t3.setBounds(65, 270, 50, 30);\n\n            // ============\n            p1 = new JTextField(&quot;11&quot;);\n            p1.setBounds(255, 50, 30, 30);\n\n            // ============\n\n            jf.setDefaultCloseOperation(3);\n            jf.setLayout(null);\n            jf.add(t1);\n            jf.add(t3);\n            jf.add(label2);\n            jf.add(label4);\n            jf.add(p1);\n            jf.pack();\n            jf.setVisible(true);\n        } catch (AWTException var3) {\n            var3.printStackTrace();\n        }\n    }\n\n\n    public static void main(String[] args) {\n        try {\n            GlobalScreen.registerNativeHook();\n            Logger logger = Logger.getLogger(GlobalScreen.class.getPackage().getName());\n            logger.setLevel(Level.ALL);\n            logger.setUseParentHandlers(false);\n        } catch (NativeHookException e) {\n            e.printStackTrace();\n        }\n\n        GlobalScreen.addNativeKeyListener(new Main());\n    }\n\n    @Override\n    public void nativeKeyPressed(NativeKeyEvent e) {\n        //\n    }\n\n    @Override\n    public void nativeKeyReleased(NativeKeyEvent e) {\n        if (e.getKeyCode() == NativeKeyEvent.VC_F6) {\n            work = false;\n        }\n\n        if (e.getKeyCode() == NativeKeyEvent.VC_F9) {\n            dlugosc = Integer.parseInt(t3.getText());\n            work = true;\n            int i = 1;\n            while (work) {\n                robot.mousePress(InputEvent.BUTTON1_MASK);\n                for (int z = 0; z &lt; dlugosc; z++) {\n                    robot.keyPress(KeyEvent.VK_W);\n                    robot.delay(210);\n                    robot.keyRelease(KeyEvent.VK_W);\n\n                }\n\n                for (int a = 0; a &lt; szerokosc; a++) {\n                    robot.keyPress(KeyEvent.VK_A);\n                    robot.delay(150);\n                    robot.keyRelease(KeyEvent.VK_A);\n                }\n\n                for (int z = 0; z &lt; dlugosc; z++) {\n                    robot.keyPress(KeyEvent.VK_S);\n                    robot.delay(210);\n                    robot.keyRelease(KeyEvent.VK_S);\n\n                }\n\n                for (int z = 0; z &lt; szerokosc; z++) {\n                    robot.keyPress(KeyEvent.VK_D);\n                    robot.delay(150);\n                    robot.keyRelease(KeyEvent.VK_D);\n                }\n                robot.mouseRelease(InputEvent.BUTTON1_MASK);\n\n                if (i % 25 == 0) {\n                    robot.delay(100);\n                    robot.keyPress(KeyEvent.VK_2);\n                    robot.keyRelease(KeyEvent.VK_2);\n                    robot.delay(250);\n                    robot.mousePress(InputEvent.BUTTON3_MASK);\n                    robot.delay(4000);\n                    robot.mouseRelease(InputEvent.BUTTON3_MASK);\n                    robot.delay(250);\n                    robot.keyPress(KeyEvent.VK_1);\n                    robot.keyRelease(KeyEvent.VK_1);\n                    robot.delay(100);\n                }\n                i++;\n            }\n        }\n\n\n    }\n\n    @Override\n    public void nativeKeyTyped(NativeKeyEvent e) {\n        //\n    }\n\n}\n</code></pre>\n"},{"tags":["java","concatenation","variable-assignment"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1665017975,"post_id":73967203,"comment_id":130603038,"body_markdown":"It is not possible to declare variables with *dynamic* variable names in Java.  You can&#39;t form a variable name by concatenating strings, or anything like that.  The variable names can only be identifiers in the Java source code.   So, basically, think of a different way to do this; e.g. use arrays and array subscripting, or use a `Map` to map &quot;variable&quot; names to values.","body":"It is not possible to declare variables with <i>dynamic</i> variable names in Java.  You can&#39;t form a variable name by concatenating strings, or anything like that.  The variable names can only be identifiers in the Java source code.   So, basically, think of a different way to do this; e.g. use arrays and array subscripting, or use a <code>Map</code> to map &quot;variable&quot; names to values."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1665018202,"post_id":73967203,"comment_id":130603071,"body_markdown":"P.S. I reformatted your code to make it readable.  If you want people to take the time to help you ... you should do that kind of thing yourself.  It is (IMO) borderline disrespectful to ask someone to read something a badly formatted as the original version.  In future, please take the time to format your code properly **before** you ask someone else to read it on StackOverflow.  (Or else you are likely to get a pile of downvotes.)","body":"P.S. I reformatted your code to make it readable.  If you want people to take the time to help you ... you should do that kind of thing yourself.  It is (IMO) borderline disrespectful to ask someone to read something a badly formatted as the original version.  In future, please take the time to format your code properly <b>before</b> you ask someone else to read it on StackOverflow.  (Or else you are likely to get a pile of downvotes.)"},{"owner":{"account_id":26539891,"reputation":11,"user_id":20170816,"display_name":"JMonster18"},"score":0,"creation_date":1665169562,"post_id":73967203,"comment_id":130645101,"body_markdown":"@StephenC thanks for your help, sorry about the code formatting, I&#39;m kinda new to programming, and I&#39;m usually more inclined to do everything I find similiar on a single line. I appreciate the help though","body":"@StephenC thanks for your help, sorry about the code formatting, I&#39;m kinda new to programming, and I&#39;m usually more inclined to do everything I find similiar on a single line. I appreciate the help though"}],"owner":{"account_id":26539891,"reputation":11,"user_id":20170816,"display_name":"JMonster18"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1665018388,"answer_count":0,"score":0,"last_activity_date":1665017733,"creation_date":1665011917,"question_id":73967203,"body_markdown":"Please how can you go about making a concatenated string defined\r\n\r\n    int SubNo = 1; \r\n    String Student = &quot;Student&quot;; \r\n    String Name = &quot;Name&quot;; \r\n    String Matric = &quot;Matric&quot;; \r\n    String Sub = &quot;Sub&quot;; \r\n    String Score = &quot;Score&quot;;\r\n    if (No &gt; 0 &amp;&amp; No &lt; 2) {\r\n        ++No;\r\n    } else if (No &gt; 1 &amp;&amp; No &lt; 3) {\r\n        ++No;\r\n    } else if (No &gt; 2 &amp;&amp; No &lt; 4) {\r\n        ++No;\r\n    } else if (No &gt; 3 &amp;&amp; No &lt; 5) {\r\n        ++No;\r\n    } else if (No &gt; 4 &amp;&amp; No &lt; 6) {\r\n        ++No;\r\n    } else if (No &gt; 5 &amp;&amp; No &lt; 7) {\r\n        ++No;\r\n    } else if (No &gt; 6 &amp;&amp; No &lt; 8) {\r\n        ++No;\r\n    } else if (No &gt; 7 &amp;&amp; No &lt; 9) {\r\n        ++No;\r\n    } else if (No &gt; 8 &amp;&amp; No &lt; 10) {\r\n        ++No;\r\n    }\r\n    switch(No) { \r\n        case 11: System.out.println (&quot;Error, Maximum number of students reached&quot;); \r\n                 break;\r\n    }\r\n    String N = Integer.toString (No);\r\n    //1\r\n    System.out.println(&quot;Please imput your Name&quot;);\r\n    Student.concat(N).concat(Name) = sc.next();\r\n    System.out.println(&quot;\\n&quot;+&quot;Hello &quot;+\r\n                       Student.concat(N).concat(Name)+&quot;,&quot;+\r\n                       &quot; Welcome to Student Group Score Calculator&quot;);\r\n\r\nI intend to make a loop instance whereby a different variable in the loop defines each input,\r\nfor example, if I input 1 in the first instance, 4 in the second instance and 7 in the third instance. I want it to save each of my input in these instances with student1Name, student2Name &amp; student3Name.\r\n\r\nI&#39;ve tried using the concatenate method but it doesn&#39;t work, also if you have a better way of doing this, please share","title":"How can you define a concatenated string as a variable in Java","body":"<p>Please how can you go about making a concatenated string defined</p>\n<pre><code>int SubNo = 1; \nString Student = &quot;Student&quot;; \nString Name = &quot;Name&quot;; \nString Matric = &quot;Matric&quot;; \nString Sub = &quot;Sub&quot;; \nString Score = &quot;Score&quot;;\nif (No &gt; 0 &amp;&amp; No &lt; 2) {\n    ++No;\n} else if (No &gt; 1 &amp;&amp; No &lt; 3) {\n    ++No;\n} else if (No &gt; 2 &amp;&amp; No &lt; 4) {\n    ++No;\n} else if (No &gt; 3 &amp;&amp; No &lt; 5) {\n    ++No;\n} else if (No &gt; 4 &amp;&amp; No &lt; 6) {\n    ++No;\n} else if (No &gt; 5 &amp;&amp; No &lt; 7) {\n    ++No;\n} else if (No &gt; 6 &amp;&amp; No &lt; 8) {\n    ++No;\n} else if (No &gt; 7 &amp;&amp; No &lt; 9) {\n    ++No;\n} else if (No &gt; 8 &amp;&amp; No &lt; 10) {\n    ++No;\n}\nswitch(No) { \n    case 11: System.out.println (&quot;Error, Maximum number of students reached&quot;); \n             break;\n}\nString N = Integer.toString (No);\n//1\nSystem.out.println(&quot;Please imput your Name&quot;);\nStudent.concat(N).concat(Name) = sc.next();\nSystem.out.println(&quot;\\n&quot;+&quot;Hello &quot;+\n                   Student.concat(N).concat(Name)+&quot;,&quot;+\n                   &quot; Welcome to Student Group Score Calculator&quot;);\n</code></pre>\n<p>I intend to make a loop instance whereby a different variable in the loop defines each input,\nfor example, if I input 1 in the first instance, 4 in the second instance and 7 in the third instance. I want it to save each of my input in these instances with student1Name, student2Name &amp; student3Name.</p>\n<p>I've tried using the concatenate method but it doesn't work, also if you have a better way of doing this, please share</p>\n"},{"tags":["java","arrays","sorting","union"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1665012979,"post_id":73967293,"comment_id":130602426,"body_markdown":"One of the sets will be the object that&#39;s passed in.  The other will be the object that you call the method on.","body":"One of the sets will be the object that&#39;s passed in.  The other will be the object that you call the method on."},{"owner":{"account_id":24196735,"reputation":1,"user_id":18155161,"display_name":"CBRrider"},"score":0,"creation_date":1665014280,"post_id":73967293,"comment_id":130602583,"body_markdown":"Not sure what that means, can you please provide a code example or explain more? I&#39;d appreciate it.","body":"Not sure what that means, can you please provide a code example or explain more? I&#39;d appreciate it."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1665015035,"post_id":73967293,"comment_id":130602692,"body_markdown":"If you coded &quot;another class&quot; correctly, method `union (IntegerSet otherSet)` has access to an `IntegerSet` that is named `otherSet`. It also has access to an object of whatever type &quot;another class&quot; is. The name of that other object is `this`. Presumptions follow in next comment.","body":"If you coded &quot;another class&quot; correctly, method <code>union (IntegerSet otherSet)</code> has access to an <code>IntegerSet</code> that is named <code>otherSet</code>. It also has access to an object of whatever type &quot;another class&quot; is. The name of that other object is <code>this</code>. Presumptions follow in next comment."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1665015405,"post_id":73967293,"comment_id":130602733,"body_markdown":"Presumably, method `union (IntegerSet otherSet)` is a method of class `IntegerSet`.  If so, that method will have access to two objects of type `IntegerSet`. One is named `otherSet`. The other is named `this`. You want that method to create a 3rd set -- a `new IntegerSet`, copy the elements from `this` and from `otherSet` into the new set. Presumably, you want to eliminate duplicates. Return the new set.","body":"Presumably, method <code>union (IntegerSet otherSet)</code> is a method of class <code>IntegerSet</code>.  If so, that method will have access to two objects of type <code>IntegerSet</code>. One is named <code>otherSet</code>. The other is named <code>this</code>. You want that method to create a 3rd set -- a <code>new IntegerSet</code>, copy the elements from <code>this</code> and from <code>otherSet</code> into the new set. Presumably, you want to eliminate duplicates. Return the new set."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1665019535,"post_id":73967293,"comment_id":130603259,"body_markdown":"If an IntegerSet is actually a &#39;set&#39;, in the sense we usually understand it in programming, then it must not contain duplicates.","body":"If an IntegerSet is actually a &#39;set&#39;, in the sense we usually understand it in programming, then it must not contain duplicates."}],"owner":{"account_id":24196735,"reputation":1,"user_id":18155161,"display_name":"CBRrider"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665017638,"creation_date":1665012855,"question_id":73967293,"body_markdown":"I am having trouble with school assignment. I have no idea how to write a union method from passing only one integer set. How can I access two integer sets so I can merge them?\r\n```java\r\n//Test class\r\n        IntegerSet set1 = new IntegerSet(array1);\r\n        IntegerSet set2 = new IntegerSet(array1);\r\n        System.out.println(&quot;set1: &quot; + set1);\r\n        System.out.println(&quot;set2: &quot; + set2);\r\n\r\n    \r\n\r\n\r\n\r\n//Method I have to write in another class.\r\npublic IntegerSet union(IntegerSet otherSet) {\r\n    return null;\r\n}\r\n```\r\n","title":"How do I union integer set?","body":"<p>I am having trouble with school assignment. I have no idea how to write a union method from passing only one integer set. How can I access two integer sets so I can merge them?</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Test class\n        IntegerSet set1 = new IntegerSet(array1);\n        IntegerSet set2 = new IntegerSet(array1);\n        System.out.println(&quot;set1: &quot; + set1);\n        System.out.println(&quot;set2: &quot; + set2);\n\n    \n\n\n\n//Method I have to write in another class.\npublic IntegerSet union(IntegerSet otherSet) {\n    return null;\n}\n</code></pre>\n"},{"tags":["java","drjava"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665018392,"post_id":73967654,"comment_id":130603101,"body_markdown":"Do you mean the `java.sql.Time` class?","body":"Do you mean the <code>java.sql.Time</code> class?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665018472,"post_id":73967654,"comment_id":130603111,"body_markdown":"Is this a schoolwork assignment? Or are you doing real work? Different Answers would be appropriate.","body":"Is this a schoolwork assignment? Or are you doing real work? Different Answers would be appropriate."},{"owner":{"account_id":17195088,"reputation":17,"user_id":12448048,"display_name":"Jaret Sanchez"},"score":0,"creation_date":1665019259,"post_id":73967654,"comment_id":130603225,"body_markdown":"This is schoolwork and this class was sent to me as a notepad file. It looks like they&#39;ve defined the class themselves here and I&#39;m just creating an instance of it within my method.","body":"This is schoolwork and this class was sent to me as a notepad file. It looks like they&#39;ve defined the class themselves here and I&#39;m just creating an instance of it within my method."}],"owner":{"account_id":17195088,"reputation":17,"user_id":12448048,"display_name":"Jaret Sanchez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665017587,"creation_date":1665017587,"question_id":73967654,"body_markdown":"So I have a problem where I&#39;m getting a Time type as an input(time). I also receive a number of seconds to increment that time by(seconds).\r\n\r\nIn the first few lines before you see me reference the this variable I am taking the seconds and creating integers to fill in the new time object I&#39;ll be incrementing the original time input by.\r\n\r\nWhen watching the debugger I also notice time and my variable this are referencing the same object. So there is a problem with my assignments this.second = (time.second + sum.second); and the other two this&#39;s as well.\r\n\r\nBefore I added the next few assignments with the this.minute = (int)(this.second / 60);\r\nthis.second = Math.abs((int)(this.second % 60)); and other 3 this assignments I was getting negatives for my values. After adjusting values with the Math.abs part I&#39;m now seeing the assignments turn to 00:00: for everything once I hit this.hour and this.minute assignments. The same for the last assignment of this.hour. \r\n\r\nI&#39;m not sure why the value is changing the whole time variable when I am specifying specific places for it to change. \r\n \r\n\r\n    public void incrementJaret(Time time, double seconds)\r\n    {\r\n        double minutes;\r\n        double hours;\r\n        double days;\r\n        \r\n        Time sum = new Time();\r\n        \r\n        minutes = (seconds / 60);\r\n        sum.second = Math.abs((int)(seconds % 60));\r\n\r\n        hours = (minutes / 60);\r\n        sum.minute = Math.abs((int)(minutes % 60));\r\n\r\n        days = (hours / 24);\r\n        sum.hour = Math.abs((int)(hours % 24));\r\n        \r\n        this.second = (time.second + sum.second);\r\n        \r\n        this.minute = (time.minute + sum.minute);\r\n        \r\n        this.hour = (time.hour + sum.hour);\r\n        \r\n        this.minute = (int)(this.second / 60);\r\n        this.second = Math.abs((int)(this.second % 60));\r\n\r\n        this.hour = (int)(this.minute / 60);\r\n        this.minute = Math.abs((int)(this.minute % 60));\r\n\r\n        days = (int)(this.hour / 24);\r\n        this.hour = Math.abs((int)(days % 24));\r\n    }","title":"Changing specific time variable fields changes whole time variable","body":"<p>So I have a problem where I'm getting a Time type as an input(time). I also receive a number of seconds to increment that time by(seconds).</p>\n<p>In the first few lines before you see me reference the this variable I am taking the seconds and creating integers to fill in the new time object I'll be incrementing the original time input by.</p>\n<p>When watching the debugger I also notice time and my variable this are referencing the same object. So there is a problem with my assignments this.second = (time.second + sum.second); and the other two this's as well.</p>\n<p>Before I added the next few assignments with the this.minute = (int)(this.second / 60);\nthis.second = Math.abs((int)(this.second % 60)); and other 3 this assignments I was getting negatives for my values. After adjusting values with the Math.abs part I'm now seeing the assignments turn to 00:00: for everything once I hit this.hour and this.minute assignments. The same for the last assignment of this.hour.</p>\n<p>I'm not sure why the value is changing the whole time variable when I am specifying specific places for it to change.</p>\n<pre><code>public void incrementJaret(Time time, double seconds)\n{\n    double minutes;\n    double hours;\n    double days;\n    \n    Time sum = new Time();\n    \n    minutes = (seconds / 60);\n    sum.second = Math.abs((int)(seconds % 60));\n\n    hours = (minutes / 60);\n    sum.minute = Math.abs((int)(minutes % 60));\n\n    days = (hours / 24);\n    sum.hour = Math.abs((int)(hours % 24));\n    \n    this.second = (time.second + sum.second);\n    \n    this.minute = (time.minute + sum.minute);\n    \n    this.hour = (time.hour + sum.hour);\n    \n    this.minute = (int)(this.second / 60);\n    this.second = Math.abs((int)(this.second % 60));\n\n    this.hour = (int)(this.minute / 60);\n    this.minute = Math.abs((int)(this.minute % 60));\n\n    days = (int)(this.hour / 24);\n    this.hour = Math.abs((int)(days % 24));\n}\n</code></pre>\n"},{"tags":["java","lambda","collections","java-stream"],"comments":[{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":3,"creation_date":1570041820,"post_id":58207438,"comment_id":102793005,"body_markdown":"What have you got so far for your lambda version? Show us your attempt so we can see where you&#39;re stuck.","body":"What have you got so far for your lambda version? Show us your attempt so we can see where you&#39;re stuck."},{"owner":{"account_id":16812688,"reputation":142,"user_id":12155325,"display_name":"dilbert2219"},"score":0,"creation_date":1570042057,"post_id":58207438,"comment_id":102793104,"body_markdown":"I got nothing so far, i&#39;m starting new on lamdas and streams, was curious how this would look","body":"I got nothing so far, i&#39;m starting new on lamdas and streams, was curious how this would look"},{"owner":{"account_id":26377,"reputation":352187,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":1,"creation_date":1570042151,"post_id":58207438,"comment_id":102793167,"body_markdown":"Give it a try. We can help you when you get stuck but you should give it a go yourself first.","body":"Give it a try. We can help you when you get stuck but you should give it a go yourself first."},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1570066371,"post_id":58207438,"comment_id":102799817,"body_markdown":"Aside: [Don&#39;t use raw types.](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it)","body":"Aside: <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">Don&#39;t use raw types.</a>"}],"answers":[{"tags":[],"owner":{"account_id":4713858,"reputation":223,"user_id":3813606,"accept_rate":50,"display_name":"Reger05"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1570126045,"creation_date":1570122641,"answer_id":58223927,"question_id":58207438,"body_markdown":"Something along the lines of this. Map stores as a set as I imagine each school entry should be unique. You can utilize a different Collection as needed.\r\n```\r\n\t\tFunction&lt;School, String&gt; getSchoolsPrimaryChairInitials = school -&gt; school.getChairs()\r\n\t\t\t\t.stream()\r\n\t\t\t\t.filter(Chair::isPrimaryChair)\r\n\t\t\t\t.findFirst()\r\n\t\t\t\t.get()//consider possibility of not having primary chair\r\n\t\t\t\t.getInitials();\r\n    \r\n\t\tMap&lt;String, Set&lt;School&gt;&gt; schoolsByChair = schools\r\n\t\t\t\t.stream()\r\n\t\t\t\t.collect(Collectors.groupingBy(getSchoolsPrimaryChairInitials, Collectors.toSet()));\r\n\r\n\t\tMap&lt;String, Set&lt;School&gt;&gt; schoolsByShortName = schools\r\n\t\t\t\t.stream()\r\n\t\t\t\t.collect(Collectors.groupingBy(School::getShortName, Collectors.toSet()));\r\n```","title":"Lambda for nested for loop","body":"<p>Something along the lines of this. Map stores as a set as I imagine each school entry should be unique. You can utilize a different Collection as needed.</p>\n\n<pre><code>        Function&lt;School, String&gt; getSchoolsPrimaryChairInitials = school -&gt; school.getChairs()\n                .stream()\n                .filter(Chair::isPrimaryChair)\n                .findFirst()\n                .get()//consider possibility of not having primary chair\n                .getInitials();\n\n        Map&lt;String, Set&lt;School&gt;&gt; schoolsByChair = schools\n                .stream()\n                .collect(Collectors.groupingBy(getSchoolsPrimaryChairInitials, Collectors.toSet()));\n\n        Map&lt;String, Set&lt;School&gt;&gt; schoolsByShortName = schools\n                .stream()\n                .collect(Collectors.groupingBy(School::getShortName, Collectors.toSet()));\n</code></pre>\n"}],"owner":{"account_id":16812688,"reputation":142,"user_id":12155325,"display_name":"dilbert2219"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":58223927,"answer_count":1,"score":0,"last_activity_date":1665016901,"creation_date":1570041361,"question_id":58207438,"body_markdown":"\r\nhow would I do GroupingBy for the following?\r\n\r\n\r\nI have two Map schoolsByShortName and schoolsByChair\r\n\r\n``` \r\nMap schoolsByShortName = new HashMap();\r\nMap schoolsByChair = new HashMap();\r\n\r\nfor(School school: List.getSchools()){\r\n    if(school.getChairs()!= null){\r\n        for(Chair chair: school.getChairs()){\r\n            if(chair.getPrimaryChair()){\r\n                List&lt;School&gt; schools = this.schoolsByChair.get(chair.getInitials());\r\n                if(schools == null){\r\n                    schools = new ArrayList&lt;&gt;();\r\n                    this.schoolsByChair.put(chair.getInitials(), schools);\r\n                }\r\n                schools.add(school);\r\n            }\r\n        }\r\n    }\r\n    if(school.getShortName()!=null){\r\n        this.schoolsByShortName.put(school.getShortName(), school);\r\n    }\r\n} \r\n```","title":"Lambda for nested for loop","body":"<p>how would I do GroupingBy for the following?</p>\n<p>I have two Map schoolsByShortName and schoolsByChair</p>\n<pre><code>Map schoolsByShortName = new HashMap();\nMap schoolsByChair = new HashMap();\n\nfor(School school: List.getSchools()){\n    if(school.getChairs()!= null){\n        for(Chair chair: school.getChairs()){\n            if(chair.getPrimaryChair()){\n                List&lt;School&gt; schools = this.schoolsByChair.get(chair.getInitials());\n                if(schools == null){\n                    schools = new ArrayList&lt;&gt;();\n                    this.schoolsByChair.put(chair.getInitials(), schools);\n                }\n                schools.add(school);\n            }\n        }\n    }\n    if(school.getShortName()!=null){\n        this.schoolsByShortName.put(school.getShortName(), school);\n    }\n} \n</code></pre>\n"},{"tags":["java","sql","spring","spring-batch"],"comments":[{"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"score":1,"creation_date":1664966932,"post_id":73959116,"comment_id":130587973,"body_markdown":"Execution won&#39;t return to the &#39;execute&#39; method until &#39;selectAndProcessData&#39; has completed. Can you paste the full class as you are returning a value in a void class which is a compilation error. Also what is the log output from the tasklet?","body":"Execution won&#39;t return to the &#39;execute&#39; method until &#39;selectAndProcessData&#39; has completed. Can you paste the full class as you are returning a value in a void class which is a compilation error. Also what is the log output from the tasklet?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1664970385,"post_id":73959116,"comment_id":130589064,"body_markdown":"Why is this even a tasklet and not just a `JdbcCursorItemReader` with a processor/writer?","body":"Why is this even a tasklet and not just a <code>JdbcCursorItemReader</code> with a processor/writer?"},{"owner":{"account_id":22377078,"reputation":177,"user_id":16591189,"display_name":"Foody"},"score":0,"creation_date":1664977399,"post_id":73959116,"comment_id":130591725,"body_markdown":"Hi @johnnyutts, just now accidentally returning a value in the void class. I have deleted that line and added in the logs output as well.","body":"Hi @johnnyutts, just now accidentally returning a value in the void class. I have deleted that line and added in the logs output as well."},{"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"score":0,"creation_date":1664982398,"post_id":73959116,"comment_id":130593809,"body_markdown":"The code you have pasted is still not correct as there&#39;s no such method as containsKey on a List: - &#39;if(!customerList.containsKey(customer.getId())){&#39;","body":"The code you have pasted is still not correct as there&#39;s no such method as containsKey on a List: - &#39;if(!customerList.containsKey(customer.getId())){&#39;"},{"owner":{"account_id":22377078,"reputation":177,"user_id":16591189,"display_name":"Foody"},"score":0,"creation_date":1665016533,"post_id":73959116,"comment_id":130602877,"body_markdown":"Hi @johnnyutts, so sorry for that typo, I have edit the post with the updated code.","body":"Hi @johnnyutts, so sorry for that typo, I have edit the post with the updated code."}],"owner":{"account_id":22377078,"reputation":177,"user_id":16591189,"display_name":"Foody"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665016467,"creation_date":1664965832,"question_id":73959116,"body_markdown":"I have a Tasklet and my problem is that the process inside the selectAndProcessData() method **haven&#39;t finished** running but the log have stated that this tasklet have been funished.\r\n\r\nInside the method there is a query that need to extract quite amount of data from DB (about **450++** records) but in the end, only **100+** records was being printed out. \r\n\r\nAnd the line before the RepeatStatus.FINISHED do not printed out before the tasklet has been finished.\r\n\r\nHow can I make the process inside selectAndProcessData() method **completely run** before letting the tasklet return **RepeatStatus.FINISHED**?\r\n\r\n**My code:**\r\n\r\n    public class ExtractCustomerInfoTasklet implements Tasklet {\r\n\r\n      private final NamedParameterJdbcTemplate namedParameterJdbcTemplate;\r\n\r\n      @Override\r\n      public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\r\n          selectAndProcessData();\r\n          return RepeatStatus.FINISHED;\r\n      }\r\n    \r\n      private void selectAndProcessData(){\r\n\r\n          String customerQuery = &quot;select * from customers where age &gt; 21&quot;;\r\n\r\n          BeanPropertyRowMapper&lt;Customer&gt; beanPropertyRowMapper = new BeanPropertyRowMapper&lt;&gt;(Customer.class);\r\n          MapSqlParameterSource mapSqlParameterSource = new MapSqlParameterSource();\r\n\r\n          List&lt;Customer&gt; customerList = namedParameterJdbcTemplate.query(customerQuery, mapSqlParameterSource, beanPropertyRowMapper);\r\n          log.info(&quot;customerList&#39;s size: &quot; + customerList.size());\r\n\r\n          if(CollectionUtils.isEmpty(customerList)) {\r\n              return;\r\n          }\r\n          Hashtable&lt;String, Customer&gt; customerHashtable = new Hashtable&lt;&gt;();\r\n          for(Customers customer : customerList){\r\n              if(!customerHashtable.containsKey(customer.getId())){\r\n                  customerHashtable.put(customer.getId(), customer);\r\n                  log.info(&quot;customer id: &quot; + customer.getId());\r\n              }else{\r\n                  log.info(&quot;customer id: &quot; + customer.getId() + &quot; not exist!&quot;);\r\n              }\r\n\r\n          }\r\n\r\n          log.info(&quot;customerHashtable&#39;s size: &quot; + customerHashtable.size()); //this line do not printed out\r\n      }\r\n    }\r\n\r\n**Logs:**\r\n\r\n    2022-10-05 21:25:25.987  INFO 4944 --- [nio-8082-exec-1] \r\n    o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: \r\n    [name=ExtractCustomerInfoJob]] launched with the following parameters: \r\n    [{run.id=24}]\r\n    2022-10-05 21:25:26.103  INFO 4944 --- [nio-8082-exec-1] \r\n    c.f.b.j.c.listener.StartEndDateListener  : [start Date]:Tue Oct 04 \r\n    00:00:00 SGT 2022\r\n    2022-10-05 21:25:26.103  INFO 4944 --- [nio-8082-exec-1] \r\n    c.f.b.j.c.listener.StartEndDateListener  : [end Date]:Wed Oct 05 \r\n    00:00:00 SGT 2022\r\n    2022-10-05 21:25:26.103  INFO 4944 --- [nio-8082-exec-1] \r\n    c.f.batch.listener.ScheduleJobListener   : Start Schedule Job History \r\n    Listener\r\n    2022-10-05 21:25:26.295  INFO 4944 --- [nio-8082-exec-1] \r\n    c.f.b.e.h.DefaultBatchEventHandler       : Extract_Customer_Info_Job is \r\n    starting\r\n    2022-10-05 21:25:26.639  INFO 4944 --- [nio-8082-exec-1] \r\n    o.s.batch.core.job.SimpleStepHandler     : Executing step: [[1] Extract \r\n    Customer Info from DB]\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customerList&#39;s size: 425\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0021011\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0084190\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0075917\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0068518\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0080279\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0073527\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0067744\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0078679\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0104133\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0043291\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0034689\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0097511\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0024483\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0059940\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0008263\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0132233\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0054388\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0108319\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0085711\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0136809\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0137462\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0038499\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0037966\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0137724\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0128406\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0137145\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0121859\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0111066\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0022478\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0046051\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0149903\r\n    2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \r\n    ExtractCustomerInfoTasklet : customer id: C0152974\r\n    2022-10-05 21:25:27.013  INFO 4944 --- [nio-8082-exec-1] \r\n    o.s.batch.core.step.AbstractStep         : Step: [[1] Extract Customer \r\n    Info from DB] executed in 1s404ms\r\n    2022-10-05 21:25:27.365  INFO 4944 --- [nio-8082-exec-1] \r\n    c.f.b.e.h.DefaultBatchEventHandler       : Extract_Customer_Info_Job has \r\n    completed\r\n    2022-10-05 21:25:28.738  INFO 4944 --- [nio-8082-exec-1] \r\n    o.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: \r\n    [name=Extract_Customer_Info_Job]] completed with the following \r\n    parameters: [{run.id=24}] and the following status: [COMPLETED] in \r\n    1s404ms","title":"How to let the process inside a method finish running before return RepeatStatus.FINISHED? [Spring Batch]","body":"<p>I have a Tasklet and my problem is that the process inside the selectAndProcessData() method <strong>haven't finished</strong> running but the log have stated that this tasklet have been funished.</p>\n<p>Inside the method there is a query that need to extract quite amount of data from DB (about <strong>450++</strong> records) but in the end, only <strong>100+</strong> records was being printed out.</p>\n<p>And the line before the RepeatStatus.FINISHED do not printed out before the tasklet has been finished.</p>\n<p>How can I make the process inside selectAndProcessData() method <strong>completely run</strong> before letting the tasklet return <strong>RepeatStatus.FINISHED</strong>?</p>\n<p><strong>My code:</strong></p>\n<pre><code>public class ExtractCustomerInfoTasklet implements Tasklet {\n\n  private final NamedParameterJdbcTemplate namedParameterJdbcTemplate;\n\n  @Override\n  public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\n      selectAndProcessData();\n      return RepeatStatus.FINISHED;\n  }\n\n  private void selectAndProcessData(){\n\n      String customerQuery = &quot;select * from customers where age &gt; 21&quot;;\n\n      BeanPropertyRowMapper&lt;Customer&gt; beanPropertyRowMapper = new BeanPropertyRowMapper&lt;&gt;(Customer.class);\n      MapSqlParameterSource mapSqlParameterSource = new MapSqlParameterSource();\n\n      List&lt;Customer&gt; customerList = namedParameterJdbcTemplate.query(customerQuery, mapSqlParameterSource, beanPropertyRowMapper);\n      log.info(&quot;customerList's size: &quot; + customerList.size());\n\n      if(CollectionUtils.isEmpty(customerList)) {\n          return;\n      }\n      Hashtable&lt;String, Customer&gt; customerHashtable = new Hashtable&lt;&gt;();\n      for(Customers customer : customerList){\n          if(!customerHashtable.containsKey(customer.getId())){\n              customerHashtable.put(customer.getId(), customer);\n              log.info(&quot;customer id: &quot; + customer.getId());\n          }else{\n              log.info(&quot;customer id: &quot; + customer.getId() + &quot; not exist!&quot;);\n          }\n\n      }\n\n      log.info(&quot;customerHashtable's size: &quot; + customerHashtable.size()); //this line do not printed out\n  }\n}\n</code></pre>\n<p><strong>Logs:</strong></p>\n<pre><code>2022-10-05 21:25:25.987  INFO 4944 --- [nio-8082-exec-1] \no.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: \n[name=ExtractCustomerInfoJob]] launched with the following parameters: \n[{run.id=24}]\n2022-10-05 21:25:26.103  INFO 4944 --- [nio-8082-exec-1] \nc.f.b.j.c.listener.StartEndDateListener  : [start Date]:Tue Oct 04 \n00:00:00 SGT 2022\n2022-10-05 21:25:26.103  INFO 4944 --- [nio-8082-exec-1] \nc.f.b.j.c.listener.StartEndDateListener  : [end Date]:Wed Oct 05 \n00:00:00 SGT 2022\n2022-10-05 21:25:26.103  INFO 4944 --- [nio-8082-exec-1] \nc.f.batch.listener.ScheduleJobListener   : Start Schedule Job History \nListener\n2022-10-05 21:25:26.295  INFO 4944 --- [nio-8082-exec-1] \nc.f.b.e.h.DefaultBatchEventHandler       : Extract_Customer_Info_Job is \nstarting\n2022-10-05 21:25:26.639  INFO 4944 --- [nio-8082-exec-1] \no.s.batch.core.job.SimpleStepHandler     : Executing step: [[1] Extract \nCustomer Info from DB]\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customerList's size: 425\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0021011\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0084190\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0075917\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0068518\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0080279\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0073527\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0067744\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0078679\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0104133\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0043291\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0034689\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0097511\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0024483\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0059940\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0008263\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0132233\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0054388\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0108319\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0085711\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0136809\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0137462\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0038499\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0037966\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0137724\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0128406\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0137145\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0121859\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0111066\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0022478\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0046051\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0149903\n2022-10-05 21:25:26.888  INFO 4944 --- [nio-8082-exec-1] \nExtractCustomerInfoTasklet : customer id: C0152974\n2022-10-05 21:25:27.013  INFO 4944 --- [nio-8082-exec-1] \no.s.batch.core.step.AbstractStep         : Step: [[1] Extract Customer \nInfo from DB] executed in 1s404ms\n2022-10-05 21:25:27.365  INFO 4944 --- [nio-8082-exec-1] \nc.f.b.e.h.DefaultBatchEventHandler       : Extract_Customer_Info_Job has \ncompleted\n2022-10-05 21:25:28.738  INFO 4944 --- [nio-8082-exec-1] \no.s.b.c.l.support.SimpleJobLauncher      : Job: [SimpleJob: \n[name=Extract_Customer_Info_Job]] completed with the following \nparameters: [{run.id=24}] and the following status: [COMPLETED] in \n1s404ms\n</code></pre>\n"},{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":2,"creation_date":1642437176,"post_id":70741100,"comment_id":125064993,"body_markdown":"“_the […] second approach limits my timing to when everything else is done, rather than async as soon as the previous necessary stage is complete_” – I don’t really understand what you mean here, what is “_everything else_”? Both would be called at the same moment (well, except `thenApply()` won’t be called in case of exception). `whenComplete()` seems to be exactly what you are looking for.","body":"“<i>the […] second approach limits my timing to when everything else is done, rather than async as soon as the previous necessary stage is complete</i>” – I don’t really understand what you mean here, what is “<i>everything else</i>”? Both would be called at the same moment (well, except <code>thenApply()</code> won’t be called in case of exception). <code>whenComplete()</code> seems to be exactly what you are looking for."},{"owner":{"account_id":197528,"reputation":11240,"user_id":441662,"accept_rate":80,"display_name":"Benny Bottema"},"score":0,"creation_date":1642443325,"post_id":70741100,"comment_id":125067071,"body_markdown":"Hmm, I assumed after whenComplete wouldn&#39;t allow then&#39;s after it. However, whenComplete forces me to explicitly deal with exception cases, which is not what I want at this stage.","body":"Hmm, I assumed after whenComplete wouldn&#39;t allow then&#39;s after it. However, whenComplete forces me to explicitly deal with exception cases, which is not what I want at this stage."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1642444231,"post_id":70741100,"comment_id":125067365,"body_markdown":"Well, if you want an equivalent to `peek()`, you should deal with exceptions as well since they don’t stop the execution of descendant stages – as opposed to the `Stream` API, in which any exception stops the whole pipeline. Anyway, the solutions mentioned here are all we have for now &#128521;","body":"Well, if you want an equivalent to <code>peek()</code>, you should deal with exceptions as well since they don’t stop the execution of descendant stages – as opposed to the <code>Stream</code> API, in which any exception stops the whole pipeline. Anyway, the solutions mentioned here are all we have for now 😉"}],"answers":[{"tags":[],"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1642430842,"creation_date":1642430842,"answer_id":70743202,"question_id":70741100,"body_markdown":"Unlike with `Stream`, you can make multiple function chains from a single future, so it is not necessary to do everything in a single chain of calls. I would approach your problem like so:\r\n\r\n```\r\nvar f1 = CompletableFuture.supplyAsync(...);\r\nf1.thenRun(() -&gt; doSomething()); // this is your &quot;peek&quot;\r\nvar f2 = f1.thenApply(...); // continue your chain of operations here\r\n```","title":"What is the CompletableFuture equivalent of Streams peek()?","body":"<p>Unlike with <code>Stream</code>, you can make multiple function chains from a single future, so it is not necessary to do everything in a single chain of calls. I would approach your problem like so:</p>\n<pre><code>var f1 = CompletableFuture.supplyAsync(...);\nf1.thenRun(() -&gt; doSomething()); // this is your &quot;peek&quot;\nvar f2 = f1.thenApply(...); // continue your chain of operations here\n</code></pre>\n"},{"tags":[],"owner":{"account_id":48256,"reputation":32941,"user_id":143295,"accept_rate":71,"display_name":"Nicole"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665016455,"creation_date":1665016455,"answer_id":73967572,"question_id":70741100,"body_markdown":"I wanted to do this too, so I just made my own wrapper:\r\n\r\n```java\r\n/** Converts a Consumer into an identity Function that passes through the input */\r\npublic static &lt;T&gt; Function&lt;T, T&gt; peek(Consumer&lt;T&gt; fn) {\r\n    return (t) -&gt; {\r\n        fn.accept(t);\r\n        return t;\r\n    };\r\n}\r\n```\r\n\r\nused like:\r\n\r\n```java\r\n.thenApply(Functions.peek(SomeUtil::yourConsumerMethod));\r\n```","title":"What is the CompletableFuture equivalent of Streams peek()?","body":"<p>I wanted to do this too, so I just made my own wrapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** Converts a Consumer into an identity Function that passes through the input */\npublic static &lt;T&gt; Function&lt;T, T&gt; peek(Consumer&lt;T&gt; fn) {\n    return (t) -&gt; {\n        fn.accept(t);\n        return t;\n    };\n}\n</code></pre>\n<p>used like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.thenApply(Functions.peek(SomeUtil::yourConsumerMethod));\n</code></pre>\n"}],"owner":{"account_id":197528,"reputation":11240,"user_id":441662,"accept_rate":80,"display_name":"Benny Bottema"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1665016455,"creation_date":1642421303,"question_id":70741100,"body_markdown":"An answer [here](https://stackoverflow.com/a/49534709/441662) quotes a table of all CompletableFuture methods, but it&#39;s not quite what I&#39;m looking for, or perhaps I&#39;m going about it wrong.\r\n\r\n\r\nI&#39;m looking for the CompletableFuture equivalent of Streams&#39; *peek()*, so basically a `thenApply` that returns the input argument or a `thenRun` that doesn&#39;t return `Void`. There are two ways I can think of that both don&#39;t semantically accurately express my intention, but do the job:\r\n\r\n```java\r\n(..)\r\n.thenApply((a) -&gt; {\r\n   doSomething();\r\n   return a;\r\n}\r\n(..)\r\n```\r\nand\r\n```java\r\n(..)\r\n.whenComplete((result, exception) -&gt; {\r\n   if (exception == null) {\r\n      doSomething();\r\n   }\r\n}\r\n(..)\r\n```\r\nBoth take the input from the previous stage, allow me to perform an action and return with the same type to the next stage. Of these two the latter second approach limits my timing to when everything else is done, rather than async as soon as the previous necessary stage is complete.\r\n\r\nI&#39;ve also been searching for an identity function that takes a consumer function as argument, but it seems I would have to write that myself:\r\n\r\n```java\r\npublic static &lt;T&gt; Function&lt;T, T&gt; identityConsumer(Consumer&lt;T&gt; c) {\r\n    return a -&gt; { c.accept(a); return a; };\r\n}\r\n```\r\n```java\r\n(..)\r\n.thenApply(identityConsumer(a -&gt; doSomething()));\r\n(..)\r\n```\r\nSo short of writing my own util functions, is there an elegant way of performing an action in an intermediate stage, where I don&#39;t have to return something, while keeping the stage&#39;s current type?","title":"What is the CompletableFuture equivalent of Streams peek()?","body":"<p>An answer <a href=\"https://stackoverflow.com/a/49534709/441662\">here</a> quotes a table of all CompletableFuture methods, but it's not quite what I'm looking for, or perhaps I'm going about it wrong.</p>\n<p>I'm looking for the CompletableFuture equivalent of Streams' <em>peek()</em>, so basically a <code>thenApply</code> that returns the input argument or a <code>thenRun</code> that doesn't return <code>Void</code>. There are two ways I can think of that both don't semantically accurately express my intention, but do the job:</p>\n<pre class=\"lang-java prettyprint-override\"><code>(..)\n.thenApply((a) -&gt; {\n   doSomething();\n   return a;\n}\n(..)\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>(..)\n.whenComplete((result, exception) -&gt; {\n   if (exception == null) {\n      doSomething();\n   }\n}\n(..)\n</code></pre>\n<p>Both take the input from the previous stage, allow me to perform an action and return with the same type to the next stage. Of these two the latter second approach limits my timing to when everything else is done, rather than async as soon as the previous necessary stage is complete.</p>\n<p>I've also been searching for an identity function that takes a consumer function as argument, but it seems I would have to write that myself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; Function&lt;T, T&gt; identityConsumer(Consumer&lt;T&gt; c) {\n    return a -&gt; { c.accept(a); return a; };\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>(..)\n.thenApply(identityConsumer(a -&gt; doSomething()));\n(..)\n</code></pre>\n<p>So short of writing my own util functions, is there an elegant way of performing an action in an intermediate stage, where I don't have to return something, while keeping the stage's current type?</p>\n"},{"tags":["java","hibernate","orm","persistence"],"answers":[{"tags":[],"owner":{"account_id":272236,"reputation":1157,"user_id":563223,"display_name":"Mattias Josefsson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1356378246,"creation_date":1356378246,"answer_id":14025157,"question_id":14025136,"body_markdown":"Persistant objects are the classes that in your program that has a representation in the database.\r\n\r\nExample if you have a Car class with the properties NumberPlate, Fuel. The NHibernate configuration will map this to for example a table in the database that is named Car and has these columns corresponding to the Car class properties.","title":"What does persistence object means in Hibernate architecture?","body":"<p>Persistant objects are the classes that in your program that has a representation in the database.</p>\n\n<p>Example if you have a Car class with the properties NumberPlate, Fuel. The NHibernate configuration will map this to for example a table in the database that is named Car and has these columns corresponding to the Car class properties.</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1356378953,"creation_date":1356378953,"answer_id":14025241,"question_id":14025136,"body_markdown":"According to the figure , you configure `hibernate.properties` or some `XML mapping` to  map a database table to a java object which is called `persistent object` . \r\n\r\nThen in your `application ` , you use the `persistent object` as a normal java object to \r\nmanipulate its state  . You can pass `persistent object` to hibernate .Hibernate will then  generate and issue the necessary SQL to DB to synchronize the state of the `persistent object`and its corresponding database record .Does it make sense ? \r\n\r\n\r\n","title":"What does persistence object means in Hibernate architecture?","body":"<p>According to the figure , you configure <code>hibernate.properties</code> or some <code>XML mapping</code> to  map a database table to a java object which is called <code>persistent object</code> . </p>\n\n<p>Then in your <code>application</code> , you use the <code>persistent object</code> as a normal java object to \nmanipulate its state  . You can pass <code>persistent object</code> to hibernate .Hibernate will then  generate and issue the necessary SQL to DB to synchronize the state of the <code>persistent object</code>and its corresponding database record .Does it make sense ? </p>\n"},{"tags":[],"owner":{"account_id":2154039,"reputation":2760,"user_id":1909669,"accept_rate":50,"display_name":"DarkHorse"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1453459094,"creation_date":1356499744,"answer_id":14036337,"question_id":14025136,"body_markdown":"I will make it more clearer. Persistent objects are instances of POJO classes that you create that represent rows in the table in the database.\r\nAccording to [hibernate-doc](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/objectstate.html) an instance of POJO class representing table in database goes through 3 states of which persistent is one of them.\r\n\r\nWhen a POJO instance is in session scope, it is said to be persistent i.e hibernate detects any changes made to that object and synchronizes it with database when we close or flush the session.\r\n\r\nAnd about hibernate.properties and XML Mapping @Ken Chan is right. Go through [hibernate-doc](http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/objectstate.html) for more illustrations on objects in hibernate. \r\n\r\n","title":"What does persistence object means in Hibernate architecture?","body":"<p>I will make it more clearer. Persistent objects are instances of POJO classes that you create that represent rows in the table in the database.\nAccording to <a href=\"http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/objectstate.html\" rel=\"noreferrer\">hibernate-doc</a> an instance of POJO class representing table in database goes through 3 states of which persistent is one of them.</p>\n\n<p>When a POJO instance is in session scope, it is said to be persistent i.e hibernate detects any changes made to that object and synchronizes it with database when we close or flush the session.</p>\n\n<p>And about hibernate.properties and XML Mapping @Ken Chan is right. Go through <a href=\"http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/objectstate.html\" rel=\"noreferrer\">hibernate-doc</a> for more illustrations on objects in hibernate. </p>\n"},{"tags":[],"owner":{"account_id":4857794,"reputation":51,"user_id":3918323,"display_name":"Dragon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1407416100,"creation_date":1407413674,"answer_id":25182277,"question_id":14025136,"body_markdown":"Persistent object is nothing but an instance of POJO class. And POJO class is nothing but a class that represents a table. And Hibernate always monitoring that persistent object. Whenever you manipulate that object or you made any changes in that object, Hibernate will do the same in that table (that one represent by the POJO class). that all handle by the hibernate. So in sort this is the one of the feature  of hibernate framework. ","title":"What does persistence object means in Hibernate architecture?","body":"<p>Persistent object is nothing but an instance of POJO class. And POJO class is nothing but a class that represents a table. And Hibernate always monitoring that persistent object. Whenever you manipulate that object or you made any changes in that object, Hibernate will do the same in that table (that one represent by the POJO class). that all handle by the hibernate. So in sort this is the one of the feature  of hibernate framework. </p>\n"},{"tags":[],"owner":{"account_id":3311159,"reputation":3521,"user_id":3839716,"display_name":"CodeShadow"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1409896880,"creation_date":1409896880,"answer_id":25679493,"question_id":14025136,"body_markdown":"Persistent Objects are generally those objects that exist in memory even beyond the duration of the process that creates it.\r\nThese objects are then stored in the database. ","title":"What does persistence object means in Hibernate architecture?","body":"<p>Persistent Objects are generally those objects that exist in memory even beyond the duration of the process that creates it.\nThese objects are then stored in the database. </p>\n"},{"tags":[],"owner":{"account_id":9153966,"reputation":331,"user_id":6807481,"display_name":"Parteek"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1497858712,"creation_date":1473311882,"answer_id":39383063,"question_id":14025136,"body_markdown":"Firstly you need to understand the three states of the Hibernate object i.e Transient, Persistent, Detached. \r\n\r\n\r\nTransient state: An object is in transient state if it just has been instantiated using the new operator and there is no reference of it in the database i.e it does not represent any row in the database.\r\n \r\nPersistent state: An object is in the persistent state if it has some reference in the database i.e it represent some row in the database and identifier value is assigned to it. If any changes are made to the object then hibernate will detect those changes and effects will be there in the database that is why the name Persistent. These changes are made when session is closed. A persistent object is in the session scope.\r\n\r\nDetached state: An object that has been persistent and is no longer in the session scope. The hibernate will not detect any changes made to this object. It can be connected to the session again to make it persistent again.","title":"What does persistence object means in Hibernate architecture?","body":"<p>Firstly you need to understand the three states of the Hibernate object i.e Transient, Persistent, Detached. </p>\n\n<p>Transient state: An object is in transient state if it just has been instantiated using the new operator and there is no reference of it in the database i.e it does not represent any row in the database.</p>\n\n<p>Persistent state: An object is in the persistent state if it has some reference in the database i.e it represent some row in the database and identifier value is assigned to it. If any changes are made to the object then hibernate will detect those changes and effects will be there in the database that is why the name Persistent. These changes are made when session is closed. A persistent object is in the session scope.</p>\n\n<p>Detached state: An object that has been persistent and is no longer in the session scope. The hibernate will not detect any changes made to this object. It can be connected to the session again to make it persistent again.</p>\n"},{"tags":[],"owner":{"account_id":3200009,"reputation":7174,"user_id":2702249,"accept_rate":57,"display_name":"Om Sao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665015194,"creation_date":1664988779,"answer_id":73963780,"question_id":14025136,"body_markdown":"Persistence object is Java object of a class which is parallel to the DB table.\r\nIf you have an `EMP` table in DB, with columns `name`, `age` and `salary`. Then you can make a Java class with data fields `name`, `age` and `salary` with their `getter` and `setter` for all 3 fields.\r\nObject of such classes which has a parallel DB table are called `Persistent Object`.\r\n\r\n\r\nIn the given diagram below: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nJava Application will have `POJO` class which will have `Persistent Objects`, then `Hibernate` framework will be persisting these objects in DB with the knowedge of DB connections and object &lt;-&gt; table mapping with `hibernate.properties` and `XML Mapping` respectively.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X815T.png","title":"What does persistence object means in Hibernate architecture?","body":"<p>Persistence object is Java object of a class which is parallel to the DB table.\nIf you have an <code>EMP</code> table in DB, with columns <code>name</code>, <code>age</code> and <code>salary</code>. Then you can make a Java class with data fields <code>name</code>, <code>age</code> and <code>salary</code> with their <code>getter</code> and <code>setter</code> for all 3 fields.\nObject of such classes which has a parallel DB table are called <code>Persistent Object</code>.</p>\n<p>In the given diagram below:</p>\n<p><a href=\"https://i.stack.imgur.com/X815T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X815T.png\" alt=\"enter image description here\" /></a></p>\n<p>Java Application will have <code>POJO</code> class which will have <code>Persistent Objects</code>, then <code>Hibernate</code> framework will be persisting these objects in DB with the knowedge of DB connections and object &lt;-&gt; table mapping with <code>hibernate.properties</code> and <code>XML Mapping</code> respectively.</p>\n"}],"owner":{"account_id":445124,"reputation":663,"user_id":917202,"accept_rate":44,"display_name":"Mohammad Asgari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64679,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":14036337,"answer_count":7,"score":40,"last_activity_date":1665015194,"creation_date":1356378131,"question_id":14025136,"body_markdown":"&gt; &lt;h2&gt;Hibernate is a persistence framework which is used to persist data\r\n&gt; from Java environment to database.&lt;/h2&gt;\r\n\r\nI am so confused.. if we persist an object to the database, then why does Hibernate Architecture depicts the persistent object in the middle of Application and Hibernate in the picture below? \r\n\r\n[![a busy cat][1]][1]  \r\n&lt;sub&gt;(source: [viralpatel.net](https://img.viralpatel.net/2011/11/hibernate-architecture-mini.png))&lt;/sub&gt;  \r\n\r\n\r\n [1]: https://i.stack.imgur.com/xC7bv.png","title":"What does persistence object means in Hibernate architecture?","body":"<blockquote>\n  <h2>Hibernate is a persistence framework which is used to persist data\n  from Java environment to database.</h2>\n</blockquote>\n\n<p>I am so confused.. if we persist an object to the database, then why does Hibernate Architecture depicts the persistent object in the middle of Application and Hibernate in the picture below? </p>\n\n<p><a href=\"https://i.stack.imgur.com/xC7bv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xC7bv.png\" alt=\"a busy cat\"></a><br>\n<sub>(source: <a href=\"https://img.viralpatel.net/2011/11/hibernate-architecture-mini.png\" rel=\"noreferrer\">viralpatel.net</a>)</sub>  </p>\n"},{"tags":["java","hibernate","jpa","javalin"],"comments":[{"owner":{"account_id":2558,"reputation":98516,"user_id":3571,"accept_rate":57,"display_name":"codeape"},"score":0,"creation_date":1646227131,"post_id":71323135,"comment_id":126070172,"body_markdown":"Re. the close vote: The question is NOT about &quot;please recommend which library/framework to use&quot;. The question is: What is the best way to combine library A and library B.","body":"Re. the close vote: The question is NOT about &quot;please recommend which library/framework to use&quot;. The question is: What is the best way to combine library A and library B."}],"answers":[{"tags":[],"owner":{"account_id":2558,"reputation":98516,"user_id":3571,"accept_rate":57,"display_name":"codeape"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665010283,"creation_date":1665010283,"answer_id":73967063,"question_id":71323135,"body_markdown":"I ended up implementing the following:\r\n\r\n* Create an `EntityManagerFactory` on startup. Create a `Javalin` instance on startup. Then call `enableRequestBoundEntityManager(javalinApp, entityManagerFactory)`.\r\n* Whenever a handler needs an `EntityManager`, use the extension property `Context.entityManager`.\r\n\r\nI.e.:\r\n```\r\nfun main() {\r\n    val app = Javalin.create()\r\n    val emf = createEntityManagerFactorySomehow()\r\n\r\n    enableRequestBoundEntityManager(app, emf)\r\n\r\n    app.get(&quot;/list/&quot;) { ctx -&gt; ctx.json(\r\n        ctx.entityManager.createQuery(&quot;select ... from ...&quot;).resultList\r\n    ) }\r\n\r\n    app.start()\r\n}\r\n\r\n/**\r\n * Adds an `entityManagerFactory` application attribute, and sets up clean up after requests have been handled\r\n */\r\nfun enableRequestBoundEntityManager(app: Javalin, entityManagerFactory: EntityManagerFactory) {\r\n    app.attribute(&quot;entityManagerFactory&quot;, entityManagerFactory)\r\n\r\n    app.after {\r\n        val entityManager: EntityManager? = it.attribute(&quot;entityManager&quot;)\r\n        if (entityManager != null) {\r\n            entityManager.close()\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Returns a JPA entity manager scoped to the Javalin context\r\n */\r\nval Context.entityManager: EntityManager\r\n    get() {\r\n        if (this.attribute&lt;EntityManager&gt;(&quot;entityManager&quot;) == null) {\r\n            this.attribute(&quot;entityManager&quot;, this.appAttribute&lt;EntityManagerFactory&gt;(&quot;entityManagerFactory&quot;).createEntityManager())\r\n        }\r\n        return this.attribute(&quot;entityManager&quot;)!!\r\n    }\r\n```","title":"Using JPA in a Javalin application","body":"<p>I ended up implementing the following:</p>\n<ul>\n<li>Create an <code>EntityManagerFactory</code> on startup. Create a <code>Javalin</code> instance on startup. Then call <code>enableRequestBoundEntityManager(javalinApp, entityManagerFactory)</code>.</li>\n<li>Whenever a handler needs an <code>EntityManager</code>, use the extension property <code>Context.entityManager</code>.</li>\n</ul>\n<p>I.e.:</p>\n<pre><code>fun main() {\n    val app = Javalin.create()\n    val emf = createEntityManagerFactorySomehow()\n\n    enableRequestBoundEntityManager(app, emf)\n\n    app.get(&quot;/list/&quot;) { ctx -&gt; ctx.json(\n        ctx.entityManager.createQuery(&quot;select ... from ...&quot;).resultList\n    ) }\n\n    app.start()\n}\n\n/**\n * Adds an `entityManagerFactory` application attribute, and sets up clean up after requests have been handled\n */\nfun enableRequestBoundEntityManager(app: Javalin, entityManagerFactory: EntityManagerFactory) {\n    app.attribute(&quot;entityManagerFactory&quot;, entityManagerFactory)\n\n    app.after {\n        val entityManager: EntityManager? = it.attribute(&quot;entityManager&quot;)\n        if (entityManager != null) {\n            entityManager.close()\n        }\n    }\n}\n\n/**\n * Returns a JPA entity manager scoped to the Javalin context\n */\nval Context.entityManager: EntityManager\n    get() {\n        if (this.attribute&lt;EntityManager&gt;(&quot;entityManager&quot;) == null) {\n            this.attribute(&quot;entityManager&quot;, this.appAttribute&lt;EntityManagerFactory&gt;(&quot;entityManagerFactory&quot;).createEntityManager())\n        }\n        return this.attribute(&quot;entityManager&quot;)!!\n    }\n</code></pre>\n"}],"owner":{"account_id":2558,"reputation":98516,"user_id":3571,"accept_rate":57,"display_name":"codeape"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":657,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":73967063,"answer_count":1,"score":2,"last_activity_date":1665010283,"creation_date":1646226002,"question_id":71323135,"body_markdown":"I am creating a web application in Java and would like to use the [Javalin](https://javalin.io/) framework.\r\n\r\nIssues/questions:\r\n- What would be the best way to use [JPA (via hibernate)](https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#bootstrap-jpa) in a [Javalin](https://javalin.io/) web application?\r\n- I.e. what is the best way make a JPA `EntityManager` object available to  the Javalin request handlers?\r\n\r\n*Update: Some more context*\r\n\r\nI want to use JPA (via Hibernate) in my javalin application. The central concept in JPA is that you use an `EntityManager` instance to access the database. To create an `EntityManager`, there is a `EntityManagerFactory`.\r\n\r\nWhat I currently do is that I create a global `EntityManagerFactory` and the handlers that use the database call `factory.createEntityManager()`.\r\n\r\nWhile this works, I wonder if there are other recommended apporaches? Coming from a Flask/SQLAlchemy/Python background - on that stack the ORM session (EntityManager equivalent) is typically available as a request-bound object.\r\n","title":"Using JPA in a Javalin application","body":"<p>I am creating a web application in Java and would like to use the <a href=\"https://javalin.io/\" rel=\"nofollow noreferrer\">Javalin</a> framework.</p>\n<p>Issues/questions:</p>\n<ul>\n<li>What would be the best way to use <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#bootstrap-jpa\" rel=\"nofollow noreferrer\">JPA (via hibernate)</a> in a <a href=\"https://javalin.io/\" rel=\"nofollow noreferrer\">Javalin</a> web application?</li>\n<li>I.e. what is the best way make a JPA <code>EntityManager</code> object available to  the Javalin request handlers?</li>\n</ul>\n<p><em>Update: Some more context</em></p>\n<p>I want to use JPA (via Hibernate) in my javalin application. The central concept in JPA is that you use an <code>EntityManager</code> instance to access the database. To create an <code>EntityManager</code>, there is a <code>EntityManagerFactory</code>.</p>\n<p>What I currently do is that I create a global <code>EntityManagerFactory</code> and the handlers that use the database call <code>factory.createEntityManager()</code>.</p>\n<p>While this works, I wonder if there are other recommended apporaches? Coming from a Flask/SQLAlchemy/Python background - on that stack the ORM session (EntityManager equivalent) is typically available as a request-bound object.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1665011004,"post_id":73967050,"comment_id":130602120,"body_markdown":"What do you think `String.getBytes()` does? Are the values in `byte_arr` the values you think the meter wants? Have you stepped through your code with the debugger?","body":"What do you think <code>String.getBytes()</code> does? Are the values in <code>byte_arr</code> the values you think the meter wants? Have you stepped through your code with the debugger?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1665013565,"post_id":73967050,"comment_id":130602510,"body_markdown":"Neither what looks like what you intend to be hex values, nor what you intend to be binary values are actually that. What you need is ```(byte)0b0000_1111```  etc. for your values","body":"Neither what looks like what you intend to be hex values, nor what you intend to be binary values are actually that. What you need is <code>(byte)0b0000_1111</code>  etc. for your values"},{"owner":{"account_id":26539768,"reputation":11,"user_id":20170711,"display_name":"Aenbiarshy"},"score":0,"creation_date":1665162035,"post_id":73967050,"comment_id":130642984,"body_markdown":"Thank you guys reply. I found my problem and fix it!","body":"Thank you guys reply. I found my problem and fix it!"}],"owner":{"account_id":26539768,"reputation":11,"user_id":20170711,"display_name":"Aenbiarshy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665010180,"creation_date":1665010180,"question_id":73967050,"body_markdown":"I try to send a command to Smart Meter to receive total_deliver(kwh). I have USB &lt;-&gt; RS485 converter and using jSerialComm library. I use two different format (str.getByte(), and binary initialize into byte array) try to convert command into byte array, but none of them get a response from smart meter. Does anyone know what did I do wrong?  Thanks!!\r\n\r\n    public static void main(String[] args) throws UnsupportedEncodingException\r\n    \t{\r\n    \t\tSerialPort[] Device_ports = SerialPort.getCommPorts();\r\n    \t\tfor (int i = 0; i &lt; Device_ports.length; i++)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;[&quot;+i+&quot;]&quot;+Device_ports[i].getSystemPortName()+&quot;:&quot;+Device_ports[i].getDescriptivePortName()+&quot;-&quot;+Device_ports[i].getPortDescription());\r\n    \t\t}\r\n    \t\tSerialPort mySerialPort = Device_ports[1];\r\n    \t\t\r\n    \t\tString cmd = &quot;0F04049E0002103B&quot;; \r\n    \t\tbyte[] arr = {(byte) 00001111, 00000100, 00000100, (byte) 10011110, 00000000, 00000010, (byte) 00010000, (byte) 00111011};\r\n    \t\tbyte[] byte_arr = cmd.getBytes();\r\n    \r\n    \t\tfor (int i = 0; i &lt; 3; i++ )\r\n    \t\t{\r\n    \t\t\t//Send(OpenPort(mySerialPort), arr);\r\n    \t\t\tSend(OpenPort(mySerialPort), byte_arr);\r\n    \t\t\tRecv(mySerialPort);\r\n    \t\t}\r\n    \t\tmySerialPort.closePort();\r\n    \t}\r\n\r\nSend\r\n\r\n    public static void Send(SerialPort mySerialPort, byte[] arr) \r\n    \t{\r\n    \t\tif (mySerialPort.isOpen())\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Send &quot;);\r\n    \t\t\tfor (int i = 0; i &lt; arr.length; i++)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.print(arr[i]+ &quot; &quot;);\r\n    \t\t\t}\r\n    \t\t\tmySerialPort.writeBytes(arr, arr.length);\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Send fail&quot;);\r\n    \t\t}\r\n    \t}\r\nReceive\r\n\r\n    public static byte[] Recv(SerialPort mySerialPort)\r\n    \t{\r\n    \t\tbyte[] readbuffer = new byte[25];\r\n    \t\tint counter = 0;\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\twhile (counter &lt;= 5)\r\n    \t\t\t{\r\n    \t\t\t\twhile (mySerialPort.bytesAvailable() == 0 &amp;&amp; counter &lt;= 5)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tThread.sleep(20000);\r\n    \t\t\t\t\tSystem.out.println(&quot;Receive: none&quot;);\r\n    \t\t\t\t\tcounter++;\r\n    \t\t\t\t}\r\n    \t\t\t\tmySerialPort.readBytes(readbuffer, readbuffer.length);\r\n    \t\t\t\tSystem.out.println(&quot;Receive: &quot;);\r\n    \t\t\t\tfor (int i = 0; i &lt; readbuffer.length; i++)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.print(readbuffer[i]+&quot; &quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception e)\r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn readbuffer;\r\n    \t}","title":"Send Command via Modbus RS485","body":"<p>I try to send a command to Smart Meter to receive total_deliver(kwh). I have USB &lt;-&gt; RS485 converter and using jSerialComm library. I use two different format (str.getByte(), and binary initialize into byte array) try to convert command into byte array, but none of them get a response from smart meter. Does anyone know what did I do wrong?  Thanks!!</p>\n<pre><code>public static void main(String[] args) throws UnsupportedEncodingException\n    {\n        SerialPort[] Device_ports = SerialPort.getCommPorts();\n        for (int i = 0; i &lt; Device_ports.length; i++)\n        {\n            System.out.println(&quot;[&quot;+i+&quot;]&quot;+Device_ports[i].getSystemPortName()+&quot;:&quot;+Device_ports[i].getDescriptivePortName()+&quot;-&quot;+Device_ports[i].getPortDescription());\n        }\n        SerialPort mySerialPort = Device_ports[1];\n        \n        String cmd = &quot;0F04049E0002103B&quot;; \n        byte[] arr = {(byte) 00001111, 00000100, 00000100, (byte) 10011110, 00000000, 00000010, (byte) 00010000, (byte) 00111011};\n        byte[] byte_arr = cmd.getBytes();\n\n        for (int i = 0; i &lt; 3; i++ )\n        {\n            //Send(OpenPort(mySerialPort), arr);\n            Send(OpenPort(mySerialPort), byte_arr);\n            Recv(mySerialPort);\n        }\n        mySerialPort.closePort();\n    }\n</code></pre>\n<p>Send</p>\n<pre><code>public static void Send(SerialPort mySerialPort, byte[] arr) \n    {\n        if (mySerialPort.isOpen())\n        {\n            System.out.println(&quot;Send &quot;);\n            for (int i = 0; i &lt; arr.length; i++)\n            {\n                System.out.print(arr[i]+ &quot; &quot;);\n            }\n            mySerialPort.writeBytes(arr, arr.length);\n        }\n        else\n        {\n            System.out.println(&quot;Send fail&quot;);\n        }\n    }\n</code></pre>\n<p>Receive</p>\n<pre><code>public static byte[] Recv(SerialPort mySerialPort)\n    {\n        byte[] readbuffer = new byte[25];\n        int counter = 0;\n        try\n        {\n            while (counter &lt;= 5)\n            {\n                while (mySerialPort.bytesAvailable() == 0 &amp;&amp; counter &lt;= 5)\n                {\n                    Thread.sleep(20000);\n                    System.out.println(&quot;Receive: none&quot;);\n                    counter++;\n                }\n                mySerialPort.readBytes(readbuffer, readbuffer.length);\n                System.out.println(&quot;Receive: &quot;);\n                for (int i = 0; i &lt; readbuffer.length; i++)\n                {\n                    System.out.print(readbuffer[i]+&quot; &quot;);\n                }\n            }\n        } catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n        return readbuffer;\n    }\n</code></pre>\n"},{"tags":["java","floating-point"],"comments":[{"owner":{"account_id":12191330,"reputation":459,"user_id":8898704,"display_name":"Asad Ganiev"},"score":0,"creation_date":1630859837,"post_id":69065269,"comment_id":122064677,"body_markdown":"Why are you wrapping the result of `Float.parseFloat(&quot;76028223&quot;)` with `Float.valueOf`?","body":"Why are you wrapping the result of <code>Float.parseFloat(&quot;76028223&quot;)</code> with <code>Float.valueOf</code>?"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1630859951,"post_id":69065269,"comment_id":122064707,"body_markdown":"To convert it to int. Without that the result is:\n7.6028224E7\n7.6028223E7","body":"To convert it to int. Without that the result is: 7.6028224E7 7.6028223E7"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1630859978,"post_id":69065269,"comment_id":122064715,"body_markdown":"Of course, an (int) cast would also work. And it has the same result","body":"Of course, an (int) cast would also work. And it has the same result"},{"owner":{"account_id":123931,"reputation":9627,"user_id":318716,"display_name":"Joseph Quinsey"},"score":0,"creation_date":1630955300,"post_id":69065269,"comment_id":122089710,"body_markdown":"Does this answer your question? [How many significant digits do floats and doubles have in java?](https://stackoverflow.com/questions/13542944/how-many-significant-digits-do-floats-and-doubles-have-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13542944/how-many-significant-digits-do-floats-and-doubles-have-in-java\">How many significant digits do floats and doubles have in java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1665010109,"creation_date":1630860254,"answer_id":69065375,"question_id":69065269,"body_markdown":"A float is stored using an exponent-mantissa representation (similar to scientific notation taught in grade school). The number of bits available to store the mantissa and exponent depends on the specific type (float vs double in Java, as well as more unusual types listed [here](https://en.wikipedia.org/wiki/IEEE_754#Basic_and_interchange_formats) and elsewhere).\r\n\r\nOne way to represent the numerical value 76028223 (not referring to any specific floating-point type yet) is 1.00100010000001100100111111&lt;sub&gt;2&lt;/sub&gt; * 2^26.\r\n\r\nThe mantissa of a `float` represents 24 bits (23 stored in the float, one implicit&lt;sup&gt;1&lt;/sup&gt;), meaning that it cannot represent all significant bits of 1.00100010000001100100111111. That mantissa would require 27 bits to represent exactly.\r\n\r\nRather, the best we can do with our float is use the closest 24-bit (1.23 bits) mantissa, which is 1.00100010000001100101000 (obtained by rounding the previous mantissa). This mantissa, combined with the correct exponent, represents 1.00100010000001100101000&lt;sub&gt;2&lt;/sub&gt; * 2^26 = 76028224.\r\n\r\nThis kind of truncation leads to a number of unexpected surprises, for example `76028223f + 1 == 76028223f` is true (the closest representation to that float literal is 76028224, and the closest float representation of 76028224+1 is also 76028224).\r\n\r\nA `double` has more precision and hence both a larger exponent range + higher precision mantissa (53 bits of which 52 are explicitly stored), so it can represent your selected input precisely.\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; The leading bit before the &quot;decimal point&quot; is always 1 for a non-[subnormal](https://en.wikipedia.org/wiki/Denormal_number) float, so it does not need to be stored.","title":"Float parsing with strange result compared to Double","body":"<p>A float is stored using an exponent-mantissa representation (similar to scientific notation taught in grade school). The number of bits available to store the mantissa and exponent depends on the specific type (float vs double in Java, as well as more unusual types listed <a href=\"https://en.wikipedia.org/wiki/IEEE_754#Basic_and_interchange_formats\" rel=\"nofollow noreferrer\">here</a> and elsewhere).</p>\n<p>One way to represent the numerical value 76028223 (not referring to any specific floating-point type yet) is 1.00100010000001100100111111<sub>2</sub> * 2^26.</p>\n<p>The mantissa of a <code>float</code> represents 24 bits (23 stored in the float, one implicit<sup>1</sup>), meaning that it cannot represent all significant bits of 1.00100010000001100100111111. That mantissa would require 27 bits to represent exactly.</p>\n<p>Rather, the best we can do with our float is use the closest 24-bit (1.23 bits) mantissa, which is 1.00100010000001100101000 (obtained by rounding the previous mantissa). This mantissa, combined with the correct exponent, represents 1.00100010000001100101000<sub>2</sub> * 2^26 = 76028224.</p>\n<p>This kind of truncation leads to a number of unexpected surprises, for example <code>76028223f + 1 == 76028223f</code> is true (the closest representation to that float literal is 76028224, and the closest float representation of 76028224+1 is also 76028224).</p>\n<p>A <code>double</code> has more precision and hence both a larger exponent range + higher precision mantissa (53 bits of which 52 are explicitly stored), so it can represent your selected input precisely.</p>\n<p><sup>1</sup> The leading bit before the &quot;decimal point&quot; is always 1 for a non-<a href=\"https://en.wikipedia.org/wiki/Denormal_number\" rel=\"nofollow noreferrer\">subnormal</a> float, so it does not need to be stored.</p>\n"}],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1665010109,"creation_date":1630859547,"question_id":69065269,"body_markdown":"I just stumbled upon the following issue. And while I know that floats and doubles have their quirks, this sounds bizarre. Can someone explain (Java 11)?\r\n\r\n\r\n    System.out.println(Float.valueOf(Float.parseFloat(&quot;76028223&quot;)).intValue());\r\n    System.out.println(Double.valueOf(Double.parseDouble(&quot;76028223&quot;)).intValue());\r\n\r\nResult:\r\n\r\n    76028224\r\n    76028223\r\n\r\n","title":"Float parsing with strange result compared to Double","body":"<p>I just stumbled upon the following issue. And while I know that floats and doubles have their quirks, this sounds bizarre. Can someone explain (Java 11)?</p>\n<pre><code>System.out.println(Float.valueOf(Float.parseFloat(&quot;76028223&quot;)).intValue());\nSystem.out.println(Double.valueOf(Double.parseDouble(&quot;76028223&quot;)).intValue());\n</code></pre>\n<p>Result:</p>\n<pre><code>76028224\n76028223\n</code></pre>\n"},{"tags":["java","shell"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1664598982,"post_id":73914612,"comment_id":130513612,"body_markdown":"Can you run file `RUN.bat` from a command prompt window (with the same user that you run the Java code) ? Also, the &quot;command&quot; string that you pass to method `exec` only needs to be the path to `RUN.bat`, i.e. `batchFile.getAbsolutePath()`. The operating system knows how to execute that file.","body":"Can you run file <code>RUN.bat</code> from a command prompt window (with the same user that you run the Java code) ? Also, the &quot;command&quot; string that you pass to method <code>exec</code> only needs to be the path to <code>RUN.bat</code>, i.e. <code>batchFile.getAbsolutePath()</code>. The operating system knows how to execute that file."},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664612669,"post_id":73914612,"comment_id":130515141,"body_markdown":"@Abra Running it from a command prompt works without problems and the server starts up. I also swapped the command string as you said, but that simply timed me out (and performed no actions) so had to change back to the &quot;longer&quot; command string","body":"@Abra Running it from a command prompt works without problems and the server starts up. I also swapped the command string as you said, but that simply timed me out (and performed no actions) so had to change back to the &quot;longer&quot; command string"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1664615087,"post_id":73914612,"comment_id":130515486,"body_markdown":"_the server starts up_ How do you know that the server starts up? _simply timed me out_ What happens that tells you that a timeout has occurred? Perhaps you can post a [mcve] because if I can&#39;t reproduce your problem, it&#39;s difficult to find the cause.","body":"<i>the server starts up</i> How do you know that the server starts up? <i>simply timed me out</i> What happens that tells you that a timeout has occurred? Perhaps you can post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> because if I can&#39;t reproduce your problem, it&#39;s difficult to find the cause."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664617801,"post_id":73914612,"comment_id":130515912,"body_markdown":"You&#39;re not processing stderr, which is quite wrong. And use ```ProcessBuilder``` which will make doing that (and more) easier","body":"You&#39;re not processing stderr, which is quite wrong. And use <code>ProcessBuilder</code> which will make doing that (and more) easier"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664626250,"post_id":73914612,"comment_id":130517375,"body_markdown":"@Abra As I&#39;m using this in a game environment, I know that it starts up because I can join the game server (in this case the Minecraft server) and play it. I can also see in the console how the game started up.\n\nThe game server shut down and said &quot;Timeout&quot;, that&#39;s how I know I timed out. But I fixed that part specifically, that was just me being dum.\n\nI switched it to a shell script and added some text printing, and the texts prints fine but as soon as it gets to the jar startup, it immediately goes back to **Error: Unable to access jarfile**","body":"@Abra As I&#39;m using this in a game environment, I know that it starts up because I can join the game server (in this case the Minecraft server) and play it. I can also see in the console how the game started up.  The game server shut down and said &quot;Timeout&quot;, that&#39;s how I know I timed out. But I fixed that part specifically, that was just me being dum.  I switched it to a shell script and added some text printing, and the texts prints fine but as soon as it gets to the jar startup, it immediately goes back to <b>Error: Unable to access jarfile</b>"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664626605,"post_id":73914612,"comment_id":130517449,"body_markdown":"@g00se I tried using `ProcessBuilder` (and did before as well), but I then get a mix of new fancy errors with the latest one being `CreatProcess error=2 (cannot find file)`, even though the path (and the entire command) is the exact same as in the `#getRuntime().exec()` code","body":"@g00se I tried using <code>ProcessBuilder</code> (and did before as well), but I then get a mix of new fancy errors with the latest one being <code>CreatProcess error=2 (cannot find file)</code>, even though the path (and the entire command) is the exact same as in the <code>#getRuntime().exec()</code> code"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664627948,"post_id":73914612,"comment_id":130517678,"body_markdown":"There&#39;s not really enough information. Also it doesn&#39;t inspire confidence that the file is called &#39;start.sh&#39; (&#39;.sh&#39; normally a *Unix* shell script extension)","body":"There&#39;s not really enough information. Also it doesn&#39;t inspire confidence that the file is called &#39;start.sh&#39; (&#39;.sh&#39; normally a <i>Unix</i> shell script extension)"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664628658,"post_id":73914612,"comment_id":130517782,"body_markdown":"@g00se What do you want me to call the file instead then?","body":"@g00se What do you want me to call the file instead then?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664628862,"post_id":73914612,"comment_id":130517813,"body_markdown":"It doesn&#39;t matter what it&#39;s called ;) What does matter is if you&#39;re trying to run a bash shell script on Windows. I don&#39;t know if you are or not, because you haven&#39;t shown the content of that file. What&#39;s more, you haven&#39;t shown the value of ```startScript```","body":"It doesn&#39;t matter what it&#39;s called ;) What does matter is if you&#39;re trying to run a bash shell script on Windows. I don&#39;t know if you are or not, because you haven&#39;t shown the content of that file. What&#39;s more, you haven&#39;t shown the value of <code>startScript</code>"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664632237,"post_id":73914612,"comment_id":130518387,"body_markdown":"@g00se Ah I see, my bad! I&#39;ve updated my post to add the contents of the shell script. The value of startScript returns `..\\prison-spawn-2\\start.sh` if that is what you mean?","body":"@g00se Ah I see, my bad! I&#39;ve updated my post to add the contents of the shell script. The value of startScript returns <code>..\\prison-spawn-2\\start.sh</code> if that is what you mean?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664632743,"post_id":73914612,"comment_id":130518471,"body_markdown":"Why are you mixing `/bin/sh` (shell script) and `cmd.exe` (ProcessBuilder)? I doubt any system will have both installed","body":"Why are you mixing <code>&#47;bin&#47;sh</code> (shell script) and <code>cmd.exe</code> (ProcessBuilder)? I doubt any system will have both installed"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664633017,"post_id":73914612,"comment_id":130518515,"body_markdown":"@knittl Well mostly because working with shell scripts (nor how to run them from code) before. What solution do you recommend I go for instead?","body":"@knittl Well mostly because working with shell scripts (nor how to run them from code) before. What solution do you recommend I go for instead?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1664633131,"post_id":73914612,"comment_id":130518546,"body_markdown":"@Liam I don&#39;t understand. Are you running this on a Linux or Windows system? Linux has `/bin/sh`, Windows has `cmd.exe`. But Linux does not have `cmd.exe` and Windows does not have `/bin/sh`. So starting `cmd.exe` from a shell script is going to fail. Running a shell script on Windows will fail too. Pick one system and stick to it.","body":"@Liam I don&#39;t understand. Are you running this on a Linux or Windows system? Linux has <code>&#47;bin&#47;sh</code>, Windows has <code>cmd.exe</code>. But Linux does not have <code>cmd.exe</code> and Windows does not have <code>&#47;bin&#47;sh</code>. So starting <code>cmd.exe</code> from a shell script is going to fail. Running a shell script on Windows will fail too. Pick one system and stick to it."},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664633993,"post_id":73914612,"comment_id":130518759,"body_markdown":"@knittl Currently running this on Windows. It will run on Linux later in production, but it&#39;s Windows for now. As said, I&#39;ve not worked with shell scripts before and I&#39;m currently trying to learn, sorry for the inconvenience.\n\nWhat do you mean by &quot;*Running a shell script on Windows will fail too*&quot;? Because I can certainly run a shell script on my computer to start up the game server (the server.jar application). What I can&#39;t, is having another java application run the script through code","body":"@knittl Currently running this on Windows. It will run on Linux later in production, but it&#39;s Windows for now. As said, I&#39;ve not worked with shell scripts before and I&#39;m currently trying to learn, sorry for the inconvenience.  What do you mean by &quot;<i>Running a shell script on Windows will fail too</i>&quot;? Because I can certainly run a shell script on my computer to start up the game server (the server.jar application). What I can&#39;t, is having another java application run the script through code"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664634762,"post_id":73914612,"comment_id":130518962,"body_markdown":"OK. You&#39;ve given me the value. Now we need the content of the file. If by some fluke the contents of that file are platform-neutral, it *could* work. But please don&#39;t treat .sh and .bat files as interchangeable. They are for different operating systems","body":"OK. You&#39;ve given me the value. Now we need the content of the file. If by some fluke the contents of that file are platform-neutral, it <i>could</i> work. But please don&#39;t treat .sh and .bat files as interchangeable. They are for different operating systems"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664635162,"post_id":73914612,"comment_id":130519066,"body_markdown":"@g00se When you say content of the file, you mean content of the shell script? If so I&#39;ve added that to my post.\n\nAlright I see what you mean with not treating the files as interchangeable. Actually didn&#39;t know that until now, does that mean you think I should go back to using batch instead while on the Windows machine?","body":"@g00se When you say content of the file, you mean content of the shell script? If so I&#39;ve added that to my post.  Alright I see what you mean with not treating the files as interchangeable. Actually didn&#39;t know that until now, does that mean you think I should go back to using batch instead while on the Windows machine?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664635387,"post_id":73914612,"comment_id":130519102,"body_markdown":"Ah right, I missed the contents. If you get rid of the ```sleep```  calls and the first line, you can, (and should) rename that as &#39;start.bat&#39;","body":"Ah right, I missed the contents. If you get rid of the <code>sleep</code>  calls and the first line, you can, (and should) rename that as &#39;start.bat&#39;"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664635897,"post_id":73914612,"comment_id":130519227,"body_markdown":"@g00se Alright I did the changes and ran the program. The application runs the batch file, the batch file sends &quot;Starting server&quot;, but then again gives me the &quot;`Unable to access jarfile`&quot; error.\n\nThis is what I first tried before swapping my batch script to a shell script (as I thought trying with something would give a new outcome). But I&#39;m pretty sure that I&#39;m just back where I started now?","body":"@g00se Alright I did the changes and ran the program. The application runs the batch file, the batch file sends &quot;Starting server&quot;, but then again gives me the &quot;<code>Unable to access jarfile</code>&quot; error.  This is what I first tried before swapping my batch script to a shell script (as I thought trying with something would give a new outcome). But I&#39;m pretty sure that I&#39;m just back where I started now?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664640214,"post_id":73914612,"comment_id":130520174,"body_markdown":"server.jar needs to be in the *current* directory. Is that the case?","body":"server.jar needs to be in the <i>current</i> directory. Is that the case?"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664645825,"post_id":73914612,"comment_id":130521358,"body_markdown":"@g00se The server.jar is in the same directory as the batch script, but not the same directory as the java application running the batch script","body":"@g00se The server.jar is in the same directory as the batch script, but not the same directory as the java application running the batch script"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664650452,"post_id":73914612,"comment_id":130522260,"body_markdown":"OK, so you need to do some research into what &#39;current directory&#39; means, but for the moment, remove doubt by replacing all your relative paths with absolute ones (those would be from the drive letter to the file name inclusive)","body":"OK, so you need to do some research into what &#39;current directory&#39; means, but for the moment, remove doubt by replacing all your relative paths with absolute ones (those would be from the drive letter to the file name inclusive)"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664651203,"post_id":73914612,"comment_id":130522400,"body_markdown":"@g00se I swapped out the path to an absolute one (for the record, still issue occurs, but pretty sure the point of that specifically wasn&#39;t to fix the issue overall)\n\nI tried looking into &#39;current directory&#39;, and it explains it as &quot;current working directory or folder&quot; with some examples. And from that, I feel like my answer would still be that the batch file is in the same directory as server.jar, but that the application executing the batch is *not* in the same directory as the jarfile. But if I still got current directory wrong, then I&#39;m not sure what to answer on that, I&#39;m sorry.","body":"@g00se I swapped out the path to an absolute one (for the record, still issue occurs, but pretty sure the point of that specifically wasn&#39;t to fix the issue overall)  I tried looking into &#39;current directory&#39;, and it explains it as &quot;current working directory or folder&quot; with some examples. And from that, I feel like my answer would still be that the batch file is in the same directory as server.jar, but that the application executing the batch is <i>not</i> in the same directory as the jarfile. But if I still got current directory wrong, then I&#39;m not sure what to answer on that, I&#39;m sorry."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664652071,"post_id":73914612,"comment_id":130522554,"body_markdown":"*I swapped out the path* &quot;The&quot; path? I mean *all* paths","body":"<i>I swapped out the path</i> &quot;The&quot; path? I mean <i>all</i> paths"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664652304,"post_id":73914612,"comment_id":130522595,"body_markdown":"@g00se I only have the path to the start script, or am I completely wrong? In the snippet of code I run for each test, the only path I can think of is that.\n\nI changed `getAbsolutePath()` to `getCanonicalPath()`, which when I print it out gives me the absolute path","body":"@g00se I only have the path to the start script, or am I completely wrong? In the snippet of code I run for each test, the only path I can think of is that.  I changed <code>getAbsolutePath()</code> to <code>getCanonicalPath()</code>, which when I print it out gives me the absolute path"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664653159,"post_id":73914612,"comment_id":130522716,"body_markdown":"Ok please post new script in your q and       value of startScript","body":"Ok please post new script in your q and       value of startScript"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664654316,"post_id":73914612,"comment_id":130522874,"body_markdown":"@g00se I updated the post with the content of the batch file. The value of `startScript` is `..\\prison-spawn-2\\start.bat` and the value of the absolute path used where the command text is written is `C:\\Users\\{MYUSER}\\Desktop\\{PROJECTNAME_FOLDER}\\Network\\prison-spawn-2\\start.bat`","body":"@g00se I updated the post with the content of the batch file. The value of <code>startScript</code> is <code>..\\prison-spawn-2\\start.bat</code> and the value of the absolute path used where the command text is written is <code>C:\\Users\\{MYUSER}\\Desktop\\{PROJECTNAME_FOLDER}\\Network\\priso&zwnj;&#8203;n-spawn-2\\start.bat</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664654581,"post_id":73914612,"comment_id":130522918,"body_markdown":"Ok you need to reread my comments more carefully, in particular about *drive letters*. Nearly all your paths are *still* relative","body":"Ok you need to reread my comments more carefully, in particular about <i>drive letters</i>. Nearly all your paths are <i>still</i> relative"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664654952,"post_id":73914612,"comment_id":130522974,"body_markdown":"@g00se I now also swapped out the startScript file to be the absolute path, so when I print those 2 values shown above, they now both show the same (being the longer message of the 2 I showed in the message above)\n\nIf that is not what you had in mind, then I must admit to not knowing what you mean by swapping all files to absolute","body":"@g00se I now also swapped out the startScript file to be the absolute path, so when I print those 2 values shown above, they now both show the same (being the longer message of the 2 I showed in the message above)  If that is not what you had in mind, then I must admit to not knowing what you mean by swapping all files to absolute"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664655349,"post_id":73914612,"comment_id":130523046,"body_markdown":"No visible difference to the path inside the batch file that was there originally...PLUS the code shows you assigning a *relative* path to &#39;startScript&#39; even now (!)","body":"No visible difference to the path inside the batch file that was there originally...PLUS the code shows you assigning a <i>relative</i> path to &#39;startScript&#39; even now (!)"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664655603,"post_id":73914612,"comment_id":130523084,"body_markdown":"@g00se If you look at the code in the post now, is that what you mean?","body":"@g00se If you look at the code in the post now, is that what you mean?"},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1664655687,"post_id":73914612,"comment_id":130523098,"body_markdown":"What&#39;s the point of having a shell script at all here? Why not have your Java code directly start the other jar? You&#39;re asking us to help troubleshoot moving pieces that don&#39;t need to exist in the first place.","body":"What&#39;s the point of having a shell script at all here? Why not have your Java code directly start the other jar? You&#39;re asking us to help troubleshoot moving pieces that don&#39;t need to exist in the first place."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1664655862,"post_id":73914612,"comment_id":130523133,"body_markdown":"...yes, you say you&#39;ve shown us an error, but if you ask us how to fix that error then we&#39;ll be better able to get somewhere useful. It&#39;s better to fix the simple thing than to ask a question about how to do a different, more complex, more failure-prone, less-portable thing.","body":"...yes, you say you&#39;ve shown us an error, but if you ask us how to fix that error then we&#39;ll be better able to get somewhere useful. It&#39;s better to fix the simple thing than to ask a question about how to do a different, more complex, more failure-prone, less-portable thing."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664655882,"post_id":73914612,"comment_id":130523135,"body_markdown":"No change in the script. @CharlesDuffy I&#39;m kind of hoping there are further things not shown ;)","body":"No change in the script. @CharlesDuffy I&#39;m kind of hoping there are further things not shown ;)"},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1664656013,"post_id":73914612,"comment_id":130523153,"body_markdown":"@g00se, I&#39;m not sure that inference is founded, insofar as the OP says they _tried_ directly invoking the jar with ProcessBuilder and failed (and so fell back to trying to start a script -- &quot;fixing&quot; a broken system by replacing it with a more-complicated, still-broken system).","body":"@g00se, I&#39;m not sure that inference is founded, insofar as the OP says they <i>tried</i> directly invoking the jar with ProcessBuilder and failed (and so fell back to trying to start a script -- &quot;fixing&quot; a broken system by replacing it with a more-complicated, still-broken system)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664656167,"post_id":73914612,"comment_id":130523173,"body_markdown":"I&#39;m also hoping those path elements in curly braces are not real","body":"I&#39;m also hoping those path elements in curly braces are not real"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664656520,"post_id":73914612,"comment_id":130523239,"body_markdown":"@g00se To ease your mind, no those paths in curly braces are not real, hopefully you can sleep a bit better now. I really am trying my best here, but apparently my best in *this case* didn&#39;t make the cut.\nI do appreciate the help you&#39;ve given so far, but I&#39;ll try to continue on my own using the resources already available to me if that&#39;s better","body":"@g00se To ease your mind, no those paths in curly braces are not real, hopefully you can sleep a bit better now. I really am trying my best here, but apparently my best in <i>this case</i> didn&#39;t make the cut. I do appreciate the help you&#39;ve given so far, but I&#39;ll try to continue on my own using the resources already available to me if that&#39;s better"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664657768,"post_id":73914612,"comment_id":130523458,"body_markdown":"Before you go, put an absolute path inside your batch file and you might get a different result","body":"Before you go, put an absolute path inside your batch file and you might get a different result"},{"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"score":0,"creation_date":1664658181,"post_id":73914612,"comment_id":130523527,"body_markdown":"@g00se Alright will do, thank you","body":"@g00se Alright will do, thank you"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664658676,"post_id":73914612,"comment_id":130523599,"body_markdown":"Just to remove all doubt, that means it will start with a drive letter","body":"Just to remove all doubt, that means it will start with a drive letter"}],"owner":{"account_id":25996951,"reputation":35,"user_id":19708160,"display_name":"Liam"},"comment_count":39,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665009730,"creation_date":1664578153,"question_id":73914612,"body_markdown":"I have a java application and from that application I want to be able to run new applications. While the concept is the same, I&#39;m using this in a Minecraft environment where I want to have one application be able to run other Minecraft servers whenever I specify so in the first application.\r\n\r\nI&#39;m trying to run the startup shell script but whenever I do I simply get the error **Error: Unable to access jarfile server.jar**.\r\n\r\nNote that I am perfectly able to run the script on my computer by &quot;*double clicking it*&quot;, the shell script works, Java application starts up, and I can join the game server and play without any problems.\r\n\r\nI&#39;ve also tried running the jar application directly from the code, but then I get either **CreatProcess error=5** or **CreatProcess error=193** (using ProcessBuilder), even though I&#39;ve set all the computer to have all permissions regarding reading and writing the file.\r\n\r\nThis is my code for running the shell script:\r\n```java\r\n// Starts the server by running the script\r\nFile startScript = new File(&quot;C:\\\\Users\\\\{MYUSER}\\\\Desktop\\\\{PROJECTNAME_FOLDER}\\\\Network\\\\prison-spawn-2\\\\start.bat&quot;);\r\n\r\n// Run the process\r\ntry {\r\n    Process process = Runtime.getRuntime().exec(&quot;cmd /c start &quot; + startScript.getCanonicalPath());\r\n\r\n    int exitVal = process.waitFor();\r\n    if (exitVal == 0) {\r\n        System.out.println(&quot;Success!&quot;);\r\n    }\r\n} catch (Exception exception) {\r\n    exception.printStackTrace();\r\n}\r\n```\r\n**Batch Script Content**\r\n```\r\necho &quot;Starting server...&quot;\r\n\r\njava -jar C:\\Users\\{MYUSER}\\Desktop\\{PROJECTNAME_FOLDER}\\Network\\prison-spawn-2\\server.jar nogui\r\n```","title":"Running a shell script which runs a Java program","body":"<p>I have a java application and from that application I want to be able to run new applications. While the concept is the same, I'm using this in a Minecraft environment where I want to have one application be able to run other Minecraft servers whenever I specify so in the first application.</p>\n<p>I'm trying to run the startup shell script but whenever I do I simply get the error <strong>Error: Unable to access jarfile server.jar</strong>.</p>\n<p>Note that I am perfectly able to run the script on my computer by &quot;<em>double clicking it</em>&quot;, the shell script works, Java application starts up, and I can join the game server and play without any problems.</p>\n<p>I've also tried running the jar application directly from the code, but then I get either <strong>CreatProcess error=5</strong> or <strong>CreatProcess error=193</strong> (using ProcessBuilder), even though I've set all the computer to have all permissions regarding reading and writing the file.</p>\n<p>This is my code for running the shell script:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Starts the server by running the script\nFile startScript = new File(&quot;C:\\\\Users\\\\{MYUSER}\\\\Desktop\\\\{PROJECTNAME_FOLDER}\\\\Network\\\\prison-spawn-2\\\\start.bat&quot;);\n\n// Run the process\ntry {\n    Process process = Runtime.getRuntime().exec(&quot;cmd /c start &quot; + startScript.getCanonicalPath());\n\n    int exitVal = process.waitFor();\n    if (exitVal == 0) {\n        System.out.println(&quot;Success!&quot;);\n    }\n} catch (Exception exception) {\n    exception.printStackTrace();\n}\n</code></pre>\n<p><strong>Batch Script Content</strong></p>\n<pre><code>echo &quot;Starting server...&quot;\n\njava -jar C:\\Users\\{MYUSER}\\Desktop\\{PROJECTNAME_FOLDER}\\Network\\prison-spawn-2\\server.jar nogui\n</code></pre>\n"},{"tags":["java","netty","minecraft","minecraft-fabric"],"owner":{"account_id":26532280,"reputation":11,"user_id":20164288,"display_name":"asablock"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665009485,"creation_date":1664951690,"question_id":73956619,"body_markdown":"I am trying to create a temperature system in my mod, and I synchronize temperature data (2 floats) with Fabric Networking API. Packets are created with these codes.\r\n```\r\n// Temperature.java\r\nprivate float ambient;\r\nprivate float biome;\r\n\r\npublic PacketByteBuf createBuffer() {\r\n    PacketByteBuf buf = PacketByteBufs.create();\r\n    buf.writeFloat(ambient);\r\n    buf.writeFloat(biome);\r\n    return buf;\r\n}\r\n\r\npublic void loadBuffer(PacketByteBuf buf) {\r\n    this.ambient = buf.readFloat();\r\n    this.biome = buf.readFloat();\r\n}\r\n\r\npublic void copyFieldsTo(Temperature that) {\r\n    Objects.requireNonNull(that, &quot;that&quot;);\r\n    that.ambient = this.ambient;\r\n    that.biome = this.biome;\r\n}\r\n```\r\nNetty always throws &quot;io.netty.util.IllegalReferenceCountException: refCnt: 0&quot; in loadBuffer method. Data are not synchronized, but packets are received.\r\nThese are codes to send packets and receive packets.\r\n```\r\n// In a mixin to ServerPlayerEntity\r\n@Unique\r\nprivate Temperature rmc$temperature;\r\n@Unique\r\nprivate Temperature rmc$syncedTemperature;\r\n@Inject(method = &quot;playerTick&quot;, at = @At(value = &quot;INVOKE&quot;,\r\n            target = &quot;Lnet/minecraft/server/network/ServerPlayerEntity;getHealth()F&quot;,\r\n            shift = At.Shift.BEFORE, ordinal = 0))\r\nprivate void syncRMCData(CallbackInfo ci) {\r\n    TemperatureUtil.update(rmc$temperature, self);//Update temperature data\r\n    if (!rmc$temperature.equals(rmc$syncedTemperature)) {\r\n         ServerPlayNetworking.send(self, TemperatureUtil.PACKET_ID, rmc$temperature.createBuffer());\r\n         rmc$temperature.copyFieldsTo(rmc$syncedTemperature);\r\n    }\r\n}\r\n// In client mod initializer\r\nClientPlayNetworking.registerGlobalReceiver(TemperatureUtil.PACKET_ID,\r\n        (client, handler, buf, responseSender) -&gt; client.execute(\r\n                () -&gt; ((TemperatureAccess) client.player).getTemperature()\r\n                        .loadBuffer(buf)));\r\n// TemperatureAccess is an interface implemented by a mixin to ClientPlayerEntity\r\n```\r\nThis is the stack trace:\r\n```\r\n[13:22:34] [main/FATAL] (Minecraft) Error executing task on Client\r\nio.netty.util.IllegalReferenceCountException: refCnt: 0\r\n\tat io.netty.buffer.AbstractByteBuf.ensureAccessible(AbstractByteBuf.java:1417) ~[netty-all-4.1.25.Final.jar:4.1.25.Final]\r\n\tat io.netty.buffer.AbstractByteBuf.checkReadableBytes0(AbstractByteBuf.java:1403) ~[netty-all-4.1.25.Final.jar:4.1.25.Final]\r\n\tat io.netty.buffer.AbstractByteBuf.readByte(AbstractByteBuf.java:707) ~[netty-all-4.1.25.Final.jar:4.1.25.Final]\r\n\tat net.minecraft.network.PacketByteBuf.readByte(PacketByteBuf.java:1260) ~[minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\r\n\tat net.minecraft.network.PacketByteBuf.readVarInt(PacketByteBuf.java:483) ~[minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\r\n\tat io.github.asablock.rmc.temperature.Temperature.loadBuffer(Temperature.java:50) ~[main/:?]\r\n\tat io.github.asablock.rmc.client.ClientReasonableMCMod.lambda$onInitializeClient$2(ClientReasonableMCMod.java:57) ~[main/:?]\r\n\tat net.minecraft.util.thread.ThreadExecutor.executeTask(ThreadExecutor.java:136) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\r\n\tat net.minecraft.util.thread.ReentrantThreadExecutor.executeTask(ReentrantThreadExecutor.java:22) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\r\n\tat net.minecraft.util.thread.ThreadExecutor.runTask(ThreadExecutor.java:109) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\r\n\tat net.minecraft.util.thread.ThreadExecutor.runTasks(ThreadExecutor.java:97) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\r\n\tat net.minecraft.client.MinecraftClient.render(MinecraftClient.java:1047) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\r\n\tat net.minecraft.client.MinecraftClient.run(MinecraftClient.java:685) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\r\n\tat net.minecraft.client.main.Main.main(Main.java:187) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:567) ~[?:?]\r\n\tat net.fabricmc.loader.game.MinecraftGameProvider.launch(MinecraftGameProvider.java:234) [fabric-loader-0.11.6.jar:?]\r\n\tat net.fabricmc.loader.launch.knot.Knot.launch(Knot.java:153) [fabric-loader-0.11.6.jar:?]\r\n\tat net.fabricmc.loader.launch.knot.KnotClient.main(KnotClient.java:28) [fabric-loader-0.11.6.jar:?]\r\n\tat net.fabricmc.devlaunchinjector.Main.main(Main.java:86) [dev-launch-injector-0.2.1+build.8.jar:?]\r\n```","title":"io.netty.util.IllegalReferenceCountException: refCnt: 0 throws while invoking PacketByteBuf.readFloat in minecraft 1.16.5","body":"<p>I am trying to create a temperature system in my mod, and I synchronize temperature data (2 floats) with Fabric Networking API. Packets are created with these codes.</p>\n<pre><code>// Temperature.java\nprivate float ambient;\nprivate float biome;\n\npublic PacketByteBuf createBuffer() {\n    PacketByteBuf buf = PacketByteBufs.create();\n    buf.writeFloat(ambient);\n    buf.writeFloat(biome);\n    return buf;\n}\n\npublic void loadBuffer(PacketByteBuf buf) {\n    this.ambient = buf.readFloat();\n    this.biome = buf.readFloat();\n}\n\npublic void copyFieldsTo(Temperature that) {\n    Objects.requireNonNull(that, &quot;that&quot;);\n    that.ambient = this.ambient;\n    that.biome = this.biome;\n}\n</code></pre>\n<p>Netty always throws &quot;io.netty.util.IllegalReferenceCountException: refCnt: 0&quot; in loadBuffer method. Data are not synchronized, but packets are received.\nThese are codes to send packets and receive packets.</p>\n<pre><code>// In a mixin to ServerPlayerEntity\n@Unique\nprivate Temperature rmc$temperature;\n@Unique\nprivate Temperature rmc$syncedTemperature;\n@Inject(method = &quot;playerTick&quot;, at = @At(value = &quot;INVOKE&quot;,\n            target = &quot;Lnet/minecraft/server/network/ServerPlayerEntity;getHealth()F&quot;,\n            shift = At.Shift.BEFORE, ordinal = 0))\nprivate void syncRMCData(CallbackInfo ci) {\n    TemperatureUtil.update(rmc$temperature, self);//Update temperature data\n    if (!rmc$temperature.equals(rmc$syncedTemperature)) {\n         ServerPlayNetworking.send(self, TemperatureUtil.PACKET_ID, rmc$temperature.createBuffer());\n         rmc$temperature.copyFieldsTo(rmc$syncedTemperature);\n    }\n}\n// In client mod initializer\nClientPlayNetworking.registerGlobalReceiver(TemperatureUtil.PACKET_ID,\n        (client, handler, buf, responseSender) -&gt; client.execute(\n                () -&gt; ((TemperatureAccess) client.player).getTemperature()\n                        .loadBuffer(buf)));\n// TemperatureAccess is an interface implemented by a mixin to ClientPlayerEntity\n</code></pre>\n<p>This is the stack trace:</p>\n<pre><code>[13:22:34] [main/FATAL] (Minecraft) Error executing task on Client\nio.netty.util.IllegalReferenceCountException: refCnt: 0\n    at io.netty.buffer.AbstractByteBuf.ensureAccessible(AbstractByteBuf.java:1417) ~[netty-all-4.1.25.Final.jar:4.1.25.Final]\n    at io.netty.buffer.AbstractByteBuf.checkReadableBytes0(AbstractByteBuf.java:1403) ~[netty-all-4.1.25.Final.jar:4.1.25.Final]\n    at io.netty.buffer.AbstractByteBuf.readByte(AbstractByteBuf.java:707) ~[netty-all-4.1.25.Final.jar:4.1.25.Final]\n    at net.minecraft.network.PacketByteBuf.readByte(PacketByteBuf.java:1260) ~[minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\n    at net.minecraft.network.PacketByteBuf.readVarInt(PacketByteBuf.java:483) ~[minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\n    at io.github.asablock.rmc.temperature.Temperature.loadBuffer(Temperature.java:50) ~[main/:?]\n    at io.github.asablock.rmc.client.ClientReasonableMCMod.lambda$onInitializeClient$2(ClientReasonableMCMod.java:57) ~[main/:?]\n    at net.minecraft.util.thread.ThreadExecutor.executeTask(ThreadExecutor.java:136) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\n    at net.minecraft.util.thread.ReentrantThreadExecutor.executeTask(ReentrantThreadExecutor.java:22) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\n    at net.minecraft.util.thread.ThreadExecutor.runTask(ThreadExecutor.java:109) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\n    at net.minecraft.util.thread.ThreadExecutor.runTasks(ThreadExecutor.java:97) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\n    at net.minecraft.client.MinecraftClient.render(MinecraftClient.java:1047) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\n    at net.minecraft.client.MinecraftClient.run(MinecraftClient.java:685) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\n    at net.minecraft.client.main.Main.main(Main.java:187) [minecraft-1.16.5-mapped-net.fabricmc.yarn-1.16.5+build.10-v2.jar:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:567) ~[?:?]\n    at net.fabricmc.loader.game.MinecraftGameProvider.launch(MinecraftGameProvider.java:234) [fabric-loader-0.11.6.jar:?]\n    at net.fabricmc.loader.launch.knot.Knot.launch(Knot.java:153) [fabric-loader-0.11.6.jar:?]\n    at net.fabricmc.loader.launch.knot.KnotClient.main(KnotClient.java:28) [fabric-loader-0.11.6.jar:?]\n    at net.fabricmc.devlaunchinjector.Main.main(Main.java:86) [dev-launch-injector-0.2.1+build.8.jar:?]\n</code></pre>\n"},{"tags":["java","console"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1664975930,"post_id":73960907,"comment_id":130591075,"body_markdown":"You might want to throw exception, then catch and handle it(notify). But there is no best way, depends on what you want to happen in the case of invalid input.","body":"You might want to throw exception, then catch and handle it(notify). But there is no best way, depends on what you want to happen in the case of invalid input."},{"owner":{"account_id":26535489,"reputation":1,"user_id":20167076,"display_name":"anatoliy121"},"score":0,"creation_date":1664976080,"post_id":73960907,"comment_id":130591136,"body_markdown":"If the input is invalid, it would be best if the user was notified, then invited to try again","body":"If the input is invalid, it would be best if the user was notified, then invited to try again"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1664976140,"post_id":73960907,"comment_id":130591170,"body_markdown":"@anatoliy121 In that case, you might want to keep prompting the user for an age until you get a valid one and only create the `User` object after that.","body":"@anatoliy121 In that case, you might want to keep prompting the user for an age until you get a valid one and only create the <code>User</code> object after that."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1664976364,"post_id":73960907,"comment_id":130591261,"body_markdown":"I&#39;d combine the 2 approaches: check the age before creating the user but also check in the setter and throw an exception if validation fails. You want to catch invalid input early on but at the same time don&#39;t want to trust any code external to the class to maintain those constraints.","body":"I&#39;d combine the 2 approaches: check the age before creating the user but also check in the setter and throw an exception if validation fails. You want to catch invalid input early on but at the same time don&#39;t want to trust any code external to the class to maintain those constraints."},{"owner":{"account_id":26535489,"reputation":1,"user_id":20167076,"display_name":"anatoliy121"},"score":0,"creation_date":1664976930,"post_id":73960907,"comment_id":130591499,"body_markdown":"So it would be best to check the values before creating the objects, but when you&#39;d change the value it would be best to handle that check in the setters?","body":"So it would be best to check the values before creating the objects, but when you&#39;d change the value it would be best to handle that check in the setters?"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664976068,"creation_date":1664976068,"answer_id":73961020,"question_id":73960907,"body_markdown":"Throw an appropriate `Exception` to indicate the problem.\r\n\r\n```java\r\npublic User(int age) {\r\n  if (age &lt; 150)\r\n\t this.age = age;\r\n  else\r\n\t throw new IllegalArgumentException(&quot;Age &gt;= 150&quot;);\r\n}\r\n```","title":"What is the best way to notify the user that their input is incorrect when setting a class property in a Java console app?","body":"<p>Throw an appropriate <code>Exception</code> to indicate the problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public User(int age) {\n  if (age &lt; 150)\n     this.age = age;\n  else\n     throw new IllegalArgumentException(&quot;Age &gt;= 150&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12436591,"reputation":13,"user_id":13952980,"display_name":"MDH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664976800,"creation_date":1664976800,"answer_id":73961172,"question_id":73960907,"body_markdown":"As mentioned already, you can check for the age before you create the object.\r\n\r\nAlternatively you could make the constructor private and use a method like this to create the object:\r\n\r\n    public static User createUser(int age) {\r\n        if (age &gt;= 150) {\r\n            throw new IllegalArgumentException(&quot;Too old&quot;);\r\n        }\r\n        return new User(age);\r\n    }","title":"What is the best way to notify the user that their input is incorrect when setting a class property in a Java console app?","body":"<p>As mentioned already, you can check for the age before you create the object.</p>\n<p>Alternatively you could make the constructor private and use a method like this to create the object:</p>\n<pre><code>public static User createUser(int age) {\n    if (age &gt;= 150) {\n        throw new IllegalArgumentException(&quot;Too old&quot;);\n    }\n    return new User(age);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":214370,"reputation":5510,"user_id":468304,"accept_rate":100,"display_name":"cyber-monk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665008382,"creation_date":1665008382,"answer_id":73966858,"question_id":73960907,"body_markdown":"A design alternative instead of throwing exception might be: if they pick a value over the max, just set it to the max.  \r\n\r\nAs an aside it&#39;s generally a good idea to return a value to the caller to signal what action was taken by the method.  If you update the value, return the updated value.  If you didn&#39;t update the value, return the existing value. That way the caller and decide what to do if the value was or was not updated.\r\n\r\nYou could also return a boolean value to signal if the age was updated or not.\r\n\r\nAnother idea to follow is the &quot;principle of least surprise&quot; which you can think of as: what would the caller expect to happen if the value is out of range...  as an example outsider, I would think that the age doesn&#39;t get set and it tells me what the acceptable ranges are so I can pick again, or better yet it only lets me pick acceptable values so I don&#39;t have to go back and forth.","title":"What is the best way to notify the user that their input is incorrect when setting a class property in a Java console app?","body":"<p>A design alternative instead of throwing exception might be: if they pick a value over the max, just set it to the max.</p>\n<p>As an aside it's generally a good idea to return a value to the caller to signal what action was taken by the method.  If you update the value, return the updated value.  If you didn't update the value, return the existing value. That way the caller and decide what to do if the value was or was not updated.</p>\n<p>You could also return a boolean value to signal if the age was updated or not.</p>\n<p>Another idea to follow is the &quot;principle of least surprise&quot; which you can think of as: what would the caller expect to happen if the value is out of range...  as an example outsider, I would think that the age doesn't get set and it tells me what the acceptable ranges are so I can pick again, or better yet it only lets me pick acceptable values so I don't have to go back and forth.</p>\n"}],"owner":{"account_id":26535489,"reputation":1,"user_id":20167076,"display_name":"anatoliy121"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1665032755,"answer_count":3,"score":-1,"last_activity_date":1665008382,"creation_date":1664975538,"question_id":73960907,"body_markdown":"Let&#39;s assume that the user is creating a &quot;User&quot; class which represents their profile:\r\n```java\r\npublic class User {\r\n   private int age;\r\n\r\n   public User(int age) {\r\n      if (age &lt; 150)\r\n         this.age = age;\r\n      else\r\n         System.out.println(&quot;Incorrect age, try again&quot;);\r\n   }\r\n}\r\n```\r\nSince we don&#39;t want `age` to be greater than 150, if the user inputs 170, we should tell them that they made a mistake.\r\n\r\nHowever, printing in the class doesn&#39;t seem clean, and printing in the constructor even less so. What would be the best way to achieve this ? Similarly, how would you check the input when modifying `age` via a setter ?","title":"What is the best way to notify the user that their input is incorrect when setting a class property in a Java console app?","body":"<p>Let's assume that the user is creating a &quot;User&quot; class which represents their profile:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n   private int age;\n\n   public User(int age) {\n      if (age &lt; 150)\n         this.age = age;\n      else\n         System.out.println(&quot;Incorrect age, try again&quot;);\n   }\n}\n</code></pre>\n<p>Since we don't want <code>age</code> to be greater than 150, if the user inputs 170, we should tell them that they made a mistake.</p>\n<p>However, printing in the class doesn't seem clean, and printing in the constructor even less so. What would be the best way to achieve this ? Similarly, how would you check the input when modifying <code>age</code> via a setter ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14679090,"reputation":1359,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1664905899,"post_id":73951707,"comment_id":130575468,"body_markdown":"Just read it as a string and try to parse it to an int. See [this answer](https://stackoverflow.com/a/1102916/10601203) for a few ways to check if the string is a number.","body":"Just read it as a string and try to parse it to an int. See <a href=\"https://stackoverflow.com/a/1102916/10601203\">this answer</a> for a few ways to check if the string is a number."}],"answers":[{"tags":[],"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664906667,"creation_date":1664906667,"answer_id":73951918,"question_id":73951707,"body_markdown":"if the value of entered is an integer, then you can simply use regex where \r\n\r\n    if(str.matches(&quot;\\\\d+&quot;) || str.matches(&quot;-\\\\d+&quot;))\r\n\r\nchecks if the entered number is a number of 1 or more digits or the entered number is a negative number with one or more digits\r\n\r\nand if that is the case, then you can `x = Integer.parseInt(str);` to convert that entered string into integer and make `str = &quot;&quot;;` otherwise , the entered string is stored in `str` and never parsed to `int`\r\n\r\n\r\n\r\n\r\nand this is the edited code:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n\r\n            System.out.print(&quot;Enter either a string or a number\\n&quot;);\r\n\r\n            String str = input.nextLine();\r\n\r\n            int x = 0;\r\n\r\n            if(str.matches(&quot;\\\\d+&quot;) || str.matches(&quot;-\\\\d+&quot;))\r\n            {\r\n                x = Integer.parseInt(str);\r\n                str = &quot;&quot;;\r\n            }\r\n            else\r\n            {\r\n                // nothing to do\r\n            }\r\n\r\n            System.out.println(&quot;x = &quot; + x);\r\n            System.out.println(&quot;str = &quot; + str);\r\n\r\n        }\r\n\r\n    }\r\n\r\nand this is some example output:\r\n\r\n    Enter either a string or a number\r\n    10\r\n    x = 10\r\n    str = \r\n\r\n\r\n----------\r\n\r\n    Enter either a string or a number\r\n    test\r\n    x = 0\r\n    str = test\r\n\r\n\r\n----------\r\n\r\n    Enter either a string or a number\r\n    -30\r\n    x = -30\r\n    str = \r\n\r\n\r\n----------\r\n\r\n    Enter either a string or a number\r\n    test10\r\n    x = 0\r\n    str = test10\r\n\r\n","title":"If condition is met -&gt; scan input into one variable. If not -&gt; scan input into another variable","body":"<p>if the value of entered is an integer, then you can simply use regex where</p>\n<pre><code>if(str.matches(&quot;\\\\d+&quot;) || str.matches(&quot;-\\\\d+&quot;))\n</code></pre>\n<p>checks if the entered number is a number of 1 or more digits or the entered number is a negative number with one or more digits</p>\n<p>and if that is the case, then you can <code>x = Integer.parseInt(str);</code> to convert that entered string into integer and make <code>str = &quot;&quot;;</code> otherwise , the entered string is stored in <code>str</code> and never parsed to <code>int</code></p>\n<p>and this is the edited code:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n\n        System.out.print(&quot;Enter either a string or a number\\n&quot;);\n\n        String str = input.nextLine();\n\n        int x = 0;\n\n        if(str.matches(&quot;\\\\d+&quot;) || str.matches(&quot;-\\\\d+&quot;))\n        {\n            x = Integer.parseInt(str);\n            str = &quot;&quot;;\n        }\n        else\n        {\n            // nothing to do\n        }\n\n        System.out.println(&quot;x = &quot; + x);\n        System.out.println(&quot;str = &quot; + str);\n\n    }\n\n}\n</code></pre>\n<p>and this is some example output:</p>\n<pre><code>Enter either a string or a number\n10\nx = 10\nstr = \n</code></pre>\n<hr />\n<pre><code>Enter either a string or a number\ntest\nx = 0\nstr = test\n</code></pre>\n<hr />\n<pre><code>Enter either a string or a number\n-30\nx = -30\nstr = \n</code></pre>\n<hr />\n<pre><code>Enter either a string or a number\ntest10\nx = 0\nstr = test10\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21851467,"reputation":682,"user_id":16143492,"display_name":"nineninesevenfour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665008287,"creation_date":1665008287,"answer_id":73966851,"question_id":73951707,"body_markdown":"The answer provided by abdo and the comment by Jesse are both valid and very good answers.\r\n\r\nHowever it is also possible to achieve your goal with the Scanner methods. In this case `hasNextInt()` is your friend.\r\nf\r\nBut note, that `nextLine()` will consume the line break, while `nextInt()` will not. IMHO it will be more clear to code both options alike and use `next()` instead.\r\n\r\nThe most simple approach:\r\n```java\r\nif (input.hasNextInt()) {\r\n    x = input.nextInt();\r\n}\r\nelse {\r\n    str = input.next();\r\n}\r\ninput.nextLine(); // consume the line break, too\r\n```\r\nHere still one issue remains: By default Scanner uses whitespace as delimiter, not line breaks. With the input &quot;4 2\\n&quot; `nextInt()` will return 4 and `nextLine()` will discard the rest. However the user&#39;s intention (number versus string) is not obvious in this case either, therefor I&#39;d tend to create the string &quot;4 2&quot; instead. This can easily be achieved by using line breaks as delimiter instead:\r\n```java\r\nScanner input = new Scanner(System.in).useDelimiter(System.lineSeparator());\r\n```\r\nA full demo example:\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class ScannerExample {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in).useDelimiter(System.lineSeparator());\r\n\r\n        System.out.println(&quot;Enter either a string or a number&quot;);\r\n\r\n        String str = null;\r\n        while (!&quot;end&quot;.equals(str)) {\r\n            int x = 0;\r\n            str = null;\r\n            if (input.hasNextInt()) {\r\n                x = input.nextInt();\r\n            }\r\n            else {\r\n                str = input.next();\r\n            }\r\n            input.nextLine();\r\n            if (str != null) {\r\n                System.out.printf(&quot;we have a string! str=%s%n&quot;, str);\r\n            }\r\n            else {\r\n                System.out.printf(&quot;we have a number! x=%d%n&quot;, x);\r\n            }\r\n        }\r\n        System.out.println(&quot;goodbye!&quot;);\r\n    }\r\n\r\n}\r\n```","title":"If condition is met -&gt; scan input into one variable. If not -&gt; scan input into another variable","body":"<p>The answer provided by abdo and the comment by Jesse are both valid and very good answers.</p>\n<p>However it is also possible to achieve your goal with the Scanner methods. In this case <code>hasNextInt()</code> is your friend.\nf\nBut note, that <code>nextLine()</code> will consume the line break, while <code>nextInt()</code> will not. IMHO it will be more clear to code both options alike and use <code>next()</code> instead.</p>\n<p>The most simple approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (input.hasNextInt()) {\n    x = input.nextInt();\n}\nelse {\n    str = input.next();\n}\ninput.nextLine(); // consume the line break, too\n</code></pre>\n<p>Here still one issue remains: By default Scanner uses whitespace as delimiter, not line breaks. With the input &quot;4 2\\n&quot; <code>nextInt()</code> will return 4 and <code>nextLine()</code> will discard the rest. However the user's intention (number versus string) is not obvious in this case either, therefor I'd tend to create the string &quot;4 2&quot; instead. This can easily be achieved by using line breaks as delimiter instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner input = new Scanner(System.in).useDelimiter(System.lineSeparator());\n</code></pre>\n<p>A full demo example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class ScannerExample {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in).useDelimiter(System.lineSeparator());\n\n        System.out.println(&quot;Enter either a string or a number&quot;);\n\n        String str = null;\n        while (!&quot;end&quot;.equals(str)) {\n            int x = 0;\n            str = null;\n            if (input.hasNextInt()) {\n                x = input.nextInt();\n            }\n            else {\n                str = input.next();\n            }\n            input.nextLine();\n            if (str != null) {\n                System.out.printf(&quot;we have a string! str=%s%n&quot;, str);\n            }\n            else {\n                System.out.printf(&quot;we have a number! x=%d%n&quot;, x);\n            }\n        }\n        System.out.println(&quot;goodbye!&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user18554247"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1665008287,"creation_date":1664905420,"question_id":73951707,"body_markdown":"    Scanner input = new Scanner(System.in)\r\n    \r\n    System.out.print(&quot;Enter either a string or a number&quot;);\r\n    \r\n    String str = input.nextLine();\r\n    int x = input.nextInt();\r\n\r\nThe program here expects 2 values, a string and an integer. YET there is only one.\r\n\r\nI want `str` to register the value if it is a string, BUT if it is an integer, I want the value to be registered by `x`\r\n\r\nIn other words, I only want one of the variables to be active","title":"If condition is met -&gt; scan input into one variable. If not -&gt; scan input into another variable","body":"<pre><code>Scanner input = new Scanner(System.in)\n\nSystem.out.print(&quot;Enter either a string or a number&quot;);\n\nString str = input.nextLine();\nint x = input.nextInt();\n</code></pre>\n<p>The program here expects 2 values, a string and an integer. YET there is only one.</p>\n<p>I want <code>str</code> to register the value if it is a string, BUT if it is an integer, I want the value to be registered by <code>x</code></p>\n<p>In other words, I only want one of the variables to be active</p>\n"},{"tags":["java","grpc","grpc-java"],"answers":[{"tags":[],"owner":{"account_id":53317,"reputation":19342,"user_id":159388,"accept_rate":73,"display_name":"murgatroid99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665008047,"creation_date":1665008047,"answer_id":73966822,"question_id":73910183,"body_markdown":"No, you cannot do this. The fully qualified name of the method, including the package and service names, determines the URL that gRPC will use to make the request. So `ServA/request` and `ServB/request` will request different URLs, and one cannot be used in place of the other.\r\n\r\nOf course, if the services have the same name, then they can be used interchangeably, but I would describe that as extending the service, which the question says is not an option.","title":"gRPC communication between protos","body":"<p>No, you cannot do this. The fully qualified name of the method, including the package and service names, determines the URL that gRPC will use to make the request. So <code>ServA/request</code> and <code>ServB/request</code> will request different URLs, and one cannot be used in place of the other.</p>\n<p>Of course, if the services have the same name, then they can be used interchangeably, but I would describe that as extending the service, which the question says is not an option.</p>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665008047,"creation_date":1664547524,"question_id":73910183,"body_markdown":"If I define two proto files\r\n\r\n**protoA**\r\n\r\n    service ServA {\r\n    \r\n        rpc request(MyMessage) returns(ResponseMessage);\r\n    \r\n    }\r\n    message MyMessage{\r\n      string body= 1;\r\n    }\r\n    \r\n    message ResponseMessage{\r\n      string body= 1;\r\n    }\r\n\r\n\r\n**protoB**\r\n\r\n    service ServB {\r\n    \r\n        rpc request(MyMessage) returns(ResponseMessage);\r\n\r\n        rpc newFeatures(Bla) returns(Foo)\r\n    \r\n    }\r\n    message MyMessage{\r\n      string body= 1;\r\n    }\r\n    \r\n    message ResponseMessage{\r\n      string body= 1;\r\n    }\r\n\r\nUsing the stub from **protoA** can  I call **protoB**\r\n\r\n        this.stub = ProtoA.newBlockingStub(this.managedChannel);\r\n        stub.request(new MyMessage(&quot;hello world&quot;)\r\n\r\n\r\nI need to do this, because I have to create a new service (protoB) that has new functionality and also need to be retro compatible with the old call to **protoA**. And extend **protoA** is not an option.\r\n","title":"gRPC communication between protos","body":"<p>If I define two proto files</p>\n<p><strong>protoA</strong></p>\n<pre><code>service ServA {\n\n    rpc request(MyMessage) returns(ResponseMessage);\n\n}\nmessage MyMessage{\n  string body= 1;\n}\n\nmessage ResponseMessage{\n  string body= 1;\n}\n</code></pre>\n<p><strong>protoB</strong></p>\n<pre><code>service ServB {\n\n    rpc request(MyMessage) returns(ResponseMessage);\n\n    rpc newFeatures(Bla) returns(Foo)\n\n}\nmessage MyMessage{\n  string body= 1;\n}\n\nmessage ResponseMessage{\n  string body= 1;\n}\n</code></pre>\n<p>Using the stub from <strong>protoA</strong> can  I call <strong>protoB</strong></p>\n<pre><code>    this.stub = ProtoA.newBlockingStub(this.managedChannel);\n    stub.request(new MyMessage(&quot;hello world&quot;)\n</code></pre>\n<p>I need to do this, because I have to create a new service (protoB) that has new functionality and also need to be retro compatible with the old call to <strong>protoA</strong>. And extend <strong>protoA</strong> is not an option.</p>\n"},{"tags":["java","database","oracle","spring-boot","oracle-cloud-infrastructure"],"comments":[{"owner":{"account_id":15201515,"reputation":408,"user_id":10969365,"display_name":"lsarecz"},"score":0,"creation_date":1569229239,"post_id":57953262,"comment_id":102514885,"body_markdown":"I&#39;m not sure if this is the reason, but please check what is the version of JDBC driver you are using? Try to upgrade it to the latest 18.3 version. If you need to use an older version, you have to set the Java properties prior to starting the application. Did you do that?","body":"I&#39;m not sure if this is the reason, but please check what is the version of JDBC driver you are using? Try to upgrade it to the latest 18.3 version. If you need to use an older version, you have to set the Java properties prior to starting the application. Did you do that?"}],"answers":[{"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665007966,"creation_date":1665007526,"answer_id":73966760,"question_id":57953262,"body_markdown":"Download the wallet from the UI\r\n[![OCI Autodb management][1]][1]\r\n\r\nthen unzip the wallet zip into a folder\r\n[![unzipped wallet][2]][2] \r\nfor spring boot configuration\r\n```properties\r\nspring.datasource.url=jdbc:oracle:thin:@ddf9jcwvp9o3z7aa_high?TNS_ADMIN=/home/mintozzy/Downloads/Wallet_DDF9JCWVP9O3Z7AA\r\nspring.datasource.username=READONLY_USER\r\nspring.datasource.password=qw27dLDW4uDZf9D\r\n```\r\nYou can see running spring boot petclinic example [here](https://github.com/ozkanpakdil/spring-examples/tree/master/oracle-atp-ehcache-hibernate-second-level-cache) for full [properties](https://github.com/ozkanpakdil/spring-examples/blob/master/oracle-atp-ehcache-hibernate-second-level-cache/src/main/resources/application.properties)\r\n\r\n[here](https://github.com/ozkanpakdil/ozkanpakdil.github.io/issues/16#issuecomment-1268917208) you can see how to connect sql developer to cloud db.\r\n\r\n  [1]: https://i.stack.imgur.com/ROyJI.png\r\n  [2]: https://i.stack.imgur.com/Qxq86.png","title":"I am trying to connect to Oracle ATP database using JDBC thin client in an spring-boot app, but getting error: Authentication lapse","body":"<p>Download the wallet from the UI\n<a href=\"https://i.stack.imgur.com/ROyJI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ROyJI.png\" alt=\"OCI Autodb management\" /></a></p>\n<p>then unzip the wallet zip into a folder\n<a href=\"https://i.stack.imgur.com/Qxq86.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qxq86.png\" alt=\"unzipped wallet\" /></a>\nfor spring boot configuration</p>\n<pre><code>spring.datasource.url=jdbc:oracle:thin:@ddf9jcwvp9o3z7aa_high?TNS_ADMIN=/home/mintozzy/Downloads/Wallet_DDF9JCWVP9O3Z7AA\nspring.datasource.username=READONLY_USER\nspring.datasource.password=qw27dLDW4uDZf9D\n</code></pre>\n<p>You can see running spring boot petclinic example <a href=\"https://github.com/ozkanpakdil/spring-examples/tree/master/oracle-atp-ehcache-hibernate-second-level-cache\" rel=\"nofollow noreferrer\">here</a> for full <a href=\"https://github.com/ozkanpakdil/spring-examples/blob/master/oracle-atp-ehcache-hibernate-second-level-cache/src/main/resources/application.properties\" rel=\"nofollow noreferrer\">properties</a></p>\n<p><a href=\"https://github.com/ozkanpakdil/ozkanpakdil.github.io/issues/16#issuecomment-1268917208\" rel=\"nofollow noreferrer\">here</a> you can see how to connect sql developer to cloud db.</p>\n"}],"owner":{"account_id":16704305,"reputation":21,"user_id":12073168,"display_name":"Siddhant Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1421,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1665007966,"creation_date":1568623506,"question_id":57953262,"body_markdown":"I have setted up an Oracle cloud Autonomous transaction Processing (ATP) database, but when I am trying to connect it to my Java Spring boot application, it is throwing error:\r\n&gt; java.sql.SQLRecoverableException: IO Error: An existing connection was forcibly closed by the remote host, Authentication lapse 0 ms.&quot; \r\n\r\nI have correctly configured `tnsnames.ora` file and also `sqlnet.ora` file with proper location of credentials folder. But still getting above error. \r\n\r\nMy application.properties file is as below:  \r\n```\r\nspring.datasource.url=jdbc:oracle:thin:@sampledb_high?TNS_ADMIN=E:\\\\Oracle cloud POC\\\\Wallet_sampleDB \r\nspring.datasource.username=ADMIN \r\nspring.datasource.password=******** \r\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n```\r\n\r\nPlease let me know how to solve this.","title":"I am trying to connect to Oracle ATP database using JDBC thin client in an spring-boot app, but getting error: Authentication lapse","body":"<p>I have setted up an Oracle cloud Autonomous transaction Processing (ATP) database, but when I am trying to connect it to my Java Spring boot application, it is throwing error:</p>\n\n<blockquote>\n  <p>java.sql.SQLRecoverableException: IO Error: An existing connection was forcibly closed by the remote host, Authentication lapse 0 ms.\" </p>\n</blockquote>\n\n<p>I have correctly configured <code>tnsnames.ora</code> file and also <code>sqlnet.ora</code> file with proper location of credentials folder. But still getting above error. </p>\n\n<p>My application.properties file is as below:  </p>\n\n<pre><code>spring.datasource.url=jdbc:oracle:thin:@sampledb_high?TNS_ADMIN=E:\\\\Oracle cloud POC\\\\Wallet_sampleDB \nspring.datasource.username=ADMIN \nspring.datasource.password=******** \nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\n</code></pre>\n\n<p>Please let me know how to solve this.</p>\n"},{"tags":["java","spring-boot","validation"],"owner":{"account_id":25688894,"reputation":61,"user_id":19450596,"display_name":"Ngọc Đức"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1665007275,"creation_date":1661216608,"question_id":73452385,"body_markdown":"I tried using annotation `@NotNull` and `@Past` with my field for validation, but when I posted with null value in PostMan, it gave me 2 error responses instead of 1, is this a problem and if it is, how to fix it?\r\n\r\nError Handler:\r\n\r\n```java\r\n@Override\r\nprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(final MethodArgumentNotValidException ex, final HttpHeaders headers, final HttpStatus status, final WebRequest request) {\r\n    logger.info(ex.getClass().getName());\r\n\r\n    final Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n\r\n    for (final FieldError error : ex.getBindingResult().getFieldErrors()) {\r\n        errors.put(error.getField(), String.format(&quot;%s %s&quot;, error.getField(), error.getDefaultMessage()));\r\n    }\r\n\r\n    return new ResponseEntity&lt;&gt;(errors, HttpStatus.BAD_REQUEST);\r\n```\r\n\r\nThe field that needs to validate:\r\n\r\n```java\r\n@Past\r\n@NotNull\r\nprivate Date birthDate;\r\n```\r\n\r\nRequest body:\r\n\r\n```json\r\n{\r\n   &quot;birthDate&quot;:&quot;&quot;\r\n}\r\n```\r\n\r\nResponse:\r\n\r\n```json\r\n[\r\n    {\r\n        &quot;field&quot;: &quot;birthDate&quot;,\r\n        &quot;message&quot;: &quot;must not be null&quot;\r\n    },\r\n    {\r\n        &quot;field&quot;: &quot;birthDate&quot;,\r\n        &quot;message&quot;: &quot;must not be null&quot;\r\n    }\r\n]\r\n```","title":"Spring Boot BindingResult returns 2 same error messages on one field","body":"<p>I tried using annotation <code>@NotNull</code> and <code>@Past</code> with my field for validation, but when I posted with null value in PostMan, it gave me 2 error responses instead of 1, is this a problem and if it is, how to fix it?</p>\n<p>Error Handler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(final MethodArgumentNotValidException ex, final HttpHeaders headers, final HttpStatus status, final WebRequest request) {\n    logger.info(ex.getClass().getName());\n\n    final Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n\n    for (final FieldError error : ex.getBindingResult().getFieldErrors()) {\n        errors.put(error.getField(), String.format(&quot;%s %s&quot;, error.getField(), error.getDefaultMessage()));\n    }\n\n    return new ResponseEntity&lt;&gt;(errors, HttpStatus.BAD_REQUEST);\n</code></pre>\n<p>The field that needs to validate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Past\n@NotNull\nprivate Date birthDate;\n</code></pre>\n<p>Request body:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;birthDate&quot;:&quot;&quot;\n}\n</code></pre>\n<p>Response:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;field&quot;: &quot;birthDate&quot;,\n        &quot;message&quot;: &quot;must not be null&quot;\n    },\n    {\n        &quot;field&quot;: &quot;birthDate&quot;,\n        &quot;message&quot;: &quot;must not be null&quot;\n    }\n]\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":17270161,"reputation":190,"user_id":12506059,"display_name":"Kristian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1665007240,"creation_date":1664970324,"question_id":73959874,"body_markdown":"I want my app to display a notification after reboot. Everything works when I try it on emulator but it doesn&#39;t work on real device. (Huawei p20 pro). There is no action when the system boots.\r\nTurns out Huawei has this thing called automatic management which when I turned off made the app worked as intended. \r\n\r\nHowever there are some apps installed on the device that have it turned on and somehow bypass this setting, any idea how is this achieved?\r\n\r\nDo other brands have something similar? If yes, how to bypass those? \r\n\r\nThanks for any help in advance.\r\n\r\nHere is my code for\r\n\r\n**OnRebootReceiver.java**\r\n\r\n    public class OnRebootReceiver extends BroadcastReceiver {\r\n    \r\n        //DB\r\n        private ReminderService reminderService;\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            this.reminderService = new ReminderService(context);\r\n    \r\n            reminderService.setReminder();\r\n        }\r\n    }\r\nnote : method `setReminder()` doesn&#39;t set any background/foreground service nor have I asked any permission in that regard. It schedules new work using workManager. Not sure if that matters\r\n\r\n**Manifest**\r\n\r\n      &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\r\n      .\r\n      .\r\n      &lt;receiver android:name=&quot;.Adapters.Reminder.OnRebootReceiver&quot;\r\n           android:exported=&quot;true&quot;&gt;\r\n           &lt;intent-filter&gt;\r\n               &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;/&gt;\r\n               &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot;/&gt;\r\n           &lt;/intent-filter&gt;\r\n      &lt;/receiver&gt;","title":"WorkManager doesn&#39;t start after reboot on real device","body":"<p>I want my app to display a notification after reboot. Everything works when I try it on emulator but it doesn't work on real device. (Huawei p20 pro). There is no action when the system boots.\nTurns out Huawei has this thing called automatic management which when I turned off made the app worked as intended.</p>\n<p>However there are some apps installed on the device that have it turned on and somehow bypass this setting, any idea how is this achieved?</p>\n<p>Do other brands have something similar? If yes, how to bypass those?</p>\n<p>Thanks for any help in advance.</p>\n<p>Here is my code for</p>\n<p><strong>OnRebootReceiver.java</strong></p>\n<pre><code>public class OnRebootReceiver extends BroadcastReceiver {\n\n    //DB\n    private ReminderService reminderService;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        this.reminderService = new ReminderService(context);\n\n        reminderService.setReminder();\n    }\n}\n</code></pre>\n<p>note : method <code>setReminder()</code> doesn't set any background/foreground service nor have I asked any permission in that regard. It schedules new work using workManager. Not sure if that matters</p>\n<p><strong>Manifest</strong></p>\n<pre><code>  &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\n  .\n  .\n  &lt;receiver android:name=&quot;.Adapters.Reminder.OnRebootReceiver&quot;\n       android:exported=&quot;true&quot;&gt;\n       &lt;intent-filter&gt;\n           &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot;/&gt;\n           &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWERON&quot;/&gt;\n       &lt;/intent-filter&gt;\n  &lt;/receiver&gt;\n</code></pre>\n"},{"tags":["java","rest","swagger"],"answers":[{"tags":[],"owner":{"account_id":11222708,"reputation":589,"user_id":8233361,"display_name":"Claudio Weiler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665007039,"creation_date":1665007039,"answer_id":73966705,"question_id":73519615,"body_markdown":"1. Create a custom ModelConverter:\r\n```java\r\nimport java.lang.reflect.Type;\r\nimport java.time.YearMonth;\r\nimport java.util.Iterator;\r\n\r\nimport com.fasterxml.jackson.databind.type.SimpleType;\r\n\r\nimport io.swagger.v3.core.converter.AnnotatedType;\r\nimport io.swagger.v3.core.converter.ModelConverter;\r\nimport io.swagger.v3.core.converter.ModelConverterContext;\r\nimport io.swagger.v3.oas.models.media.Schema;\r\n\r\n/*\r\n* Custom ModelConverter that create a custom schema for YearMonth types\r\n*/\r\npublic class CustomModelConverter implements ModelConverter {\r\n    private static final Schema SCHEMA_YEAR_MONTH = new Schema().type(&quot;string&quot;).format(&quot;year-month&quot;).example(&quot;2020-06&quot;);\r\n\r\n\t@Override\r\n\tpublic Schema resolve(AnnotatedType annotatedType, ModelConverterContext context, Iterator&lt;ModelConverter&gt; chain) {\r\n\t\tType type = annotatedType.getType();\r\n\t\tif (type instanceof SimpleType) {\r\n\t\t\tSimpleType simpleType = (SimpleType) type;\r\n\r\n\t\t\tif (simpleType.getRawClass().isAssignableFrom(YearMonth.class)) {\r\n\t\t\t\treturn SCHEMA_YEAR_MONTH;\r\n\t\t\t}\r\n\t\t}\r\n\r\n        // It&#39;s needed to follow chain for unresolved types\r\n\t\tif (chain.hasNext()) {\r\n\t\t\treturn chain.next().resolve(annotatedType, context, chain);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n\r\n2. Register your custom ModelConverter:\r\n```java\r\nModelConverters.getInstance().addConverter(new CustomModelConverter());\r\n```\r\nSuggestion: put this as static initializer block on JAX-RS Activator","title":"How to set a default custom schema for types in Swagger","body":"<ol>\n<li>Create a custom ModelConverter:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Type;\nimport java.time.YearMonth;\nimport java.util.Iterator;\n\nimport com.fasterxml.jackson.databind.type.SimpleType;\n\nimport io.swagger.v3.core.converter.AnnotatedType;\nimport io.swagger.v3.core.converter.ModelConverter;\nimport io.swagger.v3.core.converter.ModelConverterContext;\nimport io.swagger.v3.oas.models.media.Schema;\n\n/*\n* Custom ModelConverter that create a custom schema for YearMonth types\n*/\npublic class CustomModelConverter implements ModelConverter {\n    private static final Schema SCHEMA_YEAR_MONTH = new Schema().type(&quot;string&quot;).format(&quot;year-month&quot;).example(&quot;2020-06&quot;);\n\n    @Override\n    public Schema resolve(AnnotatedType annotatedType, ModelConverterContext context, Iterator&lt;ModelConverter&gt; chain) {\n        Type type = annotatedType.getType();\n        if (type instanceof SimpleType) {\n            SimpleType simpleType = (SimpleType) type;\n\n            if (simpleType.getRawClass().isAssignableFrom(YearMonth.class)) {\n                return SCHEMA_YEAR_MONTH;\n            }\n        }\n\n        // It's needed to follow chain for unresolved types\n        if (chain.hasNext()) {\n            return chain.next().resolve(annotatedType, context, chain);\n        }\n        return null;\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Register your custom ModelConverter:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>ModelConverters.getInstance().addConverter(new CustomModelConverter());\n</code></pre>\n<p>Suggestion: put this as static initializer block on JAX-RS Activator</p>\n"}],"owner":{"account_id":11222708,"reputation":589,"user_id":8233361,"display_name":"Claudio Weiler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73966705,"answer_count":1,"score":1,"last_activity_date":1665007039,"creation_date":1661697518,"question_id":73519615,"body_markdown":"There is a way to define a custom schema as default for a Java Class in Swagger?\r\n\r\nYou can set the schema with annotations like this:\r\n```lang-java\r\nschema = @Schema(type = &quot;string&quot;, format = &quot;&lt;custom-format&gt;&quot;, example = &quot;&lt;custom-example&gt;&quot;))\r\n```\r\n\r\nBut I want to assign this schema to a Java Class as default, so I don&#39;t need to add schema annotations always I define this data type on API.\r\n\r\n* https://swagger.io/docs/specification/data-models/data-types/\r\n* https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#schema\r\n\r\n---\r\n**Update**\r\n\r\nDefault schema types are defined in https://github.com/swagger-api/swagger-core/blob/master/modules/swagger-core/src/main/java/io/swagger/v3/core/util/PrimitiveType.java\r\n\r\nThere is a way to override or extend this?","title":"How to set a default custom schema for types in Swagger","body":"<p>There is a way to define a custom schema as default for a Java Class in Swagger?</p>\n<p>You can set the schema with annotations like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>schema = @Schema(type = &quot;string&quot;, format = &quot;&lt;custom-format&gt;&quot;, example = &quot;&lt;custom-example&gt;&quot;))\n</code></pre>\n<p>But I want to assign this schema to a Java Class as default, so I don't need to add schema annotations always I define this data type on API.</p>\n<ul>\n<li><a href=\"https://swagger.io/docs/specification/data-models/data-types/\" rel=\"nofollow noreferrer\">https://swagger.io/docs/specification/data-models/data-types/</a></li>\n<li><a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#schema\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#schema</a></li>\n</ul>\n<hr />\n<p><strong>Update</strong></p>\n<p>Default schema types are defined in <a href=\"https://github.com/swagger-api/swagger-core/blob/master/modules/swagger-core/src/main/java/io/swagger/v3/core/util/PrimitiveType.java\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-core/blob/master/modules/swagger-core/src/main/java/io/swagger/v3/core/util/PrimitiveType.java</a></p>\n<p>There is a way to override or extend this?</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1665008544,"post_id":73966700,"comment_id":130601684,"body_markdown":"Do the positions of the value (`1000.0` at index 0, `&quot;id123456789&quot;` at index 1) determine the meaning and type of the value? If so there is probably no other solution than to implement a custom `TypeAdapter` (or see if any community library handles this). If not, then what kind of values can this array contain? Maybe you could just deserialize it as `List&lt;Object&gt;`. Also just to be sure, `@Gson.TypeAdapters` comes from https://github.com/immutables/immutables, right?","body":"Do the positions of the value (<code>1000.0</code> at index 0, <code>&quot;id123456789&quot;</code> at index 1) determine the meaning and type of the value? If so there is probably no other solution than to implement a custom <code>TypeAdapter</code> (or see if any community library handles this). If not, then what kind of values can this array contain? Maybe you could just deserialize it as <code>List&lt;Object&gt;</code>. Also just to be sure, <code>@Gson.TypeAdapters</code> comes from <a href=\"https://github.com/immutables/immutables\" rel=\"nofollow noreferrer\">github.com/immutables/immutables</a>, right?"},{"owner":{"account_id":15258615,"reputation":317,"user_id":11009484,"display_name":"wanderingstu"},"score":0,"creation_date":1665009450,"post_id":73966700,"comment_id":130601877,"body_markdown":"Yeah, that&#39;s the idea I was going with. So when I wrote the SortArray class, I tried with using the positiions of the 2 elements being the type of the value, but that doesn&#39;t seem to be working, so I was wondering how I could deserialize it correctly.  `List&lt;Object&gt;` might work.. The array only contains a double and a String. And yes, that annotation comes from Immutables.","body":"Yeah, that&#39;s the idea I was going with. So when I wrote the SortArray class, I tried with using the positiions of the 2 elements being the type of the value, but that doesn&#39;t seem to be working, so I was wondering how I could deserialize it correctly.  <code>List&lt;Object&gt;</code> might work.. The array only contains a double and a String. And yes, that annotation comes from Immutables."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1665011597,"post_id":73966700,"comment_id":130602207,"body_markdown":"If your `SortArray` only has the `sortScore` and `id` value though, then writing a `TypeAdapter` for it might be the cleaner approach; it would also not be that verbose.","body":"If your <code>SortArray</code> only has the <code>sortScore</code> and <code>id</code> value though, then writing a <code>TypeAdapter</code> for it might be the cleaner approach; it would also not be that verbose."}],"owner":{"account_id":15258615,"reputation":317,"user_id":11009484,"display_name":"wanderingstu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665007011,"creation_date":1665007011,"question_id":73966700,"body_markdown":"I have a JSON String as follows\r\n\r\n```\r\n{\r\n&quot;sort&quot;: [1000.0, &quot;id123456789&quot;]\r\n}\r\n\r\n```\r\n\r\nI&#39;m trying to deserialize this JSON String into an Object using `GSON.fromJson(str, SortArray.class)` but I don&#39;t know what to do since the JSON Array contains a `double` and a `String`, which are two different types.\r\n\r\nDoes anyone know how I could model this array in a class so I can deserialize it?\r\n\r\n\r\nI have tried the following but it does not work\r\n\r\n```\r\n@Gson.TypeAdapters(nullAsDefault = true)\r\n@Value.Immutable\r\npublic interface SortArray {\r\n\r\n@Value.Parameter\r\ndouble sortScore();\r\n\r\n@Value.Parameter\r\nString id();\r\n\r\n}\r\n```\r\n","title":"How do you deserialize a JSON Array with multiple types using GSON?","body":"<p>I have a JSON String as follows</p>\n<pre><code>{\n&quot;sort&quot;: [1000.0, &quot;id123456789&quot;]\n}\n\n</code></pre>\n<p>I'm trying to deserialize this JSON String into an Object using <code>GSON.fromJson(str, SortArray.class)</code> but I don't know what to do since the JSON Array contains a <code>double</code> and a <code>String</code>, which are two different types.</p>\n<p>Does anyone know how I could model this array in a class so I can deserialize it?</p>\n<p>I have tried the following but it does not work</p>\n<pre><code>@Gson.TypeAdapters(nullAsDefault = true)\n@Value.Immutable\npublic interface SortArray {\n\n@Value.Parameter\ndouble sortScore();\n\n@Value.Parameter\nString id();\n\n}\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1665000727,"post_id":73965823,"comment_id":130599730,"body_markdown":"Looks like `com.diffplug.spotless` cannot handle records yet. Disable the plugin or upgrade","body":"Looks like <code>com.diffplug.spotless</code> cannot handle records yet. Disable the plugin or upgrade"},{"owner":{"account_id":17979860,"reputation":245,"user_id":13066481,"display_name":"The_Redhawk"},"score":0,"creation_date":1665002266,"post_id":73965823,"comment_id":130600153,"body_markdown":"I tried upgrading the plugin but this did not resolve the error.","body":"I tried upgrading the plugin but this did not resolve the error."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665002326,"post_id":73965823,"comment_id":130600174,"body_markdown":"Then I see two options: a) disable the plugin or b) don&#39;t use records in your code","body":"Then I see two options: a) disable the plugin or b) don&#39;t use records in your code"},{"owner":{"account_id":17979860,"reputation":245,"user_id":13066481,"display_name":"The_Redhawk"},"score":0,"creation_date":1665002959,"post_id":73965823,"comment_id":130600356,"body_markdown":"I can look into disabling the plugin temporarily but neither of those two options seem viable long term unfortunately. I am simply the low man on the totem poll so disabling the plugin on an enterprise level project is above my pay grade.","body":"I can look into disabling the plugin temporarily but neither of those two options seem viable long term unfortunately. I am simply the low man on the totem poll so disabling the plugin on an enterprise level project is above my pay grade."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1665003043,"post_id":73965823,"comment_id":130600374,"body_markdown":"Third option: wait until the plugin supports records. Fourth option: contribute code to the plugin so it can support records. It&#39;s [hacktober](https://hacktoberfest.com/) after all!","body":"Third option: wait until the plugin supports records. Fourth option: contribute code to the plugin so it can support records. It&#39;s <a href=\"https://hacktoberfest.com/\" rel=\"nofollow noreferrer\">hacktober</a> after all!"}],"answers":[{"tags":[],"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665006399,"creation_date":1665006399,"answer_id":73966643,"question_id":73965823,"body_markdown":"It seems you are using a java version that does not support (or support not enabled for) Java &quot;record&quot;.\r\n\r\n\r\nThe error is:\r\n\r\n       class, interface, or enum expected\r\n\r\nBut it finds a record.\r\n\r\nThey were delivered in Java 14 as a preview feature. See [this][1].\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8246771","title":"Java Compiler Error &quot;class, interface, or enum expected&quot; but I cannot find any of the common causes of this error","body":"<p>It seems you are using a java version that does not support (or support not enabled for) Java &quot;record&quot;.</p>\n<p>The error is:</p>\n<pre><code>   class, interface, or enum expected\n</code></pre>\n<p>But it finds a record.</p>\n<p>They were delivered in Java 14 as a preview feature. See <a href=\"https://bugs.openjdk.org/browse/JDK-8246771\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}],"owner":{"account_id":17979860,"reputation":245,"user_id":13066481,"display_name":"The_Redhawk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73966643,"answer_count":1,"score":1,"last_activity_date":1665006399,"creation_date":1665000614,"question_id":73965823,"body_markdown":"I am trying to use git commit to commit my changes to a repo, but when I do, I keep getting a &#39;java.lang.reflect.InvocationTargetException&#39; with the caused by statement being &#39;Caused by: com.google.googlejavaformat.java.FormatterException: 5:9: error: class, interface, or enum expected&#39;\r\n\r\nI understand some of the common causes of this error are too many/too few curly braces, or placing a method outside the class, but I cannot seem to find such an error here.\r\n\r\n```\r\npackage *********;\r\n\r\nimport java.util.UUID;\r\n\r\npublic record PaymentLinkUpdateDTO(UUID paymentDeclineID,\r\n    String paymentIntentID,\r\n    String paymentMethodId,\r\n    String customerMethodID,\r\n    String paymentLinkID) {\r\n}\r\n```\r\nA few things to note. 1. I did not write this code segment, it is just in the project I am on. 2. PaymentLinkUpdateDTO is used in 30 different spots but from what I can tell it is properly used/placed each time. 3. I removed the package name for privacy reasons. Error code is below, with package name again removed.\r\n\r\n```\r\nStep &#39;removeUnusedImports&#39; found problem in &#39;****/PaymentLinkUpdateDTO.java&#39;:\r\nnull\r\njava.lang.reflect.InvocationTargetException\r\n        at jdk.internal.reflect.GeneratedMethodAccessor375.invoke(Unknown Source)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$constructRemoveUnusedFunction$4(GoogleJavaFormatStep.java:211)\r\n        at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$createRemoveUnusedImportsOnly$2(GoogleJavaFormatStep.java:188)\r\n        at com.diffplug.spotless.FormatterFunc.apply(FormatterFunc.java:32)\r\n        at com.diffplug.spotless.FormatterStepImpl$Standard.format(FormatterStepImpl.java:82)\r\n        at com.diffplug.spotless.FormatterStep$Strict.format(FormatterStep.java:88)\r\n        at com.diffplug.spotless.Formatter.compute(Formatter.java:230)\r\n        at com.diffplug.spotless.PaddedCell.calculateDirtyState(PaddedCell.java:203)\r\n        at com.diffplug.spotless.PaddedCell.calculateDirtyState(PaddedCell.java:190)\r\n        at com.diffplug.gradle.spotless.SpotlessTaskImpl.processInputFile(SpotlessTaskImpl.java:102)\r\n        at com.diffplug.gradle.spotless.SpotlessTaskImpl.performAction(SpotlessTaskImpl.java:88)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\r\n        at org.gradle.api.internal.project.taskfactory.IncrementalInputsTaskAction.doExecute(IncrementalInputsTaskAction.java:32)\r\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\r\n        at org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\r\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:236)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n        at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n        at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n        at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\r\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\r\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\r\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n        at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\r\n        at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\r\n        at org.gradle.internal.Either$Right.fold(Either.java:175)\r\n        at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\r\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\r\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\r\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\r\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\r\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n        at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\r\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n        at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\r\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\r\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\r\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\r\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\r\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\nCaused by: com.google.googlejavaformat.java.FormatterException: 5:9: error: class, interface, or enum expected\r\n        at com.google.googlejavaformat.java.FormatterException.fromJavacDiagnostics(FormatterException.java:51)\r\n        at com.google.googlejavaformat.java.RemoveUnusedImports.parse(RemoveUnusedImports.java:262)\r\n        at com.google.googlejavaformat.java.RemoveUnusedImports.removeUnusedImports(RemoveUnusedImports.java:219)\r\n        ... 129 more\r\n```\r\n\r\n\r\nUPDATE:\r\nI deleted my project, rebooted my machine (mac), created a new directory, cloned the master branch, created a new local branch, and now am able to commit some changes.\r\nI don&#39;t think this is a permanent solution; I am guessing an underlying problem still exists.\r\n\r\nUPDATE 2:\r\nApparently the problem is caused when I try and commit changes made to certain areas of the project. For example, I want to modify one class in the main code section and the error pops up, but I can modify a docker-compose file with no issues.","title":"Java Compiler Error &quot;class, interface, or enum expected&quot; but I cannot find any of the common causes of this error","body":"<p>I am trying to use git commit to commit my changes to a repo, but when I do, I keep getting a 'java.lang.reflect.InvocationTargetException' with the caused by statement being 'Caused by: com.google.googlejavaformat.java.FormatterException: 5:9: error: class, interface, or enum expected'</p>\n<p>I understand some of the common causes of this error are too many/too few curly braces, or placing a method outside the class, but I cannot seem to find such an error here.</p>\n<pre><code>package *********;\n\nimport java.util.UUID;\n\npublic record PaymentLinkUpdateDTO(UUID paymentDeclineID,\n    String paymentIntentID,\n    String paymentMethodId,\n    String customerMethodID,\n    String paymentLinkID) {\n}\n</code></pre>\n<p>A few things to note. 1. I did not write this code segment, it is just in the project I am on. 2. PaymentLinkUpdateDTO is used in 30 different spots but from what I can tell it is properly used/placed each time. 3. I removed the package name for privacy reasons. Error code is below, with package name again removed.</p>\n<pre><code>Step 'removeUnusedImports' found problem in '****/PaymentLinkUpdateDTO.java':\nnull\njava.lang.reflect.InvocationTargetException\n        at jdk.internal.reflect.GeneratedMethodAccessor375.invoke(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$constructRemoveUnusedFunction$4(GoogleJavaFormatStep.java:211)\n        at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$createRemoveUnusedImportsOnly$2(GoogleJavaFormatStep.java:188)\n        at com.diffplug.spotless.FormatterFunc.apply(FormatterFunc.java:32)\n        at com.diffplug.spotless.FormatterStepImpl$Standard.format(FormatterStepImpl.java:82)\n        at com.diffplug.spotless.FormatterStep$Strict.format(FormatterStep.java:88)\n        at com.diffplug.spotless.Formatter.compute(Formatter.java:230)\n        at com.diffplug.spotless.PaddedCell.calculateDirtyState(PaddedCell.java:203)\n        at com.diffplug.spotless.PaddedCell.calculateDirtyState(PaddedCell.java:190)\n        at com.diffplug.gradle.spotless.SpotlessTaskImpl.processInputFile(SpotlessTaskImpl.java:102)\n        at com.diffplug.gradle.spotless.SpotlessTaskImpl.performAction(SpotlessTaskImpl.java:88)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:125)\n        at org.gradle.api.internal.project.taskfactory.IncrementalInputsTaskAction.doExecute(IncrementalInputsTaskAction.java:32)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:51)\n        at org.gradle.api.internal.project.taskfactory.AbstractIncrementalTaskAction.execute(AbstractIncrementalTaskAction.java:25)\n        at org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:29)\n        at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:236)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:221)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:204)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:187)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:165)\n        at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\n        at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n        at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n        at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n        at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:124)\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:80)\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:58)\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n        at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:181)\n        at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:71)\n        at org.gradle.internal.Either$Right.fold(Either.java:175)\n        at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:69)\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:47)\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:254)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:91)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:56)\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n        at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:281)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\n        at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:139)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:128)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:69)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:327)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:314)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:307)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:293)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:417)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:339)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: com.google.googlejavaformat.java.FormatterException: 5:9: error: class, interface, or enum expected\n        at com.google.googlejavaformat.java.FormatterException.fromJavacDiagnostics(FormatterException.java:51)\n        at com.google.googlejavaformat.java.RemoveUnusedImports.parse(RemoveUnusedImports.java:262)\n        at com.google.googlejavaformat.java.RemoveUnusedImports.removeUnusedImports(RemoveUnusedImports.java:219)\n        ... 129 more\n</code></pre>\n<p>UPDATE:\nI deleted my project, rebooted my machine (mac), created a new directory, cloned the master branch, created a new local branch, and now am able to commit some changes.\nI don't think this is a permanent solution; I am guessing an underlying problem still exists.</p>\n<p>UPDATE 2:\nApparently the problem is caused when I try and commit changes made to certain areas of the project. For example, I want to modify one class in the main code section and the error pops up, but I can modify a docker-compose file with no issues.</p>\n"},{"tags":["java","process"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1664991823,"post_id":73964273,"comment_id":130597057,"body_markdown":"What part of this very long code snippet is &quot;not allowing&quot; you to change the value, and what value (variable) are we talking about exactly?  Could you indicate clearly in the code what value is not changing?","body":"What part of this very long code snippet is &quot;not allowing&quot; you to change the value, and what value (variable) are we talking about exactly?  Could you indicate clearly in the code what value is not changing?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1664992158,"post_id":73964273,"comment_id":130597173,"body_markdown":"*I have 2 programs using a process to communicate with each other.* I think not. What you might have is two independent Java programs using stdin and stdout. You can&#39;t communicate like that. The most you could do is pipe output of the one to the stdin of the other *in the same terminal*. That would be a messier and more complex way of performing similar functionality using *one application alone*. Inter-process communication is something specialized and *not* done using Java","body":"<i>I have 2 programs using a process to communicate with each other.</i> I think not. What you might have is two independent Java programs using stdin and stdout. You can&#39;t communicate like that. The most you could do is pipe output of the one to the stdin of the other <i>in the same terminal</i>. That would be a messier and more complex way of performing similar functionality using <i>one application alone</i>. Inter-process communication is something specialized and <i>not</i> done using Java"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1664993385,"post_id":73964273,"comment_id":130597543,"body_markdown":"Just an aside, I believe Java&#39;s named pipes implement IPC: https://stackoverflow.com/questions/634564/how-to-open-a-windows-named-pipe-from-java","body":"Just an aside, I believe Java&#39;s named pipes implement IPC: <a href=\"https://stackoverflow.com/questions/634564/how-to-open-a-windows-named-pipe-from-java\" title=\"how to open a windows named pipe from java\">stackoverflow.com/questions/634564/&hellip;</a>"},{"owner":{"display_name":"user17244850"},"score":0,"creation_date":1664998320,"post_id":73964273,"comment_id":130599075,"body_markdown":"@markspace I am trying to let the user pick which passkey they wanted encrypted. There is a method history that is a linked list full of all of the available passwords. If you try to change which password you want to be encrypted, It keeps returning the same value","body":"@markspace I am trying to let the user pick which passkey they wanted encrypted. There is a method history that is a linked list full of all of the available passwords. If you try to change which password you want to be encrypted, It keeps returning the same value"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1664998819,"post_id":73964273,"comment_id":130599207,"body_markdown":"Which variable is that?  Where is that in the code exactly?","body":"Which variable is that?  Where is that in the code exactly?"},{"owner":{"display_name":"user17244850"},"score":0,"creation_date":1665006456,"post_id":73964273,"comment_id":130601225,"body_markdown":"history is supposed to output the index of the option that the user selects, and then encrypt is supposed to decrypt the string at that index in the linkedlist, my problem is - once you encrypy one string - it wont let you encryot a different string without restarting the program @markspace","body":"history is supposed to output the index of the option that the user selects, and then encrypt is supposed to decrypt the string at that index in the linkedlist, my problem is - once you encrypy one string - it wont let you encryot a different string without restarting the program @markspace"}],"owner":{"display_name":"user17244850"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665006378,"creation_date":1664991493,"question_id":73964273,"body_markdown":"I have 2 programs using a process to communicate with each other. My program is meant to allow a user to encrypt any password from their history - however it is not allowing me to change the value of what I am trying to encrypt. I understand how the processes communicate, but for some reason changing the value is not working.\r\n\r\nMy history\r\n```\r\n public static int History(LinkedList&lt;String&gt; listy){\r\n        Scanner s = new Scanner(System.in);\r\n        int input;\r\n        String selection;\r\n        System.out.println(&quot;--------------------&quot;);\r\n        System.out.println(&quot;       History      &quot;);\r\n        for(int i = 0; i &lt; listy.size(); i++){\r\n            System.out.println(i + &quot;.) &quot; + listy.get(i));\r\n        }\r\n        System.out.println(&quot;Please make a selection: &quot;);\r\n        input = s.nextInt();\r\n\r\n        selection = listy.get(input);\r\n        System.out.println(&quot;--------------------&quot;);\r\n        return input;\r\n    }\r\n```\r\n\r\nHere is my encrypt:\r\n```\r\nString mode;\r\n        Scanner s = new Scanner(System.in);\r\n        String passkey = &quot;&quot;;\r\n        //String answer = &quot;&quot;;\r\n        mode = s.next();\r\n        String encryptedMsg = &quot;&quot;;\r\n\r\n            while(!mode.equals(&quot;QUIT&quot;)){\r\n                if(mode.equals(&quot;PASSKEY&quot;)){\r\n                    passkey = s.next();\r\n                    passkey = passkey.toUpperCase();\r\n                    encryptedMsg = encrypt(passkey);\r\n                }\r\n            if(mode.equals(&quot;ENCRYPT&quot;)){\r\n                System.out.println(encrypt(passkey) + &quot; is the password encrypted&quot;);\r\n            }else if(mode.equals(&quot;DECRYPT&quot;)){\r\n                System.out.println(decrypt(encryptedMsg) + &quot; is the password decrypted&quot;);\r\n            }\r\n            mode = s.next();\r\n        }\r\n```\r\n\r\nand here is my call to change the passkey being encrypted:\r\n```\r\nelse if(mode.equals(&quot;ENCRYPT&quot;)){\r\n                        toLogger.println(&quot;ENCRYPT&quot;);\r\n                        String thisPasskey;\r\n                        System.out.println(&quot;Would you like to see your password history? Enter (Y/N)&quot;);\r\n                        mode = s.next();\r\n                        if(mode.equals(&quot;Y&quot;)){\r\n                            //History(listykenz);\r\n                            System.out.println(&quot;Current passkey being encrypted...&quot;);\r\n                            //thisPasskey = History(listykenz);\r\n                            int index = History(listykenz);\r\n                            System.out.println(listykenz.get(index));\r\n                            toEncrypt.println(listykenz.get(index));\r\n                            toEncrypt.flush();\r\n                            toEncrypt.println(&quot;ENCRYPT&quot;);\r\n                            toEncrypt.flush();\r\n                            System.out.println(fromEncrypt.nextLine());\r\n                            toEncrypt.flush();\r\n                            toLogger.flush();\r\n                        }else if(mode.equals(&quot;N&quot;)) {\r\n                            System.out.println(&quot;Current passkey being encrypted...&quot;);\r\n                            thisPasskey = listykenz.getLast();\r\n                            System.out.println(thisPasskey);\r\n                            toEncrypt.println(thisPasskey);\r\n                            toEncrypt.println(&quot;ENCRYPT&quot;);\r\n                            toEncrypt.flush();\r\n                            System.out.println(fromEncrypt.nextLine());\r\n                            toLogger.flush();\r\n                            toEncrypt.flush();\r\n                        }\r\n                        toLogger.flush();\r\n                    }\r\n```\r\nThank you","title":"Java process how to change value","body":"<p>I have 2 programs using a process to communicate with each other. My program is meant to allow a user to encrypt any password from their history - however it is not allowing me to change the value of what I am trying to encrypt. I understand how the processes communicate, but for some reason changing the value is not working.</p>\n<p>My history</p>\n<pre><code> public static int History(LinkedList&lt;String&gt; listy){\n        Scanner s = new Scanner(System.in);\n        int input;\n        String selection;\n        System.out.println(&quot;--------------------&quot;);\n        System.out.println(&quot;       History      &quot;);\n        for(int i = 0; i &lt; listy.size(); i++){\n            System.out.println(i + &quot;.) &quot; + listy.get(i));\n        }\n        System.out.println(&quot;Please make a selection: &quot;);\n        input = s.nextInt();\n\n        selection = listy.get(input);\n        System.out.println(&quot;--------------------&quot;);\n        return input;\n    }\n</code></pre>\n<p>Here is my encrypt:</p>\n<pre><code>String mode;\n        Scanner s = new Scanner(System.in);\n        String passkey = &quot;&quot;;\n        //String answer = &quot;&quot;;\n        mode = s.next();\n        String encryptedMsg = &quot;&quot;;\n\n            while(!mode.equals(&quot;QUIT&quot;)){\n                if(mode.equals(&quot;PASSKEY&quot;)){\n                    passkey = s.next();\n                    passkey = passkey.toUpperCase();\n                    encryptedMsg = encrypt(passkey);\n                }\n            if(mode.equals(&quot;ENCRYPT&quot;)){\n                System.out.println(encrypt(passkey) + &quot; is the password encrypted&quot;);\n            }else if(mode.equals(&quot;DECRYPT&quot;)){\n                System.out.println(decrypt(encryptedMsg) + &quot; is the password decrypted&quot;);\n            }\n            mode = s.next();\n        }\n</code></pre>\n<p>and here is my call to change the passkey being encrypted:</p>\n<pre><code>else if(mode.equals(&quot;ENCRYPT&quot;)){\n                        toLogger.println(&quot;ENCRYPT&quot;);\n                        String thisPasskey;\n                        System.out.println(&quot;Would you like to see your password history? Enter (Y/N)&quot;);\n                        mode = s.next();\n                        if(mode.equals(&quot;Y&quot;)){\n                            //History(listykenz);\n                            System.out.println(&quot;Current passkey being encrypted...&quot;);\n                            //thisPasskey = History(listykenz);\n                            int index = History(listykenz);\n                            System.out.println(listykenz.get(index));\n                            toEncrypt.println(listykenz.get(index));\n                            toEncrypt.flush();\n                            toEncrypt.println(&quot;ENCRYPT&quot;);\n                            toEncrypt.flush();\n                            System.out.println(fromEncrypt.nextLine());\n                            toEncrypt.flush();\n                            toLogger.flush();\n                        }else if(mode.equals(&quot;N&quot;)) {\n                            System.out.println(&quot;Current passkey being encrypted...&quot;);\n                            thisPasskey = listykenz.getLast();\n                            System.out.println(thisPasskey);\n                            toEncrypt.println(thisPasskey);\n                            toEncrypt.println(&quot;ENCRYPT&quot;);\n                            toEncrypt.flush();\n                            System.out.println(fromEncrypt.nextLine());\n                            toLogger.flush();\n                            toEncrypt.flush();\n                        }\n                        toLogger.flush();\n                    }\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26538003,"reputation":1,"user_id":20169202,"display_name":"JOHN"},"score":0,"creation_date":1664998916,"post_id":73965555,"comment_id":130599229,"body_markdown":"This is what I have so far. It works when the input is 0 and when the input is less then 0 however, it doesn&#39;t work when the input is above 0. I just want to know how to basically do input * the corporate rate = tax (double)","body":"This is what I have so far. It works when the input is 0 and when the input is less then 0 however, it doesn&#39;t work when the input is above 0. I just want to know how to basically do input * the corporate rate = tax (double)"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1664999209,"post_id":73965555,"comment_id":130599311,"body_markdown":"Remember, [put all your details in the post](/help/how-to-ask), just use the [edit] function and work them into your post, don&#39;t post comments with additional details. (and don&#39;t just write &quot;edit:&quot; and then the new details, actually work them into your post, so that they&#39;re in the right place in the text relevant to what you&#39;re talking about)","body":"Remember, <a href=\"/help/how-to-ask\">put all your details in the post</a>, just use the <a href=\"https://stackoverflow.com/posts/73965555/edit\">edit</a> function and work them into your post, don&#39;t post comments with additional details. (and don&#39;t just write &quot;edit:&quot; and then the new details, actually work them into your post, so that they&#39;re in the right place in the text relevant to what you&#39;re talking about)"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1664999412,"post_id":73965555,"comment_id":130599368,"body_markdown":"Your question does not make clear where exactly is the problem you are facing. Making a guess, are you perhaps trying to do `tax = income.getIncome() * corporaterate`?","body":"Your question does not make clear where exactly is the problem you are facing. Making a guess, are you perhaps trying to do <code>tax = income.getIncome() * corporaterate</code>?"},{"owner":{"account_id":26538003,"reputation":1,"user_id":20169202,"display_name":"JOHN"},"score":0,"creation_date":1664999852,"post_id":73965555,"comment_id":130599492,"body_markdown":"@Chaosfire I apologize for not being clearer. I am just trying to figure out how to multiply the income method by the corporaterate when the income method is in a different class. I can&#39;t figure out how to call the method when it is in another class. Currently it is in another class called Tax Payer.","body":"@Chaosfire I apologize for not being clearer. I am just trying to figure out how to multiply the income method by the corporaterate when the income method is in a different class. I can&#39;t figure out how to call the method when it is in another class. Currently it is in another class called Tax Payer."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1665000311,"post_id":73965555,"comment_id":130599612,"body_markdown":"@JOHN As mentioned in another comment, you should edit your question with such information, not adding comments, there is even link for editing included. About how to call the method, it&#39;s done exactly the way i wrote it in my previous comment.","body":"@JOHN As mentioned in another comment, you should edit your question with such information, not adding comments, there is even link for editing included. About how to call the method, it&#39;s done exactly the way i wrote it in my previous comment."}],"answers":[{"tags":[],"owner":{"account_id":4945200,"reputation":114,"user_id":3980798,"display_name":"Kevin Field"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665004255,"creation_date":1665004255,"answer_id":73966380,"question_id":73965555,"body_markdown":"To call method getIncome() that is a method of class TaxPayer, there are two possibilities, depending upon whether the method is a static method or an instance method.\r\n\r\nFor a static method, from the other class (such as from TaxCalculator):\r\n\r\n    tax = TaxPayer.getIncome() * corporateRate;  // TaxPayer is a class; getIncome() is a static method\r\n\r\nFor instance methods, you need an instance of a TaxPayer object:\r\n\r\n    tax = taxPayer.getIncome() * corporateRate;  // taxPayer is an object of type TaxPayer; getIncome is an instance method\r\n\r\nFrom what you posted, it appears that you&#39;re working with an instance method, and the calculate method that calls the getIncome() method gets an instance of TaxPayer as it&#39;s parameter. If this is all true, the code seems correct. Before you call calculateCorporateIncomeTax(payer), you should verify that TaxPayer object *payer* is initialized correctly.\r\n\r\nAs others have stated, it would be easier to answer with full code posted.\r\n","title":"How do I multiply by a method in a different class java","body":"<p>To call method getIncome() that is a method of class TaxPayer, there are two possibilities, depending upon whether the method is a static method or an instance method.</p>\n<p>For a static method, from the other class (such as from TaxCalculator):</p>\n<pre><code>tax = TaxPayer.getIncome() * corporateRate;  // TaxPayer is a class; getIncome() is a static method\n</code></pre>\n<p>For instance methods, you need an instance of a TaxPayer object:</p>\n<pre><code>tax = taxPayer.getIncome() * corporateRate;  // taxPayer is an object of type TaxPayer; getIncome is an instance method\n</code></pre>\n<p>From what you posted, it appears that you're working with an instance method, and the calculate method that calls the getIncome() method gets an instance of TaxPayer as it's parameter. If this is all true, the code seems correct. Before you call calculateCorporateIncomeTax(payer), you should verify that TaxPayer object <em>payer</em> is initialized correctly.</p>\n<p>As others have stated, it would be easier to answer with full code posted.</p>\n"}],"owner":{"account_id":26538003,"reputation":1,"user_id":20169202,"display_name":"JOHN"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1665005802,"creation_date":1664998858,"question_id":73965555,"body_markdown":"I want to know how to call an income method that is located in a different method. Currently, my income method is located in a TaxPayer class. I want to call on this method however, and use it in the equation below income * corporate rate = tax. How do I do this?\r\nTax calculator:\r\n\r\n\t`public class TaxCalculator {\r\n\tdouble tax;\r\n\r\n\r\n\t\r\n\t/**\r\n\t * Creates a TaxCalculator using 2021-2022 tax rates;\r\n\t */\r\n\tpublic TaxCalculator() {\r\n\r\n\t}\r\n\t\r\n\t/**\r\n\t * Calculates a tax payer&#39;s tax assuming they are a corporation.\r\n\t * \r\n\t * @precondition payer != null AND payer.isCorporation()==true\r\n\t * @postcondition none\r\n\t * \r\n\t * @param payer the tax payer\r\n\t */\r\n\r\n\tpublic double corporaterate = 0.21;\r\n\tpublic double taxcalc(TaxPayer income) {\r\n\t\ttax = income.getIncome() * corporaterate;\r\n\t\treturn tax;\r\n\t}\r\n\r\n\t\r\n\tpublic double calculateCorporateIncomeTax(TaxPayer payer) {\r\n\t\tif (tax &lt; 0) {\r\n\t\t\ttax = 0;\r\n\t\t}\r\n\t\t\r\n\t\treturn tax;\r\n\t}`\r\n\t\r\n\r\nI am trying to call upon my method located in a different class called Tax Payer: \r\n```\r\npublic class TaxPayer {\r\n\tprivate String name;\r\n\tprivate int age;\r\n\tprivate boolean isCorporation;\r\n\tprivate double income;\r\n\t\r\n\t/**\r\n\t * Creates a new taxpayer.\r\n\t * \r\n\t * @precondition name != null AND !name.isEmpty() AND age &gt;= 0\r\n\t * @postcondition getName()==name AND getAge()==age AND getIsBusiness()=isBusiness\r\n\t * \r\n\t * @param name the person or business&#39; name\r\n\t * @param age the person&#39;s age (ignored if it is a business)\r\n\t * @param income the annual income\r\n\t * @param isCorporation true if the taxpayer is a business, false otherwise\r\n\t */\r\n\tpublic TaxPayer(String name, int age, double income, boolean isCorporation) {\r\n\t\tsuper();\r\n\t\tthis.name = name;\r\n\t\tthis.age = age;\r\n\t\tthis.isCorporation = isCorporation;\r\n\t\tthis.income = income;\r\n\t}\r\n\r\n\t/**\r\n\t * Gets the name\r\n\t * @return the name\r\n\t */\r\n\tpublic String getName() {\r\n\t\treturn this.name;\r\n\t}\r\n\r\n\t/**\r\n\t * Gets the age\r\n\t * @return the age\r\n\t */\r\n\tpublic int getAge() {\r\n\t\treturn this.age;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Gets the taxpayer&#39;s annual income.\r\n\t * @return the taxpayer&#39;s annual income.\r\n\t */\r\n\tpublic double getIncome() {\r\n\t\treturn this.income;\r\n\t}\r\n\r\n\t/**\r\n\t * Gets whether or not this is a corporation (and not a person)\r\n\t * @return true if a corporation, false otherwise\r\n\t */\r\n\tpublic boolean isCorporation() {\r\n\t\treturn this.isCorporation;\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\nI want to know how to call this getIncome method.\r\n\r\n","title":"How do I multiply by a method in a different class java","body":"<p>I want to know how to call an income method that is located in a different method. Currently, my income method is located in a TaxPayer class. I want to call on this method however, and use it in the equation below income * corporate rate = tax. How do I do this?\nTax calculator:</p>\n<pre><code>`public class TaxCalculator {\ndouble tax;\n\n\n\n/**\n * Creates a TaxCalculator using 2021-2022 tax rates;\n */\npublic TaxCalculator() {\n\n}\n\n/**\n * Calculates a tax payer's tax assuming they are a corporation.\n * \n * @precondition payer != null AND payer.isCorporation()==true\n * @postcondition none\n * \n * @param payer the tax payer\n */\n\npublic double corporaterate = 0.21;\npublic double taxcalc(TaxPayer income) {\n    tax = income.getIncome() * corporaterate;\n    return tax;\n}\n\n\npublic double calculateCorporateIncomeTax(TaxPayer payer) {\n    if (tax &lt; 0) {\n        tax = 0;\n    }\n    \n    return tax;\n}`\n</code></pre>\n<p>I am trying to call upon my method located in a different class called Tax Payer:</p>\n<pre><code>public class TaxPayer {\n    private String name;\n    private int age;\n    private boolean isCorporation;\n    private double income;\n    \n    /**\n     * Creates a new taxpayer.\n     * \n     * @precondition name != null AND !name.isEmpty() AND age &gt;= 0\n     * @postcondition getName()==name AND getAge()==age AND getIsBusiness()=isBusiness\n     * \n     * @param name the person or business' name\n     * @param age the person's age (ignored if it is a business)\n     * @param income the annual income\n     * @param isCorporation true if the taxpayer is a business, false otherwise\n     */\n    public TaxPayer(String name, int age, double income, boolean isCorporation) {\n        super();\n        this.name = name;\n        this.age = age;\n        this.isCorporation = isCorporation;\n        this.income = income;\n    }\n\n    /**\n     * Gets the name\n     * @return the name\n     */\n    public String getName() {\n        return this.name;\n    }\n\n    /**\n     * Gets the age\n     * @return the age\n     */\n    public int getAge() {\n        return this.age;\n    }\n    \n    /**\n     * Gets the taxpayer's annual income.\n     * @return the taxpayer's annual income.\n     */\n    public double getIncome() {\n        return this.income;\n    }\n\n    /**\n     * Gets whether or not this is a corporation (and not a person)\n     * @return true if a corporation, false otherwise\n     */\n    public boolean isCorporation() {\n        return this.isCorporation;\n    }\n    \n    \n}\n</code></pre>\n<p>I want to know how to call this getIncome method.</p>\n"},{"tags":["java","sql","unix","jdbc","db2"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1665005136,"post_id":73965838,"comment_id":130600926,"body_markdown":"The local DB&#39;s table contains different data from the remote DB&#39;s table? (or, when you say &quot;the same database&quot; do you mean the same JDBC connection URL to the same server and the same physical DB?) Or, there is an error but your code has swallowed it, instead of logging it (maybe unlikely)? Some other reason? There isn&#39;t much info for us to go on.","body":"The local DB&#39;s table contains different data from the remote DB&#39;s table? (or, when you say &quot;the same database&quot; do you mean the same JDBC connection URL to the same server and the same physical DB?) Or, there is an error but your code has swallowed it, instead of logging it (maybe unlikely)? Some other reason? There isn&#39;t much info for us to go on."},{"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"score":0,"creation_date":1665005588,"post_id":73965838,"comment_id":130601035,"body_markdown":"What&#39;s the `edm.tdemande.datecreation` column data type? It&#39;s a prepared statement according to the `datecreation &lt; ?` expression. Edit your question with your java code showing the data type of the parameter and the actual parameter value you get unexpected result on.","body":"What&#39;s the <code>edm.tdemande.datecreation</code> column data type? It&#39;s a prepared statement according to the <code>datecreation &lt; ?</code> expression. Edit your question with your java code showing the data type of the parameter and the actual parameter value you get unexpected result on."}],"owner":{"account_id":26539111,"reputation":1,"user_id":20170161,"display_name":"Jefferson Faustin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665004781,"creation_date":1665000712,"question_id":73965838,"body_markdown":"I have a select query that is suppose to return the number of request in a table, that fits certain criterias. When I run it locally, in my eclipse IDE, it returns the number request, but when I deploy it in a distant server, it returns 0. I&#39;m using java, with a db2 client, with jdbc and the server is a unix server. There&#39;s no error, on ther server, it returns nothing, but locally  it returns the number of records. It&#39;s the same database, table, same username and password, just different results on the server and local. `What could be the reason for that?\r\n\r\nHere is the query:\r\n```sql\r\nselect count(numconfirmation) as recordCount from edm.tdemande where (typedemande not in (&#39;1&#39;, &#39;4&#39;, &#39;105&#39;, &#39;66&#39;, &#39;75&#39;, &#39;76&#39;, &#39;78&#39;, &#39;12&#39;, &#39;84&#39;, &#39;60&#39;, &#39;61&#39;, &#39;42&#39;, &#39;42S&#39;, &#39;43&#39;, &#39;43S&#39;, &#39;44&#39;, &#39;2&#39;, &#39;5&#39;, &#39;40&#39;, &#39;7&#39;, &#39;2S&#39;, &#39;3S&#39;, &#39;6&#39;, &#39;3&#39;, &#39;30&#39;, &#39;31&#39;, &#39;13&#39;, &#39;15&#39;, &#39;22&#39;, &#39;23&#39;, &#39;24&#39;, &#39;25&#39;, &#39;36&#39;, &#39;82&#39;, &#39;33&#39;, &#39;34&#39;, &#39;35&#39;, &#39;37&#39;, &#39;38&#39;, &#39;39&#39;, &#39;45&#39;, &#39;46&#39;, &#39;47&#39;, &#39;48&#39;, &#39;49&#39;, &#39;50&#39;, &#39;52&#39;, &#39;53&#39;, &#39;54&#39;, &#39;55&#39;, &#39;56&#39;, &#39;57&#39;, &#39;88&#39;, &#39;89&#39;, &#39;90&#39;, &#39;91&#39;, &#39;93&#39;, &#39;14&#39;, &#39;70&#39;, &#39;73&#39;, &#39;74&#39;, &#39;18&#39;, &#39;29&#39;, &#39;87&#39;) or codedomaff in (&#39;MAR&#39;,&#39;AFF&#39;,&#39;DFCE&#39;)) and datecreation &lt; ?  with ur\r\n```","title":"SQL query select return empty resultset in distant server but not when running locally","body":"<p>I have a select query that is suppose to return the number of request in a table, that fits certain criterias. When I run it locally, in my eclipse IDE, it returns the number request, but when I deploy it in a distant server, it returns 0. I'm using java, with a db2 client, with jdbc and the server is a unix server. There's no error, on ther server, it returns nothing, but locally  it returns the number of records. It's the same database, table, same username and password, just different results on the server and local. `What could be the reason for that?</p>\n<p>Here is the query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select count(numconfirmation) as recordCount from edm.tdemande where (typedemande not in ('1', '4', '105', '66', '75', '76', '78', '12', '84', '60', '61', '42', '42S', '43', '43S', '44', '2', '5', '40', '7', '2S', '3S', '6', '3', '30', '31', '13', '15', '22', '23', '24', '25', '36', '82', '33', '34', '35', '37', '38', '39', '45', '46', '47', '48', '49', '50', '52', '53', '54', '55', '56', '57', '88', '89', '90', '91', '93', '14', '70', '73', '74', '18', '29', '87') or codedomaff in ('MAR','AFF','DFCE')) and datecreation &lt; ?  with ur\n</code></pre>\n"},{"tags":["javascript","java","microservices","jaeger","opentracing"],"answers":[{"tags":[],"owner":{"account_id":5757532,"reputation":129,"user_id":4544921,"display_name":"cyber_trunk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665004705,"creation_date":1665004705,"answer_id":73966431,"question_id":73941607,"body_markdown":"Jaeger has a solution to address the possibility of clock skew between the many host machines part of the traces: https://www.jaegertracing.io/docs/1.21/deployment/#clock-skew-adjustment\r\n\r\nIt is most likely the case that one of the host machines have a clock skew which causes the tracing to be out of order.","title":"Jaeger traces out of order","body":"<p>Jaeger has a solution to address the possibility of clock skew between the many host machines part of the traces: <a href=\"https://www.jaegertracing.io/docs/1.21/deployment/#clock-skew-adjustment\" rel=\"nofollow noreferrer\">https://www.jaegertracing.io/docs/1.21/deployment/#clock-skew-adjustment</a></p>\n<p>It is most likely the case that one of the host machines have a clock skew which causes the tracing to be out of order.</p>\n"}],"owner":{"account_id":5757532,"reputation":129,"user_id":4544921,"display_name":"cyber_trunk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665004705,"creation_date":1664838280,"question_id":73941607,"body_markdown":"I have a front-end application (component A) that makes a request to a Java back-end application (component B). \r\n\r\nBoth components are configured to export trace information to my jaegertracing/all-in-one:1.37 deployment.\r\n\r\nThe headers from component A are propagating correctly to component B, and I can see the traces being nested, but they are out of order.[![enter image description here][2]][2]\r\n[![enter image description here][1]][1]\r\n\r\nI printed the start and end time for both component A and B, it looks like timestamp from component B is *earlier* than of component A. Has anyone run into this issue before?\r\n\r\nThe way I print the epoch time for both services are:\r\n\r\n**Java**\r\nSystem.currentTimeMillis();\r\n\r\n**JavaScript**\r\nnew Date().getTime()\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OJNAz.png\r\n  [2]: https://i.stack.imgur.com/xPnLL.png","title":"Jaeger traces out of order","body":"<p>I have a front-end application (component A) that makes a request to a Java back-end application (component B).</p>\n<p>Both components are configured to export trace information to my jaegertracing/all-in-one:1.37 deployment.</p>\n<p>The headers from component A are propagating correctly to component B, and I can see the traces being nested, but they are out of order.<a href=\"https://i.stack.imgur.com/xPnLL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xPnLL.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/OJNAz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OJNAz.png\" alt=\"enter image description here\" /></a></p>\n<p>I printed the start and end time for both component A and B, it looks like timestamp from component B is <em>earlier</em> than of component A. Has anyone run into this issue before?</p>\n<p>The way I print the epoch time for both services are:</p>\n<p><strong>Java</strong>\nSystem.currentTimeMillis();</p>\n<p><strong>JavaScript</strong>\nnew Date().getTime()</p>\n"},{"tags":["java","refactoring","abstract-class"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1665002725,"post_id":73966054,"comment_id":130600289,"body_markdown":"Don&#39;t make the method abstract but implement it in the base class?","body":"Don&#39;t make the method abstract but implement it in the base class?"},{"owner":{"account_id":13257387,"reputation":97,"user_id":9573000,"display_name":"Mana"},"score":0,"creation_date":1665003434,"post_id":73966054,"comment_id":130600483,"body_markdown":"Are you saying to keep the abstract class but make none of its methods abstract?","body":"Are you saying to keep the abstract class but make none of its methods abstract?"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1665003546,"post_id":73966054,"comment_id":130600531,"body_markdown":"I&#39;m not saying _none_ of its methods, but implement the methods which need implementing. Any method which _must_ be implemented by the child classes should remain abstract.","body":"I&#39;m not saying <i>none</i> of its methods, but implement the methods which need implementing. Any method which <i>must</i> be implemented by the child classes should remain abstract."},{"owner":{"account_id":13257387,"reputation":97,"user_id":9573000,"display_name":"Mana"},"score":0,"creation_date":1665003719,"post_id":73966054,"comment_id":130600580,"body_markdown":"Ah got it, yep that seems like the easiest approach then. Thanks!","body":"Ah got it, yep that seems like the easiest approach then. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1665003891,"creation_date":1665003891,"answer_id":73966320,"question_id":73966054,"body_markdown":"If all implementations of an abstract method are identical, then there&#39;s no need to have the abstract method in the first place. Move the implementation to the base class.\r\n\r\nAn abstract method _forces_ all derived classes to implement this method (or be abstract themselves). If child classes are free to implement or override the method, it doesn&#39;t have to be abstract.","title":"Trying to avoid code duplication when implementing abstract methods","body":"<p>If all implementations of an abstract method are identical, then there's no need to have the abstract method in the first place. Move the implementation to the base class.</p>\n<p>An abstract method <em>forces</em> all derived classes to implement this method (or be abstract themselves). If child classes are free to implement or override the method, it doesn't have to be abstract.</p>\n"}],"owner":{"account_id":13257387,"reputation":97,"user_id":9573000,"display_name":"Mana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73966320,"answer_count":1,"score":0,"last_activity_date":1665003891,"creation_date":1665001978,"question_id":73966054,"body_markdown":"I have the following abstract class defined here:\r\n```\r\n@Slf4j\r\npublic abstract class PublishMappingService {\r\n    @Autowired\r\n    private ErpPackageRepository erpPackageRepository;\r\n\r\n    @Autowired\r\n    private PubSubClient pubSubClient;\r\n\r\n    @Autowired\r\n    private RequestInfo requestInfo;\r\n\r\n    public abstract void publishMappingUpdateEvent(MappingsEntity mappingsEntity);\r\n    public abstract void publishMappingUpdateEvent(List&lt;MappingsEntity&gt; mappingsEntityList);\r\n\r\n    public void publishEvent(String companyId) {\r\n        ErpPackage erpPackage;\r\n\r\n        try {\r\n            erpPackage = erpPackageRepository.getSelectedErpPackageForCompanyId(companyId);\r\n            pubSubClient.publishEventAsync(\r\n                    new MappingUpdatedEvent(\r\n                            erpPackage.getPartnerId(), erpPackage.getCompanyId(),\r\n                            erpPackage.getErpId(), this.requestInfo.getCorrelationId(),\r\n                            null\r\n                    )\r\n            );\r\n        } catch (NotFoundException e) {\r\n            log.error(&quot;MappingsRepository::publishEvent: This entity is not registered with ECP - companyId: {}&quot;, companyId, e);\r\n        } catch (Exception e) {\r\n            log.error(&quot;MappingsRepository::publishEvent: Failed to publish MappingUpdatedEvent for {}&quot;, companyId, e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nLet&#39;s say I have two classes (A and B) that inherit from the abstract base class\r\n```\r\npublic class A extends PublishMappingService {\r\n// public class B extends PublishMappingService {\r\n    @Override\r\n    public void publishMappingUpdateEvent(MappingsEntity mappingsEntity) {\r\n        // Identical in Class B\r\n        if (mappingsEntity != null) {\r\n            String companyId = mappingsEntity.getCompanyId();\r\n\r\n            publishEvent(companyId);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void publishMappingUpdateEvent(List&lt;MappingsEntity&gt; mappingsEntityList) {\r\n        // Identical in Class B\r\n        if (mappingsEntityList != null &amp;&amp; !mappingsEntityList.isEmpty()) {\r\n            String companyId = mappingsEntityList.get(0).getCompanyId();\r\n\r\n            publishEvent(companyId);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nEssentially, the problem is that when I override and implement the abstract methods defined in my subclasses, these methods will be identical across every subclass. \r\n\r\nSince I&#39;m not avoiding code duplication with my abstract class, I thought of just making a utility class instead. However, from what I&#39;ve read, utility classes should only be created if every method can be declared as static which I can&#39;t do so as seen in the behavior of the `publishEvent` method.\r\n\r\nI also thought about using an interface with default methods but that approach also wouldn&#39;t work since then my instance variables would be need to be static and final, which isn&#39;t possible with autowired fields.\r\n\r\nThus, I&#39;m asking to see if there&#39;s any alternative ways I can approach refactoring my code to avoid duplication here? Thanks!","title":"Trying to avoid code duplication when implementing abstract methods","body":"<p>I have the following abstract class defined here:</p>\n<pre><code>@Slf4j\npublic abstract class PublishMappingService {\n    @Autowired\n    private ErpPackageRepository erpPackageRepository;\n\n    @Autowired\n    private PubSubClient pubSubClient;\n\n    @Autowired\n    private RequestInfo requestInfo;\n\n    public abstract void publishMappingUpdateEvent(MappingsEntity mappingsEntity);\n    public abstract void publishMappingUpdateEvent(List&lt;MappingsEntity&gt; mappingsEntityList);\n\n    public void publishEvent(String companyId) {\n        ErpPackage erpPackage;\n\n        try {\n            erpPackage = erpPackageRepository.getSelectedErpPackageForCompanyId(companyId);\n            pubSubClient.publishEventAsync(\n                    new MappingUpdatedEvent(\n                            erpPackage.getPartnerId(), erpPackage.getCompanyId(),\n                            erpPackage.getErpId(), this.requestInfo.getCorrelationId(),\n                            null\n                    )\n            );\n        } catch (NotFoundException e) {\n            log.error(&quot;MappingsRepository::publishEvent: This entity is not registered with ECP - companyId: {}&quot;, companyId, e);\n        } catch (Exception e) {\n            log.error(&quot;MappingsRepository::publishEvent: Failed to publish MappingUpdatedEvent for {}&quot;, companyId, e);\n        }\n    }\n}\n</code></pre>\n<p>Let's say I have two classes (A and B) that inherit from the abstract base class</p>\n<pre><code>public class A extends PublishMappingService {\n// public class B extends PublishMappingService {\n    @Override\n    public void publishMappingUpdateEvent(MappingsEntity mappingsEntity) {\n        // Identical in Class B\n        if (mappingsEntity != null) {\n            String companyId = mappingsEntity.getCompanyId();\n\n            publishEvent(companyId);\n        }\n    }\n\n    @Override\n    public void publishMappingUpdateEvent(List&lt;MappingsEntity&gt; mappingsEntityList) {\n        // Identical in Class B\n        if (mappingsEntityList != null &amp;&amp; !mappingsEntityList.isEmpty()) {\n            String companyId = mappingsEntityList.get(0).getCompanyId();\n\n            publishEvent(companyId);\n        }\n    }\n}\n</code></pre>\n<p>Essentially, the problem is that when I override and implement the abstract methods defined in my subclasses, these methods will be identical across every subclass.</p>\n<p>Since I'm not avoiding code duplication with my abstract class, I thought of just making a utility class instead. However, from what I've read, utility classes should only be created if every method can be declared as static which I can't do so as seen in the behavior of the <code>publishEvent</code> method.</p>\n<p>I also thought about using an interface with default methods but that approach also wouldn't work since then my instance variables would be need to be static and final, which isn't possible with autowired fields.</p>\n<p>Thus, I'm asking to see if there's any alternative ways I can approach refactoring my code to avoid duplication here? Thanks!</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":23949,"reputation":63044,"user_id":60518,"accept_rate":59,"display_name":"Tim B&#252;the"},"score":6,"creation_date":1487789757,"post_id":32841543,"comment_id":71946935,"body_markdown":"quick side note: `Mockito.times(1)` is the default of `verify` and can be omitted.","body":"quick side note: <code>Mockito.times(1)</code> is the default of <code>verify</code> and can be omitted."}],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":143,"is_accepted":true,"score":143,"last_activity_date":1480521530,"creation_date":1443522793,"answer_id":32841698,"question_id":32841543,"body_markdown":"The error message you are getting is expected since you are using argument matcher for only one argument and not the other. From [`Matchers`](http://site.mockito.org/mockito/docs/current/org/mockito/Matchers.html) Javadoc:\r\n&gt; If you are using argument matchers, **all arguments** have to be provided by matchers. \r\n\r\nTherefore, the fix is to use a matcher for the second parameter of the method as well. In this case, it would be a matcher matching `null`. Depending on the version of Mockito and Java, you can have:\r\n\r\n - Starting with Mockito 2, you can use [`ArgumentMatchers.isNull()`](https://static.javadoc.io/org.mockito/mockito-core/2.1.0/org/mockito/ArgumentMatchers.html#isNull()). This works with Java 8 and above:\r\n\r\n        verify(objectDemo, times(1)).objectDemoMethod(any(String.class), isNull());\r\n\r\n Note that if you&#39;re running with Java 7 or older, you&#39;ll need an explicit cast to make this work, because the type inference in those versions of Java does not take into account the types of the method called:\r\n\r\n        verify(objectDemo, times(1)).objectDemoMethod(any(String.class), (String) isNull());\r\n\r\n - If you&#39;re using Mockito 1, you can use the [`Matchers.isNull(clazz)`](https://static.javadoc.io/org.mockito/mockito-core/1.10.19/org/mockito/Matchers.html#isNull(java.lang.Class)) instead:\r\n\r\n        verify(objectDemo, times(1)).objectDemoMethod(any(String.class), isNull(String.class));\r\n\r\nFor the Java &amp;le; 7 or Mockito 1 cases, the examples uses a case where the second parameter was of type `String`: it would need to be replaced with the actual type of the method parameter.","title":"Matchers.any() for null value in Mockito","body":"<p>The error message you are getting is expected since you are using argument matcher for only one argument and not the other. From <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/Matchers.html\"><code>Matchers</code></a> Javadoc:</p>\n\n<blockquote>\n  <p>If you are using argument matchers, <strong>all arguments</strong> have to be provided by matchers. </p>\n</blockquote>\n\n<p>Therefore, the fix is to use a matcher for the second parameter of the method as well. In this case, it would be a matcher matching <code>null</code>. Depending on the version of Mockito and Java, you can have:</p>\n\n<ul>\n<li><p>Starting with Mockito 2, you can use <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.1.0/org/mockito/ArgumentMatchers.html#isNull()\"><code>ArgumentMatchers.isNull()</code></a>. This works with Java 8 and above:</p>\n\n<pre><code>verify(objectDemo, times(1)).objectDemoMethod(any(String.class), isNull());\n</code></pre>\n\n<p>Note that if you're running with Java 7 or older, you'll need an explicit cast to make this work, because the type inference in those versions of Java does not take into account the types of the method called:</p>\n\n<pre><code>verify(objectDemo, times(1)).objectDemoMethod(any(String.class), (String) isNull());\n</code></pre></li>\n<li><p>If you're using Mockito 1, you can use the <a href=\"https://static.javadoc.io/org.mockito/mockito-core/1.10.19/org/mockito/Matchers.html#isNull(java.lang.Class)\"><code>Matchers.isNull(clazz)</code></a> instead:</p>\n\n<pre><code>verify(objectDemo, times(1)).objectDemoMethod(any(String.class), isNull(String.class));\n</code></pre></li>\n</ul>\n\n<p>For the Java &le; 7 or Mockito 1 cases, the examples uses a case where the second parameter was of type <code>String</code>: it would need to be replaced with the actual type of the method parameter.</p>\n"},{"tags":[],"owner":{"account_id":5409905,"reputation":2215,"user_id":4307080,"display_name":"Amadeu Cavalcante Filho"},"down_vote_count":2,"up_vote_count":44,"is_accepted":false,"score":42,"last_activity_date":1591630623,"creation_date":1533600653,"answer_id":51717144,"question_id":32841543,"body_markdown":"`isNull` seems to be deprecated \r\n\r\n&gt; With Java 8 this method will be removed in Mockito 3.0. This method is only used for generic friendliness to avoid casting, this is not anymore needed in Java 8.\r\n\r\nI think you could use `nullable`:\r\n   \r\n- `public static &lt;T&gt; T nullable(Class&lt;T&gt; clazz)`\r\n\r\nYou could use something like:\r\n\r\n    verify(objectDemo, times(1)).objectDemoMethod(any(String.class), nullable(String.class));\r\n\r\n\r\n\r\n\r\n     ","title":"Matchers.any() for null value in Mockito","body":"<p><code>isNull</code> seems to be deprecated </p>\n\n<blockquote>\n  <p>With Java 8 this method will be removed in Mockito 3.0. This method is only used for generic friendliness to avoid casting, this is not anymore needed in Java 8.</p>\n</blockquote>\n\n<p>I think you could use <code>nullable</code>:</p>\n\n<ul>\n<li><code>public static &lt;T&gt; T nullable(Class&lt;T&gt; clazz)</code></li>\n</ul>\n\n<p>You could use something like:</p>\n\n<pre><code>verify(objectDemo, times(1)).objectDemoMethod(any(String.class), nullable(String.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8091203,"reputation":2621,"user_id":6097074,"accept_rate":83,"display_name":"ankit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558359976,"creation_date":1558359976,"answer_id":56222283,"question_id":32841543,"body_markdown":"Just use:\r\n\r\n`Mockito.verify(objectDemo, Mockito.times(1)).objectDemoMethod(Matchers.any(String.class), (ClassName) isNull());`\r\n\r\nAbove help me in java 8 version. Hope this will help you.","title":"Matchers.any() for null value in Mockito","body":"<p>Just use:</p>\n\n<p><code>Mockito.verify(objectDemo, Mockito.times(1)).objectDemoMethod(Matchers.any(String.class), (ClassName) isNull());</code></p>\n\n<p>Above help me in java 8 version. Hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":6883892,"reputation":1109,"user_id":5289701,"display_name":"Kwabena Berko"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1605360411,"creation_date":1605360411,"answer_id":64834396,"question_id":32841543,"body_markdown":"You can make use of Mockito&#39;s ArgumentMatchers class, like so:\r\n\r\n```java\r\nMockito.verify(objectDemo).objectDemoMethod(ArgumentMatchers.any(String.class), ArgumentMatchers.isNull());\r\n```","title":"Matchers.any() for null value in Mockito","body":"<p>You can make use of Mockito's ArgumentMatchers class, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mockito.verify(objectDemo).objectDemoMethod(ArgumentMatchers.any(String.class), ArgumentMatchers.isNull());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35681,"reputation":399,"user_id":101141,"accept_rate":50,"display_name":"Montana Harkin"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1665003637,"creation_date":1665003637,"answer_id":73966288,"question_id":32841543,"body_markdown":"Ran into this when using Mockito 2.28 and Mockito Kotlin 2.2 \r\n\r\n`any()` and `isNull()` weren&#39;t matching. However, `eq(null)` did finally match, so you might try that if you&#39;re in the same boat.","title":"Matchers.any() for null value in Mockito","body":"<p>Ran into this when using Mockito 2.28 and Mockito Kotlin 2.2</p>\n<p><code>any()</code> and <code>isNull()</code> weren't matching. However, <code>eq(null)</code> did finally match, so you might try that if you're in the same boat.</p>\n"}],"owner":{"account_id":6021625,"reputation":1293,"user_id":4728509,"accept_rate":67,"display_name":"Avinash Jadhav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170920,"favorite_count":0,"down_vote_count":1,"up_vote_count":104,"accepted_answer_id":32841698,"answer_count":5,"score":103,"last_activity_date":1665003637,"creation_date":1443522135,"question_id":32841543,"body_markdown":"Suppose I am having this object `objectDemo` which calls to the method `objectDemoMethod` with 2 parameters `String` and `null`. Now I want to verify with Mockito that this method was called:\r\n  \r\n    objectDemo.objectDemoMethod(&quot;SAMPLE_STRING&quot;, null);\r\n\r\nI have written this:\r\n\r\n    Mockito.verify(objectDemo, Mockito.times(1)).objectDemoMethod(Matchers.any(String.class), null);\r\n\r\nbut it&#39;s giving an error:\r\n\r\n&gt; Invalid use of argument matchers for null value.\r\n\r\nIs there any another way to pass `null` value?\r\n \r\n   \r\n","title":"Matchers.any() for null value in Mockito","body":"<p>Suppose I am having this object <code>objectDemo</code> which calls to the method <code>objectDemoMethod</code> with 2 parameters <code>String</code> and <code>null</code>. Now I want to verify with Mockito that this method was called:</p>\n<pre><code>objectDemo.objectDemoMethod(&quot;SAMPLE_STRING&quot;, null);\n</code></pre>\n<p>I have written this:</p>\n<pre><code>Mockito.verify(objectDemo, Mockito.times(1)).objectDemoMethod(Matchers.any(String.class), null);\n</code></pre>\n<p>but it's giving an error:</p>\n<blockquote>\n<p>Invalid use of argument matchers for null value.</p>\n</blockquote>\n<p>Is there any another way to pass <code>null</code> value?</p>\n"},{"tags":["java","file","recursion","java-7","nio"],"comments":[{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":3,"creation_date":1435554123,"post_id":2056221,"comment_id":50230609,"body_markdown":"I have just completed [Test Results](https://github.com/brettryan/io-recurse-tests) that provide performance tests for many of the answers. Unsurprisingly all NIO based answers perform best. The commons-io answer is clearly the worst performer with over twice the run length.","body":"I have just completed <a href=\"https://github.com/brettryan/io-recurse-tests\" rel=\"nofollow noreferrer\">Test Results</a> that provide performance tests for many of the answers. Unsurprisingly all NIO based answers perform best. The commons-io answer is clearly the worst performer with over twice the run length."},{"owner":{"account_id":1724698,"reputation":1194,"user_id":1579667,"accept_rate":96,"display_name":"Benj"},"score":2,"creation_date":1475596315,"post_id":2056221,"comment_id":67001401,"body_markdown":"Java8 : Files.walk ?","body":"Java8 : Files.walk ?"}],"answers":[{"tags":[],"owner":{"account_id":11659,"reputation":53279,"user_id":22595,"accept_rate":77,"display_name":"Michał Niklas"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1263382553,"creation_date":1263382553,"answer_id":2056257,"question_id":2056221,"body_markdown":"I think this should do the work:\r\n\r\n\tFile dir = new File(dirname);\r\n\tString[] files = dir.list();\r\n\r\nThis way you have files and dirs. Now use recursion and do the same for dirs (`File` class has `isDirectory()` method).","title":"Recursively list files in Java","body":"<p>I think this should do the work:</p>\n\n<pre><code>File dir = new File(dirname);\nString[] files = dir.list();\n</code></pre>\n\n<p>This way you have files and dirs. Now use recursion and do the same for dirs (<code>File</code> class has <code>isDirectory()</code> method).</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":3,"up_vote_count":171,"is_accepted":false,"score":168,"last_activity_date":1468267973,"creation_date":1263382565,"answer_id":2056258,"question_id":2056221,"body_markdown":"[FileUtils][1] have [`iterateFiles`][2] and [`listFiles`][3] methods. Give them a try. (from &lt;a href=&quot;http://commons.apache.org/proper/commons-io/&quot;&gt;commons-io&lt;/a&gt;)\r\n\r\nEdit: You can [check here][4] for a benchmark of different approaches. It seems that the commons-io approach is slow, so pick some of the faster ones [from here][5] (if it matters)\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html\r\n  [2]: https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#iterateFiles(java.io.File,%20org.apache.commons.io.filefilter.IOFileFilter,%20org.apache.commons.io.filefilter.IOFileFilter)\r\n  [3]: https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#listFiles(java.io.File,%20org.apache.commons.io.filefilter.IOFileFilter,%20org.apache.commons.io.filefilter.IOFileFilter)\r\n  [4]: https://github.com/brettryan/io-recurse-tests\r\n  [5]: https://github.com/brettryan/io-recurse-tests/blob/master/src/test/java/com/drunkendev/io/recurse/tests/RecursionTest.java","title":"Recursively list files in Java","body":"<p><a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html\" rel=\"noreferrer\">FileUtils</a> have <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#iterateFiles(java.io.File,%20org.apache.commons.io.filefilter.IOFileFilter,%20org.apache.commons.io.filefilter.IOFileFilter)\" rel=\"noreferrer\"><code>iterateFiles</code></a> and <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#listFiles(java.io.File,%20org.apache.commons.io.filefilter.IOFileFilter,%20org.apache.commons.io.filefilter.IOFileFilter)\" rel=\"noreferrer\"><code>listFiles</code></a> methods. Give them a try. (from <a href=\"http://commons.apache.org/proper/commons-io/\" rel=\"noreferrer\">commons-io</a>)</p>\n\n<p>Edit: You can <a href=\"https://github.com/brettryan/io-recurse-tests\" rel=\"noreferrer\">check here</a> for a benchmark of different approaches. It seems that the commons-io approach is slow, so pick some of the faster ones <a href=\"https://github.com/brettryan/io-recurse-tests/blob/master/src/test/java/com/drunkendev/io/recurse/tests/RecursionTest.java\" rel=\"noreferrer\">from here</a> (if it matters)</p>\n"},{"tags":[],"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1263382586,"creation_date":1263382586,"answer_id":2056259,"question_id":2056221,"body_markdown":"just write it yourself using simple recursion:\r\n\r\n    public List&lt;File&gt; addFiles(List&lt;File&gt; files, File dir)\r\n    {\r\n        if (files == null)\r\n            files = new LinkedList&lt;File&gt;();\r\n    \r\n        if (!dir.isDirectory())\r\n        {\r\n            files.add(dir);\r\n            return files;\r\n        }\r\n    \r\n        for (File file : dir.listFiles())\r\n            addFiles(files, file);\r\n        return files;\r\n    }","title":"Recursively list files in Java","body":"<p>just write it yourself using simple recursion:</p>\n\n<pre><code>public List&lt;File&gt; addFiles(List&lt;File&gt; files, File dir)\n{\n    if (files == null)\n        files = new LinkedList&lt;File&gt;();\n\n    if (!dir.isDirectory())\n    {\n        files.add(dir);\n        return files;\n    }\n\n    for (File file : dir.listFiles())\n        addFiles(files, file);\n    return files;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20147,"reputation":1152,"user_id":1958045,"display_name":"Stefan Schmidt"},"down_vote_count":3,"up_vote_count":22,"is_accepted":false,"score":19,"last_activity_date":1263382773,"creation_date":1263382773,"answer_id":2056276,"question_id":2056221,"body_markdown":"I would go with something like: \r\n\r\n    public void list(File file) {\r\n\t\tSystem.out.println(file.getName());\r\n\t\tFile[] children = file.listFiles();\r\n\t\tfor (File child : children) {\r\n\t\t\tlist(child);\r\n\t\t}\r\n\t}\r\n\r\nThe System.out.println is just there to indicate to do something with the file. there is no need to differentiate between files and directories, since a normal file will simply have zero children.","title":"Recursively list files in Java","body":"<p>I would go with something like: </p>\n\n<pre><code>public void list(File file) {\n    System.out.println(file.getName());\n    File[] children = file.listFiles();\n    for (File child : children) {\n        list(child);\n    }\n}\n</code></pre>\n\n<p>The System.out.println is just there to indicate to do something with the file. there is no need to differentiate between files and directories, since a normal file will simply have zero children.</p>\n"},{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":3,"up_vote_count":148,"is_accepted":false,"score":145,"last_activity_date":1428633357,"creation_date":1263383277,"answer_id":2056326,"question_id":2056221,"body_markdown":"// Ready to run\r\n\r\n    import java.io.File;\r\n    \r\n    public class Filewalker {\r\n        \r\n        public void walk( String path ) {\r\n        \r\n            File root = new File( path );\r\n            File[] list = root.listFiles();\r\n                    \r\n            if (list == null) return;\r\n    \r\n            for ( File f : list ) {\r\n                if ( f.isDirectory() ) {\r\n                    walk( f.getAbsolutePath() );\r\n                    System.out.println( &quot;Dir:&quot; + f.getAbsoluteFile() );\r\n                }\r\n                else {\r\n                    System.out.println( &quot;File:&quot; + f.getAbsoluteFile() );\r\n                }\r\n            }\r\n        }\r\n        \t\r\n        public static void main(String[] args) {\r\n            Filewalker fw = new Filewalker();\r\n            fw.walk(&quot;c:\\\\&quot; );\r\n        }\r\n        \r\n    }\r\n    ","title":"Recursively list files in Java","body":"<p>// Ready to run</p>\n\n<pre><code>import java.io.File;\n\npublic class Filewalker {\n\n    public void walk( String path ) {\n\n        File root = new File( path );\n        File[] list = root.listFiles();\n\n        if (list == null) return;\n\n        for ( File f : list ) {\n            if ( f.isDirectory() ) {\n                walk( f.getAbsolutePath() );\n                System.out.println( \"Dir:\" + f.getAbsoluteFile() );\n            }\n            else {\n                System.out.println( \"File:\" + f.getAbsoluteFile() );\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        Filewalker fw = new Filewalker();\n        fw.walk(\"c:\\\\\" );\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":51856,"reputation":8054,"user_id":154949,"accept_rate":76,"display_name":"yawn"},"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1365172973,"creation_date":1263383569,"answer_id":2056352,"question_id":2056221,"body_markdown":"Java 7 &lt;strike&gt;will have&lt;/strike&gt; has [Files.walkFileTree][1]:\r\n\r\n&gt; If you provide a starting point and a file visitor, it will invoke various methods on the file visitor as it walks through the file in the file tree. We expect people to use this if they are developing a recursive copy, a recursive move, a recursive delete, or a recursive operation that sets permissions or performs another operation on each of the files.\r\n\r\nThere is now an entire [Oracle tutorial on this question][2].\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html \r\n  [2]: http://docs.oracle.com/javase/tutorial/essential/io/walk.html","title":"Recursively list files in Java","body":"<p>Java 7 <strike>will have</strike> has <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\" rel=\"noreferrer\">Files.walkFileTree</a>:</p>\n\n<blockquote>\n  <p>If you provide a starting point and a file visitor, it will invoke various methods on the file visitor as it walks through the file in the file tree. We expect people to use this if they are developing a recursive copy, a recursive move, a recursive delete, or a recursive operation that sets permissions or performs another operation on each of the files.</p>\n</blockquote>\n\n<p>There is now an entire <a href=\"http://docs.oracle.com/javase/tutorial/essential/io/walk.html\" rel=\"noreferrer\">Oracle tutorial on this question</a>.</p>\n"},{"tags":[],"owner":{"account_id":23282,"reputation":28065,"user_id":58220,"accept_rate":75,"display_name":"sateesh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1468914136,"creation_date":1263387238,"answer_id":2056708,"question_id":2056221,"body_markdown":"Apart from the recursive traversal one can use a Visitor based approach as well.\r\n\r\nBelow code is uses Visitor based approach for the traversal.It is expected that the input to the program is the root directory to traverse.\r\n\r\n\r\n    public interface Visitor {\r\n        void visit(DirElement d);\r\n        void visit(FileElement f);\r\n    }\r\n\r\n    public abstract class Element {\r\n        protected File rootPath;\r\n        abstract void accept(Visitor v);\r\n\r\n        @Override\r\n        public String toString() {\r\n            return rootPath.getAbsolutePath();\r\n        }\r\n    }\r\n\r\n    public class FileElement extends Element {\r\n        FileElement(final String path) {\r\n            rootPath = new File(path);\r\n        }\r\n\r\n        @Override\r\n        void accept(final Visitor v) {\r\n            v.visit(this);\r\n        }\r\n    }\r\n\r\n    public class DirElement extends Element implements Iterable&lt;Element&gt; {\r\n        private final List&lt;Element&gt; elemList;\r\n        DirElement(final String path) {\r\n            elemList = new ArrayList&lt;Element&gt;();\r\n            rootPath = new File(path);\r\n            for (File f : rootPath.listFiles()) {\r\n                if (f.isDirectory()) {\r\n                    elemList.add(new DirElement(f.getAbsolutePath()));\r\n                } else if (f.isFile()) {\r\n                    elemList.add(new FileElement(f.getAbsolutePath()));\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        void accept(final Visitor v) {\r\n            v.visit(this);\r\n        }\r\n\r\n        public Iterator&lt;Element&gt; iterator() {\r\n            return elemList.iterator();\r\n        }\r\n    }\r\n\r\n    public class ElementWalker {\r\n        private final String rootDir;\r\n        ElementWalker(final String dir) {\r\n            rootDir = dir;\r\n        }\r\n\r\n        private void traverse() {\r\n            Element d = new DirElement(rootDir);\r\n            d.accept(new Walker());\r\n        }\r\n\r\n        public static void main(final String[] args) {\r\n            ElementWalker t = new ElementWalker(&quot;C:\\\\temp&quot;);\r\n            t.traverse();\r\n        }\r\n\r\n        private class Walker implements Visitor {\r\n            public void visit(final DirElement d) {\r\n                System.out.println(d);\r\n                for(Element e:d) {\r\n                    e.accept(this);\r\n                }\r\n            }\r\n\r\n            public void visit(final FileElement f) {\r\n                System.out.println(f);\r\n            }\r\n        }\r\n    }\r\n","title":"Recursively list files in Java","body":"<p>Apart from the recursive traversal one can use a Visitor based approach as well.</p>\n\n<p>Below code is uses Visitor based approach for the traversal.It is expected that the input to the program is the root directory to traverse.</p>\n\n<pre><code>public interface Visitor {\n    void visit(DirElement d);\n    void visit(FileElement f);\n}\n\npublic abstract class Element {\n    protected File rootPath;\n    abstract void accept(Visitor v);\n\n    @Override\n    public String toString() {\n        return rootPath.getAbsolutePath();\n    }\n}\n\npublic class FileElement extends Element {\n    FileElement(final String path) {\n        rootPath = new File(path);\n    }\n\n    @Override\n    void accept(final Visitor v) {\n        v.visit(this);\n    }\n}\n\npublic class DirElement extends Element implements Iterable&lt;Element&gt; {\n    private final List&lt;Element&gt; elemList;\n    DirElement(final String path) {\n        elemList = new ArrayList&lt;Element&gt;();\n        rootPath = new File(path);\n        for (File f : rootPath.listFiles()) {\n            if (f.isDirectory()) {\n                elemList.add(new DirElement(f.getAbsolutePath()));\n            } else if (f.isFile()) {\n                elemList.add(new FileElement(f.getAbsolutePath()));\n            }\n        }\n    }\n\n    @Override\n    void accept(final Visitor v) {\n        v.visit(this);\n    }\n\n    public Iterator&lt;Element&gt; iterator() {\n        return elemList.iterator();\n    }\n}\n\npublic class ElementWalker {\n    private final String rootDir;\n    ElementWalker(final String dir) {\n        rootDir = dir;\n    }\n\n    private void traverse() {\n        Element d = new DirElement(rootDir);\n        d.accept(new Walker());\n    }\n\n    public static void main(final String[] args) {\n        ElementWalker t = new ElementWalker(\"C:\\\\temp\");\n        t.traverse();\n    }\n\n    private class Walker implements Visitor {\n        public void visit(final DirElement d) {\n            System.out.println(d);\n            for(Element e:d) {\n                e.accept(this);\n            }\n        }\n\n        public void visit(final FileElement f) {\n            System.out.println(f);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":893373,"reputation":2488,"user_id":931220,"accept_rate":83,"display_name":"benroth"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1338373605,"creation_date":1338373041,"answer_id":10814316,"question_id":2056221,"body_markdown":"I prefer using a queue over recursion for this kind of simple traversion:\r\n\r\n    List&lt;File&gt; allFiles = new ArrayList&lt;File&gt;();\r\n    Queue&lt;File&gt; dirs = new LinkedList&lt;File&gt;();\r\n    dirs.add(new File(&quot;/start/dir/&quot;));\r\n    while (!dirs.isEmpty()) {\r\n      for (File f : dirs.poll().listFiles()) {\r\n        if (f.isDirectory()) {\r\n          dirs.add(f);\r\n        } else if (f.isFile()) {\r\n          allFiles.add(f);\r\n        }\r\n      }\r\n    }\r\n","title":"Recursively list files in Java","body":"<p>I prefer using a queue over recursion for this kind of simple traversion:</p>\n\n<pre><code>List&lt;File&gt; allFiles = new ArrayList&lt;File&gt;();\nQueue&lt;File&gt; dirs = new LinkedList&lt;File&gt;();\ndirs.add(new File(\"/start/dir/\"));\nwhile (!dirs.isEmpty()) {\n  for (File f : dirs.poll().listFiles()) {\n    if (f.isDirectory()) {\n      dirs.add(f);\n    } else if (f.isFile()) {\n      allFiles.add(f);\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":439624,"reputation":5561,"user_id":828681,"display_name":"Petrucio"},"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1470159523,"creation_date":1343248579,"answer_id":11658192,"question_id":2056221,"body_markdown":"No external libraries needed.\r\n&lt;br&gt;Returns a Collection so you can do whatever you want with it after the call.\r\n\r\n    public static Collection&lt;File&gt; listFileTree(File dir) {\r\n    \tSet&lt;File&gt; fileTree = new HashSet&lt;File&gt;();\r\n        if(dir==null||dir.listFiles()==null){\r\n\t    \treturn fileTree;\r\n\t    }\r\n        for (File entry : dir.listFiles()) {\r\n        \tif (entry.isFile()) fileTree.add(entry);\r\n        \telse fileTree.addAll(listFileTree(entry));\r\n        }\r\n        return fileTree;\r\n    }","title":"Recursively list files in Java","body":"<p>No external libraries needed.\n<br>Returns a Collection so you can do whatever you want with it after the call.</p>\n\n<pre><code>public static Collection&lt;File&gt; listFileTree(File dir) {\n    Set&lt;File&gt; fileTree = new HashSet&lt;File&gt;();\n    if(dir==null||dir.listFiles()==null){\n        return fileTree;\n    }\n    for (File entry : dir.listFiles()) {\n        if (entry.isFile()) fileTree.add(entry);\n        else fileTree.addAll(listFileTree(entry));\n    }\n    return fileTree;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":98926,"reputation":18506,"user_id":267482,"accept_rate":70,"display_name":"bobah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379845041,"creation_date":1379845041,"answer_id":18942722,"question_id":2056221,"body_markdown":"Non-recursive BFS with a single list (particular example is searching for *.eml files):\r\n\r\n        final FileFilter filter = new FileFilter() {\r\n            @Override\r\n            public boolean accept(File file) {\r\n                return file.isDirectory() || file.getName().endsWith(&quot;.eml&quot;);\r\n            }\r\n        };\r\n\r\n        // BFS recursive search\r\n        List&lt;File&gt; queue = new LinkedList&lt;File&gt;();\r\n        queue.addAll(Arrays.asList(dir.listFiles(filter)));\r\n\r\n        for (ListIterator&lt;File&gt; itr = queue.listIterator(); itr.hasNext();) {\r\n            File file = itr.next();\r\n            if (file.isDirectory()) {\r\n                itr.remove();\r\n                for (File f: file.listFiles(filter)) itr.add(f);\r\n            }\r\n        }","title":"Recursively list files in Java","body":"<p>Non-recursive BFS with a single list (particular example is searching for *.eml files):</p>\n\n<pre><code>    final FileFilter filter = new FileFilter() {\n        @Override\n        public boolean accept(File file) {\n            return file.isDirectory() || file.getName().endsWith(\".eml\");\n        }\n    };\n\n    // BFS recursive search\n    List&lt;File&gt; queue = new LinkedList&lt;File&gt;();\n    queue.addAll(Arrays.asList(dir.listFiles(filter)));\n\n    for (ListIterator&lt;File&gt; itr = queue.listIterator(); itr.hasNext();) {\n        File file = itr.next();\n        if (file.isDirectory()) {\n            itr.remove();\n            for (File f: file.listFiles(filter)) itr.add(f);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":132543,"reputation":9418,"user_id":333296,"accept_rate":68,"display_name":"Nux"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1390297401,"creation_date":1390296756,"answer_id":21254129,"question_id":2056221,"body_markdown":"Based on stacker answer. Here is a solution working in JSP without any external libraries so you can put it almost anywhere on your server:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;%@ page session=&quot;false&quot; %&gt;\r\n    &lt;%@ page import=&quot;java.util.*&quot; %&gt;\r\n    &lt;%@ page import=&quot;java.io.*&quot; %&gt;\r\n    &lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot; %&gt;\r\n    \r\n    &lt;%!\r\n    \tpublic List&lt;String&gt; files = new ArrayList&lt;String&gt;();\r\n    \t/**\r\n    \t\tFills files array with all sub-files.\r\n    \t*/\r\n    \tpublic void walk( File root ) {\r\n    \t\tFile[] list = root.listFiles();\r\n    \r\n    \t\tif (list == null) return;\r\n    \r\n    \t\tfor ( File f : list ) {\r\n    \t\t\tif ( f.isDirectory() ) {\r\n    \t\t\t\twalk( f );\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tfiles.add(f.getAbsolutePath());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    %&gt;\r\n    &lt;%\r\n    \tfiles.clear();\r\n    \tFile jsp = new File(request.getRealPath(request.getServletPath()));\r\n    \tFile dir = jsp.getParentFile();\r\n    \twalk(dir);\r\n    \tString prefixPath = dir.getAbsolutePath() + &quot;/&quot;;\r\n    %&gt;\r\n\r\nThen you just do something like:\r\n\r\n\t\t&lt;ul&gt;\r\n\t\t\t&lt;% for (String file : files) { %&gt;\r\n\t\t\t\t&lt;% if (file.matches(&quot;.+\\\\.(apk|ipa|mobileprovision)&quot;)) { %&gt;\r\n\t\t\t\t\t&lt;li&gt;&lt;%=file.replace(prefixPath, &quot;&quot;)%&gt;&lt;/li&gt;\r\n\t\t\t\t&lt;% } %&gt;\r\n\t\t\t&lt;% } %&gt;\r\n\t\t&lt;/ul&gt;\r\n\r\n","title":"Recursively list files in Java","body":"<p>Based on stacker answer. Here is a solution working in JSP without any external libraries so you can put it almost anywhere on your server:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;%@ page session=\"false\" %&gt;\n&lt;%@ page import=\"java.util.*\" %&gt;\n&lt;%@ page import=\"java.io.*\" %&gt;\n&lt;%@ page contentType=\"text/html; charset=UTF-8\" %&gt;\n\n&lt;%!\n    public List&lt;String&gt; files = new ArrayList&lt;String&gt;();\n    /**\n        Fills files array with all sub-files.\n    */\n    public void walk( File root ) {\n        File[] list = root.listFiles();\n\n        if (list == null) return;\n\n        for ( File f : list ) {\n            if ( f.isDirectory() ) {\n                walk( f );\n            }\n            else {\n                files.add(f.getAbsolutePath());\n            }\n        }\n    }\n%&gt;\n&lt;%\n    files.clear();\n    File jsp = new File(request.getRealPath(request.getServletPath()));\n    File dir = jsp.getParentFile();\n    walk(dir);\n    String prefixPath = dir.getAbsolutePath() + \"/\";\n%&gt;\n</code></pre>\n\n<p>Then you just do something like:</p>\n\n<pre><code>    &lt;ul&gt;\n        &lt;% for (String file : files) { %&gt;\n            &lt;% if (file.matches(\".+\\\\.(apk|ipa|mobileprovision)\")) { %&gt;\n                &lt;li&gt;&lt;%=file.replace(prefixPath, \"\")%&gt;&lt;/li&gt;\n            &lt;% } %&gt;\n        &lt;% } %&gt;\n    &lt;/ul&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"down_vote_count":1,"up_vote_count":470,"is_accepted":true,"score":469,"last_activity_date":1665003543,"creation_date":1401766649,"answer_id":24006711,"question_id":2056221,"body_markdown":"Java 8 provides a nice stream to process all files in a tree.\r\n```java\r\ntry (Stream&lt;Path&gt; stream = Files.walk(Paths.get(path))) {\r\n    stream.filter(Files::isRegularFile)\r\n          .forEach(System.out::println);\r\n}\r\n```\r\nThis provides a natural way to traverse files. Since it&#39;s a stream you can do all nice stream operations on the result such as limit, grouping, mapping, exit early etc.\r\n\r\n**UPDATE**: I might point out there is also [Files.find][1] which takes a [BiPredicate][2] that could be more efficient if you need to check file attributes.\r\n\r\n    Files.find(Paths.get(path),\r\n               Integer.MAX_VALUE,\r\n               (filePath, fileAttr) -&gt; fileAttr.isRegularFile())\r\n            .forEach(System.out::println);\r\n\r\nNote that while the JavaDoc eludes that this method could be more efficient than [Files.walk][3] it is effectively identical, the difference in performance can be observed if you are also retrieving file attributes within your filter. In the end, if you need to filter on attributes use [Files.find][1], otherwise use [Files.walk][3], mostly because there are overloads and it&#39;s more convenient.\r\n\r\n**TESTS**: As requested I&#39;ve provided a performance comparison of many of the answers. Check out the [Github project which contains results and a test case](https://github.com/brettryan/io-recurse-tests).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#find-java.nio.file.Path-int-java.util.function.BiPredicate-java.nio.file.FileVisitOption...-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/function/BiPredicate.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-","title":"Recursively list files in Java","body":"<p>Java 8 provides a nice stream to process all files in a tree.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Stream&lt;Path&gt; stream = Files.walk(Paths.get(path))) {\n    stream.filter(Files::isRegularFile)\n          .forEach(System.out::println);\n}\n</code></pre>\n<p>This provides a natural way to traverse files. Since it's a stream you can do all nice stream operations on the result such as limit, grouping, mapping, exit early etc.</p>\n<p><strong>UPDATE</strong>: I might point out there is also <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#find-java.nio.file.Path-int-java.util.function.BiPredicate-java.nio.file.FileVisitOption...-\" rel=\"noreferrer\">Files.find</a> which takes a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/BiPredicate.html\" rel=\"noreferrer\">BiPredicate</a> that could be more efficient if you need to check file attributes.</p>\n<pre><code>Files.find(Paths.get(path),\n           Integer.MAX_VALUE,\n           (filePath, fileAttr) -&gt; fileAttr.isRegularFile())\n        .forEach(System.out::println);\n</code></pre>\n<p>Note that while the JavaDoc eludes that this method could be more efficient than <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-\" rel=\"noreferrer\">Files.walk</a> it is effectively identical, the difference in performance can be observed if you are also retrieving file attributes within your filter. In the end, if you need to filter on attributes use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#find-java.nio.file.Path-int-java.util.function.BiPredicate-java.nio.file.FileVisitOption...-\" rel=\"noreferrer\">Files.find</a>, otherwise use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-\" rel=\"noreferrer\">Files.walk</a>, mostly because there are overloads and it's more convenient.</p>\n<p><strong>TESTS</strong>: As requested I've provided a performance comparison of many of the answers. Check out the <a href=\"https://github.com/brettryan/io-recurse-tests\" rel=\"noreferrer\">Github project which contains results and a test case</a>.</p>\n"},{"tags":[],"owner":{"account_id":1045150,"reputation":1865,"user_id":1050319,"display_name":"Roy Kachouh"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1412512718,"creation_date":1412512718,"answer_id":26202639,"question_id":2056221,"body_markdown":"In Java 8, we can now use the Files utility to walk a file tree. Very simple.\r\n\r\n    Files.walk(root.toPath())\r\n          .filter(path -&gt; !Files.isDirectory(path))\r\n          .forEach(path -&gt; System.out.println(path));\r\n","title":"Recursively list files in Java","body":"<p>In Java 8, we can now use the Files utility to walk a file tree. Very simple.</p>\n\n<pre><code>Files.walk(root.toPath())\n      .filter(path -&gt; !Files.isDirectory(path))\n      .forEach(path -&gt; System.out.println(path));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2173846,"reputation":1913,"user_id":1925060,"accept_rate":86,"display_name":"chao"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1502833054,"creation_date":1416669324,"answer_id":27078924,"question_id":2056221,"body_markdown":"With Java 7 you can use the following class:\r\n\r\n    import java.io.IOException;\r\n    import java.nio.file.FileVisitResult;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.SimpleFileVisitor;\r\n    import java.nio.file.attribute.BasicFileAttributes;\r\n    \r\n    public class MyFileIterator extends SimpleFileVisitor&lt;Path&gt;\r\n    {\r\n        public MyFileIterator(String path) throws Exception\r\n        {\r\n            Files.walkFileTree(Paths.get(path), this);\r\n        }\r\n    \r\n        @Override\r\n        public FileVisitResult visitFile(Path file,\r\n                BasicFileAttributes attributes) throws IOException\r\n        {\r\n            System.out.println(&quot;File: &quot; + file);\r\n            return FileVisitResult.CONTINUE;\r\n        }\r\n    \r\n        @Override\r\n        public FileVisitResult preVisitDirectory(Path dir,\r\n                BasicFileAttributes attributes) throws IOException\r\n        {\r\n            System.out.println(&quot;Dir: &quot; + dir);\r\n            return FileVisitResult.CONTINUE;\r\n        }\r\n    }","title":"Recursively list files in Java","body":"<p>With Java 7 you can use the following class:</p>\n\n<pre><code>import java.io.IOException;\nimport java.nio.file.FileVisitResult;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.SimpleFileVisitor;\nimport java.nio.file.attribute.BasicFileAttributes;\n\npublic class MyFileIterator extends SimpleFileVisitor&lt;Path&gt;\n{\n    public MyFileIterator(String path) throws Exception\n    {\n        Files.walkFileTree(Paths.get(path), this);\n    }\n\n    @Override\n    public FileVisitResult visitFile(Path file,\n            BasicFileAttributes attributes) throws IOException\n    {\n        System.out.println(\"File: \" + file);\n        return FileVisitResult.CONTINUE;\n    }\n\n    @Override\n    public FileVisitResult preVisitDirectory(Path dir,\n            BasicFileAttributes attributes) throws IOException\n    {\n        System.out.println(\"Dir: \" + dir);\n        return FileVisitResult.CONTINUE;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1223102,"reputation":1803,"user_id":1189332,"accept_rate":24,"display_name":"user1189332"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446984800,"creation_date":1446984800,"answer_id":33593796,"question_id":2056221,"body_markdown":"My version (of course I could have used the built in walk in Java 8  ;-) ):\r\n\r\n    public static List&lt;File&gt; findFilesIn(File rootDir, Predicate&lt;File&gt; predicate) {\r\n            ArrayList&lt;File&gt; collected = new ArrayList&lt;&gt;();\r\n            walk(rootDir, predicate, collected);\r\n            return collected;\r\n        }\r\n    \r\n        private static void walk(File dir, Predicate&lt;File&gt; filterFunction, List&lt;File&gt; collected) {\r\n            Stream.of(listOnlyWhenDirectory(dir))\r\n                    .forEach(file -&gt; walk(file, filterFunction, addAndReturn(collected, file, filterFunction)));\r\n        }\r\n    \r\n        private static File[] listOnlyWhenDirectory(File dir) {\r\n            return dir.isDirectory() ? dir.listFiles() : new File[]{};\r\n        }\r\n    \r\n        private static List&lt;File&gt; addAndReturn(List&lt;File&gt; files, File toAdd, Predicate&lt;File&gt; filterFunction) {\r\n            if (filterFunction.test(toAdd)) {\r\n                files.add(toAdd);\r\n            }\r\n            return files;\r\n        }","title":"Recursively list files in Java","body":"<p>My version (of course I could have used the built in walk in Java 8  ;-) ):</p>\n\n<pre><code>public static List&lt;File&gt; findFilesIn(File rootDir, Predicate&lt;File&gt; predicate) {\n        ArrayList&lt;File&gt; collected = new ArrayList&lt;&gt;();\n        walk(rootDir, predicate, collected);\n        return collected;\n    }\n\n    private static void walk(File dir, Predicate&lt;File&gt; filterFunction, List&lt;File&gt; collected) {\n        Stream.of(listOnlyWhenDirectory(dir))\n                .forEach(file -&gt; walk(file, filterFunction, addAndReturn(collected, file, filterFunction)));\n    }\n\n    private static File[] listOnlyWhenDirectory(File dir) {\n        return dir.isDirectory() ? dir.listFiles() : new File[]{};\n    }\n\n    private static List&lt;File&gt; addAndReturn(List&lt;File&gt; files, File toAdd, Predicate&lt;File&gt; filterFunction) {\n        if (filterFunction.test(toAdd)) {\n            files.add(toAdd);\n        }\n        return files;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3411471,"reputation":3358,"user_id":2861283,"accept_rate":20,"display_name":"Rakesh Chaudhari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498195544,"creation_date":1498195544,"answer_id":44713656,"question_id":2056221,"body_markdown":"You can use below code to get a list of files of specific folder or directory recursively.\r\n\r\n\r\n    public static void main(String args[]) {\r\n          \r\n    \t\trecusiveList(&quot;D:&quot;);\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic static void recursiveList(String path) {\r\n    \r\n    \t\tFile f = new File(path);\r\n    \t\tFile[] fl = f.listFiles();\r\n    \t\tfor (int i = 0; i &lt; fl.length; i++) {\r\n    \t\t\tif (fl[i].isDirectory() &amp;&amp; !fl[i].isHidden()) {\r\n    \t\t\t\tSystem.out.println(fl[i].getAbsolutePath());\r\n    \t\t\t\trecusiveList(fl[i].getAbsolutePath());\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(fl[i].getName());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"Recursively list files in Java","body":"<p>You can use below code to get a list of files of specific folder or directory recursively.</p>\n\n<pre><code>public static void main(String args[]) {\n\n        recusiveList(\"D:\");\n\n    }\n\n    public static void recursiveList(String path) {\n\n        File f = new File(path);\n        File[] fl = f.listFiles();\n        for (int i = 0; i &lt; fl.length; i++) {\n            if (fl[i].isDirectory() &amp;&amp; !fl[i].isHidden()) {\n                System.out.println(fl[i].getAbsolutePath());\n                recusiveList(fl[i].getAbsolutePath());\n            } else {\n                System.out.println(fl[i].getName());\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11312319,"reputation":61,"user_id":8295130,"display_name":"Ralf Roeber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507804987,"creation_date":1507804987,"answer_id":46707604,"question_id":2056221,"body_markdown":"Example outputs *.csv files in directory recursive searching Subdirectories using Files.find() from java.nio:\r\n\r\n    String path = &quot;C:/Daten/ibiss/ferret/&quot;;\r\n        logger.debug(&quot;Path:&quot; + path);\r\n        try (Stream&lt;Path&gt; fileList = Files.find(Paths.get(path), Integer.MAX_VALUE,\r\n                (filePath, fileAttr) -&gt; fileAttr.isRegularFile() &amp;&amp; filePath.toString().endsWith(&quot;csv&quot;))) {\r\n            List&lt;String&gt; someThingNew = fileList.sorted().map(String::valueOf).collect(Collectors.toList());\r\n            for (String t : someThingNew) {\r\n                t.toString();\r\n                logger.debug(&quot;Filename:&quot; + t);\r\n            }\r\n\r\n        }\r\n\r\nPosting this example, as I had trouble understanding howto pass the filename parameter in the #1 example given by Bryan, using foreach on Stream-result - \r\n\r\nHope this helps.","title":"Recursively list files in Java","body":"<p>Example outputs *.csv files in directory recursive searching Subdirectories using Files.find() from java.nio:</p>\n\n<pre><code>String path = \"C:/Daten/ibiss/ferret/\";\n    logger.debug(\"Path:\" + path);\n    try (Stream&lt;Path&gt; fileList = Files.find(Paths.get(path), Integer.MAX_VALUE,\n            (filePath, fileAttr) -&gt; fileAttr.isRegularFile() &amp;&amp; filePath.toString().endsWith(\"csv\"))) {\n        List&lt;String&gt; someThingNew = fileList.sorted().map(String::valueOf).collect(Collectors.toList());\n        for (String t : someThingNew) {\n            t.toString();\n            logger.debug(\"Filename:\" + t);\n        }\n\n    }\n</code></pre>\n\n<p>Posting this example, as I had trouble understanding howto pass the filename parameter in the #1 example given by Bryan, using foreach on Stream-result - </p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":5032416,"reputation":2150,"user_id":4042213,"accept_rate":91,"display_name":"Ebraheem Alrabeea"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1553596398,"creation_date":1509383671,"answer_id":47020817,"question_id":2056221,"body_markdown":"*This code is ready to run*\r\n\r\n    public static void main(String... args) {\r\n\t\tFile[] files = new File(&quot;D:/&quot;).listFiles();\r\n        if (files != null) \r\n\t\t   getFiles(files);\r\n\t}\r\n\r\n\tpublic static void getFiles(File[] files) {\r\n\t\tfor (File file : files) {\r\n\t\t\tif (file.isDirectory()) {\r\n\t\t\t\tgetFiles(file.listFiles());\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;File: &quot; + file);\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Recursively list files in Java","body":"<p><em>This code is ready to run</em></p>\n\n<pre><code>public static void main(String... args) {\n    File[] files = new File(\"D:/\").listFiles();\n    if (files != null) \n       getFiles(files);\n}\n\npublic static void getFiles(File[] files) {\n    for (File file : files) {\n        if (file.isDirectory()) {\n            getFiles(file.listFiles());\n        } else {\n            System.out.println(\"File: \" + file);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514840802,"creation_date":1514840802,"answer_id":48053233,"question_id":2056221,"body_markdown":"Here a simple but perfectly working solution using `recursion`:\r\n\r\n    public static List&lt;Path&gt; listFiles(String rootDirectory)\r\n    {\r\n    \tList&lt;Path&gt; files = new ArrayList&lt;&gt;();\r\n    \tlistFiles(rootDirectory, files);\r\n    \r\n    \treturn files;\r\n    }\r\n    \r\n    private static void listFiles(String path, List&lt;Path&gt; collectedFiles)\r\n    {\r\n    \tFile root = new File(path);\r\n    \tFile[] files = root.listFiles();\r\n    \r\n    \tif (files == null)\r\n    \t{\r\n    \t\treturn;\r\n    \t}\r\n    \r\n    \tfor (File file : files)\r\n    \t{\r\n    \t\tif (file.isDirectory())\r\n    \t\t{\r\n    \t\t\tlistFiles(file.getAbsolutePath(), collectedFiles);\r\n    \t\t} else\r\n    \t\t{\r\n    \t\t\tcollectedFiles.add(file.toPath());\r\n    \t\t}\r\n    \t}\r\n    }","title":"Recursively list files in Java","body":"<p>Here a simple but perfectly working solution using <code>recursion</code>:</p>\n\n<pre><code>public static List&lt;Path&gt; listFiles(String rootDirectory)\n{\n    List&lt;Path&gt; files = new ArrayList&lt;&gt;();\n    listFiles(rootDirectory, files);\n\n    return files;\n}\n\nprivate static void listFiles(String path, List&lt;Path&gt; collectedFiles)\n{\n    File root = new File(path);\n    File[] files = root.listFiles();\n\n    if (files == null)\n    {\n        return;\n    }\n\n    for (File file : files)\n    {\n        if (file.isDirectory())\n        {\n            listFiles(file.getAbsolutePath(), collectedFiles);\n        } else\n        {\n            collectedFiles.add(file.toPath());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1425961,"reputation":770,"user_id":1349479,"display_name":"legendmohe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529744749,"creation_date":1529744749,"answer_id":50999631,"question_id":2056221,"body_markdown":"        private void fillFilesRecursively(File file, List&lt;File&gt; resultFiles) {\r\n            if (file.isFile()) {\r\n                resultFiles.add(file);\r\n            } else {\r\n                for (File child : file.listFiles()) {\r\n                    fillFilesRecursively(child, resultFiles);\r\n                }\r\n            }\r\n        }","title":"Recursively list files in Java","body":"<pre><code>    private void fillFilesRecursively(File file, List&lt;File&gt; resultFiles) {\n        if (file.isFile()) {\n            resultFiles.add(file);\n        } else {\n            for (File child : file.listFiles()) {\n                fillFilesRecursively(child, resultFiles);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1998882,"reputation":523,"user_id":1790382,"display_name":"kanaparthikiran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564767630,"creation_date":1564767630,"answer_id":57331220,"question_id":2056221,"body_markdown":"I came up with this for printing all the files/file names recursively.\r\n\r\n    private static void printAllFiles(String filePath,File folder) {\r\n    \tif(filePath==null) {\r\n    \t\treturn;\r\n    \t}\r\n    \tFile[] files = folder.listFiles();\r\n    \tfor(File element : files) {\r\n    \t\tif(element.isDirectory()) {\r\n    \t\t\tprintAllFiles(filePath,element);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot; FileName &quot;+ element.getName());\r\n    \t\t}\r\n    \t}\r\n    }","title":"Recursively list files in Java","body":"<p>I came up with this for printing all the files/file names recursively.</p>\n\n<pre><code>private static void printAllFiles(String filePath,File folder) {\n    if(filePath==null) {\n        return;\n    }\n    File[] files = folder.listFiles();\n    for(File element : files) {\n        if(element.isDirectory()) {\n            printAllFiles(filePath,element);\n        } else {\n            System.out.println(\" FileName \"+ element.getName());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1322392,"reputation":7439,"user_id":1690078,"accept_rate":67,"display_name":"Clyde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575971739,"creation_date":1575971739,"answer_id":59264492,"question_id":2056221,"body_markdown":"Kotlin has [`FileTreeWalk`][1] for this purpose. For example:\r\n\r\n    dataDir.walkTopDown().filter { !it.isDirectory }.joinToString(&quot;\\n&quot;) {\r\n       &quot;${it.toRelativeString(dataDir)}: ${it.length()}&quot;\r\n    }\r\nWill produce a text list of all the non-directory files under a given root, one file per line with the path relative to the root and length.\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/-file-tree-walk/index.html","title":"Recursively list files in Java","body":"<p>Kotlin has <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/-file-tree-walk/index.html\" rel=\"nofollow noreferrer\"><code>FileTreeWalk</code></a> for this purpose. For example:</p>\n\n<pre><code>dataDir.walkTopDown().filter { !it.isDirectory }.joinToString(\"\\n\") {\n   \"${it.toRelativeString(dataDir)}: ${it.length()}\"\n}\n</code></pre>\n\n<p>Will produce a text list of all the non-directory files under a given root, one file per line with the path relative to the root and length.</p>\n"},{"tags":[],"owner":{"account_id":1232737,"reputation":1673,"user_id":1207791,"display_name":"cfstras"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1576592104,"creation_date":1576592104,"answer_id":59376134,"question_id":2056221,"body_markdown":"The [accepted answer](https://stackoverflow.com/a/24006711/1207791) is great, however it breaks down when you want to do IO inside the lambda.\r\n\r\nHere is what you can do if your action declares IOExceptions.\r\n\r\nYou can treat the filtered stream as an `Iterable`, and then do your action in a regular for-each loop. This way, you don&#39;t have to handle exceptions inside a lambda.\r\n\r\n```java\r\ntry (Stream&lt;Path&gt; pathStream = Files.walk(Paths.get(path))\r\n        .filter(Files::isRegularFile)) {\r\n\r\n    for (Path file : (Iterable&lt;Path&gt;) pathStream::iterator) {\r\n        // something that throws IOException\r\n        Files.copy(file, System.out);\r\n    }\r\n}\r\n```\r\n\r\nFound that trick here: https://stackoverflow.com/a/32668807/1207791","title":"Recursively list files in Java","body":"<p>The <a href=\"https://stackoverflow.com/a/24006711/1207791\">accepted answer</a> is great, however it breaks down when you want to do IO inside the lambda.</p>\n\n<p>Here is what you can do if your action declares IOExceptions.</p>\n\n<p>You can treat the filtered stream as an <code>Iterable</code>, and then do your action in a regular for-each loop. This way, you don't have to handle exceptions inside a lambda.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try (Stream&lt;Path&gt; pathStream = Files.walk(Paths.get(path))\n        .filter(Files::isRegularFile)) {\n\n    for (Path file : (Iterable&lt;Path&gt;) pathStream::iterator) {\n        // something that throws IOException\n        Files.copy(file, System.out);\n    }\n}\n</code></pre>\n\n<p>Found that trick here: <a href=\"https://stackoverflow.com/a/32668807/1207791\">https://stackoverflow.com/a/32668807/1207791</a></p>\n"},{"tags":[],"owner":{"account_id":5360594,"reputation":426,"user_id":4271976,"accept_rate":50,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580226685,"creation_date":1580226685,"answer_id":59952462,"question_id":2056221,"body_markdown":"Another way you can do even if someone already provide Java 8 walk.\r\n\r\nThis one will provide you all files recursively\r\n\r\n      private Stream&lt;File&gt; files(File file) {\r\n        return file.isDirectory()\r\n                ? Arrays.stream(file.listFiles()).flatMap(this::files)\r\n                : Stream.of(file);\r\n    }","title":"Recursively list files in Java","body":"<p>Another way you can do even if someone already provide Java 8 walk.</p>\n\n<p>This one will provide you all files recursively</p>\n\n<pre><code>  private Stream&lt;File&gt; files(File file) {\n    return file.isDirectory()\n            ? Arrays.stream(file.listFiles()).flatMap(this::files)\n            : Stream.of(file);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16517371,"reputation":41,"user_id":11934422,"display_name":"Parikshit Phukan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597690035,"creation_date":1597690035,"answer_id":63456915,"question_id":2056221,"body_markdown":"    public static String getExten(String path) {\r\n\t\tint i = path.lastIndexOf(&#39;.&#39;);\r\n\t\tif (i &gt; 0) {\r\n\t\t   return path.substring(i);\r\n\t\t}\r\n\t\telse return &quot;&quot;;\r\n\t}\r\n\tpublic static List&lt;String&gt; GetAllFiles(String path, List&lt;String&gt;fileList){\r\n\t\tFile file = new File(path);\r\n\t\t\r\n\t\tFile[] files = file.listFiles();\r\n\t\tfor(File folder:files) {\r\n\t\t\tif(extensions.contains(getExten(folder.getPath()))) {\r\n\t\t\t\tfileList.add(folder.getPath());\r\n\t\t\t}\r\n\t\t}\r\n\t\tFile[] direcs = file.listFiles(File::isDirectory);\r\n\t\tfor(File dir:direcs) {\r\n\t\t\tGetAllFiles(dir.getPath(),fileList);\r\n\t\t}\r\n\t\treturn fileList;\r\n\t\t\r\n\t}\r\nThis is a simple recursive function that should give you all the files. extensions is a list of string that contains only those extensions which are accepted. Example extensions = [&quot;.txt&quot;,&quot;.docx&quot;] etc.\r\n","title":"Recursively list files in Java","body":"<pre><code>public static String getExten(String path) {\n    int i = path.lastIndexOf('.');\n    if (i &gt; 0) {\n       return path.substring(i);\n    }\n    else return &quot;&quot;;\n}\npublic static List&lt;String&gt; GetAllFiles(String path, List&lt;String&gt;fileList){\n    File file = new File(path);\n    \n    File[] files = file.listFiles();\n    for(File folder:files) {\n        if(extensions.contains(getExten(folder.getPath()))) {\n            fileList.add(folder.getPath());\n        }\n    }\n    File[] direcs = file.listFiles(File::isDirectory);\n    for(File dir:direcs) {\n        GetAllFiles(dir.getPath(),fileList);\n    }\n    return fileList;\n    \n}\n</code></pre>\n<p>This is a simple recursive function that should give you all the files. extensions is a list of string that contains only those extensions which are accepted. Example extensions = [&quot;.txt&quot;,&quot;.docx&quot;] etc.</p>\n"},{"tags":[],"owner":{"account_id":13518167,"reputation":773,"user_id":9752209,"display_name":"Omkar T"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600686958,"creation_date":1600685687,"answer_id":63990855,"question_id":2056221,"body_markdown":"&gt; Lists all files with provided extensions,with option to scan\r\n&gt; subfolders (recursive)\r\n\r\n     \r\n \r\n\r\n     public static ArrayList&lt;File&gt; listFileTree(File dir,boolean recursive) {\r\n            if (null == dir || !dir.isDirectory()) {\r\n                return new ArrayList&lt;&gt;();\r\n            }\r\n            final Set&lt;File&gt; fileTree = new HashSet&lt;File&gt;();\r\n            FileFilter fileFilter = new FileFilter() {\r\n                private final String[] acceptedExtensions = new String[]{&quot;jpg&quot;, &quot;png&quot;, &quot;webp&quot;, &quot;jpeg&quot;};\r\n    \r\n                @Override\r\n                public boolean accept(File file) {\r\n                    if (file.isDirectory()) {\r\n                        return true;\r\n                    }\r\n                    for (String extension : acceptedExtensions) {\r\n                        if (file.getName().toLowerCase().endsWith(extension)) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                    return false;\r\n                }\r\n            };\r\n            File[] listed = dir.listFiles(fileFilter);\r\n            if(listed!=null){\r\n                for (File entry : listed) {\r\n                    if (entry.isFile()) {\r\n                        fileTree.add(entry);\r\n                    } else if(recursive){\r\n                        fileTree.addAll(listFileTree(entry,true));\r\n                    }\r\n                }\r\n            }\r\n            return new ArrayList&lt;&gt;(fileTree);\r\n        }","title":"Recursively list files in Java","body":"<blockquote>\n<p>Lists all files with provided extensions,with option to scan\nsubfolders (recursive)</p>\n</blockquote>\n<pre><code> public static ArrayList&lt;File&gt; listFileTree(File dir,boolean recursive) {\n        if (null == dir || !dir.isDirectory()) {\n            return new ArrayList&lt;&gt;();\n        }\n        final Set&lt;File&gt; fileTree = new HashSet&lt;File&gt;();\n        FileFilter fileFilter = new FileFilter() {\n            private final String[] acceptedExtensions = new String[]{&quot;jpg&quot;, &quot;png&quot;, &quot;webp&quot;, &quot;jpeg&quot;};\n\n            @Override\n            public boolean accept(File file) {\n                if (file.isDirectory()) {\n                    return true;\n                }\n                for (String extension : acceptedExtensions) {\n                    if (file.getName().toLowerCase().endsWith(extension)) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n        };\n        File[] listed = dir.listFiles(fileFilter);\n        if(listed!=null){\n            for (File entry : listed) {\n                if (entry.isFile()) {\n                    fileTree.add(entry);\n                } else if(recursive){\n                    fileTree.addAll(listFileTree(entry,true));\n                }\n            }\n        }\n        return new ArrayList&lt;&gt;(fileTree);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8621303,"reputation":1202,"user_id":6456129,"display_name":"Yessy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603091577,"creation_date":1602473118,"answer_id":64311326,"question_id":2056221,"body_markdown":"base on @Michael answer, add check whether listFiles return null\r\n\r\n    static Stream&lt;File&gt; files(File file) {\r\n        return file.isDirectory()\r\n                ? Optional.ofNullable(file.listFiles()).map(Stream::of).orElseGet(Stream::empty).flatMap(MainActivity::files)\r\n                : Stream.of(file);\r\n    }\r\n\r\nor use [Lightweight-Stream-API][1], which support Android5 &amp; Android6\r\n\r\n    static Stream&lt;File&gt; files(File f) {\r\n        return f.isDirectory() ? Stream.ofNullable(f.listFiles()).flatMap(MainActivity::files) : Stream.of(f);\r\n    }\r\n\r\n  [1]: https://github.com/aNNiMON/Lightweight-Stream-API","title":"Recursively list files in Java","body":"<p>base on @Michael answer, add check whether listFiles return null</p>\n<pre><code>static Stream&lt;File&gt; files(File file) {\n    return file.isDirectory()\n            ? Optional.ofNullable(file.listFiles()).map(Stream::of).orElseGet(Stream::empty).flatMap(MainActivity::files)\n            : Stream.of(file);\n}\n</code></pre>\n<p>or use <a href=\"https://github.com/aNNiMON/Lightweight-Stream-API\" rel=\"nofollow noreferrer\">Lightweight-Stream-API</a>, which support Android5 &amp; Android6</p>\n<pre><code>static Stream&lt;File&gt; files(File f) {\n    return f.isDirectory() ? Stream.ofNullable(f.listFiles()).flatMap(MainActivity::files) : Stream.of(f);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633654452,"creation_date":1633654452,"answer_id":69489309,"question_id":2056221,"body_markdown":"The accepted answer is poor because it can result in a resource leak.\r\n\r\n[Files.walk][1] is backed by [DirectoryStreams][2].\r\n\r\n&gt;  The returned stream encapsulates one or more DirectoryStreams. If timely disposal of file system resources is required, the try-with-resources construct should be used to ensure that the stream&#39;s close method is invoked after the stream operations are completed. Operating on a closed stream will result in an IllegalStateException.\r\n\r\nA DirectoryStream must be closed as specified in it&#39;s javadoc:\r\n\r\n&gt; A DirectoryStream is opened upon creation and is closed by invoking the close method. Closing a directory stream releases any resources associated with the stream. Failure to close the stream may result in a resource leak. The try-with-resources statement provides a useful construct to ensure that the stream is closed:\r\n```\r\nPath dir = ...\r\ntry (DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(dir)) {\r\n    for (Path entry: stream) {\r\n        ...\r\n    }\r\n}\r\n```  \r\n\r\nAs a result, the true answer is:\r\n```\r\ntry (Stream&lt;Path&gt; stream = Files.walk(Paths.get(path))) {\r\n    // Do something with the stream.\r\n    stream.filter(Files::isRegularFile)\r\n          .forEach(System.out::println);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/DirectoryStream.html","title":"Recursively list files in Java","body":"<p>The accepted answer is poor because it can result in a resource leak.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-\" rel=\"nofollow noreferrer\">Files.walk</a> is backed by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/DirectoryStream.html\" rel=\"nofollow noreferrer\">DirectoryStreams</a>.</p>\n<blockquote>\n<p>The returned stream encapsulates one or more DirectoryStreams. If timely disposal of file system resources is required, the try-with-resources construct should be used to ensure that the stream's close method is invoked after the stream operations are completed. Operating on a closed stream will result in an IllegalStateException.</p>\n</blockquote>\n<p>A DirectoryStream must be closed as specified in it's javadoc:</p>\n<blockquote>\n<p>A DirectoryStream is opened upon creation and is closed by invoking the close method. Closing a directory stream releases any resources associated with the stream. Failure to close the stream may result in a resource leak. The try-with-resources statement provides a useful construct to ensure that the stream is closed:</p>\n</blockquote>\n<pre><code>Path dir = ...\ntry (DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(dir)) {\n    for (Path entry: stream) {\n        ...\n    }\n}\n</code></pre>\n<p>As a result, the true answer is:</p>\n<pre><code>try (Stream&lt;Path&gt; stream = Files.walk(Paths.get(path))) {\n    // Do something with the stream.\n    stream.filter(Files::isRegularFile)\n          .forEach(System.out::println);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4767604,"reputation":251,"user_id":3853332,"display_name":"sklimkovitch"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1638465832,"creation_date":1638465832,"answer_id":70203909,"question_id":2056221,"body_markdown":"    import java.io.File;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tloopFiles(new File(&quot;C:\\\\Users\\\\serge.klimkovitch\\\\Documents&quot;));\r\n    \t}\r\n    \r\n    \tprivate static void loopFiles(File element) {\r\n    \t\tif (element.isDirectory()) {\r\n    \t\t\tfor (File currentFile : element.listFiles()) {\r\n    \t\t\t\tloopFiles(currentFile);\r\n    \t\t\t\tSystem.out.println(currentFile);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Recursively list files in Java","body":"<pre><code>import java.io.File;\n\npublic class Main {\n    public static void main(String[] args) {\n        loopFiles(new File(&quot;C:\\\\Users\\\\serge.klimkovitch\\\\Documents&quot;));\n    }\n\n    private static void loopFiles(File element) {\n        if (element.isDirectory()) {\n            for (File currentFile : element.listFiles()) {\n                loopFiles(currentFile);\n                System.out.println(currentFile);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14843263,"reputation":49,"user_id":10719341,"display_name":"Saravanan Andavar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643967254,"creation_date":1643675614,"answer_id":70934436,"question_id":2056221,"body_markdown":"```java\r\nList&lt;Path&gt; filePaths = Files\r\n    .find(Paths.get(dir), Integer.MAX_VALUE, (filePath, fileAttr) -&gt; fileAttr.isRegularFile() || fileAttr.isDirectory())\r\n    .collect(Collectors.toList());\r\n```\r\n\r\n`filePaths` will have files and folder list which can be iterated and proceed further.","title":"Recursively list files in Java","body":"<pre class=\"lang-java prettyprint-override\"><code>List&lt;Path&gt; filePaths = Files\n    .find(Paths.get(dir), Integer.MAX_VALUE, (filePath, fileAttr) -&gt; fileAttr.isRegularFile() || fileAttr.isDirectory())\n    .collect(Collectors.toList());\n</code></pre>\n<p><code>filePaths</code> will have files and folder list which can be iterated and proceed further.</p>\n"}],"owner":{"account_id":39297,"reputation":16022,"user_id":113247,"accept_rate":69,"display_name":"Quintin Par"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381972,"favorite_count":0,"down_vote_count":1,"up_vote_count":344,"accepted_answer_id":24006711,"answer_count":30,"score":343,"last_activity_date":1665003543,"creation_date":1263382172,"question_id":2056221,"body_markdown":"How do I recursively list all files under a directory in Java? Does the framework provide any utility?   \r\n\r\nI saw a lot of hacky implementations. But none from the framework or [nio][1]  \r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/nio/package-summary.html","title":"Recursively list files in Java","body":"<p>How do I recursively list all files under a directory in Java? Does the framework provide any utility?   </p>\n\n<p>I saw a lot of hacky implementations. But none from the framework or <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/nio/package-summary.html\" rel=\"noreferrer\">nio</a>  </p>\n"},{"tags":["java","javac"],"answers":[{"tags":[],"owner":{"account_id":21322574,"reputation":51,"user_id":15695480,"display_name":"Programmer AHN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621707425,"creation_date":1621706431,"answer_id":67652672,"question_id":67652202,"body_markdown":"Run the program like this :\r\n\r\n    java algs4.Ortho text_1.txt &lt; text_2.txt\r\nLet me know if this worked for you or no.\r\n","title":"Compiling and running a simple Java program using java-algs4","body":"<p>Run the program like this :</p>\n<pre><code>java algs4.Ortho text_1.txt &lt; text_2.txt\n</code></pre>\n<p>Let me know if this worked for you or no.</p>\n"}],"owner":{"account_id":18254132,"reputation":253,"user_id":13288479,"display_name":"Occhima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1665003307,"creation_date":1621703474,"question_id":67652202,"body_markdown":"I&#39;m learning Java through the this Princeton course https://algs4.cs.princeton.edu/home/. I&#39;ve create a simple Java program called Ortho.java using the Java provided by the course (that I installed using this tutorial: https://algs4.cs.princeton.edu/linux/). The program receives two .txt input files, it reads those as a list of strings, and print their first value.\r\n\r\nHere&#39;s the program:\r\n\r\n```java \r\npackage edu.princeton.cs.algs4;\r\nimport java.util.Arrays;\r\n\r\nclass Ortho{\r\n\r\n    public static void main(String args[]){     \r\n\r\n        // Read files from input and print statements\r\n        In in = new In(args[0]);\r\n        String[] list = in.readAllStrings(); //parse the first text input\r\n\r\n        while (!StdIn.isEmpty()) {\r\n            String key = StdIn.readString();\r\n            System.out.print(key);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nI run this command on the shell to compile my program, this creates a file called Ortho.class:\r\n\r\n`javac-algs4 Ortho.java`\r\n\r\nThis is the command I use to run the program: \r\n\r\n`java-algs4 Ortho.class text_1.txt &lt; text_2.txt`\r\n\r\nBut I always get this error:\r\n\r\n```java\r\nError: Could not find or load main class Ortho.class\r\nCaused by: java.lang.ClassNotFoundException: Ortho.class\r\n```\r\n\r\nWhat do I need to do to properly compile and run this program with the algs4 Java lib provided by the course?\r\n\r\nThis is my project structure:\r\n\r\n```\r\ndir/\r\n  Ortho.java\r\n  Ortho.class\r\n  text_1.txt\r\n  text_2.txt\r\n\r\n```\r\n","title":"Compiling and running a simple Java program using java-algs4","body":"<p>I'm learning Java through the this Princeton course <a href=\"https://algs4.cs.princeton.edu/home/\" rel=\"nofollow noreferrer\">https://algs4.cs.princeton.edu/home/</a>. I've create a simple Java program called Ortho.java using the Java provided by the course (that I installed using this tutorial: <a href=\"https://algs4.cs.princeton.edu/linux/\" rel=\"nofollow noreferrer\">https://algs4.cs.princeton.edu/linux/</a>). The program receives two .txt input files, it reads those as a list of strings, and print their first value.</p>\n<p>Here's the program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package edu.princeton.cs.algs4;\nimport java.util.Arrays;\n\nclass Ortho{\n\n    public static void main(String args[]){     \n\n        // Read files from input and print statements\n        In in = new In(args[0]);\n        String[] list = in.readAllStrings(); //parse the first text input\n\n        while (!StdIn.isEmpty()) {\n            String key = StdIn.readString();\n            System.out.print(key);\n        }\n    }\n\n}\n</code></pre>\n<p>I run this command on the shell to compile my program, this creates a file called Ortho.class:</p>\n<p><code>javac-algs4 Ortho.java</code></p>\n<p>This is the command I use to run the program:</p>\n<p><code>java-algs4 Ortho.class text_1.txt &lt; text_2.txt</code></p>\n<p>But I always get this error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Error: Could not find or load main class Ortho.class\nCaused by: java.lang.ClassNotFoundException: Ortho.class\n</code></pre>\n<p>What do I need to do to properly compile and run this program with the algs4 Java lib provided by the course?</p>\n<p>This is my project structure:</p>\n<pre><code>dir/\n  Ortho.java\n  Ortho.class\n  text_1.txt\n  text_2.txt\n\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1664972187,"post_id":73960146,"comment_id":130589649,"body_markdown":"&quot;I ask my clients who are using this application to copy this file into their mobile devices in the DOWNLOAD folder so that my Android App can access and read this file for important data&quot; -- you will not have access to that file on Android 11+. &quot;How to find where they have copied this file and its path using JAVA/KOTLIN code?&quot; -- use `ACTION_OPEN_DOCUMENT` / `ActivityResultContracts.OpenDocument` and let the user choose the file. Not only will you have access to it, but you do not need to guess at its location.","body":"&quot;I ask my clients who are using this application to copy this file into their mobile devices in the DOWNLOAD folder so that my Android App can access and read this file for important data&quot; -- you will not have access to that file on Android 11+. &quot;How to find where they have copied this file and its path using JAVA/KOTLIN code?&quot; -- use <code>ACTION_OPEN_DOCUMENT</code> / <code>ActivityResultContracts.OpenDocument</code> and let the user choose the file. Not only will you have access to it, but you do not need to guess at its location."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1664972237,"post_id":73960146,"comment_id":130589664,"body_markdown":"I would simply call that a bad app design. If the file is not too large I would consider your Windows app to display a QR code with a special scheme that is registered by your app like `myapp://host/data123`. Then scanning the QR code and executing the link will open your app and you can process the URL and extract the data.","body":"I would simply call that a bad app design. If the file is not too large I would consider your Windows app to display a QR code with a special scheme that is registered by your app like <code>myapp:&#47;&#47;host&#47;data123</code>. Then scanning the QR code and executing the link will open your app and you can process the URL and extract the data."}],"answers":[{"tags":[],"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665002805,"creation_date":1664972897,"answer_id":73960366,"question_id":73960146,"body_markdown":"UDATE: on Android getting the application directory can be achieved as follows:\r\n\r\n    Context.getApplicationInfo().dataDir\r\n\r\n**Leaving the Windows OS part below for the sake of comment history tracking.**\r\n \r\n\r\nThe files your app writes need to have predefined location on every OS your java app works. There are System properties in java you can use to refer to OS specific location. For example to get the current working directory your application is running in:\r\n\r\n    public class JavaApplication {\r\n      public static void main(String[] args) {\r\n        System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;));\r\n      }\r\n    }\r\n\r\nFor getting the location where applications are meant to store their data on Windows you can use one of the following environment variables: \r\n\r\n 1. `%PROGRAMDATA%`  \r\n 2. `%ALLUSERSPROFILE%`\r\n\r\nPersonally, I think that %PROGRAMDATA% is a better fit.\r\n\r\nYou can get the value of the environment variable like this:\r\n\r\n    String programDataDir = System.getenv(&quot;PROGRAMDATA&quot;);\r\n\r\n\r\n","title":"How to find where a particular file is located using JAVA/KOTLIN code?","body":"<p>UDATE: on Android getting the application directory can be achieved as follows:</p>\n<pre><code>Context.getApplicationInfo().dataDir\n</code></pre>\n<p><strong>Leaving the Windows OS part below for the sake of comment history tracking.</strong></p>\n<p>The files your app writes need to have predefined location on every OS your java app works. There are System properties in java you can use to refer to OS specific location. For example to get the current working directory your application is running in:</p>\n<pre><code>public class JavaApplication {\n  public static void main(String[] args) {\n    System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;));\n  }\n}\n</code></pre>\n<p>For getting the location where applications are meant to store their data on Windows you can use one of the following environment variables:</p>\n<ol>\n<li><code>%PROGRAMDATA%</code></li>\n<li><code>%ALLUSERSPROFILE%</code></li>\n</ol>\n<p>Personally, I think that %PROGRAMDATA% is a better fit.</p>\n<p>You can get the value of the environment variable like this:</p>\n<pre><code>String programDataDir = System.getenv(&quot;PROGRAMDATA&quot;);\n</code></pre>\n"}],"owner":{"account_id":12160867,"reputation":11,"user_id":8878450,"display_name":"SKDM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1665002805,"creation_date":1664971898,"question_id":73960146,"body_markdown":"My Windows app creates a &quot;foo.txt&quot; file. I ask my clients who are using this application to copy this file into their mobile devices in the DOWNLOAD folder so that my Android App can access and read this file for important data. But many of them put this in any of DOCUMENTS, PICTURES, MUSIC folders or into the REMOVABLE SD CARD. How to find where they have copied this file and its path using JAVA/KOTLIN code?","title":"How to find where a particular file is located using JAVA/KOTLIN code?","body":"<p>My Windows app creates a &quot;foo.txt&quot; file. I ask my clients who are using this application to copy this file into their mobile devices in the DOWNLOAD folder so that my Android App can access and read this file for important data. But many of them put this in any of DOCUMENTS, PICTURES, MUSIC folders or into the REMOVABLE SD CARD. How to find where they have copied this file and its path using JAVA/KOTLIN code?</p>\n"},{"tags":["python","java","jar","subprocess"],"comments":[{"owner":{"account_id":20123120,"reputation":1074,"user_id":14757226,"display_name":"saquintes"},"score":0,"creation_date":1665003030,"post_id":73966161,"comment_id":130600370,"body_markdown":"I assume you&#39;ve tried running the same commands you are trying to run through python on the command line and they work?","body":"I assume you&#39;ve tried running the same commands you are trying to run through python on the command line and they work?"},{"owner":{"account_id":24105047,"reputation":71,"user_id":20138585,"display_name":"kevkev9957"},"score":0,"creation_date":1665006698,"post_id":73966161,"comment_id":130601275,"body_markdown":"@saquintes - Does not work on the command line either.","body":"@saquintes - Does not work on the command line either."},{"owner":{"account_id":20123120,"reputation":1074,"user_id":14757226,"display_name":"saquintes"},"score":0,"creation_date":1665387960,"post_id":73966161,"comment_id":130679740,"body_markdown":"Gotcha.  So no really an issue with Python or subprocess, but a problem with your jar file?","body":"Gotcha.  So no really an issue with Python or subprocess, but a problem with your jar file?"}],"owner":{"account_id":24105047,"reputation":71,"user_id":20138585,"display_name":"kevkev9957"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665002744,"creation_date":1665002744,"question_id":73966161,"body_markdown":"I&#39;m on a Windows 10 machine, using a third party jar file, ccmcl.jar, from https://github.com/usnistgov/combinatorial-testing-tools/tree/master/CCM%20Command%20Line%20Tool. I have a python script that executes:  \r\n\r\n    p1 = subprocess.Popen([&#39;timeout&#39;, &#39;30&#39;, &#39;java&#39;, &#39;-jar&#39;, &#39;ccmcl.jar&#39;, &#39;-A&#39;, &#39;my_text_file.txt&#39;, &#39;-I&#39;, &#39;my_csv_file.csv&#39;, &#39;-T&#39;, &#39;3&#39;], stdout=subprocess.PIPE)\r\n    p1.wait()\r\n    idc_acc_array_content, err = p1.communicate()\r\n I get the following error:  \r\n\r\n    ERROR: Invalid syntax. Default option is not allowed more than &#39;1&#39; time(s).\r\n    Type &quot;TIMEOUT /?&quot; for usage.\r\nThis results in `idc_acc_array = b&#39;&#39;`. The usage is correct for that jar file and all files referenced are in the current working directory. If I remove the &quot;timeout&quot; portion of the subprocess line I have:  \r\n\r\n    p1 = subprocess.Popen([&#39;java&#39;, &#39;-jar&#39;, &#39;ccmcl.jar&#39;, &#39;-A&#39;, &#39;my_text_file.txt&#39;, &#39;-I&#39;, &#39;my_csv_file.csv&#39;, &#39;-T&#39;, &#39;3&#39;], stdout=subprocess.PIPE)\r\n    p1.wait()\r\n    idc_acc_array_content, err = p1.communicate()\r\nAgain, I get that `idc_acc_array_content = b&#39;&#39;`, and the following error:  \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/jfree/data/xy/XYDataset\r\n            at java.base/java.lang.Class.forName0(Native Method)\r\n            at java.base/java.lang.Class.forName(Class.java:398)\r\n            at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:56)\r\n    Caused by: java.lang.ClassNotFoundException: org.jfree.data.xy.XYDataset\r\n            at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n            ... 3 more\r\n    \r\nAm I incorrect in thinking this jar file should be usable &quot;out of the box&quot;? Note that this is what I have in terms of my Java version:  \r\n\r\n    $ java -version\r\n    openjdk version &quot;11.0.15&quot; 2022-04-19\r\n    OpenJDK Runtime Environment Temurin-11.0.15+10 (build 11.0.15+10)\r\n    OpenJDK 64-Bit Server VM Temurin-11.0.15+10 (build 11.0.15+10, mixed mode)","title":"Python subprocess.Popen not working for jar file","body":"<p>I'm on a Windows 10 machine, using a third party jar file, ccmcl.jar, from <a href=\"https://github.com/usnistgov/combinatorial-testing-tools/tree/master/CCM%20Command%20Line%20Tool\" rel=\"nofollow noreferrer\">https://github.com/usnistgov/combinatorial-testing-tools/tree/master/CCM%20Command%20Line%20Tool</a>. I have a python script that executes:</p>\n<pre><code>p1 = subprocess.Popen(['timeout', '30', 'java', '-jar', 'ccmcl.jar', '-A', 'my_text_file.txt', '-I', 'my_csv_file.csv', '-T', '3'], stdout=subprocess.PIPE)\np1.wait()\nidc_acc_array_content, err = p1.communicate()\n</code></pre>\n<p>I get the following error:</p>\n<pre><code>ERROR: Invalid syntax. Default option is not allowed more than '1' time(s).\nType &quot;TIMEOUT /?&quot; for usage.\n</code></pre>\n<p>This results in <code>idc_acc_array = b''</code>. The usage is correct for that jar file and all files referenced are in the current working directory. If I remove the &quot;timeout&quot; portion of the subprocess line I have:</p>\n<pre><code>p1 = subprocess.Popen(['java', '-jar', 'ccmcl.jar', '-A', 'my_text_file.txt', '-I', 'my_csv_file.csv', '-T', '3'], stdout=subprocess.PIPE)\np1.wait()\nidc_acc_array_content, err = p1.communicate()\n</code></pre>\n<p>Again, I get that <code>idc_acc_array_content = b''</code>, and the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/jfree/data/xy/XYDataset\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:398)\n        at org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader.main(JarRsrcLoader.java:56)\nCaused by: java.lang.ClassNotFoundException: org.jfree.data.xy.XYDataset\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        ... 3 more\n</code></pre>\n<p>Am I incorrect in thinking this jar file should be usable &quot;out of the box&quot;? Note that this is what I have in terms of my Java version:</p>\n<pre><code>$ java -version\nopenjdk version &quot;11.0.15&quot; 2022-04-19\nOpenJDK Runtime Environment Temurin-11.0.15+10 (build 11.0.15+10)\nOpenJDK 64-Bit Server VM Temurin-11.0.15+10 (build 11.0.15+10, mixed mode)\n</code></pre>\n"},{"tags":["java","io","buffer"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1664975457,"post_id":73960223,"comment_id":130590870,"body_markdown":"Why should the documentation of **FileChannel** have relevance for the **Pipe.SinkChannel**? On the other hand, you didn’t cite the FileChannel’s documentation, contrary to what you said. When you read [`WritableByteChannel.write`’s](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/channels/WritableByteChannel.html#write(java.nio.ByteBuffer)) *completely*, you may notice that it says: “*Some types of channels, depending upon their state, may write only some of the bytes or possibly none at all.*”","body":"Why should the documentation of <b>FileChannel</b> have relevance for the <b>Pipe.SinkChannel</b>? On the other hand, you didn’t cite the FileChannel’s documentation, contrary to what you said. When you read <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/channels/WritableByteChannel.html#write(java.nio.ByteBuffer)\" rel=\"nofollow noreferrer\"><code>WritableByteChannel.write</code>’s</a> <i>completely</i>, you may notice that it says: “<i>Some types of channels, depending upon their state, may write only some of the bytes or possibly none at all.</i>”"},{"owner":{"account_id":12506291,"reputation":565,"user_id":9103039,"display_name":"Starnec"},"score":0,"creation_date":1664975743,"post_id":73960223,"comment_id":130591004,"body_markdown":"So does the sinkChannel write all the remaining bytes or not ?","body":"So does the sinkChannel write all the remaining bytes or not ?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1664975908,"post_id":73960223,"comment_id":130591071,"body_markdown":"That doesn’t mean that you always need a `while (writeBuffer.hasRemaining()) { … }` loop. If you implement the loop correctly, i.e. using [`compact()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html#compact()) instead of `flip` after the write, there’s no problem if not all bytes have been written. In your case, you have to skip the `writeBuffer.put(currentTime.getBytes())` if there is not enough remaining space (which would implicitly write again).","body":"That doesn’t mean that you always need a <code>while (writeBuffer.hasRemaining()) { … }</code> loop. If you implement the loop correctly, i.e. using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/ByteBuffer.html#compact()\" rel=\"nofollow noreferrer\"><code>compact()</code></a> instead of <code>flip</code> after the write, there’s no problem if not all bytes have been written. In your case, you have to skip the <code>writeBuffer.put(currentTime.getBytes())</code> if there is not enough remaining space (which would implicitly write again)."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1664976008,"post_id":73960223,"comment_id":130591101,"body_markdown":"Since the documentation of `SinkChannel` does not specify anything, I’d not assume that it makes any guarantees. But why should it matter? If you implement the loop correctly, there’s no harm.","body":"Since the documentation of <code>SinkChannel</code> does not specify anything, I’d not assume that it makes any guarantees. But why should it matter? If you implement the loop correctly, there’s no harm."}],"answers":[{"tags":[],"owner":{"account_id":12506291,"reputation":565,"user_id":9103039,"display_name":"Starnec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665002249,"creation_date":1665002249,"answer_id":73966089,"question_id":73960223,"body_markdown":"After investigating a little deeper I found that the abstract class **SinkChannel** that is a part of the class **Pipe** is implemented by a class named **SinkChannelImpl**. \r\n\r\nIn the latter class, a **SocketChannel** object is used as a channel, and the write method is implemented in the **SocketChannelImpl** class since\r\n**SocketChannel** is an abstract class too. \r\n\r\nBottom line is that when I call the write method of the SinkChannel I am actually calling the write method of the SocketChannelImpl class.\r\n\r\nUnfortunately, the documentation does not really specify if all of the remaining bytes will be written to the channel or not, quote: &quot;*Some types of channels, depending upon their state, may write only some of the bytes or possibly none at all*&quot;, also the code is obfuscated and will take some time to know how it works.\r\n\r\nSo I will be using the **compact** method after the write so in case some of the bytes are not written they will be moved to the **beginning** of the buffer.","title":"Is hasRemaining method really necessary while reading from the source channel of Pipe object?","body":"<p>After investigating a little deeper I found that the abstract class <strong>SinkChannel</strong> that is a part of the class <strong>Pipe</strong> is implemented by a class named <strong>SinkChannelImpl</strong>.</p>\n<p>In the latter class, a <strong>SocketChannel</strong> object is used as a channel, and the write method is implemented in the <strong>SocketChannelImpl</strong> class since\n<strong>SocketChannel</strong> is an abstract class too.</p>\n<p>Bottom line is that when I call the write method of the SinkChannel I am actually calling the write method of the SocketChannelImpl class.</p>\n<p>Unfortunately, the documentation does not really specify if all of the remaining bytes will be written to the channel or not, quote: &quot;<em>Some types of channels, depending upon their state, may write only some of the bytes or possibly none at all</em>&quot;, also the code is obfuscated and will take some time to know how it works.</p>\n<p>So I will be using the <strong>compact</strong> method after the write so in case some of the bytes are not written they will be moved to the <strong>beginning</strong> of the buffer.</p>\n"}],"owner":{"account_id":12506291,"reputation":565,"user_id":9103039,"display_name":"Starnec"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73966089,"answer_count":1,"score":1,"last_activity_date":1665002249,"creation_date":1664972274,"question_id":73960223,"body_markdown":"The **hasRemaining** method of the **ByteBuffer** class in Java.NIO package returns whether there are any elements between the current position and the limit. \r\n\r\nAt the same time, the documentation of the **write** method of **FileChannel** class says &quot;*An attempt is made to write up to r bytes to the channel, where r is the number of bytes remaining in the buffer, that is, src.remaining(), at the moment this method is invoked*&quot;\r\n\r\nThis is my **main method** code where I am using the **sink channel** and **source channel** of **pipes** in java NIO :\r\n\r\n    try {\r\n                Pipe pipe = Pipe.open();\r\n                Runnable writer = () -&gt; {\r\n                    try {\r\n                        Pipe.SinkChannel sinkChannel = pipe.sink();\r\n                        ByteBuffer writeBuffer = ByteBuffer.allocate(100);\r\n    \r\n                        for (int i = 0; i &lt; 10; i++) {\r\n                            String currentTime = &quot;The current time is &quot; + System.currentTimeMillis();\r\n                            writeBuffer.put(currentTime.getBytes());\r\n                            writeBuffer.flip();\r\n    \r\n                            while (writeBuffer.hasRemaining()) {\r\n                                int writtenBytes = sinkChannel.write(writeBuffer);\r\n                                System.out.println(&quot;Channel is writing &quot; + writtenBytes + &quot; bytes&quot;);\r\n                            }\r\n    \r\n                            writeBuffer.flip();\r\n                            Thread.sleep(150);\r\n                        }\r\n    \r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                };\r\n    \r\n                Runnable reader = () -&gt; {\r\n                    try {\r\n                        Pipe.SourceChannel sourceChannel = pipe.source();\r\n                        ByteBuffer readBuffer = ByteBuffer.allocate(100);\r\n    \r\n                        for (int i = 0; i &lt; 10; i++) {\r\n                            int bytesRead = sourceChannel.read(readBuffer); \r\n                            byte[] stringRead = new byte[bytesRead];\r\n    \r\n                            readBuffer.flip();\r\n                            readBuffer.get(stringRead);\r\n                            readBuffer.flip();\r\n    \r\n                            System.out.println(&quot;Buffer reading &#39;&quot; + new String(stringRead) + &quot;&#39;&quot;);\r\n                            Thread.sleep(150);\r\n                        }\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                };\r\n    \r\n                new Thread(writer).start();\r\n                new Thread(reader).start();\r\n\r\n    } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\nI would like to know if the **hasRemaining** is really mandatory or not and when should I use it.","title":"Is hasRemaining method really necessary while reading from the source channel of Pipe object?","body":"<p>The <strong>hasRemaining</strong> method of the <strong>ByteBuffer</strong> class in Java.NIO package returns whether there are any elements between the current position and the limit.</p>\n<p>At the same time, the documentation of the <strong>write</strong> method of <strong>FileChannel</strong> class says &quot;<em>An attempt is made to write up to r bytes to the channel, where r is the number of bytes remaining in the buffer, that is, src.remaining(), at the moment this method is invoked</em>&quot;</p>\n<p>This is my <strong>main method</strong> code where I am using the <strong>sink channel</strong> and <strong>source channel</strong> of <strong>pipes</strong> in java NIO :</p>\n<pre><code>try {\n            Pipe pipe = Pipe.open();\n            Runnable writer = () -&gt; {\n                try {\n                    Pipe.SinkChannel sinkChannel = pipe.sink();\n                    ByteBuffer writeBuffer = ByteBuffer.allocate(100);\n\n                    for (int i = 0; i &lt; 10; i++) {\n                        String currentTime = &quot;The current time is &quot; + System.currentTimeMillis();\n                        writeBuffer.put(currentTime.getBytes());\n                        writeBuffer.flip();\n\n                        while (writeBuffer.hasRemaining()) {\n                            int writtenBytes = sinkChannel.write(writeBuffer);\n                            System.out.println(&quot;Channel is writing &quot; + writtenBytes + &quot; bytes&quot;);\n                        }\n\n                        writeBuffer.flip();\n                        Thread.sleep(150);\n                    }\n\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            };\n\n            Runnable reader = () -&gt; {\n                try {\n                    Pipe.SourceChannel sourceChannel = pipe.source();\n                    ByteBuffer readBuffer = ByteBuffer.allocate(100);\n\n                    for (int i = 0; i &lt; 10; i++) {\n                        int bytesRead = sourceChannel.read(readBuffer); \n                        byte[] stringRead = new byte[bytesRead];\n\n                        readBuffer.flip();\n                        readBuffer.get(stringRead);\n                        readBuffer.flip();\n\n                        System.out.println(&quot;Buffer reading '&quot; + new String(stringRead) + &quot;'&quot;);\n                        Thread.sleep(150);\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            };\n\n            new Thread(writer).start();\n            new Thread(reader).start();\n\n} catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>I would like to know if the <strong>hasRemaining</strong> is really mandatory or not and when should I use it.</p>\n"},{"tags":["java","arrays","algorithm","computer-science"],"comments":[{"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"score":0,"creation_date":1595575538,"post_id":63068610,"comment_id":111528036,"body_markdown":"Utilize a tree. You can go through the array once, put each element in a tree. Each node of the tree should hold the value + mean of the path of values to reach the node. In the end, all paths to the leaves with mean = S are the solution. Runtime O(n log n).","body":"Utilize a tree. You can go through the array once, put each element in a tree. Each node of the tree should hold the value + mean of the path of values to reach the node. In the end, all paths to the leaves with mean = S are the solution. Runtime O(n log n)."},{"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"score":0,"creation_date":1595575643,"post_id":63068610,"comment_id":111528091,"body_markdown":"I’m voting to close this question because it [belongs on Software Recommendations.SE, as per this meta](https://meta.stackexchange.com/questions/322252/where-can-i-ask-for-algorithm-recommendations).","body":"I’m voting to close this question because it <a href=\"https://meta.stackexchange.com/questions/322252/where-can-i-ask-for-algorithm-recommendations\">belongs on Software Recommendations.SE, as per this meta</a>."},{"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"score":0,"creation_date":1595576610,"post_id":63068610,"comment_id":111528573,"body_markdown":"It is worth to specify - what do you mean by `subsequence`. Usually continuous pieces of array are called subarrays while subsequence might be non-continuous. Your code addresses continuous subarrays.","body":"It is worth to specify - what do you mean by <code>subsequence</code>. Usually continuous pieces of array are called subarrays while subsequence might be non-continuous. Your code addresses continuous subarrays."},{"owner":{"account_id":14190268,"reputation":505,"user_id":11228095,"display_name":"Ekesh Kumar"},"score":0,"creation_date":1595627711,"post_id":63068610,"comment_id":111551199,"body_markdown":"What&#39;s the source of this problem?","body":"What&#39;s the source of this problem?"},{"owner":{"account_id":1457031,"reputation":1235,"user_id":1372366,"accept_rate":75,"display_name":"selman"},"score":0,"creation_date":1597070081,"post_id":63068610,"comment_id":112006033,"body_markdown":"@Polygnome  Can you elaborate on &quot;mean of the path of values to reach the node&quot;?\nFor each node there should be many paths reaching to self so many mean values right?","body":"@Polygnome  Can you elaborate on &quot;mean of the path of values to reach the node&quot;? For each node there should be many paths reaching to self so many mean values right?"},{"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"score":0,"creation_date":1597070138,"post_id":63068610,"comment_id":112006062,"body_markdown":"@selman https://en.wikipedia.org/wiki/Arithmetic_mean In a *tree*, there is exactly one path from the root to each node. Otherwise, its not a tree.","body":"@selman <a href=\"https://en.wikipedia.org/wiki/Arithmetic_mean\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Arithmetic_mean</a> In a <i>tree</i>, there is exactly one path from the root to each node. Otherwise, its not a tree."},{"owner":{"account_id":1457031,"reputation":1235,"user_id":1372366,"accept_rate":75,"display_name":"selman"},"score":0,"creation_date":1597070343,"post_id":63068610,"comment_id":112006176,"body_markdown":"@Polygnome  \nAbout &quot;Each node of the tree should hold the value + mean of the path of values to reach the node&quot; : Each node has many paths reaching to it. Given X=[5,3,6,2] and a Node holds the value 6,there are many paths reaching to that node. For instance one is [5,3,6] other is [3,6] and another is just [6]. \nSo how does a node holds all the arithmetic mean values for those?","body":"@Polygnome   About &quot;Each node of the tree should hold the value + mean of the path of values to reach the node&quot; : Each node has many paths reaching to it. Given X=[5,3,6,2] and a Node holds the value 6,there are many paths reaching to that node. For instance one is [5,3,6] other is [3,6] and another is just [6].  So how does a node holds all the arithmetic mean values for those?"},{"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"score":0,"creation_date":1597070478,"post_id":63068610,"comment_id":112006240,"body_markdown":"@selman By definition, a node in a tree can only be reached by one path from the node. Otherwise, its not a tree, but a directed graph.","body":"@selman By definition, a node in a tree can only be reached by one path from the node. Otherwise, its not a tree, but a directed graph."},{"owner":{"account_id":1457031,"reputation":1235,"user_id":1372366,"accept_rate":75,"display_name":"selman"},"score":0,"creation_date":1597070888,"post_id":63068610,"comment_id":112006459,"body_markdown":"@Polygnome \nin this case utilizing a tree is not a solution for this problem.","body":"@Polygnome  in this case utilizing a tree is not a solution for this problem."}],"answers":[{"tags":[],"owner":{"account_id":7981773,"reputation":1199,"user_id":6022817,"display_name":"Cătălin Fr&#226;ncu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1595577464,"creation_date":1595577464,"answer_id":63069299,"question_id":63068610,"body_markdown":"I will use 1-based indexing for this algorithm. This feels like one of those cases where it is OK.\r\n\r\nLet `P` be the partial sums array, that is `P[0] = 0` and `P[i] = X[1] + ... + X[i]`. Furthermore, let `Q[i] = P[i] - S * i`. For example,\r\n\r\n    i     0   1   2   3   4   5   6   7\r\n    -----------------------------------\r\n    X         5   3   6   2   5   5   2\r\n    P     0   5   8  14  16  21  26  28\r\n    Q     0   1   0   2   0   1   2   0\r\n\r\nWhat does it mean that the average of `[i,j]` (including `i` and `j`) is `S`? With the notations above, it can be written as\r\n\r\n    (P[j] - P[i - 1]) / (j - i + 1) = S     ==&gt;\r\n    P[j] - P[i - 1] = S * (j - i + 1)       ==&gt;\r\n    P[j] - P[i - 1] = S * j - S * (i - 1)   ==&gt;\r\n    P[j] - S * j = P[i - 1] - S * (i - 1)   ==&gt;\r\n    Q[j] = Q[i - 1]\r\n\r\nThis means that any pair of equal values in `Q` corresponds to a range of average `S`. For example, the two values of 1 in `Q` correspond to the range [3, 6, 2, 5]. The four values of 0 in `Q` give rise to six ranges of average `S=4`: [5,3], [6,2], [5,5,2], [5,3,6,2], [6,2,5,5,2] and [5,3,6,2,5,5,2].\r\n\r\nTherefore the following algorithm also runs in `O(n log n)`, the same as @Polygnome&#39;s comment, but should be considerably easier to implement:\r\n\r\n* calculate Q;\r\n* sort Q;\r\n* for every batch of `k` equal values in `Q`, add `k * (k - 1) / 2` to the answer;\r\n* return the answer.\r\n\r\nThis can be reduced to `O(n)` using a hash table or if the range of the values in `Q` is small enough to allow counting sort.","title":"Finding Arithmetic Mean of Subarrays Efficiently in an Array","body":"<p>I will use 1-based indexing for this algorithm. This feels like one of those cases where it is OK.</p>\n<p>Let <code>P</code> be the partial sums array, that is <code>P[0] = 0</code> and <code>P[i] = X[1] + ... + X[i]</code>. Furthermore, let <code>Q[i] = P[i] - S * i</code>. For example,</p>\n<pre><code>i     0   1   2   3   4   5   6   7\n-----------------------------------\nX         5   3   6   2   5   5   2\nP     0   5   8  14  16  21  26  28\nQ     0   1   0   2   0   1   2   0\n</code></pre>\n<p>What does it mean that the average of <code>[i,j]</code> (including <code>i</code> and <code>j</code>) is <code>S</code>? With the notations above, it can be written as</p>\n<pre><code>(P[j] - P[i - 1]) / (j - i + 1) = S     ==&gt;\nP[j] - P[i - 1] = S * (j - i + 1)       ==&gt;\nP[j] - P[i - 1] = S * j - S * (i - 1)   ==&gt;\nP[j] - S * j = P[i - 1] - S * (i - 1)   ==&gt;\nQ[j] = Q[i - 1]\n</code></pre>\n<p>This means that any pair of equal values in <code>Q</code> corresponds to a range of average <code>S</code>. For example, the two values of 1 in <code>Q</code> correspond to the range [3, 6, 2, 5]. The four values of 0 in <code>Q</code> give rise to six ranges of average <code>S=4</code>: [5,3], [6,2], [5,5,2], [5,3,6,2], [6,2,5,5,2] and [5,3,6,2,5,5,2].</p>\n<p>Therefore the following algorithm also runs in <code>O(n log n)</code>, the same as @Polygnome's comment, but should be considerably easier to implement:</p>\n<ul>\n<li>calculate Q;</li>\n<li>sort Q;</li>\n<li>for every batch of <code>k</code> equal values in <code>Q</code>, add <code>k * (k - 1) / 2</code> to the answer;</li>\n<li>return the answer.</li>\n</ul>\n<p>This can be reduced to <code>O(n)</code> using a hash table or if the range of the values in <code>Q</code> is small enough to allow counting sort.</p>\n"},{"tags":[],"owner":{"account_id":2318302,"reputation":23679,"user_id":2034787,"accept_rate":53,"display_name":"גלעד ברקן"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1595604361,"creation_date":1595604361,"answer_id":63076661,"question_id":63068610,"body_markdown":"There&#39;s a trick here to obtain an `O(n)` algorithm:\r\n\r\n    average = (A[i] + A[i+1] ... + A[j]) / (j - i + 1)\r\n    \r\n    average * (j - i + 1) = A[i] + A[i+1]...+ A[j]\r\n    \r\nNotice that since `average` is now multiplied by exactly the number of elements on the right side of the equation, we can subtract the average *once* for each one of the elements:\r\n\r\n    0 = (A[i]-average) + (A[i+1]-average) ... + (A[j]-average)\r\n    \r\nFinding contiguous sums that equal zero can be done by examining prefix sums. For each rightmost element (`A[j]-average`), we want to add the number of times we&#39;ve seen the same prefix sum before. We make an adjustment for prefix sum 0 so as to count the full length of the array prefix if applicable:\r\n\r\n    2 1 3, avg 2\r\n    \r\n    2-2 = 0    ps = 0    count = 1 (1 for the full array prefix)\r\n    1-2 = -1   ps = -1\r\n    3-2 = 1    ps = 0    count = 2 (1 for index 0 and 1 for the full array prefix)\r\n\r\n                         total = 3","title":"Finding Arithmetic Mean of Subarrays Efficiently in an Array","body":"<p>There's a trick here to obtain an <code>O(n)</code> algorithm:</p>\n<pre><code>average = (A[i] + A[i+1] ... + A[j]) / (j - i + 1)\n\naverage * (j - i + 1) = A[i] + A[i+1]...+ A[j]\n</code></pre>\n<p>Notice that since <code>average</code> is now multiplied by exactly the number of elements on the right side of the equation, we can subtract the average <em>once</em> for each one of the elements:</p>\n<pre><code>0 = (A[i]-average) + (A[i+1]-average) ... + (A[j]-average)\n</code></pre>\n<p>Finding contiguous sums that equal zero can be done by examining prefix sums. For each rightmost element (<code>A[j]-average</code>), we want to add the number of times we've seen the same prefix sum before. We make an adjustment for prefix sum 0 so as to count the full length of the array prefix if applicable:</p>\n<pre><code>2 1 3, avg 2\n\n2-2 = 0    ps = 0    count = 1 (1 for the full array prefix)\n1-2 = -1   ps = -1\n3-2 = 1    ps = 0    count = 2 (1 for index 0 and 1 for the full array prefix)\n\n                     total = 3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9286286,"reputation":408,"user_id":6896067,"display_name":"Alexey Rykhalskiy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601982607,"creation_date":1601973650,"answer_id":64222225,"question_id":63068610,"body_markdown":"I found explanation by [Cătălin Fr&#226;ncu][1] extremely clear and concise. Here is the code with tests (Scala):\r\n\r\n    object T3 {\r\n      def numOfSubArraysWithMean(a: Array[Int], s: Int): Int =\r\n        a.lazyZip(LazyList from 1)\r\n          .foldLeft((0, List(0))) { case ((pi, q), (ai, i)) =&gt;\r\n            val pi2 = pi + ai\r\n            val qi = pi2 - s * i\r\n            (pi2, qi :: q)\r\n          }._2\r\n          .groupMapReduce(identity)(_=&gt;1)(_+_)\r\n          .withFilter { case (_, v) =&gt; v &gt; 1 }\r\n          .map { case (_, v) =&gt; v * (v - 1) / 2 }\r\n          .sum\r\n    }\r\n    \r\n    class T3Spec extends AnyFunSpec with Matchers {\r\n      import T3._\r\n      def a[A: ClassTag](aa: A*): Array[A] = aa.toArray\r\n      it(&quot;a&quot;) {\r\n        val data = Seq(\r\n          (a(5,3,6,2,5,5,2),4) -&gt; 8,\r\n          (a(5,3,6,2,5),4) -&gt; 4,\r\n          (a(5,3,6,2,5,3),4) -&gt; 7,\r\n          (a(5,3,6,2),4) -&gt; 3,\r\n          (a(5,3,6,2,4),4) -&gt; 6,\r\n          (a(2,1,3,7,2,2,1,3),2) -&gt; 9,\r\n          (a(0,8,1,7,2,6,3,5),4) -&gt; 10,\r\n          (a(2,2,3,4,1,1),2) -&gt; 4,\r\n          (a(2,2,2,2,2,2),2) -&gt; 21,\r\n          (a(2,2,2,2),2) -&gt; 10,\r\n        )\r\n        for {\r\n          ((a, s), r) &lt;- data\r\n        } numOfSubArraysWithMean(a, s) shouldEqual r\r\n      }\r\n    }\r\n\r\nIn most cases, `N` vs `NlogN` doesn&#39;t matter. But `N^2` is a problem \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/6022817/c%C4%83t%C4%83lin-fr%C3%A2ncu","title":"Finding Arithmetic Mean of Subarrays Efficiently in an Array","body":"<p>I found explanation by <a href=\"https://stackoverflow.com/users/6022817/c%C4%83t%C4%83lin-fr%C3%A2ncu\">Cătălin Frâncu</a> extremely clear and concise. Here is the code with tests (Scala):</p>\n<pre><code>object T3 {\n  def numOfSubArraysWithMean(a: Array[Int], s: Int): Int =\n    a.lazyZip(LazyList from 1)\n      .foldLeft((0, List(0))) { case ((pi, q), (ai, i)) =&gt;\n        val pi2 = pi + ai\n        val qi = pi2 - s * i\n        (pi2, qi :: q)\n      }._2\n      .groupMapReduce(identity)(_=&gt;1)(_+_)\n      .withFilter { case (_, v) =&gt; v &gt; 1 }\n      .map { case (_, v) =&gt; v * (v - 1) / 2 }\n      .sum\n}\n\nclass T3Spec extends AnyFunSpec with Matchers {\n  import T3._\n  def a[A: ClassTag](aa: A*): Array[A] = aa.toArray\n  it(&quot;a&quot;) {\n    val data = Seq(\n      (a(5,3,6,2,5,5,2),4) -&gt; 8,\n      (a(5,3,6,2,5),4) -&gt; 4,\n      (a(5,3,6,2,5,3),4) -&gt; 7,\n      (a(5,3,6,2),4) -&gt; 3,\n      (a(5,3,6,2,4),4) -&gt; 6,\n      (a(2,1,3,7,2,2,1,3),2) -&gt; 9,\n      (a(0,8,1,7,2,6,3,5),4) -&gt; 10,\n      (a(2,2,3,4,1,1),2) -&gt; 4,\n      (a(2,2,2,2,2,2),2) -&gt; 21,\n      (a(2,2,2,2),2) -&gt; 10,\n    )\n    for {\n      ((a, s), r) &lt;- data\n    } numOfSubArraysWithMean(a, s) shouldEqual r\n  }\n}\n</code></pre>\n<p>In most cases, <code>N</code> vs <code>NlogN</code> doesn't matter. But <code>N^2</code> is a problem</p>\n"},{"tags":[],"owner":{"account_id":18631972,"reputation":2321,"user_id":13579714,"display_name":"jmvcollaborator"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614662511,"creation_date":1614130820,"answer_id":66343478,"question_id":63068610,"body_markdown":"Heres a Java solution with prefix sums, also using feedback from this thread. \r\n\r\n\r\n\r\n\r\n\r\n    import java.util.*;\r\n    \r\n            public static int returnSubsequenceCount(int[] X, int S)\r\n        {\r\n            HashMap&lt;Integer, Integer&gt; prefixes = new HashMap&lt;Integer, Integer&gt;();\r\n            int result = 0;\r\n            int[] P = new int[X.length + 1];\r\n            prefixes.put(0, 1);\r\n    \r\n            int[] Q = new int[X.length + 1];\r\n            P[0] = 0;\r\n            Q[0] = 0;\r\n    \r\n            for (int i = 1; i &lt; X.length + 1; i++)\r\n            {\r\n                P[i] = P[i - 1] + X[i - 1];\r\n                Q[i] = P[i] - S * i;\r\n    \r\n                if (!prefixes.containsKey(Q[i]))\r\n                {\r\n                    prefixes.put(Q[i], 1);\r\n                }\r\n                else\r\n                {\r\n                    Integer temp=prefixes.get(Q[i]);\r\n                    temp++;\r\n                    prefixes.put(Q[i],temp);\r\n    \r\n                }\r\n    \r\n            }\r\n    \r\n            for (Map.Entry&lt;Integer, Integer&gt; entry : prefixes.entrySet())\r\n            {\r\n                int value = entry.getValue();\r\n                result += value * (value - 1) / 2;\r\n            }\r\n    \r\n            return result;\r\n        }","title":"Finding Arithmetic Mean of Subarrays Efficiently in an Array","body":"<p>Heres a Java solution with prefix sums, also using feedback from this thread.</p>\n<pre><code>import java.util.*;\n\n        public static int returnSubsequenceCount(int[] X, int S)\n    {\n        HashMap&lt;Integer, Integer&gt; prefixes = new HashMap&lt;Integer, Integer&gt;();\n        int result = 0;\n        int[] P = new int[X.length + 1];\n        prefixes.put(0, 1);\n\n        int[] Q = new int[X.length + 1];\n        P[0] = 0;\n        Q[0] = 0;\n\n        for (int i = 1; i &lt; X.length + 1; i++)\n        {\n            P[i] = P[i - 1] + X[i - 1];\n            Q[i] = P[i] - S * i;\n\n            if (!prefixes.containsKey(Q[i]))\n            {\n                prefixes.put(Q[i], 1);\n            }\n            else\n            {\n                Integer temp=prefixes.get(Q[i]);\n                temp++;\n                prefixes.put(Q[i],temp);\n\n            }\n\n        }\n\n        for (Map.Entry&lt;Integer, Integer&gt; entry : prefixes.entrySet())\n        {\n            int value = entry.getValue();\n            result += value * (value - 1) / 2;\n        }\n\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":938378,"reputation":9,"user_id":966905,"display_name":"spyr01d"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1650377596,"creation_date":1650377000,"answer_id":71926285,"question_id":63068610,"body_markdown":"Kotlin version\r\n\r\n    fun solution(A: IntArray, S: Int): Int {\r\n        return A.asSequence()\r\n            .runningFold(0) { acc, i -&gt; acc + i }\r\n            .map { ((it % S) + S) % S }\r\n            .groupingBy { it }\r\n            .eachCount()\r\n            .values\r\n            .sumOf { it * (it - 1) / 2 }\r\n    }","title":"Finding Arithmetic Mean of Subarrays Efficiently in an Array","body":"<p>Kotlin version</p>\n<pre><code>fun solution(A: IntArray, S: Int): Int {\n    return A.asSequence()\n        .runningFold(0) { acc, i -&gt; acc + i }\n        .map { ((it % S) + S) % S }\n        .groupingBy { it }\n        .eachCount()\n        .values\n        .sumOf { it * (it - 1) / 2 }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8959501,"reputation":105,"user_id":6682696,"display_name":"Anggi Permana Harianja"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650783793,"creation_date":1650783793,"answer_id":71986206,"question_id":63068610,"body_markdown":"This is how to do it in python, the key is to produce Powerset\r\n\r\n    def mean_subsequence(array: list, mean: int) -&gt; int:\r\n    result = 0\r\n    powerset = [[]]\r\n    \r\n    for num in array:\r\n        len_ = len(powerset)\r\n        for i in range(len_):\r\n            subsequent = powerset[i]\r\n            #check the mean\r\n            tmp = [num] + subsequent\r\n            if tmp != [] and sum(tmp) / len(tmp) == mean:\r\n                result += 1\r\n            #update power set\r\n            powerset.appened([num] + subsequent)\r\n            \r\n    return result\r\n","title":"Finding Arithmetic Mean of Subarrays Efficiently in an Array","body":"<p>This is how to do it in python, the key is to produce Powerset</p>\n<pre><code>def mean_subsequence(array: list, mean: int) -&gt; int:\nresult = 0\npowerset = [[]]\n\nfor num in array:\n    len_ = len(powerset)\n    for i in range(len_):\n        subsequent = powerset[i]\n        #check the mean\n        tmp = [num] + subsequent\n        if tmp != [] and sum(tmp) / len(tmp) == mean:\n            result += 1\n        #update power set\n        powerset.appened([num] + subsequent)\n        \nreturn result\n</code></pre>\n"}],"owner":{"account_id":1457031,"reputation":1235,"user_id":1372366,"accept_rate":75,"display_name":"selman"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14283,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":6,"score":7,"last_activity_date":1665002152,"creation_date":1595574780,"question_id":63068610,"body_markdown":"I am trying to find number of ways o calculate arithmetic mean of a subarray of an array.\r\nIt boils down to this; given an array X and an integer S, how many contiguous fragments of X has arithmetic mean equal to S?\r\n\r\nFor instance, given  X=[5,3,6,2] and S=4 result is 3. [5,3] , [6,2] and [5,3,6,2] has the mean 4.\r\n\r\n&gt; X might have up to 100.000 elements. Each value of X is an integer in\r\n&gt; range of {-1.000.000.000,+1.000.000.000}. So is S.\r\n&gt; We don&#39;t round the arithmetic mean found.\r\n\r\nMy code below(on Java) works for small set of data but it is not efficient. O(n^2).\r\n\r\n```\r\npublic static int returnSubsequenceCount(int[] X, int S) {\r\n        int counter = 0;\r\n\r\n        for (int i = 0; i &lt; X.length; i++) {\r\n            int[] dpSum = new int[X.length];\r\n\r\n            dpSum[i] = X[i];\r\n\r\n            if (X[i] == S) {\r\n                counter++;\r\n            }\r\n\r\n            for (int j = i + 1; j &lt; X.length; j++) {\r\n                int sum = dpSum[j - 1] + X[j];\r\n\r\n                dpSum[j] = sum;\r\n\r\n                if ((double) sum / (j - i + 1) == S) {\r\n                    counter++;\r\n                }\r\n            }\r\n        }\r\n        return counter;\r\n    }\r\n```","title":"Finding Arithmetic Mean of Subarrays Efficiently in an Array","body":"<p>I am trying to find number of ways o calculate arithmetic mean of a subarray of an array.\nIt boils down to this; given an array X and an integer S, how many contiguous fragments of X has arithmetic mean equal to S?</p>\n<p>For instance, given  X=[5,3,6,2] and S=4 result is 3. [5,3] , [6,2] and [5,3,6,2] has the mean 4.</p>\n<blockquote>\n<p>X might have up to 100.000 elements. Each value of X is an integer in\nrange of {-1.000.000.000,+1.000.000.000}. So is S.\nWe don't round the arithmetic mean found.</p>\n</blockquote>\n<p>My code below(on Java) works for small set of data but it is not efficient. O(n^2).</p>\n<pre><code>public static int returnSubsequenceCount(int[] X, int S) {\n        int counter = 0;\n\n        for (int i = 0; i &lt; X.length; i++) {\n            int[] dpSum = new int[X.length];\n\n            dpSum[i] = X[i];\n\n            if (X[i] == S) {\n                counter++;\n            }\n\n            for (int j = i + 1; j &lt; X.length; j++) {\n                int sum = dpSum[j - 1] + X[j];\n\n                dpSum[j] = sum;\n\n                if ((double) sum / (j - i + 1) == S) {\n                    counter++;\n                }\n            }\n        }\n        return counter;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"score":2,"creation_date":1665002406,"post_id":73966042,"comment_id":130600196,"body_markdown":"Unless you are doing some academic exercise I doubt you will gain anything from reading with multiple threads. See https://stackoverflow.com/a/18972018/4110190 where @Gene explains why it might even be slower.","body":"Unless you are doing some academic exercise I doubt you will gain anything from reading with multiple threads. See <a href=\"https://stackoverflow.com/a/18972018/4110190\">stackoverflow.com/a/18972018/4110190</a> where @Gene explains why it might even be slower."},{"owner":{"account_id":2409845,"reputation":866,"user_id":2105218,"display_name":"YellowStrawHatter"},"score":0,"creation_date":1665040065,"post_id":73966042,"comment_id":130606794,"body_markdown":"Hello Jonas, it&#39;s an entreprise scale batch processing project using spring batch, we need to keep the file lines initial order and at the same time we want to increase performance. If using multi-threading won&#39;t be faster when processing items then why is it provided by the spring batch API ?","body":"Hello Jonas, it&#39;s an entreprise scale batch processing project using spring batch, we need to keep the file lines initial order and at the same time we want to increase performance. If using multi-threading won&#39;t be faster when processing items then why is it provided by the spring batch API ?"},{"owner":{"account_id":5129456,"reputation":954,"user_id":4110190,"display_name":"Jonas Pedersen"},"score":0,"creation_date":1665056628,"post_id":73966042,"comment_id":130612580,"body_markdown":"I do not know the specific reason. But multi-threading in Spring Batch can indeed be faster when reading from multiple sources. But reading from the same physical source will need some form of synchronisation to not read randomly from the file. You could read the content of the file in one thread and then split the processing of parts in multiple threads. You should be able to control the ordering if you know which part of the content being processed by which thread. If the processing changes the order, then you could have some problems joining the result into one again.","body":"I do not know the specific reason. But multi-threading in Spring Batch can indeed be faster when reading from multiple sources. But reading from the same physical source will need some form of synchronisation to not read randomly from the file. You could read the content of the file in one thread and then split the processing of parts in multiple threads. You should be able to control the ordering if you know which part of the content being processed by which thread. If the processing changes the order, then you could have some problems joining the result into one again."},{"owner":{"account_id":2409845,"reputation":866,"user_id":2105218,"display_name":"YellowStrawHatter"},"score":0,"creation_date":1665067833,"post_id":73966042,"comment_id":130617153,"body_markdown":"I agree. My use case is getting more complicated, because I have to read a main file, then I need to open a second file and find some information (using some column value as a join key), the relation between the main file and the second one is 1..N, and the join key is a numeric value (both files are already sorted that way) .. so even the processing needs to respect the initial order.","body":"I agree. My use case is getting more complicated, because I have to read a main file, then I need to open a second file and find some information (using some column value as a join key), the relation between the main file and the second one is 1..N, and the join key is a numeric value (both files are already sorted that way) .. so even the processing needs to respect the initial order."}],"owner":{"account_id":2409845,"reputation":866,"user_id":2105218,"display_name":"YellowStrawHatter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1665001885,"creation_date":1665001885,"question_id":73966042,"body_markdown":"I understood that there are some limitations regarding the items processing order when it comes to using multi-threading. \r\n\r\nFrom my understanding, when we configure a `Step` (read process, write) to use multi-threading (`taskExecutor` for example), we can&#39;t guarantee the items incoming order, since we don&#39;t know which thread will process first.\r\n\r\nIs there a safe and a simple way to read and process a flat file (`FlatFileItemReader`) with the initial order of its items using multi-threading ?\r\n\r\n\r\nThank you","title":"Is there a way to read and process lines (items) and keep their initial order in the input file using a mulit-threading config?","body":"<p>I understood that there are some limitations regarding the items processing order when it comes to using multi-threading.</p>\n<p>From my understanding, when we configure a <code>Step</code> (read process, write) to use multi-threading (<code>taskExecutor</code> for example), we can't guarantee the items incoming order, since we don't know which thread will process first.</p>\n<p>Is there a safe and a simple way to read and process a flat file (<code>FlatFileItemReader</code>) with the initial order of its items using multi-threading ?</p>\n<p>Thank you</p>\n"},{"tags":["java","methods","this"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1664999235,"post_id":73965525,"comment_id":130599322,"body_markdown":"Please put the code as *text* in your question, rather than as a screenshot.","body":"Please put the code as <i>text</i> in your question, rather than as a screenshot."}],"answers":[{"tags":[],"owner":{"account_id":25548076,"reputation":51,"user_id":19333036,"display_name":"Brandon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664999056,"creation_date":1664999056,"answer_id":73965581,"question_id":73965525,"body_markdown":"&quot;this&quot; keyword is used for the object that contains the method, so you would use this.variable if you are referring to something outside of the method, and would not use it when referring to the parameters passed to the method. A better explanation of the &quot;this&quot; keyword in Java can be found here: https://www.w3schools.com/java/ref_keyword_this.asp","title":"How do I access the variables of the method argument?","body":"<p>&quot;this&quot; keyword is used for the object that contains the method, so you would use this.variable if you are referring to something outside of the method, and would not use it when referring to the parameters passed to the method. A better explanation of the &quot;this&quot; keyword in Java can be found here: <a href=\"https://www.w3schools.com/java/ref_keyword_this.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/java/ref_keyword_this.asp</a></p>\n"},{"tags":[],"owner":{"account_id":19559352,"reputation":35,"user_id":14312892,"display_name":"malene.dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665001338,"creation_date":1665001338,"answer_id":73965952,"question_id":73965525,"body_markdown":"If your *public variable* and *method argument* have same name use `this`\r\n\r\n*public variable* - `this.yourVariable` \r\n\r\n*method argument*        -`yourVariable`\r\n\r\n","title":"How do I access the variables of the method argument?","body":"<p>If your <em>public variable</em> and <em>method argument</em> have same name use <code>this</code></p>\n<p><em>public variable</em> - <code>this.yourVariable</code></p>\n<p><em>method argument</em>        -<code>yourVariable</code></p>\n"}],"owner":{"account_id":26538860,"reputation":1,"user_id":20169947,"display_name":"iNeedHelpPls"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1665001338,"creation_date":1664998625,"question_id":73965525,"body_markdown":"[Methods][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Sw93z.png\r\nThere are instance variables for the numerator and denominator but I don&#39;t know if using &quot;this&quot; would get the argument&#39;s variables or the variables for the Fraction that the method is used on. How would I get both of their variables? There&#39;s no get method btw.","title":"How do I access the variables of the method argument?","body":"<p><a href=\"https://i.stack.imgur.com/Sw93z.png\" rel=\"nofollow noreferrer\">Methods</a></p>\n<p>There are instance variables for the numerator and denominator but I don't know if using &quot;this&quot; would get the argument's variables or the variables for the Fraction that the method is used on. How would I get both of their variables? There's no get method btw.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9008,"page":984,"page_size":100}
