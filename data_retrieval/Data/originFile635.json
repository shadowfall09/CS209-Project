{"items":[{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1676899155,"post_id":75509728,"comment_id":133224445,"body_markdown":"It will simply not work. Annotations are static metadata. Next to that `@Pattern` isn&#39;t a spring annotation and as such not handled by SPring so no variable substition, if any, is available. So in short it won&#39;t work.","body":"It will simply not work. Annotations are static metadata. Next to that <code>@Pattern</code> isn&#39;t a spring annotation and as such not handled by SPring so no variable substition, if any, is available. So in short it won&#39;t work."}],"owner":{"account_id":15489786,"reputation":11,"user_id":11174627,"display_name":"Pratik Malani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676898987,"creation_date":1676898987,"question_id":75509728,"body_markdown":"Not able to read regular expressions from application.properties file when using @Pattern annotation in Spring Boot 3.0.1\r\n\r\nTrying to use the same steps given in\r\nhttps://stackoverflow.com/questions/59581979/how-to-read-the-regex-pattern-from-property-file-in-spring-boot\r\n\r\nBut after following the steps getting below error\r\n\r\n\r\n```\r\n`Caused by: java.lang.IllegalArgumentException: HV000022: Invalid regular expression.\r\nat org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.initialize(PatternValidator.java:43)\r\nat org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.initialize(PatternValidator.java:24)\r\nat org.hibernate.validator.internal.engine.constraintvalidation.AbstractConstraintValidatorManagerImpl.initializeValidator(AbstractConstraintValidatorManagerImpl.java:142)\r\n... 14 more\r\nCaused by: java.util.regex.PatternSyntaxException: Illegal repetition near index 2\r\n${my.regex.charOrNumber}\r\n^\r\nat java.base/java.util.regex.Pattern.error(Pattern.java:2028)\r\nat java.base/java.util.regex.Pattern.closure(Pattern.java:3309)\r\nat java.base/java.util.regex.Pattern.sequence(Pattern.java:2214)\r\nat java.base/java.util.regex.Pattern.expr(Pattern.java:2069)\r\nat java.base/java.util.regex.Pattern.compile(Pattern.java:1783)\r\nat java.base/java.util.regex.Pattern.\\&lt;init\\&gt;(Pattern.java:1430)\r\nat java.base/java.util.regex.Pattern.compile(Pattern.java:1095)\r\nat org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.initialize(PatternValidator.java:40)`\r\n```\r\n","title":"Read regexp from application.properties file in spring boot 3.0.1 using @pattern","body":"<p>Not able to read regular expressions from application.properties file when using @Pattern annotation in Spring Boot 3.0.1</p>\n<p>Trying to use the same steps given in\n<a href=\"https://stackoverflow.com/questions/59581979/how-to-read-the-regex-pattern-from-property-file-in-spring-boot\">How to read the regex pattern from property file in spring boot</a></p>\n<p>But after following the steps getting below error</p>\n<pre><code>`Caused by: java.lang.IllegalArgumentException: HV000022: Invalid regular expression.\nat org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.initialize(PatternValidator.java:43)\nat org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.initialize(PatternValidator.java:24)\nat org.hibernate.validator.internal.engine.constraintvalidation.AbstractConstraintValidatorManagerImpl.initializeValidator(AbstractConstraintValidatorManagerImpl.java:142)\n... 14 more\nCaused by: java.util.regex.PatternSyntaxException: Illegal repetition near index 2\n${my.regex.charOrNumber}\n^\nat java.base/java.util.regex.Pattern.error(Pattern.java:2028)\nat java.base/java.util.regex.Pattern.closure(Pattern.java:3309)\nat java.base/java.util.regex.Pattern.sequence(Pattern.java:2214)\nat java.base/java.util.regex.Pattern.expr(Pattern.java:2069)\nat java.base/java.util.regex.Pattern.compile(Pattern.java:1783)\nat java.base/java.util.regex.Pattern.\\&lt;init\\&gt;(Pattern.java:1430)\nat java.base/java.util.regex.Pattern.compile(Pattern.java:1095)\nat org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.initialize(PatternValidator.java:40)`\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1676864960,"post_id":75504947,"comment_id":133216958,"body_markdown":"`System.out.println(Arrays.stream(input).mapToObj(d -&gt; String.format(&quot;%3.2f&quot;, d)).collect(Collectors.joining(&quot;, &quot;)));`","body":"<code>System.out.println(Arrays.stream(input).mapToObj(d -&gt; String.format(&quot;%3.2f&quot;, d)).collect(Collectors.joining(&quot;, &quot;)));</code>"},{"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"score":2,"creation_date":1676867517,"post_id":75504947,"comment_id":133217261,"body_markdown":"@HovercraftFullOfEels Arrays.stream is not supporting a float array.","body":"@HovercraftFullOfEels Arrays.stream is not supporting a float array."},{"owner":{"account_id":11829073,"reputation":76,"user_id":8656297,"display_name":"Dupeyrat Kevin"},"score":0,"creation_date":1676892703,"post_id":75504947,"comment_id":133222688,"body_markdown":"A simple research can maybe help you : https://stackoverflow.com/questions/37987051/how-to-concatenate-a-string-with-the-new-1-8-stream-api#37987434. You will need to box your float primitive and convert your array to a stream first","body":"A simple research can maybe help you : <a href=\"https://stackoverflow.com/questions/37987051/how-to-concatenate-a-string-with-the-new-1-8-stream-api#37987434\" title=\"how to concatenate a string with the new 1 8 stream api%2337987434\">stackoverflow.com/questions/37987051/&hellip;</a>. You will need to box your float primitive and convert your array to a stream first"}],"answers":[{"tags":[],"owner":{"account_id":27832003,"reputation":11,"user_id":21250236,"display_name":"RMDragonheart"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676893470,"creation_date":1676893470,"answer_id":75508848,"question_id":75504947,"body_markdown":"I think that those two options would be acceptable if you extract the logic to sperate method and name it properly.\r\n```\r\n    // Option 1\r\n    float[] input = new float[] {1.0f, 0.95f, 0.11f};\r\n    var stringArray = Arrays.toString(input);\r\n    stringArray = stringArray.substring(1, stringArray.length() - 1);\r\n    stringArray = stringArray.replaceAll(&quot; &quot;, &quot;&quot;);\r\n    System.out.println(stringArray);\r\n    // Result: 1.0,0.95,0.11\r\n\r\n    // Option 2\r\n    var stringBuilder = new StringBuilder();\r\n    for (var value : input) {\r\n      stringBuilder.append(value).append(&quot;,&quot;);\r\n    }\r\n    stringBuilder.setLength(stringBuilder.length() - 1);\r\n    System.out.println(stringBuilder);\r\n    // Result: 1.0,0.95,0.11\r\n```","title":"How to convert a float array to a string concatenated by comma","body":"<p>I think that those two options would be acceptable if you extract the logic to sperate method and name it properly.</p>\n<pre><code>    // Option 1\n    float[] input = new float[] {1.0f, 0.95f, 0.11f};\n    var stringArray = Arrays.toString(input);\n    stringArray = stringArray.substring(1, stringArray.length() - 1);\n    stringArray = stringArray.replaceAll(&quot; &quot;, &quot;&quot;);\n    System.out.println(stringArray);\n    // Result: 1.0,0.95,0.11\n\n    // Option 2\n    var stringBuilder = new StringBuilder();\n    for (var value : input) {\n      stringBuilder.append(value).append(&quot;,&quot;);\n    }\n    stringBuilder.setLength(stringBuilder.length() - 1);\n    System.out.println(stringBuilder);\n    // Result: 1.0,0.95,0.11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676898598,"creation_date":1676898036,"answer_id":75509572,"question_id":75504947,"body_markdown":"I figured out a close answer:\r\n\r\n    float[] input = new float[]{1.0f, 0.95f, 0.11f};\r\n\r\n    // output: 1.0,0.95,0.11\r\n    System.out.println(\r\n            IntStream.range(0, input.length)\r\n                    .mapToObj(i -&gt; String.valueOf(input[i]))\r\n                    .collect(Collectors.joining(&quot;,&quot;))\r\n    );\r\n\r\nThe idea is to use the `IntStream` to create an array index first, then map to each array element.","title":"How to convert a float array to a string concatenated by comma","body":"<p>I figured out a close answer:</p>\n<pre><code>float[] input = new float[]{1.0f, 0.95f, 0.11f};\n\n// output: 1.0,0.95,0.11\nSystem.out.println(\n        IntStream.range(0, input.length)\n                .mapToObj(i -&gt; String.valueOf(input[i]))\n                .collect(Collectors.joining(&quot;,&quot;))\n);\n</code></pre>\n<p>The idea is to use the <code>IntStream</code> to create an array index first, then map to each array element.</p>\n"}],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75509572,"answer_count":2,"score":0,"last_activity_date":1676898598,"creation_date":1676862699,"question_id":75504947,"body_markdown":"As the title, is there any clean Java syntax that supports converting a float array to a string concatenated by comma?\r\n\r\nI tried searching for Java stream, but it does not support float array well.\r\n\r\n\r\n\r\n    // input: \r\n    float[] input = new float[]{1.0f, 0.95f, 0.11f};\r\n\r\n    // expected output: \r\n    &quot;1.0,0.95,0.11&quot;\r\n\r\nUpdate:\r\nOf course, there are many approaches, I can even use a simple loop to do it. But compared to `String.join()` for String or Java Stream for `double[]`, I would like to know if there&#39;s one for `float[]`.","title":"How to convert a float array to a string concatenated by comma","body":"<p>As the title, is there any clean Java syntax that supports converting a float array to a string concatenated by comma?</p>\n<p>I tried searching for Java stream, but it does not support float array well.</p>\n<pre><code>// input: \nfloat[] input = new float[]{1.0f, 0.95f, 0.11f};\n\n// expected output: \n&quot;1.0,0.95,0.11&quot;\n</code></pre>\n<p>Update:\nOf course, there are many approaches, I can even use a simple loop to do it. But compared to <code>String.join()</code> for String or Java Stream for <code>double[]</code>, I would like to know if there's one for <code>float[]</code>.</p>\n"},{"tags":["java","spring-boot","junit","ldap","spring-boot-test"],"comments":[{"owner":{"account_id":1239958,"reputation":39024,"user_id":1202807,"display_name":"Gabriel Luci"},"score":0,"creation_date":1677002471,"post_id":75509233,"comment_id":133249589,"body_markdown":"Is that the complete error message? It seems like the last part of it is missing.","body":"Is that the complete error message? It seems like the last part of it is missing."}],"owner":{"account_id":484819,"reputation":5634,"user_id":900743,"accept_rate":64,"display_name":"Peter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676898356,"creation_date":1676895756,"question_id":75509233,"body_markdown":"I have followed this guide https://memorynotfound.com/spring-ldap-object-directory-mapping-odm-configuration-example/ and tried to write unit tests for it. I have implemented tests in both spring-ldap-test and zapodot but regardless what I do I get the follwing error when performing a search on in the implementation against the embedded server:\r\n\r\n    LDAP: error code 32 - Unable to perform the search because base entry &#39;ou=Users,dc=memorynotfound,dc=com&#39;\r\n\r\nIn tests I&#39;ve use base as &quot;dc=memorynotfound,dc=com&quot;\r\n\r\nWhat could possibly be wrong? Against a real LDAP-server I get a similar error.","title":"LDAP unit test is failing","body":"<p>I have followed this guide <a href=\"https://memorynotfound.com/spring-ldap-object-directory-mapping-odm-configuration-example/\" rel=\"nofollow noreferrer\">https://memorynotfound.com/spring-ldap-object-directory-mapping-odm-configuration-example/</a> and tried to write unit tests for it. I have implemented tests in both spring-ldap-test and zapodot but regardless what I do I get the follwing error when performing a search on in the implementation against the embedded server:</p>\n<pre><code>LDAP: error code 32 - Unable to perform the search because base entry 'ou=Users,dc=memorynotfound,dc=com'\n</code></pre>\n<p>In tests I've use base as &quot;dc=memorynotfound,dc=com&quot;</p>\n<p>What could possibly be wrong? Against a real LDAP-server I get a similar error.</p>\n"},{"tags":["java","rounding"],"comments":[{"owner":{"account_id":4663157,"reputation":15229,"user_id":3776927,"display_name":"derpirscher"},"score":0,"creation_date":1676820257,"post_id":75501044,"comment_id":133210043,"body_markdown":"`n^(1/x)` is the same as the `x-th root of n`. So for this special requirement, you can just iterate over `i = 1.. z` and calculate `i^x` until `i^x  &gt; n`. Then your result is `i-1`","body":"<code>n^(1&#47;x)</code> is the same as the <code>x-th root of n</code>. So for this special requirement, you can just iterate over <code>i = 1.. z</code> and calculate <code>i^x</code> until <code>i^x  &gt; n</code>. Then your result is <code>i-1</code>"},{"owner":{"account_id":208121,"reputation":225,"user_id":458407,"display_name":"J&#233;r&#244;me JEAN-CHARLES"},"score":0,"creation_date":1676830998,"post_id":75501044,"comment_id":133212049,"body_markdown":"@derpirscher The loop is much to slow.","body":"@derpirscher The loop is much to slow."},{"owner":{"account_id":208121,"reputation":225,"user_id":458407,"display_name":"J&#233;r&#244;me JEAN-CHARLES"},"score":0,"creation_date":1676838398,"post_id":75501044,"comment_id":133213418,"body_markdown":"@user16320675 ULP not OK : See modification I have add a floorULP() in code : it does not work ( ok with 125= 5^3 but NOT with 24389=29^3","body":"@user16320675 ULP not OK : See modification I have add a floorULP() in code : it does not work ( ok with 125= 5^3 but NOT with 24389=29^3"},{"owner":{"account_id":208121,"reputation":225,"user_id":458407,"display_name":"J&#233;r&#244;me JEAN-CHARLES"},"score":0,"creation_date":1676898147,"post_id":75501044,"comment_id":133224185,"body_markdown":"Here is a one line function that works  :given arguments (in,exp ) the function will      :       return  new BigDecimal(Math.pow(in,1.0/exp),MathContext.DECIMAL32.).longValue();  //     Note: DECIMAL64 as any precision out of [7,15] does not work why ??","body":"Here is a one line function that works  :given arguments (in,exp ) the function will      :       return  new BigDecimal(Math.pow(in,1.0/exp),MathContext.DECIMAL32.).long&zwnj;&#8203;Value();  //     Note: DECIMAL64 as any precision out of [7,15] does not work why ??"}],"owner":{"account_id":208121,"reputation":225,"user_id":458407,"display_name":"J&#233;r&#244;me JEAN-CHARLES"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676898336,"creation_date":1676818922,"question_id":75501044,"body_markdown":"How should I write this function. Argument **in** is in [2,2^60] and **exp** in [2,60].\r\nQUEST1 : How to avoid the MESSY test ? I could not make it with Big decimal.This is like an exponential version of the old classic bug ( 1 multiply by 3 then divided by 3 is not always 1). \r\nQUEST2 : How to code it if in  is much bigger ( 2^90)\r\nSee code below. If needed I can post the code that test it all.\r\n```\r\n/** @param in input \r\n  * @param exp exponent &gt;=2 \r\n  * @return floor[in^(1/exp)] */\r\npublic static long floorOk1( final long in , final int exp) {  \r\n\tfinal long ret = (long) Math.floor(Math.pow(in,1.0/exp));\r\n\tif ( Math.pow(ret+1,exp) &lt;= in ) CORRECTIONS++; // add 1 needed \r\n\t\treturn  ( Math.pow(ret+1,exp) &lt;=in ) ? ret+1L: ret ;   \r\n}\r\n// All OK floorBAD(25 ,2)=5 = floorULP(25 ,2)    \r\n// floorULP(125,3)=5 OK ,BUT floorBAD(125,3)=4 (must be 5 as 5^3=125)  \r\n// floorULP(24389,3)=28 and  floorBAD(24389,3)=28  BOTH WRONG (should be 29 as  29^3= 24389 ) \r\n/**  (24389,3)-&gt;28 is WRONG should be 29 ,  BUT ( 125/3)=5 ok */ \r\npublic static long floorULP( final long in , final int exp) { \r\n\tfinal double val = Math.pow(in,1.0/exp) ;\r\n\treturn (long) ( Math.floor(val+Math.ulp(val))); \r\n} \r\n/** Arguments (125/3) and (24389,3) -&gt; WRONG results: 1 less than expected. */ \r\n\tpublic static long floorBAD( final long in , final int exp) { return (long) Math.floor(Math.pow(in,1.0/exp)); } \r\n\r\n\t/** Args(in,exp)= (125  ,3) ==&gt; floorBAD is wrong but floorULP is OK \r\n\t *  Args(in,exp)= (24389,3) ==&gt; floorBAD is wrong AND  floorULP also WRONG \r\n\t *  NOTE : WE HAVE 5^3= 125 ; 29^3= 24389  **/\r\n\tpublic static void smallDifferenceTest() { \r\n\t\tSystem.out.println(&quot; floorOk1(25,2)    =&quot; + floorOk1(25 ,2)   + &quot; == BAD(25   ,2)=&quot; + floorBAD(25 ,2)   + &quot; Ok=&quot; + (floorBAD(25 ,2)==floorOk1(25 ,2)) ) ;\r\n\t\tSystem.out.println(&quot; floorOk1(25,2)    =&quot; + floorOk1(25 ,2)   + &quot; == ULP(25   ,2)=&quot; + floorULP(25 ,2)   + &quot; Ok=&quot; + (floorULP(25 ,2)==floorOk1(25 ,2)) ) ;\r\n\r\n\t\tSystem.out.println(&quot; floorOk1(125,3)   =&quot; + floorOk1(125,3)   + &quot; != BAD(125  ,3)=&quot; + floorBAD(125,3)   + &quot; Ok=&quot; + (floorBAD(125,3)==floorOk1(125,3)) ) ;\r\n\t\tSystem.out.println(&quot; floorOk1(125,3)   =&quot; + floorOk1(125,3)   + &quot; == ULP(125  ,3)=&quot; + floorULP(125,3)   + &quot; Ok=&quot; + (floorULP(125,3)==floorOk1(125,3)) ) ;\r\n\r\n\t\tSystem.out.println(&quot; floorOk1(24389,3) =&quot; + floorOk1(24389,3) + &quot; != ULP(24389,3)=&quot; + floorULP(24389,3) + &quot; Ok=&quot; + (floorULP(24389,3)==floorOk1(24389,3)) ) ; ;\r\n\t\tSystem.out.println(&quot; floorOk1(24389,3) =&quot; + floorOk1(24389,3) + &quot; != BAD(24389,3)=&quot; + floorBAD(24389,3) + &quot; Ok=&quot; + (floorBAD(24389,3)==floorOk1(24389,3)) ) ; ;\r\n\t}\r\n/*\r\nTests result are: \r\n floorOk1(25,2)    =5 == BAD(25   ,2)=5 Ok=true\r\n floorOk1(25,2)    =5 == ULP(25   ,2)=5 Ok=true\r\n floorOk1(125,3)   =5 != BAD(125  ,3)=4 Ok=false\r\n floorOk1(125,3)   =5 == ULP(125  ,3)=5 Ok=true\r\n floorOk1(24389,3) =29 != ULP(24389,3)=28 Ok=false\r\n floorOk1(24389,3) =29 != BAD(24389,3)=28 Ok=false\r\n*/\t\r\n\r\n```\r\n\r\nI mainly tried BigDecimal as an alternative found one solution:\r\n\r\n```\r\npublic static long floorDEC( final long in , final int exp)\t{ \r\n return new BigDecimal(Math.pow(in,1.0/exp),MathContext.DECIMAL32).longValue();\r\n\t} \r\n\r\n```","title":"Proper code in Java to calculate floor(n^(1/exp)). WIth n and exp both integers","body":"<p>How should I write this function. Argument <strong>in</strong> is in [2,2^60] and <strong>exp</strong> in [2,60].\nQUEST1 : How to avoid the MESSY test ? I could not make it with Big decimal.This is like an exponential version of the old classic bug ( 1 multiply by 3 then divided by 3 is not always 1).\nQUEST2 : How to code it if in  is much bigger ( 2^90)\nSee code below. If needed I can post the code that test it all.</p>\n<pre><code>/** @param in input \n  * @param exp exponent &gt;=2 \n  * @return floor[in^(1/exp)] */\npublic static long floorOk1( final long in , final int exp) {  \n    final long ret = (long) Math.floor(Math.pow(in,1.0/exp));\n    if ( Math.pow(ret+1,exp) &lt;= in ) CORRECTIONS++; // add 1 needed \n        return  ( Math.pow(ret+1,exp) &lt;=in ) ? ret+1L: ret ;   \n}\n// All OK floorBAD(25 ,2)=5 = floorULP(25 ,2)    \n// floorULP(125,3)=5 OK ,BUT floorBAD(125,3)=4 (must be 5 as 5^3=125)  \n// floorULP(24389,3)=28 and  floorBAD(24389,3)=28  BOTH WRONG (should be 29 as  29^3= 24389 ) \n/**  (24389,3)-&gt;28 is WRONG should be 29 ,  BUT ( 125/3)=5 ok */ \npublic static long floorULP( final long in , final int exp) { \n    final double val = Math.pow(in,1.0/exp) ;\n    return (long) ( Math.floor(val+Math.ulp(val))); \n} \n/** Arguments (125/3) and (24389,3) -&gt; WRONG results: 1 less than expected. */ \n    public static long floorBAD( final long in , final int exp) { return (long) Math.floor(Math.pow(in,1.0/exp)); } \n\n    /** Args(in,exp)= (125  ,3) ==&gt; floorBAD is wrong but floorULP is OK \n     *  Args(in,exp)= (24389,3) ==&gt; floorBAD is wrong AND  floorULP also WRONG \n     *  NOTE : WE HAVE 5^3= 125 ; 29^3= 24389  **/\n    public static void smallDifferenceTest() { \n        System.out.println(&quot; floorOk1(25,2)    =&quot; + floorOk1(25 ,2)   + &quot; == BAD(25   ,2)=&quot; + floorBAD(25 ,2)   + &quot; Ok=&quot; + (floorBAD(25 ,2)==floorOk1(25 ,2)) ) ;\n        System.out.println(&quot; floorOk1(25,2)    =&quot; + floorOk1(25 ,2)   + &quot; == ULP(25   ,2)=&quot; + floorULP(25 ,2)   + &quot; Ok=&quot; + (floorULP(25 ,2)==floorOk1(25 ,2)) ) ;\n\n        System.out.println(&quot; floorOk1(125,3)   =&quot; + floorOk1(125,3)   + &quot; != BAD(125  ,3)=&quot; + floorBAD(125,3)   + &quot; Ok=&quot; + (floorBAD(125,3)==floorOk1(125,3)) ) ;\n        System.out.println(&quot; floorOk1(125,3)   =&quot; + floorOk1(125,3)   + &quot; == ULP(125  ,3)=&quot; + floorULP(125,3)   + &quot; Ok=&quot; + (floorULP(125,3)==floorOk1(125,3)) ) ;\n\n        System.out.println(&quot; floorOk1(24389,3) =&quot; + floorOk1(24389,3) + &quot; != ULP(24389,3)=&quot; + floorULP(24389,3) + &quot; Ok=&quot; + (floorULP(24389,3)==floorOk1(24389,3)) ) ; ;\n        System.out.println(&quot; floorOk1(24389,3) =&quot; + floorOk1(24389,3) + &quot; != BAD(24389,3)=&quot; + floorBAD(24389,3) + &quot; Ok=&quot; + (floorBAD(24389,3)==floorOk1(24389,3)) ) ; ;\n    }\n/*\nTests result are: \n floorOk1(25,2)    =5 == BAD(25   ,2)=5 Ok=true\n floorOk1(25,2)    =5 == ULP(25   ,2)=5 Ok=true\n floorOk1(125,3)   =5 != BAD(125  ,3)=4 Ok=false\n floorOk1(125,3)   =5 == ULP(125  ,3)=5 Ok=true\n floorOk1(24389,3) =29 != ULP(24389,3)=28 Ok=false\n floorOk1(24389,3) =29 != BAD(24389,3)=28 Ok=false\n*/  \n\n</code></pre>\n<p>I mainly tried BigDecimal as an alternative found one solution:</p>\n<pre><code>public static long floorDEC( final long in , final int exp) { \n return new BigDecimal(Math.pow(in,1.0/exp),MathContext.DECIMAL32).longValue();\n    } \n\n</code></pre>\n"},{"tags":["java","kotlin","generics","covariance","contravariance"],"comments":[{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":1,"creation_date":1692291935,"post_id":75509417,"comment_id":135606731,"body_markdown":"As both answers indicate &quot;Java doesn’t support declaration-site variance like Kotlin does&quot;. Notice [JEP-300](https://openjdk.org/jeps/300) proposes it, so maybe in a distant future...","body":"As both answers indicate &quot;Java doesn’t support declaration-site variance like Kotlin does&quot;. Notice <a href=\"https://openjdk.org/jeps/300\" rel=\"nofollow noreferrer\">JEP-300</a> proposes it, so maybe in a distant future..."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676897957,"creation_date":1676897957,"answer_id":75509557,"question_id":75509417,"body_markdown":"Java doesn’t support declaration-site variance like Kotlin does. It only supports use-site variance. In other words, variance can only be used on variable and parameter types, not in class/interface definitions.\r\n\r\nSo in Java, you would specify your interface and class definitions without variance, and every time you need variance, you would declare the variable with it. \r\n\r\nCovariance uses `? extends`, and contravariance use `? super`, for example:\r\n\r\n```java\r\nBox&lt;? extends Number&gt; numberBox = new BoxImpl(1);\r\n","title":"What is Java&#39;s equivalent to Kotlin&#39;s covariant and contra-variant modifiers?","body":"<p>Java doesn’t support declaration-site variance like Kotlin does. It only supports use-site variance. In other words, variance can only be used on variable and parameter types, not in class/interface definitions.</p>\n<p>So in Java, you would specify your interface and class definitions without variance, and every time you need variance, you would declare the variable with it.</p>\n<p>Covariance uses <code>? extends</code>, and contravariance use <code>? super</code>, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Box&lt;? extends Number&gt; numberBox = new BoxImpl(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676898282,"creation_date":1676898282,"answer_id":75509612,"question_id":75509417,"body_markdown":"Java doesn&#39;t have declaration-site variance like Kotlin does. That is, you cannot specify the variance of a type when you *declare* it. However, it does have use-site variance - you *can* specify the variance when you *use* a type, as the type of a variable, for example.\r\n\r\nFor example,\r\n\r\n    // Kotlin\r\n    var foo: SomeGenericType&lt;out T&gt;\r\n    var bar: SomeGenericType&lt;in T&gt;\r\n\r\nis similar to:\r\n\r\n    // Java\r\n    SomeGenericType&lt;? extends T&gt; foo;\r\n    SomeGenericType&lt;? super T&gt; bar;\r\n\r\n(The mnemonic for this is [PECS][1].)\r\n\r\nA crucial difference though, is that you can pass `null`s into methods of the Java `bar` variable,\r\n\r\n    bar.someMethod(null);\r\n\r\nBut you cannot pass anything into the Kotlin `bar` - it literally takes `Nothing`!\r\n\r\nIf you are trying to use a generic type from Java in your Kotlin code, I think you&#39;d have to make it `@UnsafeVariance` to suppress the compiler error for now.\r\n\r\n    // Of course, only do this if you are sure that Box is covariant!\r\n    data class BoxImpl&lt;out T : SomeType&gt;(private val item: T) : Box&lt;@UnsafeVariance T&gt;\r\n\r\nThere are also discussions about adding the ability to annotate Java type parameters so that the Kotlin compiler knows about their variance. See [this](https://youtrack.jetbrains.com/issue/KT-41062/Allow-Java-classes-to-specify-declaration-site-variance) and [this](https://github.com/jspecify/jspecify/issues/72). Hopefully we can get that some day in the future. Though this doesn&#39;t change the fact that there is no declaration-site variance in Java.\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super","title":"What is Java&#39;s equivalent to Kotlin&#39;s covariant and contra-variant modifiers?","body":"<p>Java doesn't have declaration-site variance like Kotlin does. That is, you cannot specify the variance of a type when you <em>declare</em> it. However, it does have use-site variance - you <em>can</em> specify the variance when you <em>use</em> a type, as the type of a variable, for example.</p>\n<p>For example,</p>\n<pre><code>// Kotlin\nvar foo: SomeGenericType&lt;out T&gt;\nvar bar: SomeGenericType&lt;in T&gt;\n</code></pre>\n<p>is similar to:</p>\n<pre><code>// Java\nSomeGenericType&lt;? extends T&gt; foo;\nSomeGenericType&lt;? super T&gt; bar;\n</code></pre>\n<p>(The mnemonic for this is <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">PECS</a>.)</p>\n<p>A crucial difference though, is that you can pass <code>null</code>s into methods of the Java <code>bar</code> variable,</p>\n<pre><code>bar.someMethod(null);\n</code></pre>\n<p>But you cannot pass anything into the Kotlin <code>bar</code> - it literally takes <code>Nothing</code>!</p>\n<p>If you are trying to use a generic type from Java in your Kotlin code, I think you'd have to make it <code>@UnsafeVariance</code> to suppress the compiler error for now.</p>\n<pre><code>// Of course, only do this if you are sure that Box is covariant!\ndata class BoxImpl&lt;out T : SomeType&gt;(private val item: T) : Box&lt;@UnsafeVariance T&gt;\n</code></pre>\n<p>There are also discussions about adding the ability to annotate Java type parameters so that the Kotlin compiler knows about their variance. See <a href=\"https://youtrack.jetbrains.com/issue/KT-41062/Allow-Java-classes-to-specify-declaration-site-variance\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://github.com/jspecify/jspecify/issues/72\" rel=\"nofollow noreferrer\">this</a>. Hopefully we can get that some day in the future. Though this doesn't change the fact that there is no declaration-site variance in Java.</p>\n"}],"owner":{"account_id":1023984,"reputation":40599,"user_id":1033686,"accept_rate":97,"display_name":"Matthew Layton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75509612,"answer_count":2,"score":1,"last_activity_date":1676898282,"creation_date":1676896919,"question_id":75509417,"body_markdown":"Consider the following Kotlin interface:\r\n\r\n```kotlin\r\ninterface Box&lt;out T : SomeType&gt; {\r\n    val item: T\r\n}\r\n```\r\n\r\nImplementing this with Kotlin would look something like this:\r\n\r\n```kotlin\r\ndata class BoxImpl&lt;out T : SomeType&gt;(override val item: T) : Box&lt;T&gt;\r\n```\r\n\r\nNow I want to convert that interface to Java:\r\n\r\n```java\r\npublic interface Box&lt;T extends SomeType&gt; {\r\n    T getItem();\r\n}\r\n```\r\n\r\nBut implementing this in Kotlin causes a problem:\r\n```\r\ndata class BoxImpl&lt;out T : SomeType&gt;(private val item: T) : Box&lt;T&gt; {\r\n\r\n    override fun getItem(): T {\r\n        return item\r\n    }\r\n}\r\n```\r\n\r\nThe problem is that the Kotlin compiler complains that `T` is **invariant** on the Java interface, but **covariant** on the implementation.\r\n\r\nSo, how do you specify `out` (covariant) variance in Java?\r\n\r\nAdditionally, how would you specify `in` (contra-variant) variance?","title":"What is Java&#39;s equivalent to Kotlin&#39;s covariant and contra-variant modifiers?","body":"<p>Consider the following Kotlin interface:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface Box&lt;out T : SomeType&gt; {\n    val item: T\n}\n</code></pre>\n<p>Implementing this with Kotlin would look something like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class BoxImpl&lt;out T : SomeType&gt;(override val item: T) : Box&lt;T&gt;\n</code></pre>\n<p>Now I want to convert that interface to Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Box&lt;T extends SomeType&gt; {\n    T getItem();\n}\n</code></pre>\n<p>But implementing this in Kotlin causes a problem:</p>\n<pre><code>data class BoxImpl&lt;out T : SomeType&gt;(private val item: T) : Box&lt;T&gt; {\n\n    override fun getItem(): T {\n        return item\n    }\n}\n</code></pre>\n<p>The problem is that the Kotlin compiler complains that <code>T</code> is <strong>invariant</strong> on the Java interface, but <strong>covariant</strong> on the implementation.</p>\n<p>So, how do you specify <code>out</code> (covariant) variance in Java?</p>\n<p>Additionally, how would you specify <code>in</code> (contra-variant) variance?</p>\n"},{"tags":["java","algorithm","nodes","a-star","euclidean-distance"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1676826675,"post_id":75501885,"comment_id":133211211,"body_markdown":"Yes, in the sense that the euclidean path has an equivalent manhattan path, so there is always a pair. But no in the sense that there are way more equally valid manhattan paths if each step has the same weight than the single on you&#39;re showing here.","body":"Yes, in the sense that the euclidean path has an equivalent manhattan path, so there is always a pair. But no in the sense that there are way more equally valid manhattan paths if each step has the same weight than the single on you&#39;re showing here."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":2,"creation_date":1676826803,"post_id":75501885,"comment_id":133211241,"body_markdown":"It&#39;s possible and expected to at least happen *sometimes* (you can make trivial maps that force that to happen), checking whether it should happen for this specific grid would be a bit of work..","body":"It&#39;s possible and expected to at least happen <i>sometimes</i> (you can make trivial maps that force that to happen), checking whether it should happen for this specific grid would be a bit of work.."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":1,"creation_date":1676828543,"post_id":75501885,"comment_id":133211553,"body_markdown":"No, those results don&#39;t make sense.  You used the same heuristic both times.","body":"No, those results don&#39;t make sense.  You used the same heuristic both times."}],"answers":[{"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1677396688,"post_id":75509529,"comment_id":133327010,"body_markdown":"Any feedback to this answer? Did you check your code?","body":"Any feedback to this answer? Did you check your code?"},{"owner":{"account_id":19678378,"reputation":661,"user_id":14405992,"display_name":"Chris Costa"},"score":1,"creation_date":1677416909,"post_id":75509529,"comment_id":133329711,"body_markdown":"Yes, you were right. I had a bug in my algorithm. The 2 heuristics give different paths. Thank you","body":"Yes, you were right. I had a bug in my algorithm. The 2 heuristics give different paths. Thank you"}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676897752,"creation_date":1676897752,"answer_id":75509529,"question_id":75501885,"body_markdown":"In the example grid, the shortest paths have a length that is equal to the Manhattan distance between start and finish, and this is even true for most cells in your grid: the shortest path from those cells to the finish has the Manhattan distance from that cell to the finish. That means that with the Manhattan heuristic function, competing alternatives will often have the same total cost (i.e. 14) and whether or not the priority queue delivers the nodes in the same order as for the other, Euclidean distance heuristic, depends on how such ties are broken.\r\n\r\n**However**, the sequence of explored nodes you have given for the Euclidean distance heuristic cannot be right:\r\n\r\nFor instance, cells (0,5) and (3,3) don&#39;t appear in the expected order.\r\n\r\nHere are the relevant cost values for these two cells:\r\n\r\n| cell  | steps made from (0,0) | Euclidean to (4,10) | total cost (priority)\r\n|:-----:|:---------------------:|:-------------------:|:----------:\r\n| (0,5) |         5             |      6.403 -&gt; 6     |  5 + 6 = 11\r\n| (3,3) |         6             |      7.071 -&gt; 7     |  6 + 7 = 13\r\n\r\nSo clearly, (0, 5) should be pulled from the priority queue before (3, 3), yet in your sequence you have (3, 3) coming before (0, 5). This means something is wrong in your algorithm.\r\n\r\n","title":"Is it logical for Manhattan and Euclidean heuristics to check the same nodes?","body":"<p>In the example grid, the shortest paths have a length that is equal to the Manhattan distance between start and finish, and this is even true for most cells in your grid: the shortest path from those cells to the finish has the Manhattan distance from that cell to the finish. That means that with the Manhattan heuristic function, competing alternatives will often have the same total cost (i.e. 14) and whether or not the priority queue delivers the nodes in the same order as for the other, Euclidean distance heuristic, depends on how such ties are broken.</p>\n<p><strong>However</strong>, the sequence of explored nodes you have given for the Euclidean distance heuristic cannot be right:</p>\n<p>For instance, cells (0,5) and (3,3) don't appear in the expected order.</p>\n<p>Here are the relevant cost values for these two cells:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">cell</th>\n<th style=\"text-align: center;\">steps made from (0,0)</th>\n<th style=\"text-align: center;\">Euclidean to (4,10)</th>\n<th style=\"text-align: center;\">total cost (priority)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">(0,5)</td>\n<td style=\"text-align: center;\">5</td>\n<td style=\"text-align: center;\">6.403 -&gt; 6</td>\n<td style=\"text-align: center;\">5 + 6 = 11</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">(3,3)</td>\n<td style=\"text-align: center;\">6</td>\n<td style=\"text-align: center;\">7.071 -&gt; 7</td>\n<td style=\"text-align: center;\">6 + 7 = 13</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>So clearly, (0, 5) should be pulled from the priority queue before (3, 3), yet in your sequence you have (3, 3) coming before (0, 5). This means something is wrong in your algorithm.</p>\n"}],"owner":{"account_id":19678378,"reputation":661,"user_id":14405992,"display_name":"Chris Costa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75509529,"answer_count":1,"score":1,"last_activity_date":1676897752,"creation_date":1676826326,"question_id":75501885,"body_markdown":"So I have created an app where I have to find the shortest route from ``startPos`` to ``endPos`` using the A* algorithm. I have approached this problem with the 2 most common heuristics:\r\n\r\n **1. Manhattan Distance**\r\n\r\n **2. Euclidean Distance**\r\n\r\nNot only both of them give me the same path but they both explore the same nodes. Does it make sense?\r\n\r\nMy functions for calculating the distances:\r\n\r\n```\r\npublic static int manhattanDistance(int row1, int col1, int row2, int col2) {\r\n    return Math.abs(row1 - row2) + Math.abs(col1 - col2);\r\n} \r\n```\r\n\r\n```\r\npublic static int euclideanDistance(int row1, int col1, int row2, int col2) {\r\n    int dx = col2 - col1;\r\n    int dy = row2 - row1;\r\n    return (int) Math.sqrt(dx * dx + dy * dy);\r\n}\r\n```\r\nAn example is when I have the grid:\r\n```\r\nS0000001000\r\n11001000010\r\n00000000000\r\n00100000001\r\n0000010100E\r\n```\r\nwith starting position ``S = (0.0)`` and ending position ``E = (4,10)``\r\n\r\nAfter executing the algorithm I get the results:\r\n```\r\nCalculating result using Manhattan Distance.\r\nNodes explored (33): (0, 0) (0, 1) (0, 2) (0, 3) (1, 2) (1, 3) (2, 2) (2, 3) (0, 4) (3, 3) (0, 5) (4, 3) (1, 5) (3, 4) (1, 6) (3, 5) (2, 6) (1, 7) (2, 7) (1, 8) (3, 6) (3, 7) (2, 8) (3, 8) (2, 9) (4, 8) (2, 10) (4, 9) (0, 8) (2, 1) (0, 9) (3, 1) (4, 1)\r\nPath: (0, 0) (0, 1) (0, 2) (0, 3) (0, 4) (0, 5) (1, 5) (1, 6) (2, 6) (2, 7) (3, 7) (3, 8) (4, 8) (4, 9) (4, 10)\r\n\r\nCalculating result using Euclidean Distance.\r\nNodes explored (33): (0, 0) (0, 1) (0, 2) (0, 3) (1, 2) (1, 3) (2, 2) (2, 3) (0, 4) (3, 3) (0, 5) (4, 3) (1, 5) (3, 4) (1, 6) (3, 5) (2, 6) (1, 7) (2, 7) (1, 8) (3, 6) (3, 7) (2, 8) (3, 8) (2, 9) (4, 8) (2, 10) (4, 9) (0, 8) (2, 1) (0, 9) (3, 1) (4, 1)\r\nPath: (0, 0) (0, 1) (0, 2) (0, 3) (0, 4) (0, 5) (1, 5) (1, 6) (2, 6) (2, 7) (3, 7) (3, 8) (4, 8) (4, 9) (4, 10)\r\n```\r\nAs we can see not only the path is the same but the nodes are the same explored in the same order. Should it be like this? Does it make sense to be like this? Is it always going to be like this for all scenarios?","title":"Is it logical for Manhattan and Euclidean heuristics to check the same nodes?","body":"<p>So I have created an app where I have to find the shortest route from <code>startPos</code> to <code>endPos</code> using the A* algorithm. I have approached this problem with the 2 most common heuristics:</p>\n<p><strong>1. Manhattan Distance</strong></p>\n<p><strong>2. Euclidean Distance</strong></p>\n<p>Not only both of them give me the same path but they both explore the same nodes. Does it make sense?</p>\n<p>My functions for calculating the distances:</p>\n<pre><code>public static int manhattanDistance(int row1, int col1, int row2, int col2) {\n    return Math.abs(row1 - row2) + Math.abs(col1 - col2);\n} \n</code></pre>\n<pre><code>public static int euclideanDistance(int row1, int col1, int row2, int col2) {\n    int dx = col2 - col1;\n    int dy = row2 - row1;\n    return (int) Math.sqrt(dx * dx + dy * dy);\n}\n</code></pre>\n<p>An example is when I have the grid:</p>\n<pre><code>S0000001000\n11001000010\n00000000000\n00100000001\n0000010100E\n</code></pre>\n<p>with starting position <code>S = (0.0)</code> and ending position <code>E = (4,10)</code></p>\n<p>After executing the algorithm I get the results:</p>\n<pre><code>Calculating result using Manhattan Distance.\nNodes explored (33): (0, 0) (0, 1) (0, 2) (0, 3) (1, 2) (1, 3) (2, 2) (2, 3) (0, 4) (3, 3) (0, 5) (4, 3) (1, 5) (3, 4) (1, 6) (3, 5) (2, 6) (1, 7) (2, 7) (1, 8) (3, 6) (3, 7) (2, 8) (3, 8) (2, 9) (4, 8) (2, 10) (4, 9) (0, 8) (2, 1) (0, 9) (3, 1) (4, 1)\nPath: (0, 0) (0, 1) (0, 2) (0, 3) (0, 4) (0, 5) (1, 5) (1, 6) (2, 6) (2, 7) (3, 7) (3, 8) (4, 8) (4, 9) (4, 10)\n\nCalculating result using Euclidean Distance.\nNodes explored (33): (0, 0) (0, 1) (0, 2) (0, 3) (1, 2) (1, 3) (2, 2) (2, 3) (0, 4) (3, 3) (0, 5) (4, 3) (1, 5) (3, 4) (1, 6) (3, 5) (2, 6) (1, 7) (2, 7) (1, 8) (3, 6) (3, 7) (2, 8) (3, 8) (2, 9) (4, 8) (2, 10) (4, 9) (0, 8) (2, 1) (0, 9) (3, 1) (4, 1)\nPath: (0, 0) (0, 1) (0, 2) (0, 3) (0, 4) (0, 5) (1, 5) (1, 6) (2, 6) (2, 7) (3, 7) (3, 8) (4, 8) (4, 9) (4, 10)\n</code></pre>\n<p>As we can see not only the path is the same but the nodes are the same explored in the same order. Should it be like this? Does it make sense to be like this? Is it always going to be like this for all scenarios?</p>\n"},{"tags":["java","spring-boot","maven","pom.xml"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676898043,"post_id":75509497,"comment_id":133224155,"body_markdown":"As stated in the other question no you don&#39;t need to exclude it! The exclude in the plugin section is a totally different one then the one from the dependencies section! It is needed here because lombok is a provided dependency, by default those aren&#39;t included. However with a Spring BOot application those are included in the fat-jar. For lombok that isn&#39;t needed hence the exclude in the plugin section as to not include it in the resulting jar.","body":"As stated in the other question no you don&#39;t need to exclude it! The exclude in the plugin section is a totally different one then the one from the dependencies section! It is needed here because lombok is a provided dependency, by default those aren&#39;t included. However with a Spring BOot application those are included in the fat-jar. For lombok that isn&#39;t needed hence the exclude in the plugin section as to not include it in the resulting jar."},{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1676898880,"post_id":75509497,"comment_id":133224365,"body_markdown":"@M.Deinum Thanks for reply. **1.** Do you mean that in order to remove a transitive dependency (for example when adding Lombok separately and it is also included in Spring), I just need to specify the version that I added in the `&lt;properties&gt;` tags as shown above, right?","body":"@M.Deinum Thanks for reply. <b>1.</b> Do you mean that in order to remove a transitive dependency (for example when adding Lombok separately and it is also included in Spring), I just need to specify the version that I added in the <code>&lt;properties&gt;</code> tags as shown above, right?"},{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1676898983,"post_id":75509497,"comment_id":133224394,"body_markdown":"**2.** In this scene, do I need to remove `&lt;exclude&gt;` part only or all the `&lt;plugin&gt;` part for `lombok` (shown above) above from pom.xml?","body":"<b>2.</b> In this scene, do I need to remove <code>&lt;exclude&gt;</code> part only or all the <code>&lt;plugin&gt;</code> part for <code>lombok</code> (shown above) above from pom.xml?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676899426,"post_id":75509497,"comment_id":133224525,"body_markdown":"I strongly suggest you first start to learn how maven works. As you are mixing a lot of, unrelated, things together. 1. No, 2 No. Read my comment again.","body":"I strongly suggest you first start to learn how maven works. As you are mixing a lot of, unrelated, things together. 1. No, 2 No. Read my comment again."},{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1676899567,"post_id":75509497,"comment_id":133224559,"body_markdown":"Which one is unrelated? Did not you suggest to me that defining version using &lt;properties&gt; tag instead of excluding the transitive reference?","body":"Which one is unrelated? Did not you suggest to me that defining version using &lt;properties&gt; tag instead of excluding the transitive reference?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676900173,"post_id":75509497,"comment_id":133224752,"body_markdown":"That is what I suggested and you should do, hence I don&#39;t get the gist of this question as that is more or less asking the same. The exclude you mention is for dependencies, the exclude here is for something entirely different. That are different beast. You also need to exclude it for a totally different reason.","body":"That is what I suggested and you should do, hence I don&#39;t get the gist of this question as that is more or less asking the same. The exclude you mention is for dependencies, the exclude here is for something entirely different. That are different beast. You also need to exclude it for a totally different reason."},{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1676900420,"post_id":75509497,"comment_id":133224824,"body_markdown":"Yes, I followed your suggestion. But I think excluding snakeyaml or lombox fom Spring when adding them as dependencies are the same, what is the difference? If you clarify us, there will be no confusion. After that I can also read, but at first it seems to be useful to clarify some points you mentioned.","body":"Yes, I followed your suggestion. But I think excluding snakeyaml or lombox fom Spring when adding them as dependencies are the same, what is the difference? If you clarify us, there will be no confusion. After that I can also read, but at first it seems to be useful to clarify some points you mentioned."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676900605,"post_id":75509497,"comment_id":133224882,"body_markdown":"No they aren&#39;t the same not even close. And as mentioned twice before en exclude in the dependencies section is different then the exclude here for the spring-boot-maven-plugin as I already explained in my first comment.","body":"No they aren&#39;t the same not even close. And as mentioned twice before en exclude in the dependencies section is different then the exclude here for the spring-boot-maven-plugin as I already explained in my first comment."},{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1676903098,"post_id":75509497,"comment_id":133225655,"body_markdown":"I think the problem with your explanations is not posting an example code and generally try to explain by words. But even if they are generally useful, unexperienced developers cannot get benefit from those unless you provide an example code. Instead of posting several comments, I think you would give an example part of pom.xml and show clearly the difference :)","body":"I think the problem with your explanations is not posting an example code and generally try to explain by words. But even if they are generally useful, unexperienced developers cannot get benefit from those unless you provide an example code. Instead of posting several comments, I think you would give an example part of pom.xml and show clearly the difference :)"}],"owner":{"display_name":"user21099360"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676897524,"creation_date":1676897524,"question_id":75509497,"body_markdown":"I use lombok in my project and I realized the following `&lt;exclude&gt;` part in my pom.xml:\r\n\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;excludes&gt;\r\n            &lt;exclude&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nI just add the lombok dependency and did not add this block. Is this something that lombok is also available and when I add it explicitly, it is excluded by adding this block automatically to the pom.xml? \r\n\r\nIf it is the case, should I use this approach (adding `&lt;excludes&gt;` block for the related library) when I use a different version for transitive dependencies e.g. `snakeyaml` ? Or should I just add the properties as shown below and override the transitive dependency version? \r\n\r\n```\r\n&lt;properties&gt;\r\n    &lt;snakeyaml.version&gt;1.33&lt;/snakeyaml.version&gt;\r\n&lt;/properties&gt;\r\n```","title":"Excluding lombok from pom.xml in Spring Boot?","body":"<p>I use lombok in my project and I realized the following <code>&lt;exclude&gt;</code> part in my pom.xml:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;/exclude&gt;\n        &lt;/excludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I just add the lombok dependency and did not add this block. Is this something that lombok is also available and when I add it explicitly, it is excluded by adding this block automatically to the pom.xml?</p>\n<p>If it is the case, should I use this approach (adding <code>&lt;excludes&gt;</code> block for the related library) when I use a different version for transitive dependencies e.g. <code>snakeyaml</code> ? Or should I just add the properties as shown below and override the transitive dependency version?</p>\n<pre><code>&lt;properties&gt;\n    &lt;snakeyaml.version&gt;1.33&lt;/snakeyaml.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":["java","spring","jvm","graalvm","spring-native"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676896985,"creation_date":1676675993,"answer_id":75490057,"question_id":75489897,"body_markdown":"First of all, you should know what a JRE (Java runtime environment) is. Basically, it includes everything required to run Java applications that are already built. A [JDK (Java Development Kit)][1] is a superset of a JRE, adding the tools for developing Java applications.\r\n\r\nWith [`jlink`][2], you can create JRE images. This means you are creating a Java installation that is capable of running your Java program. This can be done in a way so it only contains the necessary modules. [`jpackage`][3] allows you to create an installer for such a JRE.\r\n\r\nOn the other hand, a native image is a version of your code that&#39;s compiled and optimized for a specific target platform. Typically, it&#39;s a single executable file that runs your code. When [creating a native image][4], it takes your application and converts (compiles) it to a platform specific executable (unlike `jlink` which creates a JRE that is able run your &quot;normal&quot; JAR).\r\n\r\nNative-image does not generate a JAR but an ELF/EXE file which can be executed on your device without a Java installation while `jlink` just creates a (minimal) Java installation capable of running your application.\r\n\r\nIt should be noted that native-image comes with a few limitations. For example, remote class loading is not possible and if you use [Reflection][5], you [need to specify what to reflectively access at compile-time](https://docs.oracle.com/en/graalvm/enterprise/21/docs/reference-manual/native-image/Reflection/).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/\r\n  [2]: https://openjdk.org/jeps/282\r\n  [3]: https://openjdk.org/jeps/392\r\n  [4]: https://www.graalvm.org/22.0/reference-manual/native-image/\r\n  [5]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/reflect/package-summary.html","title":"Difference between Java custom JRE and Java native image","body":"<p>First of all, you should know what a JRE (Java runtime environment) is. Basically, it includes everything required to run Java applications that are already built. A <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/\" rel=\"nofollow noreferrer\">JDK (Java Development Kit)</a> is a superset of a JRE, adding the tools for developing Java applications.</p>\n<p>With <a href=\"https://openjdk.org/jeps/282\" rel=\"nofollow noreferrer\"><code>jlink</code></a>, you can create JRE images. This means you are creating a Java installation that is capable of running your Java program. This can be done in a way so it only contains the necessary modules. <a href=\"https://openjdk.org/jeps/392\" rel=\"nofollow noreferrer\"><code>jpackage</code></a> allows you to create an installer for such a JRE.</p>\n<p>On the other hand, a native image is a version of your code that's compiled and optimized for a specific target platform. Typically, it's a single executable file that runs your code. When <a href=\"https://www.graalvm.org/22.0/reference-manual/native-image/\" rel=\"nofollow noreferrer\">creating a native image</a>, it takes your application and converts (compiles) it to a platform specific executable (unlike <code>jlink</code> which creates a JRE that is able run your &quot;normal&quot; JAR).</p>\n<p>Native-image does not generate a JAR but an ELF/EXE file which can be executed on your device without a Java installation while <code>jlink</code> just creates a (minimal) Java installation capable of running your application.</p>\n<p>It should be noted that native-image comes with a few limitations. For example, remote class loading is not possible and if you use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/reflect/package-summary.html\" rel=\"nofollow noreferrer\">Reflection</a>, you <a href=\"https://docs.oracle.com/en/graalvm/enterprise/21/docs/reference-manual/native-image/Reflection/\" rel=\"nofollow noreferrer\">need to specify what to reflectively access at compile-time</a>.</p>\n"}],"owner":{"account_id":27815181,"reputation":11,"user_id":21236733,"display_name":"MRoose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676896985,"creation_date":1676674043,"question_id":75489897,"body_markdown":"In addition to developing classic services on Spring Boot, I want to know Java with it environment better.\r\nWhen I began to study portability, I came across such concepts as custom JRE (jlink, jmods) and native image (GraalVM, Liberica NIC).\r\n\r\nAs I understand :\r\n\r\n- Custom JRE for creating distribution folder with executable file. In folder only necessary dependencies. It arrived in Java 9\r\n- Native image for creating executable all in one JAR\r\n\r\nWhich of them should be used in which cases?  \r\n","title":"Difference between Java custom JRE and Java native image","body":"<p>In addition to developing classic services on Spring Boot, I want to know Java with it environment better.\nWhen I began to study portability, I came across such concepts as custom JRE (jlink, jmods) and native image (GraalVM, Liberica NIC).</p>\n<p>As I understand :</p>\n<ul>\n<li>Custom JRE for creating distribution folder with executable file. In folder only necessary dependencies. It arrived in Java 9</li>\n<li>Native image for creating executable all in one JAR</li>\n</ul>\n<p>Which of them should be used in which cases?</p>\n"},{"tags":["java","flutter","encryption","aes"],"comments":[{"owner":{"account_id":5624889,"reputation":754,"user_id":4453627,"display_name":"CbL"},"score":0,"creation_date":1615031272,"post_id":66504628,"comment_id":117568973,"body_markdown":"Do you mean you want to encrypt the data with java and  then decrypt with dart (in flutter)? Can you elaborate more about your question?","body":"Do you mean you want to encrypt the data with java and  then decrypt with dart (in flutter)? Can you elaborate more about your question?"},{"owner":{"account_id":20885262,"reputation":1,"user_id":15342010,"display_name":"saeed hooshmand"},"score":0,"creation_date":1615178210,"post_id":66504628,"comment_id":117601697,"body_markdown":"@CbL  yes , please help  me","body":"@CbL  yes , please help  me"}],"owner":{"account_id":20885262,"reputation":1,"user_id":15342010,"display_name":"saeed hooshmand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676896938,"creation_date":1615026223,"question_id":66504628,"body_markdown":"I have some code for encryption data in **java** with **salt** and **key**\r\n\r\n    Encryption.Builder builder = new Encryption.Builder()\r\n            .setIv(new byte[16])\r\n            .setKey(&quot;encry&quot;)\r\n            .setSalt(salt)\r\n            .setKeyLength(128)\r\n            .setKeyAlgorithm(&quot;AES&quot;)\r\n            .setCharsetName(&quot;UTF8&quot;)\r\n            .setIterationCount(16)//65536\r\n            .setDigestAlgorithm(&quot;SHA1&quot;)\r\n            .setBase64Mode(Base64.DEFAULT)\r\n            .setAlgorithm(&quot;AES/CBC/PKCS5Padding&quot;)\r\n            .setSecureRandomAlgorithm(&quot;SHA1PRNG&quot;)\r\n            .setSecretKeyType(&quot;PBKDF2WithHmacSHA1&quot;);\r\n\r\n   \r\n      Encryption encryption = builder.build();\r\n      System.out.println(&quot;decryptedEnc = &quot; + enc);\r\n      String decrypt = encryption.decryptOrNull(&quot;9iLnZQjN2aZoCs04lkWw3HX2xb6io8ouND7VhhfeIYsKhUCjPHgThL3IeIiEPBmpwGkAKoIFvJidsa3rancHJoYy2e3ipj5zw+e2L7va5qA=&quot;);\r\n      System.out.println(&quot;decrypted = &quot; + decrypt);\r\n      return decrypt;\r\n\r\n\r\nand I decrypt data to flutter , But I can&#39;t found answer this question\r\n\r\n\r\nplease help me\r\n\r\n\r\ntnx a lot ","title":"I went AES encryption in java convert and use to flutter","body":"<p>I have some code for encryption data in <strong>java</strong> with <strong>salt</strong> and <strong>key</strong></p>\n<pre><code>Encryption.Builder builder = new Encryption.Builder()\n        .setIv(new byte[16])\n        .setKey(&quot;encry&quot;)\n        .setSalt(salt)\n        .setKeyLength(128)\n        .setKeyAlgorithm(&quot;AES&quot;)\n        .setCharsetName(&quot;UTF8&quot;)\n        .setIterationCount(16)//65536\n        .setDigestAlgorithm(&quot;SHA1&quot;)\n        .setBase64Mode(Base64.DEFAULT)\n        .setAlgorithm(&quot;AES/CBC/PKCS5Padding&quot;)\n        .setSecureRandomAlgorithm(&quot;SHA1PRNG&quot;)\n        .setSecretKeyType(&quot;PBKDF2WithHmacSHA1&quot;);\n\n\n  Encryption encryption = builder.build();\n  System.out.println(&quot;decryptedEnc = &quot; + enc);\n  String decrypt = encryption.decryptOrNull(&quot;9iLnZQjN2aZoCs04lkWw3HX2xb6io8ouND7VhhfeIYsKhUCjPHgThL3IeIiEPBmpwGkAKoIFvJidsa3rancHJoYy2e3ipj5zw+e2L7va5qA=&quot;);\n  System.out.println(&quot;decrypted = &quot; + decrypt);\n  return decrypt;\n</code></pre>\n<p>and I decrypt data to flutter , But I can't found answer this question</p>\n<p>please help me</p>\n<p>tnx a lot</p>\n"},{"tags":["javascript","java","xml","jenkins","ant"],"answers":[{"tags":[],"owner":{"account_id":13171843,"reputation":15,"user_id":9513895,"display_name":"man like dave"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676896901,"creation_date":1676536904,"answer_id":75469682,"question_id":75467256,"body_markdown":"using the suggestion below fixed the error.\r\n\r\ni.e.\r\n```javascript\r\nvar Zip = org.apache.tools.ant.taskdefs.Zip;\r\n```\r\n\r\nhttps://stackoverflow.com/questions/22503100/java-8-javascript-engine-backwards-compatibility\r\n","title":"Cannot load ZipFileSet in Ant","body":"<p>using the suggestion below fixed the error.</p>\n<p>i.e.</p>\n<pre class=\"lang-js prettyprint-override\"><code>var Zip = org.apache.tools.ant.taskdefs.Zip;\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/22503100/java-8-javascript-engine-backwards-compatibility\">Java 8 Javascript Engine backwards compatibility</a></p>\n"}],"owner":{"account_id":13171843,"reputation":15,"user_id":9513895,"display_name":"man like dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75469682,"answer_count":1,"score":0,"last_activity_date":1676896901,"creation_date":1676514534,"question_id":75467256,"body_markdown":"i get a typeerror when executing the below in my ant deploy.xml file, any idea what&#39;s wrong?\r\nThis worked about two weeks ago\r\n \r\n**command**:ant -f deploy.xml\r\n\r\n**ant version**: 1.9.4\r\n\r\n**error**:*javax.script.ScriptException: TypeError: Cannot load script from Packages.org.apache.tools.ant.types.ZipFileSet* \r\n```\r\n&lt;script language=&quot;javascript&quot;&gt;&lt;![CDATA[\r\n\t     var version = java.lang.System.getProperty(&quot;java.version&quot;);\r\n         if ( version.startsWith(&quot;1.8.0&quot;)) {\r\n             load(Packages.org.apache.tools.ant.types.ZipFileSet);\r\n             load(Packages.org.apache.tools.ant.taskdefs.Zip);\r\n         } else {\r\n             importClass(Packages.org.apache.tools.ant.types.ZipFileSet);\r\n             importClass(Packages.org.apache.tools.ant.taskdefs.Zip);\r\n\t\t }\r\n         ]]&gt;\r\n&lt;/script&gt;\r\n```","title":"Cannot load ZipFileSet in Ant","body":"<p>i get a typeerror when executing the below in my ant deploy.xml file, any idea what's wrong?\nThis worked about two weeks ago</p>\n<p><strong>command</strong>:ant -f deploy.xml</p>\n<p><strong>ant version</strong>: 1.9.4</p>\n<p><strong>error</strong>:<em>javax.script.ScriptException: TypeError: Cannot load script from Packages.org.apache.tools.ant.types.ZipFileSet</em></p>\n<pre><code>&lt;script language=&quot;javascript&quot;&gt;&lt;![CDATA[\n         var version = java.lang.System.getProperty(&quot;java.version&quot;);\n         if ( version.startsWith(&quot;1.8.0&quot;)) {\n             load(Packages.org.apache.tools.ant.types.ZipFileSet);\n             load(Packages.org.apache.tools.ant.taskdefs.Zip);\n         } else {\n             importClass(Packages.org.apache.tools.ant.types.ZipFileSet);\n             importClass(Packages.org.apache.tools.ant.taskdefs.Zip);\n         }\n         ]]&gt;\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["java","multithreading","semaphore","executorservice","java.util.concurrent"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1676893674,"post_id":75508858,"comment_id":133222928,"body_markdown":"Inter- or intra-process? Doesn&#39;t a `synchronized` block work already? How are you using the semaphore inside `MyTask`?","body":"Inter- or intra-process? Doesn&#39;t a <code>synchronized</code> block work already? How are you using the semaphore inside <code>MyTask</code>?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1676893789,"post_id":75508858,"comment_id":133222973,"body_markdown":"If the method that opens and closes the file is synchronized, you shouldn&#39;t have this issue","body":"If the method that opens and closes the file is synchronized, you shouldn&#39;t have this issue"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":5,"creation_date":1676894369,"post_id":75508858,"comment_id":133223135,"body_markdown":"Show us the code that manipulates the data and where you acquire the semaphore. It&#39;s very easy to write threaded code wrong. For example if you protect individual steps in your process by semaphore but not the relevant sequences *together*, then it&#39;s easy to get the problems you describe.","body":"Show us the code that manipulates the data and where you acquire the semaphore. It&#39;s very easy to write threaded code wrong. For example if you protect individual steps in your process by semaphore but not the relevant sequences <i>together</i>, then it&#39;s easy to get the problems you describe."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1677037369,"post_id":75508858,"comment_id":133256657,"body_markdown":"needs more code.. what is `MyTask`?","body":"needs more code.. what is <code>MyTask</code>?"}],"owner":{"account_id":25568793,"reputation":1,"user_id":19349509,"display_name":"Eswari Sekar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676896792,"creation_date":1676893508,"question_id":75508858,"body_markdown":"I&#39;m creating dynamic threads as shown below \r\n```\r\nExecutorService service = Executors.newFixedThreadPool(brnchCount);\r\nSemaphore smp = new Semaphore(1);\r\nfor (Object o : list) {\r\nservice.submit(new MyTask(o, projectId, serverConfigFilePath, path, packName, executeParam, smp));\r\n}\r\nservice.shutdown();\r\n```\r\n\r\nEach call has to access a json file and update data to the same. As all threads are accessing the same file, its throwing exception and corrupting the file.\r\n\r\n\r\nI tried using the &#39;Semaphore&#39; to acquire the method which manipulates the file. Still m getting the same error.\r\nHow can all the threads read and write the json without any exception ?","title":"When a thread is reading a json file, how to make sure all other threads are in wait in java?","body":"<p>I'm creating dynamic threads as shown below</p>\n<pre><code>ExecutorService service = Executors.newFixedThreadPool(brnchCount);\nSemaphore smp = new Semaphore(1);\nfor (Object o : list) {\nservice.submit(new MyTask(o, projectId, serverConfigFilePath, path, packName, executeParam, smp));\n}\nservice.shutdown();\n</code></pre>\n<p>Each call has to access a json file and update data to the same. As all threads are accessing the same file, its throwing exception and corrupting the file.</p>\n<p>I tried using the 'Semaphore' to acquire the method which manipulates the file. Still m getting the same error.\nHow can all the threads read and write the json without any exception ?</p>\n"},{"tags":["java","tomcat","jackrabbit"],"comments":[{"owner":{"account_id":1688160,"reputation":22605,"user_id":1551022,"accept_rate":89,"display_name":"Jops"},"score":0,"creation_date":1676899172,"post_id":75509141,"comment_id":133224452,"body_markdown":"Your issue is likely due to missing dependencies only, double check your classpath.","body":"Your issue is likely due to missing dependencies only, double check your classpath."},{"owner":{"account_id":4468997,"reputation":1,"user_id":3635771,"display_name":"user3635771"},"score":0,"creation_date":1676901594,"post_id":75509141,"comment_id":133225182,"body_markdown":"But how do i know which dependency is missing?","body":"But how do i know which dependency is missing?"},{"owner":{"account_id":1688160,"reputation":22605,"user_id":1551022,"accept_rate":89,"display_name":"Jops"},"score":0,"creation_date":1676904235,"post_id":75509141,"comment_id":133226059,"body_markdown":"This missing class should be in jackrabbit-core.xxx.jar. Check your classpath closely that it references this jar correctly, or has the right permissions to access this jar.","body":"This missing class should be in jackrabbit-core.xxx.jar. Check your classpath closely that it references this jar correctly, or has the right permissions to access this jar."}],"owner":{"account_id":4468997,"reputation":1,"user_id":3635771,"display_name":"user3635771"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676896786,"creation_date":1676895254,"question_id":75509141,"body_markdown":"I have a problem where i do not get any further by googling or researching in any other way. I am new to web applications in general but not new to coding. I apologize in advance should this be a stupid question. \r\n\r\nI am trying to create a test instance from a repository and when i try opening the app i keep on receiving the following error. \r\n\r\n\r\n```\r\nHTTP Status 500 – Internal Server Error\r\nType Exception Report\r\n\r\nMessage Servlet.init() for servlet [dispatcher] threw exception\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\njavax.servlet.ServletException: Servlet.init() for servlet [dispatcher] threw exception\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:829)\r\n\r\nRoot Cause\r\n\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jackrabbitRepository&#39; defined in de.undermuffin.config.ServletContextConfiguration: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.jcr.Repository]: Factory method &#39;jackrabbitRepository&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.apache.jackrabbit.commons.query.QueryObjectModelBuilderRegistry\r\n\torg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:813)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1143)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n\torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\r\n\torg.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n\torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\r\n\torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:838)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:539)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:829)\r\nRoot Cause\r\n\r\norg.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.jcr.Repository]: Factory method &#39;jackrabbitRepository&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.apache.jackrabbit.commons.query.QueryObjectModelBuilderRegistry\r\n\torg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:813)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1143)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n\torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\r\n\torg.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n\torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\r\n\torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:838)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:539)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:829)\r\nRoot Cause\r\n\r\njava.lang.NoClassDefFoundError: Could not initialize class org.apache.jackrabbit.commons.query.QueryObjectModelBuilderRegistry\r\n\torg.apache.jackrabbit.core.query.QOMQueryFactory.getSupportedLanguages(QOMQueryFactory.java:61)\r\n\torg.apache.jackrabbit.core.query.CompoundQueryFactory.createQuery(CompoundQueryFactory.java:66)\r\n\torg.apache.jackrabbit.core.query.QueryManagerImpl$2.perform(QueryManagerImpl.java:95)\r\n\torg.apache.jackrabbit.core.query.QueryManagerImpl$2.perform(QueryManagerImpl.java:91)\r\n\torg.apache.jackrabbit.core.session.SessionState.perform(SessionState.java:216)\r\n\torg.apache.jackrabbit.core.query.QueryManagerImpl.perform(QueryManagerImpl.java:197)\r\n\torg.apache.jackrabbit.core.query.QueryManagerImpl.createQuery(QueryManagerImpl.java:91)\r\n\torg.apache.jackrabbit.core.security.user.IndexNodeResolver.buildQuery(IndexNodeResolver.java:195)\r\n\torg.apache.jackrabbit.core.security.user.IndexNodeResolver.buildQuery(IndexNodeResolver.java:144)\r\n\torg.apache.jackrabbit.core.security.user.IndexNodeResolver.findNode(IndexNodeResolver.java:72)\r\n\torg.apache.jackrabbit.core.security.user.UserManagerImpl.getAuthorizable(UserManagerImpl.java:486)\r\n\torg.apache.jackrabbit.core.security.user.UserManagerImpl.setPrincipal(UserManagerImpl.java:717)\r\n\torg.apache.jackrabbit.core.security.user.UserManagerImpl.createUser(UserManagerImpl.java:578)\r\n\torg.apache.jackrabbit.core.security.user.UserManagerImpl.createUser(UserManagerImpl.java:562)\r\n\torg.apache.jackrabbit.core.security.user.UserManagerImpl.createAdmin(UserManagerImpl.java:1006)\r\n\torg.apache.jackrabbit.core.security.user.UserManagerImpl.getAuthorizable(UserManagerImpl.java:447)\r\n\torg.apache.jackrabbit.core.DefaultSecurityManager.createSystemUsers(DefaultSecurityManager.java:609)\r\n\torg.apache.jackrabbit.core.DefaultSecurityManager.init(DefaultSecurityManager.java:205)\r\n\torg.apache.jackrabbit.core.RepositoryImpl.initSecurityManager(RepositoryImpl.java:473)\r\n\torg.apache.jackrabbit.core.RepositoryImpl.&lt;init&gt;(RepositoryImpl.java:332)\r\n\torg.apache.jackrabbit.core.RepositoryImpl.create(RepositoryImpl.java:615)\r\n\torg.apache.jackrabbit.core.jndi.BindableRepository.createRepository(BindableRepository.java:141)\r\n\torg.apache.jackrabbit.core.jndi.BindableRepository.init(BindableRepository.java:117)\r\n\torg.apache.jackrabbit.core.jndi.BindableRepository.&lt;init&gt;(BindableRepository.java:106)\r\n\torg.apache.jackrabbit.core.jndi.BindableRepositoryFactory.getObjectInstance(BindableRepositoryFactory.java:52)\r\n\torg.apache.naming.factory.FactoryBase.getObjectInstance(FactoryBase.java:96)\r\n\tjava.naming/javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:341)\r\n\torg.apache.naming.NamingContext.lookup(NamingContext.java:857)\r\n\torg.apache.naming.NamingContext.lookup(NamingContext.java:160)\r\n\torg.apache.naming.NamingContext.lookup(NamingContext.java:843)\r\n\torg.apache.naming.NamingContext.lookup(NamingContext.java:174)\r\n\tde.undermuffin.config.ServletContextConfiguration.jackrabbitRepository(ServletContextConfiguration.java:259)\r\n\tde.undermuffin.config.ServletContextConfiguration$$EnhancerBySpringCGLIB$$7d5aba94.CGLIB$jackrabbitRepository$21(&lt;generated&gt;)\r\n\tde.undermuffin.config.ServletContextConfiguration$$EnhancerBySpringCGLIB$$7d5aba94$$FastClassBySpringCGLIB$$be193171.invoke(&lt;generated&gt;)\r\n\torg.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\r\n\torg.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:318)\r\n\tde.undermuffin.config.ServletContextConfiguration$$EnhancerBySpringCGLIB$$7d5aba94.jackrabbitRepository(&lt;generated&gt;)\r\n\tjava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tjava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tjava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tjava.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\torg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:813)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1143)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n\torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\r\n\torg.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n\torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\r\n\torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:838)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:539)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:829)\r\nNote The full stack trace of the root cause is available in the server logs.\r\n\r\nApache Tomcat/9.0.31 (Ubuntu)\r\n```\r\n\r\n\r\nI tried to reasearch the error but i am unsure what is missing and where to add something to the code.","title":"Problem starting java app with jackrabbit spring etc","body":"<p>I have a problem where i do not get any further by googling or researching in any other way. I am new to web applications in general but not new to coding. I apologize in advance should this be a stupid question.</p>\n<p>I am trying to create a test instance from a repository and when i try opening the app i keep on receiving the following error.</p>\n<pre><code>HTTP Status 500 – Internal Server Error\nType Exception Report\n\nMessage Servlet.init() for servlet [dispatcher] threw exception\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\njavax.servlet.ServletException: Servlet.init() for servlet [dispatcher] threw exception\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:829)\n\nRoot Cause\n\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jackrabbitRepository' defined in de.undermuffin.config.ServletContextConfiguration: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.jcr.Repository]: Factory method 'jackrabbitRepository' threw exception; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.apache.jackrabbit.commons.query.QueryObjectModelBuilderRegistry\n    org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:813)\n    org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1143)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\n    org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:838)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:539)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:829)\nRoot Cause\n\norg.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.jcr.Repository]: Factory method 'jackrabbitRepository' threw exception; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.apache.jackrabbit.commons.query.QueryObjectModelBuilderRegistry\n    org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\n    org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:813)\n    org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1143)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\n    org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:838)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:539)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:829)\nRoot Cause\n\njava.lang.NoClassDefFoundError: Could not initialize class org.apache.jackrabbit.commons.query.QueryObjectModelBuilderRegistry\n    org.apache.jackrabbit.core.query.QOMQueryFactory.getSupportedLanguages(QOMQueryFactory.java:61)\n    org.apache.jackrabbit.core.query.CompoundQueryFactory.createQuery(CompoundQueryFactory.java:66)\n    org.apache.jackrabbit.core.query.QueryManagerImpl$2.perform(QueryManagerImpl.java:95)\n    org.apache.jackrabbit.core.query.QueryManagerImpl$2.perform(QueryManagerImpl.java:91)\n    org.apache.jackrabbit.core.session.SessionState.perform(SessionState.java:216)\n    org.apache.jackrabbit.core.query.QueryManagerImpl.perform(QueryManagerImpl.java:197)\n    org.apache.jackrabbit.core.query.QueryManagerImpl.createQuery(QueryManagerImpl.java:91)\n    org.apache.jackrabbit.core.security.user.IndexNodeResolver.buildQuery(IndexNodeResolver.java:195)\n    org.apache.jackrabbit.core.security.user.IndexNodeResolver.buildQuery(IndexNodeResolver.java:144)\n    org.apache.jackrabbit.core.security.user.IndexNodeResolver.findNode(IndexNodeResolver.java:72)\n    org.apache.jackrabbit.core.security.user.UserManagerImpl.getAuthorizable(UserManagerImpl.java:486)\n    org.apache.jackrabbit.core.security.user.UserManagerImpl.setPrincipal(UserManagerImpl.java:717)\n    org.apache.jackrabbit.core.security.user.UserManagerImpl.createUser(UserManagerImpl.java:578)\n    org.apache.jackrabbit.core.security.user.UserManagerImpl.createUser(UserManagerImpl.java:562)\n    org.apache.jackrabbit.core.security.user.UserManagerImpl.createAdmin(UserManagerImpl.java:1006)\n    org.apache.jackrabbit.core.security.user.UserManagerImpl.getAuthorizable(UserManagerImpl.java:447)\n    org.apache.jackrabbit.core.DefaultSecurityManager.createSystemUsers(DefaultSecurityManager.java:609)\n    org.apache.jackrabbit.core.DefaultSecurityManager.init(DefaultSecurityManager.java:205)\n    org.apache.jackrabbit.core.RepositoryImpl.initSecurityManager(RepositoryImpl.java:473)\n    org.apache.jackrabbit.core.RepositoryImpl.&lt;init&gt;(RepositoryImpl.java:332)\n    org.apache.jackrabbit.core.RepositoryImpl.create(RepositoryImpl.java:615)\n    org.apache.jackrabbit.core.jndi.BindableRepository.createRepository(BindableRepository.java:141)\n    org.apache.jackrabbit.core.jndi.BindableRepository.init(BindableRepository.java:117)\n    org.apache.jackrabbit.core.jndi.BindableRepository.&lt;init&gt;(BindableRepository.java:106)\n    org.apache.jackrabbit.core.jndi.BindableRepositoryFactory.getObjectInstance(BindableRepositoryFactory.java:52)\n    org.apache.naming.factory.FactoryBase.getObjectInstance(FactoryBase.java:96)\n    java.naming/javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:341)\n    org.apache.naming.NamingContext.lookup(NamingContext.java:857)\n    org.apache.naming.NamingContext.lookup(NamingContext.java:160)\n    org.apache.naming.NamingContext.lookup(NamingContext.java:843)\n    org.apache.naming.NamingContext.lookup(NamingContext.java:174)\n    de.undermuffin.config.ServletContextConfiguration.jackrabbitRepository(ServletContextConfiguration.java:259)\n    de.undermuffin.config.ServletContextConfiguration$$EnhancerBySpringCGLIB$$7d5aba94.CGLIB$jackrabbitRepository$21(&lt;generated&gt;)\n    de.undermuffin.config.ServletContextConfiguration$$EnhancerBySpringCGLIB$$7d5aba94$$FastClassBySpringCGLIB$$be193171.invoke(&lt;generated&gt;)\n    org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\n    org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:318)\n    de.undermuffin.config.ServletContextConfiguration$$EnhancerBySpringCGLIB$$7d5aba94.jackrabbitRepository(&lt;generated&gt;)\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\n    org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:813)\n    org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1143)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\n    org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:838)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:539)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:829)\nNote The full stack trace of the root cause is available in the server logs.\n\nApache Tomcat/9.0.31 (Ubuntu)\n</code></pre>\n<p>I tried to reasearch the error but i am unsure what is missing and where to add something to the code.</p>\n"},{"tags":["java","postgresql","hibernate","jpa"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1676889624,"post_id":75508109,"comment_id":133221874,"body_markdown":"&quot;*with fooDate as a VARCHAR*&quot; - Why, oh Why? **Never**, ever store timestamp values in `varchar` columns. The column should be defined as `timestamptz` in the database. You aren&#39;t using `String` in Java either, so why use the wrong data type in the database?","body":"&quot;<i>with fooDate as a VARCHAR</i>&quot; - Why, oh Why? <b>Never</b>, ever store timestamp values in <code>varchar</code> columns. The column should be defined as <code>timestamptz</code> in the database. You aren&#39;t using <code>String</code> in Java either, so why use the wrong data type in the database?"},{"owner":{"account_id":2898866,"reputation":167,"user_id":2486070,"accept_rate":20,"display_name":"Arthur Saint-Genis"},"score":0,"creation_date":1676892157,"post_id":75508109,"comment_id":133222537,"body_markdown":"Because a database is not capable of handling offset correctly, timestamptz only store utc value","body":"Because a database is not capable of handling offset correctly, timestamptz only store utc value"},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1676892676,"post_id":75508109,"comment_id":133222681,"body_markdown":"Yes, and `timestamptz` will be converted to the local time zone of the database client. But if you don&#39;t want an automatic conversion. Use a `timestamp` column and store the &quot;original&quot; time zone in a second column.","body":"Yes, and <code>timestamptz</code> will be converted to the local time zone of the database client. But if you don&#39;t want an automatic conversion. Use a <code>timestamp</code> column and store the &quot;original&quot; time zone in a second column."}],"answers":[{"comments":[{"owner":{"account_id":2898866,"reputation":167,"user_id":2486070,"accept_rate":20,"display_name":"Arthur Saint-Genis"},"score":0,"creation_date":1676951301,"post_id":75509123,"comment_id":133235653,"body_markdown":"Thanks, I actually use cast(f.fooDate as String) &gt; :fromDate , since we store it in standard ISO format, the string cast works properly.","body":"Thanks, I actually use cast(f.fooDate as String) &gt; :fromDate , since we store it in standard ISO format, the string cast works properly."},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1676976114,"post_id":75509123,"comment_id":133240987,"body_markdown":"But that doesn&#39;t seem like it would correctly order date times in different time zones.","body":"But that doesn&#39;t seem like it would correctly order date times in different time zones."}],"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676896761,"creation_date":1676895134,"answer_id":75509123,"question_id":75508109,"body_markdown":"In Hibernate 6 you can use `cast(f.fooDate as LocalDateTime)` or `cast(f.fooDate as Timestamp)` to convert a string representation of a datetime to a timestamp. This _should_ work if the database understands the string representation that you have used to encode the offset datetime.\r\n\r\n(You might also try `cast(f.fooDate as OffsetDateTime)`, though this doesn&#39;t really work especially well on MySQL or PostgreSQL.)\r\n\r\nOn the other hand, it will _not_ work if your `AttributeConverter` encodes the offset datetime to some format you invented that the database doesn&#39;t understand.\r\n\r\nIn that case, you would need to:\r\n\r\n1. figure out a SQL expression that parses your offset data time format, perhaps by writing a SQL function and exporting it to the database, and\r\n2. register that as a custom HQL function using a `FunctionContributor`.","title":"Comparing string and OffsetDateTime in JPA / postgresQL","body":"<p>In Hibernate 6 you can use <code>cast(f.fooDate as LocalDateTime)</code> or <code>cast(f.fooDate as Timestamp)</code> to convert a string representation of a datetime to a timestamp. This <em>should</em> work if the database understands the string representation that you have used to encode the offset datetime.</p>\n<p>(You might also try <code>cast(f.fooDate as OffsetDateTime)</code>, though this doesn't really work especially well on MySQL or PostgreSQL.)</p>\n<p>On the other hand, it will <em>not</em> work if your <code>AttributeConverter</code> encodes the offset datetime to some format you invented that the database doesn't understand.</p>\n<p>In that case, you would need to:</p>\n<ol>\n<li>figure out a SQL expression that parses your offset data time format, perhaps by writing a SQL function and exporting it to the database, and</li>\n<li>register that as a custom HQL function using a <code>FunctionContributor</code>.</li>\n</ol>\n"}],"owner":{"account_id":2898866,"reputation":167,"user_id":2486070,"accept_rate":20,"display_name":"Arthur Saint-Genis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75509123,"answer_count":1,"score":0,"last_activity_date":1676896761,"creation_date":1676889161,"question_id":75508109,"body_markdown":"I am migrating a codebase from mysql to postgresQL.\r\n\r\nI have an entity \r\n\r\n    public class FooEntity implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(nullable = false)\r\n    @Convert(converter = DateTimeConverter.class)\r\n    private OffsetDateTime fooDate;\r\n\r\nThe entity is stored in a foo table with fooDate as a VARCHAR. the DateTimeConverter make the conversion between string / offsetDateTime.\r\n\r\nI have a SQL request doing :\r\n\r\n\r\n            @Query(&quot;&quot;&quot;SELECT f.id as id,\r\n            f.fooDate as fooDate,\r\n            FROM FooEntity f\r\n            WHERE (:fooDate IS NULL OR f.fooDate &gt;= :fooDate)&quot;&quot;&quot;)\r\n    Page&lt;Map&lt;String, Object&gt;&gt; findAllByFooDate(Pageable pageable, OffSetDateTime fooDate);\r\n\r\nMy first issue was that if mysql have no issue with fooDate parameter being an OffsetDateTime, postgresQL will complain that the parameter is an unknown type. \r\n\r\nFirst solution was to convert OffsetDateTime to a String in the method signature. works well for postgresQL, but now I have an hibernate issue that complain that f.fooDate &gt;= :fooDate are not the same type.\r\n\r\nHow can I handle properly that issue ?\r\n\r\n","title":"Comparing string and OffsetDateTime in JPA / postgresQL","body":"<p>I am migrating a codebase from mysql to postgresQL.</p>\n<p>I have an entity</p>\n<pre><code>public class FooEntity implements Serializable {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\n\n@Column(nullable = false)\n@Convert(converter = DateTimeConverter.class)\nprivate OffsetDateTime fooDate;\n</code></pre>\n<p>The entity is stored in a foo table with fooDate as a VARCHAR. the DateTimeConverter make the conversion between string / offsetDateTime.</p>\n<p>I have a SQL request doing :</p>\n<pre><code>        @Query(&quot;&quot;&quot;SELECT f.id as id,\n        f.fooDate as fooDate,\n        FROM FooEntity f\n        WHERE (:fooDate IS NULL OR f.fooDate &gt;= :fooDate)&quot;&quot;&quot;)\nPage&lt;Map&lt;String, Object&gt;&gt; findAllByFooDate(Pageable pageable, OffSetDateTime fooDate);\n</code></pre>\n<p>My first issue was that if mysql have no issue with fooDate parameter being an OffsetDateTime, postgresQL will complain that the parameter is an unknown type.</p>\n<p>First solution was to convert OffsetDateTime to a String in the method signature. works well for postgresQL, but now I have an hibernate issue that complain that f.fooDate &gt;= :fooDate are not the same type.</p>\n<p>How can I handle properly that issue ?</p>\n"},{"tags":["java","android","gluon-mobile","graalvm-native-image","gluonfx"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1676904480,"post_id":75509367,"comment_id":133226145,"body_markdown":"I took a look at the Android module, `BrowserService`, and it appears to handle URI/Web browser. Android has its own rules for [dealing with storage](https://developer.android.com/training/data-storage) which means that [the issue you commented on](https://github.com/gluonhq/attach/issues/242) is still open.","body":"I took a look at the Android module, <code>BrowserService</code>, and it appears to handle URI/Web browser. Android has its own rules for <a href=\"https://developer.android.com/training/data-storage\" rel=\"nofollow noreferrer\">dealing with storage</a> which means that <a href=\"https://github.com/gluonhq/attach/issues/242\" rel=\"nofollow noreferrer\">the issue you commented on</a> is still open."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1676908984,"post_id":75509367,"comment_id":133227523,"body_markdown":"BrowserService is not for file access, indeed. However, StorageService deals with private and public folders.","body":"BrowserService is not for file access, indeed. However, StorageService deals with private and public folders."},{"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"score":0,"creation_date":1676909644,"post_id":75509367,"comment_id":133227721,"body_markdown":"@Jos&#233;Pereda I can access the files via StorageService just fine.\nBut I want to present the user the system file browser with a given directory. Is there another possibility to do this, if not with the BrowserService?","body":"@Jos&#233;Pereda I can access the files via StorageService just fine. But I want to present the user the system file browser with a given directory. Is there another possibility to do this, if not with the BrowserService?"},{"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"score":0,"creation_date":1676909723,"post_id":75509367,"comment_id":133227753,"body_markdown":"@MorrisonChang Oh, by the way ... I just worked around that issue today. I&#39;ll add a comment.","body":"@MorrisonChang Oh, by the way ... I just worked around that issue today. I&#39;ll add a comment."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1676910011,"post_id":75509367,"comment_id":133227832,"body_markdown":"For a FileChooser, you will need something like this: https://github.com/gluonhq/attach/pull/283. Since that hasn&#39;t been integrated into Attach, you could give it a try as part of [AttachExtended](https://github.com/gluonhq/attachextended).","body":"For a FileChooser, you will need something like this: <a href=\"https://github.com/gluonhq/attach/pull/283\" rel=\"nofollow noreferrer\">github.com/gluonhq/attach/pull/283</a>. Since that hasn&#39;t been integrated into Attach, you could give it a try as part of <a href=\"https://github.com/gluonhq/attachextended\" rel=\"nofollow noreferrer\">AttachExtended</a>."},{"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"score":0,"creation_date":1676910677,"post_id":75509367,"comment_id":133228008,"body_markdown":"@Jos&#233;Pereda At least on Linux and Windows there is a difference between a FileChooser and a FileBrowser. The FileChooser is used to present the user an option to select one or more files that are later processed in the application.\nThe FileBrowser is simply an application to navigate the filesystem and view directory contents.\nI want to open a FileBrowser to a log or a data directory of my application.\n\nBut I agree: If the BrowserService does not support file-URLs on all plattforms, there is corrently no Attach service that allows that.","body":"@Jos&#233;Pereda At least on Linux and Windows there is a difference between a FileChooser and a FileBrowser. The FileChooser is used to present the user an option to select one or more files that are later processed in the application. The FileBrowser is simply an application to navigate the filesystem and view directory contents. I want to open a FileBrowser to a log or a data directory of my application.  But I agree: If the BrowserService does not support file-URLs on all plattforms, there is corrently no Attach service that allows that."}],"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676896612,"creation_date":1676896612,"question_id":75509367,"body_markdown":"Writing JavaFX applications for Android, using GraalVM and gluon-maven-plugin:\r\n\r\nI am trying to open a file system location using Gluon Attach (4.0.17-SNAPSHOT) ``BrowserService`` with a ``file:`` URL. That works fine on desktop systems, but fails on Android (13)\r\n\r\n```java\r\njava.io.IOException: Error launching url file:/storage/emulated/0/Documents/CommLink6/logs\r\n \tat com.gluonhq.attach.browser.impl.AndroidBrowserService.launchExternalBrowser(AndroidBrowserService.java:57)\r\n \tat de.rpgframework.eden.client.jfx.EdenClientApplication.lambda$openFile$10(EdenClientApplication.java:799)\r\n```\r\nI tried ``file:/`` and ``file:///``\r\n\r\nJudging from the [source code][1] it fails in a native function.\r\n\r\nEither I am doing something wrong with the file-URL or the BrowserService is not a good choice to open file locations - but I am not aware of another options that works platform independently.\r\n\r\nCan anyone help?\r\n\r\n\r\n  [1]: https://github.com/gluonhq/attach/blob/master/modules/browser/src/main/java/com/gluonhq/attach/browser/impl/AndroidBrowserService.java","title":"Gluon Attach - open file system browser on Android","body":"<p>Writing JavaFX applications for Android, using GraalVM and gluon-maven-plugin:</p>\n<p>I am trying to open a file system location using Gluon Attach (4.0.17-SNAPSHOT) <code>BrowserService</code> with a <code>file:</code> URL. That works fine on desktop systems, but fails on Android (13)</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.io.IOException: Error launching url file:/storage/emulated/0/Documents/CommLink6/logs\n    at com.gluonhq.attach.browser.impl.AndroidBrowserService.launchExternalBrowser(AndroidBrowserService.java:57)\n    at de.rpgframework.eden.client.jfx.EdenClientApplication.lambda$openFile$10(EdenClientApplication.java:799)\n</code></pre>\n<p>I tried <code>file:/</code> and <code>file:///</code></p>\n<p>Judging from the <a href=\"https://github.com/gluonhq/attach/blob/master/modules/browser/src/main/java/com/gluonhq/attach/browser/impl/AndroidBrowserService.java\" rel=\"nofollow noreferrer\">source code</a> it fails in a native function.</p>\n<p>Either I am doing something wrong with the file-URL or the BrowserService is not a good choice to open file locations - but I am not aware of another options that works platform independently.</p>\n<p>Can anyone help?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":2,"creation_date":1676909149,"post_id":75509365,"comment_id":133227580,"body_markdown":"Use a [Zip File System Provider](https://docs.oracle.com/javase/8/docs/technotes/guides/io/fsp/zipfilesystemprovider.html) in conjunction with [java.nio.file.Files#walkl()](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-) and copy each file individually and change the folder name on the fly.","body":"Use a <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/io/fsp/zipfilesystemprovider.html\" rel=\"nofollow noreferrer\">Zip File System Provider</a> in conjunction with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-\" rel=\"nofollow noreferrer\">java.nio.file.Files#walkl()</a> and copy each file individually and change the folder name on the fly."}],"owner":{"account_id":3282603,"reputation":241,"user_id":2762835,"accept_rate":17,"display_name":"Kalava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676896601,"creation_date":1676896601,"question_id":75509365,"body_markdown":"I want to rename non empty folder in a zip file using java. The Files.move only copies folder without its children/content. How to rename folder along with its contents in a zip file?\r\n\r\n","title":"Rename non empty folder inside zip file using java","body":"<p>I want to rename non empty folder in a zip file using java. The Files.move only copies folder without its children/content. How to rename folder along with its contents in a zip file?</p>\n"},{"tags":["java","junit5","junit-jupiter"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676889282,"post_id":75508103,"comment_id":133221770,"body_markdown":"Wild guess no `@ExtendWith(MockitoExtension.class)` on your test or using the wrong `@Test` (the one from JUnit4 instead of JUnit5). But as you posted only a partial snippet instead of the **full test** this is impossible to know.","body":"Wild guess no <code>@ExtendWith(MockitoExtension.class)</code> on your test or using the wrong <code>@Test</code> (the one from JUnit4 instead of JUnit5). But as you posted only a partial snippet instead of the <b>full test</b> this is impossible to know."},{"owner":{"account_id":3091246,"reputation":1242,"user_id":2617281,"accept_rate":88,"display_name":"Michi-2142"},"score":0,"creation_date":1676889836,"post_id":75508103,"comment_id":133221942,"body_markdown":"@M.Deinum Added more details to the question.","body":"@M.Deinum Added more details to the question."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1676890823,"post_id":75508103,"comment_id":133222195,"body_markdown":"I would expect the stack trace to give you a strong clue as to why you are getting NPE.","body":"I would expect the stack trace to give you a strong clue as to why you are getting NPE."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676891234,"post_id":75508103,"comment_id":133222309,"body_markdown":"I would start by upgrade Mockito. 4.0.0 is a bit dated, I would at least try 4.11 or even switch to the 5.x releases. It is still not the full test case as I would expect some additional imports.","body":"I would start by upgrade Mockito. 4.0.0 is a bit dated, I would at least try 4.11 or even switch to the 5.x releases. It is still not the full test case as I would expect some additional imports."},{"owner":{"account_id":1174921,"reputation":1613,"user_id":1151144,"accept_rate":79,"display_name":"Dale"},"score":0,"creation_date":1676891473,"post_id":75508103,"comment_id":133222376,"body_markdown":"Your code should catch NPE and rethrow it as your type of exception.  Either that or if you get a NPE in your service have it throw your Exception type.","body":"Your code should catch NPE and rethrow it as your type of exception.  Either that or if you get a NPE in your service have it throw your Exception type."},{"owner":{"account_id":3091246,"reputation":1242,"user_id":2617281,"accept_rate":88,"display_name":"Michi-2142"},"score":0,"creation_date":1676894408,"post_id":75508103,"comment_id":133223145,"body_markdown":"@M.Deinum Upgrading to 4.11 gives me detailed log, thank you!","body":"@M.Deinum Upgrading to 4.11 gives me detailed log, thank you!"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1676897615,"post_id":75508103,"comment_id":133224013,"body_markdown":"Why `@Spy`? You are not spying on any calls nor stubbing calls","body":"Why <code>@Spy</code>? You are not spying on any calls nor stubbing calls"}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1676896272,"post_id":75508684,"comment_id":133223659,"body_markdown":"You don&#39;t even need the `@ExtendWith` with this (having that will actually slow down your test speed as it will scan the class for mockito annotations).","body":"You don&#39;t even need the <code>@ExtendWith</code> with this (having that will actually slow down your test speed as it will scan the class for mockito annotations)."}],"tags":[],"owner":{"account_id":13075799,"reputation":117,"user_id":9696968,"display_name":"schlin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676896243,"creation_date":1676892459,"answer_id":75508684,"question_id":75508103,"body_markdown":"the problem is the `@InjectMocks` and `@Spy` annotation. Using them together does not make sense (as discussed [in this stackoverflow post][1]). Creating the class by hand solves the `NullPointerException` and the test runs successfully\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mockito;\r\n    import org.mockito.Spy;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n\r\n    import static \r\n    org.junit.jupiter.api.Assertions.assertThrows;\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class MyServiceTest {\r\n       MyService myServiceToTest;\r\n\r\n       @Test\r\n       public void invoke_ShouldThrow_MyCustomException() {\r\n          MyService myServiceToTest = new MyService();\r\n          assertThrows(MyCustomException.class, () -&gt; {\r\n            myServiceToTest.invoke(null);\r\n          });\r\n       }\r\n    }  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38567326/is-it-discouraged-to-use-spy-and-injectmocks-on-the-same-field#:~:text=%40Spy%20and%20%40InjectMocks%20cannot%20be,them%20to%20the%20same%20object.","title":"JUnit 5 and Mockito assertThrows() raises NullPointerException instead of original","body":"<p>the problem is the <code>@InjectMocks</code> and <code>@Spy</code> annotation. Using them together does not make sense (as discussed <a href=\"https://stackoverflow.com/questions/38567326/is-it-discouraged-to-use-spy-and-injectmocks-on-the-same-field#:%7E:text=%40Spy%20and%20%40InjectMocks%20cannot%20be,them%20to%20the%20same%20object.\">in this stackoverflow post</a>). Creating the class by hand solves the <code>NullPointerException</code> and the test runs successfully</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mockito;\nimport org.mockito.Spy;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport static \norg.junit.jupiter.api.Assertions.assertThrows;\n\n@ExtendWith(MockitoExtension.class)\npublic class MyServiceTest {\n   MyService myServiceToTest;\n\n   @Test\n   public void invoke_ShouldThrow_MyCustomException() {\n      MyService myServiceToTest = new MyService();\n      assertThrows(MyCustomException.class, () -&gt; {\n        myServiceToTest.invoke(null);\n      });\n   }\n}  \n</code></pre>\n"}],"owner":{"account_id":3091246,"reputation":1242,"user_id":2617281,"accept_rate":88,"display_name":"Michi-2142"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":544,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75508684,"answer_count":1,"score":0,"last_activity_date":1676896243,"creation_date":1676889138,"question_id":75508103,"body_markdown":"I want to test a method which should throw a exception of type `MyCustomException`. This is an example of my class `MyService`.\r\n\r\n    public class MyService {\r\n\t    public void invoke(InvocationContext ctx) throws MyCustomException{\r\n\t\t    if(ctx == null) {\r\n\t\t        throw new MyCustomException(&quot;Parameter ctx must not be null.&quot;);\r\n            }\r\n\t    }\r\n    }\r\n\r\nI would like to test, whether method throws `MyCustomException` if I pass a null value with the `assertThrows()`.\r\n\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mockito;\r\n    import org.mockito.Spy;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class AxwApplicationTest {\r\n        @Spy\r\n\t    @InjectMocks\r\n\t    MyService myServiceToTest;\r\n\t\r\n\t    @Test\r\n\t    public void invoke_ShouldThrow_MyCustomException() {\r\n\t\t    assertThrows(MyCustomException.class, () -&gt; {\r\n\t\t\t    myServiceToTest.invoke(null);\r\n\t\t    });\r\n\t    }\r\n    }\r\nSomehow the exception is thrown but ends up as `NullPointerException` and I don&#39;t know how to solve it. The `assertThrows` gives my following error:\r\n\r\n    java.lang.AssertionError: unexpected exception type thrown; expected:&lt;com.myproject.MyCustomException&gt; but was:&lt;java.lang.NullPointerException&gt;\r\n\r\n\r\nMaven dependencies:\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.9.2&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"JUnit 5 and Mockito assertThrows() raises NullPointerException instead of original","body":"<p>I want to test a method which should throw a exception of type <code>MyCustomException</code>. This is an example of my class <code>MyService</code>.</p>\n<pre><code>public class MyService {\n    public void invoke(InvocationContext ctx) throws MyCustomException{\n        if(ctx == null) {\n            throw new MyCustomException(&quot;Parameter ctx must not be null.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I would like to test, whether method throws <code>MyCustomException</code> if I pass a null value with the <code>assertThrows()</code>.</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mockito;\nimport org.mockito.Spy;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\n@ExtendWith(MockitoExtension.class)\npublic class AxwApplicationTest {\n    @Spy\n    @InjectMocks\n    MyService myServiceToTest;\n\n    @Test\n    public void invoke_ShouldThrow_MyCustomException() {\n        assertThrows(MyCustomException.class, () -&gt; {\n            myServiceToTest.invoke(null);\n        });\n    }\n}\n</code></pre>\n<p>Somehow the exception is thrown but ends up as <code>NullPointerException</code> and I don't know how to solve it. The <code>assertThrows</code> gives my following error:</p>\n<pre><code>java.lang.AssertionError: unexpected exception type thrown; expected:&lt;com.myproject.MyCustomException&gt; but was:&lt;java.lang.NullPointerException&gt;\n</code></pre>\n<p>Maven dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n    &lt;version&gt;5.9.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676775063,"post_id":75497676,"comment_id":133204684,"body_markdown":"&quot;Format&quot; the text BEFORE you apply it to the field, I&#39;d start with the prefix you want to use a `static String`, get the last 4 characters from the text and simple combine them together","body":"&quot;Format&quot; the text BEFORE you apply it to the field, I&#39;d start with the prefix you want to use a <code>static String</code>, get the last 4 characters from the text and simple combine them together"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1676776366,"post_id":75497676,"comment_id":133204771,"body_markdown":"I&#39;m not sure that makes sense (to me).  Why would you mask the input in such away?  How would the user possibly verify what they&#39;ve input.  I get masking it as output, but input seems .... weird","body":"I&#39;m not sure that makes sense (to me).  Why would you mask the input in such away?  How would the user possibly verify what they&#39;ve input.  I get masking it as output, but input seems .... weird"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676824242,"post_id":75497676,"comment_id":133210692,"body_markdown":"please describe the _exact_ behaviour you want to achieve: simple masking after input might require a different approach that masking during input.","body":"please describe the <i>exact</i> behaviour you want to achieve: simple masking after input might require a different approach that masking during input."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676824464,"post_id":75497676,"comment_id":133210722,"body_markdown":"@MadProgrammer while I - as a user - hate a ux that doesn&#39;t show my input, there are examples f.i. in mobile and/or browser contexts where only the currently typed char is shown and then is (animatedly, OMG ;) is hidden, the more user-friendly variants having an eye picture that re-shows the input when clicked.","body":"@MadProgrammer while I - as a user - hate a ux that doesn&#39;t show my input, there are examples f.i. in mobile and/or browser contexts where only the currently typed char is shown and then is (animatedly, OMG ;) is hidden, the more user-friendly variants having an eye picture that re-shows the input when clicked."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676839006,"post_id":75497676,"comment_id":133213543,"body_markdown":"@kleopatra I don&#39;t know what you&#39;ve been buying, but I&#39;ve never seen it - I &quot;might&quot; consider a on focus lost state, but not while the user is typing","body":"@kleopatra I don&#39;t know what you&#39;ve been buying, but I&#39;ve never seen it - I &quot;might&quot; consider a on focus lost state, but not while the user is typing"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676893485,"post_id":75497676,"comment_id":133222872,"body_markdown":"@MadProgrammer don&#39;t know what you mean by _buying_ (all my apps are free, neither stolen nor bought &lt;g&gt;) but you are right: I should come up with an example .. will do next time I stumble across it (my memory isn&#39;t as crisp as it used to be ;)","body":"@MadProgrammer don&#39;t know what you mean by <i>buying</i> (all my apps are free, neither stolen nor bought &lt;g&gt;) but you are right: I should come up with an example .. will do next time I stumble across it (my memory isn&#39;t as crisp as it used to be ;)"}],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676824520,"post_id":75497878,"comment_id":133210733,"body_markdown":"please demonstrate how to apply that to the context of a textField","body":"please demonstrate how to apply that to the context of a textField"}],"tags":[],"owner":{"account_id":24252734,"reputation":31,"user_id":18203551,"display_name":"Muhammad Ismail"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676821566,"creation_date":1676778746,"answer_id":75497878,"question_id":75497676,"body_markdown":"\r\n\r\n    String number = &quot;6235761255231456&quot;;\r\n    String mask = number.replaceAll(&quot;\\\\d(?=\\\\d{4})&quot;, &quot;X&quot;);\r\n    System.out.println(mask);\r\n    \r\n    OutPut:\r\n    XXXXXXXXXXXX1456\r\n\r\nhere replace we are using replaceAll method which will take regular expression as parameter and and will replace every digit with X except last four digit the following regular expression is accepting all except last 4 digit.\r\n \r\n","title":"Java text field for credit card number only showing last 4 digits","body":"<pre><code>String number = &quot;6235761255231456&quot;;\nString mask = number.replaceAll(&quot;\\\\d(?=\\\\d{4})&quot;, &quot;X&quot;);\nSystem.out.println(mask);\n\nOutPut:\nXXXXXXXXXXXX1456\n</code></pre>\n<p>here replace we are using replaceAll method which will take regular expression as parameter and and will replace every digit with X except last four digit the following regular expression is accepting all except last 4 digit.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676796354,"creation_date":1676796354,"answer_id":75498947,"question_id":75497676,"body_markdown":"A [`JFormattedTextField`][1] has a *formatter factory*. I looked at the code of the default *formatter factory* &amp;ndash; which is class `DefaultFormatterFactory` &amp;ndash; and tried to adapt it to your requirements.\r\n\r\nThat class defines several *formatter* classes: one for when the `JFormattedTextField` is in *edit* mode, i.e. it has the keyboard focus and another for *display* mode, i.e. when the `JFormattedTextField` does **not** have keyboard focus.\r\n\r\nIn the below code I created a `CreditCardFormatterFactory` class as well as a `CreditCardEditFormatter` class and a `CreditCardDisplayFormatter` class.\r\n\r\nNote that I may have misunderstood your requirements, so the below code may not be exactly what you require but I would like to think that it is good enough for you to be able to adapt it to your exact requirements.\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport java.text.ParseException;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFormattedTextField;\r\nimport javax.swing.JFormattedTextField.AbstractFormatter;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\n\r\npublic class FtfTest {\r\n    private void buildAndDisplayGui() {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createFormattedTextField(), BorderLayout.PAGE_START);\r\n        frame.add(createButton(), BorderLayout.PAGE_END);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JPanel createFormattedTextField() {\r\n        JPanel panel = new JPanel();\r\n        JLabel label = new JLabel(&quot;Credit Card Number&quot;);\r\n        panel.add(label);\r\n        JFormattedTextField creditCardFormattedTextField = new JFormattedTextField(\r\n                                                                 new CreditCardFormatterFactory());\r\n        creditCardFormattedTextField.setColumns(16);\r\n        panel.add(creditCardFormattedTextField);\r\n        return panel;\r\n    }\r\n\r\n    private JPanel createButton() {\r\n        JPanel panel = new JPanel();\r\n        JButton button = new JButton(&quot;Exit&quot;);\r\n        button.addActionListener(e -&gt; System.exit(0));\r\n        panel.add(button);\r\n        return panel;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; new FtfTest().buildAndDisplayGui());\r\n    }\r\n}\r\n\r\nclass CreditCardFormatterFactory extends JFormattedTextField.AbstractFormatterFactory {\r\n\r\n    /** {@code JFormattedTextField.AbstractFormatter} to use for display. */\r\n    private JFormattedTextField.AbstractFormatter displayFormat;\r\n\r\n    /** {@code JFormattedTextField.AbstractFormatter} to use for editing. */\r\n    private JFormattedTextField.AbstractFormatter editFormat;\r\n\r\n    /** {@code JFormattedTextField.AbstractFormatter} to use if the value is null. */\r\n    private JFormattedTextField.AbstractFormatter nullFormat;\r\n\r\n    public CreditCardFormatterFactory() {\r\n        displayFormat = new CreditCardDisplayFormatter();\r\n        editFormat = new CreditCardEditFormatter();\r\n    }\r\n\r\n    @Override\r\n    public AbstractFormatter getFormatter(JFormattedTextField ftf) {\r\n        JFormattedTextField.AbstractFormatter format = null;\r\n        if (ftf != null) {\r\n            if (ftf.hasFocus()) {\r\n                format = getEditFormatter();\r\n            }\r\n            else {\r\n                format = getDisplayFormatter();\r\n            }\r\n        }\r\n        return format;\r\n    }\r\n\r\n    public JFormattedTextField.AbstractFormatter getDisplayFormatter() {\r\n        return displayFormat;\r\n    }\r\n\r\n    public JFormattedTextField.AbstractFormatter getEditFormatter() {\r\n        return editFormat;\r\n    }\r\n\r\n    public JFormattedTextField.AbstractFormatter getNullFormatter() {\r\n        return nullFormat;\r\n    }\r\n}\r\n\r\nclass CreditCardDisplayFormatter extends JFormattedTextField.AbstractFormatter {\r\n\r\n    @Override\r\n    public Object stringToValue(String text) throws ParseException {\r\n        System.out.printf(&quot;CreditCardDisplayFormatter.stringToValue( ^%s^ )%n&quot;, text);\r\n        return text;\r\n    }\r\n\r\n    @Override\r\n    public String valueToString(Object value) throws ParseException {\r\n        System.out.printf(&quot;CreditCardDisplayFormatter.valueToString( ^%s^ )%n&quot;,\r\n                          String.valueOf(value));\r\n        String str = value == null ? &quot;&quot; : value.toString();\r\n        if (str.length() &gt; 0) {\r\n            if (str.length() &gt; 12) {\r\n                str = &quot;XXXXXXXXXXXX&quot; + str.substring(12);\r\n            }\r\n            else {\r\n                str = str.replaceAll(&quot;\\\\d&quot;, &quot;X&quot;);\r\n            }\r\n        }\r\n        return str;\r\n    }\r\n}\r\n\r\nclass CreditCardEditFormatter extends JFormattedTextField.AbstractFormatter {\r\n\r\n    @Override\r\n    public Object stringToValue(String text) throws ParseException {\r\n        System.out.printf(&quot;CreditCardEditFormatter.stringToValue( ^%s^ )%n&quot;, text);\r\n        return text;\r\n    }\r\n\r\n    @Override\r\n    public String valueToString(Object value) throws ParseException {\r\n        System.out.printf(&quot;CreditCardEditFormatter.valueToString( ^%s^ )%n&quot;,\r\n                          String.valueOf(value));\r\n        return value == null ? null : value.toString();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html","title":"Java text field for credit card number only showing last 4 digits","body":"<p>A <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html\" rel=\"nofollow noreferrer\"><code>JFormattedTextField</code></a> has a <em>formatter factory</em>. I looked at the code of the default <em>formatter factory</em> – which is class <code>DefaultFormatterFactory</code> – and tried to adapt it to your requirements.</p>\n<p>That class defines several <em>formatter</em> classes: one for when the <code>JFormattedTextField</code> is in <em>edit</em> mode, i.e. it has the keyboard focus and another for <em>display</em> mode, i.e. when the <code>JFormattedTextField</code> does <strong>not</strong> have keyboard focus.</p>\n<p>In the below code I created a <code>CreditCardFormatterFactory</code> class as well as a <code>CreditCardEditFormatter</code> class and a <code>CreditCardDisplayFormatter</code> class.</p>\n<p>Note that I may have misunderstood your requirements, so the below code may not be exactly what you require but I would like to think that it is good enough for you to be able to adapt it to your exact requirements.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.text.ParseException;\n\nimport javax.swing.JButton;\nimport javax.swing.JFormattedTextField;\nimport javax.swing.JFormattedTextField.AbstractFormatter;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\npublic class FtfTest {\n    private void buildAndDisplayGui() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createFormattedTextField(), BorderLayout.PAGE_START);\n        frame.add(createButton(), BorderLayout.PAGE_END);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createFormattedTextField() {\n        JPanel panel = new JPanel();\n        JLabel label = new JLabel(&quot;Credit Card Number&quot;);\n        panel.add(label);\n        JFormattedTextField creditCardFormattedTextField = new JFormattedTextField(\n                                                                 new CreditCardFormatterFactory());\n        creditCardFormattedTextField.setColumns(16);\n        panel.add(creditCardFormattedTextField);\n        return panel;\n    }\n\n    private JPanel createButton() {\n        JPanel panel = new JPanel();\n        JButton button = new JButton(&quot;Exit&quot;);\n        button.addActionListener(e -&gt; System.exit(0));\n        panel.add(button);\n        return panel;\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new FtfTest().buildAndDisplayGui());\n    }\n}\n\nclass CreditCardFormatterFactory extends JFormattedTextField.AbstractFormatterFactory {\n\n    /** {@code JFormattedTextField.AbstractFormatter} to use for display. */\n    private JFormattedTextField.AbstractFormatter displayFormat;\n\n    /** {@code JFormattedTextField.AbstractFormatter} to use for editing. */\n    private JFormattedTextField.AbstractFormatter editFormat;\n\n    /** {@code JFormattedTextField.AbstractFormatter} to use if the value is null. */\n    private JFormattedTextField.AbstractFormatter nullFormat;\n\n    public CreditCardFormatterFactory() {\n        displayFormat = new CreditCardDisplayFormatter();\n        editFormat = new CreditCardEditFormatter();\n    }\n\n    @Override\n    public AbstractFormatter getFormatter(JFormattedTextField ftf) {\n        JFormattedTextField.AbstractFormatter format = null;\n        if (ftf != null) {\n            if (ftf.hasFocus()) {\n                format = getEditFormatter();\n            }\n            else {\n                format = getDisplayFormatter();\n            }\n        }\n        return format;\n    }\n\n    public JFormattedTextField.AbstractFormatter getDisplayFormatter() {\n        return displayFormat;\n    }\n\n    public JFormattedTextField.AbstractFormatter getEditFormatter() {\n        return editFormat;\n    }\n\n    public JFormattedTextField.AbstractFormatter getNullFormatter() {\n        return nullFormat;\n    }\n}\n\nclass CreditCardDisplayFormatter extends JFormattedTextField.AbstractFormatter {\n\n    @Override\n    public Object stringToValue(String text) throws ParseException {\n        System.out.printf(&quot;CreditCardDisplayFormatter.stringToValue( ^%s^ )%n&quot;, text);\n        return text;\n    }\n\n    @Override\n    public String valueToString(Object value) throws ParseException {\n        System.out.printf(&quot;CreditCardDisplayFormatter.valueToString( ^%s^ )%n&quot;,\n                          String.valueOf(value));\n        String str = value == null ? &quot;&quot; : value.toString();\n        if (str.length() &gt; 0) {\n            if (str.length() &gt; 12) {\n                str = &quot;XXXXXXXXXXXX&quot; + str.substring(12);\n            }\n            else {\n                str = str.replaceAll(&quot;\\\\d&quot;, &quot;X&quot;);\n            }\n        }\n        return str;\n    }\n}\n\nclass CreditCardEditFormatter extends JFormattedTextField.AbstractFormatter {\n\n    @Override\n    public Object stringToValue(String text) throws ParseException {\n        System.out.printf(&quot;CreditCardEditFormatter.stringToValue( ^%s^ )%n&quot;, text);\n        return text;\n    }\n\n    @Override\n    public String valueToString(Object value) throws ParseException {\n        System.out.printf(&quot;CreditCardEditFormatter.valueToString( ^%s^ )%n&quot;,\n                          String.valueOf(value));\n        return value == null ? null : value.toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27661692,"reputation":11,"user_id":21114373,"display_name":"cstjmn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676896069,"creation_date":1676774440,"question_id":75497676,"body_markdown":"I have to do a supermarket app in Java for a class, one of the many requirements is that when a purchase is being made it asks for the credit/debit card data, and when the user fills the credit card number field it only displays the last four digits, something like XXXXXXXXXXXX1456\r\n\r\nI am using Java Swing for the GUI and I have tried to use the formatted field, the password field and a normal field and I can&#180;t seem to find a way to make it only display the last four digits when is being filled.","title":"Java text field for credit card number only showing last 4 digits","body":"<p>I have to do a supermarket app in Java for a class, one of the many requirements is that when a purchase is being made it asks for the credit/debit card data, and when the user fills the credit card number field it only displays the last four digits, something like XXXXXXXXXXXX1456</p>\n<p>I am using Java Swing for the GUI and I have tried to use the formatted field, the password field and a normal field and I can´t seem to find a way to make it only display the last four digits when is being filled.</p>\n"},{"tags":["java","json","jaxb"],"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":2,"creation_date":1287051169,"post_id":3916123,"comment_id":4195715,"body_markdown":"&quot;using JAXB to convert the POJO&#39;s to JSON&quot;.... how?","body":"&quot;using JAXB to convert the POJO&#39;s to JSON&quot;.... how?"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":0,"down_vote_count":2,"up_vote_count":58,"is_accepted":true,"score":56,"last_activity_date":1676895439,"creation_date":1286896543,"answer_id":3916165,"question_id":3916123,"body_markdown":"The first example from your question,\r\n\r\n&gt; ```javascript\r\n&gt; foos: [\r\n&gt;     foo: { ... },\r\n&gt;     foo: { ... }\r\n&gt; ]\r\n&gt; ```\r\n\r\nis in invalid syntax. You cannot have object properties inside a plain array. \r\n\r\nThe second example from your question,\r\n\r\n&gt; ```javascript\r\n&gt; foos: [\r\n&gt;     { ... },\r\n&gt;     { ... }\r\n&gt; ]\r\n&gt; ```\r\n\r\nis right although it is not *strict* JSON. It&#39;s a *relaxed* form of JSON wherein quotes in string keys are omitted.\r\n\r\nFollowing is the correct one when you want to obey *strict* JSON:\r\n\r\n```javascript\r\n&quot;foos&quot;: [\r\n    { ... },\r\n    { ... }\r\n]\r\n```\r\n\r\n[This &quot;Mastering JSON&quot; tutorial by Patrick Hunlock][1], may help to learn about JSON and [this site][2] may help to validate JSON.\r\n\r\n\r\n  [1]: http://web.archive.org/web/20180919022127/http://index-of.es/JS/Mastering_JSON_(JavaScript_Object_Notation).pdf\r\n  [2]: https://www.jsonlint.com/","title":"JSON Structure for List of Objects","body":"<p>The first example from your question,</p>\n<blockquote>\n<pre class=\"lang-js prettyprint-override\"><code>foos: [\n    foo: { ... },\n    foo: { ... }\n]\n</code></pre>\n</blockquote>\n<p>is in invalid syntax. You cannot have object properties inside a plain array.</p>\n<p>The second example from your question,</p>\n<blockquote>\n<pre class=\"lang-js prettyprint-override\"><code>foos: [\n    { ... },\n    { ... }\n]\n</code></pre>\n</blockquote>\n<p>is right although it is not <em>strict</em> JSON. It's a <em>relaxed</em> form of JSON wherein quotes in string keys are omitted.</p>\n<p>Following is the correct one when you want to obey <em>strict</em> JSON:</p>\n<pre class=\"lang-js prettyprint-override\"><code>&quot;foos&quot;: [\n    { ... },\n    { ... }\n]\n</code></pre>\n<p><a href=\"http://web.archive.org/web/20180919022127/http://index-of.es/JS/Mastering_JSON_(JavaScript_Object_Notation).pdf\" rel=\"nofollow noreferrer\">This &quot;Mastering JSON&quot; tutorial by Patrick Hunlock</a>, may help to learn about JSON and <a href=\"https://www.jsonlint.com/\" rel=\"nofollow noreferrer\">this site</a> may help to validate JSON.</p>\n"},{"comments":[{"owner":{"account_id":1695601,"reputation":860,"user_id":1557032,"accept_rate":83,"display_name":"Ramanpreet Singh"},"score":0,"creation_date":1459534056,"post_id":3916173,"comment_id":60345475,"body_markdown":"This doesnt validate on jsonlint :(\nI am tempted to think jsonlint is wrong though :-|","body":"This doesnt validate on jsonlint :( I am tempted to think jsonlint is wrong though :-|"},{"owner":{"account_id":30940,"reputation":243131,"user_id":84651,"accept_rate":75,"display_name":"Justin Niessner"},"score":5,"creation_date":1459540531,"post_id":3916173,"comment_id":60348874,"body_markdown":"@RamanpreetSingh - If you&#39;re validating via `jsonlint`, then you&#39;ll need to also add quotes around `foos` at the top level.","body":"@RamanpreetSingh - If you&#39;re validating via <code>jsonlint</code>, then you&#39;ll need to also add quotes around <code>foos</code> at the top level."},{"owner":{"account_id":1695601,"reputation":860,"user_id":1557032,"accept_rate":83,"display_name":"Ramanpreet Singh"},"score":0,"creation_date":1459772772,"post_id":3916173,"comment_id":60421456,"body_markdown":"I added quotes and curly braces at the top level and it works. Thanks!","body":"I added quotes and curly braces at the top level and it works. Thanks!"}],"tags":[],"owner":{"account_id":30940,"reputation":243131,"user_id":84651,"accept_rate":75,"display_name":"Justin Niessner"},"comment_count":3,"down_vote_count":0,"up_vote_count":116,"is_accepted":false,"score":116,"last_activity_date":1586609364,"creation_date":1286896571,"answer_id":3916173,"question_id":3916123,"body_markdown":"The second is almost correct:\r\n\r\n    {\r\n        &quot;foos&quot; : [{\r\n            &quot;prop1&quot;:&quot;value1&quot;,\r\n            &quot;prop2&quot;:&quot;value2&quot;\r\n        }, {\r\n            &quot;prop1&quot;:&quot;value3&quot;, \r\n            &quot;prop2&quot;:&quot;value4&quot;\r\n        }]\r\n    }","title":"JSON Structure for List of Objects","body":"<p>The second is almost correct:</p>\n\n<pre><code>{\n    \"foos\" : [{\n        \"prop1\":\"value1\",\n        \"prop2\":\"value2\"\n    }, {\n        \"prop1\":\"value3\", \n        \"prop2\":\"value4\"\n    }]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7731306,"reputation":1871,"user_id":5854349,"display_name":"Timothy Kanski"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1485565029,"creation_date":1485565029,"answer_id":41905330,"question_id":3916123,"body_markdown":"As others mentioned, Justin&#39;s answer was close, but not quite right.  I tested this using Visual Studio&#39;s &quot;Paste JSON as C# Classes&quot;\r\n\r\n    {\r\n        &quot;foos&quot; : [\r\n            {\r\n                &quot;prop1&quot;:&quot;value1&quot;,\r\n                &quot;prop2&quot;:&quot;value2&quot;\r\n            },\r\n            {\r\n                &quot;prop1&quot;:&quot;value3&quot;, \r\n                &quot;prop2&quot;:&quot;value4&quot;\r\n            }\r\n        ]\r\n    }","title":"JSON Structure for List of Objects","body":"<p>As others mentioned, Justin's answer was close, but not quite right.  I tested this using Visual Studio's \"Paste JSON as C# Classes\"</p>\n\n<pre><code>{\n    \"foos\" : [\n        {\n            \"prop1\":\"value1\",\n            \"prop2\":\"value2\"\n        },\n        {\n            \"prop1\":\"value3\", \n            \"prop2\":\"value4\"\n        }\n    ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4611231,"reputation":21,"user_id":3739283,"display_name":"user3739283"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669956108,"creation_date":1669956108,"answer_id":74650989,"question_id":3916123,"body_markdown":"1) I use jsonformatter page to test the json validator.\r\n2) try to use jsonwhatever\r\n\r\nexample:\r\n``` \r\nlist_a = func_generator_of_objects()\r\n\r\njson_string = jsonwhatever(&#39;foos&#39;,list_a)\r\n```","title":"JSON Structure for List of Objects","body":"<ol>\n<li>I use jsonformatter page to test the json validator.</li>\n<li>try to use jsonwhatever</li>\n</ol>\n<p>example:</p>\n<pre><code>list_a = func_generator_of_objects()\n\njson_string = jsonwhatever('foos',list_a)\n</code></pre>\n"}],"owner":{"account_id":64695,"reputation":5754,"user_id":190857,"accept_rate":88,"display_name":"Vanchinathan Chandrasekaran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466220,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":3916165,"answer_count":4,"score":93,"last_activity_date":1676895439,"creation_date":1286896290,"question_id":3916123,"body_markdown":"I would like to know, whats the right structure for a list of objects in JSON.\r\n\r\nWe are using JAXB to convert the POJO&#39;s to JSON.\r\n\r\nHere is the choices, Please direct me what is right.\r\n\r\n    foos: [\r\n                 foo:{..},\r\n                 foo:{..}\r\n          ]\r\n\r\nor \r\n\r\n       foos : [\r\n               {...},\r\n               {...}\r\n              ]\r\n\r\nIf the first structure is right, what is the JAXB annotation I should use to get the structure right.\r\n","title":"JSON Structure for List of Objects","body":"<p>I would like to know, whats the right structure for a list of objects in JSON.</p>\n\n<p>We are using JAXB to convert the POJO's to JSON.</p>\n\n<p>Here is the choices, Please direct me what is right.</p>\n\n<pre><code>foos: [\n             foo:{..},\n             foo:{..}\n      ]\n</code></pre>\n\n<p>or </p>\n\n<pre><code>   foos : [\n           {...},\n           {...}\n          ]\n</code></pre>\n\n<p>If the first structure is right, what is the JAXB annotation I should use to get the structure right.</p>\n"},{"tags":["java","android","algorithm","math","circuit-diagram"],"comments":[{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":1,"creation_date":1676848280,"post_id":75503919,"comment_id":133215027,"body_markdown":"@m0skit0 Thank you for your response. This is not a homework question. I am designing a circuit drawing tool for Android, and I have been stuck on this point. I have tried to come up with a solution on my own, but I am having difficulty figuring out the best approach. Any help or suggestions would be greatly appreciated. Thank you.","body":"@m0skit0 Thank you for your response. This is not a homework question. I am designing a circuit drawing tool for Android, and I have been stuck on this point. I have tried to come up with a solution on my own, but I am having difficulty figuring out the best approach. Any help or suggestions would be greatly appreciated. Thank you."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1676849075,"post_id":75503919,"comment_id":133215128,"body_markdown":"@Abdo21 Please review &quot;the intersection of two lines&quot; and realize that the &quot;circuits&quot; are actually rectangles. Otherwise show code of what you have tried. Do start with the simplest cases first before tackling the others.","body":"@Abdo21 Please review &quot;the intersection of two lines&quot; and realize that the &quot;circuits&quot; are actually rectangles. Otherwise show code of what you have tried. Do start with the simplest cases first before tackling the others."},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":1,"creation_date":1676849700,"post_id":75503919,"comment_id":133215206,"body_markdown":"@MorrisonChang Thank you for your response. I appreciate your suggestion, but I don&#39;t think this problem is the same as the problem of the intersection of two lines. In this case, we have two points (the source and target) and need to compute the corner point based on the orientation of the components. The orientation of the component determines which side of the rectangle we need to connect. Unfortunately, I have not been able to come up with a solution on my own. Any help or suggestions would be greatly appreciated. Thank you.","body":"@MorrisonChang Thank you for your response. I appreciate your suggestion, but I don&#39;t think this problem is the same as the problem of the intersection of two lines. In this case, we have two points (the source and target) and need to compute the corner point based on the orientation of the components. The orientation of the component determines which side of the rectangle we need to connect. Unfortunately, I have not been able to come up with a solution on my own. Any help or suggestions would be greatly appreciated. Thank you."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1676850534,"post_id":75503919,"comment_id":133215303,"body_markdown":"The first row is a line intersection problem. The second and third rows are rotating the projection rectangles (not the circuit image) where the intersection occurs with additional rules like not going through the circuit.","body":"The first row is a line intersection problem. The second and third rows are rotating the projection rectangles (not the circuit image) where the intersection occurs with additional rules like not going through the circuit."},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1676851117,"post_id":75503919,"comment_id":133215375,"body_markdown":"@MorrisonChang I agree that I could use brute force to solve this problem with if-else statements for each case, but I was hoping to find a more optimal solution. As I am designing a circuit drawing tool for Android, it&#39;s important to me that the solution is efficient. Thank you.","body":"@MorrisonChang I agree that I could use brute force to solve this problem with if-else statements for each case, but I was hoping to find a more optimal solution. As I am designing a circuit drawing tool for Android, it&#39;s important to me that the solution is efficient. Thank you."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1676852210,"post_id":75503919,"comment_id":133215498,"body_markdown":"If you are doing every second fine, but in that case the connections should be cached/part of your display pipeline. If you are trying to optimize hundreds of &quot;circuits&quot; in various combinations, I&#39;m not sure if Android is an appropriate platform.","body":"If you are doing every second fine, but in that case the connections should be cached/part of your display pipeline. If you are trying to optimize hundreds of &quot;circuits&quot; in various combinations, I&#39;m not sure if Android is an appropriate platform."},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1676853094,"post_id":75503919,"comment_id":133215612,"body_markdown":"@MorrisonChang The circuits that I intend to draw are relatively small and not very complex, I will try the brute force method and see if it performs well. Thank you again for your help!","body":"@MorrisonChang The circuits that I intend to draw are relatively small and not very complex, I will try the brute force method and see if it performs well. Thank you again for your help!"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1676853849,"post_id":75503919,"comment_id":133215711,"body_markdown":"I think there&#39;ll be cases where there&#39;s no good solution.  For example, what if the components are facing in opposite directions, with the connection points overlapping?","body":"I think there&#39;ll be cases where there&#39;s no good solution.  For example, what if the components are facing in opposite directions, with the connection points overlapping?"}],"answers":[{"comments":[{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1676859446,"post_id":75504359,"comment_id":133216355,"body_markdown":"Thank you for taking the time to provide this information. You&#39;re right, there are a few missing cases that need to be considered I will take this approach into consideration when working on the solution for this problem. Thank you.","body":"Thank you for taking the time to provide this information. You&#39;re right, there are a few missing cases that need to be considered I will take this approach into consideration when working on the solution for this problem. Thank you."}],"tags":[],"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676895240,"creation_date":1676853770,"answer_id":75504359,"question_id":75503919,"body_markdown":"Horizontal/vertical isn’t enough – we need to know which side of the\r\ncomponent the connection point is on. Also I’m not sure how you want to\r\nhandle connection points on opposite sides.\r\n\r\nFor the cases you’ve shown, the answer will be either (source.x,\r\ntarget.y) or (target.x, source.y). If (for example) the source point is\r\non the right side of its component, then (target.x, source.y) is vetoed\r\nif target.x \\&lt; source.x or preferred if source.x \\&lt; target.x; (source.x,\r\ntarget.y) is a middling option. The other seven cases (three source\r\ndirections and four target directions) are symmetric. We demand an\r\noption that is not vetoed, and should choose one that is preferred if\r\npossible.\r\n\r\nLet’s assume that (source.dx, source.dy) and (target.dx, target.dy) give\r\nthe coordinates of their respective connection points relative to the\r\ncenter of the component (so using the usual mathematical coordinate\r\nsystem with positive dx pointing right and positive dy pointing up, (dx,\r\ndy) = (1, 0) is right, and (dx, dy) = (0, 1) is up, etc.). The generic\r\ncondition for a component is, a point (x′, y′) is\r\nvetoed/preferred/middling if component.dx \\* (x′ - component.x) +\r\ncomponent.dy \\* (y′ - component.y) is less than/greater than/equal to\r\nzero respectively. If we let “vetoed” be -2 points, preferred be 1\r\npoint, and middling be 0 points, we can add up the scores for both\r\ncandidate points and take the max.\r\n","title":"How can I compute the corner point for connecting two circuit components?","body":"<p>Horizontal/vertical isn’t enough – we need to know which side of the\ncomponent the connection point is on. Also I’m not sure how you want to\nhandle connection points on opposite sides.</p>\n<p>For the cases you’ve shown, the answer will be either (source.x,\ntarget.y) or (target.x, source.y). If (for example) the source point is\non the right side of its component, then (target.x, source.y) is vetoed\nif target.x &lt; source.x or preferred if source.x &lt; target.x; (source.x,\ntarget.y) is a middling option. The other seven cases (three source\ndirections and four target directions) are symmetric. We demand an\noption that is not vetoed, and should choose one that is preferred if\npossible.</p>\n<p>Let’s assume that (source.dx, source.dy) and (target.dx, target.dy) give\nthe coordinates of their respective connection points relative to the\ncenter of the component (so using the usual mathematical coordinate\nsystem with positive dx pointing right and positive dy pointing up, (dx,\ndy) = (1, 0) is right, and (dx, dy) = (0, 1) is up, etc.). The generic\ncondition for a component is, a point (x′, y′) is\nvetoed/preferred/middling if component.dx * (x′ - component.x) +\ncomponent.dy * (y′ - component.y) is less than/greater than/equal to\nzero respectively. If we let “vetoed” be -2 points, preferred be 1\npoint, and middling be 0 points, we can add up the scores for both\ncandidate points and take the max.</p>\n"}],"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75504359,"answer_count":1,"score":1,"last_activity_date":1676895240,"creation_date":1676846819,"question_id":75503919,"body_markdown":"I have a source component and a target component and I want to calculate the corner point where they will be connected. I am implementing a method that takes the source and target points and their orientations (either horizontal or vertical) as inputs. Here is the skeleton of the method:\r\n\r\n    private final static int HORIZONTAL = 0;\r\n    private final static int VERTICAL = 1;\r\n    \r\n    private PointF computeCornerPoint(PointF sourcePoint, int sourceComponentOrientation, PointF targetPoint, int targetComponentOrientation) {\r\n        PointF cornerPoint = new PointF();\r\n    \r\n        // TODO: Calculate the corner point here\r\n    \r\n        return cornerPoint;\r\n    }\r\n\r\n\r\nI have created a diagram that shows all the possible cases. In the diagram, the green points are the source and target points, and the red point is the corner point that I want to compute.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAlso, note that this problem is symmetric, so the source and target components can be swapped, and the diagram I provided only shows one case.\r\n\r\nIn Android, the x-coordinate increases from left to right, and the y-coordinate increases from top to bottom.\r\n\r\nCan you suggest an algorithm or a solution to compute the corner point for all these cases?\r\n\r\nAdditionally, please let me know if there is any information missing that would be helpful in solving this problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Nhbsh.png","title":"How can I compute the corner point for connecting two circuit components?","body":"<p>I have a source component and a target component and I want to calculate the corner point where they will be connected. I am implementing a method that takes the source and target points and their orientations (either horizontal or vertical) as inputs. Here is the skeleton of the method:</p>\n<pre><code>private final static int HORIZONTAL = 0;\nprivate final static int VERTICAL = 1;\n\nprivate PointF computeCornerPoint(PointF sourcePoint, int sourceComponentOrientation, PointF targetPoint, int targetComponentOrientation) {\n    PointF cornerPoint = new PointF();\n\n    // TODO: Calculate the corner point here\n\n    return cornerPoint;\n}\n</code></pre>\n<p>I have created a diagram that shows all the possible cases. In the diagram, the green points are the source and target points, and the red point is the corner point that I want to compute.</p>\n<p><a href=\"https://i.stack.imgur.com/Nhbsh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nhbsh.png\" alt=\"enter image description here\" /></a></p>\n<p>Also, note that this problem is symmetric, so the source and target components can be swapped, and the diagram I provided only shows one case.</p>\n<p>In Android, the x-coordinate increases from left to right, and the y-coordinate increases from top to bottom.</p>\n<p>Can you suggest an algorithm or a solution to compute the corner point for all these cases?</p>\n<p>Additionally, please let me know if there is any information missing that would be helpful in solving this problem.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1676870910,"post_id":75505303,"comment_id":133217654,"body_markdown":"JPA: https://stackoverflow.com/questions/59628543/jpa-specification-to-filter-entries-based-on-a-key-in-the-jsonb-map and Native query: https://stackoverflow.com/questions/54006818/how-to-filter-jsonb-array-elements","body":"JPA: <a href=\"https://stackoverflow.com/questions/59628543/jpa-specification-to-filter-entries-based-on-a-key-in-the-jsonb-map\" title=\"jpa specification to filter entries based on a key in the jsonb map\">stackoverflow.com/questions/59628543/&hellip;</a> and Native query: <a href=\"https://stackoverflow.com/questions/54006818/how-to-filter-jsonb-array-elements\" title=\"how to filter jsonb array elements\">stackoverflow.com/questions/54006818/&hellip;</a>"}],"owner":{"account_id":14248845,"reputation":444,"user_id":11435260,"display_name":"AbrA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676895192,"creation_date":1676867714,"question_id":75505303,"body_markdown":"I stored a data in jsonb column:\r\n\r\n    @Entity\r\n    public class Car {\r\n        @Id\r\n        private Long id;\r\n\r\n        @Type(type = &quot;jsonb&quot;)\r\n        private Data data;\r\n    }\r\n Example of structure\r\n\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;car&quot;: &quot;mersedes&quot;,\r\n        &quot;count&quot;: 100,\r\n        &quot;stores&quot; : [{\r\n            &quot;city&quot;: &quot;LA&quot;,\r\n            &quot;country&quot;: &quot;USA&quot;,\r\n            &quot;brands&quot;: [{\r\n                &quot;name&quot;: &quot;CLS&quot;,\r\n                &quot;count&quot;: 14\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;C-class&quot;,\r\n                &quot;count&quot;: 17\r\n            }]\r\n        }]\r\n    }\r\n\r\na file takes more than 700mB of memory and I don&#39;t want to load all the data into RAM, I need to get data only by filters, for example get only CLS model. can this be done with jpa specification?  \r\n  \r\nAnd if I want to getting only adderesses how to ignore brands?\r\nhow to get from the original json like this:\r\n\r\n     { \r\n          &quot;stores&quot; : [{\r\n            &quot;city&quot;: &quot;LA&quot;,\r\n            &quot;country&quot;: &quot;USA&quot;\r\n          ]}\r\n     }","title":"JSONB and JPA. extract data by filter","body":"<p>I stored a data in jsonb column:</p>\n<pre><code>@Entity\npublic class Car {\n    @Id\n    private Long id;\n\n    @Type(type = &quot;jsonb&quot;)\n    private Data data;\n}\n</code></pre>\n<p>Example of structure</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;car&quot;: &quot;mersedes&quot;,\n    &quot;count&quot;: 100,\n    &quot;stores&quot; : [{\n        &quot;city&quot;: &quot;LA&quot;,\n        &quot;country&quot;: &quot;USA&quot;,\n        &quot;brands&quot;: [{\n            &quot;name&quot;: &quot;CLS&quot;,\n            &quot;count&quot;: 14\n        },\n        {\n            &quot;name&quot;: &quot;C-class&quot;,\n            &quot;count&quot;: 17\n        }]\n    }]\n}\n</code></pre>\n<p>a file takes more than 700mB of memory and I don't want to load all the data into RAM, I need to get data only by filters, for example get only CLS model. can this be done with jpa specification?</p>\n<p>And if I want to getting only adderesses how to ignore brands?\nhow to get from the original json like this:</p>\n<pre><code> { \n      &quot;stores&quot; : [{\n        &quot;city&quot;: &quot;LA&quot;,\n        &quot;country&quot;: &quot;USA&quot;\n      ]}\n }\n</code></pre>\n"},{"tags":["java","arrays","fibonacci"],"answers":[{"tags":[],"owner":{"display_name":"user4668606"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434325381,"creation_date":1434325381,"answer_id":30835685,"question_id":30835626,"body_markdown":"Use a `Scanner`, or some `InputStreamReader` to read the input from the console. `Scanner` would be used in this way:\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    if(scanner.hasNextInt())\r\n        int someInt = scanner.nextInt();\r\n\r\nAnother option would be to use some reader like this:\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\r\nand parse the required data from the output of the reader. Using `Scanner` will be simpler in most cases though.","title":"Java Fibonacci series","body":"<p>Use a <code>Scanner</code>, or some <code>InputStreamReader</code> to read the input from the console. <code>Scanner</code> would be used in this way:</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\nif(scanner.hasNextInt())\n    int someInt = scanner.nextInt();\n</code></pre>\n\n<p>Another option would be to use some reader like this:</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n</code></pre>\n\n<p>and parse the required data from the output of the reader. Using <code>Scanner</code> will be simpler in most cases though.</p>\n"},{"comments":[{"owner":{"account_id":5830934,"reputation":45,"user_id":4595448,"display_name":"Billy"},"score":0,"creation_date":1434327143,"post_id":30835718,"comment_id":49716138,"body_markdown":"this is perfect the only issue I&#39;m having is getting the program to print the numbers (up to 30 in the series) before asking the user to select the numbers","body":"this is perfect the only issue I&#39;m having is getting the program to print the numbers (up to 30 in the series) before asking the user to select the numbers"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1434503038,"post_id":30835718,"comment_id":49802318,"body_markdown":"Your second for-loop in the `main` method is weird. Why don&#39;t you just remove the for-loop and replace what&#39;s inside of it (`if (i == num) { System.out.print(feb[i] + &quot; &quot;); }`) with `System.out.print(feb[num] + &quot; &quot;);` ?","body":"Your second for-loop in the <code>main</code> method is weird. Why don&#39;t you just remove the for-loop and replace what&#39;s inside of it (<code>if (i == num) { System.out.print(feb[i] + &quot; &quot;); }</code>) with <code>System.out.print(feb[num] + &quot; &quot;);</code> ?"},{"owner":{"account_id":3329744,"reputation":944,"user_id":2798950,"accept_rate":100,"display_name":"VNT"},"score":0,"creation_date":1496555489,"post_id":30835718,"comment_id":75704505,"body_markdown":"@Ritesh Karwa  Are you able to get 30th element from the series?","body":"@Ritesh Karwa  Are you able to get 30th element from the series?"},{"owner":{"account_id":4310479,"reputation":2204,"user_id":4854861,"display_name":"Ritesh  Karwa"},"score":0,"creation_date":1496684441,"post_id":30835718,"comment_id":75750183,"body_markdown":"@VNT did not actually get your question? if you want the 30th element just \nmake int febCount = 31;","body":"@VNT did not actually get your question? if you want the 30th element just  make int febCount = 31;"}],"tags":[],"owner":{"account_id":4310479,"reputation":2204,"user_id":4854861,"display_name":"Ritesh  Karwa"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676890269,"creation_date":1434325733,"answer_id":30835718,"question_id":30835626,"body_markdown":"    \r\n**Here you go :**\r\n\r\n   \r\n\r\n     public class TestProgram {\r\n    \r\n    \tpublic static void main(String a[]) {\r\n    \r\n    \t\tScanner reader = new Scanner(System.in);\r\n    \t\tprintFibonacciSeries();\r\n    \t\tSystem.out.println(&quot;&quot;);\r\n    \t\tSystem.out.println(&quot;Fibonacci Series, Enter the number in the series of 30 you want to see&quot;);\r\n    \t\tint num = reader.nextInt();\r\n    \t\tint febCount = 30;\r\n    \t\tint[] feb = new int[febCount];\r\n    \t\tfeb[0] = 0;\r\n    \t\tfeb[1] = 1;\r\n    \t\tfor (int i = 2; i &lt; febCount; i++) {\r\n    \t\t\tfeb[i] = feb[i - 1] + feb[i - 2];\r\n\r\n    \t\t\tif (i == num) {\r\n    \t\t\t\tSystem.out.print(feb[i] + &quot; &quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void printFibonacciSeries() {\r\n    \r\n    \t\tint febCount = 31;\r\n    \t\tint[] feb = new int[febCount];\r\n    \t\tfeb[0] = 0;\r\n    \t\tfeb[1] = 1;\r\n    \t\tfor (int i = 2; i &lt; febCount; i++) {\r\n    \t\t\tfeb[i] = feb[i - 1] + feb[i - 2];\r\n    \t\t\tSystem.out.print(feb[i] + &quot; &quot;);\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    }","title":"Java Fibonacci series","body":"<p><strong>Here you go :</strong></p>\n<pre><code> public class TestProgram {\n\n    public static void main(String a[]) {\n\n        Scanner reader = new Scanner(System.in);\n        printFibonacciSeries();\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Fibonacci Series, Enter the number in the series of 30 you want to see&quot;);\n        int num = reader.nextInt();\n        int febCount = 30;\n        int[] feb = new int[febCount];\n        feb[0] = 0;\n        feb[1] = 1;\n        for (int i = 2; i &lt; febCount; i++) {\n            feb[i] = feb[i - 1] + feb[i - 2];\n\n            if (i == num) {\n                System.out.print(feb[i] + &quot; &quot;);\n            }\n        }\n    }\n\n    public static void printFibonacciSeries() {\n\n        int febCount = 31;\n        int[] feb = new int[febCount];\n        feb[0] = 0;\n        feb[1] = 1;\n        for (int i = 2; i &lt; febCount; i++) {\n            feb[i] = feb[i - 1] + feb[i - 2];\n            System.out.print(feb[i] + &quot; &quot;);\n\n        }\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1676890537,"post_id":44351052,"comment_id":133222134,"body_markdown":"`public static void main(long n)` will not be an executable entry point","body":"<code>public static void main(long n)</code> will not be an executable entry point"}],"tags":[],"owner":{"account_id":11041541,"reputation":1,"user_id":8109253,"display_name":"IronFist"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496555255,"creation_date":1496554246,"answer_id":44351052,"question_id":30835626,"body_markdown":"    public class Fibonacci_series  // upto less than a given number\r\n    {\r\n        public static void main(long n)\r\n        {\r\n            long a=0, b=1, c=0;\r\n            while (c&lt;n)\r\n            {\r\n                a=b;\r\n                b=c;\r\n                System.out.print(c+&quot;, &quot;);\r\n                c=a+b;\r\n            }\r\n            System.out.print(&quot;....&quot;);\r\n        }\r\n    }","title":"Java Fibonacci series","body":"<pre><code>public class Fibonacci_series  // upto less than a given number\n{\n    public static void main(long n)\n    {\n        long a=0, b=1, c=0;\n        while (c&lt;n)\n        {\n            a=b;\n            b=c;\n            System.out.print(c+\", \");\n            c=a+b;\n        }\n        System.out.print(\"....\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676895069,"creation_date":1676890737,"answer_id":75508390,"question_id":30835626,"body_markdown":"You could use a command line argument and read it from the main method args:\r\n\r\n    public class MyFibonacci {\r\n        public static void main(String a[]) throws NumberFormatException {\r\n             int febCount = Integer.parseInt(a[0]);\r\n\r\nthen call it with\r\n\r\n    java MyFibonacci 30\r\n\r\nOr pass it in the &#39;VM options&#39; input in an IntelliJ run configuration\r\n","title":"Java Fibonacci series","body":"<p>You could use a command line argument and read it from the main method args:</p>\n<pre><code>public class MyFibonacci {\n    public static void main(String a[]) throws NumberFormatException {\n         int febCount = Integer.parseInt(a[0]);\n</code></pre>\n<p>then call it with</p>\n<pre><code>java MyFibonacci 30\n</code></pre>\n<p>Or pass it in the 'VM options' input in an IntelliJ run configuration</p>\n"}],"owner":{"account_id":5830934,"reputation":45,"user_id":4595448,"display_name":"Billy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":976,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1676895069,"creation_date":1434324635,"question_id":30835626,"body_markdown":"What would be the next step in order to ask the user which of the numbers in this series of 30 he wants to see and prompts for an integer input - a number between 1 and 30 (inclusive)?\r\n\r\nSo if the user wants to see the fifth (5th) number of the Fibonacci series the user would input the integer 5 in response to the prompt.\r\n\r\n    public class MyFibonacci {\r\n        public static void main(String a[]) {\r\n             int febCount = 30;\r\n             int[] feb = new int[febCount];\r\n             feb[0] = 0;\r\n             feb[1] = 1;\r\n             for(int i=2; i &lt; febCount; i++) {\r\n                 feb[i] = feb[i-1] + feb[i-2];\r\n             }\r\n     \r\n             for(int i=0; i&lt; febCount; i++) {\r\n                     System.out.print(feb[i] + &quot; &quot;);\r\n             }\r\n        }\r\n    }   \r\n\r\n \r\n","title":"Java Fibonacci series","body":"<p>What would be the next step in order to ask the user which of the numbers in this series of 30 he wants to see and prompts for an integer input - a number between 1 and 30 (inclusive)?</p>\n\n<p>So if the user wants to see the fifth (5th) number of the Fibonacci series the user would input the integer 5 in response to the prompt.</p>\n\n<pre><code>public class MyFibonacci {\n    public static void main(String a[]) {\n         int febCount = 30;\n         int[] feb = new int[febCount];\n         feb[0] = 0;\n         feb[1] = 1;\n         for(int i=2; i &lt; febCount; i++) {\n             feb[i] = feb[i-1] + feb[i-2];\n         }\n\n         for(int i=0; i&lt; febCount; i++) {\n                 System.out.print(feb[i] + \" \");\n         }\n    }\n}   \n</code></pre>\n"},{"tags":["java","testing","mockito"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1676881595,"post_id":75506775,"comment_id":133219675,"body_markdown":"It can not be done by mockito. You have to refactor your code or change to powermockito","body":"It can not be done by mockito. You have to refactor your code or change to powermockito"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1676882609,"post_id":75506775,"comment_id":133219932,"body_markdown":"Please improve your question by showing us your attempt and what failed.","body":"Please improve your question by showing us your attempt and what failed."},{"owner":{"account_id":27830309,"reputation":1,"user_id":21248874,"display_name":"piyush bansal"},"score":0,"creation_date":1676883504,"post_id":75506775,"comment_id":133220159,"body_markdown":"Updated code. I am unable to verify the commented line of test case","body":"Updated code. I am unable to verify the commented line of test case"}],"answers":[{"comments":[{"owner":{"account_id":27830309,"reputation":1,"user_id":21248874,"display_name":"piyush bansal"},"score":0,"creation_date":1676881589,"post_id":75506800,"comment_id":133219673,"body_markdown":"I dont want to use powerMocktio.whenNew method.","body":"I dont want to use powerMocktio.whenNew method."},{"owner":{"account_id":26816655,"reputation":77,"user_id":20406553,"display_name":"jetbrain_icin icin"},"score":0,"creation_date":1676882370,"post_id":75506800,"comment_id":133219868,"body_markdown":"Then, if your code look like this;\n    public class A {\n        private final B b;\n\n        public A(B b) {\n            this.b = b;\n        }\n\n        public void methodA() {\n            // --- some code ---\n            methodC(b);\n        }\n    }\n\nyou can create a mock instance of B and pass it to your A instance\n\n    B mockB = mock(B.class);\n    A a = new A(mockB);\n    a.methodA();","body":"Then, if your code look like this;     public class A {         private final B b;          public A(B b) {             this.b = b;         }          public void methodA() {             // --- some code ---             methodC(b);         }     }  you can create a mock instance of B and pass it to your A instance      B mockB = mock(B.class);     A a = new A(mockB);     a.methodA();"},{"owner":{"account_id":27830309,"reputation":1,"user_id":21248874,"display_name":"piyush bansal"},"score":0,"creation_date":1676883216,"post_id":75506800,"comment_id":133220087,"body_markdown":"I tried using MockedConstruction on B class. I can mock the method but when I am verifying the call after assertion it&#39;s getting failed. \nI did something like this.\n```\ntry(MockedConstruction mocked = mockConstruction(B.class){\n\n--- assertEquals( )--- done\nverify(yourClassObject, times(1)).methodC() ? here I am not getting how can I verify methodC onvocation as i dont have the mock object returned from that class. \n}\n```","body":"I tried using MockedConstruction on B class. I can mock the method but when I am verifying the call after assertion it&#39;s getting failed.  I did something like this. ``` try(MockedConstruction mocked = mockConstruction(B.class){  --- assertEquals( )--- done verify(yourClassObject, times(1)).methodC() ? here I am not getting how can I verify methodC onvocation as i dont have the mock object returned from that class.  } ```"},{"owner":{"account_id":26816655,"reputation":77,"user_id":20406553,"display_name":"jetbrain_icin icin"},"score":0,"creation_date":1676884581,"post_id":75506800,"comment_id":133220418,"body_markdown":"ArgumentCaptor can be used with Mockito&#39;s verify() method;\n\nimport org.mockito.ArgumentCaptor;\nimport org.mockito.MockedConstruction;\n\ntry (MockedConstruction mocked = mockConstruction(B.class)) {\n\n    yourClassObject.methodA();\n\n    ArgumentCaptor&lt;B&gt; bCaptor = ArgumentCaptor.forClass(B.class);\n    verify(yourClassObject, times(1)).methodC(bCaptor.capture());\n\n    B mockedB = bCaptor.getValue();\n    assertNotNull(mockedB);\n}","body":"ArgumentCaptor can be used with Mockito&#39;s verify() method;  import org.mockito.ArgumentCaptor; import org.mockito.MockedConstruction;  try (MockedConstruction mocked = mockConstruction(B.class)) {      yourClassObject.methodA();      ArgumentCaptor&lt;B&gt; bCaptor = ArgumentCaptor.forClass(B.class);     verify(yourClassObject, times(1)).methodC(bCaptor.capture());      B mockedB = bCaptor.getValue();     assertNotNull(mockedB); }"}],"tags":[],"owner":{"account_id":26816655,"reputation":77,"user_id":20406553,"display_name":"jetbrain_icin icin"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676881330,"creation_date":1676881330,"answer_id":75506800,"question_id":75506775,"body_markdown":" Mockito framework can be used to mock the creation of the B object by mocking the behavior of the constructor;\r\n\r\n    B mockB = Mockito.mock(B.class);\r\n\r\n    Mockito.whenNew(B.class).withNoArguments().thenReturn(mockB);\r\n\r\n    yourObject.methodA();\r\n\r\n    Mockito.verify(yourObject).methodC(mockB);\r\n","title":"Mocking a new object inside another method testing","body":"<p>Mockito framework can be used to mock the creation of the B object by mocking the behavior of the constructor;</p>\n<pre><code>B mockB = Mockito.mock(B.class);\n\nMockito.whenNew(B.class).withNoArguments().thenReturn(mockB);\n\nyourObject.methodA();\n\nMockito.verify(yourObject).methodC(mockB);\n</code></pre>\n"}],"owner":{"account_id":27830309,"reputation":1,"user_id":21248874,"display_name":"piyush bansal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1053,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676894620,"creation_date":1676881133,"question_id":75506775,"body_markdown":"I have a class which contains method like \r\n\r\n```java\r\nprivate MqttWrapper createNewMqttWrapperInstance(EdamsCell deviceCell) {\r\n    MqttWrapper mqttWrapper = new MqttWrapper();\r\n    MqttClientConnectionManager mqttClientConnectionManager = context.getMqttClientConnectionManager();\r\n    MqttClientConnection mqttClientConnection = mqttClientConnectionManager.getMqttClientConnection(mqttWrapper);\r\n\r\n    setMqttWrapperProperties(mqttWrapper, AWSIotConnectionStatus.CONNECTED);\r\n    log.info(&quot;New instance of MqttWrapper created for device cell {}&quot;, deviceCell);\r\n\r\n    return mqttWrapper;\r\n}\r\n```\r\n\r\nMy test method is \r\n```java\r\ntry(MockedConstruction mocked = mockConstruction(MqttWrapper.class, (mock, context) -&gt; {})){\r\n    mockMethodCalls();\r\n    doReturn(mqttClientConnection).when(mqttClientConnectionManager).getMqttClientConnection(); -&gt;I am not able to control this as there in code a new object is passed. \r\n    mqttWrapperFactoryImpl = spy(new MqttWrapperFactoryImpl(context));\r\n    outputMqttWrapper = mqttWrapperFactoryImpl.getMqttWrapperForSiteId(SITE_ID);\r\n\r\n    assertEquals(expectedMqttWrapper, outputMqttWrapper);\r\n    \r\n    // verify(mqttClientConnectionManager, times(1)).getMqttClientConnection(IOT_ENDPOINT, deviceResponseListener,\r\n    //         CELL, new MqttWrapper());\r\n    verify(mqttClientConnectionManager, times(1)).getMqttClientConnection( sample);\r\n    verifyNoMoreInteractions(mqttClientConnectionManager);\r\n}\r\n```\r\n\r\nI want to mock this b object creation so that I can control the methodC and verify the same after assertion. I dont want to use PowerMockito.\r\n\r\nI can&#39;t control the invocation method also, neither I am able to verify the test calling.\r\nI tried MockitoConstruction but was unable to do so. ","title":"Mocking a new object inside another method testing","body":"<p>I have a class which contains method like</p>\n<pre class=\"lang-java prettyprint-override\"><code>private MqttWrapper createNewMqttWrapperInstance(EdamsCell deviceCell) {\n    MqttWrapper mqttWrapper = new MqttWrapper();\n    MqttClientConnectionManager mqttClientConnectionManager = context.getMqttClientConnectionManager();\n    MqttClientConnection mqttClientConnection = mqttClientConnectionManager.getMqttClientConnection(mqttWrapper);\n\n    setMqttWrapperProperties(mqttWrapper, AWSIotConnectionStatus.CONNECTED);\n    log.info(&quot;New instance of MqttWrapper created for device cell {}&quot;, deviceCell);\n\n    return mqttWrapper;\n}\n</code></pre>\n<p>My test method is</p>\n<pre class=\"lang-java prettyprint-override\"><code>try(MockedConstruction mocked = mockConstruction(MqttWrapper.class, (mock, context) -&gt; {})){\n    mockMethodCalls();\n    doReturn(mqttClientConnection).when(mqttClientConnectionManager).getMqttClientConnection(); -&gt;I am not able to control this as there in code a new object is passed. \n    mqttWrapperFactoryImpl = spy(new MqttWrapperFactoryImpl(context));\n    outputMqttWrapper = mqttWrapperFactoryImpl.getMqttWrapperForSiteId(SITE_ID);\n\n    assertEquals(expectedMqttWrapper, outputMqttWrapper);\n    \n    // verify(mqttClientConnectionManager, times(1)).getMqttClientConnection(IOT_ENDPOINT, deviceResponseListener,\n    //         CELL, new MqttWrapper());\n    verify(mqttClientConnectionManager, times(1)).getMqttClientConnection( sample);\n    verifyNoMoreInteractions(mqttClientConnectionManager);\n}\n</code></pre>\n<p>I want to mock this b object creation so that I can control the methodC and verify the same after assertion. I dont want to use PowerMockito.</p>\n<p>I can't control the invocation method also, neither I am able to verify the test calling.\nI tried MockitoConstruction but was unable to do so.</p>\n"},{"tags":["java","spring-boot","junit5","graalvm-native-image","embedded-kafka"],"comments":[{"owner":{"account_id":13870433,"reputation":86,"user_id":10013726,"display_name":"Ankur Sharma"},"score":0,"creation_date":1676894983,"post_id":75509030,"comment_id":133223292,"body_markdown":"Not sure about any connection between Kafka and GraalVM. Question is how is your setup? Are you using a kafka on your local machine? and what port you are giving when using Embedded Kafka? Because the way I see it, it should not be same when both embedded and actual kafka cluster is on same machine.","body":"Not sure about any connection between Kafka and GraalVM. Question is how is your setup? Are you using a kafka on your local machine? and what port you are giving when using Embedded Kafka? Because the way I see it, it should not be same when both embedded and actual kafka cluster is on same machine."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676922416,"post_id":75509030,"comment_id":133231069,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":8943569,"reputation":1,"user_id":6671793,"display_name":"Mohammadreza Mirali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676894610,"creation_date":1676894610,"question_id":75509030,"body_markdown":"I want to use EmbeddedKafka with GraalVM using Spring boot in tests. When I run the test it goes to idle and Waiting until the timeout happens. Is there any idea how to use them together? \r\n\r\nWhen I run the test it goes to idle and Waiting until the timeout happens.","title":"EmbeddedKafka and GraalVM in Springboot tests","body":"<p>I want to use EmbeddedKafka with GraalVM using Spring boot in tests. When I run the test it goes to idle and Waiting until the timeout happens. Is there any idea how to use them together?</p>\n<p>When I run the test it goes to idle and Waiting until the timeout happens.</p>\n"},{"tags":["java","spring","spring-security","oauth"],"owner":{"account_id":1571567,"reputation":2442,"user_id":1459161,"accept_rate":95,"display_name":"glethien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676893764,"creation_date":1676884911,"question_id":75507349,"body_markdown":"Good morning.\r\nWe are developing an application which needs access to the internet for reaching the OAuth2.0 server. The problem is, that the configuration of the cloud blocks all internet access, which is not handled by a proxy. For authentication with the proxy we are provided with some credentials. Using the newest Spring boot version and the newest version of Spring Security, the whole team (hobby devs, and free / hobby project, nothing commercial) has no idea on how to setup the SpringSecurityOAuthFilterChain to make all OAuth calls using the proxy with credentials.\r\n\r\nHere is our current FilterChain\r\n\r\n        http //\r\n                .authorizeHttpRequests() //\r\n                .requestMatchers(PAGE_AUTH_SSO_LOGIN, PAGE_AUTH_ERROR, LOGIN_OAUTH2_CALLBACK_URL,\r\n                        AuthenticationUtils.FAILURE_OAUTH_LOGIN_CALLBACK,\r\n                        SpringConstants.ACTUATOR_HEALTH_URL).permitAll() //\r\n                .anyRequest().authenticated() //\r\n                .and() //\r\n                .oauth2Login() //\r\n                    .loginPage(PAGE_AUTH_SSO_LOGIN)//\r\n                    .successHandler((request, response, authentication) -&gt; //\r\n                            response.sendRedirect(SUCCESSFUL_OAUTH_LOGIN_CALLBACK)) //\r\n                    .failureHandler((request, response, authentication) -&gt; //\r\n                            response.sendRedirect(AuthenticationUtils.FAILURE_OAUTH_LOGIN_CALLBACK)) //\r\n                .and() //\r\n                .logout() //\r\n                .logoutUrl(LOGOUT_URL) //\r\n                .logoutSuccessUrl(\r\n                        &quot;/oauth2/authorization/logout?redirect_uri=http://localhost:8090/page/auth/ssoLogin.xhtml&quot;) //\r\n                .clearAuthentication(true) //\r\n                .invalidateHttpSession(true) //\r\n                .deleteCookies(JSESSIONID) //\r\n                .and() //\r\n                .csrf().disable();\r\n\r\nSetting the parameters for the JVM did not work. Can someone give us a hint or a working example on how to solve this problem?\r\n\r\nVersion of spring boot and spring boot security 3.0.1\r\nVersion of spring-boot-starter-oauth2-client: 3.0.1","title":"Spring OAuth2 with Proxy using Credentials","body":"<p>Good morning.\nWe are developing an application which needs access to the internet for reaching the OAuth2.0 server. The problem is, that the configuration of the cloud blocks all internet access, which is not handled by a proxy. For authentication with the proxy we are provided with some credentials. Using the newest Spring boot version and the newest version of Spring Security, the whole team (hobby devs, and free / hobby project, nothing commercial) has no idea on how to setup the SpringSecurityOAuthFilterChain to make all OAuth calls using the proxy with credentials.</p>\n<p>Here is our current FilterChain</p>\n<pre><code>    http //\n            .authorizeHttpRequests() //\n            .requestMatchers(PAGE_AUTH_SSO_LOGIN, PAGE_AUTH_ERROR, LOGIN_OAUTH2_CALLBACK_URL,\n                    AuthenticationUtils.FAILURE_OAUTH_LOGIN_CALLBACK,\n                    SpringConstants.ACTUATOR_HEALTH_URL).permitAll() //\n            .anyRequest().authenticated() //\n            .and() //\n            .oauth2Login() //\n                .loginPage(PAGE_AUTH_SSO_LOGIN)//\n                .successHandler((request, response, authentication) -&gt; //\n                        response.sendRedirect(SUCCESSFUL_OAUTH_LOGIN_CALLBACK)) //\n                .failureHandler((request, response, authentication) -&gt; //\n                        response.sendRedirect(AuthenticationUtils.FAILURE_OAUTH_LOGIN_CALLBACK)) //\n            .and() //\n            .logout() //\n            .logoutUrl(LOGOUT_URL) //\n            .logoutSuccessUrl(\n                    &quot;/oauth2/authorization/logout?redirect_uri=http://localhost:8090/page/auth/ssoLogin.xhtml&quot;) //\n            .clearAuthentication(true) //\n            .invalidateHttpSession(true) //\n            .deleteCookies(JSESSIONID) //\n            .and() //\n            .csrf().disable();\n</code></pre>\n<p>Setting the parameters for the JVM did not work. Can someone give us a hint or a working example on how to solve this problem?</p>\n<p>Version of spring boot and spring boot security 3.0.1\nVersion of spring-boot-starter-oauth2-client: 3.0.1</p>\n"},{"tags":["java","email","jakarta-mail","email-bounces"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1676893478,"post_id":75506337,"comment_id":133222870,"body_markdown":"You need to **parse** the parts of the DSN with JakartaMail, instead of just printing out the stream of the message.","body":"You need to <b>parse</b> the parts of the DSN with JakartaMail, instead of just printing out the stream of the message."}],"owner":{"account_id":22310428,"reputation":55,"user_id":20916403,"display_name":"rose pauline"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676893344,"creation_date":1676877943,"question_id":75506337,"body_markdown":"How to remove the highlighted content as in below image? While reading bounced emails with java mail API.\r\n\r\n**Image(Highlighted content to be removed)**\r\n\r\n[![Image](https://i.stack.imgur.com/uKvDc.png)](https://i.stack.imgur.com/uKvDc.png)\r\n\r\n**Code**\r\n```\r\nif (message.isMimeType(&quot;multipart/report&quot;)) {\r\n\tSystem.out.println(&quot;inputstream:::&quot; + message.getInputStream());\r\n\tStringWriter writer = new StringWriter();\r\n\tIOUtils.copy(message.getInputStream(), writer);\r\n\tSystem.out.println(&quot;Content inputstream: &quot; + writer.toString());\r\n\tresult = writer.toString();\r\n\tSystem.out.println(&quot;resultlast:::&quot; + result);\r\n\t\r\n\tresult = result.replaceAll(&quot;(\\n)&quot;, &quot;&lt;br&gt;&quot;);\r\n\tSystem.out.println(&quot;result--br::&quot;+result);\r\n}\r\n```\r\n","title":"While reading bounced emails in java mail API, how to remove the highlighted content as in below image?","body":"<p>How to remove the highlighted content as in below image? While reading bounced emails with java mail API.</p>\n<p><strong>Image(Highlighted content to be removed)</strong></p>\n<p><a href=\"https://i.stack.imgur.com/uKvDc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uKvDc.png\" alt=\"Image\" /></a></p>\n<p><strong>Code</strong></p>\n<pre><code>if (message.isMimeType(&quot;multipart/report&quot;)) {\n    System.out.println(&quot;inputstream:::&quot; + message.getInputStream());\n    StringWriter writer = new StringWriter();\n    IOUtils.copy(message.getInputStream(), writer);\n    System.out.println(&quot;Content inputstream: &quot; + writer.toString());\n    result = writer.toString();\n    System.out.println(&quot;resultlast:::&quot; + result);\n    \n    result = result.replaceAll(&quot;(\\n)&quot;, &quot;&lt;br&gt;&quot;);\n    System.out.println(&quot;result--br::&quot;+result);\n}\n</code></pre>\n"},{"tags":["java","kotlin","spring-mvc","openapi-generator"],"comments":[{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1676705329,"post_id":75486623,"comment_id":133194987,"body_markdown":"The resulting spec is not valid, it&#39;s supposed to be `type: string`. This looks like a bug in the library that generates an OpenAPI spec from the source code.","body":"The resulting spec is not valid, it&#39;s supposed to be <code>type: string</code>. This looks like a bug in the library that generates an OpenAPI spec from the source code."}],"answers":[{"tags":[],"owner":{"account_id":16344760,"reputation":105,"user_id":11804812,"display_name":"fiftyone_51"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676893318,"creation_date":1676893318,"answer_id":75508829,"question_id":75486623,"body_markdown":"The annotation based approach that I showed in my question does not seem to generate a valid OpenApi spec with `springdoc-openapi:1.6.13`. The type of the field `identifier` needs to be String, as Helen mentioned in the comments.\r\n\r\nI was able to solve the issue by creating the Schema for this particular class manually, using a `GlobalOpenApiCustomizer` Bean:\r\n\r\n```lang-kotlin\r\n@Bean\r\nfun myDtoCustomizer(): GlobalOpenApiCustomizer {\r\n    val firstEnum = StringSchema()\r\n    firstEnum.description = &quot;First Enum&quot;\r\n    MyFirstEnum.values().forEach { firstEnum.addEnumItem(it.name) }\r\n\r\n    val secondEnum = StringSchema()\r\n    secondEnum.description = &quot;Second Enum&quot;\r\n    MySecondEnum.values().forEach { secondEnum.addEnumItem(it.name) }\r\n\r\n    return GlobalOpenApiCustomizer {\r\n        it.components.schemas[MyDto::class.simpleName] = ObjectSchema()\r\n            .addProperty(\r\n                MyDto::identifier.name,\r\n                StringSchema().oneOf(\r\n                    listOf(\r\n                        firstEnum,\r\n                        secondEnum\r\n                    )\r\n                )\r\n            )\r\n            .addProperty(MyDto::someOtherField.name, StringSchema())\r\n    }\r\n}\r\n```\r\n\r\nWhich in turn produces the following Spec:\r\n\r\n```lang-json\r\n&quot;MyDto&quot;: {\r\n    &quot;type&quot;: &quot;object&quot;,\r\n    &quot;properties&quot;: {\r\n        &quot;identifier&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;,\r\n            &quot;oneOf&quot;: [{\r\n                    &quot;type&quot;: &quot;string&quot;,\r\n                    &quot;description&quot;: &quot;First Enum&quot;,\r\n                    &quot;enum&quot;: [\r\n                        &quot;FirstEnumValue1&quot;,\r\n                        &quot;FirstEnumValue2&quot;,\r\n                        &quot;FirstEnumValue3&quot;\r\n                    ]\r\n                }, {\r\n                    &quot;type&quot;: &quot;string&quot;,\r\n                    &quot;description&quot;: &quot;Second Enum&quot;,\r\n                    &quot;enum&quot;: [\r\n                        &quot;SecondEnumValue1&quot;,\r\n                        &quot;SecondEnumValue2&quot;,\r\n                        &quot;SecondEnumValue3&quot;\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        &quot;someOtherField&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n        }\r\n    }\r\n}\r\n```","title":"OpenApi specification generator - Supply values from multiple Enum classes for a String field","body":"<p>The annotation based approach that I showed in my question does not seem to generate a valid OpenApi spec with <code>springdoc-openapi:1.6.13</code>. The type of the field <code>identifier</code> needs to be String, as Helen mentioned in the comments.</p>\n<p>I was able to solve the issue by creating the Schema for this particular class manually, using a <code>GlobalOpenApiCustomizer</code> Bean:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Bean\nfun myDtoCustomizer(): GlobalOpenApiCustomizer {\n    val firstEnum = StringSchema()\n    firstEnum.description = &quot;First Enum&quot;\n    MyFirstEnum.values().forEach { firstEnum.addEnumItem(it.name) }\n\n    val secondEnum = StringSchema()\n    secondEnum.description = &quot;Second Enum&quot;\n    MySecondEnum.values().forEach { secondEnum.addEnumItem(it.name) }\n\n    return GlobalOpenApiCustomizer {\n        it.components.schemas[MyDto::class.simpleName] = ObjectSchema()\n            .addProperty(\n                MyDto::identifier.name,\n                StringSchema().oneOf(\n                    listOf(\n                        firstEnum,\n                        secondEnum\n                    )\n                )\n            )\n            .addProperty(MyDto::someOtherField.name, StringSchema())\n    }\n}\n</code></pre>\n<p>Which in turn produces the following Spec:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;MyDto&quot;: {\n    &quot;type&quot;: &quot;object&quot;,\n    &quot;properties&quot;: {\n        &quot;identifier&quot;: {\n            &quot;type&quot;: &quot;string&quot;,\n            &quot;oneOf&quot;: [{\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;description&quot;: &quot;First Enum&quot;,\n                    &quot;enum&quot;: [\n                        &quot;FirstEnumValue1&quot;,\n                        &quot;FirstEnumValue2&quot;,\n                        &quot;FirstEnumValue3&quot;\n                    ]\n                }, {\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;description&quot;: &quot;Second Enum&quot;,\n                    &quot;enum&quot;: [\n                        &quot;SecondEnumValue1&quot;,\n                        &quot;SecondEnumValue2&quot;,\n                        &quot;SecondEnumValue3&quot;\n                    ]\n                }\n            ]\n        },\n        &quot;someOtherField&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16344760,"reputation":105,"user_id":11804812,"display_name":"fiftyone_51"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676893318,"creation_date":1676649899,"question_id":75486623,"body_markdown":"I&#39;m writing a Spring Boot application in Kotlin, and I&#39;m currently struggling to generate a specification for a DTO class that has a backing field of the type `String`, which I want to then later parse into one of two enum classes in the adapter layer.\r\n\r\n\r\nI&#39;ve tried the following approach using the `oneOf` Annotation value, which seemed like it does what I want:\r\n```lang-kotlin\r\ndata class MyDto(\r\n    @Schema(\r\n        type = &quot;string&quot;,\r\n        oneOf = [MyFirstEnum::class, MySecondEnum::class]\r\n    )\r\n    val identifier: String,\r\n    val someOtherField: String\r\n) {\r\n    fun transform() { ... } // this will use the string identifier to pick the correct enum type later\r\n}\r\n```\r\n\r\n\r\nWhich results in the following OpenApi Spec:\r\n\r\n```lang-json\r\n&quot;MyDto&quot;: {\r\n    &quot;required&quot;: [\r\n        &quot;someOtherField&quot;,\r\n        &quot;identifier&quot;\r\n    ],\r\n    &quot;type&quot;: &quot;object&quot;,\r\n    &quot;properties&quot;: {\r\n        &quot;identifier&quot;: {\r\n            &quot;type&quot;: &quot;object&quot;,    // &lt;--- this should be string\r\n            &quot;oneOf&quot;: [{\r\n                    &quot;type&quot;: &quot;string&quot;,\r\n                    &quot;enum&quot;: [\r\n                        &quot;FirstEnumValue1&quot;,\r\n                        &quot;FirstEnumValue2&quot;,\r\n                        &quot;FirstEnumValue3&quot;\r\n                    ]\r\n                }, {\r\n                    &quot;type&quot;: &quot;string&quot;,\r\n                    &quot;enum&quot;: [\r\n                        &quot;SecondEnumValue1&quot;,\r\n                        &quot;SecondEnumValue2&quot;,\r\n                        &quot;SecondEnumValue3&quot;\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        &quot;someOtherField&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAs you can see, the enum constants are (I think) correctly inlined into the specification, but the `type` annotation on the field, which I set to `string` is bypassed, resulting in an `object` type, which I suppose is incorrect in this case.\r\n\r\nMy questions are:\r\n* Is my current code and the resulting spec valid with the `object` declaration instead of `string`?\r\n* Is there a better way to embed the enum values into the spec?\r\n\r\n**Edited to add:** I&#39;m using Spring Boot v2.7.8 in combination with `springdoc-openapi` v1.6.13 to automatically generate the OpenApi Spec.","title":"OpenApi specification generator - Supply values from multiple Enum classes for a String field","body":"<p>I'm writing a Spring Boot application in Kotlin, and I'm currently struggling to generate a specification for a DTO class that has a backing field of the type <code>String</code>, which I want to then later parse into one of two enum classes in the adapter layer.</p>\n<p>I've tried the following approach using the <code>oneOf</code> Annotation value, which seemed like it does what I want:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class MyDto(\n    @Schema(\n        type = &quot;string&quot;,\n        oneOf = [MyFirstEnum::class, MySecondEnum::class]\n    )\n    val identifier: String,\n    val someOtherField: String\n) {\n    fun transform() { ... } // this will use the string identifier to pick the correct enum type later\n}\n</code></pre>\n<p>Which results in the following OpenApi Spec:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;MyDto&quot;: {\n    &quot;required&quot;: [\n        &quot;someOtherField&quot;,\n        &quot;identifier&quot;\n    ],\n    &quot;type&quot;: &quot;object&quot;,\n    &quot;properties&quot;: {\n        &quot;identifier&quot;: {\n            &quot;type&quot;: &quot;object&quot;,    // &lt;--- this should be string\n            &quot;oneOf&quot;: [{\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;enum&quot;: [\n                        &quot;FirstEnumValue1&quot;,\n                        &quot;FirstEnumValue2&quot;,\n                        &quot;FirstEnumValue3&quot;\n                    ]\n                }, {\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;enum&quot;: [\n                        &quot;SecondEnumValue1&quot;,\n                        &quot;SecondEnumValue2&quot;,\n                        &quot;SecondEnumValue3&quot;\n                    ]\n                }\n            ]\n        },\n        &quot;someOtherField&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n        }\n    }\n}\n</code></pre>\n<p>As you can see, the enum constants are (I think) correctly inlined into the specification, but the <code>type</code> annotation on the field, which I set to <code>string</code> is bypassed, resulting in an <code>object</code> type, which I suppose is incorrect in this case.</p>\n<p>My questions are:</p>\n<ul>\n<li>Is my current code and the resulting spec valid with the <code>object</code> declaration instead of <code>string</code>?</li>\n<li>Is there a better way to embed the enum values into the spec?</li>\n</ul>\n<p><strong>Edited to add:</strong> I'm using Spring Boot v2.7.8 in combination with <code>springdoc-openapi</code> v1.6.13 to automatically generate the OpenApi Spec.</p>\n"},{"tags":["java","swing","imageicon","hidpi"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676818332,"post_id":75500826,"comment_id":133209709,"body_markdown":"Try using a jlabel constructor with inageicon and setsize() and setminimumsize() and setmaximumsize() on the jlabel.","body":"Try using a jlabel constructor with inageicon and setsize() and setminimumsize() and setmaximumsize() on the jlabel."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1676819717,"post_id":75500826,"comment_id":133209950,"body_markdown":"*I have a JLabel with an icon which I do NOT want to scale* - check out: https://stackoverflow.com/a/65742492/131872 for an Icon that won&#39;t scale.","body":"<i>I have a JLabel with an icon which I do NOT want to scale</i> - check out: <a href=\"https://stackoverflow.com/a/65742492/131872\">stackoverflow.com/a/65742492/131872</a> for an Icon that won&#39;t scale."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676824644,"post_id":75500826,"comment_id":133210762,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"score":0,"creation_date":1676892066,"post_id":75500826,"comment_id":133222521,"body_markdown":"My bad! When I initially tried with the BaseMultiResolutionImage, I was literally using _the same file_ ! I think the image files themselves need to have increase size for corresponding resolution! i.e. my 100% resolution image file is at 108x83. The image file size to use on a 175% resolution should be of 189x145. So now, the images are no longer fuzzy ;)\n\nHOWEVER, I am running into another issue where the 175% is not blurry, BUT it is not smooth.. it is kinda choppy. An antialiasing problem or something ? I&#39;ve updated question to show this...","body":"My bad! When I initially tried with the BaseMultiResolutionImage, I was literally using <i>the same file</i> ! I think the image files themselves need to have increase size for corresponding resolution! i.e. my 100% resolution image file is at 108x83. The image file size to use on a 175% resolution should be of 189x145. So now, the images are no longer fuzzy ;)  HOWEVER, I am running into another issue where the 175% is not blurry, BUT it is not smooth.. it is kinda choppy. An antialiasing problem or something ? I&#39;ve updated question to show this..."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677253874,"post_id":75500826,"comment_id":133307358,"body_markdown":"Kinda difficult to explain this but the upscaling of the image information on simple geometric shape such as that would seem ok and be a little scratchy above 150 percent. If it had been a true colour 24 bit photograph  image it would show severe quality degradation. Why not make the image (redraw new file) at the largest percent resolution and downscale in your method from the large master image.","body":"Kinda difficult to explain this but the upscaling of the image information on simple geometric shape such as that would seem ok and be a little scratchy above 150 percent. If it had been a true colour 24 bit photograph  image it would show severe quality degradation. Why not make the image (redraw new file) at the largest percent resolution and downscale in your method from the large master image."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677254040,"post_id":75500826,"comment_id":133307405,"body_markdown":"If you are using core image package, choose resize algorithm constant field value SMOOTH","body":"If you are using core image package, choose resize algorithm constant field value SMOOTH"},{"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"score":0,"creation_date":1677320512,"post_id":75500826,"comment_id":133317270,"body_markdown":"Sorry Samuel. I don&#39;t understand... &quot;redraw new file.. and downscale from that&quot; ?? Nor do I understand the using of core image package. Either way, I&#39;ve submitted a new question on Stack that demos this problem with full working code and images: https://stackoverflow.com/questions/75564701/misunderstanding-or-usage-of-basemultiresolutionimage-upscaled-images-are-scra\n\nHope you, or someone else can shed a light on this... it&#39;s annoying me and find this problem stupid to deal with :( Thank you.","body":"Sorry Samuel. I don&#39;t understand... &quot;redraw new file.. and downscale from that&quot; ?? Nor do I understand the using of core image package. Either way, I&#39;ve submitted a new question on Stack that demos this problem with full working code and images: <a href=\"https://stackoverflow.com/questions/75564701/misunderstanding-or-usage-of-basemultiresolutionimage-upscaled-images-are-scra\" title=\"misunderstanding or usage of basemultiresolutionimage upscaled images are scra\">stackoverflow.com/questions/75564701/&hellip;</a>  Hope you, or someone else can shed a light on this... it&#39;s annoying me and find this problem stupid to deal with :( Thank you."}],"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676893085,"creation_date":1676816933,"question_id":75500826,"body_markdown":"I know they are quite a few forums that kinda talks about this, but my problem is that I have a JLabel with an icon which I do NOT want to scale when resolution is &lt;&gt; 100% ! I.e. (sorry, in french):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nInitially, I set my JLabel icon with something like:\r\n\r\n```java\r\nlblImage.setIcon( getNoteIcon() );\r\n\r\n//...\r\n\r\nImageIcon getNoteIcon(){\r\n\treturn new ImageIcon( getClass().getResource(&#39;path/to/file.png&#39;) );\r\n}\r\n```\r\n\r\nThis results are that my image displays blurry when HiDPI resolution is set to higher than 100%. Examples:\r\n\r\nAt 100%:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd at 150%:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nYou can see that the music note image is fuzzier in the 150% resolution.\r\n\r\nWhat I want: I DO NOT want it to up or downscale the image! I want to keep the original size, unless I can provide different image sizes for various resolutions.\r\n\r\nThat being said, I looked and tried to use the BaseMultiResolutionImage class to deal with resolutions, passing along an array of the &quot;same size image&quot;, but I get the same results when I change the resolution. This is the code I tried :\r\n\r\n```java\r\nImageIcon getNoteIcon(){\r\n\tList&lt;Image&gt; imgList = new ArrayList&lt;Image&gt;();\r\n\r\n\t/* all images are width = 108 height = 83 */\r\n\timgList.add(ImageIO.read(new File(&#39;path/to/file.png&#39;))); // 100%\r\n\timgList.add(ImageIO.read(new File(&#39;path/to/file.png&#39;))); // 125%\r\n\timgList.add(ImageIO.read(new File(&#39;path/to/file.png&#39;))); // 150%\r\n\timgList.add(ImageIO.read(new File(&#39;path/to/file.png&#39;))); // 175%\r\n\timgList.add(ImageIO.read(new File(&#39;path/to/file.png&#39;))); // 200%\r\n\r\n\tBaseMultiResolutionImage multiResolutionImage = new BaseMultiResolutionImage(imgList.toArray(new Image[0]));\r\n\r\n\treturn new ImageIcon(\r\n\t\tmultiResolutionImage\r\n\t);\r\n}\r\n```\r\n\r\nI don&#39;t understand what I&#39;m doing wrong, or if I&#39;m even using `BaseMultiResolutionImage` correctly. Finally, if I do manage say to give 3 different images for 3 resolutions, (i.e. 100, 125, 150%), is there a way to tell it the &quot;default&quot; one to use when I do not have an image for a given resolution (i.e. 200%) ? \r\n\r\nCan anyone shed a light on all of this? Seems like a lot of confusion on my end just to get an image to NOT scale in my window...\r\n\r\nMuch thanks!\r\nPat\r\n\r\n-----------\r\n***UPDATE AFTER &quot;PROPER&quot; USE OF BaseMultiResolutionImage:***\r\n\r\n```java\r\ntry {\r\n\tList&lt;Image&gt; imgList = new ArrayList&lt;Image&gt;();\r\n\r\n\timgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_100/file.png&quot;))); // 100% - 108x83\r\n\timgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_125/file.png&quot;))); // 125% - 135x104\r\n\timgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_150/file.png&quot;))); // 150% - 162x124\r\n\timgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_175/file.png&quot;))); // 175% - 189x145\r\n\timgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_200/file.png&quot;))); // 200% - 216x166\r\n\r\n\tBaseMultiResolutionImage multiResolutionImage = new BaseMultiResolutionImage(imgList.toArray(new Image[0]));\r\n\tImageIcon icon = new ImageIcon(multiResolutionImage);\r\n\r\n\treturn icon;\r\n}\r\ncatch(IOException ex){\r\n\tex.printStackTrace();\r\n\treturn null;\r\n}\r\n```\r\n\r\nOn screen font DPI set to 175% in Windows, this results in:\r\n\r\n**Before using BaseMultiResolutionImage**\r\n\r\n[![enter image description here][4]][4]\r\n\r\n**After using BaseMultiResolutionImage**\r\n\r\n[![enter image description here][5]][5]\r\n\r\nHere is a comparison of what I get (left), with the actual image file it&#39;s supposed to show on the right hand side (mind you Paint doesn&#39;t take into account background transparency):\r\n\r\n[![enter image description here][6]][6]\r\n\r\nAny ideas as to why this &quot;choppy&quot; image is showing? What am I missing ?\r\n\r\nThanks again.\r\nPat\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xD6uH.png\r\n  [2]: https://i.stack.imgur.com/PX4jw.png\r\n  [3]: https://i.stack.imgur.com/m3zKg.png\r\n  [4]: https://i.stack.imgur.com/gVDLt.png\r\n  [5]: https://i.stack.imgur.com/B8qoK.png\r\n  [6]: https://i.stack.imgur.com/qTgE3.png","title":"Swing JLabel icon: use same image for all resolutions","body":"<p>I know they are quite a few forums that kinda talks about this, but my problem is that I have a JLabel with an icon which I do NOT want to scale when resolution is &lt;&gt; 100% ! I.e. (sorry, in french):</p>\n<p><a href=\"https://i.stack.imgur.com/xD6uH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xD6uH.png\" alt=\"enter image description here\" /></a></p>\n<p>Initially, I set my JLabel icon with something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>lblImage.setIcon( getNoteIcon() );\n\n//...\n\nImageIcon getNoteIcon(){\n    return new ImageIcon( getClass().getResource('path/to/file.png') );\n}\n</code></pre>\n<p>This results are that my image displays blurry when HiDPI resolution is set to higher than 100%. Examples:</p>\n<p>At 100%:</p>\n<p><a href=\"https://i.stack.imgur.com/PX4jw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PX4jw.png\" alt=\"enter image description here\" /></a></p>\n<p>And at 150%:</p>\n<p><a href=\"https://i.stack.imgur.com/m3zKg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m3zKg.png\" alt=\"enter image description here\" /></a></p>\n<p>You can see that the music note image is fuzzier in the 150% resolution.</p>\n<p>What I want: I DO NOT want it to up or downscale the image! I want to keep the original size, unless I can provide different image sizes for various resolutions.</p>\n<p>That being said, I looked and tried to use the BaseMultiResolutionImage class to deal with resolutions, passing along an array of the &quot;same size image&quot;, but I get the same results when I change the resolution. This is the code I tried :</p>\n<pre class=\"lang-java prettyprint-override\"><code>ImageIcon getNoteIcon(){\n    List&lt;Image&gt; imgList = new ArrayList&lt;Image&gt;();\n\n    /* all images are width = 108 height = 83 */\n    imgList.add(ImageIO.read(new File('path/to/file.png'))); // 100%\n    imgList.add(ImageIO.read(new File('path/to/file.png'))); // 125%\n    imgList.add(ImageIO.read(new File('path/to/file.png'))); // 150%\n    imgList.add(ImageIO.read(new File('path/to/file.png'))); // 175%\n    imgList.add(ImageIO.read(new File('path/to/file.png'))); // 200%\n\n    BaseMultiResolutionImage multiResolutionImage = new BaseMultiResolutionImage(imgList.toArray(new Image[0]));\n\n    return new ImageIcon(\n        multiResolutionImage\n    );\n}\n</code></pre>\n<p>I don't understand what I'm doing wrong, or if I'm even using <code>BaseMultiResolutionImage</code> correctly. Finally, if I do manage say to give 3 different images for 3 resolutions, (i.e. 100, 125, 150%), is there a way to tell it the &quot;default&quot; one to use when I do not have an image for a given resolution (i.e. 200%) ?</p>\n<p>Can anyone shed a light on all of this? Seems like a lot of confusion on my end just to get an image to NOT scale in my window...</p>\n<p>Much thanks!\nPat</p>\n<hr />\n<p><em><strong>UPDATE AFTER &quot;PROPER&quot; USE OF BaseMultiResolutionImage:</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    List&lt;Image&gt; imgList = new ArrayList&lt;Image&gt;();\n\n    imgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_100/file.png&quot;))); // 100% - 108x83\n    imgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_125/file.png&quot;))); // 125% - 135x104\n    imgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_150/file.png&quot;))); // 150% - 162x124\n    imgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_175/file.png&quot;))); // 175% - 189x145\n    imgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_200/file.png&quot;))); // 200% - 216x166\n\n    BaseMultiResolutionImage multiResolutionImage = new BaseMultiResolutionImage(imgList.toArray(new Image[0]));\n    ImageIcon icon = new ImageIcon(multiResolutionImage);\n\n    return icon;\n}\ncatch(IOException ex){\n    ex.printStackTrace();\n    return null;\n}\n</code></pre>\n<p>On screen font DPI set to 175% in Windows, this results in:</p>\n<p><strong>Before using BaseMultiResolutionImage</strong></p>\n<p><a href=\"https://i.stack.imgur.com/gVDLt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gVDLt.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>After using BaseMultiResolutionImage</strong></p>\n<p><a href=\"https://i.stack.imgur.com/B8qoK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B8qoK.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is a comparison of what I get (left), with the actual image file it's supposed to show on the right hand side (mind you Paint doesn't take into account background transparency):</p>\n<p><a href=\"https://i.stack.imgur.com/qTgE3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qTgE3.png\" alt=\"enter image description here\" /></a></p>\n<p>Any ideas as to why this &quot;choppy&quot; image is showing? What am I missing ?</p>\n<p>Thanks again.\nPat</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":24271990,"reputation":1,"user_id":18219863,"display_name":"Programmer"},"score":0,"creation_date":1676872680,"post_id":75505711,"comment_id":133217888,"body_markdown":"Thank you so much. Seriously made my day.","body":"Thank you so much. Seriously made my day."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676872441,"creation_date":1676872441,"answer_id":75505711,"question_id":75505637,"body_markdown":"Use a dot for the &quot;any character&quot; part:\r\n\r\n    str = str.replaceAll(&quot;&#167;.&quot;, &quot;&quot;);\r\n","title":"Replace letter after specified character (including specified character) (all instances) java String","body":"<p>Use a dot for the &quot;any character&quot; part:</p>\n<pre><code>str = str.replaceAll(&quot;§.&quot;, &quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":24271990,"reputation":1,"user_id":18219863,"display_name":"Programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1676892996,"creation_date":1676871781,"question_id":75505637,"body_markdown":"I want to replace every &quot;&#167;&quot; and the character after it with nothing.\r\n\r\nExample:\r\n\r\n&quot;&#167;a&#167;b Text&quot;\r\n\r\nGoes to:\r\n\r\n&quot; Text&quot;\r\n\r\n&#167;a turns to nothing because there is the character &#167;. Same with &#167;b.\r\n\r\nHow would I go about doing this?\r\n\r\nI know about String.replaceAll(), but since the second character can be anything, I&#39;m not sure how I would get rid of it.\r\n","title":"Replace letter after specified character (including specified character) (all instances) java String","body":"<p>I want to replace every &quot;§&quot; and the character after it with nothing.</p>\n<p>Example:</p>\n<p>&quot;§a§b Text&quot;</p>\n<p>Goes to:</p>\n<p>&quot; Text&quot;</p>\n<p>§a turns to nothing because there is the character §. Same with §b.</p>\n<p>How would I go about doing this?</p>\n<p>I know about String.replaceAll(), but since the second character can be anything, I'm not sure how I would get rid of it.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"answers":[{"comments":[{"owner":{"account_id":6645589,"reputation":602,"user_id":5129821,"accept_rate":91,"display_name":"Dasun"},"score":0,"creation_date":1676895102,"post_id":75508766,"comment_id":133223331,"body_markdown":"Hi,\nI think this is not what I am looking for. I want to know the best way to update list of entities by list of DTOs. if entity not present for DTO it should be an insert.","body":"Hi, I think this is not what I am looking for. I want to know the best way to update list of entities by list of DTOs. if entity not present for DTO it should be an insert."}],"tags":[],"owner":{"account_id":11829073,"reputation":76,"user_id":8656297,"display_name":"Dupeyrat Kevin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676892981,"creation_date":1676892981,"answer_id":75508766,"question_id":75508448,"body_markdown":"You will need to map your Entity object to your DTO.\r\n\r\nFor this, you can use Mapstruct : https://www.baeldung.com/mapstruct\r\n\r\nWith spring data you can fetch your data with stream structure and then map your object before returning it.","title":"How to update list of entites by List of dtos in spring boot, data JPA?","body":"<p>You will need to map your Entity object to your DTO.</p>\n<p>For this, you can use Mapstruct : <a href=\"https://www.baeldung.com/mapstruct\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mapstruct</a></p>\n<p>With spring data you can fetch your data with stream structure and then map your object before returning it.</p>\n"}],"owner":{"account_id":6645589,"reputation":602,"user_id":5129821,"accept_rate":91,"display_name":"Dasun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676892981,"creation_date":1676891118,"question_id":75508448,"body_markdown":"I just want to know that is there best way to update list of entities which return by id that can update with list of DTO?. For example, I will fetch List of entities by its ID like this.\r\n\r\n**My requirement is, If supplierId return list of List&lt;SupSupplierProduct&gt; then update it is product ID, else insert new record.**\r\n\r\n    List&lt;SupSupplierProduct&gt; list1 = supSupplierProductRepository.findAllBySupplierId(supplierId);\r\n\r\nI want to update this list with DTO list, `List&lt;SupplierConfigurationResponse&gt; dto`\r\n\r\nEntity is\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;sup_supplier_product&quot;)\r\n    public class SupSupplierProduct extends BaseDTO {\r\n    \r\n    \t@Id\r\n    \t@GenericGenerator(name = &quot;generator&quot;, strategy = &quot;guid&quot;, parameters = {})\r\n    \t@GeneratedValue(generator = &quot;generator&quot;)\r\n    \t@Column(name = &quot;id&quot;, columnDefinition = &quot;uniqueidentifier&quot;)\r\n    \tprivate String id;\r\n    \t@Column(name = &quot;supplier_id&quot;)\r\n    \tprivate String supplierId;\r\n    \t@Column(name = &quot;prod_id&quot;)\r\n    \tprivate String prodId;\r\n    \r\n    }\r\n\r\nDTO is,\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class SupplierConfigurationResponse extends BaseDTO {\r\n    \r\n    \tprivate String prodId;\r\n    \t\r\n    }\r\n\r\n\r\nWhat I have tried it to get the support of modelMapper. But final output is not what I want.\r\n\r\n    Type listType = new TypeToken&lt;List&lt;SupSupplierProduct&gt;&gt;(){}.getType();\r\n    \t\tList&lt;SupSupplierProduct&gt; postDtoList = modelMapper.map(dto,listType);","title":"How to update list of entites by List of dtos in spring boot, data JPA?","body":"<p>I just want to know that is there best way to update list of entities which return by id that can update with list of DTO?. For example, I will fetch List of entities by its ID like this.</p>\n<p><strong>My requirement is, If supplierId return list of List then update it is product ID, else insert new record.</strong></p>\n<pre><code>List&lt;SupSupplierProduct&gt; list1 = supSupplierProductRepository.findAllBySupplierId(supplierId);\n</code></pre>\n<p>I want to update this list with DTO list, <code>List&lt;SupplierConfigurationResponse&gt; dto</code></p>\n<p>Entity is</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Entity\n@Table(name = &quot;sup_supplier_product&quot;)\npublic class SupSupplierProduct extends BaseDTO {\n\n    @Id\n    @GenericGenerator(name = &quot;generator&quot;, strategy = &quot;guid&quot;, parameters = {})\n    @GeneratedValue(generator = &quot;generator&quot;)\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;uniqueidentifier&quot;)\n    private String id;\n    @Column(name = &quot;supplier_id&quot;)\n    private String supplierId;\n    @Column(name = &quot;prod_id&quot;)\n    private String prodId;\n\n}\n</code></pre>\n<p>DTO is,</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class SupplierConfigurationResponse extends BaseDTO {\n\n    private String prodId;\n    \n}\n</code></pre>\n<p>What I have tried it to get the support of modelMapper. But final output is not what I want.</p>\n<pre><code>Type listType = new TypeToken&lt;List&lt;SupSupplierProduct&gt;&gt;(){}.getType();\n        List&lt;SupSupplierProduct&gt; postDtoList = modelMapper.map(dto,listType);\n</code></pre>\n"},{"tags":["java","playframework","ebean"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676951751,"post_id":75508760,"comment_id":133235703,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":15702282,"reputation":3,"user_id":11330076,"display_name":"Philips"},"score":0,"creation_date":1676967676,"post_id":75508760,"comment_id":133238453,"body_markdown":"I am trying to use `DBApi dbApi` but only can select `dbApi.getDatabase(&quot;xxx&quot;)`one of the databases defined on application.conf. It is not possible to add a new one","body":"I am trying to use <code>DBApi dbApi</code> but only can select <code>dbApi.getDatabase(&quot;xxx&quot;)</code>one of the databases defined on application.conf. It is not possible to add a new one"}],"owner":{"account_id":15702282,"reputation":3,"user_id":11330076,"display_name":"Philips"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676892941,"creation_date":1676892941,"question_id":75508760,"body_markdown":"In the play documentation we can find how configure a database connection in the application.conf file such as\r\n\r\n\r\n```\r\ndefault.driver=org.postgresql.Driver\r\ndefault.url=&quot;jdbc:postgresql://urlConnection&quot;\r\ndefault.user=yourUser\r\ndefault.password=&quot;yourPassword&quot;\r\n\r\nebean.default = [&quot;models.*&quot;]\r\n```\r\n\r\n\r\nbut I need to create different connections depending on the configuration of each account (each account has in its configuration the information for the connection to the database)\r\n\r\nSo in the default database I have the accounts and their configuration and, on the other hand, in other databases I have the rest of data.\r\n\r\nHow could I create the rest of the connections to the databases and make them work in the same way as the default database? Being dynamic, I cannot include them in the application.conf\r\n\r\nThe idea would be to create the databases as database + accountId and have them cached or somehow to not have to connect again if there is already a connection with that name","title":"Dynamic databases in play framework","body":"<p>In the play documentation we can find how configure a database connection in the application.conf file such as</p>\n<pre><code>default.driver=org.postgresql.Driver\ndefault.url=&quot;jdbc:postgresql://urlConnection&quot;\ndefault.user=yourUser\ndefault.password=&quot;yourPassword&quot;\n\nebean.default = [&quot;models.*&quot;]\n</code></pre>\n<p>but I need to create different connections depending on the configuration of each account (each account has in its configuration the information for the connection to the database)</p>\n<p>So in the default database I have the accounts and their configuration and, on the other hand, in other databases I have the rest of data.</p>\n<p>How could I create the rest of the connections to the databases and make them work in the same way as the default database? Being dynamic, I cannot include them in the application.conf</p>\n<p>The idea would be to create the databases as database + accountId and have them cached or somehow to not have to connect again if there is already a connection with that name</p>\n"},{"tags":["java","authentication","digital-signature","pkcs#11","sunpkcs11"],"comments":[{"owner":{"account_id":11403526,"reputation":573,"user_id":8359730,"accept_rate":89,"display_name":"Botea Florin"},"score":0,"creation_date":1579375812,"post_id":52115798,"comment_id":105748403,"body_markdown":"can you please tell me how you managed to get the sun.security.pkcs11.SunPKCS11 class? mine is missing... thanks!","body":"can you please tell me how you managed to get the sun.security.pkcs11.SunPKCS11 class? mine is missing... thanks!"}],"answers":[{"comments":[{"owner":{"account_id":3116225,"reputation":41,"user_id":2636920,"display_name":"Hynex"},"score":1,"creation_date":1535975766,"post_id":52116333,"comment_id":91248408,"body_markdown":"Hello, I tryed to add this, but unfortunately got the same error :( I thought that signature method (may) call the login callback itself...","body":"Hello, I tryed to add this, but unfortunately got the same error :( I thought that signature method (may) call the login callback itself..."},{"owner":{"account_id":3116225,"reputation":41,"user_id":2636920,"display_name":"Hynex"},"score":1,"creation_date":1535987744,"post_id":52116333,"comment_id":91255142,"body_markdown":"To be precise, if i call .login(null, handler) with debugging on, i got sunpkcs11: user already logged in... Maybe there must be subject specified?","body":"To be precise, if i call .login(null, handler) with debugging on, i got sunpkcs11: user already logged in... Maybe there must be subject specified?"}],"tags":[],"owner":{"account_id":10643264,"reputation":1321,"user_id":7837563,"display_name":"Rmahajan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535721522,"creation_date":1535721522,"answer_id":52116333,"question_id":52115798,"body_markdown":"I believe you missing login bit.\r\n\r\n`providerPKCS11.login(null, YourCallbackHandler)`\r\n","title":"PKCS#11 Signature with iText &amp; eTPKCS11.dll &amp; SunPKCS11 Provider","body":"<p>I believe you missing login bit.</p>\n\n<p><code>providerPKCS11.login(null, YourCallbackHandler)</code></p>\n"}],"owner":{"account_id":3116225,"reputation":41,"user_id":2636920,"display_name":"Hynex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2476,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1676892930,"creation_date":1535719615,"question_id":52115798,"body_markdown":"I have problems when trying to make signature using SunPKCS11 Provider linked to eTPKCS11.dll. Even with iText signDetached, also when trying simple Signature, I always get &quot;Exception in thread &quot;main&quot; java.security.ProviderException: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_USER_NOT_LOGGED_IN&quot;.\r\n\r\nI succesfully obtain PK, the authentication is done by callback which returns directly password for token. It seems like token needs another auth process for signature?\r\n\r\nThe device is SafeNet eToken 5110, running on Win7 64bit...\r\n\r\nThanks a lot!\r\n\r\n\tpublic class Main {\r\n\r\n\t\tpublic static Properties properties = new Properties();\r\n\r\n\t\tpublic static void main(String args[]) throws IOException, GeneralSecurityException, DocumentException\r\n\t        {\r\n\t\t    String userFile = &quot;E:/plain.pdf&quot;;\r\n\t    \tString userFile_signed = &quot;E:/plain-tsig.pdf&quot;;\r\n\t\t    \r\n\t\t    String pkcs11Config = &quot;name=eToken\\nlibrary=C:\\\\Windows\\\\System32\\\\eTPKCS11.dll\\nshowInfo=true&quot;;\r\n\t    \tjava.io.ByteArrayInputStream pkcs11ConfigStream = new java.io.ByteArrayInputStream(pkcs11Config.getBytes());\r\n\t    \tsun.security.pkcs11.SunPKCS11 providerPKCS11 = new sun.security.pkcs11.SunPKCS11(pkcs11ConfigStream);\r\n\t\t\r\n\t\t    java.security.Security.addProvider(providerPKCS11);\r\n\t    \tString pin = &quot;PIN-1234&quot;;\r\n\t    \r\n\t    \tKeyStore.CallbackHandlerProtection chp = new KeyStore.CallbackHandlerProtection(new MyGuiCallbackHandler() {});\r\n\t    \tKeyStore.Builder builder = KeyStore.Builder.newInstance(&quot;PKCS11&quot;, null, chp);\r\n\t    \r\n\t\t    KeyStore keyStore = builder.getKeyStore();\r\n\t    \tjava.util.Enumeration&lt;String&gt; aliases = keyStore.aliases();\r\n\t    \tString alias = null;\r\n\t    \twhile (aliases.hasMoreElements()) {\r\n\t\t        alias = aliases.nextElement();\r\n\t    \t    System.out.println(alias);\r\n\t    \t}\r\n\t    \tSystem.out.println(providerPKCS11.getName());\r\n\t    \tPrivateKey pk = (PrivateKey) keyStore.getKey(alias, null);\r\n\t    \r\n\t    \r\n\t    \tCertificate[] chain = keyStore.getCertificateChain(alias);\r\n\t        OcspClient ocspClient = new OcspClientBouncyCastle();\r\n\t        TSAClient tsaClient = null;\r\n\t        for (int i = 0; i &lt; chain.length; i++) {\r\n\t            X509Certificate cert = (X509Certificate)chain[i];\r\n\t            String tsaUrl = CertificateUtil.getTSAURL(cert);\r\n\t            if (tsaUrl != null) {\r\n\t                tsaClient = new TSAClientBouncyCastle(tsaUrl);\r\n\t                break;\r\n\t            }\r\n\t        }\r\n\t        List&lt;CrlClient&gt; crlList = new ArrayList&lt;CrlClient&gt;();\r\n\t        crlList.add(new CrlClientOnline(chain));\r\n\t        Main t = new Main();\r\n\t        System.out.println(providerPKCS11.getServices().toString());\r\n\t        \r\n\t        Signature signer = Signature.getInstance(&quot;SHA256withRSA&quot;, keyStore.getProvider());\r\n\t        signer.initSign(pk);\r\n\t        String data = &quot;Hello world......&quot;;\r\n\t        signer.update(data.getBytes()); \r\n\t        byte[] signedData = signer.sign();        \r\n\t        System.out.println(signedData.toString());\r\n\t        \r\n\t        providerPKCS11.logout();\r\n\t}\r\n\r\n\t    private static abstract class MyGuiCallbackHandler implements CallbackHandler {\r\n\r\n\t        public MyGuiCallbackHandler() {\r\n\t            System.out.println(&quot;Sending PIN from callback...&quot;);\r\n\t        }\r\n\t        \r\n\t        public void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {\r\n\t            for (int i = 0; i &lt; callbacks.length; i++) {\r\n\t                PasswordCallback pc = (PasswordCallback) callbacks[i];\r\n\t                String pin = &quot;PIN-1234&quot;;\r\n\t                pc.setPassword(pin.toCharArray());\r\n\t            }\r\n\t        }\r\n\t}\r\n\r\n\t}\r\n\r\nAnd the result:\r\n\r\n    run:\r\n    SunPKCS11 loading ---DummyConfig-1---\r\n    sunpkcs11: Initializing PKCS#11 library C:\\Windows\\System32\\eTPKCS11.dll\r\n    Information for provider SunPKCS11-eToken\r\n    Library info:\r\n      cryptokiVersion: 2.20\r\n      manufacturerID: SafeNet, Inc.                   \r\n      flags: 0\r\n      libraryDescription: SafeNet eToken PKCS#11          \r\n      libraryVersion: 10.04\r\n    All slots: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13\r\n    Slots with tokens: 0\r\n    Slot info for slot 0:\r\n      slotDescription: AKS ifdh 0                                                      \r\n      manufacturerID: SafeNet, Inc.                   \r\n      flags: CKF_TOKEN_PRESENT | CKF_REMOVABLE_DEVICE | CKF_HW_SLOT\r\n      hardwareVersion: 1.00\r\n      firmwareVersion: 0.00\r\n    Token info for token in slot 0:\r\n      label: ****               \r\n      manufacturerID: Gemalto                         \r\n      model: ID Prime MD     \r\n      serialNumber: ****\r\n      flags: CKF_RNG | CKF_LOGIN_REQUIRED | CKF_USER_PIN_INITIALIZED | CKF_DUAL_CRYPTO_OPERATIONS | CKF_TOKEN_INITIALIZED\r\n      ulMaxSessionCount: CK_EFFECTIVELY_INFINITE\r\n      ulSessionCount: 0\r\n      ulMaxRwSessionCount: CK_EFFECTIVELY_INFINITE\r\n      ulRwSessionCount: 0\r\n      ulMaxPinLen: 16\r\n      ulMinPinLen: 4\r\n      ulTotalPublicMemory: 32768\r\n      ulFreePublicMemory: 25882\r\n      ulTotalPrivateMemory: 32768\r\n      ulFreePrivateMemory: 25882\r\n      hardwareVersion: 16.00\r\n      firmwareVersion: 16.01\r\n    ...\r\n    PKCS#11 Provider -&gt;SunPKCS11-eToken using library C:\\Windows\\System32\\eTPKCS11.dll\r\n    Sending PIN from callback\r\n    sunpkcs11: login succeeded\r\n    iSignum 00000000-000000\r\n    ...\r\n    Exception in thread &quot;main&quot; java.security.ProviderException: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_USER_NOT_LOGGED_IN\r\n    \tat sun.security.pkcs11.P11Signature.engineSign(P11Signature.java:591)\r\n    \tat java.security.Signature$Delegate.engineSign(Signature.java:1207)\r\n    \tat java.security.Signature.sign(Signature.java:579)\r\n    \tat TSTgo.Main.main(Main.java:146)\r\n    Caused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_USER_NOT_LOGGED_IN\r\n    \tat sun.security.pkcs11.wrapper.PKCS11.C_SignFinal(Native Method)\r\n    \tat sun.security.pkcs11.P11Signature.engineSign(P11Signature.java:553)\r\n    \t... 3 more\r\n\r\n","title":"PKCS#11 Signature with iText &amp; eTPKCS11.dll &amp; SunPKCS11 Provider","body":"<p>I have problems when trying to make signature using SunPKCS11 Provider linked to eTPKCS11.dll. Even with iText signDetached, also when trying simple Signature, I always get \"Exception in thread \"main\" java.security.ProviderException: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_USER_NOT_LOGGED_IN\".</p>\n\n<p>I succesfully obtain PK, the authentication is done by callback which returns directly password for token. It seems like token needs another auth process for signature?</p>\n\n<p>The device is SafeNet eToken 5110, running on Win7 64bit...</p>\n\n<p>Thanks a lot!</p>\n\n<pre><code>public class Main {\n\n    public static Properties properties = new Properties();\n\n    public static void main(String args[]) throws IOException, GeneralSecurityException, DocumentException\n        {\n        String userFile = \"E:/plain.pdf\";\n        String userFile_signed = \"E:/plain-tsig.pdf\";\n\n        String pkcs11Config = \"name=eToken\\nlibrary=C:\\\\Windows\\\\System32\\\\eTPKCS11.dll\\nshowInfo=true\";\n        java.io.ByteArrayInputStream pkcs11ConfigStream = new java.io.ByteArrayInputStream(pkcs11Config.getBytes());\n        sun.security.pkcs11.SunPKCS11 providerPKCS11 = new sun.security.pkcs11.SunPKCS11(pkcs11ConfigStream);\n\n        java.security.Security.addProvider(providerPKCS11);\n        String pin = \"PIN-1234\";\n\n        KeyStore.CallbackHandlerProtection chp = new KeyStore.CallbackHandlerProtection(new MyGuiCallbackHandler() {});\n        KeyStore.Builder builder = KeyStore.Builder.newInstance(\"PKCS11\", null, chp);\n\n        KeyStore keyStore = builder.getKeyStore();\n        java.util.Enumeration&lt;String&gt; aliases = keyStore.aliases();\n        String alias = null;\n        while (aliases.hasMoreElements()) {\n            alias = aliases.nextElement();\n            System.out.println(alias);\n        }\n        System.out.println(providerPKCS11.getName());\n        PrivateKey pk = (PrivateKey) keyStore.getKey(alias, null);\n\n\n        Certificate[] chain = keyStore.getCertificateChain(alias);\n        OcspClient ocspClient = new OcspClientBouncyCastle();\n        TSAClient tsaClient = null;\n        for (int i = 0; i &lt; chain.length; i++) {\n            X509Certificate cert = (X509Certificate)chain[i];\n            String tsaUrl = CertificateUtil.getTSAURL(cert);\n            if (tsaUrl != null) {\n                tsaClient = new TSAClientBouncyCastle(tsaUrl);\n                break;\n            }\n        }\n        List&lt;CrlClient&gt; crlList = new ArrayList&lt;CrlClient&gt;();\n        crlList.add(new CrlClientOnline(chain));\n        Main t = new Main();\n        System.out.println(providerPKCS11.getServices().toString());\n\n        Signature signer = Signature.getInstance(\"SHA256withRSA\", keyStore.getProvider());\n        signer.initSign(pk);\n        String data = \"Hello world......\";\n        signer.update(data.getBytes()); \n        byte[] signedData = signer.sign();        \n        System.out.println(signedData.toString());\n\n        providerPKCS11.logout();\n}\n\n    private static abstract class MyGuiCallbackHandler implements CallbackHandler {\n\n        public MyGuiCallbackHandler() {\n            System.out.println(\"Sending PIN from callback...\");\n        }\n\n        public void handle(Callback[] callbacks) throws IOException, UnsupportedCallbackException {\n            for (int i = 0; i &lt; callbacks.length; i++) {\n                PasswordCallback pc = (PasswordCallback) callbacks[i];\n                String pin = \"PIN-1234\";\n                pc.setPassword(pin.toCharArray());\n            }\n        }\n}\n\n}\n</code></pre>\n\n<p>And the result:</p>\n\n<pre><code>run:\nSunPKCS11 loading ---DummyConfig-1---\nsunpkcs11: Initializing PKCS#11 library C:\\Windows\\System32\\eTPKCS11.dll\nInformation for provider SunPKCS11-eToken\nLibrary info:\n  cryptokiVersion: 2.20\n  manufacturerID: SafeNet, Inc.                   \n  flags: 0\n  libraryDescription: SafeNet eToken PKCS#11          \n  libraryVersion: 10.04\nAll slots: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13\nSlots with tokens: 0\nSlot info for slot 0:\n  slotDescription: AKS ifdh 0                                                      \n  manufacturerID: SafeNet, Inc.                   \n  flags: CKF_TOKEN_PRESENT | CKF_REMOVABLE_DEVICE | CKF_HW_SLOT\n  hardwareVersion: 1.00\n  firmwareVersion: 0.00\nToken info for token in slot 0:\n  label: ****               \n  manufacturerID: Gemalto                         \n  model: ID Prime MD     \n  serialNumber: ****\n  flags: CKF_RNG | CKF_LOGIN_REQUIRED | CKF_USER_PIN_INITIALIZED | CKF_DUAL_CRYPTO_OPERATIONS | CKF_TOKEN_INITIALIZED\n  ulMaxSessionCount: CK_EFFECTIVELY_INFINITE\n  ulSessionCount: 0\n  ulMaxRwSessionCount: CK_EFFECTIVELY_INFINITE\n  ulRwSessionCount: 0\n  ulMaxPinLen: 16\n  ulMinPinLen: 4\n  ulTotalPublicMemory: 32768\n  ulFreePublicMemory: 25882\n  ulTotalPrivateMemory: 32768\n  ulFreePrivateMemory: 25882\n  hardwareVersion: 16.00\n  firmwareVersion: 16.01\n...\nPKCS#11 Provider -&gt;SunPKCS11-eToken using library C:\\Windows\\System32\\eTPKCS11.dll\nSending PIN from callback\nsunpkcs11: login succeeded\niSignum 00000000-000000\n...\nException in thread \"main\" java.security.ProviderException: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_USER_NOT_LOGGED_IN\n    at sun.security.pkcs11.P11Signature.engineSign(P11Signature.java:591)\n    at java.security.Signature$Delegate.engineSign(Signature.java:1207)\n    at java.security.Signature.sign(Signature.java:579)\n    at TSTgo.Main.main(Main.java:146)\nCaused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_USER_NOT_LOGGED_IN\n    at sun.security.pkcs11.wrapper.PKCS11.C_SignFinal(Native Method)\n    at sun.security.pkcs11.P11Signature.engineSign(P11Signature.java:553)\n    ... 3 more\n</code></pre>\n"},{"tags":["java","xml","maven","automation"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":3,"creation_date":1676657886,"post_id":75487832,"comment_id":133188489,"body_markdown":"(&quot;is&quot;+is) doesn&#39;t look like the correct parameter.  Why not just (is)?","body":"(&quot;is&quot;+is) doesn&#39;t look like the correct parameter.  Why not just (is)?"},{"owner":{"account_id":22926491,"reputation":1,"user_id":17061462,"display_name":"rgw"},"score":0,"creation_date":1676658110,"post_id":75487832,"comment_id":133188553,"body_markdown":"The code works on a different machine, with an older jdk version. That&#39;s why I think it&#39;s a pom issue that needs to be updated. I just cant find it.","body":"The code works on a different machine, with an older jdk version. That&#39;s why I think it&#39;s a pom issue that needs to be updated. I just cant find it."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1676659674,"post_id":75487832,"comment_id":133188971,"body_markdown":"What does &quot;breaking on line 166&quot; mean? Add full details. However as pcalkins points out you are passing in String &quot;is=org.xml.sax.InputSource@7fc7ed31&quot; not an InputSource.","body":"What does &quot;breaking on line 166&quot; mean? Add full details. However as pcalkins points out you are passing in String &quot;is=org.xml.sax.InputSource@7fc7ed31&quot; not an InputSource."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1676660938,"post_id":75487832,"comment_id":133189262,"body_markdown":"It is possible that DocumentBuilder was removed from later versions of Java... but if that were the case, you&#39;d have IDE errors on line 160.  It&#39;s also possible that DocumentBuilder&#39;s parse method changed (or &quot;Document&quot; type) in later versions, but still that argument looks wrong.  Seems like you&#39;d want to pass in the stream.  Your POM includes 2 different libraries for XML though... I&#39;d remove those so you use Java&#39;s XML parser.","body":"It is possible that DocumentBuilder was removed from later versions of Java... but if that were the case, you&#39;d have IDE errors on line 160.  It&#39;s also possible that DocumentBuilder&#39;s parse method changed (or &quot;Document&quot; type) in later versions, but still that argument looks wrong.  Seems like you&#39;d want to pass in the stream.  Your POM includes 2 different libraries for XML though... I&#39;d remove those so you use Java&#39;s XML parser."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1676661202,"post_id":75487832,"comment_id":133189335,"body_markdown":"If the version of Java you are using doesn&#39;t include an XML parser, go with 1 library for XML parsing otherwise you may have namespace issues.","body":"If the version of Java you are using doesn&#39;t include an XML parser, go with 1 library for XML parsing otherwise you may have namespace issues."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1676667122,"post_id":75487832,"comment_id":133190778,"body_markdown":"`The code keeps breaking on line 166` this is not very descriptive, can you please post your stack trace or whatever error message","body":"<code>The code keeps breaking on line 166</code> this is not very descriptive, can you please post your stack trace or whatever error message"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676678935,"creation_date":1676678935,"answer_id":75490301,"question_id":75487832,"body_markdown":"If that&#39;s your POM file, then your code is breaking because it&#39;s not well-formed XML, for example it has a `&lt;/dependencies&gt;` end tag with no corresponding start tag.\r\n\r\nHowever, because you haven&#39;t given any error messages or other diagnostics, we can only guess. [I can only think that you omitted the diagnostics because they didn&#39;t help you. That doesn&#39;t mean they won&#39;t help someone else.]","title":"How to fix the dependencies in order to parse an XML file?","body":"<p>If that's your POM file, then your code is breaking because it's not well-formed XML, for example it has a <code>&lt;/dependencies&gt;</code> end tag with no corresponding start tag.</p>\n<p>However, because you haven't given any error messages or other diagnostics, we can only guess. [I can only think that you omitted the diagnostics because they didn't help you. That doesn't mean they won't help someone else.]</p>\n"}],"owner":{"account_id":22926491,"reputation":1,"user_id":17061462,"display_name":"rgw"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676892804,"creation_date":1676657131,"question_id":75487832,"body_markdown":"I have searched stackoverflow on how to fix this, but nothing fixes it.\r\n\r\nThe code keeps breaking on line 166. I believe it has something to do with my pom file, but I cant figure out how to fix it.\r\n\r\n```\r\n160    \t\tDocumentBuilder db = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n161    \t\tSystem.out.println(&quot;DB is&quot;+db);\r\nDB isorg.apache.xerces.jaxp.DocumentBuilderImpl@763334fe\r\n\r\n162    \t\tInputSource is = new InputSource();\r\n163    \t\tSystem.out.println(&quot;is= &quot;+is);\r\nis= org.xml.sax.InputSource@7fc7ed31\r\n\r\n164    \t\tis.setCharacterStream(new StringReader(strXMLResponse));\r\n165    \t\tSystem.out.println(&quot;strXMLResponse&quot; + strXMLResponse);\r\nstrXMLResponse\r\n\r\n166    \t\tDocument doc = db.parse(&quot;is&quot;+is);\r\n167    \t\tSystem.out.println(&quot;doc&quot;+doc);\r\n\r\n168    \t\tnodes = doc.getElementsByTagName(&quot;Value&quot;);\r\n169    \t\tSystem.out.println(&quot;node&quot;+nodes);\r\n```\r\n\r\nThis is my pom file: I&#39;m using jdk 17.0.4.1. Java\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.5.0-b01&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n      \r\n        &lt;dependency&gt;\t\t\t\t\r\n             &lt;groupId&gt;junit&lt;/groupId&gt;\t\t\t\t\t\t\t\t\r\n             &lt;artifactId&gt;junit&lt;/artifactId&gt;\t\t\t\t\t\t\t\t\r\n             &lt;version&gt;3.8.1&lt;/version&gt;\t\t\t\t\t\t\t\t\r\n             &lt;scope&gt;test&lt;/scope&gt;\t\t\t\t\t\t\t\t\r\n        &lt;/dependency&gt;\r\n\t  &lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;4.0.0&lt;/version&gt;\r\n\t  &lt;/dependency&gt;\r\n\t  &lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;4.0.0&lt;/version&gt;\r\n\t\t  &lt;scope&gt;runtime&lt;/scope&gt;\r\n\t  &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n  \t&lt;properties&gt;\r\n    &lt;target.dir&gt;target2&lt;/target.dir&gt;\r\n  &lt;/properties&gt;\r\n&lt;/project&gt;\r\n\r\n\r\nI have changed the pom dependencies and import statements. I have looked in stackoverflow to find the answer, but nothing works.","title":"How to fix the dependencies in order to parse an XML file?","body":"<p>I have searched stackoverflow on how to fix this, but nothing fixes it.</p>\n<p>The code keeps breaking on line 166. I believe it has something to do with my pom file, but I cant figure out how to fix it.</p>\n<pre><code>160         DocumentBuilder db = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n161         System.out.println(&quot;DB is&quot;+db);\nDB isorg.apache.xerces.jaxp.DocumentBuilderImpl@763334fe\n\n162         InputSource is = new InputSource();\n163         System.out.println(&quot;is= &quot;+is);\nis= org.xml.sax.InputSource@7fc7ed31\n\n164         is.setCharacterStream(new StringReader(strXMLResponse));\n165         System.out.println(&quot;strXMLResponse&quot; + strXMLResponse);\nstrXMLResponse\n\n166         Document doc = db.parse(&quot;is&quot;+is);\n167         System.out.println(&quot;doc&quot;+doc);\n\n168         nodes = doc.getElementsByTagName(&quot;Value&quot;);\n169         System.out.println(&quot;node&quot;+nodes);\n</code></pre>\n<p>This is my pom file: I'm using jdk 17.0.4.1. Java</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;mail&lt;/artifactId&gt;\n        &lt;version&gt;1.5.0-b01&lt;/version&gt;\n    &lt;/dependency&gt;\n  \n    &lt;dependency&gt;                \n         &lt;groupId&gt;junit&lt;/groupId&gt;                               \n         &lt;artifactId&gt;junit&lt;/artifactId&gt;                             \n         &lt;version&gt;3.8.1&lt;/version&gt;                               \n         &lt;scope&gt;test&lt;/scope&gt;                                \n    &lt;/dependency&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n      &lt;version&gt;4.0.0&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n      &lt;version&gt;4.0.0&lt;/version&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;properties&gt;\n&lt;target.dir&gt;target2&lt;/target.dir&gt;\n</code></pre>\n  \n\n<p>I have changed the pom dependencies and import statements. I have looked in stackoverflow to find the answer, but nothing works.</p>\n"},{"tags":["java","spring-boot","maven","intellij-idea","jar"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1676893084,"post_id":75508729,"comment_id":133222778,"body_markdown":"Check that the file didn&#39;t get corrupted in the process of transferring it.  For example, use a checksum tool to  generate (say) SHA256 checksums of the JAR file copies on both machines and then compare them.","body":"Check that the file didn&#39;t get corrupted in the process of transferring it.  For example, use a checksum tool to  generate (say) SHA256 checksums of the JAR file copies on both machines and then compare them."},{"owner":{"account_id":27832064,"reputation":1,"user_id":21250291,"display_name":"manatale"},"score":1,"creation_date":1676893688,"post_id":75508729,"comment_id":133222939,"body_markdown":"I use WinSCP for transferring it. Executing the command to generate checksums I get two different values, however it seems strange for me because I had always used this program for my releases.","body":"I use WinSCP for transferring it. Executing the command to generate checksums I get two different values, however it seems strange for me because I had always used this program for my releases."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1676894252,"post_id":75508729,"comment_id":133223105,"body_markdown":"confirm that WinSCP is transferring in binary mode (and be sure it is transferring to the correct destination)","body":"confirm that WinSCP is transferring in binary mode (and be sure it is transferring to the correct destination)"}],"owner":{"account_id":27832064,"reputation":1,"user_id":21250291,"display_name":"manatale"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":809,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676892740,"creation_date":1676892740,"question_id":75508729,"body_markdown":"I have an Intellij Maven project. The program runs both in the IDE and jar file on my local machine. But when I run jar file on another machine I get &quot;Invalid or corrupt jar file&quot;. The java version on my two machines is 1.8.303 and the project is built with 1.8.302.\r\n\r\n\r\n\r\nSince this error is so generic I have no idea what to go on. Any idea on this?","title":"Invalid or corrupt jar file","body":"<p>I have an Intellij Maven project. The program runs both in the IDE and jar file on my local machine. But when I run jar file on another machine I get &quot;Invalid or corrupt jar file&quot;. The java version on my two machines is 1.8.303 and the project is built with 1.8.302.</p>\n<p>Since this error is so generic I have no idea what to go on. Any idea on this?</p>\n"},{"tags":["java","android","kotlin","location"],"answers":[{"comments":[{"owner":{"account_id":7186697,"reputation":1239,"user_id":5488423,"display_name":"Ramesh Bhati"},"score":0,"creation_date":1689851293,"post_id":75508717,"comment_id":135273217,"body_markdown":"can you share full example??","body":"can you share full example??"},{"owner":{"account_id":23477736,"reputation":56,"user_id":17530303,"display_name":"Sahil Kumar"},"score":0,"creation_date":1690265974,"post_id":75508717,"comment_id":135325180,"body_markdown":"It is the same as code is provided, but also you need to startForground by  notification  @RameshBhati","body":"It is the same as code is provided, but also you need to startForground by  notification  @RameshBhati"},{"owner":{"account_id":5236348,"reputation":2585,"user_id":4184790,"display_name":"Vishal Dasadiya"},"score":0,"creation_date":1692686893,"post_id":75508717,"comment_id":135653936,"body_markdown":"@SahilKumar, Please provide a full code because this code is not enough.","body":"@SahilKumar, Please provide a full code because this code is not enough."},{"owner":{"account_id":23477736,"reputation":56,"user_id":17530303,"display_name":"Sahil Kumar"},"score":0,"creation_date":1692893587,"post_id":75508717,"comment_id":135689142,"body_markdown":"@VishalDasadiya , I am unable to provide you with the full code at the moment. However, I can assist you with your issue. You just need to initiate a service and implement a notification to start the foreground service, which will allow the service to run in the background. You can follow this codelab; it will be helpful: [Google Location Codelab](https://codelabs.developers.google.com/codelabs/while-in-use-location#0).","body":"@VishalDasadiya , I am unable to provide you with the full code at the moment. However, I can assist you with your issue. You just need to initiate a service and implement a notification to start the foreground service, which will allow the service to run in the background. You can follow this codelab; it will be helpful: <a href=\"https://codelabs.developers.google.com/codelabs/while-in-use-location#0\" rel=\"nofollow noreferrer\">Google Location Codelab</a>."},{"owner":{"account_id":11393428,"reputation":115,"user_id":8352632,"display_name":"karan"},"score":0,"creation_date":1695795286,"post_id":75508717,"comment_id":136070231,"body_markdown":"here is full example github: https://github.com/joostfunkekupper/background-location-sample-ktx but this will not work in background it will work in foreground.","body":"here is full example github: <a href=\"https://github.com/joostfunkekupper/background-location-sample-ktx\" rel=\"nofollow noreferrer\">github.com/joostfunkekupper/background-location-sample-ktx</a> but this will not work in background it will work in foreground."}],"tags":[],"owner":{"account_id":23477736,"reputation":56,"user_id":17530303,"display_name":"Sahil Kumar"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676892638,"creation_date":1676892638,"answer_id":75508717,"question_id":75461895,"body_markdown":"I fixed this issue by changing  **&quot;AutomaticLocationWorker&quot;** to **&quot;AutomaticLocationBackgroundService:LifecycleService()&quot;** or change worker to lifecycleService.\r\n\r\n private var fusedLocationProviderClient: FusedLocationProviderClient? = null\r\n\r\n\r\n```\r\n    private val locationUpdatePendingIntent: PendingIntent by lazy {\r\n        val intent = Intent(this, LocationUpdatesBroadcastReceiver::class.java)\r\n        intent.action = LocationUpdatesBroadcastReceiver.ACTION_PROCESS_UPDATES\r\n        PendingIntent.getBroadcast(this, 0, intent,  PendingIntent.FLAG_MUTABLE)\r\n    }\r\n```\r\n\r\n\r\n```\r\n  fusedLocationProviderClient?.requestLocationUpdates(\r\n            mLocationRequest,\r\n            locationUpdatePendingIntent\r\n        )\r\n```\r\n\r\n## LocationUpdatesBroadcastReceiver\r\n\r\n```\r\n\r\nclass LocationUpdatesBroadcastReceiver: BroadcastReceiver() {\r\n    private  val TAG = &quot;LocationUpdatesBroadcas&quot;;\r\n    override fun onReceive(context: Context?, intent: Intent?) {\r\n        Log.d(TAG, &quot;onReceive() context:$context, intent:$intent&quot;)\r\n\r\n        if (intent?.action == ACTION_PROCESS_UPDATES) {\r\n\r\n            // Checks for location availability changes.\r\n            LocationAvailability.extractLocationAvailability(intent)?.let { locationAvailability -&gt;\r\n                if (!locationAvailability.isLocationAvailable) {\r\n                    Log.d(TAG, &quot;Location services are no longer available!&quot;)\r\n                }\r\n            }\r\n\r\n            LocationResult.extractResult(intent)?.let { locationResult -&gt;\r\n                Log.e(TAG, &quot;onReceive: lastLocation ${locationResult.locations.size}&quot;, )\r\n                if(locationResult.lastLocation != null){\r\n                    ShareLocationToAutomaticWorker.INSTANCE?.reciveLocation(locationResult.lastLocation!!)\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    companion object {\r\n        const val ACTION_PROCESS_UPDATES =\r\n            &quot;com.commuteoptm.bcos.background_services.action.&quot; +\r\n                    &quot;PROCESS_UPDATES&quot;\r\n    }\r\n\r\n    interface UpdatedLocation{\r\n        fun onLocationUpdate(location: Location)\r\n    }\r\n}\r\n```\r\n\r\n## ShareLocationToAutomaticWorker\r\n\r\n```\r\nclass ShareLocationToAutomaticWorker(var updateLocation: LocationUpdatesBroadcastReceiver.UpdatedLocation){\r\n    private  val TAG = &quot;LocationUpdatesBroadcas&quot;\r\n\r\n    fun reciveLocation( location:Location){\r\n        Log.e(TAG, &quot;reciveLocation:--- ${location} &quot; )\r\n        updateLocation.onLocationUpdate(location)\r\n    }\r\n\r\n\r\n    companion object {\r\n        var INSTANCE: ShareLocationToAutomaticWorker? = null\r\n\r\n        fun getInstance(updateLocation: LocationUpdatesBroadcastReceiver.UpdatedLocation): ShareLocationToAutomaticWorker {\r\n            return INSTANCE ?: synchronized(this) {\r\n                INSTANCE ?: ShareLocationToAutomaticWorker(\r\n                    updateLocation )\r\n                    .also { INSTANCE = it }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Android location Update not working when app is on background","body":"<p>I fixed this issue by changing  <strong>&quot;AutomaticLocationWorker&quot;</strong> to <strong>&quot;AutomaticLocationBackgroundService:LifecycleService()&quot;</strong> or change worker to lifecycleService.</p>\n<p>private var fusedLocationProviderClient: FusedLocationProviderClient? = null</p>\n<pre><code>    private val locationUpdatePendingIntent: PendingIntent by lazy {\n        val intent = Intent(this, LocationUpdatesBroadcastReceiver::class.java)\n        intent.action = LocationUpdatesBroadcastReceiver.ACTION_PROCESS_UPDATES\n        PendingIntent.getBroadcast(this, 0, intent,  PendingIntent.FLAG_MUTABLE)\n    }\n</code></pre>\n<pre><code>  fusedLocationProviderClient?.requestLocationUpdates(\n            mLocationRequest,\n            locationUpdatePendingIntent\n        )\n</code></pre>\n<h2>LocationUpdatesBroadcastReceiver</h2>\n<pre><code>\nclass LocationUpdatesBroadcastReceiver: BroadcastReceiver() {\n    private  val TAG = &quot;LocationUpdatesBroadcas&quot;;\n    override fun onReceive(context: Context?, intent: Intent?) {\n        Log.d(TAG, &quot;onReceive() context:$context, intent:$intent&quot;)\n\n        if (intent?.action == ACTION_PROCESS_UPDATES) {\n\n            // Checks for location availability changes.\n            LocationAvailability.extractLocationAvailability(intent)?.let { locationAvailability -&gt;\n                if (!locationAvailability.isLocationAvailable) {\n                    Log.d(TAG, &quot;Location services are no longer available!&quot;)\n                }\n            }\n\n            LocationResult.extractResult(intent)?.let { locationResult -&gt;\n                Log.e(TAG, &quot;onReceive: lastLocation ${locationResult.locations.size}&quot;, )\n                if(locationResult.lastLocation != null){\n                    ShareLocationToAutomaticWorker.INSTANCE?.reciveLocation(locationResult.lastLocation!!)\n                }\n\n            }\n        }\n    }\n\n    companion object {\n        const val ACTION_PROCESS_UPDATES =\n            &quot;com.commuteoptm.bcos.background_services.action.&quot; +\n                    &quot;PROCESS_UPDATES&quot;\n    }\n\n    interface UpdatedLocation{\n        fun onLocationUpdate(location: Location)\n    }\n}\n</code></pre>\n<h2>ShareLocationToAutomaticWorker</h2>\n<pre><code>class ShareLocationToAutomaticWorker(var updateLocation: LocationUpdatesBroadcastReceiver.UpdatedLocation){\n    private  val TAG = &quot;LocationUpdatesBroadcas&quot;\n\n    fun reciveLocation( location:Location){\n        Log.e(TAG, &quot;reciveLocation:--- ${location} &quot; )\n        updateLocation.onLocationUpdate(location)\n    }\n\n\n    companion object {\n        var INSTANCE: ShareLocationToAutomaticWorker? = null\n\n        fun getInstance(updateLocation: LocationUpdatesBroadcastReceiver.UpdatedLocation): ShareLocationToAutomaticWorker {\n            return INSTANCE ?: synchronized(this) {\n                INSTANCE ?: ShareLocationToAutomaticWorker(\n                    updateLocation )\n                    .also { INSTANCE = it }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23477736,"reputation":56,"user_id":17530303,"display_name":"Sahil Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":722,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75508717,"answer_count":1,"score":1,"last_activity_date":1676892638,"creation_date":1676474338,"question_id":75461895,"body_markdown":"Android 12 Location updates not working when app is on background. and work fine when app is on forground.\r\n\r\nI also &quot;allow all time&quot; permission for for location. Acc to docs after this location updates start work on background. but in my case it stop updates when app is on foreground.\r\n\r\n## locationUpdatePendingIntent\r\n\r\n        private val locationUpdatePendingIntent: PendingIntent by lazy {\r\n        val intent = Intent(context, LocationUpdatesBroadcastReceiver::class.java)\r\n        intent.action = LocationUpdatesBroadcastReceiver.ACTION_PROCESS_UPDATES\r\n        PendingIntent.getBroadcast(context, 0, intent,  PendingIntent.FLAG_MUTABLE)\r\n    }\r\n\r\n\r\nFirstly I use Location Request. inside Automatic Workmanager\r\n\r\n```\r\nval mLocationRequest = LocationRequest.Builder(Priority.PRIORITY_HIGH_ACCURACY, 0L)\r\n    .setWaitForAccurateLocation(false)\r\n\r\n    .build()\r\nif (ActivityCompat.checkSelfPermission(\r\n        context.applicationContext,\r\n        Manifest.permission.ACCESS_FINE_LOCATION\r\n    ) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(\r\n        context,\r\n        Manifest.permission.ACCESS_COARSE_LOCATION\r\n    ) != PackageManager.PERMISSION_GRANTED\r\n) {\r\n    return Result.success();\r\n}\r\nfusedLocationProviderClient?.requestLocationUpdates(\r\n    mLocationRequest,\r\n    locationUpdatePendingIntent\r\n)\r\n```\r\n\r\nthen listen to location updates used inside  Automatic Workmanager\r\n\r\n```\r\n```\r\n\r\n```\r\noverride fun onLocationUpdate(location: Location) {\r\n    val executor: ExecutorService = Executors.newSingleThreadExecutor()\r\n\r\n    executor.execute {\r\n        lastLocation = location\r\n        updateLocation()\r\n    }\r\n}\r\n```\r\n\r\nLocation update broadcast (in this location update)\r\n\r\n```\r\n\r\nimport android.content.BroadcastReceiver\r\nimport android.content.Context\r\nimport android.content.Intent\r\nimport android.location.Location\r\nimport android.util.Log\r\nimport com.google.android.gms.location.LocationAvailability\r\nimport com.google.android.gms.location.LocationResult\r\n\r\n\r\nclass LocationUpdatesBroadcastReceiver: BroadcastReceiver() {\r\n    private  val TAG = &quot;LocationUpdatesBroadcas&quot;;\r\n    override fun onReceive(context: Context?, intent: Intent?) {\r\n        Log.d(TAG, &quot;onReceive() context:$context, intent:$intent&quot;)\r\n\r\n        if (intent?.action == ACTION_PROCESS_UPDATES) {\r\n\r\n            // Checks for location availability changes.\r\n            LocationAvailability.extractLocationAvailability(intent)?.let { locationAvailability -&gt;\r\n                if (!locationAvailability.isLocationAvailable) {\r\n                    Log.d(TAG, &quot;Location services are no longer available!&quot;)\r\n                }\r\n            }\r\n\r\n            LocationResult.extractResult(intent)?.let { locationResult -&gt;\r\n                Log.e(TAG, &quot;onReceive: lastLocation ${locationResult.locations.size}&quot;, )\r\n                if(locationResult.lastLocation != null){\r\n                    ShareLocationToAutomaticWorker.INSTANCE?.reciveLocation(locationResult.lastLocation!!)\r\n                }\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    companion object {\r\n        const val ACTION_PROCESS_UPDATES =\r\n            &quot;action.&quot; +\r\n                    &quot;PROCESS_UPDATES&quot;\r\n    }\r\n\r\n    interface UpdatedLocation{\r\n        fun onLocationUpdate(location: Location)\r\n    }\r\n}\r\n\r\nclass ShareLocationToAutomaticWorker(var updateLocation: LocationUpdatesBroadcastReceiver.UpdatedLocation){\r\n    private  val TAG = &quot;LocationUpdatesBroadcas&quot;\r\n\r\n    fun reciveLocation( location:Location){\r\n        Log.e(TAG, &quot;reciveLocation:--- ${location} &quot; )\r\n        updateLocation.onLocationUpdate(location)\r\n    }\r\n\r\n\r\n    companion object {\r\n        var INSTANCE: ShareLocationToAutomaticWorker? = null\r\n\r\n        fun getInstance(updateLocation: LocationUpdatesBroadcastReceiver.UpdatedLocation): ShareLocationToAutomaticWorker {\r\n            return INSTANCE ?: synchronized(this) {\r\n                INSTANCE ?: ShareLocationToAutomaticWorker(\r\n                    updateLocation )\r\n                    .also { INSTANCE = it }\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Android location Update not working when app is on background","body":"<p>Android 12 Location updates not working when app is on background. and work fine when app is on forground.</p>\n<p>I also &quot;allow all time&quot; permission for for location. Acc to docs after this location updates start work on background. but in my case it stop updates when app is on foreground.</p>\n<h2>locationUpdatePendingIntent</h2>\n<pre><code>    private val locationUpdatePendingIntent: PendingIntent by lazy {\n    val intent = Intent(context, LocationUpdatesBroadcastReceiver::class.java)\n    intent.action = LocationUpdatesBroadcastReceiver.ACTION_PROCESS_UPDATES\n    PendingIntent.getBroadcast(context, 0, intent,  PendingIntent.FLAG_MUTABLE)\n}\n</code></pre>\n<p>Firstly I use Location Request. inside Automatic Workmanager</p>\n<pre><code>val mLocationRequest = LocationRequest.Builder(Priority.PRIORITY_HIGH_ACCURACY, 0L)\n    .setWaitForAccurateLocation(false)\n\n    .build()\nif (ActivityCompat.checkSelfPermission(\n        context.applicationContext,\n        Manifest.permission.ACCESS_FINE_LOCATION\n    ) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(\n        context,\n        Manifest.permission.ACCESS_COARSE_LOCATION\n    ) != PackageManager.PERMISSION_GRANTED\n) {\n    return Result.success();\n}\nfusedLocationProviderClient?.requestLocationUpdates(\n    mLocationRequest,\n    locationUpdatePendingIntent\n)\n</code></pre>\n<p>then listen to location updates used inside  Automatic Workmanager</p>\n<pre><code></code></pre>\n<pre><code>override fun onLocationUpdate(location: Location) {\n    val executor: ExecutorService = Executors.newSingleThreadExecutor()\n\n    executor.execute {\n        lastLocation = location\n        updateLocation()\n    }\n}\n</code></pre>\n<p>Location update broadcast (in this location update)</p>\n<pre><code>\nimport android.content.BroadcastReceiver\nimport android.content.Context\nimport android.content.Intent\nimport android.location.Location\nimport android.util.Log\nimport com.google.android.gms.location.LocationAvailability\nimport com.google.android.gms.location.LocationResult\n\n\nclass LocationUpdatesBroadcastReceiver: BroadcastReceiver() {\n    private  val TAG = &quot;LocationUpdatesBroadcas&quot;;\n    override fun onReceive(context: Context?, intent: Intent?) {\n        Log.d(TAG, &quot;onReceive() context:$context, intent:$intent&quot;)\n\n        if (intent?.action == ACTION_PROCESS_UPDATES) {\n\n            // Checks for location availability changes.\n            LocationAvailability.extractLocationAvailability(intent)?.let { locationAvailability -&gt;\n                if (!locationAvailability.isLocationAvailable) {\n                    Log.d(TAG, &quot;Location services are no longer available!&quot;)\n                }\n            }\n\n            LocationResult.extractResult(intent)?.let { locationResult -&gt;\n                Log.e(TAG, &quot;onReceive: lastLocation ${locationResult.locations.size}&quot;, )\n                if(locationResult.lastLocation != null){\n                    ShareLocationToAutomaticWorker.INSTANCE?.reciveLocation(locationResult.lastLocation!!)\n                }\n\n            }\n        }\n    }\n\n    companion object {\n        const val ACTION_PROCESS_UPDATES =\n            &quot;action.&quot; +\n                    &quot;PROCESS_UPDATES&quot;\n    }\n\n    interface UpdatedLocation{\n        fun onLocationUpdate(location: Location)\n    }\n}\n\nclass ShareLocationToAutomaticWorker(var updateLocation: LocationUpdatesBroadcastReceiver.UpdatedLocation){\n    private  val TAG = &quot;LocationUpdatesBroadcas&quot;\n\n    fun reciveLocation( location:Location){\n        Log.e(TAG, &quot;reciveLocation:--- ${location} &quot; )\n        updateLocation.onLocationUpdate(location)\n    }\n\n\n    companion object {\n        var INSTANCE: ShareLocationToAutomaticWorker? = null\n\n        fun getInstance(updateLocation: LocationUpdatesBroadcastReceiver.UpdatedLocation): ShareLocationToAutomaticWorker {\n            return INSTANCE ?: synchronized(this) {\n                INSTANCE ?: ShareLocationToAutomaticWorker(\n                    updateLocation )\n                    .also { INSTANCE = it }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","gwt","jboss"],"comments":[{"owner":{"account_id":68965,"reputation":3142,"user_id":200924,"accept_rate":74,"display_name":"Timmo"},"score":1,"creation_date":1297256133,"post_id":4945057,"comment_id":5514694,"body_markdown":"Can u provide full stack trace?","body":"Can u provide full stack trace?"},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":0,"creation_date":1297256148,"post_id":4945057,"comment_id":5514698,"body_markdown":"java.lang.reflect.InvocationTargetException is a generic exception, which can have many causes. Please post a full stack trace, without it it&#39;s unlikely we&#39;ll be able to help.","body":"java.lang.reflect.InvocationTargetException is a generic exception, which can have many causes. Please post a full stack trace, without it it&#39;s unlikely we&#39;ll be able to help."},{"owner":{"account_id":40784,"reputation":7745,"user_id":118268,"accept_rate":84,"display_name":"KevinS"},"score":0,"creation_date":1297256224,"post_id":4945057,"comment_id":5514715,"body_markdown":"Can you post the stack trace? There is usually a root cause in the trace.","body":"Can you post the stack trace? There is usually a root cause in the trace."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1297256228,"post_id":4945057,"comment_id":5514717,"body_markdown":"`InvocationTargetException` is thrown whenever a method or constructor invoked via reflection throws an exception. You need to get the cause of the `InvocationTargetException` to see why your call failed.","body":"<code>InvocationTargetException</code> is thrown whenever a method or constructor invoked via reflection throws an exception. You need to get the cause of the <code>InvocationTargetException</code> to see why your call failed."},{"owner":{"account_id":73935,"reputation":1879,"user_id":212678,"accept_rate":92,"display_name":"Ashfak Balooch"},"score":0,"creation_date":1297257001,"post_id":4945057,"comment_id":5514919,"body_markdown":"I have include stacktrace. Please help,","body":"I have include stacktrace. Please help,"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1297257163,"post_id":4945057,"comment_id":5514965,"body_markdown":"You have a `NullPointerException` in `DocumentAction.saveDocument()` at line 161. Something on that line de-references a `null` reference. Fix that!","body":"You have a <code>NullPointerException</code> in <code>DocumentAction.saveDocument()</code> at line 161. Something on that line de-references a <code>null</code> reference. Fix that!"}],"answers":[{"comments":[{"owner":{"account_id":73935,"reputation":1879,"user_id":212678,"accept_rate":92,"display_name":"Ashfak Balooch"},"score":0,"creation_date":1297257006,"post_id":4945123,"comment_id":5514922,"body_markdown":"I have include stacktrace. Please help,","body":"I have include stacktrace. Please help,"}],"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1297256123,"creation_date":1297256123,"answer_id":4945123,"question_id":4945057,"body_markdown":"[`InvocationTargetException`][1] doesn&#39;t in any way automatically imply two different classes with the same name in two different packages (in fact, I&#39;ve got a hard time imagining how that situation could lead to that exception).\r\n\r\nAn `InvocationTargetException` is simply the result when a method invoked through reflection throws an exception on its own.\r\n\r\nDo you have access to the stack trace? It should print both the location of the reflection call (near the top) and the actual exception thrown by the invoked code (near the bottom).\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/reflect/InvocationTargetException.html","title":"threw an unexpected exception: java.lang.reflect.InvocationTargetException","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/reflect/InvocationTargetException.html\" rel=\"nofollow\"><code>InvocationTargetException</code></a> doesn't in any way automatically imply two different classes with the same name in two different packages (in fact, I've got a hard time imagining how that situation could lead to that exception).</p>\n\n<p>An <code>InvocationTargetException</code> is simply the result when a method invoked through reflection throws an exception on its own.</p>\n\n<p>Do you have access to the stack trace? It should print both the location of the reflection call (near the top) and the actual exception thrown by the invoked code (near the bottom).</p>\n"},{"comments":[{"owner":{"account_id":73935,"reputation":1879,"user_id":212678,"accept_rate":92,"display_name":"Ashfak Balooch"},"score":0,"creation_date":1297258514,"post_id":4945462,"comment_id":5515309,"body_markdown":"I agree !... my code DocumentAction.saveDocument(DocumentAction.java:161) is referring ActivitySchedule class which was having a boolean column activity_schedule_status and we have renamed it to activityScheduleStatus but it still refering to old one and giving me the error Caused by: java.sql.SQLException: Invalid column name &#39;activity_schedule_status&#39; which is not available now.","body":"I agree !... my code DocumentAction.saveDocument(DocumentAction.java:161) is referring ActivitySchedule class which was having a boolean column activity_schedule_status and we have renamed it to activityScheduleStatus but it still refering to old one and giving me the error Caused by: java.sql.SQLException: Invalid column name &#39;activity_schedule_status&#39; which is not available now."},{"owner":{"account_id":300096,"reputation":4173,"user_id":607050,"display_name":"BobV"},"score":0,"creation_date":1297259085,"post_id":4945462,"comment_id":5515453,"body_markdown":"Sounds like build-environment sickness.  Does a fully clean checkout and build demonstrate the same problem?  You can register a [Instrumentation](http://download.oracle.com/javase/6/docs/api/java/lang/instrument/Instrumentation.html) implementation that injects a no-op [ClassFileTransformer](http://download.oracle.com/javase/6/docs/api/java/lang/instrument/ClassFileTransformer.html) which casts the ClassLoader being used to a URLClassLoader to examine its getURLs() method.","body":"Sounds like build-environment sickness.  Does a fully clean checkout and build demonstrate the same problem?  You can register a <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/instrument/Instrumentation.html\" rel=\"nofollow noreferrer\">Instrumentation</a> implementation that injects a no-op <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/instrument/ClassFileTransformer.html\" rel=\"nofollow noreferrer\">ClassFileTransformer</a> which casts the ClassLoader being used to a URLClassLoader to examine its getURLs() method."}],"tags":[],"owner":{"account_id":300096,"reputation":4173,"user_id":607050,"display_name":"BobV"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1297257934,"creation_date":1297257934,"answer_id":4945462,"question_id":4945057,"body_markdown":"The last bit of the stack trace looks relevant here:\r\n\r\n    Caused by: java.lang.NullPointerException\r\n    at com.proj.server.actions.configuration.DocumentAction.saveDocument(DocumentAction.java:161)\r\n\r\nThe exception that you&#39;re describing usually manifests as an `IncompatibleClassChangeError` or even more strangely as `Foo.class != Foo.class`when multiple ClassLoaders are involved.","title":"threw an unexpected exception: java.lang.reflect.InvocationTargetException","body":"<p>The last bit of the stack trace looks relevant here:</p>\n\n<pre><code>Caused by: java.lang.NullPointerException\nat com.proj.server.actions.configuration.DocumentAction.saveDocument(DocumentAction.java:161)\n</code></pre>\n\n<p>The exception that you're describing usually manifests as an <code>IncompatibleClassChangeError</code> or even more strangely as <code>Foo.class != Foo.class</code>when multiple ClassLoaders are involved.</p>\n"},{"comments":[{"owner":{"account_id":73935,"reputation":1879,"user_id":212678,"accept_rate":92,"display_name":"Ashfak Balooch"},"score":0,"creation_date":1297258764,"post_id":4945488,"comment_id":5515375,"body_markdown":"surprisingly this code is working fine in GWT Development mode and even in Tomcat !... I have deployed this application on JBoss and there I am facing this problem....","body":"surprisingly this code is working fine in GWT Development mode and even in Tomcat !... I have deployed this application on JBoss and there I am facing this problem...."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1297258088,"creation_date":1297258088,"answer_id":4945488,"question_id":4945057,"body_markdown":"As @Joachim&#39;s answer says, `InvocationTargetException` is thrown when a method that is called using `Method.invoke(...)` throws a checked exception.  The actual exception is wrapped in an `InvocationTargetException` which is then thrown.\r\n\r\nIn this particular case, the stacktrace tells us that original exception was a `NullPointerException` thrown at &quot;DocumentAction.java:161&quot;.  Track down and fix the cause of that exception.\r\n\r\n-------------------------\r\n\r\nI don&#39;t see any evidence that this has anything to do with different versions of some class.  I&#39;d treat it as a normal NPE to start with, and try to figure where the `null` is coming from.","title":"threw an unexpected exception: java.lang.reflect.InvocationTargetException","body":"<p>As @Joachim's answer says, <code>InvocationTargetException</code> is thrown when a method that is called using <code>Method.invoke(...)</code> throws a checked exception.  The actual exception is wrapped in an <code>InvocationTargetException</code> which is then thrown.</p>\n\n<p>In this particular case, the stacktrace tells us that original exception was a <code>NullPointerException</code> thrown at \"DocumentAction.java:161\".  Track down and fix the cause of that exception.</p>\n\n<hr>\n\n<p>I don't see any evidence that this has anything to do with different versions of some class.  I'd treat it as a normal NPE to start with, and try to figure where the <code>null</code> is coming from.</p>\n"},{"tags":[],"owner":{"account_id":269597,"reputation":14829,"user_id":559026,"accept_rate":93,"display_name":"Hardik Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1301315201,"creation_date":1301315201,"answer_id":5458952,"question_id":4945057,"body_markdown":"Try to deploy the code on `jboss-5.0.0.GA`\r\n\r\nHope it helps","title":"threw an unexpected exception: java.lang.reflect.InvocationTargetException","body":"<p>Try to deploy the code on <code>jboss-5.0.0.GA</code></p>\n\n<p>Hope it helps</p>\n"},{"tags":[],"owner":{"account_id":9260360,"reputation":1,"user_id":6877675,"display_name":"user6877675"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676892468,"creation_date":1676526612,"answer_id":75468318,"question_id":4945057,"body_markdown":"I removed Bundle-Activator from plug-in, and it solved the problem.\r\n\r\n```\r\nBundle-Activator: exploitation.presentation.ExploitationEditorPlugin$Implementation\r\n```\r\n","title":"threw an unexpected exception: java.lang.reflect.InvocationTargetException","body":"<p>I removed Bundle-Activator from plug-in, and it solved the problem.</p>\n<pre><code>Bundle-Activator: exploitation.presentation.ExploitationEditorPlugin$Implementation\n</code></pre>\n"}],"owner":{"account_id":73935,"reputation":1879,"user_id":212678,"accept_rate":92,"display_name":"Ashfak Balooch"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":5458952,"answer_count":5,"score":1,"last_activity_date":1676892468,"creation_date":1297255803,"question_id":4945057,"body_markdown":"I am working on GWT-Hibernate application, my application works perfectly on integrated GWT environment and even on external server tomcat. I need to deploy my application on JBoss V 6.0. I am able to successfully deploy my application on JBoss and able to run until on point of execution. At particular button click application threw an unexpected exception: `java.lang.reflect.InvocationTargetException`\r\n\r\nNormally &quot;java.lang.reflect.InvocationTargetException&quot; occurs when java compiler finds 2 different classes with same name in 2 different packages. when you are importing both classes at a time and when you are trying to create object of that class it throws &quot;`java.lang.reflect.InvocationTargetException`&quot; exception. \r\n\r\nNow I am not able to figure out where compiler is finds my two different class! Is there any method available so that I can know the exact location (i.e Physical path) where it finds the two different path, So that I can remove the bad one.\r\n\r\nAny help would be appreciated.\r\n\r\nThanking You,\r\n\r\nRegards,\r\n\r\nEDIT : \r\n\r\n    ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[localhost].[/myProj]] (http-127.0.0.1-8080-4) Exception while dispatching incoming RPC call: com.google.gwt.user.server.rpc.UnexpectedException: Service method &#39;public com.proj.client.beans.domain.common.transaction.Document com.proj.server.actions.configuration.DocumentAction.saveDocument(com.proj.client.beans.domain.common.transaction.Document,java.lang.Long)&#39; threw an unexpected exception: java.lang.reflect.InvocationTargetException\r\n    \tat com.google.gwt.user.server.rpc.RPC.encodeResponseForFailure(RPC.java:378) [:]\r\n    \tat com.google.gwt.user.server.rpc.RPC.encodeResponseForFailure(RPC.java:361) [:]\r\n    \tat com.google.gwt.user.server.rpc.RPC.encodeResponseForFailure(RPC.java:329) [:]\r\n    \tat com.googlcode.strut2gwtplugin.interceptor.GWTServlet.processCall(GWTServlet.java:138) [:]\r\n    \tat com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:224) [:]\r\n    \tat com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62) [:]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:754) [:1.0.0.Final]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [:1.0.0.Final]\r\n    \tat com.googlcode.strut2gwtplugin.interceptor.GWTInterceptor.intercept(GWTInterceptor.java:49) [:]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224) [:]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223) [:]\r\n    \tat com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455) [:]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221) [:]\r\n    \tat com.proj.server.LoginInterceptor.intercept(LoginInterceptor.java:37) [:]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224) [:]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223) [:]\r\n    \tat com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455) [:]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221) [:]\r\n    \tat org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50) [:]\r\n    \tat org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:504) [:]\r\n    \tat org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:422) [:]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:274) [:6.0.0.Final]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:242) [:6.0.0.Final]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [:6.0.0.Final]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191) [:6.0.0.Final]\r\n    \tat org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:181) [:6.0.0.Final]\r\n    \tat org.jboss.modcluster.catalina.CatalinaContext$RequestListenerValve.event(CatalinaContext.java:285) [:1.1.0.Final]\r\n    \tat org.jboss.modcluster.catalina.CatalinaContext$RequestListenerValve.invoke(CatalinaContext.java:261) [:1.1.0.Final]\r\n    \tat org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:88) [:6.0.0.Final]\r\n    \tat org.jboss.web.tomcat.security.SecurityContextEstablishmentValve.invoke(SecurityContextEstablishmentValve.java:100) [:6.0.0.Final]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127) [:6.0.0.Final]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [:6.0.0.Final]\r\n    \tat org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:158) [:6.0.0.Final]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [:6.0.0.Final]\r\n    \tat org.jboss.web.tomcat.service.request.ActiveRequestResponseCacheValve.invoke(ActiveRequestResponseCacheValve.java:53) [:6.0.0.Final]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:362) [:6.0.0.Final]\r\n    \tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [:6.0.0.Final]\r\n    \tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:654) [:6.0.0.Final]\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:951) [:6.0.0.Final]\r\n    \tat java.lang.Thread.run(Thread.java:662) [:1.6.0_23]\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [:1.6.0_23]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [:1.6.0_23]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [:1.6.0_23]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597) [:1.6.0_23]\r\n    \tat com.googlcode.strut2gwtplugin.interceptor.GWTServlet.processCall(GWTServlet.java:127) [:]\r\n    \t... 36 more\r\n    Caused by: java.lang.NullPointerException\r\n    \tat com.proj.server.actions.configuration.DocumentAction.saveDocument(DocumentAction.java:161) [:]\r\n    \t... 41 more\r\n\r\n","title":"threw an unexpected exception: java.lang.reflect.InvocationTargetException","body":"<p>I am working on GWT-Hibernate application, my application works perfectly on integrated GWT environment and even on external server tomcat. I need to deploy my application on JBoss V 6.0. I am able to successfully deploy my application on JBoss and able to run until on point of execution. At particular button click application threw an unexpected exception: <code>java.lang.reflect.InvocationTargetException</code></p>\n\n<p>Normally \"java.lang.reflect.InvocationTargetException\" occurs when java compiler finds 2 different classes with same name in 2 different packages. when you are importing both classes at a time and when you are trying to create object of that class it throws \"<code>java.lang.reflect.InvocationTargetException</code>\" exception. </p>\n\n<p>Now I am not able to figure out where compiler is finds my two different class! Is there any method available so that I can know the exact location (i.e Physical path) where it finds the two different path, So that I can remove the bad one.</p>\n\n<p>Any help would be appreciated.</p>\n\n<p>Thanking You,</p>\n\n<p>Regards,</p>\n\n<p>EDIT : </p>\n\n<pre><code>ERROR [org.apache.catalina.core.ContainerBase.[jboss.web].[localhost].[/myProj]] (http-127.0.0.1-8080-4) Exception while dispatching incoming RPC call: com.google.gwt.user.server.rpc.UnexpectedException: Service method 'public com.proj.client.beans.domain.common.transaction.Document com.proj.server.actions.configuration.DocumentAction.saveDocument(com.proj.client.beans.domain.common.transaction.Document,java.lang.Long)' threw an unexpected exception: java.lang.reflect.InvocationTargetException\n    at com.google.gwt.user.server.rpc.RPC.encodeResponseForFailure(RPC.java:378) [:]\n    at com.google.gwt.user.server.rpc.RPC.encodeResponseForFailure(RPC.java:361) [:]\n    at com.google.gwt.user.server.rpc.RPC.encodeResponseForFailure(RPC.java:329) [:]\n    at com.googlcode.strut2gwtplugin.interceptor.GWTServlet.processCall(GWTServlet.java:138) [:]\n    at com.google.gwt.user.server.rpc.RemoteServiceServlet.processPost(RemoteServiceServlet.java:224) [:]\n    at com.google.gwt.user.server.rpc.AbstractRemoteServiceServlet.doPost(AbstractRemoteServiceServlet.java:62) [:]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:754) [:1.0.0.Final]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:847) [:1.0.0.Final]\n    at com.googlcode.strut2gwtplugin.interceptor.GWTInterceptor.intercept(GWTInterceptor.java:49) [:]\n    at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224) [:]\n    at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223) [:]\n    at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455) [:]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221) [:]\n    at com.proj.server.LoginInterceptor.intercept(LoginInterceptor.java:37) [:]\n    at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:224) [:]\n    at com.opensymphony.xwork2.DefaultActionInvocation$2.doProfiling(DefaultActionInvocation.java:223) [:]\n    at com.opensymphony.xwork2.util.profiling.UtilTimerStack.profile(UtilTimerStack.java:455) [:]\n    at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:221) [:]\n    at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:50) [:]\n    at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:504) [:]\n    at org.apache.struts2.dispatcher.FilterDispatcher.doFilter(FilterDispatcher.java:422) [:]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:274) [:6.0.0.Final]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:242) [:6.0.0.Final]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275) [:6.0.0.Final]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191) [:6.0.0.Final]\n    at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:181) [:6.0.0.Final]\n    at org.jboss.modcluster.catalina.CatalinaContext$RequestListenerValve.event(CatalinaContext.java:285) [:1.1.0.Final]\n    at org.jboss.modcluster.catalina.CatalinaContext$RequestListenerValve.invoke(CatalinaContext.java:261) [:1.1.0.Final]\n    at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:88) [:6.0.0.Final]\n    at org.jboss.web.tomcat.security.SecurityContextEstablishmentValve.invoke(SecurityContextEstablishmentValve.java:100) [:6.0.0.Final]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127) [:6.0.0.Final]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) [:6.0.0.Final]\n    at org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:158) [:6.0.0.Final]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) [:6.0.0.Final]\n    at org.jboss.web.tomcat.service.request.ActiveRequestResponseCacheValve.invoke(ActiveRequestResponseCacheValve.java:53) [:6.0.0.Final]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:362) [:6.0.0.Final]\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877) [:6.0.0.Final]\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:654) [:6.0.0.Final]\n    at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:951) [:6.0.0.Final]\n    at java.lang.Thread.run(Thread.java:662) [:1.6.0_23]\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [:1.6.0_23]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) [:1.6.0_23]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) [:1.6.0_23]\n    at java.lang.reflect.Method.invoke(Method.java:597) [:1.6.0_23]\n    at com.googlcode.strut2gwtplugin.interceptor.GWTServlet.processCall(GWTServlet.java:127) [:]\n    ... 36 more\nCaused by: java.lang.NullPointerException\n    at com.proj.server.actions.configuration.DocumentAction.saveDocument(DocumentAction.java:161) [:]\n    ... 41 more\n</code></pre>\n"},{"tags":["java","spring","hibernate","maven"],"comments":[{"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"score":0,"creation_date":1384811042,"post_id":20058386,"comment_id":29877735,"body_markdown":"Are you building with maven in Eclipse?","body":"Are you building with maven in Eclipse?"},{"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"score":0,"creation_date":1384811534,"post_id":20058386,"comment_id":29877991,"body_markdown":"If this is the case, I don&#39;t see a reason for you to download Jars. Maven takes care for that for you.","body":"If this is the case, I don&#39;t see a reason for you to download Jars. Maven takes care for that for you."},{"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"score":0,"creation_date":1384812007,"post_id":20058386,"comment_id":29878257,"body_markdown":"What version of Eclipse are you using?","body":"What version of Eclipse are you using?"},{"owner":{"account_id":4198810,"reputation":570,"user_id":3439504,"display_name":"BoatCode"},"score":1,"creation_date":1400187425,"post_id":20058386,"comment_id":36397183,"body_markdown":"I just had a similar problem (hibernate 3.3.2.GA, not the entitymanager) and noticed mvnrepository.com lists the binary file as being 0bytes... which would explain why it seems to be missing from my project.","body":"I just had a similar problem (hibernate 3.3.2.GA, not the entitymanager) and noticed mvnrepository.com lists the binary file as being 0bytes... which would explain why it seems to be missing from my project."}],"answers":[{"comments":[{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":1,"creation_date":1384815341,"post_id":20058552,"comment_id":29879691,"body_markdown":"+1 Thanks for helping.  See my edit to my original posting above.","body":"+1 Thanks for helping.  See my edit to my original posting above."}],"tags":[],"owner":{"account_id":369969,"reputation":21500,"user_id":717630,"display_name":"grepit"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384810972,"creation_date":1384810972,"answer_id":20058552,"question_id":20058386,"body_markdown":"You may have downloaded the hibernate as you described but it may have been the incorrect version. Anyways, make sure you change  pom.xml file, where you are defining hibernate-entitymanager to look like below lines. (because that&#39;s the exact version it will look for)\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.3.2.GA&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"artifact missing: org.hibernate:hibernate-entitymanager:jar:3.3.2.ga","body":"<p>You may have downloaded the hibernate as you described but it may have been the incorrect version. Anyways, make sure you change  pom.xml file, where you are defining hibernate-entitymanager to look like below lines. (because that's the exact version it will look for)</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;version&gt;3.3.2.GA&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"score":0,"creation_date":1384812465,"post_id":20058576,"comment_id":29878509,"body_markdown":"@CodeMed see my extended answer","body":"@CodeMed see my extended answer"},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1384812971,"post_id":20058576,"comment_id":29878728,"body_markdown":"+1 for going the extra mile.  Thank you.  But I did as you suggested, and eclipse still throws the same error.  I confirmed that the .m2 subdirectory now reads only 3.3.2.GA, and I even closed then restarted eclipse kepler, yet the error message is still there.  Any other ideas?","body":"+1 for going the extra mile.  Thank you.  But I did as you suggested, and eclipse still throws the same error.  I confirmed that the .m2 subdirectory now reads only 3.3.2.GA, and I even closed then restarted eclipse kepler, yet the error message is still there.  Any other ideas?"}],"tags":[],"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1676892214,"creation_date":1384811045,"answer_id":20058576,"question_id":20058386,"body_markdown":"Maven will download the required jars form the maven central repository automatically.\r\n\r\nBut I have not found `org.hibernate:hibernate-entitymanager:jar:3.3.2.ga` at [maven central][1] but instead one with Version `3.3.2.GA` with upper case GA! :\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n      &lt;version&gt;3.3.2.GA&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n---\r\n\r\nOn windows you while have an other problem (because the windows file system does not distinguish between upper case and lower case file names): You will need to delete a directory:\r\n\r\n    %USERPROFILE%\\.m2\\repository\\org\\hibernate\\hibernate-entitymanager\\3.3.2.ga\\\r\n\r\ndelete this directory and the try again eclipse update maven dependencies.\r\n\r\n  [1]: http://search.maven.org/","title":"artifact missing: org.hibernate:hibernate-entitymanager:jar:3.3.2.ga","body":"<p>Maven will download the required jars form the maven central repository automatically.</p>\n<p>But I have not found <code>org.hibernate:hibernate-entitymanager:jar:3.3.2.ga</code> at <a href=\"http://search.maven.org/\" rel=\"nofollow noreferrer\">maven central</a> but instead one with Version <code>3.3.2.GA</code> with upper case GA! :</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n  &lt;version&gt;3.3.2.GA&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<p>On windows you while have an other problem (because the windows file system does not distinguish between upper case and lower case file names): You will need to delete a directory:</p>\n<pre><code>%USERPROFILE%\\.m2\\repository\\org\\hibernate\\hibernate-entitymanager\\3.3.2.ga\\\n</code></pre>\n<p>delete this directory and the try again eclipse update maven dependencies.</p>\n"},{"comments":[{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1384813335,"post_id":20059018,"comment_id":29878892,"body_markdown":"+1 for helping me dig deeper.  Thank you.  I opened the list of builders in eclipse and the top listing is &quot;Missing builder (org.maven.ide.eclipse.maven2Builder)&quot;.  But clicking &quot;New...&quot; or &quot;Import...&quot; in that dialog box does not lead to an intuitive next step.  (Note that the .m2 folder got rebuilt with 3.3.2.GA anyway.) Do you have any suggestions?","body":"+1 for helping me dig deeper.  Thank you.  I opened the list of builders in eclipse and the top listing is &quot;Missing builder (org.maven.ide.eclipse.maven2Builder)&quot;.  But clicking &quot;New...&quot; or &quot;Import...&quot; in that dialog box does not lead to an intuitive next step.  (Note that the .m2 folder got rebuilt with 3.3.2.GA anyway.) Do you have any suggestions?"}],"tags":[],"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384813998,"creation_date":1384812625,"answer_id":20059018,"question_id":20058386,"body_markdown":"You need to set the default builder in your project to be maven.\r\n\r\nTo do so, right click on your project and select `Properties` (or select the project and press the alt+enter keys on your keyboard)\r\n\r\nIn the dialog, on the left, select `Builders`.\r\n\r\nOn the right, select the `Maven Project Builder`, and using the `Up` button on the right advance it to the top of the list.\r\n\r\nClick `Ok` and you are done.\r\n\r\n**EDIT:**\r\n\r\nTo fix the issue that you&#39;ve described, you&#39;ll need to go to the root folder of your application. Find the following two files: `.project` and `.classpath`\r\n\r\nYou will need to edit them, so exit eclipse and back those files up.\r\n\r\nIn `.project`, change the following lines:\r\n\r\n 1. In the build command that relates to maven, change the value of the `name` tag to: org.eclipse.m2e.core.maven2Builder\r\n 2. In `nature`, change it to: org.eclipse.m2e.core.maven2Nature\r\n\r\nIn `.classpath`, change the following lines:\r\n\r\n 1. `&lt;classpathentry kind=&quot;con&quot; path=&quot;org.maven.ide.eclipse.MAVEN2_CLASSPATH_CONTAINER&quot;/&gt;` to `&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER&quot;/&gt;`\r\n\r\nHope it helps.\r\n\r\n","title":"artifact missing: org.hibernate:hibernate-entitymanager:jar:3.3.2.ga","body":"<p>You need to set the default builder in your project to be maven.</p>\n\n<p>To do so, right click on your project and select <code>Properties</code> (or select the project and press the alt+enter keys on your keyboard)</p>\n\n<p>In the dialog, on the left, select <code>Builders</code>.</p>\n\n<p>On the right, select the <code>Maven Project Builder</code>, and using the <code>Up</code> button on the right advance it to the top of the list.</p>\n\n<p>Click <code>Ok</code> and you are done.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>To fix the issue that you've described, you'll need to go to the root folder of your application. Find the following two files: <code>.project</code> and <code>.classpath</code></p>\n\n<p>You will need to edit them, so exit eclipse and back those files up.</p>\n\n<p>In <code>.project</code>, change the following lines:</p>\n\n<ol>\n<li>In the build command that relates to maven, change the value of the <code>name</code> tag to: org.eclipse.m2e.core.maven2Builder</li>\n<li>In <code>nature</code>, change it to: org.eclipse.m2e.core.maven2Nature</li>\n</ol>\n\n<p>In <code>.classpath</code>, change the following lines:</p>\n\n<ol>\n<li><code>&lt;classpathentry kind=\"con\" path=\"org.maven.ide.eclipse.MAVEN2_CLASSPATH_CONTAINER\"/&gt;</code> to <code>&lt;classpathentry kind=\"con\" path=\"org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER\"/&gt;</code></li>\n</ol>\n\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12905,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1676892214,"creation_date":1384810374,"question_id":20058386,"body_markdown":"I am relatively new to Spring and maven, and am just revisiting both of them for the first time in a couple months.  I am encountering the following error in pom.xml when I try to run code from &lt;a href=&quot;http://viralpatel.net/blogs/tutorial-save-get-blob-object-spring-3-mvc-hibernate/&quot;&gt; this tutorial&lt;/a&gt;:  \r\n  \r\n    Missing artifact: org.hibernate:hibernate-entitymanager:jar:3.3.2.ga  \r\n  \r\nDoes this mean that I have to download and install an additional jar?  I am pretty sure that I downloaded hibernate with spring, and this is supported by the fact that the spring pet clinic sample application runs fine on my system when launched from eclipse on tomcat server.  \r\n  \r\nI have done google searches for this error message, and have tried many of the suggestions, but they have not fixed the problem on my machine. How can I get past this error message?  \r\n  \r\n---------------------------------------------------------------------------------------------  \r\nEDIT/ANSWER?  \r\n---------------------------------------------------------------------------------------------  \r\n  \r\nI dug into the directory structure of the project, and found another copy of pom.xml which did not throw the error.  It actually used the syntax 3.3.2.ga, so I do not think that case was the problem.  The new pom.xml file was located deep in the target/m2e-wtp/web-resources/META-INF/Maven/MavenWeb/MavenWeb/ subdirectory.  When I moved this new pom.xml to the root directory, the error message went away, even though the syntax of the &lt;dependency&gt;&lt;/dependency&gt; node was still:  \r\n  \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.2.ga&lt;/version&gt;\r\n    &lt;/dependency&gt;  \r\n  \r\nFor the moment, this question is answered, at least until I try to run it later.  Let me think about how to give credit for the work people did on this while still leaving the answer clear to people who find this on the search engines.  ","title":"artifact missing: org.hibernate:hibernate-entitymanager:jar:3.3.2.ga","body":"<p>I am relatively new to Spring and maven, and am just revisiting both of them for the first time in a couple months.  I am encountering the following error in pom.xml when I try to run code from <a href=\"http://viralpatel.net/blogs/tutorial-save-get-blob-object-spring-3-mvc-hibernate/\" rel=\"noreferrer\"> this tutorial</a>:  </p>\n\n<pre><code>Missing artifact: org.hibernate:hibernate-entitymanager:jar:3.3.2.ga  \n</code></pre>\n\n<p>Does this mean that I have to download and install an additional jar?  I am pretty sure that I downloaded hibernate with spring, and this is supported by the fact that the spring pet clinic sample application runs fine on my system when launched from eclipse on tomcat server.  </p>\n\n<p>I have done google searches for this error message, and have tried many of the suggestions, but they have not fixed the problem on my machine. How can I get past this error message?  </p>\n\n<hr>\n\n<h2>EDIT/ANSWER?</h2>\n\n<p>I dug into the directory structure of the project, and found another copy of pom.xml which did not throw the error.  It actually used the syntax 3.3.2.ga, so I do not think that case was the problem.  The new pom.xml file was located deep in the target/m2e-wtp/web-resources/META-INF/Maven/MavenWeb/MavenWeb/ subdirectory.  When I moved this new pom.xml to the root directory, the error message went away, even though the syntax of the  node was still:  </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;version&gt;3.3.2.ga&lt;/version&gt;\n&lt;/dependency&gt;  \n</code></pre>\n\n<p>For the moment, this question is answered, at least until I try to run it later.  Let me think about how to give credit for the work people did on this while still leaving the answer clear to people who find this on the search engines.  </p>\n"},{"tags":["java","python","repr"],"answers":[{"tags":[],"owner":{"account_id":22779,"reputation":129011,"user_id":56541,"accept_rate":81,"display_name":"David Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1251519786,"creation_date":1251519786,"answer_id":1350443,"question_id":1350397,"body_markdown":"If you&#39;re only going to be using this on strings, in a pinch you could just write a method that goes through the string and replaces special characters (for whatever definition of &quot;special&quot; you want) with their escape codes. That&#39;s what I would do. (I did a quick search and nothing came up on Google, so it might be faster to just write the method than to hunt for an existing implementation)","title":"Java equivalent of Python repr()?","body":"<p>If you're only going to be using this on strings, in a pinch you could just write a method that goes through the string and replaces special characters (for whatever definition of \"special\" you want) with their escape codes. That's what I would do. (I did a quick search and nothing came up on Google, so it might be faster to just write the method than to hunt for an existing implementation)</p>\n"},{"tags":[],"owner":{"account_id":30387,"reputation":62490,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1251522653,"creation_date":1251522653,"answer_id":1350529,"question_id":1350397,"body_markdown":"This will do it, but it&#39;s a bit of a hack, it uses [StringUtils][1] and **replaceEach** from Common Lang to achieve a simple replace:\r\n\r\n    String hello = &quot;hello\\n\\tworld\\n\\n\\t&quot;;       \r\n            String replaced = StringUtils.replaceEach(hello, new String[] {&quot;\\n&quot;, &quot;\\t&quot;, &quot;\\r&quot;, &quot;\\f&quot;}, \r\n            \t\t                                         new String[] {&quot;\\\\n&quot;, &quot;\\\\t&quot;, &quot;\\\\r&quot;, &quot;\\\\f&quot;});\r\n            System.out.println(&quot;Replaced &quot; + replaced);\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/api-2.4/org/apache/commons/lang/StringUtils.html","title":"Java equivalent of Python repr()?","body":"<p>This will do it, but it's a bit of a hack, it uses <a href=\"http://commons.apache.org/lang/api-2.4/org/apache/commons/lang/StringUtils.html\" rel=\"nofollow noreferrer\">StringUtils</a> and <strong>replaceEach</strong> from Common Lang to achieve a simple replace:</p>\n\n<pre><code>String hello = \"hello\\n\\tworld\\n\\n\\t\";       \n        String replaced = StringUtils.replaceEach(hello, new String[] {\"\\n\", \"\\t\", \"\\r\", \"\\f\"}, \n                                                         new String[] {\"\\\\n\", \"\\\\t\", \"\\\\r\", \"\\\\f\"});\n        System.out.println(\"Replaced \" + replaced);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1251533210,"creation_date":1251533210,"answer_id":1350820,"question_id":1350397,"body_markdown":"If there were such a method, it would make writing quines in Java really easy, because it would solve the problem of escaping the quotes. Seeing as the simplest quines in Java all require manually inserting the quote character manually with its character code, it is unlikely that such a method exists.","title":"Java equivalent of Python repr()?","body":"<p>If there were such a method, it would make writing quines in Java really easy, because it would solve the problem of escaping the quotes. Seeing as the simplest quines in Java all require manually inserting the quote character manually with its character code, it is unlikely that such a method exists.</p>\n"},{"tags":[],"owner":{"account_id":45949,"reputation":1964,"user_id":135644,"accept_rate":100,"display_name":"Nico"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1251546100,"creation_date":1251546100,"answer_id":1351230,"question_id":1350397,"body_markdown":"don&#39;t think there&#39;s a specific method -- but this&#39;ll solve it without commons lang:\r\n\r\n    \r\n    public class test {\r\n\r\n    public test() throws Exception {\r\n        byte[] hello = &quot;hello\\n\\tworld\\n\\n\\t&quot;.getBytes();\r\n        System.out.println(new String(hexToByte(stringToHex(hello).replaceAll(&quot;0a&quot;, &quot;5c6e&quot;)\r\n                                                                  .replaceAll(&quot;09&quot;, &quot;5c74&quot;))));\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        new test();\r\n    }\r\n\r\n    public static String stringToHex(byte[] b) throws Exception {\r\n        String result = &quot;&quot;;\r\n        for (int i = 0; i &lt; b.length; i++) {\r\n            result += Integer.toString((b[i] &amp; 0xff) + 0x100, 16).substring(1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static byte[] hexToByte(String s) {\r\n        int len = s.length();\r\n        byte[] data = new byte[len / 2];\r\n        for (int i = 0; i &lt; len; i += 2) {\r\n            data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4) + Character.digit(s.charAt(i + 1), 16));\r\n        }\r\n        return data;\r\n    }\r\n}","title":"Java equivalent of Python repr()?","body":"<p>don't think there's a specific method -- but this'll solve it without commons lang:</p>\n\n<pre><code>public class test {\n\npublic test() throws Exception {\n    byte[] hello = \"hello\\n\\tworld\\n\\n\\t\".getBytes();\n    System.out.println(new String(hexToByte(stringToHex(hello).replaceAll(\"0a\", \"5c6e\")\n                                                              .replaceAll(\"09\", \"5c74\"))));\n}\n\npublic static void main(String[] args) throws Exception {\n    new test();\n}\n\npublic static String stringToHex(byte[] b) throws Exception {\n    String result = \"\";\n    for (int i = 0; i &lt; b.length; i++) {\n        result += Integer.toString((b[i] &amp; 0xff) + 0x100, 16).substring(1);\n    }\n    return result;\n}\n\npublic static byte[] hexToByte(String s) {\n    int len = s.length();\n    byte[] data = new byte[len / 2];\n    for (int i = 0; i &lt; len; i += 2) {\n        data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4) + Character.digit(s.charAt(i + 1), 16));\n    }\n    return data;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":47598,"reputation":30707,"user_id":141081,"display_name":"Dirk"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1251568170,"creation_date":1251568170,"answer_id":1351973,"question_id":1350397,"body_markdown":"In some projects, I use the following helper function to accomplish something akin to Python&#39;s *repr* for strings:\r\n\r\n    private static final char CONTROL_LIMIT = &#39; &#39;;\r\n    private static final char PRINTABLE_LIMIT = &#39;\\u007e&#39;;\r\n    private static final char[] HEX_DIGITS = new char[] { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39; };\r\n\r\n    public static String toPrintableRepresentation(String source) {\r\n        \r\n        if( source == null ) return null;\r\n        else {\r\n            \r\n            final StringBuilder sb = new StringBuilder();\r\n            final int limit = source.length();\r\n            char[] hexbuf = null;\r\n            \r\n            int pointer = 0;\r\n            \r\n            sb.append(&#39;&quot;&#39;);\r\n            \r\n            while( pointer &lt; limit ) {\r\n                \r\n                int ch = source.charAt(pointer++);\r\n                \r\n                switch( ch ) {\r\n                \r\n                case &#39;\\0&#39;: sb.append(&quot;\\\\0&quot;); break;\r\n                case &#39;\\t&#39;: sb.append(&quot;\\\\t&quot;); break;\r\n                case &#39;\\n&#39;: sb.append(&quot;\\\\n&quot;); break;\r\n                case &#39;\\r&#39;: sb.append(&quot;\\\\r&quot;); break;\r\n                case &#39;\\&quot;&#39;: sb.append(&quot;\\\\\\&quot;&quot;); break;\r\n                case &#39;\\\\&#39;: sb.append(&quot;\\\\\\\\&quot;); break;\r\n                \r\n                default:\r\n                    if( CONTROL_LIMIT &lt;= ch &amp;&amp; ch &lt;= PRINTABLE_LIMIT ) sb.append((char)ch);\r\n                    else {\r\n                        \r\n                        sb.append(&quot;\\\\u&quot;);\r\n                        \r\n                        if( hexbuf == null ) \r\n                            hexbuf = new char[4];\r\n                        \r\n                        for( int offs = 4; offs &gt; 0; ) {\r\n                         \r\n                            hexbuf[--offs] = HEX_DIGITS[ch &amp; 0xf];\r\n                            ch &gt;&gt;&gt;= 4; \r\n                        }\r\n                        \r\n                        sb.append(hexbuf, 0, 4);\r\n                    }\r\n                }\r\n            }\r\n            \r\n            return sb.append(&#39;&quot;&#39;).toString();\r\n        }\r\n    }\r\n\r\nIts main advantage over many of the other solutions given here is, that it does not filter only a limited set of non-printable characters (like those *replace*-based solutions), but simply all non-printable ASCII characters. Some of it could have been written slightly nicer, but it actually does its job...\r\n\r\nNote, that like the Python function, this one will surround the string with quotes. If you do not want that, you will have to eliminate the *append(&#39;&quot;&#39;)* calls before and after the *while* loop.","title":"Java equivalent of Python repr()?","body":"<p>In some projects, I use the following helper function to accomplish something akin to Python's <em>repr</em> for strings:</p>\n\n<pre><code>private static final char CONTROL_LIMIT = ' ';\nprivate static final char PRINTABLE_LIMIT = '\\u007e';\nprivate static final char[] HEX_DIGITS = new char[] { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f' };\n\npublic static String toPrintableRepresentation(String source) {\n\n    if( source == null ) return null;\n    else {\n\n        final StringBuilder sb = new StringBuilder();\n        final int limit = source.length();\n        char[] hexbuf = null;\n\n        int pointer = 0;\n\n        sb.append('\"');\n\n        while( pointer &lt; limit ) {\n\n            int ch = source.charAt(pointer++);\n\n            switch( ch ) {\n\n            case '\\0': sb.append(\"\\\\0\"); break;\n            case '\\t': sb.append(\"\\\\t\"); break;\n            case '\\n': sb.append(\"\\\\n\"); break;\n            case '\\r': sb.append(\"\\\\r\"); break;\n            case '\\\"': sb.append(\"\\\\\\\"\"); break;\n            case '\\\\': sb.append(\"\\\\\\\\\"); break;\n\n            default:\n                if( CONTROL_LIMIT &lt;= ch &amp;&amp; ch &lt;= PRINTABLE_LIMIT ) sb.append((char)ch);\n                else {\n\n                    sb.append(\"\\\\u\");\n\n                    if( hexbuf == null ) \n                        hexbuf = new char[4];\n\n                    for( int offs = 4; offs &gt; 0; ) {\n\n                        hexbuf[--offs] = HEX_DIGITS[ch &amp; 0xf];\n                        ch &gt;&gt;&gt;= 4; \n                    }\n\n                    sb.append(hexbuf, 0, 4);\n                }\n            }\n        }\n\n        return sb.append('\"').toString();\n    }\n}\n</code></pre>\n\n<p>Its main advantage over many of the other solutions given here is, that it does not filter only a limited set of non-printable characters (like those <em>replace</em>-based solutions), but simply all non-printable ASCII characters. Some of it could have been written slightly nicer, but it actually does its job...</p>\n\n<p>Note, that like the Python function, this one will surround the string with quotes. If you do not want that, you will have to eliminate the <em>append('\"')</em> calls before and after the <em>while</em> loop.</p>\n"},{"tags":[],"owner":{"account_id":26832,"reputation":41499,"user_id":70170,"accept_rate":95,"display_name":"Jason R. Coombs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1251580136,"creation_date":1251580136,"answer_id":1352380,"question_id":1350397,"body_markdown":"It appears that Jython already does this. You could, in theory, include the Jython jar, startup an interpreter, and actually run repr(object) on the object in question.  Probably more overhead than you want, but does exactly what you describe.\r\n\r\nIf you want to embed the Jython interpreter in your application, consider http://wiki.python.org/jython/JythonFaq/EmbeddingJython .","title":"Java equivalent of Python repr()?","body":"<p>It appears that Jython already does this. You could, in theory, include the Jython jar, startup an interpreter, and actually run repr(object) on the object in question.  Probably more overhead than you want, but does exactly what you describe.</p>\n\n<p>If you want to embed the Jython interpreter in your application, consider <a href=\"http://wiki.python.org/jython/JythonFaq/EmbeddingJython\" rel=\"nofollow noreferrer\">http://wiki.python.org/jython/JythonFaq/EmbeddingJython</a> .</p>\n"},{"comments":[{"owner":{"account_id":408269,"reputation":18064,"user_id":517371,"accept_rate":74,"display_name":"Tobia"},"score":0,"creation_date":1411222228,"post_id":18722866,"comment_id":40625910,"body_markdown":"Is it published on Maven?","body":"Is it published on Maven?"},{"owner":{"account_id":3286109,"reputation":14055,"user_id":2765603,"accept_rate":90,"display_name":"llogiq"},"score":0,"creation_date":1411638621,"post_id":18722866,"comment_id":40782344,"body_markdown":"Not yet. You are the first to ask.","body":"Not yet. You are the first to ask."}],"tags":[],"owner":{"account_id":3286109,"reputation":14055,"user_id":2765603,"accept_rate":90,"display_name":"llogiq"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1378826517,"creation_date":1378826517,"answer_id":18722866,"question_id":1350397,"body_markdown":"Java has no repr-Function, but [repr][1] has got you covered (Full disclosure: I am the author of repr).\r\n\r\n\r\n  [1]: http://repr.sf.net","title":"Java equivalent of Python repr()?","body":"<p>Java has no repr-Function, but <a href=\"http://repr.sf.net\" rel=\"noreferrer\">repr</a> has got you covered (Full disclosure: I am the author of repr).</p>\n"},{"tags":[],"owner":{"account_id":94130,"reputation":4483,"user_id":257169,"accept_rate":67,"display_name":"amoe"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1676892023,"creation_date":1401462031,"answer_id":23957629,"question_id":1350397,"body_markdown":"Use the static method [`escapeJava`][1] from the [`StringEscapeUtils`][1] class in [Apache Commons Text][2].\r\n\r\n    String repr = &quot;\\&quot;&quot; + StringEscapeUtils.escapeJava(myString) + &quot;\\&quot;&quot;;\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/apidocs/index.html\r\n  [2]: https://commons.apache.org/proper/commons-text/","title":"Java equivalent of Python repr()?","body":"<p>Use the static method <a href=\"https://commons.apache.org/proper/commons-text/apidocs/index.html\" rel=\"nofollow noreferrer\"><code>escapeJava</code></a> from the <a href=\"https://commons.apache.org/proper/commons-text/apidocs/index.html\" rel=\"nofollow noreferrer\"><code>StringEscapeUtils</code></a> class in <a href=\"https://commons.apache.org/proper/commons-text/\" rel=\"nofollow noreferrer\">Apache Commons Text</a>.</p>\n<pre><code>String repr = &quot;\\&quot;&quot; + StringEscapeUtils.escapeJava(myString) + &quot;\\&quot;&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1098359,"reputation":8264,"user_id":1091453,"display_name":"Cwt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440838364,"creation_date":1440838364,"answer_id":32284299,"question_id":1350397,"body_markdown":"In case you are using **Groovy**, it provides a similar [`StringEscapeUtils` class][1] as Apache Commons Lang:\r\n\r\n    StringEscapeUtils.escapeJava(&quot;foo\\n\\tbar&quot;)\r\n\r\n\r\n[1]: http://docs.groovy-lang.org/latest/html/api/groovy/json/StringEscapeUtils.html#escapeJava(java.lang.String)","title":"Java equivalent of Python repr()?","body":"<p>In case you are using <strong>Groovy</strong>, it provides a similar <a href=\"http://docs.groovy-lang.org/latest/html/api/groovy/json/StringEscapeUtils.html#escapeJava(java.lang.String)\" rel=\"nofollow\"><code>StringEscapeUtils</code> class</a> as Apache Commons Lang:</p>\n\n<pre><code>StringEscapeUtils.escapeJava(\"foo\\n\\tbar\")\n</code></pre>\n"}],"owner":{"account_id":55119,"reputation":389,"user_id":165039,"display_name":"Ian Dalton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9395,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":9,"score":27,"last_activity_date":1676892023,"creation_date":1251517933,"question_id":1350397,"body_markdown":"Is there a Java method that works like Python&#39;s repr? For example, assuming the function were named repr,\r\n\r\n    &quot;foo\\n\\tbar&quot;.repr()\r\n\r\nwould return\r\n\r\n&lt;pre&gt;&quot;foo\\n\\tbar&quot;&lt;/pre&gt;\r\n\r\nnot\r\n\r\n&lt;pre&gt;foo\r\n        bar&lt;/pre&gt; \r\n\r\nas toString does.","title":"Java equivalent of Python repr()?","body":"<p>Is there a Java method that works like Python's repr? For example, assuming the function were named repr,</p>\n\n<pre><code>\"foo\\n\\tbar\".repr()\n</code></pre>\n\n<p>would return</p>\n\n<pre>\"foo\\n\\tbar\"</pre>\n\n<p>not</p>\n\n<pre>foo\n        bar</pre> \n\n<p>as toString does.</p>\n"},{"tags":["java","python-3.x","pytest","aws-codebuild","allure"],"answers":[{"tags":[],"owner":{"account_id":8036564,"reputation":67,"user_id":6059486,"display_name":"S_G"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676565245,"creation_date":1676565245,"answer_id":75475296,"question_id":75449759,"body_markdown":"Its working fine now. Closing this question. \r\n(Installing allure-pytest-bdd-temp using pip instead of using requirements.txt solved this problem)","title":"Failed to run allure generate command . ERROR :ClassNotFoundException io.qameta.allure-result.CommandLine","body":"<p>Its working fine now. Closing this question.\n(Installing allure-pytest-bdd-temp using pip instead of using requirements.txt solved this problem)</p>\n"}],"owner":{"account_id":8036564,"reputation":67,"user_id":6059486,"display_name":"S_G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676891993,"creation_date":1676387267,"question_id":75449759,"body_markdown":"I am facing the below error while running the allure generate command for my pytest testsuite.\r\n\r\nError:\r\n======\r\n\r\n&gt; Error: Could not find or load main class io.qameta.allure-result.CommandLine\r\nCaused by: java.lang.ClassNotFoundException: io.qameta.allure-result.CommandLine\r\n\r\n\r\nsetup:\r\n======\r\n&gt;Machine: Amazon linux 2 machine\r\n\r\n&gt;Running command echo $JAVA_HOME \r\n/usr/lib/jvm/java-11-amazon-corretto.x86_64\r\n\r\n`echo $PATH has &#39;/usr/lib/jvm/java-11-amazon-corretto.x86_64/bin&#39;`\r\n\r\nPlease let me know how to correct it. It will be a greate help. Blocked because of this since many days. ","title":"Failed to run allure generate command . ERROR :ClassNotFoundException io.qameta.allure-result.CommandLine","body":"<p>I am facing the below error while running the allure generate command for my pytest testsuite.</p>\n<h1>Error:</h1>\n<blockquote>\n<p>Error: Could not find or load main class io.qameta.allure-result.CommandLine\nCaused by: java.lang.ClassNotFoundException: io.qameta.allure-result.CommandLine</p>\n</blockquote>\n<h1>setup:</h1>\n<blockquote>\n<p>Machine: Amazon linux 2 machine</p>\n</blockquote>\n<blockquote>\n<p>Running command echo $JAVA_HOME\n/usr/lib/jvm/java-11-amazon-corretto.x86_64</p>\n</blockquote>\n<p><code>echo $PATH has '/usr/lib/jvm/java-11-amazon-corretto.x86_64/bin'</code></p>\n<p>Please let me know how to correct it. It will be a greate help. Blocked because of this since many days.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1676881870,"post_id":75504756,"comment_id":133219742,"body_markdown":"Please do not post images of code, copy your code into the question with block code format:   https://stackoverflow.com/help/how-to-ask","body":"Please do not post images of code, copy your code into the question with block code format:   <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":27828634,"reputation":1,"user_id":21247499,"display_name":"Hendril Mendes"},"score":0,"creation_date":1676891975,"post_id":75504756,"comment_id":133222497,"body_markdown":"Thanks friend, I made the correction, first time using stackoverflow","body":"Thanks friend, I made the correction, first time using stackoverflow"}],"owner":{"account_id":27828634,"reputation":1,"user_id":21247499,"display_name":"Hendril Mendes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676891924,"creation_date":1676860042,"question_id":75504756,"body_markdown":"I was using traditional searchview, but I decided to use the material searchview (Google), but I am not able to apply the old rule that I used using webview.\r\n\r\n\r\nThis is my code I was using:\r\n\r\n    @SuppressLint(&quot;RestrictedApi&quot;)\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n\r\n        getMenuInflater().inflate(R.menu.main, menu);\r\n        if(menu instanceof MenuBuilder){\r\n\r\n            MenuBuilder menuBuilder = (MenuBuilder) menu;\r\n            menuBuilder.setOptionalIconsVisible(true);\r\n        }\r\n\r\n        MenuItem searchItem = menu.findItem(R.id.search);\r\n        final SearchView searchViewAndroidActionBar = (SearchView) MenuItemCompat.getActionView(searchItem);\r\n        searchViewAndroidActionBar.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                searchViewAndroidActionBar.clearFocus();\r\n\r\n                view.loadUrl(&quot;https://br-androidtech.blogspot.com/search?q=&quot;+query);\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n\r\n                return false;\r\n            }\r\n        });\r\n\r\n        return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\n\r\nThis is the layout scheme:\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:id=&quot;@+id/appBarLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n\r\n        &lt;com.google.android.material.appbar.MaterialToolbar\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:background=&quot;?attr/colorPrimary&quot;\r\n            app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;\r\n            app:titleCentered=&quot;true&quot;&gt;\r\n\r\n            &lt;com.google.android.material.search.SearchBar\r\n                android:id=&quot;@+id/searchBar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:hint=&quot;@string/app_name&quot;\r\n                android:theme=&quot;@style/Platform.MaterialComponents.Light&quot;/&gt;\r\n\r\n        &lt;/com.google.android.material.appbar.MaterialToolbar&gt;\r\n\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;com.google.android.material.search.SearchView\r\n        android:id=&quot;@+id/search&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:hint=&quot;@string/search&quot;\r\n        app:layout_anchor=&quot;@id/searchBar&quot;&gt;\r\n    &lt;/com.google.android.material.search.SearchView&gt;\r\n\r\nCan anybody help me?\r\n\r\nSorry for my bad English...","title":"Material SearchView get url query","body":"<p>I was using traditional searchview, but I decided to use the material searchview (Google), but I am not able to apply the old rule that I used using webview.</p>\n<p>This is my code I was using:</p>\n<pre><code>@SuppressLint(&quot;RestrictedApi&quot;)\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n\n    getMenuInflater().inflate(R.menu.main, menu);\n    if(menu instanceof MenuBuilder){\n\n        MenuBuilder menuBuilder = (MenuBuilder) menu;\n        menuBuilder.setOptionalIconsVisible(true);\n    }\n\n    MenuItem searchItem = menu.findItem(R.id.search);\n    final SearchView searchViewAndroidActionBar = (SearchView) MenuItemCompat.getActionView(searchItem);\n    searchViewAndroidActionBar.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n        @Override\n        public boolean onQueryTextSubmit(String query) {\n            searchViewAndroidActionBar.clearFocus();\n\n            view.loadUrl(&quot;https://br-androidtech.blogspot.com/search?q=&quot;+query);\n            return false;\n        }\n\n        @Override\n        public boolean onQueryTextChange(String newText) {\n\n            return false;\n        }\n    });\n\n    return super.onCreateOptionsMenu(menu);\n}\n</code></pre>\n<p>This is the layout scheme:</p>\n<pre><code>&lt;com.google.android.material.appbar.AppBarLayout\n    android:id=&quot;@+id/appBarLayout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\n\n    &lt;com.google.android.material.appbar.MaterialToolbar\n        android:id=&quot;@+id/toolbar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;center_horizontal&quot;\n        android:background=&quot;?attr/colorPrimary&quot;\n        app:popupTheme=&quot;@style/AppTheme.PopupOverlay&quot;\n        app:titleCentered=&quot;true&quot;&gt;\n\n        &lt;com.google.android.material.search.SearchBar\n            android:id=&quot;@+id/searchBar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:hint=&quot;@string/app_name&quot;\n            android:theme=&quot;@style/Platform.MaterialComponents.Light&quot;/&gt;\n\n    &lt;/com.google.android.material.appbar.MaterialToolbar&gt;\n\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n&lt;com.google.android.material.search.SearchView\n    android:id=&quot;@+id/search&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:hint=&quot;@string/search&quot;\n    app:layout_anchor=&quot;@id/searchBar&quot;&gt;\n&lt;/com.google.android.material.search.SearchView&gt;\n</code></pre>\n<p>Can anybody help me?</p>\n<p>Sorry for my bad English...</p>\n"},{"tags":["java","testing","cucumber","retrofit2","web-api-testing"],"answers":[{"comments":[{"owner":{"account_id":14369882,"reputation":255,"user_id":10379923,"display_name":"FearghalQA"},"score":0,"creation_date":1587649694,"post_id":61388749,"comment_id":108598853,"body_markdown":"Thanks for the help, although how do I add this to my current methods (apologies im very new with retrofit)","body":"Thanks for the help, although how do I add this to my current methods (apologies im very new with retrofit)"},{"owner":{"account_id":10383571,"reputation":321,"user_id":7657462,"display_name":"Bhoomi Vaghasiya"},"score":0,"creation_date":1587649808,"post_id":61388749,"comment_id":108598930,"body_markdown":"you should add bearer token in request header instead of request body","body":"you should add bearer token in request header instead of request body"},{"owner":{"account_id":14369882,"reputation":255,"user_id":10379923,"display_name":"FearghalQA"},"score":0,"creation_date":1587649959,"post_id":61388749,"comment_id":108599036,"body_markdown":"Does @Header not add the bearer to the header?","body":"Does @Header not add the bearer to the header?"},{"owner":{"account_id":10383571,"reputation":321,"user_id":7657462,"display_name":"Bhoomi Vaghasiya"},"score":0,"creation_date":1587650115,"post_id":61388749,"comment_id":108599156,"body_markdown":"Yeah It does add header but you have added &quot;Bearer token&quot; it is incorrect","body":"Yeah It does add header but you have added &quot;Bearer token&quot; it is incorrect"},{"owner":{"account_id":10383571,"reputation":321,"user_id":7657462,"display_name":"Bhoomi Vaghasiya"},"score":0,"creation_date":1587650389,"post_id":61388749,"comment_id":108599342,"body_markdown":"Are you using JWT? if yes then you have to use Authorization keyword","body":"Are you using JWT? if yes then you have to use Authorization keyword"},{"owner":{"account_id":14369882,"reputation":255,"user_id":10379923,"display_name":"FearghalQA"},"score":0,"creation_date":1587650738,"post_id":61388749,"comment_id":108599557,"body_markdown":"Ive changed the call to this but it still isnt adding it: Call&lt;ResponseBody&gt; getFavourites (@Query(&quot;favourite&quot;) Boolean fave, @Header(&quot;Bearer&quot;) String authHeader);","body":"Ive changed the call to this but it still isnt adding it: Call&lt;ResponseBody&gt; getFavourites (@Query(&quot;favourite&quot;) Boolean fave, @Header(&quot;Bearer&quot;) String authHeader);"},{"owner":{"account_id":10383571,"reputation":321,"user_id":7657462,"display_name":"Bhoomi Vaghasiya"},"score":0,"creation_date":1587650815,"post_id":61388749,"comment_id":108599587,"body_markdown":"Why are you not using &quot;Authorization&quot; keyword it&#39;s mendatory if you are communicating using token","body":"Why are you not using &quot;Authorization&quot; keyword it&#39;s mendatory if you are communicating using token"},{"owner":{"account_id":14369882,"reputation":255,"user_id":10379923,"display_name":"FearghalQA"},"score":0,"creation_date":1587650921,"post_id":61388749,"comment_id":108599638,"body_markdown":"Where does authorization get added in this?","body":"Where does authorization get added in this?"},{"owner":{"account_id":10383571,"reputation":321,"user_id":7657462,"display_name":"Bhoomi Vaghasiya"},"score":0,"creation_date":1587650958,"post_id":61388749,"comment_id":108599672,"body_markdown":"Try to add this: (@Header(&quot;Authorization&quot;) String finaltoken) where finaltoken will be &quot;Bearer &quot;+yourtoken","body":"Try to add this: (@Header(&quot;Authorization&quot;) String finaltoken) where finaltoken will be &quot;Bearer &quot;+yourtoken"},{"owner":{"account_id":14369882,"reputation":255,"user_id":10379923,"display_name":"FearghalQA"},"score":0,"creation_date":1587651531,"post_id":61388749,"comment_id":108600012,"body_markdown":"I added that, but now its just returning unauthorized, I actually tried using the authorization header in Postman and that returned Unauthorized aswell, the only way it authorizes me in postman is if i select Bearer in the Authorization section","body":"I added that, but now its just returning unauthorized, I actually tried using the authorization header in Postman and that returned Unauthorized aswell, the only way it authorizes me in postman is if i select Bearer in the Authorization section"},{"owner":{"account_id":10383571,"reputation":321,"user_id":7657462,"display_name":"Bhoomi Vaghasiya"},"score":0,"creation_date":1587652076,"post_id":61388749,"comment_id":108600387,"body_markdown":"can you please tell me which authorization method are you using? because header depends on that","body":"can you please tell me which authorization method are you using? because header depends on that"},{"owner":{"account_id":14369882,"reputation":255,"user_id":10379923,"display_name":"FearghalQA"},"score":0,"creation_date":1587652131,"post_id":61388749,"comment_id":108600417,"body_markdown":"I tried changing the header to &quot;Bearer &quot; and it returned java.lang.IllegalArgumentException: Unexpected char 0x20 at 6 in header name: Bearer","body":"I tried changing the header to &quot;Bearer &quot; and it returned java.lang.IllegalArgumentException: Unexpected char 0x20 at 6 in header name: Bearer"},{"owner":{"account_id":14369882,"reputation":255,"user_id":10379923,"display_name":"FearghalQA"},"score":0,"creation_date":1587652187,"post_id":61388749,"comment_id":108600465,"body_markdown":"Ive added a screenshot of the Bearer token that we use","body":"Ive added a screenshot of the Bearer token that we use"},{"owner":{"account_id":10383571,"reputation":321,"user_id":7657462,"display_name":"Bhoomi Vaghasiya"},"score":0,"creation_date":1587653786,"post_id":61388749,"comment_id":108601440,"body_markdown":"If you add @header in retrofit then it will be added in header section of postman","body":"If you add @header in retrofit then it will be added in header section of postman"},{"owner":{"account_id":10383571,"reputation":321,"user_id":7657462,"display_name":"Bhoomi Vaghasiya"},"score":0,"creation_date":1587653983,"post_id":61388749,"comment_id":108601542,"body_markdown":"check out this:https://android.jlelse.eu/token-authorization-with-retrofit-android-oauth-2-0-747995c79720","body":"check out this:<a href=\"https://android.jlelse.eu/token-authorization-with-retrofit-android-oauth-2-0-747995c79720\" rel=\"nofollow noreferrer\">android.jlelse.eu/&hellip;</a>"},{"owner":{"account_id":10383571,"reputation":321,"user_id":7657462,"display_name":"Bhoomi Vaghasiya"},"score":1,"creation_date":1587654119,"post_id":61388749,"comment_id":108601625,"body_markdown":"They said same as i said that add (@header(&quot;Authorization) finaltoken) where finaltoken will be &quot;Bearer &quot;+token value. Add this in your Postman header section- key:Authorization and value will be &quot;Bearer yourtoken&quot;","body":"They said same as i said that add (@header(&quot;Authorization) finaltoken) where finaltoken will be &quot;Bearer &quot;+token value. Add this in your Postman header section- key:Authorization and value will be &quot;Bearer yourtoken&quot;"},{"owner":{"account_id":10383571,"reputation":321,"user_id":7657462,"display_name":"Bhoomi Vaghasiya"},"score":0,"creation_date":1587654272,"post_id":61388749,"comment_id":108601722,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/212364/discussion-between-bhoomi-vaghasiya-and-fearghalqa).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/212364/discussion-between-bhoomi-vaghasiya-and-fearghalqa\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":10383571,"reputation":321,"user_id":7657462,"display_name":"Bhoomi Vaghasiya"},"comment_count":17,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1676891830,"creation_date":1587649395,"answer_id":61388749,"question_id":61385824,"body_markdown":"To add bearer token in retrofit, you have to create a class that implements `Interceptor` \r\n\r\n    public class TokenInterceptor implements Interceptor{\r\n\r\n        @Override\r\n        public Response intercept(Chain chain) throws IOException {\r\n       \r\n           //rewrite the request to add bearer token\r\n            Request newRequest=chain.request().newBuilder()\r\n                    .header(&quot;Authorization&quot;,&quot;Bearer &quot;+ yourtokenvalue)\r\n                    .build();\r\n\r\n            return chain.proceed(newRequest);\r\n        }\r\n    }\r\n\r\nNow add your Interceptor class in OKHttpClient object and add that obejct in Retrofit object:\r\n\r\n    TokenInterceptor interceptor=new TokenInterceptor();\r\n\r\n    OkHttpClient client = new OkHttpClient.Builder()\r\n                .addInterceptor(interceptor)\r\n                .build();\r\n    \r\n    Retrofit retrofit = new Retrofit.Builder()\r\n                .client(client)\r\n                .baseUrl(&quot;add your url here&quot;)\r\n                .addConverterFactory(JacksonConverterFactory.create())\r\n                .build();\r\n\r\n","title":"How to add bearer token to retrofit request in Java","body":"<p>To add bearer token in retrofit, you have to create a class that implements <code>Interceptor</code></p>\n<pre><code>public class TokenInterceptor implements Interceptor{\n\n    @Override\n    public Response intercept(Chain chain) throws IOException {\n   \n       //rewrite the request to add bearer token\n        Request newRequest=chain.request().newBuilder()\n                .header(&quot;Authorization&quot;,&quot;Bearer &quot;+ yourtokenvalue)\n                .build();\n\n        return chain.proceed(newRequest);\n    }\n}\n</code></pre>\n<p>Now add your Interceptor class in OKHttpClient object and add that obejct in Retrofit object:</p>\n<pre><code>TokenInterceptor interceptor=new TokenInterceptor();\n\nOkHttpClient client = new OkHttpClient.Builder()\n            .addInterceptor(interceptor)\n            .build();\n\nRetrofit retrofit = new Retrofit.Builder()\n            .client(client)\n            .baseUrl(&quot;add your url here&quot;)\n            .addConverterFactory(JacksonConverterFactory.create())\n            .build();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11631291,"reputation":393,"user_id":8519362,"display_name":"Amitabh Das"},"score":0,"creation_date":1673398790,"post_id":65228670,"comment_id":132488789,"body_markdown":"IMHO if(retrofit==null||token!=null) Should be if( retrofit == null || token == null)\nAlso, is this tested? seems like you may get Exception while creating the `client` if the token is null","body":"IMHO if(retrofit==null||token!=null) Should be if( retrofit == null || token == null) Also, is this tested? seems like you may get Exception while creating the <code>client</code> if the token is null"},{"owner":{"account_id":11629820,"reputation":116,"user_id":8518427,"display_name":"Ramanand Prajapati"},"score":0,"creation_date":1673498056,"post_id":65228670,"comment_id":132513946,"body_markdown":"No , you will not get exception for the first call we dont need token so you can pass null","body":"No , you will not get exception for the first call we dont need token so you can pass null"}],"tags":[],"owner":{"account_id":11629820,"reputation":116,"user_id":8518427,"display_name":"Ramanand Prajapati"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607575807,"creation_date":1607575807,"answer_id":65228670,"question_id":61385824,"body_markdown":"these three class will be your final setup for all types of call \r\n\r\n&gt; for first call(Login) you do not need to pass token and after login pass jwt as bearer token to authenticate after authentication do not need to pass \r\n\r\n    public class ApiUtils {\r\n    private static  final String BASE_URL=&quot;https://abcd.abcd.com/&quot;;\r\n    public ApiUtils() {\r\n    }\r\n\r\n    public static API getApiService(String token){\r\n        return RetrofitClient.getClient(BASE_URL,token).create(API.class);\r\n    }}\r\n\r\n2.Using ApiUtils.getapiService you can get the client ,pass jwt or bearer token\r\n\r\n    public class RetrofitClient {\r\n    public static Retrofit retrofit=null;\r\n    public static Retrofit getClient(String baseUrl, String token){\r\n        HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\r\n        interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n        OkHttpClient client = new OkHttpClient.Builder()\r\n                .readTimeout(60,TimeUnit.SECONDS)\r\n                .connectTimeout(60,TimeUnit.SECONDS)\r\n                .addInterceptor(interceptor)\r\n                .addInterceptor(new Interceptor() {\r\n            @NotNull\r\n            @Override\r\n            public Response intercept(@NotNull Chain chain) throws IOException {\r\n                Request request=chain.request().newBuilder()\r\n                        .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token)\r\n                        .build();\r\n                return chain.proceed(request);\r\n            }\r\n        }).build();\r\n        if(retrofit==null||token!=null){\r\n            retrofit= new Retrofit.Builder()\r\n                    .baseUrl(baseUrl)\r\n                    .client(client)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }}\r\n3 In this Interface you can create methods for get or post requests\r\n\r\n    public interface API {\r\n\r\n    @POST(&quot;/Api/Authentication/Login&quot;)\r\n    Call&lt;JsonObject&gt; login(@Body Model userdata);\r\n\r\n    @POST(&quot;/api/Authentication/ValidateSession&quot;)\r\n    Call&lt;JsonObject&gt; validateSession(@Body MyToken myToken);\r\n\r\n    @POST(&quot;/api/master/abcd&quot;)\r\n    Call&lt;JsonObject&gt; phoneDir(@Body JsonObject jsonObject);\r\n\r\n    @Multipart\r\n    @POST(&quot;/api/dash/UploadProfilePic&quot;)\r\n    Call&lt;JsonObject&gt; uploadProfile(@Part MultipartBody.Part part);\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;/api/dashboard/RulesAndPolicies&quot;)\r\n    Call&lt;JsonObject&gt; rulesAndProcess(@Field(&quot;ct&quot;) int city);\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;/api/dashboard/RulesAndPolicies&quot;)\r\n    Call&lt;JsonObject&gt; rulesAndProcess(\r\n            @Field(&quot;city&quot;) int city,\r\n            @Field(&quot;department&quot;) String department,\r\n            @Field(&quot;ctype&quot;) String ctype\r\n    );\r\n\r\n\r\n","title":"How to add bearer token to retrofit request in Java","body":"<p>these three class will be your final setup for all types of call</p>\n<blockquote>\n<p>for first call(Login) you do not need to pass token and after login pass jwt as bearer token to authenticate after authentication do not need to pass</p>\n</blockquote>\n<pre><code>public class ApiUtils {\nprivate static  final String BASE_URL=&quot;https://abcd.abcd.com/&quot;;\npublic ApiUtils() {\n}\n\npublic static API getApiService(String token){\n    return RetrofitClient.getClient(BASE_URL,token).create(API.class);\n}}\n</code></pre>\n<p>2.Using ApiUtils.getapiService you can get the client ,pass jwt or bearer token</p>\n<pre><code>public class RetrofitClient {\npublic static Retrofit retrofit=null;\npublic static Retrofit getClient(String baseUrl, String token){\n    HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\n    interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n    OkHttpClient client = new OkHttpClient.Builder()\n            .readTimeout(60,TimeUnit.SECONDS)\n            .connectTimeout(60,TimeUnit.SECONDS)\n            .addInterceptor(interceptor)\n            .addInterceptor(new Interceptor() {\n        @NotNull\n        @Override\n        public Response intercept(@NotNull Chain chain) throws IOException {\n            Request request=chain.request().newBuilder()\n                    .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + token)\n                    .build();\n            return chain.proceed(request);\n        }\n    }).build();\n    if(retrofit==null||token!=null){\n        retrofit= new Retrofit.Builder()\n                .baseUrl(baseUrl)\n                .client(client)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n    }\n    return retrofit;\n}}\n</code></pre>\n<p>3 In this Interface you can create methods for get or post requests</p>\n<pre><code>public interface API {\n\n@POST(&quot;/Api/Authentication/Login&quot;)\nCall&lt;JsonObject&gt; login(@Body Model userdata);\n\n@POST(&quot;/api/Authentication/ValidateSession&quot;)\nCall&lt;JsonObject&gt; validateSession(@Body MyToken myToken);\n\n@POST(&quot;/api/master/abcd&quot;)\nCall&lt;JsonObject&gt; phoneDir(@Body JsonObject jsonObject);\n\n@Multipart\n@POST(&quot;/api/dash/UploadProfilePic&quot;)\nCall&lt;JsonObject&gt; uploadProfile(@Part MultipartBody.Part part);\n\n@FormUrlEncoded\n@POST(&quot;/api/dashboard/RulesAndPolicies&quot;)\nCall&lt;JsonObject&gt; rulesAndProcess(@Field(&quot;ct&quot;) int city);\n\n@FormUrlEncoded\n@POST(&quot;/api/dashboard/RulesAndPolicies&quot;)\nCall&lt;JsonObject&gt; rulesAndProcess(\n        @Field(&quot;city&quot;) int city,\n        @Field(&quot;department&quot;) String department,\n        @Field(&quot;ctype&quot;) String ctype\n);\n</code></pre>\n"}],"owner":{"account_id":14369882,"reputation":255,"user_id":10379923,"display_name":"FearghalQA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15964,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":61388749,"answer_count":2,"score":9,"last_activity_date":1676891830,"creation_date":1587640259,"question_id":61385824,"body_markdown":"Hi Im trying to add a bearer token to a retrofit call in java, but i cant seem to pass it.\r\n\r\nCurrently Im logging in with one method and this creates a bearer token and im trying to add the token to the Get Call, but its just returning a 401 error, have I added the token to the call correctly?\r\n\r\n    @GET(&quot;diagnosis/configuration&quot;)\r\n    Call&lt;ResponseBody&gt; getFavourites (@Query(&quot;favourite&quot;) Boolean fave,@Header(&quot;Bearer Token&quot;) String authHeader);\r\n\r\n    @POST(&quot;auth/login&quot;)\r\n    Call&lt;LoginResponse&gt; postLogin (@Body LoginCredentialsBody body);\r\n\r\n\r\n\r\n    public class LoginApiStepDefinition extends TestBaseFix {\r\n\r\n    Retrofit retrofit = super.buildRetrofit(super.buildOkHttpClient());\r\n    RetrofitCallsLogin call = retrofit.create(RetrofitCallsLogin.class);\r\n    RetrofitCallsGetFavourites favecall = retrofit.create(RetrofitCallsGetFavourites.class);\r\n\r\n    private Response&lt;LoginResponse&gt; responseBody;\r\n    private String favouritesResponseBody;\r\n\r\n\r\n    String usernameValue;\r\n    String passwordValue;\r\n\r\n\r\n    @And(&quot;I login with {string} and {string} to return login token&quot;)\r\n    public void iLoginWithAndToReturnLoginToken(String username, String password) throws Exception {\r\n\r\n        LoginApi(username, password);\r\n\r\n    }\r\n\r\n\r\n    public String LoginApi(String username, String password) throws Exception {\r\n\r\n\r\n        usernameValue = username;\r\n        passwordValue = password;\r\n\r\n        //gets fixture ids for the dates\r\n        LoginCredentialsBody login = new LoginCredentialsBody();\r\n        login.setPassword(passwordValue);\r\n        login.setUsername(usernameValue);\r\n        String responseBody = call.postLogin(login).execute().body().toString();\r\n        String requiredString = responseBody.substring(responseBody.indexOf(&quot;=&quot;) + 1, responseBody.indexOf(&quot;,&quot;));\r\n\r\n\r\n        System.out.println(requiredString);\r\n\r\n\r\n        return token;\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    @Then(&quot;I get the list of favourites with {string} and {string}&quot;)\r\n    public void iGetTheListOfFavouritesWithAnd(String username, String password) throws Exception {\r\n\r\n        String favouritesResponseBody = favecall.getFavourites(true, LoginApi(username, password)).execute().body().toString();\r\n        System.out.println(favouritesResponseBody);\r\n    }\r\n}\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YRQMl.jpg","title":"How to add bearer token to retrofit request in Java","body":"<p>Hi Im trying to add a bearer token to a retrofit call in java, but i cant seem to pass it.</p>\n\n<p>Currently Im logging in with one method and this creates a bearer token and im trying to add the token to the Get Call, but its just returning a 401 error, have I added the token to the call correctly?</p>\n\n<pre><code>@GET(\"diagnosis/configuration\")\nCall&lt;ResponseBody&gt; getFavourites (@Query(\"favourite\") Boolean fave,@Header(\"Bearer Token\") String authHeader);\n\n@POST(\"auth/login\")\nCall&lt;LoginResponse&gt; postLogin (@Body LoginCredentialsBody body);\n\n\n\npublic class LoginApiStepDefinition extends TestBaseFix {\n\nRetrofit retrofit = super.buildRetrofit(super.buildOkHttpClient());\nRetrofitCallsLogin call = retrofit.create(RetrofitCallsLogin.class);\nRetrofitCallsGetFavourites favecall = retrofit.create(RetrofitCallsGetFavourites.class);\n\nprivate Response&lt;LoginResponse&gt; responseBody;\nprivate String favouritesResponseBody;\n\n\nString usernameValue;\nString passwordValue;\n\n\n@And(\"I login with {string} and {string} to return login token\")\npublic void iLoginWithAndToReturnLoginToken(String username, String password) throws Exception {\n\n    LoginApi(username, password);\n\n}\n\n\npublic String LoginApi(String username, String password) throws Exception {\n\n\n    usernameValue = username;\n    passwordValue = password;\n\n    //gets fixture ids for the dates\n    LoginCredentialsBody login = new LoginCredentialsBody();\n    login.setPassword(passwordValue);\n    login.setUsername(usernameValue);\n    String responseBody = call.postLogin(login).execute().body().toString();\n    String requiredString = responseBody.substring(responseBody.indexOf(\"=\") + 1, responseBody.indexOf(\",\"));\n\n\n    System.out.println(requiredString);\n\n\n    return token;\n\n\n}\n\n\n\n@Then(\"I get the list of favourites with {string} and {string}\")\npublic void iGetTheListOfFavouritesWithAnd(String username, String password) throws Exception {\n\n    String favouritesResponseBody = favecall.getFavourites(true, LoginApi(username, password)).execute().body().toString();\n    System.out.println(favouritesResponseBody);\n}\n</code></pre>\n\n<p>}</p>\n\n<p><a href=\"https://i.stack.imgur.com/YRQMl.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/YRQMl.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring","spring-boot","caching","jackson-databind"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676891319,"post_id":75508461,"comment_id":133222331,"body_markdown":"Don&#39;t use `@Cacheable` to cache database entities, integrate that with your JPA provider through the 2nd level cache instead. Unrelated (slightly) don&#39;t use `@Data` with JPA as it will generate an equals/hashCode that isn&#39;t suitable for JPA/managed entities.","body":"Don&#39;t use <code>@Cacheable</code> to cache database entities, integrate that with your JPA provider through the 2nd level cache instead. Unrelated (slightly) don&#39;t use <code>@Data</code> with JPA as it will generate an equals/hashCode that isn&#39;t suitable for JPA/managed entities."},{"owner":{"account_id":7558513,"reputation":759,"user_id":5737088,"accept_rate":83,"display_name":"Draaksward"},"score":0,"creation_date":1676892056,"post_id":75508461,"comment_id":133222519,"body_markdown":"@M.Deinum could you please point me to an article on that approach? Google made me believe that `@Cacheable` was the way.","body":"@M.Deinum could you please point me to an article on that approach? Google made me believe that <code>@Cacheable</code> was the way."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676896023,"post_id":75508461,"comment_id":133223569,"body_markdown":"Assuming you are using HIbernate I suggest a read on the 2nd level caching and how to enable and configure it especially for Redis (as I have no idea how to to that).","body":"Assuming you are using HIbernate I suggest a read on the 2nd level caching and how to enable and configure it especially for Redis (as I have no idea how to to that)."}],"owner":{"account_id":7558513,"reputation":759,"user_id":5737088,"accept_rate":83,"display_name":"Draaksward"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":817,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676891187,"creation_date":1676891187,"question_id":75508461,"body_markdown":"Using spring boot latest with jpa + caching. For caching used Redis.\r\n\r\n`pom` looks like this:\r\n```\r\n   &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI&#39;m storing a history record in cache, which has the next structure:\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Data\r\n@Entity\r\n@Table(name = &quot;entity1&quot;)\r\n@ToString\r\npublic class Entity1 implements Serializable {\r\n\r\n    @Id\r\n    @Builder.Default\r\n    private String id = UUID.randomUUID().toString();\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER, mappedBy = &quot;parentId&quot;)\r\n    @Builder.Default\r\n    private List&lt;Entity1Entry&gt; history = new ArrayList&lt;&gt;();\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Builder.Default\r\n    private Date created = new Date();\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Builder.Default\r\n    private Date updated = new Date();\r\n}\r\n\r\n```\r\n\r\nDecided to try if I could change things from `Serializable` to JSON and got stuck at that.\r\n\r\nMy config: \r\n\r\n```\r\n@Configuration\r\npublic class RedisConfig {\r\n\r\n \r\n        @Bean\r\n    public CacheManager redisCacheManager(@Value(&quot;${spring.cache.ttl}&quot;) Integer ttl,\r\n                                          RedisConnectionFactory redisConnectionFactory) {\r\n        RedisCacheManager cacheManager =  RedisCacheManager.RedisCacheManagerBuilder\r\n                .fromConnectionFactory(redisConnectionFactory)\r\n                .cacheDefaults(\r\n                        RedisCacheConfiguration.defaultCacheConfig()\r\n                                .entryTtl(Duration.ofDays(ttl))\r\n//                                .serializeValuesWith(getJsonSerializer())\r\n                                .disableCachingNullValues()\r\n                )\r\n                .transactionAware()\r\n                .build();\r\n        return cacheManager;\r\n\r\n    }\r\n    @Bean\r\n    public RedisCacheConfiguration defaultCacheConfig() {\r\n        return RedisCacheConfiguration.defaultCacheConfig()\r\n                .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(new StringRedisSerializer()))\r\n//                .serializeValuesWith(getJsonSerializer())\r\n                .entryTtl(Duration.ofDays(7))\r\n                ;\r\n    }\r\n\r\n    private RedisSerializationContext.SerializationPair getJsonSerializer() {\r\n        GenericJackson2JsonRedisSerializer jsonRedisSerializer = genericJackson2JsonRedisSerializer();\r\n        return RedisSerializationContext.SerializationPair.fromSerializer(jsonRedisSerializer);\r\n    }\r\n\r\n    private GenericJackson2JsonRedisSerializer genericJackson2JsonRedisSerializer() {\r\n        ObjectMapper objectMapper = objectMapper();\r\n        return new GenericJackson2JsonRedisSerializer(objectMapper);\r\n    }\r\n\r\n\r\n    private ObjectMapper objectMapper() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.enable(JsonGenerator.Feature.IGNORE_UNKNOWN);\r\n        objectMapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n        objectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);\r\n\r\n        objectMapper.registerModule(new Hibernate5Module());\r\n        return objectMapper;\r\n    }\r\n}\r\n```\r\n\r\nIgnore the commented out parts to be commented out - it been a 3 hour fight so far, so I&#39;m trying everything.\r\n\r\nThe problem I&#39;m getting is that I can&#39;t read the record from `@Cacheable`, always failing with a `Could not read JSON: No session` when trying to read the `Entity1` with its list entity.\r\n\r\nAny ideas?","title":"Spring Boot Cache Redis + Jackson. Serialize value as JSON. Cannot read - no session","body":"<p>Using spring boot latest with jpa + caching. For caching used Redis.</p>\n<p><code>pom</code> looks like this:</p>\n<pre><code>   &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I'm storing a history record in cache, which has the next structure:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Data\n@Entity\n@Table(name = &quot;entity1&quot;)\n@ToString\npublic class Entity1 implements Serializable {\n\n    @Id\n    @Builder.Default\n    private String id = UUID.randomUUID().toString();\n\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER, mappedBy = &quot;parentId&quot;)\n    @Builder.Default\n    private List&lt;Entity1Entry&gt; history = new ArrayList&lt;&gt;();\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Builder.Default\n    private Date created = new Date();\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Builder.Default\n    private Date updated = new Date();\n}\n\n</code></pre>\n<p>Decided to try if I could change things from <code>Serializable</code> to JSON and got stuck at that.</p>\n<p>My config:</p>\n<pre><code>@Configuration\npublic class RedisConfig {\n\n \n        @Bean\n    public CacheManager redisCacheManager(@Value(&quot;${spring.cache.ttl}&quot;) Integer ttl,\n                                          RedisConnectionFactory redisConnectionFactory) {\n        RedisCacheManager cacheManager =  RedisCacheManager.RedisCacheManagerBuilder\n                .fromConnectionFactory(redisConnectionFactory)\n                .cacheDefaults(\n                        RedisCacheConfiguration.defaultCacheConfig()\n                                .entryTtl(Duration.ofDays(ttl))\n//                                .serializeValuesWith(getJsonSerializer())\n                                .disableCachingNullValues()\n                )\n                .transactionAware()\n                .build();\n        return cacheManager;\n\n    }\n    @Bean\n    public RedisCacheConfiguration defaultCacheConfig() {\n        return RedisCacheConfiguration.defaultCacheConfig()\n                .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(new StringRedisSerializer()))\n//                .serializeValuesWith(getJsonSerializer())\n                .entryTtl(Duration.ofDays(7))\n                ;\n    }\n\n    private RedisSerializationContext.SerializationPair getJsonSerializer() {\n        GenericJackson2JsonRedisSerializer jsonRedisSerializer = genericJackson2JsonRedisSerializer();\n        return RedisSerializationContext.SerializationPair.fromSerializer(jsonRedisSerializer);\n    }\n\n    private GenericJackson2JsonRedisSerializer genericJackson2JsonRedisSerializer() {\n        ObjectMapper objectMapper = objectMapper();\n        return new GenericJackson2JsonRedisSerializer(objectMapper);\n    }\n\n\n    private ObjectMapper objectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.enable(JsonGenerator.Feature.IGNORE_UNKNOWN);\n        objectMapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n        objectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL, JsonTypeInfo.As.PROPERTY);\n\n        objectMapper.registerModule(new Hibernate5Module());\n        return objectMapper;\n    }\n}\n</code></pre>\n<p>Ignore the commented out parts to be commented out - it been a 3 hour fight so far, so I'm trying everything.</p>\n<p>The problem I'm getting is that I can't read the record from <code>@Cacheable</code>, always failing with a <code>Could not read JSON: No session</code> when trying to read the <code>Entity1</code> with its list entity.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","android","arrays","api","object"],"answers":[{"tags":[],"owner":{"account_id":15641040,"reputation":11,"user_id":11284376,"display_name":"Raghubeer singh virk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652175239,"creation_date":1652175239,"answer_id":72183921,"question_id":72016332,"body_markdown":"Since your MRData is main JSONObject and you are trying to fetch &quot;Drivers&quot; child array from &quot;DriverTable&quot; object, you have to get &quot;DriverTable&quot; first from your JSON response.\r\n \r\nMRData\r\n   -DriverTable\r\n       -Drivers\r\n\r\nTry following Code:\r\n\r\n    JSONObject driverTable = response.getJSONObject(&quot;DriverTable&quot;);\r\n    JSONArray jsonArray = driverTable.getJSONArray(&quot;Drivers&quot;);\r\n    \r\n    for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n    \tJSONObject driver = jsonArray.getJSONObject(i);\r\n    \tString firstName = driver.getString(&quot;givenName&quot;);\r\n    \tString lastName = driver.getString(&quot;familyName&quot;);\r\n    \tString nationality = driver.getString(&quot;nationality&quot;);\r\n    \r\n    \tmTextViewResult.append(firstName + &quot;, &quot; + lastName + &quot;, &quot; + nationality + &quot;\\n\\n&quot;);\r\n    }","title":"Accessing a JSON array inside of a JSON object in Android Studio","body":"<p>Since your MRData is main JSONObject and you are trying to fetch &quot;Drivers&quot; child array from &quot;DriverTable&quot; object, you have to get &quot;DriverTable&quot; first from your JSON response.</p>\n<p>MRData\n-DriverTable\n-Drivers</p>\n<p>Try following Code:</p>\n<pre><code>JSONObject driverTable = response.getJSONObject(&quot;DriverTable&quot;);\nJSONArray jsonArray = driverTable.getJSONArray(&quot;Drivers&quot;);\n\nfor (int i = 0; i &lt; jsonArray.length(); i++) {\n    JSONObject driver = jsonArray.getJSONObject(i);\n    String firstName = driver.getString(&quot;givenName&quot;);\n    String lastName = driver.getString(&quot;familyName&quot;);\n    String nationality = driver.getString(&quot;nationality&quot;);\n\n    mTextViewResult.append(firstName + &quot;, &quot; + lastName + &quot;, &quot; + nationality + &quot;\\n\\n&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7362405,"reputation":21,"user_id":8348350,"display_name":"Akin Wilderman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676891117,"creation_date":1676887264,"answer_id":75507789,"question_id":72016332,"body_markdown":"The following should work.\r\n\r\n    try{\r\n        JSONArray jsonArray = response.getJSONArray(&quot;DriverTable&quot;);\r\n        for(int i = 0; i &lt; jsonArray.length(); i++){\r\n            JSONObject driverTable = jsonArray.getJSONObject(i);\r\n            JSONObject driver = driverTable.getJSONObject(&quot;Drivers&quot;);\r\n            String firstName = driver.getString(&quot;givenName&quot;);\r\n            String lastName = driver.getString(&quot;familyName&quot;);\r\n            String nationality = driver.getString(&quot;nationality&quot;);\r\n\r\n            /// other codes\r\n            }\r\n    }\r\n    ","title":"Accessing a JSON array inside of a JSON object in Android Studio","body":"<p>The following should work.</p>\n<pre><code>try{\n    JSONArray jsonArray = response.getJSONArray(&quot;DriverTable&quot;);\n    for(int i = 0; i &lt; jsonArray.length(); i++){\n        JSONObject driverTable = jsonArray.getJSONObject(i);\n        JSONObject driver = driverTable.getJSONObject(&quot;Drivers&quot;);\n        String firstName = driver.getString(&quot;givenName&quot;);\n        String lastName = driver.getString(&quot;familyName&quot;);\n        String nationality = driver.getString(&quot;nationality&quot;);\n\n        /// other codes\n        }\n}\n</code></pre>\n"}],"owner":{"account_id":7234313,"reputation":19,"user_id":5520098,"display_name":"sammysahrd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676891117,"creation_date":1650985681,"question_id":72016332,"body_markdown":"I am testing my knowledge and ability with android studio and API&#39;s, I have been using volley and I have come across a little problem.\r\n\r\nThe API I have been using is the Ergast F1 API, this is the exact link I am using\r\n\r\n&lt;https://ergast.com/api/f1/2019/drivers.json&gt;\r\n\r\nI think my problem is that I am trying to access the array &#39;Drivers&#39; but nothing seems to be working, I think this might be because it is inside the &#39;DriverTables&#39; object, I may be completely wrong, like I say I am only learning.\r\n\r\nThis is my code here, any help is greatly appreciated\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private TextView mTextViewResult;\r\n    private RequestQueue mQueue;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mTextViewResult = findViewById(R.id.textViewResult);\r\n        Button buttonParse = findViewById(R.id.parse);\r\n\r\n        mQueue = Volley.newRequestQueue(this);\r\n        buttonParse.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                jsonParse();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void jsonParse() {\r\n\r\n        String url = &quot;https://ergast.com/api/f1/2019/drivers.json&quot;;\r\n        JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null,\r\n            response - &gt; {\r\n                try {\r\n                    JSONArray jsonArray = response.getJSONArray(&quot;Drivers&quot;);\r\n\r\n                    for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                        JSONObject driver = jsonArray.getJSONObject(i);\r\n\r\n                        String firstName = driver.getString(&quot;givenName&quot;);\r\n                        String lastName = driver.getString(&quot;familyName&quot;);\r\n                        String nationality = driver.getString(&quot;nationality&quot;);\r\n\r\n                        mTextViewResult.append(firstName + &quot;, &quot; + lastName + &quot;, &quot; + nationality + &quot;\\n\\n&quot;);\r\n\r\n\r\n                    }\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            },\r\n            error - &gt; error.printStackTrace());\r\n\r\n        mQueue.add(request);\r\n\r\n    }\r\n}\r\n\r\n","title":"Accessing a JSON array inside of a JSON object in Android Studio","body":"<p>I am testing my knowledge and ability with android studio and API's, I have been using volley and I have come across a little problem.</p>\n<p>The API I have been using is the Ergast F1 API, this is the exact link I am using</p>\n<p><a href=\"https://ergast.com/api/f1/2019/drivers.json\" rel=\"nofollow noreferrer\">https://ergast.com/api/f1/2019/drivers.json</a></p>\n<p>I think my problem is that I am trying to access the array 'Drivers' but nothing seems to be working, I think this might be because it is inside the 'DriverTables' object, I may be completely wrong, like I say I am only learning.</p>\n<p>This is my code here, any help is greatly appreciated</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate TextView mTextViewResult;\nprivate RequestQueue mQueue;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mTextViewResult = findViewById(R.id.textViewResult);\n    Button buttonParse = findViewById(R.id.parse);\n\n    mQueue = Volley.newRequestQueue(this);\n    buttonParse.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            jsonParse();\n        }\n    });\n\n}\n\nprivate void jsonParse() {\n\n    String url = &quot;https://ergast.com/api/f1/2019/drivers.json&quot;;\n    JsonObjectRequest request = new JsonObjectRequest(Request.Method.GET, url, null,\n        response - &gt; {\n            try {\n                JSONArray jsonArray = response.getJSONArray(&quot;Drivers&quot;);\n\n                for (int i = 0; i &lt; jsonArray.length(); i++) {\n                    JSONObject driver = jsonArray.getJSONObject(i);\n\n                    String firstName = driver.getString(&quot;givenName&quot;);\n                    String lastName = driver.getString(&quot;familyName&quot;);\n                    String nationality = driver.getString(&quot;nationality&quot;);\n\n                    mTextViewResult.append(firstName + &quot;, &quot; + lastName + &quot;, &quot; + nationality + &quot;\\n\\n&quot;);\n\n\n                }\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n\n        },\n        error - &gt; error.printStackTrace());\n\n    mQueue.add(request);\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","object","actionlistener","keylistener","pong"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1676885331,"post_id":75507361,"comment_id":133220624,"body_markdown":"You never add the keylistener to the object","body":"You never add the keylistener to the object"},{"owner":{"account_id":27830917,"reputation":13,"user_id":21249359,"display_name":"Jon Doe"},"score":0,"creation_date":1676885875,"post_id":75507361,"comment_id":133220774,"body_markdown":"@Jens you mean in the board class? that has no effect on the code really it was just there to try and maybe see if it worked.","body":"@Jens you mean in the board class? that has no effect on the code really it was just there to try and maybe see if it worked."}],"answers":[{"comments":[{"owner":{"account_id":27830917,"reputation":13,"user_id":21249359,"display_name":"Jon Doe"},"score":0,"creation_date":1676894021,"post_id":75508364,"comment_id":133223032,"body_markdown":"A bit hard for me to understand what you mean but I will take a look and read up on it thank you.","body":"A bit hard for me to understand what you mean but I will take a look and read up on it thank you."},{"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"score":0,"creation_date":1676900154,"post_id":75508364,"comment_id":133224748,"body_markdown":"Can you provide some more of your design and code so that i can help you out","body":"Can you provide some more of your design and code so that i can help you out"},{"owner":{"account_id":27830917,"reputation":13,"user_id":21249359,"display_name":"Jon Doe"},"score":0,"creation_date":1676983702,"post_id":75508364,"comment_id":133243318,"body_markdown":"my apologies for a late reply. I saw what you mean later I will probably re ask my question later but.\n\nIn short I notice how I didn&#39;t register actionlistener like you said, however I cannot get the code to wwork when I try and make it so the player class is the one that moves the player padel","body":"my apologies for a late reply. I saw what you mean later I will probably re ask my question later but.  In short I notice how I didn&#39;t register actionlistener like you said, however I cannot get the code to wwork when I try and make it so the player class is the one that moves the player padel"}],"tags":[],"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676890955,"creation_date":1676890621,"answer_id":75508364,"question_id":75507361,"body_markdown":"You have just wrote the method names. You need to register action/key listener to a particular swing component which you want to listen. &lt;br&gt;\r\nSuppose if your JComponent is JButton named btnPlayer you need to register the action performed event like : &lt;br&gt;\r\n    `private void btnPlayerActionPerformed(java.awt.event.ActionEvent e) {.... ` &lt;br&gt;\r\n`...}`\r\n&lt;br&gt;\r\nYou can add action listener from swing design. Right click on the JComponent -&gt; Events -&gt; ActionPerformed. &lt;br&gt;\r\nIt will register click event for the component. Adding events through the properties is a better option.","title":"Java cannot get action/key listener to work","body":"<p>You have just wrote the method names. You need to register action/key listener to a particular swing component which you want to listen. <br>\nSuppose if your JComponent is JButton named btnPlayer you need to register the action performed event like : <br>\n<code>private void btnPlayerActionPerformed(java.awt.event.ActionEvent e) {.... </code> <br>\n<code>...}</code>\n<br>\nYou can add action listener from swing design. Right click on the JComponent -&gt; Events -&gt; ActionPerformed. <br>\nIt will register click event for the component. Adding events through the properties is a better option.</p>\n"}],"owner":{"account_id":27830917,"reputation":13,"user_id":21249359,"display_name":"Jon Doe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75508364,"answer_count":1,"score":1,"last_activity_date":1676890955,"creation_date":1676884962,"question_id":75507361,"body_markdown":"I am coding a Java pong game I am stuck on how to get the player paddle to move. I for some reason cannot get the program to notice the key inputs. \r\n\r\n\r\n```\r\nimport java.awt.Component;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\n\r\npublic class Pong {\r\n\r\n\t Board board = new Board();  \r\n\r\n\r\n\t\r\n\tpublic void frame() {\r\n\t   \t JFrame b = new JFrame(&quot;Pong&quot;);\r\n     \t b.setSize(905,705);\r\n     \t b.setLocation(300,60);\r\n     \t b.setResizable(false);\r\n       \t b.setVisible(true);\r\n      \t b.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);    \t  \r\n      \t b.add(board);\r\n\r\n      \t \r\n\r\n\t}\r\n\r\n\tpublic static  void main(String[] args) {\r\n\t\tPong start = new Pong();\r\n\t\tstart.frame();\r\n\r\n\r\n\r\n\r\n\r\n\t}\r\n\r\n\r\n}\r\n```\r\n\r\nThe board class\r\n\r\n```\r\npublic class Board extends JPanel{\r\n\t   public int playerScore = 0;\r\n\t   public int opponentScore = 0;\r\n\t   Player player = new Player();\r\n\t   int test = 1;\r\n\t   private Timer timer;\r\n\t   private int time = 100;{\r\n          timer = new Timer(time, player);\r\n          timer.start();\r\n\t\t}\r\n\t   public void paint(Graphics g) {\r\n\t\t   Graphics2D g2d = (Graphics2D) g;\r\n\r\n\t\t   board(g);\r\n\t\t   g.setColor(Color.WHITE);\r\n\t\t  // player.playerGenerate();\r\n\t\t   g2d.fill(player.player);\r\n\t\t    g.fillRect(30, test, 20, 20);\r\n\t\t    player.paint(g);\r\n\t\t    control();\r\n\t\r\n\t\t  //repaint();\r\n\t\t   }\r\n\t\t   \r\n\t   \r\n\r\n\t   \r\n\t   public void board(Graphics g) {\r\n\t\t   Graphics2D g2d = (Graphics2D) g;\r\n\t\t   \r\n\t\t\tg.setColor(Color.black);\r\n\t\t    g.fillRect(0, 0, 900, 900);\r\n\t\t    Stroke stroke1 = new BasicStroke(4f);\r\n\t\t    \r\n\t\t    g2d.setColor(Color.white);\r\n\t\t    g2d.setStroke(stroke1);\r\n\t\t     \r\n\t\t    g2d.drawRect(20, 50, 850, 600);\r\n\t\t    g2d.setColor(Color.white);\r\n\t\t    \r\n\t\t    float[] dashingPattern2 = {10f, 4f};\r\n\t\t    Stroke stroke2 = new BasicStroke(4f, BasicStroke.CAP_BUTT,\r\n\t\t            BasicStroke.JOIN_MITER, 1.0f, dashingPattern2, 0.0f);\r\n\t\t     \r\n\t\t    g2d.setStroke(stroke2);\r\n\t\t    g2d.drawLine(435, 50, 435, 650);\r\n\t\t    g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,30));\r\n\t\t    g.drawString(&quot;&quot;+playerScore, 20, 35);\r\n\t\t    g.drawString(&quot;&quot;+opponentScore, 855, 35);\r\n\t\t  \r\n\r\n\r\n\t   }\r\n\t   \r\n\t   public void control() {\r\n\t\t   if (player.down == true) {\r\n\t\t\t   \r\n\t\t\t   player.playerYpos = player.playerYpos = player.playerYpos -10;\r\n\t\t\t   repaint();\r\n\r\n\t\t   \r\n\t\t   }\r\n\t   }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nAnd finally the player class. \r\n\r\n```\r\n\r\npublic class Player extends JPanel  implements KeyListener,ActionListener{\r\n\t//Board theBoard = new Board();\t   \r\n\r\n\tpublic boolean down = false;\r\n\tpublic boolean up = false;\r\n\tpublic int playerXpos = 45;\r\n\tpublic int playerYpos = 300;\r\n\tpublic int playerWidth = 15;\r\n\tpublic int playerHeight = 80;\r\n\tRectangle player = new Rectangle(playerXpos,playerYpos,playerWidth,playerHeight);\r\n\t\r\n\r\n\t// Board theBoard = new Board();\r\n\tpublic void playerGenerate() {\r\n\t\tplayerXpos = 45;\r\n\t\tplayerYpos = 300;\r\n\t\tplayerWidth = 15;\r\n\t\tplayerHeight = 80;\r\n\t\t\r\n\t//Rectangle\tr = new Rectangle(playerXpos,playerYpos,playerWidth,playerHeight);\r\n\t}\r\n\t\r\n\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tif (down) {\r\n\t\t\t\t\r\n\t\t\t\tdown = true;\r\n\r\n\t\t\t\tif(up != true) {\r\n\t\t\t\t\tdown = true;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tup = true;\r\n\t\t\t\t\tdown = false;\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (up) {\r\n\t\t\t\t\r\n\t\t\t\tup = true;\r\n\r\n\t\t\t\tif(down != true) {\r\n\t\t\t\t\tup = true;\r\n\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tup = false;\r\n\t\t\t\t\tdown = true;\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyTyped(KeyEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyPressed(KeyEvent e) {\r\n\t\tif(e.getKeyCode() == KeyEvent.VK_UP) {\r\n\r\n\t\t\tfor(int r = playerYpos;r &gt;=0;r--) {\r\n\t\t\t\tif(r==0) {\r\n\t\t\t\t\tplayerYpos = playerYpos -20;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\telse {\r\n\t\t\t\t\tplayerYpos = \tplayerYpos -1 ;\r\n\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(playerYpos &lt; 50){\r\n\t\t\t\t\tplayerYpos = 50;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\t//repaint();\r\n\t\t\t\r\n\t\t}\r\n\t\tif(e.getKeyCode() == KeyEvent.VK_DOWN) {\r\n\r\n\t\t\tfor(int r = playerYpos;r &gt;=0;r--) {\r\n\t\t\t\tif(r==0) {\r\n\t\t\t\t\tplayerYpos = playerYpos +20;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\telse {\r\n\t\t\t\t\tplayerYpos = \tplayerYpos -1 ;\r\n\t\t\t\t\tSystem.out.print(&quot;down&quot;);\r\n\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(playerYpos &gt; 800){\r\n\t\t\t\t\tplayerYpos = 800;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\t//repaint();\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\r\n\t@Override\r\n\tpublic void keyReleased(KeyEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nI tried googling around and looked at code that went with a similar approach of implementing action/key listener in the player/paddle class. I assume there is something minor and small I am just not seeing. ","title":"Java cannot get action/key listener to work","body":"<p>I am coding a Java pong game I am stuck on how to get the player paddle to move. I for some reason cannot get the program to notice the key inputs.</p>\n<pre><code>import java.awt.Component;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\n\npublic class Pong {\n\n     Board board = new Board();  \n\n\n    \n    public void frame() {\n         JFrame b = new JFrame(&quot;Pong&quot;);\n         b.setSize(905,705);\n         b.setLocation(300,60);\n         b.setResizable(false);\n         b.setVisible(true);\n         b.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);        \n         b.add(board);\n\n         \n\n    }\n\n    public static  void main(String[] args) {\n        Pong start = new Pong();\n        start.frame();\n\n\n\n\n\n    }\n\n\n}\n</code></pre>\n<p>The board class</p>\n<pre><code>public class Board extends JPanel{\n       public int playerScore = 0;\n       public int opponentScore = 0;\n       Player player = new Player();\n       int test = 1;\n       private Timer timer;\n       private int time = 100;{\n          timer = new Timer(time, player);\n          timer.start();\n        }\n       public void paint(Graphics g) {\n           Graphics2D g2d = (Graphics2D) g;\n\n           board(g);\n           g.setColor(Color.WHITE);\n          // player.playerGenerate();\n           g2d.fill(player.player);\n            g.fillRect(30, test, 20, 20);\n            player.paint(g);\n            control();\n    \n          //repaint();\n           }\n           \n       \n\n       \n       public void board(Graphics g) {\n           Graphics2D g2d = (Graphics2D) g;\n           \n            g.setColor(Color.black);\n            g.fillRect(0, 0, 900, 900);\n            Stroke stroke1 = new BasicStroke(4f);\n            \n            g2d.setColor(Color.white);\n            g2d.setStroke(stroke1);\n             \n            g2d.drawRect(20, 50, 850, 600);\n            g2d.setColor(Color.white);\n            \n            float[] dashingPattern2 = {10f, 4f};\n            Stroke stroke2 = new BasicStroke(4f, BasicStroke.CAP_BUTT,\n                    BasicStroke.JOIN_MITER, 1.0f, dashingPattern2, 0.0f);\n             \n            g2d.setStroke(stroke2);\n            g2d.drawLine(435, 50, 435, 650);\n            g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,30));\n            g.drawString(&quot;&quot;+playerScore, 20, 35);\n            g.drawString(&quot;&quot;+opponentScore, 855, 35);\n          \n\n\n       }\n       \n       public void control() {\n           if (player.down == true) {\n               \n               player.playerYpos = player.playerYpos = player.playerYpos -10;\n               repaint();\n\n           \n           }\n       }\n}\n</code></pre>\n<p>And finally the player class.</p>\n<pre><code>\npublic class Player extends JPanel  implements KeyListener,ActionListener{\n    //Board theBoard = new Board();    \n\n    public boolean down = false;\n    public boolean up = false;\n    public int playerXpos = 45;\n    public int playerYpos = 300;\n    public int playerWidth = 15;\n    public int playerHeight = 80;\n    Rectangle player = new Rectangle(playerXpos,playerYpos,playerWidth,playerHeight);\n    \n\n    // Board theBoard = new Board();\n    public void playerGenerate() {\n        playerXpos = 45;\n        playerYpos = 300;\n        playerWidth = 15;\n        playerHeight = 80;\n        \n    //Rectangle r = new Rectangle(playerXpos,playerYpos,playerWidth,playerHeight);\n    }\n    \n\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n            if (down) {\n                \n                down = true;\n\n                if(up != true) {\n                    down = true;\n                }\n                else\n                {\n                    up = true;\n                    down = false;\n                \n                    \n                }\n\n            }\n            \n            if (up) {\n                \n                up = true;\n\n                if(down != true) {\n                    up = true;\n\n                }\n                else\n                {\n                    up = false;\n                    down = true;\n                \n                    \n                }\n\n            }\n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        if(e.getKeyCode() == KeyEvent.VK_UP) {\n\n            for(int r = playerYpos;r &gt;=0;r--) {\n                if(r==0) {\n                    playerYpos = playerYpos -20;\n                    \n                }\n                \n                else {\n                    playerYpos =    playerYpos -1 ;\n\n                }\n                \n                if(playerYpos &lt; 50){\n                    playerYpos = 50;\n                }\n            }\n                //repaint();\n            \n        }\n        if(e.getKeyCode() == KeyEvent.VK_DOWN) {\n\n            for(int r = playerYpos;r &gt;=0;r--) {\n                if(r==0) {\n                    playerYpos = playerYpos +20;\n                    \n                }\n                \n                else {\n                    playerYpos =    playerYpos -1 ;\n                    System.out.print(&quot;down&quot;);\n\n                }\n                \n                if(playerYpos &gt; 800){\n                    playerYpos = 800;\n                }\n            }\n                //repaint();\n            }\n        }\n    \n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        // TODO Auto-generated method stub\n        \n    }\n}\n</code></pre>\n<p>I tried googling around and looked at code that went with a similar approach of implementing action/key listener in the player/paddle class. I assume there is something minor and small I am just not seeing.</p>\n"},{"tags":["java","android","android-studio","widget","remoteview"],"answers":[{"comments":[{"owner":{"account_id":8443343,"reputation":1247,"user_id":6334991,"accept_rate":92,"display_name":"Kevin"},"score":0,"creation_date":1676885421,"post_id":75503754,"comment_id":133220649,"body_markdown":"The rest of the app is fully usable, I can&#39;t force users to not be able to use our app just for the widget I&#39;m afraid.\n\n- 1 Would rendering a `Bitmap` give me the possibility to use percentage-height layouts inside that `Bitmap`? Is it possible to draw with percentages on that canvas?\n\n- 2 Would I be able to render a different graph for each layout resource? Then I could work with 5% increments and take the closest number idd.\n\n- 3 The app is entirely made in React-Native, so I wouldn&#39;t mind trying Kotlin if I know it would fix my problem. I made the widget without any Java knowledge.","body":"The rest of the app is fully usable, I can&#39;t force users to not be able to use our app just for the widget I&#39;m afraid.  - 1 Would rendering a <code>Bitmap</code> give me the possibility to use percentage-height layouts inside that <code>Bitmap</code>? Is it possible to draw with percentages on that canvas?  - 2 Would I be able to render a different graph for each layout resource? Then I could work with 5% increments and take the closest number idd.  - 3 The app is entirely made in React-Native, so I wouldn&#39;t mind trying Kotlin if I know it would fix my problem. I made the widget without any Java knowledge."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676894229,"post_id":75503754,"comment_id":133223098,"body_markdown":"@Kevin: &quot;Would rendering a Bitmap give me the possibility to use percentage-height layouts inside that Bitmap? Is it possible to draw with percentages on that canvas?&quot; -- sure. Everything you see in an Android UI (minus `SurfaceView`/`TextureView`) was drawn to a `Canvas`. You can even create a traditional XML layout, inflate it, then render that resulting `View` to a `Canvas`. &quot;Would I be able to render a different graph for each layout resource?&quot; -- I do not know what that means, sorry. &quot;The app is entirely made in React-Native&quot; -- then please tag your questions as such.","body":"@Kevin: &quot;Would rendering a Bitmap give me the possibility to use percentage-height layouts inside that Bitmap? Is it possible to draw with percentages on that canvas?&quot; -- sure. Everything you see in an Android UI (minus <code>SurfaceView</code>/<code>TextureView</code>) was drawn to a <code>Canvas</code>. You can even create a traditional XML layout, inflate it, then render that resulting <code>View</code> to a <code>Canvas</code>. &quot;Would I be able to render a different graph for each layout resource?&quot; -- I do not know what that means, sorry. &quot;The app is entirely made in React-Native&quot; -- then please tag your questions as such."},{"owner":{"account_id":8443343,"reputation":1247,"user_id":6334991,"accept_rate":92,"display_name":"Kevin"},"score":0,"creation_date":1676902911,"post_id":75503754,"comment_id":133225595,"body_markdown":"Do you think you could point me to an example where a (rounded) rectangle is drawn on a `Canvas` in a `RemoteViews` in a widget? Can&#39;t really seem to find the correct terms to Google how to execute that suggestion of yours. Eg. A rectangle with 60% height of its parent. -- The widget has nothing to do with the rest of the app being made using RN, right? That&#39;s why I didn&#39;t tag it as such. I only wanted to mention that I&#39;m not necessarily bound to Java so I&#39;m definitely open to trying Kotlin to achieve this.","body":"Do you think you could point me to an example where a (rounded) rectangle is drawn on a <code>Canvas</code> in a <code>RemoteViews</code> in a widget? Can&#39;t really seem to find the correct terms to Google how to execute that suggestion of yours. Eg. A rectangle with 60% height of its parent. -- The widget has nothing to do with the rest of the app being made using RN, right? That&#39;s why I didn&#39;t tag it as such. I only wanted to mention that I&#39;m not necessarily bound to Java so I&#39;m definitely open to trying Kotlin to achieve this."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676903280,"post_id":75503754,"comment_id":133225713,"body_markdown":"@Kevin: &quot;Do you think you could point me to an example where a (rounded) rectangle is drawn on a Canvas in a RemoteViews in a widget?&quot; -- that is rather niche, so it is unlikely that there is such an example. You might try breaking the problem down into pieces. For example, [this post](https://medium.com/over-engineering/getting-started-with-drawing-on-the-android-canvas-621cf512f4c7) covers `Canvas` and using it to draw to a bitmap. You then need to learn how to draw the rounded rectangle on the `Canvas` and how to show the `Bitmap` in a `RemoteViews`.","body":"@Kevin: &quot;Do you think you could point me to an example where a (rounded) rectangle is drawn on a Canvas in a RemoteViews in a widget?&quot; -- that is rather niche, so it is unlikely that there is such an example. You might try breaking the problem down into pieces. For example, <a href=\"https://medium.com/over-engineering/getting-started-with-drawing-on-the-android-canvas-621cf512f4c7\" rel=\"nofollow noreferrer\">this post</a> covers <code>Canvas</code> and using it to draw to a bitmap. You then need to learn how to draw the rounded rectangle on the <code>Canvas</code> and how to show the <code>Bitmap</code> in a <code>RemoteViews</code>."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676903442,"post_id":75503754,"comment_id":133225770,"body_markdown":"@Kevin: &quot;The widget has nothing to do with the rest of the app being made using RN, right?&quot; -- earlier, you wrote &quot;The app is entirely made in React-Native&quot;. I have not used React Native, but in ordinary Android app development, the app widget is part of the app. Since you don&#39;t have any code in your question, &quot;The app is entirely made in React-Native&quot; suggests that you were creating the app widget in React Native, and I have limited ability to help with that environment.","body":"@Kevin: &quot;The widget has nothing to do with the rest of the app being made using RN, right?&quot; -- earlier, you wrote &quot;The app is entirely made in React-Native&quot;. I have not used React Native, but in ordinary Android app development, the app widget is part of the app. Since you don&#39;t have any code in your question, &quot;The app is entirely made in React-Native&quot; suggests that you were creating the app widget in React Native, and I have limited ability to help with that environment."},{"owner":{"account_id":8443343,"reputation":1247,"user_id":6334991,"accept_rate":92,"display_name":"Kevin"},"score":0,"creation_date":1678958414,"post_id":75503754,"comment_id":133634685,"body_markdown":"I&#39;ve tried out Glance, but the problem is that you&#39;re stuck using GlanceModifiers and can&#39;t use the regular Jetpack Compose Modifiers. I&#39;ve tried out using a Canvas, but I don&#39;t think this enables me to do much more? And I fear it would remove some of the resizing possibilities I have right now. Is there truly no possibility whatsoever to eg. have render a container inside a RemoteViews, with inside that container a plain rectangle which has a percentage size of its parent?... That&#39;s the bare minimum I&#39;ve been trying to replicate these last few weeks.","body":"I&#39;ve tried out Glance, but the problem is that you&#39;re stuck using GlanceModifiers and can&#39;t use the regular Jetpack Compose Modifiers. I&#39;ve tried out using a Canvas, but I don&#39;t think this enables me to do much more? And I fear it would remove some of the resizing possibilities I have right now. Is there truly no possibility whatsoever to eg. have render a container inside a RemoteViews, with inside that container a plain rectangle which has a percentage size of its parent?... That&#39;s the bare minimum I&#39;ve been trying to replicate these last few weeks."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1678965197,"post_id":75503754,"comment_id":133636746,"body_markdown":"@Kevin: &quot;have render a container inside a RemoteViews, with inside that container a plain rectangle which has a percentage size of its parent?&quot; -- `LinearLayout` and careful use of `android:layout_weight` can accomplish that, as you note in your question. Your problem is in how you&#39;re trying to *change* that, and `RemoteViews` simply is not set up for that sort of structural change. Have you tried using a set of PNGs representing bars of varying percentages, then swapping in the desired PNG when you want to change the bar percentage&gt;","body":"@Kevin: &quot;have render a container inside a RemoteViews, with inside that container a plain rectangle which has a percentage size of its parent?&quot; -- <code>LinearLayout</code> and careful use of <code>android:layout_weight</code> can accomplish that, as you note in your question. Your problem is in how you&#39;re trying to <i>change</i> that, and <code>RemoteViews</code> simply is not set up for that sort of structural change. Have you tried using a set of PNGs representing bars of varying percentages, then swapping in the desired PNG when you want to change the bar percentage&gt;"},{"owner":{"account_id":8443343,"reputation":1247,"user_id":6334991,"accept_rate":92,"display_name":"Kevin"},"score":0,"creation_date":1679008682,"post_id":75503754,"comment_id":133648650,"body_markdown":"I just tried some PNG fiddling, no avail. Also images get very unsharp immediately in comparison to LinearLayout. I had some hope actually for that approach... I&#39;m totally baffled this is blocking me. Never though when I was about to try to create a widget it would be so insanely primitive. Thanks though for thinking with me. Actually one last idea I might have is to have your PNG idea reversed. Instead of having the charts as PNG, I could have the &quot;spacers&quot; as PNGs filled with the background colour, or maybe even completely transparent. My last hope. I&#39;ll let you know.","body":"I just tried some PNG fiddling, no avail. Also images get very unsharp immediately in comparison to LinearLayout. I had some hope actually for that approach... I&#39;m totally baffled this is blocking me. Never though when I was about to try to create a widget it would be so insanely primitive. Thanks though for thinking with me. Actually one last idea I might have is to have your PNG idea reversed. Instead of having the charts as PNG, I could have the &quot;spacers&quot; as PNGs filled with the background colour, or maybe even completely transparent. My last hope. I&#39;ll let you know."},{"owner":{"account_id":8443343,"reputation":1247,"user_id":6334991,"accept_rate":92,"display_name":"Kevin"},"score":1,"creation_date":1679039810,"post_id":75503754,"comment_id":133652747,"body_markdown":"That approach seems to work &#128579; that&#39;s an awesome hack. Thanks for giving me the idea to use PNGs! I&#39;m going to find a formula which adds certain height spacers. I&#39;m probably going to try to add a certain amount of different sized black backgrounds as spacers to calculate the amount I need. I guess it&#39;s best to limit the amount of images I render for performance reasons... Anyway, thanks for thinking with me! &#128591;","body":"That approach seems to work 🙃 that&#39;s an awesome hack. Thanks for giving me the idea to use PNGs! I&#39;m going to find a formula which adds certain height spacers. I&#39;m probably going to try to add a certain amount of different sized black backgrounds as spacers to calculate the amount I need. I guess it&#39;s best to limit the amount of images I render for performance reasons... Anyway, thanks for thinking with me! 🙏"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1679050754,"post_id":75503754,"comment_id":133655440,"body_markdown":"@Kevin: I&#39;m glad it&#39;s working out!","body":"@Kevin: I&#39;m glad it&#39;s working out!"}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676844314,"creation_date":1676844314,"answer_id":75503754,"question_id":75503599,"body_markdown":"The ability to affect things like that was only added in API Level 31 (Android 12), with methods like [`setViewLayoutHeight()`](https://developer.android.com/reference/android/widget/RemoteViews.html?hl=en#setViewLayoutHeight(int,%20float,%20int)). So, one option would be to set your `minSdk` to be 31 and live with a smaller user base for a while.\r\n\r\nOr:\r\n\r\n- For a complex UI, you might consider rendering a `Bitmap` inside your app, then showing that `Bitmap` in an `ImageView` in the app widget (with the `Bitmap` served via a `ContentProvider`). This is annoying, but it gives you ultimate flexibility.\r\n\r\n- Another possibility is to have a bunch of different layout resources, where you encode a range of desired weights, the use the desired one in the `RemoteViews` when you go to update it. If you keep consistent widget IDs, the rest of your code should not need to change much.\r\n\r\n- You have the question tagged as [tag:java]. If you eventually learn Kotlin, you could see if Glance has some more flexibility. Glance uses Jetpack Compose to create app widgets (and Wear OS tiles).\r\n\r\n","title":"Programmatically set a percentage height to LinearLayout in a Widget&#39;s RemoteViews","body":"<p>The ability to affect things like that was only added in API Level 31 (Android 12), with methods like <a href=\"https://developer.android.com/reference/android/widget/RemoteViews.html?hl=en#setViewLayoutHeight(int,%20float,%20int)\" rel=\"nofollow noreferrer\"><code>setViewLayoutHeight()</code></a>. So, one option would be to set your <code>minSdk</code> to be 31 and live with a smaller user base for a while.</p>\n<p>Or:</p>\n<ul>\n<li><p>For a complex UI, you might consider rendering a <code>Bitmap</code> inside your app, then showing that <code>Bitmap</code> in an <code>ImageView</code> in the app widget (with the <code>Bitmap</code> served via a <code>ContentProvider</code>). This is annoying, but it gives you ultimate flexibility.</p>\n</li>\n<li><p>Another possibility is to have a bunch of different layout resources, where you encode a range of desired weights, the use the desired one in the <code>RemoteViews</code> when you go to update it. If you keep consistent widget IDs, the rest of your code should not need to change much.</p>\n</li>\n<li><p>You have the question tagged as <a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged &#39;java&#39;\" aria-label=\"show questions tagged &#39;java&#39;\" rel=\"tag\" aria-labelledby=\"java-container\">java</a>. If you eventually learn Kotlin, you could see if Glance has some more flexibility. Glance uses Jetpack Compose to create app widgets (and Wear OS tiles).</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18895937,"reputation":54,"user_id":13785124,"display_name":"Djoxy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676890521,"creation_date":1676890521,"answer_id":75508343,"question_id":75503599,"body_markdown":"Use directly :\r\nview.setViewLayoutHeightDimen(your layoutId, int heightDimen)\r\n","title":"Programmatically set a percentage height to LinearLayout in a Widget&#39;s RemoteViews","body":"<p>Use directly :\nview.setViewLayoutHeightDimen(your layoutId, int heightDimen)</p>\n"}],"owner":{"account_id":8443343,"reputation":1247,"user_id":6334991,"accept_rate":92,"display_name":"Kevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75503754,"answer_count":2,"score":1,"last_activity_date":1676890521,"creation_date":1676842222,"question_id":75503599,"body_markdown":"I want to create a widget with graphs which represent a percentage increase in stock value for certain assets. I was able to create an overview of graphs with each graph having a percentage height by putting two `LinearLayout`s in a container `LinearLayout`. The bottom `LinearLayout` is the graph and the top `LinearLayout` is the spacer which gets a certain `layout_weight`. This way I can reduce the size of the other container using percentages. (if the spacer has a `layout_weight` of `0.4`, then the graph is 60% high).\r\n\r\nThe current state of the widget is (I wanted to handle negative values in red afterwards, but no need to continue if I can&#39;t figure out how to percentually size the graphs) :\r\n\r\n[![An example of the current state of the widget.][1]][1]\r\n\r\nI chose this approach because I can&#39;t use `ConstraintLayout` in `RemoteViews`. Everything seemed to work nicely, but when I wanted to programmatically change the size of the spacer based on data from the api (so the sizes of the graphs truly match the percentage increase of the stock value), I wasn&#39;t able to. There is, as far as I could see, no way to change the `layout_weight` of a `LinearLayout` in a `RemoteView` in java.\r\n\r\nI then thought maybe my last hope would be to find the container - which contains all the graphs - its height by using `findViewById`, but that&#39;s also not possible with `RemoteViews`. I then would&#39;ve seen the container&#39;s height as `100%` and then set the height of the other `LinearLayout`s according to that size. 60% would be 0.6 times the height I fetched from the container. But that, I&#39;m afraid, is also not possible.\r\n\r\nSo I actually have no clue how to programmatically find out how high a `LinearLayout` is or how I can change the size of a `LinearLayout` percentually. It seems like I always already need to know the sizes of the containers which will be used in the widget? Which is kind of annoying as the content varies and it needs to be rendered differently based on the ratio of each gain of each asset.\r\n\r\nAm I missing a certain way to approach this? I can&#39;t seem to find much more on the Android Developers documentation... Cheers!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P75r4.png","title":"Programmatically set a percentage height to LinearLayout in a Widget&#39;s RemoteViews","body":"<p>I want to create a widget with graphs which represent a percentage increase in stock value for certain assets. I was able to create an overview of graphs with each graph having a percentage height by putting two <code>LinearLayout</code>s in a container <code>LinearLayout</code>. The bottom <code>LinearLayout</code> is the graph and the top <code>LinearLayout</code> is the spacer which gets a certain <code>layout_weight</code>. This way I can reduce the size of the other container using percentages. (if the spacer has a <code>layout_weight</code> of <code>0.4</code>, then the graph is 60% high).</p>\n<p>The current state of the widget is (I wanted to handle negative values in red afterwards, but no need to continue if I can't figure out how to percentually size the graphs) :</p>\n<p><a href=\"https://i.stack.imgur.com/P75r4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P75r4.png\" alt=\"An example of the current state of the widget.\" /></a></p>\n<p>I chose this approach because I can't use <code>ConstraintLayout</code> in <code>RemoteViews</code>. Everything seemed to work nicely, but when I wanted to programmatically change the size of the spacer based on data from the api (so the sizes of the graphs truly match the percentage increase of the stock value), I wasn't able to. There is, as far as I could see, no way to change the <code>layout_weight</code> of a <code>LinearLayout</code> in a <code>RemoteView</code> in java.</p>\n<p>I then thought maybe my last hope would be to find the container - which contains all the graphs - its height by using <code>findViewById</code>, but that's also not possible with <code>RemoteViews</code>. I then would've seen the container's height as <code>100%</code> and then set the height of the other <code>LinearLayout</code>s according to that size. 60% would be 0.6 times the height I fetched from the container. But that, I'm afraid, is also not possible.</p>\n<p>So I actually have no clue how to programmatically find out how high a <code>LinearLayout</code> is or how I can change the size of a <code>LinearLayout</code> percentually. It seems like I always already need to know the sizes of the containers which will be used in the widget? Which is kind of annoying as the content varies and it needs to be rendered differently based on the ratio of each gain of each asset.</p>\n<p>Am I missing a certain way to approach this? I can't seem to find much more on the Android Developers documentation... Cheers!</p>\n"},{"tags":["java","android","sqlite","android-room"],"answers":[{"comments":[{"owner":{"account_id":3685172,"reputation":539,"user_id":3069074,"display_name":"Ravi Rajput"},"score":0,"creation_date":1523698720,"post_id":49830000,"comment_id":86675205,"body_markdown":"I am looking for a solution where I dont have to do any extra check, thanks anyway :)","body":"I am looking for a solution where I dont have to do any extra check, thanks anyway :)"}],"tags":[],"owner":{"account_id":4844922,"reputation":1188,"user_id":3908814,"display_name":"Bejond"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523698424,"creation_date":1523698424,"answer_id":49830000,"question_id":49829672,"body_markdown":"Each time you save a model, you need to search database for if it exists. The search condition(s) should be remarkable, which can locate unique message. Here you can use messageId as search condition. If it exists, update it. If not, create new message and insert it.","title":"How to avoid duplicate data entry in a table in Room Db?","body":"<p>Each time you save a model, you need to search database for if it exists. The search condition(s) should be remarkable, which can locate unique message. Here you can use messageId as search condition. If it exists, update it. If not, create new message and insert it.</p>\n"},{"comments":[{"owner":{"account_id":12446767,"reputation":956,"user_id":9062752,"display_name":"oyeraghib"},"score":0,"creation_date":1668252220,"post_id":49830013,"comment_id":131363273,"body_markdown":"weird but after changing the initial value for my primary key from `null` to `1` it works. No more same values in the field.","body":"weird but after changing the initial value for my primary key from <code>null</code> to <code>1</code> it works. No more same values in the field."},{"owner":{"account_id":9751997,"reputation":1069,"user_id":7229971,"accept_rate":25,"display_name":"KuLdip PaTel"},"score":0,"creation_date":1668261559,"post_id":49830013,"comment_id":131364989,"body_markdown":"@oyeraghib check here why you need to use 0 instead of 1 as primary key. https://stackoverflow.com/q/44109700/7229971","body":"@oyeraghib check here why you need to use 0 instead of 1 as primary key. <a href=\"https://stackoverflow.com/q/44109700/7229971\">stackoverflow.com/q/44109700/7229971</a>"}],"tags":[],"owner":{"account_id":9751997,"reputation":1069,"user_id":7229971,"accept_rate":25,"display_name":"KuLdip PaTel"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1569296449,"creation_date":1523698491,"answer_id":49830013,"question_id":49829672,"body_markdown":"you have to change your Entity class like this\r\n\r\n**In Java**\r\n    \r\n    @Entity(tableName = &quot;chat_message_table&quot;, indices = @Index(value = {&quot;messageId&quot;}, unique = true))\r\n    public class Message {\r\n    ...\r\n    }\r\n\r\n**In Kotlin**\r\n\r\n   \r\n\r\n    @Entity(tableName = &quot;chat_message_table&quot;, indices = [Index(value = [&quot;messageId&quot;], unique = true)])\r\n    data class Message(@ColumnInfo(name = &quot;messageId&quot;) val messageId: String) {\r\n     @PrimaryKey(autoGenerate = true)\r\n     var _Id: Int = 0\r\n     ...\r\n     }\r\n\r\n","title":"How to avoid duplicate data entry in a table in Room Db?","body":"<p>you have to change your Entity class like this</p>\n\n<p><strong>In Java</strong></p>\n\n<pre><code>@Entity(tableName = \"chat_message_table\", indices = @Index(value = {\"messageId\"}, unique = true))\npublic class Message {\n...\n}\n</code></pre>\n\n<p><strong>In Kotlin</strong></p>\n\n<pre><code>@Entity(tableName = \"chat_message_table\", indices = [Index(value = [\"messageId\"], unique = true)])\ndata class Message(@ColumnInfo(name = \"messageId\") val messageId: String) {\n @PrimaryKey(autoGenerate = true)\n var _Id: Int = 0\n ...\n }\n</code></pre>\n"}],"owner":{"account_id":3685172,"reputation":539,"user_id":3069074,"display_name":"Ravi Rajput"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6787,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":49830013,"answer_count":2,"score":8,"last_activity_date":1676890513,"creation_date":1523696224,"question_id":49829672,"body_markdown":"I am using RoomDb to store the messages in the device using room database. Each Message contain a unique Id which is generated when storing message on a server. \r\nWhen a message is downloaded and stored in a Room database and again if I try to download the message it again gets downloaded and saved to room db.\r\n\r\nI tried using replace strategy, but still it doesnt works \r\n\r\n     @Insert(onConflict = OnConflictStrategy.REPLACE)\r\n        void saveMessage(ArrayList&lt;Message&gt; messages);\r\n\r\nThe above code is supposed to replace the existing message, but its not doing so.\r\n\r\nMessage model looks like this.\r\n\r\n    public class Message {\r\n    \r\n        @Exclude\r\n        @PrimaryKey(autoGenerate = true)\r\n        public long _id;\r\n    \r\n        @Exclude\r\n        @ColumnInfo(name = &quot;messageId&quot;)\r\n        public String id;\r\n    \r\n        @Exclude\r\n        public boolean outbox;\r\n        @Exclude\r\n        public boolean pending;\r\n    \r\n        @Exclude\r\n        public boolean draft;\r\n    \r\n        @Exclude\r\n        @ColumnInfo(typeAffinity = ColumnInfo.BLOB)\r\n        public byte[] thumbnail;\r\n        @Exclude\r\n        public boolean downloaded;\r\n        @Exclude\r\n        public boolean seen;\r\n        @Exclude\r\n        public boolean liked;\r\n        @Exclude\r\n        public boolean disliked;\r\n        @Exclude\r\n        public String path;     // Local attachment path\r\n    \r\n        @Exclude\r\n        public String localFilePath; //Local attachment file path\r\n    \r\n        public String title;\r\n        public String body;\r\n        public String type;\r\n        public String image;\r\n        public String file;\r\n        public String audio;\r\n        public String video;\r\n    \r\n      \r\n    }","title":"How to avoid duplicate data entry in a table in Room Db?","body":"<p>I am using RoomDb to store the messages in the device using room database. Each Message contain a unique Id which is generated when storing message on a server. \nWhen a message is downloaded and stored in a Room database and again if I try to download the message it again gets downloaded and saved to room db.</p>\n\n<p>I tried using replace strategy, but still it doesnt works </p>\n\n<pre><code> @Insert(onConflict = OnConflictStrategy.REPLACE)\n    void saveMessage(ArrayList&lt;Message&gt; messages);\n</code></pre>\n\n<p>The above code is supposed to replace the existing message, but its not doing so.</p>\n\n<p>Message model looks like this.</p>\n\n<pre><code>public class Message {\n\n    @Exclude\n    @PrimaryKey(autoGenerate = true)\n    public long _id;\n\n    @Exclude\n    @ColumnInfo(name = \"messageId\")\n    public String id;\n\n    @Exclude\n    public boolean outbox;\n    @Exclude\n    public boolean pending;\n\n    @Exclude\n    public boolean draft;\n\n    @Exclude\n    @ColumnInfo(typeAffinity = ColumnInfo.BLOB)\n    public byte[] thumbnail;\n    @Exclude\n    public boolean downloaded;\n    @Exclude\n    public boolean seen;\n    @Exclude\n    public boolean liked;\n    @Exclude\n    public boolean disliked;\n    @Exclude\n    public String path;     // Local attachment path\n\n    @Exclude\n    public String localFilePath; //Local attachment file path\n\n    public String title;\n    public String body;\n    public String type;\n    public String image;\n    public String file;\n    public String audio;\n    public String video;\n\n\n}\n</code></pre>\n"},{"tags":["java","sql","sequence","derby"],"answers":[{"tags":[],"owner":{"display_name":"user330315"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1303297111,"creation_date":1303297111,"answer_id":5729176,"question_id":5729063,"body_markdown":"Use NEXT VALUE FOR as documented in the manual:\r\n\r\nhttp://db.apache.org/derby/docs/10.7/ref/rrefsqljnextvaluefor.html#rrefsqljnextvaluefor","title":"How to use SEQUENCE in Apache Derby?","body":"<p>Use NEXT VALUE FOR as documented in the manual:</p>\n\n<p><a href=\"http://db.apache.org/derby/docs/10.7/ref/rrefsqljnextvaluefor.html#rrefsqljnextvaluefor\" rel=\"nofollow\">http://db.apache.org/derby/docs/10.7/ref/rrefsqljnextvaluefor.html#rrefsqljnextvaluefor</a></p>\n"},{"comments":[{"owner":{"account_id":28814,"reputation":5771,"user_id":77278,"accept_rate":79,"display_name":"Tomasz Błachowicz"},"score":11,"creation_date":1303298814,"post_id":5729182,"comment_id":6552783,"body_markdown":"Derby complains about the query you&#39;ve suggested. It doesn&#39;t like premature ending of the query (EOF). What works for me is `VALUES NEXT VALUE FOR SAMPLE_SEQ`","body":"Derby complains about the query you&#39;ve suggested. It doesn&#39;t like premature ending of the query (EOF). What works for me is <code>VALUES NEXT VALUE FOR SAMPLE_SEQ</code>"},{"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"score":0,"creation_date":1303304223,"post_id":5729182,"comment_id":6554331,"body_markdown":"@pregzt - that was my concern - I didn&#39;t find a working example for a query to get a single value from a sequence - the fragment was used *inside* a more complex query...","body":"@pregzt - that was my concern - I didn&#39;t find a working example for a query to get a single value from a sequence - the fragment was used <i>inside</i> a more complex query..."},{"owner":{"account_id":1536969,"reputation":1409,"user_id":1432734,"display_name":"Adam Gawne-Cain"},"score":0,"creation_date":1676888815,"post_id":5729182,"comment_id":133221619,"body_markdown":"Why was this upvoted when it doesn&#39;t work? Please could someone edit the SQL to make it work?","body":"Why was this upvoted when it doesn&#39;t work? Please could someone edit the SQL to make it work?"},{"owner":{"account_id":1536969,"reputation":1409,"user_id":1432734,"display_name":"Adam Gawne-Cain"},"score":0,"creation_date":1676890057,"post_id":5729182,"comment_id":133222002,"body_markdown":"Here is SQL that actually works: &quot;select next value for SAMPLE_SEQ from (values 1) t&quot;.","body":"Here is SQL that actually works: &quot;select next value for SAMPLE_SEQ from (values 1) t&quot;."}],"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1303297140,"creation_date":1303297140,"answer_id":5729182,"question_id":5729063,"body_markdown":"Apache Derby Doc says: [Use a NEXT VALUE FOR expression][1]\r\n\r\nShould be something like\r\n\r\n    SELECT NEXT VALUE FOR SAMPLE_SEQ;\r\n\r\n\r\n  [1]: http://db.apache.org/derby/docs/10.6/ref/rrefsqljnextvaluefor.html#rrefsqljnextvaluefor","title":"How to use SEQUENCE in Apache Derby?","body":"<p>Apache Derby Doc says: <a href=\"http://db.apache.org/derby/docs/10.6/ref/rrefsqljnextvaluefor.html#rrefsqljnextvaluefor\" rel=\"noreferrer\">Use a NEXT VALUE FOR expression</a></p>\n\n<p>Should be something like</p>\n\n<pre><code>SELECT NEXT VALUE FOR SAMPLE_SEQ;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2578349,"reputation":6772,"user_id":2235567,"accept_rate":90,"display_name":"Aseem Bansal"},"score":0,"creation_date":1405156161,"post_id":6026018,"comment_id":38325390,"body_markdown":"That is not the current value.","body":"That is not the current value."},{"owner":{"account_id":456091,"reputation":1024,"user_id":854680,"display_name":"MikeOnline"},"score":0,"creation_date":1692046506,"post_id":6026018,"comment_id":135570171,"body_markdown":"Querying `SYSSEQUENCES` can cause concurrency issues.  Derby provides the built-in system function `SYSCS_UTIL.SYSCS_PEEK_AT_SEQUENCE` to read the next number from the sequence generator; see the [Derby Ref Guide](https://db.apache.org/derby/docs/10.14/ref/rrefsyscspeeksequence.html) and [Derby Tuning Guide](https://db.apache.org/derby/docs/10.14/tuning/ctunperfsequences.html) for details.","body":"Querying <code>SYSSEQUENCES</code> can cause concurrency issues.  Derby provides the built-in system function <code>SYSCS_UTIL.SYSCS_PEEK_AT_SEQUENCE</code> to read the next number from the sequence generator; see the <a href=\"https://db.apache.org/derby/docs/10.14/ref/rrefsyscspeeksequence.html\" rel=\"nofollow noreferrer\">Derby Ref Guide</a> and <a href=\"https://db.apache.org/derby/docs/10.14/tuning/ctunperfsequences.html\" rel=\"nofollow noreferrer\">Derby Tuning Guide</a> for details."}],"tags":[],"owner":{"account_id":302911,"reputation":19,"user_id":611544,"display_name":"user611544"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1305603911,"creation_date":1305603911,"answer_id":6026018,"question_id":5729063,"body_markdown":"To get the current value of the sequence the following SQL should be executed:\r\n\r\n    SELECT CURRENTVALUE FROM SYS.SYSSEQUENCES WHERE SEQUENCENAME=&#39;SAMPLE_SEQ&#39;\r\n","title":"How to use SEQUENCE in Apache Derby?","body":"<p>To get the current value of the sequence the following SQL should be executed:</p>\n\n<pre><code>SELECT CURRENTVALUE FROM SYS.SYSSEQUENCES WHERE SEQUENCENAME='SAMPLE_SEQ'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":262886,"reputation":1526,"user_id":548073,"accept_rate":69,"display_name":"sola"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1373537667,"creation_date":1373537667,"answer_id":17590752,"question_id":5729063,"body_markdown":"In the SQL command prompt, you can query the next value with this statement:\r\n\r\n    values NEXT VALUE FOR &lt;sequence_name&gt;\r\n\r\nThis will work as an expression embedded into an INSERT statement. E.g.:\r\n\r\n    INSERT INTO &lt;table_name&gt; (IDFIELD) VALUES (NEXT VALUE FOR &lt;sequence_name&gt;)\r\n\r\n\r\n","title":"How to use SEQUENCE in Apache Derby?","body":"<p>In the SQL command prompt, you can query the next value with this statement:</p>\n\n<pre><code>values NEXT VALUE FOR &lt;sequence_name&gt;\n</code></pre>\n\n<p>This will work as an expression embedded into an INSERT statement. E.g.:</p>\n\n<pre><code>INSERT INTO &lt;table_name&gt; (IDFIELD) VALUES (NEXT VALUE FOR &lt;sequence_name&gt;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4669744,"reputation":1072,"user_id":3781816,"display_name":"ankurrc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518124457,"creation_date":1446124927,"answer_id":33415438,"question_id":5729063,"body_markdown":"In case you want to fetch the &#39;current value&#39; from the &#39;sequence&#39;:\r\n\r\n - **values ( next value for &lt;*sequence*&gt; )** \r\n\r\nSame in Java using JDBC:\r\n\r\n    ResultSet rs = conn.prepareStatement(&quot;values (next value for &lt;sequence&gt;)&quot;).executeQuery();\r\n    rs.next();\r\n    int seqValue = rs.getInt(1);\r\n\r\nSource:\r\n[Derby-user-mailing list archive][1]\r\n\r\n\r\n  [1]: http://mail-archives.apache.org/mod_mbox/db-derby-user/201201.mbox/%3CCA+fW5=cLnOOOtxt0-cQp2pdHBo=3Z8dhfXd3L16=EikgVPRfsg@mail.gmail.com%3E","title":"How to use SEQUENCE in Apache Derby?","body":"<p>In case you want to fetch the 'current value' from the 'sequence':</p>\n\n<ul>\n<li><strong>values ( next value for &lt;<em>sequence</em>> )</strong> </li>\n</ul>\n\n<p>Same in Java using JDBC:</p>\n\n<pre><code>ResultSet rs = conn.prepareStatement(\"values (next value for &lt;sequence&gt;)\").executeQuery();\nrs.next();\nint seqValue = rs.getInt(1);\n</code></pre>\n\n<p>Source:\n<a href=\"http://mail-archives.apache.org/mod_mbox/db-derby-user/201201.mbox/%3CCA+fW5=cLnOOOtxt0-cQp2pdHBo=3Z8dhfXd3L16=EikgVPRfsg@mail.gmail.com%3E\" rel=\"nofollow noreferrer\">Derby-user-mailing list archive</a></p>\n"},{"tags":[],"owner":{"account_id":1536969,"reputation":1409,"user_id":1432734,"display_name":"Adam Gawne-Cain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676890427,"creation_date":1676890427,"answer_id":75508318,"question_id":5729063,"body_markdown":"The following SQL returns the next value of a SEQUENCE in Derby:\r\n\r\n    select next value for SAMPLE_SEQ from (values 1) t\r\n\r\nThe part &quot;(values 1) t&quot; makes a table with 1 row and 1 column, which then gets substituted with the next value from the sequence.   In Oracle you can use the standard DUAL table, and in other databases you can execute SELECT without a table.","title":"How to use SEQUENCE in Apache Derby?","body":"<p>The following SQL returns the next value of a SEQUENCE in Derby:</p>\n<pre><code>select next value for SAMPLE_SEQ from (values 1) t\n</code></pre>\n<p>The part &quot;(values 1) t&quot; makes a table with 1 row and 1 column, which then gets substituted with the next value from the sequence.   In Oracle you can use the standard DUAL table, and in other databases you can execute SELECT without a table.</p>\n"}],"owner":{"account_id":28814,"reputation":5771,"user_id":77278,"accept_rate":79,"display_name":"Tomasz Błachowicz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18709,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":5729182,"answer_count":6,"score":9,"last_activity_date":1676890427,"creation_date":1303296524,"question_id":5729063,"body_markdown":"I&#39;d like to use SEQUENCE support in Apache Derby 10.7. I&#39;ve created the sequence with the following statement:\r\n    \r\n    CREATE SEQUENCE SAMPLE_SEQ AS INT MAXVALUE 999999 CYCLE;\r\n\r\nHow can I select next/current value from the `SAMPLE_SEQ`? Could you please help me out with the query?","title":"How to use SEQUENCE in Apache Derby?","body":"<p>I'd like to use SEQUENCE support in Apache Derby 10.7. I've created the sequence with the following statement:</p>\n\n<pre><code>CREATE SEQUENCE SAMPLE_SEQ AS INT MAXVALUE 999999 CYCLE;\n</code></pre>\n\n<p>How can I select next/current value from the <code>SAMPLE_SEQ</code>? Could you please help me out with the query?</p>\n"},{"tags":["java","android","firebase","firebase-authentication","firebase-cloud-messaging"],"answers":[{"comments":[{"owner":{"account_id":14399843,"reputation":112,"user_id":11495009,"display_name":"Agent smith 2.0"},"score":0,"creation_date":1594229057,"post_id":62799754,"comment_id":111055835,"body_markdown":"Do you know of any example code that my help clear things up?","body":"Do you know of any example code that my help clear things up?"},{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1594239871,"post_id":62799754,"comment_id":111060804,"body_markdown":"No.  It shouldn&#39;t be too hard to store a list of device tokens for a UID.","body":"No.  It shouldn&#39;t be too hard to store a list of device tokens for a UID."}],"tags":[],"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1594227225,"creation_date":1594227225,"answer_id":62799754,"question_id":62799685,"body_markdown":"Firebase Cloud Messaging tokens are unique to the **device**, not the **user**.  It doesn&#39;t know anything about Firebase Auth users, and Firebase Auth doesn&#39;t know anything about FCM device tokens.\r\n\r\nYou will need to store a mapping of users to their device tokens.  Since a user could be using multiple devices, your data structure should allow for multiple tokens for each user.  Then, your backend code should query for those tokens and send the message to each one of them (if that&#39;s what your users want).\r\n","title":"How to get Firebase token of current user","body":"<p>Firebase Cloud Messaging tokens are unique to the <strong>device</strong>, not the <strong>user</strong>.  It doesn't know anything about Firebase Auth users, and Firebase Auth doesn't know anything about FCM device tokens.</p>\n<p>You will need to store a mapping of users to their device tokens.  Since a user could be using multiple devices, your data structure should allow for multiple tokens for each user.  Then, your backend code should query for those tokens and send the message to each one of them (if that's what your users want).</p>\n"},{"comments":[{"owner":{"account_id":9313381,"reputation":860,"user_id":6914403,"display_name":"Jithin Jude"},"score":0,"creation_date":1676887469,"post_id":71521971,"comment_id":133221255,"body_markdown":"Query was about Firebase token. Not on user_id.","body":"Query was about Firebase token. Not on user_id."}],"tags":[],"owner":{"account_id":15789451,"reputation":317,"user_id":11393117,"display_name":"Malindu Sasanga"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1647571876,"creation_date":1647571876,"answer_id":71521971,"question_id":62799685,"body_markdown":"You can get the current user id using this code.\r\n\r\n`FirebaseAuth.getInstance().getCurrentUser().getUid();`","title":"How to get Firebase token of current user","body":"<p>You can get the current user id using this code.</p>\n<p><code>FirebaseAuth.getInstance().getCurrentUser().getUid();</code></p>\n"},{"tags":[],"owner":{"account_id":9313381,"reputation":860,"user_id":6914403,"display_name":"Jithin Jude"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676890159,"creation_date":1676890159,"answer_id":75508277,"question_id":62799685,"body_markdown":"New token can be get from onNewToken of FirebaseMessagingService class.    \r\n\r\n    @Override\r\n            public void onNewToken(String token) {\r\n                super.onNewToken(token);\r\n            }","title":"How to get Firebase token of current user","body":"<p>New token can be get from onNewToken of FirebaseMessagingService class.</p>\n<pre><code>@Override\n        public void onNewToken(String token) {\n            super.onNewToken(token);\n        }\n</code></pre>\n"}],"owner":{"account_id":14399843,"reputation":112,"user_id":11495009,"display_name":"Agent smith 2.0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2873,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":62799754,"answer_count":3,"score":5,"last_activity_date":1676890159,"creation_date":1594227021,"question_id":62799685,"body_markdown":"I&#39;m buildning an app where a logged in user can invite another user through pressing a button, so then the invited user will get a push notification. My idea is that if I can save the token for each user in the database, then when a user presses the &quot;invite button&quot; it will find that users token in the database and after that I will somehow use it to send a notification to that user. I don&#39;t know if there is a better way of doing it, but I didn&#39;t find anything else on it so that is my current plan.\r\n\r\nNow I have run into some issues regarding how to save the token to the database. I want to do save it to the database whenever a user creates an account or the token changes. \r\n\r\n````\r\npublic class RegisterActivity extends AppCompatActivity {\r\n\r\n    private FirebaseAuth mAuth;\r\n\r\n    String username;\r\n    String password;\r\n    String age;\r\n    String email;\r\n    \r\n    DatabaseReference mRootRef = FirebaseDatabase.getInstance().getReference();\r\n    DatabaseReference mRootPlayerBaseRef = mRootRef.child(&quot;Players&quot;);\r\n\r\n    private static final String TAG = &quot;EmailPassword&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_register);\r\n\r\n        // [START initialize_auth]\r\n        // Initialize Firebase Authentication\r\n        mAuth = FirebaseAuth.getInstance();\r\n        // [END initialize_auth]\r\n    }\r\n\r\n\r\n    private void updateUI() {\r\n        Intent mainIntent = new Intent(RegisterActivity.this, LoginActivity.class);\r\n        mainIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        mainIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        startActivity(mainIntent);\r\n        overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n    }\r\n\r\n    public void checkValues(View view) {\r\n        final EditText userEdit = (EditText) findViewById(R.id.username_field);\r\n        username = userEdit.getText().toString();\r\n        final EditText emailEdit = (EditText) findViewById(R.id.email_field);\r\n        email = emailEdit.getText().toString();\r\n        final EditText passwordEdit = (EditText) findViewById(R.id.password_field);\r\n        password = passwordEdit.getText().toString();\r\n        final EditText ageEdit = (EditText) findViewById(R.id.age_field);\r\n        age = ageEdit.getText().toString();\r\n\r\n\r\n        if (username.equals(&quot;&quot;) || email.equals(&quot;&quot;) || password.equals(&quot;&quot;) || age.equals(&quot;&quot;)){\r\n            Toast.makeText(RegisterActivity.this, &quot;Please fill in all information&quot;, Toast.LENGTH_LONG).show();\r\n            return;}\r\n\r\n        if (username.length() &lt; 4){\r\n            Toast.makeText(RegisterActivity.this, &quot;Username has to be at least 4 characters&quot;, Toast.LENGTH_LONG).show();\r\n            return;\r\n        }\r\n\r\n        if (Integer.parseInt(age) &lt; 5 || Integer.parseInt(age) &gt; 120){\r\n            Toast.makeText(RegisterActivity.this, &quot;Enter a valid age&quot;, Toast.LENGTH_LONG).show();\r\n            return;\r\n        }\r\n\r\n        //last thing to check is if username already exists\r\n        checkUsedUsername(username);\r\n\r\n    }\r\n\r\n    public void login(View view) {\r\n        Intent mainIntent = new Intent(RegisterActivity.this, LoginActivity.class);\r\n        startActivity(mainIntent);\r\n        overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\r\n    }\r\n\r\n    public void checkUsedUsername(final String username){\r\n        mRootPlayerBaseRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                //check if username exist otherwise create account\r\n                for (DataSnapshot data: dataSnapshot.getChildren()) {\r\n                    if (username.equals(data.child(&quot;username&quot;).getValue())){\r\n                        Toast.makeText(RegisterActivity.this, &quot;Username already taken&quot;, Toast.LENGTH_LONG).show();\r\n                        return;}\r\n                }\r\n                createAccount();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                Toast.makeText(RegisterActivity.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n                Toast.makeText(RegisterActivity.this, databaseError.getMessage(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void createAccount(){\r\n        // [START create_user_with_email], built in function which checks if user can be created and insert it into auth database\r\n        mAuth.createUserWithEmailAndPassword(email, password)\r\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                        //if this was successful the user will now be in the database\r\n                        if (task.isSuccessful()) {\r\n                            //fetch the user\r\n                            FirebaseUser user = mAuth.getCurrentUser();\r\n\r\n                            //this set the created users getDisplayName() = username\r\n                            UserProfileChangeRequest profileUpdates = new UserProfileChangeRequest.Builder()\r\n                                    .setDisplayName(username).build();\r\n                            assert user != null;\r\n                            user.updateProfile(profileUpdates);\r\n\r\n                            //Here I would like to get the token so I can save it when a user is created\r\n\r\n                            //get unique user id\r\n                            String userID = user.getUid();\r\n                            //create the user that will be inserted into the database\r\n                            Player newPlayer = new Player(username, age, email);\r\n                            //adding child(userID) will make we don&#180;t replace previous user and actually insert new user, it becomes the key\r\n                            mRootPlayerBaseRef.child(userID).setValue(newPlayer);\r\n\r\n                            Toast.makeText(RegisterActivity.this, &quot;Account was created successfully&quot;, Toast.LENGTH_LONG).show();\r\n                            updateUI();\r\n                        } else {\r\n                            try\r\n                            {\r\n                                throw Objects.requireNonNull(task.getException());\r\n                            }\r\n                            // if user enters wrong email.\r\n                            catch (FirebaseAuthWeakPasswordException weakPassword)\r\n                            {\r\n                                Log.d(TAG, &quot;onComplete: weak_password&quot;);\r\n                                Toast.makeText(RegisterActivity.this, &quot;Password to weak&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                            // if user enters wrong password.\r\n                            catch (FirebaseAuthInvalidCredentialsException malformedEmail)\r\n                            {\r\n                                Log.d(TAG, &quot;onComplete: malformed_email&quot;);\r\n                                Toast.makeText(RegisterActivity.this, &quot;Wrong email&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                            catch (FirebaseAuthUserCollisionException existEmail)\r\n                            {\r\n                                Log.d(TAG, &quot;onComplete: exist_email&quot;);\r\n                                Toast.makeText(RegisterActivity.this, &quot;Email already exists&quot;, Toast.LENGTH_LONG).show();\r\n                            }\r\n                            catch (Exception e)\r\n                            {\r\n                                Toast.makeText(RegisterActivity.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n                                Toast.makeText(RegisterActivity.this, &quot;Please try again&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n\r\n                    }\r\n                });\r\n        // [END create_user_with_email]\r\n    }\r\n}\r\n````\r\n\r\n\r\n````\r\npublic class MessagingService extends FirebaseMessagingService {\r\n\r\n    @Override\r\n    public void onNewToken(String s) {\r\n        super.onNewToken(s);\r\n        Log.d(&quot;NEW_TOKEN&quot;,s); //here we get the token so we can communicate with the database\r\n    }\r\n\r\n    //does not work as &quot;Method does not override method from its superclass&quot;\r\n    @Override\r\n    public void onTokenRefresh() {\r\n        super.onTokenRefresh();\r\n\r\n    }\r\n}\r\n````\r\n\r\nWhat I want to do is to save the token in the user in the database together with the other variables such as username, age, etc. \r\n\r\nI was hoping there would be something like this to get the token, but it doesn&#39;t seem that way: \r\n   \r\n    FirebaseAuth.getInstance().getCurrentUser().getIdToken(true) //this does not work\r\n\r\nSo what I&#39;m really asking is how do I get the current token for the user?\r\n","title":"How to get Firebase token of current user","body":"<p>I'm buildning an app where a logged in user can invite another user through pressing a button, so then the invited user will get a push notification. My idea is that if I can save the token for each user in the database, then when a user presses the &quot;invite button&quot; it will find that users token in the database and after that I will somehow use it to send a notification to that user. I don't know if there is a better way of doing it, but I didn't find anything else on it so that is my current plan.</p>\n<p>Now I have run into some issues regarding how to save the token to the database. I want to do save it to the database whenever a user creates an account or the token changes.</p>\n<pre><code>public class RegisterActivity extends AppCompatActivity {\n\n    private FirebaseAuth mAuth;\n\n    String username;\n    String password;\n    String age;\n    String email;\n    \n    DatabaseReference mRootRef = FirebaseDatabase.getInstance().getReference();\n    DatabaseReference mRootPlayerBaseRef = mRootRef.child(&quot;Players&quot;);\n\n    private static final String TAG = &quot;EmailPassword&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_register);\n\n        // [START initialize_auth]\n        // Initialize Firebase Authentication\n        mAuth = FirebaseAuth.getInstance();\n        // [END initialize_auth]\n    }\n\n\n    private void updateUI() {\n        Intent mainIntent = new Intent(RegisterActivity.this, LoginActivity.class);\n        mainIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK);\n        mainIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        startActivity(mainIntent);\n        overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\n    }\n\n    public void checkValues(View view) {\n        final EditText userEdit = (EditText) findViewById(R.id.username_field);\n        username = userEdit.getText().toString();\n        final EditText emailEdit = (EditText) findViewById(R.id.email_field);\n        email = emailEdit.getText().toString();\n        final EditText passwordEdit = (EditText) findViewById(R.id.password_field);\n        password = passwordEdit.getText().toString();\n        final EditText ageEdit = (EditText) findViewById(R.id.age_field);\n        age = ageEdit.getText().toString();\n\n\n        if (username.equals(&quot;&quot;) || email.equals(&quot;&quot;) || password.equals(&quot;&quot;) || age.equals(&quot;&quot;)){\n            Toast.makeText(RegisterActivity.this, &quot;Please fill in all information&quot;, Toast.LENGTH_LONG).show();\n            return;}\n\n        if (username.length() &lt; 4){\n            Toast.makeText(RegisterActivity.this, &quot;Username has to be at least 4 characters&quot;, Toast.LENGTH_LONG).show();\n            return;\n        }\n\n        if (Integer.parseInt(age) &lt; 5 || Integer.parseInt(age) &gt; 120){\n            Toast.makeText(RegisterActivity.this, &quot;Enter a valid age&quot;, Toast.LENGTH_LONG).show();\n            return;\n        }\n\n        //last thing to check is if username already exists\n        checkUsedUsername(username);\n\n    }\n\n    public void login(View view) {\n        Intent mainIntent = new Intent(RegisterActivity.this, LoginActivity.class);\n        startActivity(mainIntent);\n        overridePendingTransition(android.R.anim.fade_in, android.R.anim.fade_out);\n    }\n\n    public void checkUsedUsername(final String username){\n        mRootPlayerBaseRef.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                //check if username exist otherwise create account\n                for (DataSnapshot data: dataSnapshot.getChildren()) {\n                    if (username.equals(data.child(&quot;username&quot;).getValue())){\n                        Toast.makeText(RegisterActivity.this, &quot;Username already taken&quot;, Toast.LENGTH_LONG).show();\n                        return;}\n                }\n                createAccount();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n                Toast.makeText(RegisterActivity.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n                Toast.makeText(RegisterActivity.this, databaseError.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    private void createAccount(){\n        // [START create_user_with_email], built in function which checks if user can be created and insert it into auth database\n        mAuth.createUserWithEmailAndPassword(email, password)\n                .addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        //if this was successful the user will now be in the database\n                        if (task.isSuccessful()) {\n                            //fetch the user\n                            FirebaseUser user = mAuth.getCurrentUser();\n\n                            //this set the created users getDisplayName() = username\n                            UserProfileChangeRequest profileUpdates = new UserProfileChangeRequest.Builder()\n                                    .setDisplayName(username).build();\n                            assert user != null;\n                            user.updateProfile(profileUpdates);\n\n                            //Here I would like to get the token so I can save it when a user is created\n\n                            //get unique user id\n                            String userID = user.getUid();\n                            //create the user that will be inserted into the database\n                            Player newPlayer = new Player(username, age, email);\n                            //adding child(userID) will make we don´t replace previous user and actually insert new user, it becomes the key\n                            mRootPlayerBaseRef.child(userID).setValue(newPlayer);\n\n                            Toast.makeText(RegisterActivity.this, &quot;Account was created successfully&quot;, Toast.LENGTH_LONG).show();\n                            updateUI();\n                        } else {\n                            try\n                            {\n                                throw Objects.requireNonNull(task.getException());\n                            }\n                            // if user enters wrong email.\n                            catch (FirebaseAuthWeakPasswordException weakPassword)\n                            {\n                                Log.d(TAG, &quot;onComplete: weak_password&quot;);\n                                Toast.makeText(RegisterActivity.this, &quot;Password to weak&quot;, Toast.LENGTH_LONG).show();\n                            }\n                            // if user enters wrong password.\n                            catch (FirebaseAuthInvalidCredentialsException malformedEmail)\n                            {\n                                Log.d(TAG, &quot;onComplete: malformed_email&quot;);\n                                Toast.makeText(RegisterActivity.this, &quot;Wrong email&quot;, Toast.LENGTH_LONG).show();\n                            }\n                            catch (FirebaseAuthUserCollisionException existEmail)\n                            {\n                                Log.d(TAG, &quot;onComplete: exist_email&quot;);\n                                Toast.makeText(RegisterActivity.this, &quot;Email already exists&quot;, Toast.LENGTH_LONG).show();\n                            }\n                            catch (Exception e)\n                            {\n                                Toast.makeText(RegisterActivity.this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n                                Toast.makeText(RegisterActivity.this, &quot;Please try again&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n\n                    }\n                });\n        // [END create_user_with_email]\n    }\n}\n</code></pre>\n<pre><code>public class MessagingService extends FirebaseMessagingService {\n\n    @Override\n    public void onNewToken(String s) {\n        super.onNewToken(s);\n        Log.d(&quot;NEW_TOKEN&quot;,s); //here we get the token so we can communicate with the database\n    }\n\n    //does not work as &quot;Method does not override method from its superclass&quot;\n    @Override\n    public void onTokenRefresh() {\n        super.onTokenRefresh();\n\n    }\n}\n</code></pre>\n<p>What I want to do is to save the token in the user in the database together with the other variables such as username, age, etc.</p>\n<p>I was hoping there would be something like this to get the token, but it doesn't seem that way:</p>\n<pre><code>FirebaseAuth.getInstance().getCurrentUser().getIdToken(true) //this does not work\n</code></pre>\n<p>So what I'm really asking is how do I get the current token for the user?</p>\n"},{"tags":["java","encryption","dart","aes","pkcs#7"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1568220229,"post_id":57892036,"comment_id":102208470,"body_markdown":"The IV that was used for the encryption is required for the decryption. The IV doesn&#39;t need to be kept secret and is usually prepended to the ciphertext. \nThe data are then Base64 encoded together. On the decryption side, after Base64 decoding, both parts are separated again. By the way: It is also common&#180;\nto generate the IV explicitly, e.g. [here](https://stackoverflow.com/a/29267873/9014097).","body":"The IV that was used for the encryption is required for the decryption. The IV doesn&#39;t need to be kept secret and is usually prepended to the ciphertext.  The data are then Base64 encoded together. On the decryption side, after Base64 decoding, both parts are separated again. By the way: It is also common&#180; to generate the IV explicitly, e.g. <a href=\"https://stackoverflow.com/a/29267873/9014097\">here</a>."},{"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"score":0,"creation_date":1568270233,"post_id":57892036,"comment_id":102222445,"body_markdown":"But the IV should be [pseudo]random generated right ? The Cipher is supposed to generate it so I trusted Java on this point. If I explicitly use `SecureRandom` as stated in the link you provided, still how would I get it on Dart side for decryption ?","body":"But the IV should be [pseudo]random generated right ? The Cipher is supposed to generate it so I trusted Java on this point. If I explicitly use <code>SecureRandom</code> as stated in the link you provided, still how would I get it on Dart side for decryption ?"},{"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"score":0,"creation_date":1568271893,"post_id":57892036,"comment_id":102223120,"body_markdown":"OK I just saw that I can pass it as 3rd parameter of the cipher initialization, so I added `new IvParameterSpec(&quot;ThisIVisAmazing!&quot;.getBytes(StandardCharsets.UTF_8))` to the `cipher.init` method, then on Dart side I now use `final iv = encrypt.IV.fromUtf8(&quot;ThisIVisAmazing!&quot;);` and finally get the right decrypted string :) Maybe just wondering if using hardcoded key and IV is a good practice ? BTW you can post your comment as an answer I would be happy to accept it.","body":"OK I just saw that I can pass it as 3rd parameter of the cipher initialization, so I added <code>new IvParameterSpec(&quot;ThisIVisAmazing!&quot;.getBytes(StandardCharsets&zwnj;&#8203;.UTF_8))</code> to the <code>cipher.init</code> method, then on Dart side I now use <code>final iv = encrypt.IV.fromUtf8(&quot;ThisIVisAmazing!&quot;);</code> and finally get the right decrypted string :) Maybe just wondering if using hardcoded key and IV is a good practice ? BTW you can post your comment as an answer I would be happy to accept it."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1568309686,"post_id":57892036,"comment_id":102243130,"body_markdown":"Be careful: It would be the wrong approach to hardcode the IV on both sides. The IV is generated on the encryption-side, passed to the decryption-side together with the ciphertext, and used there for decryption, i.e. the IV is not fixed, but rather dynamic, see my answer.","body":"Be careful: It would be the wrong approach to hardcode the IV on both sides. The IV is generated on the encryption-side, passed to the decryption-side together with the ciphertext, and used there for decryption, i.e. the IV is not fixed, but rather dynamic, see my answer."},{"owner":{"account_id":8441706,"reputation":872,"user_id":6333971,"display_name":"Bhavin Patel"},"score":0,"creation_date":1597387692,"post_id":57892036,"comment_id":112121318,"body_markdown":"can you please share final code of dart?","body":"can you please share final code of dart?"},{"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"score":0,"creation_date":1597391790,"post_id":57892036,"comment_id":112122964,"body_markdown":"Sure, I posted it as an answer as it is too long for a comment. Best.","body":"Sure, I posted it as an answer as it is too long for a comment. Best."}],"answers":[{"comments":[{"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"score":0,"creation_date":1568357735,"post_id":57911838,"comment_id":102255337,"body_markdown":"Much clearer now, thanks @Topaco. Got it to work by prepending the IV to the cipher text. I now have to generate the key and share it to the client, I found some nice doc on the net so I should not get any problem. Best!","body":"Much clearer now, thanks @Topaco. Got it to work by prepending the IV to the cipher text. I now have to generate the key and share it to the client, I found some nice doc on the net so I should not get any problem. Best!"}],"tags":[],"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1568309386,"creation_date":1568309386,"answer_id":57911838,"question_id":57892036,"body_markdown":"- Two things must be taken into account:\r\n \r\n 1) For decryption, the IV used for encryption is required. \r\n \r\n 2) For security reasons, a new IV must be randomly generated for each encryption so that no IV is used more than once with the same key, [here][1]. \r\n\r\n\r\n  \r\n Therfore, the IV must be passed from the encryption-side to the decryption-side. This doesn&#39;t happen automatically, but has to be implemented.\r\n\r\n- One possibility is to concatenate the byte-arrays of IV and ciphertext. Usually the IV is placed before the ciphertext and the result is Base64-encoded (if required), e.g. in Java: \r\n\r\n        // Concatenate IV and ciphertext\r\n        byte[] iv = ...\r\n        byte[] ciphertext = ...\r\n        byte[] ivAndCiphertext = new byte[iv.length + ciphertext.length];\r\n        System.arraycopy(iv, 0, ivAndCiphertext, 0, iv.length);\r\n        System.arraycopy(ciphertext, 0, ivAndCiphertext, iv.length, ciphertext.length);\r\n        // If required: Base64-encoding\r\n\r\n This data is transmitted to the decryption-side, which separates both parts after Base64-decoding. In the case of AES-CBC, the IV is 16 bytes long, so the first 16 bytes represent the IV and the rest the ciphertext. The IV doesn&#39;t need to be encrypted because it isn&#39;t secret. \r\n\r\n Specifically for your case this means that you have to concatenate IV and ciphertext on the Java-side and to Base64-encode the result. On the Dart-side you have to Base64-decode first and then both parts, IV and ciphertext, can be separated and used for the following decryption.\r\n\r\n- There are two ways to generate the IV before encryption: Implicit generation by the [`Cipher`][2]-instance as in your example or explicit generation e.g. via [SecureRandom][3]. Both alternatives are discussed [here][4]. If the IV is generated implicitly (via the `Cipher`-instance), then this IV must be determined via the `Cipher`-instance, since it is later required for decryption:\r\n\r\n        // Determine IV from cipher for later decryption\r\n\t    byte[] iv = cipher.getParameters().getParameterSpec(IvParameterSpec.class).getIV();\r\n \r\n If the IV is determined explicitly (e.g. using `SecureRandom`), it must be passed to the `Cipher`-instance so that it will be used in the running encryption. This is done using an [`IvParameterSpec`][5].\r\n\r\n\t    // Assign IV to cipher so that it is used for current encryption\r\n        byte[] iv = ...\r\n        IvParameterSpec ivParameterSpec = new IvParameterSpec(iv);\r\n        cipher.init(Cipher.ENCRYPT_MODE, secretkeySpec, ivParameterSpec);\r\n\r\n- A hard-coded key is in general not good practice (except for testing purposes perhaps). However, the topic of key generation/management is outside the scope of this answer. There are already a lot of questions and answers on this subject. If your question is not covered by these answers, please post a new question. A hard-coded IV doesn&#39;t occur within the above architecture and should only be used for testing purposes.  \r\n\r\n\r\n--------------\r\n\r\n[1]: https://stackoverflow.com/questions/9049789/aes-encryption-key-versus-iv\r\n[2]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/javax/crypto/Cipher.html\r\n[3]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/security/SecureRandom.html\r\n[4]: https://stackoverflow.com/a/29267873/9014097\r\n[5]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/javax/crypto/spec/IvParameterSpec.html\r\n","title":"Decrypt a Java AES encoded String in Dart","body":"<ul>\n<li><p>Two things must be taken into account:</p>\n\n<p>1) For decryption, the IV used for encryption is required. </p>\n\n<p>2) For security reasons, a new IV must be randomly generated for each encryption so that no IV is used more than once with the same key, <a href=\"https://stackoverflow.com/questions/9049789/aes-encryption-key-versus-iv\">here</a>. </p>\n\n<p>Therfore, the IV must be passed from the encryption-side to the decryption-side. This doesn't happen automatically, but has to be implemented.</p></li>\n<li><p>One possibility is to concatenate the byte-arrays of IV and ciphertext. Usually the IV is placed before the ciphertext and the result is Base64-encoded (if required), e.g. in Java: </p>\n\n<pre><code>// Concatenate IV and ciphertext\nbyte[] iv = ...\nbyte[] ciphertext = ...\nbyte[] ivAndCiphertext = new byte[iv.length + ciphertext.length];\nSystem.arraycopy(iv, 0, ivAndCiphertext, 0, iv.length);\nSystem.arraycopy(ciphertext, 0, ivAndCiphertext, iv.length, ciphertext.length);\n// If required: Base64-encoding\n</code></pre>\n\n<p>This data is transmitted to the decryption-side, which separates both parts after Base64-decoding. In the case of AES-CBC, the IV is 16 bytes long, so the first 16 bytes represent the IV and the rest the ciphertext. The IV doesn't need to be encrypted because it isn't secret. </p>\n\n<p>Specifically for your case this means that you have to concatenate IV and ciphertext on the Java-side and to Base64-encode the result. On the Dart-side you have to Base64-decode first and then both parts, IV and ciphertext, can be separated and used for the following decryption.</p></li>\n<li><p>There are two ways to generate the IV before encryption: Implicit generation by the <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/javax/crypto/Cipher.html\" rel=\"nofollow noreferrer\"><code>Cipher</code></a>-instance as in your example or explicit generation e.g. via <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/security/SecureRandom.html\" rel=\"nofollow noreferrer\">SecureRandom</a>. Both alternatives are discussed <a href=\"https://stackoverflow.com/a/29267873/9014097\">here</a>. If the IV is generated implicitly (via the <code>Cipher</code>-instance), then this IV must be determined via the <code>Cipher</code>-instance, since it is later required for decryption:</p>\n\n<pre><code>// Determine IV from cipher for later decryption\nbyte[] iv = cipher.getParameters().getParameterSpec(IvParameterSpec.class).getIV();\n</code></pre>\n\n<p>If the IV is determined explicitly (e.g. using <code>SecureRandom</code>), it must be passed to the <code>Cipher</code>-instance so that it will be used in the running encryption. This is done using an <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/javax/crypto/spec/IvParameterSpec.html\" rel=\"nofollow noreferrer\"><code>IvParameterSpec</code></a>.</p>\n\n<pre><code>// Assign IV to cipher so that it is used for current encryption\nbyte[] iv = ...\nIvParameterSpec ivParameterSpec = new IvParameterSpec(iv);\ncipher.init(Cipher.ENCRYPT_MODE, secretkeySpec, ivParameterSpec);\n</code></pre></li>\n<li><p>A hard-coded key is in general not good practice (except for testing purposes perhaps). However, the topic of key generation/management is outside the scope of this answer. There are already a lot of questions and answers on this subject. If your question is not covered by these answers, please post a new question. A hard-coded IV doesn't occur within the above architecture and should only be used for testing purposes.  </p></li>\n</ul>\n\n<hr>\n"},{"comments":[{"owner":{"account_id":8441706,"reputation":872,"user_id":6333971,"display_name":"Bhavin Patel"},"score":0,"creation_date":1597393062,"post_id":63408788,"comment_id":112123520,"body_markdown":"I&#39;m using `Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;)` in java . How to use in dart?","body":"I&#39;m using <code>Cipher cipher = Cipher.getInstance(&quot;AES&#47;CBC&#47;PKCS5Padding&quot;)</code> in java . How to use in dart?"},{"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"score":0,"creation_date":1597396114,"post_id":63408788,"comment_id":112124859,"body_markdown":"&quot;AES/CBC/PKCS5Padding&quot; is actually equivalent to PKCS7 in Java, this is just a naming legacy... PKCS5 padding cannot be used for AES encryption. So you should not get any problem to decrypt it in Dart using PKCS7. The Dart encrypt package does not support PKCS5 anyway.","body":"&quot;AES/CBC/PKCS5Padding&quot; is actually equivalent to PKCS7 in Java, this is just a naming legacy... PKCS5 padding cannot be used for AES encryption. So you should not get any problem to decrypt it in Dart using PKCS7. The Dart encrypt package does not support PKCS5 anyway."},{"owner":{"account_id":8441706,"reputation":872,"user_id":6333971,"display_name":"Bhavin Patel"},"score":0,"creation_date":1597397328,"post_id":63408788,"comment_id":112125426,"body_markdown":"yeah but it&#39;s throw **Invalid argument(s): Invalid or corrupted pad block**","body":"yeah but it&#39;s throw <b>Invalid argument(s): Invalid or corrupted pad block</b>"},{"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"score":0,"creation_date":1597402999,"post_id":63408788,"comment_id":112127843,"body_markdown":"You prepended the initialization vector to the encrypted text in Java right ? I cannot help more with Java encryption, and this is out of the purpose of this thread. If you still have problem I think you better go with creating your own question.","body":"You prepended the initialization vector to the encrypted text in Java right ? I cannot help more with Java encryption, and this is out of the purpose of this thread. If you still have problem I think you better go with creating your own question."},{"owner":{"account_id":367344,"reputation":503,"user_id":3464634,"display_name":"Yakub Pasha"},"score":0,"creation_date":1609817554,"post_id":63408788,"comment_id":115934760,"body_markdown":"@bdevloper were you able to get any solution?","body":"@bdevloper were you able to get any solution?"},{"owner":{"account_id":8441706,"reputation":872,"user_id":6333971,"display_name":"Bhavin Patel"},"score":0,"creation_date":1609820864,"post_id":63408788,"comment_id":115935368,"body_markdown":"@YakubPasha No I didn&#39;t . That was my side learning and I&#39;m not working on that anymore. maybe in future","body":"@YakubPasha No I didn&#39;t . That was my side learning and I&#39;m not working on that anymore. maybe in future"}],"tags":[],"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597391762,"creation_date":1597391762,"answer_id":63408788,"question_id":57892036,"body_markdown":"If it can help someone, here is the code I ended up with, in dart (it uses the `encrypt` package) :\r\n\r\n```dart\r\n/// Decode the specified QR code encrypted string\r\nstatic String decodeQrCode(String encryptedString) {\r\n  try {\r\n    // pad the encrypted base64 string with &#39;=&#39; characters until length matches a multiple of 4\r\n    final int toPad = encryptedString.length % 4;\r\n    if (toPad != 0) {\r\n      encryptedString = encryptedString.padRight(encryptedString.length + toPad, &quot;=&quot;);\r\n    }\r\n\r\n    // get first 16 bytes which is the initialization vector\r\n    final iv = encrypt.IV(Uint8List.fromList(base64Decode(encryptedString).getRange(0, 16).toList()));\r\n\r\n    // get cipher bytes (without initialization vector)\r\n    final encrypt.Encrypted encrypted = encrypt.Encrypted(Uint8List.fromList(\r\n        base64Decode(encryptedString).getRange(16, base64Decode(encryptedString).length).toList()));\r\n\r\n    // decrypt the string using the key and the initialization vector\r\n    final key = encrypt.Key.fromUtf8(YOUR_KEY);\r\n    final encrypter = encrypt.Encrypter(encrypt.AES(key, mode: encrypt.AESMode.cbc, padding: &quot;PKCS7&quot;));\r\n    return encrypter.decrypt(encrypted, iv: iv);\r\n  } catch (e) {\r\n    _log.severe(&quot;Error while decoding QR code : $e&quot;);\r\n    return null;\r\n  }\r\n}\r\n```","title":"Decrypt a Java AES encoded String in Dart","body":"<p>If it can help someone, here is the code I ended up with, in dart (it uses the <code>encrypt</code> package) :</p>\n<pre class=\"lang-dart prettyprint-override\"><code>/// Decode the specified QR code encrypted string\nstatic String decodeQrCode(String encryptedString) {\n  try {\n    // pad the encrypted base64 string with '=' characters until length matches a multiple of 4\n    final int toPad = encryptedString.length % 4;\n    if (toPad != 0) {\n      encryptedString = encryptedString.padRight(encryptedString.length + toPad, &quot;=&quot;);\n    }\n\n    // get first 16 bytes which is the initialization vector\n    final iv = encrypt.IV(Uint8List.fromList(base64Decode(encryptedString).getRange(0, 16).toList()));\n\n    // get cipher bytes (without initialization vector)\n    final encrypt.Encrypted encrypted = encrypt.Encrypted(Uint8List.fromList(\n        base64Decode(encryptedString).getRange(16, base64Decode(encryptedString).length).toList()));\n\n    // decrypt the string using the key and the initialization vector\n    final key = encrypt.Key.fromUtf8(YOUR_KEY);\n    final encrypter = encrypt.Encrypter(encrypt.AES(key, mode: encrypt.AESMode.cbc, padding: &quot;PKCS7&quot;));\n    return encrypter.decrypt(encrypted, iv: iv);\n  } catch (e) {\n    _log.severe(&quot;Error while decoding QR code : $e&quot;);\n    return null;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1330451,"reputation":14745,"user_id":1274485,"accept_rate":71,"display_name":"Yann39"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2007,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57911838,"answer_count":2,"score":1,"last_activity_date":1676890085,"creation_date":1568214360,"question_id":57892036,"body_markdown":"I need to decrypt an AES (PKCS#7) encoded string in my Flutter mobile application.\r\n\r\nThe string is got from a QR Code, which has been generated from a Java application and contains the AES encoded String.\r\n\r\nThe Java encoding :\r\n\r\n```java\r\nimport java.security.Security;\r\nimport java.nio.charset.StandardCharsets;\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport org.apache.commons.codec.binary.Base64;\r\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n\r\npublic class MyClass {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n         String toEncode = &quot;firstname.lastname@mycompany.com;12&quot;;\r\n         String encoded = pleaseEncodeMe(toEncode);\r\n         System.out.println(encoded);\r\n     }\r\n         \r\n     private static String pleaseEncodeMe(String plainText) throws Exception {\r\n         Security.addProvider(new BouncyCastleProvider());\r\n         final String encryptionAlgorithm = &quot;AES/CBC/PKCS7PADDING&quot;;\r\n         final String encryptionKey = &quot;WHatAnAWEsoMeKey&quot;;\r\n         final SecretKeySpec keySpecification = new SecretKeySpec(encryptionKey.getBytes(StandardCharsets.UTF_8), encryptionAlgorithm);\r\n         final Cipher cipher = Cipher.getInstance(encryptionAlgorithm, &quot;BC&quot;);\r\n         cipher.init(Cipher.ENCRYPT_MODE, keySpecification);\r\n         final byte[] encryptedBytes = cipher.doFinal(plainText.getBytes());\r\n         return Base64.encodeBase64URLSafeString(encryptedBytes);\r\n    }\r\n        \r\n}\r\n```\r\n\r\nOutput : `AIRTEuNmSuQtYuysv93w3w83kJJ6sg7kaU7XzA8xrAjOp-lKYPp1brtDAPbhSJmT`\r\n\r\nThe Dart decoding :\r\n\r\n```dart\r\nvoid main() {\r\n    print(decodeMeOrDie(&quot;AIRTEuNmSuQtYuysv93w3w83kJJ6sg7kaU7XzA8xrAjOp-lKYPp1brtDAPbhSJmT&quot;));\r\n}\r\n    \r\nString decodeMeOrDie(String encryptedString) {\r\n    final key = Key.fromUtf8(&quot;WHatAnAWEsoMeKey&quot;);\r\n    final iv = IV.fromLength(16);\r\n    final encrypter = Encrypter(AES(key, mode: AESMode.cbc, padding: &quot;PKCS7&quot;));\r\n    return encrypter.decrypt64(encryptedString, iv: iv);\r\n}\r\n``` \r\n\r\nOutput : `Y\u001B\u0018��=X�\u0014Rȑ\f�&quot;Qme@mycompany.com;12`\r\n\r\nYou can see that only a part of the string is decoded.\r\n\r\n","title":"Decrypt a Java AES encoded String in Dart","body":"<p>I need to decrypt an AES (PKCS#7) encoded string in my Flutter mobile application.</p>\n\n<p>The string is got from a QR Code, which has been generated from a Java application and contains the AES encoded String.</p>\n\n<p>The Java encoding :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.security.Security;\nimport java.nio.charset.StandardCharsets;\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.SecretKeySpec;\nimport org.apache.commons.codec.binary.Base64;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\n\npublic class MyClass {\n\n     public static void main(String[] args) throws Exception {\n         String toEncode = \"firstname.lastname@mycompany.com;12\";\n         String encoded = pleaseEncodeMe(toEncode);\n         System.out.println(encoded);\n     }\n\n     private static String pleaseEncodeMe(String plainText) throws Exception {\n         Security.addProvider(new BouncyCastleProvider());\n         final String encryptionAlgorithm = \"AES/CBC/PKCS7PADDING\";\n         final String encryptionKey = \"WHatAnAWEsoMeKey\";\n         final SecretKeySpec keySpecification = new SecretKeySpec(encryptionKey.getBytes(StandardCharsets.UTF_8), encryptionAlgorithm);\n         final Cipher cipher = Cipher.getInstance(encryptionAlgorithm, \"BC\");\n         cipher.init(Cipher.ENCRYPT_MODE, keySpecification);\n         final byte[] encryptedBytes = cipher.doFinal(plainText.getBytes());\n         return Base64.encodeBase64URLSafeString(encryptedBytes);\n    }\n\n}\n</code></pre>\n\n<p>Output : <code>AIRTEuNmSuQtYuysv93w3w83kJJ6sg7kaU7XzA8xrAjOp-lKYPp1brtDAPbhSJmT</code></p>\n\n<p>The Dart decoding :</p>\n\n<pre class=\"lang-dart prettyprint-override\"><code>void main() {\n    print(decodeMeOrDie(\"AIRTEuNmSuQtYuysv93w3w83kJJ6sg7kaU7XzA8xrAjOp-lKYPp1brtDAPbhSJmT\"));\n}\n\nString decodeMeOrDie(String encryptedString) {\n    final key = Key.fromUtf8(\"WHatAnAWEsoMeKey\");\n    final iv = IV.fromLength(16);\n    final encrypter = Encrypter(AES(key, mode: AESMode.cbc, padding: \"PKCS7\"));\n    return encrypter.decrypt64(encryptedString, iv: iv);\n}\n</code></pre>\n\n<p>Output : <code>Y��=X�Rȑ\f�\"Qme@mycompany.com;12</code></p>\n\n<p>You can see that only a part of the string is decoded.</p>\n"},{"tags":["java","spring","tomcat","intellij-idea","ant"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676889886,"creation_date":1676888172,"answer_id":75507945,"question_id":75507284,"body_markdown":"To achieve what you want you need to substitute the jar file with embedded tomcat (I guess this is `org.apache.tomcat.embed:tomcat-embed-core`). Please follow these steps:\r\n\r\n1) First of all you need to build the jar from sources that you&#39;ve modified locally by running e.g. `mvn clean install`. This would install the jar built locally into your local maven repository. Pay attention, that in order to distinguish your build from the rest you need to specify your custom version in pom.xml of Tomcat sources (e.g. you specify `9.0.0-my-custom-build`)\r\n2) As soon as your custom build is now in m2 it can be used by your main application. In `&lt;dependencyManagement&gt;` section of your pom.xml you need to specify this:\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n  &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n  &lt;version&gt;9.0.0-my-custom-build&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThis declaration forces maven to use tomcat of your custom version i. e. `9.0.0-my-custom-build`.\r\n\r\n3) Build your application and run it. At debug time you&#39;ll be able to see and debug your changes.\r\n\r\nP.S. No matter what is your building system, the clue is the same: jar built from modified sources must substitute the default one in classpath of your application.","title":"How to debug Tomcat source code with an application which uses embedded tomcat server?","body":"<p>To achieve what you want you need to substitute the jar file with embedded tomcat (I guess this is <code>org.apache.tomcat.embed:tomcat-embed-core</code>). Please follow these steps:</p>\n<ol>\n<li>First of all you need to build the jar from sources that you've modified locally by running e.g. <code>mvn clean install</code>. This would install the jar built locally into your local maven repository. Pay attention, that in order to distinguish your build from the rest you need to specify your custom version in pom.xml of Tomcat sources (e.g. you specify <code>9.0.0-my-custom-build</code>)</li>\n<li>As soon as your custom build is now in m2 it can be used by your main application. In <code>&lt;dependencyManagement&gt;</code> section of your pom.xml you need to specify this:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n  &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n  &lt;version&gt;9.0.0-my-custom-build&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This declaration forces maven to use tomcat of your custom version i. e. <code>9.0.0-my-custom-build</code>.</p>\n<ol start=\"3\">\n<li>Build your application and run it. At debug time you'll be able to see and debug your changes.</li>\n</ol>\n<p>P.S. No matter what is your building system, the clue is the same: jar built from modified sources must substitute the default one in classpath of your application.</p>\n"}],"owner":{"account_id":16882330,"reputation":327,"user_id":12208032,"display_name":"RoshiDil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676889886,"creation_date":1676884487,"question_id":75507284,"body_markdown":"I am working with a full-stack application(JSP and Java,Spring based). It is having an **embedded tomcat server**. Suppose I made some changes in the ***tomcat source code*** relevant to the embedded tomcat server(same tomcat version) which I use in my application.\r\n\r\nI need to **debug the tomcat source code** *when upping my application with the embedded tomcat server*.\r\n\r\nIs there any way to achieve this?\r\n\r\nNote: I use Apache ANT as the build tool.","title":"How to debug Tomcat source code with an application which uses embedded tomcat server?","body":"<p>I am working with a full-stack application(JSP and Java,Spring based). It is having an <strong>embedded tomcat server</strong>. Suppose I made some changes in the <em><strong>tomcat source code</strong></em> relevant to the embedded tomcat server(same tomcat version) which I use in my application.</p>\n<p>I need to <strong>debug the tomcat source code</strong> <em>when upping my application with the embedded tomcat server</em>.</p>\n<p>Is there any way to achieve this?</p>\n<p>Note: I use Apache ANT as the build tool.</p>\n"},{"tags":["java","sonarqube","spotbugs"],"owner":{"account_id":19900305,"reputation":23,"user_id":14580439,"display_name":"hilal saim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676889861,"creation_date":1676889861,"question_id":75508232,"body_markdown":"  \r\nIn the SpotBugs Bug Report, it shows a warning in the following line of java code. Is it possible to fix this without Defensive copying?\r\n\r\n\r\nError code is &quot;EI_EXPOSE_REP2&quot;:\r\n(KafkaTemplate) may expose internal representation by storing an externally mutable object into Common.template\r\n\r\n\r\nCode is below \r\n```\r\npublic Message(KafkaTemplate&lt;String, String&gt; template) {\r\n    this.template = template;\r\n  }\r\n```\r\n\r\n\r\n I tried to solve it like below. but this affects test codes. So is there any other solution for this warning?\r\n\r\n\r\n```\r\n public Message(final KafkaTemplate&lt;String, String&gt; template) {\r\n    this.template = new KafkaTemplate&lt;&gt;(template.getProducerFactory());\r\n  }\r\n```\r\n","title":"EI_EXPOSE_REP2 , (KafkaTemplate) may expose internal representation by storing an externally mutable object into Common.template","body":"<p>In the SpotBugs Bug Report, it shows a warning in the following line of java code. Is it possible to fix this without Defensive copying?</p>\n<p>Error code is &quot;EI_EXPOSE_REP2&quot;:\n(KafkaTemplate) may expose internal representation by storing an externally mutable object into Common.template</p>\n<p>Code is below</p>\n<pre><code>public Message(KafkaTemplate&lt;String, String&gt; template) {\n    this.template = template;\n  }\n</code></pre>\n<p>I tried to solve it like below. but this affects test codes. So is there any other solution for this warning?</p>\n<pre><code> public Message(final KafkaTemplate&lt;String, String&gt; template) {\n    this.template = new KafkaTemplate&lt;&gt;(template.getProducerFactory());\n  }\n</code></pre>\n"},{"tags":["java","aws-cdk"],"answers":[{"tags":[],"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676889487,"creation_date":1676889487,"answer_id":75508170,"question_id":75506708,"body_markdown":"After reading the error message one more time I noticed, that the `homeDirectoryMappings()` method accepts a `List` of `HomeDirectoryMapEntryProperty` instances. So there&#39;s actually no need for a `IResolvable`.\r\n\r\nSo the correct code lookes like this:\r\n\r\n        CfnUser user1 = CfnUser.Builder.create(this, &quot;user1 &quot;)\r\n            .userName(&quot;user1 &quot;)\r\n            .serverId(transferServer.getAttrServerId())\r\n            .homeDirectoryType(&quot;LOGICAL&quot;)\r\n            .homeDirectoryMappings(List.of(new HomeDirectoryMapEntryProperty.Builder()\r\n                .entry(&quot;/&quot;)\r\n                .target(&quot;/s3-bucket/home/${transfer:UserName}&quot;)\r\n                .build())\r\n            )\r\n            .role(dlRole.getRoleArn())\r\n            .build();\r\n ","title":"How can I set a literal JSON value in AWS CDK with Java?","body":"<p>After reading the error message one more time I noticed, that the <code>homeDirectoryMappings()</code> method accepts a <code>List</code> of <code>HomeDirectoryMapEntryProperty</code> instances. So there's actually no need for a <code>IResolvable</code>.</p>\n<p>So the correct code lookes like this:</p>\n<pre><code>    CfnUser user1 = CfnUser.Builder.create(this, &quot;user1 &quot;)\n        .userName(&quot;user1 &quot;)\n        .serverId(transferServer.getAttrServerId())\n        .homeDirectoryType(&quot;LOGICAL&quot;)\n        .homeDirectoryMappings(List.of(new HomeDirectoryMapEntryProperty.Builder()\n            .entry(&quot;/&quot;)\n            .target(&quot;/s3-bucket/home/${transfer:UserName}&quot;)\n            .build())\n        )\n        .role(dlRole.getRoleArn())\n        .build();\n</code></pre>\n"}],"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676889487,"creation_date":1676880638,"question_id":75506708,"body_markdown":"I have to set a literal JSON value to define the home directory mapping of a user in Java based CDK definition:\r\n\r\n        CfnUser user1 = CfnUser.Builder.create(this, &quot;user1 &quot;)\r\n            .userName(&quot;user1&quot;)\r\n            .serverId(transferServer.getAttrServerId())\r\n            .homeDirectoryType(&quot;PATH&quot;)\r\n            .homeDirectory(&quot;/path/to/home&quot;)\r\n            .homeDirectoryMappings(List.of(&quot;Entry:/&quot;, &quot;Target:/path/to/home&quot;))\r\n            .role(role.getRoleArn())\r\n            .build();\r\n\r\nThe above code fails, because the `List` passed to `homeDirectoryMappings()` is not a `software.amazon.awscdk.IResolvable`. Somehow I have to create a `IResolvable` which represents this JSON:\r\n\r\n    [\r\n       {\r\n          &quot;Entry&quot;:&quot;/&quot;,\r\n          &quot;Target&quot;:&quot;/bucket3/customized-reports/&quot;\r\n       }\r\n    ]\r\n\r\nI searched throuth the implementations of `IResolvable` but cannot find a suitable class.\r\n\r\nSo how can I pass a JSON literal to a method that takes a `IResolvable`?\r\n","title":"How can I set a literal JSON value in AWS CDK with Java?","body":"<p>I have to set a literal JSON value to define the home directory mapping of a user in Java based CDK definition:</p>\n<pre><code>    CfnUser user1 = CfnUser.Builder.create(this, &quot;user1 &quot;)\n        .userName(&quot;user1&quot;)\n        .serverId(transferServer.getAttrServerId())\n        .homeDirectoryType(&quot;PATH&quot;)\n        .homeDirectory(&quot;/path/to/home&quot;)\n        .homeDirectoryMappings(List.of(&quot;Entry:/&quot;, &quot;Target:/path/to/home&quot;))\n        .role(role.getRoleArn())\n        .build();\n</code></pre>\n<p>The above code fails, because the <code>List</code> passed to <code>homeDirectoryMappings()</code> is not a <code>software.amazon.awscdk.IResolvable</code>. Somehow I have to create a <code>IResolvable</code> which represents this JSON:</p>\n<pre><code>[\n   {\n      &quot;Entry&quot;:&quot;/&quot;,\n      &quot;Target&quot;:&quot;/bucket3/customized-reports/&quot;\n   }\n]\n</code></pre>\n<p>I searched throuth the implementations of <code>IResolvable</code> but cannot find a suitable class.</p>\n<p>So how can I pass a JSON literal to a method that takes a <code>IResolvable</code>?</p>\n"},{"tags":["java","spring-ldap"],"comments":[{"owner":{"account_id":4402256,"reputation":1849,"user_id":3587555,"display_name":"vkg"},"score":0,"creation_date":1400205075,"post_id":23689964,"comment_id":36403036,"body_markdown":"Is it a must for you to use Spring?","body":"Is it a must for you to use Spring?"}],"answers":[{"tags":[],"owner":{"account_id":953800,"reputation":1593,"user_id":979467,"accept_rate":58,"display_name":"Quantum_Entanglement"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1400260555,"creation_date":1400260555,"answer_id":23701042,"question_id":23689964,"body_markdown":"It turns out I just needed to include everything in the distinguished name(including the organization unit). Using \r\n\r\n    contextSource.setBase(...);\r\n\r\nfor some reason did not work. After making that correction all was fine.\r\n\r\n    contextSource.setUserDn(&quot;cn=john,ou=Users,dc=testathon,dc=net&quot;);","title":"javax.naming.AuthenticationException: [LDAP: error code 49 - Invalid Credentials]","body":"<p>It turns out I just needed to include everything in the distinguished name(including the organization unit). Using </p>\n\n<pre><code>contextSource.setBase(...);\n</code></pre>\n\n<p>for some reason did not work. After making that correction all was fine.</p>\n\n<pre><code>contextSource.setUserDn(\"cn=john,ou=Users,dc=testathon,dc=net\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5432270,"reputation":197,"user_id":4322745,"display_name":"Cui Qing"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676889474,"creation_date":1676889474,"answer_id":75508165,"question_id":23689964,"body_markdown":"    contextSource.setUserDn();\r\n\r\n may be for ldap manage user.\r\nSo it should be  `&quot;cn=john,ou=Users,dc=testathon,dc=net&quot;`\r\n And `contextSource.setBase(...);` is for later use like `template.list(...)`","title":"javax.naming.AuthenticationException: [LDAP: error code 49 - Invalid Credentials]","body":"<pre><code>contextSource.setUserDn();\n</code></pre>\n<p>may be for ldap manage user.\nSo it should be  <code>&quot;cn=john,ou=Users,dc=testathon,dc=net&quot;</code>\nAnd <code>contextSource.setBase(...);</code> is for later use like <code>template.list(...)</code></p>\n"}],"owner":{"account_id":953800,"reputation":1593,"user_id":979467,"accept_rate":58,"display_name":"Quantum_Entanglement"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48283,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":23701042,"answer_count":2,"score":13,"last_activity_date":1676889474,"creation_date":1400194067,"question_id":23689964,"body_markdown":"I&#39;m new to ldap and I was trying what I thought was a trivial example to test the spring ldap module with an ldap instance that someone had already setup for testing.\r\n\r\nDetails about the ldap instance that I am using can be found here: \r\nhttp://blog.stuartlewis.com/2008/07/07/test-ldap-service/comment-page-3/\r\n\r\nI&#39;ve used an ldap browser/admin tool (Softerra LDAP Admin) and I can access the directory without any issues.\r\n\r\nWhen I try it using java and spring-ldap (2.0.1) I get the Authentication Exception mentioned above. Before setting up my own ldap instance to try and troubleshoot this further I wanted to check here in case someone with more experience could point out something obvious that I missed.  \r\n\r\n\r\nBelow is the code I am using:\r\n\r\n    import org.springframework.ldap.core.LdapTemplate;\r\n    import org.springframework.ldap.core.support.LdapContextSource;\r\n\r\n    import java.util.List;\r\n\r\n    public class LdapTest {\r\n\r\n\r\n    public List&lt;String&gt; getListing() {\r\n\r\n        LdapTemplate template = getTemplate();\r\n\r\n        List&lt;String&gt; children = template.list(&quot;dc=testathon,dc=net&quot;);\r\n\r\n       return children;\r\n    }\r\n\r\n\r\n    private LdapTemplate getTemplate(){\r\n\r\n        LdapContextSource contextSource = new LdapContextSource();\r\n        contextSource.setUrl(&quot;ldap://ldap.testathon.net:389&quot;);\r\n        contextSource.setUserDn(&quot;cn=john&quot;);\r\n        contextSource.setPassword(&quot;john&quot;);\r\n\r\n        try {\r\n            contextSource.afterPropertiesSet();\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n\r\n\r\n        LdapTemplate template = new LdapTemplate();\r\n\r\n        template.setContextSource(contextSource);\r\n\r\n        return template;\r\n\r\n    }\r\n\r\n\r\n    public static void main(String[] args){\r\n\r\n\r\n        LdapTest sClient = new LdapTest();\r\n        List&lt;String&gt; children = sClient.getListing();\r\n\r\n        for  (String child :children) {\r\n            System.out.println(child);\r\n        }\r\n\r\n    }\r\n\r\n    }\r\n\r\nStack trace:\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.ldap.AuthenticationException: [LDAP: error code 49 - Invalid Credentials]; nested exception is javax.naming.AuthenticationException: [LDAP: error code 49 - Invalid Credentials]\r\n\tat org.springframework.ldap.support.LdapUtils.convertLdapException(LdapUtils.java:191)\r\n\tat org.springframework.ldap.core.support.AbstractContextSource.createContext(AbstractContextSource.java:356)\r\n\tat org.springframework.ldap.core.support.AbstractContextSource.doGetContext(AbstractContextSource.java:140)\r\n\r\n\r\n","title":"javax.naming.AuthenticationException: [LDAP: error code 49 - Invalid Credentials]","body":"<p>I'm new to ldap and I was trying what I thought was a trivial example to test the spring ldap module with an ldap instance that someone had already setup for testing.</p>\n\n<p>Details about the ldap instance that I am using can be found here: \n<a href=\"http://blog.stuartlewis.com/2008/07/07/test-ldap-service/comment-page-3/\" rel=\"noreferrer\">http://blog.stuartlewis.com/2008/07/07/test-ldap-service/comment-page-3/</a></p>\n\n<p>I've used an ldap browser/admin tool (Softerra LDAP Admin) and I can access the directory without any issues.</p>\n\n<p>When I try it using java and spring-ldap (2.0.1) I get the Authentication Exception mentioned above. Before setting up my own ldap instance to try and troubleshoot this further I wanted to check here in case someone with more experience could point out something obvious that I missed.  </p>\n\n<p>Below is the code I am using:</p>\n\n<pre><code>import org.springframework.ldap.core.LdapTemplate;\nimport org.springframework.ldap.core.support.LdapContextSource;\n\nimport java.util.List;\n\npublic class LdapTest {\n\n\npublic List&lt;String&gt; getListing() {\n\n    LdapTemplate template = getTemplate();\n\n    List&lt;String&gt; children = template.list(\"dc=testathon,dc=net\");\n\n   return children;\n}\n\n\nprivate LdapTemplate getTemplate(){\n\n    LdapContextSource contextSource = new LdapContextSource();\n    contextSource.setUrl(\"ldap://ldap.testathon.net:389\");\n    contextSource.setUserDn(\"cn=john\");\n    contextSource.setPassword(\"john\");\n\n    try {\n        contextSource.afterPropertiesSet();\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n\n\n    LdapTemplate template = new LdapTemplate();\n\n    template.setContextSource(contextSource);\n\n    return template;\n\n}\n\n\npublic static void main(String[] args){\n\n\n    LdapTest sClient = new LdapTest();\n    List&lt;String&gt; children = sClient.getListing();\n\n    for  (String child :children) {\n        System.out.println(child);\n    }\n\n}\n\n}\n</code></pre>\n\n<p>Stack trace:</p>\n\n<pre><code>Exception in thread \"main\" org.springframework.ldap.AuthenticationException: [LDAP: error code 49 - Invalid Credentials]; nested exception is javax.naming.AuthenticationException: [LDAP: error code 49 - Invalid Credentials]\nat org.springframework.ldap.support.LdapUtils.convertLdapException(LdapUtils.java:191)\nat org.springframework.ldap.core.support.AbstractContextSource.createContext(AbstractContextSource.java:356)\nat org.springframework.ldap.core.support.AbstractContextSource.doGetContext(AbstractContextSource.java:140)\n</code></pre>\n"},{"tags":["java","android","xml","gwt","libgdx"],"answers":[{"tags":[],"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1445952608,"creation_date":1445952608,"answer_id":33369337,"question_id":33369089,"body_markdown":"Eclipse tries to validate the XML using the referenced DTD:\r\n\r\nWhen you open this DTD you get\r\n\r\n    Source code for the GWT project has moved to https://gwt.googlesource.com\r\n\r\n    The file you&#39;re looking for can be now found at\r\n    https://gwt.googlesource.com/gwt/+/master/./distro-source/core/src/gwt-module.dtd\r\n    (if it&#39;s not been deleted or renamed since then.)\r\n\r\nObviously this is no valid DTD and therefore Eclipse gives an error.\r\n\r\nThe solution seems simple: Use the new URL for the DTD in your XML\r\n\r\n    &lt;!DOCTYPE module PUBLIC &quot;-//Google Inc.//DTD Google Web Toolkit trunk//EN&quot; &quot;https://gwt.googlesource.com/gwt/+/master/distro-source/core/src/gwt-module.dtd&quot;&gt;\r\n\r\nUnfortunately this URL returns a HTML representation of the repository file and Eclipse will complain again.\r\nAlso \r\n\r\n    https://gwt.googlesource.com/gwt/+/master/distro-source/core/src/gwt-module.dtd?format=TEXT \r\n\r\ndoesn&#39;t seem to work correctly.\r\n\r\nYou could then create a local version of the DTD and change the doctype declaration in the XML accordingly or simple remove the doctype declaration if validation is not essential.","title":"The markup declarations must be well-formed","body":"<p>Eclipse tries to validate the XML using the referenced DTD:</p>\n\n<p>When you open this DTD you get</p>\n\n<pre><code>Source code for the GWT project has moved to https://gwt.googlesource.com\n\nThe file you're looking for can be now found at\nhttps://gwt.googlesource.com/gwt/+/master/./distro-source/core/src/gwt-module.dtd\n(if it's not been deleted or renamed since then.)\n</code></pre>\n\n<p>Obviously this is no valid DTD and therefore Eclipse gives an error.</p>\n\n<p>The solution seems simple: Use the new URL for the DTD in your XML</p>\n\n<pre><code>&lt;!DOCTYPE module PUBLIC \"-//Google Inc.//DTD Google Web Toolkit trunk//EN\" \"https://gwt.googlesource.com/gwt/+/master/distro-source/core/src/gwt-module.dtd\"&gt;\n</code></pre>\n\n<p>Unfortunately this URL returns a HTML representation of the repository file and Eclipse will complain again.\nAlso </p>\n\n<pre><code>https://gwt.googlesource.com/gwt/+/master/distro-source/core/src/gwt-module.dtd?format=TEXT \n</code></pre>\n\n<p>doesn't seem to work correctly.</p>\n\n<p>You could then create a local version of the DTD and change the doctype declaration in the XML accordingly or simple remove the doctype declaration if validation is not essential.</p>\n"},{"tags":[],"owner":{"account_id":8328960,"reputation":157,"user_id":6258088,"display_name":"Vlad Troyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676889016,"creation_date":1676889016,"answer_id":75508084,"question_id":33369089,"body_markdown":"In my case simple protocol change helped **http** -&gt; **https**","title":"The markup declarations must be well-formed","body":"<p>In my case simple protocol change helped <strong>http</strong> -&gt; <strong>https</strong></p>\n"}],"owner":{"account_id":5760459,"reputation":574,"user_id":4547068,"accept_rate":93,"display_name":"Daniel Roca Lopez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2950,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":33369337,"answer_count":2,"score":0,"last_activity_date":1676889016,"creation_date":1445951879,"question_id":33369089,"body_markdown":"I&#39;m using libgdx to build a game and suddenly, I opened eclipse and it says \r\n\r\nThe markup declarations contained or pointed to by the document type declaration must be well-formed\r\n\r\non this xml: /Tower Conquest-core/src/TowerConquest.gwt.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE module PUBLIC &quot;-//Google Inc.//DTD Google Web Toolkit trunk//EN&quot; &quot;http://google-web-toolkit.googlecode.com/svn/trunk/distro-source/core/src/gwt-module.dtd&quot;&gt;\r\n    &lt;module&gt;\r\n    \t&lt;source path=&quot;noxer/games/ballons&quot; /&gt;\r\n    &lt;/module&gt;\r\n\r\nthe project builds anyway and it works but the error keeps there. I tried deleting file and writting it back but it keeps saying there&#39;s an error","title":"The markup declarations must be well-formed","body":"<p>I'm using libgdx to build a game and suddenly, I opened eclipse and it says </p>\n\n<p>The markup declarations contained or pointed to by the document type declaration must be well-formed</p>\n\n<p>on this xml: /Tower Conquest-core/src/TowerConquest.gwt.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE module PUBLIC \"-//Google Inc.//DTD Google Web Toolkit trunk//EN\" \"http://google-web-toolkit.googlecode.com/svn/trunk/distro-source/core/src/gwt-module.dtd\"&gt;\n&lt;module&gt;\n    &lt;source path=\"noxer/games/ballons\" /&gt;\n&lt;/module&gt;\n</code></pre>\n\n<p>the project builds anyway and it works but the error keeps there. I tried deleting file and writting it back but it keeps saying there's an error</p>\n"},{"tags":["java","constructor-reference"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":3,"creation_date":1676540101,"post_id":75470235,"comment_id":133158584,"body_markdown":"I&#39;m surprised it outputs anything since it doesn&#39;t compile. `Dog::new` is a reference to the `Dog` constructor, not a `Dog`, so you can&#39;t assign it to a `Dog` variable. Do you maybe still have an older version that you compiled before and still run?","body":"I&#39;m surprised it outputs anything since it doesn&#39;t compile. <code>Dog::new</code> is a reference to the <code>Dog</code> constructor, not a <code>Dog</code>, so you can&#39;t assign it to a <code>Dog</code> variable. Do you maybe still have an older version that you compiled before and still run?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1676540303,"post_id":75470235,"comment_id":133158660,"body_markdown":"@daniu OP is not assigning `Dog::new` to a `Dog` variable though, but an `Animal`, which does compile.","body":"@daniu OP is not assigning <code>Dog::new</code> to a <code>Dog</code> variable though, but an <code>Animal</code>, which does compile."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1676540402,"post_id":75470235,"comment_id":133158684,"body_markdown":"`Dog::new` is a method reference. It does not call the constructor. `new Dog()` calls the constructor. The line is equivalent to `Animal animal = () -&gt; new Dog();`","body":"<code>Dog::new</code> is a method reference. It does not call the constructor. <code>new Dog()</code> calls the constructor. The line is equivalent to <code>Animal animal = () -&gt; new Dog();</code>"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1676540725,"post_id":75470235,"comment_id":133158791,"body_markdown":"@Sweeper you&#39;re right, it does compile and run, but I&#39;m somewhat surprised even though I do understand why. I was going to write an answer but knittl ninja&#39;d me.","body":"@Sweeper you&#39;re right, it does compile and run, but I&#39;m somewhat surprised even though I do understand why. I was going to write an answer but knittl ninja&#39;d me."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1676540824,"post_id":75470235,"comment_id":133158821,"body_markdown":"You basically created a new anonymous class instance of `Animal` and implemented `eat()` to call `new Dog()`. That&#39;s what the method reference is doing. Add another method to `Animal` and you&#39;ll see the compiler complaining about functional interfaces not allowed to have more than one method. Replace `Dog::new` with `new Dog()` to fix your issue.","body":"You basically created a new anonymous class instance of <code>Animal</code> and implemented <code>eat()</code> to call <code>new Dog()</code>. That&#39;s what the method reference is doing. Add another method to <code>Animal</code> and you&#39;ll see the compiler complaining about functional interfaces not allowed to have more than one method. Replace <code>Dog::new</code> with <code>new Dog()</code> to fix your issue."}],"answers":[{"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1676540919,"post_id":75470429,"comment_id":133158854,"body_markdown":"I am a bit surprised that `Dog::new` matches `Runnable` since it really is a `Supplier&lt;Dog&gt;`. I could have sworn this used to mismatch due to the different return type of the method - did that change in recent Java versions perhaps?","body":"I am a bit surprised that <code>Dog::new</code> matches <code>Runnable</code> since it really is a <code>Supplier&lt;Dog&gt;</code>. I could have sworn this used to mismatch due to the different return type of the method - did that change in recent Java versions perhaps?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1676541060,"post_id":75470429,"comment_id":133158897,"body_markdown":"@daniu I would have expected that too, but `Dog::new` could either be `() -&gt; new Dog()` or `() -&gt; { new Dog(); }`. I tested with Java 11, perhaps Java 8/9 behaved differently?","body":"@daniu I would have expected that too, but <code>Dog::new</code> could either be <code>() -&gt; new Dog()</code> or <code>() -&gt; { new Dog(); }</code>. I tested with Java 11, perhaps Java 8/9 behaved differently?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1676541180,"post_id":75470429,"comment_id":133158931,"body_markdown":"@daniu It *could* be, but the value resulting from an expression *may* be discarded. I think this is called *void-compatibility*, but I&#39;m not sure.","body":"@daniu It <i>could</i> be, but the value resulting from an expression <i>may</i> be discarded. I think this is called <i>void-compatibility</i>, but I&#39;m not sure."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1676541480,"post_id":75470429,"comment_id":133159016,"body_markdown":"@daniu That behaviour has been there since the introduction of lambdas in Java 8.","body":"@daniu That behaviour has been there since the introduction of lambdas in Java 8."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1676546958,"post_id":75470429,"comment_id":133160688,"body_markdown":"@daniu Interestingly, if you create two methods `void doSomething(Runnable r) { }` and `&lt;T&gt; void doSomething(Supplier&lt;T&gt; s) { }`, then calling `doSomething(Dog::new)` will execute the latter, but using a *type witness* or a cast to `Runnable` runs the former. See [example code](https://ideone.com/e0Ep1m).","body":"@daniu Interestingly, if you create two methods <code>void doSomething(Runnable r) { }</code> and <code>&lt;T&gt; void doSomething(Supplier&lt;T&gt; s) { }</code>, then calling <code>doSomething(Dog::new)</code> will execute the latter, but using a <i>type witness</i> or a cast to <code>Runnable</code> runs the former. See <a href=\"https://ideone.com/e0Ep1m\" rel=\"nofollow noreferrer\">example code</a>."}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1676888958,"creation_date":1676540736,"answer_id":75470429,"question_id":75470235,"body_markdown":"`Animal` is a functional interface with a single method `void eat()` (void return, no parameters) – also known as _SAM type_ (single abstract method).\r\n\r\nIt is structurally identical to the `java.util.Runnable` interface (`interface Runnable { void run(); }`). Your code could as well be written as:\r\n\r\n```\r\nfinal Runnable runnable = Dog::new;\r\nrunnable.run(); // calls the constructor\r\n```\r\n\r\n\r\nYou can assign it any lambda or method reference with zero arguments and no return value, e.g. `() -&gt; {}`.\r\n\r\n`Dog::new` is a method reference and equivalent to the lambda `() -&gt; { new Dog(); }`. If you look closely, you will notice that this lambda does not return anything. It constructs a new Dog instance and then forgets about it again.\r\n\r\nAssigning a method reference or a lambda to a variable does not execute it (yet). You have to explicitly invoke the lambda by calling the named method from your interface.\r\n\r\nNow, your `animal` is an instance of your `Animal` interface and got assigned a method reference which can then be invoked later. `animal.eat()` invokes the assigned method reference, calling the constructor.\r\n\r\nIf you want your variable `animal` to hold a `Dog` instance and then invoke the `eat` method on it, call the constructor directly: `Animal animal = new Dog();`\r\n\r\nThe &quot;problem&quot; is the signature of your `eat` method, because it is equivalent to `Runnable#run` and allows assigning any &quot;empty&quot; action.\r\n\r\nLambdas and method references were introduced with Java 8. In Java versions before, you had to create an anonymous class to achieve the same behavior:\r\n\r\n```\r\nfinal Animal animal = new Animal() {\r\n  @Override public void eat() {\r\n    new Dog();\r\n  }\r\n};\r\nanimal.eat(); // calls &quot;eat&quot; of the anonymous instance, which in turn calls the constructor; does NOT call `Dog#eat`\r\n```","title":"Why doesn&#39;t it output &#39;dog eat&#39;","body":"<p><code>Animal</code> is a functional interface with a single method <code>void eat()</code> (void return, no parameters) – also known as <em>SAM type</em> (single abstract method).</p>\n<p>It is structurally identical to the <code>java.util.Runnable</code> interface (<code>interface Runnable { void run(); }</code>). Your code could as well be written as:</p>\n<pre><code>final Runnable runnable = Dog::new;\nrunnable.run(); // calls the constructor\n</code></pre>\n<p>You can assign it any lambda or method reference with zero arguments and no return value, e.g. <code>() -&gt; {}</code>.</p>\n<p><code>Dog::new</code> is a method reference and equivalent to the lambda <code>() -&gt; { new Dog(); }</code>. If you look closely, you will notice that this lambda does not return anything. It constructs a new Dog instance and then forgets about it again.</p>\n<p>Assigning a method reference or a lambda to a variable does not execute it (yet). You have to explicitly invoke the lambda by calling the named method from your interface.</p>\n<p>Now, your <code>animal</code> is an instance of your <code>Animal</code> interface and got assigned a method reference which can then be invoked later. <code>animal.eat()</code> invokes the assigned method reference, calling the constructor.</p>\n<p>If you want your variable <code>animal</code> to hold a <code>Dog</code> instance and then invoke the <code>eat</code> method on it, call the constructor directly: <code>Animal animal = new Dog();</code></p>\n<p>The &quot;problem&quot; is the signature of your <code>eat</code> method, because it is equivalent to <code>Runnable#run</code> and allows assigning any &quot;empty&quot; action.</p>\n<p>Lambdas and method references were introduced with Java 8. In Java versions before, you had to create an anonymous class to achieve the same behavior:</p>\n<pre><code>final Animal animal = new Animal() {\n  @Override public void eat() {\n    new Dog();\n  }\n};\nanimal.eat(); // calls &quot;eat&quot; of the anonymous instance, which in turn calls the constructor; does NOT call `Dog#eat`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676541150,"creation_date":1676541150,"answer_id":75470499,"question_id":75470235,"body_markdown":"`Animal` is an interface with a single abstract method, `eat`. This method does not take any parameters and does not return anything. Because of this, it can represent any function that takes no parameters. For example:\r\n\r\n    Animal foo = () -&gt; System.out.println(&quot;foo&quot;);\r\n\r\nNow if I call `foo.eat()`, it will run the code in the lambda, which prints &quot;foo&quot;.\r\n\r\nI can also use a method reference instead of a lambda:\r\n\r\n    Animal foo = SomeClass::someStaticMethod;\r\n\r\nNow `foo.eat()` will run the parameterless method called `someStaticMethod` located in `SomeClass`.\r\n\r\nNotice that this works in exactly the same way as using the built-in [`Runnable`][1] interface and called its `run` method. Yours is just called `Animal` and `eat`, rather than `Runnable` and `run`.\r\n\r\nSo by the same logic, using a constructor reference of `Dog` will invoke the constructor of `Dog`.\r\n\r\n    Animal foo = Dog::new;\r\n    Runnable bar = Dog::new;\r\n\r\n    // these two lines do the same thing:\r\n    foo.eat();\r\n    bar.run();\r\n\r\nWould you still have the confusion if you have written the code with `Runnable` instead?\r\n\r\nNote that the fact that `Dog` implements `Animal` does not matter here. `Dog` implements `Animal` just means that you can do:\r\n\r\n    Animal animal = new Dog();\r\n\r\nwhich has a completely different meaning. If at this point I do `animal.eat()`, then it will output what you expect - &quot;dog eat&quot;.\r\n\r\nAlternatively, you could also make a method reference to a newly-created `Dog`&#39;s `eat` method for it to output &quot;dog eat&quot;:\r\n\r\n    Animal animal = new Dog()::eat;\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html","title":"Why doesn&#39;t it output &#39;dog eat&#39;","body":"<p><code>Animal</code> is an interface with a single abstract method, <code>eat</code>. This method does not take any parameters and does not return anything. Because of this, it can represent any function that takes no parameters. For example:</p>\n<pre><code>Animal foo = () -&gt; System.out.println(&quot;foo&quot;);\n</code></pre>\n<p>Now if I call <code>foo.eat()</code>, it will run the code in the lambda, which prints &quot;foo&quot;.</p>\n<p>I can also use a method reference instead of a lambda:</p>\n<pre><code>Animal foo = SomeClass::someStaticMethod;\n</code></pre>\n<p>Now <code>foo.eat()</code> will run the parameterless method called <code>someStaticMethod</code> located in <code>SomeClass</code>.</p>\n<p>Notice that this works in exactly the same way as using the built-in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\"><code>Runnable</code></a> interface and called its <code>run</code> method. Yours is just called <code>Animal</code> and <code>eat</code>, rather than <code>Runnable</code> and <code>run</code>.</p>\n<p>So by the same logic, using a constructor reference of <code>Dog</code> will invoke the constructor of <code>Dog</code>.</p>\n<pre><code>Animal foo = Dog::new;\nRunnable bar = Dog::new;\n\n// these two lines do the same thing:\nfoo.eat();\nbar.run();\n</code></pre>\n<p>Would you still have the confusion if you have written the code with <code>Runnable</code> instead?</p>\n<p>Note that the fact that <code>Dog</code> implements <code>Animal</code> does not matter here. <code>Dog</code> implements <code>Animal</code> just means that you can do:</p>\n<pre><code>Animal animal = new Dog();\n</code></pre>\n<p>which has a completely different meaning. If at this point I do <code>animal.eat()</code>, then it will output what you expect - &quot;dog eat&quot;.</p>\n<p>Alternatively, you could also make a method reference to a newly-created <code>Dog</code>'s <code>eat</code> method for it to output &quot;dog eat&quot;:</p>\n<pre><code>Animal animal = new Dog()::eat;\n</code></pre>\n"}],"owner":{"account_id":27801114,"reputation":71,"user_id":21225554,"display_name":"vozrr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"accepted_answer_id":75470429,"answer_count":2,"score":5,"last_activity_date":1676888958,"creation_date":1676539826,"question_id":75470235,"body_markdown":"code like this\r\n\r\n```\r\npublic class LambdaTest {\r\n    public static void main(String[] args) {\r\n        final Animal animal = Dog::new;\r\n        animal.eat();\r\n    }\r\n}\r\n\r\n@FunctionalInterface\r\ninterface Animal {\r\n    void eat();\r\n}\r\n\r\nclass Dog implements Animal {\r\n\r\n    public Dog() {\r\n        System.out.println(&quot;dog init.&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void eat() {\r\n        System.out.println(&quot;dog eat&quot;);\r\n    }\r\n```\r\nWhen I ran this code, &quot;dog init.&quot; was printed to the console, but &quot;dog eat&quot; was not. Why is that? Can someone tell me the reason?\r\n\r\n\r\nI expected &quot;dog init&quot; and &quot;dog eat&quot; to be printed, but only &quot;dog init&quot; was printed. Additionally, I&#39;m puzzled as to why there was no error when `Animal animal = Dog::new;`.","title":"Why doesn&#39;t it output &#39;dog eat&#39;","body":"<p>code like this</p>\n<pre><code>public class LambdaTest {\n    public static void main(String[] args) {\n        final Animal animal = Dog::new;\n        animal.eat();\n    }\n}\n\n@FunctionalInterface\ninterface Animal {\n    void eat();\n}\n\nclass Dog implements Animal {\n\n    public Dog() {\n        System.out.println(&quot;dog init.&quot;);\n    }\n\n    @Override\n    public void eat() {\n        System.out.println(&quot;dog eat&quot;);\n    }\n</code></pre>\n<p>When I ran this code, &quot;dog init.&quot; was printed to the console, but &quot;dog eat&quot; was not. Why is that? Can someone tell me the reason?</p>\n<p>I expected &quot;dog init&quot; and &quot;dog eat&quot; to be printed, but only &quot;dog init&quot; was printed. Additionally, I'm puzzled as to why there was no error when <code>Animal animal = Dog::new;</code>.</p>\n"},{"tags":["java","android","windows","flutter"],"comments":[{"owner":{"account_id":12444201,"reputation":1,"user_id":9060968,"display_name":"wani"},"score":0,"creation_date":1689598637,"post_id":75508025,"comment_id":135231816,"body_markdown":"I have not yet gotten any solution for this","body":"I have not yet gotten any solution for this"}],"owner":{"account_id":12444201,"reputation":1,"user_id":9060968,"display_name":"wani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676889073,"answer_count":0,"score":0,"last_activity_date":1676888642,"creation_date":1676888642,"question_id":75508025,"body_markdown":"Installing fresh flutter to getstarted then encounter this error\r\n \r\nRunning and fresh installation of flutter \r\nrun &quot; flutter doctor --android-licenses&quot;\r\n\r\n flutter doctor --android-licenses\r\njava.lang.UnsupportedClassVersionError: com/android/prefs/AndroidLocationsProvider has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java \r\n```\r\nRuntime only recognizes class file versions up to 52.0\r\n        at java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:757)\r\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\r\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\r\n        at java.lang.Class.getDeclaredMethods0(Native Method)\r\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n        at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n        at java.lang.Class.getMethod0(Class.java:3018)\r\n        at java.lang.Class.getMethod(Class.java:1784)\r\n        at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:544)\r\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:526)\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot;\r\n```\r\n","title":"java lang Unsupported Class Version Error","body":"<p>Installing fresh flutter to getstarted then encounter this error</p>\n<p>Running and fresh installation of flutter\nrun &quot; flutter doctor --android-licenses&quot;</p>\n<p>flutter doctor --android-licenses\njava.lang.UnsupportedClassVersionError: com/android/prefs/AndroidLocationsProvider has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java</p>\n<pre><code>Runtime only recognizes class file versions up to 52.0\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:757)\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\n        at java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n        at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\n        at java.lang.Class.getMethod0(Class.java:3018)\n        at java.lang.Class.getMethod(Class.java:1784)\n        at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:544)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:526)\nError: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot;\n</code></pre>\n"},{"tags":["java","email-attachments","amazon-ses"],"owner":{"account_id":27826076,"reputation":21,"user_id":21245484,"display_name":"anonymous beak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676888640,"creation_date":1676825181,"question_id":75501735,"body_markdown":"Say I made a template in AWS simple email service,\r\nI&#39;m able to send emails just fine (as long as I provide all the necessary fields).\r\nNow I want to add an attachment to the email -&gt; A pdf file of the original email sent.\r\n\r\nHow would one go about that?\r\nI was hoping Simple Email Service has this functionality built in.\r\n\r\nOtherwise, do I need to make a new template that has an attachments field and send the new template ?\r\n\r\n\r\n\r\nI looked here: https://stackoverflow.com/questions/11098285/sending-email-with-attachment-using-amazon-ses \r\nand it seemed like quite a pain to do..\r\nIn addition, I&#39;m using Java but any solution / help in any language will be appreciated!\r\n\r\nthanks.\r\n\r\nupdate: the PDF file needs to be regenerated each time with different information.\r\n\r\nanyone?","title":"send pdf attachment in amazon ses of the current sent template","body":"<p>Say I made a template in AWS simple email service,\nI'm able to send emails just fine (as long as I provide all the necessary fields).\nNow I want to add an attachment to the email -&gt; A pdf file of the original email sent.</p>\n<p>How would one go about that?\nI was hoping Simple Email Service has this functionality built in.</p>\n<p>Otherwise, do I need to make a new template that has an attachments field and send the new template ?</p>\n<p>I looked here: <a href=\"https://stackoverflow.com/questions/11098285/sending-email-with-attachment-using-amazon-ses\">Sending email with attachment using amazon SES</a>\nand it seemed like quite a pain to do..\nIn addition, I'm using Java but any solution / help in any language will be appreciated!</p>\n<p>thanks.</p>\n<p>update: the PDF file needs to be regenerated each time with different information.</p>\n<p>anyone?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1676889218,"post_id":75508024,"comment_id":133221748,"body_markdown":"Always. As when retrieving an object JPA (regardless of which implementation) will construct a new instance using the default no-args constructor. Even hibernate does this. It is even in the JPA specification that a no-args constructor for entities is required. The fact tha tyou don&#39;t provide one because you have one with arguments doesn&#39;t mean you shouldn&#39;t add one (it can be package private or private as Hibernate can invoke that as well).","body":"Always. As when retrieving an object JPA (regardless of which implementation) will construct a new instance using the default no-args constructor. Even hibernate does this. It is even in the JPA specification that a no-args constructor for entities is required. The fact tha tyou don&#39;t provide one because you have one with arguments doesn&#39;t mean you shouldn&#39;t add one (it can be package private or private as Hibernate can invoke that as well)."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1676890321,"post_id":75508024,"comment_id":133222079,"body_markdown":"[why do not read official documentation?](https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#entity-pojo). JPA req: **The entity class must have a public or protected no-argument constructor. It may define additional constructors as well**. HBN req: **The entity class must have a no-argument constructor, which may be public, protected or package visibility. It may define additional constructors as well**","body":"<a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#entity-pojo\" rel=\"nofollow noreferrer\">why do not read official documentation?</a>. JPA req: <b>The entity class must have a public or protected no-argument constructor. It may define additional constructors as well</b>. HBN req: <b>The entity class must have a no-argument constructor, which may be public, protected or package visibility. It may define additional constructors as well</b>"}],"owner":{"account_id":27593137,"reputation":51,"user_id":21059880,"display_name":"Alok Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676888634,"creation_date":1676888634,"question_id":75508024,"body_markdown":"I observe that while saving an entity in database using Hibernate, even if I don&#39;t provide a parameter less constructor (there is a parameter constructor provided by me so default constructor can&#39;t be provided), it works. But while using the operation delete, it throws an exception that Default constructor is not present. (No default constructor for entity:  : com.hibernate.demo.entity.Instructor)\r\n\r\nI want to ask in which cases is a parameter less constructor necessary for Hibernate. When is it invoked during a delete operation?\r\n\r\nI follwed this question which has some varying answers\r\nhttps://stackoverflow.com/questions/2935826/why-does-hibernate-require-no-argument-constructor","title":"In hibernate, when is a parameterless constructor invoked?","body":"<p>I observe that while saving an entity in database using Hibernate, even if I don't provide a parameter less constructor (there is a parameter constructor provided by me so default constructor can't be provided), it works. But while using the operation delete, it throws an exception that Default constructor is not present. (No default constructor for entity:  : com.hibernate.demo.entity.Instructor)</p>\n<p>I want to ask in which cases is a parameter less constructor necessary for Hibernate. When is it invoked during a delete operation?</p>\n<p>I follwed this question which has some varying answers\n<a href=\"https://stackoverflow.com/questions/2935826/why-does-hibernate-require-no-argument-constructor\">Why does Hibernate require no argument constructor?</a></p>\n"},{"tags":["java","json","apache-camel","out-of-memory"],"comments":[{"owner":{"account_id":8459510,"reputation":363,"user_id":6345724,"accept_rate":83,"display_name":"dank8"},"score":0,"creation_date":1676898096,"post_id":75507976,"comment_id":133224170,"body_markdown":"This may be related: [jsonpath to split messages](https://stackoverflow.com/a/54248063)","body":"This may be related: <a href=\"https://stackoverflow.com/a/54248063\">jsonpath to split messages</a>"},{"owner":{"account_id":92137,"reputation":584,"user_id":252642,"display_name":"Marcanpilami"},"score":0,"creation_date":1676911614,"post_id":75507976,"comment_id":133228263,"body_markdown":"@dank8 thanks but that answer is about splitting the input file, not merging the results inside one file as in my issue.","body":"@dank8 thanks but that answer is about splitting the input file, not merging the results inside one file as in my issue."},{"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"score":0,"creation_date":1677088274,"post_id":75507976,"comment_id":133270131,"body_markdown":"I&#39;d suggest to take a look at https://stackoverflow.com/questions/67501221/modify-and-re-write-key-from-json-file/67502489#67502489 https://stackoverflow.com/questions/66678062/apply-a-mask-on-a-json-to-keep-only-mandatory-data/66708567#66708567  A small change is required to read more than one file and to tune up their modification/transformation if required","body":"I&#39;d suggest to take a look at <a href=\"https://stackoverflow.com/questions/67501221/modify-and-re-write-key-from-json-file/67502489#67502489\" title=\"modify and re write key from json file\">stackoverflow.com/questions/67501221/&hellip;</a> <a href=\"https://stackoverflow.com/questions/66678062/apply-a-mask-on-a-json-to-keep-only-mandatory-data/66708567#66708567\" title=\"apply a mask on a json to keep only mandatory data\">stackoverflow.com/questions/66678062/&hellip;</a>  A small change is required to read more than one file and to tune up their modification/transformation if required"},{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":1,"creation_date":1679781275,"post_id":75507976,"comment_id":133783111,"body_markdown":"jsonpath does not support streaming in their library - there is a github issue about it, but the project is not very active.","body":"jsonpath does not support streaming in their library - there is a github issue about it, but the project is not very active."}],"owner":{"account_id":92137,"reputation":584,"user_id":252642,"display_name":"Marcanpilami"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676888371,"creation_date":1676888371,"question_id":75507976,"body_markdown":"I&#39;m trying to process a very huge list of items from a JSON file and store the resulting result list as another JSON file. But I cannot comprehend how I should do this without loading everything in memory (and the memory constraint is capital in this issue).\r\n\r\nIn plain Java, this would be like:\r\n* load a buffer from the input file (a simple `[ {item1}, {item2} ]`list) and parse it (with a streaming parser)\r\n* for all items in buffer call the **unitary** processing service in a loop\r\n* for all results add to the writer buffer for the output JSON file\r\n* loop until done\r\n* close JSON writer (and write end of list inside file).\r\n\r\nCamel seems to have a streaming service for reading (actually I&#39;m not even sure it works - the jsonpath seems to loads everything in memory too... but that another issue), but it seems I cannot merge the results without having everything in memory before the actual write.\r\n\r\nMy first attempt, with an aggregator associated to the split - in this case the result file is OK, but everything is clearly loaded into memory so OOM:\r\n```xml\r\n    &lt;route&gt;\r\n        &lt;from uri=&quot;file:/mytestdirectory/?fileName=input.json&quot; /&gt;\r\n        &lt;split streaming=&quot;true&quot; aggregationStrategy=&quot;#class:com.MyListAggregator&quot;&gt;\r\n            &lt;jsonpath writeAsString=&quot;true&quot;&gt;$[*]&lt;/jsonpath&gt;\r\n\r\n            &lt;unmarshal&gt;\r\n                &lt;json unmarshalType=&quot;com.something.InputItem&quot;\r\n                    namingStrategy=&quot;UPPER_CAMEL_CASE&quot;&gt;&lt;/json&gt;\r\n            &lt;/unmarshal&gt;\r\n\r\n            &lt;bean beanType=&quot;com.something.Processor&quot;\r\n                method=&quot;doSomething&quot; /&gt;\r\n        &lt;/split&gt;\r\n\r\n        &lt;marshal&gt;\r\n            &lt;json namingStrategy=&quot;LOWER_CAMEL_CASE&quot; useList=&quot;true&quot; /&gt;\r\n        &lt;/marshal&gt;\r\n        &lt;to uri=&quot;file:/temp/to.json&quot;&gt;&lt;/to&gt;\r\n    &lt;/route&gt;\r\n```\r\n\r\nAnother attempt, writing the file from inside the split loop. In this case the resulting file is not a valid JSON list - it is just all items one after each other.\r\n```xml\r\n    &lt;route&gt;\r\n        &lt;from uri=&quot;file:/mytestdirectory/?fileName=input.json&quot; /&gt;\r\n        &lt;split streaming=&quot;true&quot;&gt;\r\n            &lt;jsonpath writeAsString=&quot;true&quot;&gt;$[*]&lt;/jsonpath&gt;\r\n\r\n            &lt;unmarshal&gt;\r\n                &lt;json unmarshalType=&quot;com.something.InputItem&quot;\r\n                    namingStrategy=&quot;UPPER_CAMEL_CASE&quot;&gt;&lt;/json&gt;\r\n            &lt;/unmarshal&gt;\r\n\r\n            &lt;bean beanType=&quot;com.something.Processor&quot;\r\n                method=&quot;doSomething&quot; /&gt;\r\n\r\n            &lt;marshal&gt;\r\n                &lt;json namingStrategy=&quot;LOWER_CAMEL_CASE&quot; useList=&quot;true&quot; /&gt;\r\n            &lt;/marshal&gt;\r\n\r\n            &lt;to uri=&quot;file:file:/temp/to.json?fileExist=append&quot;&gt;&lt;/to&gt;\r\n        &lt;/split&gt;\r\n    &lt;/route&gt;\r\n```\r\n\r\n\r\nSo how can I do what I want with Camel ? As this is a basic integration need for integration batch processing I&#39;m sure there is something somewhere I&#39;m missing as I&#39;m very new to Camel...\r\n","title":"Write a huge JSON list file after split with Camel without OOM","body":"<p>I'm trying to process a very huge list of items from a JSON file and store the resulting result list as another JSON file. But I cannot comprehend how I should do this without loading everything in memory (and the memory constraint is capital in this issue).</p>\n<p>In plain Java, this would be like:</p>\n<ul>\n<li>load a buffer from the input file (a simple <code>[ {item1}, {item2} ]</code>list) and parse it (with a streaming parser)</li>\n<li>for all items in buffer call the <strong>unitary</strong> processing service in a loop</li>\n<li>for all results add to the writer buffer for the output JSON file</li>\n<li>loop until done</li>\n<li>close JSON writer (and write end of list inside file).</li>\n</ul>\n<p>Camel seems to have a streaming service for reading (actually I'm not even sure it works - the jsonpath seems to loads everything in memory too... but that another issue), but it seems I cannot merge the results without having everything in memory before the actual write.</p>\n<p>My first attempt, with an aggregator associated to the split - in this case the result file is OK, but everything is clearly loaded into memory so OOM:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;route&gt;\n        &lt;from uri=&quot;file:/mytestdirectory/?fileName=input.json&quot; /&gt;\n        &lt;split streaming=&quot;true&quot; aggregationStrategy=&quot;#class:com.MyListAggregator&quot;&gt;\n            &lt;jsonpath writeAsString=&quot;true&quot;&gt;$[*]&lt;/jsonpath&gt;\n\n            &lt;unmarshal&gt;\n                &lt;json unmarshalType=&quot;com.something.InputItem&quot;\n                    namingStrategy=&quot;UPPER_CAMEL_CASE&quot;&gt;&lt;/json&gt;\n            &lt;/unmarshal&gt;\n\n            &lt;bean beanType=&quot;com.something.Processor&quot;\n                method=&quot;doSomething&quot; /&gt;\n        &lt;/split&gt;\n\n        &lt;marshal&gt;\n            &lt;json namingStrategy=&quot;LOWER_CAMEL_CASE&quot; useList=&quot;true&quot; /&gt;\n        &lt;/marshal&gt;\n        &lt;to uri=&quot;file:/temp/to.json&quot;&gt;&lt;/to&gt;\n    &lt;/route&gt;\n</code></pre>\n<p>Another attempt, writing the file from inside the split loop. In this case the resulting file is not a valid JSON list - it is just all items one after each other.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;route&gt;\n        &lt;from uri=&quot;file:/mytestdirectory/?fileName=input.json&quot; /&gt;\n        &lt;split streaming=&quot;true&quot;&gt;\n            &lt;jsonpath writeAsString=&quot;true&quot;&gt;$[*]&lt;/jsonpath&gt;\n\n            &lt;unmarshal&gt;\n                &lt;json unmarshalType=&quot;com.something.InputItem&quot;\n                    namingStrategy=&quot;UPPER_CAMEL_CASE&quot;&gt;&lt;/json&gt;\n            &lt;/unmarshal&gt;\n\n            &lt;bean beanType=&quot;com.something.Processor&quot;\n                method=&quot;doSomething&quot; /&gt;\n\n            &lt;marshal&gt;\n                &lt;json namingStrategy=&quot;LOWER_CAMEL_CASE&quot; useList=&quot;true&quot; /&gt;\n            &lt;/marshal&gt;\n\n            &lt;to uri=&quot;file:file:/temp/to.json?fileExist=append&quot;&gt;&lt;/to&gt;\n        &lt;/split&gt;\n    &lt;/route&gt;\n</code></pre>\n<p>So how can I do what I want with Camel ? As this is a basic integration need for integration batch processing I'm sure there is something somewhere I'm missing as I'm very new to Camel...</p>\n"},{"tags":["java","spring","mockmvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1676881966,"post_id":75505189,"comment_id":133219765,"body_markdown":"Your test wouldn&#39;t even run as you are missing dependencies, also remove the `@Validated` from the controller class, that doesn&#39;t do what you think it does.","body":"Your test wouldn&#39;t even run as you are missing dependencies, also remove the <code>@Validated</code> from the controller class, that doesn&#39;t do what you think it does."},{"owner":{"account_id":27791137,"reputation":1,"user_id":21217550,"display_name":"Simba"},"score":0,"creation_date":1676887746,"post_id":75505189,"comment_id":133221330,"body_markdown":"I deleted all and wrote slowly and carefully again, then I got 201 response. thanks for your advice!","body":"I deleted all and wrote slowly and carefully again, then I got 201 response. thanks for your advice!"}],"owner":{"account_id":27791137,"reputation":1,"user_id":21217550,"display_name":"Simba"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676888357,"creation_date":1676866027,"question_id":75505189,"body_markdown":"```java\r\nimport com.google.gson.Gson;\r\nimport org.junit.jupiter.api.DisplayName;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.data.jpa.mapping.JpaMetamodelMappingContext;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.ResultActions;\r\nimport preproject.underdog.answer.dto.answer.AnswerPostDto;\r\n\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\n@WebMvcTest(value = AnswerController.class)\r\n//@AutoConfigureRestDocs\r\n@MockBean(JpaMetamodelMappingContext.class)\r\npublic class AnswerController {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Autowired\r\n    private Gson gson;\r\n\r\n    @Test\r\n    @DisplayName(&quot;답변 글 작성 테스트&quot;)\r\n    void postAnswer() throws Exception {\r\n        AnswerPostDto post = new AnswerPostDto(&quot;테스트&quot;, 1L, 1L);\r\n        String content = gson.toJson(post);\r\n\r\n        ResultActions actions =\r\n                mockMvc.perform(\r\n                        post(&quot;/answers&quot;)\r\n                                .accept(MediaType.APPLICATION_JSON)\r\n                                .contentType(MediaType.APPLICATION_JSON)\r\n                                .content(content)\r\n                );\r\n\r\n        actions\r\n                .andExpect(status().isCreated());\r\n}\r\n```\r\n\r\n```java\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.validation.annotation.Validated;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport preproject.underdog.answer.dto.answer.AnswerPostDto;\r\nimport preproject.underdog.answer.dto.answer.AnswerRespDto;\r\nimport preproject.underdog.answer.mapper.AnswerMapper;\r\nimport preproject.underdog.answer.service.AnswerService;\r\n\r\nimport javax.validation.Valid;\r\nimport java.time.LocalDateTime;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/answers&quot;)\r\n@Validated\r\n@RequiredArgsConstructor\r\npublic class AnswerController {\r\n\r\n    private final AnswerService answerService;\r\n    private final AnswerMapper answerMapper;\r\n\r\n    @PostMapping\r\n    public ResponseEntity postAnswer(@Valid @RequestBody AnswerPostDto answerPostDto) {\r\n\r\n        AnswerRespDto answerRespDto = new AnswerRespDto(1L,&quot;테스트&quot;,1L,1L,1L,  LocalDateTime.of(2023, 4, 3, 3, 3, 0),LocalDateTime.of(2023, 4, 3, 3, 3, 0));\r\n\r\n        return new ResponseEntity&lt;&gt;(answerRespDto, HttpStatus.CREATED);\r\n    }\r\n```\r\n\r\nHere&#39;s my codes first,\r\n\r\nI tried make Rest Docs first, but I faced a lot of errors, so I just started to try pass the MockMVC test first.\r\n\r\nSo I gotta got 201 response from that, but I only got 404 error\r\n\r\nhere&#39;s my log.\r\n-\r\n```\r\nMockHttpServletRequest:\r\nHTTP Method = POST\r\nRequest URI = /answers\r\nParameters = {}\r\nHeaders = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;49&quot;]\r\nBody = {&quot;content&quot;:&quot;테스트&quot;,&quot;userId&quot;:1,&quot;questionId&quot;:1}\r\nSession Attrs = {}\r\n\r\nHandler:\r\nType = org.springframework.web.servlet.resource.ResourceHttpRequestHandler\r\n\r\nAsync:\r\nAsync started = false\r\nAsync result = null\r\n\r\nResolved Exception:\r\nType = null\r\n\r\nModelAndView:\r\nView name = null\r\nView = null\r\nModel = null\r\n\r\nFlashMap:\r\nAttributes = null\r\n\r\nMockHttpServletResponse:\r\nStatus = 404\r\nError message = null\r\nHeaders = [Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;]\r\nContent type = null\r\nBody =\r\nForwarded URL = null\r\nRedirected URL = null\r\nCookies = []\r\n```\r\n\r\n```java\r\n@PostMapping\r\npublic ResponseEntity postAnswer(@Valid @RequestBody AnswerPostDto answerPostDto) {\r\nreturn new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\r\n}\r\n```\r\n\r\nI even tried to changed the code to get only 201 response like this\r\n\r\nbut it still gave me 404 error\r\n\r\nWhat should I do?? thanks\r\n","title":"MockMVC test Status expected:&lt;201&gt; but was:&lt;404&gt;","body":"<pre class=\"lang-java prettyprint-override\"><code>import com.google.gson.Gson;\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.data.jpa.mapping.JpaMetamodelMappingContext;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.ResultActions;\nimport preproject.underdog.answer.dto.answer.AnswerPostDto;\n\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n@WebMvcTest(value = AnswerController.class)\n//@AutoConfigureRestDocs\n@MockBean(JpaMetamodelMappingContext.class)\npublic class AnswerController {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Autowired\n    private Gson gson;\n\n    @Test\n    @DisplayName(&quot;답변 글 작성 테스트&quot;)\n    void postAnswer() throws Exception {\n        AnswerPostDto post = new AnswerPostDto(&quot;테스트&quot;, 1L, 1L);\n        String content = gson.toJson(post);\n\n        ResultActions actions =\n                mockMvc.perform(\n                        post(&quot;/answers&quot;)\n                                .accept(MediaType.APPLICATION_JSON)\n                                .contentType(MediaType.APPLICATION_JSON)\n                                .content(content)\n                );\n\n        actions\n                .andExpect(status().isCreated());\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.*;\nimport preproject.underdog.answer.dto.answer.AnswerPostDto;\nimport preproject.underdog.answer.dto.answer.AnswerRespDto;\nimport preproject.underdog.answer.mapper.AnswerMapper;\nimport preproject.underdog.answer.service.AnswerService;\n\nimport javax.validation.Valid;\nimport java.time.LocalDateTime;\n\n@RestController\n@RequestMapping(&quot;/answers&quot;)\n@Validated\n@RequiredArgsConstructor\npublic class AnswerController {\n\n    private final AnswerService answerService;\n    private final AnswerMapper answerMapper;\n\n    @PostMapping\n    public ResponseEntity postAnswer(@Valid @RequestBody AnswerPostDto answerPostDto) {\n\n        AnswerRespDto answerRespDto = new AnswerRespDto(1L,&quot;테스트&quot;,1L,1L,1L,  LocalDateTime.of(2023, 4, 3, 3, 3, 0),LocalDateTime.of(2023, 4, 3, 3, 3, 0));\n\n        return new ResponseEntity&lt;&gt;(answerRespDto, HttpStatus.CREATED);\n    }\n</code></pre>\n<p>Here's my codes first,</p>\n<p>I tried make Rest Docs first, but I faced a lot of errors, so I just started to try pass the MockMVC test first.</p>\n<p>So I gotta got 201 response from that, but I only got 404 error</p>\n<h2>here's my log.</h2>\n<pre><code>MockHttpServletRequest:\nHTTP Method = POST\nRequest URI = /answers\nParameters = {}\nHeaders = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;49&quot;]\nBody = {&quot;content&quot;:&quot;테스트&quot;,&quot;userId&quot;:1,&quot;questionId&quot;:1}\nSession Attrs = {}\n\nHandler:\nType = org.springframework.web.servlet.resource.ResourceHttpRequestHandler\n\nAsync:\nAsync started = false\nAsync result = null\n\nResolved Exception:\nType = null\n\nModelAndView:\nView name = null\nView = null\nModel = null\n\nFlashMap:\nAttributes = null\n\nMockHttpServletResponse:\nStatus = 404\nError message = null\nHeaders = [Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;]\nContent type = null\nBody =\nForwarded URL = null\nRedirected URL = null\nCookies = []\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping\npublic ResponseEntity postAnswer(@Valid @RequestBody AnswerPostDto answerPostDto) {\nreturn new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\n}\n</code></pre>\n<p>I even tried to changed the code to get only 201 response like this</p>\n<p>but it still gave me 404 error</p>\n<p>What should I do?? thanks</p>\n"},{"tags":["java","android","signalr","signalr.client"],"comments":[{"owner":{"account_id":14651144,"reputation":3344,"user_id":10581132,"display_name":"Kiril1512"},"score":0,"creation_date":1600169777,"post_id":63900805,"comment_id":112997322,"body_markdown":"Have you tried assign the received variables to your variables before using them? Like `myLat = lat`","body":"Have you tried assign the received variables to your variables before using them? Like <code>myLat = lat</code>"},{"owner":{"account_id":16896622,"reputation":75,"user_id":12219002,"display_name":"Addy"},"score":0,"creation_date":1600169953,"post_id":63900805,"comment_id":112997398,"body_markdown":"@Kiril1512 I try to give this variables to my function but it not work. Let me check by giving these variables values to my define variables.","body":"@Kiril1512 I try to give this variables to my function but it not work. Let me check by giving these variables values to my define variables."},{"owner":{"account_id":16896622,"reputation":75,"user_id":12219002,"display_name":"Addy"},"score":0,"creation_date":1600172137,"post_id":63900805,"comment_id":112998377,"body_markdown":"@Kiril1512 please check my updated question from last, i use your suggestion but still i face the problem","body":"@Kiril1512 please check my updated question from last, i use your suggestion but still i face the problem"}],"answers":[{"tags":[],"owner":{"account_id":11166583,"reputation":1442,"user_id":8195076,"display_name":"Wowo Ot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612777127,"creation_date":1612777127,"answer_id":66099083,"question_id":63900805,"body_markdown":"This Problem is because of the `UI Thread` not `Signalr`, you can try this code \r\n\r\n                hubConnection.on(&quot;ReceiveTxt&quot;,(txt)-&gt; {\r\n                Activity activity = (Activity) context;\r\n                activity.runOnUiThread(new Runnable() {\r\n                    public void run() {\r\n                        Toast.makeText(context, &quot;-&gt;&gt;&gt; :&quot; + txt, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n            }, String.class);\r\n\r\nIf you are in an `Activity` use this\r\n\r\n    hubConnection.on(&quot;ReceiveTxt&quot;,(txt)-&gt; {\r\n            this.runOnUiThread(new Runnable() {\r\n                public void run() {\r\n                    Toast.makeText(this, &quot;-&gt;&gt;&gt; :&quot; + txt, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }, String.class);","title":"SignalR java client hubConnection.on() method not trigger any method after receiving data","body":"<p>This Problem is because of the <code>UI Thread</code> not <code>Signalr</code>, you can try this code</p>\n<pre><code>            hubConnection.on(&quot;ReceiveTxt&quot;,(txt)-&gt; {\n            Activity activity = (Activity) context;\n            activity.runOnUiThread(new Runnable() {\n                public void run() {\n                    Toast.makeText(context, &quot;-&gt;&gt;&gt; :&quot; + txt, Toast.LENGTH_SHORT).show();\n                }\n            });\n        }, String.class);\n</code></pre>\n<p>If you are in an <code>Activity</code> use this</p>\n<pre><code>hubConnection.on(&quot;ReceiveTxt&quot;,(txt)-&gt; {\n        this.runOnUiThread(new Runnable() {\n            public void run() {\n                Toast.makeText(this, &quot;-&gt;&gt;&gt; :&quot; + txt, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }, String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17420642,"reputation":21,"user_id":12626265,"display_name":"Mohsen Barzgar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676888355,"creation_date":1676888355,"answer_id":75507973,"question_id":63900805,"body_markdown":"[**Call client methods from hub**][1]\r\n\r\nUse hubConnection.on to define methods on the client that the hub can call. Define the methods **after building** but **before starting** the connection.\r\n\r\nexample:\r\n\r\n    hubConnection = HubConnectionBuilder.create(&quot;http://www.example.com&quot;).build();\r\n\r\n    hubConnection.on(&quot;ReceiveLocation&quot;, (lat, lng) -&gt; {\r\n        Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lat));\r\n        Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lng));\r\n        if(hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED)\r\n            hubConnection.start();\r\n\r\n    }, String.class, String.class);\r\n\r\n\r\n    hubConnection.start();\r\n\r\n&gt; **Note**:\r\nIf you do not know the type of data sent from the server to the client, use **Object.class**.\r\n\r\nUse this method if you want to toast or have changes in UI:\r\n\r\n    hubConnection.on(&quot;ReceiveLocation&quot;, (data) -&gt; {\r\n            this.runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Toast.makeText(MainActivity.this, data.toString(), Toast.LENGTH_SHORT).show();\r\n                    txtPath.setText(data.toString());\r\n                }\r\n            });\r\n    },Object.class);\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/aspnet/core/signalr/java-client?view=aspnetcore-7.0#call-client-methods-from-hub","title":"SignalR java client hubConnection.on() method not trigger any method after receiving data","body":"<p><a href=\"https://learn.microsoft.com/en-us/aspnet/core/signalr/java-client?view=aspnetcore-7.0#call-client-methods-from-hub\" rel=\"nofollow noreferrer\"><strong>Call client methods from hub</strong></a></p>\n<p>Use hubConnection.on to define methods on the client that the hub can call. Define the methods <strong>after building</strong> but <strong>before starting</strong> the connection.</p>\n<p>example:</p>\n<pre><code>hubConnection = HubConnectionBuilder.create(&quot;http://www.example.com&quot;).build();\n\nhubConnection.on(&quot;ReceiveLocation&quot;, (lat, lng) -&gt; {\n    Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lat));\n    Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lng));\n    if(hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED)\n        hubConnection.start();\n\n}, String.class, String.class);\n\n\nhubConnection.start();\n</code></pre>\n<blockquote>\n<p><strong>Note</strong>:\nIf you do not know the type of data sent from the server to the client, use <strong>Object.class</strong>.</p>\n</blockquote>\n<p>Use this method if you want to toast or have changes in UI:</p>\n<pre><code>hubConnection.on(&quot;ReceiveLocation&quot;, (data) -&gt; {\n        this.runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                Toast.makeText(MainActivity.this, data.toString(), Toast.LENGTH_SHORT).show();\n                txtPath.setText(data.toString());\n            }\n        });\n},Object.class);\n</code></pre>\n"}],"owner":{"account_id":16896622,"reputation":75,"user_id":12219002,"display_name":"Addy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1668,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676888355,"creation_date":1600169084,"question_id":63900805,"body_markdown":"I use SignalR in my android app to receive real time data. When my &quot;hubConnection.on()&quot; method start it receive data successfully but inside this method it not allow me to use that data. Like when i write code like this : \r\n\r\n       hubConnection = HubConnectionBuilder.create(&quot;http://www.example.com&quot;).build();\r\n\r\n        hubConnection.start();\r\n\r\n        hubConnection.on(&quot;ReceiveLocation&quot;, (lat, lng) -&gt; {\r\n\r\n            Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lat));\r\n            Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lng));\r\n            if(hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED)\r\n                hubConnection.start();\r\n\r\n        }, String.class, String.class);\r\n\r\nThe this above case data receive successfully and also print in Log. \r\n\r\nBut when i try use this &quot;lat&quot; , &quot;lng&quot; variables, like i try to show a toast with &quot;lat&quot; value, data not receive this method and also toast not show on screen. Like i use code like this:\r\n\r\n            hubConnection = HubConnectionBuilder.create(&quot;http://www.example.com&quot;).build();\r\n\r\n        hubConnection.start();\r\n\r\n        hubConnection.on(&quot;ReceiveLocation&quot;, (lat, lng) -&gt; {\r\n\r\n\r\n            Toast.makeText(OrderTrackingActivity.this, &quot;-&gt;&gt;&gt;&quot;+Double.parseDouble(lat), Toast.LENGTH_SHORT).show();\r\n\r\n\r\n            Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lat));\r\n            Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lng));\r\n            if(hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED)\r\n                hubConnection.start();\r\n\r\n        }, String.class, String.class);\r\n\r\nIn this 2nd code the data not receive and toast not show. Please suggest me the possible solutions to solve this problem. I need to use this coming data.\r\n\r\nFollow a suggestion i try to store the value of &quot;lat&quot;, &quot;lng&quot; (variables of .on() funtion) into my own define variables and then pass these my variables to my function name &quot;myFuntion&quot; like this :\r\n\r\n     hubConnection.on(&quot;ReceiveLocation&quot;, (lat, lng) -&gt; {\r\n\r\n            varbl1 = lat;\r\n            varbl2 = lng;\r\n        Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lat));\r\n        Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lng));\r\n\r\n        myFuntion(varbl1 , varbl2);\r\n\r\n        if(hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED)\r\n            hubConnection.start();\r\n\r\n    }, String.class, String.class);\r\n\r\n\r\nThen in &quot;myFuntion&quot; i Log the values and successfully values print but still when i use that values either show in Toast or do something else the signalR &quot;hubConnection.on()&quot; funtion stop working. Here is my &quot;myFuntion&quot; method code:\r\n\r\n     public void myFuntion(String value, String value2){\r\n       \r\n        Toast.makeText(this, &quot;&quot;+value, Toast.LENGTH_SHORT).show();\r\n    \r\n    }\r\n\r\n ","title":"SignalR java client hubConnection.on() method not trigger any method after receiving data","body":"<p>I use SignalR in my android app to receive real time data. When my &quot;hubConnection.on()&quot; method start it receive data successfully but inside this method it not allow me to use that data. Like when i write code like this :</p>\n<pre><code>   hubConnection = HubConnectionBuilder.create(&quot;http://www.example.com&quot;).build();\n\n    hubConnection.start();\n\n    hubConnection.on(&quot;ReceiveLocation&quot;, (lat, lng) -&gt; {\n\n        Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lat));\n        Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lng));\n        if(hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED)\n            hubConnection.start();\n\n    }, String.class, String.class);\n</code></pre>\n<p>The this above case data receive successfully and also print in Log.</p>\n<p>But when i try use this &quot;lat&quot; , &quot;lng&quot; variables, like i try to show a toast with &quot;lat&quot; value, data not receive this method and also toast not show on screen. Like i use code like this:</p>\n<pre><code>        hubConnection = HubConnectionBuilder.create(&quot;http://www.example.com&quot;).build();\n\n    hubConnection.start();\n\n    hubConnection.on(&quot;ReceiveLocation&quot;, (lat, lng) -&gt; {\n\n\n        Toast.makeText(OrderTrackingActivity.this, &quot;-&gt;&gt;&gt;&quot;+Double.parseDouble(lat), Toast.LENGTH_SHORT).show();\n\n\n        Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lat));\n        Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lng));\n        if(hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED)\n            hubConnection.start();\n\n    }, String.class, String.class);\n</code></pre>\n<p>In this 2nd code the data not receive and toast not show. Please suggest me the possible solutions to solve this problem. I need to use this coming data.</p>\n<p>Follow a suggestion i try to store the value of &quot;lat&quot;, &quot;lng&quot; (variables of .on() funtion) into my own define variables and then pass these my variables to my function name &quot;myFuntion&quot; like this :</p>\n<pre><code> hubConnection.on(&quot;ReceiveLocation&quot;, (lat, lng) -&gt; {\n\n        varbl1 = lat;\n        varbl2 = lng;\n    Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lat));\n    Log.i(&quot;dataCheck&quot;, &quot;-&gt; &quot;+Double.parseDouble(lng));\n\n    myFuntion(varbl1 , varbl2);\n\n    if(hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED)\n        hubConnection.start();\n\n}, String.class, String.class);\n</code></pre>\n<p>Then in &quot;myFuntion&quot; i Log the values and successfully values print but still when i use that values either show in Toast or do something else the signalR &quot;hubConnection.on()&quot; funtion stop working. Here is my &quot;myFuntion&quot; method code:</p>\n<pre><code> public void myFuntion(String value, String value2){\n   \n    Toast.makeText(this, &quot;&quot;+value, Toast.LENGTH_SHORT).show();\n\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"score":1,"creation_date":1344796609,"post_id":11924736,"comment_id":15880076,"body_markdown":"You can do `ctrl+shift+o` and eclipse will add the necessary imports. From your error it looks like you are missing the jar containing `BinarySearch` class in the build path.","body":"You can do <code>ctrl+shift+o</code> and eclipse will add the necessary imports. From your error it looks like you are missing the jar containing <code>BinarySearch</code> class in the build path."},{"owner":{"account_id":402486,"reputation":1560,"user_id":769677,"accept_rate":64,"display_name":"Adrian B"},"score":3,"creation_date":1345756873,"post_id":11924736,"comment_id":16171853,"body_markdown":"I have the same problem... with the same algs4.jar :))","body":"I have the same problem... with the same algs4.jar :))"}],"answers":[{"comments":[{"owner":{"account_id":944980,"reputation":4806,"user_id":972381,"display_name":"jeffstern"},"score":0,"creation_date":1344826276,"post_id":11924822,"comment_id":15885270,"body_markdown":"That&#39;s what I started thinking. So I unzipped the jar added it into a package. Now I can use an import statement (&quot;com.package.*&quot;) and I can even create a new reference to the class (&quot;BinarySearch bs = new BinarySearch()&quot;. However, on runtime I get a ClassNotFoundException.","body":"That&#39;s what I started thinking. So I unzipped the jar added it into a package. Now I can use an import statement (&quot;com.package.*&quot;) and I can even create a new reference to the class (&quot;BinarySearch bs = new BinarySearch()&quot;. However, on runtime I get a ClassNotFoundException."},{"owner":{"account_id":944980,"reputation":4806,"user_id":972381,"display_name":"jeffstern"},"score":0,"creation_date":1344826451,"post_id":11924822,"comment_id":15885292,"body_markdown":"Additionally, I also get this error message: `Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError`","body":"Additionally, I also get this error message: <code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError</code>"},{"owner":{"account_id":1270084,"reputation":5416,"user_id":1226605,"accept_rate":86,"display_name":"devang"},"score":0,"creation_date":1344826468,"post_id":11924822,"comment_id":15885295,"body_markdown":"@jeffstern - You cannot just unzip and move `.class` files. You require the source. For each `.java` file change the package declaration to something suitable and then export as jar. The existing `.class` files still have old package declaration, i.e. `default`. Moving them to desired package will not change package declaration and hence your import won&#39;t work.","body":"@jeffstern - You cannot just unzip and move <code>.class</code> files. You require the source. For each <code>.java</code> file change the package declaration to something suitable and then export as jar. The existing <code>.class</code> files still have old package declaration, i.e. <code>default</code>. Moving them to desired package will not change package declaration and hence your import won&#39;t work."},{"owner":{"account_id":944980,"reputation":4806,"user_id":972381,"display_name":"jeffstern"},"score":0,"creation_date":1344826660,"post_id":11924822,"comment_id":15885320,"body_markdown":"Mm yes, that makes sense. I&#39;ll go back to the original creator of the library and see if they can recreate it with a standard package structure. Thank you.","body":"Mm yes, that makes sense. I&#39;ll go back to the original creator of the library and see if they can recreate it with a standard package structure. Thank you."}],"tags":[],"owner":{"account_id":1270084,"reputation":5416,"user_id":1226605,"accept_rate":86,"display_name":"devang"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1344797081,"creation_date":1344797081,"answer_id":11924822,"question_id":11924736,"body_markdown":"I am not sure, I did not try this. Some interpretations though.\r\n\r\nIs this a standard library or someone created it by himself and gave you? \r\n\r\nThe problem is class `BinarySearch` is in `default` package. You will not be able to import it. If this library is created by you, or by any of your friend, you need to ask your friend to move all classes from default package to a good namespace and then re-create the jar.\r\n\r\nIf class is accessible, `ctr + shift + o` should import the class.","title":"How to use classes in Referenced Libraries in Eclipse","body":"<p>I am not sure, I did not try this. Some interpretations though.</p>\n\n<p>Is this a standard library or someone created it by himself and gave you? </p>\n\n<p>The problem is class <code>BinarySearch</code> is in <code>default</code> package. You will not be able to import it. If this library is created by you, or by any of your friend, you need to ask your friend to move all classes from default package to a good namespace and then re-create the jar.</p>\n\n<p>If class is accessible, <code>ctr + shift + o</code> should import the class.</p>\n"},{"comments":[{"owner":{"account_id":166892,"reputation":4102,"user_id":391338,"display_name":"Sentry"},"score":0,"creation_date":1379954562,"post_id":18964477,"comment_id":28009486,"body_markdown":"This is the correct answer. Classes in the `default` package are not accessible by classes in other packages. This has nothing to do with being in a references library.","body":"This is the correct answer. Classes in the <code>default</code> package are not accessible by classes in other packages. This has nothing to do with being in a references library."}],"tags":[],"owner":{"account_id":2165659,"reputation":889,"user_id":1918822,"accept_rate":40,"display_name":"MrHopko"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1379954299,"creation_date":1379954299,"answer_id":18964477,"question_id":11924736,"body_markdown":"Note that the classes in the jar files are all contained in the default package.\r\n\r\nIf your classes are then contained in a package then they will not be directly accessible.\r\n\r\nI submit this answer because I am taking the algorithms course to which these jar files belong and this was the specific cause of my program not working. ","title":"How to use classes in Referenced Libraries in Eclipse","body":"<p>Note that the classes in the jar files are all contained in the default package.</p>\n\n<p>If your classes are then contained in a package then they will not be directly accessible.</p>\n\n<p>I submit this answer because I am taking the algorithms course to which these jar files belong and this was the specific cause of my program not working. </p>\n"},{"tags":[],"owner":{"account_id":2473846,"reputation":331,"user_id":2154947,"display_name":"Kristin Peterson"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1391912358,"creation_date":1391912358,"answer_id":21654418,"question_id":11924736,"body_markdown":"I am taking an [Algorithms][1] class via Coursera that utilizes the algs4.jar reference library.  \r\n\r\n**The Problem:**\r\n\r\nThe issue you are having is that the reference library is located in the default package and the source in which you are accessing the reference library is not.\r\n\r\n**The Solution**\r\n\r\nAll classes in your project need to be in the default package, otherwise the reference libraries (which are located in the default package) will not be recognized.  Your project classes need to be in the src directory and you should not declare a package at the beginning of your .java files. Additionally you also need to make sure you&#39;ve [added the reference libraries to your build path][2].\r\n\r\n\r\n  [1]: https://www.coursera.org/course/algs4partI\r\n  [2]: http://www.wikihow.com/Add-JARs-to-Project-Build-Paths-in-Eclipse-%28Java%29","title":"How to use classes in Referenced Libraries in Eclipse","body":"<p>I am taking an <a href=\"https://www.coursera.org/course/algs4partI\">Algorithms</a> class via Coursera that utilizes the algs4.jar reference library.  </p>\n\n<p><strong>The Problem:</strong></p>\n\n<p>The issue you are having is that the reference library is located in the default package and the source in which you are accessing the reference library is not.</p>\n\n<p><strong>The Solution</strong></p>\n\n<p>All classes in your project need to be in the default package, otherwise the reference libraries (which are located in the default package) will not be recognized.  Your project classes need to be in the src directory and you should not declare a package at the beginning of your .java files. Additionally you also need to make sure you've <a href=\"http://www.wikihow.com/Add-JARs-to-Project-Build-Paths-in-Eclipse-%28Java%29\">added the reference libraries to your build path</a>.</p>\n"},{"tags":[],"owner":{"account_id":2793439,"reputation":19,"user_id":2403197,"display_name":"Rex911"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405700902,"creation_date":1405539745,"answer_id":24789306,"question_id":11924736,"body_markdown":"If you want to import the classes, you need to download the packaged version of the library. See the Q&amp;A section at the bottom of this webpage.\nhttp://introcs.cs.princeton.edu/java/stdlib/\n\n&gt; Q. If I use a named package to structure my code, the compiler can no longer access the libraries in stdlib.jar. Why not?\n&gt;\n&gt; A. The libraries in stdlib.jar are in the &quot;default&quot; package. In Java, you can&#39;t access classes in the default package from a named package. If you need to use our libraries with a named package, you can use the packaged version stdlib-package.jar.","title":"How to use classes in Referenced Libraries in Eclipse","body":"<p>If you want to import the classes, you need to download the packaged version of the library. See the Q&amp;A section at the bottom of this webpage.\n<a href=\"http://introcs.cs.princeton.edu/java/stdlib/\" rel=\"nofollow noreferrer\">http://introcs.cs.princeton.edu/java/stdlib/</a></p>\n<blockquote>\n<p>Q. If I use a named package to structure my code, the compiler can no longer access the libraries in stdlib.jar. Why not?</p>\n<p>A. The libraries in stdlib.jar are in the &quot;default&quot; package. In Java, you can't access classes in the default package from a named package. If you need to use our libraries with a named package, you can use the packaged version stdlib-package.jar.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1769203,"reputation":8965,"user_id":1614378,"accept_rate":55,"display_name":"devops"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405702351,"creation_date":1405702351,"answer_id":24830165,"question_id":11924736,"body_markdown":"Firstly, BinarySearch can not be created (private Constructor). Use the static Method `BinarySearch.rank(int key, int[] array)`\r\n\r\nSecondly you can access BinarySearch only from **default package**\r\n\r\nThirdly what about `Arrays.binarySearch(array, key)` ?","title":"How to use classes in Referenced Libraries in Eclipse","body":"<p>Firstly, BinarySearch can not be created (private Constructor). Use the static Method <code>BinarySearch.rank(int key, int[] array)</code></p>\n\n<p>Secondly you can access BinarySearch only from <strong>default package</strong></p>\n\n<p>Thirdly what about <code>Arrays.binarySearch(array, key)</code> ?</p>\n"},{"tags":[],"owner":{"account_id":22179694,"reputation":11,"user_id":16423599,"display_name":"gprem062"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676888253,"creation_date":1676888253,"answer_id":75507958,"question_id":11924736,"body_markdown":"Just delete module_info.java file and the referenced libraries are accessible instantly","title":"How to use classes in Referenced Libraries in Eclipse","body":"<p>Just delete module_info.java file and the referenced libraries are accessible instantly</p>\n"}],"owner":{"account_id":944980,"reputation":4806,"user_id":972381,"display_name":"jeffstern"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28235,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":6,"score":6,"last_activity_date":1676888253,"creation_date":1344796517,"question_id":11924736,"body_markdown":"I have imported the algs4.jar file as a referenced library as seen above. All seems to be fine but I can&#39;t seem to use or access any of the classes in the library.\r\n\r\nIs there an import statement I&#39;m missing?\r\n\r\nImage reference:\r\n\r\n&lt;img src=&quot;http://i.stack.imgur.com/tRvEu.png&quot;&gt;\r\n\r\nNote how I&#39;m trying to use `BinarySearch` from the referenced library but it is not offering me an option to use or import it.","title":"How to use classes in Referenced Libraries in Eclipse","body":"<p>I have imported the algs4.jar file as a referenced library as seen above. All seems to be fine but I can't seem to use or access any of the classes in the library.</p>\n\n<p>Is there an import statement I'm missing?</p>\n\n<p>Image reference:</p>\n\n<p><img src=\"https://i.stack.imgur.com/tRvEu.png\"></p>\n\n<p>Note how I'm trying to use <code>BinarySearch</code> from the referenced library but it is not offering me an option to use or import it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1567678738,"post_id":57803198,"comment_id":102038306,"body_markdown":"Do not forget to `sc.close()`.","body":"Do not forget to <code>sc.close()</code>."},{"owner":{"display_name":"user11745382"},"score":0,"creation_date":1567679649,"post_id":57803198,"comment_id":102038742,"body_markdown":"Oh yes.. I forgot to close the Scanner object! oops..","body":"Oh yes.. I forgot to close the Scanner object! oops.."},{"owner":{"account_id":11696353,"reputation":567,"user_id":8562954,"display_name":"Erdal Dogan"},"score":0,"creation_date":1567680769,"post_id":57803198,"comment_id":102039368,"body_markdown":"I&#39;d use an array with size of 10, indexes from 0 to 9. Then, I would iterate over the digits of the number and assign True/1 to corresponding index of value of the digit in the array e.g. Number is: 6541234. For first digit I would make 6th(array[5]). element of my array True, then I would continue over the digits and print &#39;not unique&#39; message as I see a &#39;already True&#39; in the array.","body":"I&#39;d use an array with size of 10, indexes from 0 to 9. Then, I would iterate over the digits of the number and assign True/1 to corresponding index of value of the digit in the array e.g. Number is: 6541234. For first digit I would make 6th(array[5]). element of my array True, then I would continue over the digits and print &#39;not unique&#39; message as I see a &#39;already True&#39; in the array."}],"answers":[{"comments":[{"owner":{"account_id":14641249,"reputation":2969,"user_id":10573793,"display_name":"preciousbetine"},"score":0,"creation_date":1567679052,"post_id":57803241,"comment_id":102038447,"body_markdown":"This will still not work. I mean it will work on only the first character in the string.","body":"This will still not work. I mean it will work on only the first character in the string."},{"owner":{"display_name":"user11745382"},"score":0,"creation_date":1567679500,"post_id":57803241,"comment_id":102038662,"body_markdown":"Oh yes! I get it now, each digit will match with itself atleast once, and hence the wrong output!","body":"Oh yes! I get it now, each digit will match with itself atleast once, and hence the wrong output!"}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567678509,"creation_date":1567678509,"answer_id":57803241,"question_id":57803198,"body_markdown":"Your code will always find &quot;duplicate&quot; characters when `i == j`.\r\n\r\nYou should change the indices of the loop in order not to compare a character to itself:\r\n\r\n    for(int i=0;i&lt;num.length();i++) {\r\n        for(int j=i+1;j&lt;num.length();j++) {\r\n            if(num.charAt(i)==num.charAt(j))\r\n                ...\r\n\r\nBesides, you should only output the &quot;...is a Unique number.&quot; message after you are done with the outer loop.","title":"Checking whether a number is an Unique number or not","body":"<p>Your code will always find \"duplicate\" characters when <code>i == j</code>.</p>\n\n<p>You should change the indices of the loop in order not to compare a character to itself:</p>\n\n<pre><code>for(int i=0;i&lt;num.length();i++) {\n    for(int j=i+1;j&lt;num.length();j++) {\n        if(num.charAt(i)==num.charAt(j))\n            ...\n</code></pre>\n\n<p>Besides, you should only output the \"...is a Unique number.\" message after you are done with the outer loop.</p>\n"},{"tags":[],"owner":{"account_id":8122679,"reputation":199,"user_id":6118822,"display_name":"Akash jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567682845,"creation_date":1567682845,"answer_id":57804474,"question_id":57803198,"body_markdown":"Lets assume , length of input number to be 10 and &quot;i&quot; has reached the value of 5 in the for loop.\r\n\r\nNow &quot;j&quot; will have the values 0 to 9. \r\n\r\nSo when &quot;j&quot; is equal to 5 , the if condition becomes true as you are comparing the digit at 5th position with itself (which is always true).\r\n\r\n - If you add i != j condition , it will fix the issue :-\r\n\r\n``` if(num.charAt(i)==num.charAt(j) and i != j) ```\r\n\r\n - Alternatively, you can modify the loop for j to start from i + 1 so\r\n   that there are no overlaps.\r\n\r\n```for(int j=i+1;j&lt;num.length();j++) ```\r\n\r\nThe second option is much better as it will reduce the number of comparisons from (n*n)\r\nto (n * (n - 1))/2) , where n is the number of digits in the input number.\r\n","title":"Checking whether a number is an Unique number or not","body":"<p>Lets assume , length of input number to be 10 and \"i\" has reached the value of 5 in the for loop.</p>\n\n<p>Now \"j\" will have the values 0 to 9. </p>\n\n<p>So when \"j\" is equal to 5 , the if condition becomes true as you are comparing the digit at 5th position with itself (which is always true).</p>\n\n<ul>\n<li>If you add i != j condition , it will fix the issue :-</li>\n</ul>\n\n<p><code>if(num.charAt(i)==num.charAt(j) and i != j)</code></p>\n\n<ul>\n<li>Alternatively, you can modify the loop for j to start from i + 1 so\nthat there are no overlaps.</li>\n</ul>\n\n<p><code>for(int j=i+1;j&lt;num.length();j++)</code></p>\n\n<p>The second option is much better as it will reduce the number of comparisons from (n*n)\nto (n * (n - 1))/2) , where n is the number of digits in the input number.</p>\n"},{"comments":[{"owner":{"account_id":9924285,"reputation":708,"user_id":7346454,"display_name":"Thomas Martin"},"score":0,"creation_date":1567686560,"post_id":57804495,"comment_id":102042658,"body_markdown":"This is clever, only the potential leading 0 has to be checked before.","body":"This is clever, only the potential leading 0 has to be checked before."}],"tags":[],"owner":{"account_id":10316998,"reputation":3839,"user_id":7611028,"accept_rate":60,"display_name":"thibsc"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567683294,"creation_date":1567682929,"answer_id":57804495,"question_id":57803198,"body_markdown":"A possible solution is to use [`Stream`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html) to convert your [`String`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html) in a [`Set`](https://docs.oracle.com/javase/8/docs/api/java/util/Set.html) of char, then if the size of the set is the same as the length of your string, it is unique:\r\n\r\n    Scanner sc = new Scanner(System.in);\r\n\tSystem.out.println(&quot;Enter the number to be checked: &quot;);\r\n\tString num = sc.nextLine();\r\n\t\t\r\n\tboolean unique = Stream.of(num.split(&quot;&quot;))\r\n        .map(s -&gt; new String(s))\r\n        .collect(Collectors.toSet()).size() == num.length();\r\n    // With &quot;1234&quot; -&gt; print true\r\n    // With &quot;12342&quot; -&gt; print false\r\n\tSystem.out.println(unique);","title":"Checking whether a number is an Unique number or not","body":"<p>A possible solution is to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\"><code>Stream</code></a> to convert your <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code></a> in a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> of char, then if the size of the set is the same as the length of your string, it is unique:</p>\n\n<pre><code>Scanner sc = new Scanner(System.in);\nSystem.out.println(\"Enter the number to be checked: \");\nString num = sc.nextLine();\n\nboolean unique = Stream.of(num.split(\"\"))\n    .map(s -&gt; new String(s))\n    .collect(Collectors.toSet()).size() == num.length();\n// With \"1234\" -&gt; print true\n// With \"12342\" -&gt; print false\nSystem.out.println(unique);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9671656,"reputation":2721,"user_id":7176382,"display_name":"Shubhendu Pramanik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567683369,"creation_date":1567683369,"answer_id":57804627,"question_id":57803198,"body_markdown":"You can use below short and handy approach:\r\n\r\n        String a = &quot;123452&quot;;\r\n\r\n        String[] split = a.split(&quot;&quot;);\r\n        List&lt;String&gt; list = Arrays.asList(a.split(&quot;&quot;));\r\n        Set&lt;String&gt; set = new HashSet&lt;&gt;(list);\r\n\r\n        System.out.println(&quot;Unique: &quot; + (list.size() == set.size()));","title":"Checking whether a number is an Unique number or not","body":"<p>You can use below short and handy approach:</p>\n\n<pre><code>    String a = \"123452\";\n\n    String[] split = a.split(\"\");\n    List&lt;String&gt; list = Arrays.asList(a.split(\"\"));\n    Set&lt;String&gt; set = new HashSet&lt;&gt;(list);\n\n    System.out.println(\"Unique: \" + (list.size() == set.size()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27831510,"reputation":1,"user_id":21249833,"display_name":"Sarth Sarode"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676888250,"creation_date":1676888250,"answer_id":75507957,"question_id":57803198,"body_markdown":"    import java.util.*;\r\n\r\n    public class spnum\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter a number: &quot;);\r\n            String num = sc.next();\r\n            int ctr = 0;\r\n            boolean isNumUnique = true;\r\n            for(int i = 0; i &lt; num.length(); i++)\r\n            {\r\n                for(int j = 0; j &lt; num.length(); j++)\r\n                {\r\n                    if(num.charAt(i) == num.charAt(j))\r\n                    {\r\n                        ctr++;\r\n                    }\r\n                }\r\n                if(ctr &gt; 1)\r\n                {\r\n                    isNumUnique = false;\r\n                }\r\n                ctr = 0;\r\n            }\r\n\r\n            if(isNumUnique == true)\r\n            {\r\n                System.out.println(&quot;Number is a unique number&quot;);\r\n            }\r\n            else\r\n            {\r\n                System.out.println(&quot;Number is not a unique number&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nthis code would give the right answer","title":"Checking whether a number is an Unique number or not","body":"<pre><code>import java.util.*;\n\npublic class spnum\n{\n    public static void main(String[] args)\n    {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter a number: &quot;);\n        String num = sc.next();\n        int ctr = 0;\n        boolean isNumUnique = true;\n        for(int i = 0; i &lt; num.length(); i++)\n        {\n            for(int j = 0; j &lt; num.length(); j++)\n            {\n                if(num.charAt(i) == num.charAt(j))\n                {\n                    ctr++;\n                }\n            }\n            if(ctr &gt; 1)\n            {\n                isNumUnique = false;\n            }\n            ctr = 0;\n        }\n\n        if(isNumUnique == true)\n        {\n            System.out.println(&quot;Number is a unique number&quot;);\n        }\n        else\n        {\n            System.out.println(&quot;Number is not a unique number&quot;);\n        }\n    }\n}\n</code></pre>\n<p>this code would give the right answer</p>\n"}],"owner":{"display_name":"user11745382"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1676888250,"creation_date":1567678336,"question_id":57803198,"body_markdown":"I have written a program to check if a number is an Unique number.\r\n[A Unique number is a number with no repeating digits and no leading zeros.]\r\n\r\nI have written the following code:\r\n\r\n        Scanner sc=new Scanner(System.in)\r\n\r\n        System.out.println(&quot;Enter the number to be checked: &quot;);\r\n        String num=sc.nextLine();\r\n\r\n        if(num.charAt(0)!=&#39;0&#39;)\r\n        {   \r\n            Outer:\r\n            for(int i=0;i&lt;num.length();i++)\r\n            {\r\n                for(int j=0;j&lt;num.length();j++)\r\n                {\r\n                    if(num.charAt(i)==num.charAt(j))\r\n                    {\r\n                        System.out.println(&quot;No, &quot;+num+&quot; is not a Unique number.&quot;);\r\n                        break Outer;\r\n                    }\r\n                }\r\n                if(i==num.length()-1)\r\n                {\r\n                    System.out.println(&quot;Yes, &quot;+num+&quot; is a Unique number.&quot;);\r\n                }\r\n            }\r\n        }\r\n        else\r\n            System.out.println(&quot;No, &quot;+num+&quot; is not a Unique number as it has leading zeros.&quot;);\r\n\r\nThe problem is that is shows any number as NOT Unique, even 12345.\r\nI would like to know where I have gone wrong.","title":"Checking whether a number is an Unique number or not","body":"<p>I have written a program to check if a number is an Unique number.\n[A Unique number is a number with no repeating digits and no leading zeros.]</p>\n\n<p>I have written the following code:</p>\n\n<pre><code>    Scanner sc=new Scanner(System.in)\n\n    System.out.println(\"Enter the number to be checked: \");\n    String num=sc.nextLine();\n\n    if(num.charAt(0)!='0')\n    {   \n        Outer:\n        for(int i=0;i&lt;num.length();i++)\n        {\n            for(int j=0;j&lt;num.length();j++)\n            {\n                if(num.charAt(i)==num.charAt(j))\n                {\n                    System.out.println(\"No, \"+num+\" is not a Unique number.\");\n                    break Outer;\n                }\n            }\n            if(i==num.length()-1)\n            {\n                System.out.println(\"Yes, \"+num+\" is a Unique number.\");\n            }\n        }\n    }\n    else\n        System.out.println(\"No, \"+num+\" is not a Unique number as it has leading zeros.\");\n</code></pre>\n\n<p>The problem is that is shows any number as NOT Unique, even 12345.\nI would like to know where I have gone wrong.</p>\n"},{"tags":["java","multithreading","java-8","thread-safety","threadpool"],"answers":[{"comments":[{"owner":{"account_id":10255085,"reputation":21,"user_id":7568153,"display_name":"Sanjay"},"score":0,"creation_date":1676641508,"post_id":74160773,"comment_id":133183521,"body_markdown":"Hello Tim, \nIf you need a separate executor per tenant, this will need to be implemented. A good option might be to use a ConcurrentHashMap with customerId keys and ThreadPoolExecutor values.\n\n\nCan you give me an example on this one?","body":"Hello Tim,  If you need a separate executor per tenant, this will need to be implemented. A good option might be to use a ConcurrentHashMap with customerId keys and ThreadPoolExecutor values.   Can you give me an example on this one?"},{"owner":{"account_id":10255085,"reputation":21,"user_id":7568153,"display_name":"Sanjay"},"score":0,"creation_date":1676642094,"post_id":74160773,"comment_id":133183694,"body_markdown":"If I create a separate thread pool for each tenant, can I shutdown that threadpool so that the threads wont go to the wait/park state for a long time till it gets a new tasks.","body":"If I create a separate thread pool for each tenant, can I shutdown that threadpool so that the threads wont go to the wait/park state for a long time till it gets a new tasks."},{"owner":{"account_id":10255085,"reputation":21,"user_id":7568153,"display_name":"Sanjay"},"score":0,"creation_date":1676642387,"post_id":74160773,"comment_id":133183768,"body_markdown":"Also I was trying to initialize the thread pool when my tomcat server is started, but since I want to create each thread pool to each tenant I want to initialize the thread pool when I&#39;m triggering my scheduled task.","body":"Also I was trying to initialize the thread pool when my tomcat server is started, but since I want to create each thread pool to each tenant I want to initialize the thread pool when I&#39;m triggering my scheduled task."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1676670348,"post_id":74160773,"comment_id":133191429,"body_markdown":"Does the task use multiple threads internally? If the task is itself single threaded, and you want the thread to start when the task runs and stop when it finishes, you might not need a thread pool at all, but just an ordinary thread.","body":"Does the task use multiple threads internally? If the task is itself single threaded, and you want the thread to start when the task runs and stop when it finishes, you might not need a thread pool at all, but just an ordinary thread."},{"owner":{"account_id":10255085,"reputation":21,"user_id":7568153,"display_name":"Sanjay"},"score":0,"creation_date":1676875803,"post_id":74160773,"comment_id":133218374,"body_markdown":"I have multiple threads running internally.","body":"I have multiple threads running internally."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1676888391,"post_id":74160773,"comment_id":133221505,"body_markdown":"@Sanjay I added some example code. I hope this answers your question.","body":"@Sanjay I added some example code. I hope this answers your question."},{"owner":{"account_id":10255085,"reputation":21,"user_id":7568153,"display_name":"Sanjay"},"score":0,"creation_date":1680264053,"post_id":74160773,"comment_id":133872832,"body_markdown":"This is working perfectly fine for me. Thank you Tim.","body":"This is working perfectly fine for me. Thank you Tim."}],"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676888234,"creation_date":1666407417,"answer_id":74160773,"question_id":74121272,"body_markdown":"This code doesn&#39;t maintain any mapping from a tenant to a thread pool, there&#39;s only one static reference to a `ThreadPoolExecutor`. Each time `initiateCherwellMoveThreadPool` is called, any existing executor will be replaced with a new one, and the existing one isn&#39;t shut down, so it will leak resources. As a result, this will execute tasks from multiple tenants in the same thread pool.\r\n\r\nThis code is also not thread safe. It&#39;s possible (if unlikely) that a thread could schedule a task on a newly-created executor, or even shut it down, before `setRejectedExecutionHandler` is called.\r\n\r\nIf you need a separate executor per tenant, this will need to be implemented. A good option might be to use a [`ConcurrentHashMap`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html) with `customerId` keys and `ThreadPoolExecutor` values, for example (logging omitted for brevity):\r\n\r\n```java\r\npublic class MoveToCherwellThreadPool {\r\n    public static ConcurrentMap&lt;String, ThreadPoolExecutor&gt; cherwellMoveThreadPoolExecutors = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    public static ThreadPoolExecutor getCherwellMoveThreadPool(String customerId) {\r\n        return cherwellMoveThreadPoolExecutors.computeIfAbsent(customerId, id -&gt; {\r\n            BlockingQueue&lt;Runnable&gt; q = new LinkedBlockingQueue&lt;Runnable&gt;(100000);\r\n            ThreadPoolExecutor executor = new ThreadPoolExecutor(10, 20, 20, TimeUnit.SECONDS, q);\r\n            executor.setRejectedExecutionHandler(new RejectedExecutionHandler() { /*...*/ });\r\n            return executor;\r\n        });\r\n    }\r\n\r\n    public static List&lt;Runnable&gt; stopCherwellMoveTheadPool(String customerId) {\r\n        if (cherwellMoveThreadPoolExecutors.containsKey(customerId)) {\r\n            return cherwellMoveThreadPoolExecutors.get(customerId).shutdownNow();\r\n        }\r\n        return Collections.emptyList();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis can be used like this:\r\n\r\n    CompletableFuture&lt;?&gt; future = CompletableFuture.runAsync(relationshipThread,\r\n        MoveToCherwellThreadPool.getCherwellMoveThreadPool(customerId));\r\n\r\n\r\nIt&#39;s also important to realise that calling [`shutdownNow`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html#shutdownNow--) can only _attempt_ to cancel currently executing tasks, and &quot;does not wait for actively executing tasks to terminate&quot;:\r\n\r\n&gt; This implementation cancels tasks via [`Thread.interrupt()`](https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#interrupt--), so any task that fails to respond to interrupts may never terminate.\r\n\r\nThe code implementing `CherwellRelationshipMoveThread` isn&#39;t shown, so this may or may not be the case.","title":"Terminate threads in a thread pool for Multiple Tenant","body":"<p>This code doesn't maintain any mapping from a tenant to a thread pool, there's only one static reference to a <code>ThreadPoolExecutor</code>. Each time <code>initiateCherwellMoveThreadPool</code> is called, any existing executor will be replaced with a new one, and the existing one isn't shut down, so it will leak resources. As a result, this will execute tasks from multiple tenants in the same thread pool.</p>\n<p>This code is also not thread safe. It's possible (if unlikely) that a thread could schedule a task on a newly-created executor, or even shut it down, before <code>setRejectedExecutionHandler</code> is called.</p>\n<p>If you need a separate executor per tenant, this will need to be implemented. A good option might be to use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow noreferrer\"><code>ConcurrentHashMap</code></a> with <code>customerId</code> keys and <code>ThreadPoolExecutor</code> values, for example (logging omitted for brevity):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MoveToCherwellThreadPool {\n    public static ConcurrentMap&lt;String, ThreadPoolExecutor&gt; cherwellMoveThreadPoolExecutors = new ConcurrentHashMap&lt;&gt;();\n\n    public static ThreadPoolExecutor getCherwellMoveThreadPool(String customerId) {\n        return cherwellMoveThreadPoolExecutors.computeIfAbsent(customerId, id -&gt; {\n            BlockingQueue&lt;Runnable&gt; q = new LinkedBlockingQueue&lt;Runnable&gt;(100000);\n            ThreadPoolExecutor executor = new ThreadPoolExecutor(10, 20, 20, TimeUnit.SECONDS, q);\n            executor.setRejectedExecutionHandler(new RejectedExecutionHandler() { /*...*/ });\n            return executor;\n        });\n    }\n\n    public static List&lt;Runnable&gt; stopCherwellMoveTheadPool(String customerId) {\n        if (cherwellMoveThreadPoolExecutors.containsKey(customerId)) {\n            return cherwellMoveThreadPoolExecutors.get(customerId).shutdownNow();\n        }\n        return Collections.emptyList();\n    }\n\n}\n</code></pre>\n<p>This can be used like this:</p>\n<pre><code>CompletableFuture&lt;?&gt; future = CompletableFuture.runAsync(relationshipThread,\n    MoveToCherwellThreadPool.getCherwellMoveThreadPool(customerId));\n</code></pre>\n<p>It's also important to realise that calling <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html#shutdownNow--\" rel=\"nofollow noreferrer\"><code>shutdownNow</code></a> can only <em>attempt</em> to cancel currently executing tasks, and &quot;does not wait for actively executing tasks to terminate&quot;:</p>\n<blockquote>\n<p>This implementation cancels tasks via <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#interrupt--\" rel=\"nofollow noreferrer\"><code>Thread.interrupt()</code></a>, so any task that fails to respond to interrupts may never terminate.</p>\n</blockquote>\n<p>The code implementing <code>CherwellRelationshipMoveThread</code> isn't shown, so this may or may not be the case.</p>\n"}],"owner":{"account_id":10255085,"reputation":21,"user_id":7568153,"display_name":"Sanjay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74160773,"answer_count":1,"score":0,"last_activity_date":1676888234,"creation_date":1666163726,"question_id":74121272,"body_markdown":"I&#39;m creating a Threadpool as shown below for a job.\r\n````\r\npublic class MoveToCherwellThreadPool {\r\n\r\npublic static ThreadPoolExecutor cherwellMoveThreadPoolExecutor = null;\r\nprivate static EMLogger logger = EMLogger.getLogger();\r\nprivate static final String CLASSNAME = &quot;MoveToCherwellThreadPool&quot;;\r\n\r\n\tpublic static void initiateCherwellMoveThreadPool() {\r\n\t\tBlockingQueue&lt;Runnable&gt; q = new LinkedBlockingQueue&lt;Runnable&gt;(100000);\r\n\t\tcherwellMoveThreadPoolExecutor = new ThreadPoolExecutor(10,20, 20, TimeUnit.SECONDS, q);\r\n\t\tcherwellMoveThreadPoolExecutor.setRejectedExecutionHandler(new RejectedExecutionHandler() {\r\n            @Override\r\n            public void rejectedExecution(Runnable r,\r\n                    ThreadPoolExecutor executor) {\r\n                logger.logDebug(CLASSNAME,&quot;Rejected task cherwellMoveThreadPoolExecutor Active tasks : &quot; + cherwellMoveThreadPoolExecutor.getActiveCount() + &quot;, &quot; + &quot;cherwellMoveThreadPoolExecutor Completed tasks : &quot; + cherwellMoveThreadPoolExecutor.getCompletedTaskCount()+&quot; Waiting for a second !! &quot;);\r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                executor.execute(r);\r\n            }\r\n        });\r\n\t}\r\n\t\r\n}\r\n````\r\n\r\nI&#39;m using this during a process running for multiple customers. For each customer new threadpool will be initialized and threads will be running.\r\nBelow is the code where I&#39;m using the threadpool.\r\n\r\n````\r\nfor (Object[] objects : relationshipList) {\r\n\t\t\t\t\t\tCherwellRelationshipMoveThread relationshipThread = new CherwellRelationshipMoveThread(objects,\r\n\t\t\t\t\t\t\t\tthis.customerId, sb, credential,mainCIId,moveUniqueId,this.startTime);\r\n\t\t\t\t\t\tCompletableFuture&lt;?&gt; future = CompletableFuture.runAsync(relationshipThread,\r\n\t\t\t\t\t\t\t\tMoveToCherwellThreadPool.cherwellMoveThreadPoolExecutor);\r\n\t\t\t\t\t\tcrelationshipList.add(future);\r\n\t\t\t\t}\r\n\t\t\t\tcrelationshipList.forEach(CompletableFuture::join);\r\n````\r\n\r\nThis thread will be created for multiple customers. I&#39;m giving an option to terminate this job in UI. On click of stop process I need to stop/kill only the threads running for that particular customer and other customer&#39;s thread shouldn&#39;t be harmed and should be keep running.\r\n\r\n\r\nOn click of stop process from UI I&#39;m calling a service where inside the service my code will be\r\n````\r\nMoveToCherwellThreadPool.cherwellMoveThreadPoolExecutor.shutdownNow();\r\n\r\n````\r\nI&#39;m calling shutdownNow() on the ThreadPoolExecutor. \r\n\r\nThis is killing all the threads of all the customers. I don&#39;t want to kill all the customers process, but only for the customer where I&#39;ll click on stop process.\r\n","title":"Terminate threads in a thread pool for Multiple Tenant","body":"<p>I'm creating a Threadpool as shown below for a job.</p>\n<pre><code>public class MoveToCherwellThreadPool {\n\npublic static ThreadPoolExecutor cherwellMoveThreadPoolExecutor = null;\nprivate static EMLogger logger = EMLogger.getLogger();\nprivate static final String CLASSNAME = &quot;MoveToCherwellThreadPool&quot;;\n\n    public static void initiateCherwellMoveThreadPool() {\n        BlockingQueue&lt;Runnable&gt; q = new LinkedBlockingQueue&lt;Runnable&gt;(100000);\n        cherwellMoveThreadPoolExecutor = new ThreadPoolExecutor(10,20, 20, TimeUnit.SECONDS, q);\n        cherwellMoveThreadPoolExecutor.setRejectedExecutionHandler(new RejectedExecutionHandler() {\n            @Override\n            public void rejectedExecution(Runnable r,\n                    ThreadPoolExecutor executor) {\n                logger.logDebug(CLASSNAME,&quot;Rejected task cherwellMoveThreadPoolExecutor Active tasks : &quot; + cherwellMoveThreadPoolExecutor.getActiveCount() + &quot;, &quot; + &quot;cherwellMoveThreadPoolExecutor Completed tasks : &quot; + cherwellMoveThreadPoolExecutor.getCompletedTaskCount()+&quot; Waiting for a second !! &quot;);\n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n                executor.execute(r);\n            }\n        });\n    }\n    \n}\n</code></pre>\n<p>I'm using this during a process running for multiple customers. For each customer new threadpool will be initialized and threads will be running.\nBelow is the code where I'm using the threadpool.</p>\n<pre><code>for (Object[] objects : relationshipList) {\n                        CherwellRelationshipMoveThread relationshipThread = new CherwellRelationshipMoveThread(objects,\n                                this.customerId, sb, credential,mainCIId,moveUniqueId,this.startTime);\n                        CompletableFuture&lt;?&gt; future = CompletableFuture.runAsync(relationshipThread,\n                                MoveToCherwellThreadPool.cherwellMoveThreadPoolExecutor);\n                        crelationshipList.add(future);\n                }\n                crelationshipList.forEach(CompletableFuture::join);\n</code></pre>\n<p>This thread will be created for multiple customers. I'm giving an option to terminate this job in UI. On click of stop process I need to stop/kill only the threads running for that particular customer and other customer's thread shouldn't be harmed and should be keep running.</p>\n<p>On click of stop process from UI I'm calling a service where inside the service my code will be</p>\n<pre><code>MoveToCherwellThreadPool.cherwellMoveThreadPoolExecutor.shutdownNow();\n\n</code></pre>\n<p>I'm calling shutdownNow() on the ThreadPoolExecutor.</p>\n<p>This is killing all the threads of all the customers. I don't want to kill all the customers process, but only for the customer where I'll click on stop process.</p>\n"},{"tags":["java","eclipse","web.xml"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1676886380,"post_id":75507520,"comment_id":133220930,"body_markdown":"Looks like a spell-check. Is it actually causing a problem?","body":"Looks like a spell-check. Is it actually causing a problem?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1676887998,"post_id":75507520,"comment_id":133221400,"body_markdown":"Seems that an empty URL pattern is pointless: https://stackoverflow.com/questions/74070202/empty-string-for-url-mapping-is-not-working-in-web-xml - I would recommend to report that as a bug to the repository owners","body":"Seems that an empty URL pattern is pointless: <a href=\"https://stackoverflow.com/questions/74070202/empty-string-for-url-mapping-is-not-working-in-web-xml\" title=\"empty string for url mapping is not working in web xml\">stackoverflow.com/questions/74070202/&hellip;</a> - I would recommend to report that as a bug to the repository owners"},{"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"score":0,"creation_date":1676888031,"post_id":75507520,"comment_id":133221404,"body_markdown":"Yes the spell-check didn&#39;t cause the issue. I have updated the question to reflect the actual error which is present even after disabling spell-check","body":"Yes the spell-check didn&#39;t cause the issue. I have updated the question to reflect the actual error which is present even after disabling spell-check"},{"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"score":0,"creation_date":1676888764,"post_id":75507520,"comment_id":133221606,"body_markdown":"@ThomasKl&#228;ger - Any guidance on how can I reach out to the repository owners?","body":"@ThomasKl&#228;ger - Any guidance on how can I reach out to the repository owners?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1676889862,"post_id":75507520,"comment_id":133221951,"body_markdown":"When you open the github link in a browser you will see a tab &quot;Issues&quot; and when you open that tab it contains a button &quot;New Issue&quot;. The issue list doesn&#39;t contain a related issue so IMHO it is legit to create a new issue for this problem.","body":"When you open the github link in a browser you will see a tab &quot;Issues&quot; and when you open that tab it contains a button &quot;New Issue&quot;. The issue list doesn&#39;t contain a related issue so IMHO it is legit to create a new issue for this problem."}],"answers":[{"comments":[{"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"score":0,"creation_date":1676888078,"post_id":75507663,"comment_id":133221421,"body_markdown":"Yes the spell-check didn&#39;t cause the issue. I have updated the question to reflect the actual error which is present even after disabling spell-check.","body":"Yes the spell-check didn&#39;t cause the issue. I have updated the question to reflect the actual error which is present even after disabling spell-check."}],"tags":[],"owner":{"account_id":18895937,"reputation":54,"user_id":13785124,"display_name":"Djoxy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676886571,"creation_date":1676886571,"answer_id":75507663,"question_id":75507520,"body_markdown":"Try disable spell checking go to: Window -&gt; Preferences, choose General, Editors, Text Editors, Spelling and disable spell checking.","title":"Error - The URL Mapping &quot;&quot; is invalid | Eclipse | web.xml","body":"<p>Try disable spell checking go to: Window -&gt; Preferences, choose General, Editors, Text Editors, Spelling and disable spell checking.</p>\n"}],"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676887965,"creation_date":1676885827,"question_id":75507520,"body_markdown":"I have cloned a maven project from GIT in Eclipse - https://github.com/Microsoft/Partner-Center-DotNet-Samples.git\r\n\r\nAnd the validation error says - The URL Mapping &quot;&quot; is invalid.\r\n\r\nScreenshot: [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/be4yb.jpg\r\n\r\nPlease advise on the resolution.","title":"Error - The URL Mapping &quot;&quot; is invalid | Eclipse | web.xml","body":"<p>I have cloned a maven project from GIT in Eclipse - <a href=\"https://github.com/Microsoft/Partner-Center-DotNet-Samples.git\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/Partner-Center-DotNet-Samples.git</a></p>\n<p>And the validation error says - The URL Mapping &quot;&quot; is invalid.</p>\n<p>Screenshot: <a href=\"https://i.stack.imgur.com/be4yb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/be4yb.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Please advise on the resolution.</p>\n"},{"tags":["java","spring-boot","mapping","converters","modelmapper"],"answers":[{"comments":[{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1676890724,"post_id":75507896,"comment_id":133222171,"body_markdown":"Sounds good, voted up. But instead of creating everything from scratch, what about using some pre-defined interfaces e.g. Converter interface?","body":"Sounds good, voted up. But instead of creating everything from scratch, what about using some pre-defined interfaces e.g. Converter interface?"},{"owner":{"account_id":19081633,"reputation":3,"user_id":13933698,"display_name":"FrenchCornichon"},"score":0,"creation_date":1676910127,"post_id":75507896,"comment_id":133227867,"body_markdown":"Hey, in my humble opinion is better to stay simple for this kind of problem.","body":"Hey, in my humble opinion is better to stay simple for this kind of problem."}],"tags":[],"owner":{"account_id":19081633,"reputation":3,"user_id":13933698,"display_name":"FrenchCornichon"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676887918,"creation_date":1676887918,"answer_id":75507896,"question_id":75506927,"body_markdown":"From my exp&#233;rience, this is my suggestion. You have 1 entity and 1 entityDTO.\r\nYou make a constructor of entity that takes in parameter the entity DTO. Then you make a constructor for entityDTO that takes in parameter an entity. \r\nFinnaly, you create a mapper class for a given element that will use the 2 constructors to generate what you need. Here is an exemple :\r\n\r\n\r\n\r\nEntity.java : \r\n\r\n        @Entity\r\n        @Getter\r\n        @Setter\r\n        @NoArgsConstructor\r\n        @Table(name=&quot;entity&quot;)\r\n        public class Entity{\r\n            @Id\r\n           \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            private Long id_entity;\r\n    \r\n            @Column(name = &quot;name&quot;)\r\n            private String name;\r\n            \r\n        public Entity(EntityDTO entityDTO){\r\n           this.setId_entity(entityDTO.getId_entity())\r\n           this.setName(entityDTO.getName())\r\n        }\r\n       }\r\n\r\nEntityDTO.java :\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    public class EntityDTO{\r\n        private Long id_entity;\r\n        private String name;\r\n    \r\n       public EntityDTO(Entity entity){\r\n          this.setId_Entity(entity.getId_entity())\r\n          this.setName(entity.getName())\r\n       }\r\n    \r\n    }\r\n\r\nEntityMapper.java :\r\n\r\n        @Component\r\n        public class EntityMapper{\r\n            public EntityDTO toDto(Entity entity){\r\n                return new EntityDTO(entity);\r\n            }\r\n          \r\n            public Entity toEntity(EntityDTO entityDTO){\r\n                return new Entity(entityDTO);\r\n            }\r\n    }\r\n\r\nThese anotations are from lombok library, used for time saving :\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n\r\nThen you can just make requests to Database to get entities, and place the flow of answers through the mapper to convert them to EntityDTO and send them to where ever you need. In your controller :\r\n\r\n    @Autowired\r\n    EntityMapper mapper;\r\n\r\nIn your functions, you can return :\r\n\r\n    service.getEntities().stream.map(mapper::toDTO).collect(Collectors.toList();","title":"Mapping Entity &lt;-&gt; DTO using a generic solution with ModelMapper or Converter?","body":"<p>From my expérience, this is my suggestion. You have 1 entity and 1 entityDTO.\nYou make a constructor of entity that takes in parameter the entity DTO. Then you make a constructor for entityDTO that takes in parameter an entity.\nFinnaly, you create a mapper class for a given element that will use the 2 constructors to generate what you need. Here is an exemple :</p>\n<p>Entity.java :</p>\n<pre><code>    @Entity\n    @Getter\n    @Setter\n    @NoArgsConstructor\n    @Table(name=&quot;entity&quot;)\n    public class Entity{\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id_entity;\n\n        @Column(name = &quot;name&quot;)\n        private String name;\n        \n    public Entity(EntityDTO entityDTO){\n       this.setId_entity(entityDTO.getId_entity())\n       this.setName(entityDTO.getName())\n    }\n   }\n</code></pre>\n<p>EntityDTO.java :</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\npublic class EntityDTO{\n    private Long id_entity;\n    private String name;\n\n   public EntityDTO(Entity entity){\n      this.setId_Entity(entity.getId_entity())\n      this.setName(entity.getName())\n   }\n\n}\n</code></pre>\n<p>EntityMapper.java :</p>\n<pre><code>    @Component\n    public class EntityMapper{\n        public EntityDTO toDto(Entity entity){\n            return new EntityDTO(entity);\n        }\n      \n        public Entity toEntity(EntityDTO entityDTO){\n            return new Entity(entityDTO);\n        }\n}\n</code></pre>\n<p>These anotations are from lombok library, used for time saving :</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n</code></pre>\n<p>Then you can just make requests to Database to get entities, and place the flow of answers through the mapper to convert them to EntityDTO and send them to where ever you need. In your controller :</p>\n<pre><code>@Autowired\nEntityMapper mapper;\n</code></pre>\n<p>In your functions, you can return :</p>\n<pre><code>service.getEntities().stream.map(mapper::toDTO).collect(Collectors.toList();\n</code></pre>\n"}],"owner":{"display_name":"user21099360"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":639,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676887918,"creation_date":1676882175,"question_id":75506927,"body_markdown":"In my Spring boot apps, I use a custom class for mapping from entity to dto or vice versa. On the other hand, I know there are some better options e.g. ModelMapper or Converter class.\r\n\r\nAfter my searches, I have seen some good examples as shown below:\r\n\r\n[Automatically Mapping DTO to Entity on Spring Boot APIs](https://auth0.com/blog/automatically-mapping-dto-to-entity-on-spring-boot-apis/)\r\n\r\nIt sounds good, but as I have no previous experience, I wanted to be clarified about some points before proceeding. Could you help me please?\r\n\r\n**1.** Is that solution is a proper ModelMapper example and can I also apply that approach for mapping entity to DTO?\r\n\r\n**2.** What about implementing Converter interface without using a 3rd party library? Can I also build a generic mechanism using Converter interface?\r\n\r\nNote: I also considered using MapStruct or JMapper, but ModelMapper sounds easier to use and for this reason I decided to use ModelMapper. But if you have some suggestion that clearly shows one of them has more advantegous, feel free to share your suggestions. I could also consider to use it. \r\n\r\nAny help would be appreciated.","title":"Mapping Entity &lt;-&gt; DTO using a generic solution with ModelMapper or Converter?","body":"<p>In my Spring boot apps, I use a custom class for mapping from entity to dto or vice versa. On the other hand, I know there are some better options e.g. ModelMapper or Converter class.</p>\n<p>After my searches, I have seen some good examples as shown below:</p>\n<p><a href=\"https://auth0.com/blog/automatically-mapping-dto-to-entity-on-spring-boot-apis/\" rel=\"nofollow noreferrer\">Automatically Mapping DTO to Entity on Spring Boot APIs</a></p>\n<p>It sounds good, but as I have no previous experience, I wanted to be clarified about some points before proceeding. Could you help me please?</p>\n<p><strong>1.</strong> Is that solution is a proper ModelMapper example and can I also apply that approach for mapping entity to DTO?</p>\n<p><strong>2.</strong> What about implementing Converter interface without using a 3rd party library? Can I also build a generic mechanism using Converter interface?</p>\n<p>Note: I also considered using MapStruct or JMapper, but ModelMapper sounds easier to use and for this reason I decided to use ModelMapper. But if you have some suggestion that clearly shows one of them has more advantegous, feel free to share your suggestions. I could also consider to use it.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","redis"],"comments":[{"owner":{"account_id":7027398,"reputation":21375,"user_id":5384363,"accept_rate":64,"display_name":"for_stack"},"score":4,"creation_date":1568042527,"post_id":29203717,"comment_id":102140099,"body_markdown":"4 years past, and now, you can use the [redis-protobuf](https://github.com/sewenew/redis-protobuf) module to save nested data structures to Redis. *Disclaimer*: I&#39;m the author of this module.","body":"4 years past, and now, you can use the <a href=\"https://github.com/sewenew/redis-protobuf\" rel=\"nofollow noreferrer\">redis-protobuf</a> module to save nested data structures to Redis. <i>Disclaimer</i>: I&#39;m the author of this module."},{"owner":{"account_id":3404868,"reputation":3924,"user_id":2856202,"accept_rate":50,"display_name":"daparic"},"score":0,"creation_date":1605084593,"post_id":29203717,"comment_id":114541231,"body_markdown":"@for_stack this is all well and good. How do we do this customization in redislabs deployments?","body":"@for_stack this is all well and good. How do we do this customization in redislabs deployments?"},{"owner":{"account_id":7027398,"reputation":21375,"user_id":5384363,"accept_rate":64,"display_name":"for_stack"},"score":0,"creation_date":1605088023,"post_id":29203717,"comment_id":114542614,"body_markdown":"@eigenfield Sorry, but I&#39;m not familiar with redislabs deployments, but I think you can simply build the module, and config it with `loadmodule` configuration. Also you can ask @Itamar Haber for help. I&#39;m sure his advice will be very helpful :)","body":"@eigenfield Sorry, but I&#39;m not familiar with redislabs deployments, but I think you can simply build the module, and config it with <code>loadmodule</code> configuration. Also you can ask @Itamar Haber for help. I&#39;m sure his advice will be very helpful :)"}],"answers":[{"comments":[{"owner":{"account_id":7213792,"reputation":1527,"user_id":5506988,"accept_rate":60,"display_name":"Mark"},"score":1,"creation_date":1676831492,"post_id":29204442,"comment_id":133212144,"body_markdown":"**Redis&#39; data structures cannot be nested inside other data structures, so storing a List inside a Hash is not possible**. Perfectly phrased I wish the docs said this?","body":"<b>Redis&#39; data structures cannot be nested inside other data structures, so storing a List inside a Hash is not possible</b>. Perfectly phrased I wish the docs said this?"}],"tags":[],"owner":{"account_id":1099357,"reputation":47942,"user_id":3160475,"display_name":"Itamar Haber"},"comment_count":1,"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1427092545,"creation_date":1427092545,"answer_id":29204442,"question_id":29203717,"body_markdown":"Redis&#39; data structures cannot be nested inside other data structures, so storing a List inside a Hash is not possible. Instead, use different keys for your servers&#39; CPU values (e.g. `server1:cpu`).","title":"Redis storing list inside hash","body":"<p>Redis' data structures cannot be nested inside other data structures, so storing a List inside a Hash is not possible. Instead, use different keys for your servers' CPU values (e.g. <code>server1:cpu</code>).</p>\n"},{"comments":[{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1598706213,"post_id":39727810,"comment_id":112549273,"body_markdown":"so I have to create separate RLists, and name them? Then when I remove an entry from RMap I have to somehow clean or remove RList as well? I have to manage that? The RMap might be temporary, pollution is certainly going to be increasing. The RList then has to be named before you add to it, so the key has to be supplied to the RList as name. Seems like a nice big mess. Thinking of sticking with SQL. Seems impossible to manage stuff.","body":"so I have to create separate RLists, and name them? Then when I remove an entry from RMap I have to somehow clean or remove RList as well? I have to manage that? The RMap might be temporary, pollution is certainly going to be increasing. The RList then has to be named before you add to it, so the key has to be supplied to the RList as name. Seems like a nice big mess. Thinking of sticking with SQL. Seems impossible to manage stuff."},{"owner":{"account_id":7213792,"reputation":1527,"user_id":5506988,"accept_rate":60,"display_name":"Mark"},"score":0,"creation_date":1676830973,"post_id":39727810,"comment_id":133212044,"body_markdown":"This answer needs a disclaimer that `Nikita Koksharov` is the - Founder and Lead Developer @ Redisson","body":"This answer needs a disclaimer that <code>Nikita Koksharov</code> is the - Founder and Lead Developer @ Redisson"}],"tags":[],"owner":{"account_id":399098,"reputation":10383,"user_id":764206,"display_name":"Nikita Koksharov"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1676887801,"creation_date":1474987849,"answer_id":39727810,"question_id":29203717,"body_markdown":"It&#39;s possible to do this with [Redisson](https://redisson.org) framework. It allows to store a reference to Redis object in another Redis object though special reference objects which handled by Redisson. \r\n\r\nSo your task could be solved using List inside Map:\r\n\r\n    RMap&lt;String, RList&lt;Option&gt;&gt; settings = redisson.getMap(&quot;settings&quot;);\r\n\r\n    RList&lt;Option&gt; options1 = redisson.getList(&quot;settings_server1_option&quot;);\r\n    options1.add(new Option(&quot;name&quot;, &quot;s1&quot;));\r\n    options1.add(new Option(&quot;cpu&quot;, &quot;80&quot;));\r\n    settings.put(&quot;server1&quot;, options1);\r\n\r\n    RList&lt;Option&gt; options2 = redisson.getList(&quot;settings_server2_option&quot;);\r\n    options2.add(new Option(&quot;name&quot;, &quot;s2&quot;));\r\n    options2.add(new Option(&quot;cpu&quot;, &quot;40&quot;));\r\n    settings.put(&quot;server2&quot;, options2);\r\n\r\n    // read it\r\n    RList&lt;Option&gt; options2Value = settings.get(&quot;server2&quot;);\r\n\r\nOr using Map inside Map:\r\n\r\n    RMap&lt;String, RMap&lt;String, String&gt;&gt; settings = redisson.getMap(&quot;settings&quot;);\r\n\r\n    RMap&lt;String, String&gt; options1 = redisson.getMap(&quot;settings_server1_option&quot;);\r\n    options1.put(&quot;name&quot;, &quot;s1&quot;);\r\n    options1.put(&quot;cpu&quot;, &quot;80&quot;);\r\n    settings.put(&quot;server1&quot;, options1);\r\n\r\n    RMap&lt;String, String&gt; options2 = redisson.getMap(&quot;settings_server2_option&quot;);\r\n    options2.put(&quot;name&quot;, &quot;s2&quot;);\r\n    options2.put(&quot;cpu&quot;, &quot;40&quot;);\r\n    settings.put(&quot;server2&quot;, options1);\r\n\r\n    // read it\r\n    RMap&lt;String, String&gt; options2Value = settings.get(&quot;server2&quot;);\r\n\r\nDiclamer: I&#39;m a developer of Redisson","title":"Redis storing list inside hash","body":"<p>It's possible to do this with <a href=\"https://redisson.org\" rel=\"nofollow noreferrer\">Redisson</a> framework. It allows to store a reference to Redis object in another Redis object though special reference objects which handled by Redisson.</p>\n<p>So your task could be solved using List inside Map:</p>\n<pre><code>RMap&lt;String, RList&lt;Option&gt;&gt; settings = redisson.getMap(&quot;settings&quot;);\n\nRList&lt;Option&gt; options1 = redisson.getList(&quot;settings_server1_option&quot;);\noptions1.add(new Option(&quot;name&quot;, &quot;s1&quot;));\noptions1.add(new Option(&quot;cpu&quot;, &quot;80&quot;));\nsettings.put(&quot;server1&quot;, options1);\n\nRList&lt;Option&gt; options2 = redisson.getList(&quot;settings_server2_option&quot;);\noptions2.add(new Option(&quot;name&quot;, &quot;s2&quot;));\noptions2.add(new Option(&quot;cpu&quot;, &quot;40&quot;));\nsettings.put(&quot;server2&quot;, options2);\n\n// read it\nRList&lt;Option&gt; options2Value = settings.get(&quot;server2&quot;);\n</code></pre>\n<p>Or using Map inside Map:</p>\n<pre><code>RMap&lt;String, RMap&lt;String, String&gt;&gt; settings = redisson.getMap(&quot;settings&quot;);\n\nRMap&lt;String, String&gt; options1 = redisson.getMap(&quot;settings_server1_option&quot;);\noptions1.put(&quot;name&quot;, &quot;s1&quot;);\noptions1.put(&quot;cpu&quot;, &quot;80&quot;);\nsettings.put(&quot;server1&quot;, options1);\n\nRMap&lt;String, String&gt; options2 = redisson.getMap(&quot;settings_server2_option&quot;);\noptions2.put(&quot;name&quot;, &quot;s2&quot;);\noptions2.put(&quot;cpu&quot;, &quot;40&quot;);\nsettings.put(&quot;server2&quot;, options1);\n\n// read it\nRMap&lt;String, String&gt; options2Value = settings.get(&quot;server2&quot;);\n</code></pre>\n<p>Diclamer: I'm a developer of Redisson</p>\n"},{"tags":[],"owner":{"account_id":15559739,"reputation":111,"user_id":11225142,"display_name":"Mohankumar M"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1620148944,"creation_date":1620148944,"answer_id":67389358,"question_id":29203717,"body_markdown":"You can encode/stringify push the data, while pulling data you can decode/parse the data.\r\n\r\n&gt; Encode -&gt; Decode\r\n\r\n&gt; Stringify -&gt; Parse","title":"Redis storing list inside hash","body":"<p>You can encode/stringify push the data, while pulling data you can decode/parse the data.</p>\n<blockquote>\n<p>Encode -&gt; Decode</p>\n</blockquote>\n<blockquote>\n<p>Stringify -&gt; Parse</p>\n</blockquote>\n"}],"owner":{"account_id":1120839,"reputation":687,"user_id":1109178,"accept_rate":25,"display_name":"Shabin Hashim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30227,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":29204442,"answer_count":3,"score":33,"last_activity_date":1676887801,"creation_date":1427087963,"question_id":29203717,"body_markdown":"I have to store some machine details in redis. As there are many different machines i am planning to use the below structure\r\n\r\n    server1 =&gt; {name =&gt; s1, cpu=&gt;80}\r\n    server2 =&gt; {name =&gt; s2, cpu=&gt;40}\r\n\r\nI need to store more than one value against the key CPU. Also i need to maintain only the last 10 values in the list of values against cpu\r\n\r\n1) How can i store a list against the key inside the hash?\r\n\r\n2) I read about ltrim. But it accepts a key. How can i do a ltrim for key cpu inside server1?\r\n\r\nI am using jedis.","title":"Redis storing list inside hash","body":"<p>I have to store some machine details in redis. As there are many different machines i am planning to use the below structure</p>\n\n<pre><code>server1 =&gt; {name =&gt; s1, cpu=&gt;80}\nserver2 =&gt; {name =&gt; s2, cpu=&gt;40}\n</code></pre>\n\n<p>I need to store more than one value against the key CPU. Also i need to maintain only the last 10 values in the list of values against cpu</p>\n\n<p>1) How can i store a list against the key inside the hash?</p>\n\n<p>2) I read about ltrim. But it accepts a key. How can i do a ltrim for key cpu inside server1?</p>\n\n<p>I am using jedis.</p>\n"},{"tags":["java","json","rhino"],"comments":[{"owner":{"account_id":7433,"reputation":24739,"user_id":12916,"accept_rate":23,"display_name":"Jesse Glick"},"score":0,"creation_date":1312899299,"post_id":6046482,"comment_id":8352569,"body_markdown":"For that matter, I would like to be able to use `for (var in list) {...}` syntax rather than having to use an explicit iterator.","body":"For that matter, I would like to be able to use <code>for (var in list) {...}</code> syntax rather than having to use an explicit iterator."},{"owner":{"account_id":147114,"reputation":3039,"user_id":358006,"accept_rate":67,"display_name":"Peter L"},"score":0,"creation_date":1324511102,"post_id":6046482,"comment_id":10666727,"body_markdown":"FYI, similar issue regarding [instantiating native objects](http://stackoverflow.com/questions/8558405/instantiating-rhinoscript-native-objects-from-java-scala).","body":"FYI, similar issue regarding <a href=\"http://stackoverflow.com/questions/8558405/instantiating-rhinoscript-native-objects-from-java-scala\">instantiating native objects</a>."}],"answers":[{"tags":[],"owner":{"account_id":384802,"reputation":10056,"user_id":741558,"accept_rate":83,"display_name":"Grooveek"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1305733260,"creation_date":1305733260,"answer_id":6047384,"question_id":6046482,"body_markdown":"Take a look at RingoJS. It has convenient wrappers for list and map for Rhino such as [this one](https://github.com/ringo/ringojs/blob/master/src/org/ringojs/wrappers/ScriptableMap.java)","title":"Accessing java Maps &amp; Lists as JavaScript Objects in Rhino","body":"<p>Take a look at RingoJS. It has convenient wrappers for list and map for Rhino such as <a href=\"https://github.com/ringo/ringojs/blob/master/src/org/ringojs/wrappers/ScriptableMap.java\" rel=\"nofollow\">this one</a></p>\n"},{"tags":[],"owner":{"account_id":7433,"reputation":24739,"user_id":12916,"accept_rate":23,"display_name":"Jesse Glick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1312899683,"creation_date":1312899683,"answer_id":6997666,"question_id":6046482,"body_markdown":"https://developer.mozilla.org/en/New_in_Rhino_1.7R3#JS.c2.a0Objects_implement_Java_collections claims that JS objects resp. arrays can now be cast to `Map` resp. `List`, but this does not seem like it would work for your use case.","title":"Accessing java Maps &amp; Lists as JavaScript Objects in Rhino","body":"<p><a href=\"https://developer.mozilla.org/en/New_in_Rhino_1.7R3#JS.c2.a0Objects_implement_Java_collections\" rel=\"nofollow\">https://developer.mozilla.org/en/New_in_Rhino_1.7R3#JS.c2.a0Objects_implement_Java_collections</a> claims that JS objects resp. arrays can now be cast to <code>Map</code> resp. <code>List</code>, but this does not seem like it would work for your use case.</p>\n"},{"tags":[],"owner":{"account_id":942066,"reputation":29,"user_id":969980,"display_name":"hopfit"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1317244675,"creation_date":1317244675,"answer_id":7589716,"question_id":6046482,"body_markdown":"iterators seem to be the key!\r\n\r\nif you want to iterate over all entries of a map, you could do the following\r\n\r\nJAVA\r\n\r\n    //pass  the map and map.keySet().iterator() to the javascript\r\n    Object wrappedParameterMap = Context.javaToJS(parameterMap, scope);\r\n    ScriptableObject.putProperty(scope, &quot;parameterMap&quot;, wrappedParameterMap);\r\n    Object wrappedParameterNames = Context.javaToJS(parameterMap.keySet().iterator(), scope);\r\n    ScriptableObject.putProperty(scope, &quot;parameterNames&quot;, wrappedParameterNames);\r\n\r\nJAVASCRIPT\r\n\r\n    while(parameterNames.hasNext()) {\r\n      key = parameterNames.next();\r\n      value = parameterMap.get(key);\r\n    }","title":"Accessing java Maps &amp; Lists as JavaScript Objects in Rhino","body":"<p>iterators seem to be the key!</p>\n\n<p>if you want to iterate over all entries of a map, you could do the following</p>\n\n<p>JAVA</p>\n\n<pre><code>//pass  the map and map.keySet().iterator() to the javascript\nObject wrappedParameterMap = Context.javaToJS(parameterMap, scope);\nScriptableObject.putProperty(scope, \"parameterMap\", wrappedParameterMap);\nObject wrappedParameterNames = Context.javaToJS(parameterMap.keySet().iterator(), scope);\nScriptableObject.putProperty(scope, \"parameterNames\", wrappedParameterNames);\n</code></pre>\n\n<p>JAVASCRIPT</p>\n\n<pre><code>while(parameterNames.hasNext()) {\n  key = parameterNames.next();\n  value = parameterMap.get(key);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":147114,"reputation":3039,"user_id":358006,"accept_rate":67,"display_name":"Peter L"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1324519538,"creation_date":1324519538,"answer_id":8598691,"question_id":6046482,"body_markdown":"I had a [similar problem][1] that may be useful.  I tried created native rhino objects and copied data into them.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8598668/358006","title":"Accessing java Maps &amp; Lists as JavaScript Objects in Rhino","body":"<p>I had a <a href=\"https://stackoverflow.com/a/8598668/358006\">similar problem</a> that may be useful.  I tried created native rhino objects and copied data into them.</p>\n"},{"tags":[],"owner":{"account_id":6105102,"reputation":31,"user_id":4763021,"display_name":"Christoph Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614016299,"creation_date":1614014963,"answer_id":66320541,"question_id":6046482,"body_markdown":"Since Rhino 1.7.12 you can create ES6 lambdas and therefore create your own utility function like this:\r\n\r\n\r\n\r\n \r\n\r\n```\r\nfunction iterateMap(map, callback) {\r\n    var iter = map.keySet().iterator();\r\n    while(iter.hasNext()) {\r\n        var key = iter.next();\r\n        var value = map.get(key);\r\n        callback(key, value);\r\n    }\r\n}\r\n```\r\n\r\nAnd then iterate like this\r\n\r\n```\r\niterateMap(map, (key, value)=&gt;{\r\n    //...\r\n});\r\n```\r\n\r\n","title":"Accessing java Maps &amp; Lists as JavaScript Objects in Rhino","body":"<p>Since Rhino 1.7.12 you can create ES6 lambdas and therefore create your own utility function like this:</p>\n<pre><code>function iterateMap(map, callback) {\n    var iter = map.keySet().iterator();\n    while(iter.hasNext()) {\n        var key = iter.next();\n        var value = map.get(key);\n        callback(key, value);\n    }\n}\n</code></pre>\n<p>And then iterate like this</p>\n<pre><code>iterateMap(map, (key, value)=&gt;{\n    //...\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1051445,"reputation":5523,"user_id":1055284,"accept_rate":100,"display_name":"Ben Barkay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676887742,"creation_date":1676886040,"answer_id":75507574,"question_id":6046482,"body_markdown":"The way to achieve this since Rhino 1.7.14 is to enable `Context.FEATURE_ENABLE_JAVA_MAP_ACCESS`.\r\n\r\nThis requires implementing a custom `ContextFactory`:\r\n\r\n```java\r\npublic class MyContextFactory extends ContextFactory {\r\n    @Override\r\n    protected boolean hasFeature(Context cx, int featureIndex) {\r\n        switch (featureIndex) {\r\n            case Context.FEATURE_ENABLE_JAVA_MAP_ACCESS:\r\n                return true;\r\n        }\r\n        return super.hasFeature(cx, featureIndex);\r\n    }\r\n}\r\n```\r\n\r\nThen, this factory can be used to instantiate contexts that has this feature enabled:\r\n```java\r\nMap&lt;String, String&gt; myMap = Map.of(&quot;message&quot;, &quot;Hello from JavaScript&quot;);\r\n\r\nContextFactory ctxFactory = new MyContextFactory();\r\ntry (Context ctx = ctxFactory.enterContext()) {\r\n    Scriptable scope = ctx.initSafeStandardObjects();\r\n    ScriptableObject.putProperty(scope, &quot;myMap&quot;, Context.javaToJS(myMap, scope));\r\n    \r\n    // Now map properties are accessible via `[key]` or `.key`:\r\n    Object result = ctx.evaluateString(scope, &quot;myMap.message&quot;, &quot;&lt;sample&gt;&quot;, 1, null);\r\n    String message = Context.jsToJava(result, String.class);\r\n    System.out.println(message); // prints &quot;Hello from JavaScript&quot;\r\n}\r\n```","title":"Accessing java Maps &amp; Lists as JavaScript Objects in Rhino","body":"<p>The way to achieve this since Rhino 1.7.14 is to enable <code>Context.FEATURE_ENABLE_JAVA_MAP_ACCESS</code>.</p>\n<p>This requires implementing a custom <code>ContextFactory</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyContextFactory extends ContextFactory {\n    @Override\n    protected boolean hasFeature(Context cx, int featureIndex) {\n        switch (featureIndex) {\n            case Context.FEATURE_ENABLE_JAVA_MAP_ACCESS:\n                return true;\n        }\n        return super.hasFeature(cx, featureIndex);\n    }\n}\n</code></pre>\n<p>Then, this factory can be used to instantiate contexts that has this feature enabled:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; myMap = Map.of(&quot;message&quot;, &quot;Hello from JavaScript&quot;);\n\nContextFactory ctxFactory = new MyContextFactory();\ntry (Context ctx = ctxFactory.enterContext()) {\n    Scriptable scope = ctx.initSafeStandardObjects();\n    ScriptableObject.putProperty(scope, &quot;myMap&quot;, Context.javaToJS(myMap, scope));\n    \n    // Now map properties are accessible via `[key]` or `.key`:\n    Object result = ctx.evaluateString(scope, &quot;myMap.message&quot;, &quot;&lt;sample&gt;&quot;, 1, null);\n    String message = Context.jsToJava(result, String.class);\n    System.out.println(message); // prints &quot;Hello from JavaScript&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":744784,"reputation":131,"user_id":720710,"display_name":"Gary"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10789,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1676887742,"creation_date":1305729384,"question_id":6046482,"body_markdown":"Is there a way to access Java Maps and Lists as JavaScript Objects in Rhino?\r\n\r\nI have a Map which contains only other maps and lists of primitives and Strings, I&#39;d like to pass this to a Rhino script and do stuff to it, and return the modified object back out to Java - but since they are java.util.Map and java.util.List Objects, I can&#39;t use standard JavaScript associative array syntax.\r\nie: `fooMap.get(&quot;keyName&quot;)` will work, but `fooMap.keyName` and `fooMap[&quot;keyName&quot;]` will not.\r\n\r\nI don&#39;t know if there is a Rhino-specific way to do this, or if there is some conversion/cast utility that will help.\r\nCommons BeanUtils is not sufficient, because to convert a Map to a bean (which can be accessed via associative array syntax), you must first create a class which has all of the named mutators/accessors.  I won&#39;t know the structure of the object at runtime.\r\n\r\n","title":"Accessing java Maps &amp; Lists as JavaScript Objects in Rhino","body":"<p>Is there a way to access Java Maps and Lists as JavaScript Objects in Rhino?</p>\n\n<p>I have a Map which contains only other maps and lists of primitives and Strings, I'd like to pass this to a Rhino script and do stuff to it, and return the modified object back out to Java - but since they are java.util.Map and java.util.List Objects, I can't use standard JavaScript associative array syntax.\nie: <code>fooMap.get(\"keyName\")</code> will work, but <code>fooMap.keyName</code> and <code>fooMap[\"keyName\"]</code> will not.</p>\n\n<p>I don't know if there is a Rhino-specific way to do this, or if there is some conversion/cast utility that will help.\nCommons BeanUtils is not sufficient, because to convert a Map to a bean (which can be accessed via associative array syntax), you must first create a class which has all of the named mutators/accessors.  I won't know the structure of the object at runtime.</p>\n"},{"tags":["java","cdi","weld","jboss-weld"],"answers":[{"tags":[],"owner":{"account_id":294884,"reputation":1540,"user_id":599011,"accept_rate":74,"display_name":"Xavier Dury"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676887726,"creation_date":1676887726,"answer_id":75507869,"question_id":74719629,"body_markdown":"You could do something like this:\r\n\r\n```java\r\npublic class ConversationObserver {\r\n\r\n    public void onStart(@Observes @Initialized(ConversationScoped.class) ServletRequest request) {}\r\n\r\n    public void onEnd(@Observes @Destroyed(ConversationScoped.class) ServletRequest request) {}\r\n}\r\n```\r\n\r\nSee https://docs.jboss.org/cdi/api/2.0/javax/enterprise/context/ConversationScoped.html","title":"is there a way to intercept the begin and end Conversation in CDI?","body":"<p>You could do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ConversationObserver {\n\n    public void onStart(@Observes @Initialized(ConversationScoped.class) ServletRequest request) {}\n\n    public void onEnd(@Observes @Destroyed(ConversationScoped.class) ServletRequest request) {}\n}\n</code></pre>\n<p>See <a href=\"https://docs.jboss.org/cdi/api/2.0/javax/enterprise/context/ConversationScoped.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/cdi/api/2.0/javax/enterprise/context/ConversationScoped.html</a></p>\n"}],"owner":{"account_id":24407556,"reputation":17,"user_id":18335521,"display_name":"Leonardo Scommegna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676887726,"creation_date":1670429325,"question_id":74719629,"body_markdown":"\r\n\r\nI would like to intercept calls to methods ```conversation.begin()``` and ```conversation.end()```.\r\n\r\nTo do this, I have developed an interceptor binding that I aim to dynamically assign to the ```Conversation``` class through a CDI portable extension.\r\n\r\nHowever, I can not find how to access to the ```Conversation``` class since it is not observed in the ```ProcessAnnotatedType``` event where usually i do this process to my defined beans.\r\n\r\nSee the code as an example:\r\n\r\n    public class MethodCallsInterceptorExt implements Extension {\r\n            \r\n        void processAnnotatedType(@Observes ProcessAnnotatedType&lt;?&gt; event) {  \r\n            if (isConvesationBean(event)) { // This condition is never true\r\n                event.configureAnnotatedType().add(new MyInterceptorBinding());\r\n            }\r\n        }\r\n    }\r\n\r\nIs this solution at least partially correct?\r\nIs there any viable way to do this?\r\n \r\n\r\n\r\n\r\n","title":"is there a way to intercept the begin and end Conversation in CDI?","body":"<p>I would like to intercept calls to methods <code>conversation.begin()</code> and <code>conversation.end()</code>.</p>\n<p>To do this, I have developed an interceptor binding that I aim to dynamically assign to the <code>Conversation</code> class through a CDI portable extension.</p>\n<p>However, I can not find how to access to the <code>Conversation</code> class since it is not observed in the <code>ProcessAnnotatedType</code> event where usually i do this process to my defined beans.</p>\n<p>See the code as an example:</p>\n<pre><code>public class MethodCallsInterceptorExt implements Extension {\n        \n    void processAnnotatedType(@Observes ProcessAnnotatedType&lt;?&gt; event) {  \n        if (isConvesationBean(event)) { // This condition is never true\n            event.configureAnnotatedType().add(new MyInterceptorBinding());\n        }\n    }\n}\n</code></pre>\n<p>Is this solution at least partially correct?\nIs there any viable way to do this?</p>\n"},{"tags":["java","android","kotlin","manifest"],"comments":[{"owner":{"account_id":7147722,"reputation":5,"user_id":8048745,"display_name":"Ankit Kumar"},"score":0,"creation_date":1676891458,"post_id":75507829,"comment_id":133222371,"body_markdown":"Looking at the error it seems that one of the library &#39;openvpn&#39; might be the one giving you this issue. you can upgrade this library, sync, rebuild and check if you still get any errors.","body":"Looking at the error it seems that one of the library &#39;openvpn&#39; might be the one giving you this issue. you can upgrade this library, sync, rebuild and check if you still get any errors."},{"owner":{"account_id":17354371,"reputation":1,"user_id":12572153,"display_name":"Birds Stodio"},"score":0,"creation_date":1676899670,"post_id":75507829,"comment_id":133224587,"body_markdown":"Thanks for ansewring! I am a little bit a begginer, can you tell me how to do that?","body":"Thanks for ansewring! I am a little bit a begginer, can you tell me how to do that?"}],"owner":{"account_id":17354371,"reputation":1,"user_id":12572153,"display_name":"Birds Stodio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676887480,"creation_date":1676887480,"question_id":75507829,"body_markdown":"I am working on a source code I downloaded it from internet on android studio, but I am facing this errror whenever i build the project : \r\n\r\nError : Manifest merger failed : android:exported needs to be explicitly specified for element \\&lt;service#com.anchorfree.vpnsdk.vpnservice.AFVpnService\\&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for \\`android:exported\\` when the corresponding component has an intent filter defined. See https://developer.android.com/guide/topics/manifest/activity-element#exported for details.\r\n\r\nI tried all the solutions possible available on internet, of which the solution deployed is that I add android:exported=&quot;true&quot; to every `activity`, `service`, `receiver` and `provider` of merged `AndroidManifest`.\r\n\r\n## **AndroidManifest File**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;\r\n\r\n\r\n\r\n\r\n\r\n    &lt;application\r\n        android:name=&quot;com.softmaster.airvpn.MainApplication&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        tools:ignore=&quot;GoogleAppIndexingWarning&quot;\r\n        tools:targetApi=&quot;n&quot;\r\n        android:exported=&quot;true&quot;\r\n        tools:node=&quot;merge&quot;&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;com.softmaster.airvpn.activity.SplashActivity&quot;\r\n            android:theme=&quot;@style/splashTheme&quot;\r\n            android:exported=&quot;true&quot;\r\n            tools:node=&quot;merge&quot;\r\n            &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;com.softmaster.airvpn.activity.About&quot;\r\n            android:exported=&quot;false&quot;\r\n            tools:node=&quot;merge&quot;/&gt;\r\n        &lt;activity android:name=&quot;com.softmaster.airvpn.activity.Faq&quot;\r\n            android:exported=&quot;false&quot;\r\n            tools:node=&quot;merge&quot;/&gt; &lt;!-- google ads --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n            android:value=&quot;@string/admob_app_id&quot; /&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.AD_MANAGER_APP&quot;\r\n            android:value=&quot;true&quot; /&gt;\r\n\r\n        &lt;activity android:name=&quot;com.softmaster.airvpn.activity.MainActivity&quot;\r\n            android:launchMode=&quot;singleTask&quot;\r\n            android:exported=&quot;false&quot;\r\n            tools:node=&quot;merge&quot;\r\n            /&gt;\r\n\r\n\r\n    &lt;/application&gt;\r\n\r\n\r\n\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n## **BuildGradle File**\r\n\r\n```\r\nbuildscript {\r\n    repositories {\r\n        maven { url &#39;https://plugins.gradle.org/m2/&#39; }\r\n    }\r\n}\r\n\r\nrepositories {\r\n    maven { url &#39;https://maven.google.com&#39; }\r\n}\r\n\r\napply plugin: &#39;com.android.application&#39;\r\n\r\n\r\n\r\nandroid {\r\n    compileSdkVersion 31\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.softmaster.airvpn&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        multiDexEnabled true\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n\r\n        buildConfigField &quot;String&quot;, &quot;BASE_HOST&quot;, &quot;\\&quot;https://d2isj403unfbyl.cloudfront.net\\&quot;&quot;\r\n        buildConfigField &quot;String&quot;, &quot;BASE_CARRIER_ID&quot;, &quot;\\&quot;Sof_airvpn\\&quot;&quot;//54000_vpntest\r\n        buildConfigField &quot;String&quot;, &quot;BASE_OAUTH_METHOD&quot;, &quot;\\&quot;anonymous\\&quot;&quot;\r\n\r\n        buildConfigField &quot;String&quot;, &quot;SHARED_PREFS&quot;, &quot;\\&quot;NORTHGHOST_SHAREDPREFS\\&quot;&quot;\r\n        buildConfigField &quot;String&quot;, &quot;STORED_HOST_URL_KEY&quot;, &quot;\\&quot;com.northghost.afvclient.STORED_HOST_KEY\\&quot;&quot;\r\n        buildConfigField &quot;String&quot;, &quot;STORED_CARRIER_ID_KEY&quot;, &quot;\\&quot;com.northghost.afvclient.CARRIER_ID_KEY\\&quot;&quot;\r\n\r\n    }\r\n    signingConfigs {\r\n        release {\r\n\r\n        }\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled true\r\n            signingConfig signingConfigs.release\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility 1.8\r\n        targetCompatibility 1.8\r\n    }\r\n    namespace &#39;com.softmaster.airvpn&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;com.github.AnchorFreePartner.hydra-sdk-android:sdk:3.4.0&#39;\r\n    implementation &#39;com.github.AnchorFreePartner.hydra-sdk-android:openvpn:3.4.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.0&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.2.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0-alpha01&#39;\r\n    implementation &#39;com.jakewharton:butterknife:10.2.3&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    annotationProcessor &#39;com.jakewharton:butterknife-compiler:10.2.3&#39;\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n\r\n    //cutoms things\r\n    //implementation &quot;com.airbnb.android:lottie:3.6.0&quot;\r\n\r\n\r\n    //ad-mob and facebook mediation\r\n    implementation &#39;com.google.android.gms:play-services-ads:20.2.0&#39;//19.8.0\r\n    implementation &#39;com.google.ads.mediation:facebook:6.5.1.0&#39;\r\n\r\n    //customs\r\n    implementation &#39;com.github.pepperonas:materialdialog:0.3.4&#39;\r\n    implementation &#39;pl.bclogic:pulsator4droid:1.0.3&#39;\r\n\r\n    //Preference Library\r\n    implementation &#39;com.pixplicity.easyprefs:library:1.9.0&#39;\r\n\r\n\r\n    //Drawer Library\r\n    implementation &#39;com.infideap.drawerbehavior:drawer-behavior:1.0.1&#39;\r\n\r\n    //checkBox\r\n    implementation &#39;net.igenius:customcheckbox:1.3&#39;\r\n\r\n\r\n    //Custom Toast\r\n    implementation &#39;com.github.GrenderG:Toasty:1.5.0&#39;\r\n\r\n    androidTestImplementation &quot;androidx.test.ext:junit:1.1.5&quot;\r\n    androidTestImplementation &quot;androidx.fragment:fragment-testing:1.5.5&quot;\r\n    androidTestImplementation &quot;androidx.test:core:1.5.0&quot;\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n \r\n\r\nI tried all the solutions possible available on internet, of which the solution deployed is that I add android:exported=&quot;true&quot; to every activity, service, receiver and provider of merged AndroidManifest.\r\n\r\nThe error still keep coming.","title":"Facing this error in android studio : Apps targeting Android 12 and higher are required to specify an explicit value for `android:exported`","body":"<p>I am working on a source code I downloaded it from internet on android studio, but I am facing this errror whenever i build the project :</p>\n<p>Error : Manifest merger failed : android:exported needs to be explicitly specified for element &lt;service#com.anchorfree.vpnsdk.vpnservice.AFVpnService&gt;. Apps targeting Android 12 and higher are required to specify an explicit value for `android:exported` when the corresponding component has an intent filter defined. See <a href=\"https://developer.android.com/guide/topics/manifest/activity-element#exported\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/manifest/activity-element#exported</a> for details.</p>\n<p>I tried all the solutions possible available on internet, of which the solution deployed is that I add android:exported=&quot;true&quot; to every <code>activity</code>, <code>service</code>, <code>receiver</code> and <code>provider</code> of merged <code>AndroidManifest</code>.</p>\n<h2><strong>AndroidManifest File</strong></h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;\n\n\n\n\n\n    &lt;application\n        android:name=&quot;com.softmaster.airvpn.MainApplication&quot;\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;\n        tools:ignore=&quot;GoogleAppIndexingWarning&quot;\n        tools:targetApi=&quot;n&quot;\n        android:exported=&quot;true&quot;\n        tools:node=&quot;merge&quot;&gt;\n\n        &lt;activity\n            android:name=&quot;com.softmaster.airvpn.activity.SplashActivity&quot;\n            android:theme=&quot;@style/splashTheme&quot;\n            android:exported=&quot;true&quot;\n            tools:node=&quot;merge&quot;\n            &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;com.softmaster.airvpn.activity.About&quot;\n            android:exported=&quot;false&quot;\n            tools:node=&quot;merge&quot;/&gt;\n        &lt;activity android:name=&quot;com.softmaster.airvpn.activity.Faq&quot;\n            android:exported=&quot;false&quot;\n            tools:node=&quot;merge&quot;/&gt; &lt;!-- google ads --&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n            android:value=&quot;@string/admob_app_id&quot; /&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.ads.AD_MANAGER_APP&quot;\n            android:value=&quot;true&quot; /&gt;\n\n        &lt;activity android:name=&quot;com.softmaster.airvpn.activity.MainActivity&quot;\n            android:launchMode=&quot;singleTask&quot;\n            android:exported=&quot;false&quot;\n            tools:node=&quot;merge&quot;\n            /&gt;\n\n\n    &lt;/application&gt;\n\n\n\n\n&lt;/manifest&gt;\n</code></pre>\n<h2><strong>BuildGradle File</strong></h2>\n<pre><code>buildscript {\n    repositories {\n        maven { url 'https://plugins.gradle.org/m2/' }\n    }\n}\n\nrepositories {\n    maven { url 'https://maven.google.com' }\n}\n\napply plugin: 'com.android.application'\n\n\n\nandroid {\n    compileSdkVersion 31\n\n    defaultConfig {\n        applicationId &quot;com.softmaster.airvpn&quot;\n        minSdkVersion 19\n        targetSdkVersion 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        multiDexEnabled true\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n\n        buildConfigField &quot;String&quot;, &quot;BASE_HOST&quot;, &quot;\\&quot;https://d2isj403unfbyl.cloudfront.net\\&quot;&quot;\n        buildConfigField &quot;String&quot;, &quot;BASE_CARRIER_ID&quot;, &quot;\\&quot;Sof_airvpn\\&quot;&quot;//54000_vpntest\n        buildConfigField &quot;String&quot;, &quot;BASE_OAUTH_METHOD&quot;, &quot;\\&quot;anonymous\\&quot;&quot;\n\n        buildConfigField &quot;String&quot;, &quot;SHARED_PREFS&quot;, &quot;\\&quot;NORTHGHOST_SHAREDPREFS\\&quot;&quot;\n        buildConfigField &quot;String&quot;, &quot;STORED_HOST_URL_KEY&quot;, &quot;\\&quot;com.northghost.afvclient.STORED_HOST_KEY\\&quot;&quot;\n        buildConfigField &quot;String&quot;, &quot;STORED_CARRIER_ID_KEY&quot;, &quot;\\&quot;com.northghost.afvclient.CARRIER_ID_KEY\\&quot;&quot;\n\n    }\n    signingConfigs {\n        release {\n\n        }\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            signingConfig signingConfigs.release\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility 1.8\n        targetCompatibility 1.8\n    }\n    namespace 'com.softmaster.airvpn'\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.github.AnchorFreePartner.hydra-sdk-android:sdk:3.4.0'\n    implementation 'com.github.AnchorFreePartner.hydra-sdk-android:openvpn:3.4.0'\n    implementation 'androidx.appcompat:appcompat:1.3.0'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.2.1'\n    implementation 'com.google.android.material:material:1.5.0-alpha01'\n    implementation 'com.jakewharton:butterknife:10.2.3'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    annotationProcessor 'com.jakewharton:butterknife-compiler:10.2.3'\n    implementation 'androidx.multidex:multidex:2.0.1'\n\n    //cutoms things\n    //implementation &quot;com.airbnb.android:lottie:3.6.0&quot;\n\n\n    //ad-mob and facebook mediation\n    implementation 'com.google.android.gms:play-services-ads:20.2.0'//19.8.0\n    implementation 'com.google.ads.mediation:facebook:6.5.1.0'\n\n    //customs\n    implementation 'com.github.pepperonas:materialdialog:0.3.4'\n    implementation 'pl.bclogic:pulsator4droid:1.0.3'\n\n    //Preference Library\n    implementation 'com.pixplicity.easyprefs:library:1.9.0'\n\n\n    //Drawer Library\n    implementation 'com.infideap.drawerbehavior:drawer-behavior:1.0.1'\n\n    //checkBox\n    implementation 'net.igenius:customcheckbox:1.3'\n\n\n    //Custom Toast\n    implementation 'com.github.GrenderG:Toasty:1.5.0'\n\n    androidTestImplementation &quot;androidx.test.ext:junit:1.1.5&quot;\n    androidTestImplementation &quot;androidx.fragment:fragment-testing:1.5.5&quot;\n    androidTestImplementation &quot;androidx.test:core:1.5.0&quot;\n\n\n\n}\n</code></pre>\n<p>I tried all the solutions possible available on internet, of which the solution deployed is that I add android:exported=&quot;true&quot; to every activity, service, receiver and provider of merged AndroidManifest.</p>\n<p>The error still keep coming.</p>\n"},{"tags":["java","apache-spark","memory"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1676883590,"post_id":75506631,"comment_id":133220188,"body_markdown":"The OOM killer doesn’t care which process the memory belongs to. All it matters, is that the memory is full. And surely, the operating system will drop caches first, before killing applications, don’t you think? So it’s very unlikely that I/O caches are the problem.","body":"The OOM killer doesn’t care which process the memory belongs to. All it matters, is that the memory is full. And surely, the operating system will drop caches first, before killing applications, don’t you think? So it’s very unlikely that I/O caches are the problem."},{"owner":{"account_id":17861061,"reputation":29,"user_id":12974574,"display_name":"Mifan Indian"},"score":0,"creation_date":1676884768,"post_id":75506631,"comment_id":133220471,"body_markdown":"Thanks, @Holger. Yes, I think os should drop the cache first. but according to the call trace in dmesg. For  most of the time, the java proc was killed when it tried to operate page cache. So I doubt whether the oom is related to the I/O cache.","body":"Thanks, @Holger. Yes, I think os should drop the cache first. but according to the call trace in dmesg. For  most of the time, the java proc was killed when it tried to operate page cache. So I doubt whether the oom is related to the I/O cache."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676885644,"post_id":75506631,"comment_id":133220718,"body_markdown":"It tries to perform a write operation and requires a buffer. The os can drop all caches, except the buffers for an ongoing I/O operation.","body":"It tries to perform a write operation and requires a buffer. The os can drop all caches, except the buffers for an ongoing I/O operation."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1676886806,"post_id":75506631,"comment_id":133221055,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":17861061,"reputation":29,"user_id":12974574,"display_name":"Mifan Indian"},"score":1,"creation_date":1676887465,"post_id":75506631,"comment_id":133221254,"body_markdown":"@JoachimSauer updated. Thanks for correctting me.","body":"@JoachimSauer updated. Thanks for correctting me."},{"owner":{"account_id":17861061,"reputation":29,"user_id":12974574,"display_name":"Mifan Indian"},"score":0,"creation_date":1676887741,"post_id":75506631,"comment_id":133221326,"body_markdown":"@Holger If the java proc is heavily writing data to the disk. Thus the disk buffer is filled. Is it possible that the file piled in page cache, waiting for write back to disk and thus the page cache can be released, so that the java proc take much more memory for page cache?","body":"@Holger If the java proc is heavily writing data to the disk. Thus the disk buffer is filled. Is it possible that the file piled in page cache, waiting for write back to disk and thus the page cache can be released, so that the java proc take much more memory for page cache?"},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":1,"creation_date":1676889543,"post_id":75506631,"comment_id":133221852,"body_markdown":"*I&#39;m curious if the page cache is a part of JVM offheap memory?* - `file_dirty 1 316 130 816` (1.3 GB) vs. `142.2 MiB (off heap)`. My random guess would be a &quot;no&quot;.","body":"<i>I&#39;m curious if the page cache is a part of JVM offheap memory?</i> - <code>file_dirty 1 316 130 816</code> (1.3 GB) vs. <code>142.2 MiB (off heap)</code>. My random guess would be a &quot;no&quot;."}],"owner":{"account_id":17861061,"reputation":29,"user_id":12974574,"display_name":"Mifan Indian"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1676887412,"creation_date":1676880025,"question_id":75506631,"body_markdown":"JVM has on heap and off heap memory.\r\nIf a java proc write a file to the disk(not in Direct_IO mode), the os will cache the file in memory as page cache, I&#39;m curious if the page cache is a part of JVM offheap memory? \r\n\r\nThe background is I&#39;m running a scala Spark job in K8S . It get OOM killed frequently even if I set the memory overhead to 0.2. According to the Spark UI, the peak on-heap mem + off-heap mem is much smaller than the container memory limit. But according to ```dmesg``` the java proc take all the memory of the container at the time it was killed. \r\nSo I&#39;m wondering if it&#39;s page cache who takes the rest of memory and cause the java proc being killed?\r\n\r\nAccording to the SparkUI, the dead executor1 on take 21.1 GiB (on heap) + 142.2 MiB (off heap) memory.\r\n[spark ui](https://i.stack.imgur.com/CXb0P.png)\r\n\r\nBut according to dmesg, at the time it was killed, it takes much more memory as SparkUI said.\r\n```\r\n[Mon Feb 20 03:36:35 2023] memory: usage 25907200kB, limit 25907200kB, failcnt 1911352\r\n[Mon Feb 20 03:36:35 2023] memory+swap: usage 0kB, limit 9007199254740988kB, failcnt 0\r\n[Mon Feb 20 03:36:35 2023] kmem: usage 106724kB, limit 9007199254740988kB, failcnt 0\r\n[Mon Feb 20 03:36:35 2023] Memory cgroup stats for /kubepods/pod320ce7f2-aa63-4f3f-9fbe-2ae0be48736c:\r\n[Mon Feb 20 03:36:35 2023] anon 25102856192\r\n                           file 1315708928\r\n                           kernel_stack 1069056\r\n                           slab 52314112\r\n                           sock 0\r\n                           shmem 0\r\n                           file_mapped 0\r\n                           file_dirty 1316130816\r\n                           file_writeback 0\r\n                           anon_thp 20558381056\r\n                           inactive_anon 0\r\n                           active_anon 25102508032\r\n                           inactive_file 328622080\r\n                           active_file 987414528\r\n                           unevictable 0\r\n                           slab_reclaimable 43982848\r\n                           slab_unreclaimable 8331264\r\n                           pgfault 11556633\r\n                           pgmajfault 0\r\n                           workingset_refault 814704\r\n                           workingset_activate 165\r\n                           workingset_nodereclaim 0\r\n                           pgrefill 12258140\r\n                           pgscan 15669889\r\n                           pgsteal 2556626\r\n                           pgactivate 13111197\r\n                           pgdeactivate 12258004\r\n                           pglazyfree 0\r\n                           pglazyfreed 0\r\n                           thp_fault_alloc 11253\r\n                           thp_collapse_alloc 0\r\n[Mon Feb 20 03:36:35 2023] Tasks state (memory values in pages):\r\n[Mon Feb 20 03:36:35 2023] [  pid  ]   uid  tgid total_vm      rss pgtables_bytes swapents oom_score_adj name\r\n[Mon Feb 20 03:36:35 2023] [ 168097] 65535 168097      241        1    28672        0          -998 pause\r\n[Mon Feb 20 03:36:35 2023] [ 168142]     0 168142      571      192    49152        0          -997 tini\r\n[Mon Feb 20 03:36:35 2023] [ 168217]     0 168217  7542445  6135546 50069504        0          -997 java\r\n```\r\n\r\n\r\nCall Trace\r\n```\r\n[Mon Feb 20 03:36:55 2023] Call Trace:\r\n[Mon Feb 20 03:36:55 2023]  dump_stack+0x57/0x6d\r\n[Mon Feb 20 03:36:55 2023]  dump_header+0x4f/0x200\r\n[Mon Feb 20 03:36:55 2023]  oom_kill_process+0xec/0x140\r\n[Mon Feb 20 03:36:55 2023]  out_of_memory+0x117/0x570\r\n[Mon Feb 20 03:36:55 2023]  mem_cgroup_out_of_memory+0xbb/0xd0\r\n[Mon Feb 20 03:36:55 2023]  try_charge+0x762/0x7c0\r\n[Mon Feb 20 03:36:55 2023]  ? ext4_do_update_inode+0x4ff/0x7b0\r\n[Mon Feb 20 03:36:55 2023]  mem_cgroup_try_charge+0x75/0x190\r\n[Mon Feb 20 03:36:55 2023]  __add_to_page_cache_locked+0x21a/0x3d0\r\n[Mon Feb 20 03:36:55 2023]  ? scan_shadow_nodes+0x30/0x30\r\n[Mon Feb 20 03:36:55 2023]  add_to_page_cache_lru+0x4f/0xd0\r\n[Mon Feb 20 03:36:55 2023]  pagecache_get_page+0xea/0x2c0\r\n[Mon Feb 20 03:36:55 2023]  grab_cache_page_write_begin+0x23/0x40\r\n[Mon Feb 20 03:36:55 2023]  ext4_da_write_begin+0x11a/0x450\r\n[Mon Feb 20 03:36:55 2023]  generic_perform_write+0xb3/0x1b0\r\n[Mon Feb 20 03:36:55 2023]  __generic_file_write_iter+0x1aa/0x1d0\r\n[Mon Feb 20 03:36:55 2023]  ? generic_write_checks+0x68/0xc0\r\n[Mon Feb 20 03:36:55 2023]  ext4_file_write_iter+0xbd/0x360\r\n[Mon Feb 20 03:36:55 2023]  ? futex_wake+0x8f/0x180\r\n[Mon Feb 20 03:36:55 2023]  new_sync_write+0x125/0x1c0\r\n[Mon Feb 20 03:36:55 2023]  __vfs_write+0x29/0x40\r\n[Mon Feb 20 03:36:55 2023]  vfs_write+0xb1/0x1a0\r\n[Mon Feb 20 03:36:55 2023]  ksys_write+0xa7/0xe0\r\n[Mon Feb 20 03:36:55 2023]  __x64_sys_write+0x1a/0x20\r\n[Mon Feb 20 03:36:55 2023]  do_syscall_64+0x5e/0x200\r\n[Mon Feb 20 03:36:55 2023]  entry_SYSCALL_64_after_hwframe+0x44/0xa9\r\n```\r\n  [1]: https://i.stack.imgur.com/dhrqH.png\r\n  [2]: https://i.stack.imgur.com/y4cVD.png","title":"Is page cache a part of Java Off heap memory?","body":"<p>JVM has on heap and off heap memory.\nIf a java proc write a file to the disk(not in Direct_IO mode), the os will cache the file in memory as page cache, I'm curious if the page cache is a part of JVM offheap memory?</p>\n<p>The background is I'm running a scala Spark job in K8S . It get OOM killed frequently even if I set the memory overhead to 0.2. According to the Spark UI, the peak on-heap mem + off-heap mem is much smaller than the container memory limit. But according to <code>dmesg</code> the java proc take all the memory of the container at the time it was killed.\nSo I'm wondering if it's page cache who takes the rest of memory and cause the java proc being killed?</p>\n<p>According to the SparkUI, the dead executor1 on take 21.1 GiB (on heap) + 142.2 MiB (off heap) memory.\n<a href=\"https://i.stack.imgur.com/CXb0P.png\" rel=\"nofollow noreferrer\">spark ui</a></p>\n<p>But according to dmesg, at the time it was killed, it takes much more memory as SparkUI said.</p>\n<pre><code>[Mon Feb 20 03:36:35 2023] memory: usage 25907200kB, limit 25907200kB, failcnt 1911352\n[Mon Feb 20 03:36:35 2023] memory+swap: usage 0kB, limit 9007199254740988kB, failcnt 0\n[Mon Feb 20 03:36:35 2023] kmem: usage 106724kB, limit 9007199254740988kB, failcnt 0\n[Mon Feb 20 03:36:35 2023] Memory cgroup stats for /kubepods/pod320ce7f2-aa63-4f3f-9fbe-2ae0be48736c:\n[Mon Feb 20 03:36:35 2023] anon 25102856192\n                           file 1315708928\n                           kernel_stack 1069056\n                           slab 52314112\n                           sock 0\n                           shmem 0\n                           file_mapped 0\n                           file_dirty 1316130816\n                           file_writeback 0\n                           anon_thp 20558381056\n                           inactive_anon 0\n                           active_anon 25102508032\n                           inactive_file 328622080\n                           active_file 987414528\n                           unevictable 0\n                           slab_reclaimable 43982848\n                           slab_unreclaimable 8331264\n                           pgfault 11556633\n                           pgmajfault 0\n                           workingset_refault 814704\n                           workingset_activate 165\n                           workingset_nodereclaim 0\n                           pgrefill 12258140\n                           pgscan 15669889\n                           pgsteal 2556626\n                           pgactivate 13111197\n                           pgdeactivate 12258004\n                           pglazyfree 0\n                           pglazyfreed 0\n                           thp_fault_alloc 11253\n                           thp_collapse_alloc 0\n[Mon Feb 20 03:36:35 2023] Tasks state (memory values in pages):\n[Mon Feb 20 03:36:35 2023] [  pid  ]   uid  tgid total_vm      rss pgtables_bytes swapents oom_score_adj name\n[Mon Feb 20 03:36:35 2023] [ 168097] 65535 168097      241        1    28672        0          -998 pause\n[Mon Feb 20 03:36:35 2023] [ 168142]     0 168142      571      192    49152        0          -997 tini\n[Mon Feb 20 03:36:35 2023] [ 168217]     0 168217  7542445  6135546 50069504        0          -997 java\n</code></pre>\n<p>Call Trace</p>\n<pre><code>[Mon Feb 20 03:36:55 2023] Call Trace:\n[Mon Feb 20 03:36:55 2023]  dump_stack+0x57/0x6d\n[Mon Feb 20 03:36:55 2023]  dump_header+0x4f/0x200\n[Mon Feb 20 03:36:55 2023]  oom_kill_process+0xec/0x140\n[Mon Feb 20 03:36:55 2023]  out_of_memory+0x117/0x570\n[Mon Feb 20 03:36:55 2023]  mem_cgroup_out_of_memory+0xbb/0xd0\n[Mon Feb 20 03:36:55 2023]  try_charge+0x762/0x7c0\n[Mon Feb 20 03:36:55 2023]  ? ext4_do_update_inode+0x4ff/0x7b0\n[Mon Feb 20 03:36:55 2023]  mem_cgroup_try_charge+0x75/0x190\n[Mon Feb 20 03:36:55 2023]  __add_to_page_cache_locked+0x21a/0x3d0\n[Mon Feb 20 03:36:55 2023]  ? scan_shadow_nodes+0x30/0x30\n[Mon Feb 20 03:36:55 2023]  add_to_page_cache_lru+0x4f/0xd0\n[Mon Feb 20 03:36:55 2023]  pagecache_get_page+0xea/0x2c0\n[Mon Feb 20 03:36:55 2023]  grab_cache_page_write_begin+0x23/0x40\n[Mon Feb 20 03:36:55 2023]  ext4_da_write_begin+0x11a/0x450\n[Mon Feb 20 03:36:55 2023]  generic_perform_write+0xb3/0x1b0\n[Mon Feb 20 03:36:55 2023]  __generic_file_write_iter+0x1aa/0x1d0\n[Mon Feb 20 03:36:55 2023]  ? generic_write_checks+0x68/0xc0\n[Mon Feb 20 03:36:55 2023]  ext4_file_write_iter+0xbd/0x360\n[Mon Feb 20 03:36:55 2023]  ? futex_wake+0x8f/0x180\n[Mon Feb 20 03:36:55 2023]  new_sync_write+0x125/0x1c0\n[Mon Feb 20 03:36:55 2023]  __vfs_write+0x29/0x40\n[Mon Feb 20 03:36:55 2023]  vfs_write+0xb1/0x1a0\n[Mon Feb 20 03:36:55 2023]  ksys_write+0xa7/0xe0\n[Mon Feb 20 03:36:55 2023]  __x64_sys_write+0x1a/0x20\n[Mon Feb 20 03:36:55 2023]  do_syscall_64+0x5e/0x200\n[Mon Feb 20 03:36:55 2023]  entry_SYSCALL_64_after_hwframe+0x44/0xa9\n</code></pre>\n"},{"tags":["java","spring-boot","generics","swagger","spring-annotations"],"owner":{"account_id":20497322,"reputation":21,"user_id":15041936,"display_name":"Shyam Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676887083,"creation_date":1676887083,"question_id":75507755,"body_markdown":"I am getting the vulnerability &quot;An array schema does not specify the maximum number of items it can contain&quot; for my open-APi file generated by springfox 3.0.0\r\n\r\nIts a spring boot application and the\r\ncontroller and Response class are something like this,\r\n\r\n```\r\n`public class Controller {\r\n    @GetMapping(value = &quot;/getPath&quot;)\r\n    public Response getResponse() {\r\n        return response;\r\n    }\r\n\r\n    public class BaseResponse&lt;T&gt; {\r\n        T result;\r\n    }\r\n\r\n    public class Response extends BaseResponse&lt;List&lt;QueryResult&gt;&gt; {\r\n        //attributes\r\n    }\r\n\r\n\r\n    public class QueryResult {\r\n        //result data attributes\r\n    }\r\n}`\r\n```\r\n\r\n\r\nWhen I am passing a list to the generic of BaseResponse, how to define the max number of Array elements\r\nusing swagger annotations in my code? If anyone had faced a similar issues with the swagger configurations for generic class definitions please help me out.\r\nAlso, the BaseResponse is a library class and I wont be able to modify it.\r\n\r\nThe definition I am getting is,\r\n\r\n&quot;Response&quot;: {\r\n            &quot;type&quot;: &quot;object&quot;,\r\n            &quot;properties&quot;: {\r\n                &quot;result&quot;: {\r\n                    &quot;type&quot;: &quot;array&quot;,\r\n                    &quot;items&quot;: {\r\n                        &quot;$ref&quot;: &quot;#/definitions/QueryResult&quot;\r\n                    }\r\n                }\r\n            }\r\nBut I need something like this,\r\n\r\n&quot;Response&quot;: {\r\n            &quot;type&quot;: &quot;object&quot;,\r\n            &quot;properties&quot;: {\r\n                &quot;result&quot;: {\r\n                    &quot;type&quot;: &quot;array&quot;,\r\n                    &quot;maxItems&quot;: 10,\r\n                    &quot;items&quot;: {\r\n                        &quot;$ref&quot;: &quot;#/definitions/QueryResult&quot;\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\nI tried using @Size, @ApiResponse with @ArraySchema but I am not able to get the maxItems in my generated swagger file.","title":"How to configure a response class which inherits from a class which takes in a Generic in Spring boot Java with Spring swagger annotations?","body":"<p>I am getting the vulnerability &quot;An array schema does not specify the maximum number of items it can contain&quot; for my open-APi file generated by springfox 3.0.0</p>\n<p>Its a spring boot application and the\ncontroller and Response class are something like this,</p>\n<pre><code>`public class Controller {\n    @GetMapping(value = &quot;/getPath&quot;)\n    public Response getResponse() {\n        return response;\n    }\n\n    public class BaseResponse&lt;T&gt; {\n        T result;\n    }\n\n    public class Response extends BaseResponse&lt;List&lt;QueryResult&gt;&gt; {\n        //attributes\n    }\n\n\n    public class QueryResult {\n        //result data attributes\n    }\n}`\n</code></pre>\n<p>When I am passing a list to the generic of BaseResponse, how to define the max number of Array elements\nusing swagger annotations in my code? If anyone had faced a similar issues with the swagger configurations for generic class definitions please help me out.\nAlso, the BaseResponse is a library class and I wont be able to modify it.</p>\n<p>The definition I am getting is,</p>\n<p>&quot;Response&quot;: {\n&quot;type&quot;: &quot;object&quot;,\n&quot;properties&quot;: {\n&quot;result&quot;: {\n&quot;type&quot;: &quot;array&quot;,\n&quot;items&quot;: {\n&quot;$ref&quot;: &quot;#/definitions/QueryResult&quot;\n}\n}\n}\nBut I need something like this,</p>\n<p>&quot;Response&quot;: {\n&quot;type&quot;: &quot;object&quot;,\n&quot;properties&quot;: {\n&quot;result&quot;: {\n&quot;type&quot;: &quot;array&quot;,\n&quot;maxItems&quot;: 10,\n&quot;items&quot;: {\n&quot;$ref&quot;: &quot;#/definitions/QueryResult&quot;\n}\n}\n}</p>\n<p>I tried using @Size, @ApiResponse with @ArraySchema but I am not able to get the maxItems in my generated swagger file.</p>\n"},{"tags":["java","hibernate","jpa","converters"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1629721493,"post_id":68892620,"comment_id":121753888,"body_markdown":"Are you using Hibernate? If yes, which version? [This answer](https://stackoverflow.com/a/58524431/1225328) seems to say that only 4.3.9+ handles it.","body":"Are you using Hibernate? If yes, which version? <a href=\"https://stackoverflow.com/a/58524431/1225328\">This answer</a> seems to say that only 4.3.9+ handles it."},{"owner":{"account_id":1126447,"reputation":2664,"user_id":1113632,"accept_rate":64,"display_name":"christopher.online"},"score":0,"creation_date":1629724188,"post_id":68892620,"comment_id":121755136,"body_markdown":"yes I am using Hibernate 5.4.32.Final. Everything works as expected but I want to get rid of the warning @sp00m","body":"yes I am using Hibernate 5.4.32.Final. Everything works as expected but I want to get rid of the warning @sp00m"}],"owner":{"account_id":1126447,"reputation":2664,"user_id":1113632,"accept_rate":64,"display_name":"christopher.online"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676887064,"creation_date":1629721289,"question_id":68892620,"body_markdown":"I have the following JPA entity attribute with its annotations:\r\n\r\n```java\r\n@Convert(converter = UuidConverter.class)\r\n@ElementCollection\r\n@CollectionTable(name =&quot;entity_branch&quot;, joinColumns=@JoinColumn(name=&quot;entity_id&quot;))\r\n@Column(name = &quot;branchId&quot;)\r\nprivate Set&lt;UUID&gt; branchId;\r\n```\r\n\r\nI get the following compile-time warning:\r\n&gt; Converter&#39;s type UUID doesn&#39;t match with the attribute type Set&lt;UUID&gt;\r\n\r\nThe converter class looks like this:\r\n```java\r\n@Converter\r\npublic class UuidConverter implements AttributeConverter&lt;UUID, String&gt; {\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(UUID attribute) {\r\n        return ofNullable(attribute)\r\n                .map(UUID::toString)\r\n                .orElse(null);\r\n    }\r\n\r\n    @Override\r\n    public UUID convertToEntityAttribute(String dbData) {\r\n        return ofNullable(dbData)\r\n                .map(UUID::fromString)\r\n                .orElse(null);\r\n    }\r\n}\r\n```\r\n\r\nEven though I get the warning everything works as expected. How can the warning be fixed without silencing it?","title":"Converter&#39;s type UUID doesn&#39;t match with the attribute type Set&lt;UUID&gt;","body":"<p>I have the following JPA entity attribute with its annotations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Convert(converter = UuidConverter.class)\n@ElementCollection\n@CollectionTable(name =&quot;entity_branch&quot;, joinColumns=@JoinColumn(name=&quot;entity_id&quot;))\n@Column(name = &quot;branchId&quot;)\nprivate Set&lt;UUID&gt; branchId;\n</code></pre>\n<p>I get the following compile-time warning:</p>\n<blockquote>\n<p>Converter's type UUID doesn't match with the attribute type Set</p>\n</blockquote>\n<p>The converter class looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Converter\npublic class UuidConverter implements AttributeConverter&lt;UUID, String&gt; {\n\n    @Override\n    public String convertToDatabaseColumn(UUID attribute) {\n        return ofNullable(attribute)\n                .map(UUID::toString)\n                .orElse(null);\n    }\n\n    @Override\n    public UUID convertToEntityAttribute(String dbData) {\n        return ofNullable(dbData)\n                .map(UUID::fromString)\n                .orElse(null);\n    }\n}\n</code></pre>\n<p>Even though I get the warning everything works as expected. How can the warning be fixed without silencing it?</p>\n"},{"tags":["java","string","encoding","utf-8","byte"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1676621857,"post_id":75481589,"comment_id":133177870,"body_markdown":"`-66` or `0xBE` is not valid as first byte in UTF-8  (UTF-8 is NOT a characters set, but an encoding standard)","body":"<code>-66</code> or <code>0xBE</code> is not valid as first byte in UTF-8  (UTF-8 is NOT a characters set, but an encoding standard)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1676623160,"post_id":75481589,"comment_id":133178206,"body_markdown":"BTW negative values are not the problem (e.g. `byte[] { -61, -97 }` will be converted to `&quot;&#223;&quot;`) and it is Java that interprets bytes greater than 127 as negative","body":"BTW negative values are not the problem (e.g. <code>byte[] { -61, -97 }</code> will be converted to <code>&quot;&#223;&quot;</code>) and it is Java that interprets bytes greater than 127 as negative"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1676623220,"post_id":75481589,"comment_id":133178225,"body_markdown":"You are confused. It seems like your real problem is about &quot;I needed to encode a byte array to UTF8 character String and get the byte array back from the UTF8 character String.&quot; Can you show a [mcve] of that problem instead? I can assure you this is not about negatives or positives.","body":"You are confused. It seems like your real problem is about &quot;I needed to encode a byte array to UTF8 character String and get the byte array back from the UTF8 character String.&quot; Can you show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of that problem instead? I can assure you this is not about negatives or positives."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676636491,"creation_date":1676630997,"answer_id":75483304,"question_id":75481589,"body_markdown":"**tl;dr:** You can&#39;t decode arbitrary bytes as UTF-8, because some byte streams are not conforming UTF-8 streams. If you need to represent arbitrary bytes as String, use something like Base64:\r\n\r\n    String base64 = Base64.getEncoder().encodeToString(arbitraryBytes);\r\n\r\n# Not all byte sequences are valid UTF-8\r\n\r\nUTF-8 has [very specific rules about what bytes sequences are allowed][1]. The short version is:\r\n\r\n- a byte in the range 0x00-0x7F can stand alone (and represents the equivalent character as its ASCII encoding).\r\n- a byte in the range 0xC2-0xF4 is a leading byte that starts a multi-byte sequence with the exact value indicating the number of continuation bytes\r\n- a byte in the range 0x80-0xBF is a continuation byte that has to come after a leading byte and possibly some other continuation bytes.\r\n\r\nThere&#39;s a few more rules and nuances to it, but that&#39;s the basic idea.\r\n\r\nAs you can see there are several byte values (0xC0, 0xC1, 0xF5-0xFF) that can&#39;t appear in a well-formed UTF-8 stream at all. Additionally some other bytes can only occur in specific sequences. For example a leading byte can never be followed by another leading byte or a stand-alone byte. Similarly a stand-alone byte must never be followed by a continuation byte.\r\n\r\nNote about &quot;negative values&quot;: `byte` in Java is a signed data type. But the signed/unsigned debate is not relevant for this topic, as it only matters when calculating with the value or when printing it. It&#39;s **the** 8-bit type to use in Java and the fact that the byte `0xBE` is represented as `-66` in Java is mostly a visual distinction. For the purposes of this discussion &quot;negative values&quot; is equivalent to &quot;byte values between 0x80 and 0xFF&quot;. It just so *happens* that the non-negative values are exactly the stand alone bytes in UTF-8 and are converted just fine.\r\n\r\nAll this means that **decoding arbitrary `byte[]` as UTF-8** will not work in most cases!**\r\n\r\n# Then why doesn&#39;t `new String(...)` throw an exception?\r\n\r\nBut if `arbitraryBytes` contains a `byte[]` that isn&#39;t valid UTF-8, then why doesn&#39;t [`new String(arbitraryBytes, StandardCharsets.UTF_8)`][2] throw an exception?\r\n\r\nGood question! Maybe it should, but the designers of Java have decided that this specific way of decoding a `byte[]` into a `String` should be lenient:\r\n\r\n&gt; This method always replaces malformed-input and unmappable-character sequences with this charset&#39;s default replacement string. The `CharsetDecoder` class should be used when more control over the decoding process is required.\r\n\r\nThe &quot;default replacement string&quot; in this case is simply the Unicode character [U+FFFD Replacement Character][3], which looks like a question mark in a filled rhombus: �\r\n\r\nAnd as the documentation states, there **is** of course a way to decode a `byte[]` to a `String` and getting a real exception when it doesn&#39;t go right:\r\n\r\n    byte[] arbitraryBytes = new byte[] { 2, 126, 33, -66, -100, 4, -39, 108 };\r\n    CharsetDecoder decoder = StandardCharsets.UTF_8.newDecoder().onMalformedInput(CodingErrorAction.REPORT);\r\n    String string = decoder.decode(ByteBuffer.wrap(arbitraryBytes)).toString();\r\n\r\nThis code will throw an exception: \r\n\r\n```\r\nException in thread &quot;main&quot; java.nio.charset.MalformedInputException: Input length = 1\r\n\tat java.base/java.nio.charset.CoderResult.throwException(CoderResult.java:274)\r\n\tat java.base/java.nio.charset.CharsetDecoder.decode(CharsetDecoder.java:820)\r\n\tat org.example.Main.main(Main.java:13)\r\n```\r\n\r\n# Okay, but I really need a String!\r\n\r\nWe have realized that decoding your `byte[]` to a `String` using UTF-8 doesn&#39;t work. One *could* use ISO-8859-1, which maps all 256 byte values to characters, but that would result in Strings with many unprintable control characters, which would be quite cumbersome to handle.\r\n\r\n## Use Base64\r\n\r\nThe usual solution for this is to [use Base64][4]:\r\n\r\n    // encode byte[] to Base64\r\n    String base64 = Base64.getEncoder().encodeToString(arbitraryBytes);\r\n    System.out.println(base64);\r\n    // decode Base64 to byte[]\r\n    byte[] decoded = Base64.getDecoder().decode(base64);\r\n    System.out.println(Arrays.equals(arbitraryBytes, decoded));\r\n\r\nWith the same `arbitraryBytes` as before this will print\r\n\r\n```none\r\nAn4hvpwE2Ww=\r\ntrue\r\n```\r\n\r\nBase64 is a common choice because it is able to represent arbitrary bytes with a reasonable number of characters (on average it will take about a third more characters than it has input bytes, depending on the exact formatting and/or padding used).\r\n\r\nThere are [a few variations][5] of Base64, which are used in various situations. Particularly common is the use of the URL- and filename-safe variant, which ensures that no characters with any special meaning in URLs and file names are used. Luckily it is [directly supported in Java][6].\r\n\r\n## Format as a hex string\r\n\r\nBase64 is neat and useful, but it somewhat obfuscates the individual byte values. Occasionally we want a format that allows us to interpret the values in some way. For this [a hexadecimal representation][7] of the data might be more useful, even though it takes up more characters than Base64:\r\n\r\n    // encode byte[] to hex\r\n    String hexFormatted = HexFormat.of().formatHex(arbitraryBytes);\r\n    System.out.println(hexFormatted);\r\n    // decode hex to byte[]\r\n    byte[] decoded = HexFormat.of().parseHex(hexFormatted);\r\n    System.out.println(Arrays.equals(arbitraryBytes, decoded));\r\n\r\nThis will print\r\n\r\n```none\r\n027e21be9c04d96c\r\ntrue\r\n```\r\n\r\nThis hex format (without separator) will take exactly 2 characters per input byte, making this format more verbose than Base64.\r\n\r\nIf you&#39;re not yet on Java 17 or later, there are [plenty of other ways to do this](https://stackoverflow.com/questions/9655181/how-to-convert-a-byte-array-to-a-hex-string-in-java).\r\n\r\n# But I&#39;ve already converted my `byte[]` to `String` using UTF-8 and I really need my original data back.\r\n\r\nSorry, but you most likely can&#39;t. Unless you were very lucky and your original `byte[]` happened to be a well-formed UTF-8 stream, the conversion to `String` will have lost some data and you will only be able to recover a fraction of your original `byte[]`.\r\n\r\n    String badString = new String(arbitraryBytes, StandardCharsets.UTF_8);\r\n    byte[] recoveredBytes = badString.getBytes(StandardCharsets.UTF_8);\r\n\r\nThis will give you *something* but every time your input contained a encoding error, this will contain the byte sequence 0xEF 0xBF 0xBD (or -17 -65 -67, when interpreted as signed bytes and printed in decimal). That byte sequence is what UTF-8 encodes the U+FFFD Replacement Character as.\r\n\r\nDepending on the *specific* input (and even the specific implementation of the UTF-8 decoder!) each replacement character can replace one or more bytes, so you can&#39;t even reliably tell the size of the original input array like this.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/UTF-8#Encoding\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#%3Cinit%3E(byte%5B%5D,java.nio.charset.Charset)\r\n  [3]: https://www.fileformat.info/info/unicode/char/fffd/index.htm\r\n  [4]: https://en.wikipedia.org/wiki/Base64\r\n  [5]: https://en.wikipedia.org/wiki/Base64#Variants_summary_table\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Base64.html#getUrlEncoder()\r\n  [7]: https://en.wikipedia.org/wiki/Hexadecimal","title":"Byte array with negative byte values can&#39;t be converted to String using UTF-8","body":"<p><strong>tl;dr:</strong> You can't decode arbitrary bytes as UTF-8, because some byte streams are not conforming UTF-8 streams. If you need to represent arbitrary bytes as String, use something like Base64:</p>\n<pre><code>String base64 = Base64.getEncoder().encodeToString(arbitraryBytes);\n</code></pre>\n<h1>Not all byte sequences are valid UTF-8</h1>\n<p>UTF-8 has <a href=\"https://en.wikipedia.org/wiki/UTF-8#Encoding\" rel=\"nofollow noreferrer\">very specific rules about what bytes sequences are allowed</a>. The short version is:</p>\n<ul>\n<li>a byte in the range 0x00-0x7F can stand alone (and represents the equivalent character as its ASCII encoding).</li>\n<li>a byte in the range 0xC2-0xF4 is a leading byte that starts a multi-byte sequence with the exact value indicating the number of continuation bytes</li>\n<li>a byte in the range 0x80-0xBF is a continuation byte that has to come after a leading byte and possibly some other continuation bytes.</li>\n</ul>\n<p>There's a few more rules and nuances to it, but that's the basic idea.</p>\n<p>As you can see there are several byte values (0xC0, 0xC1, 0xF5-0xFF) that can't appear in a well-formed UTF-8 stream at all. Additionally some other bytes can only occur in specific sequences. For example a leading byte can never be followed by another leading byte or a stand-alone byte. Similarly a stand-alone byte must never be followed by a continuation byte.</p>\n<p>Note about &quot;negative values&quot;: <code>byte</code> in Java is a signed data type. But the signed/unsigned debate is not relevant for this topic, as it only matters when calculating with the value or when printing it. It's <strong>the</strong> 8-bit type to use in Java and the fact that the byte <code>0xBE</code> is represented as <code>-66</code> in Java is mostly a visual distinction. For the purposes of this discussion &quot;negative values&quot; is equivalent to &quot;byte values between 0x80 and 0xFF&quot;. It just so <em>happens</em> that the non-negative values are exactly the stand alone bytes in UTF-8 and are converted just fine.</p>\n<p>All this means that <strong>decoding arbitrary <code>byte[]</code> as UTF-8</strong> will not work in most cases!**</p>\n<h1>Then why doesn't <code>new String(...)</code> throw an exception?</h1>\n<p>But if <code>arbitraryBytes</code> contains a <code>byte[]</code> that isn't valid UTF-8, then why doesn't <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#%3Cinit%3E(byte%5B%5D,java.nio.charset.Charset)\" rel=\"nofollow noreferrer\"><code>new String(arbitraryBytes, StandardCharsets.UTF_8)</code></a> throw an exception?</p>\n<p>Good question! Maybe it should, but the designers of Java have decided that this specific way of decoding a <code>byte[]</code> into a <code>String</code> should be lenient:</p>\n<blockquote>\n<p>This method always replaces malformed-input and unmappable-character sequences with this charset's default replacement string. The <code>CharsetDecoder</code> class should be used when more control over the decoding process is required.</p>\n</blockquote>\n<p>The &quot;default replacement string&quot; in this case is simply the Unicode character <a href=\"https://www.fileformat.info/info/unicode/char/fffd/index.htm\" rel=\"nofollow noreferrer\">U+FFFD Replacement Character</a>, which looks like a question mark in a filled rhombus: �</p>\n<p>And as the documentation states, there <strong>is</strong> of course a way to decode a <code>byte[]</code> to a <code>String</code> and getting a real exception when it doesn't go right:</p>\n<pre><code>byte[] arbitraryBytes = new byte[] { 2, 126, 33, -66, -100, 4, -39, 108 };\nCharsetDecoder decoder = StandardCharsets.UTF_8.newDecoder().onMalformedInput(CodingErrorAction.REPORT);\nString string = decoder.decode(ByteBuffer.wrap(arbitraryBytes)).toString();\n</code></pre>\n<p>This code will throw an exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.nio.charset.MalformedInputException: Input length = 1\n    at java.base/java.nio.charset.CoderResult.throwException(CoderResult.java:274)\n    at java.base/java.nio.charset.CharsetDecoder.decode(CharsetDecoder.java:820)\n    at org.example.Main.main(Main.java:13)\n</code></pre>\n<h1>Okay, but I really need a String!</h1>\n<p>We have realized that decoding your <code>byte[]</code> to a <code>String</code> using UTF-8 doesn't work. One <em>could</em> use ISO-8859-1, which maps all 256 byte values to characters, but that would result in Strings with many unprintable control characters, which would be quite cumbersome to handle.</p>\n<h2>Use Base64</h2>\n<p>The usual solution for this is to <a href=\"https://en.wikipedia.org/wiki/Base64\" rel=\"nofollow noreferrer\">use Base64</a>:</p>\n<pre><code>// encode byte[] to Base64\nString base64 = Base64.getEncoder().encodeToString(arbitraryBytes);\nSystem.out.println(base64);\n// decode Base64 to byte[]\nbyte[] decoded = Base64.getDecoder().decode(base64);\nSystem.out.println(Arrays.equals(arbitraryBytes, decoded));\n</code></pre>\n<p>With the same <code>arbitraryBytes</code> as before this will print</p>\n<pre class=\"lang-none prettyprint-override\"><code>An4hvpwE2Ww=\ntrue\n</code></pre>\n<p>Base64 is a common choice because it is able to represent arbitrary bytes with a reasonable number of characters (on average it will take about a third more characters than it has input bytes, depending on the exact formatting and/or padding used).</p>\n<p>There are <a href=\"https://en.wikipedia.org/wiki/Base64#Variants_summary_table\" rel=\"nofollow noreferrer\">a few variations</a> of Base64, which are used in various situations. Particularly common is the use of the URL- and filename-safe variant, which ensures that no characters with any special meaning in URLs and file names are used. Luckily it is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Base64.html#getUrlEncoder()\" rel=\"nofollow noreferrer\">directly supported in Java</a>.</p>\n<h2>Format as a hex string</h2>\n<p>Base64 is neat and useful, but it somewhat obfuscates the individual byte values. Occasionally we want a format that allows us to interpret the values in some way. For this <a href=\"https://en.wikipedia.org/wiki/Hexadecimal\" rel=\"nofollow noreferrer\">a hexadecimal representation</a> of the data might be more useful, even though it takes up more characters than Base64:</p>\n<pre><code>// encode byte[] to hex\nString hexFormatted = HexFormat.of().formatHex(arbitraryBytes);\nSystem.out.println(hexFormatted);\n// decode hex to byte[]\nbyte[] decoded = HexFormat.of().parseHex(hexFormatted);\nSystem.out.println(Arrays.equals(arbitraryBytes, decoded));\n</code></pre>\n<p>This will print</p>\n<pre class=\"lang-none prettyprint-override\"><code>027e21be9c04d96c\ntrue\n</code></pre>\n<p>This hex format (without separator) will take exactly 2 characters per input byte, making this format more verbose than Base64.</p>\n<p>If you're not yet on Java 17 or later, there are <a href=\"https://stackoverflow.com/questions/9655181/how-to-convert-a-byte-array-to-a-hex-string-in-java\">plenty of other ways to do this</a>.</p>\n<h1>But I've already converted my <code>byte[]</code> to <code>String</code> using UTF-8 and I really need my original data back.</h1>\n<p>Sorry, but you most likely can't. Unless you were very lucky and your original <code>byte[]</code> happened to be a well-formed UTF-8 stream, the conversion to <code>String</code> will have lost some data and you will only be able to recover a fraction of your original <code>byte[]</code>.</p>\n<pre><code>String badString = new String(arbitraryBytes, StandardCharsets.UTF_8);\nbyte[] recoveredBytes = badString.getBytes(StandardCharsets.UTF_8);\n</code></pre>\n<p>This will give you <em>something</em> but every time your input contained a encoding error, this will contain the byte sequence 0xEF 0xBF 0xBD (or -17 -65 -67, when interpreted as signed bytes and printed in decimal). That byte sequence is what UTF-8 encodes the U+FFFD Replacement Character as.</p>\n<p>Depending on the <em>specific</em> input (and even the specific implementation of the UTF-8 decoder!) each replacement character can replace one or more bytes, so you can't even reliably tell the size of the original input array like this.</p>\n"}],"owner":{"account_id":27809460,"reputation":11,"user_id":21232130,"display_name":"Ekanath S M R"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":723,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75483304,"answer_count":1,"score":0,"last_activity_date":1676886655,"creation_date":1676620966,"question_id":75481589,"body_markdown":"Consider this is byte array,\r\n`byte[] by = [2, 126, 33, -66, -100, 4, -39, 108]`\r\n\r\nthen if we execute the below code and print it,\r\n\r\n```\r\nString utf8_str = new String(by, StandardCharsets.UTF_8);\r\nSystem.out.println(utf8_str);\r\n```\r\n\r\nthe output is:\r\n```none\r\n\\~!���l\r\n```\r\n\r\nWhere all the negative values are converted to &#39;�&#39; which means that the byte with -ve value is not in the UTF-8 character set.\r\nBut the UTF-8 character set has a range of 0 to 255.\r\n\r\nIf only 0-127 can be shown in +ve in the form of byte datatype, then the numbers greater than 127 can never be used when encoding to UTF-8 character set as Java does not support unsigned byte value.\r\n\r\nAny solution for this?\r\n\r\nI needed to encode a byte array to UTF-8 character String and get the byte array back from the UTF-8 character String.\r\n\r\nBut all the character are encoded and retrieved properly except &#39;�&#39;.\r\n\r\nwhen I try to retrieve &#39;�&#39; (i.e, print it&#39;s UTF-8 Unicode), it gives some other Unicode rather than the Unicode of the encoded character.","title":"Byte array with negative byte values can&#39;t be converted to String using UTF-8","body":"<p>Consider this is byte array,\n<code>byte[] by = [2, 126, 33, -66, -100, 4, -39, 108]</code></p>\n<p>then if we execute the below code and print it,</p>\n<pre><code>String utf8_str = new String(by, StandardCharsets.UTF_8);\nSystem.out.println(utf8_str);\n</code></pre>\n<p>the output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>\\~!���l\n</code></pre>\n<p>Where all the negative values are converted to '�' which means that the byte with -ve value is not in the UTF-8 character set.\nBut the UTF-8 character set has a range of 0 to 255.</p>\n<p>If only 0-127 can be shown in +ve in the form of byte datatype, then the numbers greater than 127 can never be used when encoding to UTF-8 character set as Java does not support unsigned byte value.</p>\n<p>Any solution for this?</p>\n<p>I needed to encode a byte array to UTF-8 character String and get the byte array back from the UTF-8 character String.</p>\n<p>But all the character are encoded and retrieved properly except '�'.</p>\n<p>when I try to retrieve '�' (i.e, print it's UTF-8 Unicode), it gives some other Unicode rather than the Unicode of the encoded character.</p>\n"},{"tags":["java","android","kotlin","android-intent","themes"],"answers":[{"tags":[],"owner":{"account_id":14259398,"reputation":3726,"user_id":10300673,"display_name":"Nikos Hidalgo"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1676886614,"creation_date":1586935099,"answer_id":61223332,"question_id":61223010,"body_markdown":"If you add `android:configChanges=&quot;uiMode&quot;` to your activities in the manifest, when the user changes the theme, the `onConfigurationChanged` method is called. If you override that you can do all the related work in there. In order to check what the current theme is you can do the following:\r\n\r\n    val currentNightMode = configuration.uiMode and Configuration.UI_MODE_NIGHT_MASK\r\n    when (currentNightMode) {\r\n        Configuration.UI_MODE_NIGHT_NO -&gt; {} // Night mode is not active, we&#39;re using the light theme\r\n        Configuration.UI_MODE_NIGHT_YES -&gt; {} // Night mode is active, we&#39;re using dark theme\r\n    }\r\n\r\nEDIT: Since the original question isn&#39;t specific to Kotlin, here is the Java version of the above for reference:\r\n\r\n\tint currentNightMode = configuration.uiMode &amp; Configuration.UI_MODE_NIGHT_MASK;\r\n\tswitch (currentNightMode) {\r\n\t\tcase Configuration.UI_MODE_NIGHT_NO:\r\n\t\t\t// Night mode is not active, we&#39;re using the light theme\r\n\t\t\tbreak;\r\n\t\tcase Configuration.UI_MODE_NIGHT_YES:\r\n\t\t\t// Night mode is active, we&#39;re using dark theme\r\n\t\t\tbreak;\r\n\t}\r\n([source][1])\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/ui/look-and-feel/darktheme#kotlin","title":"How to get notified about Android system theme change?","body":"<p>If you add <code>android:configChanges=&quot;uiMode&quot;</code> to your activities in the manifest, when the user changes the theme, the <code>onConfigurationChanged</code> method is called. If you override that you can do all the related work in there. In order to check what the current theme is you can do the following:</p>\n<pre><code>val currentNightMode = configuration.uiMode and Configuration.UI_MODE_NIGHT_MASK\nwhen (currentNightMode) {\n    Configuration.UI_MODE_NIGHT_NO -&gt; {} // Night mode is not active, we're using the light theme\n    Configuration.UI_MODE_NIGHT_YES -&gt; {} // Night mode is active, we're using dark theme\n}\n</code></pre>\n<p>EDIT: Since the original question isn't specific to Kotlin, here is the Java version of the above for reference:</p>\n<pre><code>int currentNightMode = configuration.uiMode &amp; Configuration.UI_MODE_NIGHT_MASK;\nswitch (currentNightMode) {\n    case Configuration.UI_MODE_NIGHT_NO:\n        // Night mode is not active, we're using the light theme\n        break;\n    case Configuration.UI_MODE_NIGHT_YES:\n        // Night mode is active, we're using dark theme\n        break;\n}\n</code></pre>\n<p>(<a href=\"https://developer.android.com/guide/topics/ui/look-and-feel/darktheme#kotlin\" rel=\"noreferrer\">source</a>)</p>\n"}],"owner":{"account_id":9853988,"reputation":71,"user_id":7299137,"display_name":"jdallmeier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3229,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1676886614,"creation_date":1586933858,"question_id":61223010,"body_markdown":"Android introduced Dark Theme in API level 29 and higher (https://developer.android.com/guide/topics/ui/look-and-feel/darktheme). To support Dark Theme in your own app your app&#39;s theme needs to inherit from DayNight theme. \r\nBut what if you did your own theming, is there any intent from Android to get noticed about the system theme change?","title":"How to get notified about Android system theme change?","body":"<p>Android introduced Dark Theme in API level 29 and higher (<a href=\"https://developer.android.com/guide/topics/ui/look-and-feel/darktheme\" rel=\"noreferrer\">https://developer.android.com/guide/topics/ui/look-and-feel/darktheme</a>). To support Dark Theme in your own app your app's theme needs to inherit from DayNight theme. \nBut what if you did your own theming, is there any intent from Android to get noticed about the system theme change?</p>\n"},{"tags":["java","excel","unit-testing","junit","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1602059128,"post_id":64236995,"comment_id":113596714,"body_markdown":"Looks like your file isn&#39;t actually a XLSX file... If you open it up in Excel and do a Save-As, what format type does Excel think it is?","body":"Looks like your file isn&#39;t actually a XLSX file... If you open it up in Excel and do a Save-As, what format type does Excel think it is?"},{"owner":{"account_id":3658432,"reputation":21,"user_id":3048852,"display_name":"Aoon"},"score":0,"creation_date":1602064820,"post_id":64236995,"comment_id":113599355,"body_markdown":"@Gagravarr actually, it&#39;s working fine on the func but it failed on the test. i don&#39;t know why","body":"@Gagravarr actually, it&#39;s working fine on the func but it failed on the test. i don&#39;t know why"}],"answers":[{"tags":[],"owner":{"account_id":24090354,"reputation":11,"user_id":20594118,"display_name":"yermukhanjaver"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676886503,"creation_date":1676886503,"answer_id":75507653,"question_id":64236995,"body_markdown":"I solved this for test:\r\n\r\n    String originalName = &quot;src/main/resources/test.xlsx&quot;;\r\n        File testFile = new File(originalName);\r\n        InputStream stream = new FileInputStream(testFile);\r\n        MockMultipartFile file = new MockMultipartFile(&quot;file&quot;, testFile.getName(), MediaType.ALL_VALUE, stream);\r\n\r\n\r\nJust use **FileInputStream** and use .xlsx format","title":"how to solve NotOfficeXmlFileException","body":"<p>I solved this for test:</p>\n<pre><code>String originalName = &quot;src/main/resources/test.xlsx&quot;;\n    File testFile = new File(originalName);\n    InputStream stream = new FileInputStream(testFile);\n    MockMultipartFile file = new MockMultipartFile(&quot;file&quot;, testFile.getName(), MediaType.ALL_VALUE, stream);\n</code></pre>\n<p>Just use <strong>FileInputStream</strong> and use .xlsx format</p>\n"}],"owner":{"account_id":3658432,"reputation":21,"user_id":3048852,"display_name":"Aoon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2864,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1676886503,"creation_date":1602043192,"question_id":64236995,"body_markdown":"I have an API for uploading excel file to a server and read it, so my code below\r\n\r\n    public ReturnSTH funcExample(@RequestParam(&quot;file&quot;) MultipartFile file) {\r\n        Sheet sheet = null;\r\n        try {\r\n            InputStream in = file.getInputStream();\r\n            Workbook workbook = new XSSFWorkbook(in);\r\n            sheet = workbook.getSheetAt(0);\r\n        } catch (IOException e) {\r\n            // do something\r\n        }\r\n\r\nthen I have to test the API using JUnit as below \r\n\r\n    @Test\r\n\tpublic void test() {\r\n\t\tMockMultipartFile fakeFile = new MockMultipartFile(&quot;file&quot;, &quot;bank.xlsx&quot;, MediaType.TEXT_PLAIN_VALUE, &quot;file data&quot;.getBytes());\r\n\t\tReturnSTH response = funcExample(fakeFile);\r\n\t}\r\n\r\nI got the error like below\r\n\r\n    org.apache.poi.openxml4j.exceptions.NotOfficeXmlFileException: No valid entries or contents found, this is not a valid OOXML (Office Open XML) file\r\n\r\non the line **Workbook workbook = new XSSFWorkbook(in);**\r\n\r\nI don&#39;t know how to fix this issue. ","title":"how to solve NotOfficeXmlFileException","body":"<p>I have an API for uploading excel file to a server and read it, so my code below</p>\n<pre><code>public ReturnSTH funcExample(@RequestParam(&quot;file&quot;) MultipartFile file) {\n    Sheet sheet = null;\n    try {\n        InputStream in = file.getInputStream();\n        Workbook workbook = new XSSFWorkbook(in);\n        sheet = workbook.getSheetAt(0);\n    } catch (IOException e) {\n        // do something\n    }\n</code></pre>\n<p>then I have to test the API using JUnit as below</p>\n<pre><code>@Test\npublic void test() {\n    MockMultipartFile fakeFile = new MockMultipartFile(&quot;file&quot;, &quot;bank.xlsx&quot;, MediaType.TEXT_PLAIN_VALUE, &quot;file data&quot;.getBytes());\n    ReturnSTH response = funcExample(fakeFile);\n}\n</code></pre>\n<p>I got the error like below</p>\n<pre><code>org.apache.poi.openxml4j.exceptions.NotOfficeXmlFileException: No valid entries or contents found, this is not a valid OOXML (Office Open XML) file\n</code></pre>\n<p>on the line <strong>Workbook workbook = new XSSFWorkbook(in);</strong></p>\n<p>I don't know how to fix this issue.</p>\n"},{"tags":["java","javascript","applet"],"comments":[{"owner":{"account_id":543094,"reputation":6589,"user_id":912130,"accept_rate":76,"display_name":"Jazi"},"score":0,"creation_date":1430307684,"post_id":29942165,"comment_id":48006010,"body_markdown":"Use only lowercased letters in HTML tags.","body":"Use only lowercased letters in HTML tags."}],"answers":[{"comments":[{"owner":{"account_id":3438050,"reputation":67,"user_id":2880677,"accept_rate":36,"display_name":"HenryLoke"},"score":0,"creation_date":1430362350,"post_id":29942480,"comment_id":48037018,"body_markdown":"Thank for the response.\nBut the Confirm will asked user to click OK or Cancel.\nFor this &quot;Please accept the JAVA applet.&quot;, it should be only OK button.\nAny other better solution for this?","body":"Thank for the response. But the Confirm will asked user to click OK or Cancel. For this &quot;Please accept the JAVA applet.&quot;, it should be only OK button. Any other better solution for this?"},{"owner":{"account_id":3438050,"reputation":67,"user_id":2880677,"accept_rate":36,"display_name":"HenryLoke"},"score":0,"creation_date":1430383678,"post_id":29942480,"comment_id":48046439,"body_markdown":"Thank you for the solution.\nSorry to say that, I tried but the browser still not responding..","body":"Thank you for the solution. Sorry to say that, I tried but the browser still not responding.."}],"tags":[],"owner":{"account_id":1660183,"reputation":543,"user_id":1528624,"display_name":"Tomek"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430376554,"creation_date":1430307202,"answer_id":29942480,"question_id":29942165,"body_markdown":"   Please try something like that:\r\n\r\n    &lt;html&gt;\r\n        &lt;head&gt;\r\n            &lt;title&gt;Java Example&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n             This is my page&lt;br/&gt;\r\n             Below you see an applet&lt;br/&gt;\r\n             &lt;script&gt;\r\n                  var result = confirm(&quot;Please accept the JAVA applet.&quot;);\r\n                  if(result == true) {\r\n                       document.write(&quot;&lt;applet code=&#39;MyApplet.class&#39; style=&#39;width:200px;height:100px;&#39;&gt;\r\n                       &lt;/applet&gt;&quot;);\r\n                  }\r\n             &lt;/script&gt;\r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nCould you please also write HTML code according to the standards.\r\n\r\nEDIT:\r\nWell, in that case please use &quot;alert&quot; function instead of &quot;confirm&quot;. Your script should look like:\r\n      \r\n    &lt;script&gt;\r\n        alert(&quot;Please accept the JAVA applet.&quot;);\r\n        document.write(&quot;&lt;applet code=&#39;MyApplet.class&#39; style=&#39;width:200px;height:100px;&#39;&gt;\r\n                   &lt;/applet&gt;&quot;);          \r\n    &lt;/script&gt;\r\n\r\nIf my answer have met your requirements please mark it.","title":"Alert message before Java Applet, cause Browser no response","body":"<p>Please try something like that:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Java Example&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n         This is my page&lt;br/&gt;\n         Below you see an applet&lt;br/&gt;\n         &lt;script&gt;\n              var result = confirm(\"Please accept the JAVA applet.\");\n              if(result == true) {\n                   document.write(\"&lt;applet code='MyApplet.class' style='width:200px;height:100px;'&gt;\n                   &lt;/applet&gt;\");\n              }\n         &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Could you please also write HTML code according to the standards.</p>\n\n<p>EDIT:\nWell, in that case please use \"alert\" function instead of \"confirm\". Your script should look like:</p>\n\n<pre><code>&lt;script&gt;\n    alert(\"Please accept the JAVA applet.\");\n    document.write(\"&lt;applet code='MyApplet.class' style='width:200px;height:100px;'&gt;\n               &lt;/applet&gt;\");          \n&lt;/script&gt;\n</code></pre>\n\n<p>If my answer have met your requirements please mark it.</p>\n"}],"owner":{"account_id":3438050,"reputation":67,"user_id":2880677,"accept_rate":36,"display_name":"HenryLoke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676886496,"creation_date":1430306387,"question_id":29942165,"body_markdown":"I facing a problem on put an alert message &quot;Please accept the JAVA applet.&quot; before the page loading the java applet cause The browser just not responding.\r\nI suspend the java applet loading and ask for user permission to accept it.\r\n\r\n    &lt;Html&gt;\r\n      &lt;Head&gt;\r\n        &lt;Title&gt;Java Example&lt;/Title&gt;\r\n      &lt;/Head&gt;\r\n    &lt;script&gt;\r\n      alert(&quot;Please accept the JAVA applet.&quot;);\r\n    &lt;/script&gt;\r\n      &lt;Body&gt;\r\n        This is my page&lt;br&gt;\r\n        Below you see an applet&lt;br&gt;\r\n        &lt;br&gt;\r\n        &lt;Applet Code=&quot;MyApplet.class&quot; width=200 Height=100&gt;\r\n        &lt;/Applet&gt;\r\n      &lt;/Body&gt;\r\n    &lt;/Html&gt; \r\n\r\n","title":"Alert message before Java Applet, cause Browser no response","body":"<p>I facing a problem on put an alert message \"Please accept the JAVA applet.\" before the page loading the java applet cause The browser just not responding.\nI suspend the java applet loading and ask for user permission to accept it.</p>\n\n<pre><code>&lt;Html&gt;\n  &lt;Head&gt;\n    &lt;Title&gt;Java Example&lt;/Title&gt;\n  &lt;/Head&gt;\n&lt;script&gt;\n  alert(\"Please accept the JAVA applet.\");\n&lt;/script&gt;\n  &lt;Body&gt;\n    This is my page&lt;br&gt;\n    Below you see an applet&lt;br&gt;\n    &lt;br&gt;\n    &lt;Applet Code=\"MyApplet.class\" width=200 Height=100&gt;\n    &lt;/Applet&gt;\n  &lt;/Body&gt;\n&lt;/Html&gt; \n</code></pre>\n"},{"tags":["java","java-8","option-type"],"comments":[{"owner":{"account_id":944240,"reputation":2486,"user_id":971813,"accept_rate":84,"display_name":"acvcu"},"score":0,"creation_date":1466617072,"post_id":28322464,"comment_id":63395896,"body_markdown":"If you can live with it returning an empty String instead of Optional.empty you could do this: Optional.ofNullable(ppo).orElse(&quot;&quot;);","body":"If you can live with it returning an empty String instead of Optional.empty you could do this: Optional.ofNullable(ppo).orElse(&quot;&quot;);"}],"answers":[{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1423056319,"post_id":28322524,"comment_id":44992886,"body_markdown":"@assylias: Fixed. It&#39;s never clear to me in Java how type inference works with the conditional operator. (Or rather, I never remember...)","body":"@assylias: Fixed. It&#39;s never clear to me in Java how type inference works with the conditional operator. (Or rather, I never remember...)"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1423056536,"post_id":28322524,"comment_id":44993050,"body_markdown":"With Java 8 it has become very rare that you need it.","body":"With Java 8 it has become very rare that you need it."},{"owner":{"account_id":1796955,"reputation":2964,"user_id":1636173,"accept_rate":100,"display_name":"Giulio Caccin"},"score":1,"creation_date":1636623235,"post_id":28322524,"comment_id":123608423,"body_markdown":"from java 11 you can keep concatenating with filter and predicate, no other dependencies are needed: `Optional.ofNullable(s).filter(Predicate.not(String::isEmpty))` as written in this answer https://stackoverflow.com/a/53212977/1636173","body":"from java 11 you can keep concatenating with filter and predicate, no other dependencies are needed: <code>Optional.ofNullable(s).filter(Predicate.not(String::isEmpty)&zwnj;&#8203;)</code> as written in this answer <a href=\"https://stackoverflow.com/a/53212977/1636173\">stackoverflow.com/a/53212977/1636173</a>"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1423056142,"creation_date":1423056142,"answer_id":28322524,"question_id":28322464,"body_markdown":"How about:\r\n\r\n    Optional&lt;String&gt; ostr = ppo == null || ppo.isEmpty()\r\n        ? Optional.empty()\r\n        : Optional.of(ppo);\r\n\r\nYou can put that in a utility method if you need it often, of course. I see no benefit in creating an `Optional` with an empty string, only to then ignore it.","title":"In Java 8, transform Optional&lt;String&gt; of an empty String in Optional.empty","body":"<p>How about:</p>\n\n<pre><code>Optional&lt;String&gt; ostr = ppo == null || ppo.isEmpty()\n    ? Optional.empty()\n    : Optional.of(ppo);\n</code></pre>\n\n<p>You can put that in a utility method if you need it often, of course. I see no benefit in creating an <code>Optional</code> with an empty string, only to then ignore it.</p>\n"},{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":0,"down_vote_count":1,"up_vote_count":104,"is_accepted":true,"score":103,"last_activity_date":1676886445,"creation_date":1423056488,"answer_id":28322647,"question_id":28322464,"body_markdown":"You could use a filter:\r\n\r\n    Optional.ofNullable(s).filter(not(String::isEmpty));\r\n\r\nThat will return an empty Optional if `ppo` is null or empty.","title":"In Java 8, transform Optional&lt;String&gt; of an empty String in Optional.empty","body":"<p>You could use a filter:</p>\n<pre><code>Optional.ofNullable(s).filter(not(String::isEmpty));\n</code></pre>\n<p>That will return an empty Optional if <code>ppo</code> is null or empty.</p>\n"},{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423056795,"creation_date":1423056795,"answer_id":28322740,"question_id":28322464,"body_markdown":"You can use map :\r\n\r\n    String ppo=&quot;&quot;;\r\n    Optional&lt;String&gt; ostr = Optional.ofNullable(ppo)\r\n                                    .map(s -&gt; s.isEmpty()?null:s);\r\n    System.out.println(ostr.isPresent()); // prints false","title":"In Java 8, transform Optional&lt;String&gt; of an empty String in Optional.empty","body":"<p>You can use map :</p>\n\n<pre><code>String ppo=\"\";\nOptional&lt;String&gt; ostr = Optional.ofNullable(ppo)\n                                .map(s -&gt; s.isEmpty()?null:s);\nSystem.out.println(ostr.isPresent()); // prints false\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6613027,"reputation":788,"user_id":5107365,"display_name":"Raj"},"score":0,"creation_date":1559785459,"post_id":40526475,"comment_id":99531126,"body_markdown":"My case was that I couldn&#39;t take even for blanks, so used StringUtils.isNotBlank - however approach is same. thanks.","body":"My case was that I couldn&#39;t take even for blanks, so used StringUtils.isNotBlank - however approach is same. thanks."},{"owner":{"account_id":1796955,"reputation":2964,"user_id":1636173,"accept_rate":100,"display_name":"Giulio Caccin"},"score":0,"creation_date":1636623070,"post_id":40526475,"comment_id":123608357,"body_markdown":"from java 11 you dont need apache commons anymore, just use `.filter(Predicate.not(String::isBlank))`","body":"from java 11 you dont need apache commons anymore, just use <code>.filter(Predicate.not(String::isBlank))</code>"}],"tags":[],"owner":{"account_id":6017058,"reputation":5034,"user_id":4725496,"accept_rate":94,"display_name":"Boris"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1478777188,"creation_date":1478777188,"answer_id":40526475,"question_id":28322464,"body_markdown":"With Apache Commons:\r\n\r\n    .filter(StringUtils::isNotEmpty)","title":"In Java 8, transform Optional&lt;String&gt; of an empty String in Optional.empty","body":"<p>With Apache Commons:</p>\n\n<pre><code>.filter(StringUtils::isNotEmpty)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1796955,"reputation":2964,"user_id":1636173,"accept_rate":100,"display_name":"Giulio Caccin"},"score":0,"creation_date":1636623095,"post_id":48011144,"comment_id":123608370,"body_markdown":"from java 11 you dont need guava anymore, just use `.filter(Predicate.not(String::isBlank))`","body":"from java 11 you dont need guava anymore, just use <code>.filter(Predicate.not(String::isBlank))</code>"}],"tags":[],"owner":{"account_id":3409275,"reputation":51,"user_id":2859628,"display_name":"Gonzalo Vallejos Bobadilla"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514479319,"creation_date":1514479319,"answer_id":48011144,"question_id":28322464,"body_markdown":"If you use Guava, you can just do:\r\n\r\n    Optional&lt;String&gt; ostr = Optional.ofNullable(Strings.emptyToNull(ppo));","title":"In Java 8, transform Optional&lt;String&gt; of an empty String in Optional.empty","body":"<p>If you use Guava, you can just do:</p>\n\n<pre><code>Optional&lt;String&gt; ostr = Optional.ofNullable(Strings.emptyToNull(ppo));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2027202,"reputation":724,"user_id":1811877,"display_name":"Michael Barnwell"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1541697478,"creation_date":1541697478,"answer_id":53212977,"question_id":28322464,"body_markdown":"Java 11 answer:\r\n\r\n    var optionalString = Optional.ofNullable(str).filter(Predicate.not(String::isBlank));\r\n\r\n`String::isBlank` deals with a broader range of &#39;empty&#39; characters.","title":"In Java 8, transform Optional&lt;String&gt; of an empty String in Optional.empty","body":"<p>Java 11 answer:</p>\n\n<pre><code>var optionalString = Optional.ofNullable(str).filter(Predicate.not(String::isBlank));\n</code></pre>\n\n<p><code>String::isBlank</code> deals with a broader range of 'empty' characters.</p>\n"},{"tags":[],"owner":{"account_id":19672763,"reputation":1776,"user_id":15062361,"display_name":"Pepe N O"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676480108,"creation_date":1676479431,"answer_id":75462911,"question_id":28322464,"body_markdown":"Another option using filter\r\n\r\n    Optional&lt;String&gt; ostr = Optional.ofNullable(ppo).filter(o -&gt; !o.isBlank());","title":"In Java 8, transform Optional&lt;String&gt; of an empty String in Optional.empty","body":"<p>Another option using filter</p>\n<pre><code>Optional&lt;String&gt; ostr = Optional.ofNullable(ppo).filter(o -&gt; !o.isBlank());\n</code></pre>\n"}],"owner":{"account_id":1097011,"reputation":1450,"user_id":1090394,"display_name":"Germ&#225;n Bouzas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88141,"favorite_count":0,"down_vote_count":0,"up_vote_count":56,"accepted_answer_id":28322647,"answer_count":7,"score":56,"last_activity_date":1676886445,"creation_date":1423055982,"question_id":28322464,"body_markdown":"Given a String I need to get an Optional&lt;String&gt;, whereby if the String is null or empty the result would be Optional.empty.\r\nI can do it this way:\r\n\r\n    String ppo = &quot;&quot;;\r\n    Optional&lt;String&gt; ostr = Optional.ofNullable(ppo);\r\n    if (ostr.isPresent() &amp;&amp; ostr.get().isEmpty()) {\r\n        ostr = Optional.empty();\r\n    }\r\n\r\nBut surely there must be a more elegant way.\r\n","title":"In Java 8, transform Optional&lt;String&gt; of an empty String in Optional.empty","body":"<p>Given a String I need to get an Optional, whereby if the String is null or empty the result would be Optional.empty.\nI can do it this way:</p>\n\n<pre><code>String ppo = \"\";\nOptional&lt;String&gt; ostr = Optional.ofNullable(ppo);\nif (ostr.isPresent() &amp;&amp; ostr.get().isEmpty()) {\n    ostr = Optional.empty();\n}\n</code></pre>\n\n<p>But surely there must be a more elegant way.</p>\n"},{"tags":["java","stomp","spring-websocket","spring-messaging"],"answers":[{"tags":[],"owner":{"account_id":6365827,"reputation":3652,"user_id":4939853,"accept_rate":69,"display_name":"Oreste Viron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492070320,"creation_date":1492070320,"answer_id":43386628,"question_id":43386271,"body_markdown":"I don&#39;t think it was designed to be used like this.\r\n\r\nI think you must use a specific websocket client. This one for exemple :\r\nhttp://www.programmingforliving.com/2013/08/jsr-356-java-api-for-websocket-client-api.html\r\n\r\nThis code :\r\n\r\n    @MessageMapping(&quot;/consumer/client/add&quot;)\r\n    public void addClientRequest(String msgReq) {\r\n        logger.info(msgReq);\r\n    }\r\n\r\nWill NOT connect to a websocket client and wait to have messages. It expect a client to connect throught it and send messages.","title":"simpMessagingTemplate doesn&#39;t send message from client to server","body":"<p>I don't think it was designed to be used like this.</p>\n\n<p>I think you must use a specific websocket client. This one for exemple :\n<a href=\"http://www.programmingforliving.com/2013/08/jsr-356-java-api-for-websocket-client-api.html\" rel=\"nofollow noreferrer\">http://www.programmingforliving.com/2013/08/jsr-356-java-api-for-websocket-client-api.html</a></p>\n\n<p>This code :</p>\n\n<pre><code>@MessageMapping(\"/consumer/client/add\")\npublic void addClientRequest(String msgReq) {\n    logger.info(msgReq);\n}\n</code></pre>\n\n<p>Will NOT connect to a websocket client and wait to have messages. It expect a client to connect throught it and send messages.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676886423,"creation_date":1492069102,"question_id":43386271,"body_markdown":"I want to exchange messages by web sockets between 2 java apps.\r\n\r\nI have the following server  configuration:\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\r\n    \r\n    \t@Override\r\n    \tpublic void configureMessageBroker(MessageBrokerRegistry registry) {\r\n    \t\tregistry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    \t\tregistry.enableSimpleBroker(&quot;/queue&quot;, &quot;/topic&quot;);\r\n    \t\tregistry.setUserDestinationPrefix(&quot;/user&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void registerStompEndpoints(StompEndpointRegistry registry) {\r\n    \t\t//todo remove handshake handler when authorization is implemented\r\n    \t\tregistry.addEndpoint(&quot;/ws&quot;).setAllowedOrigins(&quot;*&quot;).setHandshakeHandler(new TestHandshakeHandler()).withSockJS();\r\n    \t}\r\n    }\r\n\r\nand inside class marked with `@Controller` I have wrote following theme:\r\n\r\n   \r\n\r\n    @MessageMapping(&quot;/consumer/client/add&quot;)\r\n    public void addClientRequest(String msgReq) {\r\n        logger.info(msgReq);\r\n    }\r\n\r\n\r\n\r\nand inside clien I do connect and in sime bean I wrote following:\r\n\r\n\r\n    @Autowired\r\n    private SimpMessagingTemplate simpMessagingTemplate;\r\n    ...\r\n    simpMessagingTemplate.convertAndSend(&quot;/app/consumer/client/add&quot;, new StubObject(&quot;message&quot;));\r\n\r\nBut after sending from client method  `addClientRequest` doesn&#39;t invoke.\r\n\r\nPlease advice ways to troubleshot this issue. \r\n\r\nActually I don&#39;t understand issue. Maybe I send to wrong destination or I have issue with configuration or path is wrong or something else.\r\n\r\nP.S.\r\n-\r\n\r\nI know that I can `extend StompSessionHandlerAdapter`\r\n\r\nand obtain session from there but looks like it is the bad style and should be another way to achieve it\r\n\r\nP.S.2\r\n-\r\n\r\nInside class `WebSocketTcpConnectionHandlerAdapter`(inner class inside  `WebSocketStompClient`) I see `private volatile WebSocketSession session;`\r\n\r\nI want to obtain this object to send messages","title":"simpMessagingTemplate doesn&#39;t send message from client to server","body":"<p>I want to exchange messages by web sockets between 2 java apps.</p>\n\n<p>I have the following server  configuration:</p>\n\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig extends AbstractWebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry) {\n        registry.setApplicationDestinationPrefixes(\"/app\");\n        registry.enableSimpleBroker(\"/queue\", \"/topic\");\n        registry.setUserDestinationPrefix(\"/user\");\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        //todo remove handshake handler when authorization is implemented\n        registry.addEndpoint(\"/ws\").setAllowedOrigins(\"*\").setHandshakeHandler(new TestHandshakeHandler()).withSockJS();\n    }\n}\n</code></pre>\n\n<p>and inside class marked with <code>@Controller</code> I have wrote following theme:</p>\n\n<pre><code>@MessageMapping(\"/consumer/client/add\")\npublic void addClientRequest(String msgReq) {\n    logger.info(msgReq);\n}\n</code></pre>\n\n<p>and inside clien I do connect and in sime bean I wrote following:</p>\n\n<pre><code>@Autowired\nprivate SimpMessagingTemplate simpMessagingTemplate;\n...\nsimpMessagingTemplate.convertAndSend(\"/app/consumer/client/add\", new StubObject(\"message\"));\n</code></pre>\n\n<p>But after sending from client method  <code>addClientRequest</code> doesn't invoke.</p>\n\n<p>Please advice ways to troubleshot this issue. </p>\n\n<p>Actually I don't understand issue. Maybe I send to wrong destination or I have issue with configuration or path is wrong or something else.</p>\n\n<h2>P.S.</h2>\n\n<p>I know that I can <code>extend StompSessionHandlerAdapter</code></p>\n\n<p>and obtain session from there but looks like it is the bad style and should be another way to achieve it</p>\n\n<h2>P.S.2</h2>\n\n<p>Inside class <code>WebSocketTcpConnectionHandlerAdapter</code>(inner class inside  <code>WebSocketStompClient</code>) I see <code>private volatile WebSocketSession session;</code></p>\n\n<p>I want to obtain this object to send messages</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":184504,"reputation":3675,"user_id":420593,"accept_rate":54,"display_name":"fluminis"},"score":2,"creation_date":1429013573,"post_id":29626964,"comment_id":47396978,"body_markdown":"and what is your question?","body":"and what is your question?"},{"owner":{"account_id":2865312,"reputation":623,"user_id":2459759,"accept_rate":75,"display_name":"B4dT0bi"},"score":0,"creation_date":1429013598,"post_id":29626964,"comment_id":47397002,"body_markdown":"You could sort the array first with Collections.sort(arr) and then just return the first number which is greater 0.","body":"You could sort the array first with Collections.sort(arr) and then just return the first number which is greater 0."},{"owner":{"account_id":1690035,"reputation":22131,"user_id":1552587,"accept_rate":40,"display_name":"Titus"},"score":1,"creation_date":1429013609,"post_id":29626964,"comment_id":47397009,"body_markdown":"You can change `(arr[i]&lt;smallest)` to `(arr[i]&lt;smallest &amp;&amp; arr[i] &gt; 0)`","body":"You can change <code>(arr[i]&lt;smallest)</code> to <code>(arr[i]&lt;smallest &amp;&amp; arr[i] &gt; 0)</code>"},{"owner":{"account_id":6117563,"reputation":711,"user_id":4772090,"display_name":"Jyr"},"score":0,"creation_date":1429013720,"post_id":29626964,"comment_id":47397067,"body_markdown":"That would still be problematic if the first value of the array is e.g. -2.","body":"That would still be problematic if the first value of the array is e.g. -2."},{"owner":{"account_id":4171489,"reputation":479,"user_id":3419147,"display_name":"Bram"},"score":2,"creation_date":1429013743,"post_id":29626964,"comment_id":47397086,"body_markdown":"Do not start with `smallest = arr[0]` but `Integer.MAX_VALUE` instead, then loop from 0.","body":"Do not start with <code>smallest = arr[0]</code> but <code>Integer.MAX_VALUE</code> instead, then loop from 0."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1429014478,"post_id":29626964,"comment_id":47397592,"body_markdown":"@Bram so, how would you later on state that the array either had no valid numbers, or had (at least) one with the value of Integer.MAX_VALUE ?","body":"@Bram so, how would you later on state that the array either had no valid numbers, or had (at least) one with the value of Integer.MAX_VALUE ?"}],"answers":[{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429013600,"creation_date":1429013600,"answer_id":29627004,"question_id":29626964,"body_markdown":"change this:\r\n\r\n    if(arr[i]&lt;smallest)\r\n\r\nto \r\n\r\n    if(arr[i]&lt;smallest &amp;&amp; arr[i] &gt; 0) \r\n\r\notherwise it will be overwritten by any value, whether it is a positive int or not.","title":"Java: Finding the smallest greater than zero number in an array","body":"<p>change this:</p>\n\n<pre><code>if(arr[i]&lt;smallest)\n</code></pre>\n\n<p>to </p>\n\n<pre><code>if(arr[i]&lt;smallest &amp;&amp; arr[i] &gt; 0) \n</code></pre>\n\n<p>otherwise it will be overwritten by any value, whether it is a positive int or not.</p>\n"},{"tags":[],"owner":{"account_id":1828009,"reputation":4065,"user_id":1660228,"accept_rate":80,"display_name":"Loki"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1429013606,"creation_date":1429013606,"answer_id":29627006,"question_id":29626964,"body_markdown":"    if(arr[i]&lt;smallest &amp;&amp; arr[i]&gt;0) {\r\n        smallest = arr[i];\r\n    }\r\n\r\n","title":"Java: Finding the smallest greater than zero number in an array","body":"<pre><code>if(arr[i]&lt;smallest &amp;&amp; arr[i]&gt;0) {\n    smallest = arr[i];\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6117563,"reputation":711,"user_id":4772090,"display_name":"Jyr"},"score":1,"creation_date":1429013944,"post_id":29627035,"comment_id":47397224,"body_markdown":"The loop should start at 0 though.","body":"The loop should start at 0 though."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1429014018,"post_id":29627035,"comment_id":47397285,"body_markdown":"fluminis: what if one of the elements of the array has Integer.MAX_VALUE as value? it&#39;s better to have the default value to be negative, and verify that the result is higher than 0","body":"fluminis: what if one of the elements of the array has Integer.MAX_VALUE as value? it&#39;s better to have the default value to be negative, and verify that the result is higher than 0"},{"owner":{"account_id":1690035,"reputation":22131,"user_id":1552587,"accept_rate":40,"display_name":"Titus"},"score":0,"creation_date":1429014908,"post_id":29627035,"comment_id":47397855,"body_markdown":"@Stultuske that won&#39;t work because you can&#39;t have a value that is bigger then `0` and smaller then a negative number which means that the `if` condition will always be `false`.","body":"@Stultuske that won&#39;t work because you can&#39;t have a value that is bigger then <code>0</code> and smaller then a negative number which means that the <code>if</code> condition will always be <code>false</code>."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1429015137,"post_id":29627035,"comment_id":47397995,"body_markdown":"@Titus: at which point the code will not behave how it should for all values.","body":"@Titus: at which point the code will not behave how it should for all values."}],"tags":[],"owner":{"account_id":184504,"reputation":3675,"user_id":420593,"accept_rate":54,"display_name":"fluminis"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1429014001,"creation_date":1429013732,"answer_id":29627035,"question_id":29626964,"body_markdown":"    public static int findSmallest(int[] arr) {\r\n        int smallest = Integer.MAX_VALUE;\r\n        for(int i=0; i&lt;arr.length; i++) {\r\n            if(arr[i] &gt; 0 &amp;&amp; arr[i]&lt;smallest) {\r\n                smallest = arr[i];\r\n            }\r\n        }\r\n        return smallest;\r\n    }\r\n\r\nAt the end, if smallest == Integer.MAX_VALUE, then all the array is filled of zeros.","title":"Java: Finding the smallest greater than zero number in an array","body":"<pre><code>public static int findSmallest(int[] arr) {\n    int smallest = Integer.MAX_VALUE;\n    for(int i=0; i&lt;arr.length; i++) {\n        if(arr[i] &gt; 0 &amp;&amp; arr[i]&lt;smallest) {\n            smallest = arr[i];\n        }\n    }\n    return smallest;\n}\n</code></pre>\n\n<p>At the end, if smallest == Integer.MAX_VALUE, then all the array is filled of zeros.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1661328615,"post_id":73419773,"comment_id":129742988,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73419773/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26107482,"reputation":1,"user_id":19801972,"display_name":"reza"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661402425,"creation_date":1660926928,"answer_id":73419773,"question_id":29626964,"body_markdown":"```java\r\npublic static void main(String[] args) {\r\n    // write your code here\r\n\r\n    int[] numbers = {12,20,85,40,95,54,75,45,50,43,11,9,5,6};\r\n    int temp = numbers[0];\r\n    for (int i = 0; i &lt; numbers.length; i++) {\r\n        if (numbers[i] &lt;  temp) {\r\n            temp = numbers[i] ;\r\n        }\r\n    }\r\n    System.out.println(temp);\r\n}\r\n```","title":"Java: Finding the smallest greater than zero number in an array","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // write your code here\n\n    int[] numbers = {12,20,85,40,95,54,75,45,50,43,11,9,5,6};\n    int temp = numbers[0];\n    for (int i = 0; i &lt; numbers.length; i++) {\n        if (numbers[i] &lt;  temp) {\n            temp = numbers[i] ;\n        }\n    }\n    System.out.println(temp);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14055801,"reputation":9,"user_id":10153184,"display_name":"justdizzle"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676886313,"creation_date":1676510038,"answer_id":75466919,"question_id":29626964,"body_markdown":"```\r\npublic static void main(String[] args) {\r\n    // write your code here\r\n    int[] numbers = {12,20,85,40,95,54,75,45,50,43,11,9,5,6};\r\n    if (numbers.length &gt; 0) {\r\n        Arrays.sort(numbers);\r\n    }\r\n    System.out.println(numbers[0]);\r\n```\r\n\r\nor \r\n\r\n```\r\nint minimum = numbers[0];\r\n    for (int i = 0; i &lt; numbers.length; i++) {\r\n        if (numbers[i] &lt; minimum){\r\n            minimum=numbers[i];\r\n        }\r\n    }\r\n    System.out.println(&quot;The minimum in an array is &quot;+minimum);\r\n}\r\n```","title":"Java: Finding the smallest greater than zero number in an array","body":"<pre><code>public static void main(String[] args) {\n    // write your code here\n    int[] numbers = {12,20,85,40,95,54,75,45,50,43,11,9,5,6};\n    if (numbers.length &gt; 0) {\n        Arrays.sort(numbers);\n    }\n    System.out.println(numbers[0]);\n</code></pre>\n<p>or</p>\n<pre><code>int minimum = numbers[0];\n    for (int i = 0; i &lt; numbers.length; i++) {\n        if (numbers[i] &lt; minimum){\n            minimum=numbers[i];\n        }\n    }\n    System.out.println(&quot;The minimum in an array is &quot;+minimum);\n}\n</code></pre>\n"}],"owner":{"account_id":1110538,"reputation":13397,"user_id":1101083,"accept_rate":70,"display_name":"Himanshu Yadav"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3978,"favorite_count":0,"down_vote_count":6,"up_vote_count":0,"accepted_answer_id":29627035,"answer_count":5,"score":-6,"last_activity_date":1676886313,"creation_date":1429013500,"question_id":29626964,"body_markdown":"Finding smallest number is easy. I am finding it difficult to find a smallest greater than zero number in an array.\r\n\r\n    public static int findSmallestOld(int[] arr) {\r\n        int smallest = arr[0];\r\n        for(int i=1; i&lt;arr.length; i++) {\r\n            if(arr[i]&lt;smallest) {\r\n                smallest = arr[i];\r\n            }\r\n        }\r\n        return smallest;\r\n    }\r\n\r\nFew example inputs could be &lt;br/&gt;\r\n{0, 0, 0, 3} output = 3&lt;br/&gt;\r\n{0, 1, 0, 4} output = 1\r\n","title":"Java: Finding the smallest greater than zero number in an array","body":"<p>Finding smallest number is easy. I am finding it difficult to find a smallest greater than zero number in an array.</p>\n\n<pre><code>public static int findSmallestOld(int[] arr) {\n    int smallest = arr[0];\n    for(int i=1; i&lt;arr.length; i++) {\n        if(arr[i]&lt;smallest) {\n            smallest = arr[i];\n        }\n    }\n    return smallest;\n}\n</code></pre>\n\n<p>Few example inputs could be <br/>\n{0, 0, 0, 3} output = 3<br/>\n{0, 1, 0, 4} output = 1</p>\n"},{"tags":["java","flutter","aes"],"comments":[{"owner":{"account_id":19652480,"reputation":456,"user_id":14385914,"display_name":"narayann"},"score":0,"creation_date":1675755992,"post_id":75369912,"comment_id":132991670,"body_markdown":"Can you tell which package you are using in dart? It will easy to debug.","body":"Can you tell which package you are using in dart? It will easy to debug."},{"owner":{"account_id":23121740,"reputation":1,"user_id":17228176,"display_name":"Malavika k s"},"score":0,"creation_date":1675756416,"post_id":75369912,"comment_id":132991794,"body_markdown":"pointycastle: ^3.6.2, this is the package I&#39;ve used.","body":"pointycastle: ^3.6.2, this is the package I&#39;ve used."}],"answers":[{"comments":[{"owner":{"account_id":23121740,"reputation":1,"user_id":17228176,"display_name":"Malavika k s"},"score":0,"creation_date":1675841278,"post_id":75372489,"comment_id":133012393,"body_markdown":"Could you please share how to do encryption also, I tried it with the code for decryption but I&#39;m getting errors.","body":"Could you please share how to do encryption also, I tried it with the code for decryption but I&#39;m getting errors."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1675846227,"post_id":75372489,"comment_id":133013676,"body_markdown":"@Malavikaks - The key/IV derivation is the same for encryption and decryption. So you only need to replace the decryption part (i.e. the last code snippet) with the encryption part, which requires only minimal changes. Post your code and describe the problem. If the post becomes too long, you can also post a new question.","body":"@Malavikaks - The key/IV derivation is the same for encryption and decryption. So you only need to replace the decryption part (i.e. the last code snippet) with the encryption part, which requires only minimal changes. Post your code and describe the problem. If the post becomes too long, you can also post a new question."}],"tags":[],"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675841677,"creation_date":1675768029,"answer_id":75372489,"question_id":75369912,"body_markdown":"Both codes differ:\r\n- Regarding encodings: The Dart code does not consider the UTF-16 LE encoding of the salt. Furthermore, the encoding of the plaintext is unclear. For `encoding_mode==1` it is UTF-16LE, otherwise it corresponds to the platform encoding in your environment (which only you know).  \r\n- Regarding PBKDF2: The Java code derives key and IV from a static salt (note that a static salt is a vulnerability), while the Dart code assumes a concatenation in the order `salt|IV|ciphertext` during encryption (using a random 8 bytes salt and a random IV).  \r\nAlso, different iteration counts are used: 1000 in the Java code, 1024 in the Dart code (note that both values are generally much too small for PBKDF2).\r\n\r\nThe differences can be fixed as follows:\r\n\r\n- Regarding encodings: In the Dart code, the salt must first be UTF-16 LE encoded: Since the [*utf* package][3] is deprecated, see e.g. [here][1] for a UTF-16 LE encoding and [here][2] for the decoding. The encoding can be adapted to:\r\n\r\n  ```dart\r\n  Uint8List encodeUtf16LE(String salt) {\r\n    var byteData = ByteData(salt.codeUnits.length * 2);\r\n    for (var i = 0; i &lt; salt.codeUnits.length; i += 1) {\r\n      byteData.setUint16(i * 2, salt.codeUnits[i], Endian.little);\r\n    }\r\n    return byteData.buffer.asUint8List();\r\n  }\r\n  ```\r\n\r\n  Moreover, from the sample data it can be concluded (by testing) that the plaintext in the Java code has been encoded with UTF-8.\r\n\r\n- Regarding PBKDF2: In the Dart code, key and IV must be derived from the static salt applied in the Java code. \r\nAlso, the parameters from the Java code must be applied (digest: SHA-1, iteration count: 1000, keysize: 32 + 16 = 48 bytes):\r\n\r\n  ```dart\r\n  Uint8List generateKey(String passphrase, Uint8List salt) {\r\n    final derivator = PBKDF2KeyDerivator(HMac(SHA1Digest(), 64))\r\n      ..init(Pbkdf2Parameters(salt, 1000, 32 + 16));\r\n    return derivator.process(utf8.encode(passphrase) as Uint8List);\r\n  }\r\n  ```\r\n\r\nWith these changes, key and IV can be derived as follows:\r\n\r\n```dart\r\nvar salt = &quot;FA9A4D0F-5523-4EEF-B226-9A3E8F14FEF8&quot;;\r\nvar passphrase = &quot;733D3A17-D8A0-454B-AD22-88608FD0C46A&quot;;\r\nvar saltBytes = encodeUtf16LE(salt);\r\nvar keyIv = generateKey(passphrase, saltBytes);\r\nvar key = keyIv.sublist(0, 32);\r\nvar iv = keyIv.sublist(32, 32 + 16);\r\n```\r\n\r\nThe decryption code can be applied unchanged, for decoding use `utf8.decode()` instead of `String.fromCharCodes()`.\r\n\r\n```dart\r\nimport &#39;dart:convert&#39;;\r\nimport &#39;dart:typed_data&#39;;\r\nimport &#39;package:pointycastle/export.dart&#39;;\r\n...\r\nvar ciphertext = &quot;8tyHRaQCsxmmGW2xPBFYx/PALmvHkmjx/TzaXC2rIv0=&quot;;\r\nvar encrypted = base64.decode(ciphertext);\r\nvar paddingCipher = PaddedBlockCipherImpl(PKCS7Padding(), CBCBlockCipher(AESEngine()))\r\n  ..init(false, PaddedBlockCipherParameters(ParametersWithIV(KeyParameter(key), iv), null));\r\nvar decryptedBytes = paddingCipher.process(encrypted);\r\nvar decrypted = utf8.decode(decryptedBytes); // C123492349C1CT20230206130645\r\n```\r\n\r\n[1]: https://stackoverflow.com/a/68090107/9014097\r\n[2]: https://stackoverflow.com/a/67802971/9014097\r\n[3]: https://pub.dev/packages/utf","title":"Need to convert Java AES/CBC/PKCS5 Padding Encryption and decryption to dart code-Flutter","body":"<p>Both codes differ:</p>\n<ul>\n<li>Regarding encodings: The Dart code does not consider the UTF-16 LE encoding of the salt. Furthermore, the encoding of the plaintext is unclear. For <code>encoding_mode==1</code> it is UTF-16LE, otherwise it corresponds to the platform encoding in your environment (which only you know).</li>\n<li>Regarding PBKDF2: The Java code derives key and IV from a static salt (note that a static salt is a vulnerability), while the Dart code assumes a concatenation in the order <code>salt|IV|ciphertext</code> during encryption (using a random 8 bytes salt and a random IV).<br />\nAlso, different iteration counts are used: 1000 in the Java code, 1024 in the Dart code (note that both values are generally much too small for PBKDF2).</li>\n</ul>\n<p>The differences can be fixed as follows:</p>\n<ul>\n<li><p>Regarding encodings: In the Dart code, the salt must first be UTF-16 LE encoded: Since the <a href=\"https://pub.dev/packages/utf\" rel=\"nofollow noreferrer\"><em>utf</em> package</a> is deprecated, see e.g. <a href=\"https://stackoverflow.com/a/68090107/9014097\">here</a> for a UTF-16 LE encoding and <a href=\"https://stackoverflow.com/a/67802971/9014097\">here</a> for the decoding. The encoding can be adapted to:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Uint8List encodeUtf16LE(String salt) {\n  var byteData = ByteData(salt.codeUnits.length * 2);\n  for (var i = 0; i &lt; salt.codeUnits.length; i += 1) {\n    byteData.setUint16(i * 2, salt.codeUnits[i], Endian.little);\n  }\n  return byteData.buffer.asUint8List();\n}\n</code></pre>\n<p>Moreover, from the sample data it can be concluded (by testing) that the plaintext in the Java code has been encoded with UTF-8.</p>\n</li>\n<li><p>Regarding PBKDF2: In the Dart code, key and IV must be derived from the static salt applied in the Java code.\nAlso, the parameters from the Java code must be applied (digest: SHA-1, iteration count: 1000, keysize: 32 + 16 = 48 bytes):</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Uint8List generateKey(String passphrase, Uint8List salt) {\n  final derivator = PBKDF2KeyDerivator(HMac(SHA1Digest(), 64))\n    ..init(Pbkdf2Parameters(salt, 1000, 32 + 16));\n  return derivator.process(utf8.encode(passphrase) as Uint8List);\n}\n</code></pre>\n</li>\n</ul>\n<p>With these changes, key and IV can be derived as follows:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>var salt = &quot;FA9A4D0F-5523-4EEF-B226-9A3E8F14FEF8&quot;;\nvar passphrase = &quot;733D3A17-D8A0-454B-AD22-88608FD0C46A&quot;;\nvar saltBytes = encodeUtf16LE(salt);\nvar keyIv = generateKey(passphrase, saltBytes);\nvar key = keyIv.sublist(0, 32);\nvar iv = keyIv.sublist(32, 32 + 16);\n</code></pre>\n<p>The decryption code can be applied unchanged, for decoding use <code>utf8.decode()</code> instead of <code>String.fromCharCodes()</code>.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'dart:convert';\nimport 'dart:typed_data';\nimport 'package:pointycastle/export.dart';\n...\nvar ciphertext = &quot;8tyHRaQCsxmmGW2xPBFYx/PALmvHkmjx/TzaXC2rIv0=&quot;;\nvar encrypted = base64.decode(ciphertext);\nvar paddingCipher = PaddedBlockCipherImpl(PKCS7Padding(), CBCBlockCipher(AESEngine()))\n  ..init(false, PaddedBlockCipherParameters(ParametersWithIV(KeyParameter(key), iv), null));\nvar decryptedBytes = paddingCipher.process(encrypted);\nvar decrypted = utf8.decode(decryptedBytes); // C123492349C1CT20230206130645\n</code></pre>\n"}],"owner":{"account_id":23121740,"reputation":1,"user_id":17228176,"display_name":"Malavika k s"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676886251,"creation_date":1675753698,"question_id":75369912,"body_markdown":"I need to convert java code for encryption and decryption using AES/CBC/PKCS5Padding algorithm to dart code.\r\n\r\nThe java code of AES/CBC/PKCS5Padding encryption and decryption:\r\n\r\n\r\n```\r\npackage test_Terminal.classes;\r\n\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.Base64;\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.SecretKeyFactory;\r\nimport javax.crypto.spec.IvParameterSpec;\r\nimport javax.crypto.spec.PBEKeySpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\n\r\n/**\r\n *\r\n * @author jeena\r\n */\r\npublic class IOTEncodingDecoding {\r\n\r\n    SecretKeySpec secretKeySpec;\r\n    IvParameterSpec ivSpec;\r\n    String EncryptionKey = &quot;733D3A17-D8A0-454B-AD22-88608FD0C46A&quot;;\r\n    String saltString = &quot;FA9A4D0F-5523-4EEF-B226-9A3E8F14FEF8&quot;;\r\n    String algorithm = &quot;AES/CBC/PKCS5Padding&quot;;\r\n    int encoding_mode;\r\n\r\n    test_Terminal.classes.general General = new test_Terminal.classes.general();\r\n\r\n    void setSecretKey() {\r\n        try {\r\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\r\n            PBEKeySpec pbeKeySpec = new PBEKeySpec(EncryptionKey.toCharArray(), saltString.getBytes(StandardCharsets.UTF_16LE), 1000, 384);\r\n            byte[] derivedData = factory.generateSecret(pbeKeySpec).getEncoded();\r\n\r\n            byte[] key = new byte[32];\r\n            byte[] iv = new byte[16];\r\n\r\n            System.arraycopy(derivedData, 0, key, 0, key.length);\r\n            System.arraycopy(derivedData, key.length, iv, 0, iv.length);\r\n\r\n            secretKeySpec = new SecretKeySpec(key, &quot;AES&quot;);\r\n            ivSpec = new IvParameterSpec(iv);\r\n        } catch (Exception e) {\r\n            General.LogException(&quot;setSecretKey&quot;, e);\r\n        }\r\n    }\r\n\r\n    public String encrypt(String input) {\r\n        try {\r\n            Cipher cipher = Cipher.getInstance(algorithm);\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec, ivSpec);\r\n            byte[] cipherText ;\r\n            if(encoding_mode==1)            \r\n                cipherText = cipher.doFinal(input.getBytes(StandardCharsets.UTF_16LE));\r\n            else\r\n                cipherText = cipher.doFinal(input.getBytes());                            \r\n            return Base64.getEncoder().encodeToString(cipherText);\r\n        } catch (Exception e) {\r\n            General.LogException(&quot;encrypt&quot;, e);\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    public String decrypt(String cipherText) {\r\n        try {\r\n            Cipher cipher = Cipher.getInstance(algorithm);\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKeySpec, ivSpec);\r\n            byte[] plainText = cipher.doFinal(Base64.getDecoder().decode(cipherText));\r\n            if(encoding_mode==1)\r\n                return new String(plainText, StandardCharsets.UTF_16LE);\r\n            else\r\n                return new String(plainText);\r\n            \r\n                \r\n        } catch (Exception e) {\r\n            General.LogException(&quot;decrypt&quot;, e);\r\n            General.LogActivity(&quot;decrypt&quot;, e.getMessage());\r\n        }\r\n        return &quot;Ticket format error&quot;;\r\n    }\r\n\r\n    public void setMode() {              \r\n        setSecretKey();                         \r\n    }\r\n\r\n}\r\n\r\n```\r\n \r\nI need to get the following result:\r\n\r\nInput(PlainText):C123492349C1CT20230206130645.\r\nOutput(Encrypted string):8tyHRaQCsxmmGW2xPBFYx/PALmvHkmjx/TzaXC2rIv0=\r\n\r\n\r\n\r\nThis is the dart code that I&#39;ve got so far for decryption, but I&#39;m getting error.\r\n\r\n\r\n```\r\n Uint8List? decrypt(String ciphertext, String password) {\r\n    Uint8List rawCipher = base64.decode(ciphertext);\r\n    var salt = rawCipher.sublist(0, 0 + 8);\r\n    var iv = rawCipher.sublist(8, 8 + 16);\r\n    var encrypted = rawCipher.sublist(8 + 16);\r\n\r\n    Uint8List key = generateKey(password, salt);\r\n    print(&#39;key =&gt; $key&#39;);\r\n    CBCBlockCipher cipher = CBCBlockCipher(AESEngine());\r\n\r\n    ParametersWithIV&lt;KeyParameter&gt; params =\r\n        ParametersWithIV&lt;KeyParameter&gt;(KeyParameter(key), iv);\r\n    PaddedBlockCipherParameters&lt;ParametersWithIV&lt;KeyParameter&gt;, Null&gt;\r\n        paddingParams =\r\n        PaddedBlockCipherParameters&lt;ParametersWithIV&lt;KeyParameter&gt;, Null&gt;(\r\n            params, null);\r\n    PaddedBlockCipherImpl paddingCipher =\r\n        PaddedBlockCipherImpl(PKCS7Padding(), cipher);\r\n    paddingCipher.init(false, paddingParams);\r\n\r\n    var val = paddingCipher.process(encrypted);\r\n\r\n    String res = String.fromCharCodes(val);\r\n\r\n    debugPrint(&#39;res =&gt; $res&#39;);\r\n\r\n    return val;\r\n  }\r\n\r\n Uint8List generateKey(String passphrase, Uint8List salt) {\r\n    final derivator = PBKDF2KeyDerivator(HMac(SHA1Digest(), 64))\r\n      ..init(Pbkdf2Parameters(salt, 1024, 16));\r\n    return derivator.process(utf8.encode(passphrase) as Uint8List);\r\n  }\r\n\r\n```\r\n[I got this code from ](https://stackoverflow.com/questions/72945189/converting-aes-decryption-function-from-java-to-flutter)\r\n\r\nThe Exception that I&#39;m getting is:\r\n\r\n\r\n```\r\nException has occurred.\r\nArgumentError (Invalid argument(s): Input data length must be a multiple of cipher&#39;s block size)\r\n```\r\n\r\nI think the values inside rawCipher.sublist() function is wrong. I&#39;m stuck on this problem for few days, please help.\r\n\r\n\r\n\r\n","title":"Need to convert Java AES/CBC/PKCS5 Padding Encryption and decryption to dart code-Flutter","body":"<p>I need to convert java code for encryption and decryption using AES/CBC/PKCS5Padding algorithm to dart code.</p>\n<p>The java code of AES/CBC/PKCS5Padding encryption and decryption:</p>\n<pre><code>package test_Terminal.classes;\n\nimport java.nio.charset.StandardCharsets;\nimport java.util.Base64;\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\n\n/**\n *\n * @author jeena\n */\npublic class IOTEncodingDecoding {\n\n    SecretKeySpec secretKeySpec;\n    IvParameterSpec ivSpec;\n    String EncryptionKey = &quot;733D3A17-D8A0-454B-AD22-88608FD0C46A&quot;;\n    String saltString = &quot;FA9A4D0F-5523-4EEF-B226-9A3E8F14FEF8&quot;;\n    String algorithm = &quot;AES/CBC/PKCS5Padding&quot;;\n    int encoding_mode;\n\n    test_Terminal.classes.general General = new test_Terminal.classes.general();\n\n    void setSecretKey() {\n        try {\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\n            PBEKeySpec pbeKeySpec = new PBEKeySpec(EncryptionKey.toCharArray(), saltString.getBytes(StandardCharsets.UTF_16LE), 1000, 384);\n            byte[] derivedData = factory.generateSecret(pbeKeySpec).getEncoded();\n\n            byte[] key = new byte[32];\n            byte[] iv = new byte[16];\n\n            System.arraycopy(derivedData, 0, key, 0, key.length);\n            System.arraycopy(derivedData, key.length, iv, 0, iv.length);\n\n            secretKeySpec = new SecretKeySpec(key, &quot;AES&quot;);\n            ivSpec = new IvParameterSpec(iv);\n        } catch (Exception e) {\n            General.LogException(&quot;setSecretKey&quot;, e);\n        }\n    }\n\n    public String encrypt(String input) {\n        try {\n            Cipher cipher = Cipher.getInstance(algorithm);\n            cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec, ivSpec);\n            byte[] cipherText ;\n            if(encoding_mode==1)            \n                cipherText = cipher.doFinal(input.getBytes(StandardCharsets.UTF_16LE));\n            else\n                cipherText = cipher.doFinal(input.getBytes());                            \n            return Base64.getEncoder().encodeToString(cipherText);\n        } catch (Exception e) {\n            General.LogException(&quot;encrypt&quot;, e);\n        }\n        return &quot;&quot;;\n    }\n\n    public String decrypt(String cipherText) {\n        try {\n            Cipher cipher = Cipher.getInstance(algorithm);\n            cipher.init(Cipher.DECRYPT_MODE, secretKeySpec, ivSpec);\n            byte[] plainText = cipher.doFinal(Base64.getDecoder().decode(cipherText));\n            if(encoding_mode==1)\n                return new String(plainText, StandardCharsets.UTF_16LE);\n            else\n                return new String(plainText);\n            \n                \n        } catch (Exception e) {\n            General.LogException(&quot;decrypt&quot;, e);\n            General.LogActivity(&quot;decrypt&quot;, e.getMessage());\n        }\n        return &quot;Ticket format error&quot;;\n    }\n\n    public void setMode() {              \n        setSecretKey();                         \n    }\n\n}\n\n</code></pre>\n<p>I need to get the following result:</p>\n<p>Input(PlainText):C123492349C1CT20230206130645.\nOutput(Encrypted string):8tyHRaQCsxmmGW2xPBFYx/PALmvHkmjx/TzaXC2rIv0=</p>\n<p>This is the dart code that I've got so far for decryption, but I'm getting error.</p>\n<pre><code> Uint8List? decrypt(String ciphertext, String password) {\n    Uint8List rawCipher = base64.decode(ciphertext);\n    var salt = rawCipher.sublist(0, 0 + 8);\n    var iv = rawCipher.sublist(8, 8 + 16);\n    var encrypted = rawCipher.sublist(8 + 16);\n\n    Uint8List key = generateKey(password, salt);\n    print('key =&gt; $key');\n    CBCBlockCipher cipher = CBCBlockCipher(AESEngine());\n\n    ParametersWithIV&lt;KeyParameter&gt; params =\n        ParametersWithIV&lt;KeyParameter&gt;(KeyParameter(key), iv);\n    PaddedBlockCipherParameters&lt;ParametersWithIV&lt;KeyParameter&gt;, Null&gt;\n        paddingParams =\n        PaddedBlockCipherParameters&lt;ParametersWithIV&lt;KeyParameter&gt;, Null&gt;(\n            params, null);\n    PaddedBlockCipherImpl paddingCipher =\n        PaddedBlockCipherImpl(PKCS7Padding(), cipher);\n    paddingCipher.init(false, paddingParams);\n\n    var val = paddingCipher.process(encrypted);\n\n    String res = String.fromCharCodes(val);\n\n    debugPrint('res =&gt; $res');\n\n    return val;\n  }\n\n Uint8List generateKey(String passphrase, Uint8List salt) {\n    final derivator = PBKDF2KeyDerivator(HMac(SHA1Digest(), 64))\n      ..init(Pbkdf2Parameters(salt, 1024, 16));\n    return derivator.process(utf8.encode(passphrase) as Uint8List);\n  }\n\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/72945189/converting-aes-decryption-function-from-java-to-flutter\">I got this code from </a></p>\n<p>The Exception that I'm getting is:</p>\n<pre><code>Exception has occurred.\nArgumentError (Invalid argument(s): Input data length must be a multiple of cipher's block size)\n</code></pre>\n<p>I think the values inside rawCipher.sublist() function is wrong. I'm stuck on this problem for few days, please help.</p>\n"},{"tags":["java","spring","filter","jhipster","criteria"],"answers":[{"tags":[],"owner":{"account_id":8239439,"reputation":545,"user_id":6197514,"accept_rate":100,"display_name":"derOtterDieb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676886036,"creation_date":1634721910,"answer_id":69643467,"question_id":69642317,"body_markdown":"Alright, I found something in Jhipster doc. Problem was that I use a StringFilter, when I understood that, I modified few things from Jhipster functions like this :\r\n\r\nExtendedQueryService :\r\n\r\n    protected Specification&lt;ENTITY&gt; buildSpecification(StringFilter filter, Function&lt;Root&lt;ENTITY&gt;, Expression&lt;String&gt;&gt; metaclassFunction) {\r\n            if (filter.getEquals() != null) {\r\n                return equalsSpecification(metaclassFunction, filter.getEquals());\r\n            } else if (filter.getIn() != null) {\r\n                return valueIn(metaclassFunction, filter.getIn());\r\n            } else if (filter.getNotIn() != null) {\r\n                return valueNotIn(metaclassFunction, filter.getNotIn());\r\n            } else if (filter.getContains() != null) {\r\n                return likeUpperSpecification(metaclassFunction, filter.getContains());\r\n            } else if (filter.getDoesNotContain() != null) {\r\n                return doesNotContainSpecification(metaclassFunction, filter.getDoesNotContain());\r\n            } else if (filter.getNotEquals() != null) {\r\n                return notEqualsSpecification(metaclassFunction, filter.getNotEquals());\r\n            } else if (filter.getSpecified() != null) {\r\n                return byFieldSpecified(metaclassFunction, filter.getSpecified());\r\n            }\r\n            return null;\r\n        }\r\n\r\nSo that I could do this in my ChildQueryService :\r\n\r\n    if (criteria.getGrandParentName() != null) {\r\n        specification = specification.and(\r\n            buildSpecification(\r\n                criteria.getGrandParentName(),\r\n                root -&gt; root.join(Child_.parent, JoinType.INNER).join(Parent_.grandParent, JoinType.INNER).get(GrandParent_.name)\r\n            )\r\n        );\r\n    }\r\n\r\nAnd it works fine now ! It seems you can go as deep as you want with the join, though I didn&#39;t test it further than 2 level depth.\r\n\r\nFor the record, this is what I found in Jhipster doc, and what I based my function on :\r\n\r\n    protected &lt;OTHER, MISC, X&gt; Specification&lt;ENTITY&gt; buildReferringEntitySpecification(\r\n        Filter&lt;X&gt; filter,\r\n        Function&lt;Root&lt;ENTITY&gt;, SetJoin&lt;MISC, OTHER&gt;&gt; functionToEntity,\r\n        Function&lt;SetJoin&lt;MISC, OTHER&gt;, Expression&lt;X&gt;&gt; entityToColumn\r\n    ) {\r\n        if (filter.getEquals() != null) {\r\n            return equalsSpecification(functionToEntity.andThen(entityToColumn), filter.getEquals());\r\n        } else if (filter.getSpecified() != null) {\r\n            return byFieldSpecified(root -&gt; functionToEntity.apply(root), filter.getSpecified());\r\n        }\r\n        return null;\r\n    }\r\n\r\nwhich was used that way for instance :\r\n\r\n    buildReferringEntitySpecification(\r\n        criteria.getGrandParentName(),\r\n        root -&gt;  root.get(Child_.parent).join(Parent_.grandParent),\r\n        GrandParent_.name\r\n    )\r\n\r\nUsing both allows to handle StringFilter and other Filters. You might have to do specific function for some Filter class though.","title":"Spring / Jhipster QueryService how to build a deep specification","body":"<p>Alright, I found something in Jhipster doc. Problem was that I use a StringFilter, when I understood that, I modified few things from Jhipster functions like this :</p>\n<p>ExtendedQueryService :</p>\n<pre><code>protected Specification&lt;ENTITY&gt; buildSpecification(StringFilter filter, Function&lt;Root&lt;ENTITY&gt;, Expression&lt;String&gt;&gt; metaclassFunction) {\n        if (filter.getEquals() != null) {\n            return equalsSpecification(metaclassFunction, filter.getEquals());\n        } else if (filter.getIn() != null) {\n            return valueIn(metaclassFunction, filter.getIn());\n        } else if (filter.getNotIn() != null) {\n            return valueNotIn(metaclassFunction, filter.getNotIn());\n        } else if (filter.getContains() != null) {\n            return likeUpperSpecification(metaclassFunction, filter.getContains());\n        } else if (filter.getDoesNotContain() != null) {\n            return doesNotContainSpecification(metaclassFunction, filter.getDoesNotContain());\n        } else if (filter.getNotEquals() != null) {\n            return notEqualsSpecification(metaclassFunction, filter.getNotEquals());\n        } else if (filter.getSpecified() != null) {\n            return byFieldSpecified(metaclassFunction, filter.getSpecified());\n        }\n        return null;\n    }\n</code></pre>\n<p>So that I could do this in my ChildQueryService :</p>\n<pre><code>if (criteria.getGrandParentName() != null) {\n    specification = specification.and(\n        buildSpecification(\n            criteria.getGrandParentName(),\n            root -&gt; root.join(Child_.parent, JoinType.INNER).join(Parent_.grandParent, JoinType.INNER).get(GrandParent_.name)\n        )\n    );\n}\n</code></pre>\n<p>And it works fine now ! It seems you can go as deep as you want with the join, though I didn't test it further than 2 level depth.</p>\n<p>For the record, this is what I found in Jhipster doc, and what I based my function on :</p>\n<pre><code>protected &lt;OTHER, MISC, X&gt; Specification&lt;ENTITY&gt; buildReferringEntitySpecification(\n    Filter&lt;X&gt; filter,\n    Function&lt;Root&lt;ENTITY&gt;, SetJoin&lt;MISC, OTHER&gt;&gt; functionToEntity,\n    Function&lt;SetJoin&lt;MISC, OTHER&gt;, Expression&lt;X&gt;&gt; entityToColumn\n) {\n    if (filter.getEquals() != null) {\n        return equalsSpecification(functionToEntity.andThen(entityToColumn), filter.getEquals());\n    } else if (filter.getSpecified() != null) {\n        return byFieldSpecified(root -&gt; functionToEntity.apply(root), filter.getSpecified());\n    }\n    return null;\n}\n</code></pre>\n<p>which was used that way for instance :</p>\n<pre><code>buildReferringEntitySpecification(\n    criteria.getGrandParentName(),\n    root -&gt;  root.get(Child_.parent).join(Parent_.grandParent),\n    GrandParent_.name\n)\n</code></pre>\n<p>Using both allows to handle StringFilter and other Filters. You might have to do specific function for some Filter class though.</p>\n"},{"comments":[{"owner":{"account_id":8239439,"reputation":545,"user_id":6197514,"accept_rate":100,"display_name":"derOtterDieb"},"score":0,"creation_date":1694090439,"post_id":75457136,"comment_id":135847311,"body_markdown":"That&#39;s actually what we ended up doing few years after ! As of today, I&#39;d really go for this instead of the QueryService.","body":"That&#39;s actually what we ended up doing few years after ! As of today, I&#39;d really go for this instead of the QueryService."}],"tags":[],"owner":{"account_id":11171319,"reputation":2160,"user_id":8198203,"accept_rate":75,"display_name":"Frischling"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676449716,"creation_date":1676449716,"answer_id":75457136,"question_id":69642317,"body_markdown":"The `tech.jhipster.service.QueryService` can get complicate quickly.  I&#39;m looking at my code after 6 months, and I don&#39;t get what I did anymore, having to rethink stuff again, just because I want to add a little thing.  Therefore: Don&#39;t use it, if you can avoid it.\r\n\r\nFor complicated filtering I suggest creating a view in the database, that mapped what I wanted to filter to a String, or Boolean, create an Entity in Spring (take care that the ID is non-null and matching the original entity, so just add fields via the view, don&#39;t filter stuff out or duplicate entities by accident) and then filtered that.  It&#39;s complicated, yes, but less complicated than `QueryService`.\r\n\r\nSQL is way easier than using an API that&#39;s a layer on top of hibernates `Criteria` API, which itself is also a little bit more complicated than SQL.\r\n\r\nIn my case wanted to filter depending on multiple attributes at once - there is no easy way to do this in `QueryService`, but `case` ... `when`... outputting an enum, that can then be filtered by `QuerySerivice` is easy enough (and I&#39;ll understand what I did in a year).","title":"Spring / Jhipster QueryService how to build a deep specification","body":"<p>The <code>tech.jhipster.service.QueryService</code> can get complicate quickly.  I'm looking at my code after 6 months, and I don't get what I did anymore, having to rethink stuff again, just because I want to add a little thing.  Therefore: Don't use it, if you can avoid it.</p>\n<p>For complicated filtering I suggest creating a view in the database, that mapped what I wanted to filter to a String, or Boolean, create an Entity in Spring (take care that the ID is non-null and matching the original entity, so just add fields via the view, don't filter stuff out or duplicate entities by accident) and then filtered that.  It's complicated, yes, but less complicated than <code>QueryService</code>.</p>\n<p>SQL is way easier than using an API that's a layer on top of hibernates <code>Criteria</code> API, which itself is also a little bit more complicated than SQL.</p>\n<p>In my case wanted to filter depending on multiple attributes at once - there is no easy way to do this in <code>QueryService</code>, but <code>case</code> ... <code>when</code>... outputting an enum, that can then be filtered by <code>QuerySerivice</code> is easy enough (and I'll understand what I did in a year).</p>\n"}],"owner":{"account_id":8239439,"reputation":545,"user_id":6197514,"accept_rate":100,"display_name":"derOtterDieb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1984,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69643467,"answer_count":2,"score":0,"last_activity_date":1676886036,"creation_date":1634716700,"question_id":69642317,"body_markdown":"I&#39;m new to QueryService generated with Jhispter, and I&#39;m trying to use them to filter a list of an entity.\r\n\r\nIt works fine when I filter on fields of this entity, but now I have to do something a bit more complicated.\r\n\r\nI have this data set :\r\n\r\n - Child &lt;----- the entity I was talking about above\r\n - Parent &lt;----- which has a list of Child\r\n - GrandParent &lt;----- which has a list of Parent\r\n\r\nWhat I have to do is :\r\n - Filter Childs by Parent.name\r\n - Filter Childs by GrandParent.name\r\n\r\nSo what I&#39;ve done so far is :\r\n\r\n    private Specification&lt;Child&gt; createSpecification(ChildCriteria criteria) {\r\n        Specification&lt;Child&gt; specification = Specification.where(null);\r\n        if (criteria != null) {\r\n            if (criteria.getParentName() != null) {\r\n                speficiation = specification.and(buildReferringEntitySpecification(criteria.getParentName(), Child_.parent, Parent_.name));\r\n            }\r\n            if (criteria.getGrandParentName() != null) {\r\n                specification.and(buildJoinSpecification(criteria.getGrandParentName(), Child_.parent, Parent_.grandParent, GrandParent_.name));\r\n            }\r\n        }\r\n    }\r\n\r\nAn extract of Child, Parent, GrandParent and ChildCriteria :\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;Child&quot;)\r\n    public class Child extends EntityObject {\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JsonIgnoreProperties(&quot;childs&quot;)\r\n    \t@QueryInit(&quot;GrandParent&quot;)\r\n    \tprivate Parent parent;\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;Parent&quot;)\r\n    public class Parent extends EntityObject {\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JsonIgnoreProperties(&quot;parents&quot;)\r\n    \tprivate GrandParent grandParent;\r\n\r\n        @OneToMany(mappedBy = &quot;Parent&quot;, fetch = FetchType.LAZY)\r\n        private Set&lt;Child&gt; childs = new HashSet&lt;&gt;();\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;GrandParent&quot;)\r\n    public class GrandParent extends EntityObject {\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n\r\n        @OneToMany(mappedBy = &quot;GrandParent&quot;, fetch = FetchType.LAZY)\r\n        private Set&lt;Parent&gt; parrents = new HashSet&lt;&gt;();\r\n    }\r\n\r\n\r\n\r\n    public class ChildCriteria implements Serializable {\r\n        private StringFilter parentName;\r\n        private StringFilter grandParentName;\r\n    \r\n        public StringFilter getParentName() {\r\n            return parentName;\r\n        }\r\n\r\n        public void setParentName(StringFilter parentName) {\r\n            this.parentName= parentName;\r\n        }\r\n\r\n        public StringFilter getGrandParentName() {\r\n            return grandParentName;\r\n        }\r\n\r\n        public void setGrandParentName(StringFilter grandParentName) {\r\n            this.grandParentName= grandParentName;\r\n        }\r\n    }\r\n\r\nThe filter on parent name works, and I&#39;d like to do the same for the grand parent name.\r\nAnd for that one, I tried several tips I found on SO like [this][1], but nothing worked.\r\n\r\nFrom that link, here&#39;s what I have so far :\r\n\r\n    public class ExtendedQueryService&lt;ENTITY&gt; extends QueryService&lt;ENTITY&gt;{\r\n        protected &lt;REFERENCE, JOIN, FILTER extends Comparable&lt;? super FILTER&gt;&gt; Specification&lt;ENTITY&gt; buildJoinSpecification(StringFilter filter, SingularAttribute&lt;? super ENTITY, REFERENCE&gt; reference, SingularAttribute&lt;REFERENCE, JOIN&gt; joinField, SingularAttribute&lt;JOIN, FILTER&gt; valueField) {\r\n            Specification&lt;ENTITY&gt; result = Specification.where((Specification) null);\r\n            if (filter.getContains() != null) {\r\n                result = this.containsSpecification(reference, joinField, valueField, filter.getContains());\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        protected  &lt;REFERENCE, JOIN, FILTER&gt; Specification&lt;ENTITY&gt; containsSpecification(SingularAttribute&lt;? super ENTITY, REFERENCE&gt; reference, SingularAttribute&lt;REFERENCE, JOIN&gt; joinField, SingularAttribute&lt;JOIN, FILTER&gt; idField, String value) {\r\n            return (root, query, builder) -&gt;\r\n                builder.equal(root.join(reference).join(joinField).get(idField), value);\r\n        }\r\n    }\r\n\r\nI extend this class in my ChildQueryService, where I use the buildJoinSpecification method.\r\n\r\nAnd it returns an empty list if I try to filter with it.\r\n\r\n  [1]: https://stackoverflow.com/questions/52424456/how-to-write-a-spring-data-jpa-specification-with-multiple-joins\r\n","title":"Spring / Jhipster QueryService how to build a deep specification","body":"<p>I'm new to QueryService generated with Jhispter, and I'm trying to use them to filter a list of an entity.</p>\n<p>It works fine when I filter on fields of this entity, but now I have to do something a bit more complicated.</p>\n<p>I have this data set :</p>\n<ul>\n<li>Child &lt;----- the entity I was talking about above</li>\n<li>Parent &lt;----- which has a list of Child</li>\n<li>GrandParent &lt;----- which has a list of Parent</li>\n</ul>\n<p>What I have to do is :</p>\n<ul>\n<li>Filter Childs by Parent.name</li>\n<li>Filter Childs by GrandParent.name</li>\n</ul>\n<p>So what I've done so far is :</p>\n<pre><code>private Specification&lt;Child&gt; createSpecification(ChildCriteria criteria) {\n    Specification&lt;Child&gt; specification = Specification.where(null);\n    if (criteria != null) {\n        if (criteria.getParentName() != null) {\n            speficiation = specification.and(buildReferringEntitySpecification(criteria.getParentName(), Child_.parent, Parent_.name));\n        }\n        if (criteria.getGrandParentName() != null) {\n            specification.and(buildJoinSpecification(criteria.getGrandParentName(), Child_.parent, Parent_.grandParent, GrandParent_.name));\n        }\n    }\n}\n</code></pre>\n<p>An extract of Child, Parent, GrandParent and ChildCriteria :</p>\n<pre><code>@Entity\n@Table(name = &quot;Child&quot;)\npublic class Child extends EntityObject {\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JsonIgnoreProperties(&quot;childs&quot;)\n    @QueryInit(&quot;GrandParent&quot;)\n    private Parent parent;\n}\n\n\n@Entity\n@Table(name = &quot;Parent&quot;)\npublic class Parent extends EntityObject {\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JsonIgnoreProperties(&quot;parents&quot;)\n    private GrandParent grandParent;\n\n    @OneToMany(mappedBy = &quot;Parent&quot;, fetch = FetchType.LAZY)\n    private Set&lt;Child&gt; childs = new HashSet&lt;&gt;();\n}\n\n\n@Entity\n@Table(name = &quot;GrandParent&quot;)\npublic class GrandParent extends EntityObject {\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;GrandParent&quot;, fetch = FetchType.LAZY)\n    private Set&lt;Parent&gt; parrents = new HashSet&lt;&gt;();\n}\n\n\n\npublic class ChildCriteria implements Serializable {\n    private StringFilter parentName;\n    private StringFilter grandParentName;\n\n    public StringFilter getParentName() {\n        return parentName;\n    }\n\n    public void setParentName(StringFilter parentName) {\n        this.parentName= parentName;\n    }\n\n    public StringFilter getGrandParentName() {\n        return grandParentName;\n    }\n\n    public void setGrandParentName(StringFilter grandParentName) {\n        this.grandParentName= grandParentName;\n    }\n}\n</code></pre>\n<p>The filter on parent name works, and I'd like to do the same for the grand parent name.\nAnd for that one, I tried several tips I found on SO like <a href=\"https://stackoverflow.com/questions/52424456/how-to-write-a-spring-data-jpa-specification-with-multiple-joins\">this</a>, but nothing worked.</p>\n<p>From that link, here's what I have so far :</p>\n<pre><code>public class ExtendedQueryService&lt;ENTITY&gt; extends QueryService&lt;ENTITY&gt;{\n    protected &lt;REFERENCE, JOIN, FILTER extends Comparable&lt;? super FILTER&gt;&gt; Specification&lt;ENTITY&gt; buildJoinSpecification(StringFilter filter, SingularAttribute&lt;? super ENTITY, REFERENCE&gt; reference, SingularAttribute&lt;REFERENCE, JOIN&gt; joinField, SingularAttribute&lt;JOIN, FILTER&gt; valueField) {\n        Specification&lt;ENTITY&gt; result = Specification.where((Specification) null);\n        if (filter.getContains() != null) {\n            result = this.containsSpecification(reference, joinField, valueField, filter.getContains());\n        }\n        return result;\n    }\n\n    protected  &lt;REFERENCE, JOIN, FILTER&gt; Specification&lt;ENTITY&gt; containsSpecification(SingularAttribute&lt;? super ENTITY, REFERENCE&gt; reference, SingularAttribute&lt;REFERENCE, JOIN&gt; joinField, SingularAttribute&lt;JOIN, FILTER&gt; idField, String value) {\n        return (root, query, builder) -&gt;\n            builder.equal(root.join(reference).join(joinField).get(idField), value);\n    }\n}\n</code></pre>\n<p>I extend this class in my ChildQueryService, where I use the buildJoinSpecification method.</p>\n<p>And it returns an empty list if I try to filter with it.</p>\n"},{"tags":["java","spring-boot","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":11639624,"reputation":1651,"user_id":8524584,"display_name":"bezbos."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676885877,"creation_date":1676885877,"answer_id":75507533,"question_id":75507436,"body_markdown":"Mark the `HttpServletRequest` parameter with `@Parameter(hidden = true)`. Your code should look like this:\r\n```\r\n@GetMapping(&quot;/endpoint&quot;)\r\n    public ResponseEntity&lt;Object&gt; Hello(@Parameter(hidden = true) HttpServletRequest request, \r\n@RequestParam String paramOne){}\r\n```\r\n\r\nThis will hide the `request` parameter in Swagger UI and it will not be visible.","title":"Hide HttpServletRequest request in Swagger OpenAPI 3","body":"<p>Mark the <code>HttpServletRequest</code> parameter with <code>@Parameter(hidden = true)</code>. Your code should look like this:</p>\n<pre><code>@GetMapping(&quot;/endpoint&quot;)\n    public ResponseEntity&lt;Object&gt; Hello(@Parameter(hidden = true) HttpServletRequest request, \n@RequestParam String paramOne){}\n</code></pre>\n<p>This will hide the <code>request</code> parameter in Swagger UI and it will not be visible.</p>\n"}],"owner":{"account_id":19257635,"reputation":100,"user_id":14074180,"display_name":"Ho Quang Lam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75507533,"answer_count":1,"score":1,"last_activity_date":1676885877,"creation_date":1676885339,"question_id":75507436,"body_markdown":"I am currently using Spring Boot 3.0.2 with Swagger OpenAPI 3. But the SwaggerUI keeps marking a parameter in my controller as a required request parameter. \r\n\r\nIn my pom.xml\r\n\r\n    &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.6.14&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn my RestController.java\r\n\r\n    @GetMapping(&quot;/endpoint&quot;)\r\n        public ResponseEntity&lt;Object&gt; Hello(HttpServletRequest request, \r\n    @RequestParam String paramOne){}\r\n\r\nIn my swagger UI, there are two required parameters: paramOne and request (which I don&#39;t want to be a part of). How can I hide or mark it as not a URL parameter? \r\n\r\n\r\n","title":"Hide HttpServletRequest request in Swagger OpenAPI 3","body":"<p>I am currently using Spring Boot 3.0.2 with Swagger OpenAPI 3. But the SwaggerUI keeps marking a parameter in my controller as a required request parameter.</p>\n<p>In my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.14&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In my RestController.java</p>\n<pre><code>@GetMapping(&quot;/endpoint&quot;)\n    public ResponseEntity&lt;Object&gt; Hello(HttpServletRequest request, \n@RequestParam String paramOne){}\n</code></pre>\n<p>In my swagger UI, there are two required parameters: paramOne and request (which I don't want to be a part of). How can I hide or mark it as not a URL parameter?</p>\n"},{"tags":["java","windows","calendar","weekday"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1344406386,"post_id":11858565,"comment_id":15773969,"body_markdown":"Java/Swing doesn&#39;t have a Date picker control.  What library is yours coming from?","body":"Java/Swing doesn&#39;t have a Date picker control.  What library is yours coming from?"},{"owner":{"account_id":370669,"reputation":28467,"user_id":718762,"accept_rate":84,"display_name":"alwbtc"},"score":0,"creation_date":1344406421,"post_id":11858565,"comment_id":15773980,"body_markdown":"I don&#39;t know, I&#39;m only an end-user. I just want to change the first day of the week.","body":"I don&#39;t know, I&#39;m only an end-user. I just want to change the first day of the week."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1344406616,"post_id":11858565,"comment_id":15774036,"body_markdown":"Then I don&#39;t think you can control it (unless there&#39;s some configuration somewhere).  You will need to contact the developers","body":"Then I don&#39;t think you can control it (unless there&#39;s some configuration somewhere).  You will need to contact the developers"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1537257423,"post_id":11858565,"comment_id":91707549,"body_markdown":"By the way: [`WeekFields.of​(DayOfWeek firstDayOfWeek, int minimalDaysInFirstWeek)`](https://docs.oracle.com/javase/10/docs/api/java/time/temporal/WeekFields.html#of(java.time.DayOfWeek,int))","body":"By the way: <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/temporal/WeekFields.html#of(java.time.DayOfWeek,int)\" rel=\"nofollow noreferrer\"><code>WeekFields.of​(DayOfWeek firstDayOfWeek, int minimalDaysInFirstWeek)</code></a>"}],"answers":[{"comments":[{"owner":{"account_id":7525670,"reputation":12204,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"score":0,"creation_date":1469588386,"post_id":11858703,"comment_id":64593360,"body_markdown":"@Next Door Engineer what is the default starting day? MONDAY or SUNDAY?","body":"@Next Door Engineer what is the default starting day? MONDAY or SUNDAY?"},{"owner":{"account_id":3765256,"reputation":1402,"user_id":3128942,"display_name":"Jeff"},"score":2,"creation_date":1537373655,"post_id":11858703,"comment_id":91764007,"body_markdown":"Calendar.DAY_OF_WEEK is a constant value which doesn&#39;t change even if you change the first day of week.  For example, 1 is always &quot;sunday&quot; and 6 always means &quot;friday&quot;.","body":"Calendar.DAY_OF_WEEK is a constant value which doesn&#39;t change even if you change the first day of week.  For example, 1 is always &quot;sunday&quot; and 6 always means &quot;friday&quot;."},{"owner":{"account_id":10468523,"reputation":879,"user_id":7717192,"accept_rate":67,"display_name":"Riley Fitzpatrick"},"score":0,"creation_date":1549851086,"post_id":11858703,"comment_id":96038770,"body_markdown":"@Jeff So then what has changed?  How do I get the day of the week that is correctly changed with after setting a new first day of the week?","body":"@Jeff So then what has changed?  How do I get the day of the week that is correctly changed with after setting a new first day of the week?"},{"owner":{"account_id":3765256,"reputation":1402,"user_id":3128942,"display_name":"Jeff"},"score":1,"creation_date":1549866804,"post_id":11858703,"comment_id":96042304,"body_markdown":"@RileyFitzpatrick WEEK_OF_MONTH and WEEK_OF_YEAR will change with setFirstDayOfWeek().  You will need to programmatically calculate it yourself if you want Monday=1 instead of Sunday=1.","body":"@RileyFitzpatrick WEEK_OF_MONTH and WEEK_OF_YEAR will change with setFirstDayOfWeek().  You will need to programmatically calculate it yourself if you want Monday=1 instead of Sunday=1."}],"tags":[],"owner":{"account_id":1662823,"reputation":2818,"user_id":1530773,"accept_rate":55,"display_name":"Next Door Engineer"},"comment_count":4,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1344406691,"creation_date":1344406691,"answer_id":11858703,"question_id":11858565,"body_markdown":"You can use the method setFirstDayOfWeek() to set the first day of the week. The method can only affect the return values of WEEK_OF_MONTH or WEEK_OF_YEAR. For DAY_OF_WEEK, it does nothing.\r\n\r\nYou can implement something like:\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setFirstDayOfWeek(Calendar.MONDAY);\r\n    int rec = cal.get(Calendar.WEEK_OF_MONTH);\r\n    System.out.println(rec);\r\n\r\nRead more on the API [HERE][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Calendar.html#setFirstDayOfWeek%28int%29","title":"How to set first day of week in a Java application calendar","body":"<p>You can use the method setFirstDayOfWeek() to set the first day of the week. The method can only affect the return values of WEEK_OF_MONTH or WEEK_OF_YEAR. For DAY_OF_WEEK, it does nothing.</p>\n\n<p>You can implement something like:</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.setFirstDayOfWeek(Calendar.MONDAY);\nint rec = cal.get(Calendar.WEEK_OF_MONTH);\nSystem.out.println(rec);\n</code></pre>\n\n<p>Read more on the API <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Calendar.html#setFirstDayOfWeek%28int%29\" rel=\"noreferrer\">HERE</a></p>\n"},{"comments":[{"owner":{"account_id":370669,"reputation":28467,"user_id":718762,"accept_rate":84,"display_name":"alwbtc"},"score":0,"creation_date":1344407624,"post_id":11858721,"comment_id":15774290,"body_markdown":"Can I do it from &quot;Windows Control Panel &gt; Java&quot; without using any command line arguments?","body":"Can I do it from &quot;Windows Control Panel &gt; Java&quot; without using any command line arguments?"},{"owner":{"account_id":214147,"reputation":5246,"user_id":467944,"accept_rate":81,"display_name":"Korgen"},"score":0,"creation_date":1344408461,"post_id":11858721,"comment_id":15774512,"body_markdown":"I never tried and I&#39;m on linux. But on the tab &quot;Java&quot; show the runtime environment settings and try adding the &quot;-Duser...&quot; to the Runtime Parameter column","body":"I never tried and I&#39;m on linux. But on the tab &quot;Java&quot; show the runtime environment settings and try adding the &quot;-Duser...&quot; to the Runtime Parameter column"}],"tags":[],"owner":{"account_id":214147,"reputation":5246,"user_id":467944,"accept_rate":81,"display_name":"Korgen"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1524146318,"creation_date":1344406773,"answer_id":11858721,"question_id":11858565,"body_markdown":"Which framework does your java app use? What kind of component is the date selection field? \r\n\r\nIn Java&#39;s `Calendar` the first day of week by default is determined by the Locale setting of your system.\r\n\r\nSo if you cannot change the source code of your application:\r\n\r\n- you might want to change the locale of your operating system (in your case Windows) \r\n- or you might use various  command line arguments like `-Duser.country` or `-Duser.region for` java when firing up your jvm. \r\nHave a look [here][1].\r\n\r\n\r\n  [1]: http://www.oracle.com/us/technologies/java/locale-140624.html","title":"How to set first day of week in a Java application calendar","body":"<p>Which framework does your java app use? What kind of component is the date selection field? </p>\n\n<p>In Java's <code>Calendar</code> the first day of week by default is determined by the Locale setting of your system.</p>\n\n<p>So if you cannot change the source code of your application:</p>\n\n<ul>\n<li>you might want to change the locale of your operating system (in your case Windows) </li>\n<li>or you might use various  command line arguments like <code>-Duser.country</code> or <code>-Duser.region for</code> java when firing up your jvm. \nHave a look <a href=\"http://www.oracle.com/us/technologies/java/locale-140624.html\" rel=\"nofollow noreferrer\">here</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1636158,"reputation":4134,"user_id":1509578,"accept_rate":50,"display_name":"Mohammod Hossain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344408145,"creation_date":1344408145,"answer_id":11859002,"question_id":11858565,"body_markdown":"    Calendar now = Calendar.getInstance();\r\n        System.out.println(&quot;Current date : &quot; + (now.get(Calendar.MONTH) + 1) + &quot;-&quot;\r\n            + now.get(Calendar.DATE) + &quot;-&quot; + now.get(Calendar.YEAR));\r\n    \r\n        String[] strDays = new String[] { &quot;Sunday&quot;, &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thusday&quot;,\r\n            &quot;Friday&quot;, &quot;Saturday&quot; };\r\n        // Day_OF_WEEK starts from 1 while array index starts from 0\r\n        System.out.println(&quot;Current day is : &quot; + strDays[now.get(Calendar.DAY_OF_WEEK) - 1]);","title":"How to set first day of week in a Java application calendar","body":"<pre><code>Calendar now = Calendar.getInstance();\n    System.out.println(\"Current date : \" + (now.get(Calendar.MONTH) + 1) + \"-\"\n        + now.get(Calendar.DATE) + \"-\" + now.get(Calendar.YEAR));\n\n    String[] strDays = new String[] { \"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thusday\",\n        \"Friday\", \"Saturday\" };\n    // Day_OF_WEEK starts from 1 while array index starts from 0\n    System.out.println(\"Current day is : \" + strDays[now.get(Calendar.DAY_OF_WEEK) - 1]);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1516308713,"post_id":48295216,"comment_id":83645915,"body_markdown":"FYI, the troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [java.time](https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes built into Java 8 &amp; Java 9. See [Tutorial by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes built into Java 8 &amp; Java 9. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Tutorial by Oracle</a>."}],"tags":[],"owner":{"account_id":975359,"reputation":6345,"user_id":996787,"accept_rate":33,"display_name":"Rajesh N"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1516172019,"creation_date":1516172019,"answer_id":48295216,"question_id":11858565,"body_markdown":"If you want to set Monday then use\r\n\r\n    Calendar currentCalendar = Calendar.getInstance(new Locale(&quot;en&quot;,&quot;UK&quot;));\r\n\r\nIf you want to set Sunday then use\r\n\r\n    Calendar currentCalendar = Calendar.getInstance(new Locale(&quot;en&quot;,&quot;US&quot;));","title":"How to set first day of week in a Java application calendar","body":"<p>If you want to set Monday then use</p>\n\n<pre><code>Calendar currentCalendar = Calendar.getInstance(new Locale(\"en\",\"UK\"));\n</code></pre>\n\n<p>If you want to set Sunday then use</p>\n\n<pre><code>Calendar currentCalendar = Calendar.getInstance(new Locale(\"en\",\"US\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8261664,"reputation":87,"user_id":6212820,"display_name":"Subfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676885875,"creation_date":1676885875,"answer_id":75507532,"question_id":11858565,"body_markdown":"one words at short: \r\n```\r\nWeekFields.of(DayOfWeek.MONDAY, 1)\r\n```\r\n\r\nthis is some example:\r\n```\r\nint weekOfYear1 = LocalDateTime.parse(&quot;2023-01-02 00:00:00&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;))\r\n        .get(WeekFields.SUNDAY_START.weekOfWeekBasedYear());\r\nint weekOfYear2 = LocalDateTime.parse(&quot;2023-01-02 00:00:00&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;))\r\n        .get(WeekFields.ISO.weekOfWeekBasedYear());\r\nint weekOfYear3 = LocalDateTime.parse(&quot;2023-01-02 00:00:00&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;))\r\n        .get(WeekFields.of(DayOfWeek.MONDAY, 1).weekOfWeekBasedYear());\r\n```\r\n\r\n    weekOfYear1 is 1\r\n    weekOfYear1 is 1\r\n    weekOfYear1 is 2\r\n\r\n\r\n","title":"How to set first day of week in a Java application calendar","body":"<p>one words at short:</p>\n<pre><code>WeekFields.of(DayOfWeek.MONDAY, 1)\n</code></pre>\n<p>this is some example:</p>\n<pre><code>int weekOfYear1 = LocalDateTime.parse(&quot;2023-01-02 00:00:00&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;))\n        .get(WeekFields.SUNDAY_START.weekOfWeekBasedYear());\nint weekOfYear2 = LocalDateTime.parse(&quot;2023-01-02 00:00:00&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;))\n        .get(WeekFields.ISO.weekOfWeekBasedYear());\nint weekOfYear3 = LocalDateTime.parse(&quot;2023-01-02 00:00:00&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;))\n        .get(WeekFields.of(DayOfWeek.MONDAY, 1).weekOfWeekBasedYear());\n</code></pre>\n<pre><code>weekOfYear1 is 1\nweekOfYear1 is 1\nweekOfYear1 is 2\n</code></pre>\n"}],"owner":{"account_id":370669,"reputation":28467,"user_id":718762,"accept_rate":84,"display_name":"alwbtc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34545,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":11858721,"answer_count":5,"score":8,"last_activity_date":1676885875,"creation_date":1344405979,"question_id":11858565,"body_markdown":"We use a java application, it has a date selection field, when you click there a small calendar opens. First day of the week is Sunday there. But I want it to be Monday. I try to change it from Windows Control Panel from Date settings. I set Windows calendar&#39;s first day to Thursday, for instance. But in Java application&#39;s calendar, first day of the week is still Sunday. Is it possible to change the Java application&#39;s first day of the week from Windows, or is it only changed from Java application&#39;s code?\r\n\r\nRegards","title":"How to set first day of week in a Java application calendar","body":"<p>We use a java application, it has a date selection field, when you click there a small calendar opens. First day of the week is Sunday there. But I want it to be Monday. I try to change it from Windows Control Panel from Date settings. I set Windows calendar's first day to Thursday, for instance. But in Java application's calendar, first day of the week is still Sunday. Is it possible to change the Java application's first day of the week from Windows, or is it only changed from Java application's code?</p>\n\n<p>Regards</p>\n"},{"tags":["java","android","memory-leaks","message-queue","leakcanary"],"answers":[{"comments":[{"owner":{"account_id":361203,"reputation":8239,"user_id":703646,"display_name":"Pierre-Yves Ricau"},"score":1,"creation_date":1640514810,"post_id":70484409,"comment_id":124597142,"body_markdown":"Using WeakReferences to avoid leaks instead of properly dealing with lifecycle will likely introduce unexpected bugs. More here: https://square.github.io/leakcanary/fundamentals-fixing-a-memory-leak/#4-fix-the-leak","body":"Using WeakReferences to avoid leaks instead of properly dealing with lifecycle will likely introduce unexpected bugs. More here: <a href=\"https://square.github.io/leakcanary/fundamentals-fixing-a-memory-leak/#4-fix-the-leak\" rel=\"nofollow noreferrer\">square.github.io/leakcanary/fundamentals-fixing-a-memory-lea&zwnj;&#8203;k/&hellip;</a>"},{"owner":{"account_id":3623345,"reputation":1219,"user_id":3021582,"display_name":"Taranmeet Singh"},"score":1,"creation_date":1640514920,"post_id":70484409,"comment_id":124597159,"body_markdown":"@Pierre-YvesRicau thanks for the info &amp; apologies for the mistake.","body":"@Pierre-YvesRicau thanks for the info &amp; apologies for the mistake."}],"tags":[],"owner":{"account_id":3623345,"reputation":1219,"user_id":3021582,"display_name":"Taranmeet Singh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640515047,"creation_date":1640496660,"answer_id":70484409,"question_id":70483976,"body_markdown":"Check all the data members of your Activity there is some data member which is outliving your activity&#39;s lifecycle.\r\n\r\nAlso check in what places you are passing the activity context and MainActivity.this instance.\r\n\r\nLastly check what callbacks / lambda&#39;s are associated with this activity there could be a case that one of your class&#39;s member is being shared with some other class like a recycler view adapter which could lead to a leak.\r\n\r\nAs a thumb rule when working on memory leak issues I encapsulate most if not all data passing with WeakReference that way you are both safe from NPE plus you get benefit of a decoupled class.\r\n\r\n**Edit** - As shared in the comment below using weak reference is a bad practice and there are better ways to resolve memory leaks. Kindly check the answer from @Pierre or link to the comment posted below.","title":"Memory Leak in MessageQueue in android?","body":"<p>Check all the data members of your Activity there is some data member which is outliving your activity's lifecycle.</p>\n<p>Also check in what places you are passing the activity context and MainActivity.this instance.</p>\n<p>Lastly check what callbacks / lambda's are associated with this activity there could be a case that one of your class's member is being shared with some other class like a recycler view adapter which could lead to a leak.</p>\n<p>As a thumb rule when working on memory leak issues I encapsulate most if not all data passing with WeakReference that way you are both safe from NPE plus you get benefit of a decoupled class.</p>\n<p><strong>Edit</strong> - As shared in the comment below using weak reference is a bad practice and there are better ways to resolve memory leaks. Kindly check the answer from @Pierre or link to the comment posted below.</p>\n"},{"tags":[],"owner":{"account_id":361203,"reputation":8239,"user_id":703646,"display_name":"Pierre-Yves Ricau"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1640514559,"creation_date":1640514559,"answer_id":70485741,"question_id":70483976,"body_markdown":"# What is a MessageQueue?\r\n\r\nThere are 3 key Android classes tied together: Handler, Looper and MessageQueue. When a Looper instance is created, it creates its own MessageQueue instance. Then you can create a Handler et give it the Looper instance. When you call Handler.post() (or postDelayed), under the hood you&#39;re actually calling Handler.sendMessage which enqueues a Message instance on the Message queue associated to the Looper associated to that Handler.\r\n\r\nWhat happens to those enqueued messages? Somewhere else in the code (i.e. dedicated HandlerThread), something calls Looper.loop() which loops forever, removing one entry at a time from the associated Message queue and running that message. If the queue is empty, the Looper waits for the next message (that&#39;s done via native code). Some more context: https://developer.squareup.com/blog/a-journey-on-the-android-main-thread-psvm/\r\n\r\n# What can we read from the LeakTrace?\r\n\r\nWe see that the MessageQueue at the top is for the following HandlerThread: &quot;main&quot;. That&#39;s the main thread. So if you&#39;re doing a postDelayed on the main thread, a message gets enqueued into the message queue.\r\n\r\nMessages are stored as a linked list: the MessageQueue holds on to the first message (via its mMessages field) and then each message holds on to the next.\r\n\r\nWe can see that the head of the queue is a Message and we can see its content.\r\n\r\n`Message.when = 37524601 (681 ms after heap dump)`\r\n\r\nThis tells us the message was enqueued with a delay and will execute in 681ms (after the heap dump was taken)\r\n\r\n`Message.callback = instance @319985112 of com.application.app.MainActivity$$ExternalSyntheticLambda2`\r\n\r\nThis tells us the callback enqueued is an inner lambda defined in MainActivity. It&#39;s hard to figure out which one, but if you decompile the bytecode (e.g. class files or dex) you should be able to tell which lambda has that name.\r\n\r\n# Fix\r\n\r\nMost likely, you have a piece a code that keeps rescheduling itself as a postDelayed on the main thread, even after the activity is destroyed. That callback needs to be canceled in onDestroy()\r\n\r\nEdit: note on the advice to using a WeakReference in the other answer: that&#39;s not good general advice. From the doc: https://square.github.io/leakcanary/fundamentals-fixing-a-memory-leak/#4-fix-the-leak\r\n\r\n&gt; Memory leaks cannot be fixed by replacing strong references with weak references. It’s a common solution when attempting to quickly address memory issues, however it never works. The bugs that were causing references to be kept longer than necessary are still there. On top of that, it creates more bugs as some objects will now be garbage collected sooner than they should. It also makes the code much harder to maintain.","title":"Memory Leak in MessageQueue in android?","body":"<h1>What is a MessageQueue?</h1>\n<p>There are 3 key Android classes tied together: Handler, Looper and MessageQueue. When a Looper instance is created, it creates its own MessageQueue instance. Then you can create a Handler et give it the Looper instance. When you call Handler.post() (or postDelayed), under the hood you're actually calling Handler.sendMessage which enqueues a Message instance on the Message queue associated to the Looper associated to that Handler.</p>\n<p>What happens to those enqueued messages? Somewhere else in the code (i.e. dedicated HandlerThread), something calls Looper.loop() which loops forever, removing one entry at a time from the associated Message queue and running that message. If the queue is empty, the Looper waits for the next message (that's done via native code). Some more context: <a href=\"https://developer.squareup.com/blog/a-journey-on-the-android-main-thread-psvm/\" rel=\"noreferrer\">https://developer.squareup.com/blog/a-journey-on-the-android-main-thread-psvm/</a></p>\n<h1>What can we read from the LeakTrace?</h1>\n<p>We see that the MessageQueue at the top is for the following HandlerThread: &quot;main&quot;. That's the main thread. So if you're doing a postDelayed on the main thread, a message gets enqueued into the message queue.</p>\n<p>Messages are stored as a linked list: the MessageQueue holds on to the first message (via its mMessages field) and then each message holds on to the next.</p>\n<p>We can see that the head of the queue is a Message and we can see its content.</p>\n<p><code>Message.when = 37524601 (681 ms after heap dump)</code></p>\n<p>This tells us the message was enqueued with a delay and will execute in 681ms (after the heap dump was taken)</p>\n<p><code>Message.callback = instance @319985112 of com.application.app.MainActivity$$ExternalSyntheticLambda2</code></p>\n<p>This tells us the callback enqueued is an inner lambda defined in MainActivity. It's hard to figure out which one, but if you decompile the bytecode (e.g. class files or dex) you should be able to tell which lambda has that name.</p>\n<h1>Fix</h1>\n<p>Most likely, you have a piece a code that keeps rescheduling itself as a postDelayed on the main thread, even after the activity is destroyed. That callback needs to be canceled in onDestroy()</p>\n<p>Edit: note on the advice to using a WeakReference in the other answer: that's not good general advice. From the doc: <a href=\"https://square.github.io/leakcanary/fundamentals-fixing-a-memory-leak/#4-fix-the-leak\" rel=\"noreferrer\">https://square.github.io/leakcanary/fundamentals-fixing-a-memory-leak/#4-fix-the-leak</a></p>\n<blockquote>\n<p>Memory leaks cannot be fixed by replacing strong references with weak references. It’s a common solution when attempting to quickly address memory issues, however it never works. The bugs that were causing references to be kept longer than necessary are still there. On top of that, it creates more bugs as some objects will now be garbage collected sooner than they should. It also makes the code much harder to maintain.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10627020,"reputation":698,"user_id":7826372,"accept_rate":43,"display_name":"Islam Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676885808,"creation_date":1676885808,"answer_id":75507518,"question_id":70483976,"body_markdown":"In case you need a quick fix, the easiest and straight forward way to fix this issue that I tested myself and worked successfully, is to use this **magic library** [WeakHandler][1] \r\n\r\nIn case you need to read more [check here][2] \r\n\r\nAnd this is a sample code \r\n\r\nIn the build gradle, add this library\r\n\r\n    dependencies {\r\n        implementation &#39;com.badoo.mobile:android-weak-handler:1.0&#39; \r\n    }\r\n\r\nThen \r\n\r\n    import com.badoo.mobile.util.WeakHandler;\r\n\r\n    public class ExampleActivity extends Activity {\r\n\r\n    private WeakHandler handler; // Just use WeakHandler instead of Handler\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        handler = new WeakHandler();\r\n        ...\r\n    }\r\n\r\n    private void onClick(View view) {\r\n        handler.postDelayed(new Runnable() {\r\n            view.setVisibility(View.INVISIBLE);\r\n        }, 5000);\r\n     }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/badoo/android-weak-handler\r\n  [2]: https://medium.com/bumble-tech/android-handler-memory-leaks-7291c5be6101","title":"Memory Leak in MessageQueue in android?","body":"<p>In case you need a quick fix, the easiest and straight forward way to fix this issue that I tested myself and worked successfully, is to use this <strong>magic library</strong> <a href=\"https://github.com/badoo/android-weak-handler\" rel=\"nofollow noreferrer\">WeakHandler</a></p>\n<p>In case you need to read more <a href=\"https://medium.com/bumble-tech/android-handler-memory-leaks-7291c5be6101\" rel=\"nofollow noreferrer\">check here</a></p>\n<p>And this is a sample code</p>\n<p>In the build gradle, add this library</p>\n<pre><code>dependencies {\n    implementation 'com.badoo.mobile:android-weak-handler:1.0' \n}\n</code></pre>\n<p>Then</p>\n<pre><code>import com.badoo.mobile.util.WeakHandler;\n\npublic class ExampleActivity extends Activity {\n\nprivate WeakHandler handler; // Just use WeakHandler instead of Handler\n\nprotected void onCreate(Bundle savedInstanceState) {\n    handler = new WeakHandler();\n    ...\n}\n\nprivate void onClick(View view) {\n    handler.postDelayed(new Runnable() {\n        view.setVisibility(View.INVISIBLE);\n    }, 5000);\n }\n}\n</code></pre>\n"}],"owner":{"account_id":19852603,"reputation":39,"user_id":17263721,"display_name":"Rafi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1313,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70485741,"answer_count":3,"score":3,"last_activity_date":1676885808,"creation_date":1640487838,"question_id":70483976,"body_markdown":"I am having a memory leak in my MainActivity.java which was detected by LeakCanary. This is my Leak Trace.\r\n\r\n\r\n    ┬───\r\n    │ GC Root: Input or output parameters in native code\r\n    │\r\n    ├─ android.os.MessageQueue instance\r\n    │    Leaking: NO (MessageQueue#mQuitting is false)\r\n    │    HandlerThread: &quot;main&quot;\r\n    │    ↓ MessageQueue.mMessages\r\n    │                   ~~~~~~~~~\r\n    ├─ android.os.Message instance\r\n    │    Leaking: UNKNOWN\r\n    │    Retaining 14.2 kB in 348 objects\r\n    │    Message.what = 0\r\n    │    Message.when = 37524601 (681 ms after heap dump)\r\n    │    Message.obj = null\r\n    │    Message.callback = instance @319985112 of com.application.app.\r\n    │    MainActivity$$ExternalSyntheticLambda2\r\n    │    ↓ Message.callback\r\n    │              ~~~~~~~~\r\n    ├─ com.application.app.MainActivity$$ExternalSyntheticLambda2 instance\r\n    │    Leaking: UNKNOWN\r\n    │    Retaining 12 B in 1 objects\r\n    │    f$0 instance of com.application.app.MainActivity with mDestroyed =\r\n    │    true\r\n    │    ↓ MainActivity$$ExternalSyntheticLambda2.f$0\r\n    │                                             ~~~\r\n    ╰→ com.application.app.MainActivity instance\r\n          Leaking: YES (ObjectWatcher was watching this because com.defenderstudio.\r\n          geeksjob.MainActivity received Activity#onDestroy() callback and\r\n          Activity#mDestroyed is true)\r\n          Retaining 11.2 MB in 5622 objects\r\n          key = e98df529-afa0-4e0c-b0f0-51a5d3eaf67c\r\n          watchDurationMillis = 5249\r\n          retainedDurationMillis = 248\r\n          mApplication instance of android.app.Application\r\n          mBase instance of androidx.appcompat.view.ContextThemeWrapper\r\n    \r\n    METADATA\r\n    \r\n    Build.VERSION.SDK_INT: 30\r\n    Build.MANUFACTURER: samsung\r\n    LeakCanary version: 2.7\r\n    App process name: com.application.app\r\n    Count of retained yet cleared: 6 KeyedWeakReference instances\r\n    Stats: LruCache[maxSize=3000,hits=6544,misses=134885,hitRate=4%]\r\n    RandomAccess[bytes=5904498,reads=134885,travel=75990168059,range=41137566,size=5\r\n    3483782]\r\n    Heap dump reason: 7 retained objects, app is visible\r\n    Analysis duration: 31639 ms\r\n\r\nI can&#39;t understand what is the problem here. I closed all the `postdelayed()` method when `ondestroy()` is called. This is the code :\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        dialog = new Dialog(MainActivity.this, R.style.dialog);\r\n        if (dialog.isShowing()) {\r\n            dialog.dismiss();\r\n        }\r\n        if (handler != null &amp;&amp; statusChecker != null) {\r\n            handler.removeCallbacks(statusChecker);\r\n        }\r\n        if (databaseReference != null &amp;&amp; userSignInInfoReference != null &amp;&amp; eventListener != null) {\r\n            databaseReference.removeEventListener(eventListener);\r\n            userSignInInfoReference.removeEventListener(eventListener);\r\n        }\r\n        progressDialog = new ProgressDialog(MainActivity.this, R.style.ProgressDialogStyle);\r\n        if (progressDialog.isShowing()) {\r\n            progressDialog.dismiss();\r\n        }\r\n        headerView = null;\r\n        super.onDestroy();\r\n    }\r\n\r\nPlease help me out here! \r\n\r\nNOTE : Also Please tell me what is **MessageQueue** and how close all leaks of it. Thanks in advance!","title":"Memory Leak in MessageQueue in android?","body":"<p>I am having a memory leak in my MainActivity.java which was detected by LeakCanary. This is my Leak Trace.</p>\n<pre><code>┬───\n│ GC Root: Input or output parameters in native code\n│\n├─ android.os.MessageQueue instance\n│    Leaking: NO (MessageQueue#mQuitting is false)\n│    HandlerThread: &quot;main&quot;\n│    ↓ MessageQueue.mMessages\n│                   ~~~~~~~~~\n├─ android.os.Message instance\n│    Leaking: UNKNOWN\n│    Retaining 14.2 kB in 348 objects\n│    Message.what = 0\n│    Message.when = 37524601 (681 ms after heap dump)\n│    Message.obj = null\n│    Message.callback = instance @319985112 of com.application.app.\n│    MainActivity$$ExternalSyntheticLambda2\n│    ↓ Message.callback\n│              ~~~~~~~~\n├─ com.application.app.MainActivity$$ExternalSyntheticLambda2 instance\n│    Leaking: UNKNOWN\n│    Retaining 12 B in 1 objects\n│    f$0 instance of com.application.app.MainActivity with mDestroyed =\n│    true\n│    ↓ MainActivity$$ExternalSyntheticLambda2.f$0\n│                                             ~~~\n╰→ com.application.app.MainActivity instance\n      Leaking: YES (ObjectWatcher was watching this because com.defenderstudio.\n      geeksjob.MainActivity received Activity#onDestroy() callback and\n      Activity#mDestroyed is true)\n      Retaining 11.2 MB in 5622 objects\n      key = e98df529-afa0-4e0c-b0f0-51a5d3eaf67c\n      watchDurationMillis = 5249\n      retainedDurationMillis = 248\n      mApplication instance of android.app.Application\n      mBase instance of androidx.appcompat.view.ContextThemeWrapper\n\nMETADATA\n\nBuild.VERSION.SDK_INT: 30\nBuild.MANUFACTURER: samsung\nLeakCanary version: 2.7\nApp process name: com.application.app\nCount of retained yet cleared: 6 KeyedWeakReference instances\nStats: LruCache[maxSize=3000,hits=6544,misses=134885,hitRate=4%]\nRandomAccess[bytes=5904498,reads=134885,travel=75990168059,range=41137566,size=5\n3483782]\nHeap dump reason: 7 retained objects, app is visible\nAnalysis duration: 31639 ms\n</code></pre>\n<p>I can't understand what is the problem here. I closed all the <code>postdelayed()</code> method when <code>ondestroy()</code> is called. This is the code :</p>\n<pre><code>@Override\nprotected void onDestroy() {\n    dialog = new Dialog(MainActivity.this, R.style.dialog);\n    if (dialog.isShowing()) {\n        dialog.dismiss();\n    }\n    if (handler != null &amp;&amp; statusChecker != null) {\n        handler.removeCallbacks(statusChecker);\n    }\n    if (databaseReference != null &amp;&amp; userSignInInfoReference != null &amp;&amp; eventListener != null) {\n        databaseReference.removeEventListener(eventListener);\n        userSignInInfoReference.removeEventListener(eventListener);\n    }\n    progressDialog = new ProgressDialog(MainActivity.this, R.style.ProgressDialogStyle);\n    if (progressDialog.isShowing()) {\n        progressDialog.dismiss();\n    }\n    headerView = null;\n    super.onDestroy();\n}\n</code></pre>\n<p>Please help me out here!</p>\n<p>NOTE : Also Please tell me what is <strong>MessageQueue</strong> and how close all leaks of it. Thanks in advance!</p>\n"},{"tags":["java","email","smtp"],"comments":[{"owner":{"account_id":194657,"reputation":48162,"user_id":1603351,"display_name":"Eugene Astafiev"},"score":0,"creation_date":1676582106,"post_id":75477941,"comment_id":133171538,"body_markdown":"Does this answer your question? [javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful](https://stackoverflow.com/questions/33243450/javax-mail-authenticationfailedexception-535-5-7-3-authentication-unsuccessful)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33243450/javax-mail-authenticationfailedexception-535-5-7-3-authentication-unsuccessful\">javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful</a>"},{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":0,"creation_date":1676586953,"post_id":75477941,"comment_id":133172626,"body_markdown":"From the logs it seems the remote server hasn&#39;t rejected using the &#39;LOGIN&#39; mechanism. Sure the credentials are correct? Othrwise might need to run it in a debugger to see deeper details","body":"From the logs it seems the remote server hasn&#39;t rejected using the &#39;LOGIN&#39; mechanism. Sure the credentials are correct? Othrwise might need to run it in a debugger to see deeper details"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677245516,"post_id":75507370,"comment_id":133304859,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75507370/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22979559,"reputation":53,"user_id":17106708,"display_name":"Ann-Christin Lindras"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676885650,"creation_date":1676884983,"answer_id":75507370,"question_id":75477941,"body_markdown":"I asked my customizer for the user/password combination three times. \r\nAnd now I asked a fourth time and I get an other password. \r\nWith the **new password** I can send mails with my implementation.\r\n\r\nSorry for the inconvenience. Thank you all for the help.\r\n\r\nMany greetings Ann\r\n","title":"exception javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful","body":"<p>I asked my customizer for the user/password combination three times.\nAnd now I asked a fourth time and I get an other password.\nWith the <strong>new password</strong> I can send mails with my implementation.</p>\n<p>Sorry for the inconvenience. Thank you all for the help.</p>\n<p>Many greetings Ann</p>\n"}],"owner":{"account_id":22979559,"reputation":53,"user_id":17106708,"display_name":"Ann-Christin Lindras"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75507370,"answer_count":1,"score":0,"last_activity_date":1676885650,"creation_date":1676581695,"question_id":75477941,"body_markdown":"I copied code for sending mails with javax.mail from an older project to my new project. The code worked in the old project for an other customizer.\r\n\r\n ```\r\n        final Properties props = new Properties();\r\n\t\tprops.put(&quot;mail.smtp.host&quot;, &quot;mail.mycompany.net&quot;);\r\n\t\tprops.put(&quot;mail.smtp.timeout&quot;, &quot;10000&quot;);\r\n\t\tprops.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n\t\tprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n\t    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\r\nfinal class MailAuthenticator extends javax.mail.Authenticator {\r\n                        @Override\r\n                        public javax.mail.PasswordAuthentication getPasswordAuthentication() {\r\n                              return new javax.mail.PasswordAuthentication(user, password);\r\n                        }\r\n                  }\r\n \r\n                  final Session session = Session.getInstance(props, new MailAuthenticator()); \r\n \r\n                  final MimeMessage msg = new MimeMessage(session);\r\n                  msg.addHeader(&quot;Content-type&quot;, &quot;text/HTML; charset=UTF-8&quot;);\r\n                  msg.addHeader(&quot;format&quot;, &quot;flowed&quot;);\r\n                  msg.addHeader(&quot;Content-Transfer-Encoding&quot;, &quot;8bit&quot;);\r\n                  msg.setFrom(new InternetAddress(replyMail, replyId));\r\n                  msg.setReplyTo(InternetAddress.parse(replyMail, false));\r\n                  msg.setSubject(subject, &quot;UTF-8&quot;);\r\n                  msg.setContent(body, &quot;text/html; charset=utf-8&quot;);\r\n                  msg.setSentDate(java.sql.Date.valueOf(localDate));\r\n                  toEmails = toEmails.replace(&quot;;&quot;, &quot;,&quot;);\r\n                  msg.setRecipients(Message.RecipientType.TO, InternetAddress.parse(toEmails, false));\r\n \r\n                  Transport.send(msg);\r\n ```\r\n\r\nBut now I get an AuthenticationFailedException\r\n ```\r\njavax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful\r\n ```\r\nI use javax.mail version 1.5.0. I tried also version 1.6.2 with the same error.\r\n\r\nHere is the log file:\r\n```\r\nDEBUG: Jakarta Mail version 1.6.4.payara-p1\r\nDEBUG: successfully loaded resource: /META-INF/javamail.default.providers\r\nDEBUG: Tables of loaded providers\r\nDEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle]}\r\nDEBUG: Providers Listed By Protocol: {imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle]}\r\nDEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\r\nDEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle\r\nDEBUG SMTP: need username and password for authentication\r\nDEBUG SMTP: protocolConnect returning false, host=mail.mycompany.net, user=ann, password=&lt;null&gt;\r\nDEBUG SMTP: useEhlo true, useAuth true\r\nDEBUG SMTP: trying to connect to host &quot;mail.mycompany.net&quot;, port 587, isSSL false\r\n220 SMUCMP04A.europe.mycompany.corp Microsoft ESMTP MAIL Service ready at Wed, 15 Feb 2023 15:23:51 +0100\r\nDEBUG SMTP: connected to host &quot;mail.mycompany.net&quot;, port: 587\r\nEHLO SWE-mycompany-WS16-09.localdomain\r\n250-SMUCMP04A.europe.mycompany.corp Hello [10.30.85.214]\r\n250-SIZE 20971520\r\n250-PIPELINING\r\n250-DSN\r\n250-ENHANCEDSTATUSCODES\r\n250-STARTTLS\r\n250-AUTH GSSAPI NTLM\r\n250-8BITMIME\r\n250-BINARYMIME\r\n250-CHUNKING\r\n250 SMTPUTF8\r\nDEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;20971520&quot;\r\nDEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;STARTTLS&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;GSSAPI NTLM&quot;\r\nDEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;BINARYMIME&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;SMTPUTF8&quot;, arg &quot;&quot;\r\nSTARTTLS\r\n220 2.0.0 SMTP server ready\r\nEHLO SWE-mycompany-WS16-09.localdomain\r\n250-SMUCMP04A.europe.mycompany.corp Hello [10.30.85.214]\r\n250-SIZE 20971520\r\n250-PIPELINING\r\n250-DSN\r\n250-ENHANCEDSTATUSCODES\r\n250-AUTH GSSAPI NTLM LOGIN\r\n250-8BITMIME\r\n250-BINARYMIME\r\n250-CHUNKING\r\n250 SMTPUTF8\r\nDEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;20971520&quot;\r\nDEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;GSSAPI NTLM LOGIN&quot;\r\nDEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;BINARYMIME&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\r\nDEBUG SMTP: Found extension &quot;SMTPUTF8&quot;, arg &quot;&quot;\r\nDEBUG SMTP: protocolConnect login, host=mail.mycompany.net, user=myuser@europe.mycompany.corp, password=&lt;non-null&gt;\r\nDEBUG SMTP: Attempt to authenticate using mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM XOAUTH2 \r\nDEBUG SMTP: Using mechanism LOGIN\r\nDEBUG SMTP: AUTH LOGIN command trace suppressed\r\nDEBUG SMTP: AUTH LOGIN failed\r\n```\r\n\r\nDoes anyone have an idea to solve the problem?\r\n\r\nThank you Ann","title":"exception javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful","body":"<p>I copied code for sending mails with javax.mail from an older project to my new project. The code worked in the old project for an other customizer.</p>\n<pre><code>       final Properties props = new Properties();\n       props.put(&quot;mail.smtp.host&quot;, &quot;mail.mycompany.net&quot;);\n       props.put(&quot;mail.smtp.timeout&quot;, &quot;10000&quot;);\n       props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n       props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n       props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n       props.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n       props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n\nfinal class MailAuthenticator extends javax.mail.Authenticator {\n                       @Override\n                       public javax.mail.PasswordAuthentication getPasswordAuthentication() {\n                             return new javax.mail.PasswordAuthentication(user, password);\n                       }\n                 }\n\n                 final Session session = Session.getInstance(props, new MailAuthenticator()); \n\n                 final MimeMessage msg = new MimeMessage(session);\n                 msg.addHeader(&quot;Content-type&quot;, &quot;text/HTML; charset=UTF-8&quot;);\n                 msg.addHeader(&quot;format&quot;, &quot;flowed&quot;);\n                 msg.addHeader(&quot;Content-Transfer-Encoding&quot;, &quot;8bit&quot;);\n                 msg.setFrom(new InternetAddress(replyMail, replyId));\n                 msg.setReplyTo(InternetAddress.parse(replyMail, false));\n                 msg.setSubject(subject, &quot;UTF-8&quot;);\n                 msg.setContent(body, &quot;text/html; charset=utf-8&quot;);\n                 msg.setSentDate(java.sql.Date.valueOf(localDate));\n                 toEmails = toEmails.replace(&quot;;&quot;, &quot;,&quot;);\n                 msg.setRecipients(Message.RecipientType.TO, InternetAddress.parse(toEmails, false));\n\n                 Transport.send(msg);\n</code></pre>\n<p>But now I get an AuthenticationFailedException</p>\n<pre><code>javax.mail.AuthenticationFailedException: 535 5.7.3 Authentication unsuccessful\n</code></pre>\n<p>I use javax.mail version 1.5.0. I tried also version 1.6.2 with the same error.</p>\n<p>Here is the log file:</p>\n<pre><code>DEBUG: Jakarta Mail version 1.6.4.payara-p1\nDEBUG: successfully loaded resource: /META-INF/javamail.default.providers\nDEBUG: Tables of loaded providers\nDEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle]}\nDEBUG: Providers Listed By Protocol: {imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle]}\nDEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\nDEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle\nDEBUG SMTP: need username and password for authentication\nDEBUG SMTP: protocolConnect returning false, host=mail.mycompany.net, user=ann, password=&lt;null&gt;\nDEBUG SMTP: useEhlo true, useAuth true\nDEBUG SMTP: trying to connect to host &quot;mail.mycompany.net&quot;, port 587, isSSL false\n220 SMUCMP04A.europe.mycompany.corp Microsoft ESMTP MAIL Service ready at Wed, 15 Feb 2023 15:23:51 +0100\nDEBUG SMTP: connected to host &quot;mail.mycompany.net&quot;, port: 587\nEHLO SWE-mycompany-WS16-09.localdomain\n250-SMUCMP04A.europe.mycompany.corp Hello [10.30.85.214]\n250-SIZE 20971520\n250-PIPELINING\n250-DSN\n250-ENHANCEDSTATUSCODES\n250-STARTTLS\n250-AUTH GSSAPI NTLM\n250-8BITMIME\n250-BINARYMIME\n250-CHUNKING\n250 SMTPUTF8\nDEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;20971520&quot;\nDEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;STARTTLS&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;GSSAPI NTLM&quot;\nDEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;BINARYMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;SMTPUTF8&quot;, arg &quot;&quot;\nSTARTTLS\n220 2.0.0 SMTP server ready\nEHLO SWE-mycompany-WS16-09.localdomain\n250-SMUCMP04A.europe.mycompany.corp Hello [10.30.85.214]\n250-SIZE 20971520\n250-PIPELINING\n250-DSN\n250-ENHANCEDSTATUSCODES\n250-AUTH GSSAPI NTLM LOGIN\n250-8BITMIME\n250-BINARYMIME\n250-CHUNKING\n250 SMTPUTF8\nDEBUG SMTP: Found extension &quot;SIZE&quot;, arg &quot;20971520&quot;\nDEBUG SMTP: Found extension &quot;PIPELINING&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;DSN&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;ENHANCEDSTATUSCODES&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;AUTH&quot;, arg &quot;GSSAPI NTLM LOGIN&quot;\nDEBUG SMTP: Found extension &quot;8BITMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;BINARYMIME&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;CHUNKING&quot;, arg &quot;&quot;\nDEBUG SMTP: Found extension &quot;SMTPUTF8&quot;, arg &quot;&quot;\nDEBUG SMTP: protocolConnect login, host=mail.mycompany.net, user=myuser@europe.mycompany.corp, password=&lt;non-null&gt;\nDEBUG SMTP: Attempt to authenticate using mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM XOAUTH2 \nDEBUG SMTP: Using mechanism LOGIN\nDEBUG SMTP: AUTH LOGIN command trace suppressed\nDEBUG SMTP: AUTH LOGIN failed\n</code></pre>\n<p>Does anyone have an idea to solve the problem?</p>\n<p>Thank you Ann</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":4,"creation_date":1676695841,"post_id":75490947,"comment_id":133194173,"body_markdown":"Don&#39;t use a null layout. Don&#39;t use setBounds(). Swing was designed to be used with layout managers. Scrolling will only work correctly when you use layout managers. You should be able to use a `GridLayout`. Read the Swing tutorial on [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) for more information and working examples. Also, don&#39;t keep creating new Font objects. The font can be shared by all components.","body":"Don&#39;t use a null layout. Don&#39;t use setBounds(). Swing was designed to be used with layout managers. Scrolling will only work correctly when you use layout managers. You should be able to use a <code>GridLayout</code>. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Managers</a> for more information and working examples. Also, don&#39;t keep creating new Font objects. The font can be shared by all components."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1676717209,"post_id":75490947,"comment_id":133196279,"body_markdown":"You probably want radio buttons rather than checkboxes.  How are you going to display more than one website?  Your GUi would be easier to use if the betting sites were in a JComboBox and the sports were radio buttons or checkboxes.  Generally, radio buttons and checkboxes are used when the selection is limited (&lt;= 5).","body":"You probably want radio buttons rather than checkboxes.  How are you going to display more than one website?  Your GUi would be easier to use if the betting sites were in a JComboBox and the sports were radio buttons or checkboxes.  Generally, radio buttons and checkboxes are used when the selection is limited (&lt;= 5)."}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676885567,"creation_date":1676885567,"answer_id":75507474,"question_id":75490947,"body_markdown":"See the below runnable code to see one way this can be done using a **JDialog** for a window and Layout managers. Be sure to read the comments in code. You should be able to adapt the concept to your specific application:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```\r\nimport java.awt.Dimension;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.Font;\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.ActionEvent;\r\nimport java.util.ArrayList;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JCheckBox;\r\nimport javax.swing.JComboBox;\r\nimport javax.swing.JDialog;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\n\r\npublic class SportBookingsDemo {\r\n\r\n    //Class member variables:\r\n    private JDialog dia;            // JDialog object (class global):\r\n    private JCheckBox[] chks;       // JCheckBox object Array (class global):\r\n    private JComboBox sportCombo;   // JDialog object (class global):\r\n    private JButton submit;         // JButton object (class global):\r\n\r\n    // Captions for All JCheckBoxes (class global):\r\n    String[] sportsBookNames = {&quot;888Bets&quot;, &quot;Bovada&quot;, &quot;BlueBet&quot;, &quot;Coral&quot;, &quot;BoyleSports&quot;,\r\n        &quot;Circa Sports&quot;, &quot;Betclic&quot;, &quot;Casumo&quot;, &quot;Betfair&quot;, &quot;DraftKings&quot;,\r\n        &quot;BetMGM&quot;, &quot;FanDuel&quot;, &quot;BetOnline&quot;, &quot;FOX Bet&quot;, &quot;BetRivers&quot;,\r\n        &quot;GTbets&quot;, &quot;Bet Victor&quot;, &quot;Intertops&quot;, &quot;BetUS&quot;, &quot;Ladbrokes&quot;,\r\n        &quot;LeoVegas&quot;, &quot;LiveScore&quot;, &quot;LowVig&quot;, &quot;Matchbook&quot;, &quot;MarathonkBet&quot;,\r\n        &quot;Mr Green&quot;, &quot;MyBookie&quot;, &quot;Neds&quot;, &quot;NordicBet&quot;, &quot;PaddyPower&quot;,\r\n        &quot;PointsBet(AU)&quot;, &quot;PointsBet(US)&quot;, &quot;Pinnacle&quot;};\r\n    \r\n    // ArrayList of String to hold captions for selected checkboxes (class global):\r\n    private ArrayList&lt;String&gt; bookings = new ArrayList&lt;&gt;();\r\n   \r\n    // String Variable to hold the selected Sport (class global):\r\n    private String sport;\r\n\r\n    // Constructor:\r\n    public SportBookingsDemo() {\r\n        // Create the Dialog Window:\r\n        createDialog();\r\n\r\n        // `Submit` button ActionPerformed event:\r\n        submit.addActionListener((ActionEvent e) -&gt; {\r\n            bookings.clear();\r\n            sport = &quot;&quot;;\r\n\r\n            if (sportCombo.getSelectedItem().equals(&quot;Select a sport&quot;)) {\r\n                JOptionPane.showMessageDialog(dia, &quot;You must select a specific Sport!&quot;,\r\n                        &quot;No Sport Selected&quot;, JOptionPane.WARNING_MESSAGE);\r\n                sportCombo.requestFocus();\r\n                return;\r\n            }\r\n            else {\r\n                sport = sportCombo.getSelectedItem().toString();\r\n            }\r\n            System.out.println(&quot;Selected Bookings:&quot;);\r\n            for (int i = 0; i &lt; chks.length; i++) {\r\n                if (chks[i].isSelected()) {\r\n                    bookings.add(sportsBookNames[i]);\r\n                }\r\n            }\r\n            if (bookings.isEmpty()) {\r\n                JOptionPane.showMessageDialog(dia, &quot;You must select at least one Sportsbook!&quot;,\r\n                        &quot;No Sportbook Selected&quot;, JOptionPane.WARNING_MESSAGE);\r\n                sportCombo.requestFocus();\r\n                return;\r\n            }\r\n\r\n            // Display dialog results:\r\n            StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n            sb.append(&quot;&lt;html&gt;&lt;center&gt;Selected bookings for the Sport of:&lt;br&gt;&lt;br&gt;&quot;);\r\n            sb.append(&quot;&lt;font size=&#39;5&#39;, color=blue&gt;&lt;b&gt;&quot;).append(sport).append(&quot;&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;br&gt;&lt;/center&gt;&quot;);\r\n            for (String bks : bookings) {\r\n                sb.append(&quot;&lt;font size=&#39;4&#39;, color=green&gt;✓ &lt;/font&gt;&quot;).append(bks).append(&quot;&lt;br&gt;&quot;);\r\n            }\r\n            sb.append(&quot;&lt;br&gt;&lt;/html&gt;&quot;);\r\n            JOptionPane.showMessageDialog(dia, sb.toString(), &quot;Bookings&quot;,\r\n                    JOptionPane.INFORMATION_MESSAGE);\r\n        });\r\n    }\r\n\r\n    // Application entry point...\r\n    public static void main(String[] args) {\r\n        // App started this way to avoid the need for statics:\r\n        new SportBookingsDemo().startApp(args);\r\n    }\r\n\r\n    private void startApp(String[] args) {\r\n        // Display dialog window:\r\n        java.awt.EventQueue.invokeLater(() -&gt; {\r\n            dia.setVisible(true);\r\n        });\r\n    }\r\n\r\n    // Method to create Dialog:\r\n    private void createDialog() {\r\n        dia = new JDialog();                    // Initialize JDialog.\r\n        dia.setModal(true);                     // Set dialog to Modal.\r\n        dia.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE); //Dispose dialog when closed.\r\n        dia.setTitle(&quot;Sports Book Dialog&quot;);     // Set dialog title caption.\r\n        dia.setAlwaysOnTop(true);               // Dialog will always be on top of other windows.\r\n        dia.setSize(280, 390);                  // Set dialog size.\r\n        dia.setResizable(false);                // Make dialog non-sizeable.\r\n        dia.setLocationRelativeTo(null);        // Open dialog window to center screen.\r\n        \r\n        // Decalre and initialize the JDialog&#39;s main content panel\r\n        JPanel mainPanel = new JPanel();\r\n        // Set Horizontal and Vertical Gaps for mainPanel&#39;s default FlowLayout.\r\n        FlowLayout layout = new FlowLayout(); \r\n        /* Set Horiz and Vert layout Gaps. The helps ensure the \r\n           components in dialog are center aligned as a single \r\n           column.                 */\r\n        layout.setHgap(140); layout.setVgap(10); \r\n        mainPanel.setLayout(layout); // Apply Layout.\r\n        dia.add(mainPanel);          // Add mainPanel to dialog Window\r\n\r\n        /* Declare and initialize a JLabel to display \r\n           the CheckBoxes scrollable list display. */\r\n        JLabel label_1 = new JLabel(&quot;Sportsbook Selection&quot;);\r\n        // Set the Font, font style, and font size for the title:\r\n        label_1.setFont(new Font(&quot;Leelawadee UI Semilight&quot;, Font.BOLD, 14));\r\n        // Set JLabel text Horizontal Alignment to center.\r\n        label_1.setHorizontalAlignment(JLabel.CENTER); \r\n        mainPanel.add(label_1); // Add title to mainPanel.\r\n\r\n        /* Declare a JPanel to hold all the checkboxes that\r\n           will be added to a JScrollPane within the dialog.\r\n           We also ensure a GridLayout of -1 rows (as many \r\n           as needed) and 2 columns for the JPanel.     */\r\n        JPanel chkPanel = new JPanel(new GridLayout(-1, 2));\r\n\r\n        /* Initialize the chks[] JCheckBox Array to the required \r\n           length. This length is actually determined by the number\r\n           of elements within the sportsBookNames[] array which\r\n           will hereby be considered a `parallel` array to the chks[]\r\n           array. Every CheckBox element contained within the chks[] \r\n           array will contain a Caption text from the sportsBookNames[]\r\n           array at the same index value.         */\r\n        chks = new JCheckBox[sportsBookNames.length];\r\n        \r\n        /* Iterate through the chks[] array elements and apply \r\n           JCheckBox objects to them with text captions derived \r\n           from the sportsBookNames[] array at the current \r\n           iterated index. Add each chks[] element (JCheckBox)\r\n           to the `chkPanel` JPanel.        */ \r\n        for (int i = 0; i &lt; chks.length; i++) {\r\n            chks[i] = new JCheckBox(sportsBookNames[i]);\r\n            chks[i].setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 12));\r\n            chkPanel.add(chks[i]);\r\n        }\r\n        // Add the now filled chkPanel to a JScrollPane (`chkScroll`).\r\n        JScrollPane chkScroll = new JScrollPane(chkPanel);\r\n        // Set the ScrollPane&#39;s Preferred Size we want within te dialog.\r\n        chkScroll.setPreferredSize(new Dimension(250, 200));\r\n        // Add the ScrollPane (`chkScroll`) to the Main Panel (`mainPanel`).\r\n        mainPanel.add(chkScroll);\r\n\r\n        /* Declare a JLabel to be a title for a Sport type JComboBox\r\n           and provide a title:        */\r\n        JLabel sportLBL = new JLabel(&quot;Sport&quot;);\r\n        // Set the Font, font style, and font size for the title:\r\n        sportLBL.setFont(new Font(&quot;Leelawadee UI Semilight&quot;, Font.BOLD, 14));\r\n        // Add the JLabel (`sportLBL`) to the Main Panel (`mainPanel`).\r\n        mainPanel.add(sportLBL);\r\n\r\n        /* Create a JComboBox (`sportCombo`) and fill it with \r\n           Sport Types. Sport Type names are contained within\r\n           the `sports[]` array.        */\r\n        String[] sports = {&quot;Select A Sport&quot;, &quot;NBA&quot;, &quot;NFL&quot;, &quot;NHL&quot;,\r\n            &quot;ATL&quot;, &quot;MLB&quot;, &quot;NCAA&quot;, &quot;PGA&quot;, &quot;CKE&quot;};\r\n        sportCombo = new JComboBox&lt;&gt;(sports);\r\n        sportCombo.setFont(new Font(&quot;Leelawadee UI Semilight&quot;, Font.PLAIN, 12));\r\n        // Set the Preferred Size of the JComboBox (`sportCombo`):\r\n        sportCombo.setPreferredSize(new Dimension(120, 25));\r\n        // Make sure the ComboBox is non-editable.\r\n        sportCombo.setEditable(false); \r\n        // Add the JComboBox (`sportCombo`) to the Main Panel (`mainPanel`).       \r\n        mainPanel.add(sportCombo);\r\n\r\n        /* Initialize the `submit` JButton and apply the \r\n           text caption of &quot;Submit&quot;.            */\r\n        submit = new JButton(&quot;Submit&quot;);\r\n        submit.setFont(new Font(&quot;Leelawadee UI Semilight&quot;, Font.BOLD, 12));\r\n        // Add the JButton (`submit`) to the Main Panel (`mainPanel`). \r\n        mainPanel.add(submit);\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/noCnD.gif","title":"Java Gui cannot scroll through scrollPane","body":"<p>See the below runnable code to see one way this can be done using a <strong>JDialog</strong> for a window and Layout managers. Be sure to read the comments in code. You should be able to adapt the concept to your specific application:</p>\n<p><a href=\"https://i.stack.imgur.com/noCnD.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/noCnD.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.util.ArrayList;\nimport javax.swing.JButton;\nimport javax.swing.JCheckBox;\nimport javax.swing.JComboBox;\nimport javax.swing.JDialog;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\n\npublic class SportBookingsDemo {\n\n    //Class member variables:\n    private JDialog dia;            // JDialog object (class global):\n    private JCheckBox[] chks;       // JCheckBox object Array (class global):\n    private JComboBox sportCombo;   // JDialog object (class global):\n    private JButton submit;         // JButton object (class global):\n\n    // Captions for All JCheckBoxes (class global):\n    String[] sportsBookNames = {&quot;888Bets&quot;, &quot;Bovada&quot;, &quot;BlueBet&quot;, &quot;Coral&quot;, &quot;BoyleSports&quot;,\n        &quot;Circa Sports&quot;, &quot;Betclic&quot;, &quot;Casumo&quot;, &quot;Betfair&quot;, &quot;DraftKings&quot;,\n        &quot;BetMGM&quot;, &quot;FanDuel&quot;, &quot;BetOnline&quot;, &quot;FOX Bet&quot;, &quot;BetRivers&quot;,\n        &quot;GTbets&quot;, &quot;Bet Victor&quot;, &quot;Intertops&quot;, &quot;BetUS&quot;, &quot;Ladbrokes&quot;,\n        &quot;LeoVegas&quot;, &quot;LiveScore&quot;, &quot;LowVig&quot;, &quot;Matchbook&quot;, &quot;MarathonkBet&quot;,\n        &quot;Mr Green&quot;, &quot;MyBookie&quot;, &quot;Neds&quot;, &quot;NordicBet&quot;, &quot;PaddyPower&quot;,\n        &quot;PointsBet(AU)&quot;, &quot;PointsBet(US)&quot;, &quot;Pinnacle&quot;};\n    \n    // ArrayList of String to hold captions for selected checkboxes (class global):\n    private ArrayList&lt;String&gt; bookings = new ArrayList&lt;&gt;();\n   \n    // String Variable to hold the selected Sport (class global):\n    private String sport;\n\n    // Constructor:\n    public SportBookingsDemo() {\n        // Create the Dialog Window:\n        createDialog();\n\n        // `Submit` button ActionPerformed event:\n        submit.addActionListener((ActionEvent e) -&gt; {\n            bookings.clear();\n            sport = &quot;&quot;;\n\n            if (sportCombo.getSelectedItem().equals(&quot;Select a sport&quot;)) {\n                JOptionPane.showMessageDialog(dia, &quot;You must select a specific Sport!&quot;,\n                        &quot;No Sport Selected&quot;, JOptionPane.WARNING_MESSAGE);\n                sportCombo.requestFocus();\n                return;\n            }\n            else {\n                sport = sportCombo.getSelectedItem().toString();\n            }\n            System.out.println(&quot;Selected Bookings:&quot;);\n            for (int i = 0; i &lt; chks.length; i++) {\n                if (chks[i].isSelected()) {\n                    bookings.add(sportsBookNames[i]);\n                }\n            }\n            if (bookings.isEmpty()) {\n                JOptionPane.showMessageDialog(dia, &quot;You must select at least one Sportsbook!&quot;,\n                        &quot;No Sportbook Selected&quot;, JOptionPane.WARNING_MESSAGE);\n                sportCombo.requestFocus();\n                return;\n            }\n\n            // Display dialog results:\n            StringBuilder sb = new StringBuilder(&quot;&quot;);\n            sb.append(&quot;&lt;html&gt;&lt;center&gt;Selected bookings for the Sport of:&lt;br&gt;&lt;br&gt;&quot;);\n            sb.append(&quot;&lt;font size='5', color=blue&gt;&lt;b&gt;&quot;).append(sport).append(&quot;&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;br&gt;&lt;/center&gt;&quot;);\n            for (String bks : bookings) {\n                sb.append(&quot;&lt;font size='4', color=green&gt;✓ &lt;/font&gt;&quot;).append(bks).append(&quot;&lt;br&gt;&quot;);\n            }\n            sb.append(&quot;&lt;br&gt;&lt;/html&gt;&quot;);\n            JOptionPane.showMessageDialog(dia, sb.toString(), &quot;Bookings&quot;,\n                    JOptionPane.INFORMATION_MESSAGE);\n        });\n    }\n\n    // Application entry point...\n    public static void main(String[] args) {\n        // App started this way to avoid the need for statics:\n        new SportBookingsDemo().startApp(args);\n    }\n\n    private void startApp(String[] args) {\n        // Display dialog window:\n        java.awt.EventQueue.invokeLater(() -&gt; {\n            dia.setVisible(true);\n        });\n    }\n\n    // Method to create Dialog:\n    private void createDialog() {\n        dia = new JDialog();                    // Initialize JDialog.\n        dia.setModal(true);                     // Set dialog to Modal.\n        dia.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE); //Dispose dialog when closed.\n        dia.setTitle(&quot;Sports Book Dialog&quot;);     // Set dialog title caption.\n        dia.setAlwaysOnTop(true);               // Dialog will always be on top of other windows.\n        dia.setSize(280, 390);                  // Set dialog size.\n        dia.setResizable(false);                // Make dialog non-sizeable.\n        dia.setLocationRelativeTo(null);        // Open dialog window to center screen.\n        \n        // Decalre and initialize the JDialog's main content panel\n        JPanel mainPanel = new JPanel();\n        // Set Horizontal and Vertical Gaps for mainPanel's default FlowLayout.\n        FlowLayout layout = new FlowLayout(); \n        /* Set Horiz and Vert layout Gaps. The helps ensure the \n           components in dialog are center aligned as a single \n           column.                 */\n        layout.setHgap(140); layout.setVgap(10); \n        mainPanel.setLayout(layout); // Apply Layout.\n        dia.add(mainPanel);          // Add mainPanel to dialog Window\n\n        /* Declare and initialize a JLabel to display \n           the CheckBoxes scrollable list display. */\n        JLabel label_1 = new JLabel(&quot;Sportsbook Selection&quot;);\n        // Set the Font, font style, and font size for the title:\n        label_1.setFont(new Font(&quot;Leelawadee UI Semilight&quot;, Font.BOLD, 14));\n        // Set JLabel text Horizontal Alignment to center.\n        label_1.setHorizontalAlignment(JLabel.CENTER); \n        mainPanel.add(label_1); // Add title to mainPanel.\n\n        /* Declare a JPanel to hold all the checkboxes that\n           will be added to a JScrollPane within the dialog.\n           We also ensure a GridLayout of -1 rows (as many \n           as needed) and 2 columns for the JPanel.     */\n        JPanel chkPanel = new JPanel(new GridLayout(-1, 2));\n\n        /* Initialize the chks[] JCheckBox Array to the required \n           length. This length is actually determined by the number\n           of elements within the sportsBookNames[] array which\n           will hereby be considered a `parallel` array to the chks[]\n           array. Every CheckBox element contained within the chks[] \n           array will contain a Caption text from the sportsBookNames[]\n           array at the same index value.         */\n        chks = new JCheckBox[sportsBookNames.length];\n        \n        /* Iterate through the chks[] array elements and apply \n           JCheckBox objects to them with text captions derived \n           from the sportsBookNames[] array at the current \n           iterated index. Add each chks[] element (JCheckBox)\n           to the `chkPanel` JPanel.        */ \n        for (int i = 0; i &lt; chks.length; i++) {\n            chks[i] = new JCheckBox(sportsBookNames[i]);\n            chks[i].setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 12));\n            chkPanel.add(chks[i]);\n        }\n        // Add the now filled chkPanel to a JScrollPane (`chkScroll`).\n        JScrollPane chkScroll = new JScrollPane(chkPanel);\n        // Set the ScrollPane's Preferred Size we want within te dialog.\n        chkScroll.setPreferredSize(new Dimension(250, 200));\n        // Add the ScrollPane (`chkScroll`) to the Main Panel (`mainPanel`).\n        mainPanel.add(chkScroll);\n\n        /* Declare a JLabel to be a title for a Sport type JComboBox\n           and provide a title:        */\n        JLabel sportLBL = new JLabel(&quot;Sport&quot;);\n        // Set the Font, font style, and font size for the title:\n        sportLBL.setFont(new Font(&quot;Leelawadee UI Semilight&quot;, Font.BOLD, 14));\n        // Add the JLabel (`sportLBL`) to the Main Panel (`mainPanel`).\n        mainPanel.add(sportLBL);\n\n        /* Create a JComboBox (`sportCombo`) and fill it with \n           Sport Types. Sport Type names are contained within\n           the `sports[]` array.        */\n        String[] sports = {&quot;Select A Sport&quot;, &quot;NBA&quot;, &quot;NFL&quot;, &quot;NHL&quot;,\n            &quot;ATL&quot;, &quot;MLB&quot;, &quot;NCAA&quot;, &quot;PGA&quot;, &quot;CKE&quot;};\n        sportCombo = new JComboBox&lt;&gt;(sports);\n        sportCombo.setFont(new Font(&quot;Leelawadee UI Semilight&quot;, Font.PLAIN, 12));\n        // Set the Preferred Size of the JComboBox (`sportCombo`):\n        sportCombo.setPreferredSize(new Dimension(120, 25));\n        // Make sure the ComboBox is non-editable.\n        sportCombo.setEditable(false); \n        // Add the JComboBox (`sportCombo`) to the Main Panel (`mainPanel`).       \n        mainPanel.add(sportCombo);\n\n        /* Initialize the `submit` JButton and apply the \n           text caption of &quot;Submit&quot;.            */\n        submit = new JButton(&quot;Submit&quot;);\n        submit.setFont(new Font(&quot;Leelawadee UI Semilight&quot;, Font.BOLD, 12));\n        // Add the JButton (`submit`) to the Main Panel (`mainPanel`). \n        mainPanel.add(submit);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26596842,"reputation":9,"user_id":20219055,"display_name":"Unidong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676885567,"creation_date":1676689947,"question_id":75490947,"body_markdown":"I am creating a Gui in java and I wanted to have a list of selectable checkboxes in a smaller pane that allows you to scroll through it. I have it set  up but I may have messed up somewhere that it does not allow me to scroll, any help is appreciated. \r\nGUI: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nCode:\t\r\n\r\n    private void initialize() {\r\n\t\tframe = new JFrame();\r\n\t\tframe.setResizable(false);\r\n\t\tframe.getContentPane().setBackground(new Color(255, 255, 255));\r\n\t\tframe.getContentPane().setLayout(null);\r\n\t\tframe.setVisible(true);\r\n\t\tframe.setSize(801, 500);\r\n\r\n\t\tJPanel panel_1 = new JPanel();\r\n\t\tpanel_1.setBorder(null);\r\n\t\tpanel_1.setBackground(new Color(66, 69, 65));\r\n\t\tpanel_1.setBounds(0, 0, 194, 483);\r\n\t\tframe.getContentPane().add(panel_1);\r\n\r\n\t\tString[] sports = { &quot;Select a sport&quot;, &quot;NBA&quot;, &quot;NFL&quot;, &quot;NHL&quot;, &quot;ATL&quot;, &quot;MLB&quot;, &quot;NCAA&quot;, &quot;PGA&quot;, &quot;CKE&quot; }; // list of\r\n\r\n\t\tpanel_1.setLayout(null);\r\n\t\tJButton btnNewButton = new JButton(&quot;Submit&quot;);\r\n\t\tbtnNewButton.setBounds(52, 382, 89, 25);\r\n\t\tpanel_1.add(btnNewButton);\r\n\t\tbtnNewButton.setFont(new Font(&quot;Leelawadee UI Semilight&quot;, Font.BOLD, 12));\r\n\t\t// items\r\n\t\t// contained\r\n\t\t// in drop\r\n\t\t// down\r\n\t\tJComboBox comboBox_1 = new JComboBox(sports);\r\n\t\tcomboBox_1.setBounds(17, 345, 155, 22);\r\n\t\tpanel_1.add(comboBox_1);\r\n\t\tcomboBox_1.setMaximumRowCount(10);\r\n\t\tcomboBox_1.setBackground(new Color(255, 255, 255));\r\n\t\tcomboBox_1.addActionListener(comboBox_1);\r\n\t\tcomboBox_1.addActionListener(comboBox_1);\r\n\t\tcomboBox_1.addActionListener(comboBox_1);\r\n\r\n\t\tJLabel lblSport = new JLabel(&quot;Sport\\r\\n&quot;);\r\n\t\tlblSport.setBounds(0, 321, 188, 18);\r\n\t\tlblSport.setForeground(Color.WHITE);\r\n\t\tpanel_1.add(lblSport);\r\n\t\tlblSport.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlblSport.setFont(new Font(&quot;Leelawadee UI Semilight&quot;, Font.BOLD, 14));\r\n\t\tlblSport.setBackground(SystemColor.activeCaption);\r\n\r\n\t\tJScrollPane scrollPane = new JScrollPane();\r\n\t\tscrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\n\t\tscrollPane.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\r\n\t\tscrollPane.setBounds(0, 0, 188, 291);\r\n\t\tpanel_1.add(scrollPane);\r\n\r\n\t\tJPanel panel_2_1 = new JPanel();\r\n\t\tscrollPane.setViewportView(panel_2_1);\r\n\t\tpanel_2_1.setToolTipText(\r\n\t\t\t\t&quot;This is where you input the URL of a gambling site that will be used in the calculator.&quot;);\r\n\t\tpanel_2_1.setBorder(null);\r\n\t\tpanel_2_1.setBackground(new Color(66, 69, 65));\r\n\t\tpanel_2_1.setLayout(null);\r\n\r\n\t\tJLabel lblNewLabel = new JLabel(&quot;Sportsbook Selection&quot;);\r\n\t\tlblNewLabel.setBounds(0, 0, 0, 0);\r\n\t\tlblNewLabel.setForeground(Color.WHITE);\r\n\t\tpanel_2_1.add(lblNewLabel);\r\n\t\tlblNewLabel.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 16));\r\n\t\tlblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\r\n\t\tlblNewLabel.setLabelFor(frame);\r\n\t\tlblNewLabel.setBackground(SystemColor.activeCaption);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox = new JCheckBox(&quot;888Bets&quot;);\r\n\t\tchckbxNewCheckBox.setBounds(6, 43, 89, 23);\r\n\t\tchckbxNewCheckBox.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_2 = new JCheckBox(&quot;Bovada&quot;);\r\n\t\tchckbxNewCheckBox_2.setBounds(97, 43, 89, 23);\r\n\t\tchckbxNewCheckBox_2.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_2);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_1 = new JCheckBox(&quot;BlueBet&quot;);\r\n\t\tchckbxNewCheckBox_1.setBounds(6, 69, 89, 23);\r\n\t\tchckbxNewCheckBox_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_1);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_3 = new JCheckBox(&quot;Coral&quot;);\r\n\t\tchckbxNewCheckBox_3.setBounds(97, 69, 89, 23);\r\n\t\tchckbxNewCheckBox_3.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_3);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_4 = new JCheckBox(&quot;BoyleSports&quot;);\r\n\t\tchckbxNewCheckBox_4.setBounds(6, 95, 89, 23);\r\n\t\tchckbxNewCheckBox_4.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_4);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_5 = new JCheckBox(&quot;Circa Sports&quot;);\r\n\t\tchckbxNewCheckBox_5.setBounds(97, 95, 89, 23);\r\n\t\tchckbxNewCheckBox_5.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_5);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_6 = new JCheckBox(&quot;Betclic&quot;);\r\n\t\tchckbxNewCheckBox_6.setBounds(6, 121, 89, 23);\r\n\t\tchckbxNewCheckBox_6.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_6);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_2_1 = new JCheckBox(&quot;Casumo&quot;);\r\n\t\tchckbxNewCheckBox_2_1.setBounds(97, 121, 89, 23);\r\n\t\tchckbxNewCheckBox_2_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_2_1);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_1_1 = new JCheckBox(&quot;Betfair&quot;);\r\n\t\tchckbxNewCheckBox_1_1.setBounds(6, 147, 89, 23);\r\n\t\tchckbxNewCheckBox_1_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_1_1);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_3_1 = new JCheckBox(&quot;DraftKings&quot;);\r\n\t\tchckbxNewCheckBox_3_1.setBounds(97, 147, 89, 23);\r\n\t\tchckbxNewCheckBox_3_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_3_1);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_4_1 = new JCheckBox(&quot;BetMGM&quot;);\r\n\t\tchckbxNewCheckBox_4_1.setBounds(6, 173, 89, 23);\r\n\t\tchckbxNewCheckBox_4_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_4_1);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_5_1 = new JCheckBox(&quot;FanDuel&quot;);\r\n\t\tchckbxNewCheckBox_5_1.setBounds(97, 173, 89, 23);\r\n\t\tchckbxNewCheckBox_5_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_5_1);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_7 = new JCheckBox(&quot;BetOnline&quot;);\r\n\t\tchckbxNewCheckBox_7.setBounds(6, 199, 89, 23);\r\n\t\tchckbxNewCheckBox_7.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_7);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_2_2 = new JCheckBox(&quot;FOX Bet&quot;);\r\n\t\tchckbxNewCheckBox_2_2.setBounds(97, 199, 89, 23);\r\n\t\tchckbxNewCheckBox_2_2.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_2_2);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_1_2 = new JCheckBox(&quot;BetRivers&quot;);\r\n\t\tchckbxNewCheckBox_1_2.setBounds(6, 225, 89, 23);\r\n\t\tchckbxNewCheckBox_1_2.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_1_2);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_3_2 = new JCheckBox(&quot;GTbets&quot;);\r\n\t\tchckbxNewCheckBox_3_2.setBounds(97, 225, 89, 23);\r\n\t\tchckbxNewCheckBox_3_2.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_3_2);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_4_2 = new JCheckBox(&quot;Bet Victor&quot;);\r\n\t\tchckbxNewCheckBox_4_2.setBounds(6, 251, 89, 23);\r\n\t\tchckbxNewCheckBox_4_2.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_4_2);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_5_2 = new JCheckBox(&quot;Intertops&quot;);\r\n\t\tchckbxNewCheckBox_5_2.setBounds(97, 251, 89, 23);\r\n\t\tchckbxNewCheckBox_5_2.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_5_2);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_6_1 = new JCheckBox(&quot;BetUS&quot;);\r\n\t\tchckbxNewCheckBox_6_1.setBounds(6, 277, 89, 23);\r\n\t\tchckbxNewCheckBox_6_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_6_1);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_2_1_1 = new JCheckBox(&quot;Ladbrokes&quot;);\r\n\t\tchckbxNewCheckBox_2_1_1.setBounds(97, 277, 89, 23);\r\n\t\tchckbxNewCheckBox_2_1_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_2_1_1);\r\n\r\n\t\tJCheckBox chckbxLeovegas = new JCheckBox(&quot;LeoVegas&quot;);\r\n\t\tchckbxLeovegas.setBounds(6, 304, 89, 23);\r\n\t\tchckbxLeovegas.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxLeovegas);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_2_3 = new JCheckBox(&quot;LiveScore&quot;);\r\n\t\tchckbxNewCheckBox_2_3.setBounds(97, 304, 89, 23);\r\n\t\tchckbxNewCheckBox_2_3.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_2_3);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_1_3 = new JCheckBox(&quot;LowVig&quot;);\r\n\t\tchckbxNewCheckBox_1_3.setBounds(6, 330, 89, 23);\r\n\t\tchckbxNewCheckBox_1_3.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_1_3);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_3_3 = new JCheckBox(&quot;Matchbook&quot;);\r\n\t\tchckbxNewCheckBox_3_3.setBounds(97, 330, 89, 23);\r\n\t\tchckbxNewCheckBox_3_3.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_3_3);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_4_3 = new JCheckBox(&quot;MarathonkBet &quot;);\r\n\t\tchckbxNewCheckBox_4_3.setBounds(6, 356, 89, 23);\r\n\t\tchckbxNewCheckBox_4_3.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_4_3);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_5_3 = new JCheckBox(&quot;Mr Green&quot;);\r\n\t\tchckbxNewCheckBox_5_3.setBounds(97, 356, 89, 23);\r\n\t\tchckbxNewCheckBox_5_3.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_5_3);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_6_2 = new JCheckBox(&quot;MyBookie&quot;);\r\n\t\tchckbxNewCheckBox_6_2.setBounds(6, 382, 89, 23);\r\n\t\tchckbxNewCheckBox_6_2.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_6_2);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_2_1_2 = new JCheckBox(&quot;Neds&quot;);\r\n\t\tchckbxNewCheckBox_2_1_2.setBounds(97, 382, 89, 23);\r\n\t\tchckbxNewCheckBox_2_1_2.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_2_1_2);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_1_1_1 = new JCheckBox(&quot;NordicBet&quot;);\r\n\t\tchckbxNewCheckBox_1_1_1.setBounds(6, 408, 89, 23);\r\n\t\tchckbxNewCheckBox_1_1_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_1_1_1);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_3_1_1 = new JCheckBox(&quot;PaddyPower&quot;);\r\n\t\tchckbxNewCheckBox_3_1_1.setBounds(97, 408, 89, 23);\r\n\t\tchckbxNewCheckBox_3_1_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_3_1_1);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_4_1_1 = new JCheckBox(&quot;PointsBet(AU)&quot;);\r\n\t\tchckbxNewCheckBox_4_1_1.setBounds(6, 434, 89, 23);\r\n\t\tchckbxNewCheckBox_4_1_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_4_1_1);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_5_1_1 = new JCheckBox(&quot;PointsBet(US)&quot;);\r\n\t\tchckbxNewCheckBox_5_1_1.setBounds(97, 434, 89, 23);\r\n\t\tchckbxNewCheckBox_5_1_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_5_1_1);\r\n\r\n\t\tJCheckBox chckbxNewCheckBox_7_1 = new JCheckBox(&quot;Pinnacle&quot;);\r\n\t\tchckbxNewCheckBox_7_1.setBounds(6, 460, 89, 23);\r\n\t\tchckbxNewCheckBox_7_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\r\n\t\tpanel_2_1.add(chckbxNewCheckBox_7_1);\r\n\r\n\r\nI was hoping to make the checkboxes able to be scrolled through.`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7ZBUd.png","title":"Java Gui cannot scroll through scrollPane","body":"<p>I am creating a Gui in java and I wanted to have a list of selectable checkboxes in a smaller pane that allows you to scroll through it. I have it set  up but I may have messed up somewhere that it does not allow me to scroll, any help is appreciated.\nGUI:</p>\n<p><a href=\"https://i.stack.imgur.com/7ZBUd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7ZBUd.png\" alt=\"enter image description here\" /></a></p>\n<p>Code:</p>\n<pre><code>private void initialize() {\n    frame = new JFrame();\n    frame.setResizable(false);\n    frame.getContentPane().setBackground(new Color(255, 255, 255));\n    frame.getContentPane().setLayout(null);\n    frame.setVisible(true);\n    frame.setSize(801, 500);\n\n    JPanel panel_1 = new JPanel();\n    panel_1.setBorder(null);\n    panel_1.setBackground(new Color(66, 69, 65));\n    panel_1.setBounds(0, 0, 194, 483);\n    frame.getContentPane().add(panel_1);\n\n    String[] sports = { &quot;Select a sport&quot;, &quot;NBA&quot;, &quot;NFL&quot;, &quot;NHL&quot;, &quot;ATL&quot;, &quot;MLB&quot;, &quot;NCAA&quot;, &quot;PGA&quot;, &quot;CKE&quot; }; // list of\n\n    panel_1.setLayout(null);\n    JButton btnNewButton = new JButton(&quot;Submit&quot;);\n    btnNewButton.setBounds(52, 382, 89, 25);\n    panel_1.add(btnNewButton);\n    btnNewButton.setFont(new Font(&quot;Leelawadee UI Semilight&quot;, Font.BOLD, 12));\n    // items\n    // contained\n    // in drop\n    // down\n    JComboBox comboBox_1 = new JComboBox(sports);\n    comboBox_1.setBounds(17, 345, 155, 22);\n    panel_1.add(comboBox_1);\n    comboBox_1.setMaximumRowCount(10);\n    comboBox_1.setBackground(new Color(255, 255, 255));\n    comboBox_1.addActionListener(comboBox_1);\n    comboBox_1.addActionListener(comboBox_1);\n    comboBox_1.addActionListener(comboBox_1);\n\n    JLabel lblSport = new JLabel(&quot;Sport\\r\\n&quot;);\n    lblSport.setBounds(0, 321, 188, 18);\n    lblSport.setForeground(Color.WHITE);\n    panel_1.add(lblSport);\n    lblSport.setHorizontalAlignment(SwingConstants.CENTER);\n    lblSport.setFont(new Font(&quot;Leelawadee UI Semilight&quot;, Font.BOLD, 14));\n    lblSport.setBackground(SystemColor.activeCaption);\n\n    JScrollPane scrollPane = new JScrollPane();\n    scrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\n    scrollPane.setHorizontalScrollBarPolicy(ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);\n    scrollPane.setBounds(0, 0, 188, 291);\n    panel_1.add(scrollPane);\n\n    JPanel panel_2_1 = new JPanel();\n    scrollPane.setViewportView(panel_2_1);\n    panel_2_1.setToolTipText(\n            &quot;This is where you input the URL of a gambling site that will be used in the calculator.&quot;);\n    panel_2_1.setBorder(null);\n    panel_2_1.setBackground(new Color(66, 69, 65));\n    panel_2_1.setLayout(null);\n\n    JLabel lblNewLabel = new JLabel(&quot;Sportsbook Selection&quot;);\n    lblNewLabel.setBounds(0, 0, 0, 0);\n    lblNewLabel.setForeground(Color.WHITE);\n    panel_2_1.add(lblNewLabel);\n    lblNewLabel.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 16));\n    lblNewLabel.setHorizontalAlignment(SwingConstants.CENTER);\n    lblNewLabel.setLabelFor(frame);\n    lblNewLabel.setBackground(SystemColor.activeCaption);\n\n    JCheckBox chckbxNewCheckBox = new JCheckBox(&quot;888Bets&quot;);\n    chckbxNewCheckBox.setBounds(6, 43, 89, 23);\n    chckbxNewCheckBox.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox);\n\n    JCheckBox chckbxNewCheckBox_2 = new JCheckBox(&quot;Bovada&quot;);\n    chckbxNewCheckBox_2.setBounds(97, 43, 89, 23);\n    chckbxNewCheckBox_2.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_2);\n\n    JCheckBox chckbxNewCheckBox_1 = new JCheckBox(&quot;BlueBet&quot;);\n    chckbxNewCheckBox_1.setBounds(6, 69, 89, 23);\n    chckbxNewCheckBox_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_1);\n\n    JCheckBox chckbxNewCheckBox_3 = new JCheckBox(&quot;Coral&quot;);\n    chckbxNewCheckBox_3.setBounds(97, 69, 89, 23);\n    chckbxNewCheckBox_3.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_3);\n\n    JCheckBox chckbxNewCheckBox_4 = new JCheckBox(&quot;BoyleSports&quot;);\n    chckbxNewCheckBox_4.setBounds(6, 95, 89, 23);\n    chckbxNewCheckBox_4.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_4);\n\n    JCheckBox chckbxNewCheckBox_5 = new JCheckBox(&quot;Circa Sports&quot;);\n    chckbxNewCheckBox_5.setBounds(97, 95, 89, 23);\n    chckbxNewCheckBox_5.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_5);\n\n    JCheckBox chckbxNewCheckBox_6 = new JCheckBox(&quot;Betclic&quot;);\n    chckbxNewCheckBox_6.setBounds(6, 121, 89, 23);\n    chckbxNewCheckBox_6.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_6);\n\n    JCheckBox chckbxNewCheckBox_2_1 = new JCheckBox(&quot;Casumo&quot;);\n    chckbxNewCheckBox_2_1.setBounds(97, 121, 89, 23);\n    chckbxNewCheckBox_2_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_2_1);\n\n    JCheckBox chckbxNewCheckBox_1_1 = new JCheckBox(&quot;Betfair&quot;);\n    chckbxNewCheckBox_1_1.setBounds(6, 147, 89, 23);\n    chckbxNewCheckBox_1_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_1_1);\n\n    JCheckBox chckbxNewCheckBox_3_1 = new JCheckBox(&quot;DraftKings&quot;);\n    chckbxNewCheckBox_3_1.setBounds(97, 147, 89, 23);\n    chckbxNewCheckBox_3_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_3_1);\n\n    JCheckBox chckbxNewCheckBox_4_1 = new JCheckBox(&quot;BetMGM&quot;);\n    chckbxNewCheckBox_4_1.setBounds(6, 173, 89, 23);\n    chckbxNewCheckBox_4_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_4_1);\n\n    JCheckBox chckbxNewCheckBox_5_1 = new JCheckBox(&quot;FanDuel&quot;);\n    chckbxNewCheckBox_5_1.setBounds(97, 173, 89, 23);\n    chckbxNewCheckBox_5_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_5_1);\n\n    JCheckBox chckbxNewCheckBox_7 = new JCheckBox(&quot;BetOnline&quot;);\n    chckbxNewCheckBox_7.setBounds(6, 199, 89, 23);\n    chckbxNewCheckBox_7.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_7);\n\n    JCheckBox chckbxNewCheckBox_2_2 = new JCheckBox(&quot;FOX Bet&quot;);\n    chckbxNewCheckBox_2_2.setBounds(97, 199, 89, 23);\n    chckbxNewCheckBox_2_2.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_2_2);\n\n    JCheckBox chckbxNewCheckBox_1_2 = new JCheckBox(&quot;BetRivers&quot;);\n    chckbxNewCheckBox_1_2.setBounds(6, 225, 89, 23);\n    chckbxNewCheckBox_1_2.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_1_2);\n\n    JCheckBox chckbxNewCheckBox_3_2 = new JCheckBox(&quot;GTbets&quot;);\n    chckbxNewCheckBox_3_2.setBounds(97, 225, 89, 23);\n    chckbxNewCheckBox_3_2.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_3_2);\n\n    JCheckBox chckbxNewCheckBox_4_2 = new JCheckBox(&quot;Bet Victor&quot;);\n    chckbxNewCheckBox_4_2.setBounds(6, 251, 89, 23);\n    chckbxNewCheckBox_4_2.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_4_2);\n\n    JCheckBox chckbxNewCheckBox_5_2 = new JCheckBox(&quot;Intertops&quot;);\n    chckbxNewCheckBox_5_2.setBounds(97, 251, 89, 23);\n    chckbxNewCheckBox_5_2.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_5_2);\n\n    JCheckBox chckbxNewCheckBox_6_1 = new JCheckBox(&quot;BetUS&quot;);\n    chckbxNewCheckBox_6_1.setBounds(6, 277, 89, 23);\n    chckbxNewCheckBox_6_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_6_1);\n\n    JCheckBox chckbxNewCheckBox_2_1_1 = new JCheckBox(&quot;Ladbrokes&quot;);\n    chckbxNewCheckBox_2_1_1.setBounds(97, 277, 89, 23);\n    chckbxNewCheckBox_2_1_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_2_1_1);\n\n    JCheckBox chckbxLeovegas = new JCheckBox(&quot;LeoVegas&quot;);\n    chckbxLeovegas.setBounds(6, 304, 89, 23);\n    chckbxLeovegas.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxLeovegas);\n\n    JCheckBox chckbxNewCheckBox_2_3 = new JCheckBox(&quot;LiveScore&quot;);\n    chckbxNewCheckBox_2_3.setBounds(97, 304, 89, 23);\n    chckbxNewCheckBox_2_3.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_2_3);\n\n    JCheckBox chckbxNewCheckBox_1_3 = new JCheckBox(&quot;LowVig&quot;);\n    chckbxNewCheckBox_1_3.setBounds(6, 330, 89, 23);\n    chckbxNewCheckBox_1_3.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_1_3);\n\n    JCheckBox chckbxNewCheckBox_3_3 = new JCheckBox(&quot;Matchbook&quot;);\n    chckbxNewCheckBox_3_3.setBounds(97, 330, 89, 23);\n    chckbxNewCheckBox_3_3.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_3_3);\n\n    JCheckBox chckbxNewCheckBox_4_3 = new JCheckBox(&quot;MarathonkBet &quot;);\n    chckbxNewCheckBox_4_3.setBounds(6, 356, 89, 23);\n    chckbxNewCheckBox_4_3.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_4_3);\n\n    JCheckBox chckbxNewCheckBox_5_3 = new JCheckBox(&quot;Mr Green&quot;);\n    chckbxNewCheckBox_5_3.setBounds(97, 356, 89, 23);\n    chckbxNewCheckBox_5_3.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_5_3);\n\n    JCheckBox chckbxNewCheckBox_6_2 = new JCheckBox(&quot;MyBookie&quot;);\n    chckbxNewCheckBox_6_2.setBounds(6, 382, 89, 23);\n    chckbxNewCheckBox_6_2.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_6_2);\n\n    JCheckBox chckbxNewCheckBox_2_1_2 = new JCheckBox(&quot;Neds&quot;);\n    chckbxNewCheckBox_2_1_2.setBounds(97, 382, 89, 23);\n    chckbxNewCheckBox_2_1_2.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_2_1_2);\n\n    JCheckBox chckbxNewCheckBox_1_1_1 = new JCheckBox(&quot;NordicBet&quot;);\n    chckbxNewCheckBox_1_1_1.setBounds(6, 408, 89, 23);\n    chckbxNewCheckBox_1_1_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_1_1_1);\n\n    JCheckBox chckbxNewCheckBox_3_1_1 = new JCheckBox(&quot;PaddyPower&quot;);\n    chckbxNewCheckBox_3_1_1.setBounds(97, 408, 89, 23);\n    chckbxNewCheckBox_3_1_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_3_1_1);\n\n    JCheckBox chckbxNewCheckBox_4_1_1 = new JCheckBox(&quot;PointsBet(AU)&quot;);\n    chckbxNewCheckBox_4_1_1.setBounds(6, 434, 89, 23);\n    chckbxNewCheckBox_4_1_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_4_1_1);\n\n    JCheckBox chckbxNewCheckBox_5_1_1 = new JCheckBox(&quot;PointsBet(US)&quot;);\n    chckbxNewCheckBox_5_1_1.setBounds(97, 434, 89, 23);\n    chckbxNewCheckBox_5_1_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_5_1_1);\n\n    JCheckBox chckbxNewCheckBox_7_1 = new JCheckBox(&quot;Pinnacle&quot;);\n    chckbxNewCheckBox_7_1.setBounds(6, 460, 89, 23);\n    chckbxNewCheckBox_7_1.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 11));\n    panel_2_1.add(chckbxNewCheckBox_7_1);\n</code></pre>\n<p>I was hoping to make the checkboxes able to be scrolled through.`</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":16063020,"reputation":99,"user_id":11593401,"display_name":"rene"},"score":0,"creation_date":1676995407,"post_id":75507415,"comment_id":133247400,"body_markdown":"Does a broatcastreseiver also make sense if I want to call a function in another class and wait for a response. In my case I would like to write all BLEDevices in a string array and then pass them to the ListPreference.","body":"Does a broatcastreseiver also make sense if I want to call a function in another class and wait for a response. In my case I would like to write all BLEDevices in a string array and then pass them to the ListPreference."},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1677057680,"post_id":75507415,"comment_id":133260468,"body_markdown":"yes you can create an intent to request the data which will invoke the function when it received. Then in your function when you invoke it you create another intent when it finishes and add the data to the intent itself here is a [link](https://stackoverflow.com/questions/8610880/how-do-i-create-an-android-intent-that-carries-data) on how to add data to an intent. Note that you will have to implement receiver on both classes this way. There might be a cleaner way but this will also work.","body":"yes you can create an intent to request the data which will invoke the function when it received. Then in your function when you invoke it you create another intent when it finishes and add the data to the intent itself here is a <a href=\"https://stackoverflow.com/questions/8610880/how-do-i-create-an-android-intent-that-carries-data\">link</a> on how to add data to an intent. Note that you will have to implement receiver on both classes this way. There might be a cleaner way but this will also work."}],"tags":[],"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676885212,"creation_date":1676885212,"answer_id":75507415,"question_id":75506820,"body_markdown":"You can implement an intent for this. Where you send a broadcast from your OnPreferenceClickListener class and implement a broadcast received in the other class to listen for this intent and invoke the method that you want. Here is an example:\r\n\r\n\r\n    public void onCreatePreferences(Bundle bundle, String s) {\r\n    \r\n        ListPreference preference = findPreference(getString(R.string.settings_ble_choose_device_key));\r\n    \r\n        preference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {\r\n            @Override\r\n            public boolean onPreferenceClick(@NonNull Preference preference) {\r\n    \r\n                            sendBroadcast(new Intent(Constants.ACTION_STOP_MAIN_SERVICE));\r\n    \r\n    \r\n                return true;\r\n            }\r\n        });\r\n    }\r\n\r\nIn your other class:\r\n\r\n    private final BroadcastReceiver broadcastReceiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n    \r\n            String action= intent.getAction();\r\n            if(action.equalsIgnoreCase(ConstantesIdentifiant.ACTION_STOP_MAIN_SERVICE)){\r\n                finishAffinity();\r\n            }\r\n        }\r\n    };\r\n    \r\n    \r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            registerReceiver(broadcastReceiver, new IntentFilter(ConstantesIdentifiant.ACTION_STOP_MAIN_SERVICE));\r\n    }\r\n    \r\n    @Override\r\n    protected void onDestroy() {\r\n        unbindService(mConnection);\r\n        unregisterReceiver(broadcastReceiver);\r\n        super.onDestroy();\r\n    }\r\n\r\n\r\n","title":"Call a Function in a OnPreferenceClickListener","body":"<p>You can implement an intent for this. Where you send a broadcast from your OnPreferenceClickListener class and implement a broadcast received in the other class to listen for this intent and invoke the method that you want. Here is an example:</p>\n<pre><code>public void onCreatePreferences(Bundle bundle, String s) {\n\n    ListPreference preference = findPreference(getString(R.string.settings_ble_choose_device_key));\n\n    preference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {\n        @Override\n        public boolean onPreferenceClick(@NonNull Preference preference) {\n\n                        sendBroadcast(new Intent(Constants.ACTION_STOP_MAIN_SERVICE));\n\n\n            return true;\n        }\n    });\n}\n</code></pre>\n<p>In your other class:</p>\n<pre><code>private final BroadcastReceiver broadcastReceiver = new BroadcastReceiver() {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n\n        String action= intent.getAction();\n        if(action.equalsIgnoreCase(ConstantesIdentifiant.ACTION_STOP_MAIN_SERVICE)){\n            finishAffinity();\n        }\n    }\n};\n\n\n@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        registerReceiver(broadcastReceiver, new IntentFilter(ConstantesIdentifiant.ACTION_STOP_MAIN_SERVICE));\n}\n\n@Override\nprotected void onDestroy() {\n    unbindService(mConnection);\n    unregisterReceiver(broadcastReceiver);\n    super.onDestroy();\n}\n</code></pre>\n"}],"owner":{"account_id":16063020,"reputation":99,"user_id":11593401,"display_name":"rene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676885212,"creation_date":1676881422,"question_id":75506820,"body_markdown":"I am trying to call a function in a `OnPreferenceClickListener` which is defined in a another class. Since I have not managed to initialisation an interface in `OnPreferenceClickListener`. I have given an example code below:\r\n\r\n    public void onCreatePreferences(Bundle bundle, String s) {\r\n    \r\n        ListPreference preference = findPreference(getString(R.string.settings_ble_choose_device_key));\r\n    \r\n        preference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {\r\n            @Override\r\n            public boolean onPreferenceClick(@NonNull Preference preference) {\r\n    \r\n                callFunctionInMainActivity();\r\n    \r\n                return false;\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nHow i can call a function witch is implement in a another class?\r\n\r\nThank you very much\r\n\r\nRene","title":"Call a Function in a OnPreferenceClickListener","body":"<p>I am trying to call a function in a <code>OnPreferenceClickListener</code> which is defined in a another class. Since I have not managed to initialisation an interface in <code>OnPreferenceClickListener</code>. I have given an example code below:</p>\n<pre><code>public void onCreatePreferences(Bundle bundle, String s) {\n\n    ListPreference preference = findPreference(getString(R.string.settings_ble_choose_device_key));\n\n    preference.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {\n        @Override\n        public boolean onPreferenceClick(@NonNull Preference preference) {\n\n            callFunctionInMainActivity();\n\n            return false;\n        }\n    });\n}\n</code></pre>\n<p>How i can call a function witch is implement in a another class?</p>\n<p>Thank you very much</p>\n<p>Rene</p>\n"},{"tags":["java","android","sharedpreferences"],"answers":[{"comments":[{"owner":{"account_id":1437687,"reputation":5138,"user_id":1382234,"accept_rate":87,"display_name":"Kliver Max"},"score":0,"creation_date":1538078730,"post_id":52507137,"comment_id":92028526,"body_markdown":"This don&#39;t helps. `name` is empty string. Im already mad with it. Couse on my phone `getDefaultSharedPreferences()` works, on friend of mine&#39;s phone this don&#39;t work. On Android Emilator this don&#39;t work.","body":"This don&#39;t helps. <code>name</code> is empty string. Im already mad with it. Couse on my phone <code>getDefaultSharedPreferences()</code> works, on friend of mine&#39;s phone this don&#39;t work. On Android Emilator this don&#39;t work."},{"owner":{"account_id":5442381,"reputation":16756,"user_id":4409113,"accept_rate":88,"display_name":"ʍѳђઽ૯ท"},"score":0,"creation_date":1538079544,"post_id":52507137,"comment_id":92028920,"body_markdown":"I&#39;ve actually explained why it returns null. Also, you didn&#39;t save anything to get by `SharedPreference` instead, you were trying to get a resource string which was returning null.  However, Updated the answer.","body":"I&#39;ve actually explained why it returns null. Also, you didn&#39;t save anything to get by <code>SharedPreference</code> instead, you were trying to get a resource string which was returning null.  However, Updated the answer."}],"tags":[],"owner":{"account_id":5442381,"reputation":16756,"user_id":4409113,"accept_rate":88,"display_name":"ʍѳђઽ૯ท"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1538079430,"creation_date":1537912187,"answer_id":52507137,"question_id":52507112,"body_markdown":"**Update:** Use this then:\r\n\r\n    SharedPreferences yourOutputdata =\r\n    context.getSharedPreferences(&quot;YourKEY&quot;, MODE_PRIVATE); // Save as YourKEY in the Activity which you&#39;re passing data to this one ...\r\n\r\n\r\n\r\n----------\r\n\r\n\r\nBecause of this: \r\n\r\n    String key = this.getString(R.string.pr_rest_service_url);\r\n\r\nYou are actually getting string from resource file and saving it to preference which I believe this causes the null.\r\n\r\n**Try this:**\r\n\r\nTo save:\r\n\r\n    SharedPreferences sp = PreferenceManager.getDefaultSharedPreferences(this);\r\n    SharedPreferences.Editor editor = sp.edit();\r\n    editor.putString(&quot;key&quot;,&quot;your text-data here&quot;);\r\n    editor.apply();\r\n\r\n\r\nAnd to get:\r\n\r\n\r\n    SharedPreferences sp = PreferenceManager.getDefaultSharedPreferences(this);\r\n    String name = sp.getString(&quot;key&quot;, &quot;&quot;);\r\n\r\n\r\n\r\n\r\n","title":"How to get Preferences in Android?","body":"<p><strong>Update:</strong> Use this then:</p>\n\n<pre><code>SharedPreferences yourOutputdata =\ncontext.getSharedPreferences(\"YourKEY\", MODE_PRIVATE); // Save as YourKEY in the Activity which you're passing data to this one ...\n</code></pre>\n\n<hr>\n\n<p>Because of this: </p>\n\n<pre><code>String key = this.getString(R.string.pr_rest_service_url);\n</code></pre>\n\n<p>You are actually getting string from resource file and saving it to preference which I believe this causes the null.</p>\n\n<p><strong>Try this:</strong></p>\n\n<p>To save:</p>\n\n<pre><code>SharedPreferences sp = PreferenceManager.getDefaultSharedPreferences(this);\nSharedPreferences.Editor editor = sp.edit();\neditor.putString(\"key\",\"your text-data here\");\neditor.apply();\n</code></pre>\n\n<p>And to get:</p>\n\n<pre><code>SharedPreferences sp = PreferenceManager.getDefaultSharedPreferences(this);\nString name = sp.getString(\"key\", \"\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27028764,"reputation":561,"user_id":20585541,"display_name":"Ben the Coder"},"score":0,"creation_date":1683822476,"post_id":75507348,"comment_id":134428936,"body_markdown":"This answer is clearer than the other one by ʍѳђઽ૯ท.  It works and solved my problem perfectly.  The OP was asking how to get saved preferences, not how to save them or anything else.  Don&#39;t understand why I&#39;m the only one upvoting it.","body":"This answer is clearer than the other one by ʍѳђઽ૯ท.  It works and solved my problem perfectly.  The OP was asking how to get saved preferences, not how to save them or anything else.  Don&#39;t understand why I&#39;m the only one upvoting it."}],"tags":[],"owner":{"account_id":21566602,"reputation":11,"user_id":15900260,"display_name":"M. AsadUllah"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676884995,"creation_date":1676884901,"answer_id":75507348,"question_id":52507112,"body_markdown":"&#128681;Get Android Shared Preferences from default shared preferences in java language:-\r\n\r\n    SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(context);\r\n            sharedPreferences.getString(&quot;your_key&quot;, null);\r\n\r\nHope this works...&#128522;","title":"How to get Preferences in Android?","body":"<p>🚩Get Android Shared Preferences from default shared preferences in java language:-</p>\n<pre><code>SharedPreferences sharedPreferences = PreferenceManager.getDefaultSharedPreferences(context);\n        sharedPreferences.getString(&quot;your_key&quot;, null);\n</code></pre>\n<p>Hope this works...😊</p>\n"}],"owner":{"account_id":1437687,"reputation":5138,"user_id":1382234,"accept_rate":87,"display_name":"Kliver Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1448,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52507137,"answer_count":2,"score":2,"last_activity_date":1676884995,"creation_date":1537912020,"question_id":52507112,"body_markdown":"I don&#39;t understand how preferences work.  \r\n\r\nI have a preferences activity and one field on it:\r\n\r\n    &lt;PreferenceScreen xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;EditTextPreference\r\n        android:key = &quot;@string/pr_rest_service_url&quot;\r\n        android:title = &quot;@string/rest_service_url&quot;\r\n        android:summary = &quot;%s&quot;\r\n        android:shouldDisableView=&quot;false&quot;\r\n        android:selectable=&quot;true&quot;\r\n        android:enabled=&quot;true&quot;\r\n        android:defaultValue=&quot;543543543&quot;\r\n        /&gt;\r\n    &lt;/PreferenceScreen&gt;\r\n\r\n\r\nIn preference activity i use this code to edit it:\r\n\r\n    public class SettingsActivity extends PreferenceActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        addPreferencesFromResource(R.xml.preferences);\r\n        String editTextPrefKey = getString(R.string.pr_rest_service_url);\r\n        EditTextPreference restUrlTExtEdit = (EditTextPreference) findPreference(editTextPrefKey);\r\n        restUrlTExtEdit.getEditText().setInputType(InputType.TYPE_CLASS_TEXT);\r\n        restUrlTExtEdit.setSummary(restUrlTExtEdit.getText());\r\n\r\n        restUrlTExtEdit.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {\r\n            @Override\r\n            public boolean onPreferenceChange(Preference preference, Object newValue) {\r\n                preference.setSummary(newValue.toString());\r\n                return true;\r\n            }\r\n        });\r\n\r\n        Preference saveButton = findPreference(getString(R.string.preference_save_button));\r\n        saveButton.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {\r\n            @Override\r\n            public boolean onPreferenceClick(Preference preference) {\r\n                finish();\r\n                return true;\r\n            }\r\n        });\r\n    }\r\n    }\r\n\r\n\r\nAnd its works. Works nice.  \r\nNow i want to get preferense from another parts of application. I put this code in MainActivity:\r\n\r\n    String key = this.getString(R.string.pr_rest_service_url);\r\n    SharedPreferences mSharedPreferences = getSharedPreferences(key, Context.MODE_PRIVATE);\r\n    String g = mSharedPreferences.getString(key, null);\r\n\r\n\r\nAnd got `null`.\r\nSo how gonna work with preferences?  \r\nOr i made mistake on ths start and should not use `PreferenceActivity` as settings screen? Or preferenses binded to activity?\r\nSo how can i get \r\n\r\n\r\n*UPDATE*\r\n\r\nI tried\r\n\r\n    SharedPreferences sp = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());\r\n    String name = sp.getString(&quot;myKey&quot;, &quot;&quot;);\r\n\r\nBut got empty string.","title":"How to get Preferences in Android?","body":"<p>I don't understand how preferences work.  </p>\n\n<p>I have a preferences activity and one field on it:</p>\n\n<pre><code>&lt;PreferenceScreen xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;EditTextPreference\n    android:key = \"@string/pr_rest_service_url\"\n    android:title = \"@string/rest_service_url\"\n    android:summary = \"%s\"\n    android:shouldDisableView=\"false\"\n    android:selectable=\"true\"\n    android:enabled=\"true\"\n    android:defaultValue=\"543543543\"\n    /&gt;\n&lt;/PreferenceScreen&gt;\n</code></pre>\n\n<p>In preference activity i use this code to edit it:</p>\n\n<pre><code>public class SettingsActivity extends PreferenceActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    addPreferencesFromResource(R.xml.preferences);\n    String editTextPrefKey = getString(R.string.pr_rest_service_url);\n    EditTextPreference restUrlTExtEdit = (EditTextPreference) findPreference(editTextPrefKey);\n    restUrlTExtEdit.getEditText().setInputType(InputType.TYPE_CLASS_TEXT);\n    restUrlTExtEdit.setSummary(restUrlTExtEdit.getText());\n\n    restUrlTExtEdit.setOnPreferenceChangeListener(new Preference.OnPreferenceChangeListener() {\n        @Override\n        public boolean onPreferenceChange(Preference preference, Object newValue) {\n            preference.setSummary(newValue.toString());\n            return true;\n        }\n    });\n\n    Preference saveButton = findPreference(getString(R.string.preference_save_button));\n    saveButton.setOnPreferenceClickListener(new Preference.OnPreferenceClickListener() {\n        @Override\n        public boolean onPreferenceClick(Preference preference) {\n            finish();\n            return true;\n        }\n    });\n}\n}\n</code></pre>\n\n<p>And its works. Works nice.<br>\nNow i want to get preferense from another parts of application. I put this code in MainActivity:</p>\n\n<pre><code>String key = this.getString(R.string.pr_rest_service_url);\nSharedPreferences mSharedPreferences = getSharedPreferences(key, Context.MODE_PRIVATE);\nString g = mSharedPreferences.getString(key, null);\n</code></pre>\n\n<p>And got <code>null</code>.\nSo how gonna work with preferences?<br>\nOr i made mistake on ths start and should not use <code>PreferenceActivity</code> as settings screen? Or preferenses binded to activity?\nSo how can i get </p>\n\n<p><em>UPDATE</em></p>\n\n<p>I tried</p>\n\n<pre><code>SharedPreferences sp = PreferenceManager.getDefaultSharedPreferences(getApplicationContext());\nString name = sp.getString(\"myKey\", \"\");\n</code></pre>\n\n<p>But got empty string.</p>\n"},{"tags":["java","class","casting"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1676822744,"post_id":75501453,"comment_id":133210434,"body_markdown":"Make `MyRequest` generic.","body":"Make <code>MyRequest</code> generic."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1676879741,"post_id":75501453,"comment_id":133219198,"body_markdown":"A lot of the code examples don&#39;t compile, so it makes it hard to fix the problem. In the future, please ensure that your code examples can be copied and compiled/run. It&#39;s helpful to also state your dependencies (or even better, rewrite the code to eliminate them).","body":"A lot of the code examples don&#39;t compile, so it makes it hard to fix the problem. In the future, please ensure that your code examples can be copied and compiled/run. It&#39;s helpful to also state your dependencies (or even better, rewrite the code to eliminate them)."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676884562,"creation_date":1676884562,"answer_id":75507296,"question_id":75501453,"body_markdown":"You can solve this by making `MyRequest` generic, with a type parameter for the response type:\r\n\r\n```java\r\nimport com.google.gson.Gson;\r\nimport lombok.Setter;\r\nimport org.json.JSONObject;\r\n\r\npublic class MyRequest&lt;R&gt; {\r\n    private int method;\r\n    private String url;\r\n    private Class&lt;R&gt; responseClass;\r\n\r\n    private @Setter JSONObject params;\r\n\r\n    public MyRequest(int method, String url, Class&lt;R&gt; responseClass) {\r\n        this.method = method;\r\n        this.url = url;\r\n        this.responseClass = responseClass;\r\n    }\r\n\r\n    public void executeRequest() {\r\n        new HttpJsonRequest(method, url, params) {\r\n            @Override\r\n            public void handleResponse(JSONObject response) {\r\n                R responseObj = new Gson().fromJson(String.valueOf(response), responseClass);\r\n                onSuccess(responseObj);\r\n            }\r\n        };\r\n    }\r\n\r\n    public void onSuccess(R response) {\r\n    }\r\n}\r\n```\r\n\r\nThen, `ExampleRequest` would specify `MyResponse` as the value of the parameter:\r\n\r\n```java\r\npublic class ExampleRequest extends MyRequest&lt;MyResponse&gt; {\r\n   // ... no other changes\r\n}\r\n```\r\n\r\nThe cast is then no longer required when implementing `onSuccess`:\r\n\r\n```java\r\nnew ExampleRequest(&quot;exampleParamValue&quot;){\r\n    @Override\r\n    public void onSuccess(MyResponse response){\r\n        String StatusCode = response.getStatusCode();\r\n    }\r\n};\r\n```","title":"How to get original Class type from Class object using &quot;.class&quot; in java?","body":"<p>You can solve this by making <code>MyRequest</code> generic, with a type parameter for the response type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.gson.Gson;\nimport lombok.Setter;\nimport org.json.JSONObject;\n\npublic class MyRequest&lt;R&gt; {\n    private int method;\n    private String url;\n    private Class&lt;R&gt; responseClass;\n\n    private @Setter JSONObject params;\n\n    public MyRequest(int method, String url, Class&lt;R&gt; responseClass) {\n        this.method = method;\n        this.url = url;\n        this.responseClass = responseClass;\n    }\n\n    public void executeRequest() {\n        new HttpJsonRequest(method, url, params) {\n            @Override\n            public void handleResponse(JSONObject response) {\n                R responseObj = new Gson().fromJson(String.valueOf(response), responseClass);\n                onSuccess(responseObj);\n            }\n        };\n    }\n\n    public void onSuccess(R response) {\n    }\n}\n</code></pre>\n<p>Then, <code>ExampleRequest</code> would specify <code>MyResponse</code> as the value of the parameter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExampleRequest extends MyRequest&lt;MyResponse&gt; {\n   // ... no other changes\n}\n</code></pre>\n<p>The cast is then no longer required when implementing <code>onSuccess</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ExampleRequest(&quot;exampleParamValue&quot;){\n    @Override\n    public void onSuccess(MyResponse response){\n        String StatusCode = response.getStatusCode();\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":8460842,"reputation":554,"user_id":6346653,"display_name":"nick_j_white"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75507296,"answer_count":1,"score":-1,"last_activity_date":1676884562,"creation_date":1676822529,"question_id":75501453,"body_markdown":"As part of an abstract generic API function, I include a parameter of type &quot;Class&quot; in the constructor which is used to deserialise a response (in JSON format) into an object of that class type.\r\nEach API call can have a different response class.\r\n\r\nCurrently, my parent class definition is:\r\n\r\n\tpublic MyRequest {\r\n\r\n\t\tprivate int method;\r\n\t\tprivate String url;\r\n\t\tprivate Class responseClass;\r\n\t\t\r\n\t\tprivate @Setter JSONObject params;\r\n\r\n\t\tpublic MyRequest(int method, String url, Class responseClass){\r\n\t\t\tthis.method = method;\r\n\t\t\tthis.url = url;\r\n\t\t\tthis.responseClass = responseClass;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void executeRequest(){\r\n\t\t\tnew HttpJsonRequest(method,url,params) {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void handleResponse(JSONObject response) {\r\n\t\t\t\t\tObject responseObj = new Gson().fromJson(String.valueOf(response), responseClass);\r\n\t\t\t\t\tonSuccess(responseObj);\r\n\t\t\t\t}\r\n\t\t\t\t...\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tpublic void onSuccess(Object response){}\r\n\t\t...\r\n\t}\r\n\t\r\n\r\nAn example API request that extends this:\r\n\r\n\tpublic class ExampleRequest extends MyRequest {\r\n\r\n\t\tpublic ExampleRequest(String exampleParam){\r\n\t\t\tsuper(Request.Method.POST, &quot;/example&quot;, MyResponse.class);\r\n\t\t\tJSONObject params = new JSONObject();\r\n\t\t\tparams.put(&quot;exampleParam&quot;,exampleParam);\r\n\t\t\tsetParams(params);\r\n\t\t\texecuteRequest();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\nwith basic response class:\r\n\r\n\t@AllArgsConstructor\r\n\t@NoArgsConstructor\r\n\tpublic MyResponse {\r\n\t\tprivate @Getter @Setter String StatusCode;\r\n\t}\r\n\r\n\r\nTo use the above API class, I am overriding the onSuccess method which returns the Generic object and casting it back to the responseClass before proceeding, e.g.:\r\n\r\n\tnew ExampleRequest(&quot;exampleParamValue&quot;){\r\n\t\t@Override\r\n\t\tpublic void onSuccess(Object response){\r\n\t\t\tString StatusCode = ((MyResponse) response).getStatusCode(); \r\n\t\t\t...\r\n\t\t}\r\n\t}\r\n\t\r\nIs there a way to amend MyRequest so that instead of responseObj being of class &quot;Object&quot;, it can be of whatever class was passed into the constructor? \r\nI&#39;d like to avoid having to perform the cast from Object to this class in every onSucccess override I use.","title":"How to get original Class type from Class object using &quot;.class&quot; in java?","body":"<p>As part of an abstract generic API function, I include a parameter of type &quot;Class&quot; in the constructor which is used to deserialise a response (in JSON format) into an object of that class type.\nEach API call can have a different response class.</p>\n<p>Currently, my parent class definition is:</p>\n<pre><code>public MyRequest {\n\n    private int method;\n    private String url;\n    private Class responseClass;\n    \n    private @Setter JSONObject params;\n\n    public MyRequest(int method, String url, Class responseClass){\n        this.method = method;\n        this.url = url;\n        this.responseClass = responseClass;\n    }\n    \n    public void executeRequest(){\n        new HttpJsonRequest(method,url,params) {\n            @Override\n            public void handleResponse(JSONObject response) {\n                Object responseObj = new Gson().fromJson(String.valueOf(response), responseClass);\n                onSuccess(responseObj);\n            }\n            ...\n        }\n    }\n    \n    public void onSuccess(Object response){}\n    ...\n}\n</code></pre>\n<p>An example API request that extends this:</p>\n<pre><code>public class ExampleRequest extends MyRequest {\n\n    public ExampleRequest(String exampleParam){\n        super(Request.Method.POST, &quot;/example&quot;, MyResponse.class);\n        JSONObject params = new JSONObject();\n        params.put(&quot;exampleParam&quot;,exampleParam);\n        setParams(params);\n        executeRequest();\n    }\n    \n}\n</code></pre>\n<p>with basic response class:</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\npublic MyResponse {\n    private @Getter @Setter String StatusCode;\n}\n</code></pre>\n<p>To use the above API class, I am overriding the onSuccess method which returns the Generic object and casting it back to the responseClass before proceeding, e.g.:</p>\n<pre><code>new ExampleRequest(&quot;exampleParamValue&quot;){\n    @Override\n    public void onSuccess(Object response){\n        String StatusCode = ((MyResponse) response).getStatusCode(); \n        ...\n    }\n}\n</code></pre>\n<p>Is there a way to amend MyRequest so that instead of responseObj being of class &quot;Object&quot;, it can be of whatever class was passed into the constructor?\nI'd like to avoid having to perform the cast from Object to this class in every onSucccess override I use.</p>\n"},{"tags":["java","java-8","okhttp"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1676848809,"post_id":75504060,"comment_id":133215098,"body_markdown":"That&#39;s because the thread where `onResponse()` is called is not `Device_778445` but `OkHttp http://localhost:8080/...`. If you want a different behavior, use your own logger.","body":"That&#39;s because the thread where <code>onResponse()</code> is called is not <code>Device_778445</code> but <code>OkHttp http:&#47;&#47;localhost:8080&#47;...</code>. If you want a different behavior, use your own logger."},{"owner":{"account_id":4354155,"reputation":3579,"user_id":4298803,"accept_rate":85,"display_name":"Rajkishan Swami"},"score":0,"creation_date":1676849214,"post_id":75504060,"comment_id":133215142,"body_markdown":"@m0skit0 Yes I understand the thread name has changed. But not sure what you mean by my own logger. I am using my own logger, it is configured with the format I want. Or do you mean my own logger configured with okhttp?","body":"@m0skit0 Yes I understand the thread name has changed. But not sure what you mean by my own logger. I am using my own logger, it is configured with the format I want. Or do you mean my own logger configured with okhttp?"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1676883384,"post_id":75504060,"comment_id":133220130,"body_markdown":"If you&#39;re using your own logger then what&#39;s the issue?","body":"If you&#39;re using your own logger then what&#39;s the issue?"}],"answers":[{"comments":[{"owner":{"account_id":4354155,"reputation":3579,"user_id":4298803,"accept_rate":85,"display_name":"Rajkishan Swami"},"score":0,"creation_date":1677106764,"post_id":75507289,"comment_id":133274855,"body_markdown":"Thank you for your reply. I see what you are saying. Do you think it will be better to add a custom name in the logging pattern and replace that with the device name using `MDC.put(&quot;custom name here&quot;, device Id here)`, so it stays constant across the application? And I can just leave the thread name as is.","body":"Thank you for your reply. I see what you are saying. Do you think it will be better to add a custom name in the logging pattern and replace that with the device name using <code>MDC.put(&quot;custom name here&quot;, device Id here)</code>, so it stays constant across the application? And I can just leave the thread name as is."}],"tags":[],"owner":{"account_id":8578289,"reputation":608,"user_id":6426900,"display_name":"Igor"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676884505,"creation_date":1676884505,"answer_id":75507289,"question_id":75504060,"body_markdown":"You have a conceptual misunderstanding.\r\nUsing asynchronous processing means using some other thread(s) to do a job while the thread that is passing the task is not getting blocked.\r\n\r\nSo it&#39;s absolutely fine that the okhttp thread have its own name.\r\nChanging it to something other is also conceptually wrong.\r\n\r\nYour problem is that you are using a thread name as a identifier to detect user&#39;s actions. Thread name is not a place for that.\r\nWhat you may do is to pass additional device id as a parameter, and to remove from the logger pattern thread name if it is not important for you.\r\n\r\n    LOG.info(&quot;{}: Received response: {}&quot;, deviceId, response.body().string());","title":"OkHttp async call replaces thread name in log","body":"<p>You have a conceptual misunderstanding.\nUsing asynchronous processing means using some other thread(s) to do a job while the thread that is passing the task is not getting blocked.</p>\n<p>So it's absolutely fine that the okhttp thread have its own name.\nChanging it to something other is also conceptually wrong.</p>\n<p>Your problem is that you are using a thread name as a identifier to detect user's actions. Thread name is not a place for that.\nWhat you may do is to pass additional device id as a parameter, and to remove from the logger pattern thread name if it is not important for you.</p>\n<pre><code>LOG.info(&quot;{}: Received response: {}&quot;, deviceId, response.body().string());\n</code></pre>\n"}],"owner":{"account_id":4354155,"reputation":3579,"user_id":4298803,"accept_rate":85,"display_name":"Rajkishan Swami"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75507289,"answer_count":1,"score":1,"last_activity_date":1676884505,"creation_date":1676848558,"question_id":75504060,"body_markdown":"I use okhttp client to make async calls and log the request and response...\r\n\r\n    public void sendRequest(String requestJson) {    \r\n        LOG.info(&quot;Sending payload: {}&quot;, requestJson);\r\n        Request httpRequest = buildRequest(requestJson, url);\r\n        okHttpClient.newCall(httpRequest).enqueue(new Callback() {\r\n            @Override\r\n            public void onResponse(Call call, Response response) {\r\n                LOG.info(&quot;Received response: {}&quot;, response.body().string());\r\n                // Do things with response...\r\n            }\r\n        }\r\n    }\r\n\r\nThis works fine. However, I have a problem with my logging. The request log shows up fine where pattern layout `%t` is replaced with the value I need i.e. a device Id in this case. However, because of the async call, that thread name is replaced with `OkHttp http://localhost:8080/...`. It&#39;s like the below;\r\n\r\n    [11:54:29:025] INFO  [Device_778445] TestDeviceClient - Sending payload:...\r\n    [11:54:30:011] INFO  [OkHttp http://localhost:8080/...] TestDeviceClient - Received response: ...\r\n\r\nIs this possible to retain the %t/thread name value in async okhttp requests?\r\n\r\nWhat I am looking for in short:\r\n\r\n    [11:54:29:025] INFO  [Device_778445] TestDeviceClient - Sending payload:...\r\n    [11:54:30:011] INFO  [Device_778445] TestDeviceClient - Received response: ...\r\n\r\n**NOTE:**\r\nI can work around this by getting the deviceId in a method argument and setting it back in onResponse method as the tread name, but I am not sure if this is preferable or if there is a better way...\r\n\r\nWorkaround like this;\r\n\r\n    public void sendRequest(String requestJson, String deviceId) {    \r\n        LOG.info(&quot;Sending payload: {}&quot;, requestJson);\r\n        Request httpRequest = buildRequest(requestJson, url);\r\n        okHttpClient.newCall(httpRequest).enqueue(new Callback() {\r\n            @Override\r\n            public void onResponse(Call call, Response response) {\r\n                Thread.currentThread.setName(deviceId);\r\n                LOG.info(&quot;Received response: {}&quot;, response.body().string());\r\n                // Do things with response...\r\n            }\r\n        }\r\n    }","title":"OkHttp async call replaces thread name in log","body":"<p>I use okhttp client to make async calls and log the request and response...</p>\n<pre><code>public void sendRequest(String requestJson) {    \n    LOG.info(&quot;Sending payload: {}&quot;, requestJson);\n    Request httpRequest = buildRequest(requestJson, url);\n    okHttpClient.newCall(httpRequest).enqueue(new Callback() {\n        @Override\n        public void onResponse(Call call, Response response) {\n            LOG.info(&quot;Received response: {}&quot;, response.body().string());\n            // Do things with response...\n        }\n    }\n}\n</code></pre>\n<p>This works fine. However, I have a problem with my logging. The request log shows up fine where pattern layout <code>%t</code> is replaced with the value I need i.e. a device Id in this case. However, because of the async call, that thread name is replaced with <code>OkHttp http://localhost:8080/...</code>. It's like the below;</p>\n<pre><code>[11:54:29:025] INFO  [Device_778445] TestDeviceClient - Sending payload:...\n[11:54:30:011] INFO  [OkHttp http://localhost:8080/...] TestDeviceClient - Received response: ...\n</code></pre>\n<p>Is this possible to retain the %t/thread name value in async okhttp requests?</p>\n<p>What I am looking for in short:</p>\n<pre><code>[11:54:29:025] INFO  [Device_778445] TestDeviceClient - Sending payload:...\n[11:54:30:011] INFO  [Device_778445] TestDeviceClient - Received response: ...\n</code></pre>\n<p><strong>NOTE:</strong>\nI can work around this by getting the deviceId in a method argument and setting it back in onResponse method as the tread name, but I am not sure if this is preferable or if there is a better way...</p>\n<p>Workaround like this;</p>\n<pre><code>public void sendRequest(String requestJson, String deviceId) {    \n    LOG.info(&quot;Sending payload: {}&quot;, requestJson);\n    Request httpRequest = buildRequest(requestJson, url);\n    okHttpClient.newCall(httpRequest).enqueue(new Callback() {\n        @Override\n        public void onResponse(Call call, Response response) {\n            Thread.currentThread.setName(deviceId);\n            LOG.info(&quot;Received response: {}&quot;, response.body().string());\n            // Do things with response...\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","dead-code"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":7,"creation_date":1676882163,"post_id":75506897,"comment_id":133219817,"body_markdown":"what does your code do after executing the first `return` ?","body":"what does your code do after executing the first <code>return</code> ?"},{"owner":{"account_id":27830710,"reputation":11,"user_id":21249196,"display_name":"Anofex"},"score":0,"creation_date":1676882389,"post_id":75506897,"comment_id":133219874,"body_markdown":"If I do System.out.println(rectangle(2,3,&#39;+&#39;)); in the main method, I get + only.  After the first return, I think it would go to i++, then j++, until the limits are reached.","body":"If I do System.out.println(rectangle(2,3,&#39;+&#39;)); in the main method, I get + only.  After the first return, I think it would go to i++, then j++, until the limits are reached."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":0,"creation_date":1676882560,"post_id":75506897,"comment_id":133219916,"body_markdown":"Look up what the `return` keyword actually does @Anofex. It explains why your code will never do more than one iteration.","body":"Look up what the <code>return</code> keyword actually does @Anofex. It explains why your code will never do more than one iteration."},{"owner":{"account_id":27830710,"reputation":11,"user_id":21249196,"display_name":"Anofex"},"score":0,"creation_date":1676883051,"post_id":75506897,"comment_id":133220043,"body_markdown":"Oh boy I totally forgot that return ends things, thank you so much!","body":"Oh boy I totally forgot that return ends things, thank you so much!"}],"answers":[{"comments":[{"owner":{"account_id":27830710,"reputation":11,"user_id":21249196,"display_name":"Anofex"},"score":0,"creation_date":1676882909,"post_id":75506971,"comment_id":133220015,"body_markdown":"Wow I am an idiot, I can&#39;t believe I didn&#39;t remember &quot;return&quot; terminates things.  I appreciate the answer!","body":"Wow I am an idiot, I can&#39;t believe I didn&#39;t remember &quot;return&quot; terminates things.  I appreciate the answer!"}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676882519,"creation_date":1676882519,"answer_id":75506971,"question_id":75506897,"body_markdown":"The first `return` will terminate the method on the first iteration of the loop. Instead of all those returns, you should append to the string and only return at the end:\r\n\r\n    public static String rectangle(int row, int col, char thing) {\r\n        String result = &quot;&quot;;\r\n        for (int i = 0; i &lt; row; i++) {\r\n            for (int j = 0; j &lt; col; j++) {\r\n                String character = &quot;&quot; + thing;\r\n                result += character;\r\n            }\r\n            result += &quot;\\n&quot;;\r\n        }\r\n        return result\r\n    }\r\n\r\nHaving said that, using a `StringBuilder` would probably be more performant:\r\n\r\n    public static String rectangle(int row, int col, char thing) {\r\n        StringBuilder result = new StringBuilder();\r\n        for (int i = 0; i &lt; row; i++) {\r\n            for (int j = 0; j &lt; col; j++) {\r\n                result.append(thing);\r\n            }\r\n            result.append(&quot;\\n&quot;);\r\n        }\r\n        return result.toString();\r\n    }","title":"Java dead code warning + no rectangle forming?","body":"<p>The first <code>return</code> will terminate the method on the first iteration of the loop. Instead of all those returns, you should append to the string and only return at the end:</p>\n<pre><code>public static String rectangle(int row, int col, char thing) {\n    String result = &quot;&quot;;\n    for (int i = 0; i &lt; row; i++) {\n        for (int j = 0; j &lt; col; j++) {\n            String character = &quot;&quot; + thing;\n            result += character;\n        }\n        result += &quot;\\n&quot;;\n    }\n    return result\n}\n</code></pre>\n<p>Having said that, using a <code>StringBuilder</code> would probably be more performant:</p>\n<pre><code>public static String rectangle(int row, int col, char thing) {\n    StringBuilder result = new StringBuilder();\n    for (int i = 0; i &lt; row; i++) {\n        for (int j = 0; j &lt; col; j++) {\n            result.append(thing);\n        }\n        result.append(&quot;\\n&quot;);\n    }\n    return result.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1676883270,"post_id":75506973,"comment_id":133220103,"body_markdown":"Wouldn&#39;t that line of code execute if `row` is 0 or negative? (Likewise `return &quot;\\n&quot;;` will execute if `row` is positive, but `col` is 0 or negative.)","body":"Wouldn&#39;t that line of code execute if <code>row</code> is 0 or negative? (Likewise <code>return &quot;\\n&quot;;</code> will execute if <code>row</code> is positive, but <code>col</code> is 0 or negative.)"},{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1676883588,"post_id":75506973,"comment_id":133220187,"body_markdown":"That&#39;s true - I wasn&#39;t considering edge cases when I wrote this answer - but the general point still stands.","body":"That&#39;s true - I wasn&#39;t considering edge cases when I wrote this answer - but the general point still stands."}],"tags":[],"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676883614,"creation_date":1676882529,"answer_id":75506973,"question_id":75506897,"body_markdown":"The lines\r\n\r\n```java\r\n}\r\n        return &quot;\\n&quot;;\r\n    }\r\n    return &quot;&quot;;\r\n}\r\n```\r\n\r\nwill not normally run because after the first inner loop executes, you are returning the new line character as a string, terminating the function at that point. The compiler spots that, and hence you get the &quot;dead code warning&quot;. The answer above (by @Mureinik) explains how to fix that.","title":"Java dead code warning + no rectangle forming?","body":"<p>The lines</p>\n<pre class=\"lang-java prettyprint-override\"><code>}\n        return &quot;\\n&quot;;\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n<p>will not normally run because after the first inner loop executes, you are returning the new line character as a string, terminating the function at that point. The compiler spots that, and hence you get the &quot;dead code warning&quot;. The answer above (by @Mureinik) explains how to fix that.</p>\n"},{"tags":[],"owner":{"account_id":27799390,"reputation":1,"user_id":21224106,"display_name":"Roshan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676884432,"creation_date":1676884385,"answer_id":75507269,"question_id":75506897,"body_markdown":"The problem here is that as soon as inner for loop will finish for the first time it will return an empty line and last return statement is of no use and will only execute if row is zero and second problem is that you&#39;ve declared the variable inside the loop which is only accessible inside the loop so you&#39;ve to declare it before the loop to return it as an answer, so replace the first return statement with string or stringBuilder or whatever you&#39;re using and declare a inside the method outside the loop.\r\n\r\nSo this is how the code would look:\r\n \r\n\r\n     public static String rectangle(int row, int col, char thing) {\r\n            StringBuilder b = new StringBuilder();// using StringBuilder instead of string as it is faster\r\n            for (int i = 0; i &lt; row; i++) {\r\n                for (int j = 0; j &lt; col; j++) {\r\n                    b.append(&quot;&quot;+thing);\r\n                }\r\n                b.append( &quot;\\n&quot;);\r\n            }\r\n            return b+&quot;&quot;;//converting StringBuilder to string\r\n        }","title":"Java dead code warning + no rectangle forming?","body":"<p>The problem here is that as soon as inner for loop will finish for the first time it will return an empty line and last return statement is of no use and will only execute if row is zero and second problem is that you've declared the variable inside the loop which is only accessible inside the loop so you've to declare it before the loop to return it as an answer, so replace the first return statement with string or stringBuilder or whatever you're using and declare a inside the method outside the loop.</p>\n<p>So this is how the code would look:</p>\n<pre><code> public static String rectangle(int row, int col, char thing) {\n        StringBuilder b = new StringBuilder();// using StringBuilder instead of string as it is faster\n        for (int i = 0; i &lt; row; i++) {\n            for (int j = 0; j &lt; col; j++) {\n                b.append(&quot;&quot;+thing);\n            }\n            b.append( &quot;\\n&quot;);\n        }\n        return b+&quot;&quot;;//converting StringBuilder to string\n    }\n</code></pre>\n"}],"owner":{"account_id":27830710,"reputation":11,"user_id":21249196,"display_name":"Anofex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1676884432,"creation_date":1676881938,"question_id":75506897,"body_markdown":"I am unsure as to why I&#39;m getting a dead code warning for my for loops, and I also don&#39;t know why only 1 of the symbols is printed, rather than the desired rectangle.\r\n\r\n    public static String rectangle(int row, int col, char thing) {\r\n\t\tfor (int i = 0; i &lt; row; i++) {\r\n\t\t\tfor (int j = 0; j &lt; col; j++) {\r\n\t\t\t\tString character = &quot;&quot; + thing;\r\n\t\t\t\treturn character;\r\n\t\t\t}\r\n\t\t\treturn &quot;\\n&quot;;\r\n\t\t}\r\n\t\treturn &quot;&quot;;\r\n\t}\r\n\r\nI tried putting the String character above the for loops, but still the same error.  I cannot use any `System.out.print` in my code either.  I tried `int i = 1; i &lt;= row`, also tried it without the `return &quot;&quot;;` but I get an error for &quot;no string returned.&quot;","title":"Java dead code warning + no rectangle forming?","body":"<p>I am unsure as to why I'm getting a dead code warning for my for loops, and I also don't know why only 1 of the symbols is printed, rather than the desired rectangle.</p>\n<pre><code>public static String rectangle(int row, int col, char thing) {\n    for (int i = 0; i &lt; row; i++) {\n        for (int j = 0; j &lt; col; j++) {\n            String character = &quot;&quot; + thing;\n            return character;\n        }\n        return &quot;\\n&quot;;\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n<p>I tried putting the String character above the for loops, but still the same error.  I cannot use any <code>System.out.print</code> in my code either.  I tried <code>int i = 1; i &lt;= row</code>, also tried it without the <code>return &quot;&quot;;</code> but I get an error for &quot;no string returned.&quot;</p>\n"},{"tags":["java","precision","bigdecimal","decimal-point"],"comments":[{"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":1,"creation_date":1359090149,"post_id":14515640,"comment_id":20237089,"body_markdown":"I think you can find your answer right here: http://stackoverflow.com/a/50543/61624","body":"I think you can find your answer right here: <a href=\"http://stackoverflow.com/a/50543/61624\">stackoverflow.com/a/50543/61624</a>"},{"owner":{"account_id":1482781,"reputation":471,"user_id":1391730,"display_name":"user1391730"},"score":2,"creation_date":1359090354,"post_id":14515640,"comment_id":20237142,"body_markdown":"thanks daniel :)that was too fast reply..\n\nbut i am already using the bigdecimal.round_half_up with setscale(2)\nit works when u have number like 2.12 or 4.2343.\nwhen the value is a whole number like just 2 then i want that to be displayed as 2.00 and this is where i am failing !!","body":"thanks daniel :)that was too fast reply..  but i am already using the bigdecimal.round_half_up with setscale(2) it works when u have number like 2.12 or 4.2343. when the value is a whole number like just 2 then i want that to be displayed as 2.00 and this is where i am failing !!"},{"owner":{"account_id":1272135,"reputation":25812,"user_id":1228170,"display_name":"Bhavesh Patadiya"},"score":0,"creation_date":1359094168,"post_id":14515640,"comment_id":20238100,"body_markdown":"possible duplicate of [How do I format a number in java?](http://stackoverflow.com/questions/50532/how-do-i-format-a-number-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/50532/how-do-i-format-a-number-in-java\">How do I format a number in java?</a>"}],"answers":[{"comments":[{"owner":{"account_id":2585785,"reputation":283,"user_id":2241527,"display_name":"pierus"},"score":3,"creation_date":1450193771,"post_id":14515674,"comment_id":56327900,"body_markdown":"This will print the currency symbol, e.g. $, along with the number, which the OP did not mention he wanted.  But like the thought of using the currency instance here for readability.","body":"This will print the currency symbol, e.g. $, along with the number, which the OP did not mention he wanted.  But like the thought of using the currency instance here for readability."}],"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1359090335,"creation_date":1359090335,"answer_id":14515674,"question_id":14515640,"body_markdown":"You need to use something like `NumberFormat` with appropriate locale to [format][1]\r\n\r\n    NumberFormat.getCurrencyInstance().format(bigDecimal);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/text/NumberFormat.html","title":"How to display a number with always 2 decimal points using BigDecimal?","body":"<p>You need to use something like <code>NumberFormat</code> with appropriate locale to <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/NumberFormat.html\" rel=\"nofollow\">format</a></p>\n\n<pre><code>NumberFormat.getCurrencyInstance().format(bigDecimal);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":996671,"reputation":1765,"user_id":1012435,"accept_rate":54,"display_name":"Xdg"},"score":8,"creation_date":1528812445,"post_id":14515734,"comment_id":88643576,"body_markdown":"This is deprecated since Java 9, use `.setScale(2, RoundingMode.HALF_UP);`","body":"This is deprecated since Java 9, use <code>.setScale(2, RoundingMode.HALF_UP);</code>"},{"owner":{"account_id":8535577,"reputation":330,"user_id":6397543,"display_name":"mvoelcker"},"score":4,"creation_date":1657563381,"post_id":14515734,"comment_id":128835772,"body_markdown":"I think he meant &quot;this DOES NOT change bd&quot;. The second line is not necessary","body":"I think he meant &quot;this DOES NOT change bd&quot;. The second line is not necessary"}],"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":2,"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1626899257,"creation_date":1359090690,"answer_id":14515734,"question_id":14515640,"body_markdown":"BigDecimal is immutable, any operation on it including setScale(2, BigDecimal.ROUND_HALF_UP) produces a new BigDecimal. Correct code should be \r\n\r\n```java\r\nBigDecimal bd = new BigDecimal(1);\r\nbd.setScale(2, BigDecimal.ROUND_HALF_UP); // this does change bd\r\nbd = bd.setScale(2, BigDecimal.ROUND_HALF_UP);\r\nSystem.out.println(bd);\r\n```\r\noutput\r\n\r\n    1.00\r\n\r\nNote - Since Java 9 `BigDecimal.ROUND_HALF_UP` has been deprecated and you should now use `RoundingMode.ROUND_HALF_UP`.","title":"How to display a number with always 2 decimal points using BigDecimal?","body":"<p>BigDecimal is immutable, any operation on it including setScale(2, BigDecimal.ROUND_HALF_UP) produces a new BigDecimal. Correct code should be</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigDecimal bd = new BigDecimal(1);\nbd.setScale(2, BigDecimal.ROUND_HALF_UP); // this does change bd\nbd = bd.setScale(2, BigDecimal.ROUND_HALF_UP);\nSystem.out.println(bd);\n</code></pre>\n<p>output</p>\n<pre><code>1.00\n</code></pre>\n<p>Note - Since Java 9 <code>BigDecimal.ROUND_HALF_UP</code> has been deprecated and you should now use <code>RoundingMode.ROUND_HALF_UP</code>.</p>\n"},{"tags":[],"owner":{"account_id":2281671,"reputation":265,"user_id":2006597,"display_name":"corgrin"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1521445221,"creation_date":1359091224,"answer_id":14515817,"question_id":14515640,"body_markdown":"you can use the round up format \r\n\r\n    BigDecimal bd = new BigDecimal(2.22222);\r\n    System.out.println(bd.setScale(2,BigDecimal.ROUND_UP));\r\n\r\nHope this help you.","title":"How to display a number with always 2 decimal points using BigDecimal?","body":"<p>you can use the round up format </p>\n\n<pre><code>BigDecimal bd = new BigDecimal(2.22222);\nSystem.out.println(bd.setScale(2,BigDecimal.ROUND_UP));\n</code></pre>\n\n<p>Hope this help you.</p>\n"},{"comments":[{"owner":{"account_id":5769951,"reputation":725,"user_id":4553646,"accept_rate":67,"display_name":"Alexander Stepchkov"},"score":2,"creation_date":1566474621,"post_id":14515860,"comment_id":101672746,"body_markdown":"Better to use ```new DecimalFormat(&quot;##0.00&quot;);```, because with ```##.00``` for ```0``` you will get ```.00``` instead of ```0.00```","body":"Better to use <code>new DecimalFormat(&quot;##0.00&quot;);</code>, because with <code>##.00</code> for <code>0</code> you will get <code>.00</code> instead of <code>0.00</code>"}],"tags":[],"owner":{"account_id":2272322,"reputation":232,"user_id":1999395,"display_name":"Ariston Alcantara"},"comment_count":1,"down_vote_count":3,"up_vote_count":17,"is_accepted":false,"score":14,"last_activity_date":1359091504,"creation_date":1359091504,"answer_id":14515860,"question_id":14515640,"body_markdown":"To format numbers in JAVA you can use: \r\n\r\n     System.out.printf(&quot;%1$.2f&quot;, d);\r\n\r\nwhere d is your variable or number\r\n\r\nor\r\n\r\n     DecimalFormat f = new DecimalFormat(&quot;##.00&quot;);  // this will helps you to always keeps in two decimal places\r\n     System.out.println(f.format(d)); ","title":"How to display a number with always 2 decimal points using BigDecimal?","body":"<p>To format numbers in JAVA you can use: </p>\n\n<pre><code> System.out.printf(\"%1$.2f\", d);\n</code></pre>\n\n<p>where d is your variable or number</p>\n\n<p>or</p>\n\n<pre><code> DecimalFormat f = new DecimalFormat(\"##.00\");  // this will helps you to always keeps in two decimal places\n System.out.println(f.format(d)); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":178358,"reputation":25369,"user_id":410289,"accept_rate":0,"display_name":"Jackie"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1382328316,"creation_date":1382328316,"answer_id":19486086,"question_id":14515640,"body_markdown":"BigDecimal.setScale would work.","title":"How to display a number with always 2 decimal points using BigDecimal?","body":"<p>BigDecimal.setScale would work.</p>\n"},{"tags":[],"owner":{"account_id":13709902,"reputation":329,"user_id":9892546,"display_name":"Narasimha A"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580127762,"creation_date":1580127762,"answer_id":59931113,"question_id":14515640,"body_markdown":"The below code may help.\r\n\r\n    protected String getLocalizedBigDecimalValue(BigDecimal input, Locale locale) {\r\n        final NumberFormat numberFormat = NumberFormat.getNumberInstance(locale);\r\n        numberFormat.setGroupingUsed(true);\r\n        numberFormat.setMaximumFractionDigits(2);\r\n        numberFormat.setMinimumFractionDigits(2);\r\n        return numberFormat.format(input);\r\n    }","title":"How to display a number with always 2 decimal points using BigDecimal?","body":"<p>The below code may help.</p>\n\n<pre><code>protected String getLocalizedBigDecimalValue(BigDecimal input, Locale locale) {\n    final NumberFormat numberFormat = NumberFormat.getNumberInstance(locale);\n    numberFormat.setGroupingUsed(true);\n    numberFormat.setMaximumFractionDigits(2);\n    numberFormat.setMinimumFractionDigits(2);\n    return numberFormat.format(input);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11330807,"reputation":479,"user_id":8308399,"display_name":"Brian Brix"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676884333,"creation_date":1676884333,"answer_id":75507258,"question_id":14515640,"body_markdown":"You can use a **custom annotation** in this manner:\r\nThe custom annotation \r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.FIELD)\r\npublic @interface FormatBigDecimal {\r\n    String format() default &quot;0.00&quot;;\r\n}\r\n```\r\nAnd then you can apply the annotation on a field and in the constructor call the implementation method as shown below:\r\n```\r\npublic class TestClass {\r\n   \r\n\r\n    @FormatBigDecimal\r\n    private BigDecimal myDecimal;\r\n    public TestClass(BigDecimal myDecimal) throws ParseException, IllegalAccessException {\r\n        this.myDecimal = myDecimal;\r\n        formatBigDecimalFields();\r\n    }\r\n\r\n    public void setMyDecimal(BigDecimal myDecimal) {\r\n        this.myDecimal = myDecimal;\r\n    }\r\n\r\n    public BigDecimal getMyDecimal() {\r\n        return myDecimal;\r\n    }\r\n/**\r\nIn the above method, we are using reflection to get all the fields declared in the class. Then, we are iterating over all the fields and checking whether the @FormatBigDecimal annotation is present on the field. If it is present, we are making the field accessible and getting its value.\r\n\r\nWe are also getting the format string from the @FormatBigDecimal annotation and using it to create a DecimalFormat object with the desired format. Then, we are formatting the value of the field using the DecimalFormat object and storing the formatted value in a string.\r\n\r\nFinally, we are parsing the formatted value back into a BigDecimal object and setting it as the value of the field.\r\n**/\r\n    public void formatBigDecimalFields() throws IllegalAccessException, ParseException {\r\n        Field[] fields = this.getClass().getDeclaredFields();\r\n        for (Field field : fields) {\r\n            if (field.isAnnotationPresent(FormatBigDecimal.class)) {\r\n                field.setAccessible(true);\r\n                BigDecimal value = (BigDecimal) field.get(this);\r\n                FormatBigDecimal formatAnnotation = field.getAnnotation(FormatBigDecimal.class);\r\n                String formatString = formatAnnotation.format();\r\n                NumberFormat format = NumberFormat.getNumberInstance(Locale.US);\r\n                DecimalFormat decimalFormat = (DecimalFormat) format;\r\n                decimalFormat.applyPattern(formatString);\r\n                String formattedValue = decimalFormat.format(value);\r\n                BigDecimal formattedDecimal = new BigDecimal(formattedValue);\r\n                field.set(this, formattedDecimal);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nTo Use it:\r\n```\r\n TestClass testClass = new TestClass(new BigDecimal(&quot;10000.899&quot;));\r\n        System.out.println(testClass.getMyDecimal());\r\n```\r\nwill give: ```10000.90```\r\n\r\n","title":"How to display a number with always 2 decimal points using BigDecimal?","body":"<p>You can use a <strong>custom annotation</strong> in this manner:\nThe custom annotation</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface FormatBigDecimal {\n    String format() default &quot;0.00&quot;;\n}\n</code></pre>\n<p>And then you can apply the annotation on a field and in the constructor call the implementation method as shown below:</p>\n<pre><code>public class TestClass {\n   \n\n    @FormatBigDecimal\n    private BigDecimal myDecimal;\n    public TestClass(BigDecimal myDecimal) throws ParseException, IllegalAccessException {\n        this.myDecimal = myDecimal;\n        formatBigDecimalFields();\n    }\n\n    public void setMyDecimal(BigDecimal myDecimal) {\n        this.myDecimal = myDecimal;\n    }\n\n    public BigDecimal getMyDecimal() {\n        return myDecimal;\n    }\n/**\nIn the above method, we are using reflection to get all the fields declared in the class. Then, we are iterating over all the fields and checking whether the @FormatBigDecimal annotation is present on the field. If it is present, we are making the field accessible and getting its value.\n\nWe are also getting the format string from the @FormatBigDecimal annotation and using it to create a DecimalFormat object with the desired format. Then, we are formatting the value of the field using the DecimalFormat object and storing the formatted value in a string.\n\nFinally, we are parsing the formatted value back into a BigDecimal object and setting it as the value of the field.\n**/\n    public void formatBigDecimalFields() throws IllegalAccessException, ParseException {\n        Field[] fields = this.getClass().getDeclaredFields();\n        for (Field field : fields) {\n            if (field.isAnnotationPresent(FormatBigDecimal.class)) {\n                field.setAccessible(true);\n                BigDecimal value = (BigDecimal) field.get(this);\n                FormatBigDecimal formatAnnotation = field.getAnnotation(FormatBigDecimal.class);\n                String formatString = formatAnnotation.format();\n                NumberFormat format = NumberFormat.getNumberInstance(Locale.US);\n                DecimalFormat decimalFormat = (DecimalFormat) format;\n                decimalFormat.applyPattern(formatString);\n                String formattedValue = decimalFormat.format(value);\n                BigDecimal formattedDecimal = new BigDecimal(formattedValue);\n                field.set(this, formattedDecimal);\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>To Use it:</p>\n<pre><code> TestClass testClass = new TestClass(new BigDecimal(&quot;10000.899&quot;));\n        System.out.println(testClass.getMyDecimal());\n</code></pre>\n<p>will give: <code>10000.90</code></p>\n"}],"owner":{"account_id":1482781,"reputation":471,"user_id":1391730,"display_name":"user1391730"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116362,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"answer_count":7,"score":47,"last_activity_date":1676884333,"creation_date":1359090079,"question_id":14515640,"body_markdown":"I am using *BigDecimal* to get some price values. Requirement is something like this, what ever the value we fetch from database, the displayed valued should have 2 decimal points.\r\n\r\nEg:\r\n\r\n&gt; fetched value is 1 - should be displayed as 1.00  \r\n&gt; fetched value is 1.7823 - should be displayed as 1.78\r\n\r\nI am using `setScale(2, BigDecimal.ROUND_HALF_UP)` but still some places, if the data from DB is a whole number then the same is being displayed !!\r\n\r\nI mean if the value is 0 from DB its displayed as 0 only. I want that to be displayed as 0.00\r\n\r\nThanks","title":"How to display a number with always 2 decimal points using BigDecimal?","body":"<p>I am using <em>BigDecimal</em> to get some price values. Requirement is something like this, what ever the value we fetch from database, the displayed valued should have 2 decimal points.</p>\n\n<p>Eg:</p>\n\n<blockquote>\n  <p>fetched value is 1 - should be displayed as 1.00<br>\n  fetched value is 1.7823 - should be displayed as 1.78</p>\n</blockquote>\n\n<p>I am using <code>setScale(2, BigDecimal.ROUND_HALF_UP)</code> but still some places, if the data from DB is a whole number then the same is being displayed !!</p>\n\n<p>I mean if the value is 0 from DB its displayed as 0 only. I want that to be displayed as 0.00</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","debugging"],"answers":[{"comments":[{"owner":{"account_id":11115628,"reputation":103,"user_id":8160055,"display_name":"ilyas"},"score":1,"creation_date":1660675639,"post_id":73353963,"comment_id":129587026,"body_markdown":"Thank you for your response but it didn&#39;t work for me.","body":"Thank you for your response but it didn&#39;t work for me."},{"owner":{"account_id":9515485,"reputation":149,"user_id":7072037,"display_name":"Dame Gjurcinoski"},"score":0,"creation_date":1660753629,"post_id":73353963,"comment_id":129608902,"body_markdown":"Go to BIOS to see that virtualization is enabled ...   https://stackoverflow.com/questions/13580491/how-to-enable-support-of-cpu-virtualization-on-macbook-pro","body":"Go to BIOS to see that virtualization is enabled ...   <a href=\"https://stackoverflow.com/questions/13580491/how-to-enable-support-of-cpu-virtualization-on-macbook-pro\" title=\"how to enable support of cpu virtualization on macbook pro\">stackoverflow.com/questions/13580491/&hellip;</a>"},{"owner":{"account_id":5704484,"reputation":549,"user_id":4508504,"display_name":"Abdul Wahid"},"score":0,"creation_date":1661704966,"post_id":73353963,"comment_id":129830198,"body_markdown":"it seems its a bug...https://issuetracker.google.com/issues/243054171?pli=1","body":"it seems its a bug...<a href=\"https://issuetracker.google.com/issues/243054171?pli=1\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/243054171?pli=1</a>"}],"tags":[],"owner":{"account_id":9515485,"reputation":149,"user_id":7072037,"display_name":"Dame Gjurcinoski"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664221352,"creation_date":1660500003,"answer_id":73353963,"question_id":73351771,"body_markdown":"Install newest update to android emulator 31.3.10 . Then restart computer and after showing window with &quot;Attach a Debugger or ESC to Cancel&quot; press ESC button ... Android emulator will start .\r\n[![Attach a debugger or EC to cancel][1]][1]\r\n\r\nSecond, delete all android virtual devices and install them again.\r\n\r\nIt&#39;s a bug and probably will eventually be solved by Google.\r\n\r\n  [1]: https://i.stack.imgur.com/6irqZ.png","title":"How can I fix &quot;Attach a Debugger or ESC to Cancel&quot; error?","body":"<p>Install newest update to android emulator 31.3.10 . Then restart computer and after showing window with &quot;Attach a Debugger or ESC to Cancel&quot; press ESC button ... Android emulator will start .\n<a href=\"https://i.stack.imgur.com/6irqZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6irqZ.png\" alt=\"Attach a debugger or EC to cancel\" /></a></p>\n<p>Second, delete all android virtual devices and install them again.</p>\n<p>It's a bug and probably will eventually be solved by Google.</p>\n"},{"tags":[],"owner":{"account_id":4602018,"reputation":1167,"user_id":3860240,"accept_rate":40,"display_name":"Farrokh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660719327,"creation_date":1660719327,"answer_id":73384041,"question_id":73351771,"body_markdown":"maybe you have 2 different versions of adb.exe  \r\nif you are a windows user, open task manager and find adb.exe in the process list, right-click on it and choose Open File Location, remove that folder or move it to a temporary place,(make sure you killed adb.exe using task manager before moving it).  \r\nthen run the emulator again and see if it works or not.","title":"How can I fix &quot;Attach a Debugger or ESC to Cancel&quot; error?","body":"<p>maybe you have 2 different versions of adb.exe<br />\nif you are a windows user, open task manager and find adb.exe in the process list, right-click on it and choose Open File Location, remove that folder or move it to a temporary place,(make sure you killed adb.exe using task manager before moving it).<br />\nthen run the emulator again and see if it works or not.</p>\n"},{"comments":[{"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"score":0,"creation_date":1671889383,"post_id":73782569,"comment_id":132193025,"body_markdown":"API level 27 on my Windows OS is working fine. API 31-32 was giving error. Thanks!","body":"API level 27 on my Windows OS is working fine. API 31-32 was giving error. Thanks!"}],"tags":[],"owner":{"account_id":24226138,"reputation":71,"user_id":18180593,"display_name":"shams7"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664221096,"creation_date":1663656359,"answer_id":73782569,"question_id":73351771,"body_markdown":"Consider selecting Api level 27 or below, which resolved the same error for me in creating an emulator using Api level 30 or above.","title":"How can I fix &quot;Attach a Debugger or ESC to Cancel&quot; error?","body":"<p>Consider selecting Api level 27 or below, which resolved the same error for me in creating an emulator using Api level 30 or above.</p>\n"},{"tags":[],"owner":{"account_id":26073721,"reputation":11,"user_id":19772935,"display_name":"maliik_hassan_009"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664239227,"creation_date":1663824645,"answer_id":73809736,"question_id":73351771,"body_markdown":"Same problem but my emulator is working fine. Use Android 9.0\r\nand Pixel 3 API 28.\r\nThe dialog box &quot;attach a debugger or esc to cancel&quot; occurs but the emulator works, you need to cancel this dialog box.\r\n\r\n---&gt;&gt; use android 9.0 and pixel 3 api 28 emulator","title":"How can I fix &quot;Attach a Debugger or ESC to Cancel&quot; error?","body":"<p>Same problem but my emulator is working fine. Use Android 9.0\nand Pixel 3 API 28.\nThe dialog box &quot;attach a debugger or esc to cancel&quot; occurs but the emulator works, you need to cancel this dialog box.</p>\n<p>---&gt;&gt; use android 9.0 and pixel 3 api 28 emulator</p>\n"},{"tags":[],"owner":{"account_id":14865549,"reputation":107,"user_id":11879115,"display_name":"Marina Finetti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667315806,"creation_date":1667315806,"answer_id":74278067,"question_id":73351771,"body_markdown":"There might be some underlying error you&#39;re not seeing. I had the same problem and did this:\r\n\r\n 1. Launched emulator as usual\r\n 2. When `Attach a Debugger or ESC to Cancel` appears, I went on *Task manager* - *Details* tab to see the command line that was used for the process `qemu-...`:\r\n[![Task manager - Details][1]][1]\r\n 3. Copied command from *Command line* column\r\n 6. Pasted in command prompt\r\n 4. Forced task `qemu-...` end\r\n 5. Delete any `.lock` file that you find in the virtual device folder\r\n 7. Launched command\r\n 8. Finally saw some actual errors appear\r\n\r\nMy issue was due to some missing dlls\r\n\r\n  [1]: https://i.stack.imgur.com/RvMzO.png","title":"How can I fix &quot;Attach a Debugger or ESC to Cancel&quot; error?","body":"<p>There might be some underlying error you're not seeing. I had the same problem and did this:</p>\n<ol>\n<li>Launched emulator as usual</li>\n<li>When <code>Attach a Debugger or ESC to Cancel</code> appears, I went on <em>Task manager</em> - <em>Details</em> tab to see the command line that was used for the process <code>qemu-...</code>:\n<a href=\"https://i.stack.imgur.com/RvMzO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RvMzO.png\" alt=\"Task manager - Details\" /></a></li>\n<li>Copied command from <em>Command line</em> column</li>\n<li>Pasted in command prompt</li>\n<li>Forced task <code>qemu-...</code> end</li>\n<li>Delete any <code>.lock</code> file that you find in the virtual device folder</li>\n<li>Launched command</li>\n<li>Finally saw some actual errors appear</li>\n</ol>\n<p>My issue was due to some missing dlls</p>\n"},{"tags":[],"owner":{"account_id":27153804,"reputation":9,"user_id":20692908,"display_name":"Ivan Elorm Kunneh"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1670863823,"creation_date":1670863823,"answer_id":74774525,"question_id":73351771,"body_markdown":"Just press the escape key. It solves the problem. I also suffered for 3 months because of this. But now, the baby is working. ","title":"How can I fix &quot;Attach a Debugger or ESC to Cancel&quot; error?","body":"<p>Just press the escape key. It solves the problem. I also suffered for 3 months because of this. But now, the baby is working.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1672691696,"post_id":74985673,"comment_id":132329328,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74985673/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25993260,"reputation":1,"user_id":19705054,"display_name":"shevalye"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672732805,"creation_date":1672682575,"answer_id":74985673,"question_id":73351771,"body_markdown":"I just closed error message and emulator opened fine. Nexus 6 API 22.","title":"How can I fix &quot;Attach a Debugger or ESC to Cancel&quot; error?","body":"<p>I just closed error message and emulator opened fine. Nexus 6 API 22.</p>\n"},{"tags":[],"owner":{"account_id":2257559,"reputation":853,"user_id":3498546,"display_name":"MG Developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673132756,"creation_date":1673132756,"answer_id":75044394,"question_id":73351771,"body_markdown":"It no longer asks me the &quot;Attach debugger or Esc to cancel&quot; window after upgrading to the following.\r\n\r\n 1. AS: Android Studio Dolphin | 2021.3.1 Patch 1\r\n 2. Emulator Version: 31.3.14\r\n\r\nI have also Unchecked the following checkboxes in Android Studio\r\n\r\n 1. &quot;System &gt; Settings/Preferences &gt; Tools &gt; Emulator &gt; Launch in tool Window&quot;\r\n 2. &quot;System &gt; Settings/Preferences &gt; Build Execution Deployment &gt; Debugger &gt; Hotswap &gt; Enable hotswap agent for Groovy code&quot;\r\n\r\nI hope this helps.","title":"How can I fix &quot;Attach a Debugger or ESC to Cancel&quot; error?","body":"<p>It no longer asks me the &quot;Attach debugger or Esc to cancel&quot; window after upgrading to the following.</p>\n<ol>\n<li>AS: Android Studio Dolphin | 2021.3.1 Patch 1</li>\n<li>Emulator Version: 31.3.14</li>\n</ol>\n<p>I have also Unchecked the following checkboxes in Android Studio</p>\n<ol>\n<li>&quot;System &gt; Settings/Preferences &gt; Tools &gt; Emulator &gt; Launch in tool Window&quot;</li>\n<li>&quot;System &gt; Settings/Preferences &gt; Build Execution Deployment &gt; Debugger &gt; Hotswap &gt; Enable hotswap agent for Groovy code&quot;</li>\n</ol>\n<p>I hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":2877,"reputation":1120,"user_id":4080,"display_name":"Wayne Werner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674354677,"creation_date":1674354677,"answer_id":75197856,"question_id":73351771,"body_markdown":"From issue tracker:\r\nhttps://issuetracker.google.com/issues/243054171?pli=1\r\n\r\nSolution in comment 16 worked like a charm:\r\n\r\nri...@zimperium.com&lt;ri...@zimperium.com&gt; #16Nov 8, 2022 01:44PM\r\nLooks like the problem is Google has compiled swiftshader with -DEBUGGER_WAIT_DIALOG. According to sources of swiftshader, a way to disable this dialog is to set environment variable **SWIFTSHADER_DISABLE_DEBUGGER_WAIT_DIALOG** to **1**. An alternative workaround would be to change -gpu mode away from swiftshader.","title":"How can I fix &quot;Attach a Debugger or ESC to Cancel&quot; error?","body":"<p>From issue tracker:\n<a href=\"https://issuetracker.google.com/issues/243054171?pli=1\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/243054171?pli=1</a></p>\n<p>Solution in comment 16 worked like a charm:</p>\n<p>ri...@zimperium.comri...@zimperium.com #16Nov 8, 2022 01:44PM\nLooks like the problem is Google has compiled swiftshader with -DEBUGGER_WAIT_DIALOG. According to sources of swiftshader, a way to disable this dialog is to set environment variable <strong>SWIFTSHADER_DISABLE_DEBUGGER_WAIT_DIALOG</strong> to <strong>1</strong>. An alternative workaround would be to change -gpu mode away from swiftshader.</p>\n"},{"tags":[],"owner":{"account_id":27681869,"reputation":1,"user_id":21130447,"display_name":"Mandar HP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675315529,"creation_date":1675315529,"answer_id":75319003,"question_id":73351771,"body_markdown":"Go to SDK Manager, then go to SDK Platforms &gt; Select appropriate API level(Which you have selected for Emulator) &gt; Press OK.\r\nRestart Emulator , then after emulator boot up ; run your code.\r\nHope it would help you !","title":"How can I fix &quot;Attach a Debugger or ESC to Cancel&quot; error?","body":"<p>Go to SDK Manager, then go to SDK Platforms &gt; Select appropriate API level(Which you have selected for Emulator) &gt; Press OK.\nRestart Emulator , then after emulator boot up ; run your code.\nHope it would help you !</p>\n"}],"owner":{"account_id":11115628,"reputation":103,"user_id":8160055,"display_name":"ilyas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16912,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":10,"score":10,"last_activity_date":1676884056,"creation_date":1660481254,"question_id":73351771,"body_markdown":"I use Android Studio Chipmunk | 2021.2.1 Patch 2. My OS is win 8.1 Pro. Emulator is Pixel XL API 25. I have JDK-18.0.2 Even there is not any connected phone to my computer I get &quot;Attach a Debugger or ESC to Cancel&quot; error. Emulator doesn&#39;t come online. It doesn&#39;t work. I have searched and almost tried every solution on stackoverflow. Still getting the same error.\r\n\r\n**Gradle Settings**\r\n\r\nGradle User Home: C:\\Users\\UserName\\\\.gradle\r\n\r\nUse Gradle From: &#39;gradle-wrapper.properties&#39; file\r\n\r\nGradle JDK: Android Studio Default JDK version 11.0.12\r\n\r\nJAVA_HOME: C:\\Program Files\\Java\\jdk-17.0.2\\bin (also tried C:\\Program Files\\Java\\jdk-18.0.2\\bin)\r\n\r\nWhat should I do?\r\n\r\nThank you for responses.","title":"How can I fix &quot;Attach a Debugger or ESC to Cancel&quot; error?","body":"<p>I use Android Studio Chipmunk | 2021.2.1 Patch 2. My OS is win 8.1 Pro. Emulator is Pixel XL API 25. I have JDK-18.0.2 Even there is not any connected phone to my computer I get &quot;Attach a Debugger or ESC to Cancel&quot; error. Emulator doesn't come online. It doesn't work. I have searched and almost tried every solution on stackoverflow. Still getting the same error.</p>\n<p><strong>Gradle Settings</strong></p>\n<p>Gradle User Home: C:\\Users\\UserName\\.gradle</p>\n<p>Use Gradle From: 'gradle-wrapper.properties' file</p>\n<p>Gradle JDK: Android Studio Default JDK version 11.0.12</p>\n<p>JAVA_HOME: C:\\Program Files\\Java\\jdk-17.0.2\\bin (also tried C:\\Program Files\\Java\\jdk-18.0.2\\bin)</p>\n<p>What should I do?</p>\n<p>Thank you for responses.</p>\n"},{"tags":["java","junit","rhino","gecko","javascript-engine"],"answers":[{"comments":[{"owner":{"account_id":11256060,"reputation":48,"user_id":8255814,"display_name":"Demirhan Ozel"},"score":0,"creation_date":1500989833,"post_id":45295294,"comment_id":77571655,"body_markdown":"Thanks for your response. It&#39;s really cool that I got a response from you. Could you provide a link to where I can open htmlunit issues?","body":"Thanks for your response. It&#39;s really cool that I got a response from you. Could you provide a link to where I can open htmlunit issues?"},{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":0,"creation_date":1500996223,"post_id":45295294,"comment_id":77576865,"body_markdown":"Have added a link to the issue tracker.","body":"Have added a link to the issue tracker."}],"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1676883959,"creation_date":1500963464,"answer_id":45295294,"question_id":45288865,"body_markdown":"Some facts\r\n\r\n * HtmlUnit uses a slightly modified (improved) version of the Rhino engine\r\n * the team behind HtmlUnit is working on an implementation based on (a slightly modified) Nashorn (the js engine from the jdk) but there is still a lot of work to do\r\n * from the experience with the Nashorn task i can tell you that is is not simple to use a different engine but as for any other open source project feel free to provide patches\r\n * HtmlUnit is a java only implementation, it is one of the benefits to have a browser simulation that works on many different platforms eg. you can simulate IE from a linux box\r\n\r\nTo make the long story short:\r\n\r\nIf you have problem with HtmlUnit&#39;s JavaScript support\r\n\r\n * Read this [Submitting JavaScript bugs][1]\r\n * analyze you problem\r\n * open a HtmlUnit issue [here][2], including a simple test case\r\n * [optional] provide a patch\r\n\r\nThe development team behind is small but active. If you provide a simple test case, there is a good chance to get it fixed.\r\n\r\n\r\n  [1]: https://htmlunit.sourceforge.io/submittingJSBugs.html\r\n  [2]: https://htmlunit.sourceforge.io/submittingBugs.html","title":"How to use alternative js/browser engine with htmlunit instead of rhino?","body":"<p>Some facts</p>\n<ul>\n<li>HtmlUnit uses a slightly modified (improved) version of the Rhino engine</li>\n<li>the team behind HtmlUnit is working on an implementation based on (a slightly modified) Nashorn (the js engine from the jdk) but there is still a lot of work to do</li>\n<li>from the experience with the Nashorn task i can tell you that is is not simple to use a different engine but as for any other open source project feel free to provide patches</li>\n<li>HtmlUnit is a java only implementation, it is one of the benefits to have a browser simulation that works on many different platforms eg. you can simulate IE from a linux box</li>\n</ul>\n<p>To make the long story short:</p>\n<p>If you have problem with HtmlUnit's JavaScript support</p>\n<ul>\n<li>Read this <a href=\"https://htmlunit.sourceforge.io/submittingJSBugs.html\" rel=\"nofollow noreferrer\">Submitting JavaScript bugs</a></li>\n<li>analyze you problem</li>\n<li>open a HtmlUnit issue <a href=\"https://htmlunit.sourceforge.io/submittingBugs.html\" rel=\"nofollow noreferrer\">here</a>, including a simple test case</li>\n<li>[optional] provide a patch</li>\n</ul>\n<p>The development team behind is small but active. If you provide a simple test case, there is a good chance to get it fixed.</p>\n"}],"owner":{"account_id":11256060,"reputation":48,"user_id":8255814,"display_name":"Demirhan Ozel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1550,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45295294,"answer_count":1,"score":2,"last_activity_date":1676883959,"creation_date":1500925597,"question_id":45288865,"body_markdown":"Throughout my experiences with using htmlunit, I have slowly come to realize that htmlunit does not interact well with javascript. \r\n\r\nThe rhino js engine which htmlunit uses is most definitely the root cause of these issues, and I was wondering if it was possible to use something like geckodriver instead while still using htmlunit. \r\n\r\nAny help is appreciated. \r\n\r\nThanks. ","title":"How to use alternative js/browser engine with htmlunit instead of rhino?","body":"<p>Throughout my experiences with using htmlunit, I have slowly come to realize that htmlunit does not interact well with javascript. </p>\n\n<p>The rhino js engine which htmlunit uses is most definitely the root cause of these issues, and I was wondering if it was possible to use something like geckodriver instead while still using htmlunit. </p>\n\n<p>Any help is appreciated. </p>\n\n<p>Thanks. </p>\n"},{"tags":["java","date","gmt"],"comments":[{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":2,"creation_date":1299606267,"post_id":5236052,"comment_id":5893254,"body_markdown":"System.currentTimeMillis(), or just new Date(). It&#39;s GMT already.","body":"System.currentTimeMillis(), or just new Date(). It&#39;s GMT already."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1549498403,"post_id":5236052,"comment_id":95927836,"body_markdown":"FYI, the terribly troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the terribly troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"answers":[{"comments":[{"owner":{"account_id":930472,"reputation":4440,"user_id":960436,"accept_rate":56,"display_name":"mayur rahatekar"},"score":1,"creation_date":1350984412,"post_id":5236123,"comment_id":17683263,"body_markdown":"I want the GMT date in Milliseconds any Idea??","body":"I want the GMT date in Milliseconds any Idea??"},{"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"score":3,"creation_date":1351023709,"post_id":5236123,"comment_id":17702074,"body_markdown":"`long millis = System.currentTimeMillis();` will return the number of milliseconds that have elapsed since `1 January 1970, 00:00:00.000 UTC`.  UTC time is what most people really want when they say &quot;GMT time&quot;.  `java.util.Date` has a `getTime()` method which does the same thing for an arbitrary `Date`.  You might need to use a `java.util.Calendar` to construct the `Date` object depending on your needs, if so `Calendar&#39;s` `getTime()` method will return a `Date` which you can then `getTime()` to get the milliseconds offset.","body":"<code>long millis = System.currentTimeMillis();</code> will return the number of milliseconds that have elapsed since <code>1 January 1970, 00:00:00.000 UTC</code>.  UTC time is what most people really want when they say &quot;GMT time&quot;.  <code>java.util.Date</code> has a <code>getTime()</code> method which does the same thing for an arbitrary <code>Date</code>.  You might need to use a <code>java.util.Calendar</code> to construct the <code>Date</code> object depending on your needs, if so <code>Calendar&#39;s</code> <code>getTime()</code> method will return a <code>Date</code> which you can then <code>getTime()</code> to get the milliseconds offset."}],"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"comment_count":2,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1299605699,"creation_date":1299605699,"answer_id":5236123,"question_id":5236052,"body_markdown":"Odds are good you did the right stuff on the back end in getting the date, but there&#39;s nothing to indicate that you didn&#39;t take that GMT time and format it according to your machine&#39;s current locale.\r\n\r\n    final Date currentTime = new Date();\r\n    \r\n    final SimpleDateFormat sdf =\r\n            new SimpleDateFormat(&quot;EEE, MMM d, yyyy hh:mm:ss a z&quot;);\r\n    \r\n    // Give it to me in GMT time.\r\n    sdf.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    System.out.println(&quot;GMT time: &quot; + sdf.format(currentTime));\r\n\r\nThe key is to use your own DateFormat, not the system provided one.  That way you can set the DateFormat&#39;s timezone to what you wish, instead of it being set to the Locale&#39;s timezone.","title":"Get GMT Time in Java","body":"<p>Odds are good you did the right stuff on the back end in getting the date, but there's nothing to indicate that you didn't take that GMT time and format it according to your machine's current locale.</p>\n\n<pre><code>final Date currentTime = new Date();\n\nfinal SimpleDateFormat sdf =\n        new SimpleDateFormat(\"EEE, MMM d, yyyy hh:mm:ss a z\");\n\n// Give it to me in GMT time.\nsdf.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\nSystem.out.println(\"GMT time: \" + sdf.format(currentTime));\n</code></pre>\n\n<p>The key is to use your own DateFormat, not the system provided one.  That way you can set the DateFormat's timezone to what you wish, instead of it being set to the Locale's timezone.</p>\n"},{"comments":[{"owner":{"account_id":274136,"reputation":5721,"user_id":1910558,"accept_rate":76,"display_name":"Srujan Kumar Gulla"},"score":2,"creation_date":1372105136,"post_id":13028191,"comment_id":25059339,"body_markdown":"this answer is incorrect. Tried printing new Date(millis) from long millis =   Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;)).getTimeInMillis(); It still gives current time zone time.","body":"this answer is incorrect. Tried printing new Date(millis) from long millis =   Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;)).getTimeInM&zwnj;&#8203;illis(); It still gives current time zone time."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1372107772,"post_id":13028191,"comment_id":25060660,"body_markdown":"@JavaEnthusiast http://ideone.com/seLqnz it gives the time in GMT here regardless of the timezone.","body":"@JavaEnthusiast <a href=\"http://ideone.com/seLqnz\" rel=\"nofollow noreferrer\">ideone.com/seLqnz</a> it gives the time in GMT here regardless of the timezone."},{"owner":{"account_id":5805631,"reputation":1418,"user_id":4578327,"accept_rate":90,"display_name":"Forseth11"},"score":0,"creation_date":1496808197,"post_id":13028191,"comment_id":75805922,"body_markdown":"All of these give me my local timezone, which is not GMT.","body":"All of these give me my local timezone, which is not GMT."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1496823186,"post_id":13028191,"comment_id":75813040,"body_markdown":"@Forseth11 That is not correct. They are all GMT unless your system clock has been set incorrectly.","body":"@Forseth11 That is not correct. They are all GMT unless your system clock has been set incorrectly."},{"owner":{"account_id":5805631,"reputation":1418,"user_id":4578327,"accept_rate":90,"display_name":"Forseth11"},"score":0,"creation_date":1496890966,"post_id":13028191,"comment_id":75850105,"body_markdown":"@PeterLawrey My bad. I was using a date format put in my local timezone to display the time. Sorry.","body":"@PeterLawrey My bad. I was using a date format put in my local timezone to display the time. Sorry."},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1676652900,"post_id":13028191,"comment_id":133186971,"body_markdown":"For the third example, the &quot;GMT&quot; seems extraneous and confusing. Change it to any other zone and it still results in the millis in GMT.","body":"For the third example, the &quot;GMT&quot; seems extraneous and confusing. Change it to any other zone and it still results in the millis in GMT."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1676883892,"post_id":13028191,"comment_id":133220272,"body_markdown":"@Woodchuck I included it as it was an example I had seen. I have changed the text to make it clearer you should not do this.","body":"@Woodchuck I included it as it was an example I had seen. I have changed the text to make it clearer you should not do this."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":7,"down_vote_count":5,"up_vote_count":8,"is_accepted":false,"score":3,"last_activity_date":1676883922,"creation_date":1350987236,"answer_id":13028191,"question_id":5236052,"body_markdown":"To get the time in millis at GMT all you need is\r\n\r\n    long millis = System.currentTimeMillis();\r\n\r\nWhile the following work, they are inefficient. You can also do\r\n\r\n    long millis = new Date().getTime();\r\n\r\nand\r\n\r\n    long millis = \r\n        Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;)).getTimeInMillis();\r\n","title":"Get GMT Time in Java","body":"<p>To get the time in millis at GMT all you need is</p>\n<pre><code>long millis = System.currentTimeMillis();\n</code></pre>\n<p>While the following work, they are inefficient. You can also do</p>\n<pre><code>long millis = new Date().getTime();\n</code></pre>\n<p>and</p>\n<pre><code>long millis = \n    Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;)).getTimeInMillis();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":210487,"reputation":2028,"user_id":462123,"accept_rate":90,"display_name":"Sankalp"},"score":0,"creation_date":1500036812,"post_id":20261955,"comment_id":77178019,"body_markdown":"I tried a couple of options to achieve this but only your solution works perfectly","body":"I tried a couple of options to achieve this but only your solution works perfectly"},{"owner":{"account_id":1953810,"reputation":1008,"user_id":1757329,"display_name":"humanity"},"score":1,"creation_date":1539706055,"post_id":20261955,"comment_id":92595357,"body_markdown":"One issue with this approach is that it doesn&#39;t change the timezone when the time is serialized.","body":"One issue with this approach is that it doesn&#39;t change the timezone when the time is serialized."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1549498393,"post_id":20261955,"comment_id":95927831,"body_markdown":"FYI, the terribly troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the terribly troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"tags":[],"owner":{"account_id":897319,"reputation":669,"user_id":934297,"display_name":"Harun"},"comment_count":3,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1544092354,"creation_date":1385630171,"answer_id":20261955,"question_id":5236052,"body_markdown":"I wonder why no one does this:\r\n\r\n    Calendar time = Calendar.getInstance();\r\n    time.add(Calendar.MILLISECOND, -time.getTimeZone().getOffset(time.getTimeInMillis()));\r\n    Date date = time.getTime();\r\n\r\n\r\n----------\r\n\r\n\r\nUpdate:\r\nSince Java 8,9,10 and more, there should be better alternatives supported by Java. Thanks for your comment @humanity","title":"Get GMT Time in Java","body":"<p>I wonder why no one does this:</p>\n\n<pre><code>Calendar time = Calendar.getInstance();\ntime.add(Calendar.MILLISECOND, -time.getTimeZone().getOffset(time.getTimeInMillis()));\nDate date = time.getTime();\n</code></pre>\n\n<hr>\n\n<p>Update:\nSince Java 8,9,10 and more, there should be better alternatives supported by Java. Thanks for your comment @humanity</p>\n"},{"tags":[],"owner":{"account_id":2337940,"reputation":1024,"user_id":2049847,"accept_rate":62,"display_name":"Damilola"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1408365693,"creation_date":1408365693,"answer_id":25363573,"question_id":5236052,"body_markdown":"From my experience, the bundled Calendar and Date classes in Java can yield undersired effect.\r\nIf you wouldn&#39;t mind upgrading to Java 8, then consider using `ZonedDateTime`\r\n\r\nlike so:\r\n\r\n    ZonedDateTime currentDate = ZonedDateTime.now( ZoneOffset.UTC );","title":"Get GMT Time in Java","body":"<p>From my experience, the bundled Calendar and Date classes in Java can yield undersired effect.\nIf you wouldn't mind upgrading to Java 8, then consider using <code>ZonedDateTime</code></p>\n\n<p>like so:</p>\n\n<pre><code>ZonedDateTime currentDate = ZonedDateTime.now( ZoneOffset.UTC );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6378612,"reputation":49,"user_id":4948808,"display_name":"Firdous Ahmad"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1452505353,"creation_date":1436526990,"answer_id":31339402,"question_id":5236052,"body_markdown":"After trying a lot of methods, I found out, to get the time in millis at GMT you need to create two separate `SimpleDateFormat` objects, one for formatting in GMT and another one for parsing. \r\n\r\nHere is the code:\r\n  \r\n     SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n     format.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n     Date date = new Date();\r\n     SimpleDateFormat dateParser = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n     Date dateTime= dateParser.parse(format.format(date));\r\n     long gmtMilliSeconds = dateTime.getTime();\r\n\r\nThis works fine. :) \r\n\r\n ","title":"Get GMT Time in Java","body":"<p>After trying a lot of methods, I found out, to get the time in millis at GMT you need to create two separate <code>SimpleDateFormat</code> objects, one for formatting in GMT and another one for parsing. </p>\n\n<p>Here is the code:</p>\n\n<pre><code> SimpleDateFormat format = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n format.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n Date date = new Date();\n SimpleDateFormat dateParser = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n Date dateTime= dateParser.parse(format.format(date));\n long gmtMilliSeconds = dateTime.getTime();\n</code></pre>\n\n<p>This works fine. :) </p>\n"},{"tags":[],"owner":{"account_id":2360496,"reputation":7506,"user_id":2067264,"accept_rate":67,"display_name":"Drunken Daddy"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1478615769,"creation_date":1454651549,"answer_id":35217177,"question_id":5236052,"body_markdown":"This is pretty simple and straight forward.\r\n\r\n    Date date = new Date();\r\n    TimeZone.setDefault(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    Calendar cal = Calendar.getInstance(TimeZone.getDefault());\r\n    date = cal.getTime();\r\n\r\nNow date will contain the current GMT time.","title":"Get GMT Time in Java","body":"<p>This is pretty simple and straight forward.</p>\n\n<pre><code>Date date = new Date();\nTimeZone.setDefault(TimeZone.getTimeZone(\"GMT\"));\nCalendar cal = Calendar.getInstance(TimeZone.getDefault());\ndate = cal.getTime();\n</code></pre>\n\n<p>Now date will contain the current GMT time.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1480466936,"creation_date":1454659070,"answer_id":35218975,"question_id":5236052,"body_markdown":"# tl;dr\r\n\r\n    Instant.now()\r\n\r\n# java.time\r\n\r\nThe [Answer by Damilola](https://stackoverflow.com/a/25363573/642706) is correct in suggesting you use the java.time framework built into Java 8 and later. But that Answer uses the `ZonedDateTime` class which is overkill if you just want UTC rather than any particular time zone. \r\n\r\nThe troublesome old date-time classes are now legacy, supplanted by the java.time classes.\r\n\r\n## `Instant`\r\n\r\nThe [`Instant`](http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) class represents a moment on the timeline in [UTC](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) with a resolution of [nanoseconds](https://en.wikipedia.org/wiki/Nanosecond) (up to nine (9) digits of a decimal fraction). \r\n\r\nSimple code: \r\n\r\n    Instant instant = Instant.now() ;\r\n\r\n&gt;instant.toString(): 2016-11-29T23:18:14.604Z\r\n\r\nYou can think of `Instant` as the building block to which you can add a time zone (`ZoneID`) to get a `ZonedDateTime`. \r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\r\n    ZonedDateTime zdt = instant.atZone( z );\r\n\r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to java.time.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8) and [**SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - The [*ThreeTenABP*](https://github.com/JakeWharton/ThreeTenABP) project adapts ***ThreeTen-Backport*** (mentioned above) for Android specifically.\r\n  - See [*How to use…*](https://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n","title":"Get GMT Time in Java","body":"<h1>tl;dr</h1>\n\n<pre><code>Instant.now()\n</code></pre>\n\n<h1>java.time</h1>\n\n<p>The <a href=\"https://stackoverflow.com/a/25363573/642706\">Answer by Damilola</a> is correct in suggesting you use the java.time framework built into Java 8 and later. But that Answer uses the <code>ZonedDateTime</code> class which is overkill if you just want UTC rather than any particular time zone. </p>\n\n<p>The troublesome old date-time classes are now legacy, supplanted by the java.time classes.</p>\n\n<h2><code>Instant</code></h2>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> class represents a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a> (up to nine (9) digits of a decimal fraction). </p>\n\n<p>Simple code: </p>\n\n<pre><code>Instant instant = Instant.now() ;\n</code></pre>\n\n<blockquote>\n  <p>instant.toString(): 2016-11-29T23:18:14.604Z</p>\n</blockquote>\n\n<p>You can think of <code>Instant</code> as the building block to which you can add a time zone (<code>ZoneID</code>) to get a <code>ZonedDateTime</code>. </p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" );\nZonedDateTime zdt = instant.atZone( z );\n</code></pre>\n\n<hr>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to java.time.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>SE 9</strong></a> and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>The <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em>ThreeTenABP</em></a> project adapts <strong><em>ThreeTen-Backport</em></strong> (mentioned above) for Android specifically.</li>\n<li>See <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1480441259,"post_id":40866971,"comment_id":68959963,"body_markdown":"A `java.util.Date` is already in UTC. This code makes no sense to me.","body":"A <code>java.util.Date</code> is already in UTC. This code makes no sense to me."}],"tags":[],"owner":{"account_id":940357,"reputation":1777,"user_id":968532,"accept_rate":50,"display_name":"Kalpesh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480425603,"creation_date":1480425603,"answer_id":40866971,"question_id":5236052,"body_markdown":"Useful Utils methods as below for manage Time in GMT with DST Savings:\r\n\r\n    public static Date convertToGmt(Date date) {\r\n        TimeZone tz = TimeZone.getDefault();\r\n        Date ret = new Date(date.getTime() - tz.getRawOffset());\r\n\r\n        // if we are now in DST, back off by the delta.  Note that we are checking the GMT date, this is the KEY.\r\n        if (tz.inDaylightTime(ret)) {\r\n            Date dstDate = new Date(ret.getTime() - tz.getDSTSavings());\r\n\r\n            // check to make sure we have not crossed back into standard time\r\n            // this happens when we are on the cusp of DST (7pm the day before the change for PDT)\r\n            if (tz.inDaylightTime(dstDate)) {\r\n                ret = dstDate;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    public static Date convertFromGmt(Date date) {\r\n        TimeZone tz = TimeZone.getDefault();\r\n        Date ret = new Date(date.getTime() + tz.getRawOffset());\r\n\r\n        // if we are now in DST, back off by the delta.  Note that we are checking the GMT date, this is the KEY.\r\n        if (tz.inDaylightTime(ret)) {\r\n            Date dstDate = new Date(ret.getTime() + tz.getDSTSavings());\r\n\r\n            // check to make sure we have not crossed back into standard time\r\n            // this happens when we are on the cusp of DST (7pm the day before the change for PDT)\r\n            if (tz.inDaylightTime(dstDate)) {\r\n                ret = dstDate;\r\n            }\r\n        }\r\n        return ret;\r\n    }","title":"Get GMT Time in Java","body":"<p>Useful Utils methods as below for manage Time in GMT with DST Savings:</p>\n\n<pre><code>public static Date convertToGmt(Date date) {\n    TimeZone tz = TimeZone.getDefault();\n    Date ret = new Date(date.getTime() - tz.getRawOffset());\n\n    // if we are now in DST, back off by the delta.  Note that we are checking the GMT date, this is the KEY.\n    if (tz.inDaylightTime(ret)) {\n        Date dstDate = new Date(ret.getTime() - tz.getDSTSavings());\n\n        // check to make sure we have not crossed back into standard time\n        // this happens when we are on the cusp of DST (7pm the day before the change for PDT)\n        if (tz.inDaylightTime(dstDate)) {\n            ret = dstDate;\n        }\n    }\n    return ret;\n}\n\npublic static Date convertFromGmt(Date date) {\n    TimeZone tz = TimeZone.getDefault();\n    Date ret = new Date(date.getTime() + tz.getRawOffset());\n\n    // if we are now in DST, back off by the delta.  Note that we are checking the GMT date, this is the KEY.\n    if (tz.inDaylightTime(ret)) {\n        Date dstDate = new Date(ret.getTime() + tz.getDSTSavings());\n\n        // check to make sure we have not crossed back into standard time\n        // this happens when we are on the cusp of DST (7pm the day before the change for PDT)\n        if (tz.inDaylightTime(dstDate)) {\n            ret = dstDate;\n        }\n    }\n    return ret;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1855690,"reputation":985,"user_id":1681329,"accept_rate":67,"display_name":"Denis Wang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556726368,"creation_date":1556726368,"answer_id":55939087,"question_id":5236052,"body_markdown":"After java 8, you may want to get the formatted time as below: \r\n\r\n    DateTimeFormatter.ofPattern(&quot;HH:mm:ss.SSS&quot;).format(LocalTime.now(ZoneId.of(&quot;GMT&quot;)));","title":"Get GMT Time in Java","body":"<p>After java 8, you may want to get the formatted time as below: </p>\n\n<pre><code>DateTimeFormatter.ofPattern(\"HH:mm:ss.SSS\").format(LocalTime.now(ZoneId.of(\"GMT\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560772435,"creation_date":1560772435,"answer_id":56630781,"question_id":5236052,"body_markdown":"## You can’t\r\n\r\nFirst, you are asking the impossible. An old-fashioned `Date` object hasn’t got, as in cannot have a time zone or GMT offset.\r\n\r\n&gt; But the date is always is interpreted in my local time zone.\r\n\r\nI suppose that you have printed the `Date` or done something else that implicitly calls it `toString` method. I believe that this is the only time that the `Date` is interpreted in your time zone. More precisely in the current default time zone of your JVM. On the other hand this is unavoidable. `Date.toString()` *does* behave in that way, it picks up the JVM’s time zone setting and uses it for rendering the string to be returned.\r\n\r\n## You can with java.time\r\n\r\nYou shouldn’t use a `Date`, though. That class is poorly designed and fortunately long outdated. Also java.time, the modern Java date and time API that replaces it, has a class or two for dates and times *with* offset from GMT or UTC. I am considering GMT and UTC synonymous for now, strictly speaking they are not.\r\n\r\n\t\tOffsetDateTime now = OffsetDateTime.now(ZoneOffset.UTC);\r\n\t\tSystem.out.println(&quot;Time now in UTC (GMT) is &quot; + now);\r\n\r\nWhen I ran this snippet just now, the output was:\r\n\r\n&gt; Time now in UTC (GMT) is 2019-06-17T11:51:38.246188Z\r\n\r\nThe trailing `Z` of the output means UTC.\r\n\r\n## Links\r\n\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n - [The Difference Between GMT and UTC](https://www.timeanddate.com/time/gmt-utc-time.html) on timeanddate.com.","title":"Get GMT Time in Java","body":"<h2>You can’t</h2>\n\n<p>First, you are asking the impossible. An old-fashioned <code>Date</code> object hasn’t got, as in cannot have a time zone or GMT offset.</p>\n\n<blockquote>\n  <p>But the date is always is interpreted in my local time zone.</p>\n</blockquote>\n\n<p>I suppose that you have printed the <code>Date</code> or done something else that implicitly calls it <code>toString</code> method. I believe that this is the only time that the <code>Date</code> is interpreted in your time zone. More precisely in the current default time zone of your JVM. On the other hand this is unavoidable. <code>Date.toString()</code> <em>does</em> behave in that way, it picks up the JVM’s time zone setting and uses it for rendering the string to be returned.</p>\n\n<h2>You can with java.time</h2>\n\n<p>You shouldn’t use a <code>Date</code>, though. That class is poorly designed and fortunately long outdated. Also java.time, the modern Java date and time API that replaces it, has a class or two for dates and times <em>with</em> offset from GMT or UTC. I am considering GMT and UTC synonymous for now, strictly speaking they are not.</p>\n\n<pre><code>    OffsetDateTime now = OffsetDateTime.now(ZoneOffset.UTC);\n    System.out.println(\"Time now in UTC (GMT) is \" + now);\n</code></pre>\n\n<p>When I ran this snippet just now, the output was:</p>\n\n<blockquote>\n  <p>Time now in UTC (GMT) is 2019-06-17T11:51:38.246188Z</p>\n</blockquote>\n\n<p>The trailing <code>Z</code> of the output means UTC.</p>\n\n<h2>Links</h2>\n\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n<li><a href=\"https://www.timeanddate.com/time/gmt-utc-time.html\" rel=\"nofollow noreferrer\">The Difference Between GMT and UTC</a> on timeanddate.com.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1587488348,"post_id":61347463,"comment_id":108529322,"body_markdown":"Wrong. From a `ZonedDateTime` of `2020-04-22T00:00+08:00[Asia/Shanghai]` I got `Tue Apr 21 08:00:00 GMT 2020`. It’s the same hour of day, but it’s not the same time. Also an old-fashioned `Date` has got neither zone offset nor time zone, so it doesn’t make any sense to say that it is or isn’t in GMT.","body":"Wrong. From a <code>ZonedDateTime</code> of <code>2020-04-22T00:00+08:00[Asia&#47;Shanghai]</code> I got <code>Tue Apr 21 08:00:00 GMT 2020</code>. It’s the same hour of day, but it’s not the same time. Also an old-fashioned <code>Date</code> has got neither zone offset nor time zone, so it doesn’t make any sense to say that it is or isn’t in GMT."},{"owner":{"account_id":346385,"reputation":5794,"user_id":679879,"accept_rate":90,"display_name":"Mustafa"},"score":1,"creation_date":1587521513,"post_id":61347463,"comment_id":108542184,"body_markdown":"While this code may answer the question, it would be better to include some context, explaining how it works and when to use it. Code-only answers are not useful in the long run.","body":"While this code may answer the question, it would be better to include some context, explaining how it works and when to use it. Code-only answers are not useful in the long run."}],"tags":[],"owner":{"account_id":254135,"reputation":3720,"user_id":533317,"display_name":"btpka3"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587622174,"creation_date":1587483720,"answer_id":61347463,"question_id":5236052,"body_markdown":"The following code will get the date minus timezone offset:\r\n\r\n```java\r\nprotected Date toGmt0(ZonedDateTime time) {\r\n    ZonedDateTime gmt0 = time.minusSeconds(time.getOffset().getTotalSeconds());\r\n    return Date.from(gmt0.toInstant());\r\n}\r\n\r\n@Test\r\npublic void test() {\r\n\r\n    ZonedDateTime now = ZonedDateTime.now();\r\n    Date dateAtSystemZone = Date.from(now.toInstant());\r\n    Date dateAtGmt0 = toGmt0(now);\r\n\r\n    SimpleDateFormat sdfWithoutZone = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n    SimpleDateFormat sdfWithZoneGmt0 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;, Locale.ITALIAN);\r\n    sdfWithZoneGmt0.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n\r\n    System.out.println(&quot;&quot;\r\n            + &quot;\\ndateAtSystemZone          = &quot; + dateAtSystemZone\r\n            + &quot;\\ndateAtGmt0                = &quot; + dateAtGmt0\r\n            + &quot;\\ndiffInMillis              = &quot; + (dateAtSystemZone.getTime() - dateAtGmt0.getTime())\r\n            + &quot;\\n&quot;\r\n            + &quot;\\ndateWithSystemZone.format = &quot; + sdfWithoutZone.format(dateAtSystemZone)\r\n            + &quot;\\ndateAtGmt0.format         = &quot; + sdfWithoutZone.format(dateAtGmt0)\r\n            + &quot;\\n&quot;\r\n            + &quot;\\ndateFormatWithGmt0        = &quot; + sdfWithZoneGmt0.format(dateAtSystemZone)\r\n    );\r\n```\r\n\r\noutput :\r\n\r\n```txt\r\ndateAtSystemZone          = Thu Apr 23 14:03:36 CST 2020\r\ndateAtGmt0                = Thu Apr 23 06:03:36 CST 2020\r\ndiffInMillis              = 28800000\r\n\r\ndateWithSystemZone.format = 2020-04-23 14:03:36.140\r\ndateAtGmt0.format         = 2020-04-23 06:03:36.140\r\n\r\ndateFormatWithGmt0        = 2020-04-23 06:03:36.140\r\n```\r\n\r\nMy system is at GMT+8, so diffInMillis = 28800000 = `8 * 60 * 60 * 1000`。","title":"Get GMT Time in Java","body":"<p>The following code will get the date minus timezone offset:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>protected Date toGmt0(ZonedDateTime time) {\n    ZonedDateTime gmt0 = time.minusSeconds(time.getOffset().getTotalSeconds());\n    return Date.from(gmt0.toInstant());\n}\n\n@Test\npublic void test() {\n\n    ZonedDateTime now = ZonedDateTime.now();\n    Date dateAtSystemZone = Date.from(now.toInstant());\n    Date dateAtGmt0 = toGmt0(now);\n\n    SimpleDateFormat sdfWithoutZone = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss.SSS\");\n    SimpleDateFormat sdfWithZoneGmt0 = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss.SSS\", Locale.ITALIAN);\n    sdfWithZoneGmt0.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\n\n    System.out.println(\"\"\n            + \"\\ndateAtSystemZone          = \" + dateAtSystemZone\n            + \"\\ndateAtGmt0                = \" + dateAtGmt0\n            + \"\\ndiffInMillis              = \" + (dateAtSystemZone.getTime() - dateAtGmt0.getTime())\n            + \"\\n\"\n            + \"\\ndateWithSystemZone.format = \" + sdfWithoutZone.format(dateAtSystemZone)\n            + \"\\ndateAtGmt0.format         = \" + sdfWithoutZone.format(dateAtGmt0)\n            + \"\\n\"\n            + \"\\ndateFormatWithGmt0        = \" + sdfWithZoneGmt0.format(dateAtSystemZone)\n    );\n</code></pre>\n\n<p>output :</p>\n\n<pre><code>dateAtSystemZone          = Thu Apr 23 14:03:36 CST 2020\ndateAtGmt0                = Thu Apr 23 06:03:36 CST 2020\ndiffInMillis              = 28800000\n\ndateWithSystemZone.format = 2020-04-23 14:03:36.140\ndateAtGmt0.format         = 2020-04-23 06:03:36.140\n\ndateFormatWithGmt0        = 2020-04-23 06:03:36.140\n</code></pre>\n\n<p>My system is at GMT+8, so diffInMillis = 28800000 = <code>8 * 60 * 60 * 1000</code>。</p>\n"},{"tags":[],"owner":{"account_id":10404394,"reputation":193,"user_id":7706073,"display_name":"Gaurav Kukade"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1630296395,"creation_date":1630296395,"answer_id":68978828,"question_id":5236052,"body_markdown":"You can achieve it using Java 8 `java.time` package \r\n## Get current GMT time in Java:\r\n\r\n```java\r\nZonedDateTime zonedDateTime = ZonedDateTime.now(ZoneOffset.UTC);\r\nSystem.out.println(&quot;Print current time in GMT: &quot;+zonedDateTime); // 2021-08-30T03:58:05.815942377Z\r\n```\r\n\r\n## Convert a java.util.Date to GMT\r\n\r\n```java\r\n// use a formatter\r\nDateTimeFormatter customFormatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy HH:mm:ss O&quot;);\r\n\r\nDate date = new Date(); //; java.util.Date object\r\nInstant instant = date.toInstant();\r\nZonedDateTime zonedDateTime = instant.atZone(ZoneOffset.UTC);\r\nSystem.out.println(&quot;java.util.Date to GMT: &quot;+customFormatter.format(zonedDateTime)); // 08/30/2021 03:58:05 GMT\r\n```\r\n\r\n### Ref\r\n\r\n- [ZonedDateTime](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html)\r\n- [DateTimeFormatter](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html)\r\n- [Instant](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html)\r\n","title":"Get GMT Time in Java","body":"<p>You can achieve it using Java 8 <code>java.time</code> package</p>\n<h2>Get current GMT time in Java:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime zonedDateTime = ZonedDateTime.now(ZoneOffset.UTC);\nSystem.out.println(&quot;Print current time in GMT: &quot;+zonedDateTime); // 2021-08-30T03:58:05.815942377Z\n</code></pre>\n<h2>Convert a java.util.Date to GMT</h2>\n<pre class=\"lang-java prettyprint-override\"><code>// use a formatter\nDateTimeFormatter customFormatter = DateTimeFormatter.ofPattern(&quot;MM/dd/yyyy HH:mm:ss O&quot;);\n\nDate date = new Date(); //; java.util.Date object\nInstant instant = date.toInstant();\nZonedDateTime zonedDateTime = instant.atZone(ZoneOffset.UTC);\nSystem.out.println(&quot;java.util.Date to GMT: &quot;+customFormatter.format(zonedDateTime)); // 08/30/2021 03:58:05 GMT\n</code></pre>\n<h3>Ref</h3>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\">ZonedDateTime</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\">Instant</a></li>\n</ul>\n"}],"owner":{"account_id":709249,"reputation":515,"user_id":610741,"accept_rate":53,"display_name":"narayanan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151319,"favorite_count":0,"down_vote_count":1,"up_vote_count":39,"answer_count":12,"score":38,"last_activity_date":1676883922,"creation_date":1299605301,"question_id":5236052,"body_markdown":"In Java, I want to get the current time in GMT.\r\n\r\nI tried various options like this:\r\n\r\n    Date date = new Date();\r\n    Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    date1 = calendar.getTime();\r\n\r\nBut the date is always is interpreted in my local time zone.\r\n\r\nWhat am I doing wrong and how can I convert a java Date to GMT?","title":"Get GMT Time in Java","body":"<p>In Java, I want to get the current time in GMT.</p>\n\n<p>I tried various options like this:</p>\n\n<pre><code>Date date = new Date();\nCalendar calendar = Calendar.getInstance(TimeZone.getTimeZone(\"GMT\"));\ndate1 = calendar.getTime();\n</code></pre>\n\n<p>But the date is always is interpreted in my local time zone.</p>\n\n<p>What am I doing wrong and how can I convert a java Date to GMT?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","entitymanager"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1676781590,"post_id":75497559,"comment_id":133205125,"body_markdown":"Can you please share application.properties file?","body":"Can you please share application.properties file?"},{"owner":{"account_id":27813148,"reputation":13,"user_id":21235144,"display_name":"Dark Night"},"score":0,"creation_date":1676825386,"post_id":75497559,"comment_id":133210918,"body_markdown":"thats my application.properties @RohitAgarwal","body":"thats my application.properties @RohitAgarwal"}],"answers":[{"comments":[{"owner":{"account_id":27813148,"reputation":13,"user_id":21235144,"display_name":"Dark Night"},"score":0,"creation_date":1676902648,"post_id":75507191,"comment_id":133225518,"body_markdown":"I did this, now im getting anathor error\n\n\n*********\nAPPLICATION FAILED TO START\n*********\n\nDescription:\n\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n\tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n\tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).","body":"I did this, now im getting anathor error   ********* APPLICATION FAILED TO START *********  Description:  Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.  Reason: Failed to determine a suitable driver class   Action:  Consider the following: \tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath. \tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active)."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1676911675,"post_id":75507191,"comment_id":133228280,"body_markdown":"For some reason it is not getting the following from application.properties: spring.datasource.url. This is a separate issue. I have answered the question","body":"For some reason it is not getting the following from application.properties: spring.datasource.url. This is a separate issue. I have answered the question"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1676989619,"post_id":75507191,"comment_id":133245330,"body_markdown":"Can you possibly change the question title to something more general, eg Spring JPA - a bean of type &#39;javax.persistence.EntityManagerFactory&#39; that could not be found?","body":"Can you possibly change the question title to something more general, eg Spring JPA - a bean of type &#39;javax.persistence.EntityManagerFactory&#39; that could not be found?"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676883895,"creation_date":1676883895,"answer_id":75507191,"question_id":75497559,"body_markdown":"You need to remove DataSourceAutoConfiguration.class from exclusions. That is what sets up the EntityManagerFactory.\r\n\r\nSo this:\r\n\r\n    @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\r\n    // Main class definition\r\n\r\nShould be:\r\n\r\n    @SpringBootApplication()\r\n    // Main class definition","title":"Field dao in com.car.services.CarServices required a bean of type &#39;javax.persistence.EntityManagerFactory&#39; that could not be found","body":"<p>You need to remove DataSourceAutoConfiguration.class from exclusions. That is what sets up the EntityManagerFactory.</p>\n<p>So this:</p>\n<pre><code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\n// Main class definition\n</code></pre>\n<p>Should be:</p>\n<pre><code>@SpringBootApplication()\n// Main class definition\n</code></pre>\n"}],"owner":{"account_id":27813148,"reputation":13,"user_id":21235144,"display_name":"Dark Night"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75507191,"answer_count":1,"score":1,"last_activity_date":1676883895,"creation_date":1676772198,"question_id":75497559,"body_markdown":"Im trying to learn spring-boot basic application and unable to solve this error\r\n\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField dao in com.car.services.CarServices required a bean of type &#39;javax.persistence.EntityManagerFactory&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;javax.persistence.EntityManagerFactory&#39; in your configuration.\r\n\r\n\r\n\r\n\r\n\r\n\r\nrepository file\r\n\r\n```\r\n@SuppressWarnings(&quot;unused&quot;)\r\n@Transactional\r\n@Repository\r\npublic class CarDAO implements ICarDAO {\r\n\t\r\n\t@PersistenceContext\r\n\tprivate EntityManager entityManager;\r\n\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t@Override\r\n\tpublic List&lt;Car&gt; getCars() {\r\n\t\t//String hql = &quot;FROM Car &quot;;\r\n\t\tString hql = &quot;FROM Car as a ORDER BY a.id DESC&quot;;\r\n\t\treturn (List&lt;Car&gt;) entityManager.createQuery(hql).getResultList();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Car getCar(int carId) {\r\n\t\treturn entityManager.find(Car.class, carId);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nmy pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.car&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;car&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;car-demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.32&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\nservice file\r\n```\r\n\r\n@Service\r\npublic class CarServices implements ICarServices {\r\n\t\r\n\t@Autowired\r\n\tprivate ICarDAO dao;\r\n\r\n\t@Override\r\n\tpublic List&lt;Car&gt; getCars() {\r\n\t\treturn dao.getCars();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Car getCars(int carId) {\r\n\t\treturn dao.getCar(carId);\r\n\t}\r\n\t\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nController file\r\n```\r\n\r\n@RestController\r\n@RequestMapping(&quot;carservice&quot;)\r\npublic class CarController {\r\n\t\r\n\t\r\n\t@Autowired\r\n\tprivate ICarServices service;\r\n\t\r\n\t@GetMapping(&quot;car&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;Car&gt;&gt; getCars(){\r\n\t\t\r\n\t\tList&lt;Car&gt; cars = service.getCars();\r\n\t\treturn new ResponseEntity&lt;List&lt;Car&gt;&gt;(cars, HttpStatus.OK);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\nmain function\r\n\r\n```\r\n\r\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\r\npublic class CarDemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CarDemoApplication.class, args);\r\n\t\tSystem.out.println(&quot;hello from car&quot;);\r\n\t}\r\n\r\n}\r\n\r\n```\r\napplication.properties\r\n```\r\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\nspring.datasource.url=jdbc:mysql://127.0.0.1:3306/cardb\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\nspring.datasource.tomcat.max-wait=20000\r\nspring.datasource.tomcat.max-active=50\r\nspring.datasource.tomcat.max-idle=20\r\nspring.datasource.tomcat.min-idle=15\r\n\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\r\nspring.jpa.properties.hibernate.id.new_generator_mappings = false\r\nspring.jpa.properties.hibernate.format_sql = true\r\n\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n```\r\n\r\n\r\n\r\nI tried \r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nin my repository.java file but it didnt work for me.","title":"Field dao in com.car.services.CarServices required a bean of type &#39;javax.persistence.EntityManagerFactory&#39; that could not be found","body":"<p>Im trying to learn spring-boot basic application and unable to solve this error</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Field dao in com.car.services.CarServices required a bean of type 'javax.persistence.EntityManagerFactory' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'javax.persistence.EntityManagerFactory' in your configuration.</p>\n<p>repository file</p>\n<pre><code>@SuppressWarnings(&quot;unused&quot;)\n@Transactional\n@Repository\npublic class CarDAO implements ICarDAO {\n    \n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @Override\n    public List&lt;Car&gt; getCars() {\n        //String hql = &quot;FROM Car &quot;;\n        String hql = &quot;FROM Car as a ORDER BY a.id DESC&quot;;\n        return (List&lt;Car&gt;) entityManager.createQuery(hql).getResultList();\n    }\n\n    @Override\n    public Car getCar(int carId) {\n        return entityManager.find(Car.class, carId);\n    }\n\n}\n\n</code></pre>\n<p>my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.car&lt;/groupId&gt;\n    &lt;artifactId&gt;car&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;car-demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.32&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>service file</p>\n<pre><code>\n@Service\npublic class CarServices implements ICarServices {\n    \n    @Autowired\n    private ICarDAO dao;\n\n    @Override\n    public List&lt;Car&gt; getCars() {\n        return dao.getCars();\n    }\n\n    @Override\n    public Car getCars(int carId) {\n        return dao.getCar(carId);\n    }\n    \n\n}\n\n</code></pre>\n<p>Controller file</p>\n<pre><code>\n@RestController\n@RequestMapping(&quot;carservice&quot;)\npublic class CarController {\n    \n    \n    @Autowired\n    private ICarServices service;\n    \n    @GetMapping(&quot;car&quot;)\n    public ResponseEntity&lt;List&lt;Car&gt;&gt; getCars(){\n        \n        List&lt;Car&gt; cars = service.getCars();\n        return new ResponseEntity&lt;List&lt;Car&gt;&gt;(cars, HttpStatus.OK);\n        \n    }\n\n}\n</code></pre>\n<p>main function</p>\n<pre><code>\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class})\npublic class CarDemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CarDemoApplication.class, args);\n        System.out.println(&quot;hello from car&quot;);\n    }\n\n}\n\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.url=jdbc:mysql://127.0.0.1:3306/cardb\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.tomcat.max-wait=20000\nspring.datasource.tomcat.max-active=50\nspring.datasource.tomcat.max-idle=20\nspring.datasource.tomcat.min-idle=15\n\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\nspring.jpa.properties.hibernate.id.new_generator_mappings = false\nspring.jpa.properties.hibernate.format_sql = true\n\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\n</code></pre>\n<p>I tried\nimport org.springframework.beans.factory.annotation.Autowired;\nin my repository.java file but it didnt work for me.</p>\n"},{"tags":["java","hibernate","hsqldb"],"answers":[{"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1676883770,"creation_date":1423753140,"answer_id":28480715,"question_id":28480714,"body_markdown":"This is happening due to *a series of unfortunate events*. \r\n\r\n 1. The problem begins with the fact that HSQLDB does not support the\r\n    `float` data type. \r\n\r\n    &lt;sup&gt;(Duh? Yes, I know, but [Documentation\r\n    here](http://hsqldb.org/doc/1.8/guide/ch09.html).)   &lt;/sup&gt;\r\n    \r\n 2. The problem starts becoming ugly due to the fact that HSQLDB does\r\n    not simply ***fail*** when you specify a `float` column, but it\r\n    silently re-interprets it as `double`. If you later query the type\r\n    of that column, you will find that it is not `float`, it is\r\n    `double`.\r\n\r\n    &lt;sup&gt;A typical example of programmers applying their misguided\r\n    notions of &quot;defensive programming&quot;, creating far more trouble than\r\n    they are saving. HSQLDB is essentially pretending to the\r\n    unsuspecting programmer that everything went fine, but it is only\r\n    trolling them: nothing went fine, and there will be trouble.&lt;/sup&gt;\r\n    \r\n 3. Then, later, hibernate finds this column to be `double`, while it\r\n    expects it to be `float`, and it is not smart enough to know that\r\n    `float` *is assignable* from `double`, so it fails.\r\n\r\n    &lt;sup&gt;Everyone knows that a `double` is better than a `float`, so\r\n    hibernate should actually be *happy* that it found a `double` while\r\n    all it needed was a `float`, right? --but no, hibernate will not\r\n    have any of that: when it expects a `float`, nothing but a `float`\r\n    will do.&lt;/sup&gt;\r\n    \r\n 4. Then, there is this funny thing about hibernate supposedly having\r\n    built-in support for HSQLDB, as evidenced by the fact that it\r\n    includes a `class org.hibernate.dialect.HSQLDialect`, but ***the\r\n    dialect does not take care of floats.***\r\n\r\n    &lt;sup&gt;So, they don&#39;t believe that a data type incompatibility is a\r\n    dialect issue? they never tested it with floats? I don&#39;t know what\r\n    to suppose, but the truth of the matter is that the hibernate\r\n    dialect for HSQLDB does not provide any correction for this\r\n    problem.&lt;/sup&gt;\r\n\r\nSo, what can we do?\r\n\r\nOne possible solution to the problem is to create our own hibernate dialect for HSQLDB, in which we correct this discrepancy.\r\n\r\nIn the past I came across a similar problem with MySQL and `boolean` vs. `bit`, (see this question: https://stackoverflow.com/q/8667965/773113) so for HSQLDB I solved the problem with `float` vs. `double` by declaring my own HSQLDB dialect for hibernate:\r\n\r\n    /**\r\n     * &#39;Fixed&#39; HSQL Dialect.\r\n     *\r\n     * PEARL: HSQL seems to have a problem with floats.  We remedy this here.\r\n     * See https://stackoverflow.com/q/28480714/773113\r\n     *\r\n     * PEARL: this class must be public, not package-private, and it must have a \r\n     * public constructor, otherwise hibernate won&#39;t be able to instantiate it.\r\n     */\r\n    public class FixedHsqlDialect extends HSQLDialect\r\n    {\r\n        public FixedHsqlDialect()\r\n        {\r\n            registerColumnType( java.sql.Types.FLOAT, &quot;double&quot; );\r\n        }\r\n    }\r\n\r\nAnd using it as follows:\r\n\r\n    ejb3cfg.setProperty( &quot;hibernate.dialect&quot;, FixedHsqlDialect.class.getName() );\r\n        //Instead of: org.hibernate.dialect.HSQLDialect.class.getName();\r\n","title":"HSQL + Hibernate Exception: Wrong column type: Found: double, expected: float","body":"<p>This is happening due to <em>a series of unfortunate events</em>.</p>\n<ol>\n<li><p>The problem begins with the fact that HSQLDB does not support the\n<code>float</code> data type.</p>\n<p><sup>(Duh? Yes, I know, but <a href=\"http://hsqldb.org/doc/1.8/guide/ch09.html\" rel=\"nofollow noreferrer\">Documentation\nhere</a>.)   </sup></p>\n</li>\n<li><p>The problem starts becoming ugly due to the fact that HSQLDB does\nnot simply <em><strong>fail</strong></em> when you specify a <code>float</code> column, but it\nsilently re-interprets it as <code>double</code>. If you later query the type\nof that column, you will find that it is not <code>float</code>, it is\n<code>double</code>.</p>\n<p><sup>A typical example of programmers applying their misguided\nnotions of &quot;defensive programming&quot;, creating far more trouble than\nthey are saving. HSQLDB is essentially pretending to the\nunsuspecting programmer that everything went fine, but it is only\ntrolling them: nothing went fine, and there will be trouble.</sup></p>\n</li>\n<li><p>Then, later, hibernate finds this column to be <code>double</code>, while it\nexpects it to be <code>float</code>, and it is not smart enough to know that\n<code>float</code> <em>is assignable</em> from <code>double</code>, so it fails.</p>\n<p><sup>Everyone knows that a <code>double</code> is better than a <code>float</code>, so\nhibernate should actually be <em>happy</em> that it found a <code>double</code> while\nall it needed was a <code>float</code>, right? --but no, hibernate will not\nhave any of that: when it expects a <code>float</code>, nothing but a <code>float</code>\nwill do.</sup></p>\n</li>\n<li><p>Then, there is this funny thing about hibernate supposedly having\nbuilt-in support for HSQLDB, as evidenced by the fact that it\nincludes a <code>class org.hibernate.dialect.HSQLDialect</code>, but <em><strong>the\ndialect does not take care of floats.</strong></em></p>\n<p><sup>So, they don't believe that a data type incompatibility is a\ndialect issue? they never tested it with floats? I don't know what\nto suppose, but the truth of the matter is that the hibernate\ndialect for HSQLDB does not provide any correction for this\nproblem.</sup></p>\n</li>\n</ol>\n<p>So, what can we do?</p>\n<p>One possible solution to the problem is to create our own hibernate dialect for HSQLDB, in which we correct this discrepancy.</p>\n<p>In the past I came across a similar problem with MySQL and <code>boolean</code> vs. <code>bit</code>, (see this question: <a href=\"https://stackoverflow.com/q/8667965/773113\">&quot;Found: bit, expected: boolean&quot; after Hibernate 4 upgrade</a>) so for HSQLDB I solved the problem with <code>float</code> vs. <code>double</code> by declaring my own HSQLDB dialect for hibernate:</p>\n<pre><code>/**\n * 'Fixed' HSQL Dialect.\n *\n * PEARL: HSQL seems to have a problem with floats.  We remedy this here.\n * See https://stackoverflow.com/q/28480714/773113\n *\n * PEARL: this class must be public, not package-private, and it must have a \n * public constructor, otherwise hibernate won't be able to instantiate it.\n */\npublic class FixedHsqlDialect extends HSQLDialect\n{\n    public FixedHsqlDialect()\n    {\n        registerColumnType( java.sql.Types.FLOAT, &quot;double&quot; );\n    }\n}\n</code></pre>\n<p>And using it as follows:</p>\n<pre><code>ejb3cfg.setProperty( &quot;hibernate.dialect&quot;, FixedHsqlDialect.class.getName() );\n    //Instead of: org.hibernate.dialect.HSQLDialect.class.getName();\n</code></pre>\n"}],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2798,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":28480715,"answer_count":1,"score":5,"last_activity_date":1676883770,"creation_date":1423753140,"question_id":28480714,"body_markdown":"I am using in-memory HSQL (HSQLDB) with Hibernate for all my unit tests, because it is very fast.  I have a table with a column defined as follows:\r\n\r\n    float qw;\r\n\r\nWhen hibernate starts, I get the following error:\r\n\r\n    org.hibernate.HibernateException: Wrong column type in MyTable for column qw. \r\n    Found: double, expected: float\r\n\r\nWhy does it find `double` when the column is declared as `float`?\r\n","title":"HSQL + Hibernate Exception: Wrong column type: Found: double, expected: float","body":"<p>I am using in-memory HSQL (HSQLDB) with Hibernate for all my unit tests, because it is very fast.  I have a table with a column defined as follows:</p>\n\n<pre><code>float qw;\n</code></pre>\n\n<p>When hibernate starts, I get the following error:</p>\n\n<pre><code>org.hibernate.HibernateException: Wrong column type in MyTable for column qw. \nFound: double, expected: float\n</code></pre>\n\n<p>Why does it find <code>double</code> when the column is declared as <code>float</code>?</p>\n"},{"tags":["java","spring-boot","ssl","httpclient","resttemplate"],"owner":{"account_id":21959075,"reputation":53,"user_id":16237217,"display_name":"Ayush Patwari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676883762,"creation_date":1676883762,"question_id":75507170,"body_markdown":"**CONTEXT:**\r\n\r\nI have a spring boot app deployed on aws docker container.\r\nI make requests to a third party api using httpclient, but I keep getting a lot of SSLException errors recently in some of my requests.\r\n\r\n**ERROR:**\r\n\r\nThis is the stack trace from the error:\r\n\r\n    org.springframework.web.client.ResourceAccessException: I/O error on POST request for url: Connection reset; nested exception is javax.net.ssl.SSLException: Connection reset\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:750)\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:620)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n\tat sun.reflect.GeneratedMethodAccessor849.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) Caused by: javax.net.ssl.SSLException: Connection reset\r\n\tat sun.security.ssl.Alert.createSSLException(Alert.java:127)\r\n\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:324)\r\n\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:267)\r\n\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:262)\r\n\tat sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1568)\r\n\tat sun.security.ssl.SSLSocketImpl.access$400(SSLSocketImpl.java:73)\r\n\tat sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:978)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280)\r\n\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138)\r\n\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56)\r\n\tat org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259)\r\n\tat org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163)\r\n\tat org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157)\r\n\tat org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273)\r\n\tat org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125)\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272)\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n\tSuppressed: java.net.SocketException: Broken pipe (Write failed)\r\n\t\tat java.net.SocketOutputStream.socketWrite0(Native Method)\r\n\t\tat java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111)\r\n\t\tat java.net.SocketOutputStream.write(SocketOutputStream.java:155)\r\n\t\tat sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)\r\n\t\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:355)\r\n\t\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:267)\r\n\t\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:262)\r\n\t\tat sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1568)\r\n\t\tat sun.security.ssl.SSLSocketImpl.access$400(SSLSocketImpl.java:73)\r\n\t\tat sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:978)\r\n\t\tat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)\r\n\t\tat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)\r\n\t\tat org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280)\r\n\t\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138)\r\n\t\tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56)\r\n\t\tat org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259)\r\n\t\tat org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163)\r\n\t\tat org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157)\r\n\t\tat org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273)\r\n\t\tat org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) Caused by: java.net.SocketException: Connection reset\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:210)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n\tat sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:464)\r\n\r\nHere are the configuration for httpclient:\r\n\r\n        PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\r\n        connectionManager.setMaxTotal(40);\r\n\t\tconnectionManager.setDefaultMaxPerRoute(40);\r\n\t\tconnectionManager.setValidateAfterInactivity(180);\r\n\t\tHttpClientBuilder httpClientBuilder = HttpClientBuilder.create();\r\n\t\tRequestConfig config = RequestConfig.custom().setSocketTimeout(180 * 1000).setConnectTimeout(180 * 1000).build();\r\n\t\thttpClientBuilder.setDefaultRequestConfig(config);\r\n\t\thttpClientBuilder.setConnectionManager(connectionManager);\r\n\t\tHttpClient httpClient = httpClientBuilder.evictIdleConnections(300, TimeUnit.SECONDS).build();\r\n\r\nHow do I fix this problem? One thing I noticed is that upon restarting the servers the problem does not happen for some time.\r\n","title":"javax.net.ssl.SSLException: Connection reset using httpclient","body":"<p><strong>CONTEXT:</strong></p>\n<p>I have a spring boot app deployed on aws docker container.\nI make requests to a third party api using httpclient, but I keep getting a lot of SSLException errors recently in some of my requests.</p>\n<p><strong>ERROR:</strong></p>\n<p>This is the stack trace from the error:</p>\n<pre><code>org.springframework.web.client.ResourceAccessException: I/O error on POST request for url: Connection reset; nested exception is javax.net.ssl.SSLException: Connection reset\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:784)\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:750)\nat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:620)\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\nat sun.reflect.GeneratedMethodAccessor849.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) Caused by: javax.net.ssl.SSLException: Connection reset\nat sun.security.ssl.Alert.createSSLException(Alert.java:127)\nat sun.security.ssl.TransportContext.fatal(TransportContext.java:324)\nat sun.security.ssl.TransportContext.fatal(TransportContext.java:267)\nat sun.security.ssl.TransportContext.fatal(TransportContext.java:262)\nat sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1568)\nat sun.security.ssl.SSLSocketImpl.access$400(SSLSocketImpl.java:73)\nat sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:978)\nat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)\nat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)\nat org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280)\nat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138)\nat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56)\nat org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259)\nat org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163)\nat org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157)\nat org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273)\nat org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125)\nat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:272)\nat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\nat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\nSuppressed: java.net.SocketException: Broken pipe (Write failed)\n    at java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111)\n    at java.net.SocketOutputStream.write(SocketOutputStream.java:155)\n    at sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:355)\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:267)\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:262)\n    at sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1568)\n    at sun.security.ssl.SSLSocketImpl.access$400(SSLSocketImpl.java:73)\n    at sun.security.ssl.SSLSocketImpl$AppInputStream.read(SSLSocketImpl.java:978)\n    at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)\n    at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)\n    at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:280)\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:138)\n    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:56)\n    at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259)\n    at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163)\n    at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:157)\n    at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273)\n    at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125) Caused by: java.net.SocketException: Connection reset\nat java.net.SocketInputStream.read(SocketInputStream.java:210)\nat java.net.SocketInputStream.read(SocketInputStream.java:141)\nat sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:464)\n</code></pre>\n<p>Here are the configuration for httpclient:</p>\n<pre><code>    PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n    connectionManager.setMaxTotal(40);\n    connectionManager.setDefaultMaxPerRoute(40);\n    connectionManager.setValidateAfterInactivity(180);\n    HttpClientBuilder httpClientBuilder = HttpClientBuilder.create();\n    RequestConfig config = RequestConfig.custom().setSocketTimeout(180 * 1000).setConnectTimeout(180 * 1000).build();\n    httpClientBuilder.setDefaultRequestConfig(config);\n    httpClientBuilder.setConnectionManager(connectionManager);\n    HttpClient httpClient = httpClientBuilder.evictIdleConnections(300, TimeUnit.SECONDS).build();\n</code></pre>\n<p>How do I fix this problem? One thing I noticed is that upon restarting the servers the problem does not happen for some time.</p>\n"},{"tags":["java","units-of-measurement","jsr363","jsr-275"],"answers":[{"tags":[],"owner":{"account_id":2986719,"reputation":4999,"user_id":2535335,"display_name":"Johannes Jander"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667561693,"creation_date":1667561693,"answer_id":74316402,"question_id":74206024,"body_markdown":"In the end, it was easy:\r\n\r\n    fs.label(KILOGRAM_PER_HOUR, &quot;kg/h&quot;);\r\n\r\nThis way, the unit gets serialized to `kg/h` in `toString()`","title":"Setting an alias name on a ProductUnit fails to return that alias during serialization","body":"<p>In the end, it was easy:</p>\n<pre><code>fs.label(KILOGRAM_PER_HOUR, &quot;kg/h&quot;);\n</code></pre>\n<p>This way, the unit gets serialized to <code>kg/h</code> in <code>toString()</code></p>\n"}],"owner":{"account_id":2986719,"reputation":4999,"user_id":2535335,"display_name":"Johannes Jander"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74316402,"answer_count":1,"score":0,"last_activity_date":1676883709,"creation_date":1666779202,"question_id":74206024,"body_markdown":"## Task\r\nI am trying to set an alias name on a UOM `ProductUnit`to allow the unit to be displayed in a human-friendly name in JSON/my frontend. The unit in question is &quot;kg/h&quot;, so a mass-flow rate derived from the SI basic units &quot;kg&quot; and &quot;s&quot;.\r\n\r\nHowever, while setting the alias via the `SimpleUnitFormat` method \r\n```\r\npublic abstract void alias(Unit&lt;?&gt; unit, String alias);\r\n```\r\n returns no error, the alias name is disregarded. I am not sure where I go wrong, as code comments on `SimpleUnitFormat` say &quot;Attaches a system-wide alias to this unit&quot;.\r\n\r\n\r\n## Problem\r\n\r\nI expect to be able to parse the string &quot;kg/h&quot; into a Indrya unit and if serializing that unit, get back &quot;kg/h&quot;. What I instead get back is &quot;(kg/s)\\*3600&quot;\r\n\r\nThe code in form of a unit-test:\r\n\r\n```\r\npublic class UnitsTest {\r\n    private static final SimpleUnitFormat fs;\r\n    private static final Unit&lt;MassFlowRate&gt; KILOGRAM_PER_HOUR;\r\n    static {\r\n        fs = SimpleUnitFormat.getInstance();\r\n        // KILOGRAM_PER_SECOND is defined in si.uom.SI\r\n        KILOGRAM_PER_HOUR = KILOGRAM_PER_SECOND.multiply(3600);\r\n        fs.alias(KILOGRAM_PER_SECOND.multiply(3600), &quot;kg/h&quot;);\r\n    }\r\n\r\n\r\n    @Test\r\n    void testFlowRate() {\r\n        String unitName = &quot;kg/h&quot;;\r\n        Unit&lt;? extends Quantity&lt;?&gt;&gt; rate = fs.parse(unitName);\r\n        Assertions.assertEquals(unitName, rate.toString()); //&lt;-- fails\r\n        Assertions.assertEquals(rate, KILOGRAM_PER_HOUR);\r\n    }\r\n}\r\n```\r\n\r\nAnd the `assertEquals()` fails with the following:\r\n\r\n```\r\norg.opentest4j.AssertionFailedError: \r\nExpected :kg/h\r\nActual   :(kg/s)*3600\r\n```\r\n\r\nAs you can see, the String-representation of the derived unit (&quot;(kg/s)\\*3600&quot;) is physically correct, but not what my end-users would want to see. \r\n\r\n## What I tried\r\n\r\nReplacing `rate.toString()` with `rate.getName()` doesn&#39;t work either, it just yields `null`. Replacing `rate.toString()` with `rate.getSymbol()` doesn&#39;t work either, it also yields `null`.\r\n\r\nAnother attempt with using the `alternate()` method instead of an alias like this:\r\n\r\n```\r\nKILOGRAM_PER_SECOND.multiply(3600).alternate(&quot;kg/h&quot;);\r\n```\r\n\r\nfails with \r\n\r\n```\r\njava.lang.IllegalArgumentException: The parent unit: (kg/s)*3600 is not an unscaled SI unit\r\n\tat tech.units.indriya.unit.AlternateUnit.&lt;init&gt;(AlternateUnit.java:91)\r\n\tat tech.units.indriya.AbstractUnit.alternate(AbstractUnit.java:336)\r\n```\r\nBased [on this old answer](https://stackoverflow.com/a/43308841/2535335), I tried switching to `EBNFUnitFormat` but that doesn&#39;t allow aliases. \r\n\r\n\r\nI am sure I am misunderstanding the whole UoM/Indrya library here, but IDK how.\r\n\r\n\r\n## Environment\r\nThe problem comes up both on Windows and Linux. I am using Java 13 and here&#39;s the relevant parts of my POM:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;tech.units&lt;/groupId&gt;\r\n        &lt;artifactId&gt;indriya&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;si.uom&lt;/groupId&gt;\r\n        &lt;artifactId&gt;si-units&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n        &lt;version&gt;5.9.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;5.9.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n```\r\n```","title":"Setting an alias name on a ProductUnit fails to return that alias during serialization","body":"<h2>Task</h2>\n<p>I am trying to set an alias name on a UOM <code>ProductUnit</code>to allow the unit to be displayed in a human-friendly name in JSON/my frontend. The unit in question is &quot;kg/h&quot;, so a mass-flow rate derived from the SI basic units &quot;kg&quot; and &quot;s&quot;.</p>\n<p>However, while setting the alias via the <code>SimpleUnitFormat</code> method</p>\n<pre><code>public abstract void alias(Unit&lt;?&gt; unit, String alias);\n</code></pre>\n<p>returns no error, the alias name is disregarded. I am not sure where I go wrong, as code comments on <code>SimpleUnitFormat</code> say &quot;Attaches a system-wide alias to this unit&quot;.</p>\n<h2>Problem</h2>\n<p>I expect to be able to parse the string &quot;kg/h&quot; into a Indrya unit and if serializing that unit, get back &quot;kg/h&quot;. What I instead get back is &quot;(kg/s)*3600&quot;</p>\n<p>The code in form of a unit-test:</p>\n<pre><code>public class UnitsTest {\n    private static final SimpleUnitFormat fs;\n    private static final Unit&lt;MassFlowRate&gt; KILOGRAM_PER_HOUR;\n    static {\n        fs = SimpleUnitFormat.getInstance();\n        // KILOGRAM_PER_SECOND is defined in si.uom.SI\n        KILOGRAM_PER_HOUR = KILOGRAM_PER_SECOND.multiply(3600);\n        fs.alias(KILOGRAM_PER_SECOND.multiply(3600), &quot;kg/h&quot;);\n    }\n\n\n    @Test\n    void testFlowRate() {\n        String unitName = &quot;kg/h&quot;;\n        Unit&lt;? extends Quantity&lt;?&gt;&gt; rate = fs.parse(unitName);\n        Assertions.assertEquals(unitName, rate.toString()); //&lt;-- fails\n        Assertions.assertEquals(rate, KILOGRAM_PER_HOUR);\n    }\n}\n</code></pre>\n<p>And the <code>assertEquals()</code> fails with the following:</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :kg/h\nActual   :(kg/s)*3600\n</code></pre>\n<p>As you can see, the String-representation of the derived unit (&quot;(kg/s)*3600&quot;) is physically correct, but not what my end-users would want to see.</p>\n<h2>What I tried</h2>\n<p>Replacing <code>rate.toString()</code> with <code>rate.getName()</code> doesn't work either, it just yields <code>null</code>. Replacing <code>rate.toString()</code> with <code>rate.getSymbol()</code> doesn't work either, it also yields <code>null</code>.</p>\n<p>Another attempt with using the <code>alternate()</code> method instead of an alias like this:</p>\n<pre><code>KILOGRAM_PER_SECOND.multiply(3600).alternate(&quot;kg/h&quot;);\n</code></pre>\n<p>fails with</p>\n<pre><code>java.lang.IllegalArgumentException: The parent unit: (kg/s)*3600 is not an unscaled SI unit\n    at tech.units.indriya.unit.AlternateUnit.&lt;init&gt;(AlternateUnit.java:91)\n    at tech.units.indriya.AbstractUnit.alternate(AbstractUnit.java:336)\n</code></pre>\n<p>Based <a href=\"https://stackoverflow.com/a/43308841/2535335\">on this old answer</a>, I tried switching to <code>EBNFUnitFormat</code> but that doesn't allow aliases.</p>\n<p>I am sure I am misunderstanding the whole UoM/Indrya library here, but IDK how.</p>\n<h2>Environment</h2>\n<p>The problem comes up both on Windows and Linux. I am using Java 13 and here's the relevant parts of my POM:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;tech.units&lt;/groupId&gt;\n        &lt;artifactId&gt;indriya&lt;/artifactId&gt;\n        &lt;version&gt;2.1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;si.uom&lt;/groupId&gt;\n        &lt;artifactId&gt;si-units&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;5.9.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.9.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":10081892,"reputation":1547,"user_id":7451892,"display_name":"Andrew Ryan"},"score":0,"creation_date":1676869211,"post_id":75505129,"comment_id":133217454,"body_markdown":"based on the image you included there is not element with a class of `slds-checkbox_faux`. So it is unclear what element you are actually trying to find.","body":"based on the image you included there is not element with a class of <code>slds-checkbox_faux</code>. So it is unclear what element you are actually trying to find."},{"owner":{"account_id":6892782,"reputation":1553,"user_id":5295657,"accept_rate":31,"display_name":"Mahsum Akbas"},"score":0,"creation_date":1676884697,"post_id":75505129,"comment_id":133220447,"body_markdown":"Please can you clarify more that wher exactly you want to click? because, regarding the image there is not such element. also, please share code as text, not image.","body":"Please can you clarify more that wher exactly you want to click? because, regarding the image there is not such element. also, please share code as text, not image."},{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":0,"creation_date":1676886866,"post_id":75505129,"comment_id":133221076,"body_markdown":"Please do not post images of code, copy your code into the question with block code format:   https://stackoverflow.com/help/how-to-ask","body":"Please do not post images of code, copy your code into the question with block code format:   <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"owner":{"account_id":26837386,"reputation":11,"user_id":20424451,"display_name":"M J"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676883651,"creation_date":1676865140,"question_id":75505129,"body_markdown":"I tried to find xpath for toggle button and the code shows as below.  but its throwing error as no such element\r\n\r\n[![enter image description here][1]][1]\r\n\r\ni entered the following code.  I checked for frame content also.  but its not even frame content\r\n\r\n`w.until(ExpectedConditions.presenceOfElementLocated (By.className(&quot;.slds-checkbox_faux&quot;))).click();`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Oycu1.png","title":"How to handle &lt;article tag&gt; in selenium","body":"<p>I tried to find xpath for toggle button and the code shows as below.  but its throwing error as no such element</p>\n<p><a href=\"https://i.stack.imgur.com/Oycu1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oycu1.png\" alt=\"enter image description here\" /></a></p>\n<p>i entered the following code.  I checked for frame content also.  but its not even frame content</p>\n<p><code>w.until(ExpectedConditions.presenceOfElementLocated (By.className(&quot;.slds-checkbox_faux&quot;))).click();</code></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9588,"page":635,"page_size":100}
