{"items":[{"tags":["java","oracle","ioexception","connection-reset"],"answers":[{"tags":[],"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306240603,"creation_date":1306240603,"answer_id":6110505,"question_id":6110395,"body_markdown":"Your exception says it all &quot;Connection reset&quot;. \r\nThe connection between your java process and the db server was lost, which could have happened for almost any reason(like network issues). The [SQLRecoverableException][1] just means that its recoverable, but the root cause is connection reset.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/sql/SQLRecoverableException.html","title":"SQLRecoverableException: I/O Exception: Connection reset","body":"<p>Your exception says it all \"Connection reset\". \nThe connection between your java process and the db server was lost, which could have happened for almost any reason(like network issues). The <a href=\"http://download.oracle.com/javase/6/docs/api/java/sql/SQLRecoverableException.html\" rel=\"nofollow\">SQLRecoverableException</a> just means that its recoverable, but the root cause is connection reset.</p>\n"},{"comments":[{"owner":{"account_id":74601,"reputation":308,"user_id":214273,"display_name":"saalehr"},"score":0,"creation_date":1435755270,"post_id":6110563,"comment_id":50332242,"body_markdown":"I would also recommend a disk space check on your database VM to give your DBA a probable cause to proceed. df -h","body":"I would also recommend a disk space check on your database VM to give your DBA a probable cause to proceed. df -h"},{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":1,"creation_date":1666373609,"post_id":6110563,"comment_id":130929928,"body_markdown":"none of the links work now.","body":"none of the links work now."},{"owner":{"account_id":101190,"reputation":3994,"user_id":272387,"display_name":"Richlv"},"score":0,"creation_date":1691156678,"post_id":6110563,"comment_id":135457740,"body_markdown":"Also not saved by the Internet Archive.","body":"Also not saved by the Internet Archive."}],"tags":[],"owner":{"account_id":336649,"reputation":5489,"user_id":664421,"accept_rate":100,"display_name":"kensen john"},"comment_count":3,"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1515400064,"creation_date":1306240866,"answer_id":6110563,"question_id":6110395,"body_markdown":"This simply means that something in the backend ( DBMS ) decided to stop working due to unavailability of resources etc.\r\nIt has nothing to do with your code or the number of inserts. \r\nYou can read more about similar problems here:\r\n\r\n - http://kr.forums.oracle.com/forums/thread.jspa?threadID=941911\r\n - http://forums.oracle.com/forums/thread.jspa?messageID=3800354\r\n\r\nThis may not answer your question, but you will get an idea of why it might be happening. You could further discuss with your DBA and see if there is something specific in your case.","title":"SQLRecoverableException: I/O Exception: Connection reset","body":"<p>This simply means that something in the backend ( DBMS ) decided to stop working due to unavailability of resources etc.\nIt has nothing to do with your code or the number of inserts. \nYou can read more about similar problems here:</p>\n\n<ul>\n<li><a href=\"http://kr.forums.oracle.com/forums/thread.jspa?threadID=941911\" rel=\"noreferrer\">http://kr.forums.oracle.com/forums/thread.jspa?threadID=941911</a></li>\n<li><a href=\"http://forums.oracle.com/forums/thread.jspa?messageID=3800354\" rel=\"noreferrer\">http://forums.oracle.com/forums/thread.jspa?messageID=3800354</a></li>\n</ul>\n\n<p>This may not answer your question, but you will get an idea of why it might be happening. You could further discuss with your DBA and see if there is something specific in your case.</p>\n"},{"tags":[],"owner":{"account_id":5955359,"reputation":71,"user_id":4682209,"display_name":"Liz"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1426793372,"creation_date":1426617018,"answer_id":29107011,"question_id":6110395,"body_markdown":"We experienced these errors intermittently after upgraded from 11g to 12c and our java was on 1.6.\r\n\r\nThe fix for us was to upgrade java and jdbc from 6 to 7\r\n\r\n    export JAVA_HOME=&#39;/usr/java1.7&#39;\r\n    \r\n    export CLASSPATH=/u01/app/oracle/product/12.1.0/dbhome_1/jdbc/libojdbc7.jar:$CLASSPATH \r\n\r\n\r\nSeveral days later, still intermittent connection resets.\r\n\r\nWe ended up removing all the java 7 above.  Java 6 was fine.  The problem was fixed by adding this to our user bash_profile.\r\n\r\nOur groovy scripts that were experiencing the error were using /dev/random on our batch VM server.  Below forced java and groovy to use /dev/urandom.\r\n\r\nexport JAVA_OPTS=&quot; $JAVA_OPTS -Djava.security.egd=file:///dev/urandom &quot;\r\n","title":"SQLRecoverableException: I/O Exception: Connection reset","body":"<p>We experienced these errors intermittently after upgraded from 11g to 12c and our java was on 1.6.</p>\n\n<p>The fix for us was to upgrade java and jdbc from 6 to 7</p>\n\n<pre><code>export JAVA_HOME='/usr/java1.7'\n\nexport CLASSPATH=/u01/app/oracle/product/12.1.0/dbhome_1/jdbc/libojdbc7.jar:$CLASSPATH \n</code></pre>\n\n<p>Several days later, still intermittent connection resets.</p>\n\n<p>We ended up removing all the java 7 above.  Java 6 was fine.  The problem was fixed by adding this to our user bash_profile.</p>\n\n<p>Our groovy scripts that were experiencing the error were using /dev/random on our batch VM server.  Below forced java and groovy to use /dev/urandom.</p>\n\n<p>export JAVA_OPTS=\" $JAVA_OPTS -Djava.security.egd=file:///dev/urandom \"</p>\n"},{"tags":[],"owner":{"account_id":4814383,"reputation":345,"user_id":3886907,"display_name":"user3886907"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1472578733,"creation_date":1472578733,"answer_id":39233825,"question_id":6110395,"body_markdown":"**Solution** &lt;br&gt;\r\nChange the setup for your application, so you this parameter[**-Djava.security.egd=file:/dev/../dev/urandom**] next to the java command:\r\n\r\njava **-Djava.security.egd=file:/dev/../dev/urandom** [your command]\r\n\r\nRef :- https://community.oracle.com/thread/943911","title":"SQLRecoverableException: I/O Exception: Connection reset","body":"<p><strong>Solution</strong> <br>\nChange the setup for your application, so you this parameter[<strong>-Djava.security.egd=file:/dev/../dev/urandom</strong>] next to the java command:</p>\n\n<p>java <strong>-Djava.security.egd=file:/dev/../dev/urandom</strong> [your command]</p>\n\n<p>Ref :- <a href=\"https://community.oracle.com/thread/943911\" rel=\"noreferrer\">https://community.oracle.com/thread/943911</a></p>\n"},{"comments":[{"owner":{"account_id":2566818,"reputation":459,"user_id":4937528,"accept_rate":40,"display_name":"Seanimus"},"score":3,"creation_date":1520866119,"post_id":39332575,"comment_id":85479454,"body_markdown":"Been racking my brain for 3 days trying to figure this out, and your solution finally fixed it. What an off the wall problem!!\n\nAdditionally, for a more in depth answer, check out https://discuss.pivotal.io/hc/en-us/articles/230141007-Java-Web-Applications-Slow-Startup-or-Failing","body":"Been racking my brain for 3 days trying to figure this out, and your solution finally fixed it. What an off the wall problem!!  Additionally, for a more in depth answer, check out <a href=\"https://discuss.pivotal.io/hc/en-us/articles/230141007-Java-Web-Applications-Slow-Startup-or-Failing\" rel=\"nofollow noreferrer\">discuss.pivotal.io/hc/en-us/articles/&hellip;</a>"},{"owner":{"account_id":1745559,"reputation":128,"user_id":1595886,"display_name":"mveroone"},"score":3,"creation_date":1532512516,"post_id":39332575,"comment_id":90000322,"body_markdown":"3 days ? it has been 2 month of headbanging here, much thanks ! (I guess OpenStack entropy throughput is WAY lower than VMware&#39;s)","body":"3 days ? it has been 2 month of headbanging here, much thanks ! (I guess OpenStack entropy throughput is WAY lower than VMware&#39;s)"},{"owner":{"account_id":11911046,"reputation":2034,"user_id":8716287,"accept_rate":62,"display_name":"valik"},"score":0,"creation_date":1561465732,"post_id":39332575,"comment_id":100065601,"body_markdown":"where  do we put this config java -Djava.security.egd=file ?","body":"where  do we put this config java -Djava.security.egd=file ?"},{"owner":{"account_id":6622869,"reputation":589,"user_id":5113951,"display_name":"Nacho Soriano"},"score":0,"creation_date":1561978094,"post_id":39332575,"comment_id":100220701,"body_markdown":"You dont need to put it on any config file.  You only need to run your application with the line suggested.","body":"You dont need to put it on any config file.  You only need to run your application with the line suggested."}],"tags":[],"owner":{"account_id":6622869,"reputation":589,"user_id":5113951,"display_name":"Nacho Soriano"},"comment_count":4,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1473085095,"creation_date":1473085095,"answer_id":39332575,"question_id":6110395,"body_markdown":"The error occurs on some RedHat distributions. The only thing you need to do is to run your application with parameter **java.security.egd=file:///dev/urandom**:\r\n\r\n    java -Djava.security.egd=file:///dev/urandom [your command]","title":"SQLRecoverableException: I/O Exception: Connection reset","body":"<p>The error occurs on some RedHat distributions. The only thing you need to do is to run your application with parameter <strong>java.security.egd=file:///dev/urandom</strong>:</p>\n\n<pre><code>java -Djava.security.egd=file:///dev/urandom [your command]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2888020,"reputation":538,"user_id":2477423,"display_name":"tdaget"},"score":2,"creation_date":1523451605,"post_id":49775784,"comment_id":86566551,"body_markdown":"I just think about it, the **solution #4** might be to extend timeout period to go over the 60 seconds limit directly on the database server configuration.&lt;br&gt;In sqlnet.ora and tnsnames.ora Oracle&#39;s listener configuration file you can consider `TCP.CONNECT_TIMEOUT` and `SQLNET.OUTBOUND_CONNECT_TIMEOUT` parameters.","body":"I just think about it, the <b>solution #4</b> might be to extend timeout period to go over the 60 seconds limit directly on the database server configuration.&lt;br&gt;In sqlnet.ora and tnsnames.ora Oracle&#39;s listener configuration file you can consider <code>TCP.CONNECT_TIMEOUT</code> and <code>SQLNET.OUTBOUND_CONNECT_TIMEOUT</code> parameters."},{"owner":{"account_id":1835287,"reputation":772,"user_id":1665809,"display_name":"mrod"},"score":0,"creation_date":1579014704,"post_id":49775784,"comment_id":105621855,"body_markdown":"Can you please explain why you say the &#39;/./&#39; in Solution 1 is important?","body":"Can you please explain why you say the &#39;/./&#39; in Solution 1 is important?"},{"owner":{"account_id":3169068,"reputation":316,"user_id":2678458,"display_name":"everis"},"score":1,"creation_date":1641396769,"post_id":49775784,"comment_id":124794919,"body_markdown":"@mrod He explains it, although I missed it on first read. It&#39;s because Java can &quot;replace&quot; /dev/urandom with /dev/random, so the &#39;/./&#39; solution prevents that.","body":"@mrod He explains it, although I missed it on first read. It&#39;s because Java can &quot;replace&quot; /dev/urandom with /dev/random, so the &#39;/./&#39; solution prevents that."},{"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"score":0,"creation_date":1661890121,"post_id":49775784,"comment_id":129878544,"body_markdown":"Thanks for a great explanation. I was wondering, since the entropy pool is empty, what if we wait for some time, say 5 seconds before starting to write to the database again, would that help? For example we catch the exception `SQLRecoverableException` in a try/catch block, and execute &#39;Thread.sleep(5000)` before starting to write to the database again?","body":"Thanks for a great explanation. I was wondering, since the entropy pool is empty, what if we wait for some time, say 5 seconds before starting to write to the database again, would that help? For example we catch the exception <code>SQLRecoverableException</code> in a try/catch block, and execute &#39;Thread.sleep(5000)` before starting to write to the database again?"},{"owner":{"account_id":2888020,"reputation":538,"user_id":2477423,"display_name":"tdaget"},"score":0,"creation_date":1666099738,"post_id":49775784,"comment_id":130851360,"body_markdown":"May be a solution, without any guarantee as we hope 5s will be enough\nCan&#39;t try and test your proposal as it&#39;s impossible to implement in Talend job :-(","body":"May be a solution, without any guarantee as we hope 5s will be enough Can&#39;t try and test your proposal as it&#39;s impossible to implement in Talend job :-("}],"tags":[],"owner":{"account_id":2888020,"reputation":538,"user_id":2477423,"display_name":"tdaget"},"comment_count":5,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1649366756,"creation_date":1523451430,"answer_id":49775784,"question_id":6110395,"body_markdown":"I want to produce a complementary answer of [nacho-soriano][1]&#39;s solution ...\r\n\r\nI recently search to solve a problem where a Java written application (a Talend&amp;copy; ELT job in fact) want to connect to an Oracle database (11g and over) then randomly fail. OS is both RedHat Enterprise and CentOS. Job run very quily in time (no more than half a minute) and occur very often (approximately one run each 5 minutes).\r\n\r\nSome times, during night-time as work-time, during database intensive-work usage as lazy work usage, in just a word randomly, connection fail with this message:\r\n\r\n    Exception in component tOracleConnection_1\r\n    java.sql.SQLRecoverableException: Io exception: Connection reset\r\n        \tat oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:101)\r\n\t        at oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:112)\r\n\t        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:173)\r\n\t        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:229)\r\n\t        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:458)\r\n\t        at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:411)\r\n\t        at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:490)\r\n\t        at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:202)\r\n\t        at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:33)\r\n\t        at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:465)\r\n\t        at java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n        \tat java.sql.DriverManager.getConnection(DriverManager.java:208)\r\n        and StackTrace follow ...\r\n\r\n\r\n\r\n##Problem explanation:##\r\n\r\nAs detailed [here][2]\r\n\r\nOracle connection needs some random numbers to assume a good level of security. Linux random number generator produce some numbers bases keyboard and mouse activity (among others) and place them in a stack. You will grant me, on a server, there is not a big amount of such activity. So it can occur that softwares use more random number than generator can produce.\r\n\r\nWhen the pool is empty, reads from /dev/random will block until additional environmental noise is gathered. And Oracle connection fall in timeout (60 seconds by default).\r\n\r\n\r\n##Solution 1 - Specific for one app solution##\r\n\r\nThe solution is to give add two parameters given to the JVM while starting:\r\n\r\n    -Djava.security.egd=file:/dev/./urandom\r\n    -Dsecurerandom.source=file:/dev/./urandom\r\n\r\n\r\n**Note:** the &#39;/./&#39; is important, do not drop it !\r\n\r\nSo the launch command line could be:\r\n\r\n    java -Djava.security.egd=file:/dev/./urandom -Dsecurerandom.source=file:/dev/./urandom -cp &lt;classpath directives&gt; appMainClass &lt;app options and parameters&gt;\r\n\r\nOne drawback of this solution is that numbers generated are _a little less secure_ as randomness is impacted. If you don&#39;t work in a military or secret related industry this solution can be your.\r\n\r\n\r\n##Solution 2 - General Java JVM solution##\r\n\r\nAs explained [here][3]\r\n\r\nBoth directives given in solution 1 can be put in Java security setting file.\r\n\r\nTake a look at `$JAVA_HOME/jre/lib/security/java.security`\r\n\r\nChange the line\r\n\r\n    securerandom.source=file:/dev/random\r\n\r\nto\r\n\r\n    securerandom.source=file:/dev/urandom\r\n\r\n\r\nChange is effective immediately for new running applications.\r\n\r\nAs for solution #1, one drawback of this solution is that numbers generated are _a little less secure_ as randomness is impacted. This time, it&#39;s a global JVM impact. As for solution #1, if you don&#39;t work in a military or secret related industry this solution can be your.\r\n\r\nWe ideally should use &quot;file:/dev/./urandom&quot; after Java 5 as previous path will again point to /dev/random.\r\n\r\nReported Bug : https://bugs.openjdk.java.net/browse/JDK-6202721\r\n\r\n\r\n##Solution 3 - Hardware solution##\r\n\r\n**Disclamer:** I&#39;m not linked to any of hardware vendor or product ...\r\n\r\nIf your need is to reach a high quality randomness level, you can replace your Linux random number generator software by a piece of hardware.\r\n\r\nSome information are available [here][4].\r\n\r\n\r\n\r\n\r\nRegards\r\n\r\nThomas\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6110395/sqlrecoverableexception-i-o-exception-connection-reset/39332575#39332575\r\n  [2]: http://www.usn-it.de/index.php/2009/02/20/oracle-11g-jdbc-driver-hangs-blocked-by-devrandom-entropy-pool-empty/\r\n  [3]: https://docs.oracle.com/cd/E13209_01/wlcp/wlss31/configwlss/jvmrand.html\r\n  [4]: https://en.wikipedia.org/wiki/Comparison_of_hardware_random_number_generators","title":"SQLRecoverableException: I/O Exception: Connection reset","body":"<p>I want to produce a complementary answer of <a href=\"https://stackoverflow.com/questions/6110395/sqlrecoverableexception-i-o-exception-connection-reset/39332575#39332575\">nacho-soriano</a>'s solution ...</p>\n<p>I recently search to solve a problem where a Java written application (a Talend© ELT job in fact) want to connect to an Oracle database (11g and over) then randomly fail. OS is both RedHat Enterprise and CentOS. Job run very quily in time (no more than half a minute) and occur very often (approximately one run each 5 minutes).</p>\n<p>Some times, during night-time as work-time, during database intensive-work usage as lazy work usage, in just a word randomly, connection fail with this message:</p>\n<pre><code>Exception in component tOracleConnection_1\njava.sql.SQLRecoverableException: Io exception: Connection reset\n        at oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:101)\n        at oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:112)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:173)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:229)\n        at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:458)\n        at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:411)\n        at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:490)\n        at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:202)\n        at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:33)\n        at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:465)\n        at java.sql.DriverManager.getConnection(DriverManager.java:664)\n        at java.sql.DriverManager.getConnection(DriverManager.java:208)\n    and StackTrace follow ...\n</code></pre>\n<p>##Problem explanation:##</p>\n<p>As detailed <a href=\"http://www.usn-it.de/index.php/2009/02/20/oracle-11g-jdbc-driver-hangs-blocked-by-devrandom-entropy-pool-empty/\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Oracle connection needs some random numbers to assume a good level of security. Linux random number generator produce some numbers bases keyboard and mouse activity (among others) and place them in a stack. You will grant me, on a server, there is not a big amount of such activity. So it can occur that softwares use more random number than generator can produce.</p>\n<p>When the pool is empty, reads from /dev/random will block until additional environmental noise is gathered. And Oracle connection fall in timeout (60 seconds by default).</p>\n<p>##Solution 1 - Specific for one app solution##</p>\n<p>The solution is to give add two parameters given to the JVM while starting:</p>\n<pre><code>-Djava.security.egd=file:/dev/./urandom\n-Dsecurerandom.source=file:/dev/./urandom\n</code></pre>\n<p><strong>Note:</strong> the '/./' is important, do not drop it !</p>\n<p>So the launch command line could be:</p>\n<pre><code>java -Djava.security.egd=file:/dev/./urandom -Dsecurerandom.source=file:/dev/./urandom -cp &lt;classpath directives&gt; appMainClass &lt;app options and parameters&gt;\n</code></pre>\n<p>One drawback of this solution is that numbers generated are <em>a little less secure</em> as randomness is impacted. If you don't work in a military or secret related industry this solution can be your.</p>\n<p>##Solution 2 - General Java JVM solution##</p>\n<p>As explained <a href=\"https://docs.oracle.com/cd/E13209_01/wlcp/wlss31/configwlss/jvmrand.html\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Both directives given in solution 1 can be put in Java security setting file.</p>\n<p>Take a look at <code>$JAVA_HOME/jre/lib/security/java.security</code></p>\n<p>Change the line</p>\n<pre><code>securerandom.source=file:/dev/random\n</code></pre>\n<p>to</p>\n<pre><code>securerandom.source=file:/dev/urandom\n</code></pre>\n<p>Change is effective immediately for new running applications.</p>\n<p>As for solution #1, one drawback of this solution is that numbers generated are <em>a little less secure</em> as randomness is impacted. This time, it's a global JVM impact. As for solution #1, if you don't work in a military or secret related industry this solution can be your.</p>\n<p>We ideally should use &quot;file:/dev/./urandom&quot; after Java 5 as previous path will again point to /dev/random.</p>\n<p>Reported Bug : <a href=\"https://bugs.openjdk.java.net/browse/JDK-6202721\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-6202721</a></p>\n<p>##Solution 3 - Hardware solution##</p>\n<p><strong>Disclamer:</strong> I'm not linked to any of hardware vendor or product ...</p>\n<p>If your need is to reach a high quality randomness level, you can replace your Linux random number generator software by a piece of hardware.</p>\n<p>Some information are available <a href=\"https://en.wikipedia.org/wiki/Comparison_of_hardware_random_number_generators\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Regards</p>\n<p>Thomas</p>\n"},{"tags":[],"owner":{"account_id":1235956,"reputation":51,"user_id":1199533,"display_name":"San D"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593507155,"creation_date":1593507155,"answer_id":62653710,"question_id":6110395,"body_markdown":"I had a similar situation when reading from Oracle in a Spark job.  This connection reset error was caused by an incompatibility between the Oracle server and the JDBC driver used.  Worth checking it.","title":"SQLRecoverableException: I/O Exception: Connection reset","body":"<p>I had a similar situation when reading from Oracle in a Spark job.  This connection reset error was caused by an incompatibility between the Oracle server and the JDBC driver used.  Worth checking it.</p>\n"},{"tags":[],"owner":{"account_id":3641890,"reputation":410,"user_id":3035786,"accept_rate":50,"display_name":"Mugeesh Husain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600926668,"creation_date":1600926668,"answer_id":64040262,"question_id":6110395,"body_markdown":"add java security in your run command\r\n\r\n`java -jar -Djava.security.egd=&quot;file:///dev/urandom&quot; yourjarfilename.jar\r\n`","title":"SQLRecoverableException: I/O Exception: Connection reset","body":"<p>add java security in your run command</p>\n<p><code>java -jar -Djava.security.egd=&quot;file:///dev/urandom&quot; yourjarfilename.jar </code></p>\n"}],"owner":{"account_id":212642,"reputation":831,"user_id":465588,"accept_rate":68,"display_name":"Maik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220769,"favorite_count":0,"down_vote_count":1,"up_vote_count":40,"accepted_answer_id":6110563,"answer_count":8,"score":39,"last_activity_date":1698262669,"creation_date":1306240142,"question_id":6110395,"body_markdown":"Yesterday evening I left the office with a running Java program written by me. It should insert a lot of records into our company database (Oracle) using a JDBC connection. This morning when I came back to work I saw this error (caught by a try-catch):   \r\n\r\n    java.sql.SQLRecoverableException: I/O Exception: Connection reset\r\n\r\nThe program wrote almost all records before getting this problem, but what if it happens early (just minutes after I leave the office at evening)? I cannot understand what happened, I contacted my database admin and he said there was no particular issue on the database.\r\n\r\nAny idea on what happened and what can I do do to avoid it?\r\n\r\n","title":"SQLRecoverableException: I/O Exception: Connection reset","body":"<p>Yesterday evening I left the office with a running Java program written by me. It should insert a lot of records into our company database (Oracle) using a JDBC connection. This morning when I came back to work I saw this error (caught by a try-catch):   </p>\n\n<pre><code>java.sql.SQLRecoverableException: I/O Exception: Connection reset\n</code></pre>\n\n<p>The program wrote almost all records before getting this problem, but what if it happens early (just minutes after I leave the office at evening)? I cannot understand what happened, I contacted my database admin and he said there was no particular issue on the database.</p>\n\n<p>Any idea on what happened and what can I do do to avoid it?</p>\n"},{"tags":["java","restfb"],"answers":[{"tags":[],"owner":{"account_id":1466941,"reputation":1440,"user_id":1379528,"display_name":"Norbert"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698262592,"creation_date":1698262592,"answer_id":77362445,"question_id":77362310,"body_markdown":"This is rather simple, you can put an array directly into the `publish` method.\r\n\r\n```\r\n// create ArrayList with Parameter objects\r\nList&lt;Parameter&gt; paramList = new ArrayList&lt;&gt;();\r\nparamList.add(Parameter.with(&quot;message&quot;,msg));\r\nparamList.add(Parameter.with(&quot;published&quot;,&quot;false&quot;));\r\nparamList.add(Parameter.with(&quot;scheduled_publish_time&quot;,timeStampStr));\r\nfor (int i=0; i &lt; 5; i++) {\r\n     paramList.add(Parameter.with(&quot;attached_media[&quot;+ i +&quot;]&quot;,FileFactory.getFileJson(i));\r\n}\r\n\r\n// convert List to array\r\nParameter[] params = list.stream().toArray(Parameter[]::new);\r\n\r\n// publish everything\r\nGraphResponse publishMessageResponseMSg =\r\n    facebookClient.publish(&quot;me/feed&quot;, GraphResponse.class, params);\r\n```","title":"How to dynamically use parameters in publish methode?","body":"<p>This is rather simple, you can put an array directly into the <code>publish</code> method.</p>\n<pre><code>// create ArrayList with Parameter objects\nList&lt;Parameter&gt; paramList = new ArrayList&lt;&gt;();\nparamList.add(Parameter.with(&quot;message&quot;,msg));\nparamList.add(Parameter.with(&quot;published&quot;,&quot;false&quot;));\nparamList.add(Parameter.with(&quot;scheduled_publish_time&quot;,timeStampStr));\nfor (int i=0; i &lt; 5; i++) {\n     paramList.add(Parameter.with(&quot;attached_media[&quot;+ i +&quot;]&quot;,FileFactory.getFileJson(i));\n}\n\n// convert List to array\nParameter[] params = list.stream().toArray(Parameter[]::new);\n\n// publish everything\nGraphResponse publishMessageResponseMSg =\n    facebookClient.publish(&quot;me/feed&quot;, GraphResponse.class, params);\n</code></pre>\n"}],"owner":{"account_id":12377973,"reputation":242,"user_id":10053673,"display_name":"user10053673"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77362445,"answer_count":1,"score":-1,"last_activity_date":1698262592,"creation_date":1698261133,"question_id":77362310,"body_markdown":"I need to execute the publish methode with an unknown number of parameters. Each attachment needs to be added using ...\r\n\r\n            Parameter.with(&quot;attached_media[i]&quot;, ...\r\n\r\n but the number of attachments can change. How do I dynamically add parameters in this call?\r\n\r\n\r\n            GraphResponse publishMessageResponseMSg =\r\n                    facebookClient.publish(&quot;me/feed&quot;, GraphResponse.class,\r\n                            Parameter.with(&quot;message&quot;, msg),\r\n                            Parameter.with(&quot;published&quot;, &quot;false&quot;),\r\n                            Parameter.with(&quot;scheduled_publish_time&quot;, timeStampStr),\r\n                            Parameter.with(&quot;attached_media[0]&quot;, &quot;{\\&quot;media_fbid\\&quot;:\\&quot;&quot;+ publishMessageResponseImg1.getId() +&quot;\\&quot;}&quot;),\r\n                            Parameter.with(&quot;attached_media[1]&quot;, &quot;{\\&quot;media_fbid\\&quot;:\\&quot;&quot;+ publishMessageResponseImg2.getId() +&quot;\\&quot;}&quot;));","title":"How to dynamically use parameters in publish methode?","body":"<p>I need to execute the publish methode with an unknown number of parameters. Each attachment needs to be added using ...</p>\n<pre><code>        Parameter.with(&quot;attached_media[i]&quot;, ...\n</code></pre>\n<p>but the number of attachments can change. How do I dynamically add parameters in this call?</p>\n<pre><code>        GraphResponse publishMessageResponseMSg =\n                facebookClient.publish(&quot;me/feed&quot;, GraphResponse.class,\n                        Parameter.with(&quot;message&quot;, msg),\n                        Parameter.with(&quot;published&quot;, &quot;false&quot;),\n                        Parameter.with(&quot;scheduled_publish_time&quot;, timeStampStr),\n                        Parameter.with(&quot;attached_media[0]&quot;, &quot;{\\&quot;media_fbid\\&quot;:\\&quot;&quot;+ publishMessageResponseImg1.getId() +&quot;\\&quot;}&quot;),\n                        Parameter.with(&quot;attached_media[1]&quot;, &quot;{\\&quot;media_fbid\\&quot;:\\&quot;&quot;+ publishMessageResponseImg2.getId() +&quot;\\&quot;}&quot;));\n</code></pre>\n"},{"tags":["java","spring-boot","jhipster"],"comments":[{"owner":{"account_id":29745473,"reputation":1,"user_id":22796658,"display_name":"ppoornima"},"score":0,"creation_date":1699461608,"post_id":77362438,"comment_id":136535379,"body_markdown":"I had jhipster.logging.logstash.queue-size in my application.yml. Changing it to jhipster.logging.logstash.ring-buffer-size fixed the issue. Looks like the queue-size is deprected in the newer version.","body":"I had jhipster.logging.logstash.queue-size in my application.yml. Changing it to jhipster.logging.logstash.ring-buffer-size fixed the issue. Looks like the queue-size is deprected in the newer version."}],"owner":{"account_id":29745473,"reputation":1,"user_id":22796658,"display_name":"ppoornima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698262508,"creation_date":1698262508,"question_id":77362438,"body_markdown":"I am using JHipster 7.9.3 in my current project using Java 11, Spring Boot 2.7. We are now in the process of upgrading to Jhipster 8.0.0-rc.1, Java 17, Spring Boot 3 and Spring Framework 6. \r\n\r\nWhen I start the application I see this error \r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webConfigurer&#39; defined in file [mypath/WebConfigurer.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name &#39;jhipster-tech.jhipster.config.JHipsterProperties&#39;: Could not bind properties to &#39;JHipsterProperties&#39; : prefix=jhipster, ignoreInvalidFields=false, ignoreUnknownFields=false\r\n\r\n```\r\n\r\nIn WebConfigurer file, we have the following constructor\r\n```\r\n    public WebConfigurer(Environment env, JHipsterProperties jHipsterProperties) {\r\n        this.env = env;\r\n        this.jHipsterProperties = jHipsterProperties;\r\n    }\r\n\r\n```\r\n\r\nIn application.yml\r\n\r\n```\r\njhipster:\r\n  clientApp:\r\n    name: &#39;myapp&#39;\r\n..\r\n..\r\n```\r\n\r\nThis works in the previous working version, I am not able to figure out what could be wrong. \r\n\r\n","title":"Could not bind properties to JHipsterProperties","body":"<p>I am using JHipster 7.9.3 in my current project using Java 11, Spring Boot 2.7. We are now in the process of upgrading to Jhipster 8.0.0-rc.1, Java 17, Spring Boot 3 and Spring Framework 6.</p>\n<p>When I start the application I see this error</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webConfigurer' defined in file [mypath/WebConfigurer.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'jhipster-tech.jhipster.config.JHipsterProperties': Could not bind properties to 'JHipsterProperties' : prefix=jhipster, ignoreInvalidFields=false, ignoreUnknownFields=false\n\n</code></pre>\n<p>In WebConfigurer file, we have the following constructor</p>\n<pre><code>    public WebConfigurer(Environment env, JHipsterProperties jHipsterProperties) {\n        this.env = env;\n        this.jHipsterProperties = jHipsterProperties;\n    }\n\n</code></pre>\n<p>In application.yml</p>\n<pre><code>jhipster:\n  clientApp:\n    name: 'myapp'\n..\n..\n</code></pre>\n<p>This works in the previous working version, I am not able to figure out what could be wrong.</p>\n"},{"tags":["java","multithreading","jvm","java-memory-model"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1663611882,"post_id":73777728,"comment_id":130276215,"body_markdown":"I&#39;m confident that `size++` is fine, but I&#39;m not so sure about `return size`.","body":"I&#39;m confident that <code>size++</code> is fine, but I&#39;m not so sure about <code>return size</code>."},{"owner":{"account_id":25435838,"reputation":316,"user_id":19239577,"display_name":"greenButMellow"},"score":0,"creation_date":1663613353,"post_id":73777728,"comment_id":130276685,"body_markdown":"@LouisWasserman, can you elaborate more about `return size`?","body":"@LouisWasserman, can you elaborate more about <code>return size</code>?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1663613459,"post_id":73777728,"comment_id":130276724,"body_markdown":"the `size()` method might use a value cached by the CPU which may be out of date.","body":"the <code>size()</code> method might use a value cached by the CPU which may be out of date."},{"owner":{"account_id":25435838,"reputation":316,"user_id":19239577,"display_name":"greenButMellow"},"score":0,"creation_date":1663615124,"post_id":73777728,"comment_id":130277280,"body_markdown":"@dan1st, if I add `synchronized` or  use that `lock` it will work right?","body":"@dan1st, if I add <code>synchronized</code> or  use that <code>lock</code> it will work right?"},{"owner":{"account_id":25435838,"reputation":316,"user_id":19239577,"display_name":"greenButMellow"},"score":0,"creation_date":1663615461,"post_id":73777728,"comment_id":130277398,"body_markdown":"@dan1st, or adding setting size `volatile`","body":"@dan1st, or adding setting size <code>volatile</code>"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":4,"creation_date":1663616043,"post_id":73777728,"comment_id":130277581,"body_markdown":"you would probably need to use the same lock for both `size()` and `update`. I _think_ that `volatile` should suffice as well.","body":"you would probably need to use the same lock for both <code>size()</code> and <code>update</code>. I <i>think</i> that <code>volatile</code> should suffice as well."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1663739124,"post_id":73777728,"comment_id":130307289,"body_markdown":"Caches on modern CPUs are always coherent. The cache coherence protocol takes care of that e.g. MESI. Forcing to read/write to main memory would be extremely slow.","body":"Caches on modern CPUs are always coherent. The cache coherence protocol takes care of that e.g. MESI. Forcing to read/write to main memory would be extremely slow."}],"answers":[{"comments":[{"owner":{"account_id":25435838,"reputation":316,"user_id":19239577,"display_name":"greenButMellow"},"score":0,"creation_date":1663615210,"post_id":73778040,"comment_id":130277305,"body_markdown":"Thanks. So is adding `synchronized` or `lock()` going to fix `size()`?","body":"Thanks. So is adding <code>synchronized</code> or <code>lock()</code> going to fix <code>size()</code>?"},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":4,"creation_date":1663615677,"post_id":73778040,"comment_id":130277458,"body_markdown":"synchronized uses the implicit lock. You should use the same lock for the getter as you use for the update method. Either that or make the field volatile.","body":"synchronized uses the implicit lock. You should use the same lock for the getter as you use for the update method. Either that or make the field volatile."},{"owner":{"account_id":25435838,"reputation":316,"user_id":19239577,"display_name":"greenButMellow"},"score":0,"creation_date":1663616051,"post_id":73778040,"comment_id":130277586,"body_markdown":"@NathanHughes, can I safely ignore the warning `Non-atomic operation on volatile field &#39;size&#39; `?","body":"@NathanHughes, can I safely ignore the warning <code>Non-atomic operation on volatile field &#39;size&#39; </code>?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1663616113,"post_id":73778040,"comment_id":130277607,"body_markdown":"that warning would be a problem without locking but you might want to look into `AtomicInteger` as an alternative.","body":"that warning would be a problem without locking but you might want to look into <code>AtomicInteger</code> as an alternative."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1663616734,"post_id":73778040,"comment_id":130277796,"body_markdown":"@greenButMellow if you had for example both `synchronized void update()` and `synchronized int size()` you could remove your lock and be safe. The danger of allowing reads of volatile / atomic `size` is that code can potentially try to access an element that is no longer there because there&#39;s no way to ensure you can get `data[data.size() - 1]` for example. With synchronized you can wrap that access in `synchronized(data) {}` and get proper guarantees","body":"@greenButMellow if you had for example both <code>synchronized void update()</code> and <code>synchronized int size()</code> you could remove your lock and be safe. The danger of allowing reads of volatile / atomic <code>size</code> is that code can potentially try to access an element that is no longer there because there&#39;s no way to ensure you can get <code>data[data.size() - 1]</code> for example. With synchronized you can wrap that access in <code>synchronized(data) {}</code> and get proper guarantees"},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":1,"creation_date":1663617768,"post_id":73778040,"comment_id":130278121,"body_markdown":"@greenButMellow: using AtomicInteger is a good suggestion, often that&#39;s a better solution than volatile.","body":"@greenButMellow: using AtomicInteger is a good suggestion, often that&#39;s a better solution than volatile."},{"owner":{"account_id":14788038,"reputation":89,"user_id":10679728,"display_name":"leonov"},"score":0,"creation_date":1698260238,"post_id":73778040,"comment_id":136384119,"body_markdown":"I know this post is a year old, but @Mattias I am pretty sure you are wrong when you say: _so two threads could still read a fresh copy &quot;at the same time&quot; with the same value and both add +1 but instead of +2 it could then be a total of +1_.\n\nAssuming the value is incremented using the `update` method it&#39;s not possible to have a race condition between multiple threads since the method locks.\n\nIf `size` is volatile the samentics are the same as if the `size()` method was also locked.","body":"I know this post is a year old, but @Mattias I am pretty sure you are wrong when you say: <i>so two threads could still read a fresh copy &quot;at the same time&quot; with the same value and both add +1 but instead of +2 it could then be a total of +1</i>.  Assuming the value is incremented using the <code>update</code> method it&#39;s not possible to have a race condition between multiple threads since the method locks.  If <code>size</code> is volatile the samentics are the same as if the <code>size()</code> method was also locked."},{"owner":{"account_id":989472,"reputation":11851,"user_id":1007169,"display_name":"Mattias Isegran Bergander"},"score":0,"creation_date":1699608184,"post_id":73778040,"comment_id":136556109,"body_markdown":"@leonov that was in the context of using volatile as a solution by itself instead of the locks","body":"@leonov that was in the context of using volatile as a solution by itself instead of the locks"}],"tags":[],"owner":{"account_id":989472,"reputation":11851,"user_id":1007169,"display_name":"Mattias Isegran Bergander"},"comment_count":8,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1663657565,"creation_date":1663613436,"answer_id":73778040,"question_id":73777728,"body_markdown":"No.\r\n\r\nOther threads may see a stale (old) value of size.\r\n\r\nWhen other threads execute `size()` there is nothing there instructing it to ensure it&#39;s not reading an old value, such as a locally cached value in another cpu cache etc. Also worth mentioning is hoisting by the jvm.\r\n\r\nAn example, if you have a loop calling `size()` in one thread, it may never exit if `update()` is not called in the loop (or size changed directly), and only called/changed from other threads.\r\n\r\n    while (size() == 0) {\r\n       ...\r\n    }\r\n\r\nThe jit compiler, (at least the modern part what used to be called the c2/server compiler) could happily optimize away (hoist) the size variable checks as it sees that it never changes in the loop.\r\n\r\n**Update about alternatives:**\r\n\r\n`volatile` *could* be helpful *if* there is only one thread that will ever *write* to the variable size, including calling `update()`. Otherwise it wouldn&#39;t be protected as `size++` is both first reading and then updating (writing) the variable so two threads could still read a fresh copy &quot;at the same time&quot; with the same value and both add +1 but instead of +2 it could then be a total of +1.\r\nEven if there is only one writer I would argue against it as this could change in the future, and is a fairly subtle thing to have in the code so a future developer (including self) would stand a great risk of missing this.\r\n\r\nSo one option could be to add lock to the `size()` function as well. Possibly nice with the extra features of locks, or even use readwrite locks that would allow many readers but only one writer etc. It&#39;s not as readable (well rather verbose) as the other alternatives. Possibly nice with the future virtual threads too *if* it was a costly operation (it isn&#39;t in this case though).\r\n\r\nAnother option is just the traditional simple way of adding `synchronized` to both methods, or a `synchronized (this) { ... }` block, that would beyond doubt provide guarantees about exclusion and memory visibility. Only real drawback: This implies using that object instance as the mutex/monitor so might not be granular enough if other unrelated variables might need protection as well or others having a references to this object using it. You could then add special monitor/mutex objects for each. Pattern, a field each:\r\n\r\n    private final Object sizeMutex = new Object();\r\n\r\n \r\n... and synchronize on those `synchronized (sizeMutex) { ... }` when needed, but then it starts to be more and more verbose/complex but still fairly obvious and understandable. Biggest risk would be the possibility of introducing deadlock. Most likely not even needed to be that granular, but good to think about.\r\n\r\nSimplest option in this particular case though is to use the `AtomicInteger` or related classes for other primitives or even entire objects as others recommend in the comments.\r\n\r\n    private final AtomicInteger size = new AtomicInteger();\r\n\r\n    size() {\r\n       return size.get();\r\n    }\r\n\r\n    update() {\r\n       size.incrementAndGet();\r\n    }","title":"Do I need to use volatile?","body":"<p>No.</p>\n<p>Other threads may see a stale (old) value of size.</p>\n<p>When other threads execute <code>size()</code> there is nothing there instructing it to ensure it's not reading an old value, such as a locally cached value in another cpu cache etc. Also worth mentioning is hoisting by the jvm.</p>\n<p>An example, if you have a loop calling <code>size()</code> in one thread, it may never exit if <code>update()</code> is not called in the loop (or size changed directly), and only called/changed from other threads.</p>\n<pre><code>while (size() == 0) {\n   ...\n}\n</code></pre>\n<p>The jit compiler, (at least the modern part what used to be called the c2/server compiler) could happily optimize away (hoist) the size variable checks as it sees that it never changes in the loop.</p>\n<p><strong>Update about alternatives:</strong></p>\n<p><code>volatile</code> <em>could</em> be helpful <em>if</em> there is only one thread that will ever <em>write</em> to the variable size, including calling <code>update()</code>. Otherwise it wouldn't be protected as <code>size++</code> is both first reading and then updating (writing) the variable so two threads could still read a fresh copy &quot;at the same time&quot; with the same value and both add +1 but instead of +2 it could then be a total of +1.\nEven if there is only one writer I would argue against it as this could change in the future, and is a fairly subtle thing to have in the code so a future developer (including self) would stand a great risk of missing this.</p>\n<p>So one option could be to add lock to the <code>size()</code> function as well. Possibly nice with the extra features of locks, or even use readwrite locks that would allow many readers but only one writer etc. It's not as readable (well rather verbose) as the other alternatives. Possibly nice with the future virtual threads too <em>if</em> it was a costly operation (it isn't in this case though).</p>\n<p>Another option is just the traditional simple way of adding <code>synchronized</code> to both methods, or a <code>synchronized (this) { ... }</code> block, that would beyond doubt provide guarantees about exclusion and memory visibility. Only real drawback: This implies using that object instance as the mutex/monitor so might not be granular enough if other unrelated variables might need protection as well or others having a references to this object using it. You could then add special monitor/mutex objects for each. Pattern, a field each:</p>\n<pre><code>private final Object sizeMutex = new Object();\n</code></pre>\n<p>... and synchronize on those <code>synchronized (sizeMutex) { ... }</code> when needed, but then it starts to be more and more verbose/complex but still fairly obvious and understandable. Biggest risk would be the possibility of introducing deadlock. Most likely not even needed to be that granular, but good to think about.</p>\n<p>Simplest option in this particular case though is to use the <code>AtomicInteger</code> or related classes for other primitives or even entire objects as others recommend in the comments.</p>\n<pre><code>private final AtomicInteger size = new AtomicInteger();\n\nsize() {\n   return size.get();\n}\n\nupdate() {\n   size.incrementAndGet();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663618018,"creation_date":1663617080,"answer_id":73778595,"question_id":73777728,"body_markdown":"&gt; As far as I understand, ReentrantLock imposes an happens-before relationship...\r\n\r\nYes. When some thread W (W for &quot;writer&quot;) unlocks a lock, that &quot;happens before&quot; some other thread R (for &quot;reader&quot;) subsequently locks _the same lock._\r\n\r\nIn order to take advantage of that relationship, you have to lock the same lock in both methods:\r\n\r\n``` lang-java\r\npublic class MyDataStructure {\r\n\r\n    int size;\r\n    final ReentrantLock lock = new ReentrantLock();\r\n\r\n    public void update() {\r\n        lock.lock();\r\n        try {\r\n            size++;         // happens before unlock() because things that happen\r\n                            //  in one thread all happen in _program order._\r\n        } finally {\r\n            lock.unlock();  // Happens before a pending lock.lock() call in some\r\n                            //  other thread.\r\n        }\r\n    }\r\n\r\n    public int size() {\r\n        lock.lock();        // Happens before return size because...\r\n                            //  ...program order.\r\n        try {\r\n            return size;\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n}\r\n```","title":"Do I need to use volatile?","body":"<blockquote>\n<p>As far as I understand, ReentrantLock imposes an happens-before relationship...</p>\n</blockquote>\n<p>Yes. When some thread W (W for &quot;writer&quot;) unlocks a lock, that &quot;happens before&quot; some other thread R (for &quot;reader&quot;) subsequently locks <em>the same lock.</em></p>\n<p>In order to take advantage of that relationship, you have to lock the same lock in both methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyDataStructure {\n\n    int size;\n    final ReentrantLock lock = new ReentrantLock();\n\n    public void update() {\n        lock.lock();\n        try {\n            size++;         // happens before unlock() because things that happen\n                            //  in one thread all happen in _program order._\n        } finally {\n            lock.unlock();  // Happens before a pending lock.lock() call in some\n                            //  other thread.\n        }\n    }\n\n    public int size() {\n        lock.lock();        // Happens before return size because...\n                            //  ...program order.\n        try {\n            return size;\n        } finally {\n            lock.unlock();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14788038,"reputation":89,"user_id":10679728,"display_name":"leonov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698261431,"creation_date":1698261431,"answer_id":77362340,"question_id":73777728,"body_markdown":"The accepted answer is correct, but the **Update about alternatives** section is wrong. Maybe it was added after the answer was accepted.\r\n\r\nIn the scenario described by the OP, the semantics of volatile are the same as if the `size()` method was using the same lock as the `update()` method, or if they were both synchronized.\r\n\r\n 1. Regardless of anything else, there cannot be any race condition when calling `update()` no matter how many threads call it. This is the whole point of having a lock. So it&#39;s not possible for two threads to call `update()` and have the value only incremented by 1. The lock ensures a `Happens-Before` relationship for any fields inside it.\r\n\r\n 2. What `volatile` means in plain language is _every thread will always see the most recent value_ of `size`. Which, in this case, is exactly the same as locking in the `size()` method or having both methods use `synchronized`.\r\n\r\n 3. There seems to be confusion about what a _compound operation_ is. It is absolute true that multiple threads calling `size()` and `update()` may see the same value multiple times. This is because `size()` and `update()` are independent operations and there is no guarantee as to the order in which they are called.&lt;p&gt; Any algorithm which depends on both of these methods for correctness (e.g. `if(size() &lt; 3) update()`) is using them as a _compound operation_. Which means the code must be synchronized externally.","title":"Do I need to use volatile?","body":"<p>The accepted answer is correct, but the <strong>Update about alternatives</strong> section is wrong. Maybe it was added after the answer was accepted.</p>\n<p>In the scenario described by the OP, the semantics of volatile are the same as if the <code>size()</code> method was using the same lock as the <code>update()</code> method, or if they were both synchronized.</p>\n<ol>\n<li><p>Regardless of anything else, there cannot be any race condition when calling <code>update()</code> no matter how many threads call it. This is the whole point of having a lock. So it's not possible for two threads to call <code>update()</code> and have the value only incremented by 1. The lock ensures a <code>Happens-Before</code> relationship for any fields inside it.</p>\n</li>\n<li><p>What <code>volatile</code> means in plain language is <em>every thread will always see the most recent value</em> of <code>size</code>. Which, in this case, is exactly the same as locking in the <code>size()</code> method or having both methods use <code>synchronized</code>.</p>\n</li>\n<li><p>There seems to be confusion about what a <em>compound operation</em> is. It is absolute true that multiple threads calling <code>size()</code> and <code>update()</code> may see the same value multiple times. This is because <code>size()</code> and <code>update()</code> are independent operations and there is no guarantee as to the order in which they are called.<p> Any algorithm which depends on both of these methods for correctness (e.g. <code>if(size() &lt; 3) update()</code>) is using them as a <em>compound operation</em>. Which means the code must be synchronized externally.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":25435838,"reputation":316,"user_id":19239577,"display_name":"greenButMellow"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73778040,"answer_count":3,"score":2,"last_activity_date":1698261431,"creation_date":1663611658,"question_id":73777728,"body_markdown":"Consider the following code:\r\n\r\n    public class MyDataStructure {\r\n    \r\n        int size;\r\n        final ReentrantLock lock = new ReentrantLock();\r\n    \r\n        public void update() {\r\n            lock.lock();\r\n            try {\r\n                // do coll stuff\r\n                size++;\r\n            } finally {\r\n                lock.unlock();\r\n            }\r\n        }\r\n    \r\n        public int size() {\r\n            return size;\r\n        }\r\n    }\r\n\r\nAs far as I understand, `ReentrantLock` imposes an happens-before relationship so `size++` needs to affect the main memory and the cache (of other threads) with the new value. Hence, no need to use `volatile` for `size`. Also, for the same reason the method `size()` can simply return `size`.\r\n\r\nIs my understanding correct?","title":"Do I need to use volatile?","body":"<p>Consider the following code:</p>\n<pre><code>public class MyDataStructure {\n\n    int size;\n    final ReentrantLock lock = new ReentrantLock();\n\n    public void update() {\n        lock.lock();\n        try {\n            // do coll stuff\n            size++;\n        } finally {\n            lock.unlock();\n        }\n    }\n\n    public int size() {\n        return size;\n    }\n}\n</code></pre>\n<p>As far as I understand, <code>ReentrantLock</code> imposes an happens-before relationship so <code>size++</code> needs to affect the main memory and the cache (of other threads) with the new value. Hence, no need to use <code>volatile</code> for <code>size</code>. Also, for the same reason the method <code>size()</code> can simply return <code>size</code>.</p>\n<p>Is my understanding correct?</p>\n"},{"tags":["java","spring-boot","docker","kubernetes","spring-security"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":3,"creation_date":1670378918,"post_id":74710946,"comment_id":131861680,"body_markdown":"I&#39;d recommend Spring Boot 3.x.  It requires JDK 17 and uses the new Jakarta package.","body":"I&#39;d recommend Spring Boot 3.x.  It requires JDK 17 and uses the new Jakarta package."},{"owner":{"account_id":13330941,"reputation":31,"user_id":10214113,"display_name":"Alejandro Villamizar"},"score":2,"creation_date":1670381019,"post_id":74710946,"comment_id":131861948,"body_markdown":"Yes, that&#39;s true. I upgraded to Spring-Boot 3.0.0 and it works! Thanks! According to this document, it need compatibility with tomcat and spring secutiry 6.x https://spring.io/blog/2022/07/28/spring-authorization-server-is-going-1-0","body":"Yes, that&#39;s true. I upgraded to Spring-Boot 3.0.0 and it works! Thanks! According to this document, it need compatibility with tomcat and spring secutiry 6.x <a href=\"https://spring.io/blog/2022/07/28/spring-authorization-server-is-going-1-0\" rel=\"nofollow noreferrer\">spring.io/blog/2022/07/28/&hellip;</a>"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1670414762,"post_id":74710946,"comment_id":131870222,"body_markdown":"Easy fix, thanks to Maven.  New version and voila!  Glad it worked for you.","body":"Easy fix, thanks to Maven.  New version and voila!  Glad it worked for you."}],"answers":[{"comments":[{"owner":{"account_id":13330941,"reputation":31,"user_id":10214113,"display_name":"Alejandro Villamizar"},"score":0,"creation_date":1670446133,"post_id":74714021,"comment_id":131880768,"body_markdown":"Spring Boot include an embedded tomcat","body":"Spring Boot include an embedded tomcat"}],"tags":[],"owner":{"account_id":221739,"reputation":12705,"user_id":479900,"display_name":"James Roper"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670403481,"creation_date":1670403481,"answer_id":74714021,"question_id":74710946,"body_markdown":"How are you building your Docker image? Whatever method you&#39;re using, it appears you&#39;re not including a web server (eg Tomcat or Jetty) in that image.","title":"java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest","body":"<p>How are you building your Docker image? Whatever method you're using, it appears you're not including a web server (eg Tomcat or Jetty) in that image.</p>\n"},{"tags":[],"owner":{"account_id":141852,"reputation":4322,"user_id":349169,"accept_rate":78,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1674745709,"creation_date":1674745709,"answer_id":75247981,"question_id":74710946,"body_markdown":"I was using Spring Boot 3 but was missing:\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest","body":"<p>I was using Spring Boot 3 but was missing:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1967514,"reputation":740,"user_id":1767342,"display_name":"Juan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686134842,"creation_date":1686134842,"answer_id":76422479,"question_id":74710946,"body_markdown":"I found this issue upgrading to Spring Boot 3.0. \r\n\r\n**Problem:** I had Tomcat as independent dependency in pom.xml instead of letting Spring handle that. \r\n\r\n**Fix: Remove Tomcat from pom** and let Spring define Tomcat.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n        &lt;version&gt;9.0.75&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n**TLDR:**\r\nTo diagnose: first check your dependency tree using maven:\r\n\r\n    mvn dependency:tree\r\n\r\nYou should find 2 Tomcat. One associated with Spring similar to:\r\n\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.0:compile\r\n    [INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.1:compile\r\n    [INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.1:compile\r\n    [INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.1:compile\r\n\r\nAnd a second Tomcat:\r\n\r\n    [INFO] +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.75:compile\r\n    [INFO] |  \\- org.apache.tomcat:tomcat-annotations-api:jar:10.1.1:compile\r\n\r\n\r\n\r\nBy removing the following, you&#39;ll only have Spring injected Tomcat and problem will be solved:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n        &lt;version&gt;9.0.75&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nDone!","title":"java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest","body":"<p>I found this issue upgrading to Spring Boot 3.0.</p>\n<p><strong>Problem:</strong> I had Tomcat as independent dependency in pom.xml instead of letting Spring handle that.</p>\n<p><strong>Fix: Remove Tomcat from pom</strong> and let Spring define Tomcat.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n    &lt;version&gt;9.0.75&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>TLDR:</strong>\nTo diagnose: first check your dependency tree using maven:</p>\n<pre><code>mvn dependency:tree\n</code></pre>\n<p>You should find 2 Tomcat. One associated with Spring similar to:</p>\n<pre><code>[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.0:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.1:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.1:compile\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.1:compile\n</code></pre>\n<p>And a second Tomcat:</p>\n<pre><code>[INFO] +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.75:compile\n[INFO] |  \\- org.apache.tomcat:tomcat-annotations-api:jar:10.1.1:compile\n</code></pre>\n<p>By removing the following, you'll only have Spring injected Tomcat and problem will be solved:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n    &lt;version&gt;9.0.75&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Done!</p>\n"},{"tags":[],"owner":{"account_id":15634838,"reputation":91,"user_id":11280067,"display_name":"Mykyta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686855414,"creation_date":1686855414,"answer_id":76484728,"question_id":74710946,"body_markdown":"The latest Spring Cloud uses the new Jakarta package and it&#39;s missing in Spring Boot 2.x so if you recently updated your Spring dependencies try to check them first.\r\n\r\nIn my case downgrading to the previous spring-cloud version solved the issue.\r\n\r\n\r\n\r\n","title":"java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest","body":"<p>The latest Spring Cloud uses the new Jakarta package and it's missing in Spring Boot 2.x so if you recently updated your Spring dependencies try to check them first.</p>\n<p>In my case downgrading to the previous spring-cloud version solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":15883687,"reputation":33,"user_id":11460743,"display_name":"Ioan Simiciuc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692713116,"creation_date":1692713116,"answer_id":76954122,"question_id":74710946,"body_markdown":"Restarting IntelliJ with invalidating caches worked for me.","title":"java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest","body":"<p>Restarting IntelliJ with invalidating caches worked for me.</p>\n"},{"tags":[],"owner":{"account_id":18435911,"reputation":1,"user_id":13429765,"display_name":"Benjamin Angmortey Kubi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698261417,"creation_date":1698261417,"answer_id":77362337,"question_id":74710946,"body_markdown":"Forgot to add this dependency\r\n\r\n```\r\n&lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n","title":"java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest","body":"<p>Forgot to add this dependency</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13330941,"reputation":31,"user_id":10214113,"display_name":"Alejandro Villamizar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21747,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":6,"score":3,"last_activity_date":1698261417,"creation_date":1670378626,"question_id":74710946,"body_markdown":"Using Kubernetes, exactly the `kubectl apply -f ./auth.yaml` statement, i&#39;m trying to run a Authorization Server in a pod, but when I check out the logs, this show me the following error:\r\n\r\n\r\n```\r\n .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::               (v2.6.13)\r\n\r\n2022-12-07 01:33:30.099  INFO 1 --- [           main] o.v.s.msvc.auth.MsvcAuthApplication      : Starting MsvcAuthApplication v1.0-SNAPSHOT using Java 18.0.2.1 on msvc-auth-7d696f776d-hpk99 with PID 1 (/app/msvc-auth-1.0-SNAPSHOT.jar started by root in /app)\r\n2022-12-07 01:33:30.203  INFO 1 --- [           main] o.v.s.msvc.auth.MsvcAuthApplication      : The following 1 profile is active: &quot;kubernetes&quot;\r\n2022-12-07 01:33:48.711  INFO 1 --- [           main] o.s.c.k.client.KubernetesClientUtils     : Created API client in the cluster.\r\n2022-12-07 01:33:48.913  INFO 1 --- [           main] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition &#39;org.springframework.cloud.kubernetes.client.KubernetesClientAutoConfiguration&#39; since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as &#39;static&#39;.\r\n2022-12-07 01:33:49.794  INFO 1 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9e09a67e-4528-373e-99ad-3031c15d14ab\r\n2022-12-07 01:33:50.922  INFO 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;io.kubernetes.client.spring.extended.manifests.config.KubernetesManifestsAutoConfiguration&#39; of type [io.kubernetes.client.spring.extended.manifests.config.KubernetesManifestsAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-12-07 01:33:51.113  INFO 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration&#39; of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-12-07 01:33:51.184  INFO 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration&#39; of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-12-07 01:33:51.187  INFO 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;loadBalancerClientsDefaultsMappingsProvider&#39; of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$420/0x0000000800f30898] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-12-07 01:33:51.205  INFO 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;defaultsBindHandlerAdvisor&#39; of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-12-07 01:33:51.311  INFO 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;kubernetes.manifests-io.kubernetes.client.spring.extended.manifests.config.KubernetesManifestsProperties&#39; of type [io.kubernetes.client.spring.extended.manifests.config.KubernetesManifestsProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-12-07 01:33:51.412  INFO 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration&#39; of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-12-07 01:33:51.419  INFO 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig&#39; of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-12-07 01:33:51.489  INFO 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;reactorDeferringLoadBalancerExchangeFilterFunction&#39; of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-12-07 01:33:58.301  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9000 (http)\r\n2022-12-07 01:33:58.393  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-12-07 01:33:58.393  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.68]\r\n2022-12-07 01:33:58.795  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-12-07 01:33:58.796  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 26917 ms\r\n2022-12-07 01:34:01.099  WARN 1 --- [           main] o.s.security.core.userdetails.User       : User.withDefaultPasswordEncoder() is considered unsafe for production and is only intended for sample applications.\r\n2022-12-07 01:34:02.385  WARN 1 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;authorizationServerSecurityFilterChain&#39; defined in class path resource [org/villamzr/springcloud/msvc/auth/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;authorizationServerSecurityFilterChain&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\r\n2022-12-07 01:34:02.413  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-12-07 01:34:02.677  INFO 1 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-12-07 01:34:02.991 ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;authorizationServerSecurityFilterChain&#39; defined in class path resource [org/villamzr/springcloud/msvc/auth/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;authorizationServerSecurityFilterChain&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.13.jar!/:2.6.13]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.13.jar!/:2.6.13]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.13.jar!/:2.6.13]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.13.jar!/:2.6.13]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.13.jar!/:2.6.13]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.13.jar!/:2.6.13]\r\n        at org.villamzr.springcloud.msvc.auth.MsvcAuthApplication.main(MsvcAuthApplication.java:12) ~[classes!/:1.0-SNAPSHOT]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[msvc-auth-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[msvc-auth-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[msvc-auth-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[msvc-auth-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;authorizationServerSecurityFilterChain&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        ... 25 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\r\n        at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer.getEndpointsMatcher(OAuth2AuthorizationServerConfigurer.java:235) ~[spring-security-oauth2-authorization-server-1.0.0.jar!/:1.0.0]\r\n        at org.springframework.security.oauth2.server.authorization.config.annotation.web.configuration.OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(OAuth2AuthorizationServerConfiguration.java:63) ~[spring-security-oauth2-authorization-server-1.0.0.jar!/:1.0.0]\r\n        at org.villamzr.springcloud.msvc.auth.SecurityConfig.authorizationServerSecurityFilterChain(SecurityConfig.java:51) ~[classes!/:1.0-SNAPSHOT]\r\n        at org.villamzr.springcloud.msvc.auth.SecurityConfig$$EnhancerBySpringCGLIB$$477933bf.CGLIB$authorizationServerSecurityFilterChain$1(&lt;generated&gt;) ~[classes!/:1.0-SNAPSHOT]\r\n        at org.villamzr.springcloud.msvc.auth.SecurityConfig$$EnhancerBySpringCGLIB$$477933bf$$FastClassBySpringCGLIB$$a983a242.invoke(&lt;generated&gt;) ~[classes!/:1.0-SNAPSHOT]\r\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.23.jar!/:5.3.23]\r\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.23.jar!/:5.3.23]\r\n        at org.villamzr.springcloud.msvc.auth.SecurityConfig$$EnhancerBySpringCGLIB$$477933bf.authorizationServerSecurityFilterChain(&lt;generated&gt;) ~[classes!/:1.0-SNAPSHOT]\r\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.23.jar!/:5.3.23]\r\n        ... 26 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: jakarta.servlet.http.HttpServletRequest\r\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445) ~[na:na]\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588) ~[na:na]\r\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151) ~[msvc-auth-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n        ... 37 common frames omitted\r\n```\r\n\r\nThis is the auth.yaml configuration.\r\n\r\n```\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: msvc-auth\r\nspec:\r\n  replicas: 1\r\n  selector:\r\n    matchLabels:\r\n      app: msvc-auth\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: msvc-auth\r\n    spec:\r\n      containers:\r\n        - image: villamzr/auth:latest\r\n          name: msvc-auth\r\n          ports:\r\n            - containerPort: 9000\r\n          env:\r\n            - name: LB_USUARIOS_URI\r\n              valueFrom:\r\n                configMapKeyRef:\r\n                  name: msvc-usuarios\r\n                  key: lb_usuarios_uri\r\n---\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: msvc-auth\r\nspec:\r\n  type: LoadBalancer\r\n  ports:\r\n    - port: 9000\r\n      protocol: TCP\r\n      targetPort: 9000\r\n  selector:\r\n    app: msvc-auth\r\n\r\n```\r\n\r\nthis one is the pom.xml of the microservice\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n   &lt;parent&gt;\r\n      &lt;groupId&gt;org.villamzr.springcloud.msvc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;curso-kubernetes&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n   &lt;/parent&gt;\r\n   &lt;groupId&gt;org.villamzr.springcloud.msvc.auth&lt;/groupId&gt;\r\n   &lt;artifactId&gt;msvc-auth&lt;/artifactId&gt;\r\n   &lt;name&gt;msvc-auth&lt;/name&gt;\r\n   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n   &lt;properties&gt;\r\n      &lt;java.version&gt;18&lt;/java.version&gt;\r\n      &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\r\n   &lt;/properties&gt;\r\n   &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\r\n         &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-cloud-starter-kubernetes-client&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-cloud-starter-kubernetes-client-loadbalancer&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n         &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n   &lt;/dependencies&gt;\r\n   &lt;dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n         &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n   &lt;/dependencyManagement&gt;\r\n   &lt;build&gt;\r\n      &lt;plugins&gt;\r\n         &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n         &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n   &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nand this one is the Securityconfig\r\n\r\n\r\n```\r\npackage org.villamzr.springcloud.msvc.auth;\r\n\r\nimport com.nimbusds.jose.jwk.JWKSet;\r\nimport com.nimbusds.jose.jwk.RSAKey;\r\nimport com.nimbusds.jose.jwk.source.ImmutableJWKSet;\r\nimport com.nimbusds.jose.jwk.source.JWKSource;\r\nimport com.nimbusds.jose.proc.SecurityContext;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.security.config.Customizer;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer;\r\nimport org.springframework.security.config.annotation.web.reactive.EnableWebFluxSecurity;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.oauth2.core.AuthorizationGrantType;\r\nimport org.springframework.security.oauth2.core.ClientAuthenticationMethod;\r\nimport org.springframework.security.oauth2.core.oidc.OidcScopes;\r\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\r\nimport org.springframework.security.oauth2.server.authorization.client.InMemoryRegisteredClientRepository;\r\nimport org.springframework.security.oauth2.server.authorization.client.RegisteredClient;\r\nimport org.springframework.security.oauth2.server.authorization.client.RegisteredClientRepository;\r\nimport org.springframework.security.oauth2.server.authorization.config.annotation.web.configuration.OAuth2AuthorizationServerConfiguration;\r\nimport org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer;\r\nimport org.springframework.security.oauth2.server.authorization.settings.AuthorizationServerSettings;\r\nimport org.springframework.security.oauth2.server.authorization.settings.ClientSettings;\r\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint;\r\n\r\nimport java.security.KeyPair;\r\nimport java.security.KeyPairGenerator;\r\nimport java.security.interfaces.RSAPrivateKey;\r\nimport java.security.interfaces.RSAPublicKey;\r\nimport java.util.UUID;\r\n\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @Bean\r\n    @Order(1)\r\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http)\r\n            throws Exception {\r\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\r\n                .oidc(Customizer.withDefaults());  // Enable OpenID Connect 1.0\r\n        http\r\n                // Redirect to the login page when not authenticated from the\r\n                // authorization endpoint\r\n                .exceptionHandling((exceptions) -&gt; exceptions\r\n                        .authenticationEntryPoint(\r\n                                new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;))\r\n                )\r\n                // Accept access tokens for User Info and/or Client Registration\r\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    @Order(2)\r\n    public SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http)\r\n            throws Exception {\r\n        http\r\n                .authorizeHttpRequests((authorize) -&gt; authorize\r\n                        .anyRequest().authenticated()\r\n                )\r\n                // Form login handles the redirect to the login page from the\r\n                // authorization server filter chain\r\n                .formLogin(Customizer.withDefaults());\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        UserDetails userDetails = User.withDefaultPasswordEncoder()\r\n                .username(&quot;admin&quot;)\r\n                .password(&quot;12345&quot;)\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n\r\n        return new InMemoryUserDetailsManager(userDetails);\r\n    }\r\n\r\n    @Bean\r\n    public RegisteredClientRepository registeredClientRepository() {\r\n        RegisteredClient registeredClient = RegisteredClient.withId(UUID.randomUUID().toString())\r\n                .clientId(&quot;usuarios-client&quot;)\r\n                .clientSecret(&quot;{noop}12345&quot;)\r\n                .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\r\n                .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\r\n                .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\r\n                .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\r\n                .redirectUri(env.getProperty(&quot;LB_USUARIOS_URI&quot;)+&quot;/login/oauth2/code/msvc-usuarios-client&quot;)\r\n                .redirectUri(env.getProperty(&quot;LB_USUARIOS_URI&quot;)+&quot;/authorized&quot;)\r\n                .scope(OidcScopes.OPENID)\r\n                .scope(OidcScopes.PROFILE)\r\n                .scope(&quot;read&quot;)\r\n                .scope(&quot;write&quot;)\r\n                .clientSettings(ClientSettings.builder().requireAuthorizationConsent(true).build())\r\n                .build();\r\n\r\n        return new InMemoryRegisteredClientRepository(registeredClient);\r\n    }\r\n\r\n    @Bean\r\n    public JWKSource&lt;SecurityContext&gt; jwkSource() {\r\n        KeyPair keyPair = generateRsaKey();\r\n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\r\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\r\n        RSAKey rsaKey = new RSAKey.Builder(publicKey)\r\n                .privateKey(privateKey)\r\n                .keyID(UUID.randomUUID().toString())\r\n                .build();\r\n        JWKSet jwkSet = new JWKSet(rsaKey);\r\n        return new ImmutableJWKSet&lt;&gt;(jwkSet);\r\n    }\r\n\r\n    private static KeyPair generateRsaKey() {\r\n        KeyPair keyPair;\r\n        try {\r\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n            keyPairGenerator.initialize(2048);\r\n            keyPair = keyPairGenerator.generateKeyPair();\r\n        }\r\n        catch (Exception ex) {\r\n            throw new IllegalStateException(ex);\r\n        }\r\n        return keyPair;\r\n    }\r\n\r\n    @Bean\r\n    public JwtDecoder jwtDecoder(JWKSource&lt;SecurityContext&gt; jwkSource) {\r\n        return OAuth2AuthorizationServerConfiguration.jwtDecoder(jwkSource);\r\n    }\r\n\r\n    @Bean\r\n    public AuthorizationServerSettings authorizationServerSettings() {\r\n        return AuthorizationServerSettings.builder().build();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n**SOLUTIONS I TESTED BUT IT DOWS NOT WORK**\r\n1. I changed the tomcat server version to 10.x\r\n2. I added the jakarta-api dependency to pom.xml of microservice, with 3.x, 5.x and 6.x versions\r\n3. I added the `@EnableWebSecurity`\r\n\r\n**NOTES**\r\n1. I&#39;m using java 18\r\n2. I&#39;m using Oauth 2.1 and authorization server 1.0.0","title":"java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest","body":"<p>Using Kubernetes, exactly the <code>kubectl apply -f ./auth.yaml</code> statement, i'm trying to run a Authorization Server in a pod, but when I check out the logs, this show me the following error:</p>\n<pre><code> .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::               (v2.6.13)\n\n2022-12-07 01:33:30.099  INFO 1 --- [           main] o.v.s.msvc.auth.MsvcAuthApplication      : Starting MsvcAuthApplication v1.0-SNAPSHOT using Java 18.0.2.1 on msvc-auth-7d696f776d-hpk99 with PID 1 (/app/msvc-auth-1.0-SNAPSHOT.jar started by root in /app)\n2022-12-07 01:33:30.203  INFO 1 --- [           main] o.v.s.msvc.auth.MsvcAuthApplication      : The following 1 profile is active: &quot;kubernetes&quot;\n2022-12-07 01:33:48.711  INFO 1 --- [           main] o.s.c.k.client.KubernetesClientUtils     : Created API client in the cluster.\n2022-12-07 01:33:48.913  INFO 1 --- [           main] o.s.c.a.ConfigurationClassPostProcessor  : Cannot enhance @Configuration bean definition 'org.springframework.cloud.kubernetes.client.KubernetesClientAutoConfiguration' since its singleton instance has been created too early. The typical cause is a non-static @Bean method with a BeanDefinitionRegistryPostProcessor return type: Consider declaring such methods as 'static'.\n2022-12-07 01:33:49.794  INFO 1 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=9e09a67e-4528-373e-99ad-3031c15d14ab\n2022-12-07 01:33:50.922  INFO 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'io.kubernetes.client.spring.extended.manifests.config.KubernetesManifestsAutoConfiguration' of type [io.kubernetes.client.spring.extended.manifests.config.KubernetesManifestsAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-12-07 01:33:51.113  INFO 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration' of type [org.springframework.cloud.commons.config.CommonsConfigAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-12-07 01:33:51.184  INFO 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-12-07 01:33:51.187  INFO 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'loadBalancerClientsDefaultsMappingsProvider' of type [org.springframework.cloud.client.loadbalancer.LoadBalancerDefaultMappingsProviderAutoConfiguration$$Lambda$420/0x0000000800f30898] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-12-07 01:33:51.205  INFO 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'defaultsBindHandlerAdvisor' of type [org.springframework.cloud.commons.config.DefaultsBindHandlerAdvisor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-12-07 01:33:51.311  INFO 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'kubernetes.manifests-io.kubernetes.client.spring.extended.manifests.config.KubernetesManifestsProperties' of type [io.kubernetes.client.spring.extended.manifests.config.KubernetesManifestsProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-12-07 01:33:51.412  INFO 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-12-07 01:33:51.419  INFO 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig' of type [org.springframework.cloud.client.loadbalancer.reactive.LoadBalancerBeanPostProcessorAutoConfiguration$ReactorDeferringLoadBalancerFilterConfig] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-12-07 01:33:51.489  INFO 1 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'reactorDeferringLoadBalancerExchangeFilterFunction' of type [org.springframework.cloud.client.loadbalancer.reactive.DeferringLoadBalancerExchangeFilterFunction] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-12-07 01:33:58.301  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 9000 (http)\n2022-12-07 01:33:58.393  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-12-07 01:33:58.393  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.68]\n2022-12-07 01:33:58.795  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-12-07 01:33:58.796  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 26917 ms\n2022-12-07 01:34:01.099  WARN 1 --- [           main] o.s.security.core.userdetails.User       : User.withDefaultPasswordEncoder() is considered unsafe for production and is only intended for sample applications.\n2022-12-07 01:34:02.385  WARN 1 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorizationServerSecurityFilterChain' defined in class path resource [org/villamzr/springcloud/msvc/auth/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\n2022-12-07 01:34:02.413  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-12-07 01:34:02.677  INFO 1 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-12-07 01:34:02.991 ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authorizationServerSecurityFilterChain' defined in class path resource [org/villamzr/springcloud/msvc/auth/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.23.jar!/:5.3.23]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar!/:5.3.23]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.13.jar!/:2.6.13]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.13.jar!/:2.6.13]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.13.jar!/:2.6.13]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.13.jar!/:2.6.13]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.13.jar!/:2.6.13]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.13.jar!/:2.6.13]\n        at org.villamzr.springcloud.msvc.auth.MsvcAuthApplication.main(MsvcAuthApplication.java:12) ~[classes!/:1.0-SNAPSHOT]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[msvc-auth-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[msvc-auth-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[msvc-auth-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[msvc-auth-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'authorizationServerSecurityFilterChain' threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        ... 25 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletRequest\n        at org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer.getEndpointsMatcher(OAuth2AuthorizationServerConfigurer.java:235) ~[spring-security-oauth2-authorization-server-1.0.0.jar!/:1.0.0]\n        at org.springframework.security.oauth2.server.authorization.config.annotation.web.configuration.OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(OAuth2AuthorizationServerConfiguration.java:63) ~[spring-security-oauth2-authorization-server-1.0.0.jar!/:1.0.0]\n        at org.villamzr.springcloud.msvc.auth.SecurityConfig.authorizationServerSecurityFilterChain(SecurityConfig.java:51) ~[classes!/:1.0-SNAPSHOT]\n        at org.villamzr.springcloud.msvc.auth.SecurityConfig$$EnhancerBySpringCGLIB$$477933bf.CGLIB$authorizationServerSecurityFilterChain$1(&lt;generated&gt;) ~[classes!/:1.0-SNAPSHOT]\n        at org.villamzr.springcloud.msvc.auth.SecurityConfig$$EnhancerBySpringCGLIB$$477933bf$$FastClassBySpringCGLIB$$a983a242.invoke(&lt;generated&gt;) ~[classes!/:1.0-SNAPSHOT]\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.23.jar!/:5.3.23]\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.23.jar!/:5.3.23]\n        at org.villamzr.springcloud.msvc.auth.SecurityConfig$$EnhancerBySpringCGLIB$$477933bf.authorizationServerSecurityFilterChain(&lt;generated&gt;) ~[classes!/:1.0-SNAPSHOT]\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.23.jar!/:5.3.23]\n        ... 26 common frames omitted\nCaused by: java.lang.ClassNotFoundException: jakarta.servlet.http.HttpServletRequest\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445) ~[na:na]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588) ~[na:na]\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:151) ~[msvc-auth-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n        ... 37 common frames omitted\n</code></pre>\n<p>This is the auth.yaml configuration.</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: msvc-auth\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: msvc-auth\n  template:\n    metadata:\n      labels:\n        app: msvc-auth\n    spec:\n      containers:\n        - image: villamzr/auth:latest\n          name: msvc-auth\n          ports:\n            - containerPort: 9000\n          env:\n            - name: LB_USUARIOS_URI\n              valueFrom:\n                configMapKeyRef:\n                  name: msvc-usuarios\n                  key: lb_usuarios_uri\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: msvc-auth\nspec:\n  type: LoadBalancer\n  ports:\n    - port: 9000\n      protocol: TCP\n      targetPort: 9000\n  selector:\n    app: msvc-auth\n\n</code></pre>\n<p>this one is the pom.xml of the microservice</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;parent&gt;\n      &lt;groupId&gt;org.villamzr.springcloud.msvc&lt;/groupId&gt;\n      &lt;artifactId&gt;curso-kubernetes&lt;/artifactId&gt;\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n   &lt;/parent&gt;\n   &lt;groupId&gt;org.villamzr.springcloud.msvc.auth&lt;/groupId&gt;\n   &lt;artifactId&gt;msvc-auth&lt;/artifactId&gt;\n   &lt;name&gt;msvc-auth&lt;/name&gt;\n   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n   &lt;properties&gt;\n      &lt;java.version&gt;18&lt;/java.version&gt;\n      &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\n   &lt;/properties&gt;\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\n         &lt;version&gt;1.0.0&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-cloud-starter-kubernetes-client&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-cloud-starter-kubernetes-client-loadbalancer&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n         &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n   &lt;dependencyManagement&gt;\n      &lt;dependencies&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n         &lt;/dependency&gt;\n      &lt;/dependencies&gt;\n   &lt;/dependencyManagement&gt;\n   &lt;build&gt;\n      &lt;plugins&gt;\n         &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n         &lt;/plugin&gt;\n      &lt;/plugins&gt;\n   &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>and this one is the Securityconfig</p>\n<pre><code>package org.villamzr.springcloud.msvc.auth;\n\nimport com.nimbusds.jose.jwk.JWKSet;\nimport com.nimbusds.jose.jwk.RSAKey;\nimport com.nimbusds.jose.jwk.source.ImmutableJWKSet;\nimport com.nimbusds.jose.jwk.source.JWKSource;\nimport com.nimbusds.jose.proc.SecurityContext;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.core.env.Environment;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer;\nimport org.springframework.security.config.annotation.web.reactive.EnableWebFluxSecurity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.oauth2.core.AuthorizationGrantType;\nimport org.springframework.security.oauth2.core.ClientAuthenticationMethod;\nimport org.springframework.security.oauth2.core.oidc.OidcScopes;\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\nimport org.springframework.security.oauth2.server.authorization.client.InMemoryRegisteredClientRepository;\nimport org.springframework.security.oauth2.server.authorization.client.RegisteredClient;\nimport org.springframework.security.oauth2.server.authorization.client.RegisteredClientRepository;\nimport org.springframework.security.oauth2.server.authorization.config.annotation.web.configuration.OAuth2AuthorizationServerConfiguration;\nimport org.springframework.security.oauth2.server.authorization.config.annotation.web.configurers.OAuth2AuthorizationServerConfigurer;\nimport org.springframework.security.oauth2.server.authorization.settings.AuthorizationServerSettings;\nimport org.springframework.security.oauth2.server.authorization.settings.ClientSettings;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint;\n\nimport java.security.KeyPair;\nimport java.security.KeyPairGenerator;\nimport java.security.interfaces.RSAPrivateKey;\nimport java.security.interfaces.RSAPublicKey;\nimport java.util.UUID;\n\n@Configuration\npublic class SecurityConfig {\n\n    @Autowired\n    private Environment env;\n\n    @Bean\n    @Order(1)\n    public SecurityFilterChain authorizationServerSecurityFilterChain(HttpSecurity http)\n            throws Exception {\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\n                .oidc(Customizer.withDefaults());  // Enable OpenID Connect 1.0\n        http\n                // Redirect to the login page when not authenticated from the\n                // authorization endpoint\n                .exceptionHandling((exceptions) -&gt; exceptions\n                        .authenticationEntryPoint(\n                                new LoginUrlAuthenticationEntryPoint(&quot;/login&quot;))\n                )\n                // Accept access tokens for User Info and/or Client Registration\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n\n        return http.build();\n    }\n\n    @Bean\n    @Order(2)\n    public SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http)\n            throws Exception {\n        http\n                .authorizeHttpRequests((authorize) -&gt; authorize\n                        .anyRequest().authenticated()\n                )\n                // Form login handles the redirect to the login page from the\n                // authorization server filter chain\n                .formLogin(Customizer.withDefaults());\n\n        return http.build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        UserDetails userDetails = User.withDefaultPasswordEncoder()\n                .username(&quot;admin&quot;)\n                .password(&quot;12345&quot;)\n                .roles(&quot;USER&quot;)\n                .build();\n\n        return new InMemoryUserDetailsManager(userDetails);\n    }\n\n    @Bean\n    public RegisteredClientRepository registeredClientRepository() {\n        RegisteredClient registeredClient = RegisteredClient.withId(UUID.randomUUID().toString())\n                .clientId(&quot;usuarios-client&quot;)\n                .clientSecret(&quot;{noop}12345&quot;)\n                .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC)\n                .authorizationGrantType(AuthorizationGrantType.AUTHORIZATION_CODE)\n                .authorizationGrantType(AuthorizationGrantType.REFRESH_TOKEN)\n                .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\n                .redirectUri(env.getProperty(&quot;LB_USUARIOS_URI&quot;)+&quot;/login/oauth2/code/msvc-usuarios-client&quot;)\n                .redirectUri(env.getProperty(&quot;LB_USUARIOS_URI&quot;)+&quot;/authorized&quot;)\n                .scope(OidcScopes.OPENID)\n                .scope(OidcScopes.PROFILE)\n                .scope(&quot;read&quot;)\n                .scope(&quot;write&quot;)\n                .clientSettings(ClientSettings.builder().requireAuthorizationConsent(true).build())\n                .build();\n\n        return new InMemoryRegisteredClientRepository(registeredClient);\n    }\n\n    @Bean\n    public JWKSource&lt;SecurityContext&gt; jwkSource() {\n        KeyPair keyPair = generateRsaKey();\n        RSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\n        RSAPrivateKey privateKey = (RSAPrivateKey) keyPair.getPrivate();\n        RSAKey rsaKey = new RSAKey.Builder(publicKey)\n                .privateKey(privateKey)\n                .keyID(UUID.randomUUID().toString())\n                .build();\n        JWKSet jwkSet = new JWKSet(rsaKey);\n        return new ImmutableJWKSet&lt;&gt;(jwkSet);\n    }\n\n    private static KeyPair generateRsaKey() {\n        KeyPair keyPair;\n        try {\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n            keyPairGenerator.initialize(2048);\n            keyPair = keyPairGenerator.generateKeyPair();\n        }\n        catch (Exception ex) {\n            throw new IllegalStateException(ex);\n        }\n        return keyPair;\n    }\n\n    @Bean\n    public JwtDecoder jwtDecoder(JWKSource&lt;SecurityContext&gt; jwkSource) {\n        return OAuth2AuthorizationServerConfiguration.jwtDecoder(jwkSource);\n    }\n\n    @Bean\n    public AuthorizationServerSettings authorizationServerSettings() {\n        return AuthorizationServerSettings.builder().build();\n    }\n}\n\n</code></pre>\n<p><strong>SOLUTIONS I TESTED BUT IT DOWS NOT WORK</strong></p>\n<ol>\n<li>I changed the tomcat server version to 10.x</li>\n<li>I added the jakarta-api dependency to pom.xml of microservice, with 3.x, 5.x and 6.x versions</li>\n<li>I added the <code>@EnableWebSecurity</code></li>\n</ol>\n<p><strong>NOTES</strong></p>\n<ol>\n<li>I'm using java 18</li>\n<li>I'm using Oauth 2.1 and authorization server 1.0.0</li>\n</ol>\n"},{"tags":["java","prometheus","open-telemetry","open-telemetry-java"],"comments":[{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1698133434,"post_id":77349938,"comment_id":136363223,"body_markdown":"What about `.add(0, ..)`?","body":"What about <code>.add(0, ..)</code>?"},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1698249038,"post_id":77349938,"comment_id":136381987,"body_markdown":"@markalex it works, thanks! If you post it as an answer I can accept it.","body":"@markalex it works, thanks! If you post it as an answer I can accept it."},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1698301905,"post_id":77349938,"comment_id":136388336,"body_markdown":"For anyone coming here, see also https://github.com/open-telemetry/opentelemetry-java/discussions/5939","body":"For anyone coming here, see also <a href=\"https://github.com/open-telemetry/opentelemetry-java/discussions/5939\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-java/discussions/593&zwnj;&#8203;9</a>"}],"answers":[{"tags":[],"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698260563,"creation_date":1698260563,"answer_id":77362243,"question_id":77349938,"body_markdown":"Most likely counter is initialized only once first access is happening.\r\n\r\nSo, the easiest way to initialize it is to invoke `.add` method after metric creation with value equal to 0. ","title":"How to enforce initial value (zero) is exported to Prometheus with OpenTelemetry","body":"<p>Most likely counter is initialized only once first access is happening.</p>\n<p>So, the easiest way to initialize it is to invoke <code>.add</code> method after metric creation with value equal to 0.</p>\n"}],"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77362243,"answer_count":1,"score":1,"last_activity_date":1698260563,"creation_date":1698129142,"question_id":77349938,"body_markdown":"Considering the following code that defines a simple counter:\r\n\r\n```java\r\nOpenTelemetry otel = ...\r\n\r\nvar meter = otel.getMeter(&quot;com.my.app&quot;);\r\n\r\nLongCounter MyCounter = meter\r\n  .counterBuilder(&quot;my_app_my_counter&quot;)\r\n  .build();\r\n```\r\n\r\nAs long as we don&#39;t increment the value of the counter (with `.add(1, ...)` for instance), the counter value is not visible to Prometheus scraping.\r\n\r\n**How to have the initial value (zero) visible to Prometheus from the beginning?**\r\n\r\nFor completeness, here&#39;s the code we use to expose metrics to Prometheus thanks to OpenTelemetry Prometheus module:\r\n```java\r\nimport io.opentelemetry.exporter.prometheus.PrometheusHttpServer\r\n\r\nPrometheusHttpServer prometheusServer = ...\r\n\r\nSdkMeterProvider meterProvider = SdkMeterProvider\r\n  .builder()\r\n  .setResource(...)\r\n  .registerMetricReader(prometheusServer)\r\n  .build();\r\n\r\nOpenTelemetrySdk openTelemetrySdk = OpenTelemetrySdk\r\n  .builder()\r\n  .setMeterProvider(meterProvider)\r\n  .buildAndRegisterGlobal();\r\n```","title":"How to enforce initial value (zero) is exported to Prometheus with OpenTelemetry","body":"<p>Considering the following code that defines a simple counter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OpenTelemetry otel = ...\n\nvar meter = otel.getMeter(&quot;com.my.app&quot;);\n\nLongCounter MyCounter = meter\n  .counterBuilder(&quot;my_app_my_counter&quot;)\n  .build();\n</code></pre>\n<p>As long as we don't increment the value of the counter (with <code>.add(1, ...)</code> for instance), the counter value is not visible to Prometheus scraping.</p>\n<p><strong>How to have the initial value (zero) visible to Prometheus from the beginning?</strong></p>\n<p>For completeness, here's the code we use to expose metrics to Prometheus thanks to OpenTelemetry Prometheus module:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.opentelemetry.exporter.prometheus.PrometheusHttpServer\n\nPrometheusHttpServer prometheusServer = ...\n\nSdkMeterProvider meterProvider = SdkMeterProvider\n  .builder()\n  .setResource(...)\n  .registerMetricReader(prometheusServer)\n  .build();\n\nOpenTelemetrySdk openTelemetrySdk = OpenTelemetrySdk\n  .builder()\n  .setMeterProvider(meterProvider)\n  .buildAndRegisterGlobal();\n</code></pre>\n"},{"tags":["java","java-8","libpcap","sniffing","pcap4j"],"owner":{"account_id":19104350,"reputation":15,"user_id":13951848,"display_name":"Amirhossein Rezvani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698259754,"creation_date":1698228711,"question_id":77358572,"body_markdown":"I need to capture all traffic from a network interface. right now I&#39;m using the &#39;Pcap4j&#39; wrapper of &#39;libpcap&#39; since I&#39;ve found it convenient. \r\n\r\nThe code I&#39;ve made is:\r\n\r\n    try (PcapHandle handle =pcapNetworkInterface.openLive(Integer.MAX_VALUE,\r\n                            PcapNetworkInterface.PromiscuousMode, -1)) {\r\n\r\n\r\n             handle.loop(-1,\r\n                        (RawPacketListener) packet -&gt; batch = batch.addAndCheck(packet));\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            System.exit(1);\r\n        }\r\n\r\nbatch is an implementation of`ConcurrentLinkedQueue` and will pile up some packets to send to next step. p.s. while this thread is not done with the batch, next one wont access it to prevent lock waiting. \r\nSome how it fails to capture all the passing packets. and its so random. please provide me some ways to hopefully resolve this issue and thank you in advance.\r\n\r\n\r\nI&#39;ve tried different configurations, both PROMISCUOUS and NONPROMISCUOUS modes, variant snap length, capturing by `handle.getNextRawPacket()` and `handle.getNextRawPacketEX()`, all of them failed to work properly. \r\nI&#39;ve also tried `jnetpcap` which failed as well.","title":"pcap4j failes to capture all trafic","body":"<p>I need to capture all traffic from a network interface. right now I'm using the 'Pcap4j' wrapper of 'libpcap' since I've found it convenient.</p>\n<p>The code I've made is:</p>\n<pre><code>try (PcapHandle handle =pcapNetworkInterface.openLive(Integer.MAX_VALUE,\n                        PcapNetworkInterface.PromiscuousMode, -1)) {\n\n\n         handle.loop(-1,\n                    (RawPacketListener) packet -&gt; batch = batch.addAndCheck(packet));\n    } catch (Exception e) {\n        e.printStackTrace();\n        System.exit(1);\n    }\n</code></pre>\n<p>batch is an implementation of<code>ConcurrentLinkedQueue</code> and will pile up some packets to send to next step. p.s. while this thread is not done with the batch, next one wont access it to prevent lock waiting.\nSome how it fails to capture all the passing packets. and its so random. please provide me some ways to hopefully resolve this issue and thank you in advance.</p>\n<p>I've tried different configurations, both PROMISCUOUS and NONPROMISCUOUS modes, variant snap length, capturing by <code>handle.getNextRawPacket()</code> and <code>handle.getNextRawPacketEX()</code>, all of them failed to work properly.\nI've also tried <code>jnetpcap</code> which failed as well.</p>\n"},{"tags":["java","handler","ignite"],"owner":{"account_id":5497574,"reputation":1903,"user_id":4368131,"accept_rate":39,"display_name":"CMPE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698259352,"creation_date":1698259352,"question_id":77362148,"body_markdown":"When running ignite 2.15.0 http rest with spring boot 3 (in a docker image), i&#39;m getting the following error:\r\n\r\n    java.lang.AbstractMethodError: Receiver class\r\n    org.apache.ignite.internal.processors.rest.protocols.http.jetty.GridJettyRestHandler\r\n    does not define or inherit an implementation of the resolved method\r\n    &#39;abstract void handle(java.lang.String,\r\n    org.eclipse.jetty.server.Request,\r\n    jakarta.servlet.http.HttpServletRequest,\r\n    jakarta.servlet.http.HttpServletResponse)&#39; of interface\r\n    org.eclipse.jetty.server.Handler. Selected method is &#39;abstract void\r\n    org.eclipse.jetty.server.handler.AbstractHandler.handle(java.lang.String,\r\n    org.eclipse.jetty.server.Request,\r\n    jakarta.servlet.http.HttpServletRequest,\r\n    jakarta.servlet.http.HttpServletResponse)&#39;.\r\n            at \r\n    org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)\r\n            at org.eclipse.jetty.server.Server.handle(Server.java:563)\r\n            at \r\n    org.eclipse.jetty.server.HttpChannel.lambda$handle$0(HttpChannel.java:505)\r\n            at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:762)\r\n            at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:497)\r\n            at \r\n    org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:282)\r\n            at \r\n    org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314)\r\n            at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\r\n            at \r\n    org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)\r\n            at \r\n    org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:969)\r\n            at \r\n    org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1194)\r\n            at \r\n    org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1149)\r\n            at java.base/java.lang.Thread.run(Thread.java:1589)\r\n\r\n\r\nI&#39;ve looked in the code, it only has method for Javax\r\n(javax.servlet.http.HttpServletRequest) and not for the Jakarta\r\n(jakarta.servlet.http.HttpServletRequest) interfaces. \r\nIs there a way to fix the issue? Uses Jakarta instead of Javax?\r\n\r\nthank you","title":"Apache Ignite 2.15.0: fixing the GridJettyRestHandler exception","body":"<p>When running ignite 2.15.0 http rest with spring boot 3 (in a docker image), i'm getting the following error:</p>\n<pre><code>java.lang.AbstractMethodError: Receiver class\norg.apache.ignite.internal.processors.rest.protocols.http.jetty.GridJettyRestHandler\ndoes not define or inherit an implementation of the resolved method\n'abstract void handle(java.lang.String,\norg.eclipse.jetty.server.Request,\njakarta.servlet.http.HttpServletRequest,\njakarta.servlet.http.HttpServletResponse)' of interface\norg.eclipse.jetty.server.Handler. Selected method is 'abstract void\norg.eclipse.jetty.server.handler.AbstractHandler.handle(java.lang.String,\norg.eclipse.jetty.server.Request,\njakarta.servlet.http.HttpServletRequest,\njakarta.servlet.http.HttpServletResponse)'.\n        at \norg.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122)\n        at org.eclipse.jetty.server.Server.handle(Server.java:563)\n        at \norg.eclipse.jetty.server.HttpChannel.lambda$handle$0(HttpChannel.java:505)\n        at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:762)\n        at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:497)\n        at \norg.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:282)\n        at \norg.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314)\n        at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\n        at \norg.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)\n        at \norg.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:969)\n        at \norg.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1194)\n        at \norg.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1149)\n        at java.base/java.lang.Thread.run(Thread.java:1589)\n</code></pre>\n<p>I've looked in the code, it only has method for Javax\n(javax.servlet.http.HttpServletRequest) and not for the Jakarta\n(jakarta.servlet.http.HttpServletRequest) interfaces.\nIs there a way to fix the issue? Uses Jakarta instead of Javax?</p>\n<p>thank you</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"comments":[{"owner":{"account_id":25292281,"reputation":3,"user_id":19118109,"display_name":"Isaiah88"},"score":0,"creation_date":1698345838,"post_id":77362129,"comment_id":136397231,"body_markdown":"Oh, I see why it wasn&#39;t working now, this worked perfectly for my problem, thank you!","body":"Oh, I see why it wasn&#39;t working now, this worked perfectly for my problem, thank you!"}],"tags":[],"owner":{"account_id":28269166,"reputation":76,"user_id":21612640,"display_name":"hcl2000"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698259074,"creation_date":1698259074,"answer_id":77362129,"question_id":77361467,"body_markdown":"You are not iterating across a list of data items in the adapter, but setting a single data item and reading that single data item from the adapter.\r\n\r\nAn adapter iterates `Adapter::getSize()` times. Your override tells it to iterate over `NUM_PAGES` data items. When `notifyDataSetChanged` is called, it calls `createFragment` each iteration and executes that code to create one fragment.\r\n\r\nThe problem is structural--You need to make sure the dataset that the adapter observes is iterable.\r\n\r\nAs a side note--Calling `notifyDataSetChanged` for every item you add is generally a poor idea. The adapter will re-create every fragment, every time a new page is inserted.\r\n\r\nNotice that `createFragment` provides a parameter, `int position`. Adapters (generally) take a `List&lt;Object&gt;` and create one item per `Object` in that list, for each index.\r\n\r\nThere&#39;s too little context provided to give you a strict solution, but ideally, you&#39;ll want to do something like the following:\r\n\r\n1. Create a class to represent a page. It should contain members for all data necessary to construct an instance of the fragment.\r\n```java\r\npublic class MyPageClass {\r\n\r\n    // Maybe init fields here if they are required\r\n    public MyPageClass(){} \r\n\r\n    private String dayTitle;\r\n    private List&lt;FocusGroup&gt; focusGroups;\r\n    private List&lt;DayExercise&gt; dayExercises;\r\n\r\n    // Getters + Setters as needed, or any interface you want\r\n    // &lt; ... &gt;\r\n\r\n}\r\n\r\n```\r\n\r\n2. Modify your code to construct a list of page objects\r\n```java\r\n    //Get routine from intent\r\n        userRoutine = (RoutineISO) getIntent().getSerializableExtra(&quot;routine&quot;);\r\n        ArrayList&lt;String&gt; routineDays = userRoutine.getDays();\r\n\r\n        // Define a private data member pages as an empty ArrayList--You probably want to\r\n        // clear it here.\r\n        this.pages = new ArrayList&lt;&gt;();\r\n\r\n        for(String day: routineDays){\r\n            // Building our page\r\n            MyPageClass page = new MyPageClass();\r\n            page.setDayExercises(userRoutine.getSplitDays().get(day));\r\n            page.setFocusGroup(userRoutine.getMuscleGroups().get(day));\r\n            page.setDayTitle(day);\r\n            // Adding it to the list that pagerAdapter observes\r\n            this.pages.add(page);\r\n        }\r\n\r\n        // Now we notify the adapter, once all of these changes have finished.\r\n        // Consider using more specific methods, like notifyItemRangeInserted() etc\r\n        pagerAdapter.notifyDataSetChanged();\r\n\r\n```\r\n\r\n 3. Modify your adapter code to rely on this list.\r\n ```Java\r\nprivate class DayAdapter extends FragmentStateAdapter {\r\n        private ArrayList&lt;Fragment&gt; fragments;\r\n        private ArrayList&lt;MyPageClass&gt; pages; // This is our list of MyPageClass instances\r\n        private Context context;\r\n\r\n        public DayAdapter(FragmentActivity fa, ArrayList&lt;MyPageClass&gt; pages) {\r\n            super(fa);\r\n            this.pages = pages;\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public Fragment createFragment(int position) {\r\n            // Return a NEW fragment instance in createFragment(int).\r\n            Fragment fragment = new DayFragmentISO();\r\n\r\n            Bundle args = new Bundle();\r\n            args.putString(&quot;title&quot;, pages.get(position).getDayTitle());\r\n            //Tells the fragment this is an existing day\r\n            //so it knows to look for a focusList and dayExercises\r\n            args.putBoolean(&quot;existing&quot;,true);\r\n            args.putSerializable(&quot;focusList&quot;, pages.get(position).getFocusGroup()));\r\n            args.putSerializable(&quot;dayExercises&quot;, pages.get(position).getDayExercises());\r\n            fragment.setArguments(args);\r\n            return fragment;\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            // This tells the adapter how many fragments to create.\r\n            // We want one for each page, so we&#39;ll pass it the size of our data.\r\n            return pages.size();\r\n        }\r\n\r\n\r\n    }\r\n```","title":"When creating loading up multiple pages at one time with View Pager 2, they all have the same content","body":"<p>You are not iterating across a list of data items in the adapter, but setting a single data item and reading that single data item from the adapter.</p>\n<p>An adapter iterates <code>Adapter::getSize()</code> times. Your override tells it to iterate over <code>NUM_PAGES</code> data items. When <code>notifyDataSetChanged</code> is called, it calls <code>createFragment</code> each iteration and executes that code to create one fragment.</p>\n<p>The problem is structural--You need to make sure the dataset that the adapter observes is iterable.</p>\n<p>As a side note--Calling <code>notifyDataSetChanged</code> for every item you add is generally a poor idea. The adapter will re-create every fragment, every time a new page is inserted.</p>\n<p>Notice that <code>createFragment</code> provides a parameter, <code>int position</code>. Adapters (generally) take a <code>List&lt;Object&gt;</code> and create one item per <code>Object</code> in that list, for each index.</p>\n<p>There's too little context provided to give you a strict solution, but ideally, you'll want to do something like the following:</p>\n<ol>\n<li>Create a class to represent a page. It should contain members for all data necessary to construct an instance of the fragment.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyPageClass {\n\n    // Maybe init fields here if they are required\n    public MyPageClass(){} \n\n    private String dayTitle;\n    private List&lt;FocusGroup&gt; focusGroups;\n    private List&lt;DayExercise&gt; dayExercises;\n\n    // Getters + Setters as needed, or any interface you want\n    // &lt; ... &gt;\n\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>Modify your code to construct a list of page objects</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    //Get routine from intent\n        userRoutine = (RoutineISO) getIntent().getSerializableExtra(&quot;routine&quot;);\n        ArrayList&lt;String&gt; routineDays = userRoutine.getDays();\n\n        // Define a private data member pages as an empty ArrayList--You probably want to\n        // clear it here.\n        this.pages = new ArrayList&lt;&gt;();\n\n        for(String day: routineDays){\n            // Building our page\n            MyPageClass page = new MyPageClass();\n            page.setDayExercises(userRoutine.getSplitDays().get(day));\n            page.setFocusGroup(userRoutine.getMuscleGroups().get(day));\n            page.setDayTitle(day);\n            // Adding it to the list that pagerAdapter observes\n            this.pages.add(page);\n        }\n\n        // Now we notify the adapter, once all of these changes have finished.\n        // Consider using more specific methods, like notifyItemRangeInserted() etc\n        pagerAdapter.notifyDataSetChanged();\n\n</code></pre>\n<ol start=\"3\">\n<li>Modify your adapter code to rely on this list.</li>\n</ol>\n<pre><code>private class DayAdapter extends FragmentStateAdapter {\n       private ArrayList&lt;Fragment&gt; fragments;\n       private ArrayList&lt;MyPageClass&gt; pages; // This is our list of MyPageClass instances\n       private Context context;\n\n       public DayAdapter(FragmentActivity fa, ArrayList&lt;MyPageClass&gt; pages) {\n           super(fa);\n           this.pages = pages;\n       }\n\n       @NonNull\n       @Override\n       public Fragment createFragment(int position) {\n           // Return a NEW fragment instance in createFragment(int).\n           Fragment fragment = new DayFragmentISO();\n\n           Bundle args = new Bundle();\n           args.putString(&quot;title&quot;, pages.get(position).getDayTitle());\n           //Tells the fragment this is an existing day\n           //so it knows to look for a focusList and dayExercises\n           args.putBoolean(&quot;existing&quot;,true);\n           args.putSerializable(&quot;focusList&quot;, pages.get(position).getFocusGroup()));\n           args.putSerializable(&quot;dayExercises&quot;, pages.get(position).getDayExercises());\n           fragment.setArguments(args);\n           return fragment;\n       }\n\n       @Override\n       public int getItemCount() {\n           // This tells the adapter how many fragments to create.\n           // We want one for each page, so we'll pass it the size of our data.\n           return pages.size();\n       }\n\n\n   }\n</code></pre>\n"}],"owner":{"account_id":25292281,"reputation":3,"user_id":19118109,"display_name":"Isaiah88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77362129,"answer_count":1,"score":0,"last_activity_date":1698259074,"creation_date":1698252561,"question_id":77361467,"body_markdown":"In this routine app, i&#39;m trying to load info for multiple pages and create all pages at once. I succesfully used view pager to create seprate pages like this one at a time, but when I try to load the info with a forloop at one time, they all end up having the same content instead of the respective info. Should I just try using a timeout between loading each page?\r\n\r\n\r\n\r\n\r\n\r\nThis is the code:\r\n\r\n```\r\n//Get routine from intent\r\n        userRoutine = (RoutineISO) getIntent().getSerializableExtra(&quot;routine&quot;);\r\n        ArrayList&lt;String&gt; routineDays = userRoutine.getDays();\r\n        //This foreach loop just goes through each day in the routine\r\n        //and pull the data out of the respective maps\r\n        //This is then used by the day adapter when building out the\r\n        //fragment pages\r\n        Log.i(&quot;DEBUG&quot;,&quot;Printing out days&quot;);\r\n        for(String day: routineDays){\r\n            this.dayExercises = userRoutine.getSplitDays().get(day);\r\n            Log.i(&quot;DEBUG&quot;, dayExercises.toString());\r\n            this.focusGroups = userRoutine.getMuscleGroups().get(day);\r\n            this.dayTitle = day;\r\n            NUM_PAGES++;\r\n            pagerAdapter.notifyDataSetChanged();\r\n            \r\n        }\r\n```\r\n\r\nThis is the code for the pager adapter i&#39;m using\r\n\r\n```\r\n private class DayAdapter extends FragmentStateAdapter {\r\n        private ArrayList&lt;Fragment&gt; fragments;\r\n        private Context context;\r\n        public DayAdapter(FragmentActivity fa) {\r\n            super(fa);\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public Fragment createFragment(int position) {\r\n            // Return a NEW fragment instance in createFragment(int).\r\n            Fragment fragment = new DayFragmentISO();\r\n\r\n            Bundle args = new Bundle();\r\n            args.putString(&quot;title&quot;, dayTitle);\r\n            //Tells the fragment this is an existing day\r\n            //so it knows to look for a focusList and dayExercises\r\n            args.putBoolean(&quot;existing&quot;,true);\r\n            args.putSerializable(&quot;focusList&quot;,focusGroups);\r\n            args.putSerializable(&quot;dayExercises&quot;, dayExercises);\r\n            fragment.setArguments(args);\r\n            return fragment;\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return NUM_PAGES;\r\n        }\r\n\r\n\r\n    }\r\n```\r\n\r\nAlso note I have the NUMPages as private static int NUM_PAGES = 0; in my activity.","title":"When creating loading up multiple pages at one time with View Pager 2, they all have the same content","body":"<p>In this routine app, i'm trying to load info for multiple pages and create all pages at once. I succesfully used view pager to create seprate pages like this one at a time, but when I try to load the info with a forloop at one time, they all end up having the same content instead of the respective info. Should I just try using a timeout between loading each page?</p>\n<p>This is the code:</p>\n<pre><code>//Get routine from intent\n        userRoutine = (RoutineISO) getIntent().getSerializableExtra(&quot;routine&quot;);\n        ArrayList&lt;String&gt; routineDays = userRoutine.getDays();\n        //This foreach loop just goes through each day in the routine\n        //and pull the data out of the respective maps\n        //This is then used by the day adapter when building out the\n        //fragment pages\n        Log.i(&quot;DEBUG&quot;,&quot;Printing out days&quot;);\n        for(String day: routineDays){\n            this.dayExercises = userRoutine.getSplitDays().get(day);\n            Log.i(&quot;DEBUG&quot;, dayExercises.toString());\n            this.focusGroups = userRoutine.getMuscleGroups().get(day);\n            this.dayTitle = day;\n            NUM_PAGES++;\n            pagerAdapter.notifyDataSetChanged();\n            \n        }\n</code></pre>\n<p>This is the code for the pager adapter i'm using</p>\n<pre><code> private class DayAdapter extends FragmentStateAdapter {\n        private ArrayList&lt;Fragment&gt; fragments;\n        private Context context;\n        public DayAdapter(FragmentActivity fa) {\n            super(fa);\n        }\n\n        @NonNull\n        @Override\n        public Fragment createFragment(int position) {\n            // Return a NEW fragment instance in createFragment(int).\n            Fragment fragment = new DayFragmentISO();\n\n            Bundle args = new Bundle();\n            args.putString(&quot;title&quot;, dayTitle);\n            //Tells the fragment this is an existing day\n            //so it knows to look for a focusList and dayExercises\n            args.putBoolean(&quot;existing&quot;,true);\n            args.putSerializable(&quot;focusList&quot;,focusGroups);\n            args.putSerializable(&quot;dayExercises&quot;, dayExercises);\n            fragment.setArguments(args);\n            return fragment;\n        }\n\n        @Override\n        public int getItemCount() {\n            return NUM_PAGES;\n        }\n\n\n    }\n</code></pre>\n<p>Also note I have the NUMPages as private static int NUM_PAGES = 0; in my activity.</p>\n"},{"tags":["java","android","kotlin","android-theme","android-statusbar"],"comments":[{"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"score":0,"creation_date":1668001137,"post_id":64826506,"comment_id":131301555,"body_markdown":"Have a look at  [this answer(Make the status bar white with black icons).](https://stackoverflow.com/a/74375368/2289835)","body":"Have a look at  <a href=\"https://stackoverflow.com/a/74375368/2289835\">this answer(Make the status bar white with black icons).</a>"}],"answers":[{"comments":[{"owner":{"account_id":1777644,"reputation":5334,"user_id":1621111,"accept_rate":47,"display_name":"Konstantin Konopko"},"score":3,"creation_date":1620305301,"post_id":64827091,"comment_id":119165307,"body_markdown":"Can&#39;t set text white colored","body":"Can&#39;t set text white colored"}],"tags":[],"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1623929969,"creation_date":1605296615,"answer_id":64827091,"question_id":64826506,"body_markdown":"For API 30 you can use [`WindowInsetsController.setSystemBarsAppearance (int appearance, int mask)`][1]:\r\n\r\nTo make status bar light:\r\n\r\n    window.insetsController?.setSystemBarsAppearance(\r\n            WindowInsetsController.APPEARANCE_LIGHT_STATUS_BARS,\r\n            WindowInsetsController.APPEARANCE_LIGHT_STATUS_BARS\r\n    )\r\n\r\nTo clear the flag:\r\n\r\n    window.insetsController?.setSystemBarsAppearance(\r\n            0,\r\n            WindowInsetsController.APPEARANCE_LIGHT_STATUS_BARS\r\n    )\r\n\r\nNote that `getInsetsController` is nullable hence the `?` check.\r\n\r\nAlternatively (and for lower APIs) you can use [`WindowInsetControllerCompat`][2]:\r\n\r\n    val windowInsetController = ViewCompat.getWindowInsetsController(window.decorView)\r\n    windowInsetController?.isAppearanceLightStatusBars = true // or false\r\n\r\nNote: if clearing flag doesn&#39;t work check value of [`window.decorView.windowSystemUiVisibility`][3] - if it contains `View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR` that means your view hierarchy contains a View with this flag which is propagated and affects `systemUiVisibility` calculation.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/WindowInsetsController#setSystemBarsAppearance(int,%20int)\r\n  [2]: https://developer.android.com/reference/androidx/core/view/WindowInsetsControllerCompat\r\n  [3]: https://developer.android.com/reference/android/view/View?hl=en#getWindowSystemUiVisibility()","title":"Programmatically Change Status Bar Text Color in Android 11 (API 30)","body":"<p>For API 30 you can use <a href=\"https://developer.android.com/reference/android/view/WindowInsetsController#setSystemBarsAppearance(int,%20int)\" rel=\"noreferrer\"><code>WindowInsetsController.setSystemBarsAppearance (int appearance, int mask)</code></a>:</p>\n<p>To make status bar light:</p>\n<pre><code>window.insetsController?.setSystemBarsAppearance(\n        WindowInsetsController.APPEARANCE_LIGHT_STATUS_BARS,\n        WindowInsetsController.APPEARANCE_LIGHT_STATUS_BARS\n)\n</code></pre>\n<p>To clear the flag:</p>\n<pre><code>window.insetsController?.setSystemBarsAppearance(\n        0,\n        WindowInsetsController.APPEARANCE_LIGHT_STATUS_BARS\n)\n</code></pre>\n<p>Note that <code>getInsetsController</code> is nullable hence the <code>?</code> check.</p>\n<p>Alternatively (and for lower APIs) you can use <a href=\"https://developer.android.com/reference/androidx/core/view/WindowInsetsControllerCompat\" rel=\"noreferrer\"><code>WindowInsetControllerCompat</code></a>:</p>\n<pre><code>val windowInsetController = ViewCompat.getWindowInsetsController(window.decorView)\nwindowInsetController?.isAppearanceLightStatusBars = true // or false\n</code></pre>\n<p>Note: if clearing flag doesn't work check value of <a href=\"https://developer.android.com/reference/android/view/View?hl=en#getWindowSystemUiVisibility()\" rel=\"noreferrer\"><code>window.decorView.windowSystemUiVisibility</code></a> - if it contains <code>View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR</code> that means your view hierarchy contains a View with this flag which is propagated and affects <code>systemUiVisibility</code> calculation.</p>\n"},{"comments":[{"owner":{"account_id":4405649,"reputation":1782,"user_id":3590155,"accept_rate":60,"display_name":"Leonardo Sibela"},"score":0,"creation_date":1646426215,"post_id":68764332,"comment_id":126128615,"body_markdown":"setStatusBarLightTextNewApi worked for me to make statusbar white with gray icons","body":"setStatusBarLightTextNewApi worked for me to make statusbar white with gray icons"}],"tags":[],"owner":{"account_id":194960,"reputation":709,"user_id":437579,"display_name":"Sami"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1636061803,"creation_date":1628803449,"answer_id":68764332,"question_id":64826506,"body_markdown":"I, as others, couldn&#39;t get the new API that [@Pawel][1] recommended to work on all Android OS versions. I unfortunately found I had to use both the older API as well as the new to get it working on Android 11 &amp; below:\r\n\r\n```kotlin\r\nfun setStatusBarLightText(window: Window, isLight: Boolean) {\r\n    setStatusBarLightTextOldApi(window, isLight)\r\n    setStatusBarLightTextNewApi(window, isLight)\r\n}\r\n\r\n\r\nprivate fun setStatusBarLightTextOldApi(window: Window, isLight: Boolean) {\r\n    val decorView = window.decorView\r\n    decorView.systemUiVisibility =\r\n        if (isLight) {\r\n            decorView.systemUiVisibility and View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR.inv()\r\n        } else {\r\n            decorView.systemUiVisibility or View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR\r\n        }\r\n}\r\n\r\nprivate fun setStatusBarLightTextNewApi(window: Window, isLightText: Boolean) {\r\n    ViewCompat.getWindowInsetsController(window.decorView)?.apply {\r\n        // Light text == dark status bar\r\n        isAppearanceLightStatusBars = !isLightText\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/9241978/pawel","title":"Programmatically Change Status Bar Text Color in Android 11 (API 30)","body":"<p>I, as others, couldn't get the new API that <a href=\"https://stackoverflow.com/users/9241978/pawel\">@Pawel</a> recommended to work on all Android OS versions. I unfortunately found I had to use both the older API as well as the new to get it working on Android 11 &amp; below:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun setStatusBarLightText(window: Window, isLight: Boolean) {\n    setStatusBarLightTextOldApi(window, isLight)\n    setStatusBarLightTextNewApi(window, isLight)\n}\n\n\nprivate fun setStatusBarLightTextOldApi(window: Window, isLight: Boolean) {\n    val decorView = window.decorView\n    decorView.systemUiVisibility =\n        if (isLight) {\n            decorView.systemUiVisibility and View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR.inv()\n        } else {\n            decorView.systemUiVisibility or View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR\n        }\n}\n\nprivate fun setStatusBarLightTextNewApi(window: Window, isLightText: Boolean) {\n    ViewCompat.getWindowInsetsController(window.decorView)?.apply {\n        // Light text == dark status bar\n        isAppearanceLightStatusBars = !isLightText\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":209590,"reputation":2336,"user_id":3997720,"display_name":"Pedro Varela"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698259019,"creation_date":1698259019,"answer_id":77362122,"question_id":64826506,"body_markdown":"There is new API for this, only 3 lines of code will take care of making light status bar.\r\n\r\n    val windowInsetController = WindowCompat.getInsetsController(window, window.decorView)\r\n        windowInsetController.isAppearanceLightStatusBars = true\r\n        window.statusBarColor = Color.WHITE\r\n\r\nGood luck,","title":"Programmatically Change Status Bar Text Color in Android 11 (API 30)","body":"<p>There is new API for this, only 3 lines of code will take care of making light status bar.</p>\n<pre><code>val windowInsetController = WindowCompat.getInsetsController(window, window.decorView)\n    windowInsetController.isAppearanceLightStatusBars = true\n    window.statusBarColor = Color.WHITE\n</code></pre>\n<p>Good luck,</p>\n"}],"owner":{"account_id":198265,"reputation":1097,"user_id":442827,"accept_rate":62,"display_name":"ninehundreds"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9399,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":64827091,"answer_count":3,"score":6,"last_activity_date":1698259019,"creation_date":1605293661,"question_id":64826506,"body_markdown":"I am currently able to update the status bar **text** color from light to dark using the following inside my base activity:\r\n\r\n    private fun toggleStatusBarTextColor(light: Boolean) {\r\n        // clear any existing flags\r\n        window.decorView.systemUiVisibility = View.SYSTEM_UI_FLAG_VISIBLE;\r\n        if(light) {\r\n            window.decorView.systemUiVisibility = (View.SYSTEM_UI_FLAG_LAYOUT_STABLE or View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN)\r\n        } else {\r\n            window.decorView.systemUiVisibility = (View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN or View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR)\r\n        }\r\n    }\r\n\r\nsystemUiVisibility is now showing deprecated on API 30, and although the deprecated methods will still function for the time being, I would prefer to replace them with the newer way to accomplish this. I have read that we should now use the WindowInsetsController functions, but it is not clear to be how to accomplish this from the docs. Can someone point me in the right direction?","title":"Programmatically Change Status Bar Text Color in Android 11 (API 30)","body":"<p>I am currently able to update the status bar <strong>text</strong> color from light to dark using the following inside my base activity:</p>\n<pre><code>private fun toggleStatusBarTextColor(light: Boolean) {\n    // clear any existing flags\n    window.decorView.systemUiVisibility = View.SYSTEM_UI_FLAG_VISIBLE;\n    if(light) {\n        window.decorView.systemUiVisibility = (View.SYSTEM_UI_FLAG_LAYOUT_STABLE or View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN)\n    } else {\n        window.decorView.systemUiVisibility = (View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN or View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR)\n    }\n}\n</code></pre>\n<p>systemUiVisibility is now showing deprecated on API 30, and although the deprecated methods will still function for the time being, I would prefer to replace them with the newer way to accomplish this. I have read that we should now use the WindowInsetsController functions, but it is not clear to be how to accomplish this from the docs. Can someone point me in the right direction?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1090437,"reputation":6796,"user_id":1085186,"accept_rate":100,"display_name":"StackFlowed"},"score":0,"creation_date":1698240255,"post_id":77359848,"comment_id":136379958,"body_markdown":"toUpperCase() -&gt; make the char to uppercase !!!","body":"toUpperCase() -&gt; make the char to uppercase !!!"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1698240674,"post_id":77359848,"comment_id":136380049,"body_markdown":"Hint: `&quot;$1&quot;`.toUpperCase() is still `&quot;$1&quot;`. You&#39;re going to want `Matcher.replaceAll​(Function&lt;MatchResult,String&gt; replacer)`","body":"Hint: <code>&quot;$1&quot;</code>.toUpperCase() is still <code>&quot;$1&quot;</code>. You&#39;re going to want <code>Matcher.replaceAll​(Function&lt;MatchResult,String&gt; replacer)</code>"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1698241436,"post_id":77359848,"comment_id":136380232,"body_markdown":"@JonSkeet and there I was, writing that myself...","body":"@JonSkeet and there I was, writing that myself..."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1698247789,"post_id":77359848,"comment_id":136381794,"body_markdown":"This reads like a homework; are you allowed to use Regular Expressions? Usually these kind of assignments want you to use old-school String manipulation...","body":"This reads like a homework; are you allowed to use Regular Expressions? Usually these kind of assignments want you to use old-school String manipulation..."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698241666,"creation_date":1698241666,"answer_id":77360085,"question_id":77359848,"body_markdown":"Unfortunately*, you can&#39;t use `String.replaceAll` for this. That&#39;s because `toUpperCase()` is called on `&quot;$1&quot;`, not each actual match.\r\n\r\nYou can use `Matcher.replaceAll(Function&lt;MatchResult, String&gt;)` for this (with thanks to Jon Skeet):\r\n```java\r\n// Pattern is immutable, so creating shared instances is good practice\r\nprivate static final Pattern STRING_TRANSFORM_PATTERN = Pattern.compile(&quot;([a-z])\\\\1&quot;);\r\n\r\npublic static String stringTransform(String str) {\r\n    return STRING_TRANSFORM_PATTERN\r\n            .matcher(str)\r\n            .replaceAll(match -&gt; &quot;Double&quot; + match.group(1).toUpperCase());\r\n}\r\n```","title":"Write a function that takes a string and replaces two consecutive letters in a &quot;Double*&quot; pattern","body":"<p>Unfortunately*, you can't use <code>String.replaceAll</code> for this. That's because <code>toUpperCase()</code> is called on <code>&quot;$1&quot;</code>, not each actual match.</p>\n<p>You can use <code>Matcher.replaceAll(Function&lt;MatchResult, String&gt;)</code> for this (with thanks to Jon Skeet):</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Pattern is immutable, so creating shared instances is good practice\nprivate static final Pattern STRING_TRANSFORM_PATTERN = Pattern.compile(&quot;([a-z])\\\\1&quot;);\n\npublic static String stringTransform(String str) {\n    return STRING_TRANSFORM_PATTERN\n            .matcher(str)\n            .replaceAll(match -&gt; &quot;Double&quot; + match.group(1).toUpperCase());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1698307703,"post_id":77361922,"comment_id":136389417,"body_markdown":"I started writing code using `appeldReplacement` and `appendTail`, but then Jon Skeet mentioned `Matcher.replaceAll` in his comment. That allows you to do the same without the explicit matcher loop. You can see in my answer how easy the code can become.","body":"I started writing code using <code>appeldReplacement</code> and <code>appendTail</code>, but then Jon Skeet mentioned <code>Matcher.replaceAll</code> in his comment. That allows you to do the same without the explicit matcher loop. You can see in my answer how easy the code can become."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698258031,"creation_date":1698256877,"answer_id":77361922,"question_id":77359848,"body_markdown":"Use the _[Pattern](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Pattern.html)_ and _[Matcher](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Matcher.html)_ class, utilizing the _[replaceAll](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.util.function.Function))_ method.\r\n\r\n```java\r\nPattern p = Pattern.compile(&quot;([a-z])\\\\1&quot;);\r\nMatcher m = p.matcher(str);\r\nreturn m.replaceAll(x -&gt; &quot;Double&quot; + m.group(1).toUpperCase());\r\n```\r\n\r\nOr, the _[appendReplacement](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Matcher.html#appendReplacement(java.lang.StringBuilder,java.lang.String))_ and _[appendTail](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Matcher.html#appendReplacement(java.lang.StringBuilder,java.lang.String))_ methods.\r\n\r\n```java\r\nPattern p = Pattern.compile(&quot;([a-z])\\\\1&quot;);\r\nMatcher m = p.matcher(str);\r\nStringBuilder s = new StringBuilder();\r\nwhile (m.find())\r\n    m.appendReplacement(s, &quot;Double&quot; + m.group(1).toUpperCase());\r\nm.appendTail(s);\r\nreturn s.toString();\r\n```\r\n\r\nAlternately, use a _loop_ to find each occurrence of _&quot;Double&quot;_, and uppercase the succeeding character.\r\n\r\n```java\r\nstr = str.replaceAll(&quot;([a-z])\\\\1&quot;,&quot;Double$1&quot;);\r\nStringBuilder s = new StringBuilder(str);\r\nint o = -1;\r\nwhile ((o = s.indexOf(&quot;Double&quot;, o + 1)) != -1)\r\n    s.setCharAt(o + 6, Character.toUpperCase(s.charAt(o + 6)));\r\nreturn s.toString();\r\n```\r\n\r\nOr, a less practical approach would be to try each _double a &amp;ndash; z_.\r\n\r\n```java\r\nfor (char c = &#39;a&#39;; c &lt;= &#39;z&#39;; c++)\r\n    str = str.replaceAll(c + &quot;&quot; + c, &quot;Double&quot; + Character.toUpperCase(c));\r\nreturn str;\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nheDoubleLo\r\nbDoubleODoubleKDoubleEper\r\n```","title":"Write a function that takes a string and replaces two consecutive letters in a &quot;Double*&quot; pattern","body":"<p>Use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Pattern</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Matcher</a></em> class, utilizing the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.util.function.Function)\" rel=\"nofollow noreferrer\">replaceAll</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern p = Pattern.compile(&quot;([a-z])\\\\1&quot;);\nMatcher m = p.matcher(str);\nreturn m.replaceAll(x -&gt; &quot;Double&quot; + m.group(1).toUpperCase());\n</code></pre>\n<p>Or, the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Matcher.html#appendReplacement(java.lang.StringBuilder,java.lang.String)\" rel=\"nofollow noreferrer\">appendReplacement</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Matcher.html#appendReplacement(java.lang.StringBuilder,java.lang.String)\" rel=\"nofollow noreferrer\">appendTail</a></em> methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern p = Pattern.compile(&quot;([a-z])\\\\1&quot;);\nMatcher m = p.matcher(str);\nStringBuilder s = new StringBuilder();\nwhile (m.find())\n    m.appendReplacement(s, &quot;Double&quot; + m.group(1).toUpperCase());\nm.appendTail(s);\nreturn s.toString();\n</code></pre>\n<p>Alternately, use a <em>loop</em> to find each occurrence of <em>&quot;Double&quot;</em>, and uppercase the succeeding character.</p>\n<pre class=\"lang-java prettyprint-override\"><code>str = str.replaceAll(&quot;([a-z])\\\\1&quot;,&quot;Double$1&quot;);\nStringBuilder s = new StringBuilder(str);\nint o = -1;\nwhile ((o = s.indexOf(&quot;Double&quot;, o + 1)) != -1)\n    s.setCharAt(o + 6, Character.toUpperCase(s.charAt(o + 6)));\nreturn s.toString();\n</code></pre>\n<p>Or, a less practical approach would be to try each <em>double a – z</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (char c = 'a'; c &lt;= 'z'; c++)\n    str = str.replaceAll(c + &quot;&quot; + c, &quot;Double&quot; + Character.toUpperCase(c));\nreturn str;\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>heDoubleLo\nbDoubleODoubleKDoubleEper\n</code></pre>\n"}],"owner":{"account_id":29751247,"reputation":1,"user_id":22801094,"display_name":"Evgopka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698258031,"creation_date":1698240016,"question_id":77359848,"body_markdown":"Example:\r\n1. &quot;hello&quot; - &quot;heDoubleLo&quot;\r\n2. &quot;bookkeeper&quot; -  &quot;bDoubleODoubleKDoubleEper&quot;\r\nNote that after &quot;Double&quot; the character becomes uppercase. That&#39;s the problem\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(stringTransform(&quot;hello&quot;));\r\n        System.out.println(stringTransform(&quot;bookkeeper&quot;));\r\n    }\r\n    public static String stringTransform(String str) {\r\n        return str.replaceAll(&quot;([a-z])\\\\1&quot;,&quot;Double&quot; + &quot;$1&quot;.toUpperCase());\r\n    }\r\n}\r\n```\r\n\r\nExpected result:\r\nheDoubleLo\r\nbDoubleODoubleKDoubleEper\r\n\r\nThe resulting result:\r\nheDoublelo\r\nbDoubleoDoublekDoubleeper","title":"Write a function that takes a string and replaces two consecutive letters in a &quot;Double*&quot; pattern","body":"<p>Example:</p>\n<ol>\n<li>&quot;hello&quot; - &quot;heDoubleLo&quot;</li>\n<li>&quot;bookkeeper&quot; -  &quot;bDoubleODoubleKDoubleEper&quot;\nNote that after &quot;Double&quot; the character becomes uppercase. That's the problem</li>\n</ol>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(stringTransform(&quot;hello&quot;));\n        System.out.println(stringTransform(&quot;bookkeeper&quot;));\n    }\n    public static String stringTransform(String str) {\n        return str.replaceAll(&quot;([a-z])\\\\1&quot;,&quot;Double&quot; + &quot;$1&quot;.toUpperCase());\n    }\n}\n</code></pre>\n<p>Expected result:\nheDoubleLo\nbDoubleODoubleKDoubleEper</p>\n<p>The resulting result:\nheDoublelo\nbDoubleoDoublekDoubleeper</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698251685,"post_id":77361054,"comment_id":136382547,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77361054/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29443823,"reputation":15,"user_id":22561547,"display_name":"VGoychev"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698257983,"creation_date":1698248963,"answer_id":77361054,"question_id":77348128,"body_markdown":"I found the solution! I had to make the values from the sharedprefs to be removed after clicking the button. So in buttonClick I had to put the sharedpref and then the sp.edit().remove(&quot;Value&quot;).commit(). My values in the example are 4 so I put 4 of them as I have shown below :). \r\n\r\n    public void btnEditClick(View view){\r\n            Log.d(&quot;MainMenu&quot;, &quot;Edit button clicked&quot;);\r\n            SharedPreferences sp = getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\r\n            sp.edit().remove(&quot;height&quot;).commit();\r\n            sp.edit().remove(&quot;weight&quot;).commit();\r\n            sp.edit().remove(&quot;age&quot;).commit();\r\n            sp.edit().remove(&quot;gender&quot;).commit();\r\n            Intent intent = new Intent(this, MainActivity.class);\r\n            startActivity(intent);\r\n        }","title":"How to create a button , which after being clicked to go back to an Activity where were already put values in sharedPref and to edit those values?","body":"<p>I found the solution! I had to make the values from the sharedprefs to be removed after clicking the button. So in buttonClick I had to put the sharedpref and then the sp.edit().remove(&quot;Value&quot;).commit(). My values in the example are 4 so I put 4 of them as I have shown below :).</p>\n<pre><code>public void btnEditClick(View view){\n        Log.d(&quot;MainMenu&quot;, &quot;Edit button clicked&quot;);\n        SharedPreferences sp = getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\n        sp.edit().remove(&quot;height&quot;).commit();\n        sp.edit().remove(&quot;weight&quot;).commit();\n        sp.edit().remove(&quot;age&quot;).commit();\n        sp.edit().remove(&quot;gender&quot;).commit();\n        Intent intent = new Intent(this, MainActivity.class);\n        startActivity(intent);\n    }\n</code></pre>\n"}],"owner":{"account_id":29443823,"reputation":15,"user_id":22561547,"display_name":"VGoychev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77361054,"answer_count":1,"score":0,"last_activity_date":1698257983,"creation_date":1698092874,"question_id":77348128,"body_markdown":"How to create a button , which after being clicked to go back to an Activity where were already put values in sharedPref and to edit those values?\r\nIm trying to make an app where a User enters his Height,Weight,Age and chooses from a radioGroup radioButtons - Male or Female and after clicking the &quot;Next&quot; button it goes to a Main Menu where it displays those values which the user just input. I&#39;ve made a if where it looks if the values are already entered before and if they are , it just skips the Activity and it goes directly to the Main Menu. I want to make a button Edit where , when it gets clicked to go back to the Activity where user can edit the values which he input before. I&#39;m posting the code of My MainActivity and My MainMenu below , will appreciate the answers \r\nP.S. I&#39;m new to coding and I&#39;m not understanding everything , that&#39;s why I&#39;m asking a question , would love to see a simple detailed explanation of the steps to do the thing i want in the codes. Thank you guys!\r\nMainActivity:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    EditText enterHeight, enterWeight, enterAge;\r\n\r\n    private double height;\r\n    private double weight;\r\n    private double age;\r\n    String selectedRadiobut;\r\n    Button button;\r\n    RadioButton radioMale, radioFemale;\r\n    RadioGroup radioGroup;\r\n    SharedPreferences sp;\r\n\r\n    private boolean heightIsValid() {\r\n\r\n        if (enterHeight.getText().toString().length() == 0) {\r\n            enterHeight.setError(&quot;Cant be empty&quot;);\r\n            return false;\r\n        }\r\n\r\n        double height = Double.valueOf(enterHeight.getText().toString());\r\n\r\n        if (height &lt;= 0) {\r\n\r\n            enterHeight.setError(&quot;Cant be zero&quot;);\r\n            return false;\r\n        }\r\n        if (height &lt;= 40 || height &gt; 250) {\r\n\r\n            enterHeight.setError(&quot;Cant be less than 40 cm or more than 250 cm&quot;);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private boolean weightIsValid() {\r\n        if (enterWeight.getText().toString().length() == 0) {\r\n            enterWeight.setError(&quot;Cant be empty&quot;);\r\n            return false;\r\n        }\r\n\r\n        double weight = Double.valueOf(enterWeight.getText().toString());\r\n\r\n        if (weight &lt;= 0) {\r\n\r\n            enterWeight.setError(&quot;Cant be zero&quot;);\r\n            return false;\r\n        }\r\n        if (weight &gt; 600) {\r\n\r\n            enterWeight.setError(&quot;Cant be more than 600 kg&quot;);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private boolean ageIsValid() {\r\n        if (enterAge.getText().toString().length() == 0) {\r\n            enterAge.setError(&quot;Cant be empty&quot;);\r\n            return false;\r\n        }\r\n\r\n        double age = Double.valueOf(enterAge.getText().toString());\r\n\r\n        if (age &lt;= 0) {\r\n\r\n            enterAge.setError(&quot;Cant be zero&quot;);\r\n            return false;\r\n        }\r\n        if (age &gt; 116) {\r\n\r\n            enterAge.setError(&quot;Cant be older than 116 years&quot;);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private boolean genderIsSelected() {\r\n\r\n        if (radioGroup.getCheckedRadioButtonId() == -1) { //checking if the user has selected a option using id\r\n            Toast toast = Toast.makeText(this, &quot;Please select gender&quot;, Toast.LENGTH_SHORT);\r\n            toast.show();\r\n            return false;\r\n        }\r\n        if (radioMale.isChecked()) {\r\n            selectedRadiobut = radioMale.getText().toString();\r\n        } else if (radioFemale.isChecked()) {\r\n            selectedRadiobut = radioFemale.getText().toString();\r\n        }\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        getSupportActionBar().hide();\r\n        setContentView(R.layout.activity_main);\r\n        getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);\r\n        sp = getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\r\n\r\n        if (sp.contains(&quot;height&quot;) &amp;&amp; sp.contains(&quot;weight&quot;) &amp;&amp; sp.contains(&quot;age&quot;) &amp;&amp; sp.contains(&quot;gender&quot;)) {\r\n            // Values are stored, navigate to MainMenu directly\r\n            Intent intent = new Intent(MainActivity.this, MainMenu.class);\r\n            startActivity(intent);\r\n        } else {\r\n            radioMale = (RadioButton) findViewById(R.id.radioMale);\r\n            radioFemale = (RadioButton) findViewById(R.id.radioFemale);\r\n            button = (Button) findViewById(R.id.button);\r\n            enterHeight = (EditText) findViewById(R.id.enterHeight);\r\n            enterWeight = (EditText) findViewById(R.id.enterWeight);\r\n            enterAge = (EditText) findViewById(R.id.enterAge);\r\n            radioGroup = (RadioGroup) findViewById(R.id.radioSex);\r\n\r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n\r\n\r\n                    if (heightIsValid() &amp; weightIsValid() &amp; ageIsValid() &amp; genderIsSelected()) {\r\n\r\n                        height = Double.valueOf(enterHeight.getText().toString());\r\n                        weight = Double.valueOf(enterWeight.getText().toString());\r\n                        age = Double.valueOf(enterAge.getText().toString());\r\n\r\n                        SharedPreferences.Editor editor = sp.edit();\r\n                        editor.putString(&quot;height&quot;, String.valueOf(Integer.valueOf((int) height)));\r\n                        editor.putString(&quot;weight&quot;, String.valueOf(Integer.valueOf((int) weight)));\r\n                        editor.putString(&quot;age&quot;, String.valueOf(Integer.valueOf((int) age)));\r\n                        editor.putString(&quot;gender&quot;, String.valueOf(selectedRadiobut));\r\n                        editor.commit();\r\n\r\n                        InputMethodManager imm = (InputMethodManager) getSystemService(getApplicationContext().INPUT_METHOD_SERVICE);\r\n                        imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\r\n                        Intent intent = new Intent(MainActivity.this, MainMenu.class);\r\n                        startActivity(intent);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n        \r\n   \r\nMainMenu:\r\n\r\n public class MainMenu extends AppCompatActivity {\r\n\r\n\r\nButton  btnMC , btnFN , btnRec , btnGuides, btnEdit;\r\n\r\n\r\n    public void btnStepClick(View view) {\r\n        Intent intent = new Intent(this, StepCounter.class);\r\n        startActivity(intent);\r\n    }\r\n    public void btnCalClick(View view) {\r\n        Intent intent = new Intent(this, MacrosCalculator.class);\r\n        startActivity(intent);\r\n    }\r\n    public void btnRecClick(View view){\r\n        Intent intent = new Intent(this, Recipes.class);\r\n        startActivity(intent);\r\n    }\r\n    public void btnEditClick(View view){\r\n        Log.d(&quot;MainMenu&quot;, &quot;Edit button clicked&quot;);\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        startActivity(intent);\r\n    }\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        getSupportActionBar().hide();\r\n        setContentView(R.layout.activity_main_menu);\r\n        TextView age1 , height1 , weight1 , gender1;\r\n\r\n        age1 = (TextView) findViewById(R.id.age1);\r\n        height1 = (TextView) findViewById(R.id.height1);\r\n        weight1 = (TextView) findViewById(R.id.weight1);\r\n        gender1 = (TextView) findViewById(R.id.gender1);\r\n        btnMC = (Button) findViewById(R.id.btnMC);\r\n        btnFN = (Button) findViewById(R.id.btnFN);\r\n        btnRec = (Button) findViewById(R.id.btnRec);\r\n        btnGuides = (Button) findViewById(R.id.btnGuides);\r\n        btnEdit = (Button) findViewById(R.id.btnEdit);\r\n\r\n        SharedPreferences sp = getApplicationContext().getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\r\n        String height = sp.getString(&quot;height&quot; , &quot;&quot;);\r\n        String weight = sp.getString(&quot;weight&quot; , &quot;&quot;);\r\n        String age = sp.getString(&quot;age&quot; , &quot;&quot;);\r\n        String gender= sp.getString(&quot;gender&quot;, &quot;&quot;);\r\n\r\n        gender1.setText(&quot;Gender: &quot; + gender);\r\n        age1.setText(&quot;Age: &quot; + age);\r\n        height1.setText(&quot;Height(cm): &quot; + height);\r\n        weight1.setText(&quot;Weight(kg): &quot; + weight);\r\n\r\n\r\n    }\r\n}\r\n\r\nI wanted to create a button EDIT , and when it gets clicked to go back to the MainActivity , but when it gets clicked , the app crashes.","title":"How to create a button , which after being clicked to go back to an Activity where were already put values in sharedPref and to edit those values?","body":"<p>How to create a button , which after being clicked to go back to an Activity where were already put values in sharedPref and to edit those values?\nIm trying to make an app where a User enters his Height,Weight,Age and chooses from a radioGroup radioButtons - Male or Female and after clicking the &quot;Next&quot; button it goes to a Main Menu where it displays those values which the user just input. I've made a if where it looks if the values are already entered before and if they are , it just skips the Activity and it goes directly to the Main Menu. I want to make a button Edit where , when it gets clicked to go back to the Activity where user can edit the values which he input before. I'm posting the code of My MainActivity and My MainMenu below , will appreciate the answers\nP.S. I'm new to coding and I'm not understanding everything , that's why I'm asking a question , would love to see a simple detailed explanation of the steps to do the thing i want in the codes. Thank you guys!\nMainActivity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\nEditText enterHeight, enterWeight, enterAge;\n\nprivate double height;\nprivate double weight;\nprivate double age;\nString selectedRadiobut;\nButton button;\nRadioButton radioMale, radioFemale;\nRadioGroup radioGroup;\nSharedPreferences sp;\n\nprivate boolean heightIsValid() {\n\n    if (enterHeight.getText().toString().length() == 0) {\n        enterHeight.setError(&quot;Cant be empty&quot;);\n        return false;\n    }\n\n    double height = Double.valueOf(enterHeight.getText().toString());\n\n    if (height &lt;= 0) {\n\n        enterHeight.setError(&quot;Cant be zero&quot;);\n        return false;\n    }\n    if (height &lt;= 40 || height &gt; 250) {\n\n        enterHeight.setError(&quot;Cant be less than 40 cm or more than 250 cm&quot;);\n        return false;\n    }\n    return true;\n}\n\nprivate boolean weightIsValid() {\n    if (enterWeight.getText().toString().length() == 0) {\n        enterWeight.setError(&quot;Cant be empty&quot;);\n        return false;\n    }\n\n    double weight = Double.valueOf(enterWeight.getText().toString());\n\n    if (weight &lt;= 0) {\n\n        enterWeight.setError(&quot;Cant be zero&quot;);\n        return false;\n    }\n    if (weight &gt; 600) {\n\n        enterWeight.setError(&quot;Cant be more than 600 kg&quot;);\n        return false;\n    }\n    return true;\n}\n\nprivate boolean ageIsValid() {\n    if (enterAge.getText().toString().length() == 0) {\n        enterAge.setError(&quot;Cant be empty&quot;);\n        return false;\n    }\n\n    double age = Double.valueOf(enterAge.getText().toString());\n\n    if (age &lt;= 0) {\n\n        enterAge.setError(&quot;Cant be zero&quot;);\n        return false;\n    }\n    if (age &gt; 116) {\n\n        enterAge.setError(&quot;Cant be older than 116 years&quot;);\n        return false;\n    }\n    return true;\n}\n\nprivate boolean genderIsSelected() {\n\n    if (radioGroup.getCheckedRadioButtonId() == -1) { //checking if the user has selected a option using id\n        Toast toast = Toast.makeText(this, &quot;Please select gender&quot;, Toast.LENGTH_SHORT);\n        toast.show();\n        return false;\n    }\n    if (radioMale.isChecked()) {\n        selectedRadiobut = radioMale.getText().toString();\n    } else if (radioFemale.isChecked()) {\n        selectedRadiobut = radioFemale.getText().toString();\n    }\n    return true;\n}\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    requestWindowFeature(Window.FEATURE_NO_TITLE);\n    getSupportActionBar().hide();\n    setContentView(R.layout.activity_main);\n    getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);\n    sp = getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\n\n    if (sp.contains(&quot;height&quot;) &amp;&amp; sp.contains(&quot;weight&quot;) &amp;&amp; sp.contains(&quot;age&quot;) &amp;&amp; sp.contains(&quot;gender&quot;)) {\n        // Values are stored, navigate to MainMenu directly\n        Intent intent = new Intent(MainActivity.this, MainMenu.class);\n        startActivity(intent);\n    } else {\n        radioMale = (RadioButton) findViewById(R.id.radioMale);\n        radioFemale = (RadioButton) findViewById(R.id.radioFemale);\n        button = (Button) findViewById(R.id.button);\n        enterHeight = (EditText) findViewById(R.id.enterHeight);\n        enterWeight = (EditText) findViewById(R.id.enterWeight);\n        enterAge = (EditText) findViewById(R.id.enterAge);\n        radioGroup = (RadioGroup) findViewById(R.id.radioSex);\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n\n                if (heightIsValid() &amp; weightIsValid() &amp; ageIsValid() &amp; genderIsSelected()) {\n\n                    height = Double.valueOf(enterHeight.getText().toString());\n                    weight = Double.valueOf(enterWeight.getText().toString());\n                    age = Double.valueOf(enterAge.getText().toString());\n\n                    SharedPreferences.Editor editor = sp.edit();\n                    editor.putString(&quot;height&quot;, String.valueOf(Integer.valueOf((int) height)));\n                    editor.putString(&quot;weight&quot;, String.valueOf(Integer.valueOf((int) weight)));\n                    editor.putString(&quot;age&quot;, String.valueOf(Integer.valueOf((int) age)));\n                    editor.putString(&quot;gender&quot;, String.valueOf(selectedRadiobut));\n                    editor.commit();\n\n                    InputMethodManager imm = (InputMethodManager) getSystemService(getApplicationContext().INPUT_METHOD_SERVICE);\n                    imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n                    Intent intent = new Intent(MainActivity.this, MainMenu.class);\n                    startActivity(intent);\n                }\n            }\n        });\n    }\n}\n    \n</code></pre>\n<p>MainMenu:</p>\n<p>public class MainMenu extends AppCompatActivity {</p>\n<p>Button  btnMC , btnFN , btnRec , btnGuides, btnEdit;</p>\n<pre><code>public void btnStepClick(View view) {\n    Intent intent = new Intent(this, StepCounter.class);\n    startActivity(intent);\n}\npublic void btnCalClick(View view) {\n    Intent intent = new Intent(this, MacrosCalculator.class);\n    startActivity(intent);\n}\npublic void btnRecClick(View view){\n    Intent intent = new Intent(this, Recipes.class);\n    startActivity(intent);\n}\npublic void btnEditClick(View view){\n    Log.d(&quot;MainMenu&quot;, &quot;Edit button clicked&quot;);\n    Intent intent = new Intent(this, MainActivity.class);\n    startActivity(intent);\n}\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    requestWindowFeature(Window.FEATURE_NO_TITLE);\n    getSupportActionBar().hide();\n    setContentView(R.layout.activity_main_menu);\n    TextView age1 , height1 , weight1 , gender1;\n\n    age1 = (TextView) findViewById(R.id.age1);\n    height1 = (TextView) findViewById(R.id.height1);\n    weight1 = (TextView) findViewById(R.id.weight1);\n    gender1 = (TextView) findViewById(R.id.gender1);\n    btnMC = (Button) findViewById(R.id.btnMC);\n    btnFN = (Button) findViewById(R.id.btnFN);\n    btnRec = (Button) findViewById(R.id.btnRec);\n    btnGuides = (Button) findViewById(R.id.btnGuides);\n    btnEdit = (Button) findViewById(R.id.btnEdit);\n\n    SharedPreferences sp = getApplicationContext().getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\n    String height = sp.getString(&quot;height&quot; , &quot;&quot;);\n    String weight = sp.getString(&quot;weight&quot; , &quot;&quot;);\n    String age = sp.getString(&quot;age&quot; , &quot;&quot;);\n    String gender= sp.getString(&quot;gender&quot;, &quot;&quot;);\n\n    gender1.setText(&quot;Gender: &quot; + gender);\n    age1.setText(&quot;Age: &quot; + age);\n    height1.setText(&quot;Height(cm): &quot; + height);\n    weight1.setText(&quot;Weight(kg): &quot; + weight);\n\n\n}\n</code></pre>\n<p>}</p>\n<p>I wanted to create a button EDIT , and when it gets clicked to go back to the MainActivity , but when it gets clicked , the app crashes.</p>\n"},{"tags":["java","spring-boot","tomcat","logback"],"owner":{"account_id":16349595,"reputation":1,"user_id":11808501,"display_name":"Boleks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698257921,"creation_date":1698254258,"question_id":77361652,"body_markdown":"I&#39;m trying to set up Tomcat access logging for Spring Boot application. I have already tried configuring Logback and the logback-gelf appender for other logging purposes, and they work fine. Also added configuration for STDOUT `logback-access.xml` and it also work fine but with `GelfTcpAppender` its not.\r\n\r\nJava 17 \r\nSpringBoor 2.7.14\r\nde.siegmar:logback-gelf 4.0.2\r\n\r\n\r\n\r\n\r\n\r\nThis is `logback-access.xml` configuration file.\r\n\r\n```\r\n&lt;configuration&gt;\r\n\t&lt;appender name=&quot;GELF&quot; class=&quot;de.siegmar.logbackgelf.GelfTcpAppender&quot;&gt;\r\n\t\t&lt;graylogHost&gt;xx.xx.xx.xx&lt;/graylogHost&gt;\r\n\t\t&lt;graylogPort&gt;12201&lt;/graylogPort&gt;\r\n\t\t&lt;connectTimeout&gt;15000&lt;/connectTimeout&gt;\r\n\t\t&lt;socketTimeout&gt;5000&lt;/socketTimeout&gt;\r\n\t\t&lt;reconnectInterval&gt;300&lt;/reconnectInterval&gt;\r\n\t\t&lt;maxRetries&gt;2&lt;/maxRetries&gt;\r\n\t\t&lt;retryDelay&gt;3000&lt;/retryDelay&gt;\r\n\t\t&lt;poolSize&gt;2&lt;/poolSize&gt;\r\n\t\t&lt;poolMaxWaitTime&gt;5000&lt;/poolMaxWaitTime&gt;\r\n\t\t&lt;poolMaxIdleTime&gt;10&lt;/poolMaxIdleTime&gt;\r\n\t\t&lt;encoder class=&quot;de.siegmar.logbackgelf.GelfEncoder&quot;&gt;\r\n\t\t\t&lt;originHost&gt;localhost&lt;/originHost&gt;\r\n\t\t\t&lt;includeRawMessage&gt;false&lt;/includeRawMessage&gt;\r\n\t\t\t&lt;includeMarker&gt;true&lt;/includeMarker&gt;\r\n\t\t\t&lt;includeMdcData&gt;true&lt;/includeMdcData&gt;\r\n\t\t\t&lt;includeCallerData&gt;false&lt;/includeCallerData&gt;\r\n\t\t\t&lt;includeRootCauseData&gt;false&lt;/includeRootCauseData&gt;\r\n\t\t\t&lt;includeLevelName&gt;false&lt;/includeLevelName&gt;\r\n\t\t\t&lt;shortPatternLayout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n\t\t\t\t&lt;pattern&gt;%m%nopex&lt;/pattern&gt;\r\n\t\t\t&lt;/shortPatternLayout&gt;\r\n\t\t\t&lt;fullPatternLayout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n\t\t\t\t&lt;pattern&gt;%m%n&lt;/pattern&gt;\r\n\t\t\t&lt;/fullPatternLayout&gt;\r\n\t\t\t&lt;numbersAsString&gt;false&lt;/numbersAsString&gt;\r\n\t\t\t&lt;staticField&gt;app_name:backend&lt;/staticField&gt;\r\n\t\t&lt;/encoder&gt;\r\n\t&lt;/appender&gt;\r\n\t&lt;appender name=&quot;ASYNC GELF&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;GELF&quot;/&gt;\r\n\t\t&lt;neverBlock&gt;true&lt;/neverBlock&gt;\r\n\t&lt;/appender&gt;\r\n\t&lt;appender-ref ref=&quot;ASYNC GELF&quot;/&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nDoes anyone have the correct configuration for `logback-access.xml`?\r\n","title":"Configuring Spring Boot to Log Tomcat Access Logs with Logback and Logback GELF","body":"<p>I'm trying to set up Tomcat access logging for Spring Boot application. I have already tried configuring Logback and the logback-gelf appender for other logging purposes, and they work fine. Also added configuration for STDOUT <code>logback-access.xml</code> and it also work fine but with <code>GelfTcpAppender</code> its not.</p>\n<p>Java 17\nSpringBoor 2.7.14\nde.siegmar:logback-gelf 4.0.2</p>\n<p>This is <code>logback-access.xml</code> configuration file.</p>\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=&quot;GELF&quot; class=&quot;de.siegmar.logbackgelf.GelfTcpAppender&quot;&gt;\n        &lt;graylogHost&gt;xx.xx.xx.xx&lt;/graylogHost&gt;\n        &lt;graylogPort&gt;12201&lt;/graylogPort&gt;\n        &lt;connectTimeout&gt;15000&lt;/connectTimeout&gt;\n        &lt;socketTimeout&gt;5000&lt;/socketTimeout&gt;\n        &lt;reconnectInterval&gt;300&lt;/reconnectInterval&gt;\n        &lt;maxRetries&gt;2&lt;/maxRetries&gt;\n        &lt;retryDelay&gt;3000&lt;/retryDelay&gt;\n        &lt;poolSize&gt;2&lt;/poolSize&gt;\n        &lt;poolMaxWaitTime&gt;5000&lt;/poolMaxWaitTime&gt;\n        &lt;poolMaxIdleTime&gt;10&lt;/poolMaxIdleTime&gt;\n        &lt;encoder class=&quot;de.siegmar.logbackgelf.GelfEncoder&quot;&gt;\n            &lt;originHost&gt;localhost&lt;/originHost&gt;\n            &lt;includeRawMessage&gt;false&lt;/includeRawMessage&gt;\n            &lt;includeMarker&gt;true&lt;/includeMarker&gt;\n            &lt;includeMdcData&gt;true&lt;/includeMdcData&gt;\n            &lt;includeCallerData&gt;false&lt;/includeCallerData&gt;\n            &lt;includeRootCauseData&gt;false&lt;/includeRootCauseData&gt;\n            &lt;includeLevelName&gt;false&lt;/includeLevelName&gt;\n            &lt;shortPatternLayout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n                &lt;pattern&gt;%m%nopex&lt;/pattern&gt;\n            &lt;/shortPatternLayout&gt;\n            &lt;fullPatternLayout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n                &lt;pattern&gt;%m%n&lt;/pattern&gt;\n            &lt;/fullPatternLayout&gt;\n            &lt;numbersAsString&gt;false&lt;/numbersAsString&gt;\n            &lt;staticField&gt;app_name:backend&lt;/staticField&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;appender name=&quot;ASYNC GELF&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n        &lt;appender-ref ref=&quot;GELF&quot;/&gt;\n        &lt;neverBlock&gt;true&lt;/neverBlock&gt;\n    &lt;/appender&gt;\n    &lt;appender-ref ref=&quot;ASYNC GELF&quot;/&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Does anyone have the correct configuration for <code>logback-access.xml</code>?</p>\n"},{"tags":["java","generics","compiler-warnings","parameterized","json-simple"],"answers":[{"comments":[{"owner":{"account_id":13748793,"reputation":290,"user_id":9921564,"display_name":"Chagai Friedlander"},"score":2,"creation_date":1597744034,"post_id":35453263,"comment_id":112227022,"body_markdown":"[the answer below](https://stackoverflow.com/questions/35453110/json-simple-causes-compiler-warning-type-safety-the-method-putobject-object#answer-40087076) shows how you **can** avoid the warning.","body":"<a href=\"https://stackoverflow.com/questions/35453110/json-simple-causes-compiler-warning-type-safety-the-method-putobject-object#answer-40087076\">the answer below</a> shows how you <b>can</b> avoid the warning."}],"tags":[],"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"comment_count":1,"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1455702909,"creation_date":1455702909,"answer_id":35453263,"question_id":35453110,"body_markdown":"You are using JSON Simple. Its `JSONObject` is derived from `HashMap` but unfortunately doesn&#39;t use generic parameters (probably because it was created in pre-generic times). So the warnings you see are the same as in:\r\n\r\n    HashMap map = new HashMap();\r\n    map.put(&quot;showOppo&quot;, option.isShowOppo());\r\n\r\nUnfortunately you can&#39;t avoid the warnings.\r\n\r\nI would recommend to switch to another JSON library like GSON or Jackson.","title":"JSON-Simple causes compiler warning &quot;Type safety: The method put(Object, Object) belongs to the raw type HashMap.&quot;","body":"<p>You are using JSON Simple. Its <code>JSONObject</code> is derived from <code>HashMap</code> but unfortunately doesn't use generic parameters (probably because it was created in pre-generic times). So the warnings you see are the same as in:</p>\n\n<pre><code>HashMap map = new HashMap();\nmap.put(\"showOppo\", option.isShowOppo());\n</code></pre>\n\n<p>Unfortunately you can't avoid the warnings.</p>\n\n<p>I would recommend to switch to another JSON library like GSON or Jackson.</p>\n"},{"tags":[],"owner":{"account_id":7764591,"reputation":57,"user_id":5876146,"display_name":"Shono"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455703665,"creation_date":1455703665,"answer_id":35453568,"question_id":35453110,"body_markdown":"If option.isShowOppo() is returning boolean value. Try Boolean value= option.isShowOppo(); and then additionalDetails.put(&quot;showOppo&quot;,value);","title":"JSON-Simple causes compiler warning &quot;Type safety: The method put(Object, Object) belongs to the raw type HashMap.&quot;","body":"<p>If option.isShowOppo() is returning boolean value. Try Boolean value= option.isShowOppo(); and then additionalDetails.put(\"showOppo\",value);</p>\n"},{"comments":[{"owner":{"account_id":14233271,"reputation":186,"user_id":10978502,"display_name":"skoriy"},"score":3,"creation_date":1550050862,"post_id":40087076,"comment_id":96124104,"body_markdown":"When I try create a JSONObject passing HashMap in the constructor I get following - The constructor JSONObject(HashMap&lt;String,Object&gt;) is undefined.","body":"When I try create a JSONObject passing HashMap in the constructor I get following - The constructor JSONObject(HashMap&lt;String,Object&gt;) is undefined."},{"owner":{"account_id":13748793,"reputation":290,"user_id":9921564,"display_name":"Chagai Friedlander"},"score":2,"creation_date":1597743933,"post_id":40087076,"comment_id":112226971,"body_markdown":"this should be the accepted answer in my opinion! Thanks!","body":"this should be the accepted answer in my opinion! Thanks!"},{"owner":{"account_id":3724813,"reputation":1028,"user_id":3098962,"accept_rate":86,"display_name":"Anurag"},"score":0,"creation_date":1613478317,"post_id":40087076,"comment_id":117081695,"body_markdown":"yes this should have been the accepted answer, works like a charm and this seems correct way to do it.","body":"yes this should have been the accepted answer, works like a charm and this seems correct way to do it."},{"owner":{"account_id":304252,"reputation":785,"user_id":613651,"display_name":"Keith Tyler"},"score":0,"creation_date":1679005506,"post_id":40087076,"comment_id":133648172,"body_markdown":"JSONObject does not seem to have a constructor that takes an object, just a plain no-arg constructor.","body":"JSONObject does not seem to have a constructor that takes an object, just a plain no-arg constructor."},{"owner":{"account_id":1363227,"reputation":541,"user_id":1326568,"display_name":"Ashwin"},"score":0,"creation_date":1680689552,"post_id":40087076,"comment_id":133939414,"body_markdown":"@KeithTyler Make sure the versions match at least (json-simple 1.1.1 and Java 1.5 and up). I have not tested on other versions of json-simple, just v1.1.1.","body":"@KeithTyler Make sure the versions match at least (json-simple 1.1.1 and Java 1.5 and up). I have not tested on other versions of json-simple, just v1.1.1."}],"tags":[],"owner":{"account_id":1363227,"reputation":541,"user_id":1326568,"display_name":"Ashwin"},"comment_count":5,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1476709168,"creation_date":1476709168,"answer_id":40087076,"question_id":35453110,"body_markdown":"I don&#39;t know if you still have this problem, but I think it will benefit others who came across this problem.\r\n\r\nI came across this problem and after a while, I managed to get it fixed using a HashMap.\r\n\r\n    HashMap&lt;String,Object&gt; additionalDetails = new HashMap&lt;String,Object&gt;();\r\n    additionalDetails.put(&quot;showOppo&quot;, option.isShowOppo());\r\n    additionalDetails.put(&quot;showCont&quot;, option.isShowCont());\r\n    additionalDetails.put(&quot;contActionTaken&quot;, option.isConActionTaken());\r\n    additionalDetails.put(&quot;oppoActionTaken&quot;, option.isOppoActionTaken());\r\n    \r\n    JSONObject additionalDetailsJSON = new JSONObject(additionalDetails);\r\n\r\nIf you don&#39;t know what type the hashmap will hold or if it holds multiple types, its safer to use Object. Otherwise use the proper type.\r\n\r\nThis solution works on json-simple 1.1.1 and Java 1.5 and up.","title":"JSON-Simple causes compiler warning &quot;Type safety: The method put(Object, Object) belongs to the raw type HashMap.&quot;","body":"<p>I don't know if you still have this problem, but I think it will benefit others who came across this problem.</p>\n\n<p>I came across this problem and after a while, I managed to get it fixed using a HashMap.</p>\n\n<pre><code>HashMap&lt;String,Object&gt; additionalDetails = new HashMap&lt;String,Object&gt;();\nadditionalDetails.put(\"showOppo\", option.isShowOppo());\nadditionalDetails.put(\"showCont\", option.isShowCont());\nadditionalDetails.put(\"contActionTaken\", option.isConActionTaken());\nadditionalDetails.put(\"oppoActionTaken\", option.isOppoActionTaken());\n\nJSONObject additionalDetailsJSON = new JSONObject(additionalDetails);\n</code></pre>\n\n<p>If you don't know what type the hashmap will hold or if it holds multiple types, its safer to use Object. Otherwise use the proper type.</p>\n\n<p>This solution works on json-simple 1.1.1 and Java 1.5 and up.</p>\n"},{"comments":[{"owner":{"account_id":304252,"reputation":785,"user_id":613651,"display_name":"Keith Tyler"},"score":0,"creation_date":1679005673,"post_id":44389447,"comment_id":133648188,"body_markdown":"i am starting to feel that people should be directed away from jsonsimple. One big issue is the poor package naming that collides with the actual json.org java implementation. Makes it impossible / daunting to use both libraries. But it is just not robust or clean.","body":"i am starting to feel that people should be directed away from jsonsimple. One big issue is the poor package naming that collides with the actual json.org java implementation. Makes it impossible / daunting to use both libraries. But it is just not robust or clean."}],"tags":[],"owner":{"account_id":6905288,"reputation":406,"user_id":5303413,"display_name":"Amit Yadav"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1496750367,"creation_date":1496750367,"answer_id":44389447,"question_id":35453110,"body_markdown":"I recently face this problem.There are two libraries for JSONObject which is creating confusion for you \r\nYou have used wrong json jar that is  json-simple-1.1.jar, package that you imported is org.json.simple.JSONObject, use java-json.jar and import org.json.JSONObject download jar from http://www.java2s.com/Code/Jar/j/Downloadjavajsonjar.htm ","title":"JSON-Simple causes compiler warning &quot;Type safety: The method put(Object, Object) belongs to the raw type HashMap.&quot;","body":"<p>I recently face this problem.There are two libraries for JSONObject which is creating confusion for you \nYou have used wrong json jar that is  json-simple-1.1.jar, package that you imported is org.json.simple.JSONObject, use java-json.jar and import org.json.JSONObject download jar from <a href=\"http://www.java2s.com/Code/Jar/j/Downloadjavajsonjar.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/j/Downloadjavajsonjar.htm</a> </p>\n"},{"tags":[],"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628000119,"creation_date":1603705065,"answer_id":64534595,"question_id":35453110,"body_markdown":"to avoid the warning and to better work I change it like that (when **JSONObject additionalDetails)**\r\n    \r\n    import com.jayway.jsonpath.JsonPath;\r\n\r\n     JsonPath.parse(additionalDetails).set(fieldPath, Value);\r\n\r\n\r\n\r\n","title":"JSON-Simple causes compiler warning &quot;Type safety: The method put(Object, Object) belongs to the raw type HashMap.&quot;","body":"<p>to avoid the warning and to better work I change it like that (when <strong>JSONObject additionalDetails)</strong></p>\n<pre><code>import com.jayway.jsonpath.JsonPath;\n\n JsonPath.parse(additionalDetails).set(fieldPath, Value);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29753355,"reputation":1,"user_id":22802750,"display_name":"Russell Shaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698257827,"creation_date":1698255832,"answer_id":77361804,"question_id":35453110,"body_markdown":"Use this json implementation instead - it 100% resolves the issue!\r\nNote: use method toString() instead of toJSONString()\r\n\r\n    import org.json.JSONObject;\r\n    \r\n    &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;version&gt;20231013&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n","title":"JSON-Simple causes compiler warning &quot;Type safety: The method put(Object, Object) belongs to the raw type HashMap.&quot;","body":"<p>Use this json implementation instead - it 100% resolves the issue!\nNote: use method toString() instead of toJSONString()</p>\n<pre><code>import org.json.JSONObject;\n\n&lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20231013&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5258933,"reputation":772,"user_id":4200981,"accept_rate":43,"display_name":"vaibhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22173,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":35453263,"answer_count":6,"score":17,"last_activity_date":1698257827,"creation_date":1455702528,"question_id":35453110,"body_markdown":"I Just came across a situation where I need to put the data in the JSONObject, while doing that I received a warning from the compiler regarding. \r\n\r\nType safety: The method put(Object, Object) belongs to the raw type HashMap. References to generic type HashMap&lt;K,V&gt; should be parameterized.\r\n\r\nI tried to parameterize the JSONObject but it gave me the error. \r\n\r\nI am using following code where option is a Object.\r\n\r\n    JSONObject additionalDetails = new JSONObject();\r\n\tadditionalDetails.put(&quot;showOppo&quot;, option.isShowOppo());\r\n\tadditionalDetails.put(&quot;showCont&quot;, option.isShowCont());\r\n\tadditionalDetails.put(&quot;contActionTaken&quot;, option.isConActionTaken());\r\n\tadditionalDetails.put(&quot;oppoActionTaken&quot;, option.isOppoActionTaken());\r\n\r\nHow is this caused and how can I solve it?","title":"JSON-Simple causes compiler warning &quot;Type safety: The method put(Object, Object) belongs to the raw type HashMap.&quot;","body":"<p>I Just came across a situation where I need to put the data in the JSONObject, while doing that I received a warning from the compiler regarding. </p>\n\n<p>Type safety: The method put(Object, Object) belongs to the raw type HashMap. References to generic type HashMap should be parameterized.</p>\n\n<p>I tried to parameterize the JSONObject but it gave me the error. </p>\n\n<p>I am using following code where option is a Object.</p>\n\n<pre><code>JSONObject additionalDetails = new JSONObject();\nadditionalDetails.put(\"showOppo\", option.isShowOppo());\nadditionalDetails.put(\"showCont\", option.isShowCont());\nadditionalDetails.put(\"contActionTaken\", option.isConActionTaken());\nadditionalDetails.put(\"oppoActionTaken\", option.isOppoActionTaken());\n</code></pre>\n\n<p>How is this caused and how can I solve it?</p>\n"},{"tags":["java","inner-classes","extends","implements"],"comments":[{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":4,"creation_date":1698255680,"post_id":77361768,"comment_id":136383321,"body_markdown":"You need to make B static. Due to your hesitancy, I am guessing that you may have an incorrect understanding of what a static inner class is. Why don&#39;t you want B to be static?","body":"You need to make B static. Due to your hesitancy, I am guessing that you may have an incorrect understanding of what a static inner class is. Why don&#39;t you want B to be static?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1698255814,"post_id":77361768,"comment_id":136383345,"body_markdown":"Are you asking for something like `class C extends A.B{ public C(A a){ a.super(); } }`? Note that any instance of inner class (B) requires instance of outer class (A) to exist. Same rule is forced on any subtype of B (here C). You can either provide instance of A via argument in constructor, or you can create it explicitly like `class C extends A.B{ public C(){new A().super();}}`.  BTW I am assuming that you have direct access to that inner class (for instance it is not private)","body":"Are you asking for something like <code>class C extends A.B{ public C(A a){ a.super(); } }</code>? Note that any instance of inner class (B) requires instance of outer class (A) to exist. Same rule is forced on any subtype of B (here C). You can either provide instance of A via argument in constructor, or you can create it explicitly like <code>class C extends A.B{ public C(){new A().super();}}</code>.  BTW I am assuming that you have direct access to that inner class (for instance it is not private)"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1698256225,"post_id":77361768,"comment_id":136383412,"body_markdown":"Could this be an [XY Problem](https://www.google.com/search?q=x-y+problem&amp;oq=x-Y+problem) ?","body":"Could this be an <a href=\"https://www.google.com/search?q=x-y+problem&amp;oq=x-Y+problem\" rel=\"nofollow noreferrer\">XY Problem</a> ?"}],"owner":{"account_id":7405799,"reputation":625,"user_id":5634777,"accept_rate":38,"display_name":"kaka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1698257863,"answer_count":0,"score":0,"last_activity_date":1698257810,"creation_date":1698255514,"question_id":77361768,"body_markdown":"say I have these two classes in a single file where class A is a top level class:\r\n\r\n    class A{\r\n         class B{\r\n         } \r\n    }\r\nhow to make another top level class, say class C, extend class B without making B static?","title":"Java: How to extend a inner class from different file","body":"<p>say I have these two classes in a single file where class A is a top level class:</p>\n<pre><code>class A{\n     class B{\n     } \n}\n</code></pre>\n<p>how to make another top level class, say class C, extend class B without making B static?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1554827566,"post_id":55597279,"comment_id":97891268,"body_markdown":"As you&#39;re using spring boot you can take avantage of https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-typesafe-configuration-properties","body":"As you&#39;re using spring boot you can take avantage of <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-typesafe-configuration-properties\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1554827959,"creation_date":1554827959,"answer_id":55597486,"question_id":55597279,"body_markdown":" You can, and should, use https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-typesafe-configuration-properties\r\n\r\nTo handle this.\r\n\r\n```\r\n@Data\r\n@ConfigurationProperties(prefix=&quot;category&quot;)\r\npublic class MyProperties{\r\n\r\nprivate CategoryPojo aaa;\r\nprivate CategoryPojo bbb;\r\nprivate CategoryPojo ccc;\r\nprivate CategoryPojo ddd;\r\n\r\n\r\n@Data    \r\npublic static class CategoryPojo{\r\n    private String valueOne;\r\n    private String valueTwo;\r\n\r\n}\r\n\r\n\r\n}\r\n```\r\n\r\nYou can then place `@EnableConfigurationProperties(classes = MyProperties.class)`  on your main application class or another `@Configuration` and then `@Autowire` your `MyProperties` class where its needed.\r\n","title":"Best way to access multiple properties and assign dynamically in spring boot","body":"<p>You can, and should, use <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-typesafe-configuration-properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-typesafe-configuration-properties</a></p>\n\n<p>To handle this.</p>\n\n<pre><code>@Data\n@ConfigurationProperties(prefix=\"category\")\npublic class MyProperties{\n\nprivate CategoryPojo aaa;\nprivate CategoryPojo bbb;\nprivate CategoryPojo ccc;\nprivate CategoryPojo ddd;\n\n\n@Data    \npublic static class CategoryPojo{\n    private String valueOne;\n    private String valueTwo;\n\n}\n\n\n}\n</code></pre>\n\n<p>You can then place <code>@EnableConfigurationProperties(classes = MyProperties.class)</code>  on your main application class or another <code>@Configuration</code> and then <code>@Autowire</code> your <code>MyProperties</code> class where its needed.</p>\n"},{"tags":[],"owner":{"account_id":1746128,"reputation":2925,"user_id":1596308,"accept_rate":78,"display_name":"Adam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698257421,"creation_date":1698257421,"answer_id":77361984,"question_id":55597279,"body_markdown":"I had a hard time finding a good solution for my slight variation on this problem. I required a dynamic grouping more like this:\r\n\r\n    category[0].field1 = value1\r\n    category[0].field2 = value2\r\n    \r\n    category[1].field1 = value1\r\n    category[1].field2 = value2\r\n    \r\n    category[2].field1 = value1\r\n    category[2].field2 = value2\r\n    \r\n    category[3].field1 = value1\r\n    category[3].field2 = value2\r\n\r\nSo that things can be added to the config file without any associated code changes. Solved it by reading the fields into a list, and manually parsing the keys.\r\n\r\n\r\n    @Configuration\r\n    public class CategoryConfig {\r\n        private final Environment environment;\r\n\r\n        public CategoryConfig(Environment environment) {\r\n        \tthis.environment = environment;\r\n    \t}\r\n\r\n\r\n\t    public List&lt;Category&gt; getCategoryConfigs() {\r\n\t        List&lt;Category&gt; configs = new ArrayList&lt;&gt;();\r\n\t        int index = 0;\r\n\t        while (true) {\r\n\t            var indexedPropertyKey = format(&quot;category.field[%s]&quot;, index);\r\n\r\n\t            Long idProperty = environment.getProperty(indexedPropertyKey + &quot;.id&quot;, Long.class);\r\n\t            if (idProperty == null) {\r\n\t                // No more properties found\r\n\t                break;\r\n\t            }\r\n\r\n\t            String nameProperty = environment.getProperty(indexedPropertyKey + &quot;.name&quot;);\r\n\t            configs.add(new Category(idProperty, nameProperty));\r\n\r\n\t            index++;\r\n\t        }\r\n\t        return configs;\r\n\t    }\r\n    }\r\n\r\nI&#39;d hoped there&#39;d be a built in way. But i couldn&#39;t find it. Maybe this helps someone.","title":"Best way to access multiple properties and assign dynamically in spring boot","body":"<p>I had a hard time finding a good solution for my slight variation on this problem. I required a dynamic grouping more like this:</p>\n<pre><code>category[0].field1 = value1\ncategory[0].field2 = value2\n\ncategory[1].field1 = value1\ncategory[1].field2 = value2\n\ncategory[2].field1 = value1\ncategory[2].field2 = value2\n\ncategory[3].field1 = value1\ncategory[3].field2 = value2\n</code></pre>\n<p>So that things can be added to the config file without any associated code changes. Solved it by reading the fields into a list, and manually parsing the keys.</p>\n<pre><code>@Configuration\npublic class CategoryConfig {\n    private final Environment environment;\n\n    public CategoryConfig(Environment environment) {\n        this.environment = environment;\n    }\n\n\n    public List&lt;Category&gt; getCategoryConfigs() {\n        List&lt;Category&gt; configs = new ArrayList&lt;&gt;();\n        int index = 0;\n        while (true) {\n            var indexedPropertyKey = format(&quot;category.field[%s]&quot;, index);\n\n            Long idProperty = environment.getProperty(indexedPropertyKey + &quot;.id&quot;, Long.class);\n            if (idProperty == null) {\n                // No more properties found\n                break;\n            }\n\n            String nameProperty = environment.getProperty(indexedPropertyKey + &quot;.name&quot;);\n            configs.add(new Category(idProperty, nameProperty));\n\n            index++;\n        }\n        return configs;\n    }\n}\n</code></pre>\n<p>I'd hoped there'd be a built in way. But i couldn't find it. Maybe this helps someone.</p>\n"}],"owner":{"account_id":1283812,"reputation":1614,"user_id":1237296,"accept_rate":74,"display_name":"Anil Kumar C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2662,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55597486,"answer_count":2,"score":1,"last_activity_date":1698257421,"creation_date":1554827073,"question_id":55597279,"body_markdown":"what is the best way to represent the below properties in Spring for each category? Currently we have implemented for aaa properties. We always have two fields for each category. \r\n\r\nWe want to use the same POJO for all categories. Please suggest the best approach that fits. \r\n\r\nProperty file name **package.properties**\r\n\r\n    category.aaa.field1 = value1\r\n    category.aaa.field2 = value2\r\n    \r\n    category.bbb.field1 = value1\r\n    category.bbb.field2 = value2\r\n    \r\n    category.ccc.field1 = value1\r\n    category.ccc.field2 = value2\r\n    \r\n    category.ddd.field1 = value1\r\n    category.ddd.field2 = value2\r\n\r\n\r\n We have created a POJO with \r\n\r\n    @Data    \r\n    public class CategoryPojo{\r\n        private String valueOne;\r\n        private String valueTwo;\r\n        \r\n    }\r\nwe are reading it in @Configuration using @PropertySource\r\n\r\n    @Configuration\r\n    @ComponentScan(value = &quot;com.category&quot;)\r\n    @PropertySource(&quot;classpath:package.properties&quot;)\r\n    public class CategoryConfig{\r\n    \t@Value(&quot;${category.aaa.field1}&quot;)\r\n    \tprivate String fieldOne;\r\n    \r\n    \t@Value(&quot;${category.aaa.field2}&quot;)\r\n    \tprivate String fieldTwo;\r\n    \r\n    \t@Bean(name = &quot;getACategory&quot;)\r\n    \tpublic CategoryPojo getFields() {\r\n    \t\treturn new CategoryPojo(fieldOne, fieldTwo);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Best way to access multiple properties and assign dynamically in spring boot","body":"<p>what is the best way to represent the below properties in Spring for each category? Currently we have implemented for aaa properties. We always have two fields for each category. </p>\n\n<p>We want to use the same POJO for all categories. Please suggest the best approach that fits. </p>\n\n<p>Property file name <strong>package.properties</strong></p>\n\n<pre><code>category.aaa.field1 = value1\ncategory.aaa.field2 = value2\n\ncategory.bbb.field1 = value1\ncategory.bbb.field2 = value2\n\ncategory.ccc.field1 = value1\ncategory.ccc.field2 = value2\n\ncategory.ddd.field1 = value1\ncategory.ddd.field2 = value2\n</code></pre>\n\n<p>We have created a POJO with </p>\n\n<pre><code>@Data    \npublic class CategoryPojo{\n    private String valueOne;\n    private String valueTwo;\n\n}\n</code></pre>\n\n<p>we are reading it in @Configuration using @PropertySource</p>\n\n<pre><code>@Configuration\n@ComponentScan(value = \"com.category\")\n@PropertySource(\"classpath:package.properties\")\npublic class CategoryConfig{\n    @Value(\"${category.aaa.field1}\")\n    private String fieldOne;\n\n    @Value(\"${category.aaa.field2}\")\n    private String fieldTwo;\n\n    @Bean(name = \"getACategory\")\n    public CategoryPojo getFields() {\n        return new CategoryPojo(fieldOne, fieldTwo);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android-studio","junit","dependencies","hamcrest"],"owner":{"account_id":26092633,"reputation":1,"user_id":21642312,"display_name":"Giovanna Bregantin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698256520,"creation_date":1698256520,"question_id":77361889,"body_markdown":"I&#39;m currently in the process of compiling my project within Android Studio, and I&#39;m consistently encountering the same error. Despite my best efforts, which have involved making numerous adjustments to the version and even incorporating configurations with exclusion specifications in the dependencies, I have not been able to resolve the issue.\r\n\r\n```\r\nDuplicate class org.hamcrest.BaseDescription found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.BaseMatcher found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.CoreMatchers found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.Description found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.Factory found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.Matcher found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.SelfDescribing found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.StringDescription found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.core.AllOf found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.core.AnyOf found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.core.DescribedAs found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.core.Is found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.core.IsAnything found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.core.IsEqual found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.core.IsInstanceOf found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.core.IsNot found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.core.IsNull found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.core.IsSame found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.internal.ArrayIterator found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.internal.SelfDescribingValue found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\nDuplicate class org.hamcrest.internal.SelfDescribingValueIterator found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\r\n\r\n \r\n\r\nGo to the documentation to learn how to Fix dependency resolution errors.\r\n```\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;com.google.android.material:material:1.2.1&#39; \r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    implementation &#39;androidx.core:core-ktx:1.5.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.0&#39;\r\n    implementation &quot;org.projectlombok:lombok:1.18.30&quot;\r\n    implementation &#39;com.google.code.gson:gson:2.8.7&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-moshi:2.9.0&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.16.0&#39;\r\n    implementation &#39;com.googlecode.json-simple:json-simple:1.1.1&#39;\r\n    runtimeOnly &#39;com.google.android.material:material:1.11.0-alpha03&#39;\r\n    testImplementation &#39;junit:junit:4.10&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n}\r\n```","title":"Duplicate class (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)","body":"<p>I'm currently in the process of compiling my project within Android Studio, and I'm consistently encountering the same error. Despite my best efforts, which have involved making numerous adjustments to the version and even incorporating configurations with exclusion specifications in the dependencies, I have not been able to resolve the issue.</p>\n<pre><code>Duplicate class org.hamcrest.BaseDescription found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.BaseMatcher found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.CoreMatchers found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.Description found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.Factory found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.Matcher found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.SelfDescribing found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.StringDescription found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.core.AllOf found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.core.AnyOf found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.core.DescribedAs found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.core.Is found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.core.IsAnything found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.core.IsEqual found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.core.IsInstanceOf found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.core.IsNot found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.core.IsNull found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.core.IsSame found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.internal.ArrayIterator found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.internal.SelfDescribingValue found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\nDuplicate class org.hamcrest.internal.SelfDescribingValueIterator found in modules hamcrest-core-1.1 (org.hamcrest:hamcrest-core:1.1) and junit-4.10 (junit:junit:4.10)\n\n \n\nGo to the documentation to learn how to Fix dependency resolution errors.\n</code></pre>\n<pre><code>dependencies {\n    implementation 'com.google.android.material:material:1.2.1' \n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    implementation 'androidx.core:core-ktx:1.5.0'\n    implementation 'androidx.appcompat:appcompat:1.5.0'\n    implementation &quot;org.projectlombok:lombok:1.18.30&quot;\n    implementation 'com.google.code.gson:gson:2.8.7'\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-moshi:2.9.0'\n    implementation 'com.github.bumptech.glide:glide:4.16.0'\n    implementation 'com.googlecode.json-simple:json-simple:1.1.1'\n    runtimeOnly 'com.google.android.material:material:1.11.0-alpha03'\n    testImplementation 'junit:junit:4.10'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rest","file","large-file-upload"],"answers":[{"tags":[],"owner":{"account_id":23953632,"reputation":21,"user_id":17944814,"display_name":"Chittu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644675739,"creation_date":1644675739,"answer_id":71092678,"question_id":70727681,"body_markdown":"Identified my own mistake, so answering my own question.\r\n\r\nFileUtils.forceDelete(file);\r\n\r\nwill delete the file if that file is not opened or not getting used any where by the code or machine.\r\n\r\nIn my case this file is being used by some cloud storage sync operation (like google drive) which is using this file to upload . so FileUtils is unable to delete  that file.\r\n\r\nfixed the issue by not syncing the folder.\r\n","title":"Unable to delete a file after using it with FileSystemResource in spring boot webapp?","body":"<p>Identified my own mistake, so answering my own question.</p>\n<p>FileUtils.forceDelete(file);</p>\n<p>will delete the file if that file is not opened or not getting used any where by the code or machine.</p>\n<p>In my case this file is being used by some cloud storage sync operation (like google drive) which is using this file to upload . so FileUtils is unable to delete  that file.</p>\n<p>fixed the issue by not syncing the folder.</p>\n"},{"comments":[{"owner":{"account_id":29753398,"reputation":1,"user_id":22802780,"display_name":"vikas sharma"},"score":0,"creation_date":1698256479,"post_id":77361880,"comment_id":136383458,"body_markdown":"//this is the best way do this\n//this exception mainly occur because  our stream is not closed\n//which can be overcome by using try with resource concept\n//One more thing in path i have already used / so i am not using File.separator","body":"//this is the best way do this //this exception mainly occur because  our stream is not closed //which can be overcome by using try with resource concept //One more thing in path i have already used / so i am not using File.separator"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698301126,"post_id":77361880,"comment_id":136388231,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77361880/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29753398,"reputation":1,"user_id":22802780,"display_name":"vikas sharma"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698256460,"creation_date":1698256460,"answer_id":77361880,"question_id":70727681,"body_markdown":"    public String uploadFile(MultipartFile file, String path) throws IOException {\r\n            String originalFilename = file.getOriginalFilename();\r\n            logger.info(&quot;FileName : {}&quot;, originalFilename);\r\n            String filename = UUID.randomUUID().toString();\r\n            String extension = originalFilename.substring(originalFilename.lastIndexOf(&quot;.&quot;));\r\n            String fileNameWithExtension = filename + extension;\r\n            String fullPathWithFileName = path + fileNameWithExtension;\r\n            logger.info(&quot;full image path {}&quot;, fullPathWithFileName);\r\n    \r\n            if (extension.equalsIgnoreCase(&quot;.png&quot;) || extension.equalsIgnoreCase(&quot;.jpg&quot;) || extension.equalsIgnoreCase(&quot;.jpeg&quot;)) {\r\n                logger.info(&quot;File extension is {}&quot;, extension);\r\n                File folder = new File(path);\r\n                if (!folder.exists()) {\r\n                    folder.mkdirs();\r\n                }\r\n    \r\n                // Use try-with-resources to ensure the input stream is closed after copying.\r\n                try (InputStream inputStream = file.getInputStream()) {\r\n                    Files.copy(inputStream, Paths.get(fullPathWithFileName));\r\n                } catch (IOException e) {\r\n                    \r\n                    e.printStackTrace();\r\n                    throw e; \r\n                }\r\n    \r\n                return fileNameWithExtension;\r\n            } else {\r\n                throw new BadApiRequestException(&quot;File with this &quot; + extension + &quot; is not allowed!!&quot;);\r\n            }\r\n        }","title":"Unable to delete a file after using it with FileSystemResource in spring boot webapp?","body":"<pre><code>public String uploadFile(MultipartFile file, String path) throws IOException {\n        String originalFilename = file.getOriginalFilename();\n        logger.info(&quot;FileName : {}&quot;, originalFilename);\n        String filename = UUID.randomUUID().toString();\n        String extension = originalFilename.substring(originalFilename.lastIndexOf(&quot;.&quot;));\n        String fileNameWithExtension = filename + extension;\n        String fullPathWithFileName = path + fileNameWithExtension;\n        logger.info(&quot;full image path {}&quot;, fullPathWithFileName);\n\n        if (extension.equalsIgnoreCase(&quot;.png&quot;) || extension.equalsIgnoreCase(&quot;.jpg&quot;) || extension.equalsIgnoreCase(&quot;.jpeg&quot;)) {\n            logger.info(&quot;File extension is {}&quot;, extension);\n            File folder = new File(path);\n            if (!folder.exists()) {\n                folder.mkdirs();\n            }\n\n            // Use try-with-resources to ensure the input stream is closed after copying.\n            try (InputStream inputStream = file.getInputStream()) {\n                Files.copy(inputStream, Paths.get(fullPathWithFileName));\n            } catch (IOException e) {\n                \n                e.printStackTrace();\n                throw e; \n            }\n\n            return fileNameWithExtension;\n        } else {\n            throw new BadApiRequestException(&quot;File with this &quot; + extension + &quot; is not allowed!!&quot;);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":23953632,"reputation":21,"user_id":17944814,"display_name":"Chittu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3861,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698256460,"creation_date":1642312024,"question_id":70727681,"body_markdown":"I am trying to delete a file after uploading a file to a cloud storage location using a rest call by attaching the file in headers.(upload process is successful).\r\nbut i am unable to delete the file after upload got successful.\r\nis there any way i can upload a large file(max 150 MB) through rest post call and afterwards i need to delete the file.\r\n\r\nthis is a production application so i need to opt for a best solution. i am using this above approach and also thinking to test with another approach - converting the file to MultipartFile and then uploading it to cloud . and then delete the file and MultipartFile afterwards.\r\n\r\n```\r\n\r\npublic void fileHandlingService(DocumentFileDetails documentFileDetails,UploadFileRequest uploadFileRequest){\r\n File file = new File(documentFileDetails.getFolderDirectory() + documentFileDetails.getFileName()\r\n\t\t\t\t+ documentFileDetails.getFileExtension());\r\n uploadingFile(file,uploadFileRequest);\r\n\r\n //delete the file whether the upload is success or failure\r\n\r\n if (file.exists()) {\r\n     //TODO unable to delete file here upload is successful but file resource is getting locked i guess\r\n\tFileUtils.forceDelete(file);\r\n }\r\n\r\n}\r\n\r\n\r\n\r\npublic boolean uploadingFile(File file, UploadFileRequest uploadFileRequest) throws IOException {\r\n\t\tResource fileResource=new FileSystemResource(file);\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\t\tMultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n\t\tPresignedFields fields = uploadFileRequest.getPresignedPost().getFields();\r\n\t    //attaching some file details to the body\r\n        //body.....\r\n\r\n\t\tbody.add(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + uploadFileRequest.getFileName() + &quot;\\&quot;&quot;);\r\n\t\tbody.add(&quot;Content-Type&quot;, uploadFileRequest.getDocumentType());\r\n\t\t\r\n        //file is getting upload to the cloud (need to upload file having size 150 mb)\r\n        body.add(&quot;file&quot;, fileResource);\r\n\r\n\t\r\n\r\n\t\tHttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\r\n\t\tString serverUrl = uploadFileRequest.getPostUrl();\r\n\t\ttry {\r\n\t\t\tResponseEntity&lt;Object&gt; response = restTemplate.postForEntity(serverUrl, requestEntity, Object.class);\r\n\t\t\r\n\t\t\tif (response.getStatusCode() == HttpStatus.NO_CONTENT) {\r\n\t\t\t\tlog.info(&quot;Successfully uploaded document&quot;, null);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t} catch (Exception exception) {\r\n\t\t\tlog.error(&quot;Exception when uploading file&quot; + exception.getMessage(), null);\r\n\t\t\tthrow new Exception(ErrorCode.FAILED_UPLOAD.getCode());\r\n\t\t}\r\n\r\n\t}\r\n\r\n} \r\n```\r\n\r\n\r\nusing above code it is failing at this  line with IO exception  (guessing that fileSystemResource is not releasing the lock on the file)\r\n```\r\nFileUtils.forceDelete(file);\r\n```\r\n\r\nException:\r\n```\r\njava.io.IOException: Cannot delete file: D:\\TempFolder\\TestFolder\\Testfile.txt\r\n\tat org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:1344) ~[commons-io-2.11.0.jar:2.11.0]\r\n```","title":"Unable to delete a file after using it with FileSystemResource in spring boot webapp?","body":"<p>I am trying to delete a file after uploading a file to a cloud storage location using a rest call by attaching the file in headers.(upload process is successful).\nbut i am unable to delete the file after upload got successful.\nis there any way i can upload a large file(max 150 MB) through rest post call and afterwards i need to delete the file.</p>\n<p>this is a production application so i need to opt for a best solution. i am using this above approach and also thinking to test with another approach - converting the file to MultipartFile and then uploading it to cloud . and then delete the file and MultipartFile afterwards.</p>\n<pre><code>\npublic void fileHandlingService(DocumentFileDetails documentFileDetails,UploadFileRequest uploadFileRequest){\n File file = new File(documentFileDetails.getFolderDirectory() + documentFileDetails.getFileName()\n                + documentFileDetails.getFileExtension());\n uploadingFile(file,uploadFileRequest);\n\n //delete the file whether the upload is success or failure\n\n if (file.exists()) {\n     //TODO unable to delete file here upload is successful but file resource is getting locked i guess\n    FileUtils.forceDelete(file);\n }\n\n}\n\n\n\npublic boolean uploadingFile(File file, UploadFileRequest uploadFileRequest) throws IOException {\n        Resource fileResource=new FileSystemResource(file);\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n        PresignedFields fields = uploadFileRequest.getPresignedPost().getFields();\n        //attaching some file details to the body\n        //body.....\n\n        body.add(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + uploadFileRequest.getFileName() + &quot;\\&quot;&quot;);\n        body.add(&quot;Content-Type&quot;, uploadFileRequest.getDocumentType());\n        \n        //file is getting upload to the cloud (need to upload file having size 150 mb)\n        body.add(&quot;file&quot;, fileResource);\n\n    \n\n        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\n        String serverUrl = uploadFileRequest.getPostUrl();\n        try {\n            ResponseEntity&lt;Object&gt; response = restTemplate.postForEntity(serverUrl, requestEntity, Object.class);\n        \n            if (response.getStatusCode() == HttpStatus.NO_CONTENT) {\n                log.info(&quot;Successfully uploaded document&quot;, null);\n                return true;\n            }\n\n            return false;\n        } catch (Exception exception) {\n            log.error(&quot;Exception when uploading file&quot; + exception.getMessage(), null);\n            throw new Exception(ErrorCode.FAILED_UPLOAD.getCode());\n        }\n\n    }\n\n} \n</code></pre>\n<p>using above code it is failing at this  line with IO exception  (guessing that fileSystemResource is not releasing the lock on the file)</p>\n<pre><code>FileUtils.forceDelete(file);\n</code></pre>\n<p>Exception:</p>\n<pre><code>java.io.IOException: Cannot delete file: D:\\TempFolder\\TestFolder\\Testfile.txt\n    at org.apache.commons.io.FileUtils.forceDelete(FileUtils.java:1344) ~[commons-io-2.11.0.jar:2.11.0]\n</code></pre>\n"},{"tags":["java","regex","apache-kafka","apache-flink"],"comments":[{"owner":{"account_id":3597514,"reputation":117173,"user_id":3001761,"display_name":"jonrsharpe"},"score":4,"creation_date":1698247660,"post_id":77360856,"comment_id":136381764,"body_markdown":"Why use a regex at all? _Parse the JSON_ then deal with it in a structured way.","body":"Why use a regex at all? <i>Parse the JSON</i> then deal with it in a structured way."},{"owner":{"account_id":15168663,"reputation":1,"user_id":22598560,"display_name":"Vaibhav Kumar"},"score":0,"creation_date":1698247914,"post_id":77360856,"comment_id":136381813,"body_markdown":"We had to mask payload for multiple types of payloads. So instead of parsing just doing string replacement using regex looked easier. Got stuck with this one","body":"We had to mask payload for multiple types of payloads. So instead of parsing just doing string replacement using regex looked easier. Got stuck with this one"},{"owner":{"account_id":27900922,"reputation":5928,"user_id":21305238,"display_name":"InSync"},"score":0,"creation_date":1698258845,"post_id":77360856,"comment_id":136383902,"body_markdown":"I assure you, parsing JSON is always easier, safer and more robust than writing a regex that could break at anytime.","body":"I assure you, parsing JSON is always easier, safer and more robust than writing a regex that could break at anytime."}],"answers":[{"comments":[{"owner":{"account_id":15168663,"reputation":1,"user_id":22598560,"display_name":"Vaibhav Kumar"},"score":0,"creation_date":1698248910,"post_id":77360980,"comment_id":136381968,"body_markdown":"We are sending all the elements downstream. Our payload is also xml for some jobs. We are then also publishing to kafka/MQ. \nWe created a wrapper over slf4j logger  to mask the string according to regex.","body":"We are sending all the elements downstream. Our payload is also xml for some jobs. We are then also publishing to kafka/MQ.  We created a wrapper over slf4j logger  to mask the string according to regex."},{"owner":{"account_id":15168663,"reputation":1,"user_id":22598560,"display_name":"Vaibhav Kumar"},"score":0,"creation_date":1698248942,"post_id":77360980,"comment_id":136381971,"body_markdown":"Something like LOG.infoMask(payload) and then inside this it is masking and then logging","body":"Something like LOG.infoMask(payload) and then inside this it is masking and then logging"},{"owner":{"account_id":15168663,"reputation":1,"user_id":22598560,"display_name":"Vaibhav Kumar"},"score":0,"creation_date":1698249189,"post_id":77360980,"comment_id":136382015,"body_markdown":"But I cannot send masked tokens downstream, need them for api calls. I only want to mask in the log statement","body":"But I cannot send masked tokens downstream, need them for api calls. I only want to mask in the log statement"},{"owner":{"account_id":268602,"reputation":75188,"user_id":557445,"accept_rate":100,"display_name":"Rion Williams"},"score":0,"creation_date":1698257987,"post_id":77360980,"comment_id":136383741,"body_markdown":"Yeah, the same logic would apply. You could easily just log within that `mask()` function for any transforms/logging if necessary. Or just replace it with a log entirely. \n\nIf you are handling XML and JSON from the same source, you could just add some type of filter to handle each types accordingly or if they are all strings to begin with just apply the necessary logic to parse XML or JSON based on some condition.","body":"Yeah, the same logic would apply. You could easily just log within that <code>mask()</code> function for any transforms/logging if necessary. Or just replace it with a log entirely.   If you are handling XML and JSON from the same source, you could just add some type of filter to handle each types accordingly or if they are all strings to begin with just apply the necessary logic to parse XML or JSON based on some condition."},{"owner":{"account_id":268602,"reputation":75188,"user_id":557445,"accept_rate":100,"display_name":"Rion Williams"},"score":0,"creation_date":1698258345,"post_id":77360980,"comment_id":136383816,"body_markdown":"As far as sending them downstream, you could either issue the API calls within this function or create a separate function that handles issuing those API calls and accepts the output from this one. There are lots of ways to handle this, which may vary depending on your volume, API, etc. If your API supports it, it might be worth leveraging state to bulk/batch the API calls as well, all will just depend on your use-case/volume.","body":"As far as sending them downstream, you could either issue the API calls within this function or create a separate function that handles issuing those API calls and accepts the output from this one. There are lots of ways to handle this, which may vary depending on your volume, API, etc. If your API supports it, it might be worth leveraging state to bulk/batch the API calls as well, all will just depend on your use-case/volume."}],"tags":[],"owner":{"account_id":268602,"reputation":75188,"user_id":557445,"accept_rate":100,"display_name":"Rion Williams"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698248686,"creation_date":1698248343,"answer_id":77360980,"question_id":77360856,"body_markdown":"If you are dealing with a one-to-many mapping, you&#39;d likely want to accomplish this via a [**`flatMap()`**](https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/operators/overview/#flatmap) function to support creating multiple elements from a single one. Since your payload is already taking in JSON-based strings, you could parse this as a structured JSON object and then extract the elements you need and send those downstream.\r\n\r\nSomething like:\r\n```\r\n// Function to take in a single JSON string and output multiple string elements\r\nclass TokenMaskingFunction: FlatMapFunction&lt;String, String&gt;{\r\n    override fun flatMap(input: String, collector: Collector&lt;String&gt;) {\r\n        try {\r\n            // Construct your JSON node\r\n            val structuredJson: JsonNode = mapper.readTree(input)\r\n    \r\n            // Capture your tokens\r\n            val tokens: JsonNode = structuredJson.get(&quot;tokenList&quot;)\r\n            if (tokens.isArray) {\r\n                for (token in tokens) {\r\n                    // Extract and mask your token before sending downstream\r\n                    val maskedToken = maskFunction(token.toString())\r\n                    collector.collect(maskedToken)\r\n                }\r\n            }\r\n        } catch (e: Exception) {\r\n            // Handle accordingly / log / ignore\r\n        }\r\n    }\r\n\r\n    private fun mask(token: String): String { \r\n        // Do your masking here\r\n    }\r\n\r\n    companion object {\r\n        // Define some static JSON parser here (static is important)\r\n        val mapper = ObjectMapper()\r\n    }\r\n}\r\n```\r\n\r\nAnd then you&#39;d just use that after mapping from your source of JSON strings:\r\n\r\n```\r\nstreamEnv\r\n    .fromSource(yourJsonStringSource)\r\n    .flatMap(TokenMaskingFunction())\r\n    .process(...)\r\n```","title":"How to capture the values of a list inside json using regex","body":"<p>If you are dealing with a one-to-many mapping, you'd likely want to accomplish this via a <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/operators/overview/#flatmap\" rel=\"nofollow noreferrer\"><strong><code>flatMap()</code></strong></a> function to support creating multiple elements from a single one. Since your payload is already taking in JSON-based strings, you could parse this as a structured JSON object and then extract the elements you need and send those downstream.</p>\n<p>Something like:</p>\n<pre><code>// Function to take in a single JSON string and output multiple string elements\nclass TokenMaskingFunction: FlatMapFunction&lt;String, String&gt;{\n    override fun flatMap(input: String, collector: Collector&lt;String&gt;) {\n        try {\n            // Construct your JSON node\n            val structuredJson: JsonNode = mapper.readTree(input)\n    \n            // Capture your tokens\n            val tokens: JsonNode = structuredJson.get(&quot;tokenList&quot;)\n            if (tokens.isArray) {\n                for (token in tokens) {\n                    // Extract and mask your token before sending downstream\n                    val maskedToken = maskFunction(token.toString())\n                    collector.collect(maskedToken)\n                }\n            }\n        } catch (e: Exception) {\n            // Handle accordingly / log / ignore\n        }\n    }\n\n    private fun mask(token: String): String { \n        // Do your masking here\n    }\n\n    companion object {\n        // Define some static JSON parser here (static is important)\n        val mapper = ObjectMapper()\n    }\n}\n</code></pre>\n<p>And then you'd just use that after mapping from your source of JSON strings:</p>\n<pre><code>streamEnv\n    .fromSource(yourJsonStringSource)\n    .flatMap(TokenMaskingFunction())\n    .process(...)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698256116,"creation_date":1698256116,"answer_id":77361841,"question_id":77360856,"body_markdown":"I have made a crude solution using Pattern class. It is not very efficient but works for the given example.\r\n```java\r\n    public static void main(String[] args) {\r\n        String val = &quot; {\\&quot;tokenType\\&quot;:\\&quot;email\\&quot;,\\&quot;tokenList\\&quot;:[\\&quot;token1\\&quot;,\\&quot;token2\\&quot;,\\&quot;token3\\&quot;,\\&quot;token4\\&quot;]}&quot;;\r\n        Pattern p = Pattern.compile(&quot;(?:\\\\G(?!^)|\\&quot;tokenList\\&quot;:\\\\[)\\&quot;(?&lt;elem&gt;[^\\&quot;]*)\\&quot;,?&quot;);\r\n        Matcher m = p.matcher(val);\r\n        int n  = 3;\r\n        StringBuilder builder = new StringBuilder();\r\n        while (m.find()) {\r\n            String elem = m.group(&quot;elem&quot;);\r\n            if (elem != null) {\r\n                m.appendReplacement(builder, m.group().replace(elem, &quot;*&quot;.repeat(n).concat(elem.substring(n))));\r\n            }\r\n        }\r\n        m.appendTail(builder);\r\n        System.out.println(builder);\r\n    }\r\n```","title":"How to capture the values of a list inside json using regex","body":"<p>I have made a crude solution using Pattern class. It is not very efficient but works for the given example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        String val = &quot; {\\&quot;tokenType\\&quot;:\\&quot;email\\&quot;,\\&quot;tokenList\\&quot;:[\\&quot;token1\\&quot;,\\&quot;token2\\&quot;,\\&quot;token3\\&quot;,\\&quot;token4\\&quot;]}&quot;;\n        Pattern p = Pattern.compile(&quot;(?:\\\\G(?!^)|\\&quot;tokenList\\&quot;:\\\\[)\\&quot;(?&lt;elem&gt;[^\\&quot;]*)\\&quot;,?&quot;);\n        Matcher m = p.matcher(val);\n        int n  = 3;\n        StringBuilder builder = new StringBuilder();\n        while (m.find()) {\n            String elem = m.group(&quot;elem&quot;);\n            if (elem != null) {\n                m.appendReplacement(builder, m.group().replace(elem, &quot;*&quot;.repeat(n).concat(elem.substring(n))));\n            }\n        }\n        m.appendTail(builder);\n        System.out.println(builder);\n    }\n</code></pre>\n"}],"owner":{"account_id":15168663,"reputation":1,"user_id":22598560,"display_name":"Vaibhav Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698256116,"creation_date":1698247434,"question_id":77360856,"body_markdown":"I have a json part of which contains this:  \r\n{&quot;tokenType&quot;:&quot;email&quot;,&quot;tokenList&quot;:[&quot;token1&quot;,&quot;token2&quot;,&quot;token3&quot;,&quot;token4&quot;]}\r\n\r\nI have a flink job which is logging the payload it receives from kafka and I need to mask these token values(email/phone number) in my logs. For that we are using a utility which will mask first x characters for all the captured groups(starting from index 1).\r\n\r\nMy problem is that I can not find a regex which will capture all these tokens when the list can be of variable length.\r\n\r\n\r\nI can write regex that can capture the whole list but the issue is that the whole match will be considered a captured group and the first x characters will be masked.\r\nI want my log to look like this, for x = 3:  \r\n{&quot;tokenType&quot;:&quot;email&quot;,&quot;tokenList&quot;:[&quot;***en1&quot;,&quot;***en2&quot;,&quot;***en3&quot;,&quot;***en4&quot;]}\r\n\r\nI need my regex to capture the values of these tokens.","title":"How to capture the values of a list inside json using regex","body":"<p>I have a json part of which contains this:<br />\n{&quot;tokenType&quot;:&quot;email&quot;,&quot;tokenList&quot;:[&quot;token1&quot;,&quot;token2&quot;,&quot;token3&quot;,&quot;token4&quot;]}</p>\n<p>I have a flink job which is logging the payload it receives from kafka and I need to mask these token values(email/phone number) in my logs. For that we are using a utility which will mask first x characters for all the captured groups(starting from index 1).</p>\n<p>My problem is that I can not find a regex which will capture all these tokens when the list can be of variable length.</p>\n<p>I can write regex that can capture the whole list but the issue is that the whole match will be considered a captured group and the first x characters will be masked.\nI want my log to look like this, for x = 3:<br />\n{&quot;tokenType&quot;:&quot;email&quot;,&quot;tokenList&quot;:[&quot;***en1&quot;,&quot;***en2&quot;,&quot;***en3&quot;,&quot;***en4&quot;]}</p>\n<p>I need my regex to capture the values of these tokens.</p>\n"},{"tags":["java","google-cloud-platform","logging","keycloak","google-cloud-logging"],"owner":{"account_id":21029532,"reputation":11,"user_id":15454230,"display_name":"MrP4sten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698255670,"creation_date":1698255670,"question_id":77361787,"body_markdown":"I want to add Java-Logging from Google Cloud Logging and I have the follow error\r\n```logs\r\n2023-10-25 12:22:54,385 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (executor-thread-0) Uncaught server error: java.lang.IllegalAccessError: class com.google.logging.v2.LogBucket tried to access method &#39;com.google.protobuf.LazyStringArrayList com.google.protobuf.LazyStringArrayList.emptyList()&#39; (com.google.logging.v2.LogBucket and com.google.protobuf.LazyStringArrayList are in unnamed module of loader io.quarkus.bootstrap.runner.RunnerClassLoader @2b9627bc)\r\n\tat com.google.logging.v2.LogBucket.&lt;init&gt;(LogBucket.java:400)\r\n\tat com.google.logging.v2.LogBucket.&lt;clinit&gt;(LogBucket.java:3050)\r\n\tat com.google.cloud.logging.v2.stub.GrpcConfigServiceV2Stub.&lt;clinit&gt;(GrpcConfigServiceV2Stub.java:111)\r\n\tat com.google.cloud.logging.v2.stub.ConfigServiceV2StubSettings.createStub(ConfigServiceV2StubSettings.java:675)\r\n\tat com.google.cloud.logging.v2.ConfigClient.&lt;init&gt;(ConfigClient.java:212)\r\n\tat com.google.cloud.logging.v2.ConfigClient.create(ConfigClient.java:195)\r\n\tat com.google.cloud.logging.spi.v2.GrpcLoggingRpc.&lt;init&gt;(GrpcLoggingRpc.java:192)\r\n\tat com.google.cloud.logging.LoggingOptions$DefaultLoggingRpcFactory.create(LoggingOptions.java:66)\r\n\tat com.google.cloud.logging.LoggingOptions$DefaultLoggingRpcFactory.create(LoggingOptions.java:60)\r\n\tat com.google.cloud.ServiceOptions.getRpc(ServiceOptions.java:564)\r\n\tat com.google.cloud.logging.LoggingOptions.getLoggingRpcV2(LoggingOptions.java:153)\r\n\tat com.google.cloud.logging.LoggingImpl.&lt;init&gt;(LoggingImpl.java:130)\r\n\tat com.google.cloud.logging.LoggingOptions$DefaultLoggingFactory.create(LoggingOptions.java:51)\r\n\tat com.google.cloud.logging.LoggingOptions$DefaultLoggingFactory.create(LoggingOptions.java:46)\r\n\tat com.google.cloud.ServiceOptions.getService(ServiceOptions.java:544)\r\n\tat org.keycloak.quarkus.runtime.services.resources.QuarkusWelcomeResource.isLocal(QuarkusWelcomeResource.java:271)\r\n\tat org.keycloak.quarkus.runtime.services.resources.QuarkusWelcomeResource.createWelcomePage(QuarkusWelcomeResource.java:189)\r\n\tat org.keycloak.quarkus.runtime.services.resources.QuarkusWelcomeResource.getWelcomePage(QuarkusWelcomeResource.java:95)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\r\n\tat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\r\n\tat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\r\n\tat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\r\n\tat io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\r\n\tat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)\r\n\tat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:82)\r\n\tat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:42)\r\n\tat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\r\n\tat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\r\n\tat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\r\n\tat io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:84)\r\n\tat io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:71)\r\n\tat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\r\n\tat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\r\n\tat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\r\n\tat io.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:430)\r\n\tat io.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:408)\r\n\tat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\r\n\tat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\r\n\tat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\r\n\tat org.keycloak.quarkus.runtime.integration.web.QuarkusRequestFilter.lambda$createBlockingHandler$0(QuarkusRequestFilter.java:82)\r\n\tat io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n\tat org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n\tat org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n2023-10-25 12:22:54,646 SEVERE [io.grpc.internal.ManagedChannelOrphanWrapper] (executor-thread-0) *~*~*~ Channel ManagedChannelImpl{logId=1, target=logging.googleapis.com:443} was not shutdown properly!!! ~*~*~*\r\n    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.: java.lang.RuntimeException: ManagedChannel allocation site\r\n\tat io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.&lt;init&gt;(ManagedChannelOrphanWrapper.java:93)\r\n\tat io.grpc.internal.ManagedChannelOrphanWrapper.&lt;init&gt;(ManagedChannelOrphanWrapper.java:53)\r\n\tat io.grpc.internal.ManagedChannelOrphanWrapper.&lt;init&gt;(ManagedChannelOrphanWrapper.java:44)\r\n\tat io.grpc.internal.ManagedChannelImplBuilder.build(ManagedChannelImplBuilder.java:631)\r\n\tat io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:297)\r\n\tat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createSingleChannel(InstantiatingGrpcChannelProvider.java:391)\r\n\tat com.google.api.gax.grpc.ChannelPool.&lt;init&gt;(ChannelPool.java:107)\r\n\tat com.google.api.gax.grpc.ChannelPool.create(ChannelPool.java:85)\r\n\tat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createChannel(InstantiatingGrpcChannelProvider.java:237)\r\n\tat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.getTransportChannel(InstantiatingGrpcChannelProvider.java:231)\r\n\tat com.google.api.gax.rpc.ClientContext.create(ClientContext.java:236)\r\n\tat com.google.api.gax.rpc.ClientContext.create(ClientContext.java:143)\r\n\tat com.google.cloud.logging.spi.v2.GrpcLoggingRpc.&lt;init&gt;(GrpcLoggingRpc.java:150)\r\n\tat com.google.cloud.logging.LoggingOptions$DefaultLoggingRpcFactory.create(LoggingOptions.java:66)\r\n\tat com.google.cloud.logging.LoggingOptions$DefaultLoggingRpcFactory.create(LoggingOptions.java:60)\r\n\tat com.google.cloud.ServiceOptions.getRpc(ServiceOptions.java:564)\r\n\tat com.google.cloud.logging.LoggingOptions.getLoggingRpcV2(LoggingOptions.java:153)\r\n\tat com.google.cloud.logging.LoggingImpl.&lt;init&gt;(LoggingImpl.java:130)\r\n\tat com.google.cloud.logging.LoggingOptions$DefaultLoggingFactory.create(LoggingOptions.java:51)\r\n\tat com.google.cloud.logging.LoggingOptions$DefaultLoggingFactory.create(LoggingOptions.java:46)\r\n\tat com.google.cloud.ServiceOptions.getService(ServiceOptions.java:544)\r\n\tat org.keycloak.quarkus.runtime.services.resources.QuarkusWelcomeResource.isLocal(QuarkusWelcomeResource.java:271)\r\n\tat org.keycloak.quarkus.runtime.services.resources.QuarkusWelcomeResource.createWelcomePage(QuarkusWelcomeResource.java:189)\r\n\tat org.keycloak.quarkus.runtime.services.resources.QuarkusWelcomeResource.getWelcomePage(QuarkusWelcomeResource.java:95)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\r\n\tat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\r\n\tat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\r\n\tat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\r\n\tat io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\r\n\tat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)\r\n\tat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:82)\r\n\tat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:42)\r\n\tat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\r\n\tat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\r\n\tat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\r\n\tat io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:84)\r\n\tat io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:71)\r\n\tat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\r\n\tat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\r\n\tat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\r\n\tat io.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:430)\r\n\tat io.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:408)\r\n\tat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\r\n\tat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\r\n\tat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\r\n\tat org.keycloak.quarkus.runtime.integration.web.QuarkusRequestFilter.lambda$createBlockingHandler$0(QuarkusRequestFilter.java:82)\r\n\tat io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n\tat org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n\tat org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n2023-10-25 12:22:54,648 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (executor-thread-0) Uncaught server error: java.lang.NoClassDefFoundError: Could not initialize class com.google.cloud.logging.v2.stub.GrpcConfigServiceV2Stub\r\n\tat com.google.cloud.logging.v2.stub.ConfigServiceV2StubSettings.createStub(ConfigServiceV2StubSettings.java:675)\r\n\tat com.google.cloud.logging.v2.ConfigClient.&lt;init&gt;(ConfigClient.java:212)\r\n\tat com.google.cloud.logging.v2.ConfigClient.create(ConfigClient.java:195)\r\n\tat com.google.cloud.logging.spi.v2.GrpcLoggingRpc.&lt;init&gt;(GrpcLoggingRpc.java:192)\r\n\tat com.google.cloud.logging.LoggingOptions$DefaultLoggingRpcFactory.create(LoggingOptions.java:66)\r\n\tat com.google.cloud.logging.LoggingOptions$DefaultLoggingRpcFactory.create(LoggingOptions.java:60)\r\n\tat com.google.cloud.ServiceOptions.getRpc(ServiceOptions.java:564)\r\n\tat com.google.cloud.logging.LoggingOptions.getLoggingRpcV2(LoggingOptions.java:153)\r\n\tat com.google.cloud.logging.LoggingImpl.&lt;init&gt;(LoggingImpl.java:130)\r\n\tat com.google.cloud.logging.LoggingOptions$DefaultLoggingFactory.create(LoggingOptions.java:51)\r\n\tat com.google.cloud.logging.LoggingOptions$DefaultLoggingFactory.create(LoggingOptions.java:46)\r\n\tat com.google.cloud.ServiceOptions.getService(ServiceOptions.java:544)\r\n\tat org.keycloak.quarkus.runtime.services.resources.QuarkusWelcomeResource.isLocal(QuarkusWelcomeResource.java:271)\r\n\tat org.keycloak.quarkus.runtime.services.resources.QuarkusWelcomeResource.createWelcomePage(QuarkusWelcomeResource.java:189)\r\n\tat org.keycloak.quarkus.runtime.services.resources.QuarkusWelcomeResource.getWelcomePage(QuarkusWelcomeResource.java:95)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\r\n\tat org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\r\n\tat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\r\n\tat org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\r\n\tat org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\r\n\tat org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\r\n\tat io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\r\n\tat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)\r\n\tat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:82)\r\n\tat io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:42)\r\n\tat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\r\n\tat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\r\n\tat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\r\n\tat io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:84)\r\n\tat io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:71)\r\n\tat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\r\n\tat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\r\n\tat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\r\n\tat io.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:430)\r\n\tat io.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:408)\r\n\tat io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\r\n\tat io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\r\n\tat io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\r\n\tat org.keycloak.quarkus.runtime.integration.web.QuarkusRequestFilter.lambda$createBlockingHandler$0(QuarkusRequestFilter.java:82)\r\n\tat io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n\tat org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n\tat org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\n### Steps to reproduce\r\n\r\n1. Generate Service Account Key (JSON)\r\n2. Add Environment variable like this: `export GOOGLE_APPLICATION_CREDENTIALS=/path/to/my/key.json`\r\n3. Download Open source cloud from `Keycloak 21.0.2`\r\n4. Open directory `quarkus/runtime`\r\n5. Add dependency to `pom.xml` \r\n   ```xml\r\n   &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-logging&lt;/artifactId&gt;\r\n            &lt;version&gt;3.15.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n   ```\r\n6. Try to write logs from the method `isLocal()` on the class `src/main/java/org/keycloak/quarkus/runtime/services/resources/QuarkusWelcomeResource.java`\r\n   ```java\r\n   private boolean isLocal() {\r\n        try {\r\n            ClientConnection clientConnection = session.getContext().getConnection();\r\n            InetAddress remoteInetAddress = InetAddress.getByName(clientConnection.getRemoteAddr());\r\n            InetAddress localInetAddress = InetAddress.getByName(clientConnection.getLocalAddr());\r\n            HttpRequest request = session.getContext().getHttpRequest();\r\n            HttpHeaders headers = request.getHttpHeaders();\r\n            String xForwardedFor = headers.getHeaderString(&quot;X-Forwarded-For&quot;);\r\n            logger.debugf(&quot;Checking WelcomePage. Remote address: %s, Local address: %s, X-Forwarded-For header: %s&quot;,\r\n                    remoteInetAddress.toString(), localInetAddress.toString(), xForwardedFor);\r\n            LoggingOptions options = LoggingOptions.getDefaultInstance();\r\n            try (Logging logging = options.getService()) {\r\n                LogEntry firstEntry = LogEntry.newBuilder(StringPayload.of(String.format(\r\n                        &quot;Checking WelcomePage. Remote address: %s, Local address: %s, X-Forwarded-For header: %s&quot;,\r\n                        remoteInetAddress.toString(), localInetAddress.toString(), xForwardedFor)))\r\n                        .setLogName(&quot;test-mrp4sten-log&quot;)\r\n                        .setResource(MonitoredResource.newBuilder(&quot;global&quot;)\r\n                                .addLabel(&quot;project_id&quot;, options.getProjectId())\r\n                                .build())\r\n                        .build();\r\n                logging.write(Collections.singleton(firstEntry));\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            // Access through AJP protocol (loadbalancer) may cause that remoteAddress is\r\n            // &quot;127.0.0.1&quot;.\r\n            // So consider that welcome page accessed locally just if it was accessed really\r\n            // through &quot;localhost&quot; URL and without loadbalancer (x-forwarded-for header is\r\n            // empty).\r\n            return isLocalAddress(remoteInetAddress) &amp;&amp; isLocalAddress(localInetAddress) &amp;&amp; xForwardedFor == null;\r\n        } catch (UnknownHostException e) {\r\n            throw new WebApplicationException(e, Response.Status.INTERNAL_SERVER_ERROR);\r\n        }\r\n    }\r\n   ```\r\n7. Compile project on directory `keycloak/quarkus` using  `mvn clean install -DskipTests`\r\n8. Uncompress file `keycloak/quarkus/dist/target/keycloak-21.0.2.tar.gz`\r\n9. Execute `keycloak-21.0.2/bin/kc.sh start-dev`","title":"Google Cloud Logging from Java, How can I solve it and why occurs?","body":"<p>I want to add Java-Logging from Google Cloud Logging and I have the follow error</p>\n<pre><code>2023-10-25 12:22:54,385 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (executor-thread-0) Uncaught server error: java.lang.IllegalAccessError: class com.google.logging.v2.LogBucket tried to access method 'com.google.protobuf.LazyStringArrayList com.google.protobuf.LazyStringArrayList.emptyList()' (com.google.logging.v2.LogBucket and com.google.protobuf.LazyStringArrayList are in unnamed module of loader io.quarkus.bootstrap.runner.RunnerClassLoader @2b9627bc)\n    at com.google.logging.v2.LogBucket.&lt;init&gt;(LogBucket.java:400)\n    at com.google.logging.v2.LogBucket.&lt;clinit&gt;(LogBucket.java:3050)\n    at com.google.cloud.logging.v2.stub.GrpcConfigServiceV2Stub.&lt;clinit&gt;(GrpcConfigServiceV2Stub.java:111)\n    at com.google.cloud.logging.v2.stub.ConfigServiceV2StubSettings.createStub(ConfigServiceV2StubSettings.java:675)\n    at com.google.cloud.logging.v2.ConfigClient.&lt;init&gt;(ConfigClient.java:212)\n    at com.google.cloud.logging.v2.ConfigClient.create(ConfigClient.java:195)\n    at com.google.cloud.logging.spi.v2.GrpcLoggingRpc.&lt;init&gt;(GrpcLoggingRpc.java:192)\n    at com.google.cloud.logging.LoggingOptions$DefaultLoggingRpcFactory.create(LoggingOptions.java:66)\n    at com.google.cloud.logging.LoggingOptions$DefaultLoggingRpcFactory.create(LoggingOptions.java:60)\n    at com.google.cloud.ServiceOptions.getRpc(ServiceOptions.java:564)\n    at com.google.cloud.logging.LoggingOptions.getLoggingRpcV2(LoggingOptions.java:153)\n    at com.google.cloud.logging.LoggingImpl.&lt;init&gt;(LoggingImpl.java:130)\n    at com.google.cloud.logging.LoggingOptions$DefaultLoggingFactory.create(LoggingOptions.java:51)\n    at com.google.cloud.logging.LoggingOptions$DefaultLoggingFactory.create(LoggingOptions.java:46)\n    at com.google.cloud.ServiceOptions.getService(ServiceOptions.java:544)\n    at org.keycloak.quarkus.runtime.services.resources.QuarkusWelcomeResource.isLocal(QuarkusWelcomeResource.java:271)\n    at org.keycloak.quarkus.runtime.services.resources.QuarkusWelcomeResource.createWelcomePage(QuarkusWelcomeResource.java:189)\n    at org.keycloak.quarkus.runtime.services.resources.QuarkusWelcomeResource.getWelcomePage(QuarkusWelcomeResource.java:95)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\n    at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\n    at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\n    at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\n    at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\n    at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n    at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\n    at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\n    at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)\n    at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:82)\n    at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:42)\n    at io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\n    at io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\n    at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\n    at io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:84)\n    at io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:71)\n    at io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\n    at io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\n    at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\n    at io.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:430)\n    at io.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:408)\n    at io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\n    at io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\n    at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\n    at org.keycloak.quarkus.runtime.integration.web.QuarkusRequestFilter.lambda$createBlockingHandler$0(QuarkusRequestFilter.java:82)\n    at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n    at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n    at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n\n2023-10-25 12:22:54,646 SEVERE [io.grpc.internal.ManagedChannelOrphanWrapper] (executor-thread-0) *~*~*~ Channel ManagedChannelImpl{logId=1, target=logging.googleapis.com:443} was not shutdown properly!!! ~*~*~*\n    Make sure to call shutdown()/shutdownNow() and wait until awaitTermination() returns true.: java.lang.RuntimeException: ManagedChannel allocation site\n    at io.grpc.internal.ManagedChannelOrphanWrapper$ManagedChannelReference.&lt;init&gt;(ManagedChannelOrphanWrapper.java:93)\n    at io.grpc.internal.ManagedChannelOrphanWrapper.&lt;init&gt;(ManagedChannelOrphanWrapper.java:53)\n    at io.grpc.internal.ManagedChannelOrphanWrapper.&lt;init&gt;(ManagedChannelOrphanWrapper.java:44)\n    at io.grpc.internal.ManagedChannelImplBuilder.build(ManagedChannelImplBuilder.java:631)\n    at io.grpc.internal.AbstractManagedChannelImplBuilder.build(AbstractManagedChannelImplBuilder.java:297)\n    at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createSingleChannel(InstantiatingGrpcChannelProvider.java:391)\n    at com.google.api.gax.grpc.ChannelPool.&lt;init&gt;(ChannelPool.java:107)\n    at com.google.api.gax.grpc.ChannelPool.create(ChannelPool.java:85)\n    at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createChannel(InstantiatingGrpcChannelProvider.java:237)\n    at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.getTransportChannel(InstantiatingGrpcChannelProvider.java:231)\n    at com.google.api.gax.rpc.ClientContext.create(ClientContext.java:236)\n    at com.google.api.gax.rpc.ClientContext.create(ClientContext.java:143)\n    at com.google.cloud.logging.spi.v2.GrpcLoggingRpc.&lt;init&gt;(GrpcLoggingRpc.java:150)\n    at com.google.cloud.logging.LoggingOptions$DefaultLoggingRpcFactory.create(LoggingOptions.java:66)\n    at com.google.cloud.logging.LoggingOptions$DefaultLoggingRpcFactory.create(LoggingOptions.java:60)\n    at com.google.cloud.ServiceOptions.getRpc(ServiceOptions.java:564)\n    at com.google.cloud.logging.LoggingOptions.getLoggingRpcV2(LoggingOptions.java:153)\n    at com.google.cloud.logging.LoggingImpl.&lt;init&gt;(LoggingImpl.java:130)\n    at com.google.cloud.logging.LoggingOptions$DefaultLoggingFactory.create(LoggingOptions.java:51)\n    at com.google.cloud.logging.LoggingOptions$DefaultLoggingFactory.create(LoggingOptions.java:46)\n    at com.google.cloud.ServiceOptions.getService(ServiceOptions.java:544)\n    at org.keycloak.quarkus.runtime.services.resources.QuarkusWelcomeResource.isLocal(QuarkusWelcomeResource.java:271)\n    at org.keycloak.quarkus.runtime.services.resources.QuarkusWelcomeResource.createWelcomePage(QuarkusWelcomeResource.java:189)\n    at org.keycloak.quarkus.runtime.services.resources.QuarkusWelcomeResource.getWelcomePage(QuarkusWelcomeResource.java:95)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\n    at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\n    at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\n    at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\n    at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\n    at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n    at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\n    at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\n    at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)\n    at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:82)\n    at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:42)\n    at io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\n    at io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\n    at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\n    at io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:84)\n    at io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:71)\n    at io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\n    at io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\n    at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\n    at io.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:430)\n    at io.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:408)\n    at io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\n    at io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\n    at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\n    at org.keycloak.quarkus.runtime.integration.web.QuarkusRequestFilter.lambda$createBlockingHandler$0(QuarkusRequestFilter.java:82)\n    at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n    at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n    at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n\n2023-10-25 12:22:54,648 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (executor-thread-0) Uncaught server error: java.lang.NoClassDefFoundError: Could not initialize class com.google.cloud.logging.v2.stub.GrpcConfigServiceV2Stub\n    at com.google.cloud.logging.v2.stub.ConfigServiceV2StubSettings.createStub(ConfigServiceV2StubSettings.java:675)\n    at com.google.cloud.logging.v2.ConfigClient.&lt;init&gt;(ConfigClient.java:212)\n    at com.google.cloud.logging.v2.ConfigClient.create(ConfigClient.java:195)\n    at com.google.cloud.logging.spi.v2.GrpcLoggingRpc.&lt;init&gt;(GrpcLoggingRpc.java:192)\n    at com.google.cloud.logging.LoggingOptions$DefaultLoggingRpcFactory.create(LoggingOptions.java:66)\n    at com.google.cloud.logging.LoggingOptions$DefaultLoggingRpcFactory.create(LoggingOptions.java:60)\n    at com.google.cloud.ServiceOptions.getRpc(ServiceOptions.java:564)\n    at com.google.cloud.logging.LoggingOptions.getLoggingRpcV2(LoggingOptions.java:153)\n    at com.google.cloud.logging.LoggingImpl.&lt;init&gt;(LoggingImpl.java:130)\n    at com.google.cloud.logging.LoggingOptions$DefaultLoggingFactory.create(LoggingOptions.java:51)\n    at com.google.cloud.logging.LoggingOptions$DefaultLoggingFactory.create(LoggingOptions.java:46)\n    at com.google.cloud.ServiceOptions.getService(ServiceOptions.java:544)\n    at org.keycloak.quarkus.runtime.services.resources.QuarkusWelcomeResource.isLocal(QuarkusWelcomeResource.java:271)\n    at org.keycloak.quarkus.runtime.services.resources.QuarkusWelcomeResource.createWelcomePage(QuarkusWelcomeResource.java:189)\n    at org.keycloak.quarkus.runtime.services.resources.QuarkusWelcomeResource.getWelcomePage(QuarkusWelcomeResource.java:95)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\n    at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\n    at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\n    at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\n    at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\n    at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\n    at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n    at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\n    at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\n    at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\n    at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)\n    at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:82)\n    at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.handle(VertxRequestHandler.java:42)\n    at io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\n    at io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\n    at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\n    at io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:84)\n    at io.quarkus.vertx.http.runtime.StaticResourcesRecorder$2.handle(StaticResourcesRecorder.java:71)\n    at io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\n    at io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\n    at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\n    at io.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:430)\n    at io.quarkus.vertx.http.runtime.VertxHttpRecorder$6.handle(VertxHttpRecorder.java:408)\n    at io.vertx.ext.web.impl.RouteState.handleContext(RouteState.java:1284)\n    at io.vertx.ext.web.impl.RoutingContextImplBase.iterateNext(RoutingContextImplBase.java:173)\n    at io.vertx.ext.web.impl.RoutingContextImpl.next(RoutingContextImpl.java:140)\n    at org.keycloak.quarkus.runtime.integration.web.QuarkusRequestFilter.lambda$createBlockingHandler$0(QuarkusRequestFilter.java:82)\n    at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n    at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n    at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<h3>Steps to reproduce</h3>\n<ol>\n<li>Generate Service Account Key (JSON)</li>\n<li>Add Environment variable like this: <code>export GOOGLE_APPLICATION_CREDENTIALS=/path/to/my/key.json</code></li>\n<li>Download Open source cloud from <code>Keycloak 21.0.2</code></li>\n<li>Open directory <code>quarkus/runtime</code></li>\n<li>Add dependency to <code>pom.xml</code>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n         &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n         &lt;artifactId&gt;google-cloud-logging&lt;/artifactId&gt;\n         &lt;version&gt;3.15.11&lt;/version&gt;\n     &lt;/dependency&gt;\n</code></pre>\n</li>\n<li>Try to write logs from the method <code>isLocal()</code> on the class <code>src/main/java/org/keycloak/quarkus/runtime/services/resources/QuarkusWelcomeResource.java</code>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean isLocal() {\n     try {\n         ClientConnection clientConnection = session.getContext().getConnection();\n         InetAddress remoteInetAddress = InetAddress.getByName(clientConnection.getRemoteAddr());\n         InetAddress localInetAddress = InetAddress.getByName(clientConnection.getLocalAddr());\n         HttpRequest request = session.getContext().getHttpRequest();\n         HttpHeaders headers = request.getHttpHeaders();\n         String xForwardedFor = headers.getHeaderString(&quot;X-Forwarded-For&quot;);\n         logger.debugf(&quot;Checking WelcomePage. Remote address: %s, Local address: %s, X-Forwarded-For header: %s&quot;,\n                 remoteInetAddress.toString(), localInetAddress.toString(), xForwardedFor);\n         LoggingOptions options = LoggingOptions.getDefaultInstance();\n         try (Logging logging = options.getService()) {\n             LogEntry firstEntry = LogEntry.newBuilder(StringPayload.of(String.format(\n                     &quot;Checking WelcomePage. Remote address: %s, Local address: %s, X-Forwarded-For header: %s&quot;,\n                     remoteInetAddress.toString(), localInetAddress.toString(), xForwardedFor)))\n                     .setLogName(&quot;test-mrp4sten-log&quot;)\n                     .setResource(MonitoredResource.newBuilder(&quot;global&quot;)\n                             .addLabel(&quot;project_id&quot;, options.getProjectId())\n                             .build())\n                     .build();\n             logging.write(Collections.singleton(firstEntry));\n         } catch (Exception e) {\n             e.printStackTrace();\n         }\n\n         // Access through AJP protocol (loadbalancer) may cause that remoteAddress is\n         // &quot;127.0.0.1&quot;.\n         // So consider that welcome page accessed locally just if it was accessed really\n         // through &quot;localhost&quot; URL and without loadbalancer (x-forwarded-for header is\n         // empty).\n         return isLocalAddress(remoteInetAddress) &amp;&amp; isLocalAddress(localInetAddress) &amp;&amp; xForwardedFor == null;\n     } catch (UnknownHostException e) {\n         throw new WebApplicationException(e, Response.Status.INTERNAL_SERVER_ERROR);\n     }\n }\n</code></pre>\n</li>\n<li>Compile project on directory <code>keycloak/quarkus</code> using  <code>mvn clean install -DskipTests</code></li>\n<li>Uncompress file <code>keycloak/quarkus/dist/target/keycloak-21.0.2.tar.gz</code></li>\n<li>Execute <code>keycloak-21.0.2/bin/kc.sh start-dev</code></li>\n</ol>\n"},{"tags":["java","spring-boot","splunk","termination"],"answers":[{"comments":[{"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"score":0,"creation_date":1698217119,"post_id":77357136,"comment_id":136375453,"body_markdown":"This method is just bootstrapping the context creation. If the VM is shut down from the outside you will not catch anything here.","body":"This method is just bootstrapping the context creation. If the VM is shut down from the outside you will not catch anything here."},{"owner":{"account_id":12070279,"reputation":5,"user_id":8825893,"display_name":"Vaggos B"},"score":0,"creation_date":1698219546,"post_id":77357136,"comment_id":136375819,"body_markdown":"Fair point. I never considered this beyond the Java level. That&#39;s very intresting to know, thanks for your feedback.","body":"Fair point. I never considered this beyond the Java level. That&#39;s very intresting to know, thanks for your feedback."},{"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"score":0,"creation_date":1698219625,"post_id":77357136,"comment_id":136375834,"body_markdown":"no problem, you can check my answer to see how to handle this on JVM level or externally :)","body":"no problem, you can check my answer to see how to handle this on JVM level or externally :)"}],"tags":[],"owner":{"account_id":12070279,"reputation":5,"user_id":8825893,"display_name":"Vaggos B"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698216537,"creation_date":1698216309,"answer_id":77357136,"question_id":77356865,"body_markdown":"One straightforward approach is to use a `try { } catch { }`  block to make an attempt to run the Spring Boot application. If the operation is successful, it will proceed to log `&quot;successfully completed&quot;`. Otherwise, if an exception is thrown during the execution, it will be caught by the catch block, and then it will proceed to log a suitable message of your preference, or you can combine it with the message of the exception. Something like that: \r\n\r\n        @SpringBootApplication\r\n        public class SpringBootHelloWorldExampleApplication {\r\n            public static void main(String[] args) {\r\n                try {\r\n                    SpringApplication.run(SpringBootHelloWorldExampleApplication.class, args);\r\n                    log.debug(&quot;Successfully completed&quot;);\r\n                } catch (Exception e) {\r\n                    log.debug(&quot;Error thrown: &quot; + e.getMessage());\r\n                } //e.getMessage(): print the message of the Exception thrown \r\n            }\r\n         }\r\n\r\n","title":"How to know spring boot application run stopped due to hard error or it just completed normally","body":"<p>One straightforward approach is to use a <code>try { } catch { }</code>  block to make an attempt to run the Spring Boot application. If the operation is successful, it will proceed to log <code>&quot;successfully completed&quot;</code>. Otherwise, if an exception is thrown during the execution, it will be caught by the catch block, and then it will proceed to log a suitable message of your preference, or you can combine it with the message of the exception. Something like that:</p>\n<pre><code>    @SpringBootApplication\n    public class SpringBootHelloWorldExampleApplication {\n        public static void main(String[] args) {\n            try {\n                SpringApplication.run(SpringBootHelloWorldExampleApplication.class, args);\n                log.debug(&quot;Successfully completed&quot;);\n            } catch (Exception e) {\n                log.debug(&quot;Error thrown: &quot; + e.getMessage());\n            } //e.getMessage(): print the message of the Exception thrown \n        }\n     }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22894340,"reputation":17,"user_id":17034062,"display_name":"tarun singh"},"score":0,"creation_date":1698226838,"post_id":77357287,"comment_id":136377264,"body_markdown":"Our spring boot applications are running in AWS., based on s3 bucket event we are triggering this application., could you please suggest which approach i need to follow to know about hard errors in this case","body":"Our spring boot applications are running in AWS., based on s3 bucket event we are triggering this application., could you please suggest which approach i need to follow to know about hard errors in this case"},{"owner":{"account_id":22894340,"reputation":17,"user_id":17034062,"display_name":"tarun singh"},"score":0,"creation_date":1698241060,"post_id":77357287,"comment_id":136380137,"body_markdown":"Hi Mikhail, i have a doubt like if we use shutdownhook it will call for normal termination and for any hard error also it will be called, but how would i differentiate for normal termination or hard error termination in shut down hook","body":"Hi Mikhail, i have a doubt like if we use shutdownhook it will call for normal termination and for any hard error also it will be called, but how would i differentiate for normal termination or hard error termination in shut down hook"}],"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698217815,"creation_date":1698217815,"answer_id":77357287,"question_id":77356865,"body_markdown":"It can be implemented on Java level, using something like [Runtime#addShutdownHook()][1]. The Runtime will spawn a new thread on the VM termination to do some cleaning. In this Thread you can do whatever you need.\r\n\r\nHowever, I would encourage you to investigate the non-Java approach here. Oftentimes, in large systems, such an observability is achieved with external systems. It highly depends on where your Java app is deployed, how it is launched e.t.c. \r\n\r\nFor instance, if you just launch it via a script you can check an [exit code of the Java process][2]. If you are deployed in the K8S cluster somewhere either on-premise or in the cloud, then it is a bit harder, although K8S is capable of providing the status code of the failed process to API clients. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#addShutdownHook-java.lang.Thread-\r\n  [2]: http://journal.thobe.org/2013/02/jvms-and-kill-signals.html","title":"How to know spring boot application run stopped due to hard error or it just completed normally","body":"<p>It can be implemented on Java level, using something like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#addShutdownHook-java.lang.Thread-\" rel=\"nofollow noreferrer\">Runtime#addShutdownHook()</a>. The Runtime will spawn a new thread on the VM termination to do some cleaning. In this Thread you can do whatever you need.</p>\n<p>However, I would encourage you to investigate the non-Java approach here. Oftentimes, in large systems, such an observability is achieved with external systems. It highly depends on where your Java app is deployed, how it is launched e.t.c.</p>\n<p>For instance, if you just launch it via a script you can check an <a href=\"http://journal.thobe.org/2013/02/jvms-and-kill-signals.html\" rel=\"nofollow noreferrer\">exit code of the Java process</a>. If you are deployed in the K8S cluster somewhere either on-premise or in the cloud, then it is a bit harder, although K8S is capable of providing the status code of the failed process to API clients.</p>\n"},{"comments":[{"owner":{"account_id":22894340,"reputation":17,"user_id":17034062,"display_name":"tarun singh"},"score":0,"creation_date":1698312049,"post_id":77361754,"comment_id":136390276,"body_markdown":"Hi bvyas, you totally misunderstand my question, if you get any out of memory error at run time it even didn&#39;t go to catch block right., then there is no point of log.error there. My Requirement is if i get errors at runtime not exceptions then i need to log something so that i use that log in splunk.","body":"Hi bvyas, you totally misunderstand my question, if you get any out of memory error at run time it even didn&#39;t go to catch block right., then there is no point of log.error there. My Requirement is if i get errors at runtime not exceptions then i need to log something so that i use that log in splunk."}],"tags":[],"owner":{"account_id":7063527,"reputation":471,"user_id":5407758,"accept_rate":0,"display_name":"bvyas"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698255389,"creation_date":1698255389,"answer_id":77361754,"question_id":77356865,"body_markdown":"Configure Logging: Spring Boot uses the Spring Framework&#39;s built-in logging support. You need to configure your logging framework to log errors to a file or a specific log appender. The most commonly used logging frameworks are Logback or Log4j. Here, we&#39;ll use Logback for the example.\r\n\r\nIn your Spring Boot project, you can add a logback-spring.xml or logback.xml configuration file to control your log output. For example:\r\n\r\n\r\n    &lt;configuration&gt;\r\n        &lt;appender name=&quot;splunk&quot; class=&quot;ch.qos.logback.classic.net.SyslogAppender&quot;&gt;\r\n            &lt;syslogHost&gt;splunk-server-ip&lt;/syslogHost&gt;\r\n            &lt;port&gt;514&lt;/port&gt;\r\n            &lt;facility&gt;LOCAL0&lt;/facility&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n                &lt;pattern&gt;%date %level [%thread] &lt;/pattern&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;logger name=&quot;org.springframework&quot; level=&quot;ERROR&quot;/&gt;\r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;splunk&quot;/&gt;\r\n        &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\n\r\nThis configuration sends logs with a level of ERROR from the Spring Framework to a Syslog Appender, which can be configured to send logs to Splunk.\r\n\r\nConfigure Splunk: Configure your Splunk instance to receive logs from the source you specified in your Logback configuration. You&#39;ll need to set up a data input in Splunk to receive the syslog messages.\r\n\r\nStart Spring Boot Application: Start your Spring Boot application. Any errors logged at the ERROR level in your application will be forwarded to Splunk according to your Logback configuration.\r\n\r\nMake sure to replace splunk-server-ip with the actual IP or hostname of your Splunk server.\r\n\r\nSpringboot  code :\r\n\r\n \r\n\r\n    @SpringBootApplication\r\n        public class SpringBootTestApplication {\r\n            public static void main(String[] args) {\r\n                try {\r\n                    SpringApplication.run(SpringBootTestApplication.class, args);\r\n                    log.debug(&quot;Successfully completed&quot;);\r\n                } catch (Exception e) {\r\n                    **log.error(&quot;Error thrown: &quot; + e.getMessage());**\r\n                } \r\n            }\r\n         }\r\n\r\n","title":"How to know spring boot application run stopped due to hard error or it just completed normally","body":"<p>Configure Logging: Spring Boot uses the Spring Framework's built-in logging support. You need to configure your logging framework to log errors to a file or a specific log appender. The most commonly used logging frameworks are Logback or Log4j. Here, we'll use Logback for the example.</p>\n<p>In your Spring Boot project, you can add a logback-spring.xml or logback.xml configuration file to control your log output. For example:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=&quot;splunk&quot; class=&quot;ch.qos.logback.classic.net.SyslogAppender&quot;&gt;\n        &lt;syslogHost&gt;splunk-server-ip&lt;/syslogHost&gt;\n        &lt;port&gt;514&lt;/port&gt;\n        &lt;facility&gt;LOCAL0&lt;/facility&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\n            &lt;pattern&gt;%date %level [%thread] &lt;/pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n\n    &lt;logger name=&quot;org.springframework&quot; level=&quot;ERROR&quot;/&gt;\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;splunk&quot;/&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>This configuration sends logs with a level of ERROR from the Spring Framework to a Syslog Appender, which can be configured to send logs to Splunk.</p>\n<p>Configure Splunk: Configure your Splunk instance to receive logs from the source you specified in your Logback configuration. You'll need to set up a data input in Splunk to receive the syslog messages.</p>\n<p>Start Spring Boot Application: Start your Spring Boot application. Any errors logged at the ERROR level in your application will be forwarded to Splunk according to your Logback configuration.</p>\n<p>Make sure to replace splunk-server-ip with the actual IP or hostname of your Splunk server.</p>\n<p>Springboot  code :</p>\n<pre><code>@SpringBootApplication\n    public class SpringBootTestApplication {\n        public static void main(String[] args) {\n            try {\n                SpringApplication.run(SpringBootTestApplication.class, args);\n                log.debug(&quot;Successfully completed&quot;);\n            } catch (Exception e) {\n                **log.error(&quot;Error thrown: &quot; + e.getMessage());**\n            } \n        }\n     }\n</code></pre>\n"}],"owner":{"account_id":22894340,"reputation":17,"user_id":17034062,"display_name":"tarun singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1698255389,"creation_date":1698212494,"question_id":77356865,"body_markdown":"I have a requirement like if Spring Boot application suddenly stopped due to error I need to send an alert in splunk. If it stopped normally, I have a logs in application so based on logs I&#39;m configuring alert messages in splunk.\r\n\r\n**Example:**\r\n\r\n    @SpringBootApplication  \r\n    public class SpringBootHelloWorldExampleApplication {  \r\n        public static void main(String[] args) {  \r\n            SpringApplication.run(SpringBootHelloWorldExampleApplication.class, args);  \r\n            log.debug(&quot;successfully completed&quot;);\r\n        }  \r\n    } \r\n\r\nI only get this above log when the application stopped normally. I mean successfully completing the application. But if I get any error in application, I won&#39;t get that log. If only I get this log then I&#39;m sending splunk alert.\r\n\r\nAs I won&#39;t get log if any error occurs, then how I know if the application stopped due to hard error? Or how can I log something for hard errors?\r\n\r\n ","title":"How to know spring boot application run stopped due to hard error or it just completed normally","body":"<p>I have a requirement like if Spring Boot application suddenly stopped due to error I need to send an alert in splunk. If it stopped normally, I have a logs in application so based on logs I'm configuring alert messages in splunk.</p>\n<p><strong>Example:</strong></p>\n<pre><code>@SpringBootApplication  \npublic class SpringBootHelloWorldExampleApplication {  \n    public static void main(String[] args) {  \n        SpringApplication.run(SpringBootHelloWorldExampleApplication.class, args);  \n        log.debug(&quot;successfully completed&quot;);\n    }  \n} \n</code></pre>\n<p>I only get this above log when the application stopped normally. I mean successfully completing the application. But if I get any error in application, I won't get that log. If only I get this log then I'm sending splunk alert.</p>\n<p>As I won't get log if any error occurs, then how I know if the application stopped due to hard error? Or how can I log something for hard errors?</p>\n"},{"tags":["java","spring-boot","security","jwt","keycloak"],"owner":{"account_id":25092294,"reputation":23,"user_id":18943824,"display_name":"asayke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698255151,"creation_date":1698255151,"question_id":77361736,"body_markdown":"I wrote a small configuration for Spring Boot 3 and a simple controller:\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.csrf(t -&gt; t.disable());\r\n        http.addFilterAfter(createPolicyEnforcerFilter(), BearerTokenAuthenticationFilter.class);\r\n\r\n        http.sessionManagement(t -&gt; t.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n        return http.build();\r\n    }\r\n\r\n    private ServletPolicyEnforcerFilter createPolicyEnforcerFilter() {\r\n        return new ServletPolicyEnforcerFilter(new ConfigurationResolver() {\r\n            @Override\r\n            public PolicyEnforcerConfig resolve(HttpRequest request) {\r\n                try {\r\n                    return JsonSerialization.readValue(getClass().getResourceAsStream(&quot;/policy-enforcer.json&quot;), PolicyEnforcerConfig.class);\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n{\r\n  &quot;realm&quot;: &quot;hostel&quot;,\r\n  &quot;auth-server-url&quot;: &quot;http://localhost:8080&quot;,\r\n  &quot;resource&quot;: &quot;hostel-client&quot;,\r\n  &quot;credentials&quot;: {\r\n    &quot;secret&quot;: &quot;B65bBs1DIzjEvqdHH86n9xj2QjjSWcYa&quot;\r\n  },\r\n  &quot;http-method-as-scope&quot;: true,\r\n  &quot;paths&quot; : [\r\n    {\r\n      &quot;path&quot;: &quot;/swagger-ui/*&quot;,\r\n      &quot;enforcement-mode&quot;: &quot;DISABLED&quot;\r\n    },{\r\n      &quot;path&quot;: &quot;/v3/api-docs/*&quot;,\r\n      &quot;enforcement-mode&quot;: &quot;DISABLED&quot;\r\n    },{\r\n      &quot;path&quot;: &quot;/public/*&quot;,\r\n      &quot;enforcement-mode&quot;: &quot;DISABLED&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/user&quot;)\r\n@SecurityRequirement(name = &quot;Keycloak&quot;)\r\npublic class UserController {\r\n    @GetMapping\r\n    public String message() {\r\n        return &quot;user access&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have added Realm roles, configured User resources, User Policy and user Permission, but when I request for /user/* with the token of a user who has the role of &#39;user&#39;, I get 403\r\n\r\n[User Resource](https://i.stack.imgur.com/8uc6h.png)\r\n\r\n[User Policy](https://i.stack.imgur.com/vgkz2.png)\r\n\r\n[User Permission](https://i.stack.imgur.com/ttEw2.png)\r\n\r\nI also linked the client roles and realm roles, but it didn&#39;t help\r\n\r\nHere&#39;s what my token contains:\r\n```\r\n{\r\n  &quot;exp&quot;: 1698251063,\r\n  &quot;iat&quot;: 1698250763,\r\n  &quot;jti&quot;: &quot;452188e1-61e1-4577-8049-33106abcfa6c&quot;,\r\n  &quot;iss&quot;: &quot;http://localhost:8080/realms/hostel&quot;,\r\n  &quot;aud&quot;: &quot;account&quot;,\r\n  &quot;sub&quot;: &quot;d6703dd1-edcb-4b04-bc11-0cd5a1cf407d&quot;,\r\n  &quot;typ&quot;: &quot;Bearer&quot;,\r\n  &quot;azp&quot;: &quot;hostel-client&quot;,\r\n  &quot;session_state&quot;: &quot;d475bb03-590c-4fa9-b093-1faa47258ee8&quot;,\r\n  &quot;acr&quot;: &quot;1&quot;,\r\n  &quot;allowed-origins&quot;: [\r\n    &quot;*&quot;\r\n  ],\r\n  &quot;realm_access&quot;: {\r\n    &quot;roles&quot;: [\r\n      &quot;default-roles-hostel&quot;,\r\n      &quot;offline_access&quot;,\r\n      &quot;uma_authorization&quot;,\r\n      &quot;user&quot;\r\n    ]\r\n  },\r\n  &quot;resource_access&quot;: {\r\n    &quot;hostel-client&quot;: {\r\n      &quot;roles&quot;: [\r\n        &quot;user&quot;\r\n      ]\r\n    },\r\n    &quot;account&quot;: {\r\n      &quot;roles&quot;: [\r\n        &quot;manage-account&quot;,\r\n        &quot;manage-account-links&quot;,\r\n        &quot;view-profile&quot;\r\n      ]\r\n    }\r\n  },\r\n  &quot;scope&quot;: &quot;profile email roles&quot;,\r\n  &quot;sid&quot;: &quot;d475bb03-590c-4fa9-b093-1faa47258ee8&quot;,\r\n  &quot;email_verified&quot;: false,\r\n  &quot;name&quot;: &quot;someone someone&quot;,\r\n  &quot;preferred_username&quot;: &quot;someone&quot;,\r\n  &quot;given_name&quot;: &quot;someone&quot;,\r\n  &quot;family_name&quot;: &quot;someone&quot;,\r\n  &quot;email&quot;: &quot;someone@gmail.com&quot;\r\n}\r\n```","title":"Keycloak does not define user roles","body":"<p>I wrote a small configuration for Spring Boot 3 and a simple controller:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf(t -&gt; t.disable());\n        http.addFilterAfter(createPolicyEnforcerFilter(), BearerTokenAuthenticationFilter.class);\n\n        http.sessionManagement(t -&gt; t.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n        return http.build();\n    }\n\n    private ServletPolicyEnforcerFilter createPolicyEnforcerFilter() {\n        return new ServletPolicyEnforcerFilter(new ConfigurationResolver() {\n            @Override\n            public PolicyEnforcerConfig resolve(HttpRequest request) {\n                try {\n                    return JsonSerialization.readValue(getClass().getResourceAsStream(&quot;/policy-enforcer.json&quot;), PolicyEnforcerConfig.class);\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<pre><code>{\n  &quot;realm&quot;: &quot;hostel&quot;,\n  &quot;auth-server-url&quot;: &quot;http://localhost:8080&quot;,\n  &quot;resource&quot;: &quot;hostel-client&quot;,\n  &quot;credentials&quot;: {\n    &quot;secret&quot;: &quot;B65bBs1DIzjEvqdHH86n9xj2QjjSWcYa&quot;\n  },\n  &quot;http-method-as-scope&quot;: true,\n  &quot;paths&quot; : [\n    {\n      &quot;path&quot;: &quot;/swagger-ui/*&quot;,\n      &quot;enforcement-mode&quot;: &quot;DISABLED&quot;\n    },{\n      &quot;path&quot;: &quot;/v3/api-docs/*&quot;,\n      &quot;enforcement-mode&quot;: &quot;DISABLED&quot;\n    },{\n      &quot;path&quot;: &quot;/public/*&quot;,\n      &quot;enforcement-mode&quot;: &quot;DISABLED&quot;\n    }\n  ]\n}\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(&quot;/user&quot;)\n@SecurityRequirement(name = &quot;Keycloak&quot;)\npublic class UserController {\n    @GetMapping\n    public String message() {\n        return &quot;user access&quot;;\n    }\n}\n</code></pre>\n<p>I have added Realm roles, configured User resources, User Policy and user Permission, but when I request for /user/* with the token of a user who has the role of 'user', I get 403</p>\n<p><a href=\"https://i.stack.imgur.com/8uc6h.png\" rel=\"nofollow noreferrer\">User Resource</a></p>\n<p><a href=\"https://i.stack.imgur.com/vgkz2.png\" rel=\"nofollow noreferrer\">User Policy</a></p>\n<p><a href=\"https://i.stack.imgur.com/ttEw2.png\" rel=\"nofollow noreferrer\">User Permission</a></p>\n<p>I also linked the client roles and realm roles, but it didn't help</p>\n<p>Here's what my token contains:</p>\n<pre><code>{\n  &quot;exp&quot;: 1698251063,\n  &quot;iat&quot;: 1698250763,\n  &quot;jti&quot;: &quot;452188e1-61e1-4577-8049-33106abcfa6c&quot;,\n  &quot;iss&quot;: &quot;http://localhost:8080/realms/hostel&quot;,\n  &quot;aud&quot;: &quot;account&quot;,\n  &quot;sub&quot;: &quot;d6703dd1-edcb-4b04-bc11-0cd5a1cf407d&quot;,\n  &quot;typ&quot;: &quot;Bearer&quot;,\n  &quot;azp&quot;: &quot;hostel-client&quot;,\n  &quot;session_state&quot;: &quot;d475bb03-590c-4fa9-b093-1faa47258ee8&quot;,\n  &quot;acr&quot;: &quot;1&quot;,\n  &quot;allowed-origins&quot;: [\n    &quot;*&quot;\n  ],\n  &quot;realm_access&quot;: {\n    &quot;roles&quot;: [\n      &quot;default-roles-hostel&quot;,\n      &quot;offline_access&quot;,\n      &quot;uma_authorization&quot;,\n      &quot;user&quot;\n    ]\n  },\n  &quot;resource_access&quot;: {\n    &quot;hostel-client&quot;: {\n      &quot;roles&quot;: [\n        &quot;user&quot;\n      ]\n    },\n    &quot;account&quot;: {\n      &quot;roles&quot;: [\n        &quot;manage-account&quot;,\n        &quot;manage-account-links&quot;,\n        &quot;view-profile&quot;\n      ]\n    }\n  },\n  &quot;scope&quot;: &quot;profile email roles&quot;,\n  &quot;sid&quot;: &quot;d475bb03-590c-4fa9-b093-1faa47258ee8&quot;,\n  &quot;email_verified&quot;: false,\n  &quot;name&quot;: &quot;someone someone&quot;,\n  &quot;preferred_username&quot;: &quot;someone&quot;,\n  &quot;given_name&quot;: &quot;someone&quot;,\n  &quot;family_name&quot;: &quot;someone&quot;,\n  &quot;email&quot;: &quot;someone@gmail.com&quot;\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":8011257,"reputation":696,"user_id":6042879,"accept_rate":35,"display_name":"Lazar Kukolj"},"score":0,"creation_date":1519690767,"post_id":48968525,"comment_id":85003724,"body_markdown":"Could it be one of the compile libraries I use not let _me_ interact with Firebase?*","body":"Could it be one of the compile libraries I use not let <i>me</i> interact with Firebase?*"},{"owner":{"account_id":7691387,"reputation":5367,"user_id":5827565,"accept_rate":73,"display_name":"Pavel Poley"},"score":0,"creation_date":1519842696,"post_id":48968525,"comment_id":85077481,"body_markdown":"do you receive any default notifications when sending from firebase console?","body":"do you receive any default notifications when sending from firebase console?"},{"owner":{"account_id":7691387,"reputation":5367,"user_id":5827565,"accept_rate":73,"display_name":"Pavel Poley"},"score":0,"creation_date":1519843442,"post_id":48968525,"comment_id":85077823,"body_markdown":"and when you run the App you receive log msg that &quot;Firebase initialized successfully&quot;?","body":"and when you run the App you receive log msg that &quot;Firebase initialized successfully&quot;?"},{"owner":{"account_id":8011257,"reputation":696,"user_id":6042879,"accept_rate":35,"display_name":"Lazar Kukolj"},"score":0,"creation_date":1519950740,"post_id":48968525,"comment_id":85126881,"body_markdown":"I do not receive any notification whatsoever and not even a &quot;Firebase initialized successfully&quot; log :/","body":"I do not receive any notification whatsoever and not even a &quot;Firebase initialized successfully&quot; log :/"},{"owner":{"account_id":7691387,"reputation":5367,"user_id":5827565,"accept_rate":73,"display_name":"Pavel Poley"},"score":0,"creation_date":1520018466,"post_id":48968525,"comment_id":85157733,"body_markdown":"you do not have any log from firebase?","body":"you do not have any log from firebase?"},{"owner":{"account_id":8011257,"reputation":696,"user_id":6042879,"accept_rate":35,"display_name":"Lazar Kukolj"},"score":0,"creation_date":1520034578,"post_id":48968525,"comment_id":85164149,"body_markdown":"I do not get receive anything","body":"I do not get receive anything"},{"owner":{"account_id":7160168,"reputation":666,"user_id":5471183,"display_name":"Hitesh Sarsava"},"score":0,"creation_date":1526109690,"post_id":48968525,"comment_id":87624002,"body_markdown":"on which android OS version you are testing?","body":"on which android OS version you are testing?"},{"owner":{"account_id":8172756,"reputation":555,"user_id":6152620,"display_name":"AbdulAli"},"score":0,"creation_date":1526195202,"post_id":48968525,"comment_id":87643197,"body_markdown":"Is the notification not working in both foreground and background mode?","body":"Is the notification not working in both foreground and background mode?"},{"owner":{"account_id":8172756,"reputation":555,"user_id":6152620,"display_name":"AbdulAli"},"score":0,"creation_date":1526195566,"post_id":48968525,"comment_id":87643278,"body_markdown":"Also if you are sending message to specific device, have you cross checked if the firebase token is correct?","body":"Also if you are sending message to specific device, have you cross checked if the firebase token is correct?"}],"answers":[{"comments":[{"owner":{"account_id":8011257,"reputation":696,"user_id":6042879,"accept_rate":35,"display_name":"Lazar Kukolj"},"score":0,"creation_date":1519521569,"post_id":48968976,"comment_id":84944188,"body_markdown":"I dont have it in my quick app that i made and it works","body":"I dont have it in my quick app that i made and it works"},{"owner":{"account_id":6450102,"reputation":11945,"user_id":7765139,"display_name":"Levi Moreira"},"score":0,"creation_date":1519525385,"post_id":48968976,"comment_id":84944764,"body_markdown":"in the video you said you used, around 11:03 the guy teaches how to create the FirebaseInstanceIdService, did you use the video for the quick app?","body":"in the video you said you used, around 11:03 the guy teaches how to create the FirebaseInstanceIdService, did you use the video for the quick app?"},{"owner":{"account_id":8011257,"reputation":696,"user_id":6042879,"accept_rate":35,"display_name":"Lazar Kukolj"},"score":0,"creation_date":1519531151,"post_id":48968976,"comment_id":84945621,"body_markdown":"No the ID service is used to gain the token to subscribe to topic notifications but i just want to send a notification to everyone, I will play with topics and more after","body":"No the ID service is used to gain the token to subscribe to topic notifications but i just want to send a notification to everyone, I will play with topics and more after"},{"owner":{"account_id":6450102,"reputation":11945,"user_id":7765139,"display_name":"Levi Moreira"},"score":0,"creation_date":1519555361,"post_id":48968976,"comment_id":84950140,"body_markdown":"Okay, if you&#39;re not sending the notification to the device via token, how are you sending it?","body":"Okay, if you&#39;re not sending the notification to the device via token, how are you sending it?"},{"owner":{"account_id":6450102,"reputation":11945,"user_id":7765139,"display_name":"Levi Moreira"},"score":0,"creation_date":1519555896,"post_id":48968976,"comment_id":84950276,"body_markdown":"Because the ID service is also used to generate the token to send to the server for communication. For example, if I want my app to have push notifications from firebase I save that token to the real time database and use it to direct messages to my device.","body":"Because the ID service is also used to generate the token to send to the server for communication. For example, if I want my app to have push notifications from firebase I save that token to the real time database and use it to direct messages to my device."},{"owner":{"account_id":8011257,"reputation":696,"user_id":6042879,"accept_rate":35,"display_name":"Lazar Kukolj"},"score":0,"creation_date":1519584937,"post_id":48968976,"comment_id":84959352,"body_markdown":"Thats if you want to send to a single device or use the token to subscribe the phone to a notification topic. I want to send a notification to everyone like in the quick app i made. Do you want to see the working code?","body":"Thats if you want to send to a single device or use the token to subscribe the phone to a notification topic. I want to send a notification to everyone like in the quick app i made. Do you want to see the working code?"},{"owner":{"account_id":6450102,"reputation":11945,"user_id":7765139,"display_name":"Levi Moreira"},"score":0,"creation_date":1525816022,"post_id":48968976,"comment_id":87503074,"body_markdown":"this is a wild guess, but have you tried make the manifest equal. I mean, just testing removing your other activities and leaving just the launcher activity like in the app that&#39;s working? The same with the build.gradle, you two options (besides the dependencies) that you don&#39;t have in the other app dexOptions, lintOptions and productFlavors","body":"this is a wild guess, but have you tried make the manifest equal. I mean, just testing removing your other activities and leaving just the launcher activity like in the app that&#39;s working? The same with the build.gradle, you two options (besides the dependencies) that you don&#39;t have in the other app dexOptions, lintOptions and productFlavors"}],"tags":[],"owner":{"account_id":6450102,"reputation":11945,"user_id":7765139,"display_name":"Levi Moreira"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1525814285,"creation_date":1519517839,"answer_id":48968976,"question_id":48968525,"body_markdown":"If you take a look at this [doc][1]\r\nYou don&#39;t seem to have a service that extends `FirebaseInstanceIdService` to manage the token creation/rotation. [Here][2] is a example code. The token you need to send the push notifications to a specific device is received by this class.\r\n\r\n    &lt;service\r\n        android:name=&quot;.MyFirebaseInstanceIDService&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;com.google.firebase.INSTANCE_ID_EVENT&quot;/&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/service&gt;\r\n\r\n**EDIT**:\r\n\r\nOkay, this error is bugging me now. I looked at your dependency tree and I see you&#39;re repeating some of them. For example you have three version of:\r\n\r\n    compile &#39;com.android.support:appcompat-v7:25.4.0&#39;\r\n\r\nMaybe you should clear that out to the newest version, or match it with the working version. Also you&#39;re using the new gradle plugin, but you haven&#39;t updated your depedencies to use `implementation` instead of `compile` in most cases, maybe try that as well? Here&#39;s [why][3] you should do it.\r\n\r\n    dependencies {\r\n    compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    //compile project(path: &#39;:backend&#39;, configuration: &#39;android-endpoints&#39;)\r\n    //Removed the 0.2.+\r\n    compile &#39;com.daprlabs.aaron:cardstack:0.3.1-beta0&#39;\r\n    //noinspection GradleCompatible\r\n    compile &#39;com.android.support:appcompat-v7:25.4.0&#39;\r\n    compile &quot;com.android.support:appcompat-v7:19.0.+&quot;\r\n    compile &#39;com.android.support:design:23.4.0&#39;\r\n    compile &#39;com.android.support:recyclerview-v7:23.4.0&#39;\r\n    compile &#39;com.android.support:cardview-v7:23.4.0&#39;\r\n    \r\n    compile &#39;com.github.danylovolokh:video-player-manager:0.2.0&#39;\r\n    compile &#39;com.github.danylovolokh:list-visibility-utils:0.2.0&#39;\r\n    \r\n    \r\n    \r\n    implementation &#39;com.android.support:appcompat-v7:26.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:11.8.0&#39;\r\n    compile &#39;com.google.firebase:firebase-core:11.8.0&#39;\r\n    \r\n    \r\n    compile &#39;com.orhanobut:dialogplus:1.11@aar&#39;\r\n    \r\n    \r\n    compile &#39;com.nineoldandroids:library:2.4.0&#39;\r\n    compile files(&#39;libs/sinch-android-rtc-3.9.14.jar&#39;)\r\n    compile &#39;com.amazonaws:aws-android-sdk-s3:2.4.4&#39;\r\n    compile &#39;com.github.chrisbanes:PhotoView:1.2.6&#39;\r\n    compile &#39;com.davemorrissey.labs:subsampling-scale-image-view:3.5.0&#39;\r\n    compile &#39;com.github.amlcurran.showcaseview:library:5.4.3&#39;\r\n    compile &#39;com.github.d-max:spots-dialog:0.7@aar&#39;\r\n    compile &#39;com.victor:lib:1.0.4&#39;\r\n    compile &#39;com.github.bumptech.glide:glide:3.5.2&#39;\r\n    compile &#39;com.squareup.picasso:picasso:2.5.2&#39;\r\n    compile &#39;com.android.support:recyclerview-v7:23.0.0&#39;\r\n    compile &#39;me.grantland:autofittextview:0.2.0&#39;\r\n    compile &#39;com.wang.avi:library:1.0.5&#39;\r\n    compile &#39;com.nineoldandroids:library:2.4.0&#39;\r\n    compile &#39;com.braintreepayments.api:drop-in:2.3.8&#39;\r\n    compile &#39;com.braintreepayments.api:braintree:2.3.9&#39;\r\n    compile &#39;com.loopj.android:android-async-http:1.4.9&#39;\r\n    compile &#39;com.getbase:floatingactionbutton:1.10.1&#39;\r\n    compile &#39;com.mxn.soul:flowingdrawer-core:1.2.2&#39;\r\n    compile &#39;com.github.rengwuxian:MaterialEditText:2.1.4&#39;\r\n    compile &#39;com.github.PhilJay:MPAndroidChart:v3.0.1&#39;\r\n    compile &#39;net.gotev:uploadservice:3.2.5&#39;\r\n    compile &#39;in.srain.cube:ultra-ptr:1.0.11&#39;\r\n    compile &#39;com.android.support.constraint:constraint-layout:1.0.0-alpha9&#39;\r\n    testCompile &#39;junit:junit:4.12&#39;\r\n    //implementation &#39;com.android.support:appcompat-v4:23.+&#39;\r\n    }\r\n\r\nAlso, update your dependencies and use implementation instead of compile:\r\n\r\n    implementation &#39;com.google.firebase:firebase-messaging:15.0.2&#39;\r\n    implementation &#39;com.google.firebase:firebase-core:15.0.2&#39;\r\n\r\n  [1]: https://firebase.google.com/docs/cloud-messaging/android/client\r\n  [2]: https://github.com/firebase/quickstart-android/blob/master/messaging/app/src/main/java/com/google/firebase/quickstart/fcm/MyFirebaseInstanceIDService.java\r\n  [3]: https://developer.android.com/studio/build/gradle-plugin-3-0-0-migration.html?hl=pt-br","title":"Firebase Cloud Messaging - onMessageReceived not working","body":"<p>If you take a look at this <a href=\"https://firebase.google.com/docs/cloud-messaging/android/client\" rel=\"nofollow noreferrer\">doc</a>\nYou don't seem to have a service that extends <code>FirebaseInstanceIdService</code> to manage the token creation/rotation. <a href=\"https://github.com/firebase/quickstart-android/blob/master/messaging/app/src/main/java/com/google/firebase/quickstart/fcm/MyFirebaseInstanceIDService.java\" rel=\"nofollow noreferrer\">Here</a> is a example code. The token you need to send the push notifications to a specific device is received by this class.</p>\n\n<pre><code>&lt;service\n    android:name=\".MyFirebaseInstanceIDService\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"com.google.firebase.INSTANCE_ID_EVENT\"/&gt;\n    &lt;/intent-filter&gt;\n&lt;/service&gt;\n</code></pre>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>Okay, this error is bugging me now. I looked at your dependency tree and I see you're repeating some of them. For example you have three version of:</p>\n\n<pre><code>compile 'com.android.support:appcompat-v7:25.4.0'\n</code></pre>\n\n<p>Maybe you should clear that out to the newest version, or match it with the working version. Also you're using the new gradle plugin, but you haven't updated your depedencies to use <code>implementation</code> instead of <code>compile</code> in most cases, maybe try that as well? Here's <a href=\"https://developer.android.com/studio/build/gradle-plugin-3-0-0-migration.html?hl=pt-br\" rel=\"nofollow noreferrer\">why</a> you should do it.</p>\n\n<pre><code>dependencies {\ncompile fileTree(include: ['*.jar'], dir: 'libs')\n//compile project(path: ':backend', configuration: 'android-endpoints')\n//Removed the 0.2.+\ncompile 'com.daprlabs.aaron:cardstack:0.3.1-beta0'\n//noinspection GradleCompatible\ncompile 'com.android.support:appcompat-v7:25.4.0'\ncompile \"com.android.support:appcompat-v7:19.0.+\"\ncompile 'com.android.support:design:23.4.0'\ncompile 'com.android.support:recyclerview-v7:23.4.0'\ncompile 'com.android.support:cardview-v7:23.4.0'\n\ncompile 'com.github.danylovolokh:video-player-manager:0.2.0'\ncompile 'com.github.danylovolokh:list-visibility-utils:0.2.0'\n\n\n\nimplementation 'com.android.support:appcompat-v7:26.1.0'\nimplementation 'com.google.firebase:firebase-messaging:11.8.0'\ncompile 'com.google.firebase:firebase-core:11.8.0'\n\n\ncompile 'com.orhanobut:dialogplus:1.11@aar'\n\n\ncompile 'com.nineoldandroids:library:2.4.0'\ncompile files('libs/sinch-android-rtc-3.9.14.jar')\ncompile 'com.amazonaws:aws-android-sdk-s3:2.4.4'\ncompile 'com.github.chrisbanes:PhotoView:1.2.6'\ncompile 'com.davemorrissey.labs:subsampling-scale-image-view:3.5.0'\ncompile 'com.github.amlcurran.showcaseview:library:5.4.3'\ncompile 'com.github.d-max:spots-dialog:0.7@aar'\ncompile 'com.victor:lib:1.0.4'\ncompile 'com.github.bumptech.glide:glide:3.5.2'\ncompile 'com.squareup.picasso:picasso:2.5.2'\ncompile 'com.android.support:recyclerview-v7:23.0.0'\ncompile 'me.grantland:autofittextview:0.2.0'\ncompile 'com.wang.avi:library:1.0.5'\ncompile 'com.nineoldandroids:library:2.4.0'\ncompile 'com.braintreepayments.api:drop-in:2.3.8'\ncompile 'com.braintreepayments.api:braintree:2.3.9'\ncompile 'com.loopj.android:android-async-http:1.4.9'\ncompile 'com.getbase:floatingactionbutton:1.10.1'\ncompile 'com.mxn.soul:flowingdrawer-core:1.2.2'\ncompile 'com.github.rengwuxian:MaterialEditText:2.1.4'\ncompile 'com.github.PhilJay:MPAndroidChart:v3.0.1'\ncompile 'net.gotev:uploadservice:3.2.5'\ncompile 'in.srain.cube:ultra-ptr:1.0.11'\ncompile 'com.android.support.constraint:constraint-layout:1.0.0-alpha9'\ntestCompile 'junit:junit:4.12'\n//implementation 'com.android.support:appcompat-v4:23.+'\n}\n</code></pre>\n\n<p>Also, update your dependencies and use implementation instead of compile:</p>\n\n<pre><code>implementation 'com.google.firebase:firebase-messaging:15.0.2'\nimplementation 'com.google.firebase:firebase-core:15.0.2'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12833870,"reputation":133,"user_id":9284183,"display_name":"anas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519703737,"creation_date":1519703737,"answer_id":49000857,"question_id":48968525,"body_markdown":"Let the app listen to some value in the firebase database and change it as the message you want.\nI do this to my applications and its working like charm. ","title":"Firebase Cloud Messaging - onMessageReceived not working","body":"<p>Let the app listen to some value in the firebase database and change it as the message you want.\nI do this to my applications and its working like charm. </p>\n"},{"comments":[{"owner":{"account_id":9747261,"reputation":1700,"user_id":7226787,"display_name":"jessica"},"score":0,"creation_date":1519791500,"post_id":49001315,"comment_id":85048898,"body_markdown":"1. Have you check the type of notification (message or Data) becuase\nin your onMessageReceived you have handle only data message.\ntry to print log in this message.\n2. if you have implement GCM in previous project and GCM dependencies, \nmay be some confict with fcm.","body":"1. Have you check the type of notification (message or Data) becuase in your onMessageReceived you have handle only data message. try to print log in this message. 2. if you have implement GCM in previous project and GCM dependencies,  may be some confict with fcm."},{"owner":{"account_id":8011257,"reputation":696,"user_id":6042879,"accept_rate":35,"display_name":"Lazar Kukolj"},"score":0,"creation_date":1519822117,"post_id":49001315,"comment_id":85064125,"body_markdown":"Every time I test I check my logs for &quot;FCM&quot; and it has never shown up. Also, I believe I used GCM awhile ago, can you help me point out how to get rid of it?","body":"Every time I test I check my logs for &quot;FCM&quot; and it has never shown up. Also, I believe I used GCM awhile ago, can you help me point out how to get rid of it?"},{"owner":{"account_id":9747261,"reputation":1700,"user_id":7226787,"display_name":"jessica"},"score":0,"creation_date":1519837873,"post_id":49001315,"comment_id":85074872,"body_markdown":"when you send notification to device, try to get the log, this will help.. and check that fcm token generate or not, if token is valid then only you receive notification.","body":"when you send notification to device, try to get the log, this will help.. and check that fcm token generate or not, if token is valid then only you receive notification."},{"owner":{"account_id":8011257,"reputation":696,"user_id":6042879,"accept_rate":35,"display_name":"Lazar Kukolj"},"score":0,"creation_date":1519839326,"post_id":49001315,"comment_id":85075777,"body_markdown":"Again every time I test anything I always check my logs for &quot;FMC&quot; and I do not want to send the notification to my device only, I want to send a notification to everyone.","body":"Again every time I test anything I always check my logs for &quot;FMC&quot; and I do not want to send the notification to my device only, I want to send a notification to everyone."},{"owner":{"account_id":9747261,"reputation":1700,"user_id":7226787,"display_name":"jessica"},"score":0,"creation_date":1519839879,"post_id":49001315,"comment_id":85076068,"body_markdown":"first check with your device fcm token, you can use advance rest client chrome extension to send notification","body":"first check with your device fcm token, you can use advance rest client chrome extension to send notification"},{"owner":{"account_id":9747261,"reputation":1700,"user_id":7226787,"display_name":"jessica"},"score":0,"creation_date":1519840376,"post_id":49001315,"comment_id":85076339,"body_markdown":"check from this below link https://stackoverflow.com/questions/43816663/fcm-messaging-with-realtime-firebase-database","body":"check from this below link <a href=\"https://stackoverflow.com/questions/43816663/fcm-messaging-with-realtime-firebase-database\" title=\"fcm messaging with realtime firebase database\">stackoverflow.com/questions/43816663/&hellip;</a>"}],"tags":[],"owner":{"account_id":9747261,"reputation":1700,"user_id":7226787,"display_name":"jessica"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1519706739,"creation_date":1519706739,"answer_id":49001315,"question_id":48968525,"body_markdown":"   \r\n\r\n&gt;  // this help to start FCM service in background when phone restart.\r\n\r\n    Add receiver in Manifest.xml\r\n    \r\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n    &lt;receiver android:name=&quot;.OnBootBroadcastReceiver&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;\r\n    \r\n    OnBootBroadcastReceiver.class\r\n    \r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    \r\n    public class OnBootBroadcastReceiver extends BroadcastReceiver {\r\n    \t@Override\r\n    \tpublic void onReceive(Context context, Intent intent) {\r\n    \t\tIntent i = new Intent(&quot;com.examle.FirebaseMessagingReceiveService&quot;);\r\n    \t\ti.setClass(context, FirebaseMessagingReceiveService.class);\r\n    \t\tcontext.startService(i);\r\n    \t}\r\n    }","title":"Firebase Cloud Messaging - onMessageReceived not working","body":"<blockquote>\n  <p>// this help to start FCM service in background when phone restart.</p>\n</blockquote>\n\n<pre><code>Add receiver in Manifest.xml\n\n&lt;uses-permission android:name=\"android.permission.WAKE_LOCK\" /&gt;\n&lt;receiver android:name=\".OnBootBroadcastReceiver\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.BOOT_COMPLETED\" /&gt;\n            &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n\nOnBootBroadcastReceiver.class\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\n\npublic class OnBootBroadcastReceiver extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        Intent i = new Intent(\"com.examle.FirebaseMessagingReceiveService\");\n        i.setClass(context, FirebaseMessagingReceiveService.class);\n        context.startService(i);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8011257,"reputation":696,"user_id":6042879,"accept_rate":35,"display_name":"Lazar Kukolj"},"score":0,"creation_date":1519822176,"post_id":49029581,"comment_id":85064169,"body_markdown":"I made the Firebase project, added the .json, then connected my project from the Assistant Tool","body":"I made the Firebase project, added the .json, then connected my project from the Assistant Tool"}],"tags":[],"owner":{"account_id":6118280,"reputation":89,"user_id":4772600,"display_name":"Ashwini Atale"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519820765,"creation_date":1519820765,"answer_id":49029581,"question_id":48968525,"body_markdown":"Have you registered your application on FCM console? And added .json file in your application?\r\n","title":"Firebase Cloud Messaging - onMessageReceived not working","body":"<p>Have you registered your application on FCM console? And added .json file in your application?</p>\n"},{"comments":[{"owner":{"account_id":8011257,"reputation":696,"user_id":6042879,"accept_rate":35,"display_name":"Lazar Kukolj"},"score":0,"creation_date":1519939755,"post_id":49044456,"comment_id":85122878,"body_markdown":"I removed the package name it has private info but I connected it with the Firebase Assistant Tool in Android Studio and on the Firebase website. Everything says its connected. Also, I did add the .json file.","body":"I removed the package name it has private info but I connected it with the Firebase Assistant Tool in Android Studio and on the Firebase website. Everything says its connected. Also, I did add the .json file."},{"owner":{"account_id":8011257,"reputation":696,"user_id":6042879,"accept_rate":35,"display_name":"Lazar Kukolj"},"score":0,"creation_date":1525279644,"post_id":49044456,"comment_id":87297695,"body_markdown":"this answer was auto-selected for the +25. This answer did not solve my issue.","body":"this answer was auto-selected for the +25. This answer did not solve my issue."}],"tags":[],"owner":{"account_id":8383866,"reputation":1152,"user_id":6294875,"accept_rate":32,"display_name":"aj0822ArpitJoshi"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1519889233,"creation_date":1519888524,"answer_id":49044456,"question_id":48968525,"body_markdown":"If you are receiving device token and you have server api key then check your code working properly or not using  [pushtry ][1].\r\nit will give error like **Invalid Registration**, **404 Error** etc if you have done any mistake in your code.\r\nand for implementation of FCM, you can follow this tutorial- [FCM Tutorial][2]\r\n\r\n\r\n  [1]: http://pushtry.com/\r\n  [2]: https://www.androidhive.info/2012/10/android-push-notifications-using-google-cloud-messaging-gcm-php-and-mysql/\r\n\r\nOne more thing i have notice in your `build.gradle`file there is no any `  applicationId &quot;Package Name&quot;` in `defaultConfig`.\r\nI am not sure but this is package name and used when we create project on firebase console (Project name with package) ","title":"Firebase Cloud Messaging - onMessageReceived not working","body":"<p>If you are receiving device token and you have server api key then check your code working properly or not using  <a href=\"http://pushtry.com/\" rel=\"noreferrer\">pushtry </a>.\nit will give error like <strong>Invalid Registration</strong>, <strong>404 Error</strong> etc if you have done any mistake in your code.\nand for implementation of FCM, you can follow this tutorial- <a href=\"https://www.androidhive.info/2012/10/android-push-notifications-using-google-cloud-messaging-gcm-php-and-mysql/\" rel=\"noreferrer\">FCM Tutorial</a></p>\n\n<p>One more thing i have notice in your <code>build.gradle</code>file there is no any <code>applicationId \"Package Name\"</code> in <code>defaultConfig</code>.\nI am not sure but this is package name and used when we create project on firebase console (Project name with package) </p>\n"},{"tags":[],"owner":{"account_id":11259570,"reputation":916,"user_id":8258305,"accept_rate":60,"display_name":"Mohd Qasim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519900854,"creation_date":1519900854,"answer_id":49047864,"question_id":48968525,"body_markdown":"there are two types of notification data \r\n1)notification payload\r\n2)data payload\r\nif you send data from server in  notification payload mean. there is chance of not called onMessageRecieved() from FirbaseMessagingService have a look on [this link][1]\r\n\r\n\r\n  [1]: http://developine.com/how-to-send-firebase-push-notifications-from-app-server-tutorial/","title":"Firebase Cloud Messaging - onMessageReceived not working","body":"<p>there are two types of notification data \n1)notification payload\n2)data payload\nif you send data from server in  notification payload mean. there is chance of not called onMessageRecieved() from FirbaseMessagingService have a look on <a href=\"http://developine.com/how-to-send-firebase-push-notifications-from-app-server-tutorial/\" rel=\"nofollow noreferrer\">this link</a></p>\n"},{"tags":[],"owner":{"account_id":7691387,"reputation":5367,"user_id":5827565,"accept_rate":73,"display_name":"Pavel Poley"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519985912,"creation_date":1519985912,"answer_id":49067091,"question_id":48968525,"body_markdown":"Since you have not receive any log event from Firebase check the following steps:\r\n\r\n - Go you your Firebase project console enter project settings and check the if the package name is correct.\r\n - Download the JSON file again and copy it into `app/` module (change project perspective from Android to project), **MAKE SURE file name is** `google-services.json`\r\n - Run your project, go to logcat search for keyword `Firebase`, in case of success you will see message:\r\n\r\n\r\n\r\n&gt; I/FirebaseInitProvider: FirebaseApp initialization successful\r\n\r\n","title":"Firebase Cloud Messaging - onMessageReceived not working","body":"<p>Since you have not receive any log event from Firebase check the following steps:</p>\n\n<ul>\n<li>Go you your Firebase project console enter project settings and check the if the package name is correct.</li>\n<li>Download the JSON file again and copy it into <code>app/</code> module (change project perspective from Android to project), <strong>MAKE SURE file name is</strong> <code>google-services.json</code></li>\n<li>Run your project, go to logcat search for keyword <code>Firebase</code>, in case of success you will see message:</li>\n</ul>\n\n<blockquote>\n  <p>I/FirebaseInitProvider: FirebaseApp initialization successful</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":8011257,"reputation":696,"user_id":6042879,"accept_rate":35,"display_name":"Lazar Kukolj"},"score":0,"creation_date":1520106516,"post_id":49088358,"comment_id":85182526,"body_markdown":"If that&#39;s the case shouldn&#39;t my new app not work because it also targets Android Oreo and it doesn&#39;t follow the new notifications model?","body":"If that&#39;s the case shouldn&#39;t my new app not work because it also targets Android Oreo and it doesn&#39;t follow the new notifications model?"},{"owner":{"account_id":2531739,"reputation":3664,"user_id":2199894,"display_name":"Bassel Mourjan"},"score":0,"creation_date":1520132009,"post_id":49088358,"comment_id":85188284,"body_markdown":"you might be facing a different kind of problem or bug, but I am 100% sure that without specifying channels, your app will fail to show notifications on devices running android O (26)... are you testing both of your apps on the same device/android version? also do both apps have the same code implementation? (maybe I could help further)","body":"you might be facing a different kind of problem or bug, but I am 100% sure that without specifying channels, your app will fail to show notifications on devices running android O (26)... are you testing both of your apps on the same device/android version? also do both apps have the same code implementation? (maybe I could help further)"},{"owner":{"account_id":8011257,"reputation":696,"user_id":6042879,"accept_rate":35,"display_name":"Lazar Kukolj"},"score":0,"creation_date":1520132424,"post_id":49088358,"comment_id":85188337,"body_markdown":"I do test both apps on the same device and both apps have all there respected code above","body":"I do test both apps on the same device and both apps have all there respected code above"},{"owner":{"account_id":2531739,"reputation":3664,"user_id":2199894,"display_name":"Bassel Mourjan"},"score":0,"creation_date":1520133371,"post_id":49088358,"comment_id":85188520,"body_markdown":"2 silly questions but helps debugging:\n- did you place the same json file in both projects?\n- how are you sending your notifications to devices? firebase console?\n\nafter a second look.. your code looks fine","body":"2 silly questions but helps debugging: - did you place the same json file in both projects? - how are you sending your notifications to devices? firebase console?  after a second look.. your code looks fine"},{"owner":{"account_id":8011257,"reputation":696,"user_id":6042879,"accept_rate":35,"display_name":"Lazar Kukolj"},"score":0,"creation_date":1520140216,"post_id":49088358,"comment_id":85189656,"body_markdown":"I have their .json file for each project and I&#39;m sending a notification via firebase console. Exactly that&#39;s why I am super stuck :/","body":"I have their .json file for each project and I&#39;m sending a notification via firebase console. Exactly that&#39;s why I am super stuck :/"},{"owner":{"account_id":2531739,"reputation":3664,"user_id":2199894,"display_name":"Bassel Mourjan"},"score":0,"creation_date":1520200687,"post_id":49088358,"comment_id":85207088,"body_markdown":"In that case, you are left with one of the following:\n\n1 make sure not to use the same push ID for both apps cause its unique by app and not by device.\n\n2 make sure that you are using the correct and up-to-date Push ID since push Ids get changed every now and then. Therefore I suggest that you implement FirebaseInstanceIdService (https://firebase.google.com/docs/reference/android/com/google/firebase/iid/FirebaseInstanceIdService) which I fail to see implemented in your code.","body":"In that case, you are left with one of the following:  1 make sure not to use the same push ID for both apps cause its unique by app and not by device.  2 make sure that you are using the correct and up-to-date Push ID since push Ids get changed every now and then. Therefore I suggest that you implement FirebaseInstanceIdService (<a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/iid/FirebaseInstanceIdService\" rel=\"nofollow noreferrer\">firebase.google.com/docs/reference/android/com/google/fireb&zwnj;&#8203;ase/&hellip;</a>) which I fail to see implemented in your code."}],"tags":[],"owner":{"account_id":2531739,"reputation":3664,"user_id":2199894,"display_name":"Bassel Mourjan"},"comment_count":6,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1520106308,"creation_date":1520105536,"answer_id":49088358,"question_id":48968525,"body_markdown":"Most likely your notifications are not showing due to **Android Oreo** new [notifications model][1] which requires to specify channels definitions in order to build and show notifications. Also in your app.gradle, you are targeting android **version 26** which is **Android Oreo**, so you will have to implement the code below either way.\r\n\r\nIt is easy to adopt. all you need to do is:\r\n\r\n**1. define a notification channel in your YourApplicationClass.onCreate()**\r\n\r\n    \r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n        \r\n                NotificationChannel chan1 = new NotificationChannel(\r\n                    YOUR_DESIRED_CHANNEL_ID_STRING,\r\n                    YOUR_DESIRED_CHANNEL_LABEL_STRING, \r\n                    NotificationManager.IMPORTANCE_DEFAULT);\r\n        \r\n                chan1.setDescription(YOUR_DESIRED_CHANNEL_DESC_STRING);//OPTIONAL\r\n                chan1.setLightColor(Color.BLUE);//OPTIONAL     \r\n                chan1.setLockscreenVisibility(Notification.VISIBILITY_PUBLIC);//OPTIONAL\r\n                chan1.setShowBadge(true);//OPTIONAL\r\n        \r\n                getManager().createNotificationChannel(chan1);\r\n            }\r\n\r\n**2. replace you notification builder with this constructor**\r\n\r\n        NotificationCompat.Builder builder=\r\n    new NotificationCompat.Builder(this, YOUR_DESIRED_CHANNEL_ID_STRING);\r\n\r\n**Good to know that you can define more than one channel with different properties targeting Android Oreo and higher**\r\n\r\n\r\n  [1]: https://developer.android.com/training/notify-user/build-notification.html","title":"Firebase Cloud Messaging - onMessageReceived not working","body":"<p>Most likely your notifications are not showing due to <strong>Android Oreo</strong> new <a href=\"https://developer.android.com/training/notify-user/build-notification.html\" rel=\"noreferrer\">notifications model</a> which requires to specify channels definitions in order to build and show notifications. Also in your app.gradle, you are targeting android <strong>version 26</strong> which is <strong>Android Oreo</strong>, so you will have to implement the code below either way.</p>\n\n<p>It is easy to adopt. all you need to do is:</p>\n\n<p><strong>1. define a notification channel in your YourApplicationClass.onCreate()</strong></p>\n\n<pre><code>    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n\n            NotificationChannel chan1 = new NotificationChannel(\n                YOUR_DESIRED_CHANNEL_ID_STRING,\n                YOUR_DESIRED_CHANNEL_LABEL_STRING, \n                NotificationManager.IMPORTANCE_DEFAULT);\n\n            chan1.setDescription(YOUR_DESIRED_CHANNEL_DESC_STRING);//OPTIONAL\n            chan1.setLightColor(Color.BLUE);//OPTIONAL     \n            chan1.setLockscreenVisibility(Notification.VISIBILITY_PUBLIC);//OPTIONAL\n            chan1.setShowBadge(true);//OPTIONAL\n\n            getManager().createNotificationChannel(chan1);\n        }\n</code></pre>\n\n<p><strong>2. replace you notification builder with this constructor</strong></p>\n\n<pre><code>    NotificationCompat.Builder builder=\nnew NotificationCompat.Builder(this, YOUR_DESIRED_CHANNEL_ID_STRING);\n</code></pre>\n\n<p><strong>Good to know that you can define more than one channel with different properties targeting Android Oreo and higher</strong></p>\n"},{"tags":[],"owner":{"account_id":6262382,"reputation":534,"user_id":4869129,"accept_rate":75,"display_name":"Milan Hirpara"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1520246997,"creation_date":1520246587,"answer_id":49108595,"question_id":48968525,"body_markdown":"Hope you know the types of notifications, For sending notification you have to use custom server or something like postman , for more information, please refer the answer of these question : \r\n\r\nhttps://stackoverflow.com/questions/37711082/how-to-handle-notification-when-app-in-background-in-firebase\r\n\r\nAnyways, you have to call handleIntent(Intent intent) method in your FirebaseMessagingService in order to call onMessageReceived()  method..\r\n\r\n\r\nHere is my complete working code, notification-when-app-in-background-in-firebase.\r\n\r\nbuild.gradle : \r\n\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 26\r\n        buildToolsVersion &#39;26.0.3&#39;\r\n        defaultConfig {\r\n            applicationId &quot;com.abc.xyz&quot;\r\n            minSdkVersion 17\r\n            targetSdkVersion 26\r\n            multiDexEnabled true\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    \r\n        dexOptions {\r\n            javaMaxHeapSize &quot;4g&quot;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n        implementation &#39;com.android.support:support-v4:26.1.0&#39;\r\n        implementation &#39;com.android.support:appcompat-v7:26.1.0&#39;\r\n        implementation &#39;com.android.support:design:26.1.0&#39;\r\n        implementation &#39;com.android.support:recyclerview-v7:26.1.0&#39;\r\n        implementation &#39;com.android.support:cardview-v7:26.1.0&#39;\r\n        //firebase analytics and ads\r\n        implementation &#39;com.google.firebase:firebase-ads:11.4.2&#39;\r\n        implementation &#39;com.google.firebase:firebase-core:11.4.2&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:11.4.2&#39;\r\n        implementation &#39;com.firebase:firebase-jobdispatcher:0.8.5&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n\r\n\r\nAndroidManifest.xml :\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.abc.xyz&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:name=&quot;.MyApplication&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n    \r\n    \r\n            &lt;!-- [START fcm_default_icon] --&gt;\r\n            \r\n            &lt;meta-data\r\n                android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;\r\n                android:resource=&quot;@drawable/ic_stat_ic_notification&quot; /&gt;\r\n            \r\n            &lt;meta-data\r\n                android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;\r\n                android:resource=&quot;@color/colorAccent&quot; /&gt;\r\n            &lt;!-- [END fcm_default_icon] --&gt;\r\n            &lt;!-- [START fcm_default_channel] --&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;com.google.firebase.messaging.default_notification_channel_id&quot;\r\n                android:value=&quot;@string/default_notification_channel_id&quot; /&gt;\r\n            &lt;!-- [END fcm_default_channel] --&gt;\r\n    \r\n            &lt;service\r\n                android:name=&quot;.services.MyFirebaseMessagingService&quot;\r\n                android:enabled=&quot;true&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n            &lt;service android:name=&quot;.services.MyFirebaseInstanceIDService&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.firebase.INSTANCE_ID_EVENT&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n            &lt;service\r\n                android:name=&quot;.services.MyJobService&quot;\r\n                android:exported=&quot;false&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.firebase.jobdispatcher.ACTION_EXECUTE&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n    \r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\n\r\nMyFirebaseMessagingService.java : \r\n\r\n    public class MyFirebaseMessagingService extends FirebaseMessagingService {\r\n        private static final String TAG = &quot;MyFirebaseMsgService&quot;;\r\n    \r\n        @Override\r\n        public void handleIntent(Intent intent) {\r\n    \r\n            Log.e(TAG, &quot;handleIntent&quot;);\r\n            try\r\n            {\r\n                if (intent.getExtras() != null)\r\n                {\r\n                    RemoteMessage.Builder builder = new RemoteMessage.Builder(&quot;MyFirebaseMessagingService&quot;);\r\n    \r\n                    for (String key : intent.getExtras().keySet())\r\n                    {\r\n                        builder.addData(key, intent.getExtras().get(key).toString());\r\n                    }\r\n    \r\n                    onMessageReceived(builder.build());\r\n                }\r\n                else\r\n                {\r\n                    super.handleIntent(intent);\r\n                }\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                super.handleIntent(intent);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Called when message is received.\r\n         *\r\n         * @param remoteMessage Object representing the message received from Firebase Cloud Messaging.\r\n         */\r\n        // [START receive_message]\r\n        @Override\r\n        public void onMessageReceived(RemoteMessage remoteMessage) {\r\n            // [START_EXCLUDE]\r\n            // There are two types of messages data messages and notification messages. Data messages are handled\r\n            // here in onMessageReceived whether the app is in the foreground or background. Data messages are the type\r\n            // traditionally used with GCM. Notification messages are only received here in onMessageReceived when the app\r\n            // is in the foreground. When the app is in the background an automatically generated notification is displayed.\r\n            // When the user taps on the notification they are returned to the app. Messages containing both notification\r\n            // and data payloads are treated as notification messages. The Firebase console always sends notification\r\n            // messages. For more see: https://firebase.google.com/docs/cloud-messaging/concept-options\r\n            // [END_EXCLUDE]\r\n    \r\n            // TODO(developer): Handle FCM messages here.\r\n            // Not getting messages here? See why this may be:\r\n            Log.e(TAG, &quot;Notification received Successfully&quot;);\r\n            Log.e(TAG, &quot;From: &quot; + remoteMessage.getFrom());\r\n    \r\n            // Check if message contains a data payload.\r\n            if (remoteMessage.getData().size() &gt; 0) {\r\n                Log.e(TAG, &quot;Message data payload: &quot; + remoteMessage.getData());\r\n    \r\n                if (/* Check if data needs to be processed by long running job */ true) {\r\n                    // For long-running tasks (10 seconds or more) use Firebase Job Dispatcher.\r\n                    scheduleJob();\r\n                } else {\r\n                    // Handle message within 10 seconds\r\n                    handleNow();\r\n                }\r\n    \r\n            }\r\n    \r\n            // Check if message contains a notification payload.\r\n            if (remoteMessage.getNotification() != null) {\r\n                Log.e(TAG, &quot;Message Notification Body: &quot; + remoteMessage.getNotification().getBody());\r\n            }\r\n    \r\n            // Also if you intend on generating your own notifications as a result of a received FCM\r\n            // message, here is where that should be initiated. See sendNotification method below.\r\n        }\r\n        // [END receive_message]\r\n    \r\n        /**\r\n         * Schedule a job using FirebaseJobDispatcher.\r\n         */\r\n        private void scheduleJob() {\r\n            // [START dispatch_job]\r\n            FirebaseJobDispatcher dispatcher = new FirebaseJobDispatcher(new GooglePlayDriver(this));\r\n            Job myJob = dispatcher.newJobBuilder()\r\n                    .setService(MyJobService.class)\r\n                    .setTag(&quot;my-job-tag&quot;)\r\n                    .build();\r\n            dispatcher.schedule(myJob);\r\n            // [END dispatch_job]\r\n        }\r\n    \r\n        /**\r\n         * Handle time allotted to BroadcastReceivers.\r\n         */\r\n        private void handleNow() {\r\n            Log.e(TAG, &quot;Short lived task is done.&quot;);\r\n        }\r\n    \r\n        /**\r\n         * Create and show a simple notification containing the received FCM message.\r\n         *\r\n         * @param messageBody FCM message body received.\r\n         */\r\n        private void sendNotification(String messageBody) {\r\n            Intent intent = new Intent(this, MainActivity.class);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n            PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent,\r\n                    PendingIntent.FLAG_ONE_SHOT);\r\n    \r\n            String channelId = getString(R.string.default_notification_channel_id);\r\n            Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n            NotificationCompat.Builder notificationBuilder =\r\n                    new NotificationCompat.Builder(this, channelId)\r\n                            .setSmallIcon(R.drawable.ic_stat_ic_notification)\r\n                            .setContentTitle(&quot;FCM Message&quot;)\r\n                            .setContentText(messageBody)\r\n                            .setAutoCancel(true)\r\n                            .setSound(defaultSoundUri)\r\n                            .setContentIntent(pendingIntent);\r\n    \r\n            NotificationManager notificationManager =\r\n                    (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n    \r\n            notificationManager.notify(0 /* ID of notification */, notificationBuilder.build());\r\n        }\r\n    }\r\n\r\n\r\nMyFirebaseInstanceIDService.java : \r\n\r\n    public class MyFirebaseInstanceIDService extends FirebaseInstanceIdService {\r\n        private static final String TAG = &quot;MyFirebaseIIDService&quot;;\r\n    \r\n        /**\r\n         * Called if InstanceID token is updated. This may occur if the security of\r\n         * the previous token had been compromised. Note that this is called when the InstanceID token\r\n         * is initially generated so this is where you would retrieve the token.\r\n         */\r\n        // [START refresh_token]\r\n        @Override\r\n        public void onTokenRefresh() {\r\n            // Get updated InstanceID token.\r\n            Log.e(TAG, &quot;onTokenRefresh&quot;);\r\n            String refreshedToken = FirebaseInstanceId.getInstance().getToken();\r\n            Log.e(TAG, &quot;Refreshed token: &quot; + refreshedToken);\r\n    \r\n            // If you want to send messages to this application instance or\r\n            // manage this apps subscriptions on the server side, send the\r\n            // Instance ID token to your app server.\r\n            sendRegistrationToServer(refreshedToken);\r\n        }\r\n        // [END refresh_token]\r\n    \r\n        /**\r\n         * Persist token to third-party servers.\r\n         *\r\n         * Modify this method to associate the user&#39;s FCM InstanceID token with any server-side account\r\n         * maintained by your application.\r\n         *\r\n         * @param token The new token.\r\n         */\r\n        private void sendRegistrationToServer(String token) {\r\n            // TODO: Implement this method to send token to your app server.\r\n        }\r\n    }\r\n\r\n\r\nMyJobService.java\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n    public class MyJobService extends JobService {\r\n    \r\n        private static final String TAG = &quot;MyJobService&quot;;\r\n    \r\n        @Override\r\n        public boolean onStartJob(JobParameters job) {\r\n            // Do some work here\r\n            Log.e(TAG, &quot;Inside MyJobService&quot;);\r\n            return false; // Answers the question: &quot;Is there still work going on?&quot;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onStopJob(JobParameters job) {\r\n            Log.e(TAG, &quot;Inside MyJobService&quot;);\r\n            return false; // Answers the question: &quot;Should this job be retried?&quot;\r\n        }\r\n    }\r\n\r\n\r\nMyApplication.java : \r\n\r\n    public class MyApplication extends MultiDexApplication {\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n    \r\n            // active JobSchedulerReceiver\r\n            Intent intent = new Intent();\r\n            intent.setAction(getPackageName() + &quot;.receiver.JobSchedulerReceiver&quot;);\r\n            sendBroadcast(intent);\r\n        }\r\n    \r\n        @Override\r\n        protected void attachBaseContext(Context base) {\r\n            super.attachBaseContext(base);\r\n            MultiDex.install(this);\r\n        }\r\n    }\r\n\r\n\r\nMainActivity.java : \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private static final String TAG = &quot;MainActivity&quot;;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            Log.e(TAG, &quot;Inside MainActivity&quot;);\r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                // Create channel to show notifications.\r\n                String channelId = getString(R.string.default_notification_channel_id);\r\n                String channelName = getString(R.string.default_notification_channel_name);\r\n                NotificationManager notificationManager =\r\n                        getSystemService(NotificationManager.class);\r\n                assert notificationManager != null;\r\n                notificationManager.createNotificationChannel(new NotificationChannel(channelId,\r\n                        channelName, NotificationManager.IMPORTANCE_LOW));\r\n            }\r\n    \r\n            // If a notification message is tapped, any data accompanying the notification\r\n            // message is available in the intent extras. In this sample the launcher\r\n            // intent is fired when the notification is tapped, so any accompanying data would\r\n            // be handled here. If you want a different intent fired, set the click_action\r\n            // field of the notification message to the desired intent. The launcher intent\r\n            // is used when no click_action is specified.\r\n            //\r\n            // Handle possible data accompanying notification message.\r\n            // [START handle_data_extras]\r\n            if (getIntent().getExtras() != null) {\r\n                for (String key : getIntent().getExtras().keySet()) {\r\n                    Object value = getIntent().getExtras().get(key);\r\n                    Log.e(TAG, &quot;Key: &quot; + key + &quot; Value: &quot; + value);\r\n                }\r\n            }\r\n            // [END handle_data_extras]\r\n    \r\n            Button subscribeButton = findViewById(R.id.subscribeButton);\r\n            subscribeButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    // [START subscribe_topics]\r\n                    FirebaseMessaging.getInstance().subscribeToTopic(&quot;news&quot;);\r\n                    // [END subscribe_topics]\r\n    \r\n                    // Log and toast\r\n                    String msg = getString(R.string.msg_subscribed);\r\n                    Log.e(TAG, msg);\r\n                    Toast.makeText(MainActivity.this, msg, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n            Button logTokenButton = findViewById(R.id.logTokenButton);\r\n            logTokenButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    // Get token\r\n                    String token = FirebaseInstanceId.getInstance().getToken();\r\n    \r\n                    // Log and toast\r\n                    String msg = getString(R.string.msg_token_fmt, token);\r\n                    Log.e(TAG, msg);\r\n                    Toast.makeText(MainActivity.this, msg, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n        }\r\n    }\r\n","title":"Firebase Cloud Messaging - onMessageReceived not working","body":"<p>Hope you know the types of notifications, For sending notification you have to use custom server or something like postman , for more information, please refer the answer of these question : </p>\n\n<p><a href=\"https://stackoverflow.com/questions/37711082/how-to-handle-notification-when-app-in-background-in-firebase\">How to handle notification when app in background in Firebase</a></p>\n\n<p>Anyways, you have to call handleIntent(Intent intent) method in your FirebaseMessagingService in order to call onMessageReceived()  method..</p>\n\n<p>Here is my complete working code, notification-when-app-in-background-in-firebase.</p>\n\n<p>build.gradle : </p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion '26.0.3'\n    defaultConfig {\n        applicationId \"com.abc.xyz\"\n        minSdkVersion 17\n        targetSdkVersion 26\n        multiDexEnabled true\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    dexOptions {\n        javaMaxHeapSize \"4g\"\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.android.support:support-v4:26.1.0'\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support:design:26.1.0'\n    implementation 'com.android.support:recyclerview-v7:26.1.0'\n    implementation 'com.android.support:cardview-v7:26.1.0'\n    //firebase analytics and ads\n    implementation 'com.google.firebase:firebase-ads:11.4.2'\n    implementation 'com.google.firebase:firebase-core:11.4.2'\n    implementation 'com.google.firebase:firebase-messaging:11.4.2'\n    implementation 'com.firebase:firebase-jobdispatcher:0.8.5'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>AndroidManifest.xml :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.abc.xyz\"&gt;\n\n    &lt;uses-permission android:name=\"android.permission.WAKE_LOCK\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.VIBRATE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n\n    &lt;application\n        android:name=\".MyApplication\"\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n\n        &lt;!-- [START fcm_default_icon] --&gt;\n\n        &lt;meta-data\n            android:name=\"com.google.firebase.messaging.default_notification_icon\"\n            android:resource=\"@drawable/ic_stat_ic_notification\" /&gt;\n\n        &lt;meta-data\n            android:name=\"com.google.firebase.messaging.default_notification_color\"\n            android:resource=\"@color/colorAccent\" /&gt;\n        &lt;!-- [END fcm_default_icon] --&gt;\n        &lt;!-- [START fcm_default_channel] --&gt;\n        &lt;meta-data\n            android:name=\"com.google.firebase.messaging.default_notification_channel_id\"\n            android:value=\"@string/default_notification_channel_id\" /&gt;\n        &lt;!-- [END fcm_default_channel] --&gt;\n\n        &lt;service\n            android:name=\".services.MyFirebaseMessagingService\"\n            android:enabled=\"true\"\n            android:exported=\"true\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.google.firebase.MESSAGING_EVENT\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n        &lt;service android:name=\".services.MyFirebaseInstanceIDService\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.google.firebase.INSTANCE_ID_EVENT\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n        &lt;service\n            android:name=\".services.MyJobService\"\n            android:exported=\"false\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.firebase.jobdispatcher.ACTION_EXECUTE\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>MyFirebaseMessagingService.java : </p>\n\n<pre><code>public class MyFirebaseMessagingService extends FirebaseMessagingService {\n    private static final String TAG = \"MyFirebaseMsgService\";\n\n    @Override\n    public void handleIntent(Intent intent) {\n\n        Log.e(TAG, \"handleIntent\");\n        try\n        {\n            if (intent.getExtras() != null)\n            {\n                RemoteMessage.Builder builder = new RemoteMessage.Builder(\"MyFirebaseMessagingService\");\n\n                for (String key : intent.getExtras().keySet())\n                {\n                    builder.addData(key, intent.getExtras().get(key).toString());\n                }\n\n                onMessageReceived(builder.build());\n            }\n            else\n            {\n                super.handleIntent(intent);\n            }\n        }\n        catch (Exception e)\n        {\n            super.handleIntent(intent);\n        }\n    }\n\n    /**\n     * Called when message is received.\n     *\n     * @param remoteMessage Object representing the message received from Firebase Cloud Messaging.\n     */\n    // [START receive_message]\n    @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        // [START_EXCLUDE]\n        // There are two types of messages data messages and notification messages. Data messages are handled\n        // here in onMessageReceived whether the app is in the foreground or background. Data messages are the type\n        // traditionally used with GCM. Notification messages are only received here in onMessageReceived when the app\n        // is in the foreground. When the app is in the background an automatically generated notification is displayed.\n        // When the user taps on the notification they are returned to the app. Messages containing both notification\n        // and data payloads are treated as notification messages. The Firebase console always sends notification\n        // messages. For more see: https://firebase.google.com/docs/cloud-messaging/concept-options\n        // [END_EXCLUDE]\n\n        // TODO(developer): Handle FCM messages here.\n        // Not getting messages here? See why this may be:\n        Log.e(TAG, \"Notification received Successfully\");\n        Log.e(TAG, \"From: \" + remoteMessage.getFrom());\n\n        // Check if message contains a data payload.\n        if (remoteMessage.getData().size() &gt; 0) {\n            Log.e(TAG, \"Message data payload: \" + remoteMessage.getData());\n\n            if (/* Check if data needs to be processed by long running job */ true) {\n                // For long-running tasks (10 seconds or more) use Firebase Job Dispatcher.\n                scheduleJob();\n            } else {\n                // Handle message within 10 seconds\n                handleNow();\n            }\n\n        }\n\n        // Check if message contains a notification payload.\n        if (remoteMessage.getNotification() != null) {\n            Log.e(TAG, \"Message Notification Body: \" + remoteMessage.getNotification().getBody());\n        }\n\n        // Also if you intend on generating your own notifications as a result of a received FCM\n        // message, here is where that should be initiated. See sendNotification method below.\n    }\n    // [END receive_message]\n\n    /**\n     * Schedule a job using FirebaseJobDispatcher.\n     */\n    private void scheduleJob() {\n        // [START dispatch_job]\n        FirebaseJobDispatcher dispatcher = new FirebaseJobDispatcher(new GooglePlayDriver(this));\n        Job myJob = dispatcher.newJobBuilder()\n                .setService(MyJobService.class)\n                .setTag(\"my-job-tag\")\n                .build();\n        dispatcher.schedule(myJob);\n        // [END dispatch_job]\n    }\n\n    /**\n     * Handle time allotted to BroadcastReceivers.\n     */\n    private void handleNow() {\n        Log.e(TAG, \"Short lived task is done.\");\n    }\n\n    /**\n     * Create and show a simple notification containing the received FCM message.\n     *\n     * @param messageBody FCM message body received.\n     */\n    private void sendNotification(String messageBody) {\n        Intent intent = new Intent(this, MainActivity.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent,\n                PendingIntent.FLAG_ONE_SHOT);\n\n        String channelId = getString(R.string.default_notification_channel_id);\n        Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n        NotificationCompat.Builder notificationBuilder =\n                new NotificationCompat.Builder(this, channelId)\n                        .setSmallIcon(R.drawable.ic_stat_ic_notification)\n                        .setContentTitle(\"FCM Message\")\n                        .setContentText(messageBody)\n                        .setAutoCancel(true)\n                        .setSound(defaultSoundUri)\n                        .setContentIntent(pendingIntent);\n\n        NotificationManager notificationManager =\n                (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n        notificationManager.notify(0 /* ID of notification */, notificationBuilder.build());\n    }\n}\n</code></pre>\n\n<p>MyFirebaseInstanceIDService.java : </p>\n\n<pre><code>public class MyFirebaseInstanceIDService extends FirebaseInstanceIdService {\n    private static final String TAG = \"MyFirebaseIIDService\";\n\n    /**\n     * Called if InstanceID token is updated. This may occur if the security of\n     * the previous token had been compromised. Note that this is called when the InstanceID token\n     * is initially generated so this is where you would retrieve the token.\n     */\n    // [START refresh_token]\n    @Override\n    public void onTokenRefresh() {\n        // Get updated InstanceID token.\n        Log.e(TAG, \"onTokenRefresh\");\n        String refreshedToken = FirebaseInstanceId.getInstance().getToken();\n        Log.e(TAG, \"Refreshed token: \" + refreshedToken);\n\n        // If you want to send messages to this application instance or\n        // manage this apps subscriptions on the server side, send the\n        // Instance ID token to your app server.\n        sendRegistrationToServer(refreshedToken);\n    }\n    // [END refresh_token]\n\n    /**\n     * Persist token to third-party servers.\n     *\n     * Modify this method to associate the user's FCM InstanceID token with any server-side account\n     * maintained by your application.\n     *\n     * @param token The new token.\n     */\n    private void sendRegistrationToServer(String token) {\n        // TODO: Implement this method to send token to your app server.\n    }\n}\n</code></pre>\n\n<p>MyJobService.java</p>\n\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\npublic class MyJobService extends JobService {\n\n    private static final String TAG = \"MyJobService\";\n\n    @Override\n    public boolean onStartJob(JobParameters job) {\n        // Do some work here\n        Log.e(TAG, \"Inside MyJobService\");\n        return false; // Answers the question: \"Is there still work going on?\"\n    }\n\n    @Override\n    public boolean onStopJob(JobParameters job) {\n        Log.e(TAG, \"Inside MyJobService\");\n        return false; // Answers the question: \"Should this job be retried?\"\n    }\n}\n</code></pre>\n\n<p>MyApplication.java : </p>\n\n<pre><code>public class MyApplication extends MultiDexApplication {\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        // active JobSchedulerReceiver\n        Intent intent = new Intent();\n        intent.setAction(getPackageName() + \".receiver.JobSchedulerReceiver\");\n        sendBroadcast(intent);\n    }\n\n    @Override\n    protected void attachBaseContext(Context base) {\n        super.attachBaseContext(base);\n        MultiDex.install(this);\n    }\n}\n</code></pre>\n\n<p>MainActivity.java : </p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private static final String TAG = \"MainActivity\";\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Log.e(TAG, \"Inside MainActivity\");\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            // Create channel to show notifications.\n            String channelId = getString(R.string.default_notification_channel_id);\n            String channelName = getString(R.string.default_notification_channel_name);\n            NotificationManager notificationManager =\n                    getSystemService(NotificationManager.class);\n            assert notificationManager != null;\n            notificationManager.createNotificationChannel(new NotificationChannel(channelId,\n                    channelName, NotificationManager.IMPORTANCE_LOW));\n        }\n\n        // If a notification message is tapped, any data accompanying the notification\n        // message is available in the intent extras. In this sample the launcher\n        // intent is fired when the notification is tapped, so any accompanying data would\n        // be handled here. If you want a different intent fired, set the click_action\n        // field of the notification message to the desired intent. The launcher intent\n        // is used when no click_action is specified.\n        //\n        // Handle possible data accompanying notification message.\n        // [START handle_data_extras]\n        if (getIntent().getExtras() != null) {\n            for (String key : getIntent().getExtras().keySet()) {\n                Object value = getIntent().getExtras().get(key);\n                Log.e(TAG, \"Key: \" + key + \" Value: \" + value);\n            }\n        }\n        // [END handle_data_extras]\n\n        Button subscribeButton = findViewById(R.id.subscribeButton);\n        subscribeButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // [START subscribe_topics]\n                FirebaseMessaging.getInstance().subscribeToTopic(\"news\");\n                // [END subscribe_topics]\n\n                // Log and toast\n                String msg = getString(R.string.msg_subscribed);\n                Log.e(TAG, msg);\n                Toast.makeText(MainActivity.this, msg, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        Button logTokenButton = findViewById(R.id.logTokenButton);\n        logTokenButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                // Get token\n                String token = FirebaseInstanceId.getInstance().getToken();\n\n                // Log and toast\n                String msg = getString(R.string.msg_token_fmt, token);\n                Log.e(TAG, msg);\n                Toast.makeText(MainActivity.this, msg, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2121739,"reputation":963,"user_id":1884842,"accept_rate":56,"display_name":"Shanmugapriyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526131934,"creation_date":1526131934,"answer_id":50306787,"question_id":48968525,"body_markdown":"Even I faced the same issue, It got resolved by adding full path **android:name** service in AndroidManifest.xml\r\n\r\n    &lt;service android:name=&quot;com.testapp.Notifaction&quot;&gt;\r\n         &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot;/&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/service&gt;\r\n\r\ngive try once &amp; let me know if you have any issue.","title":"Firebase Cloud Messaging - onMessageReceived not working","body":"<p>Even I faced the same issue, It got resolved by adding full path <strong>android:name</strong> service in AndroidManifest.xml</p>\n\n<pre><code>&lt;service android:name=\"com.testapp.Notifaction\"&gt;\n     &lt;intent-filter&gt;\n        &lt;action android:name=\"com.google.firebase.MESSAGING_EVENT\"/&gt;\n    &lt;/intent-filter&gt;\n&lt;/service&gt;\n</code></pre>\n\n<p>give try once &amp; let me know if you have any issue.</p>\n"},{"tags":[],"owner":{"account_id":7400549,"reputation":12660,"user_id":5631145,"accept_rate":90,"display_name":"Francisco Durdin Garcia"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698255138,"creation_date":1526137719,"answer_id":50307654,"question_id":48968525,"body_markdown":"Let&#39;s go step by step. I&#39;ll check all your code compared to my actual project, which is working on production with the last version of Firebase Messaging service:\r\n\r\n- Your dependencies on gradle looks fine, but you just need `  implementation &quot;com.google.firebase:firebase-messaging:15.0.2&quot;`\r\n\r\n \r\n- Could you try to rename your class to something different? `Notification` name maybe its interaction with the own Android Notification class. Also remember that it should have an Empty constructor(but I see in your code that you have it)\r\n\r\nCall it MessagingController for example and put it on your manifest inside `&lt;application&gt;` like:\r\n \r\n   \r\n\r\n       &lt;!--Service to control messaging requests--&gt;\r\n            &lt;service\r\n                android:name=&quot;.messaging.controller.MessagingController&quot;\r\n                android:exported=&quot;false&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n        &lt;/application&gt;\r\n\r\nAlso, don&#39;t forget that you need an instance of `FirebaseInstanceService`, this is required like the [Official Doc says][1]:\r\n\r\n&gt; A service that extends FirebaseInstanceIdService to handle the creation, rotation, and updating of registration tokens. This is required for sending to specific devices or for creating device groups.\r\n\r\n   \r\n\r\n    &lt;!--Firebase instance service to renew messaging tokens--&gt;\r\n            &lt;service\r\n                android:name=&quot;.messaging.service.FirebaseInstanceService&quot;\r\n                android:exported=&quot;false&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.firebase.INSTANCE_ID_EVENT&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n\r\n - Are you sending the notifications from the Firebase Console? Or using Firebase Cloud functions? In Both cases, are you introducing the right token? If you put a timed out token Firebase console will show you an error, you should add the notification like this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n- OK, at this point, with your code this should be at least receiving the notifications in your logs, \r\n\r\n- If you want you can check the next project which is a application Skeleton to build a notification system. Maybe it will help you too: https://github.com/FrangSierra/PushNotificationSkeleton\r\n\r\n- Finally if you want to check some cloud function code about how to send notifications from the server, I suggest you to give a look to the [this repository][3]\r\n\r\n  [1]: https://firebase.google.com/docs/cloud-messaging/android/client\r\n  [2]: https://i.stack.imgur.com/Cn3fh.png\r\n  [3]: https://github.com/FrangSierra/firestore-cloud-functions-typescript","title":"Firebase Cloud Messaging - onMessageReceived not working","body":"<p>Let's go step by step. I'll check all your code compared to my actual project, which is working on production with the last version of Firebase Messaging service:</p>\n<ul>\n<li><p>Your dependencies on gradle looks fine, but you just need <code>  implementation &quot;com.google.firebase:firebase-messaging:15.0.2&quot;</code></p>\n</li>\n<li><p>Could you try to rename your class to something different? <code>Notification</code> name maybe its interaction with the own Android Notification class. Also remember that it should have an Empty constructor(but I see in your code that you have it)</p>\n</li>\n</ul>\n<p>Call it MessagingController for example and put it on your manifest inside <code>&lt;application&gt;</code> like:</p>\n<pre><code>   &lt;!--Service to control messaging requests--&gt;\n        &lt;service\n            android:name=&quot;.messaging.controller.MessagingController&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n    &lt;/application&gt;\n</code></pre>\n<p>Also, don't forget that you need an instance of <code>FirebaseInstanceService</code>, this is required like the <a href=\"https://firebase.google.com/docs/cloud-messaging/android/client\" rel=\"nofollow noreferrer\">Official Doc says</a>:</p>\n<blockquote>\n<p>A service that extends FirebaseInstanceIdService to handle the creation, rotation, and updating of registration tokens. This is required for sending to specific devices or for creating device groups.</p>\n</blockquote>\n<pre><code>&lt;!--Firebase instance service to renew messaging tokens--&gt;\n        &lt;service\n            android:name=&quot;.messaging.service.FirebaseInstanceService&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.google.firebase.INSTANCE_ID_EVENT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n</code></pre>\n<ul>\n<li>Are you sending the notifications from the Firebase Console? Or using Firebase Cloud functions? In Both cases, are you introducing the right token? If you put a timed out token Firebase console will show you an error, you should add the notification like this:</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/Cn3fh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cn3fh.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li><p>OK, at this point, with your code this should be at least receiving the notifications in your logs,</p>\n</li>\n<li><p>If you want you can check the next project which is a application Skeleton to build a notification system. Maybe it will help you too: <a href=\"https://github.com/FrangSierra/PushNotificationSkeleton\" rel=\"nofollow noreferrer\">https://github.com/FrangSierra/PushNotificationSkeleton</a></p>\n</li>\n<li><p>Finally if you want to check some cloud function code about how to send notifications from the server, I suggest you to give a look to the <a href=\"https://github.com/FrangSierra/firestore-cloud-functions-typescript\" rel=\"nofollow noreferrer\">this repository</a></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11364455,"reputation":13476,"user_id":8331756,"accept_rate":72,"display_name":"J. Hesters"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526208519,"creation_date":1526208519,"answer_id":50315287,"question_id":48968525,"body_markdown":"This is just a simple suggestion, but what caused a similar error to me a couple of weeks ago was that I sent the wrong form of notification.\r\nI sent silent notifications, even though I should&#39;ve send loud. Check how your server sends messages. I also messed up the order in which the FCM API expects the keys.\r\n\r\nHere is my code for the working loud notifications, which are sent by a Django Python server:\r\n\r\n    def _build_loud_message(not_id, data):\r\n        &quot;&quot;&quot;Construct loud notifiation message.\r\n        Loud means that this message will show up in the notifications hub\r\n        of the app.\r\n        &quot;&quot;&quot;\r\n        return {\r\n            &#39;message&#39;: {\r\n                &#39;notification&#39;: {\r\n                    &#39;title&#39;: &#39;New activity&#39;,\r\n                    &#39;body&#39;: &#39;Hey you have some new activity!&#39;\r\n                },\r\n                &#39;data&#39;: {&quot;data&quot;: data},\r\n                &#39;apns&#39;: {\r\n                    &#39;payload&#39;: {\r\n                        &quot;notId&quot;: not_id,  # notId HAS TO BE FIRST!!!\r\n                        &#39;aps&#39;: {\r\n                            &#39;badge&#39;: 1,\r\n                            &#39;sound&#39;: &#39;default&#39;,\r\n                            &#39;content-available&#39;: 1\r\n                        }\r\n                    },\r\n                    &#39;headers&#39;: {\r\n                        &#39;apns-priority&#39;: &#39;10&#39;,\r\n                        &#39;apns-collapse-id&#39;: &#39;myid-1&#39;\r\n                    }\r\n                },\r\n                &#39;android&#39;: {\r\n                    &#39;priority&#39;: &quot;high&quot;,\r\n                    &#39;data&#39;: {\r\n                        &quot;androidData&quot;: data\r\n                    },\r\n                    &#39;notification&#39;: {\r\n                        &#39;sound&#39;: &#39;default&#39;,\r\n                        &#39;tag&#39;: &#39;mytag-1&#39;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nAlso pay close attention to the order in which the dic keys are mentioned. Changing them can cause the message not to be send successfully from FCM to the device, even though the FCM api says it did successfully sent.","title":"Firebase Cloud Messaging - onMessageReceived not working","body":"<p>This is just a simple suggestion, but what caused a similar error to me a couple of weeks ago was that I sent the wrong form of notification.\nI sent silent notifications, even though I should've send loud. Check how your server sends messages. I also messed up the order in which the FCM API expects the keys.</p>\n\n<p>Here is my code for the working loud notifications, which are sent by a Django Python server:</p>\n\n<pre><code>def _build_loud_message(not_id, data):\n    \"\"\"Construct loud notifiation message.\n    Loud means that this message will show up in the notifications hub\n    of the app.\n    \"\"\"\n    return {\n        'message': {\n            'notification': {\n                'title': 'New activity',\n                'body': 'Hey you have some new activity!'\n            },\n            'data': {\"data\": data},\n            'apns': {\n                'payload': {\n                    \"notId\": not_id,  # notId HAS TO BE FIRST!!!\n                    'aps': {\n                        'badge': 1,\n                        'sound': 'default',\n                        'content-available': 1\n                    }\n                },\n                'headers': {\n                    'apns-priority': '10',\n                    'apns-collapse-id': 'myid-1'\n                }\n            },\n            'android': {\n                'priority': \"high\",\n                'data': {\n                    \"androidData\": data\n                },\n                'notification': {\n                    'sound': 'default',\n                    'tag': 'mytag-1'\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>Also pay close attention to the order in which the dic keys are mentioned. Changing them can cause the message not to be send successfully from FCM to the device, even though the FCM api says it did successfully sent.</p>\n"}],"owner":{"account_id":8011257,"reputation":696,"user_id":6042879,"accept_rate":35,"display_name":"Lazar Kukolj"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12038,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":12,"score":12,"last_activity_date":1698255138,"creation_date":1519513241,"question_id":48968525,"body_markdown":"I want to make a simple notification feature in my app. I followed [this][1] YouTube video and both of these Firebase documentation URLs [1][2] and [2][3] plus the Firebase tool assistant in Android Studio (which says I&#39;m connected to Firebase). For some reason, following these steps and documents on my older app (which code is posted below), it won&#39;t allow me to receive notifications. However, if I follow the same steps on a brand new app it works perfectly. I tested both apps on the same physical device and environment in the background, active and terminated states. Every time the new demo app I created works with no issue but my older app which I want notifications in does not work. Both tested without getting the device ID. I do not even get any error logs or any TAG log. I think one of my compiled projects is interfering, not sure exactly what but I might have to look there.\r\n\r\nI also checked out all these SO posts already: [1][4][2][5][3][6] and more\r\n\r\nPS. I removed my package name below, I checked multiple times on FireBase and they match so I know that is not the issue. However, my new demo app&#39;s FireBase shows that my app connected but my older app&#39;s FireBase did not. Also, I&#39;ve set a bounty before and still running into the same issue.\r\n\r\nHere&#39;s my problematic code:\r\n\r\nNotification.java (its a service like the documentation asks)\r\n\r\n    public class Notification extends FirebaseMessagingService {\r\n    public Notification() {\r\n    }\r\n    @Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        showNotification(remoteMessage.getData().get(&quot;message&quot;));\r\n\r\n        Log.d(&quot;FMC&quot;, &quot;Message Notification Body: &quot; + remoteMessage.getNotification().getBody());\r\n    }\r\n\r\n    private void showNotification(String message) {\r\n        Intent i=new Intent(this, SplashScreen.class);\r\n        i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n\r\n        PendingIntent pendingIntent=PendingIntent.getActivity(this,0,i,PendingIntent.FLAG_UPDATE_CURRENT);\r\n        NotificationCompat.Builder builder=new NotificationCompat.Builder(this)\r\n                .setAutoCancel(true)\r\n                .setContentTitle(&quot;FCM TITLE&quot;).setContentText(message)\r\n                .setSmallIcon(R.drawable.pt_icon)\r\n                .setDefaults(android.app.Notification.DEFAULT_ALL)\r\n                .setContentIntent(pendingIntent);\r\n\r\n        NotificationManager notificationManager= (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\n        notificationManager.notify(0,builder.build());\r\n    }\r\n    }\r\n\r\n&gt; Notice I do not even get a log in the notification.java above.\r\n\r\n\r\n**Project.gradle**\r\n\r\n    buildscript {\r\n    repositories {\r\n        jcenter()\r\n        maven {\r\n            url &#39;https://maven.google.com/&#39;\r\n            name &#39;Google&#39;\r\n        }\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.0.1&#39;\r\n        classpath &#39;com.google.gms:google-services:3.2.0&#39;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n    }\r\n\r\n    allprojects {\r\n    repositories {\r\n        jcenter()\r\n\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n        maven { url &#39;https://maven.google.com&#39; }\r\n        google()\r\n    }\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n    }\r\n\r\n**app.gradle**\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n    compileSdkVersion 26\r\n\r\n    defaultConfig {\r\n        \r\n        minSdkVersion 16\r\n        targetSdkVersion 26\r\n        versionCode 16\r\n        versionName &quot;2.6&quot;\r\n    }\r\n    dexOptions {\r\n        jumboMode = true\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    //Code below is added to fix random error (&quot;Fix the issues identified by lint&quot;)\r\n    lintOptions {\r\n        abortOnError false\r\n    }\r\n    productFlavors {\r\n    }\r\n    }\r\n\r\n    dependencies {\r\n    compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    //compile project(path: &#39;:backend&#39;, configuration: &#39;android-endpoints&#39;)\r\n    //Removed the 0.2.+\r\n    compile &#39;com.daprlabs.aaron:cardstack:0.3.1-beta0&#39;\r\n    //noinspection GradleCompatible\r\n    compile &#39;com.android.support:appcompat-v7:25.4.0&#39;\r\n    compile &quot;com.android.support:appcompat-v7:19.0.+&quot;\r\n    compile &#39;com.android.support:design:23.4.0&#39;\r\n    compile &#39;com.android.support:recyclerview-v7:23.4.0&#39;\r\n    compile &#39;com.android.support:cardview-v7:23.4.0&#39;\r\n\r\n    compile &#39;com.github.danylovolokh:video-player-manager:0.2.0&#39;\r\n    compile &#39;com.github.danylovolokh:list-visibility-utils:0.2.0&#39;\r\n\r\n\r\n\r\n    implementation &#39;com.android.support:appcompat-v7:26.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:11.8.0&#39;\r\n    compile &#39;com.google.firebase:firebase-core:11.8.0&#39;\r\n\r\n\r\n    compile &#39;com.orhanobut:dialogplus:1.11@aar&#39;\r\n\r\n\r\n    compile &#39;com.nineoldandroids:library:2.4.0&#39;\r\n    compile files(&#39;libs/sinch-android-rtc-3.9.14.jar&#39;)\r\n    compile &#39;com.amazonaws:aws-android-sdk-s3:2.4.4&#39;\r\n    compile &#39;com.github.chrisbanes:PhotoView:1.2.6&#39;\r\n    compile &#39;com.davemorrissey.labs:subsampling-scale-image-view:3.5.0&#39;\r\n    compile &#39;com.github.amlcurran.showcaseview:library:5.4.3&#39;\r\n    compile &#39;com.github.d-max:spots-dialog:0.7@aar&#39;\r\n    compile &#39;com.victor:lib:1.0.4&#39;\r\n    compile &#39;com.github.bumptech.glide:glide:3.5.2&#39;\r\n    compile &#39;com.squareup.picasso:picasso:2.5.2&#39;\r\n    compile &#39;com.android.support:recyclerview-v7:23.0.0&#39;\r\n    compile &#39;me.grantland:autofittextview:0.2.0&#39;\r\n    compile &#39;com.wang.avi:library:1.0.5&#39;\r\n    compile &#39;com.nineoldandroids:library:2.4.0&#39;\r\n    compile &#39;com.braintreepayments.api:drop-in:2.3.8&#39;\r\n    compile &#39;com.braintreepayments.api:braintree:2.3.9&#39;\r\n    compile &#39;com.loopj.android:android-async-http:1.4.9&#39;\r\n    compile &#39;com.getbase:floatingactionbutton:1.10.1&#39;\r\n    compile &#39;com.mxn.soul:flowingdrawer-core:1.2.2&#39;\r\n    compile &#39;com.github.rengwuxian:MaterialEditText:2.1.4&#39;\r\n    compile &#39;com.github.PhilJay:MPAndroidChart:v3.0.1&#39;\r\n    compile &#39;net.gotev:uploadservice:3.2.5&#39;\r\n    compile &#39;in.srain.cube:ultra-ptr:1.0.11&#39;\r\n    compile &#39;com.android.support.constraint:constraint-layout:1.0.0-alpha9&#39;\r\n    testCompile &#39;junit:junit:4.12&#39;\r\n    //implementation &#39;com.android.support:appcompat-v4:23.+&#39;\r\n    }\r\n\r\n\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n**AndroidManifest.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.microphone&quot;\r\n        android:required=&quot;false&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;!--\r\n    so the app can be found on tablets Google Play\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n    --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n    &lt;!-- &lt;uses-permission android:name=&quot;com.google.android.c2dm.permission.RECEIVE&quot;/&gt; --&gt;\r\n    &lt;!-- &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt; --&gt;\r\n    &lt;!-- &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt; --&gt;\r\n\r\n    &lt;grant-uri-permission\r\n        android:path=&quot;string&quot;\r\n        android:pathPattern=&quot;string&quot;\r\n        android:pathPrefix=&quot;string&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/_icon&quot;\r\n        android:label=&quot;&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;\r\n        tools:node=&quot;replace&quot;&gt;\r\n        &lt;activity android:name=&quot;.SplashScreen&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;service android:name=&quot;.Notification&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n        &lt;!-- &amp;lt;!&amp;ndash; --&gt;\r\n        &lt;!-- Set custom default icon. This is used when no icon is set for incoming notification messages. --&gt;\r\n        &lt;!-- See README() for more. --&gt;\r\n        &lt;!-- &amp;ndash;&amp;gt; --&gt;\r\n        &lt;!-- &lt;meta-data --&gt;\r\n        &lt;!-- android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot; --&gt;\r\n        &lt;!-- android:resource=&quot;@drawable/pt_icon&quot; /&gt; --&gt;\r\n        &lt;!-- &amp;lt;!&amp;ndash; --&gt;\r\n        &lt;!-- Set color used with incoming notification messages. This is used when no color is set for the incoming --&gt;\r\n        &lt;!-- notification message. See README() for more. --&gt;\r\n        &lt;!-- &amp;ndash;&amp;gt; --&gt;\r\n        &lt;!-- &lt;meta-data --&gt;\r\n        &lt;!-- android:name=&quot;com.google.firebase.messaging.default_notification_color&quot; --&gt;\r\n        &lt;!-- android:resource=&quot;@color/colorAccent&quot; /&gt; --&gt;\r\n\r\n        &lt;activity android:name=&quot;.SignInForm&quot; /&gt;\r\n        &lt;activity android:name=&quot;.SignUpPage&quot; /&gt;\r\n        &lt;activity android:name=&quot;.SellerFillOutForm&quot; /&gt;\r\n        &lt;activity android:name=&quot;.BuyerFillOutForm&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.BuyerHomePage&quot;\r\n            android:label=&quot;@string/title_activity_buyer_home_page&quot; /&gt;\r\n\r\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\r\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\r\n        &lt;data android:scheme=&quot;http&quot; /&gt;\r\n\r\n        &lt;activity android:name=&quot;.VideoPlayerActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;.BackgroundTask&quot; /&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;com.amazonaws.mobileconnectors.s3.transferutility.TransferService&quot;\r\n            android:enabled=&quot;true&quot; /&gt;\r\n\r\n        &lt;activity android:name=&quot;.EnterCreditCard&quot; /&gt;\r\n        &lt;activity android:name=&quot;.PickMeeting&quot; /&gt;\r\n        &lt;activity android:name=&quot;.HowBillingWorks&quot; /&gt;\r\n        &lt;activity android:name=&quot;.ReBillingPlan&quot; /&gt;\r\n        &lt;activity android:name=&quot;.PayBill&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Buyer_Home_Page&quot;\r\n            android:configChanges=&quot;locale|orientation&quot; /&gt;\r\n        &lt;activity android:name=&quot;.Seller_Home_Page&quot; /&gt;\r\n        &lt;activity android:name=&quot;.ProductList&quot; /&gt;\r\n        &lt;activity android:name=&quot;.EditProduct&quot; /&gt;\r\n        &lt;activity android:name=&quot;.EditSellerAccount&quot; /&gt;\r\n        &lt;activity android:name=&quot;.EditBuyerAccount&quot; /&gt;\r\n        &lt;activity android:name=&quot;.Video_Calling.incomingVideoCall&quot; /&gt;\r\n        &lt;activity android:name=&quot;.Video_Calling.CallScreenActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;.SellerAnalytics&quot; /&gt;\r\n        &lt;activity android:name=&quot;.Swipe_Layout.SwipeLayout&quot; /&gt;\r\n        &lt;activity android:name=&quot;.Swipe_Layout.PopUpActivity&quot; /&gt;\r\n    &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;\r\n\r\n&gt; **Working code below (the app I made just to test my steps and works 100%):**\r\n\r\n**Notifaction.java**\r\n\r\n    import android.app.Notification;\r\n    import android.app.NotificationManager;\r\n    import android.app.PendingIntent;\r\n    import android.app.Service;\r\n    import android.content.Intent;\r\n    import android.os.IBinder;\r\n    import android.support.v4.app.NotificationCompat;\r\n    import android.util.Log;\r\n\r\n    import com.google.firebase.messaging.FirebaseMessagingService;\r\n    import com.google.firebase.messaging.RemoteMessage;\r\n\r\n    import static android.content.ContentValues.TAG;\r\n\r\n    public class Notifaction extends FirebaseMessagingService {\r\n    public Notifaction() {\r\n    }\r\n    @Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        showNotification(remoteMessage.getData().get(&quot;message&quot;));\r\n    }\r\n\r\n    private void showNotification(String message) {\r\n        Intent i=new Intent(this,MainActivity.class);\r\n        i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n\r\n        PendingIntent pendingIntent=PendingIntent.getActivity(this,0,i,PendingIntent.FLAG_UPDATE_CURRENT);\r\n        NotificationCompat.Builder builder=new NotificationCompat.Builder(this)\r\n                .setAutoCancel(true)\r\n                .setContentTitle(&quot;FCM TITLE&quot;).setContentText(message)\r\n                .setSmallIcon(R.drawable.ic_launcher_background)\r\n                .setDefaults(Notification.DEFAULT_ALL)\r\n                .setContentIntent(pendingIntent);\r\n\r\n        NotificationManager notificationManager= (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\r\n        notificationManager.notify(0,builder.build());\r\n    }\r\n    }\r\n\r\n**AndroidManiest.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;&quot;&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;service\r\n            android:name=&quot;.Notifaction&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action \r\n    android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n    &lt;/manifest&gt;\r\n\r\n**app.gradle**\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n    compileSdkVersion 26\r\n    defaultConfig {\r\n        applicationId &quot;&quot;\r\n        minSdkVersion 14\r\n        targetSdkVersion 26\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    }\r\n\r\n    dependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;com.android.support:appcompat-v7:26.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:11.8.0&#39;\r\n    compile &#39;com.google.firebase:firebase-core:11.8.0&#39;\r\n    implementation &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.1&#39;\r\n    androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.1&#39;\r\n    }\r\n\r\n\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n\r\n**Project.grdle**\r\n    \r\n        // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\n    buildscript {\r\n    \r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.0.1&#39;\r\n        classpath &#39;com.google.gms:google-services:3.2.0&#39;\r\n\r\n        // NOTE: Do not place your application dependencies here; they \r\n    belong\r\n        // in the individual module build.gradle files\r\n    }\r\n    }\r\n\r\n    allprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n    }\r\n\r\n\r\nAlso, I added the .json file to both projects. Here is a screenshot:\r\n[![link][7]][7].\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=mz4VcuR0-qA\r\n  [2]: https://firebase.google.com/docs/cloud-messaging/android/first-message\r\n  [3]: https://firebase.google.com/docs/cloud-messaging/android/receive\r\n  [4]: http://android%20-%20FireBase%20Cloud%20Messaging%20Not%20Working%20-%20Stack%20Overflow\r\n  [5]: http://android%20-%20Firebase%20cloud%20messaging%20notification%20not%20received%20by%20...\r\n  [6]: http://Firebase%20notification%20not%20working%20on%20Android%20VIRTUAL%20devices%20...\r\n  [7]: https://i.stack.imgur.com/tVOwE.png","title":"Firebase Cloud Messaging - onMessageReceived not working","body":"<p>I want to make a simple notification feature in my app. I followed <a href=\"https://www.youtube.com/watch?v=mz4VcuR0-qA\" rel=\"nofollow noreferrer\">this</a> YouTube video and both of these Firebase documentation URLs <a href=\"https://firebase.google.com/docs/cloud-messaging/android/first-message\" rel=\"nofollow noreferrer\">1</a> and <a href=\"https://firebase.google.com/docs/cloud-messaging/android/receive\" rel=\"nofollow noreferrer\">2</a> plus the Firebase tool assistant in Android Studio (which says I'm connected to Firebase). For some reason, following these steps and documents on my older app (which code is posted below), it won't allow me to receive notifications. However, if I follow the same steps on a brand new app it works perfectly. I tested both apps on the same physical device and environment in the background, active and terminated states. Every time the new demo app I created works with no issue but my older app which I want notifications in does not work. Both tested without getting the device ID. I do not even get any error logs or any TAG log. I think one of my compiled projects is interfering, not sure exactly what but I might have to look there.</p>\n\n<p>I also checked out all these SO posts already: <a href=\"http://android%20-%20FireBase%20Cloud%20Messaging%20Not%20Working%20-%20Stack%20Overflow\" rel=\"nofollow noreferrer\">1</a><a href=\"http://android%20-%20Firebase%20cloud%20messaging%20notification%20not%20received%20by%20...\" rel=\"nofollow noreferrer\">2</a><a href=\"http://Firebase%20notification%20not%20working%20on%20Android%20VIRTUAL%20devices%20...\" rel=\"nofollow noreferrer\">3</a> and more</p>\n\n<p>PS. I removed my package name below, I checked multiple times on FireBase and they match so I know that is not the issue. However, my new demo app's FireBase shows that my app connected but my older app's FireBase did not. Also, I've set a bounty before and still running into the same issue.</p>\n\n<p>Here's my problematic code:</p>\n\n<p>Notification.java (its a service like the documentation asks)</p>\n\n<pre><code>public class Notification extends FirebaseMessagingService {\npublic Notification() {\n}\n@Override\npublic void onMessageReceived(RemoteMessage remoteMessage) {\n    showNotification(remoteMessage.getData().get(\"message\"));\n\n    Log.d(\"FMC\", \"Message Notification Body: \" + remoteMessage.getNotification().getBody());\n}\n\nprivate void showNotification(String message) {\n    Intent i=new Intent(this, SplashScreen.class);\n    i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n\n    PendingIntent pendingIntent=PendingIntent.getActivity(this,0,i,PendingIntent.FLAG_UPDATE_CURRENT);\n    NotificationCompat.Builder builder=new NotificationCompat.Builder(this)\n            .setAutoCancel(true)\n            .setContentTitle(\"FCM TITLE\").setContentText(message)\n            .setSmallIcon(R.drawable.pt_icon)\n            .setDefaults(android.app.Notification.DEFAULT_ALL)\n            .setContentIntent(pendingIntent);\n\n    NotificationManager notificationManager= (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n    notificationManager.notify(0,builder.build());\n}\n}\n</code></pre>\n\n<blockquote>\n  <p>Notice I do not even get a log in the notification.java above.</p>\n</blockquote>\n\n<p><strong>Project.gradle</strong></p>\n\n<pre><code>buildscript {\nrepositories {\n    jcenter()\n    maven {\n        url 'https://maven.google.com/'\n        name 'Google'\n    }\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.0.1'\n    classpath 'com.google.gms:google-services:3.2.0'\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n}\n\nallprojects {\nrepositories {\n    jcenter()\n\n    maven { url \"https://jitpack.io\" }\n    maven { url 'https://maven.google.com' }\n    google()\n}\n}\n\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n}\n</code></pre>\n\n<p><strong>app.gradle</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\ncompileSdkVersion 26\n\ndefaultConfig {\n\n    minSdkVersion 16\n    targetSdkVersion 26\n    versionCode 16\n    versionName \"2.6\"\n}\ndexOptions {\n    jumboMode = true\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n//Code below is added to fix random error (\"Fix the issues identified by lint\")\nlintOptions {\n    abortOnError false\n}\nproductFlavors {\n}\n}\n\ndependencies {\ncompile fileTree(include: ['*.jar'], dir: 'libs')\n//compile project(path: ':backend', configuration: 'android-endpoints')\n//Removed the 0.2.+\ncompile 'com.daprlabs.aaron:cardstack:0.3.1-beta0'\n//noinspection GradleCompatible\ncompile 'com.android.support:appcompat-v7:25.4.0'\ncompile \"com.android.support:appcompat-v7:19.0.+\"\ncompile 'com.android.support:design:23.4.0'\ncompile 'com.android.support:recyclerview-v7:23.4.0'\ncompile 'com.android.support:cardview-v7:23.4.0'\n\ncompile 'com.github.danylovolokh:video-player-manager:0.2.0'\ncompile 'com.github.danylovolokh:list-visibility-utils:0.2.0'\n\n\n\nimplementation 'com.android.support:appcompat-v7:26.1.0'\nimplementation 'com.google.firebase:firebase-messaging:11.8.0'\ncompile 'com.google.firebase:firebase-core:11.8.0'\n\n\ncompile 'com.orhanobut:dialogplus:1.11@aar'\n\n\ncompile 'com.nineoldandroids:library:2.4.0'\ncompile files('libs/sinch-android-rtc-3.9.14.jar')\ncompile 'com.amazonaws:aws-android-sdk-s3:2.4.4'\ncompile 'com.github.chrisbanes:PhotoView:1.2.6'\ncompile 'com.davemorrissey.labs:subsampling-scale-image-view:3.5.0'\ncompile 'com.github.amlcurran.showcaseview:library:5.4.3'\ncompile 'com.github.d-max:spots-dialog:0.7@aar'\ncompile 'com.victor:lib:1.0.4'\ncompile 'com.github.bumptech.glide:glide:3.5.2'\ncompile 'com.squareup.picasso:picasso:2.5.2'\ncompile 'com.android.support:recyclerview-v7:23.0.0'\ncompile 'me.grantland:autofittextview:0.2.0'\ncompile 'com.wang.avi:library:1.0.5'\ncompile 'com.nineoldandroids:library:2.4.0'\ncompile 'com.braintreepayments.api:drop-in:2.3.8'\ncompile 'com.braintreepayments.api:braintree:2.3.9'\ncompile 'com.loopj.android:android-async-http:1.4.9'\ncompile 'com.getbase:floatingactionbutton:1.10.1'\ncompile 'com.mxn.soul:flowingdrawer-core:1.2.2'\ncompile 'com.github.rengwuxian:MaterialEditText:2.1.4'\ncompile 'com.github.PhilJay:MPAndroidChart:v3.0.1'\ncompile 'net.gotev:uploadservice:3.2.5'\ncompile 'in.srain.cube:ultra-ptr:1.0.11'\ncompile 'com.android.support.constraint:constraint-layout:1.0.0-alpha9'\ntestCompile 'junit:junit:4.12'\n//implementation 'com.android.support:appcompat-v4:23.+'\n}\n\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p><strong>AndroidManifest.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n&lt;uses-feature\n    android:name=\"android.hardware.microphone\"\n    android:required=\"false\" /&gt;\n\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;!--\nso the app can be found on tablets Google Play\n\n&lt;uses-permission android:name=\"android.permission.CALL_PHONE\" /&gt;\n--&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.RECORD_AUDIO\" /&gt;\n&lt;uses-permission android:name=\"android.permission.MODIFY_AUDIO_SETTINGS\" /&gt;\n&lt;!-- &lt;uses-permission android:name=\"com.google.android.c2dm.permission.RECEIVE\"/&gt; --&gt;\n&lt;!-- &lt;uses-permission android:name=\"android.permission.WAKE_LOCK\" /&gt; --&gt;\n&lt;!-- &lt;uses-permission android:name=\"android.permission.READ_PHONE_STATE\" /&gt; --&gt;\n\n&lt;grant-uri-permission\n    android:path=\"string\"\n    android:pathPattern=\"string\"\n    android:pathPrefix=\"string\" /&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/_icon\"\n    android:label=\"\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/Theme.AppCompat.Light.NoActionBar\"\n    tools:node=\"replace\"&gt;\n    &lt;activity android:name=\".SplashScreen\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;service android:name=\".Notification\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.google.firebase.MESSAGING_EVENT\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n\n    &lt;!-- &amp;lt;!&amp;ndash; --&gt;\n    &lt;!-- Set custom default icon. This is used when no icon is set for incoming notification messages. --&gt;\n    &lt;!-- See README() for more. --&gt;\n    &lt;!-- &amp;ndash;&amp;gt; --&gt;\n    &lt;!-- &lt;meta-data --&gt;\n    &lt;!-- android:name=\"com.google.firebase.messaging.default_notification_icon\" --&gt;\n    &lt;!-- android:resource=\"@drawable/pt_icon\" /&gt; --&gt;\n    &lt;!-- &amp;lt;!&amp;ndash; --&gt;\n    &lt;!-- Set color used with incoming notification messages. This is used when no color is set for the incoming --&gt;\n    &lt;!-- notification message. See README() for more. --&gt;\n    &lt;!-- &amp;ndash;&amp;gt; --&gt;\n    &lt;!-- &lt;meta-data --&gt;\n    &lt;!-- android:name=\"com.google.firebase.messaging.default_notification_color\" --&gt;\n    &lt;!-- android:resource=\"@color/colorAccent\" /&gt; --&gt;\n\n    &lt;activity android:name=\".SignInForm\" /&gt;\n    &lt;activity android:name=\".SignUpPage\" /&gt;\n    &lt;activity android:name=\".SellerFillOutForm\" /&gt;\n    &lt;activity android:name=\".BuyerFillOutForm\" /&gt;\n    &lt;activity\n        android:name=\".BuyerHomePage\"\n        android:label=\"@string/title_activity_buyer_home_page\" /&gt;\n\n    &lt;action android:name=\"android.intent.action.VIEW\" /&gt;\n\n    &lt;category android:name=\"android.intent.category.BROWSABLE\" /&gt;\n\n    &lt;data android:scheme=\"http\" /&gt;\n\n    &lt;activity android:name=\".VideoPlayerActivity\" /&gt;\n    &lt;activity android:name=\".BackgroundTask\" /&gt;\n\n    &lt;service\n        android:name=\"com.amazonaws.mobileconnectors.s3.transferutility.TransferService\"\n        android:enabled=\"true\" /&gt;\n\n    &lt;activity android:name=\".EnterCreditCard\" /&gt;\n    &lt;activity android:name=\".PickMeeting\" /&gt;\n    &lt;activity android:name=\".HowBillingWorks\" /&gt;\n    &lt;activity android:name=\".ReBillingPlan\" /&gt;\n    &lt;activity android:name=\".PayBill\" /&gt;\n    &lt;activity\n        android:name=\".Buyer_Home_Page\"\n        android:configChanges=\"locale|orientation\" /&gt;\n    &lt;activity android:name=\".Seller_Home_Page\" /&gt;\n    &lt;activity android:name=\".ProductList\" /&gt;\n    &lt;activity android:name=\".EditProduct\" /&gt;\n    &lt;activity android:name=\".EditSellerAccount\" /&gt;\n    &lt;activity android:name=\".EditBuyerAccount\" /&gt;\n    &lt;activity android:name=\".Video_Calling.incomingVideoCall\" /&gt;\n    &lt;activity android:name=\".Video_Calling.CallScreenActivity\" /&gt;\n    &lt;activity android:name=\".SellerAnalytics\" /&gt;\n    &lt;activity android:name=\".Swipe_Layout.SwipeLayout\" /&gt;\n    &lt;activity android:name=\".Swipe_Layout.PopUpActivity\" /&gt;\n&lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<blockquote>\n  <p><strong>Working code below (the app I made just to test my steps and works 100%):</strong></p>\n</blockquote>\n\n<p><strong>Notifaction.java</strong></p>\n\n<pre><code>import android.app.Notification;\nimport android.app.NotificationManager;\nimport android.app.PendingIntent;\nimport android.app.Service;\nimport android.content.Intent;\nimport android.os.IBinder;\nimport android.support.v4.app.NotificationCompat;\nimport android.util.Log;\n\nimport com.google.firebase.messaging.FirebaseMessagingService;\nimport com.google.firebase.messaging.RemoteMessage;\n\nimport static android.content.ContentValues.TAG;\n\npublic class Notifaction extends FirebaseMessagingService {\npublic Notifaction() {\n}\n@Override\npublic void onMessageReceived(RemoteMessage remoteMessage) {\n    showNotification(remoteMessage.getData().get(\"message\"));\n}\n\nprivate void showNotification(String message) {\n    Intent i=new Intent(this,MainActivity.class);\n    i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n\n    PendingIntent pendingIntent=PendingIntent.getActivity(this,0,i,PendingIntent.FLAG_UPDATE_CURRENT);\n    NotificationCompat.Builder builder=new NotificationCompat.Builder(this)\n            .setAutoCancel(true)\n            .setContentTitle(\"FCM TITLE\").setContentText(message)\n            .setSmallIcon(R.drawable.ic_launcher_background)\n            .setDefaults(Notification.DEFAULT_ALL)\n            .setContentIntent(pendingIntent);\n\n    NotificationManager notificationManager= (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n    notificationManager.notify(0,builder.build());\n}\n}\n</code></pre>\n\n<p><strong>AndroidManiest.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"\"&gt;\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity android:name=\".MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;service\n        android:name=\".Notifaction\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action \nandroid:name=\"com.google.firebase.MESSAGING_EVENT\"/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n\n&lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p><strong>app.gradle</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\ncompileSdkVersion 26\ndefaultConfig {\n    applicationId \"\"\n    minSdkVersion 14\n    targetSdkVersion 26\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n}\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'com.android.support:appcompat-v7:26.1.0'\nimplementation 'com.google.firebase:firebase-messaging:11.8.0'\ncompile 'com.google.firebase:firebase-core:11.8.0'\nimplementation 'com.android.support.constraint:constraint-layout:1.0.2'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:1.0.1'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n}\n\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p><strong>Project.grdle</strong></p>\n\n<pre><code>    // Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n\nrepositories {\n    google()\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.0.1'\n    classpath 'com.google.gms:google-services:3.2.0'\n\n    // NOTE: Do not place your application dependencies here; they \nbelong\n    // in the individual module build.gradle files\n}\n}\n\nallprojects {\nrepositories {\n    google()\n    jcenter()\n}\n}\n\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n}\n</code></pre>\n\n<p>Also, I added the .json file to both projects. Here is a screenshot:\n<a href=\"https://i.stack.imgur.com/tVOwE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tVOwE.png\" alt=\"link\"></a>.</p>\n"},{"tags":["java","spring","gradle","samba"],"owner":{"account_id":26889925,"reputation":21,"user_id":20468872,"display_name":"aleksandr1994"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698254926,"creation_date":1698254926,"question_id":77361718,"body_markdown":"I use a method that tries to get a list of files in a file directory through samba and count the number of them on the disk. The disk is 5 terabytes full. So the error comes out on the line diskShare.list(PATH) &quot;com.hierynomus.smbj.common.SMBRuntimeException: com.hierynomus.protocol.transport.TransportException: java.util.concurrent.ExecutionException: com.hierynomus.smbj.common.SMBRuntimeException: java.util.concurrent.TimeoutException: Timeout expired&quot;\r\n\r\nI use build.gradle  implementation &#39;com.hierynomus:smbj:0.12.2&#39;.\r\n\r\n    @Slf4j\r\n    @Service\r\n    public class SambaServiceImpl implements SambaService {\r\n\r\n    @Value(&quot;${samba.servername}&quot;)\r\n    private String SERVERNAME;\r\n\r\n    @Value(&quot;${samba.username}&quot;)\r\n    private String USERNAME;\r\n\r\n    @Value(&quot;${samba.password}&quot;)\r\n    private String PASSWORD;\r\n\r\n    @Value(&quot;${samba.domain}&quot;)\r\n    private String DOMAIN;\r\n\r\n    @Value(&quot;${samba.share}&quot;)\r\n    private String SHARE;\r\n\r\n    @Value(&quot;${samba.path}&quot;)\r\n    private String PATH;\r\n\r\n     public ResponseEntity&lt;String&gt; getConnectionTest() {\r\n        try (SMBClient client = new SMBClient();) {\r\n            AuthenticationContext auth = new AuthenticationContext(USERNAME, \r\n            PASSWORD.toCharArray(), DOMAIN);\r\n            try (Session session = client.connect(SERVERNAME).authenticate(auth)) {\r\n\r\n                try (DiskShare diskShare = (DiskShare) session.connectShare(SHARE)) {\r\n\r\n                    List&lt;FileIdBothDirectoryInformation&gt; files = diskShare.list(PATH);\r\n                    return new ResponseEntity&lt;&gt;(&quot;Size: &quot; + files.toString(), HttpStatus.OK);\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            log.error(e.getMessage(), e);\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT);\r\n        }\r\n    }\r\n}\r\n\r\nI tried to increase the any timeout:  \r\n\r\n       try (SMBClient client = new SMBClient(SmbConfig.builder().withReadTimeout(1000000000, \r\n      TimeUnit.SECONDS).build())) {..}\r\nbut the error is the same.\r\n\r\nplease tell me how to be in such a situation? there are a lot of files on the disk and how to output everything?\r\nI can choose one file by name, but that&#39;s not enough\r\n\r\n\r\n            FileInformation file =\r\n            diskShare.getFileInformation(PATH + &quot;53039.pdf&quot;);\r\n","title":"SMB2FileId{persistentHandle=28 1e 03 b7 00 00 00 00}","body":"<p>I use a method that tries to get a list of files in a file directory through samba and count the number of them on the disk. The disk is 5 terabytes full. So the error comes out on the line diskShare.list(PATH) &quot;com.hierynomus.smbj.common.SMBRuntimeException: com.hierynomus.protocol.transport.TransportException: java.util.concurrent.ExecutionException: com.hierynomus.smbj.common.SMBRuntimeException: java.util.concurrent.TimeoutException: Timeout expired&quot;</p>\n<p>I use build.gradle  implementation 'com.hierynomus:smbj:0.12.2'.</p>\n<pre><code>@Slf4j\n@Service\npublic class SambaServiceImpl implements SambaService {\n\n@Value(&quot;${samba.servername}&quot;)\nprivate String SERVERNAME;\n\n@Value(&quot;${samba.username}&quot;)\nprivate String USERNAME;\n\n@Value(&quot;${samba.password}&quot;)\nprivate String PASSWORD;\n\n@Value(&quot;${samba.domain}&quot;)\nprivate String DOMAIN;\n\n@Value(&quot;${samba.share}&quot;)\nprivate String SHARE;\n\n@Value(&quot;${samba.path}&quot;)\nprivate String PATH;\n\n public ResponseEntity&lt;String&gt; getConnectionTest() {\n    try (SMBClient client = new SMBClient();) {\n        AuthenticationContext auth = new AuthenticationContext(USERNAME, \n        PASSWORD.toCharArray(), DOMAIN);\n        try (Session session = client.connect(SERVERNAME).authenticate(auth)) {\n\n            try (DiskShare diskShare = (DiskShare) session.connectShare(SHARE)) {\n\n                List&lt;FileIdBothDirectoryInformation&gt; files = diskShare.list(PATH);\n                return new ResponseEntity&lt;&gt;(&quot;Size: &quot; + files.toString(), HttpStatus.OK);\n            }\n        }\n    } catch (IOException e) {\n        log.error(e.getMessage(), e);\n        return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>I tried to increase the any timeout:</p>\n<pre><code>   try (SMBClient client = new SMBClient(SmbConfig.builder().withReadTimeout(1000000000, \n  TimeUnit.SECONDS).build())) {..}\n</code></pre>\n<p>but the error is the same.</p>\n<p>please tell me how to be in such a situation? there are a lot of files on the disk and how to output everything?\nI can choose one file by name, but that's not enough</p>\n<pre><code>        FileInformation file =\n        diskShare.getFileInformation(PATH + &quot;53039.pdf&quot;);\n</code></pre>\n"},{"tags":["java","boolean","boolean-expression","boolean-operations"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":3,"creation_date":1698253173,"post_id":77361490,"comment_id":136382854,"body_markdown":"Questions in your title and description do not match.","body":"Questions in your title and description do not match."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":3,"creation_date":1698253199,"post_id":77361490,"comment_id":136382864,"body_markdown":"`43.3` is not a valid `long` value.","body":"<code>43.3</code> is not a valid <code>long</code> value."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1698253267,"post_id":77361490,"comment_id":136382875,"body_markdown":"@T.J.Crowder - Derived from &quot;*Which of the following **Java** statements are NOT syntactically correct?*&quot; in the question body.","body":"@T.J.Crowder - Derived from &quot;<i>Which of the following <b>Java</b> statements are NOT syntactically correct?</i>&quot; in the question body."},{"owner":{"account_id":52616,"reputation":1042991,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1698253298,"post_id":77361490,"comment_id":136382880,"body_markdown":"@PM77-1 - Well-derived. :-)","body":"@PM77-1 - Well-derived. :-)"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1698254427,"post_id":77361490,"comment_id":136383104,"body_markdown":"https://docs.oracle.com/javase/specs/jls/se11/html/jls-3.html#jls-3.10.1","body":"<a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-3.html#jls-3.10.1\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se11/html/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1698254324,"post_id":77361547,"comment_id":136383087,"body_markdown":"Sorry - did not see that you added it.","body":"Sorry - did not see that you added it."}],"tags":[],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1698253698,"creation_date":1698253251,"answer_id":77361547,"question_id":77361490,"body_markdown":"No `boolean xx = (43.3L == 3.333f)` isn&#39;t correct and the IDE refuses it.\r\n\r\nWith `43.3L` you ask to consider a decimal number (=&gt; a `float` or `double` in _Java_) as a `long` (the `L`).\r\n\r\nIf you remove the `L` the expression will evaluate.\r\n\r\nThe three others evaluate.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mRF5r.png","title":"How is boolean xx = (43.3L == 3.333f) syntactically correct","body":"<p>No <code>boolean xx = (43.3L == 3.333f)</code> isn't correct and the IDE refuses it.</p>\n<p>With <code>43.3L</code> you ask to consider a decimal number (=&gt; a <code>float</code> or <code>double</code> in <em>Java</em>) as a <code>long</code> (the <code>L</code>).</p>\n<p>If you remove the <code>L</code> the expression will evaluate.</p>\n<p>The three others evaluate.</p>\n<p><a href=\"https://i.stack.imgur.com/mRF5r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mRF5r.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29752982,"reputation":9,"user_id":22802465,"display_name":"Edward lucas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77361547,"answer_count":1,"score":-1,"last_activity_date":1698254708,"creation_date":1698252820,"question_id":77361490,"body_markdown":"I&#39;m have a problem with understanding this question about syntax it says the answer is\r\n\r\n`boolean xx = (43.3L == 3.333f);` \r\n\r\nbut i don&#39;t understand how it is\r\n\r\nWhich of the following Java statements are NOT syntactically correct?\r\n```\r\nboolean x = (0.600 == 3.3d);\r\nboolean bw = (false == true);\r\ndouble dd = 2.5d;\r\nboolean xx = (43.3L == 3.333f);\r\nString\\[\\] se =new String\\[6\\];\r\n```\r\n","title":"How is boolean xx = (43.3L == 3.333f) syntactically correct","body":"<p>I'm have a problem with understanding this question about syntax it says the answer is</p>\n<p><code>boolean xx = (43.3L == 3.333f);</code></p>\n<p>but i don't understand how it is</p>\n<p>Which of the following Java statements are NOT syntactically correct?</p>\n<pre><code>boolean x = (0.600 == 3.3d);\nboolean bw = (false == true);\ndouble dd = 2.5d;\nboolean xx = (43.3L == 3.333f);\nString\\[\\] se =new String\\[6\\];\n</code></pre>\n"},{"tags":["java","itext"],"owner":{"account_id":29751947,"reputation":1,"user_id":22801657,"display_name":"Mamut2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698254632,"creation_date":1698245264,"question_id":77360572,"body_markdown":"I have a problem with special polish characters like &quot;Ś Ą Ż Ć&quot; in html to pdf using iTextPDF html2pdf library. I checked and the file test.html is encoded in UTF-8.\r\nMy version:\r\n```\r\nimplementation group: &#39;com.itextpdf&#39;, name: &#39;html2pdf&#39;, version: &#39;5.0.1&#39;\r\n```\r\n\r\n\r\nMy code is: \r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        String baseUri = &quot;test.html&quot;;\r\n        String dest = &quot;output.pdf&quot;;\r\n\r\n        try {\r\n            FileInputStream htmlFile = new FileInputStream(baseUri);\r\n            byte[] html = htmlFile.readAllBytes();\r\n            createPdf(html, dest);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void createPdf(byte[] html, String dest) throws IOException {\r\n        ConverterProperties properties = new ConverterProperties();\r\n        FontProvider fontProvider = new DefaultFontProvider(false, true, true);\r\n        fontProvider.addFont(StandardFonts.TIMES_ROMAN, PdfEncodings.UTF8);\r\n        properties.setFontProvider(fontProvider);\r\n\r\n\r\n        PdfWriter writer = new PdfWriter(dest);\r\n        PdfDocument pdf = new PdfDocument(writer);\r\n        pdf.setDefaultPageSize(PageSize.A4);\r\n\r\n        Document document = HtmlConverter.convertToDocument(new ByteArrayInputStream(html), pdf, properties);\r\n\r\n        document.close();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\ntest.html:\r\n\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot; /&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div&gt;\r\n    &lt;div&gt;\r\n        Wiśniewski This is an example&lt;br /&gt;\r\n        Gżegż&#243;łka This is an example&lt;br /&gt;\r\n        Ząbek This is an example&lt;br /&gt;\r\n        &#196; (&#228;) - &#196; umlaut     &#214; (&#246;) - &#214; umlaut     &#220; (&#252;) - &#220; umlaut     &#223; (eszett) - Scharfes S This is an example&lt;br /&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\nbut a pdf result is:\r\n[PDF RESULT IMAGE](https://i.stack.imgur.com/b9Ov8.png)\r\n\r\nwhy? It is the problem with polish characters but for instance with German characters isn&#39;t.\r\nThank you in advance.\r\n\r\n**//EDIT**\r\n\r\n***IT WORKS!***\r\n\r\nI had to download a font with these special characters like Polish and many others. \r\n```\r\npackage org.example;\r\n\r\nimport com.itextpdf.html2pdf.ConverterProperties;\r\nimport com.itextpdf.html2pdf.HtmlConverter;\r\nimport com.itextpdf.io.font.FontProgram;\r\nimport com.itextpdf.io.font.FontProgramFactory;\r\nimport com.itextpdf.kernel.geom.PageSize;\r\nimport com.itextpdf.kernel.pdf.PdfDocument;\r\nimport com.itextpdf.kernel.pdf.PdfWriter;\r\nimport com.itextpdf.layout.Document;\r\nimport com.itextpdf.layout.font.FontProvider;\r\n\r\nimport java.io.*;\r\n\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        String baseUri = &quot;test.html&quot;;\r\n        String dest = &quot;output.pdf&quot;;\r\n\r\n        try {\r\n            FileInputStream htmlFile = new FileInputStream(baseUri);\r\n            byte[] html = htmlFile.readAllBytes();\r\n            createPdf(html, dest);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void createPdf(byte[] html, String dest) throws IOException {\r\n\r\n        ConverterProperties properties = new ConverterProperties();\r\n        FontProvider fontProvider = new FontProvider();\r\n        FontProgram fontProgram = FontProgramFactory.createFont(&quot;times.ttf&quot;);\r\n        fontProvider.addFont(fontProgram);\r\n        properties.setFontProvider(fontProvider);\r\n\r\n        PdfWriter writer = new PdfWriter(dest);\r\n        PdfDocument pdf = new PdfDocument(writer);\r\n        pdf.setDefaultPageSize(PageSize.A4);\r\n\r\n        Document document = HtmlConverter.convertToDocument(new ByteArrayInputStream(html), pdf, properties);\r\n\r\n        document.close();\r\n    }\r\n}\r\n```","title":"iTextPDF html2pdf problem with special characters","body":"<p>I have a problem with special polish characters like &quot;Ś Ą Ż Ć&quot; in html to pdf using iTextPDF html2pdf library. I checked and the file test.html is encoded in UTF-8.\nMy version:</p>\n<pre><code>implementation group: 'com.itextpdf', name: 'html2pdf', version: '5.0.1'\n</code></pre>\n<p>My code is:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n\n        String baseUri = &quot;test.html&quot;;\n        String dest = &quot;output.pdf&quot;;\n\n        try {\n            FileInputStream htmlFile = new FileInputStream(baseUri);\n            byte[] html = htmlFile.readAllBytes();\n            createPdf(html, dest);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void createPdf(byte[] html, String dest) throws IOException {\n        ConverterProperties properties = new ConverterProperties();\n        FontProvider fontProvider = new DefaultFontProvider(false, true, true);\n        fontProvider.addFont(StandardFonts.TIMES_ROMAN, PdfEncodings.UTF8);\n        properties.setFontProvider(fontProvider);\n\n\n        PdfWriter writer = new PdfWriter(dest);\n        PdfDocument pdf = new PdfDocument(writer);\n        pdf.setDefaultPageSize(PageSize.A4);\n\n        Document document = HtmlConverter.convertToDocument(new ByteArrayInputStream(html), pdf, properties);\n\n        document.close();\n    }\n}\n\n</code></pre>\n<p>test.html:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div&gt;\n    &lt;div&gt;\n        Wiśniewski This is an example&lt;br /&gt;\n        Gżegżółka This is an example&lt;br /&gt;\n        Ząbek This is an example&lt;br /&gt;\n        Ä (ä) - Ä umlaut     Ö (ö) - Ö umlaut     Ü (ü) - Ü umlaut     ß (eszett) - Scharfes S This is an example&lt;br /&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>but a pdf result is:\n<a href=\"https://i.stack.imgur.com/b9Ov8.png\" rel=\"nofollow noreferrer\">PDF RESULT IMAGE</a></p>\n<p>why? It is the problem with polish characters but for instance with German characters isn't.\nThank you in advance.</p>\n<p><strong>//EDIT</strong></p>\n<p><em><strong>IT WORKS!</strong></em></p>\n<p>I had to download a font with these special characters like Polish and many others.</p>\n<pre><code>package org.example;\n\nimport com.itextpdf.html2pdf.ConverterProperties;\nimport com.itextpdf.html2pdf.HtmlConverter;\nimport com.itextpdf.io.font.FontProgram;\nimport com.itextpdf.io.font.FontProgramFactory;\nimport com.itextpdf.kernel.geom.PageSize;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.layout.font.FontProvider;\n\nimport java.io.*;\n\n\npublic class Main {\n    public static void main(String[] args) {\n\n        String baseUri = &quot;test.html&quot;;\n        String dest = &quot;output.pdf&quot;;\n\n        try {\n            FileInputStream htmlFile = new FileInputStream(baseUri);\n            byte[] html = htmlFile.readAllBytes();\n            createPdf(html, dest);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void createPdf(byte[] html, String dest) throws IOException {\n\n        ConverterProperties properties = new ConverterProperties();\n        FontProvider fontProvider = new FontProvider();\n        FontProgram fontProgram = FontProgramFactory.createFont(&quot;times.ttf&quot;);\n        fontProvider.addFont(fontProgram);\n        properties.setFontProvider(fontProvider);\n\n        PdfWriter writer = new PdfWriter(dest);\n        PdfDocument pdf = new PdfDocument(writer);\n        pdf.setDefaultPageSize(PageSize.A4);\n\n        Document document = HtmlConverter.convertToDocument(new ByteArrayInputStream(html), pdf, properties);\n\n        document.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-camel","spring-camel"],"comments":[{"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"score":0,"creation_date":1525973208,"post_id":50275572,"comment_id":87573347,"body_markdown":"do you have a specific business case you need fileExist=Append in your first route and deleting it in the second route. I would suggest in first route fileExist=Override and use tempFileName=tmpFile_${file:name} so that a temp file is being written to. Or you can use use doneFileName option in first route and in the second route pick the file when the doneFileName exists.","body":"do you have a specific business case you need fileExist=Append in your first route and deleting it in the second route. I would suggest in first route fileExist=Override and use tempFileName=tmpFile_${file:name} so that a temp file is being written to. Or you can use use doneFileName option in first route and in the second route pick the file when the doneFileName exists."},{"owner":{"account_id":7063527,"reputation":471,"user_id":5407758,"accept_rate":0,"display_name":"bvyas"},"score":0,"creation_date":1525977305,"post_id":50275572,"comment_id":87575376,"body_markdown":"@Neeraj : I need fileExist=Append due to I am writing data in chucks of 999 and I am doing this because it&#39;s a very big file. I tried with tempFileName but it didn&#39;t work as Camel won&#39;t allow ( fileExist and tempFileName) to use both option at a time","body":"@Neeraj : I need fileExist=Append due to I am writing data in chucks of 999 and I am doing this because it&#39;s a very big file. I tried with tempFileName but it didn&#39;t work as Camel won&#39;t allow ( fileExist and tempFileName) to use both option at a time"},{"owner":{"account_id":4639149,"reputation":1881,"user_id":3759505,"accept_rate":67,"display_name":"hk6279"},"score":0,"creation_date":1526005987,"post_id":50275572,"comment_id":87584620,"body_markdown":"This question&#39;s requirement is pretty close to [this](https://stackoverflow.com/q/49762430/3759505)","body":"This question&#39;s requirement is pretty close to <a href=\"https://stackoverflow.com/q/49762430/3759505\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":10933061,"reputation":6811,"user_id":8035582,"accept_rate":100,"display_name":"burki"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526035181,"creation_date":1526035181,"answer_id":50290485,"question_id":50275572,"body_markdown":"You can use **done files**. If you configure them on the file consumer, it ignores all files until there is a done (or marker) file beside the real file. \r\n\r\nYou can also configure the file producer to create the done files.\r\n\r\nSee the [Camel Docs for File component](https://github.com/apache/camel/blob/master/camel-core/src/main/docs/file-component.adoc) and go done to the chapter `Using done files`.","title":"How to lock writing file so other consumer can&#39;t consume","body":"<p>You can use <strong>done files</strong>. If you configure them on the file consumer, it ignores all files until there is a done (or marker) file beside the real file. </p>\n\n<p>You can also configure the file producer to create the done files.</p>\n\n<p>See the <a href=\"https://github.com/apache/camel/blob/master/camel-core/src/main/docs/file-component.adoc\" rel=\"nofollow noreferrer\">Camel Docs for File component</a> and go done to the chapter <code>Using done files</code>.</p>\n"},{"tags":[],"owner":{"account_id":29745724,"reputation":56,"user_id":22796840,"display_name":"b4718"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698254409,"creation_date":1698254409,"answer_id":77361664,"question_id":50275572,"body_markdown":"You should configure the Camel route with appropriate options for file reading and writing. In particular, you need to set the **readLock** and **readLockTimeout** options for the file endpoint.\r\n\r\n     from(&quot;file:/input-directory&quot;)\r\n            .routeId(&quot;fileRoute&quot;)\r\n            .to(&quot;file:/output-directory?readLock=changed&amp;readLockTimeout=5000&quot;)\r\n            .log(&quot;File processed: ${file:name}&quot;)\r\n            .end();\r\n\r\n","title":"How to lock writing file so other consumer can&#39;t consume","body":"<p>You should configure the Camel route with appropriate options for file reading and writing. In particular, you need to set the <strong>readLock</strong> and <strong>readLockTimeout</strong> options for the file endpoint.</p>\n<pre><code> from(&quot;file:/input-directory&quot;)\n        .routeId(&quot;fileRoute&quot;)\n        .to(&quot;file:/output-directory?readLock=changed&amp;readLockTimeout=5000&quot;)\n        .log(&quot;File processed: ${file:name}&quot;)\n        .end();\n</code></pre>\n"}],"owner":{"account_id":7063527,"reputation":471,"user_id":5407758,"accept_rate":0,"display_name":"bvyas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77361664,"answer_count":2,"score":1,"last_activity_date":1698254409,"creation_date":1525963353,"question_id":50275572,"body_markdown":"I am working on replacing data  in file (it&#39;s big file of 400 MB) using camel\r\nand I am facing issue where other consumer pickup file even though file is in use (it&#39;s in writing mode).\r\n         \r\nIs there a way in Camel to lock file which is in writing mode so another consumer/route can&#39;t consume. It should consume once the writing is done. \r\nI tried with readLocks but no luck so far.\r\n        \r\n    from(&quot;file://A&quot;).split().tokenize(&quot;\\n&quot;, 999).streaming()\r\n    .log(&quot;Spliting::::::::::&quot;).unmarshal(csv).bean(&quot;transferDate&quot;, &quot;enrich&quot;)\r\n    .marshal(csv).to(&quot;file://B?fileExist=Append&quot;);\r\n        \r\n    from(&quot;file://B?delete=true&quot;).to(&quot;file://A&quot;); // this route pick up file even the first route haven&#39;t finished writing file completely\r\n    \r\n   \r\n\r\n  ","title":"How to lock writing file so other consumer can&#39;t consume","body":"<p>I am working on replacing data  in file (it's big file of 400 MB) using camel\nand I am facing issue where other consumer pickup file even though file is in use (it's in writing mode).</p>\n\n<p>Is there a way in Camel to lock file which is in writing mode so another consumer/route can't consume. It should consume once the writing is done. \nI tried with readLocks but no luck so far.</p>\n\n<pre><code>from(\"file://A\").split().tokenize(\"\\n\", 999).streaming()\n.log(\"Spliting::::::::::\").unmarshal(csv).bean(\"transferDate\", \"enrich\")\n.marshal(csv).to(\"file://B?fileExist=Append\");\n\nfrom(\"file://B?delete=true\").to(\"file://A\"); // this route pick up file even the first route haven't finished writing file completely\n</code></pre>\n"},{"tags":["java","algorithm","string","performance"],"comments":[{"owner":{"account_id":43728,"reputation":17290,"user_id":127947,"accept_rate":100,"display_name":"NomeN"},"score":8,"creation_date":1268501152,"post_id":2439141,"comment_id":2424635,"body_markdown":"These kind of questions have been stoned to death for C/C++. Especially The Art of Computer Programming by D. Knuth goes in to a lot of detail.","body":"These kind of questions have been stoned to death for C/C++. Especially The Art of Computer Programming by D. Knuth goes in to a lot of detail."},{"owner":{"account_id":35585,"reputation":7037,"user_id":100836,"accept_rate":100,"display_name":"Zaki"},"score":0,"creation_date":1268558734,"post_id":2439141,"comment_id":2427443,"body_markdown":"&quot;stoned to death&quot;, hahaha, i like that.","body":"&quot;stoned to death&quot;, hahaha, i like that."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1268560612,"post_id":2439141,"comment_id":2427514,"body_markdown":"Out of curiosity: does anyone know of a real use for this? I mean a place where there&#39;s a need for an *efficient* string reversing algorithm?","body":"Out of curiosity: does anyone know of a real use for this? I mean a place where there&#39;s a need for an <i>efficient</i> string reversing algorithm?"},{"owner":{"account_id":35585,"reputation":7037,"user_id":100836,"accept_rate":100,"display_name":"Zaki"},"score":23,"creation_date":1268565209,"post_id":2439141,"comment_id":2427690,"body_markdown":"@joachim sauer, interviews maybe.","body":"@joachim sauer, interviews maybe."},{"owner":{"account_id":11975,"reputation":1033912,"user_id":23354,"accept_rate":100,"display_name":"Marc Gravell"},"score":3,"creation_date":1268604308,"post_id":2439141,"comment_id":2430244,"body_markdown":"As an aside: note that reversing the sequence of code-points is not the same as reversing &quot;the string&quot;. For example, combining characters: if you just reverse the code-points then they end up combining against what was originally the *previous* character - so &quot;aĉe&quot; (if written with a combining character) could become &quot;ec&#226;&quot;.","body":"As an aside: note that reversing the sequence of code-points is not the same as reversing &quot;the string&quot;. For example, combining characters: if you just reverse the code-points then they end up combining against what was originally the <i>previous</i> character - so &quot;aĉe&quot; (if written with a combining character) could become &quot;ec&#226;&quot;."}],"answers":[{"comments":[{"owner":{"account_id":31908,"reputation":21538,"user_id":87979,"accept_rate":83,"display_name":"Tom"},"score":6,"creation_date":1268499933,"post_id":2439158,"comment_id":2424537,"body_markdown":"Prefer `StringBuilder` to `StringBuffer` if you do not need thread safety.","body":"Prefer <code>StringBuilder</code> to <code>StringBuffer</code> if you do not need thread safety."},{"owner":{"account_id":46932,"reputation":1933,"user_id":138862,"display_name":"Tedil"},"score":0,"creation_date":1268499989,"post_id":2439158,"comment_id":2424542,"body_markdown":"-1 for not respecting &quot;And please do not tell me to use some built in function in Java.&quot;. Sorry for that ;)\nI think Hultner would like to know the backgrounds / mechanics. However, the question should not be tagged java, I guess.","body":"-1 for not respecting &quot;And please do not tell me to use some built in function in Java.&quot;. Sorry for that ;) I think Hultner would like to know the backgrounds / mechanics. However, the question should not be tagged java, I guess."},{"owner":{"account_id":92166,"reputation":10550,"user_id":252704,"accept_rate":100,"display_name":"Pindatjuh"},"score":0,"creation_date":1268500182,"post_id":2439158,"comment_id":2424560,"body_markdown":"@Mark Byers I think Hultner should decide that. I think he really is interested, no matter if it&#39;s homework or not, how to do it. If it was homework, atleast he is interested, so does it matter to tag it or not?","body":"@Mark Byers I think Hultner should decide that. I think he really is interested, no matter if it&#39;s homework or not, how to do it. If it was homework, atleast he is interested, so does it matter to tag it or not?"},{"owner":{"account_id":60229,"reputation":28541,"user_id":179972,"accept_rate":86,"display_name":"John K"},"score":0,"creation_date":1268500778,"post_id":2439158,"comment_id":2424604,"body_markdown":"For those Googling they should consider answers here in context of the question.","body":"For those Googling they should consider answers here in context of the question."},{"owner":{"account_id":102334,"reputation":3710,"user_id":274752,"accept_rate":67,"display_name":"Hultner"},"score":1,"creation_date":1268501052,"post_id":2439158,"comment_id":2424627,"body_markdown":"In a way homework, our homework is to reverse a string using a stack however I feel like that is not the right or best way to do it therefore I want to learn the best way to actually do it. And that&#39;s the reason I&#39;m posting here, I want to learn. The Java assignments we do in school sometimes use extremely stupid ways to do stuff because everyone should understand it.","body":"In a way homework, our homework is to reverse a string using a stack however I feel like that is not the right or best way to do it therefore I want to learn the best way to actually do it. And that&#39;s the reason I&#39;m posting here, I want to learn. The Java assignments we do in school sometimes use extremely stupid ways to do stuff because everyone should understand it."},{"owner":{"account_id":24377,"reputation":818073,"user_id":61974,"display_name":"Mark Byers"},"score":0,"creation_date":1268502519,"post_id":2439158,"comment_id":2424739,"body_markdown":"@Hultner: You&#39;re right, that would be a poor way to do it. Using a stack would require boxing and unboxing of the characters.","body":"@Hultner: You&#39;re right, that would be a poor way to do it. Using a stack would require boxing and unboxing of the characters."},{"owner":{"account_id":103891,"reputation":17673,"user_id":278042,"accept_rate":51,"display_name":"jkff"},"score":1,"creation_date":1268510161,"post_id":2439158,"comment_id":2425232,"body_markdown":"Wow, I&#39;d have never thought of the surrogates! However, I&#39;ve also never needed to reverse a string in my professional life.","body":"Wow, I&#39;d have never thought of the surrogates! However, I&#39;ve also never needed to reverse a string in my professional life."}],"tags":[],"owner":{"account_id":24377,"reputation":818073,"user_id":61974,"display_name":"Mark Byers"},"comment_count":7,"down_vote_count":3,"up_vote_count":27,"is_accepted":false,"score":24,"last_activity_date":1268500180,"creation_date":1268499708,"answer_id":2439158,"question_id":2439141,"body_markdown":"You said you don&#39;t want to do it the easy way, but for those Googling you should use [StringBuilder.reverse](http://java.sun.com/j2se/1.5.0/docs/api/java/lang/StringBuilder.html#reverse%28%29):\r\n\r\n    String reversed = new StringBuilder(s).reverse().toString();\r\n\r\nIf you need to implement it yourself, then iterate over the characters in reverse order and append them to a StringBuilder. You have to be careful if there are (or can be) surrogate pairs, as these should not be reversed. The method shown above does this for you automatically, which is why you should use it if possible.\r\n","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<p>You said you don't want to do it the easy way, but for those Googling you should use <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/StringBuilder.html#reverse%28%29\" rel=\"noreferrer\">StringBuilder.reverse</a>:</p>\n\n<pre><code>String reversed = new StringBuilder(s).reverse().toString();\n</code></pre>\n\n<p>If you need to implement it yourself, then iterate over the characters in reverse order and append them to a StringBuilder. You have to be careful if there are (or can be) surrogate pairs, as these should not be reversed. The method shown above does this for you automatically, which is why you should use it if possible.</p>\n"},{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1404323145,"post_id":2439191,"comment_id":37997701,"body_markdown":"haha I coded the EXACT same thing before searching online :) +1","body":"haha I coded the EXACT same thing before searching online :) +1"},{"owner":{"account_id":242046,"reputation":4207,"user_id":513302,"accept_rate":75,"display_name":"Hafiz"},"score":0,"creation_date":1408579753,"post_id":2439191,"comment_id":39648033,"body_markdown":"It is simple and exact, don&#39;t know why other people answering it in so many different ways","body":"It is simple and exact, don&#39;t know why other people answering it in so many different ways"},{"owner":{"account_id":2158740,"reputation":5197,"user_id":1913389,"accept_rate":77,"display_name":"theGreenCabbage"},"score":0,"creation_date":1442520288,"post_id":2439191,"comment_id":53126583,"body_markdown":"Hi Simon. Do you mind explaining this solution to me?","body":"Hi Simon. Do you mind explaining this solution to me?"},{"owner":{"account_id":3983929,"reputation":2521,"user_id":3285138,"accept_rate":78,"display_name":"goelakash"},"score":3,"creation_date":1442654521,"post_id":2439191,"comment_id":53178678,"body_markdown":"@theGreenCabbage He is simply exchanging the last element with the first, and then the second last element with the second, and so on, until he reaches the middle element(s).","body":"@theGreenCabbage He is simply exchanging the last element with the first, and then the second last element with the second, and so on, until he reaches the middle element(s)."}],"tags":[],"owner":{"account_id":3284,"reputation":42459,"user_id":4728,"accept_rate":86,"display_name":"Simon Nickerson"},"comment_count":4,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1268500178,"creation_date":1268500178,"answer_id":2439191,"question_id":2439141,"body_markdown":"The following does not deal with UTF-16 surrogate pairs.\r\n\r\n\tpublic static String reverse(String orig)\r\n\t{\r\n\t\tchar[] s = orig.toCharArray();\r\n\t\tint n = s.length;\r\n\t\tint halfLength = n / 2;\r\n\t\tfor (int i=0; i&lt;halfLength; i++)\r\n\t\t{\r\n\t\t\tchar temp = s[i];\r\n\t\t\ts[i] = s[n-1-i];\r\n\t\t\ts[n-1-i] = temp;\r\n\t\t}\r\n\t\treturn new String(s);\r\n\t}","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<p>The following does not deal with UTF-16 surrogate pairs.</p>\n\n<pre><code>public static String reverse(String orig)\n{\n    char[] s = orig.toCharArray();\n    int n = s.length;\n    int halfLength = n / 2;\n    for (int i=0; i&lt;halfLength; i++)\n    {\n        char temp = s[i];\n        s[i] = s[n-1-i];\n        s[n-1-i] = temp;\n    }\n    return new String(s);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":31908,"reputation":21538,"user_id":87979,"accept_rate":83,"display_name":"Tom"},"score":0,"creation_date":1268500399,"post_id":2439198,"comment_id":2424573,"body_markdown":"By the way... when I say &quot;bet it does some stuff that you would have considered&quot;... I was talking about surrogate pairs :-). You can see it in the code.","body":"By the way... when I say &quot;bet it does some stuff that you would have considered&quot;... I was talking about surrogate pairs :-). You can see it in the code."},{"owner":{"account_id":24377,"reputation":818073,"user_id":61974,"display_name":"Mark Byers"},"score":2,"creation_date":1268500630,"post_id":2439198,"comment_id":2424594,"body_markdown":"+1 for link to source. One of the best ways to learn how to implement something is to see how it is done in the real world.","body":"+1 for link to source. One of the best ways to learn how to implement something is to see how it is done in the real world."},{"owner":{"account_id":60229,"reputation":28541,"user_id":179972,"accept_rate":86,"display_name":"John K"},"score":0,"creation_date":1268501027,"post_id":2439198,"comment_id":2424621,"body_markdown":"+1 for directly answering the question, being one of the few that&#39;s not on a tangent","body":"+1 for directly answering the question, being one of the few that&#39;s not on a tangent"},{"owner":{"account_id":31908,"reputation":21538,"user_id":87979,"accept_rate":83,"display_name":"Tom"},"score":1,"creation_date":1389819065,"post_id":2439198,"comment_id":31829631,"body_markdown":"Here&#39;s a link that works, but no easy way to link directly to that method: http://kickjava.com/src/java/lang/AbstractStringBuilder.java.htm","body":"Here&#39;s a link that works, but no easy way to link directly to that method: <a href=\"http://kickjava.com/src/java/lang/AbstractStringBuilder.java.htm\" rel=\"nofollow noreferrer\">kickjava.com/src/java/lang/AbstractStringBuilder.java.htm</a>"},{"owner":{"account_id":2120900,"reputation":14935,"user_id":1884158,"accept_rate":87,"display_name":"modulitos"},"score":0,"creation_date":1419329904,"post_id":2439198,"comment_id":43657624,"body_markdown":"A &quot;ctrl-f&quot; find on the above link for &#39;reverse&#39; takes me right to it. Thanks!","body":"A &quot;ctrl-f&quot; find on the above link for &#39;reverse&#39; takes me right to it. Thanks!"},{"owner":{"account_id":1114640,"reputation":759,"user_id":5496175,"display_name":"Muaaz salagar"},"score":0,"creation_date":1457058267,"post_id":2439198,"comment_id":59244889,"body_markdown":"can some one explain me about surrogate pairs? @Tom","body":"can some one explain me about surrogate pairs? @Tom"}],"tags":[],"owner":{"account_id":31908,"reputation":21538,"user_id":87979,"accept_rate":83,"display_name":"Tom"},"comment_count":6,"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1698254340,"creation_date":1268500301,"answer_id":2439198,"question_id":2439141,"body_markdown":"You say you want to know the most efficient way and you don&#39;t want to know some standard built-in way of doing this. Then I say to you: RTSL (read the source, luke):\r\n\r\nCheck out the source code for [AbstractStringBuilder#reverse][1], which gets called by `StringBuilder#reverse`. I bet it does some stuff that you would not have considered for a robust reverse operation.\r\n\r\n\r\n  [1]: http://www.docjar.com/html/api/java/lang/AbstractStringBuilder.java.html#1351","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<p>You say you want to know the most efficient way and you don't want to know some standard built-in way of doing this. Then I say to you: RTSL (read the source, luke):</p>\n<p>Check out the source code for <a href=\"http://www.docjar.com/html/api/java/lang/AbstractStringBuilder.java.html#1351\" rel=\"nofollow noreferrer\">AbstractStringBuilder#reverse</a>, which gets called by <code>StringBuilder#reverse</code>. I bet it does some stuff that you would not have considered for a robust reverse operation.</p>\n"},{"comments":[{"owner":{"account_id":3284,"reputation":42459,"user_id":4728,"accept_rate":86,"display_name":"Simon Nickerson"},"score":0,"creation_date":1268500586,"post_id":2439201,"comment_id":2424584,"body_markdown":"The `String` class does not have a `reverse()` method.\nAlso, your pseudo-code is wrong, as your arrays are sometimes 0-based and sometimes 1-based.","body":"The <code>String</code> class does not have a <code>reverse()</code> method. Also, your pseudo-code is wrong, as your arrays are sometimes 0-based and sometimes 1-based."},{"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"score":0,"creation_date":1268500832,"post_id":2439201,"comment_id":2424610,"body_markdown":"My bad, StringBUilder &amp; StringBuffer have a reverse, I&#39;ll change that. Java arrays are 0 based and the question is tagged Java.","body":"My bad, StringBUilder &amp; StringBuffer have a reverse, I&#39;ll change that. Java arrays are 0 based and the question is tagged Java."},{"owner":{"account_id":3284,"reputation":42459,"user_id":4728,"accept_rate":86,"display_name":"Simon Nickerson"},"score":0,"creation_date":1268500853,"post_id":2439201,"comment_id":2424612,"body_markdown":"No, still wrong. Now it will produce a string of length len-1. You want: `for (int n=0; n&lt;len; n++) { r[n] = c[len-n-1]; }`","body":"No, still wrong. Now it will produce a string of length len-1. You want: <code>for (int n=0; n&lt;len; n++) { r[n] = c[len-n-1]; }</code>"},{"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"score":0,"creation_date":1268501057,"post_id":2439201,"comment_id":2424628,"body_markdown":"This is correct imho, example: for a string of length 3 n=0,1,2 and copies chars at 3-0-1,3-1-1,3-2-1 which are 2,1,0","body":"This is correct imho, example: for a string of length 3 n=0,1,2 and copies chars at 3-0-1,3-1-1,3-2-1 which are 2,1,0"}],"tags":[],"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1268558062,"creation_date":1268500395,"answer_id":2439201,"question_id":2439141,"body_markdown":"The fastest way would be to use the `reverse()` method on the `StringBuilder` or `StringBuffer` classes :)\r\n\r\nIf you want to implement it yourself, you can get the character array, allocate a second character array and move the chars, in pseudo code this would be like:\r\n\r\n    String reverse(String str) {\r\n        char[] c = str.getCharArray\r\n        char[] r = new char[c.length];\r\n        int    end = c.length - 1\r\n\r\n        for (int n = 0; n &lt;= end; n++) {\r\n            r[n] = c[end - n];\r\n        }\r\n\r\n        return new String(r);\r\n    }\r\n\r\nYou could also run half the array length and swap the chars, the checks involved slow things down probably.\r\n","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<p>The fastest way would be to use the <code>reverse()</code> method on the <code>StringBuilder</code> or <code>StringBuffer</code> classes :)</p>\n\n<p>If you want to implement it yourself, you can get the character array, allocate a second character array and move the chars, in pseudo code this would be like:</p>\n\n<pre><code>String reverse(String str) {\n    char[] c = str.getCharArray\n    char[] r = new char[c.length];\n    int    end = c.length - 1\n\n    for (int n = 0; n &lt;= end; n++) {\n        r[n] = c[end - n];\n    }\n\n    return new String(r);\n}\n</code></pre>\n\n<p>You could also run half the array length and swap the chars, the checks involved slow things down probably.</p>\n"},{"tags":[],"owner":{"account_id":43728,"reputation":17290,"user_id":127947,"accept_rate":100,"display_name":"NomeN"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268500879,"creation_date":1268500879,"answer_id":2439228,"question_id":2439141,"body_markdown":"If you do not want to use any built in function, you need to go back with the string to its component parts: an array of chars.\r\n\r\nNow the question becomes what is the most efficient way to reverse an array? The answer to this question in practice also depends upon memory usage (for very large strings), but in theory efficiency in these cases is measured in array accesses.   \r\n\r\nThe easiest way is to create a new array and fill it with the values you encounter while reverse iterating over the original array, and returning the new array. (Although with a temporary variable you could also do this without an additional array, as in Simon Nickersons answer).\r\n\r\nIn this way you access each element exactly once for an array with n elements. Thus giving an efficiency of O(n). ","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<p>If you do not want to use any built in function, you need to go back with the string to its component parts: an array of chars.</p>\n\n<p>Now the question becomes what is the most efficient way to reverse an array? The answer to this question in practice also depends upon memory usage (for very large strings), but in theory efficiency in these cases is measured in array accesses.   </p>\n\n<p>The easiest way is to create a new array and fill it with the values you encounter while reverse iterating over the original array, and returning the new array. (Although with a temporary variable you could also do this without an additional array, as in Simon Nickersons answer).</p>\n\n<p>In this way you access each element exactly once for an array with n elements. Thus giving an efficiency of O(n). </p>\n"},{"tags":[],"owner":{"account_id":42964,"reputation":26240,"user_id":125382,"accept_rate":91,"display_name":"MAK"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1268604040,"creation_date":1268604040,"answer_id":2443945,"question_id":2439141,"body_markdown":"I&#39;m not really sure by what you mean when you say you need an *efficient* algorithm.\r\n\r\nThe ways of reversing a string that I can think of are (they are all already mentioned in other answers):\r\n\r\n1. Use a stack (your idea).\r\n\r\n2. Create a new reversed String by adding characters one by one in reverse order from the original String to a blank String/StringBuilder/char[].\r\n\r\n3. Exchange all characters in the first half of the String with its corresponding position in the last half (i.e. the ith character gets swapped with the (length-i-1)th character).\r\n\r\nThe thing is that all of them have the same *runtime complexity*: O(N). Thus it cannot really be argued that any one is any significantly better than the others for very large values of N (i.e. very large strings).\r\n\r\nThe third method does have one thing going for it, the other two require O(N) extra space (for the stack or the new String), while it can perform swaps in place. But Strings are immutable in Java so you need to perform swaps on a newly created StringBuilder/char[] anyway and thus end up needing O(N) extra space.","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<p>I'm not really sure by what you mean when you say you need an <em>efficient</em> algorithm.</p>\n\n<p>The ways of reversing a string that I can think of are (they are all already mentioned in other answers):</p>\n\n<ol>\n<li><p>Use a stack (your idea).</p></li>\n<li><p>Create a new reversed String by adding characters one by one in reverse order from the original String to a blank String/StringBuilder/char[].</p></li>\n<li><p>Exchange all characters in the first half of the String with its corresponding position in the last half (i.e. the ith character gets swapped with the (length-i-1)th character).</p></li>\n</ol>\n\n<p>The thing is that all of them have the same <em>runtime complexity</em>: O(N). Thus it cannot really be argued that any one is any significantly better than the others for very large values of N (i.e. very large strings).</p>\n\n<p>The third method does have one thing going for it, the other two require O(N) extra space (for the stack or the new String), while it can perform swaps in place. But Strings are immutable in Java so you need to perform swaps on a newly created StringBuilder/char[] anyway and thus end up needing O(N) extra space.</p>\n"},{"comments":[{"owner":{"account_id":102334,"reputation":3710,"user_id":274752,"accept_rate":67,"display_name":"Hultner"},"score":1,"creation_date":1284652974,"post_id":3723257,"comment_id":3937147,"body_markdown":"While I thank you for your answer it&#39;s been half a year since I wrote this questiont and the problem have since long been resolved but thanks for your answer.","body":"While I thank you for your answer it&#39;s been half a year since I wrote this questiont and the problem have since long been resolved but thanks for your answer."},{"owner":{"account_id":29386,"reputation":4325,"user_id":79379,"accept_rate":97,"display_name":"radu florescu"},"score":1,"creation_date":1355298806,"post_id":3723257,"comment_id":19041708,"body_markdown":"what about using the check to mark answers as the correct one to your other questions!","body":"what about using the check to mark answers as the correct one to your other questions!"}],"tags":[],"owner":{"account_id":803637,"reputation":31,"user_id":449046,"display_name":"abiolaaye"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1317405448,"creation_date":1284603356,"answer_id":3723257,"question_id":2439141,"body_markdown":"    public class ReverseInPlace {\r\n    \r\n      static char[]  str=null;\r\n        \r\n        public static void main(String s[]) {\r\n          if(s.length==0)\r\n            System.exit(-1);\r\n    \r\n           str=s[0].toCharArray();\r\n    \r\n           int begin=0;\r\n           int end=str.length-1;\r\n           \r\n           System.out.print(&quot;Original string=&quot;);\r\n           for(int i=0; i&lt;str.length; i++){\r\n             System.out.print(str[i]);\r\n           }\r\n           \r\n           while(begin&lt;end){\r\n              str[begin]= (char) (str[begin]^str[end]);\r\n              str[end]= (char)   (str[begin]^str[end]);\r\n              str[begin]= (char) (str[end]^str[begin]);\r\n    \r\n              begin++;\r\n              end--;       \r\n           }\r\n           \r\n           System.out.print(&quot;\\n&quot; + &quot;Reversed string=&quot;);\r\n           for(int i=0; i&lt;str.length; i++){\r\n             System.out.print(str[i]);\r\n           }\r\n                   \r\n        }\r\n    }","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<pre><code>public class ReverseInPlace {\n\n  static char[]  str=null;\n\n    public static void main(String s[]) {\n      if(s.length==0)\n        System.exit(-1);\n\n       str=s[0].toCharArray();\n\n       int begin=0;\n       int end=str.length-1;\n\n       System.out.print(\"Original string=\");\n       for(int i=0; i&lt;str.length; i++){\n         System.out.print(str[i]);\n       }\n\n       while(begin&lt;end){\n          str[begin]= (char) (str[begin]^str[end]);\n          str[end]= (char)   (str[begin]^str[end]);\n          str[begin]= (char) (str[end]^str[begin]);\n\n          begin++;\n          end--;       \n       }\n\n       System.out.print(\"\\n\" + \"Reversed string=\");\n       for(int i=0; i&lt;str.length; i++){\n         System.out.print(str[i]);\n       }\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10027852,"reputation":341,"user_id":7415499,"display_name":"Lokeshwar Tailor"},"score":1,"creation_date":1610990215,"post_id":15118712,"comment_id":116301688,"body_markdown":"although this is very old, I&#39;d like to share one point i.e. recursion would be considered a heavy operation in terms of storage, the bigger the string, the more memory consumption (I believe that would be stack memory) :)","body":"although this is very old, I&#39;d like to share one point i.e. recursion would be considered a heavy operation in terms of storage, the bigger the string, the more memory consumption (I believe that would be stack memory) :)"}],"tags":[],"owner":{"account_id":2424080,"reputation":99,"user_id":2116406,"display_name":"cocoper"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1361987036,"creation_date":1361987036,"answer_id":15118712,"question_id":2439141,"body_markdown":"An old post &amp; question, however still did not see answers pertaining to recursion. Recursive method reverse the given string s, without relaying on inbuilt jdk functions\r\n\r\n    \tpublic static String reverse(String s) {\r\n\t    if (s.length() &lt;= 1) {\r\n\t        return s;\r\n\t    }\r\n\t    return reverse(s.substring(1)) + s.charAt(0);\r\n\t}\r\n\r\n\r\n\r\n`","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<p>An old post &amp; question, however still did not see answers pertaining to recursion. Recursive method reverse the given string s, without relaying on inbuilt jdk functions</p>\n\n<pre><code>    public static String reverse(String s) {\n    if (s.length() &lt;= 1) {\n        return s;\n    }\n    return reverse(s.substring(1)) + s.charAt(0);\n}\n</code></pre>\n\n<p>`</p>\n"},{"comments":[{"owner":{"account_id":2396367,"reputation":12997,"user_id":2095090,"accept_rate":83,"display_name":"Vincent van der Weele"},"score":2,"creation_date":1374785334,"post_id":17868321,"comment_id":26090119,"body_markdown":"This question is over 3 years old and so is the accepted answer. The question was how to reverse a string *efficiently*. You code is effective, but *far from* efficient.","body":"This question is over 3 years old and so is the accepted answer. The question was how to reverse a string <i>efficiently</i>. You code is effective, but <i>far from</i> efficient."},{"owner":{"account_id":2414576,"reputation":827,"user_id":2108919,"accept_rate":100,"display_name":"omilke"},"score":0,"creation_date":1374786871,"post_id":17868321,"comment_id":26090887,"body_markdown":"@heuster: Though this actually means, that it is the perfect source of insight, at least if you explained, why it is not efficient.","body":"@heuster: Though this actually means, that it is the perfect source of insight, at least if you explained, why it is not efficient."},{"owner":{"account_id":2396367,"reputation":12997,"user_id":2095090,"accept_rate":83,"display_name":"Vincent van der Weele"},"score":2,"creation_date":1374822916,"post_id":17868321,"comment_id":26101015,"body_markdown":"@Olli fair enough. Strings in Java are *immutable*, so the line `reverse + abc.charAt(i)` creates a new string of length `i+1` (rather than appending the char to the existing string). Therefore, the loop creates `a` strings in total, of length `0, 1, ..., a-1`. In total, this approach hence needs `O(n^2)` additional memory. Time complexity can never be better than space complexity, so also the running time is `O(n^2)`. As seen in the answer of MAK, an &#39;efficient&#39; algorithm should have `O(n)` time complexity.","body":"@Olli fair enough. Strings in Java are <i>immutable</i>, so the line <code>reverse + abc.charAt(i)</code> creates a new string of length <code>i+1</code> (rather than appending the char to the existing string). Therefore, the loop creates <code>a</code> strings in total, of length <code>0, 1, ..., a-1</code>. In total, this approach hence needs <code>O(n^2)</code> additional memory. Time complexity can never be better than space complexity, so also the running time is <code>O(n^2)</code>. As seen in the answer of MAK, an &#39;efficient&#39; algorithm should have <code>O(n)</code> time complexity."},{"owner":{"account_id":2414576,"reputation":827,"user_id":2108919,"accept_rate":100,"display_name":"omilke"},"score":0,"creation_date":1374845684,"post_id":17868321,"comment_id":26114096,"body_markdown":"I think this now provides an idea to start with why it is inefficient that way, so everyone reviewing this will get chance have the insight. By the way, you are stating that time complexity cannot be lower than space complexity, which somehow feels intuitive. However, could you provide a link with more explanation or at least name that theorem for further research? This is quite interesting.","body":"I think this now provides an idea to start with why it is inefficient that way, so everyone reviewing this will get chance have the insight. By the way, you are stating that time complexity cannot be lower than space complexity, which somehow feels intuitive. However, could you provide a link with more explanation or at least name that theorem for further research? This is quite interesting."},{"owner":{"account_id":2396367,"reputation":12997,"user_id":2095090,"accept_rate":83,"display_name":"Vincent van der Weele"},"score":0,"creation_date":1374932079,"post_id":17868321,"comment_id":26142348,"body_markdown":"@Olli to be honest: I don&#39;t know. But the logic is quite simple: a computer can write to at most a constant number of memory units in a time unit. The size of that constant will depend on many parameters (the length of the time unit, clock frequency, bus width, memory latency, etc), but it has to be a constant. That implies that every memory operation takes *at least* a constant amount of time and hence the space complexity is at most the time complexity. I guess it not that easy to formally prove, though.","body":"@Olli to be honest: I don&#39;t know. But the logic is quite simple: a computer can write to at most a constant number of memory units in a time unit. The size of that constant will depend on many parameters (the length of the time unit, clock frequency, bus width, memory latency, etc), but it has to be a constant. That implies that every memory operation takes <i>at least</i> a constant amount of time and hence the space complexity is at most the time complexity. I guess it not that easy to formally prove, though."},{"owner":{"account_id":2414576,"reputation":827,"user_id":2108919,"accept_rate":100,"display_name":"omilke"},"score":1,"creation_date":1375181351,"post_id":17868321,"comment_id":26223066,"body_markdown":"@Heuster Thanks, this is what I also considered as the intuitive way of thinking. In fact, I did a little research and found this topic is quite obvious when reducing it to a Turing Machine. It is explained here http://stackoverflow.com/a/7137318/2108919.","body":"@Heuster Thanks, this is what I also considered as the intuitive way of thinking. In fact, I did a little research and found this topic is quite obvious when reducing it to a Turing Machine. It is explained here <a href=\"http://stackoverflow.com/a/7137318/2108919\">stackoverflow.com/a/7137318/2108919</a>."}],"tags":[],"owner":{"account_id":1410341,"reputation":527,"user_id":1337072,"accept_rate":57,"display_name":"jags"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375258728,"creation_date":1374784807,"answer_id":17868321,"question_id":2439141,"body_markdown":"Using String:     \r\n\r\n    String abc = &quot;abcd&quot;;\r\n    int a= abc.length();\r\n    \t\t\r\n    String reverse=&quot;&quot;;\r\n    \t\t\r\n    for (int i=a-1;i&gt;=0 ;i--)\r\n    {\r\n        reverse= reverse + abc.charAt(i);\r\n    }\r\n    System.out.println(&quot;Reverse of String abcd using invert array is :&quot;+reverse);\r\n\r\n\r\nUsing StringBuilder:\r\n\r\n        String abc = &quot;abcd&quot;;\r\n        int a= abc.length();\r\n        StringBuilder sb1 = new StringBuilder();\r\n\t\t\t\t\r\n\t\tfor (int i=a-1;i&gt;=0 ;i--)\r\n\t\t{\r\n\t\t\tsb1= sb1.append(abc.charAt(i));\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Reverse of String abcd using StringBuilder is :&quot;+sb1);\r\n\t","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<p>Using String:     </p>\n\n<pre><code>String abc = \"abcd\";\nint a= abc.length();\n\nString reverse=\"\";\n\nfor (int i=a-1;i&gt;=0 ;i--)\n{\n    reverse= reverse + abc.charAt(i);\n}\nSystem.out.println(\"Reverse of String abcd using invert array is :\"+reverse);\n</code></pre>\n\n<p>Using StringBuilder:</p>\n\n<pre><code>    String abc = \"abcd\";\n    int a= abc.length();\n    StringBuilder sb1 = new StringBuilder();\n\n    for (int i=a-1;i&gt;=0 ;i--)\n    {\n        sb1= sb1.append(abc.charAt(i));\n    }\n    System.out.println(\"Reverse of String abcd using StringBuilder is :\"+sb1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":785619,"reputation":2716,"user_id":857447,"display_name":"Naren"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376406554,"creation_date":1376406554,"answer_id":18212767,"question_id":2439141,"body_markdown":"One variant can be, swapping the elements. \r\n\r\n    int n = length - 1;\r\n    char []strArray = str.toCharArray();\r\n    for (int j = 0; j &lt; n; j++) {\r\n       char temp = strArray[j];\r\n       char temp2 = strArray[n];\r\n       strArray[j] = temp2;\r\n       strArray[n] = temp;\r\n       n--;\r\n      }","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<p>One variant can be, swapping the elements. </p>\n\n<pre><code>int n = length - 1;\nchar []strArray = str.toCharArray();\nfor (int j = 0; j &lt; n; j++) {\n   char temp = strArray[j];\n   char temp2 = strArray[n];\n   strArray[j] = temp2;\n   strArray[n] = temp;\n   n--;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376960694,"creation_date":1376960694,"answer_id":18325428,"question_id":2439141,"body_markdown":"\tpublic static void main(String[] args){\r\n\t\tString string =&quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n\t\tStringBuilder sb = new StringBuilder(string);\r\n\t\tsb.reverse();\r\n\t\t\r\n\t\tSystem.out.println(sb);\r\n\t}\r\n","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<pre><code>public static void main(String[] args){\n    String string =\"abcdefghijklmnopqrstuvwxyz\";\n    StringBuilder sb = new StringBuilder(string);\n    sb.reverse();\n\n    System.out.println(sb);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2707424,"reputation":4360,"user_id":2336725,"display_name":"Teepeemm"},"score":0,"creation_date":1426540473,"post_id":18724089,"comment_id":46406985,"body_markdown":"Appending to a string is usually a slow process.","body":"Appending to a string is usually a slow process."}],"tags":[],"owner":{"account_id":3286383,"reputation":11,"user_id":2765791,"display_name":"saad"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1378829857,"creation_date":1378829857,"answer_id":18724089,"question_id":2439141,"body_markdown":"    public static String Reverse(String word){\r\n    \t\tString temp = &quot;&quot;;\r\n    \t\tchar[] arr = word.toCharArray();\r\n    \t\tfor(int i = arr.length-1;i&gt;=0;i--){\r\n    \t\t\ttemp = temp+arr[i];\r\n    \t\t}\r\n    \t\treturn temp;\r\n    \t}","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<pre><code>public static String Reverse(String word){\n        String temp = \"\";\n        char[] arr = word.toCharArray();\n        for(int i = arr.length-1;i&gt;=0;i--){\n            temp = temp+arr[i];\n        }\n        return temp;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":102334,"reputation":3710,"user_id":274752,"accept_rate":67,"display_name":"Hultner"},"score":2,"creation_date":1379375511,"post_id":18727024,"comment_id":27793684,"body_markdown":"This was meant more as an scientific question then something for actual production code","body":"This was meant more as an scientific question then something for actual production code"}],"tags":[],"owner":{"account_id":2156100,"reputation":11279,"user_id":1911306,"accept_rate":83,"display_name":"Marcin Szymczak"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1378840292,"creation_date":1378840292,"answer_id":18727024,"question_id":2439141,"body_markdown":"I think that if you REALLY don&#39;t have performance problem you should just go with the most readable solution which is:\r\n\r\n    StringUtils.reverse(&quot;Hello World&quot;);","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<p>I think that if you REALLY don't have performance problem you should just go with the most readable solution which is:</p>\n\n<pre><code>StringUtils.reverse(\"Hello World\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1727809,"reputation":3553,"user_id":1664788,"accept_rate":21,"display_name":"Vivek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511004707,"creation_date":1421857202,"answer_id":28071960,"question_id":2439141,"body_markdown":"I would simply do it this way without a use of any single util function. Just the String class is sufficient.\r\n\r\n    public class MyStringUtil {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString reversedString = reverse(&quot;StringToReverse&quot;);\r\n    \t\tSystem.out.println(&quot;Reversed String : &quot; + reversedString);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Reverses the given string and returns reversed string\r\n    \t * \r\n    \t * @param s Input String\r\n    \t * @returns reversed string\r\n    \t */\r\n    \tprivate static String reverse(String s) {\r\n    \t\tchar[] charArray = s.toCharArray();\t// Returns the String&#39;s internal character array copy\r\n    \t\tint j = charArray.length - 1;\r\n    \t\tfor (int i = 0; charArray.length &gt; 0 &amp;&amp; i &lt; j; i++, j--) {\r\n    \t\t\tchar ch = charArray[i];\r\n    \t\t\tcharArray[i] = charArray[j];\r\n    \t\t\tcharArray[j] = ch;\r\n    \t\t}\r\n    \t\treturn charArray.toString();\r\n    \t}\r\n    }\r\n\r\nCheck it. Cheers!!","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<p>I would simply do it this way without a use of any single util function. Just the String class is sufficient.</p>\n\n<pre><code>public class MyStringUtil {\n\n    public static void main(String[] args) {\n        String reversedString = reverse(\"StringToReverse\");\n        System.out.println(\"Reversed String : \" + reversedString);\n    }\n\n    /**\n     * Reverses the given string and returns reversed string\n     * \n     * @param s Input String\n     * @returns reversed string\n     */\n    private static String reverse(String s) {\n        char[] charArray = s.toCharArray(); // Returns the String's internal character array copy\n        int j = charArray.length - 1;\n        for (int i = 0; charArray.length &gt; 0 &amp;&amp; i &lt; j; i++, j--) {\n            char ch = charArray[i];\n            charArray[i] = charArray[j];\n            charArray[j] = ch;\n        }\n        return charArray.toString();\n    }\n}\n</code></pre>\n\n<p>Check it. Cheers!!</p>\n"},{"comments":[{"owner":{"account_id":2707424,"reputation":4360,"user_id":2336725,"display_name":"Teepeemm"},"score":0,"creation_date":1426540725,"post_id":29086979,"comment_id":46407102,"body_markdown":"This question specifically is about Java, not C++, so `char*` should be `char[]` or `String`.  But more fundamentally, is using the XOR trick actually faster than just using a `temp` variable to switch two variables?","body":"This question specifically is about Java, not C++, so <code>char*</code> should be <code>char[]</code> or <code>String</code>.  But more fundamentally, is using the XOR trick actually faster than just using a <code>temp</code> variable to switch two variables?"},{"owner":{"account_id":5949765,"reputation":9,"user_id":4678196,"display_name":"Bhojal Gelda"},"score":0,"creation_date":1426541997,"post_id":29086979,"comment_id":46407728,"body_markdown":"Sorry for it to be posted in C++.\n\nXOR is practically speaking the fastest operation a CPU can possibly do, and the good part is that all CPU&#39;s support it. The reason for this is quite easy: a XOR gate can be created with only 4 NAND gates or 5 NOR gates -- which means it&#39;s easy to create using the fabric of your silicon. Unsurprising, all CPU&#39;s that I know of can execute your XOR operation in 1 clock tick (or even less).\n(Please note that this is something I read few days back on one of the posts and noted down for my reference. I do not have that link anymore though.)","body":"Sorry for it to be posted in C++.  XOR is practically speaking the fastest operation a CPU can possibly do, and the good part is that all CPU&#39;s support it. The reason for this is quite easy: a XOR gate can be created with only 4 NAND gates or 5 NOR gates -- which means it&#39;s easy to create using the fabric of your silicon. Unsurprising, all CPU&#39;s that I know of can execute your XOR operation in 1 clock tick (or even less). (Please note that this is something I read few days back on one of the posts and noted down for my reference. I do not have that link anymore though.)"},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1426563585,"post_id":29086979,"comment_id":46413990,"body_markdown":"What model of efficiency do you suggest, and how do the test results for this approach compare to previous ones, especially that from abiolaaye?","body":"What model of efficiency do you suggest, and how do the test results for this approach compare to previous ones, especially that from abiolaaye?"},{"owner":{"account_id":200231,"reputation":18449,"user_id":445976,"display_name":"Blastfurnace"},"score":2,"creation_date":1426566115,"post_id":29086979,"comment_id":46414634,"body_markdown":"@BhojalGelda: This might have been useful in the past but not with modern pipelined CPUs. [See this reference.](http://en.wikipedia.org/wiki/XOR_swap_algorithm#Reasons_for_avoidance_in_practice)","body":"@BhojalGelda: This might have been useful in the past but not with modern pipelined CPUs. <a href=\"http://en.wikipedia.org/wiki/XOR_swap_algorithm#Reasons_for_avoidance_in_practice\" rel=\"nofollow noreferrer\">See this reference.</a>"}],"tags":[],"owner":{"account_id":5949765,"reputation":9,"user_id":4678196,"display_name":"Bhojal Gelda"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1426542415,"creation_date":1426540156,"answer_id":29086979,"question_id":2439141,"body_markdown":"    char* rev(char* str)\r\n        {\r\n        int end= strlen(str)-1;\r\n        int start = 0;\r\n        \r\n        while( start&lt;end )\r\n        {\r\n        str[start] ^= str[end];\r\n        str[end] ^= str[start];\r\n        str[start]^= str[end];\r\n        \r\n        ++start;\r\n        --end;\r\n        }\r\n        \r\n        return str;\r\n    }\r\n\r\n=========================\r\nWondering how it works?\r\n=========================\r\nFirst operation:\t\r\n\r\n    x1 = x1 XOR x2\r\n    \r\n    x1:\t1\t0\t0\r\n    x2:\t1\t1\t1\r\n    New x1:\t0\t1\t1\r\n\r\nSecond operation\t\r\n\r\n    x2 = x2 XOR x1\r\n    \r\n    x1:\t0\t1\t1\r\n    x2:\t1\t1\t1\r\n    New x2:\t1\t0\t0\r\n    //Notice that X2 has become X1 now\r\n\r\nThird operation:\t\r\n\r\n    x1 = x1 XOR x2\r\n    x1:\t0\t1\t1\r\n    x2:\t1\t0\t0\r\n    New x1:\t1\t1\t1\r\n    //Notice that X1 became X2","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<pre><code>char* rev(char* str)\n    {\n    int end= strlen(str)-1;\n    int start = 0;\n\n    while( start&lt;end )\n    {\n    str[start] ^= str[end];\n    str[end] ^= str[start];\n    str[start]^= str[end];\n\n    ++start;\n    --end;\n    }\n\n    return str;\n}\n</code></pre>\n\n<p>=========================</p>\n\n<h1>Wondering how it works?</h1>\n\n<p>First operation:    </p>\n\n<pre><code>x1 = x1 XOR x2\n\nx1: 1   0   0\nx2: 1   1   1\nNew x1: 0   1   1\n</code></pre>\n\n<p>Second operation    </p>\n\n<pre><code>x2 = x2 XOR x1\n\nx1: 0   1   1\nx2: 1   1   1\nNew x2: 1   0   0\n//Notice that X2 has become X1 now\n</code></pre>\n\n<p>Third operation:    </p>\n\n<pre><code>x1 = x1 XOR x2\nx1: 0   1   1\nx2: 1   0   0\nNew x1: 1   1   1\n//Notice that X1 became X2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3898906,"reputation":97,"user_id":3227214,"display_name":"Dipitak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429438472,"creation_date":1429435908,"answer_id":29728111,"question_id":2439141,"body_markdown":"    public static string getReverse(string str)\r\n    {\r\n        char[] ch = str.ToCharArray();\r\n        string reverse = &quot;&quot;;\r\n        for (int i = str.Length - 1; i &gt; -1; i--)\r\n        {\r\n            reverse += ch[i];\r\n        }\r\n        return reverse;\r\n    }\r\n\r\n    //using in-built method reverse of Array\r\n    public static string getReverseUsingBulidingFunction(string str)\r\n    {\r\n        char[] s = str.ToCharArray();\r\n        Array.Reverse(s);\r\n        return new string(s);\r\n    }\r\n\r\n\r\n    public static void Main(string[] args)\r\n    {\r\n        string str = &quot;123&quot;;\r\n        Console.WriteLine(&quot;The reverse string of &#39;{0}&#39; is: {1}&quot;,str,getReverse(str));\r\n        Console.WriteLine(&quot;The reverse string of &#39;{0}&#39; is: {1}&quot;, str, getReverseUsingBulidingFunction(str));\r\n        Console.ReadLine();\r\n    }\r\n","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<pre><code>public static string getReverse(string str)\n{\n    char[] ch = str.ToCharArray();\n    string reverse = \"\";\n    for (int i = str.Length - 1; i &gt; -1; i--)\n    {\n        reverse += ch[i];\n    }\n    return reverse;\n}\n\n//using in-built method reverse of Array\npublic static string getReverseUsingBulidingFunction(string str)\n{\n    char[] s = str.ToCharArray();\n    Array.Reverse(s);\n    return new string(s);\n}\n\n\npublic static void Main(string[] args)\n{\n    string str = \"123\";\n    Console.WriteLine(\"The reverse string of '{0}' is: {1}\",str,getReverse(str));\n    Console.WriteLine(\"The reverse string of '{0}' is: {1}\", str, getReverseUsingBulidingFunction(str));\n    Console.ReadLine();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4296674,"reputation":1,"user_id":3511554,"display_name":"dmitry"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1465678610,"creation_date":1456960888,"answer_id":35760216,"question_id":2439141,"body_markdown":"    public static String reverseString(String str)\r\n    {\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        for (int i = str.length() - 1; i &gt;= 0; i--)\r\n        {\r\n            sb.append(str[i]);\r\n        }\r\n\r\n        return sb.toString();\r\n    }","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<pre><code>public static String reverseString(String str)\n{\n    StringBuilder sb = new StringBuilder();\n\n    for (int i = str.length() - 1; i &gt;= 0; i--)\n    {\n        sb.append(str[i]);\n    }\n\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2070417,"reputation":107,"user_id":1845047,"display_name":"Kuldeep Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1486798312,"creation_date":1465676991,"answer_id":37768246,"question_id":2439141,"body_markdown":"\tprivate static String reverse(String str) {\r\n\t\tint i = 0;\r\n\t\tint j = str.length()-1;\r\n\t\tchar []c = str.toCharArray();\r\n\t\twhile(i &lt;= j){\r\n\t\t\tchar t = str.charAt(i);\r\n\t\t\tc[i] = str.charAt(j);\r\n\t\t\tc[j]=t;\r\n\t\t\ti++;\r\n\t\t\tj--;\r\n\t\t}\r\n\t\treturn new String(c);\r\n\t}\r\n\r\n","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<pre><code>private static String reverse(String str) {\n    int i = 0;\n    int j = str.length()-1;\n    char []c = str.toCharArray();\n    while(i &lt;= j){\n        char t = str.charAt(i);\n        c[i] = str.charAt(j);\n        c[j]=t;\n        i++;\n        j--;\n    }\n    return new String(c);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4509563,"reputation":1,"user_id":3666072,"display_name":"user3666072"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509970901,"creation_date":1509970901,"answer_id":47136950,"question_id":2439141,"body_markdown":"Using multiple threads to swap the elements:\r\n\r\n        final char[] strArray = str.toCharArray();\r\n\r\n        IntStream.range(0, str.length() / 2).parallel().forEach(e -&gt; {\r\n            final char tmp = strArray[e];\r\n            strArray[e] = strArray[str.length() - e - 1];\r\n            strArray[str.length() - e - 1] = tmp;\r\n        });\r\n        return new String(strArray);","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<p>Using multiple threads to swap the elements:</p>\n\n<pre><code>    final char[] strArray = str.toCharArray();\n\n    IntStream.range(0, str.length() / 2).parallel().forEach(e -&gt; {\n        final char tmp = strArray[e];\n        strArray[e] = strArray[str.length() - e - 1];\n        strArray[str.length() - e - 1] = tmp;\n    });\n    return new String(strArray);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14536597,"reputation":11,"user_id":10499782,"display_name":"GlennTheAlien"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541262296,"creation_date":1541262296,"answer_id":53133253,"question_id":2439141,"body_markdown":"Of course this is the most efficient way:\r\n\r\n    String reversed = new StringBuilder(str).reverse().toString();\r\nBut if you don&#39;t like using that then  I recommend this instead:\r\n\r\n    public String reverseString(String str)\r\n    {\r\n        String output = &quot;&quot;;\r\n        int len = str.length();\r\n        for(int k = 1; k &lt;= str.length(); k++, len--)\r\n        {\r\n            output += str.substring(len-1,len);\r\n        }\r\n        return output;\r\n    }","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<p>Of course this is the most efficient way:</p>\n\n<pre><code>String reversed = new StringBuilder(str).reverse().toString();\n</code></pre>\n\n<p>But if you don't like using that then  I recommend this instead:</p>\n\n<pre><code>public String reverseString(String str)\n{\n    String output = \"\";\n    int len = str.length();\n    for(int k = 1; k &lt;= str.length(); k++, len--)\n    {\n        output += str.substring(len-1,len);\n    }\n    return output;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1555601836,"post_id":55748598,"comment_id":98175609,"body_markdown":"What does your compiler have to say when fed your code?","body":"What does your compiler have to say when fed your code?"},{"owner":{"account_id":102334,"reputation":3710,"user_id":274752,"accept_rate":67,"display_name":"Hultner"},"score":0,"creation_date":1556106428,"post_id":55748598,"comment_id":98323297,"body_markdown":"Thanks for your answer, I wrote this question 10 years ago when I still were studying and were just learning Java, at that point I had mainly coded C low level and Assembly before and Java were my first high-level language, being used with low level optimisations I wanted to know how to do similar things in a high-level language like Java. I appreciate the answers and as someone who regularly interviews and hires developers in my work I&#39;d much more appreciate the simplest most readable solution that gets the job done today, I were a hardcore sucker for premature optimisation back then.","body":"Thanks for your answer, I wrote this question 10 years ago when I still were studying and were just learning Java, at that point I had mainly coded C low level and Assembly before and Java were my first high-level language, being used with low level optimisations I wanted to know how to do similar things in a high-level language like Java. I appreciate the answers and as someone who regularly interviews and hires developers in my work I&#39;d much more appreciate the simplest most readable solution that gets the job done today, I were a hardcore sucker for premature optimisation back then."}],"tags":[],"owner":{"account_id":3200935,"reputation":172,"user_id":2702996,"accept_rate":27,"display_name":"jidh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555602651,"creation_date":1555599054,"answer_id":55748598,"question_id":2439141,"body_markdown":"    static String ReverseString(String input) {\r\n        var len = input.Length - 1;\r\n        int i = 0;\r\n        char[] revString = new char[len+1];\r\n        while (len &gt;= 0) {\r\n            revString[i] = input[len];\r\n            len--; \r\n            i++;\r\n        }\r\n        return new string(revString);   \r\n    }\r\n\r\nwhy can&#39;t we stick with the simplest loop and revere with character read and keep adding to the char array, I have come across with a whiteboard interview, where interviewer set restrictions on not to use `StringBuilder` and inbuilt functions.\r\n ","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<pre><code>static String ReverseString(String input) {\n    var len = input.Length - 1;\n    int i = 0;\n    char[] revString = new char[len+1];\n    while (len &gt;= 0) {\n        revString[i] = input[len];\n        len--; \n        i++;\n    }\n    return new string(revString);   \n}\n</code></pre>\n\n<p>why can't we stick with the simplest loop and revere with character read and keep adding to the char array, I have come across with a whiteboard interview, where interviewer set restrictions on not to use <code>StringBuilder</code> and inbuilt functions.</p>\n"},{"tags":[],"owner":{"account_id":6793246,"reputation":107,"user_id":5229540,"accept_rate":40,"display_name":"Hussein Juybari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654153773,"creation_date":1654153773,"answer_id":72472044,"question_id":2439141,"body_markdown":"This is the optimal way to reverse a string with `O(log n)` complexity.\r\n\r\n```java\r\npublic char[] optimisedArrayReverse(char[] chars) {\r\n        char[] reversedChars = chars;\r\n        int length = chars.length;\r\n        int center = (length / 2) - 1;\r\n        int reversedIndex = chars.length - 1;\r\n        \r\n        if (center &lt; 0) {\r\n            return chars;\r\n        }\r\n\r\n        for (int index = 0; index &lt;= center; index++) {\r\n            //Swap values\r\n            char temp = reversedChars[index];\r\n            reversedChars[index] = chars[reversedIndex];\r\n            reversedChars[reversedIndex] = temp;\r\n            \r\n            reversedIndex --;\r\n        }\r\n\r\n        return reversedChars;\r\n    }\r\n```","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<p>This is the optimal way to reverse a string with <code>O(log n)</code> complexity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public char[] optimisedArrayReverse(char[] chars) {\n        char[] reversedChars = chars;\n        int length = chars.length;\n        int center = (length / 2) - 1;\n        int reversedIndex = chars.length - 1;\n        \n        if (center &lt; 0) {\n            return chars;\n        }\n\n        for (int index = 0; index &lt;= center; index++) {\n            //Swap values\n            char temp = reversedChars[index];\n            reversedChars[index] = chars[reversedIndex];\n            reversedChars[reversedIndex] = temp;\n            \n            reversedIndex --;\n        }\n\n        return reversedChars;\n    }\n</code></pre>\n"}],"owner":{"account_id":102334,"reputation":3710,"user_id":274752,"accept_rate":67,"display_name":"Hultner"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112562,"favorite_count":0,"down_vote_count":2,"up_vote_count":43,"accepted_answer_id":2439198,"answer_count":22,"score":41,"last_activity_date":1698254340,"creation_date":1268499416,"question_id":2439141,"body_markdown":"What is the most efficient way to reverse a string in Java?  Should I use some sort of xor operator? The easy way would be to put all the chars in a stack and put them back into a string again but I doubt that&#39;s a very efficient way to do it. \r\n\r\nAnd please do not tell me to use some built in function in Java. I am interested in learning how to do it not to use an efficient function but not knowing why it&#39;s efficient or how it&#39;s built up. \r\n","title":"What is the most efficient algorithm for reversing a String in Java?","body":"<p>What is the most efficient way to reverse a string in Java?  Should I use some sort of xor operator? The easy way would be to put all the chars in a stack and put them back into a string again but I doubt that's a very efficient way to do it. </p>\n\n<p>And please do not tell me to use some built in function in Java. I am interested in learning how to do it not to use an efficient function but not knowing why it's efficient or how it's built up. </p>\n"},{"tags":["java","spring-boot","maven"],"answers":[{"comments":[{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1698265920,"post_id":77361613,"comment_id":136385011,"body_markdown":"Thanks, I will try next morning. But I am surprised, why @timestamp@ works without filtering.","body":"Thanks, I will try next morning. But I am surprised, why @timestamp@ works without filtering."}],"tags":[],"owner":{"account_id":10051478,"reputation":81,"user_id":7431162,"display_name":"Andr&#233;s S. Sanguino"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698253867,"creation_date":1698253867,"answer_id":77361613,"question_id":77361338,"body_markdown":"Just need to edit your pom.xml file, and add to the properties tag:\r\n\r\n    &lt;properties&gt;\r\n       &lt;build.timestamp&gt;${maven.build.timestamp}&lt;/build.timestamp&gt;\r\n       &lt;maven.build.timestamp.format&gt;yyyy-MM-dd-HH:mm&lt;/maven.build.timestamp.format&gt;\r\n    &lt;/properties&gt;\r\n\r\nand also solve the `&lt;build.timestamp&gt;` placeholder using the `&lt;resources&gt;` tag into the `&lt;build&gt;` tag:\r\n\r\n      &lt;build&gt;\r\n      ...\r\n      &lt;resources&gt;\r\n        &lt;resource&gt;\r\n            &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;application.yaml&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/resource&gt;\r\n      &lt;/resources&gt;\r\n      ...\r\n      &lt;/build&gt;\r\n\r\nas it is commented [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/38983935/7431162","title":"Maven property in application.yaml not resolved","body":"<p>Just need to edit your pom.xml file, and add to the properties tag:</p>\n<pre><code>&lt;properties&gt;\n   &lt;build.timestamp&gt;${maven.build.timestamp}&lt;/build.timestamp&gt;\n   &lt;maven.build.timestamp.format&gt;yyyy-MM-dd-HH:mm&lt;/maven.build.timestamp.format&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>and also solve the <code>&lt;build.timestamp&gt;</code> placeholder using the <code>&lt;resources&gt;</code> tag into the <code>&lt;build&gt;</code> tag:</p>\n<pre><code>  &lt;build&gt;\n  ...\n  &lt;resources&gt;\n    &lt;resource&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;includes&gt;\n            &lt;include&gt;application.yaml&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/resource&gt;\n  &lt;/resources&gt;\n  ...\n  &lt;/build&gt;\n</code></pre>\n<p>as it is commented <a href=\"https://stackoverflow.com/a/38983935/7431162\">here</a>.</p>\n"}],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77361613,"answer_count":1,"score":0,"last_activity_date":1698253867,"creation_date":1698251339,"question_id":77361338,"body_markdown":"I started with this [answer][1] to add a build time to actuator. It works well, when property is named `timestamp`. But I would like something more specific, so I picked up `build.timestamp`. I am struggling making it work.\r\n\r\npom.xml:\r\n\r\n    &lt;build.timestamp&gt;${maven.build.timestamp}&lt;/build.timestamp&gt;\r\n\r\napplication.yaml:\r\n\r\n    built: &#39;@build.timestamp@&#39;\r\n\r\n/actuator/info endpoint, the property is not resolved:\r\n\r\n    &quot;built&quot;:&quot;@build.timestamp@&quot;\r\n\r\nThen no quotes:\r\n\r\n    built: @build.timestamp@\r\n\r\nSpring does not even start, as stated here: https://stackoverflow.com/a/59393137/1639556\r\n\r\n    2023-10-25 18:24:09.036 [ERROR][restartedMain]{} o.s.b.SpringApplication: Application run failed\r\n    org.yaml.snakeyaml.scanner.ScannerException: while scanning for the next token\r\n    found character &#39;@&#39; that cannot start any token. (Do not use @ for indentation)\r\n\r\nI even tried `build-timestamp`, no luck. What&#39;s the proper variant? This is the only working variant:\r\n\r\n    &lt;timestamp&gt;${maven.build.timestamp}&lt;/timestamp&gt;\r\n    timestamp: @timestamp@\r\n\r\n  [1]: https://stackoverflow.com/a/46363030/1639556\r\n\r\n","title":"Maven property in application.yaml not resolved","body":"<p>I started with this <a href=\"https://stackoverflow.com/a/46363030/1639556\">answer</a> to add a build time to actuator. It works well, when property is named <code>timestamp</code>. But I would like something more specific, so I picked up <code>build.timestamp</code>. I am struggling making it work.</p>\n<p>pom.xml:</p>\n<pre><code>&lt;build.timestamp&gt;${maven.build.timestamp}&lt;/build.timestamp&gt;\n</code></pre>\n<p>application.yaml:</p>\n<pre><code>built: '@build.timestamp@'\n</code></pre>\n<p>/actuator/info endpoint, the property is not resolved:</p>\n<pre><code>&quot;built&quot;:&quot;@build.timestamp@&quot;\n</code></pre>\n<p>Then no quotes:</p>\n<pre><code>built: @build.timestamp@\n</code></pre>\n<p>Spring does not even start, as stated here: <a href=\"https://stackoverflow.com/a/59393137/1639556\">https://stackoverflow.com/a/59393137/1639556</a></p>\n<pre><code>2023-10-25 18:24:09.036 [ERROR][restartedMain]{} o.s.b.SpringApplication: Application run failed\norg.yaml.snakeyaml.scanner.ScannerException: while scanning for the next token\nfound character '@' that cannot start any token. (Do not use @ for indentation)\n</code></pre>\n<p>I even tried <code>build-timestamp</code>, no luck. What's the proper variant? This is the only working variant:</p>\n<pre><code>&lt;timestamp&gt;${maven.build.timestamp}&lt;/timestamp&gt;\ntimestamp: @timestamp@\n</code></pre>\n"},{"tags":["java","spring-boot","post","spring-webclient"],"owner":{"account_id":5848965,"reputation":25,"user_id":4608220,"display_name":"pintekus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698253728,"creation_date":1698224822,"question_id":77358096,"body_markdown":"I am trying to create a POST request with the Spring Boot Webclient library. However, the input body is different from the response, and the response doesn&#39;t contain an error.\r\n\r\n```java\r\nprivate Mono&lt;ApplicationView&gt; createMarketplaceApp(boolean published, String name, Type type) {\r\n    WebClient webClient = WebClient.create(&quot;url&quot;);\r\n    AppCreationRequest appCreationRequest =\r\n            new AppCreationRequest(published, name, type);\r\n    Mono&lt;ApplicationView&gt; newApp = webClient\r\n            .post()\r\n            .uri(&quot;/api/v1/apps&quot;)\r\n            .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n            .header(&quot;X-Auth-Token&quot;, &quot;xxx-yyy-zzz&quot;)\r\n            .body(Mono.just(appCreationRequest), AppCreationRequest.class)\r\n            .exchangeToMono(response -&gt; {\r\n                if (response.statusCode().equals(HttpStatus.OK)) {\r\n                    return response.bodyToMono(ApplicationView.class);\r\n                } else {\r\n                    // Turn to error\r\n                    return response.createException().flatMap(Mono::error);\r\n                }\r\n            });\r\n    return newApp;\r\n}\r\n```\r\n\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\n@QueryEntity\r\n@Document\r\npublic class ApplicationView {\r\n    private String id;\r\n    private String type;\r\n    private String displayName;    \r\n    private Boolean everPublished;\r\n    private Boolean publicDisabled;\r\n    private List&lt;String&gt; workIn;\r\n    private Map&lt;String, Object&gt; ext;\r\n}\r\n```\r\n\r\n\r\n```java\r\n@Data\r\npublic class AppCreationRequest {\r\n    @NotNull\r\n    private Boolean published;\r\n\r\n    @Size(min = 1, max = 50)\r\n    private String name;\r\n\r\n    @NotNull\r\n    private Type type;\r\n}\r\n```\r\n\r\n\r\nNot sure why it doesn&#39;t step on the line\r\n\r\n```java\r\nif (response.statusCode().equals(HttpStatus.OK)) {\r\n```\r\n\r\nWhat should I expect in the newApp return object?","title":"Java WebClient post request with different body and response JSON","body":"<p>I am trying to create a POST request with the Spring Boot Webclient library. However, the input body is different from the response, and the response doesn't contain an error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Mono&lt;ApplicationView&gt; createMarketplaceApp(boolean published, String name, Type type) {\n    WebClient webClient = WebClient.create(&quot;url&quot;);\n    AppCreationRequest appCreationRequest =\n            new AppCreationRequest(published, name, type);\n    Mono&lt;ApplicationView&gt; newApp = webClient\n            .post()\n            .uri(&quot;/api/v1/apps&quot;)\n            .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n            .header(&quot;X-Auth-Token&quot;, &quot;xxx-yyy-zzz&quot;)\n            .body(Mono.just(appCreationRequest), AppCreationRequest.class)\n            .exchangeToMono(response -&gt; {\n                if (response.statusCode().equals(HttpStatus.OK)) {\n                    return response.bodyToMono(ApplicationView.class);\n                } else {\n                    // Turn to error\n                    return response.createException().flatMap(Mono::error);\n                }\n            });\n    return newApp;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@QueryEntity\n@Document\npublic class ApplicationView {\n    private String id;\n    private String type;\n    private String displayName;    \n    private Boolean everPublished;\n    private Boolean publicDisabled;\n    private List&lt;String&gt; workIn;\n    private Map&lt;String, Object&gt; ext;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class AppCreationRequest {\n    @NotNull\n    private Boolean published;\n\n    @Size(min = 1, max = 50)\n    private String name;\n\n    @NotNull\n    private Type type;\n}\n</code></pre>\n<p>Not sure why it doesn't step on the line</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (response.statusCode().equals(HttpStatus.OK)) {\n</code></pre>\n<p>What should I expect in the newApp return object?</p>\n"},{"tags":["java","arrays","list","stream","size"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1677262044,"post_id":75559799,"comment_id":133309595,"body_markdown":"More performant compared to what? Are you having any issues with the performance?","body":"More performant compared to what? Are you having any issues with the performance?"},{"owner":{"account_id":26316409,"reputation":71,"user_id":19979114,"display_name":"Nila"},"score":0,"creation_date":1677262597,"post_id":75559799,"comment_id":133309720,"body_markdown":"as opposed to the following. My dataset could have millions of rows, so even though I have not seen any performance issues yet with my tiny 1000 row dataset, I am wondering if I would see eventually whne I do stress and performance testing later: ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        ObjectOutputStream out = new ObjectOutputStream(baos);\n        out.writeObject(csvRows);\n        out.close();\n        long size = baos.toByteArray().length;\n        long filesNum = (size / MAX_FILE_SIZE_BYTES) + 1;","body":"as opposed to the following. My dataset could have millions of rows, so even though I have not seen any performance issues yet with my tiny 1000 row dataset, I am wondering if I would see eventually whne I do stress and performance testing later: ByteArrayOutputStream baos = new ByteArrayOutputStream();         ObjectOutputStream out = new ObjectOutputStream(baos);         out.writeObject(csvRows);         out.close();         long size = baos.toByteArray().length;         long filesNum = (size / MAX_FILE_SIZE_BYTES) + 1;"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1677262962,"post_id":75559799,"comment_id":133309797,"body_markdown":"Do the stress testing first, compare versions and analyze results to identify issues. Premature optimization is a bad practice.","body":"Do the stress testing first, compare versions and analyze results to identify issues. Premature optimization is a bad practice."},{"owner":{"account_id":26316409,"reputation":71,"user_id":19979114,"display_name":"Nila"},"score":0,"creation_date":1677269175,"post_id":75559799,"comment_id":133311233,"body_markdown":"have scheduled that with the performance team in the next couple weeks. But I dont see whats wrong in identifying potential issues and trying to address them. looking at the two options the bytearrayOutputstream will obviously take more memory, and time compared to simple length calculation","body":"have scheduled that with the performance team in the next couple weeks. But I dont see whats wrong in identifying potential issues and trying to address them. looking at the two options the bytearrayOutputstream will obviously take more memory, and time compared to simple length calculation"}],"owner":{"account_id":26316409,"reputation":71,"user_id":19979114,"display_name":"Nila"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698253521,"creation_date":1677260763,"question_id":75559799,"body_markdown":"I have a list of `List&lt;String[]&gt; csvRows, String[] csvHeaderRow`\r\nMy goal is to calculate the totalsize of the final CSV file I would write out of these rows. So I should add the total size of all commas, csvRows, csvHeaderRow. Note that, a lot of columns in csvRows could be null of empty like &quot;Rick,,,,15,,4324,,,&quot; csvHeaderRow will always be populated fully.\r\n\r\nI can write these all to a _bytearrayStream_ and calculate the length of the byteArray. But I want to write more performant, and concise code.\r\n\r\n   latest code version:\r\n  \r\n\r\n      public void long getNumOfFiles(List&lt;String[]&gt; csvRows, String[] csvHeaderRow){\r\n    long totalSize = csvRows.stream().mapToLong(i -&gt; {\r\n            return Stream.of(i).mapToLong(str -&gt; {\r\n                if (StringUtils.isNotEmpty(str)) {\r\n                    return str.getBytes().length;\r\n                }\r\n                return 0L;\r\n            }).sum();\r\n        }).sum();\r\n        \r\n                totalSize = totalSize + Stream.of(csvHeaderRow).mapToLong(str -&gt; str.getBytes().length).sum();\r\n                totalSize = totalSize + csvHeaderRow.length * csvRows.size() + 1; -&gt; number of commas\r\n                long numOfFiles = (totalSize / MAX_FILE_SIZE_BYTES) + 1;\r\n    return numOfFiles;\r\n    }\r\n\r\nHow do I write this more efficiently?","title":"Calculate the total size of List&lt;String[]&gt;","body":"<p>I have a list of <code>List&lt;String[]&gt; csvRows, String[] csvHeaderRow</code>\nMy goal is to calculate the totalsize of the final CSV file I would write out of these rows. So I should add the total size of all commas, csvRows, csvHeaderRow. Note that, a lot of columns in csvRows could be null of empty like &quot;Rick,,,,15,,4324,,,&quot; csvHeaderRow will always be populated fully.</p>\n<p>I can write these all to a <em>bytearrayStream</em> and calculate the length of the byteArray. But I want to write more performant, and concise code.</p>\n<p>latest code version:</p>\n<pre><code>  public void long getNumOfFiles(List&lt;String[]&gt; csvRows, String[] csvHeaderRow){\nlong totalSize = csvRows.stream().mapToLong(i -&gt; {\n        return Stream.of(i).mapToLong(str -&gt; {\n            if (StringUtils.isNotEmpty(str)) {\n                return str.getBytes().length;\n            }\n            return 0L;\n        }).sum();\n    }).sum();\n    \n            totalSize = totalSize + Stream.of(csvHeaderRow).mapToLong(str -&gt; str.getBytes().length).sum();\n            totalSize = totalSize + csvHeaderRow.length * csvRows.size() + 1; -&gt; number of commas\n            long numOfFiles = (totalSize / MAX_FILE_SIZE_BYTES) + 1;\nreturn numOfFiles;\n}\n</code></pre>\n<p>How do I write this more efficiently?</p>\n"},{"tags":["java","udp","buffer","byte"],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1373496222,"post_id":17560241,"comment_id":25584738,"body_markdown":"DatagramPacket.setLength()?","body":"DatagramPacket.setLength()?"},{"owner":{"account_id":198944,"reputation":13061,"user_id":803225,"accept_rate":58,"display_name":"Chris.Jenkins"},"score":0,"creation_date":1474388514,"post_id":17560241,"comment_id":66506739,"body_markdown":"@user1440061 you reset the length through:\n`receivePacket.setLength(receiveData.getLength())`","body":"@user1440061 you reset the length through: <code>receivePacket.setLength(receiveData.getLength())</code>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1478763148,"post_id":17560241,"comment_id":68284807,"body_markdown":"@Chris.Jenkins You mean `receivePacket.setLength(receiveData.length)`.","body":"@Chris.Jenkins You mean <code>receivePacket.setLength(receiveData.length)</code>."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1478763173,"creation_date":1373414087,"answer_id":17560241,"question_id":17549195,"body_markdown":"You don&#39;t need to clear the byte array, but you do need to take some notice of the length of the DatagramPacket after the receive, via the `getLength()` method; for example:\r\n\r\n    new String(packet.getData(), packet.getOffset(), packet.getLength());\r\n\r\nYou&#39;re doing that correctly in the server, but not in the client.\r\n\r\nYou also need to reset the length before calling `receive()`. Otherwise the `DatagramPacket` will keep shrinking to the length of the smallest packet received so far.","title":"Clear Datagram Buffer in Java","body":"<p>You don't need to clear the byte array, but you do need to take some notice of the length of the DatagramPacket after the receive, via the <code>getLength()</code> method; for example:</p>\n\n<pre><code>new String(packet.getData(), packet.getOffset(), packet.getLength());\n</code></pre>\n\n<p>You're doing that correctly in the server, but not in the client.</p>\n\n<p>You also need to reset the length before calling <code>receive()</code>. Otherwise the <code>DatagramPacket</code> will keep shrinking to the length of the smallest packet received so far.</p>\n"},{"tags":[],"owner":{"account_id":29753039,"reputation":1,"user_id":22802506,"display_name":"Databank255"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698252765,"creation_date":1698252765,"answer_id":77361486,"question_id":17549195,"body_markdown":"Greeting from the future (10 years after posted). This post asked a problem I had, so I&#39;ll tell you what I did to solve it.\r\n\r\nIn the code provided, his client closes, so the issue isn&#39;t from the client side, it&#39;s from the server side. The solution I used was putting\r\n```\r\nbyte[] receiveData = new byte[1024];\r\nbyte[] sendData = new byte[1024];\r\n```\r\nwithin the loop. This makes them local variable, so be careful not to skip them on accident. It also probably messes with memory, because it&#39;s deleting and re-initializing it every time.\r\n\r\nDon&#39;t know if it&#39;s &quot;best practice&quot;, but it worked so it&#39;s good for my purposes. If you also have a repeating client, you can also use this method.","title":"Clear Datagram Buffer in Java","body":"<p>Greeting from the future (10 years after posted). This post asked a problem I had, so I'll tell you what I did to solve it.</p>\n<p>In the code provided, his client closes, so the issue isn't from the client side, it's from the server side. The solution I used was putting</p>\n<pre><code>byte[] receiveData = new byte[1024];\nbyte[] sendData = new byte[1024];\n</code></pre>\n<p>within the loop. This makes them local variable, so be careful not to skip them on accident. It also probably messes with memory, because it's deleting and re-initializing it every time.</p>\n<p>Don't know if it's &quot;best practice&quot;, but it worked so it's good for my purposes. If you also have a repeating client, you can also use this method.</p>\n"}],"owner":{"account_id":1546655,"reputation":445,"user_id":1440061,"accept_rate":81,"display_name":"user1440061"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10745,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":17560241,"answer_count":2,"score":6,"last_activity_date":1698252765,"creation_date":1373375843,"question_id":17549195,"body_markdown":"So I got this simple udp client/server code from the internet, and it works.  However, when I enter something that is shorter than the thing I entered before it, I get the remaining characters left over.  For example, if I first enter:\r\n\r\n    kitty\r\nAnd then enter:\r\n\r\n    cat\r\nThe second print reads as:\r\n\r\n    catty\r\n\r\nI&#39;ve been looking at other people with similar problems and most of them seem to be solved by clearing the byte array.  However, if I try to implement their answers, it doesn&#39;t fix my problem.  What do I need to do, and (maybe more importantly) where in the code should it go?  Here is the code:\r\n\r\nClient:\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n     \r\n    class UDPClient\r\n     {\r\n        public static void main(String args[]) throws Exception\r\n        {\r\n           BufferedReader inFromUser = new BufferedReader(new InputStreamReader(System.in));\r\n           DatagramSocket clientSocket = new DatagramSocket();\r\n           InetAddress IPAddress = InetAddress.getByName(&quot;localhost&quot;);\r\n           byte[] sendData = new byte[1024];\r\n           byte[] receiveData = new byte[1024];\r\n           String sentence = inFromUser.readLine();\r\n           sendData = sentence.getBytes();\r\n           DatagramPacket sendPacket = new DatagramPacket(sendData, sendData.length, IPAddress, 20700);\r\n           clientSocket.send(sendPacket);\r\n           DatagramPacket receivePacket = new DatagramPacket(receiveData, receiveData.length);\r\n           clientSocket.receive(receivePacket);\r\n           String modifiedSentence = new String(receivePacket.getData());\r\n           System.out.println(&quot;FROM SERVER:&quot; + modifiedSentence);\r\n           clientSocket.close();\r\n        }\r\n     }\r\n\r\nServer:\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    import java.util.*;\r\n \r\n    class UDPServer\r\n     {\r\n        public static void main(String args[]) throws Exception\r\n           {\r\n              DatagramSocket serverSocket = new DatagramSocket(21200);\r\n              byte[] receiveData = new byte[1024];\r\n              byte[] sendData = new byte[1024];\r\n              while(true)\r\n                    {\r\n                       DatagramPacket receivePacket = new DatagramPacket(receiveData, receiveData.length);\r\n                       serverSocket.receive(receivePacket);\r\n                       String sentence = new String( receivePacket.getData(), 0, receivePacket.getLength());\r\n                       System.out.println(&quot;RECEIVED: &quot; + sentence);\r\n                       InetAddress IPAddress = receivePacket.getAddress();\r\n                       int port = receivePacket.getPort();\r\n                       String capitalizedSentence = sentence.toUpperCase();\r\n                       sendData = capitalizedSentence.getBytes();\r\n                       DatagramPacket sendPacket =  new DatagramPacket(sendData, sendData.length, IPAddress, port);\r\n                       serverSocket.send(sendPacket);\r\n                    }\r\n           }\r\n     }","title":"Clear Datagram Buffer in Java","body":"<p>So I got this simple udp client/server code from the internet, and it works.  However, when I enter something that is shorter than the thing I entered before it, I get the remaining characters left over.  For example, if I first enter:</p>\n\n<pre><code>kitty\n</code></pre>\n\n<p>And then enter:</p>\n\n<pre><code>cat\n</code></pre>\n\n<p>The second print reads as:</p>\n\n<pre><code>catty\n</code></pre>\n\n<p>I've been looking at other people with similar problems and most of them seem to be solved by clearing the byte array.  However, if I try to implement their answers, it doesn't fix my problem.  What do I need to do, and (maybe more importantly) where in the code should it go?  Here is the code:</p>\n\n<p>Client:</p>\n\n<pre><code>import java.io.*;\nimport java.net.*;\n\nclass UDPClient\n {\n    public static void main(String args[]) throws Exception\n    {\n       BufferedReader inFromUser = new BufferedReader(new InputStreamReader(System.in));\n       DatagramSocket clientSocket = new DatagramSocket();\n       InetAddress IPAddress = InetAddress.getByName(\"localhost\");\n       byte[] sendData = new byte[1024];\n       byte[] receiveData = new byte[1024];\n       String sentence = inFromUser.readLine();\n       sendData = sentence.getBytes();\n       DatagramPacket sendPacket = new DatagramPacket(sendData, sendData.length, IPAddress, 20700);\n       clientSocket.send(sendPacket);\n       DatagramPacket receivePacket = new DatagramPacket(receiveData, receiveData.length);\n       clientSocket.receive(receivePacket);\n       String modifiedSentence = new String(receivePacket.getData());\n       System.out.println(\"FROM SERVER:\" + modifiedSentence);\n       clientSocket.close();\n    }\n }\n</code></pre>\n\n<p>Server:</p>\n\n<pre><code>import java.io.*;\nimport java.net.*;\nimport java.util.*;\n\nclass UDPServer\n {\n    public static void main(String args[]) throws Exception\n       {\n          DatagramSocket serverSocket = new DatagramSocket(21200);\n          byte[] receiveData = new byte[1024];\n          byte[] sendData = new byte[1024];\n          while(true)\n                {\n                   DatagramPacket receivePacket = new DatagramPacket(receiveData, receiveData.length);\n                   serverSocket.receive(receivePacket);\n                   String sentence = new String( receivePacket.getData(), 0, receivePacket.getLength());\n                   System.out.println(\"RECEIVED: \" + sentence);\n                   InetAddress IPAddress = receivePacket.getAddress();\n                   int port = receivePacket.getPort();\n                   String capitalizedSentence = sentence.toUpperCase();\n                   sendData = capitalizedSentence.getBytes();\n                   DatagramPacket sendPacket =  new DatagramPacket(sendData, sendData.length, IPAddress, port);\n                   serverSocket.send(sendPacket);\n                }\n       }\n }\n</code></pre>\n"},{"tags":["java","loops","floating-point","fractions"],"comments":[{"owner":{"account_id":2609703,"reputation":1305,"user_id":2260040,"accept_rate":57,"display_name":"user2260040"},"score":0,"creation_date":1698185540,"post_id":77355545,"comment_id":136372736,"body_markdown":"Are you certain that decimal values need to be plotted?","body":"Are you certain that decimal values need to be plotted?"},{"owner":{"account_id":29746147,"reputation":21,"user_id":22797163,"display_name":"Charlimagne"},"score":0,"creation_date":1698186114,"post_id":77355545,"comment_id":136372805,"body_markdown":"@user2260040 I don&#39;t have to approach it this way, but I&#39;m not sure how else to approach it. But if the int input is 9, then I have to print a 1/8th block element and a 8/8th block element together.","body":"@user2260040 I don&#39;t have to approach it this way, but I&#39;m not sure how else to approach it. But if the int input is 9, then I have to print a 1/8th block element and a 8/8th block element together."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1698188999,"post_id":77355545,"comment_id":136373081,"body_markdown":"Not sure, but try `while (realMath % 1 &lt; 0.0000001)` instead of `while (realMath % 1 == 0)`","body":"Not sure, but try <code>while (realMath % 1 &lt; 0.0000001)</code> instead of <code>while (realMath % 1 == 0)</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1698232605,"post_id":77355545,"comment_id":136378325,"body_markdown":"Check the `while` loop in your code.  Because it will always `return`, the `while` loop will either iterate zero or one time. It is thus equivalent to an `if`. Is that what you wanted?","body":"Check the <code>while</code> loop in your code.  Because it will always <code>return</code>, the <code>while</code> loop will either iterate zero or one time. It is thus equivalent to an <code>if</code>. Is that what you wanted?"}],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698252574,"creation_date":1698189292,"answer_id":77355834,"question_id":77355545,"body_markdown":"Here is one way. Note that all the calculcations in this answers are done in integer arithmetic. No floating point is used. \r\n\r\n- Calculate the number of full blocks that will be needed by dividing by 8.   \r\n- Add 1 to that number to reserve a space for a partial block.\r\n- Create an array of length determined in the previous step filled with full block characters.\r\n- Use the `%` operator to calculate the remainder, which will give the size of a partial block.\r\n- Replace the last character in the filled array with a space or a partial block, as determined by the result of the remainder calculation.\r\n - If you really need an explicit loop, replace the `Arrays.fill` call with your loop. \r\n\r\n\r\n````\r\npublic static String bar (int value) {\r\n    final char FULL_BLOCK = &#39;█&#39;;\r\n    char [] partBlock = {&#39; &#39;,&#39;▏&#39;,&#39;▎&#39;,&#39;▍&#39;,&#39;▌&#39;,&#39;▋&#39;,&#39;▊&#39;,&#39;▉&#39; };\r\n    char [] theBar = new char [value / 8 + 1];\r\n    Arrays.fill (theBar, FULL_BLOCK);\r\n    theBar [theBar.length - 1] = partBlock [value % 8];\r\n    return new String (theBar);\r\n}\r\n   \r\npublic static void main(String[] args) {\r\n    System.out.println (&quot;Growing Bar:&quot;);\r\n    for (int i = 0; i &lt;= 24; ++i) {\r\n        System.out.println (bar (i));\r\n    }\r\n}\r\n````\r\nTest: \r\n````\r\nGrowing Bar:\r\n \r\n▏\r\n▎\r\n▍\r\n▌\r\n▋\r\n▊\r\n▉\r\n█ \r\n█▏\r\n█▎\r\n█▍\r\n█▌\r\n█▋\r\n█▊\r\n█▉\r\n██ \r\n██▏\r\n██▎\r\n██▍\r\n██▌\r\n██▋\r\n██▊\r\n██▉\r\n███\r\n````\r\n\r\nThe uneven height between the full block and the partial blocks seem to be a result of the font Stack Overflow is using. I do not see that difference in the test result anywhere else, such as my IDE, email, or a text editor.\r\n\r\nAn alternative to using `partBlock` array is to take advantage of the fact that the partial blocks are consecutive characters in Unicode:\r\n\r\n````\r\nint r = value % 8;\r\ntheBar[theBar.length - 1] = r == 0 ? SPACE : (char) (&#39;\\u2590&#39; - r);\r\n````\r\nOf course, the space character doesn&#39;t fit in that pattern, so a check has to be done for that. \r\n","title":"How can I loop based on remainders, percentages, or floating point values?","body":"<p>Here is one way. Note that all the calculcations in this answers are done in integer arithmetic. No floating point is used.</p>\n<ul>\n<li>Calculate the number of full blocks that will be needed by dividing by 8.</li>\n<li>Add 1 to that number to reserve a space for a partial block.</li>\n<li>Create an array of length determined in the previous step filled with full block characters.</li>\n<li>Use the <code>%</code> operator to calculate the remainder, which will give the size of a partial block.</li>\n<li>Replace the last character in the filled array with a space or a partial block, as determined by the result of the remainder calculation.</li>\n<li>If you really need an explicit loop, replace the <code>Arrays.fill</code> call with your loop.</li>\n</ul>\n<pre><code>public static String bar (int value) {\n    final char FULL_BLOCK = '█';\n    char [] partBlock = {' ','▏','▎','▍','▌','▋','▊','▉' };\n    char [] theBar = new char [value / 8 + 1];\n    Arrays.fill (theBar, FULL_BLOCK);\n    theBar [theBar.length - 1] = partBlock [value % 8];\n    return new String (theBar);\n}\n   \npublic static void main(String[] args) {\n    System.out.println (&quot;Growing Bar:&quot;);\n    for (int i = 0; i &lt;= 24; ++i) {\n        System.out.println (bar (i));\n    }\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>Growing Bar:\n \n▏\n▎\n▍\n▌\n▋\n▊\n▉\n█ \n█▏\n█▎\n█▍\n█▌\n█▋\n█▊\n█▉\n██ \n██▏\n██▎\n██▍\n██▌\n██▋\n██▊\n██▉\n███\n</code></pre>\n<p>The uneven height between the full block and the partial blocks seem to be a result of the font Stack Overflow is using. I do not see that difference in the test result anywhere else, such as my IDE, email, or a text editor.</p>\n<p>An alternative to using <code>partBlock</code> array is to take advantage of the fact that the partial blocks are consecutive characters in Unicode:</p>\n<pre><code>int r = value % 8;\ntheBar[theBar.length - 1] = r == 0 ? SPACE : (char) ('\\u2590' - r);\n</code></pre>\n<p>Of course, the space character doesn't fit in that pattern, so a check has to be done for that.</p>\n"},{"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1698232777,"post_id":77355905,"comment_id":136378356,"body_markdown":"The O/P takes an `int`, casts it to a `double`, and then divides by 8. I don&#39;t see that *&quot;round the value to the nearest 0.125&quot;* is useful.","body":"The O/P takes an <code>int</code>, casts it to a <code>double</code>, and then divides by 8. I don&#39;t see that <i>&quot;round the value to the nearest 0.125&quot;</i> is useful."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1698250117,"post_id":77355905,"comment_id":136382184,"body_markdown":"@OldDogProgrammer, cool.","body":"@OldDogProgrammer, cool."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698208848,"creation_date":1698191260,"answer_id":77355905,"question_id":77355545,"body_markdown":"Divide by _8_, and round the value to the nearest _0.125_.\r\n\r\n```java\r\nx = Math.round(x / 8 / .125) * .125\r\n```\r\n\r\nThen, determine which _[eighths block](https://en.wikipedia.org/wiki/Block_Elements#Character_table)_ to use.\r\n\r\n```java\r\nx -= Math.floor(x);\r\nchar c = (char) (0x258f - (x / .125));\r\n```\r\n\r\nHere is an example.\r\n\r\n```java\r\nString getHorizontal(double x) {\r\n    x = Math.round(x / 8 / .125) * .125;\r\n    String s = &quot;\\u2588&quot;.repeat((int) Math.floor(x));\r\n    x -= Math.floor(x);\r\n    return s + (char) (0x258f - (x / .125));\r\n}\r\n```\r\n\r\nHere is an output.\\\r\nYou&#39;ll need a different font, it works with _[Source Code Pro](https://fonts.google.com/specimen/Source+Code+Pro)_.\r\n\r\n```none\r\n1.125 ▎\r\n11.25 █▌\r\n56.25 ███████▏\r\n112.5 ██████████████▎\r\n```","title":"How can I loop based on remainders, percentages, or floating point values?","body":"<p>Divide by <em>8</em>, and round the value to the nearest <em>0.125</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>x = Math.round(x / 8 / .125) * .125\n</code></pre>\n<p>Then, determine which <em><a href=\"https://en.wikipedia.org/wiki/Block_Elements#Character_table\" rel=\"nofollow noreferrer\">eighths block</a></em> to use.</p>\n<pre class=\"lang-java prettyprint-override\"><code>x -= Math.floor(x);\nchar c = (char) (0x258f - (x / .125));\n</code></pre>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String getHorizontal(double x) {\n    x = Math.round(x / 8 / .125) * .125;\n    String s = &quot;\\u2588&quot;.repeat((int) Math.floor(x));\n    x -= Math.floor(x);\n    return s + (char) (0x258f - (x / .125));\n}\n</code></pre>\n<p>Here is an output.<br />\nYou'll need a different font, it works with <em><a href=\"https://fonts.google.com/specimen/Source+Code+Pro\" rel=\"nofollow noreferrer\">Source Code Pro</a></em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>1.125 ▎\n11.25 █▌\n56.25 ███████▏\n112.5 ██████████████▎\n</code></pre>\n"}],"owner":{"account_id":29746147,"reputation":21,"user_id":22797163,"display_name":"Charlimagne"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1698252574,"creation_date":1698183796,"question_id":77355545,"body_markdown":"My assignment asks me to take a data set in the form of different integers, and run them through a method that will print the appropriate number of characters to create a horizontal bar graph. \r\nThe graph needs to use a string made of Block Elements (`█`, `▏`, `▌`). The blocks are base 8, so inputting 8 as in integer should print `█` and 16 should print `██`.\r\n \r\nI figured out a way to print the right number of blocks for inputs that are evenly divisible by 8, but I&#39;m not sure how I can work with the remainders or decimal values from uneven division e.g., if (9 / 8) = 1.125, how can I use the 0.125?\r\n\r\nThis is what I have so far. It prints the appropriate number of characters for multiples of 8. \r\n\r\n\r\n```\r\npublic static String getHorizontal(int value) {\r\n   String bar = &quot;&quot;;\r\n   double realMath = (double) value / 8; // (1/8) = (0.125) (8/8) = 1\r\n   int rmConversion;\r\n\r\n   while (realMath % 1 == 0) {\r\n       rmConversion = (int) realMath;\r\n       for (int i = 0; i &lt; rmConversion; i++) {\r\n           bar += &quot;█&quot;;\r\n       }\r\n       return bar;\r\n   }\r\n\r\n   // TODO: replace this with code that actually generates the bar graph!\r\n\r\n   return bar;\r\n}\r\n```\r\n\r\nHow can I run a similar loop but with a remainder or decimal point value?","title":"How can I loop based on remainders, percentages, or floating point values?","body":"<p>My assignment asks me to take a data set in the form of different integers, and run them through a method that will print the appropriate number of characters to create a horizontal bar graph.\nThe graph needs to use a string made of Block Elements (<code>█</code>, <code>▏</code>, <code>▌</code>). The blocks are base 8, so inputting 8 as in integer should print <code>█</code> and 16 should print <code>██</code>.</p>\n<p>I figured out a way to print the right number of blocks for inputs that are evenly divisible by 8, but I'm not sure how I can work with the remainders or decimal values from uneven division e.g., if (9 / 8) = 1.125, how can I use the 0.125?</p>\n<p>This is what I have so far. It prints the appropriate number of characters for multiples of 8.</p>\n<pre><code>public static String getHorizontal(int value) {\n   String bar = &quot;&quot;;\n   double realMath = (double) value / 8; // (1/8) = (0.125) (8/8) = 1\n   int rmConversion;\n\n   while (realMath % 1 == 0) {\n       rmConversion = (int) realMath;\n       for (int i = 0; i &lt; rmConversion; i++) {\n           bar += &quot;█&quot;;\n       }\n       return bar;\n   }\n\n   // TODO: replace this with code that actually generates the bar graph!\n\n   return bar;\n}\n</code></pre>\n<p>How can I run a similar loop but with a remainder or decimal point value?</p>\n"},{"tags":["java","php","android","digest","sha"],"comments":[{"owner":{"account_id":93655,"reputation":7413,"user_id":256108,"accept_rate":78,"display_name":"Nicholas"},"score":1,"creation_date":1314126478,"post_id":7166129,"comment_id":8600155,"body_markdown":"I think your problem may be the getBytes(UTF-8). Try just getBytes().","body":"I think your problem may be the getBytes(UTF-8). Try just getBytes()."},{"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"score":5,"creation_date":1314126946,"post_id":7166129,"comment_id":8600299,"body_markdown":"Why should anyone ever use `getBytes()` without specifying the encoding?","body":"Why should anyone ever use <code>getBytes()</code> without specifying the encoding?"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":5,"creation_date":1314127051,"post_id":7166129,"comment_id":8600336,"body_markdown":"@Eamorr: Could you put the solution in an answer instead of the question, please?","body":"@Eamorr: Could you put the solution in an answer instead of the question, please?"},{"owner":{"account_id":1228162,"reputation":17908,"user_id":1193321,"accept_rate":65,"display_name":"EGHDK"},"score":0,"creation_date":1331759185,"post_id":7166129,"comment_id":12343263,"body_markdown":"The code you have as the solution does not work... any help?","body":"The code you have as the solution does not work... any help?"},{"owner":{"account_id":73357,"reputation":17051,"user_id":211292,"accept_rate":67,"display_name":"ThomasW"},"score":1,"creation_date":1391154128,"post_id":7166129,"comment_id":32411389,"body_markdown":"A clean answer is written up here: http://stackoverflow.com/questions/9661008/compute-sha256-hash-in-android-java-and-c-sharp","body":"A clean answer is written up here: <a href=\"http://stackoverflow.com/questions/9661008/compute-sha256-hash-in-android-java-and-c-sharp\" title=\"compute sha256 hash in android java and c sharp\">stackoverflow.com/questions/9661008/&hellip;</a>"},{"owner":{"account_id":1848296,"reputation":1625,"user_id":1675469,"accept_rate":38,"display_name":"Zeeshan"},"score":0,"creation_date":1407755711,"post_id":7166129,"comment_id":39323437,"body_markdown":"How can convert output back to asdf back in java. can i do that or not due to aha-256 alto ?   Thanks","body":"How can convert output back to asdf back in java. can i do that or not due to aha-256 alto ?   Thanks"},{"owner":{"account_id":1739024,"reputation":4902,"user_id":1590950,"display_name":"indivisible"},"score":0,"creation_date":1487682151,"post_id":7166129,"comment_id":71885847,"body_markdown":"@ShanXeeshi, you are correct. These hashes are a one-way encoding of data, it cannot be (easily) reversed to recreate the input. Unless you meant going from byte[] back to String then that&#39;s `new String(inputBytes, StandardCharsets.UTF_8);` or similar (you need to know the encoding ahead of time.)","body":"@ShanXeeshi, you are correct. These hashes are a one-way encoding of data, it cannot be (easily) reversed to recreate the input. Unless you meant going from byte[] back to String then that&#39;s <code>new String(inputBytes, StandardCharsets.UTF_8);</code> or similar (you need to know the encoding ahead of time.)"}],"answers":[{"comments":[{"owner":{"account_id":2085689,"reputation":5357,"user_id":1856738,"accept_rate":82,"display_name":"class stacker"},"score":0,"creation_date":1356179177,"post_id":7166240,"comment_id":19330711,"body_markdown":"Actually, new BigInteger(1, data).toString(16) is all you need in the case of data from a digest function, because it&#39;s guaranteed that no nibble will be full of 0s.","body":"Actually, new BigInteger(1, data).toString(16) is all you need in the case of data from a digest function, because it&#39;s guaranteed that no nibble will be full of 0s."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1356252247,"post_id":7166240,"comment_id":19343704,"body_markdown":"@ClassStacker What&#39;s the SHA-1 hash of 0x35326b9705d136d0d1b5efa92d440f3171f1b711?","body":"@ClassStacker What&#39;s the SHA-1 hash of 0x35326b9705d136d0d1b5efa92d440f3171f1b711?"},{"owner":{"account_id":2085689,"reputation":5357,"user_id":1856738,"accept_rate":82,"display_name":"class stacker"},"score":0,"creation_date":1356256841,"post_id":7166240,"comment_id":19344364,"body_markdown":"@erickson I&#39;m definitely to be blamed for claiming no _nibble_ would ever be zero anyway, but here you go; according to python it&#39;s \\x00P\\xd5\\rv\\xc8\\x15u\\x84*\\xf3\\x1d\\xc3L\\x9b\\x14{\\xedX? and I stand here guilty. Thanks for pointing this out.","body":"@erickson I&#39;m definitely to be blamed for claiming no <i>nibble</i> would ever be zero anyway, but here you go; according to python it&#39;s \\x00P\\xd5\\rv\\xc8\\x15u\\x84*\\xf3\\x1d\\xc3L\\x9b\\x14{\\xedX? and I stand here guilty. Thanks for pointing this out."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":2,"creation_date":1356313436,"post_id":7166240,"comment_id":19355222,"body_markdown":"@ClassStacker No problem. SHA-1 and SHA-2 hashes, and I assume any cryptographic digest, can produce zero nybbles and bytes, including leading zeros. I didn&#39;t expect otherwise, but when you said it was impossible, it didn&#39;t take long to verify my assumption.","body":"@ClassStacker No problem. SHA-1 and SHA-2 hashes, and I assume any cryptographic digest, can produce zero nybbles and bytes, including leading zeros. I didn&#39;t expect otherwise, but when you said it was impossible, it didn&#39;t take long to verify my assumption."},{"owner":{"account_id":2085689,"reputation":5357,"user_id":1856738,"accept_rate":82,"display_name":"class stacker"},"score":0,"creation_date":1356347261,"post_id":7166240,"comment_id":19362495,"body_markdown":"@erickson That may not be a problem for you and me, but I presume it has the potential to lead to occasional trouble elsewhere. ;)","body":"@erickson That may not be a problem for you and me, but I presume it has the potential to lead to occasional trouble elsewhere. ;)"}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":5,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1540585042,"creation_date":1314126533,"answer_id":7166240,"question_id":7166129,"body_markdown":"The PHP function `bin2hex` means that it takes a string of bytes and encodes it as a hexadecimal number.\r\n\r\nIn the Java code, you are trying to take a bunch of random bytes and decode them as a string using your platform&#39;s default character encoding. That isn&#39;t going to work, and if it did, it wouldn&#39;t produce the same results.\r\n\r\nHere&#39;s a quick-and-dirty binary-to-hex conversion for Java:\r\n\r\n    static String bin2hex(byte[] data) {\r\n        StringBuilder hex = new StringBuilder(data.length * 2);\r\n        for (byte b : data)\r\n            hex.append(String.format(&quot;%02x&quot;, b &amp; 0xFF));\r\n        return hex.toString();\r\n    }\r\n\r\nThis is quick to *write*, not necessarily quick to execute. If you are doing a lot of these, you should rewrite the function with a faster implementation.","title":"How can I calculate the SHA-256 hash of a string in Android?","body":"<p>The PHP function <code>bin2hex</code> means that it takes a string of bytes and encodes it as a hexadecimal number.</p>\n\n<p>In the Java code, you are trying to take a bunch of random bytes and decode them as a string using your platform's default character encoding. That isn't going to work, and if it did, it wouldn't produce the same results.</p>\n\n<p>Here's a quick-and-dirty binary-to-hex conversion for Java:</p>\n\n<pre><code>static String bin2hex(byte[] data) {\n    StringBuilder hex = new StringBuilder(data.length * 2);\n    for (byte b : data)\n        hex.append(String.format(\"%02x\", b &amp; 0xFF));\n    return hex.toString();\n}\n</code></pre>\n\n<p>This is quick to <em>write</em>, not necessarily quick to execute. If you are doing a lot of these, you should rewrite the function with a faster implementation.</p>\n"},{"comments":[{"owner":{"account_id":1001880,"reputation":723,"user_id":1016556,"display_name":"Anton Kaiser"},"score":4,"creation_date":1362341913,"post_id":7166261,"comment_id":21402073,"body_markdown":"Careful: the bytesToHexString function you took from IOSched project returns the String in lower-case format. When chaining it by doing SHA256(SHA256...(SHA256(input)...) you would get different results from implementations that return the String in upper-case format.\n\nThis can easily be addressed by chainging the responsible line to `String hex = Integer.toHexString(0xFF &amp; bytes[i]).toUpperCase();`","body":"Careful: the bytesToHexString function you took from IOSched project returns the String in lower-case format. When chaining it by doing SHA256(SHA256...(SHA256(input)...) you would get different results from implementations that return the String in upper-case format.  This can easily be addressed by chainging the responsible line to <code>String hex = Integer.toHexString(0xFF &amp; bytes[i]).toUpperCase();</code>"}],"tags":[],"owner":{"account_id":29689,"reputation":57954,"user_id":80425,"accept_rate":93,"display_name":"David Snabel-Caunt"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1314126656,"creation_date":1314126656,"answer_id":7166261,"question_id":7166129,"body_markdown":"You are along the right lines, but converting the bytes is a little more complicated. This works on my device:\r\n\r\n    // utility function\r\n        private static String bytesToHexString(byte[] bytes) {\r\n            // http://stackoverflow.com/questions/332079\r\n            StringBuffer sb = new StringBuffer();\r\n            for (int i = 0; i &lt; bytes.length; i++) {\r\n                String hex = Integer.toHexString(0xFF &amp; bytes[i]);\r\n                if (hex.length() == 1) {\r\n                    sb.append(&#39;0&#39;);\r\n                }\r\n                sb.append(hex);\r\n            }\r\n            return sb.toString();\r\n        }\r\n    \r\n    // generate a hash\r\n    \r\n        String password=&quot;asdf&quot;;\r\n        MessageDigest digest=null;\r\n        String hash;\r\n        try {\r\n            digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n            digest.update(password.getBytes());\r\n            \r\n            hash = bytesToHexString(digest.digest());\r\n            \r\n            Log.i(&quot;Eamorr&quot;, &quot;result is &quot; + hash);\r\n        } catch (NoSuchAlgorithmException e1) {\r\n            // TODO Auto-generated catch block\r\n            e1.printStackTrace();\r\n        }\r\n\r\nSource: bytesToHexString function is from the [IOSched][1] project.\r\n\r\n\r\n  [1]: http://code.google.com/p/iosched/source/browse/android/src/com/google/android/apps/iosched/util/BitmapUtils.java","title":"How can I calculate the SHA-256 hash of a string in Android?","body":"<p>You are along the right lines, but converting the bytes is a little more complicated. This works on my device:</p>\n\n<pre><code>// utility function\n    private static String bytesToHexString(byte[] bytes) {\n        // http://stackoverflow.com/questions/332079\n        StringBuffer sb = new StringBuffer();\n        for (int i = 0; i &lt; bytes.length; i++) {\n            String hex = Integer.toHexString(0xFF &amp; bytes[i]);\n            if (hex.length() == 1) {\n                sb.append('0');\n            }\n            sb.append(hex);\n        }\n        return sb.toString();\n    }\n\n// generate a hash\n\n    String password=\"asdf\";\n    MessageDigest digest=null;\n    String hash;\n    try {\n        digest = MessageDigest.getInstance(\"SHA-256\");\n        digest.update(password.getBytes());\n\n        hash = bytesToHexString(digest.digest());\n\n        Log.i(\"Eamorr\", \"result is \" + hash);\n    } catch (NoSuchAlgorithmException e1) {\n        // TODO Auto-generated catch block\n        e1.printStackTrace();\n    }\n</code></pre>\n\n<p>Source: bytesToHexString function is from the <a href=\"http://code.google.com/p/iosched/source/browse/android/src/com/google/android/apps/iosched/util/BitmapUtils.java\">IOSched</a> project.</p>\n"},{"tags":[],"owner":{"account_id":12563765,"reputation":304,"user_id":9140491,"display_name":"Ayodele Kayode"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546718362,"creation_date":1546718362,"answer_id":54055749,"question_id":7166129,"body_markdown":"i know this has been answered but i found a Hashing Library at [android arsenal][1] and its very easy,simple and just one line of code. can hash MD5, SHA-1, SHA-256, SHA-384, or SHA-512.\r\n\r\n 1. first add this to your gradle and sync\r\n\r\n    `implementation &#39;com.github.1AboveAll:Hasher:1.2&#39;`\r\n\r\n 2. start hasing\r\n\r\n    `Hasher.Companion.hash(&quot;Hello&quot;,HashType.SHA_1);`\r\n\r\n  [1]: https://android-arsenal.com","title":"How can I calculate the SHA-256 hash of a string in Android?","body":"<p>i know this has been answered but i found a Hashing Library at <a href=\"https://android-arsenal.com\" rel=\"nofollow noreferrer\">android arsenal</a> and its very easy,simple and just one line of code. can hash MD5, SHA-1, SHA-256, SHA-384, or SHA-512.</p>\n\n<ol>\n<li><p>first add this to your gradle and sync</p>\n\n<p><code>implementation 'com.github.1AboveAll:Hasher:1.2'</code></p></li>\n<li><p>start hasing</p>\n\n<p><code>Hasher.Companion.hash(\"Hello\",HashType.SHA_1);</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5067023,"reputation":1264,"user_id":4066886,"display_name":"Henrique Monte"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1648133157,"creation_date":1556625904,"answer_id":55920601,"question_id":7166129,"body_markdown":"Complete answer with use example, thanks to erickson.\r\n\r\n\r\n    public static String getSha256Hash(String password) {\r\n        try {\r\n            MessageDigest digest = null;\r\n            try {\r\n                digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n            } catch (NoSuchAlgorithmException e1) {\r\n                e1.printStackTrace();\r\n            }\r\n            digest.reset();\r\n            return bin2hex(digest.digest(password.getBytes()));\r\n        } catch (Exception ignored) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private static String bin2hex(byte[] data) {\r\n        StringBuilder hex = new StringBuilder(data.length * 2);\r\n        for (byte b : data)\r\n            hex.append(String.format(&quot;%02x&quot;, b &amp; 0xFF));\r\n        return hex.toString();\r\n    }\r\n\r\nExample of use: \r\n\r\n    Toast.makeText(this, Utils.getSha256Hash(&quot;123456_MY_PASSWORD&quot;), Toast.LENGTH_SHORT).show();","title":"How can I calculate the SHA-256 hash of a string in Android?","body":"<p>Complete answer with use example, thanks to erickson.</p>\n<pre><code>public static String getSha256Hash(String password) {\n    try {\n        MessageDigest digest = null;\n        try {\n            digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n        } catch (NoSuchAlgorithmException e1) {\n            e1.printStackTrace();\n        }\n        digest.reset();\n        return bin2hex(digest.digest(password.getBytes()));\n    } catch (Exception ignored) {\n        return null;\n    }\n}\n\nprivate static String bin2hex(byte[] data) {\n    StringBuilder hex = new StringBuilder(data.length * 2);\n    for (byte b : data)\n        hex.append(String.format(&quot;%02x&quot;, b &amp; 0xFF));\n    return hex.toString();\n}\n</code></pre>\n<p>Example of use:</p>\n<pre><code>Toast.makeText(this, Utils.getSha256Hash(&quot;123456_MY_PASSWORD&quot;), Toast.LENGTH_SHORT).show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2657942,"reputation":16486,"user_id":2298241,"accept_rate":33,"display_name":"Ivo Stoyanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698252556,"creation_date":1698252556,"answer_id":77361466,"question_id":7166129,"body_markdown":"    private fun stringToSha256(input: String): String {\r\n        val bytes = input.toByteArray()\r\n        val md = MessageDigest.getInstance(&quot;SHA-256&quot;)\r\n        val digest = md.digest(bytes)\r\n\r\n        // Convert the byte array to a hexadecimal string\r\n        val result = StringBuilder()\r\n        for (byte in digest) {\r\n            result.append(String.format(&quot;%02x&quot;, byte))\r\n        }\r\n\r\n        return result.toString()\r\n    }","title":"How can I calculate the SHA-256 hash of a string in Android?","body":"<pre><code>private fun stringToSha256(input: String): String {\n    val bytes = input.toByteArray()\n    val md = MessageDigest.getInstance(&quot;SHA-256&quot;)\n    val digest = md.digest(bytes)\n\n    // Convert the byte array to a hexadecimal string\n    val result = StringBuilder()\n    for (byte in digest) {\n        result.append(String.format(&quot;%02x&quot;, byte))\n    }\n\n    return result.toString()\n}\n</code></pre>\n"}],"owner":{"account_id":169731,"reputation":9952,"user_id":395974,"accept_rate":85,"display_name":"Eamorr"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70852,"favorite_count":0,"down_vote_count":1,"up_vote_count":57,"accepted_answer_id":7166240,"answer_count":5,"score":56,"last_activity_date":1698252556,"creation_date":1314125945,"question_id":7166129,"body_markdown":"I&#39;m trying to get the SHA256 of a string in Android.\r\n\r\nHere is the PHP code that I want to match:\r\n\r\n    echo bin2hex(mhash(MHASH_SHA256,&quot;asdf&quot;));\r\n    //outputs &quot;f0e4c2f76c58916ec258f246851bea091d14d4247a2fc3e18694461b1816e13b&quot;\r\n\r\nNow, in Java, I&#39;m trying to do the following:\r\n\r\n     \r\n                String password=&quot;asdf&quot;\r\n                MessageDigest digest=null;\r\n\t\ttry {\r\n\t\t\tdigest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n\t\t} catch (NoSuchAlgorithmException e1) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t       digest.reset();\r\n\t       try {\r\n\t\t\tLog.i(&quot;Eamorr&quot;,digest.digest(password.getBytes(&quot;UTF-8&quot;)).toString());\r\n\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nBut this prints out: &quot;a42yzk3axdv3k4yh98g8&quot;\r\n\r\nWhat did I do wrong here?\r\n\r\n------------------------------------------------------\r\nSolution thanks to erickson:\r\n\r\n     \r\n\r\n     Log.i(&quot;Eamorr&quot;,bin2hex(getHash(&quot;asdf&quot;)));\r\n\r\n     public byte[] getHash(String password) {\r\n\t       MessageDigest digest=null;\r\n\t\ttry {\r\n\t\t\tdigest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n\t\t} catch (NoSuchAlgorithmException e1) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t       digest.reset();\r\n\t       return digest.digest(password.getBytes());\r\n\t }\r\n\tstatic String bin2hex(byte[] data) {\r\n\t\treturn String.format(&quot;%0&quot; + (data.length*2) + &quot;X&quot;, new BigInteger(1, data));\r\n\t}\r\n\r\n","title":"How can I calculate the SHA-256 hash of a string in Android?","body":"<p>I'm trying to get the SHA256 of a string in Android.</p>\n\n<p>Here is the PHP code that I want to match:</p>\n\n<pre><code>echo bin2hex(mhash(MHASH_SHA256,\"asdf\"));\n//outputs \"f0e4c2f76c58916ec258f246851bea091d14d4247a2fc3e18694461b1816e13b\"\n</code></pre>\n\n<p>Now, in Java, I'm trying to do the following:</p>\n\n<pre><code>            String password=\"asdf\"\n            MessageDigest digest=null;\n    try {\n        digest = MessageDigest.getInstance(\"SHA-256\");\n    } catch (NoSuchAlgorithmException e1) {\n        // TODO Auto-generated catch block\n        e1.printStackTrace();\n    }\n       digest.reset();\n       try {\n        Log.i(\"Eamorr\",digest.digest(password.getBytes(\"UTF-8\")).toString());\n    } catch (UnsupportedEncodingException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>But this prints out: \"a42yzk3axdv3k4yh98g8\"</p>\n\n<p>What did I do wrong here?</p>\n\n<hr>\n\n<p>Solution thanks to erickson:</p>\n\n<pre><code> Log.i(\"Eamorr\",bin2hex(getHash(\"asdf\")));\n\n public byte[] getHash(String password) {\n       MessageDigest digest=null;\n    try {\n        digest = MessageDigest.getInstance(\"SHA-256\");\n    } catch (NoSuchAlgorithmException e1) {\n        // TODO Auto-generated catch block\n        e1.printStackTrace();\n    }\n       digest.reset();\n       return digest.digest(password.getBytes());\n }\nstatic String bin2hex(byte[] data) {\n    return String.format(\"%0\" + (data.length*2) + \"X\", new BigInteger(1, data));\n}\n</code></pre>\n"},{"tags":["java","android","mobile","task"],"owner":{"account_id":27380032,"reputation":90,"user_id":20884768,"display_name":"Marzanur Zarif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698251793,"answer_count":0,"score":0,"last_activity_date":1698251908,"creation_date":1698248697,"question_id":77361014,"body_markdown":"Suppose, I have a function which continuously checks if a item is available or not and I am trying to find a way which would keep the function alive even after the app is fully closed using java - android studio!\r\n\r\nThanks in advanced!!!\r\n","title":"Run or keep a custom function alive even after the app is fully closed [Closed even from the recent tabs] - Android Studio","body":"<p>Suppose, I have a function which continuously checks if a item is available or not and I am trying to find a way which would keep the function alive even after the app is fully closed using java - android studio!</p>\n<p>Thanks in advanced!!!</p>\n"},{"tags":["java","maven","maven-assembly-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1698252354,"post_id":77360837,"comment_id":136382699,"body_markdown":"Can you please firs state what you exactly like to achieve with maven-assembly-plugin ? And best would be a link to your project... etc...","body":"Can you please firs state what you exactly like to achieve with maven-assembly-plugin ? And best would be a link to your project... etc..."}],"answers":[{"tags":[],"owner":{"account_id":10051478,"reputation":81,"user_id":7431162,"display_name":"Andr&#233;s S. Sanguino"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698251692,"creation_date":1698251692,"answer_id":77361370,"question_id":77360837,"body_markdown":"I tried to replicate your assembly, and there are just overwritten files in case of having the same name. If not, they have been added right (both file set). In my execution, the ones that remain are from the first file set.\r\n\r\nIs it your case ? Maybe you could rename them after compiling, and using something like an ant-run before executing the `package` phase:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.0&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n          &lt;configuration&gt;\r\n            &lt;target&gt;\r\n              &lt;rename src=&quot;${project.basedir}/my-service/target/*.jar&quot; dest=&quot;${project.basedir}/my-service/target/target-*.jar&quot;/&gt;\r\n            &lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;run&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;        \r\n\r\n\r\n","title":"Maven assembly plugin cannot put two filesets into the same folder","body":"<p>I tried to replicate your assembly, and there are just overwritten files in case of having the same name. If not, they have been added right (both file set). In my execution, the ones that remain are from the first file set.</p>\n<p>Is it your case ? Maybe you could rename them after compiling, and using something like an ant-run before executing the <code>package</code> phase:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.1.0&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;phase&gt;prepare-package&lt;/phase&gt;\n      &lt;configuration&gt;\n        &lt;target&gt;\n          &lt;rename src=&quot;${project.basedir}/my-service/target/*.jar&quot; dest=&quot;${project.basedir}/my-service/target/target-*.jar&quot;/&gt;\n        &lt;/target&gt;\n      &lt;/configuration&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;run&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;        \n</code></pre>\n"}],"owner":{"account_id":11565609,"reputation":799,"user_id":8473984,"display_name":"ZZZ"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698251692,"creation_date":1698247279,"question_id":77360837,"body_markdown":"I have a maven-assembly-plugin file defined as:\r\n\r\n    &lt;assembly\r\n    \txmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd&quot;&gt;\r\n    \t&lt;id&gt;zip-assembly&lt;/id&gt;\r\n    \t&lt;formats&gt;\r\n    \t\t&lt;format&gt;zip&lt;/format&gt;\r\n    \t&lt;/formats&gt;\r\n    \t&lt;fileSets&gt;\r\n    \t\t&lt;fileSet&gt;\r\n    \t\t\t&lt;directory&gt;${project.basedir}/my-service/target&lt;/directory&gt;\r\n    \t\t\t&lt;outputDirectory&gt;app&lt;/outputDirectory&gt;\r\n    \t\t\t&lt;fileMode&gt;0755&lt;/fileMode&gt;\r\n    \t\t\t&lt;includes&gt;\r\n    \t\t\t\t&lt;include&gt;*.jar&lt;/include&gt;\r\n    \t\t\t&lt;/includes&gt;\r\n    \t\t&lt;/fileSet&gt;\r\n    \t\t&lt;fileSet&gt;\r\n    \t\t\t&lt;directory&gt;${project.basedir}/my-library/target&lt;/directory&gt;\r\n    \t\t\t&lt;outputDirectory&gt;app&lt;/outputDirectory&gt;\r\n    \t\t\t&lt;fileMode&gt;0755&lt;/fileMode&gt;\r\n    \t\t\t&lt;includes&gt;\r\n    \t\t\t\t&lt;include&gt;*.jar&lt;/include&gt;\r\n    \t\t\t&lt;/includes&gt;\r\n    \t\t&lt;/fileSet&gt;\r\n    \t&lt;/fileSets&gt;\r\n    &lt;/assembly&gt;\r\n\r\n\r\nBoth filesets write to the same directory &quot;app&quot;.  However, what I found is that only the files in the second fileset are written to the app directory. Probably the second one overwrites the first fileset. \r\n\r\nCan someone tell me how I can write two filesets into the same folder?","title":"Maven assembly plugin cannot put two filesets into the same folder","body":"<p>I have a maven-assembly-plugin file defined as:</p>\n<pre><code>&lt;assembly\n    xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd&quot;&gt;\n    &lt;id&gt;zip-assembly&lt;/id&gt;\n    &lt;formats&gt;\n        &lt;format&gt;zip&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;fileSets&gt;\n        &lt;fileSet&gt;\n            &lt;directory&gt;${project.basedir}/my-service/target&lt;/directory&gt;\n            &lt;outputDirectory&gt;app&lt;/outputDirectory&gt;\n            &lt;fileMode&gt;0755&lt;/fileMode&gt;\n            &lt;includes&gt;\n                &lt;include&gt;*.jar&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/fileSet&gt;\n        &lt;fileSet&gt;\n            &lt;directory&gt;${project.basedir}/my-library/target&lt;/directory&gt;\n            &lt;outputDirectory&gt;app&lt;/outputDirectory&gt;\n            &lt;fileMode&gt;0755&lt;/fileMode&gt;\n            &lt;includes&gt;\n                &lt;include&gt;*.jar&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/fileSet&gt;\n    &lt;/fileSets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>Both filesets write to the same directory &quot;app&quot;.  However, what I found is that only the files in the second fileset are written to the app directory. Probably the second one overwrites the first fileset.</p>\n<p>Can someone tell me how I can write two filesets into the same folder?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4170610,"reputation":1292,"user_id":3418454,"accept_rate":45,"display_name":"K Guru"},"score":0,"creation_date":1423387446,"post_id":28391818,"comment_id":45121605,"body_markdown":"use your own custom style","body":"use your own custom style"}],"answers":[{"tags":[],"owner":{"account_id":5148732,"reputation":244,"user_id":4123895,"display_name":"chris muiruri"},"comment_count":0,"down_vote_count":1,"up_vote_count":22,"is_accepted":true,"score":21,"last_activity_date":1423387939,"creation_date":1423382931,"answer_id":28391908,"question_id":28391818,"body_markdown":"use following style  \r\n\r\n    style=&quot;?android:attr/borderlessButtonStyle&quot; ","title":"How to remove default button style in android","body":"<p>use following style  </p>\n\n<pre><code>style=\"?android:attr/borderlessButtonStyle\" \n</code></pre>\n"}],"owner":{"account_id":474835,"reputation":10401,"user_id":884778,"accept_rate":71,"display_name":"Dhiral Pandya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8066,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":28391908,"answer_count":1,"score":10,"last_activity_date":1698251660,"creation_date":1423382032,"question_id":28391818,"body_markdown":"![enter image description here][1]\r\n\r\nAbove is my button and i want to remove default shadow also, I have successfully removed background but shadow is still there below is my xml code \r\n\r\n\r\n    &lt;Button\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/create_account&quot;\r\n        android:id=&quot;@+id/buttonCreateAccount&quot;\r\n        android:layout_gravity=&quot;center_horizontal&quot;\r\n        android:background=&quot;@null&quot;\r\n        style=&quot;&quot;\r\n        android:shadowRadius=&quot;@null&quot;\r\n        android:drawableBottom=&quot;@null&quot;\r\n    /&gt;\r\n\r\n  [1]: http://i.stack.imgur.com/YMh3d.png","title":"How to remove default button style in android","body":"<p><img src=\"https://i.stack.imgur.com/YMh3d.png\" alt=\"enter image description here\"></p>\n\n<p>Above is my button and i want to remove default shadow also, I have successfully removed background but shadow is still there below is my xml code </p>\n\n<pre><code>&lt;Button\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"@string/create_account\"\n    android:id=\"@+id/buttonCreateAccount\"\n    android:layout_gravity=\"center_horizontal\"\n    android:background=\"@null\"\n    style=\"\"\n    android:shadowRadius=\"@null\"\n    android:drawableBottom=\"@null\"\n/&gt;\n</code></pre>\n"},{"tags":["java","json","serialization","jackson","gson"],"answers":[{"comments":[{"owner":{"account_id":435455,"reputation":4053,"user_id":822052,"accept_rate":82,"display_name":"gorootde"},"score":3,"creation_date":1395854623,"post_id":22668499,"comment_id":34531113,"body_markdown":"I know that, the problem is that my classes have more fields to be ignored, than to be serialized. e.g. 50 fields where only one should be serialized. So the other way round would be the method of choice.","body":"I know that, the problem is that my classes have more fields to be ignored, than to be serialized. e.g. 50 fields where only one should be serialized. So the other way round would be the method of choice."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1395854957,"post_id":22668499,"comment_id":34531330,"body_markdown":"@k_wave As far as I know, there is no such feature out of the box.","body":"@k_wave As far as I know, there is no such feature out of the box."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1395856053,"post_id":22668499,"comment_id":34532063,"body_markdown":"@k_wave You can play with visibility if you&#39;re willing to change the access modifiers on your fields/getters/setters.","body":"@k_wave You can play with visibility if you&#39;re willing to change the access modifiers on your fields/getters/setters."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395854444,"creation_date":1395854444,"answer_id":22668499,"question_id":22668374,"body_markdown":"In Jackson, you do the inverse. Annotate fields you don&#39;t want with [`@JsonIgnore`][1].\r\n\r\n&gt; Marker annotation that indicates that the annotated method or field is\r\n&gt; to be ignored by introspection-based serialization and deserialization\r\n&gt; functionality. That is, it should not be consider a &quot;getter&quot;, &quot;setter&quot;\r\n&gt; or &quot;creator&quot;.\r\n\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonAnnotations","title":"Jackson: Serialize only marked fields","body":"<p>In Jackson, you do the inverse. Annotate fields you don't want with <a href=\"http://wiki.fasterxml.com/JacksonAnnotations\" rel=\"nofollow\"><code>@JsonIgnore</code></a>.</p>\n\n<blockquote>\n  <p>Marker annotation that indicates that the annotated method or field is\n  to be ignored by introspection-based serialization and deserialization\n  functionality. That is, it should not be consider a \"getter\", \"setter\"\n  or \"creator\".</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1416441,"reputation":657,"user_id":1342016,"accept_rate":89,"display_name":"uranix"},"score":1,"creation_date":1603488192,"post_id":22671043,"comment_id":114063703,"body_markdown":"This method is deprecated since 2.6","body":"This method is deprecated since 2.6"}],"tags":[],"owner":{"account_id":1178649,"reputation":5261,"user_id":1154065,"accept_rate":92,"display_name":"isah"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1395861615,"creation_date":1395861615,"answer_id":22671043,"question_id":22668374,"body_markdown":"There seems to be a way to configure `ObjectMapper` to ignore all non annotated fields.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.setVisibilityChecker(getSerializationConfig().getDefaultVisibilityChecker()\r\n    .withCreatorVisibility(JsonAutoDetect.Visibility.NONE)\r\n    .withFieldVisibility(JsonAutoDetect.Visibility.NONE)\r\n    .withGetterVisibility(JsonAutoDetect.Visibility.NONE)\r\n    .withIsGetterVisibility(JsonAutoDetect.Visibility.NONE)\r\n    .withSetterVisibility(JsonAutoDetect.Visibility.NONE));\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://gist.github.com/horte/1960310","title":"Jackson: Serialize only marked fields","body":"<p>There seems to be a way to configure <code>ObjectMapper</code> to ignore all non annotated fields.</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.setVisibilityChecker(getSerializationConfig().getDefaultVisibilityChecker()\n.withCreatorVisibility(JsonAutoDetect.Visibility.NONE)\n.withFieldVisibility(JsonAutoDetect.Visibility.NONE)\n.withGetterVisibility(JsonAutoDetect.Visibility.NONE)\n.withIsGetterVisibility(JsonAutoDetect.Visibility.NONE)\n.withSetterVisibility(JsonAutoDetect.Visibility.NONE));\n</code></pre>\n\n<p><a href=\"https://gist.github.com/horte/1960310\" rel=\"nofollow\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":2647879,"reputation":4277,"user_id":2290217,"display_name":"Chris Peacock"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1483965498,"creation_date":1483965498,"answer_id":41548270,"question_id":22668374,"body_markdown":"The counterpart for `new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create();` is to initialise an ObjectMapper as follows:\r\n\r\n    ...\r\n    ObjectMapper objectMapper = new ObjectMapper();        \r\n    objectMapper.disable(MapperFeature.AUTO_DETECT_CREATORS,\r\n                MapperFeature.AUTO_DETECT_FIELDS,\r\n                MapperFeature.AUTO_DETECT_GETTERS,\r\n                MapperFeature.AUTO_DETECT_IS_GETTERS);\r\n    ...\r\n\r\nThe counterpart for `@Expose` is then `@JsonProperty`. Using your above example bean:\r\n\r\n    class Foo {\r\n        @JsonProperty\r\n        public String sometext=&quot;Hello World&quot;;\r\n        @JsonProperty\r\n        public int somenumber=30;\r\n        public float noop=1.0;\r\n        ...\r\n     }\r\n\r\nSee [this answer][1] to a very similar question. \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25903957/ \r\n","title":"Jackson: Serialize only marked fields","body":"<p>The counterpart for <code>new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create();</code> is to initialise an ObjectMapper as follows:</p>\n\n<pre><code>...\nObjectMapper objectMapper = new ObjectMapper();        \nobjectMapper.disable(MapperFeature.AUTO_DETECT_CREATORS,\n            MapperFeature.AUTO_DETECT_FIELDS,\n            MapperFeature.AUTO_DETECT_GETTERS,\n            MapperFeature.AUTO_DETECT_IS_GETTERS);\n...\n</code></pre>\n\n<p>The counterpart for <code>@Expose</code> is then <code>@JsonProperty</code>. Using your above example bean:</p>\n\n<pre><code>class Foo {\n    @JsonProperty\n    public String sometext=\"Hello World\";\n    @JsonProperty\n    public int somenumber=30;\n    public float noop=1.0;\n    ...\n }\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/a/25903957/\">this answer</a> to a very similar question. </p>\n"},{"comments":[{"owner":{"account_id":1611959,"reputation":3349,"user_id":1490636,"display_name":"Maksim Kostromin"},"score":0,"creation_date":1518894347,"post_id":46323462,"comment_id":84694052,"body_markdown":"you also have to add read-only access to your JsonProperty annotations: `@JsonProperty (access = READ_ONLY)`, otherwise serializer will showing null. see here: https://github.com/daggerok/spring-5-examples/blob/master/github-api-v3-gateway/webflux-gateway/src/main/java/daggerok/github/GithubProperties.java","body":"you also have to add read-only access to your JsonProperty annotations: <code>@JsonProperty (access = READ_ONLY)</code>, otherwise serializer will showing null. see here: <a href=\"https://github.com/daggerok/spring-5-examples/blob/master/github-api-v3-gateway/webflux-gateway/src/main/java/daggerok/github/GithubProperties.java\" rel=\"nofollow noreferrer\">github.com/daggerok/spring-5-examples/blob/master/&hellip;</a>"}],"tags":[],"owner":{"account_id":249093,"reputation":3399,"user_id":524906,"accept_rate":68,"display_name":"fischermatte"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1698251094,"creation_date":1505914224,"answer_id":46323462,"question_id":22668374,"body_markdown":"If you want it just for a specific type you could also just use annotations:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonAutoDetect;\r\n\r\n\r\n    @JsonAutoDetect(\r\n        fieldVisibility = JsonAutoDetect.Visibility.NONE,\r\n        setterVisibility = JsonAutoDetect.Visibility.NONE,\r\n        getterVisibility = JsonAutoDetect.Visibility.NONE,\r\n        isGetterVisibility = JsonAutoDetect.Visibility.NONE,\r\n        creatorVisibility = JsonAutoDetect.Visibility.NONE\r\n    )\r\n    public class Foo  {\r\n        @JsonProperty\r\n        public String sometext=&quot;Hello World&quot;;\r\n        @JsonProperty\r\n        public int somenumber=30;\r\n        // noop won&#39;t get serialized\r\n        public float noop= 1.0f;\r\n    }","title":"Jackson: Serialize only marked fields","body":"<p>If you want it just for a specific type you could also just use annotations:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonAutoDetect;\n\n\n@JsonAutoDetect(\n    fieldVisibility = JsonAutoDetect.Visibility.NONE,\n    setterVisibility = JsonAutoDetect.Visibility.NONE,\n    getterVisibility = JsonAutoDetect.Visibility.NONE,\n    isGetterVisibility = JsonAutoDetect.Visibility.NONE,\n    creatorVisibility = JsonAutoDetect.Visibility.NONE\n)\npublic class Foo  {\n    @JsonProperty\n    public String sometext=&quot;Hello World&quot;;\n    @JsonProperty\n    public int somenumber=30;\n    // noop won't get serialized\n    public float noop= 1.0f;\n}\n</code></pre>\n"}],"owner":{"account_id":435455,"reputation":4053,"user_id":822052,"accept_rate":82,"display_name":"gorootde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13759,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":22671043,"answer_count":4,"score":9,"last_activity_date":1698251094,"creation_date":1395854101,"question_id":22668374,"body_markdown":"I am trying to do something which was quite easy in gson. Since I switched to Jackson as serializer, I couldn&#39;t figure out how to implement this:\r\n\r\nI want to serialize only fields that have been marked by an Annotation. GSON code would be:\r\n    \r\n    class Foo {\r\n        @Expose\r\n        public String sometext=&quot;Hello World&quot;;\r\n        @Expose\r\n        public int somenumber=30;\r\n        public float noop=1.0;\r\n        ...\r\n     }\r\n\r\nwhich should result in (JSON)\r\n\r\n     {\r\n        Foo: {\r\n            sometext:&#39;Hello World&#39;,\r\n            somenumber: 30\r\n        }\r\n     }\r\n        \r\n(Syntax errors may be ignored - source is just for demonstration)\r\n\r\nSo what&#39;s the Jackson counterpart for gson&#39;s `@Expose` and `new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create();`? ","title":"Jackson: Serialize only marked fields","body":"<p>I am trying to do something which was quite easy in gson. Since I switched to Jackson as serializer, I couldn't figure out how to implement this:</p>\n\n<p>I want to serialize only fields that have been marked by an Annotation. GSON code would be:</p>\n\n<pre><code>class Foo {\n    @Expose\n    public String sometext=\"Hello World\";\n    @Expose\n    public int somenumber=30;\n    public float noop=1.0;\n    ...\n }\n</code></pre>\n\n<p>which should result in (JSON)</p>\n\n<pre><code> {\n    Foo: {\n        sometext:'Hello World',\n        somenumber: 30\n    }\n }\n</code></pre>\n\n<p>(Syntax errors may be ignored - source is just for demonstration)</p>\n\n<p>So what's the Jackson counterpart for gson's <code>@Expose</code> and <code>new GsonBuilder().excludeFieldsWithoutExposeAnnotation().create();</code>? </p>\n"},{"tags":["java","docker","apache-kafka","javaagents","jmx-exporter"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1695315087,"post_id":77151600,"comment_id":136011252,"body_markdown":"The error seems to suggest your JAR file is corrupted. Try downloading again (and not using **zookeeper** YAML file for Kafka)","body":"The error seems to suggest your JAR file is corrupted. Try downloading again (and not using <b>zookeeper</b> YAML file for Kafka)"},{"owner":{"account_id":24037981,"reputation":17,"user_id":18018020,"display_name":"prosecutor"},"score":0,"creation_date":1695617193,"post_id":77151600,"comment_id":136043179,"body_markdown":"I have re-download from official release but I doesn&#39;t work. Still this error","body":"I have re-download from official release but I doesn&#39;t work. Still this error"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1695647473,"post_id":77151600,"comment_id":136048360,"body_markdown":"Maybe you have some firewall or antivirus modifying the download? I&#39;ll point out that Strimzi has JMX exporter built in, and so you could use Docker Desktop kubernetes cluster to run that instead of using compose","body":"Maybe you have some firewall or antivirus modifying the download? I&#39;ll point out that Strimzi has JMX exporter built in, and so you could use Docker Desktop kubernetes cluster to run that instead of using compose"}],"answers":[{"tags":[],"owner":{"account_id":7992596,"reputation":136,"user_id":6030024,"display_name":"artyppl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698250454,"creation_date":1698250074,"answer_id":77361196,"question_id":77151600,"body_markdown":"I had a similar problem. maybe the following points will help you:\r\n\r\n1) First of all, check that your jars inside of a container are executable. If not, fix it with &#39;chmod +x&#39;.\r\n\r\n2) Check also who owns jars. Your container uses (probably) &#39;appuser&#39;-user by default and doesn&#39;t have permission to execute jars. If so, you need to change the owner of jars to appuser.\r\n \r\n\r\n\r\n\r\n","title":"Why do I can not start Kafka as a Java agent","body":"<p>I had a similar problem. maybe the following points will help you:</p>\n<ol>\n<li><p>First of all, check that your jars inside of a container are executable. If not, fix it with 'chmod +x'.</p>\n</li>\n<li><p>Check also who owns jars. Your container uses (probably) 'appuser'-user by default and doesn't have permission to execute jars. If so, you need to change the owner of jars to appuser.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":24037981,"reputation":17,"user_id":18018020,"display_name":"prosecutor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77361196,"answer_count":1,"score":1,"last_activity_date":1698250454,"creation_date":1695309778,"question_id":77151600,"body_markdown":"I have problem with JMX when start Kafka as Java agent with this compose file:\r\n```\r\n  broker:\r\n    image: confluentinc/cp-kafka:7.5.0\r\n    hostname: broker\r\n    container_name: broker\r\n    ports:\r\n      - &quot;9092:9092&quot;\r\n      - &quot;9101:9101&quot;\r\n    volumes:\r\n      - ./jmx-exporter:/usr/share/jmx_exporter\r\n    environment:\r\n      KAFKA_NODE_ID: 1\r\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: &#39;CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT&#39;\r\n      KAFKA_ADVERTISED_LISTENERS: &#39;PLAINTEXT://broker:29092,PLAINTEXT_HOST://localhost:9092&#39;\r\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\r\n      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\r\n      KAFKA_TRANSACTION_STATE_LOG_MIN_ISR: 1\r\n      KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR: 1\r\n      CONFLUENT_METRICS_REPORTER_BOOTSTRAP_SERVERS: broker:29092\r\n      KAFKA_JMX_PORT: 9101\r\n      KAFKA_PROCESS_ROLES: &#39;broker,controller&#39;\r\n      KAFKA_CONTROLLER_QUORUM_VOTERS: &#39;1@broker:29093&#39;\r\n      KAFKA_LISTENERS: &#39;PLAINTEXT://broker:29092,CONTROLLER://broker:29093,PLAINTEXT_HOST://0.0.0.0:9092&#39;\r\n      KAFKA_INTER_BROKER_LISTENER_NAME: &#39;PLAINTEXT&#39;\r\n      KAFKA_CONTROLLER_LISTENER_NAMES: &#39;CONTROLLER&#39;\r\n      KAFKA_LOG_DIRS: &#39;/tmp/kraft-combined-logs&#39;\r\n      CLUSTER_ID: &#39;MkU3OEVBNTcwNTJENDM2Qk&#39;\r\n      EXTRA_ARGS:\r\n        -javaagent:/usr/share/jmx-exporter/jmx_prometheus_javaagent-0.20.0.jar=1234:/usr/share/jmx-exporter/zookeeper.yml\r\n        -javaagent:/usr/share/jmx-exporter/jolokia-jvm-1.7.1.jar=port=1235,host=*\r\n        -Djava.util.logging.config.file=/usr/share/jmx-exporter/exporter_debug_logging.properties\r\n```\r\nAnd my issue is:\r\n```\r\nbroker                        | Error opening zip file or JAR manifest missing : /usr/share/jmx-exporter/jmx_prometheus_javaagent-0.20.0.jar\r\nbroker                        | Error occurred during initialization of VM\r\nbroker                        | agent library failed to init: instrument\r\n```\r\nI have search on internet a lot but I can find a solution for my issue","title":"Why do I can not start Kafka as a Java agent","body":"<p>I have problem with JMX when start Kafka as Java agent with this compose file:</p>\n<pre><code>  broker:\n    image: confluentinc/cp-kafka:7.5.0\n    hostname: broker\n    container_name: broker\n    ports:\n      - &quot;9092:9092&quot;\n      - &quot;9101:9101&quot;\n    volumes:\n      - ./jmx-exporter:/usr/share/jmx_exporter\n    environment:\n      KAFKA_NODE_ID: 1\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: 'CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT,PLAINTEXT_HOST:PLAINTEXT'\n      KAFKA_ADVERTISED_LISTENERS: 'PLAINTEXT://broker:29092,PLAINTEXT_HOST://localhost:9092'\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n      KAFKA_GROUP_INITIAL_REBALANCE_DELAY_MS: 0\n      KAFKA_TRANSACTION_STATE_LOG_MIN_ISR: 1\n      KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR: 1\n      CONFLUENT_METRICS_REPORTER_BOOTSTRAP_SERVERS: broker:29092\n      KAFKA_JMX_PORT: 9101\n      KAFKA_PROCESS_ROLES: 'broker,controller'\n      KAFKA_CONTROLLER_QUORUM_VOTERS: '1@broker:29093'\n      KAFKA_LISTENERS: 'PLAINTEXT://broker:29092,CONTROLLER://broker:29093,PLAINTEXT_HOST://0.0.0.0:9092'\n      KAFKA_INTER_BROKER_LISTENER_NAME: 'PLAINTEXT'\n      KAFKA_CONTROLLER_LISTENER_NAMES: 'CONTROLLER'\n      KAFKA_LOG_DIRS: '/tmp/kraft-combined-logs'\n      CLUSTER_ID: 'MkU3OEVBNTcwNTJENDM2Qk'\n      EXTRA_ARGS:\n        -javaagent:/usr/share/jmx-exporter/jmx_prometheus_javaagent-0.20.0.jar=1234:/usr/share/jmx-exporter/zookeeper.yml\n        -javaagent:/usr/share/jmx-exporter/jolokia-jvm-1.7.1.jar=port=1235,host=*\n        -Djava.util.logging.config.file=/usr/share/jmx-exporter/exporter_debug_logging.properties\n</code></pre>\n<p>And my issue is:</p>\n<pre><code>broker                        | Error opening zip file or JAR manifest missing : /usr/share/jmx-exporter/jmx_prometheus_javaagent-0.20.0.jar\nbroker                        | Error occurred during initialization of VM\nbroker                        | agent library failed to init: instrument\n</code></pre>\n<p>I have search on internet a lot but I can find a solution for my issue</p>\n"},{"tags":["java","android-studio","build.gradle","gradle-experimental"],"answers":[{"tags":[],"owner":{"account_id":91056,"reputation":124874,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698250424,"creation_date":1698250424,"answer_id":77361237,"question_id":77354052,"body_markdown":"Please check into your `build.gradle` file, probably you are using `moduleData.id` instead of `moduleData.getGradlePath()`.\r\n\r\nin fact there is an issue reported to Google:\r\n\r\n[Instrumented tests fail with &quot;Project &#39;X&#39; not found in root project &#39;X&#39;.&quot;][1]\r\n\r\n        private fun getTaskNames(androidModuleModel: GradleAndroidModel): List&lt;String&gt; {\r\n            return listOf(\r\n              //&quot;${moduleData.id}:connected${androidModuleModel.selectedVariantName.usLocaleCapitalize()}AndroidTest&quot;\r\n    &quot;${moduleData.getGradlePath()}:connected${androidModuleModel.selectedVariantName.usLocaleCapita\r\n    lize()}AndroidTest&quot;\r\n            )\r\n          }\r\n\r\n  [1]: https://issuetracker.google.com/issues/219164389\r\n\r\n","title":"&quot;The option setting &#39;android.experimental.testOptions.emulatorSnapshots.maxSnapshotsForTestFailures=0&#39; is experimental&quot; ERROR","body":"<p>Please check into your <code>build.gradle</code> file, probably you are using <code>moduleData.id</code> instead of <code>moduleData.getGradlePath()</code>.</p>\n<p>in fact there is an issue reported to Google:</p>\n<p><a href=\"https://issuetracker.google.com/issues/219164389\" rel=\"nofollow noreferrer\">Instrumented tests fail with &quot;Project 'X' not found in root project 'X'.&quot;</a></p>\n<pre><code>    private fun getTaskNames(androidModuleModel: GradleAndroidModel): List&lt;String&gt; {\n        return listOf(\n          //&quot;${moduleData.id}:connected${androidModuleModel.selectedVariantName.usLocaleCapitalize()}AndroidTest&quot;\n&quot;${moduleData.getGradlePath()}:connected${androidModuleModel.selectedVariantName.usLocaleCapita\nlize()}AndroidTest&quot;\n        )\n      }\n</code></pre>\n"}],"owner":{"account_id":29744474,"reputation":11,"user_id":22795945,"display_name":"Yago Rodr&#237;guez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698250424,"creation_date":1698166946,"question_id":77354052,"body_markdown":"I have encountered this problem in my androidstudio application.I&#39;ve checked my build.gradle and I don&#39;t have the maxSnapshotsForTestFailures added.I&#39;ve searched the entire application and I haven&#39;t added what the compiler says I have.\r\n\r\n\r\n","title":"&quot;The option setting &#39;android.experimental.testOptions.emulatorSnapshots.maxSnapshotsForTestFailures=0&#39; is experimental&quot; ERROR","body":"<p>I have encountered this problem in my androidstudio application.I've checked my build.gradle and I don't have the maxSnapshotsForTestFailures added.I've searched the entire application and I haven't added what the compiler says I have.</p>\n"},{"tags":["java","string","selenium","hashmap","webdriver"],"comments":[{"owner":{"account_id":15860195,"reputation":126,"user_id":11443493,"display_name":"Deane Kane"},"score":1,"creation_date":1568732395,"post_id":57976996,"comment_id":102363705,"body_markdown":"It sounds like you should use the .contains() method. `If(two.contains(one) &amp;&amp; two.contains(&quot;US){}`","body":"It sounds like you should use the .contains() method. <code>If(two.contains(one) &amp;&amp; two.contains(&quot;US){}</code>"},{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":0,"creation_date":1568733116,"post_id":57976996,"comment_id":102364121,"body_markdown":"You can define function where you can pass two variables.One as input string and Other as xpath string and inside function block you can writedown the code for element and then compare with above resolution.If you could provide more info OP can provide you best possible solutions.","body":"You can define function where you can pass two variables.One as input string and Other as xpath string and inside function block you can writedown the code for element and then compare with above resolution.If you could provide more info OP can provide you best possible solutions."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568733336,"creation_date":1568733336,"answer_id":57977329,"question_id":57976996,"body_markdown":"To compare the presence of the text within the variable **one** as well as the text **US** within the variable **two** you can use the following solution:\r\n\r\n    if(two.contains(one) &amp;&amp; two.contains(&quot;US&quot;))\r\n    \tSystem.out.println(&quot;Comparision successful&quot;);\r\n    else\r\n    \tSystem.out.println(&quot;Comparision unsuccessful&quot;);","title":"How to verify/compare 2 values in Selenium?","body":"<p>To compare the presence of the text within the variable <strong>one</strong> as well as the text <strong>US</strong> within the variable <strong>two</strong> you can use the following solution:</p>\n\n<pre><code>if(two.contains(one) &amp;&amp; two.contains(\"US\"))\n    System.out.println(\"Comparision successful\");\nelse\n    System.out.println(\"Comparision unsuccessful\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16466890,"reputation":354,"user_id":11896805,"display_name":"work_ishaan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568733493,"creation_date":1568733493,"answer_id":57977367,"question_id":57976996,"body_markdown":"Selenium Assertions are the best way you can use `Assert` to compare two values. \r\n\r\nAssertions verify that the state of the application is same to what we are expecting. Selenium Assertions can be of three types: “assert”, “verify”, and ” waitFor”. When an “assert” fails, the test is aborted. When a “verify” fails, the test will continue execution, logging the failure.\r\nAvailable in \r\n```\r\nimport org.testng.Assert;\r\n```\r\nand perform \r\n```\r\nAssert.assertEquals(&quot;one&quot;,&quot;two&quot;);\r\n```\r\n\r\n\r\nIf you do not want your test to fail at a particular assertion and want to continue till the end and then assert, you can use `SoftAsserts`\r\n\r\nYou can read more about that here https://www.seleniumeasy.com/testng-tutorials/soft-asserts-in-testng-example","title":"How to verify/compare 2 values in Selenium?","body":"<p>Selenium Assertions are the best way you can use <code>Assert</code> to compare two values. </p>\n\n<p>Assertions verify that the state of the application is same to what we are expecting. Selenium Assertions can be of three types: “assert”, “verify”, and ” waitFor”. When an “assert” fails, the test is aborted. When a “verify” fails, the test will continue execution, logging the failure.\nAvailable in </p>\n\n<pre><code>import org.testng.Assert;\n</code></pre>\n\n<p>and perform </p>\n\n<pre><code>Assert.assertEquals(\"one\",\"two\");\n</code></pre>\n\n<p>If you do not want your test to fail at a particular assertion and want to continue till the end and then assert, you can use <code>SoftAsserts</code></p>\n\n<p>You can read more about that here <a href=\"https://www.seleniumeasy.com/testng-tutorials/soft-asserts-in-testng-example\" rel=\"nofollow noreferrer\">https://www.seleniumeasy.com/testng-tutorials/soft-asserts-in-testng-example</a></p>\n"}],"owner":{"account_id":16688348,"reputation":23,"user_id":12061574,"display_name":"Selenium Beginner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8780,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698249850,"creation_date":1568732158,"question_id":57976996,"body_markdown":"1. I have an input file which contains some String values. Lets Say String one.\r\n2. On a web page, I am identifying a web element and getting its value as a String. lets say String two.\r\n```\r\n    String one = &quot;abc&quot; //Value from input file.\r\n    String two = &quot;USabc&quot; // Value from identifying a web element.\r\n```\r\nI have to compare these 2 strings and my test case is that String two should contain &quot;US&quot; as well as contents of String one which are &quot;abc&quot;\r\n\r\nHow can i do this ?\r\n\r\nAlso, if I have multiple inputs and multiple outputs in one script, whats the best way of doing this? ","title":"How to verify/compare 2 values in Selenium?","body":"<ol>\n<li>I have an input file which contains some String values. Lets Say String one.</li>\n<li>On a web page, I am identifying a web element and getting its value as a String. lets say String two.</li>\n</ol>\n\n<pre><code>    String one = \"abc\" //Value from input file.\n    String two = \"USabc\" // Value from identifying a web element.\n</code></pre>\n\n<p>I have to compare these 2 strings and my test case is that String two should contain \"US\" as well as contents of String one which are \"abc\"</p>\n\n<p>How can i do this ?</p>\n\n<p>Also, if I have multiple inputs and multiple outputs in one script, whats the best way of doing this? </p>\n"},{"tags":["java","spring","spring-boot","spring-test"],"owner":{"account_id":3230535,"reputation":197,"user_id":2725919,"accept_rate":75,"display_name":"user2725919"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698249573,"creation_date":1698249573,"question_id":77361134,"body_markdown":"I have a Spring Boot project I recently upgraded to 3.0. Ever since the upgrade I am getting a failed integration test.\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    public class TestControllerTest {\r\n\r\n    @Value(&quot;${local.server.port}&quot;)\r\n    private int port;\r\n    MockRestServiceServer mockServer;\r\n\r\n    TestRestTemplate restTemplate;\r\n\r\n    @Autowired\r\n    TestService testService;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        restTemplate = new TestRestTemplate();\r\n        RestTemplate restTemplateMock = new RestTemplate();\r\n        mockServer = MockRestServiceServer.bindTo(restTemplateMock).build();\r\n        ReflectionTestUtils.setField(testService,&quot;restTemplate&quot;, restTemplateMock);\r\n    }\r\n\r\n    @Test\r\n    public void serviceUnavailable() {\r\n        mockServer.expect(times(1), requestTo(&quot;/dadsrootbear&quot;))\r\n                .andRespond(response -&gt; {\r\n                    throw new HttpServerErrorException(HttpStatusCode.valueOf(503));\r\n                });\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        HttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(headers);\r\n        var response = restTemplate.exchange(&quot;http://localhost:&quot;+port, HttpMethod.GET, entity, String.class);\r\n\r\n        assertEquals(HttpStatus.SERVICE_UNAVAILABLE, response.getStatusCode().value());\r\n    }\r\n    }\r\n\r\nWhat happens is I use rest to query the rest controller which calls out to a third party API and should then kick back a 503. I am mocking the restTemplate via reflection in the setup method to throw the 503.\r\n\r\nEver since Spring Boot 3.0 the 503 is thrown but the app throws a 500 afterwards shown below. I can see InvocationTargetException is being thrown in org.springframework.aop.support.AopUtils within invokeJoinpointUsingReflection() but I cannot figure out why its being thrown.\r\n\r\n    org.springframework.web.client.HttpServerErrorException: 503 SERVICE_UNAVAILABLE\r\n\tat com.example.demo.TestControllerTest.lambda$serviceUnavailable$0(TestControllerTest.java:44) ~[test/:na]\r\n\tat org.springframework.test.web.client.DefaultRequestExpectation.createResponse(DefaultRequestExpectation.java:101) ~[spring-test-6.0.13.jar:6.0.13]\r\n\tat org.springframework.test.web.client.AbstractRequestExpectationManager.validateRequest(AbstractRequestExpectationManager.java:101) ~[spring-test-6.0.13.jar:6.0.13]\r\n\tat org.springframework.test.web.client.MockRestServiceServer$MockClientHttpRequestFactory$1.executeInternal(MockRestServiceServer.java:287) ~[spring-test-6.0.13.jar:6.0.13]\r\n\tat org.springframework.mock.http.client.MockClientHttpRequest.execute(MockClientHttpRequest.java:126) ~[spring-test-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:862) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:764) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:405) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat com.example.demo.TestService.test(TestService.java:13) ~[main/:na]\r\n\tat com.example.demo.TestController.test(TestController.java:16) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.15.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n\r\n    expected: &lt;503 SERVICE_UNAVAILABLE&gt; but was: &lt;500&gt;\r\n    Expected :503 SERVICE_UNAVAILABLE\r\n    Actual   :500\r\n    &lt;Click to see difference&gt;\r\n    \r\n    org.opentest4j.AssertionFailedError: expected: &lt;503 SERVICE_UNAVAILABLE&gt; but was: &lt;500&gt;\r\n    \tat app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\r\n    \tat app//org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\r\n    \tat app//org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:197)\r\n    \tat app//org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\r\n    \tat app//org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)\r\n    \tat app//org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1142)\r\n    \tat app//com.example.demo.TestControllerTest.serviceUnavailable(TestControllerTest.java:51)\r\n    \tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n    \tat app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n    \tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n    \tat app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n    \tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n    \tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n    \tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n    \tat app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n    \tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n    \tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n    \tat app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n    \tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    \tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    \tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    \tat app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    \tat app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat app//org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:118)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:93)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:88)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n    \tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n    \tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n    \tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n    \tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n    \tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n    \tat app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n\r\n","title":"Mocked Rest Service throwing 500 InvocationTargetException after Expected Exception since Spring Boot 3","body":"<p>I have a Spring Boot project I recently upgraded to 3.0. Ever since the upgrade I am getting a failed integration test.</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class TestControllerTest {\n\n@Value(&quot;${local.server.port}&quot;)\nprivate int port;\nMockRestServiceServer mockServer;\n\nTestRestTemplate restTemplate;\n\n@Autowired\nTestService testService;\n\n@BeforeEach\npublic void setup() {\n    restTemplate = new TestRestTemplate();\n    RestTemplate restTemplateMock = new RestTemplate();\n    mockServer = MockRestServiceServer.bindTo(restTemplateMock).build();\n    ReflectionTestUtils.setField(testService,&quot;restTemplate&quot;, restTemplateMock);\n}\n\n@Test\npublic void serviceUnavailable() {\n    mockServer.expect(times(1), requestTo(&quot;/dadsrootbear&quot;))\n            .andRespond(response -&gt; {\n                throw new HttpServerErrorException(HttpStatusCode.valueOf(503));\n            });\n\n    HttpHeaders headers = new HttpHeaders();\n    HttpEntity&lt;?&gt; entity = new HttpEntity&lt;&gt;(headers);\n    var response = restTemplate.exchange(&quot;http://localhost:&quot;+port, HttpMethod.GET, entity, String.class);\n\n    assertEquals(HttpStatus.SERVICE_UNAVAILABLE, response.getStatusCode().value());\n}\n}\n</code></pre>\n<p>What happens is I use rest to query the rest controller which calls out to a third party API and should then kick back a 503. I am mocking the restTemplate via reflection in the setup method to throw the 503.</p>\n<p>Ever since Spring Boot 3.0 the 503 is thrown but the app throws a 500 afterwards shown below. I can see InvocationTargetException is being thrown in org.springframework.aop.support.AopUtils within invokeJoinpointUsingReflection() but I cannot figure out why its being thrown.</p>\n<pre><code>org.springframework.web.client.HttpServerErrorException: 503 SERVICE_UNAVAILABLE\nat com.example.demo.TestControllerTest.lambda$serviceUnavailable$0(TestControllerTest.java:44) ~[test/:na]\nat org.springframework.test.web.client.DefaultRequestExpectation.createResponse(DefaultRequestExpectation.java:101) ~[spring-test-6.0.13.jar:6.0.13]\nat org.springframework.test.web.client.AbstractRequestExpectationManager.validateRequest(AbstractRequestExpectationManager.java:101) ~[spring-test-6.0.13.jar:6.0.13]\nat org.springframework.test.web.client.MockRestServiceServer$MockClientHttpRequestFactory$1.executeInternal(MockRestServiceServer.java:287) ~[spring-test-6.0.13.jar:6.0.13]\nat org.springframework.mock.http.client.MockClientHttpRequest.execute(MockClientHttpRequest.java:126) ~[spring-test-6.0.13.jar:6.0.13]\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:862) ~[spring-web-6.0.13.jar:6.0.13]\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:764) ~[spring-web-6.0.13.jar:6.0.13]\nat org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:405) ~[spring-web-6.0.13.jar:6.0.13]\nat com.example.demo.TestService.test(TestService.java:13) ~[main/:na]\nat com.example.demo.TestController.test(TestController.java:16) ~[main/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.13.jar:6.0.13]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.13.jar:6.0.13]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.13.jar:6.0.13]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.13.jar:6.0.13]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.13.jar:6.0.13]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.13.jar:6.0.13]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.13.jar:6.0.13]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.13.jar:6.0.13]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.13.jar:6.0.13]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.13.jar:6.0.13]\nat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.15.jar:6.0]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.13.jar:6.0.13]\nat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.15.jar:6.0]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.15.jar:10.1.15]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.13.jar:6.0.13]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.13.jar:6.0.13]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.13.jar:6.0.13]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.13.jar:6.0.13]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.15.jar:10.1.15]\nat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n\nexpected: &lt;503 SERVICE_UNAVAILABLE&gt; but was: &lt;500&gt;\nExpected :503 SERVICE_UNAVAILABLE\nActual   :500\n&lt;Click to see difference&gt;\n\norg.opentest4j.AssertionFailedError: expected: &lt;503 SERVICE_UNAVAILABLE&gt; but was: &lt;500&gt;\n    at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\n    at app//org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\n    at app//org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:197)\n    at app//org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\n    at app//org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)\n    at app//org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1142)\n    at app//com.example.demo.TestControllerTest.serviceUnavailable(TestControllerTest.java:51)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\n    at app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base@17.0.2/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at app//org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at app//org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at app//org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:118)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:93)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:88)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base@17.0.2/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base@17.0.2/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base@17.0.2/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n</code></pre>\n"},{"tags":["java","android","locationmanager"],"answers":[{"tags":[],"owner":{"account_id":3963360,"reputation":3969,"user_id":3269958,"display_name":"Shalu T D"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1592977234,"creation_date":1592977234,"answer_id":62548415,"question_id":62548241,"body_markdown":"`addGpsStatusListener` is deprecated in `API level 24`. \r\nPlease use `LocationManager.registerGnssStatusCallback(GnssStatus.Callback)` instead.\r\n\r\nMore info, go to the [documentation][1]\r\n \r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/location/LocationManager#registerGnssStatusCallback(android.location.GnssStatus.Callback,%20android.os.Handler)","title":"AddGpsStatusListener of location manager not working in android 10","body":"<p><code>addGpsStatusListener</code> is deprecated in <code>API level 24</code>.\nPlease use <code>LocationManager.registerGnssStatusCallback(GnssStatus.Callback)</code> instead.</p>\n<p>More info, go to the <a href=\"https://developer.android.com/reference/android/location/LocationManager#registerGnssStatusCallback(android.location.GnssStatus.Callback,%20android.os.Handler)\" rel=\"nofollow noreferrer\">documentation</a></p>\n"},{"tags":[],"owner":{"account_id":3022132,"reputation":169,"user_id":2562897,"display_name":"Baskar PC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698249235,"creation_date":1698249235,"answer_id":77361088,"question_id":62548241,"body_markdown":"Yes when I updated the target to API 33 , it fails and says its deprecated. But this will work till API 31 [see this link][1]\r\n\r\nWe need to use the GnssStatus as given in the [code example][2]\r\n\r\n\r\n  [1]: https://github.com/heremaps/here-android-sdk-examples/issues/467\r\n  [2]: https://github.com/androidthings/drivers-samples/blob/master/gps/src/main/java/com/example/androidthings/driversamples/GpsActivity.java","title":"AddGpsStatusListener of location manager not working in android 10","body":"<p>Yes when I updated the target to API 33 , it fails and says its deprecated. But this will work till API 31 <a href=\"https://github.com/heremaps/here-android-sdk-examples/issues/467\" rel=\"nofollow noreferrer\">see this link</a></p>\n<p>We need to use the GnssStatus as given in the <a href=\"https://github.com/androidthings/drivers-samples/blob/master/gps/src/main/java/com/example/androidthings/driversamples/GpsActivity.java\" rel=\"nofollow noreferrer\">code example</a></p>\n"}],"owner":{"account_id":14773837,"reputation":431,"user_id":10669422,"display_name":"Ehsan Kalali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3517,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62548415,"answer_count":2,"score":3,"last_activity_date":1698249235,"creation_date":1592976308,"question_id":62548241,"body_markdown":"I used location manager for change status of GPS in navigation app.\r\nBut it not working in *android 10* (samsung a10).\r\nUnfortunately broadcast receiver is limited in android 10.\r\n\r\n**My code is:**\r\n\r\n```\r\nlocationManager.addGpsStatusListener(new GpsStatus.Listener() {\r\n            @Override\r\n            public void onGpsStatusChanged(int event) {\r\n                switch (event) {\r\n                    case GpsStatus.GPS_EVENT_STARTED:\r\n                        Log.i(TAG, &quot;GpsStatusChanged started&quot;);\r\n                        \r\n                        break;\r\n\r\n                    case GpsStatus.GPS_EVENT_STOPPED:\r\n                        Log.i(TAG, &quot;GpsStatusChanged stopped&quot;);\r\n                        break;\r\n\r\n                    case GpsStatus.GPS_EVENT_FIRST_FIX:\r\n                        break;\r\n\r\n                    case GpsStatus.GPS_EVENT_SATELLITE_STATUS:\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n```\r\nHow to resolve it?\r\n\r\nThanks for your help...","title":"AddGpsStatusListener of location manager not working in android 10","body":"<p>I used location manager for change status of GPS in navigation app.\nBut it not working in <em>android 10</em> (samsung a10).\nUnfortunately broadcast receiver is limited in android 10.</p>\n<p><strong>My code is:</strong></p>\n<pre><code>locationManager.addGpsStatusListener(new GpsStatus.Listener() {\n            @Override\n            public void onGpsStatusChanged(int event) {\n                switch (event) {\n                    case GpsStatus.GPS_EVENT_STARTED:\n                        Log.i(TAG, &quot;GpsStatusChanged started&quot;);\n                        \n                        break;\n\n                    case GpsStatus.GPS_EVENT_STOPPED:\n                        Log.i(TAG, &quot;GpsStatusChanged stopped&quot;);\n                        break;\n\n                    case GpsStatus.GPS_EVENT_FIRST_FIX:\n                        break;\n\n                    case GpsStatus.GPS_EVENT_SATELLITE_STATUS:\n                        break;\n                }\n            }\n        });\n</code></pre>\n<p>How to resolve it?</p>\n<p>Thanks for your help...</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1698249586,"post_id":77361083,"comment_id":136382089,"body_markdown":"`if (a) {...} else if (b) {...} else if (c) {...}` are mutually exclusive: Only *one* of the blocks `{...}` will be executed. Try removing the `else`s.","body":"<code>if (a) {...} else if (b) {...} else if (c) {...}</code> are mutually exclusive: Only <i>one</i> of the blocks <code>{...}</code> will be executed. Try removing the <code>else</code>s."},{"owner":{"account_id":29650081,"reputation":9,"user_id":22724211,"display_name":"Wendy Lawrence"},"score":0,"creation_date":1698250508,"post_id":77361083,"comment_id":136382281,"body_markdown":"I took the elses out and I am still getting the same issue.","body":"I took the elses out and I am still getting the same issue."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1698251754,"post_id":77361083,"comment_id":136382562,"body_markdown":"Are you testing by running this within the IDE? If so, have you checked console output?  Look at both `stdout` and `stderr`.","body":"Are you testing by running this within the IDE? If so, have you checked console output?  Look at both <code>stdout</code> and <code>stderr</code>."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1698252039,"post_id":77361083,"comment_id":136382626,"body_markdown":"Use _if-statements_ rather than _else-if statements_.","body":"Use <i>if-statements</i> rather than <i>else-if statements</i>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1698252056,"post_id":77361083,"comment_id":136382630,"body_markdown":"Have you tried running the code in a debugger? You can set a breakpoint. The code will halt, and then you can run the code one-step-at-a-time while monitoring the variables.","body":"Have you tried running the code in a debugger? You can set a breakpoint. The code will halt, and then you can run the code one-step-at-a-time while monitoring the variables."},{"owner":{"account_id":29650081,"reputation":9,"user_id":22724211,"display_name":"Wendy Lawrence"},"score":1,"creation_date":1698253386,"post_id":77361083,"comment_id":136382896,"body_markdown":"I am using IntelliJ for my IDE and the console doesn&#39;t have any output, no errors no nothing.","body":"I am using IntelliJ for my IDE and the console doesn&#39;t have any output, no errors no nothing."},{"owner":{"account_id":29650081,"reputation":9,"user_id":22724211,"display_name":"Wendy Lawrence"},"score":1,"creation_date":1698254239,"post_id":77361083,"comment_id":136383070,"body_markdown":"Thank you so much Old Dog! I used the debugger for the first time ever and it showed that the course English didn&#39;t receive any grades that were inputted. I went and checked it out and I had this code as if else statements:\n\nif (gradeMathCheckBox.isSelected()) { .... }\nif (gradeEnglishCheckBox.isSelected()) { ..... }","body":"Thank you so much Old Dog! I used the debugger for the first time ever and it showed that the course English didn&#39;t receive any grades that were inputted. I went and checked it out and I had this code as if else statements:  if (gradeMathCheckBox.isSelected()) { .... } if (gradeEnglishCheckBox.isSelected()) { ..... }"},{"owner":{"account_id":29650081,"reputation":9,"user_id":22724211,"display_name":"Wendy Lawrence"},"score":0,"creation_date":1698254374,"post_id":77361083,"comment_id":136383096,"body_markdown":"I was working late last night and must have changed it because it was working just fine yesterday.","body":"I was working late last night and must have changed it because it was working just fine yesterday."}],"owner":{"account_id":29650081,"reputation":9,"user_id":22724211,"display_name":"Wendy Lawrence"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698249176,"creation_date":1698249176,"question_id":77361083,"body_markdown":"So the background of what I am trying to accomplish. I am building a student management system that includes classes for adding students, enrolling in courses, adding grades, and displaying the student grades and course averages. What happens is when I am displaying the student grades and course averages the first course the student is enrolled in calculates just fine, doesn&#39;t matter which course it is (the first course in the list or the last course). After that, it seems that the next else-if statement doesn&#39;t execute. \r\n\r\nHere is the code from the start. Please note that I have only included the code for the first three courses.\r\n\r\nArrays in the MainMenu class that is to be used as a parent class.\r\n\r\n```\r\npublic static String[] studentFirstName = {&quot;Wendy&quot;, &quot;Jon&quot;};\r\n    public static String[] studentLastName = {&quot;Lawrence&quot;, &quot;Paul&quot;};\r\n    public static String[] studentId = {&quot;46834&quot;, &quot;6431&quot;};\r\n    public static String[] studentAge = {&quot;43&quot;, &quot;24&quot;};\r\npublic static String[] courseMath = new String[10000];\r\n    public static String[] courseEnglish = new String[10000];\r\n    public static String[] courseHistory = new String[10000];\r\npublic static int[][] courseGradeMath = new int[3][10000];\r\n    public static int[][] courseGradeEnglish = new int[3][10000];\r\n    public static int[][] courseGradeHistory = new int[3][10000];\r\n public static int mathAverageGrade = 0;\r\n    public static int mathAverageCount = 0;\r\n    public static int englishAverageGrade = 0;\r\n    public static int englishAverageCount = 0;\r\n    public static int historyAverageGrade = 0;\r\n    public static int historyAverageCount = 0;\r\n```\r\n\r\nCode in the StudentGrades class\r\n\r\n```\r\nif (e.getSource() == gradeGetStudentIndex) {\r\n            //clears JLabels to display the new student&#39;s grades\r\n            mathGrade.setText(&quot;&quot;);\r\n            mathAverage.setText(&quot;&quot;);\r\n            englishGrade.setText(&quot;&quot;);\r\n            englishAverage.setText(&quot;&quot;);\r\n            historyGrade.setText(&quot;&quot;);\r\n            historyAverage.setText(&quot;&quot;);\r\n            \r\n\r\n            /*\r\n             * When gradeGetStudentIndex button is clicked it first sets the\r\n             * variable grStudentIndex to the index of the gradeStudentCombo.\r\n             * This variable allows for other functions to be set or retrieved\r\n             * to/from their corresponding arrays.\r\n             * */\r\n            grStudentIndex = gradeStudentCombo.getSelectedIndex();\r\n\r\n            //calculates the personal grade and the class average for Math\r\n            if (courseGradeMath[0][grStudentIndex] &gt; 0) {\r\n                /*\r\n                 * calculates personal grade by dividing array courseGrade&lt;course-Name&gt;[0] by\r\n                 * array courseGrade&lt;course-Name&gt;[1] at the student&#39;s index of grStudentIndex.\r\n                 * Then sets value to &lt;course-name&gt;Grade JLabel.\r\n                 * */\r\n                mathGrade.setText(String.valueOf((courseGradeMath[0][grStudentIndex] / courseGradeMath[1][grStudentIndex])));\r\n                /*\r\n                 * calculates class average, by looping through the array studentFirstName\r\n                 * and adds all grades in the courseGrade&lt;course-name&gt;[0] 2d array then adds\r\n                 * all the assignment counts from courseGrade&lt;course-name&gt;[1] 2d array\r\n                 * */\r\n                for (int av = 0; av &lt;= studentFirstName.length - 1; av++) {\r\n                    mathAverageGrade = mathAverageGrade + courseGradeMath[0][av];\r\n                    mathAverageCount = mathAverageCount + courseGradeMath[1][av];\r\n                }\r\n                /*\r\n                 * calculates the courses average by taking the total &lt;course-name&gt;AverageGrade\r\n                 * divide by the total from &lt;course-name&gt;AverageCount and sets the average into\r\n                 * the variable &lt;course-name&gt;Average.\r\n                 * */\r\n                mathAverage.setText(String.valueOf(mathAverageGrade / mathAverageCount));\r\n            } else if (courseGradeEnglish[0][grStudentIndex] &gt; 0) {\r\n                /*\r\n                 * calculates personal grade by dividing array courseGrade&lt;course-Name&gt;[0] by\r\n                 * array courseGrade&lt;course-Name&gt;[1] at the student&#39;s index of grStudentIndex.\r\n                 * Then sets value to &lt;course-name&gt;Grade JLabel.\r\n                 * */\r\n                englishGrade.setText(String.valueOf((courseGradeEnglish[0][grStudentIndex] / courseGradeEnglish[1][grStudentIndex])));\r\n                /*\r\n                 * calculates class average, by looping through the array studentFirstName\r\n                 * and adds all grades in the courseGrade&lt;course-name&gt;[0] 2d array then adds\r\n                 * all the assignment counts from courseGrade&lt;course-name&gt;[1] 2d array\r\n                 * */\r\n                for (int av = 0; av &lt;= studentFirstName.length - 1; av++) {\r\n                    englishAverageGrade = englishAverageGrade + courseGradeEnglish[0][av];\r\n                    englishAverageCount = englishAverageCount + courseGradeEnglish[1][av];\r\n                }\r\n                /*\r\n                 * calculates the courses average by taking the total &lt;course-name&gt;AverageGrade\r\n                 * divide by the total from &lt;course-name&gt;AverageCount and sets the average into\r\n                 * the variable &lt;course-name&gt;Average.\r\n                 * */\r\n                englishAverage.setText(String.valueOf(englishAverageGrade / englishAverageCount));\r\n            } else if (courseGradeHistory[1][grStudentIndex] &gt; 0) {\r\n                /*\r\n                 * calculates personal grade by dividing array courseGrade&lt;course-Name&gt;[0] by\r\n                 * array courseGrade&lt;course-Name&gt;[1] at the student&#39;s index of grStudentIndex.\r\n                 * Then sets value to &lt;course-name&gt;Grade JLabel.\r\n                 * */\r\n                historyGrade.setText(String.valueOf((courseGradeHistory[0][grStudentIndex] / courseGradeHistory[1][grStudentIndex])));\r\n                /*\r\n                 * calculates class average, by looping through the array studentFirstName\r\n                 * and adds all grades in the courseGrade&lt;course-name&gt;[0] 2d array then adds\r\n                 * all the assignment counts from courseGrade&lt;course-name&gt;[1] 2d array\r\n                 * */\r\n                for (int av = 0; av &lt;= studentFirstName.length - 1; av++) {\r\n                    historyAverageGrade = historyAverageGrade + courseGradeHistory[0][av];\r\n                    historyAverageCount = historyAverageCount + courseGradeHistory[1][av];\r\n                }\r\n                /*\r\n                 * calculates the courses average by taking the total &lt;course-name&gt;AverageGrade\r\n                 * divide by the total from &lt;course-name&gt;AverageCount and sets the average into\r\n                 * the variable &lt;course-name&gt;Average.\r\n                 * */\r\n                historyAverage.setText(String.valueOf(historyAverageGrade / historyAverageCount));\r\n            }\r\n```\r\n\r\nThis is what I see:\r\n\r\n[Wendy is enrolled in Math and English](https://i.stack.imgur.com/mdOz4.png)\r\n[Jon is enrolled in English and History](https://i.stack.imgur.com/vWAzZ.png)","title":"Next if-else not executing","body":"<p>So the background of what I am trying to accomplish. I am building a student management system that includes classes for adding students, enrolling in courses, adding grades, and displaying the student grades and course averages. What happens is when I am displaying the student grades and course averages the first course the student is enrolled in calculates just fine, doesn't matter which course it is (the first course in the list or the last course). After that, it seems that the next else-if statement doesn't execute.</p>\n<p>Here is the code from the start. Please note that I have only included the code for the first three courses.</p>\n<p>Arrays in the MainMenu class that is to be used as a parent class.</p>\n<pre><code>public static String[] studentFirstName = {&quot;Wendy&quot;, &quot;Jon&quot;};\n    public static String[] studentLastName = {&quot;Lawrence&quot;, &quot;Paul&quot;};\n    public static String[] studentId = {&quot;46834&quot;, &quot;6431&quot;};\n    public static String[] studentAge = {&quot;43&quot;, &quot;24&quot;};\npublic static String[] courseMath = new String[10000];\n    public static String[] courseEnglish = new String[10000];\n    public static String[] courseHistory = new String[10000];\npublic static int[][] courseGradeMath = new int[3][10000];\n    public static int[][] courseGradeEnglish = new int[3][10000];\n    public static int[][] courseGradeHistory = new int[3][10000];\n public static int mathAverageGrade = 0;\n    public static int mathAverageCount = 0;\n    public static int englishAverageGrade = 0;\n    public static int englishAverageCount = 0;\n    public static int historyAverageGrade = 0;\n    public static int historyAverageCount = 0;\n</code></pre>\n<p>Code in the StudentGrades class</p>\n<pre><code>if (e.getSource() == gradeGetStudentIndex) {\n            //clears JLabels to display the new student's grades\n            mathGrade.setText(&quot;&quot;);\n            mathAverage.setText(&quot;&quot;);\n            englishGrade.setText(&quot;&quot;);\n            englishAverage.setText(&quot;&quot;);\n            historyGrade.setText(&quot;&quot;);\n            historyAverage.setText(&quot;&quot;);\n            \n\n            /*\n             * When gradeGetStudentIndex button is clicked it first sets the\n             * variable grStudentIndex to the index of the gradeStudentCombo.\n             * This variable allows for other functions to be set or retrieved\n             * to/from their corresponding arrays.\n             * */\n            grStudentIndex = gradeStudentCombo.getSelectedIndex();\n\n            //calculates the personal grade and the class average for Math\n            if (courseGradeMath[0][grStudentIndex] &gt; 0) {\n                /*\n                 * calculates personal grade by dividing array courseGrade&lt;course-Name&gt;[0] by\n                 * array courseGrade&lt;course-Name&gt;[1] at the student's index of grStudentIndex.\n                 * Then sets value to &lt;course-name&gt;Grade JLabel.\n                 * */\n                mathGrade.setText(String.valueOf((courseGradeMath[0][grStudentIndex] / courseGradeMath[1][grStudentIndex])));\n                /*\n                 * calculates class average, by looping through the array studentFirstName\n                 * and adds all grades in the courseGrade&lt;course-name&gt;[0] 2d array then adds\n                 * all the assignment counts from courseGrade&lt;course-name&gt;[1] 2d array\n                 * */\n                for (int av = 0; av &lt;= studentFirstName.length - 1; av++) {\n                    mathAverageGrade = mathAverageGrade + courseGradeMath[0][av];\n                    mathAverageCount = mathAverageCount + courseGradeMath[1][av];\n                }\n                /*\n                 * calculates the courses average by taking the total &lt;course-name&gt;AverageGrade\n                 * divide by the total from &lt;course-name&gt;AverageCount and sets the average into\n                 * the variable &lt;course-name&gt;Average.\n                 * */\n                mathAverage.setText(String.valueOf(mathAverageGrade / mathAverageCount));\n            } else if (courseGradeEnglish[0][grStudentIndex] &gt; 0) {\n                /*\n                 * calculates personal grade by dividing array courseGrade&lt;course-Name&gt;[0] by\n                 * array courseGrade&lt;course-Name&gt;[1] at the student's index of grStudentIndex.\n                 * Then sets value to &lt;course-name&gt;Grade JLabel.\n                 * */\n                englishGrade.setText(String.valueOf((courseGradeEnglish[0][grStudentIndex] / courseGradeEnglish[1][grStudentIndex])));\n                /*\n                 * calculates class average, by looping through the array studentFirstName\n                 * and adds all grades in the courseGrade&lt;course-name&gt;[0] 2d array then adds\n                 * all the assignment counts from courseGrade&lt;course-name&gt;[1] 2d array\n                 * */\n                for (int av = 0; av &lt;= studentFirstName.length - 1; av++) {\n                    englishAverageGrade = englishAverageGrade + courseGradeEnglish[0][av];\n                    englishAverageCount = englishAverageCount + courseGradeEnglish[1][av];\n                }\n                /*\n                 * calculates the courses average by taking the total &lt;course-name&gt;AverageGrade\n                 * divide by the total from &lt;course-name&gt;AverageCount and sets the average into\n                 * the variable &lt;course-name&gt;Average.\n                 * */\n                englishAverage.setText(String.valueOf(englishAverageGrade / englishAverageCount));\n            } else if (courseGradeHistory[1][grStudentIndex] &gt; 0) {\n                /*\n                 * calculates personal grade by dividing array courseGrade&lt;course-Name&gt;[0] by\n                 * array courseGrade&lt;course-Name&gt;[1] at the student's index of grStudentIndex.\n                 * Then sets value to &lt;course-name&gt;Grade JLabel.\n                 * */\n                historyGrade.setText(String.valueOf((courseGradeHistory[0][grStudentIndex] / courseGradeHistory[1][grStudentIndex])));\n                /*\n                 * calculates class average, by looping through the array studentFirstName\n                 * and adds all grades in the courseGrade&lt;course-name&gt;[0] 2d array then adds\n                 * all the assignment counts from courseGrade&lt;course-name&gt;[1] 2d array\n                 * */\n                for (int av = 0; av &lt;= studentFirstName.length - 1; av++) {\n                    historyAverageGrade = historyAverageGrade + courseGradeHistory[0][av];\n                    historyAverageCount = historyAverageCount + courseGradeHistory[1][av];\n                }\n                /*\n                 * calculates the courses average by taking the total &lt;course-name&gt;AverageGrade\n                 * divide by the total from &lt;course-name&gt;AverageCount and sets the average into\n                 * the variable &lt;course-name&gt;Average.\n                 * */\n                historyAverage.setText(String.valueOf(historyAverageGrade / historyAverageCount));\n            }\n</code></pre>\n<p>This is what I see:</p>\n<p><a href=\"https://i.stack.imgur.com/mdOz4.png\" rel=\"nofollow noreferrer\">Wendy is enrolled in Math and English</a>\n<a href=\"https://i.stack.imgur.com/vWAzZ.png\" rel=\"nofollow noreferrer\">Jon is enrolled in English and History</a></p>\n"},{"tags":["java","spring","spring-boot","shedlock"],"answers":[{"tags":[],"owner":{"account_id":241355,"reputation":5451,"user_id":512115,"accept_rate":93,"display_name":"gtludwig"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568196151,"creation_date":1568196151,"answer_id":57886721,"question_id":57885933,"body_markdown":"Got it working by changing shedlock&#39;s `&lt;dependency /&gt;` to:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;${shedlock.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;","title":"spring-boot and shedlock - how to track down dependency conflicts?","body":"<p>Got it working by changing shedlock's <code>&lt;dependency /&gt;</code> to:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n        &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\n        &lt;version&gt;${shedlock.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7063527,"reputation":471,"user_id":5407758,"accept_rate":0,"display_name":"bvyas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698249080,"creation_date":1698249080,"answer_id":77361067,"question_id":57885933,"body_markdown":"You can correct version of Shedlock jar dependency. Also if you see conflicts of one or more jar than exclude it.\r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;xxx&lt;/version&gt;\r\n           \r\n        &lt;/dependency&gt;","title":"spring-boot and shedlock - how to track down dependency conflicts?","body":"<p>You can correct version of Shedlock jar dependency. Also if you see conflicts of one or more jar than exclude it.</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n        &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\n        &lt;version&gt;xxx&lt;/version&gt;\n       \n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":241355,"reputation":5451,"user_id":512115,"accept_rate":93,"display_name":"gtludwig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698249080,"creation_date":1568193597,"question_id":57885933,"body_markdown":"I need to update the minor version of spring-boot in a microservices project that uses shedlock.\r\n\r\nIf spring-boot is on version 2.0.x it works fine, but if I upgrade it to 2.1.x, the tests the application maven build break and give me this output.\r\n\r\n    java.lang.AbstractMethodError: org.springframework.boot.context.config.ConfigFileApplicationListener.supportsSourceType(Ljava/lang/Class;)Z\r\n\r\n\tat org.springframework.context.event.GenericApplicationListenerAdapter.supportsSourceType(GenericApplicationListenerAdapter.java:81)\r\n\tat org.springframework.context.event.AbstractApplicationEventMulticaster.supportsEvent(AbstractApplicationEventMulticaster.java:294)\r\n\tat org.springframework.context.event.AbstractApplicationEventMulticaster.retrieveApplicationListeners(AbstractApplicationEventMulticaster.java:224)\r\n\tat org.springframework.context.event.AbstractApplicationEventMulticaster.getApplicationListeners(AbstractApplicationEventMulticaster.java:195)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:133)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:75)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:54)\r\n\tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:347)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:306)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n\tat org.junit.runners.Suite.runChild(Suite.java:128)\r\n\tat org.junit.runners.Suite.runChild(Suite.java:27)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n\r\nMaven dependency tree is:\r\n\r\n&gt; i.b.l:oaa:war:0.0.8-RELEASE                      \r\n&gt; \r\n&gt; +- i.b.l:domain:jar:0.0.6-SNAPSHOT:compile                                   |  \\-\r\n&gt; com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.9.7:compile\r\n&gt; |     +-\r\n&gt; com.fasterxml.jackson.core:jackson-annotations:jar:2.9.0:compile      \r\n&gt; |     \\- com.fasterxml.jackson.core:jackson-databind:jar:2.9.7:compile\r\n&gt; \r\n&gt; +- org.springframework.boot:spring-boot-starter:jar:2.1.1.RELEASE:compile\r\n&gt; |  +- org.springframework.boot:spring-boot:jar:2.1.1.RELEASE:compile  \r\n&gt; |  +-\r\n&gt; org.springframework.boot:spring-boot-autoconfigure:jar:2.1.1.RELEASE:compile\r\n&gt; |  +- javax.annotation:javax.annotation-api:jar:1.3.2:compile         \r\n&gt; |  +- org.springframework:spring-core:jar:5.1.3.RELEASE:compile       \r\n&gt; |  |  \\- org.springframework:spring-jcl:jar:5.1.3.RELEASE:compile     \r\n&gt; |  \\- org.yaml:snakeyaml:jar:1.23:compile                             \r\n&gt; \r\n&gt; +- com.oracle:ojdbc6:jar:11.2.0:compile                                                      \r\n&gt; +- org.springframework.boot:spring-boot-starter-web:jar:2.1.1.RELEASE:compile\r\n&gt; |  +-\r\n&gt; org.springframework.boot:spring-boot-starter-json:jar:2.1.1.RELEASE:compile\r\n&gt; |  |  +-\r\n&gt; com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.9.7:compile\r\n&gt; |  |  \\-\r\n&gt; com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.9.7:compile\r\n&gt; |  +-\r\n&gt; org.hibernate.validator:hibernate-validator:jar:6.0.13.Final:compile  \r\n&gt; |  |  +- javax.validation:validation-api:jar:2.0.1.Final:compile      \r\n&gt; |  |  \\- org.jboss.logging:jboss-logging:jar:3.3.2.Final:compile      \r\n&gt; |  +- org.springframework:spring-web:jar:5.1.3.RELEASE:compile        \r\n&gt; |  |  \\- org.springframework:spring-beans:jar:5.1.3.RELEASE:compile   \r\n&gt; |  \\- org.springframework:spring-webmvc:jar:5.1.3.RELEASE:compile     \r\n&gt; |     +- org.springframework:spring-aop:jar:5.1.3.RELEASE:compile     \r\n&gt; |     \\-\r\n&gt; org.springframework:spring-expression:jar:5.1.3.RELEASE:compile       \r\n&gt; \r\n&gt; +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.1.1.RELEASE:provided\r\n&gt; |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.13:provided   \r\n&gt; |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:9.0.13:provided     \r\n&gt; |  \\-\r\n&gt; org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.13:provided    \r\n&gt; \r\n&gt; +- org.springframework.boot:spring-boot-starter-jdbc:jar:2.1.1.RELEASE:compile\r\n&gt; |  +- com.zaxxer:HikariCP:jar:3.2.0:compile                           \r\n&gt; |  \\- org.springframework:spring-jdbc:jar:5.1.3.RELEASE:compile       \r\n&gt; |     \\- org.springframework:spring-tx:jar:5.1.3.RELEASE:compile      \r\n&gt; \r\n&gt; +- org.springframework.boot:spring-boot-starter-actuator:jar:2.1.1.RELEASE:compile\r\n&gt; |  +-\r\n&gt; org.springframework.boot:spring-boot-actuator-autoconfigure:jar:2.1.1.RELEASE:compile\r\n&gt; |  |  \\-\r\n&gt; org.springframework.boot:spring-boot-actuator:jar:2.1.1.RELEASE:compile\r\n&gt; |  \\- io.micrometer:micrometer-core:jar:1.1.1:compile                 \r\n&gt; |     +- org.hdrhistogram:HdrHistogram:jar:2.1.9:compile              \r\n&gt; |     \\- org.latencyutils:LatencyUtils:jar:2.0.3:compile              \r\n&gt; \r\n&gt; +- org.springframework.boot:spring-boot-starter-test:jar:2.1.1.RELEASE:compile\r\n&gt; |  +-\r\n&gt; org.springframework.boot:spring-boot-test:jar:2.1.1.RELEASE:compile   \r\n&gt; |  +-\r\n&gt; org.springframework.boot:spring-boot-test-autoconfigure:jar:2.1.1.RELEASE:compile\r\n&gt; |  +- com.jayway.jsonpath:json-path:jar:2.4.0:compile                 \r\n&gt; |  |  \\- net.minidev:json-smart:jar:2.3:compile                       \r\n&gt; |  |     \\- net.minidev:accessors-smart:jar:1.2:compile               \r\n&gt; |  |        \\- org.ow2.asm:asm:jar:5.0.4:compile                      \r\n&gt; |  +- junit:junit:jar:4.12:compile                                    \r\n&gt; |  +- org.assertj:assertj-core:jar:3.11.1:compile                     \r\n&gt; |  +- org.hamcrest:hamcrest-core:jar:1.3:compile                      \r\n&gt; |  +- org.hamcrest:hamcrest-library:jar:1.3:compile                   \r\n&gt; |  +- org.skyscreamer:jsonassert:jar:1.5.0:compile                    \r\n&gt; |  |  \\-\r\n&gt; com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:compile\r\n&gt; |  +- org.springframework:spring-test:jar:5.1.3.RELEASE:compile       \r\n&gt; |  \\- org.xmlunit:xmlunit-core:jar:2.6.2:compile                      \r\n&gt; \r\n&gt; +- org.springframework.boot:spring-boot-starter-log4j2:jar:2.1.1.RELEASE:compile\r\n&gt; |  +- org.apache.logging.log4j:log4j-slf4j-impl:jar:2.11.1:compile    \r\n&gt; |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.11.1:compile        \r\n&gt; |  +- org.apache.logging.log4j:log4j-core:jar:2.11.1:compile          \r\n&gt; |  +- org.apache.logging.log4j:log4j-jul:jar:2.11.1:compile           \r\n&gt; |  \\- org.slf4j:jul-to-slf4j:jar:1.7.25:compile                       \r\n&gt; \r\n&gt; +- org.apache.httpcomponents:httpclient:jar:4.5.6:compile                                     |  +- commons-logging:commons-logging:jar:1.2:compile                 \r\n&gt; |  \\- commons-codec:commons-codec:jar:1.10:compile                    \r\n&gt; \r\n&gt; +- org.apache.httpcomponents:httpcore:jar:4.4.10:compile                                     \r\n&gt; +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.9.7:compile\r\n&gt; |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.9.7:compile       \r\n&gt; \r\n&gt; +- io.springfox:springfox-swagger2:jar:2.9.2:compile                                          |  +- io.swagger:swagger-annotations:jar:1.5.20:compile               \r\n&gt; |  +- io.swagger:swagger-models:jar:1.5.20:compile                    \r\n&gt; |  +- io.springfox:springfox-spi:jar:2.9.2:compile                    \r\n&gt; |  |  \\- io.springfox:springfox-core:jar:2.9.2:compile                \r\n&gt; |  +- io.springfox:springfox-schema:jar:2.9.2:compile                 \r\n&gt; |  +- io.springfox:springfox-swagger-common:jar:2.9.2:compile         \r\n&gt; |  +- io.springfox:springfox-spring-web:jar:2.9.2:compile             \r\n&gt; |  +- com.google.guava:guava:jar:20.0:compile                         \r\n&gt; |  +- com.fasterxml:classmate:jar:1.4.0:compile                       \r\n&gt; |  +- org.slf4j:slf4j-api:jar:1.7.25:compile                          \r\n&gt; |  +-\r\n&gt; org.springframework.plugin:spring-plugin-core:jar:1.2.0.RELEASE:compile\r\n&gt; |  +-\r\n&gt; org.springframework.plugin:spring-plugin-metadata:jar:1.2.0.RELEASE:compile\r\n&gt; |  \\- org.mapstruct:mapstruct:jar:1.2.0.Final:compile                 \r\n&gt; \r\n&gt; +- io.springfox:springfox-swagger-ui:jar:2.9.2:compile                                       \r\n&gt; +- org.projectlombok:lombok:jar:1.18.4:compile                                               \r\n&gt; +- org.apache.commons:commons-lang3:jar:3.8.1:compile                                        \r\n&gt; +- com.h2database:h2:jar:1.4.197:compile                                                     \r\n&gt; +- org.springframework.boot:spring-boot-starter-data-jpa:jar:2.1.1.RELEASE:compile\r\n&gt; |  +-\r\n&gt; org.springframework.boot:spring-boot-starter-aop:jar:2.1.1.RELEASE:compile\r\n&gt; |  |  \\- org.aspectj:aspectjweaver:jar:1.9.2:compile                  \r\n&gt; |  +- javax.transaction:javax.transaction-api:jar:1.3:compile         \r\n&gt; |  +- javax.xml.bind:jaxb-api:jar:2.3.1:compile                       \r\n&gt; |  |  \\- javax.activation:javax.activation-api:jar:1.2.0:compile      \r\n&gt; |  +- org.hibernate:hibernate-core:jar:5.3.7.Final:compile            \r\n&gt; |  |  +- javax.persistence:javax.persistence-api:jar:2.2:compile      \r\n&gt; |  |  +- org.javassist:javassist:jar:3.23.1-GA:compile                \r\n&gt; |  |  +- antlr:antlr:jar:2.7.7:compile                                \r\n&gt; |  |  +- org.jboss:jandex:jar:2.0.5.Final:compile                     \r\n&gt; |  |  +- org.dom4j:dom4j:jar:2.1.1:compile                            \r\n&gt; |  |  \\-\r\n&gt; org.hibernate.common:hibernate-commons-annotations:jar:5.0.4.Final:compile\r\n&gt; |  +-\r\n&gt; org.springframework.data:spring-data-jpa:jar:2.1.3.RELEASE:compile    \r\n&gt; |  |  +-\r\n&gt; org.springframework.data:spring-data-commons:jar:2.1.3.RELEASE:compile\r\n&gt; |  |  \\- org.springframework:spring-orm:jar:5.1.3.RELEASE:compile     \r\n&gt; |  \\- org.springframework:spring-aspects:jar:5.1.3.RELEASE:compile    \r\n&gt; \r\n&gt; +- org.mockito:mockito-core:jar:2.21.0:compile                                                |  +- net.bytebuddy:byte-buddy:jar:1.8.15:compile                     \r\n&gt; |  +- net.bytebuddy:byte-buddy-agent:jar:1.8.15:compile               \r\n&gt; |  \\- org.objenesis:objenesis:jar:2.6:compile                         \r\n&gt; \r\n&gt; +- commons-io:commons-io:jar:2.6:compile                                                     \r\n&gt; +- org.powermock:powermock-module-junit4:jar:2.0.0:test                                       |  \\- org.powermock:powermock-module-junit4-common:jar:2.0.0:test     \r\n&gt; |     +- org.powermock:powermock-reflect:jar:2.0.0:test               \r\n&gt; |     \\- org.powermock:powermock-core:jar:2.0.0:test                  \r\n&gt; \r\n&gt; +- org.powermock:powermock-api-mockito2:jar:2.0.0:test                                        |  \\- org.powermock:powermock-api-support:jar:2.0.0:test              \r\n&gt; \r\n&gt; +- net.javacrumbs.shedlock:shedlock-spring:jar:2.5.0:compile                                  |  +- net.javacrumbs.shedlock:shedlock-core:jar:2.5.0:compile         \r\n&gt; |  \\- org.springframework:spring-context:jar:5.0.6.RELEASE:compile    \r\n&gt; \r\n&gt; +- net.javacrumbs.shedlock:shedlock-provider-jdbc-template:jar:2.5.0:compile\r\n&gt; |  \\-\r\n&gt; net.javacrumbs.shedlock:shedlock-provider-jdbc-internal:jar:2.5.0:compile\r\n&gt; \\- javax.mail:mail:jar:1.4:compile                                    \r\n&gt; \\- javax.activation:activation:jar:1.1:compile\r\n\r\nAnd `pom.xml` is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;i.b.l&lt;/groupId&gt;\r\n        &lt;artifactId&gt;oaa&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.8-RELEASE&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;domain.version&gt;0.0.6-SNAPSHOT&lt;/domain.version&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n            &lt;spring.boot.version&gt;2.1.1.RELEASE&lt;/spring.boot.version&gt;\r\n            &lt;log4j.version&gt;1.2.17&lt;/log4j.version&gt;\r\n            &lt;httpclient.version&gt;4.5.6&lt;/httpclient.version&gt;\r\n            &lt;httpcore.version&gt;4.4.10&lt;/httpcore.version&gt;\r\n            &lt;jackson-dataformat-yaml.version&gt;2.9.7&lt;/jackson-dataformat-yaml.version&gt;\r\n            &lt;swagger.version&gt;2.9.2&lt;/swagger.version&gt;\r\n            &lt;lombok.version&gt;1.18.4&lt;/lombok.version&gt;\r\n            &lt;commons-lang3.version&gt;3.8.1&lt;/commons-lang3.version&gt;\r\n            &lt;maven-checkstyle-version&gt;3.0.0&lt;/maven-checkstyle-version&gt;\r\n            &lt;h2database.version&gt;1.4.197&lt;/h2database.version&gt;\r\n            &lt;mockito.version&gt;2.21.0&lt;/mockito.version&gt;\r\n            &lt;ojdbc.version&gt;11.2.0&lt;/ojdbc.version&gt;\r\n            &lt;shedlock.version&gt;2.5.0&lt;/shedlock.version&gt;\r\n            &lt;commons-io.version&gt;2.6&lt;/commons-io.version&gt;\r\n            &lt;powermock.version&gt;2.0.0&lt;/powermock.version&gt;\r\n            &lt;javax-mail.version&gt;1.4&lt;/javax-mail.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;i.b.l&lt;/groupId&gt;\r\n                &lt;artifactId&gt;domain&lt;/artifactId&gt;\r\n                &lt;version&gt;${domain.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\r\n                &lt;version&gt;${ojdbc.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n                &lt;version&gt;${httpclient.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n                &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n                &lt;version&gt;${httpcore.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\r\n                &lt;version&gt;${jackson-dataformat-yaml.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                &lt;version&gt;${h2database.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${mockito.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;${commons-io.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\r\n                &lt;version&gt;${shedlock.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;shedlock-provider-jdbc-template&lt;/artifactId&gt;\r\n                &lt;version&gt;${shedlock.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n                &lt;version&gt;${javax-mail.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                    &lt;filtering&gt;true&lt;/filtering&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/*.jks&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/resource&gt;\r\n            &lt;/resources&gt;\r\n            &lt;testResources&gt;\r\n                &lt;testResource&gt;\r\n                    &lt;directory&gt;src/test/resources&lt;/directory&gt;\r\n                &lt;/testResource&gt;\r\n            &lt;/testResources&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;repackage&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;webXml&gt;src/main/resources/web.xml&lt;/webXml&gt;\r\n                        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven-checkstyle-version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;validate&lt;/id&gt;\r\n                            &lt;phase&gt;validate&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;configLocation&gt;java-checkstyle-rules.xml&lt;/configLocation&gt;\r\n                                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                                &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\r\n                                &lt;failsOnError&gt;true&lt;/failsOnError&gt;\r\n                            &lt;/configuration&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;check&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;distributionManagement&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;nexus-releases&lt;/id&gt;\r\n                &lt;url&gt;http://d1f2fwc2w7.boigroup.net:8081/nexus/repository/maven-releases&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;snapshotRepository&gt;\r\n                &lt;id&gt;nexus-snapshots&lt;/id&gt;\r\n                &lt;url&gt;http://d1f2fwc2w7.boigroup.net:8081/nexus/repository/maven-snapshots&lt;/url&gt;\r\n            &lt;/snapshotRepository&gt;\r\n        &lt;/distributionManagement&gt;\r\n    \r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;local&lt;/id&gt;\r\n                &lt;properties&gt;\r\n                    &lt;activatedProfiles&gt;local&lt;/activatedProfiles&gt;\r\n                &lt;/properties&gt;\r\n                &lt;activation&gt;\r\n                    &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n                &lt;/activation&gt;\r\n            &lt;/profile&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;prd&lt;/id&gt;\r\n                &lt;properties&gt;\r\n                    &lt;activatedProfiles&gt;prd&lt;/activatedProfiles&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;war&lt;/id&gt;\r\n                &lt;properties&gt;\r\n                    &lt;activatedProfiles&gt;war&lt;/activatedProfiles&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nI posted this to ShedLock issues page and they said it is more likely to be an issue of a conflicting dependency, than a problem with ShedLock.\r\n\r\nHow can I get this fixed?","title":"spring-boot and shedlock - how to track down dependency conflicts?","body":"<p>I need to update the minor version of spring-boot in a microservices project that uses shedlock.</p>\n\n<p>If spring-boot is on version 2.0.x it works fine, but if I upgrade it to 2.1.x, the tests the application maven build break and give me this output.</p>\n\n<pre><code>java.lang.AbstractMethodError: org.springframework.boot.context.config.ConfigFileApplicationListener.supportsSourceType(Ljava/lang/Class;)Z\n\nat org.springframework.context.event.GenericApplicationListenerAdapter.supportsSourceType(GenericApplicationListenerAdapter.java:81)\nat org.springframework.context.event.AbstractApplicationEventMulticaster.supportsEvent(AbstractApplicationEventMulticaster.java:294)\nat org.springframework.context.event.AbstractApplicationEventMulticaster.retrieveApplicationListeners(AbstractApplicationEventMulticaster.java:224)\nat org.springframework.context.event.AbstractApplicationEventMulticaster.getApplicationListeners(AbstractApplicationEventMulticaster.java:195)\nat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:133)\nat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\nat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:75)\nat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:54)\nat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:347)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:306)\nat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:127)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)\nat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)\nat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\nat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\nat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\nat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\nat org.junit.runners.Suite.runChild(Suite.java:128)\nat org.junit.runners.Suite.runChild(Suite.java:27)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n\n<p>Maven dependency tree is:</p>\n\n<blockquote>\n  <p>i.b.l:oaa:war:0.0.8-RELEASE                      </p>\n  \n  <p>+- i.b.l:domain:jar:0.0.6-SNAPSHOT:compile                                   |  -\n  com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.9.7:compile\n  |     +-\n  com.fasterxml.jackson.core:jackson-annotations:jar:2.9.0:compile<br>\n  |     - com.fasterxml.jackson.core:jackson-databind:jar:2.9.7:compile</p>\n  \n  <p>+- org.springframework.boot:spring-boot-starter:jar:2.1.1.RELEASE:compile\n  |  +- org.springframework.boot:spring-boot:jar:2.1.1.RELEASE:compile<br>\n  |  +-\n  org.springframework.boot:spring-boot-autoconfigure:jar:2.1.1.RELEASE:compile\n  |  +- javax.annotation:javax.annotation-api:jar:1.3.2:compile<br>\n  |  +- org.springframework:spring-core:jar:5.1.3.RELEASE:compile<br>\n  |  |  - org.springframework:spring-jcl:jar:5.1.3.RELEASE:compile<br>\n  |  - org.yaml:snakeyaml:jar:1.23:compile                             </p>\n  \n  <p>+- com.oracle:ojdbc6:jar:11.2.0:compile<br>\n  +- org.springframework.boot:spring-boot-starter-web:jar:2.1.1.RELEASE:compile\n  |  +-\n  org.springframework.boot:spring-boot-starter-json:jar:2.1.1.RELEASE:compile\n  |  |  +-\n  com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.9.7:compile\n  |  |  -\n  com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.9.7:compile\n  |  +-\n  org.hibernate.validator:hibernate-validator:jar:6.0.13.Final:compile<br>\n  |  |  +- javax.validation:validation-api:jar:2.0.1.Final:compile<br>\n  |  |  - org.jboss.logging:jboss-logging:jar:3.3.2.Final:compile<br>\n  |  +- org.springframework:spring-web:jar:5.1.3.RELEASE:compile<br>\n  |  |  - org.springframework:spring-beans:jar:5.1.3.RELEASE:compile<br>\n  |  - org.springframework:spring-webmvc:jar:5.1.3.RELEASE:compile<br>\n  |     +- org.springframework:spring-aop:jar:5.1.3.RELEASE:compile<br>\n  |     -\n  org.springframework:spring-expression:jar:5.1.3.RELEASE:compile       </p>\n  \n  <p>+- org.springframework.boot:spring-boot-starter-tomcat:jar:2.1.1.RELEASE:provided\n  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.13:provided<br>\n  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:9.0.13:provided<br>\n  |  -\n  org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.13:provided    </p>\n  \n  <p>+- org.springframework.boot:spring-boot-starter-jdbc:jar:2.1.1.RELEASE:compile\n  |  +- com.zaxxer:HikariCP:jar:3.2.0:compile<br>\n  |  - org.springframework:spring-jdbc:jar:5.1.3.RELEASE:compile<br>\n  |     - org.springframework:spring-tx:jar:5.1.3.RELEASE:compile      </p>\n  \n  <p>+- org.springframework.boot:spring-boot-starter-actuator:jar:2.1.1.RELEASE:compile\n  |  +-\n  org.springframework.boot:spring-boot-actuator-autoconfigure:jar:2.1.1.RELEASE:compile\n  |  |  -\n  org.springframework.boot:spring-boot-actuator:jar:2.1.1.RELEASE:compile\n  |  - io.micrometer:micrometer-core:jar:1.1.1:compile<br>\n  |     +- org.hdrhistogram:HdrHistogram:jar:2.1.9:compile<br>\n  |     - org.latencyutils:LatencyUtils:jar:2.0.3:compile              </p>\n  \n  <p>+- org.springframework.boot:spring-boot-starter-test:jar:2.1.1.RELEASE:compile\n  |  +-\n  org.springframework.boot:spring-boot-test:jar:2.1.1.RELEASE:compile<br>\n  |  +-\n  org.springframework.boot:spring-boot-test-autoconfigure:jar:2.1.1.RELEASE:compile\n  |  +- com.jayway.jsonpath:json-path:jar:2.4.0:compile<br>\n  |  |  - net.minidev:json-smart:jar:2.3:compile<br>\n  |  |     - net.minidev:accessors-smart:jar:1.2:compile<br>\n  |  |        - org.ow2.asm:asm:jar:5.0.4:compile<br>\n  |  +- junit:junit:jar:4.12:compile<br>\n  |  +- org.assertj:assertj-core:jar:3.11.1:compile<br>\n  |  +- org.hamcrest:hamcrest-core:jar:1.3:compile<br>\n  |  +- org.hamcrest:hamcrest-library:jar:1.3:compile<br>\n  |  +- org.skyscreamer:jsonassert:jar:1.5.0:compile<br>\n  |  |  -\n  com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:compile\n  |  +- org.springframework:spring-test:jar:5.1.3.RELEASE:compile<br>\n  |  - org.xmlunit:xmlunit-core:jar:2.6.2:compile                      </p>\n  \n  <p>+- org.springframework.boot:spring-boot-starter-log4j2:jar:2.1.1.RELEASE:compile\n  |  +- org.apache.logging.log4j:log4j-slf4j-impl:jar:2.11.1:compile<br>\n  |  |  - org.apache.logging.log4j:log4j-api:jar:2.11.1:compile<br>\n  |  +- org.apache.logging.log4j:log4j-core:jar:2.11.1:compile<br>\n  |  +- org.apache.logging.log4j:log4j-jul:jar:2.11.1:compile<br>\n  |  - org.slf4j:jul-to-slf4j:jar:1.7.25:compile                       </p>\n  \n  <p>+- org.apache.httpcomponents:httpclient:jar:4.5.6:compile                                     |  +- commons-logging:commons-logging:jar:1.2:compile<br>\n  |  - commons-codec:commons-codec:jar:1.10:compile                    </p>\n  \n  <p>+- org.apache.httpcomponents:httpcore:jar:4.4.10:compile<br>\n  +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.9.7:compile\n  |  - com.fasterxml.jackson.core:jackson-core:jar:2.9.7:compile       </p>\n  \n  <p>+- io.springfox:springfox-swagger2:jar:2.9.2:compile                                          |  +- io.swagger:swagger-annotations:jar:1.5.20:compile<br>\n  |  +- io.swagger:swagger-models:jar:1.5.20:compile<br>\n  |  +- io.springfox:springfox-spi:jar:2.9.2:compile<br>\n  |  |  - io.springfox:springfox-core:jar:2.9.2:compile<br>\n  |  +- io.springfox:springfox-schema:jar:2.9.2:compile<br>\n  |  +- io.springfox:springfox-swagger-common:jar:2.9.2:compile<br>\n  |  +- io.springfox:springfox-spring-web:jar:2.9.2:compile<br>\n  |  +- com.google.guava:guava:jar:20.0:compile<br>\n  |  +- com.fasterxml:classmate:jar:1.4.0:compile<br>\n  |  +- org.slf4j:slf4j-api:jar:1.7.25:compile<br>\n  |  +-\n  org.springframework.plugin:spring-plugin-core:jar:1.2.0.RELEASE:compile\n  |  +-\n  org.springframework.plugin:spring-plugin-metadata:jar:1.2.0.RELEASE:compile\n  |  - org.mapstruct:mapstruct:jar:1.2.0.Final:compile                 </p>\n  \n  <p>+- io.springfox:springfox-swagger-ui:jar:2.9.2:compile<br>\n  +- org.projectlombok:lombok:jar:1.18.4:compile<br>\n  +- org.apache.commons:commons-lang3:jar:3.8.1:compile<br>\n  +- com.h2database:h2:jar:1.4.197:compile<br>\n  +- org.springframework.boot:spring-boot-starter-data-jpa:jar:2.1.1.RELEASE:compile\n  |  +-\n  org.springframework.boot:spring-boot-starter-aop:jar:2.1.1.RELEASE:compile\n  |  |  - org.aspectj:aspectjweaver:jar:1.9.2:compile<br>\n  |  +- javax.transaction:javax.transaction-api:jar:1.3:compile<br>\n  |  +- javax.xml.bind:jaxb-api:jar:2.3.1:compile<br>\n  |  |  - javax.activation:javax.activation-api:jar:1.2.0:compile<br>\n  |  +- org.hibernate:hibernate-core:jar:5.3.7.Final:compile<br>\n  |  |  +- javax.persistence:javax.persistence-api:jar:2.2:compile<br>\n  |  |  +- org.javassist:javassist:jar:3.23.1-GA:compile<br>\n  |  |  +- antlr:antlr:jar:2.7.7:compile<br>\n  |  |  +- org.jboss:jandex:jar:2.0.5.Final:compile<br>\n  |  |  +- org.dom4j:dom4j:jar:2.1.1:compile<br>\n  |  |  -\n  org.hibernate.common:hibernate-commons-annotations:jar:5.0.4.Final:compile\n  |  +-\n  org.springframework.data:spring-data-jpa:jar:2.1.3.RELEASE:compile<br>\n  |  |  +-\n  org.springframework.data:spring-data-commons:jar:2.1.3.RELEASE:compile\n  |  |  - org.springframework:spring-orm:jar:5.1.3.RELEASE:compile<br>\n  |  - org.springframework:spring-aspects:jar:5.1.3.RELEASE:compile    </p>\n  \n  <p>+- org.mockito:mockito-core:jar:2.21.0:compile                                                |  +- net.bytebuddy:byte-buddy:jar:1.8.15:compile<br>\n  |  +- net.bytebuddy:byte-buddy-agent:jar:1.8.15:compile<br>\n  |  - org.objenesis:objenesis:jar:2.6:compile                         </p>\n  \n  <p>+- commons-io:commons-io:jar:2.6:compile<br>\n  +- org.powermock:powermock-module-junit4:jar:2.0.0:test                                       |  - org.powermock:powermock-module-junit4-common:jar:2.0.0:test<br>\n  |     +- org.powermock:powermock-reflect:jar:2.0.0:test<br>\n  |     - org.powermock:powermock-core:jar:2.0.0:test                  </p>\n  \n  <p>+- org.powermock:powermock-api-mockito2:jar:2.0.0:test                                        |  - org.powermock:powermock-api-support:jar:2.0.0:test              </p>\n  \n  <p>+- net.javacrumbs.shedlock:shedlock-spring:jar:2.5.0:compile                                  |  +- net.javacrumbs.shedlock:shedlock-core:jar:2.5.0:compile<br>\n  |  - org.springframework:spring-context:jar:5.0.6.RELEASE:compile    </p>\n  \n  <p>+- net.javacrumbs.shedlock:shedlock-provider-jdbc-template:jar:2.5.0:compile\n  |  -\n  net.javacrumbs.shedlock:shedlock-provider-jdbc-internal:jar:2.5.0:compile\n  - javax.mail:mail:jar:1.4:compile<br>\n  - javax.activation:activation:jar:1.1:compile</p>\n</blockquote>\n\n<p>And <code>pom.xml</code> is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;i.b.l&lt;/groupId&gt;\n    &lt;artifactId&gt;oaa&lt;/artifactId&gt;\n    &lt;version&gt;0.0.8-RELEASE&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;domain.version&gt;0.0.6-SNAPSHOT&lt;/domain.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;spring.boot.version&gt;2.1.1.RELEASE&lt;/spring.boot.version&gt;\n        &lt;log4j.version&gt;1.2.17&lt;/log4j.version&gt;\n        &lt;httpclient.version&gt;4.5.6&lt;/httpclient.version&gt;\n        &lt;httpcore.version&gt;4.4.10&lt;/httpcore.version&gt;\n        &lt;jackson-dataformat-yaml.version&gt;2.9.7&lt;/jackson-dataformat-yaml.version&gt;\n        &lt;swagger.version&gt;2.9.2&lt;/swagger.version&gt;\n        &lt;lombok.version&gt;1.18.4&lt;/lombok.version&gt;\n        &lt;commons-lang3.version&gt;3.8.1&lt;/commons-lang3.version&gt;\n        &lt;maven-checkstyle-version&gt;3.0.0&lt;/maven-checkstyle-version&gt;\n        &lt;h2database.version&gt;1.4.197&lt;/h2database.version&gt;\n        &lt;mockito.version&gt;2.21.0&lt;/mockito.version&gt;\n        &lt;ojdbc.version&gt;11.2.0&lt;/ojdbc.version&gt;\n        &lt;shedlock.version&gt;2.5.0&lt;/shedlock.version&gt;\n        &lt;commons-io.version&gt;2.6&lt;/commons-io.version&gt;\n        &lt;powermock.version&gt;2.0.0&lt;/powermock.version&gt;\n        &lt;javax-mail.version&gt;1.4&lt;/javax-mail.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;i.b.l&lt;/groupId&gt;\n            &lt;artifactId&gt;domain&lt;/artifactId&gt;\n            &lt;version&gt;${domain.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc6&lt;/artifactId&gt;\n            &lt;version&gt;${ojdbc.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;${httpclient.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n            &lt;version&gt;${httpcore.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-yaml&lt;/artifactId&gt;\n            &lt;version&gt;${jackson-dataformat-yaml.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;${h2database.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;${mockito.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;${commons-io.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n            &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\n            &lt;version&gt;${shedlock.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n            &lt;artifactId&gt;shedlock-provider-jdbc-template&lt;/artifactId&gt;\n            &lt;version&gt;${shedlock.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;${javax-mail.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.jks&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;testResources&gt;\n            &lt;testResource&gt;\n                &lt;directory&gt;src/test/resources&lt;/directory&gt;\n            &lt;/testResource&gt;\n        &lt;/testResources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;webXml&gt;src/main/resources/web.xml&lt;/webXml&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-checkstyle-version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;validate&lt;/id&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;configLocation&gt;java-checkstyle-rules.xml&lt;/configLocation&gt;\n                            &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                            &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\n                            &lt;failsOnError&gt;true&lt;/failsOnError&gt;\n                        &lt;/configuration&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;distributionManagement&gt;\n        &lt;repository&gt;\n            &lt;id&gt;nexus-releases&lt;/id&gt;\n            &lt;url&gt;http://d1f2fwc2w7.boigroup.net:8081/nexus/repository/maven-releases&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;snapshotRepository&gt;\n            &lt;id&gt;nexus-snapshots&lt;/id&gt;\n            &lt;url&gt;http://d1f2fwc2w7.boigroup.net:8081/nexus/repository/maven-snapshots&lt;/url&gt;\n        &lt;/snapshotRepository&gt;\n    &lt;/distributionManagement&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;local&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;activatedProfiles&gt;local&lt;/activatedProfiles&gt;\n            &lt;/properties&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;prd&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;activatedProfiles&gt;prd&lt;/activatedProfiles&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;war&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;activatedProfiles&gt;war&lt;/activatedProfiles&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>I posted this to ShedLock issues page and they said it is more likely to be an issue of a conflicting dependency, than a problem with ShedLock.</p>\n\n<p>How can I get this fixed?</p>\n"},{"tags":["java","eclipse","spring","maven","spring-tool-suite"],"comments":[{"owner":{"account_id":2200953,"reputation":3860,"user_id":2661700,"accept_rate":86,"display_name":"Yubaraj"},"score":0,"creation_date":1382345024,"post_id":19489720,"comment_id":28907472,"body_markdown":"Which server are you using ?","body":"Which server are you using ?"},{"owner":{"display_name":"user2740224"},"score":0,"creation_date":1382345071,"post_id":19489720,"comment_id":28907491,"body_markdown":"I use apache Tomcat 7","body":"I use apache Tomcat 7"},{"owner":{"account_id":6846100,"reputation":133,"user_id":5264875,"display_name":"lakshmi"},"score":2,"creation_date":1474574429,"post_id":19489720,"comment_id":66599089,"body_markdown":"Make sure you stop all the process that are using same server are stopped","body":"Make sure you stop all the process that are using same server are stopped"},{"owner":{"account_id":86060,"reputation":8056,"user_id":239582,"accept_rate":81,"display_name":"lupchiazoem"},"score":1,"creation_date":1549797977,"post_id":19489720,"comment_id":96024824,"body_markdown":"TL;DR answers: 1. If you have opened any project artifact outside Eclipse, close it and re-try. 2. If that doesn&#39;t work, restart eclipse.","body":"TL;DR answers: 1. If you have opened any project artifact outside Eclipse, close it and re-try. 2. If that doesn&#39;t work, restart eclipse."}],"answers":[{"comments":[{"owner":{"display_name":"user2740224"},"score":0,"creation_date":1382347567,"post_id":19489827,"comment_id":28908794,"body_markdown":"How I can make it?  I want to see more details.","body":"How I can make it?  I want to see more details."},{"owner":{"account_id":2200953,"reputation":3860,"user_id":2661700,"accept_rate":86,"display_name":"Yubaraj"},"score":0,"creation_date":1382350288,"post_id":19489827,"comment_id":28910356,"body_markdown":"@user2740224 See **Stopping a server**","body":"@user2740224 See <b>Stopping a server</b>"},{"owner":{"display_name":"user2740224"},"score":0,"creation_date":1382351878,"post_id":19489827,"comment_id":28911217,"body_markdown":"my sever is stoped in eclipse when I use *maven-clean*","body":"my sever is stoped in eclipse when I use <i>maven-clean</i>"},{"owner":{"account_id":8962274,"reputation":505,"user_id":6684430,"accept_rate":0,"display_name":"Rafael Andrade"},"score":0,"creation_date":1531400013,"post_id":19489827,"comment_id":89589017,"body_markdown":"I do not want restart my server cause it takes too much to re-start. What should I do? My friends do not need to restart it","body":"I do not want restart my server cause it takes too much to re-start. What should I do? My friends do not need to restart it"},{"owner":{"account_id":5254406,"reputation":1108,"user_id":4197679,"accept_rate":79,"display_name":"Ashok kumar Ganesan"},"score":0,"creation_date":1594962386,"post_id":19489827,"comment_id":111315337,"body_markdown":"How this would be in VSCode?","body":"How this would be in VSCode?"}],"tags":[],"owner":{"account_id":2200953,"reputation":3860,"user_id":2661700,"accept_rate":86,"display_name":"Yubaraj"},"comment_count":5,"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1382349900,"creation_date":1382345160,"answer_id":19489827,"question_id":19489720,"body_markdown":"Stop your server before you start to  clean.\r\n\r\n**Stopping a server**\r\n\r\nYou can stop the server from the Servers view.\r\n\r\nTo stop the server:\r\n\r\n 1. In the Servers view ( **Window &gt; Show View &gt; Other &gt; Server &gt;\r\n    Servers &gt; OK**), select the server that you want to stop.\r\n 2. Click the **Stop the server**  ![this][1] icon\r\n    in the toolbar. In the Servers view, the status of the server\r\n    changes to Stopped.\r\n 3. If for some reason the server fails to stop, you can terminate the\r\n    process as follows:\r\n\r\n     \r\n\r\n a.  Switch to the Debug perspective.\r\n\r\n b. In the Process view, select the server process that you want to stop.\r\n\r\n c. Click the **Terminate**  ![This is an image of the Terminate][2]\r\n icon in the toolbar.\r\n\r\n**Note:** When terminating a server, the server process will end and the server will not go through the normal routine of stopping, for example calling the destroy() method on a servlet.\r\n\r\n\r\n**Source:** Eclipse Help\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/7wwWR.gif\r\n  [2]: http://i.stack.imgur.com/vTicf.gif\r\n  [3]: http://help.eclipse.org/indigo/index.jsp?topic=/org.eclipse.wst.server.ui.doc.user/topics/ttimeout.html","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>Stop your server before you start to  clean.</p>\n\n<p><strong>Stopping a server</strong></p>\n\n<p>You can stop the server from the Servers view.</p>\n\n<p>To stop the server:</p>\n\n<ol>\n<li>In the Servers view ( <strong>Window > Show View > Other > Server >\nServers > OK</strong>), select the server that you want to stop.</li>\n<li>Click the <strong>Stop the server</strong>  <img src=\"https://i.stack.imgur.com/7wwWR.gif\" alt=\"this\"> icon\nin the toolbar. In the Servers view, the status of the server\nchanges to Stopped.</li>\n<li><p>If for some reason the server fails to stop, you can terminate the\nprocess as follows:</p>\n\n<p>a.  Switch to the Debug perspective.</p>\n\n<p>b. In the Process view, select the server process that you want to stop.</p>\n\n<p>c. Click the <strong>Terminate</strong>  <img src=\"https://i.stack.imgur.com/vTicf.gif\" alt=\"This is an image of the Terminate\">\nicon in the toolbar.</p></li>\n</ol>\n\n<p><strong>Note:</strong> When terminating a server, the server process will end and the server will not go through the normal routine of stopping, for example calling the destroy() method on a servlet.</p>\n\n<p><strong>Source:</strong> Eclipse Help</p>\n"},{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":1,"creation_date":1382352273,"post_id":19490055,"comment_id":28911462,"body_markdown":"Can you ask activities for fixing another than **Kalathoki L.**","body":"Can you ask activities for fixing another than <b>Kalathoki L.</b>"},{"owner":{"display_name":"user2740224"},"score":1,"creation_date":1382352486,"post_id":19490055,"comment_id":28911584,"body_markdown":"How I can fix it ?** Look out: This behaviour might also appear if STS is cleaning up the projects and thus re-compiles the sources, and not running a process.**","body":"How I can fix it ?** Look out: This behaviour might also appear if STS is cleaning up the projects and thus re-compiles the sources, and not running a process.**"},{"owner":{"account_id":1934259,"reputation":401,"user_id":1742919,"accept_rate":53,"display_name":"user1742919"},"score":0,"creation_date":1489752992,"post_id":19490055,"comment_id":72820626,"body_markdown":"your just awesome, thats correct in my case i.e running process","body":"your just awesome, thats correct in my case i.e running process"}],"tags":[],"owner":{"account_id":1527414,"reputation":2329,"user_id":1425488,"accept_rate":82,"display_name":"Scorpio"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1382345811,"creation_date":1382345811,"answer_id":19490055,"question_id":19489720,"body_markdown":"Your problem is that a running process within STS is using files located in your target directory while you execute a `mvn clean` command. Maven will be unable to delete these files (since other processes are still accessing them) and thus fail with that error.\r\n\r\nTry to stop all processes (tests, servers, applications) from within STS before running Maven console commands. Look out: This behaviour might also appear if STS is cleaning up the projects and thus re-compiles the sources, and not running a process.","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>Your problem is that a running process within STS is using files located in your target directory while you execute a <code>mvn clean</code> command. Maven will be unable to delete these files (since other processes are still accessing them) and thus fail with that error.</p>\n\n<p>Try to stop all processes (tests, servers, applications) from within STS before running Maven console commands. Look out: This behaviour might also appear if STS is cleaning up the projects and thus re-compiles the sources, and not running a process.</p>\n"},{"comments":[{"owner":{"display_name":"user2740224"},"score":0,"creation_date":1382597314,"post_id":19548438,"comment_id":29023704,"body_markdown":"How can I get **pre_clean.bat** ?","body":"How can I get <b>pre_clean.bat</b> ?"},{"owner":{"display_name":"user2740224"},"score":0,"creation_date":1382600180,"post_id":19548438,"comment_id":29025041,"body_markdown":"It is will helpfull if you write more details about second  item","body":"It is will helpfull if you write more details about second  item"},{"owner":{"account_id":878732,"reputation":2069,"user_id":133354,"display_name":"vijucat"},"score":0,"creation_date":1382603413,"post_id":19548438,"comment_id":29026618,"body_markdown":"I will try to get back with a rough version for you later today, but basically, we have to write it; it&#39;s not something that exists! (Also, unlock_files.bat is a better name for what it does; pre-clean is the context in which it is used).","body":"I will try to get back with a rough version for you later today, but basically, we have to write it; it&#39;s not something that exists! (Also, unlock_files.bat is a better name for what it does; pre-clean is the context in which it is used)."},{"owner":{"account_id":878732,"reputation":2069,"user_id":133354,"display_name":"vijucat"},"score":1,"creation_date":1382632313,"post_id":19548438,"comment_id":29044863,"body_markdown":"I updated the answer with a unlock_handles.bat that you can run. Let me know if it works for you! Edit : parsing strings in DOS batch files is so...hacked together :-)","body":"I updated the answer with a unlock_handles.bat that you can run. Let me know if it works for you! Edit : parsing strings in DOS batch files is so...hacked together :-)"},{"owner":{"display_name":"user2740224"},"score":0,"creation_date":1383058526,"post_id":19548438,"comment_id":29196968,"body_markdown":"I don&#39;t understand what I need to make","body":"I don&#39;t understand what I need to make"}],"tags":[],"owner":{"account_id":878732,"reputation":2069,"user_id":133354,"display_name":"vijucat"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1382632264,"creation_date":1382549277,"answer_id":19548438,"question_id":19489720,"body_markdown":"**Summary :** Use an external script (batch file) that a) stops the server and b) Unlocks the .jar file before running maven-clean.\r\n\r\n**Steps:**\r\n\r\n1. Bind the maven-antrun-plugin:run goal to the pre-clean phase of mvn clean. See how to do this [here](http://www.avajava.com/tutorials/lessons/what-are-the-phases-of-the-maven-clean-lifecycle.html)\r\n\r\n2. See how to use the antrun plugin to run an external batch file in Windows here : [sblundy&#39;s answer to &quot;Starting external process&quot;](https://stackoverflow.com/a/175664/133354). Let&#39;s call this file **`unlock_handles.bat`**\r\n\r\n3. Use the **Sysinternals handle** utility [download link](http://technet.microsoft.com/en-us/sysinternals/bb896655.aspx) in the pre_clean.bat to a) stop the Tomcat server and b) unlock the .jar file. **`handle -c`** and **`handle -p`** would be useful here.\r\n\r\nWhew! That&#39;s a bit of work, but it will reliably automate the process for you so that you do need to do it manually yourself each time!\r\n\r\n\r\n----------\r\n\r\nOK, here&#39;s a rough, proof-of-concept version of unlock_handles.bat for you to try out:\r\n\r\n    REM &quot;Use handle.exe to figure out the process id and handle ids, parse the output, then close the handle (again using handle.exe)&quot;\r\n\r\n    cd &quot;C:\\Users\\Nikolay_Tkachev\\workspace\\HHSystem\\UI\\target&quot;\r\n    &quot;c:/Program Files/Process Explorer/handle.exe&quot; -p java.exe &quot;C:\\Users\\Nikolay_Tkachev\\workspace\\HHSystem\\UI\\target&quot; &gt; handles.txt\r\n    \r\n    @echo &quot;O====== Going to unlock all the below file handles! =======O&quot;\r\n    FOR /F &quot;tokens=1-26 delims=: &quot; %a in (handles.txt) DO @echo %h\r\n    FOR /F &quot;tokens=1-26 delims=: &quot; %a in (handles.txt) DO handle -p %c -c %f -y\r\n\r\nOf course, you have to change the path to Sysinternals&#39; handle.exe before giving this a try.\r\n","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p><strong>Summary :</strong> Use an external script (batch file) that a) stops the server and b) Unlocks the .jar file before running maven-clean.</p>\n\n<p><strong>Steps:</strong></p>\n\n<ol>\n<li><p>Bind the maven-antrun-plugin:run goal to the pre-clean phase of mvn clean. See how to do this <a href=\"http://www.avajava.com/tutorials/lessons/what-are-the-phases-of-the-maven-clean-lifecycle.html\" rel=\"nofollow noreferrer\">here</a></p></li>\n<li><p>See how to use the antrun plugin to run an external batch file in Windows here : <a href=\"https://stackoverflow.com/a/175664/133354\">sblundy's answer to \"Starting external process\"</a>. Let's call this file <strong><code>unlock_handles.bat</code></strong></p></li>\n<li><p>Use the <strong>Sysinternals handle</strong> utility <a href=\"http://technet.microsoft.com/en-us/sysinternals/bb896655.aspx\" rel=\"nofollow noreferrer\">download link</a> in the pre_clean.bat to a) stop the Tomcat server and b) unlock the .jar file. <strong><code>handle -c</code></strong> and <strong><code>handle -p</code></strong> would be useful here.</p></li>\n</ol>\n\n<p>Whew! That's a bit of work, but it will reliably automate the process for you so that you do need to do it manually yourself each time!</p>\n\n<hr>\n\n<p>OK, here's a rough, proof-of-concept version of unlock_handles.bat for you to try out:</p>\n\n<pre><code>REM \"Use handle.exe to figure out the process id and handle ids, parse the output, then close the handle (again using handle.exe)\"\n\ncd \"C:\\Users\\Nikolay_Tkachev\\workspace\\HHSystem\\UI\\target\"\n\"c:/Program Files/Process Explorer/handle.exe\" -p java.exe \"C:\\Users\\Nikolay_Tkachev\\workspace\\HHSystem\\UI\\target\" &gt; handles.txt\n\n@echo \"O====== Going to unlock all the below file handles! =======O\"\nFOR /F \"tokens=1-26 delims=: \" %a in (handles.txt) DO @echo %h\nFOR /F \"tokens=1-26 delims=: \" %a in (handles.txt) DO handle -p %c -c %f -y\n</code></pre>\n\n<p>Of course, you have to change the path to Sysinternals' handle.exe before giving this a try.</p>\n"},{"comments":[{"owner":{"account_id":6147140,"reputation":115,"user_id":4792740,"accept_rate":20,"display_name":"Huỳnh T&#250;"},"score":0,"creation_date":1578283202,"post_id":23829847,"comment_id":105376922,"body_markdown":"thank you, You&#39;re save my life. cause  privilege on my target folder so I can not to clear via mvn","body":"thank you, You&#39;re save my life. cause  privilege on my target folder so I can not to clear via mvn"},{"owner":{"account_id":9544154,"reputation":404,"user_id":7090937,"display_name":"Ish"},"score":0,"creation_date":1617089499,"post_id":23829847,"comment_id":118198173,"body_markdown":"I also had this permission issue in ubuntu. `chmod -R 777 /folder/path/here` fixed my issue.  thanks","body":"I also had this permission issue in ubuntu. <code>chmod -R 777 &#47;folder&#47;path&#47;here</code> fixed my issue.  thanks"}],"tags":[],"owner":{"account_id":3172683,"reputation":2295,"user_id":2681246,"accept_rate":55,"display_name":"ram"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1400849675,"creation_date":1400849675,"answer_id":23829847,"question_id":19489720,"body_markdown":"**For linux users: possible solution.**\r\n\r\nBuild error due to *&quot;Failed to delete &lt; any-file-or-folder &gt;&quot;* will occur if there is by chance of only delete access provided to **root** user rather to **normal-user**.\r\n\r\nFix : type **ll** command to list file that cannot be deleted, if the file is given root access, change to normal user by : \r\n\r\n&gt; sudo chown -R user-name:user-name filename\r\n\r\nLater try for maven clean and build.","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p><strong>For linux users: possible solution.</strong></p>\n\n<p>Build error due to <em>\"Failed to delete &lt; any-file-or-folder >\"</em> will occur if there is by chance of only delete access provided to <strong>root</strong> user rather to <strong>normal-user</strong>.</p>\n\n<p>Fix : type <strong>ll</strong> command to list file that cannot be deleted, if the file is given root access, change to normal user by : </p>\n\n<blockquote>\n  <p>sudo chown -R user-name:user-name filename</p>\n</blockquote>\n\n<p>Later try for maven clean and build.</p>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404732074,"creation_date":1404726663,"answer_id":24607707,"question_id":19489720,"body_markdown":"If you lock `org.ow2.util.asm-asm-tree-3.1.jar` and start eclipse, the logging shows who was unable to lock the file. The same codeline who cant lock the file will not release the lock.\r\n","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>If you lock <code>org.ow2.util.asm-asm-tree-3.1.jar</code> and start eclipse, the logging shows who was unable to lock the file. The same codeline who cant lock the file will not release the lock.</p>\n"},{"comments":[{"owner":{"account_id":3019457,"reputation":3814,"user_id":2560836,"accept_rate":80,"display_name":"Chris311"},"score":6,"creation_date":1519306131,"post_id":25927750,"comment_id":84863563,"body_markdown":"This works but is dangerous as you might encounter unexpected behaviour while using outdated classes.","body":"This works but is dangerous as you might encounter unexpected behaviour while using outdated classes."},{"owner":{"account_id":3019457,"reputation":3814,"user_id":2560836,"accept_rate":80,"display_name":"Chris311"},"score":3,"creation_date":1521474745,"post_id":25927750,"comment_id":85734990,"body_markdown":"To make my last comment more clear: The maven build will then run through, but the target folder(s) might still be there!","body":"To make my last comment more clear: The maven build will then run through, but the target folder(s) might still be there!"},{"owner":{"account_id":11797327,"reputation":455,"user_id":8631776,"display_name":"lpkej"},"score":0,"creation_date":1571237329,"post_id":25927750,"comment_id":103175044,"body_markdown":"Why is this in answers?","body":"Why is this in answers?"},{"owner":{"account_id":4359067,"reputation":319,"user_id":3556773,"display_name":"Paul Brittain"},"score":2,"creation_date":1592821452,"post_id":25927750,"comment_id":110551851,"body_markdown":"Because someone answered the question with this answer?","body":"Because someone answered the question with this answer?"}],"tags":[],"owner":{"account_id":2076676,"reputation":12739,"user_id":1849837,"accept_rate":88,"display_name":"Bartosz Bilicki"},"comment_count":4,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1411108499,"creation_date":1411108499,"answer_id":25927750,"question_id":19489720,"body_markdown":"You may also try try `-Dmaven.clean.failOnError=false`\r\n(from [Maven FAQ][1])\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-clean-plugin/faq.html &quot;Maven FAQ&quot;","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>You may also try try <code>-Dmaven.clean.failOnError=false</code>\n(from <a href=\"http://maven.apache.org/plugins/maven-clean-plugin/faq.html\">Maven FAQ</a>)</p>\n"},{"comments":[{"owner":{"account_id":1130571,"reputation":5288,"user_id":1116757,"accept_rate":97,"display_name":"Robert"},"score":1,"creation_date":1441883417,"post_id":32500150,"comment_id":52859789,"body_markdown":"Can you add an explanation?","body":"Can you add an explanation?"},{"owner":{"account_id":339024,"reputation":5103,"user_id":668240,"accept_rate":76,"display_name":"Ashok Goli"},"score":0,"creation_date":1453307709,"post_id":32500150,"comment_id":57547026,"body_markdown":"I believe he&#39;s trying to run Unlocker windows program - http://filehippo.com/download_unlocker/tech/ . This removes any dependencies on the current execution directory. It&#39;s not a reliable or safe way to do it.","body":"I believe he&#39;s trying to run Unlocker windows program - <a href=\"http://filehippo.com/download_unlocker/tech/\" rel=\"nofollow noreferrer\">filehippo.com/download_unlocker/tech</a> . This removes any dependencies on the current execution directory. It&#39;s not a reliable or safe way to do it."},{"owner":{"account_id":6931589,"reputation":11,"user_id":5320925,"display_name":"Raul Villalba"},"score":0,"creation_date":1464623157,"post_id":32500150,"comment_id":62549757,"body_markdown":"maven-antrun-pluign execute unlocker automatically in pre-clean maven phase.","body":"maven-antrun-pluign execute unlocker automatically in pre-clean maven phase."},{"owner":{"account_id":6931589,"reputation":11,"user_id":5320925,"display_name":"Raul Villalba"},"score":0,"creation_date":1491898179,"post_id":32500150,"comment_id":73743496,"body_markdown":"Yes I execute unlocker program. Windows lock more files because he is Windows. Unlocker is a good utility for this problem","body":"Yes I execute unlocker program. Windows lock more files because he is Windows. Unlocker is a good utility for this problem"}],"tags":[],"owner":{"account_id":6931589,"reputation":11,"user_id":5320925,"display_name":"Raul Villalba"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491909953,"creation_date":1441883086,"answer_id":32500150,"question_id":19489720,"body_markdown":"In pre-clean phase I execute with Maven Unlocker program. This program unlock all files and directory for anyone program.\r\n\r\nI execute this with maven-antrun-plugin and only in windows systems \r\n\r\n    &lt;profile&gt;\r\n      &lt;activation&gt;\r\n        &lt;os&gt;\r\n          &lt;family&gt;windows&lt;/family&gt;\r\n        &lt;/os&gt;\r\n      &lt;/activation&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;pre-clean&lt;/phase&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;tasks&gt;\r\n                    &lt;exec dir=&quot;${project.build.directory}&quot; executable=&quot;cmd&quot; failonerror=&quot;false&quot;&gt;\r\n                      &lt;arg value=&quot;Unlocker.exe&quot; /&gt;\r\n                      &lt;arg value=&quot;/S&quot; /&gt;\r\n                    &lt;/exec&gt;\r\n                  &lt;/tasks&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;run&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n\r\n","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>In pre-clean phase I execute with Maven Unlocker program. This program unlock all files and directory for anyone program.</p>\n\n<p>I execute this with maven-antrun-plugin and only in windows systems </p>\n\n<pre><code>&lt;profile&gt;\n  &lt;activation&gt;\n    &lt;os&gt;\n      &lt;family&gt;windows&lt;/family&gt;\n    &lt;/os&gt;\n  &lt;/activation&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.8&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;pre-clean&lt;/phase&gt;\n            &lt;configuration&gt;\n              &lt;tasks&gt;\n                &lt;exec dir=\"${project.build.directory}\" executable=\"cmd\" failonerror=\"false\"&gt;\n                  &lt;arg value=\"Unlocker.exe\" /&gt;\n                  &lt;arg value=\"/S\" /&gt;\n                &lt;/exec&gt;\n              &lt;/tasks&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;run&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":283859,"reputation":96,"user_id":581612,"display_name":"Davetron"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1452254619,"creation_date":1452254619,"answer_id":34676724,"question_id":19489720,"body_markdown":"Try disabling Project-&gt;Build Automatically.\r\n\r\nAs Scorpio suggested, there&#39;s a process running that&#39;s got a lock on a file somewhere.\r\n\r\nI have a large multi-module maven project that regularly fails on clean and this resolves it for me. \r\nI re-enable Build Automatically when I&#39;m done.","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>Try disabling Project->Build Automatically.</p>\n\n<p>As Scorpio suggested, there's a process running that's got a lock on a file somewhere.</p>\n\n<p>I have a large multi-module maven project that regularly fails on clean and this resolves it for me. \nI re-enable Build Automatically when I'm done.</p>\n"},{"tags":[],"owner":{"account_id":1317496,"reputation":917,"user_id":1264047,"accept_rate":92,"display_name":"Madhu V Rao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458603773,"creation_date":1458603773,"answer_id":36143701,"question_id":19489720,"body_markdown":"I had similar issue. Earlier I was using Maven 3 to build the project. After switching to maven 2 , I had the above error. \r\n\r\nSolved it by switching to Maven 3.","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>I had similar issue. Earlier I was using Maven 3 to build the project. After switching to maven 2 , I had the above error. </p>\n\n<p>Solved it by switching to Maven 3.</p>\n"},{"comments":[{"owner":{"account_id":10062835,"reputation":1541,"user_id":7438853,"accept_rate":68,"display_name":"wheeleruniverse"},"score":1,"creation_date":1548216410,"post_id":37651909,"comment_id":95459143,"body_markdown":"What does -U do?","body":"What does -U do?"},{"owner":{"account_id":2609869,"reputation":652,"user_id":2260172,"accept_rate":93,"display_name":"Amir"},"score":0,"creation_date":1548236727,"post_id":37651909,"comment_id":95467067,"body_markdown":"@jDub9 \t-U Forces a check for updated releases and snapshots on remote repositories","body":"@jDub9 \t-U Forces a check for updated releases and snapshots on remote repositories"}],"tags":[],"owner":{"account_id":2609869,"reputation":652,"user_id":2260172,"accept_rate":93,"display_name":"Amir"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1465198582,"creation_date":1465198582,"answer_id":37651909,"question_id":19489720,"body_markdown":"I have same problem and this \r\n\r\n    mvn clean install -U\r\n\r\ncommand fixed the error.","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>I have same problem and this </p>\n\n<pre><code>mvn clean install -U\n</code></pre>\n\n<p>command fixed the error.</p>\n"},{"comments":[{"owner":{"account_id":3866314,"reputation":844,"user_id":3202798,"accept_rate":85,"display_name":"Sargon1"},"score":1,"creation_date":1476699851,"post_id":39082978,"comment_id":67440321,"body_markdown":"Adding my two cents since It sorts of expands on this answer: It could for example be a folder synchronization process like Google Drive that&#39;s hogging your files. This was the problem in my case. Just kill the process and building will work again.","body":"Adding my two cents since It sorts of expands on this answer: It could for example be a folder synchronization process like Google Drive that&#39;s hogging your files. This was the problem in my case. Just kill the process and building will work again."},{"owner":{"account_id":1342236,"reputation":1244,"user_id":1283704,"display_name":"Michael Fayad"},"score":0,"creation_date":1516054714,"post_id":39082978,"comment_id":83526645,"body_markdown":"This was my solution. I had an unexpected java.exe process running in background which was preventing maven from properly executing.","body":"This was my solution. I had an unexpected java.exe process running in background which was preventing maven from properly executing."}],"tags":[],"owner":{"account_id":5218476,"reputation":339,"user_id":4172625,"accept_rate":20,"display_name":"Jhonatan Alarcon"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1471878364,"creation_date":1471878364,"answer_id":39082978,"question_id":19489720,"body_markdown":"Probably there are many processes that use sources compiled, could be a server, an old maven instruction or IDE. Sure terminate all processes, stop the server and then execute maven again. If the problem persists, you should close java.exe process.\r\n\r\nRegards!\r\n\r\n","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>Probably there are many processes that use sources compiled, could be a server, an old maven instruction or IDE. Sure terminate all processes, stop the server and then execute maven again. If the problem persists, you should close java.exe process.</p>\n\n<p>Regards!</p>\n"},{"comments":[{"owner":{"account_id":5427456,"reputation":194,"user_id":4319296,"display_name":"Idva"},"score":5,"creation_date":1500464833,"post_id":42018894,"comment_id":77346169,"body_markdown":"This worked for me. I had the target folder open in a terminal, which made maven unable to clean the target folder. After `cd`-ing out of the folder, maven was able to clean again.","body":"This worked for me. I had the target folder open in a terminal, which made maven unable to clean the target folder. After <code>cd</code>-ing out of the folder, maven was able to clean again."},{"owner":{"account_id":4363097,"reputation":1,"user_id":4142152,"accept_rate":91,"display_name":"Pavel"},"score":1,"creation_date":1522334974,"post_id":42018894,"comment_id":86126070,"body_markdown":"Yep, I had the folder open in windows explorer!","body":"Yep, I had the folder open in windows explorer!"},{"owner":{"account_id":11797327,"reputation":455,"user_id":8631776,"display_name":"lpkej"},"score":2,"creation_date":1571237735,"post_id":42018894,"comment_id":103175334,"body_markdown":"Had folder open in windows explorer. This helped!","body":"Had folder open in windows explorer. This helped!"},{"owner":{"account_id":3181085,"reputation":328,"user_id":2687766,"display_name":"Dave Rincon"},"score":1,"creation_date":1650847472,"post_id":42018894,"comment_id":127212549,"body_markdown":"I had the cmd open in the /target path","body":"I had the cmd open in the /target path"}],"tags":[],"owner":{"account_id":10169084,"reputation":131,"user_id":7509956,"display_name":"Neha"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1486106738,"creation_date":1486106738,"answer_id":42018894,"question_id":19489720,"body_markdown":"Close the target folder and its file you have opened before mvn clean","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>Close the target folder and its file you have opened before mvn clean</p>\n"},{"tags":[],"owner":{"account_id":7722671,"reputation":381,"user_id":5848397,"display_name":"reshma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494291693,"creation_date":1494291693,"answer_id":43859435,"question_id":19489720,"body_markdown":"Maven complains if you do not have admin permissions on the target folder.Check if you have admin right to delete that folder.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7tWOA.png","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>Maven complains if you do not have admin permissions on the target folder.Check if you have admin right to delete that folder.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7tWOA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7tWOA.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":8962274,"reputation":505,"user_id":6684430,"accept_rate":0,"display_name":"Rafael Andrade"},"score":1,"creation_date":1533123884,"post_id":44547327,"comment_id":90228985,"body_markdown":"Is there a way to do without doing this? My server needs some time to go up and I do not want that =(","body":"Is there a way to do without doing this? My server needs some time to go up and I do not want that =("},{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":0,"creation_date":1562004159,"post_id":44547327,"comment_id":100232963,"body_markdown":"This worked for me. But, I&#39;d like to know why it worked. How do you know that java.exe is the only one which has a &quot;lock&quot; on the jar.","body":"This worked for me. But, I&#39;d like to know why it worked. How do you know that java.exe is the only one which has a &quot;lock&quot; on the jar."},{"owner":{"account_id":277181,"reputation":3277,"user_id":779130,"accept_rate":79,"display_name":"Svend Hansen"},"score":0,"creation_date":1564311338,"post_id":44547327,"comment_id":100981676,"body_markdown":"This worked for me, but isn&#39;t there a more &quot;proper&quot; way to stop the server? I started it from command line with mvnw... isn&#39;t there a way to stop it as well?","body":"This worked for me, but isn&#39;t there a more &quot;proper&quot; way to stop the server? I started it from command line with mvnw... isn&#39;t there a way to stop it as well?"},{"owner":{"account_id":4649954,"reputation":187,"user_id":3767103,"display_name":"Naanii"},"score":0,"creation_date":1629958407,"post_id":44547327,"comment_id":121825305,"body_markdown":"without stop can&#39;t we?","body":"without stop can&#39;t we?"}],"tags":[],"owner":{"account_id":2630849,"reputation":470,"user_id":2276842,"display_name":"Bibek Shrestha"},"comment_count":4,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1497449747,"creation_date":1497449747,"answer_id":44547327,"question_id":19489720,"body_markdown":"Delete the java.exe process in Task Manager and run mvn clean install.It worked for me.","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>Delete the java.exe process in Task Manager and run mvn clean install.It worked for me.</p>\n"},{"comments":[{"owner":{"account_id":5482180,"reputation":62,"user_id":4358250,"display_name":"Diego Romero"},"score":1,"creation_date":1563378916,"post_id":47405227,"comment_id":100682797,"body_markdown":"Your answer is the best one.","body":"Your answer is the best one."}],"tags":[],"owner":{"account_id":2735009,"reputation":4764,"user_id":2357869,"accept_rate":33,"display_name":"Vijay"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1511238758,"creation_date":1511238758,"answer_id":47405227,"question_id":19489720,"body_markdown":"If all steps (in existing answers) dont work , Just close eclipse and again open eclipse .","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>If all steps (in existing answers) dont work , Just close eclipse and again open eclipse .</p>\n"},{"comments":[{"owner":{"account_id":540190,"reputation":957,"user_id":908316,"display_name":"Freddie"},"score":0,"creation_date":1542223410,"post_id":48795462,"comment_id":93495455,"body_markdown":"Thanks. Running with separate commands solved this. I believe this is because the install phase of the prior module had a lock on future maven build modules which then did a clean as their first step before running install.","body":"Thanks. Running with separate commands solved this. I believe this is because the install phase of the prior module had a lock on future maven build modules which then did a clean as their first step before running install."}],"tags":[],"owner":{"account_id":11270290,"reputation":247,"user_id":8265954,"display_name":"Boris_Ndong"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518639297,"creation_date":1518639297,"answer_id":48795462,"question_id":19489720,"body_markdown":"I solved mine by doing: \r\n\r\n- mvn clean\r\n-  mvn install \r\n- mvn clean install\r\n\r\nFor some reasons it worked for me .   Good luck !!","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>I solved mine by doing: </p>\n\n<ul>\n<li>mvn clean</li>\n<li>mvn install </li>\n<li>mvn clean install</li>\n</ul>\n\n<p>For some reasons it worked for me .   Good luck !!</p>\n"},{"tags":[],"owner":{"account_id":2904621,"reputation":1045,"user_id":2490336,"accept_rate":0,"display_name":"Atul Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548416532,"creation_date":1548416532,"answer_id":54364652,"question_id":19489720,"body_markdown":"Please close all the browser tab. And next time when you try to upload war from another place except target folder.","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>Please close all the browser tab. And next time when you try to upload war from another place except target folder.</p>\n"},{"tags":[],"owner":{"account_id":5854277,"reputation":560,"user_id":4612071,"display_name":"arcadeblast77"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568132942,"creation_date":1568132942,"answer_id":57874898,"question_id":19489720,"body_markdown":"If you run into this error in an IDE like Eclipse or IntelliJ, you may have one or more debug windows open and paused on a break-point. Terminate them.","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>If you run into this error in an IDE like Eclipse or IntelliJ, you may have one or more debug windows open and paused on a break-point. Terminate them.</p>\n"},{"tags":[],"owner":{"account_id":4316188,"reputation":11,"user_id":3525951,"display_name":"user3525951"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583229899,"creation_date":1583229899,"answer_id":60504707,"question_id":19489720,"body_markdown":"The reason for this error is, the file which maven is trying to delete is being used by some process. One example of such process is Eclipse or any other IDE is doing validation on same project.\r\n\r\nPlease make sure that no validation running from eclipse or in any other IDE where project is open. \r\n","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>The reason for this error is, the file which maven is trying to delete is being used by some process. One example of such process is Eclipse or any other IDE is doing validation on same project.</p>\n\n<p>Please make sure that no validation running from eclipse or in any other IDE where project is open. </p>\n"},{"tags":[],"owner":{"account_id":12286535,"reputation":275,"user_id":8965682,"display_name":"Ahmed Emad"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1599121013,"creation_date":1599121013,"answer_id":63719546,"question_id":19489720,"body_markdown":"solved by deleting the target folder manually.\r\n","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>solved by deleting the target folder manually.</p>\n"},{"tags":[],"owner":{"account_id":4721740,"reputation":51,"user_id":3819407,"display_name":"Amol Aranke"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1609329254,"creation_date":1609325825,"answer_id":65505848,"question_id":19489720,"body_markdown":"for me\r\n\r\n    mvn install\r\n    mvn clean install\r\n\r\nworked..\r\n","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>for me</p>\n<pre><code>mvn install\nmvn clean install\n</code></pre>\n<p>worked..</p>\n"},{"tags":[],"owner":{"account_id":18152179,"reputation":45,"user_id":13204733,"display_name":"Irina Danovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617220439,"creation_date":1617220439,"answer_id":66894475,"question_id":19489720,"body_markdown":"1. I closed Git Bash (might be another terminal you are working on). It stops the process\r\n2. Delete ...0.0.1-SNAPSHOT.jar\r\n3. mvn clean install (or other start your project command; we have .sh)\r\n","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<ol>\n<li>I closed Git Bash (might be another terminal you are working on). It stops the process</li>\n<li>Delete ...0.0.1-SNAPSHOT.jar</li>\n<li>mvn clean install (or other start your project command; we have .sh)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4835080,"reputation":137,"user_id":5329403,"display_name":"user5329403"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621348603,"creation_date":1621348603,"answer_id":67588454,"question_id":19489720,"body_markdown":"&gt; If you have a process running that using the packaged app deployed like an ftp or ssh session - it could prevent the resource being deleted or moved:\r\n\r\nso identify the open port which is using the war or jar, close it - then restart\r\n\r\n&gt; sftp - ssh port : 22\r\n&gt; &gt; ssh port : depend on config","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<blockquote>\n<p>If you have a process running that using the packaged app deployed like an ftp or ssh session - it could prevent the resource being deleted or moved:</p>\n</blockquote>\n<p>so identify the open port which is using the war or jar, close it - then restart</p>\n<blockquote>\n<p>sftp - ssh port : 22</p>\n<blockquote>\n<p>ssh port : depend on config</p>\n</blockquote>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":17841761,"reputation":105,"user_id":12959500,"display_name":"Ledjon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681390005,"creation_date":1681390005,"answer_id":76005613,"question_id":19489720,"body_markdown":"I solved it by opening Task Manager and killing java processes. Then `mvn clean install` and everything worked fine.","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>I solved it by opening Task Manager and killing java processes. Then <code>mvn clean install</code> and everything worked fine.</p>\n"},{"tags":[],"owner":{"account_id":3236725,"reputation":2084,"user_id":2730742,"accept_rate":27,"display_name":"krm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698248925,"creation_date":1698248925,"answer_id":77361052,"question_id":19489720,"body_markdown":"In my case (using VS Code) it helped to close VS Code and open it again. Previously I had stopped/closed all possible applications which had used the target directory, but it didn&#39;t help. Something had been running invisibly in the background of this VS Code window and only closing and reopening it solved the issue. \r\nI didn&#39;t close any processes directly in Task Manager, because I had other instances of VS Code and Eclipse with other projects opened at the same time. ","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>In my case (using VS Code) it helped to close VS Code and open it again. Previously I had stopped/closed all possible applications which had used the target directory, but it didn't help. Something had been running invisibly in the background of this VS Code window and only closing and reopening it solved the issue.\nI didn't close any processes directly in Task Manager, because I had other instances of VS Code and Eclipse with other projects opened at the same time.</p>\n"}],"owner":{"display_name":"user2740224"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219523,"favorite_count":0,"down_vote_count":0,"up_vote_count":84,"answer_count":25,"score":84,"last_activity_date":1698248925,"creation_date":1382344791,"question_id":19489720,"body_markdown":"I use STS(spring tool suite) + maven plugin.\r\n\r\nEvery time when I run my application using `maven-clean` I see following error:\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building hhsystem ui 1.0.0-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:2.4.1:clean (default-clean) @ ui ---\r\n    [INFO] Deleting C:\\Users\\Nikolay_Tkachev\\workspace\\HHSystem\\UI\\target\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 0.471s\r\n    [INFO] Finished at: Mon Oct 21 12:34:33 MSK 2013\r\n    [INFO] Final Memory: 2M/90M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project ui: Failed to clean project: Failed to delete C:\\Users\\Nikolay_Tkachev\\workspace\\HHSystem\\UI\\target\\org.ow2.util.asm-asm-tree-3.1.jar -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n\r\nI have to close STS and go to `C:\\Users\\Nikolay_Tkachev\\workspace\\HHSystem\\UI\\target` and delete `org.ow2.util.asm-asm-tree-3.1.jar`\r\n\r\nAfter starting STS again it works, but this is a hassle.\r\n\r\nCan you help me with this problem?\r\n\r\n**UPDATE**  \r\nfor Kalathoki L.\r\n\r\nI run `maven-clean` from this state:\r\n\r\n![STS screen shot][1]\r\n\r\n\r\nI see same behaviour from the command line as from the eclipse plugin\r\n\r\nIf I watch unlocker when STS is running I see\r\n\r\n![unlocker screen shot][2]:\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/5o1ZP.jpg\r\n  [2]: http://i.stack.imgur.com/9b4oS.jpg","title":"maven... Failed to clean project: Failed to delete ..\\org.ow2.util.asm-asm-tree-3.1.jar","body":"<p>I use STS(spring tool suite) + maven plugin.</p>\n\n<p>Every time when I run my application using <code>maven-clean</code> I see following error:</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building hhsystem ui 1.0.0-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:2.4.1:clean (default-clean) @ ui ---\n[INFO] Deleting C:\\Users\\Nikolay_Tkachev\\workspace\\HHSystem\\UI\\target\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 0.471s\n[INFO] Finished at: Mon Oct 21 12:34:33 MSK 2013\n[INFO] Final Memory: 2M/90M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.4.1:clean (default-clean) on project ui: Failed to clean project: Failed to delete C:\\Users\\Nikolay_Tkachev\\workspace\\HHSystem\\UI\\target\\org.ow2.util.asm-asm-tree-3.1.jar -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n\n<p>I have to close STS and go to <code>C:\\Users\\Nikolay_Tkachev\\workspace\\HHSystem\\UI\\target</code> and delete <code>org.ow2.util.asm-asm-tree-3.1.jar</code></p>\n\n<p>After starting STS again it works, but this is a hassle.</p>\n\n<p>Can you help me with this problem?</p>\n\n<p><strong>UPDATE</strong><br>\nfor Kalathoki L.</p>\n\n<p>I run <code>maven-clean</code> from this state:</p>\n\n<p><img src=\"https://i.stack.imgur.com/5o1ZP.jpg\" alt=\"STS screen shot\"></p>\n\n<p>I see same behaviour from the command line as from the eclipse plugin</p>\n\n<p>If I watch unlocker when STS is running I see</p>\n\n<p><img src=\"https://i.stack.imgur.com/9b4oS.jpg\" alt=\"unlocker screen shot\">:</p>\n"},{"tags":["java","jtable","defaulttablemodel"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1698265722,"post_id":77360863,"comment_id":136384977,"body_markdown":"(1-) *but kept getting error messages for each statement that tries to set the current column width.* - and the error message is??? Most an [mre] demonstrating the problem.  Of course the code you posted won&#39;t compile since you can&#39;t have code after import statements. We can&#39;t guess what your real code looks like.","body":"(1-) <i>but kept getting error messages for each statement that tries to set the current column width.</i> - and the error message is??? Most an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem.  Of course the code you posted won&#39;t compile since you can&#39;t have code after import statements. We can&#39;t guess what your real code looks like."}],"answers":[{"comments":[{"owner":{"account_id":22811718,"reputation":1,"user_id":16962916,"display_name":"Edelweiss Monville"},"score":0,"creation_date":1698309545,"post_id":77360981,"comment_id":136389753,"body_markdown":"I apologize for posting a silly question. I realized I had placed the instructions that set the table column width in the wrong place.  They worked when I moved them to the initialization section.","body":"I apologize for posting a silly question. I realized I had placed the instructions that set the table column width in the wrong place.  They worked when I moved them to the initialization section."}],"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698248761,"creation_date":1698248361,"answer_id":77360981,"question_id":77360863,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  \r\n\r\nI went to the trouble of creating the rest of the code.  Here&#39;s the GUI.\r\n\r\n[![Example][1]][1]\r\n\r\nOther than the columns not wide enough for the column headers, I don&#39;t see a problem.\r\n\r\nHere&#39;s the complete runnable code, which is what you should be including with your question.\r\n\r\n    import java.awt.BorderLayout;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTable;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.table.DefaultTableModel;\r\n    import javax.swing.table.TableColumnModel;\r\n    \r\n    public class JTableExample implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new JTableExample());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;JTable Example&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(createTablePanel(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JScrollPane createTablePanel() {\r\n    \t\tString[] columnNames = { &quot;New Line Name&quot;, &quot;Point1&quot;, &quot;Point2&quot;, &quot;Angle&quot;,\r\n    \t\t\t\t&quot;Parallel Line Name&quot;, &quot;Distance From Line&quot;, &quot;Group&quot; };\r\n    \t\tDefaultTableModel linesTableModel = new DefaultTableModel(null,\r\n    \t\t\t\tcolumnNames);\r\n    \t\tJTable tblLines = new JTable(linesTableModel);\r\n    \t\tTableColumnModel colModel = tblLines.getColumnModel();\r\n    \t\tcolModel.getColumn(0).setPreferredWidth(100);\r\n    \t\tcolModel.getColumn(1).setPreferredWidth(50);\r\n    \t\tcolModel.getColumn(2).setPreferredWidth(80);\r\n    \t\tcolModel.getColumn(3).setPreferredWidth(150);\r\n    \t\tcolModel.getColumn(4).setPreferredWidth(200);\r\n    \t\tcolModel.getColumn(5).setPreferredWidth(100);\r\n    \t\tcolModel.getColumn(6).setPreferredWidth(90);\r\n    \t\t\r\n    \t\treturn new JScrollPane(tblLines);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SItcd.png","title":"How to set the width of a JTable columns","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>I went to the trouble of creating the rest of the code.  Here's the GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/SItcd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SItcd.png\" alt=\"Example\" /></a></p>\n<p>Other than the columns not wide enough for the column headers, I don't see a problem.</p>\n<p>Here's the complete runnable code, which is what you should be including with your question.</p>\n<pre><code>import java.awt.BorderLayout;\n\nimport javax.swing.JFrame;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.SwingUtilities;\nimport javax.swing.table.DefaultTableModel;\nimport javax.swing.table.TableColumnModel;\n\npublic class JTableExample implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new JTableExample());\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;JTable Example&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(createTablePanel(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JScrollPane createTablePanel() {\n        String[] columnNames = { &quot;New Line Name&quot;, &quot;Point1&quot;, &quot;Point2&quot;, &quot;Angle&quot;,\n                &quot;Parallel Line Name&quot;, &quot;Distance From Line&quot;, &quot;Group&quot; };\n        DefaultTableModel linesTableModel = new DefaultTableModel(null,\n                columnNames);\n        JTable tblLines = new JTable(linesTableModel);\n        TableColumnModel colModel = tblLines.getColumnModel();\n        colModel.getColumn(0).setPreferredWidth(100);\n        colModel.getColumn(1).setPreferredWidth(50);\n        colModel.getColumn(2).setPreferredWidth(80);\n        colModel.getColumn(3).setPreferredWidth(150);\n        colModel.getColumn(4).setPreferredWidth(200);\n        colModel.getColumn(5).setPreferredWidth(100);\n        colModel.getColumn(6).setPreferredWidth(90);\n        \n        return new JScrollPane(tblLines);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22811718,"reputation":1,"user_id":16962916,"display_name":"Edelweiss Monville"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1698248761,"creation_date":1698247471,"question_id":77360863,"body_markdown":"I read all the posted messages concerned with setting the column width of a JTable.\r\nI literally copied the posted answers just changing the JTable name but kept getting error messages for each statement that tries to set the current column width.\r\n\r\nI simply define a JTable with 7 fixed columns whose names are passed to the DefaultTableModel.\r\nI must be missing something but... what?\r\n\r\nI am posting just the few relevant lines.\r\nThank you in advance for any suggestion.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\n       import javax.swing.table.TableColumn;\r\n       import javax.swing.table.TableColumnModel;\r\n\r\n\r\n\tJString[] columnNames = {&quot;New Line Name&quot;, &quot;Point1&quot;, &quot;Point2&quot;, &quot;Angle&quot;, &quot;Parallel Line Name&quot;,      \r\n                                 &quot;Distance From Line&quot;, &quot;Group&quot;};\r\n        DefaultTableModel linesTableModel = new DefaultTableModel(null,columnNames);\r\n        JTable tblLines = new JTable(linesTableModel);\r\n\tTableColumnModel colModel = tblLines.getColumnModel(); \r\n\tcolModel.getColumn(0).setPreferredWidth(100);\r\n\tcolModel.getColumn(1).setPreferredWidth(50);\r\n\tcolModel.getColumn(2).setPreferredWidth(80);\r\n\tcolModel.getColumn(3).setPreferredWidth(150);\r\n\tcolModel.getColumn(4).setPreferredWidth(200);\r\n\tcolModel.getColumn(5).setPreferredWidth(100);\r\n\tcolModel.getColumn(6).setPreferredWidth(90);\r\n```\r\n\r\n","title":"How to set the width of a JTable columns","body":"<p>I read all the posted messages concerned with setting the column width of a JTable.\nI literally copied the posted answers just changing the JTable name but kept getting error messages for each statement that tries to set the current column width.</p>\n<p>I simply define a JTable with 7 fixed columns whose names are passed to the DefaultTableModel.\nI must be missing something but... what?</p>\n<p>I am posting just the few relevant lines.\nThank you in advance for any suggestion.</p>\n<pre><code>       import javax.swing.table.TableColumn;\n       import javax.swing.table.TableColumnModel;\n\n\n    JString[] columnNames = {&quot;New Line Name&quot;, &quot;Point1&quot;, &quot;Point2&quot;, &quot;Angle&quot;, &quot;Parallel Line Name&quot;,      \n                                 &quot;Distance From Line&quot;, &quot;Group&quot;};\n        DefaultTableModel linesTableModel = new DefaultTableModel(null,columnNames);\n        JTable tblLines = new JTable(linesTableModel);\n    TableColumnModel colModel = tblLines.getColumnModel(); \n    colModel.getColumn(0).setPreferredWidth(100);\n    colModel.getColumn(1).setPreferredWidth(50);\n    colModel.getColumn(2).setPreferredWidth(80);\n    colModel.getColumn(3).setPreferredWidth(150);\n    colModel.getColumn(4).setPreferredWidth(200);\n    colModel.getColumn(5).setPreferredWidth(100);\n    colModel.getColumn(6).setPreferredWidth(90);\n</code></pre>\n"},{"tags":["java","oop","variables","nullpointerexception"],"comments":[{"owner":{"account_id":480822,"reputation":48369,"user_id":894284,"accept_rate":75,"display_name":"Matt Fenwick"},"score":0,"creation_date":1323271032,"post_id":8417595,"comment_id":10398083,"body_markdown":"That&#39;s not a class variable, it&#39;s an instance variable.","body":"That&#39;s not a class variable, it&#39;s an instance variable."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":5,"creation_date":1323275335,"post_id":8417595,"comment_id":10399861,"body_markdown":"How is an NPE worse than having the value initialized, but with an incorrect or invalid value?","body":"How is an NPE worse than having the value initialized, but with an incorrect or invalid value?"},{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":1,"creation_date":1323278074,"post_id":8417595,"comment_id":10400902,"body_markdown":"Mark is correct. A NullPointerException is better than having it fail silently with an incorrect value.","body":"Mark is correct. A NullPointerException is better than having it fail silently with an incorrect value."}],"answers":[{"tags":[],"owner":{"account_id":384094,"reputation":11996,"user_id":740378,"display_name":"Nathan Phillips"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1323270950,"creation_date":1323270950,"answer_id":8417643,"question_id":8417595,"body_markdown":"One case where it is better not to initialise inline is where you have multiple constructors that initialise fields in different ways. It would be inefficient to initialise your field at the declaration and then replace that value with a value passed to a specific constructor later.","title":"Initializing object attributes in OO Languages","body":"<p>One case where it is better not to initialise inline is where you have multiple constructors that initialise fields in different ways. It would be inefficient to initialise your field at the declaration and then replace that value with a value passed to a specific constructor later.</p>\n"},{"tags":[],"owner":{"account_id":293472,"reputation":467154,"user_id":596781,"accept_rate":80,"display_name":"Kerrek SB"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1323271001,"creation_date":1323271001,"answer_id":8417661,"question_id":8417595,"body_markdown":"This has come up repeatedly on SO, so you should search the site for further opinions.\r\n\r\nMy suggestion for Java (this only makes sense in certain languages):\r\n\r\nIf the initial value is fixed for the class, then initialize inline.\r\n\r\nIf different constructors set different initial values, assign the values in the respective constructor.\r\n\r\nIn C++11 the situation is somewhat similar.","title":"Initializing object attributes in OO Languages","body":"<p>This has come up repeatedly on SO, so you should search the site for further opinions.</p>\n\n<p>My suggestion for Java (this only makes sense in certain languages):</p>\n\n<p>If the initial value is fixed for the class, then initialize inline.</p>\n\n<p>If different constructors set different initial values, assign the values in the respective constructor.</p>\n\n<p>In C++11 the situation is somewhat similar.</p>\n"},{"comments":[{"owner":{"account_id":1067469,"reputation":66,"user_id":1067608,"display_name":"Jean-Patrick Smith"},"score":0,"creation_date":1560684908,"post_id":8417896,"comment_id":99810329,"body_markdown":"If it&#39;s final, why not just declare it inline in your code example? I see this a lot and am confused as to what&#39;s convention, code style and best practice.","body":"If it&#39;s final, why not just declare it inline in your code example? I see this a lot and am confused as to what&#39;s convention, code style and best practice."},{"owner":{"account_id":45716,"reputation":11768,"user_id":134894,"accept_rate":54,"display_name":"ptomli"},"score":0,"creation_date":1560846010,"post_id":8417896,"comment_id":99859503,"body_markdown":"@Jean-PatrickSmith because the actual _value_ stored in the final property is provided to the constructor, at runtime. If the _value_ of `foo` was hard coded inline, then you can only ever have an instance of `Foo` with that exact value for `foo`. I comment on this in the 3rd paragraph of the answer.","body":"@Jean-PatrickSmith because the actual <i>value</i> stored in the final property is provided to the constructor, at runtime. If the <i>value</i> of <code>foo</code> was hard coded inline, then you can only ever have an instance of <code>Foo</code> with that exact value for <code>foo</code>. I comment on this in the 3rd paragraph of the answer."}],"tags":[],"owner":{"account_id":45716,"reputation":11768,"user_id":134894,"accept_rate":54,"display_name":"ptomli"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323271843,"creation_date":1323271843,"answer_id":8417896,"question_id":8417595,"body_markdown":"It totally depends on how the class is intended to be used.\r\n\r\nOne example would be for value classes, which you might often want to be immutable. Ideally in this case you would set the values in the constructor.\r\n\r\n    public final class Foo {\r\n        private final String foo;\r\n        public Foo(String foo) {\r\n            this.foo = foo;\r\n        }\r\n    }\r\n\r\nIf there are genuinely sensible default values then you can provide these at the point of declaration. It does tend to make it fairly easy to see what is the expected default value.\r\nOf course, that doesn&#39;t work with final fields (as above), as it&#39;s not possible to assign another value.\r\n\r\nAnother consideration is concerned with the relative merits of constructor or mutator initialization. Using constructor initialization ensures that the instance is never in an inconsistent state, while mutator initialization is often more flexible and provides an easier API.\r\n\r\nIn the initial remark regarding avoiding `NPE`s, I&#39;d say that&#39;s best dealt with by using constructor initialization, along the lines of the code above.\r\n","title":"Initializing object attributes in OO Languages","body":"<p>It totally depends on how the class is intended to be used.</p>\n\n<p>One example would be for value classes, which you might often want to be immutable. Ideally in this case you would set the values in the constructor.</p>\n\n<pre><code>public final class Foo {\n    private final String foo;\n    public Foo(String foo) {\n        this.foo = foo;\n    }\n}\n</code></pre>\n\n<p>If there are genuinely sensible default values then you can provide these at the point of declaration. It does tend to make it fairly easy to see what is the expected default value.\nOf course, that doesn't work with final fields (as above), as it's not possible to assign another value.</p>\n\n<p>Another consideration is concerned with the relative merits of constructor or mutator initialization. Using constructor initialization ensures that the instance is never in an inconsistent state, while mutator initialization is often more flexible and provides an easier API.</p>\n\n<p>In the initial remark regarding avoiding <code>NPE</code>s, I'd say that's best dealt with by using constructor initialization, along the lines of the code above.</p>\n"}],"owner":{"display_name":"user485498"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5014,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"closed_date":1698264551,"accepted_answer_id":8417643,"answer_count":3,"score":5,"last_activity_date":1698248662,"creation_date":1323270779,"question_id":8417595,"body_markdown":"This question has a slight emphasis on Java but applies to any OO language. Is there any reason not to initialize instance variables in their declarations? It seems there are no obvious reasons not to. It minimizes the risk of silly null pointer exception mistakes.\r\n\r\nFor example:\r\n\r\n    class MyClass {\r\n    \r\n       private String name = &quot;&quot;; // Initialized here\r\n\r\n       public MyClass(){\r\n    \r\n           // Something\r\n    \r\n       }\r\n    }\r\n\r\nBut in some text books they don&#39;t bother to initialize straight away. What might be a reason to not do so? Does it matter?","title":"Initializing object attributes in OO Languages","body":"<p>This question has a slight emphasis on Java but applies to any OO language. Is there any reason not to initialize instance variables in their declarations? It seems there are no obvious reasons not to. It minimizes the risk of silly null pointer exception mistakes.</p>\n<p>For example:</p>\n<pre><code>class MyClass {\n\n   private String name = &quot;&quot;; // Initialized here\n\n   public MyClass(){\n\n       // Something\n\n   }\n}\n</code></pre>\n<p>But in some text books they don't bother to initialize straight away. What might be a reason to not do so? Does it matter?</p>\n"},{"tags":["java","applet","java-web-start"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1546447493,"post_id":54010036,"comment_id":94856816,"body_markdown":"There are JSP / Servlets and there is GWT.","body":"There are JSP / Servlets and there is GWT."}],"answers":[{"comments":[{"owner":{"account_id":2424899,"reputation":2096,"user_id":2117073,"accept_rate":35,"display_name":"Knarf"},"score":1,"creation_date":1546512479,"post_id":54010170,"comment_id":94877507,"body_markdown":"Since you are using android I think GWT is the right choice.\nThe Inbox app from Google is written largely in GWT so a lot of code is re-used between Android and the webapp.","body":"Since you are using android I think GWT is the right choice. The Inbox app from Google is written largely in GWT so a lot of code is re-used between Android and the webapp."}],"tags":[],"owner":{"account_id":10257820,"reputation":84,"user_id":7570177,"display_name":"somethingunusual"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1546447860,"creation_date":1546447860,"answer_id":54010170,"question_id":54010036,"body_markdown":"Nowadays, we&#39;re using GWT at work. Well.. It&#39;s efficient, it&#39;s fast and compatible with all browsers. And it&#39;s so easy to build a web page with GWT. You can check tutorials from this [link][1].\r\n\r\n\r\nAnd you can look up for Spring MVC. Not the most flexible choice for UI, I know. But give it a shot. [link][2]\r\n\r\n\r\nBut.. If you&#39;re open to new things, I&#39;ll totally recommend React Js. It&#39;s flexible,it&#39;s super fast with perfect UI. If you ever think of using Java just for back end, React js is a great deal for UI. [link][3]\r\n\r\n\r\n  [1]: http://www.gwtproject.org/doc/latest/tutorial/index.html\r\n  [2]: https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html\r\n  [3]: https://reactjs.org/","title":"Is there a modern way to run java applications in browser?","body":"<p>Nowadays, we're using GWT at work. Well.. It's efficient, it's fast and compatible with all browsers. And it's so easy to build a web page with GWT. You can check tutorials from this <a href=\"http://www.gwtproject.org/doc/latest/tutorial/index.html\" rel=\"nofollow noreferrer\">link</a>.</p>\n\n<p>And you can look up for Spring MVC. Not the most flexible choice for UI, I know. But give it a shot. <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html\" rel=\"nofollow noreferrer\">link</a></p>\n\n<p>But.. If you're open to new things, I'll totally recommend React Js. It's flexible,it's super fast with perfect UI. If you ever think of using Java just for back end, React js is a great deal for UI. <a href=\"https://reactjs.org/\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":7342678,"reputation":474,"user_id":5591561,"accept_rate":44,"display_name":"neoexpert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590839418,"creation_date":1590839418,"answer_id":62101993,"question_id":54010036,"body_markdown":"There is an HelloWorld Example Java-Program which is running in a browser:\r\n\r\nhttps://github.com/neo-expert/jsjvm_helloworld\r\n\r\nAfter compiling you can just run the jar file which starts a webserver where the program will be served. (port 8080)","title":"Is there a modern way to run java applications in browser?","body":"<p>There is an HelloWorld Example Java-Program which is running in a browser:</p>\n\n<p><a href=\"https://github.com/neo-expert/jsjvm_helloworld\" rel=\"nofollow noreferrer\">https://github.com/neo-expert/jsjvm_helloworld</a></p>\n\n<p>After compiling you can just run the jar file which starts a webserver where the program will be served. (port 8080)</p>\n"},{"tags":[],"owner":{"account_id":22111510,"reputation":129,"user_id":16366311,"display_name":"merlindru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698248499,"creation_date":1698248499,"answer_id":77360994,"question_id":54010036,"body_markdown":"Nowadays you should be able to run Java (and most other languages) in the browser throught WebAssembly (Wasm).\r\n\r\n[This answer](https://stackoverflow.com/questions/68265863/how-to-compile-java-to-wasm-webassembly) recommends [TeaVM](https://teavm.org).\r\n\r\nThere also is [Bytecoder](https://github.com/mirkosertic/Bytecoder).","title":"Is there a modern way to run java applications in browser?","body":"<p>Nowadays you should be able to run Java (and most other languages) in the browser throught WebAssembly (Wasm).</p>\n<p><a href=\"https://stackoverflow.com/questions/68265863/how-to-compile-java-to-wasm-webassembly\">This answer</a> recommends <a href=\"https://teavm.org\" rel=\"nofollow noreferrer\">TeaVM</a>.</p>\n<p>There also is <a href=\"https://github.com/mirkosertic/Bytecoder\" rel=\"nofollow noreferrer\">Bytecoder</a>.</p>\n"}],"owner":{"account_id":12538076,"reputation":467,"user_id":9124072,"display_name":"pseusys"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12806,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":54010170,"answer_count":3,"score":5,"last_activity_date":1698248499,"creation_date":1546447399,"question_id":54010036,"body_markdown":"Is there a **modern** way to run java application on the web? As far as I know, java applets and java web start both are deprecated. \r\n\r\nI have an android app, written in java, which I want to run on server (of course, altered in some way). While java is cross-platform there is no problem to transfer it to desktop (no matter, javafx, swing or etc.).\r\n\r\nApparently, it would be great not to re-write it in some other language.\r\n\r\n","title":"Is there a modern way to run java applications in browser?","body":"<p>Is there a <strong>modern</strong> way to run java application on the web? As far as I know, java applets and java web start both are deprecated. </p>\n\n<p>I have an android app, written in java, which I want to run on server (of course, altered in some way). While java is cross-platform there is no problem to transfer it to desktop (no matter, javafx, swing or etc.).</p>\n\n<p>Apparently, it would be great not to re-write it in some other language.</p>\n"},{"tags":["java","mysql","exception","jdbc","classloader"],"comments":[{"owner":{"account_id":114839,"reputation":23525,"user_id":301816,"accept_rate":84,"display_name":"stevebot"},"score":0,"creation_date":1338480619,"post_id":10837248,"comment_id":14110564,"body_markdown":"can you post the stack trace? how are you sure it&#39;s the mySql driver class that is not found?","body":"can you post the stack trace? how are you sure it&#39;s the mySql driver class that is not found?"}],"answers":[{"comments":[{"owner":{"account_id":789057,"reputation":309,"user_id":856092,"accept_rate":33,"display_name":"Ephraim"},"score":0,"creation_date":1338489037,"post_id":10837486,"comment_id":14113564,"body_markdown":"This makes sense. I tried it but nothing changed. I made sure there was a newline in the manifest file.","body":"This makes sense. I tried it but nothing changed. I made sure there was a newline in the manifest file."},{"owner":{"account_id":1252478,"reputation":1866,"user_id":1212605,"display_name":"raddykrish"},"score":0,"creation_date":1338501591,"post_id":10837486,"comment_id":14118203,"body_markdown":"Did you bundle the mysql-connector jar inside your jar?","body":"Did you bundle the mysql-connector jar inside your jar?"},{"owner":{"account_id":789057,"reputation":309,"user_id":856092,"accept_rate":33,"display_name":"Ephraim"},"score":0,"creation_date":1338539117,"post_id":10837486,"comment_id":14125960,"body_markdown":"No, The docs indicate not to. I placed it in the same directory as the jar.I opened the jar and checked the manifest was there and contained the correct jar name.","body":"No, The docs indicate not to. I placed it in the same directory as the jar.I opened the jar and checked the manifest was there and contained the correct jar name."}],"tags":[],"owner":{"account_id":1252478,"reputation":1866,"user_id":1212605,"display_name":"raddykrish"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338481275,"creation_date":1338481275,"answer_id":10837486,"question_id":10837248,"body_markdown":"When you are running an application from the jar then you may need to check the manifest file way of adding the classpath dependencies. Take a look at this [Manifest Classpath][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/deployment/jar/downman.html","title":"ClassNotFoundException in MySQL Connector/J","body":"<p>When you are running an application from the jar then you may need to check the manifest file way of adding the classpath dependencies. Take a look at this <a href=\"http://docs.oracle.com/javase/tutorial/deployment/jar/downman.html\" rel=\"nofollow\">Manifest Classpath</a></p>\n"},{"comments":[{"owner":{"account_id":789057,"reputation":309,"user_id":856092,"accept_rate":33,"display_name":"Ephraim"},"score":0,"creation_date":1338485132,"post_id":10837590,"comment_id":14112171,"body_markdown":"Sorry typo in submission it is jdbc.Driver:  that is why it worked in eclipse IDE.","body":"Sorry typo in submission it is jdbc.Driver:  that is why it worked in eclipse IDE."}],"tags":[],"owner":{"account_id":1296974,"reputation":28447,"user_id":1247781,"accept_rate":100,"display_name":"FThompson"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338481750,"creation_date":1338481750,"answer_id":10837590,"question_id":10837248,"body_markdown":"The driver is `com.mysql.jdbc.Driver`, not `com.mysql.java.Driver`.\r\n\r\nYou receive the ClassNotFoundException, because there is no `com.mysql.java.Driver` class in the Connector/J library.","title":"ClassNotFoundException in MySQL Connector/J","body":"<p>The driver is <code>com.mysql.jdbc.Driver</code>, not <code>com.mysql.java.Driver</code>.</p>\n\n<p>You receive the ClassNotFoundException, because there is no <code>com.mysql.java.Driver</code> class in the Connector/J library.</p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1338488761,"post_id":10837629,"comment_id":14113451,"body_markdown":"IMHO it is better to build a correct manifest file and reference the libraries instead of building one &#252;ber-jar which contains all external dependencies.","body":"IMHO it is better to build a correct manifest file and reference the libraries instead of building one &#252;ber-jar which contains all external dependencies."}],"tags":[],"owner":{"account_id":465863,"reputation":41382,"user_id":870248,"accept_rate":100,"display_name":"Paul Vargas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338481939,"creation_date":1338481939,"answer_id":10837629,"question_id":10837248,"body_markdown":"Another thing you could do is put all the required libraries in a single file in an executable jar.\r\nThe following response may be of great help:\r\n\r\n - [eclipse create executable jar][1]\r\n\r\nSince Eclipse 3.5, you could also use the eclipse wizard to export an executable jar.\r\n\r\nUse File &gt; Export... and select Runnable JAR file. The Runnable Jar Export window has a radio button where you can choose to Extract or to Package the required libraries into genratated jar.\r\n\r\n![Export][2]\r\n![Runnable JAR File Export][3]\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8159427/870248\r\n  [2]: http://i.stack.imgur.com/UImD5.png\r\n  [3]: http://i.stack.imgur.com/d73cV.png","title":"ClassNotFoundException in MySQL Connector/J","body":"<p>Another thing you could do is put all the required libraries in a single file in an executable jar.\nThe following response may be of great help:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/8159427/870248\">eclipse create executable jar</a></li>\n</ul>\n\n<p>Since Eclipse 3.5, you could also use the eclipse wizard to export an executable jar.</p>\n\n<p>Use File > Export... and select Runnable JAR file. The Runnable Jar Export window has a radio button where you can choose to Extract or to Package the required libraries into genratated jar.</p>\n\n<p><img src=\"https://i.stack.imgur.com/UImD5.png\" alt=\"Export\">\n<img src=\"https://i.stack.imgur.com/d73cV.png\" alt=\"Runnable JAR File Export\"></p>\n"},{"comments":[{"owner":{"account_id":789057,"reputation":309,"user_id":856092,"accept_rate":33,"display_name":"Ephraim"},"score":0,"creation_date":1338540585,"post_id":10839172,"comment_id":14126421,"body_markdown":"Thx.  The class-path was not being copied into META-INF/MANIFEST.MF.  It was in my Manifest.txt. Opening the .jar and your input resolved the issue.","body":"Thx.  The class-path was not being copied into META-INF/MANIFEST.MF.  It was in my Manifest.txt. Opening the .jar and your input resolved the issue."}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1338488914,"creation_date":1338488914,"answer_id":10839172,"question_id":10837248,"body_markdown":"If you are executing a file using `-jar`, then any external classpath (either provided on the commandline or the environment) is ignored. It only looks to the `Class-path:` entry in the `META-INF/MANIFEST.MF` file. If the MySQL jar isn&#39;t specified there, it won&#39;t load it.","title":"ClassNotFoundException in MySQL Connector/J","body":"<p>If you are executing a file using <code>-jar</code>, then any external classpath (either provided on the commandline or the environment) is ignored. It only looks to the <code>Class-path:</code> entry in the <code>META-INF/MANIFEST.MF</code> file. If the MySQL jar isn't specified there, it won't load it.</p>\n"}],"owner":{"account_id":789057,"reputation":309,"user_id":856092,"accept_rate":33,"display_name":"Ephraim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":941,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698248399,"accepted_answer_id":10839172,"answer_count":4,"score":0,"last_activity_date":1698248433,"creation_date":1338480376,"question_id":10837248,"body_markdown":"This has been asked before but I cannot find the answer I need.\r\n\r\n1)  Using `Class.forName(&quot;com.mysql.java.Driver&quot;)` in the eclipse IDE all works well. I load the correct jar (mysql-connector-java-5.1.20-bin.jar), no exception.\r\n\r\nWhen I create a jar for my app a1.jar and double click the jar, I get the `ClassnotFoundException`.\r\n\r\nI created a .bat file in Windows XP with\r\n\r\n`java -classpath c:\\temp\\mysql-connector-java-5.1.20-bin.jar -jar c:\\temp\\a1.jar` the app statrs with the same exception.\r\n\r\nFurthermore using `System.getProperty (&quot;java.class.path&quot;)` shows `c:\\temp\\a1.jar` whilst in the IDE I can see several directories","title":"ClassNotFoundException in MySQL Connector/J","body":"<p>This has been asked before but I cannot find the answer I need.</p>\n\n<p>1)  Using <code>Class.forName(\"com.mysql.java.Driver\")</code> in the eclipse IDE all works well. I load the correct jar (mysql-connector-java-5.1.20-bin.jar), no exception.</p>\n\n<p>When I create a jar for my app a1.jar and double click the jar, I get the <code>ClassnotFoundException</code>.</p>\n\n<p>I created a .bat file in Windows XP with</p>\n\n<p><code>java -classpath c:\\temp\\mysql-connector-java-5.1.20-bin.jar -jar c:\\temp\\a1.jar</code> the app statrs with the same exception.</p>\n\n<p>Furthermore using <code>System.getProperty (\"java.class.path\")</code> shows <code>c:\\temp\\a1.jar</code> whilst in the IDE I can see several directories</p>\n"},{"tags":["java","java-16","javax.sound.midi"],"answers":[{"comments":[{"owner":{"account_id":19928282,"reputation":95,"user_id":14602455,"display_name":"Matei Anghel"},"score":0,"creation_date":1636539570,"post_id":69910972,"comment_id":123581912,"body_markdown":"Thank you for your answer but I was wondering if there&#39;s a way to transform directly from  ticks to milliseconds, or some suggestion on how to alter my code without changing all the code. Thank you!","body":"Thank you for your answer but I was wondering if there&#39;s a way to transform directly from  ticks to milliseconds, or some suggestion on how to alter my code without changing all the code. Thank you!"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1636539919,"post_id":69910972,"comment_id":123582076,"body_markdown":"please read what i have written `the time value passed to Receiver.send must be close to the present time, or the receiving device might not be able to schedule the message correctly` this is not a java limitation, its a hardware limitation.","body":"please read what i have written <code>the time value passed to Receiver.send must be close to the present time, or the receiving device might not be able to schedule the message correctly</code> this is not a java limitation, its a hardware limitation."},{"owner":{"account_id":19928282,"reputation":95,"user_id":14602455,"display_name":"Matei Anghel"},"score":0,"creation_date":1636540111,"post_id":69910972,"comment_id":123582156,"body_markdown":"After searching on the internet about  javax.sound.midi.Receiver.send last parameter refers to time in microseconds, so then why should I use ticks? Here is the link [link] (https://docs.oracle.com/javase/7/docs/api/javax/sound/midi/Receiver.html)","body":"After searching on the internet about  javax.sound.midi.Receiver.send last parameter refers to time in microseconds, so then why should I use ticks? Here is the link [link] (<a href=\"https://docs.oracle.com/javase/7/docs/api/javax/sound/midi/Receiver.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/javax/sound/midi/&hellip;</a>)"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1636543615,"post_id":69910972,"comment_id":123583506,"body_markdown":"Actually, it&#39;s a wonder it both compiled or did anything ! Don&#39;t do that inside static context in the main() method. Also to make Thread.sleep() operate whatsoever it should be Thread execnow = Thread.currentThread(); execnow.sleep(1000); and the class should be extending java.lang.Thread that runs the code to play (best as an inner nested subclass). Lookup the tutorials for how to make Thread classes and use run()","body":"Actually, it&#39;s a wonder it both compiled or did anything ! Don&#39;t do that inside static context in the main() method. Also to make Thread.sleep() operate whatsoever it should be Thread execnow = Thread.currentThread(); execnow.sleep(1000); and the class should be extending java.lang.Thread that runs the code to play (best as an inner nested subclass). Lookup the tutorials for how to make Thread classes and use run()"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1636546278,"post_id":69910972,"comment_id":123584486,"body_markdown":"because, the parameter is used to push a note forward or backwards to adjust for minor latency. This latency is defined in microseconds. Read the docs, it says SMALL adjustments. That parameter is NOT used to define when a NOTE_OFF message should be sent in a sequence. Its used as a offset time to compensate for latency. A NOTE_OFF message is placed on a track in a sequence, and time defined on a track, is defined by using ticks.","body":"because, the parameter is used to push a note forward or backwards to adjust for minor latency. This latency is defined in microseconds. Read the docs, it says SMALL adjustments. That parameter is NOT used to define when a NOTE_OFF message should be sent in a sequence. Its used as a offset time to compensate for latency. A NOTE_OFF message is placed on a track in a sequence, and time defined on a track, is defined by using ticks."},{"owner":{"account_id":19928282,"reputation":95,"user_id":14602455,"display_name":"Matei Anghel"},"score":0,"creation_date":1636563329,"post_id":69910972,"comment_id":123592386,"body_markdown":"Ok. Thank you all for all the answers.","body":"Ok. Thank you all for all the answers."}],"tags":[],"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636537476,"creation_date":1636537476,"answer_id":69910972,"question_id":69909883,"body_markdown":"The problem has most likely to do with your `times` array.\r\n\r\nTaken from the oracle [java documentation on sequancers][1]\r\n\r\n&gt; As previously mentioned, the program can include a time stamp with each MIDI message it sends to the device&#39;s receiver. However, such time stamps are used only for fine-tuning the timing, to correct for processing latency. The caller can&#39;t generally set arbitrary time stamps; the time value passed to Receiver.send must be close to the present time, or the receiving device might not be able to schedule the message correctly. This means that if an application program wanted to create a queue of MIDI messages for an entire piece of music ahead of time (instead of creating each message in response to a real-time event), it would have to be very careful to schedule each invocation of Receiver.send for nearly the right time.\r\n\r\n&gt; Fortunately, most application programs don&#39;t have to be concerned with such scheduling. Instead of invoking Receiver.send itself, a program can use a Sequencer object to manage the queue of MIDI messages for it.\r\n\r\nYou are blindly assuming that the numbers (1000, 2000, 3000... etc.) is milliseconds, but defined in the api this is defined as `ticks`.\r\n\r\nLike in any music you need to define the subdivisions, and the pulse per ticks (PPQ) for instance quarter notes, 16th notes etc. etc.\r\n\r\nIn java this is usually done by defining a sequencer, and with these settings, and then creating a track on said sequencer, and then playing notes on that track.\r\n\r\nHere is an example i found on the internet.\r\n\r\n```\r\npublic class MyMidiPlayer {\r\n \r\n    public static void main(String[] args) {\r\n \r\n        System.out.println(&quot;Enter the number of notes to be played: &quot;);\r\n        Scanner in = new Scanner(System.in);\r\n        int numOfNotes = in.nextInt();\r\n \r\n        MyMidiPlayer player = new MyMidiPlayer();\r\n        player.setUpPlayer(numOfNotes);\r\n    }\r\n \r\n    public void setUpPlayer(int numOfNotes) {\r\n \r\n        try {\r\n \r\n            // A static method of MidiSystem that returns\r\n            // a sequencer instance.\r\n            Sequencer sequencer = MidiSystem.getSequencer();\r\n            sequencer.open();\r\n \r\n            // Creating a sequence.\r\n            Sequence sequence = new Sequence(Sequence.PPQ, 4);\r\n \r\n            // PPQ(Pulse per ticks) is used to specify timing\r\n            // type and 4 is the timing resolution.\r\n \r\n            // Creating a track on our sequence upon which\r\n            // MIDI events would be placed\r\n            Track track = sequence.createTrack();\r\n \r\n                // Adding some events to the track\r\n            for (int i = 5; i &lt; (4 * numOfNotes) + 5; i += 4){\r\n \r\n                // Add Note On event\r\n                track.add(makeEvent(144, 1, i, 100, i));\r\n \r\n                // Add Note Off event\r\n                track.add(makeEvent(128, 1, i, 100, i + 2));\r\n            }\r\n \r\n            // Setting our sequence so that the sequencer can\r\n            // run it on synthesizer\r\n            sequencer.setSequence(sequence);\r\n \r\n            // Specifies the beat rate in beats per minute.\r\n            sequencer.setTempoInBPM(220);\r\n \r\n            // Sequencer starts to play notes\r\n            sequencer.start();\r\n \r\n            while (true) {\r\n \r\n                // Exit the program when sequencer has stopped playing.\r\n                if (!sequencer.isRunning()) {\r\n                    sequencer.close();\r\n                    System.exit(1);\r\n                }\r\n            }\r\n        }\r\n        catch (Exception ex) {\r\n \r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n \r\n    public MidiEvent makeEvent(int command, int channel,\r\n                               int note, int velocity, int tick) {\r\n \r\n        MidiEvent event = null;\r\n \r\n        try {\r\n \r\n            // ShortMessage stores a note as command type, channel,\r\n            // instrument it has to be played on and its speed.\r\n            ShortMessage a = new ShortMessage();\r\n            a.setMessage(command, channel, note, velocity);\r\n \r\n            // A midi event is comprised of a short message(representing\r\n            // a note) and the tick at which that note has to be played\r\n            event = new MidiEvent(a, tick);\r\n        }\r\n        catch (Exception ex) {\r\n \r\n            ex.printStackTrace();\r\n        }\r\n        return event;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/sound/MIDI-seq-intro.html","title":"Using MIDI in Java","body":"<p>The problem has most likely to do with your <code>times</code> array.</p>\n<p>Taken from the oracle <a href=\"https://docs.oracle.com/javase/tutorial/sound/MIDI-seq-intro.html\" rel=\"nofollow noreferrer\">java documentation on sequancers</a></p>\n<blockquote>\n<p>As previously mentioned, the program can include a time stamp with each MIDI message it sends to the device's receiver. However, such time stamps are used only for fine-tuning the timing, to correct for processing latency. The caller can't generally set arbitrary time stamps; the time value passed to Receiver.send must be close to the present time, or the receiving device might not be able to schedule the message correctly. This means that if an application program wanted to create a queue of MIDI messages for an entire piece of music ahead of time (instead of creating each message in response to a real-time event), it would have to be very careful to schedule each invocation of Receiver.send for nearly the right time.</p>\n</blockquote>\n<blockquote>\n<p>Fortunately, most application programs don't have to be concerned with such scheduling. Instead of invoking Receiver.send itself, a program can use a Sequencer object to manage the queue of MIDI messages for it.</p>\n</blockquote>\n<p>You are blindly assuming that the numbers (1000, 2000, 3000... etc.) is milliseconds, but defined in the api this is defined as <code>ticks</code>.</p>\n<p>Like in any music you need to define the subdivisions, and the pulse per ticks (PPQ) for instance quarter notes, 16th notes etc. etc.</p>\n<p>In java this is usually done by defining a sequencer, and with these settings, and then creating a track on said sequencer, and then playing notes on that track.</p>\n<p>Here is an example i found on the internet.</p>\n<pre><code>public class MyMidiPlayer {\n \n    public static void main(String[] args) {\n \n        System.out.println(&quot;Enter the number of notes to be played: &quot;);\n        Scanner in = new Scanner(System.in);\n        int numOfNotes = in.nextInt();\n \n        MyMidiPlayer player = new MyMidiPlayer();\n        player.setUpPlayer(numOfNotes);\n    }\n \n    public void setUpPlayer(int numOfNotes) {\n \n        try {\n \n            // A static method of MidiSystem that returns\n            // a sequencer instance.\n            Sequencer sequencer = MidiSystem.getSequencer();\n            sequencer.open();\n \n            // Creating a sequence.\n            Sequence sequence = new Sequence(Sequence.PPQ, 4);\n \n            // PPQ(Pulse per ticks) is used to specify timing\n            // type and 4 is the timing resolution.\n \n            // Creating a track on our sequence upon which\n            // MIDI events would be placed\n            Track track = sequence.createTrack();\n \n                // Adding some events to the track\n            for (int i = 5; i &lt; (4 * numOfNotes) + 5; i += 4){\n \n                // Add Note On event\n                track.add(makeEvent(144, 1, i, 100, i));\n \n                // Add Note Off event\n                track.add(makeEvent(128, 1, i, 100, i + 2));\n            }\n \n            // Setting our sequence so that the sequencer can\n            // run it on synthesizer\n            sequencer.setSequence(sequence);\n \n            // Specifies the beat rate in beats per minute.\n            sequencer.setTempoInBPM(220);\n \n            // Sequencer starts to play notes\n            sequencer.start();\n \n            while (true) {\n \n                // Exit the program when sequencer has stopped playing.\n                if (!sequencer.isRunning()) {\n                    sequencer.close();\n                    System.exit(1);\n                }\n            }\n        }\n        catch (Exception ex) {\n \n            ex.printStackTrace();\n        }\n    }\n \n    public MidiEvent makeEvent(int command, int channel,\n                               int note, int velocity, int tick) {\n \n        MidiEvent event = null;\n \n        try {\n \n            // ShortMessage stores a note as command type, channel,\n            // instrument it has to be played on and its speed.\n            ShortMessage a = new ShortMessage();\n            a.setMessage(command, channel, note, velocity);\n \n            // A midi event is comprised of a short message(representing\n            // a note) and the tick at which that note has to be played\n            event = new MidiEvent(a, tick);\n        }\n        catch (Exception ex) {\n \n            ex.printStackTrace();\n        }\n        return event;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29558396,"reputation":1,"user_id":22653519,"display_name":"Thaumatrope"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698248239,"creation_date":1697937013,"answer_id":77338326,"question_id":69909883,"body_markdown":"Yes, this code doesn&#39;t work, as you can see via the method  `device.getMicrosecondPosition()`\r\n\r\nIf it returns -1 the TimeStamp isn&#39;t supported.\r\nBut you can solve this via a different algorithm as shown below.\r\n\r\n    package application;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import javax.sound.midi.InvalidMidiDataException;\r\n    import javax.sound.midi.MidiDevice;\r\n    import javax.sound.midi.MidiSystem;\r\n    import javax.sound.midi.MidiUnavailableException;\r\n    import javax.sound.midi.Receiver;\r\n    import javax.sound.midi.ShortMessage;\r\n    \r\n    public class App {\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t\t\tthrows MidiUnavailableException, InvalidMidiDataException, InterruptedException, IOException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tMidiDevice device  = null;\r\n    \t\tMidiDevice.Info[] infos = MidiSystem.getMidiDeviceInfo();\r\n    \t\tfor (int i = 0; i &lt; infos.length; i++) {\r\n    \t\t    try {\r\n    \t\t        device = MidiSystem.getMidiDevice(infos[i]);\r\n    \t\t        System.out.println(&quot;Supports Timestamp: &quot; + device.toString()+ &quot; / &quot; + device.getMicrosecondPosition());\r\n    \t\t        System.out.println(infos[i]);\r\n    \t\t    } catch (MidiUnavailableException e) {\r\n    \t\t          // Handle or throw exception...\r\n    \t\t    }    \t\t   \r\n    \t\t}\r\n    \r\n    \t\tReceiver receiver = MidiSystem.getReceiver();\r\n    \r\n    \r\n    \t\tint[] notes = { 60, 64, 67, 60, 65, 67, 55, 59, 62, 55, 60, 62, 53, 57, 60, 53, 58, 60 };\r\n    \t\tlong[] times = { 0, 0, 0, 1000, 1000, 1000, 2000, 2000, 2000, 3000, 3000, 3000, 4000, 4000, 4000, 5000, 5000, 5000};\r\n    \r\n    \t\tfor (int i = 0; i &lt; notes.length; i++) {\r\n    \t\t\tint note = notes[i];\r\n    \t\t\tlong time = times[i];\r\n    \r\n    \t\t\tif((i%3 == 0) &amp;&amp; (i &gt; 0)){\r\n    \t\t\t\tThread.sleep(1000);\r\n    \t\t\t\tSystem.out.println(&quot;i is: &quot; + i);\r\n    \t\t\t\treceiver.send(new ShortMessage(ShortMessage.NOTE_OFF, 0, notes[i-3], 127), -1); // -1 instantly\r\n    \t\t\t\treceiver.send(new ShortMessage(ShortMessage.NOTE_OFF, 0, notes[i-2], 127), -1); // -1 instantly\r\n    \t\t\t\treceiver.send(new ShortMessage(ShortMessage.NOTE_OFF, 0, notes[i-1], 127), -1); // -1 instantly\r\n    \t\t\t}\r\n    \t\t\treceiver.send(new ShortMessage(ShortMessage.NOTE_ON, 0, note, 127), -1); // -1 instantly\r\n    //\t\t\treceiver.send(new ShortMessage(ShortMessage.NOTE_OFF, 0, note, 127), -1); // -1 instantly\r\n    \t\t\tSystem.out.println(&quot;Played: &quot; + note + &quot; / at: &quot; + time);\r\n    \t\t}\r\n    \t\tThread.sleep(3000);\r\n    \t\treceiver.send(new ShortMessage(ShortMessage.NOTE_OFF, 0, notes[notes.length-3], 127), -1); // -1 instantly\r\n    \t\treceiver.send(new ShortMessage(ShortMessage.NOTE_OFF, 0, notes[notes.length-2], 127), -1); // -1 instantly\r\n    \t\treceiver.send(new ShortMessage(ShortMessage.NOTE_OFF, 0, notes[notes.length-1], 127), -1); // -1 instantly\r\n    \t\tThread.sleep(10000);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Using MIDI in Java","body":"<p>Yes, this code doesn't work, as you can see via the method  <code>device.getMicrosecondPosition()</code></p>\n<p>If it returns -1 the TimeStamp isn't supported.\nBut you can solve this via a different algorithm as shown below.</p>\n<pre><code>package application;\n\nimport java.io.IOException;\n\nimport javax.sound.midi.InvalidMidiDataException;\nimport javax.sound.midi.MidiDevice;\nimport javax.sound.midi.MidiSystem;\nimport javax.sound.midi.MidiUnavailableException;\nimport javax.sound.midi.Receiver;\nimport javax.sound.midi.ShortMessage;\n\npublic class App {\n\n    public static void main(String[] args)\n            throws MidiUnavailableException, InvalidMidiDataException, InterruptedException, IOException {\n        // TODO Auto-generated method stub\n        \n        MidiDevice device  = null;\n        MidiDevice.Info[] infos = MidiSystem.getMidiDeviceInfo();\n        for (int i = 0; i &lt; infos.length; i++) {\n            try {\n                device = MidiSystem.getMidiDevice(infos[i]);\n                System.out.println(&quot;Supports Timestamp: &quot; + device.toString()+ &quot; / &quot; + device.getMicrosecondPosition());\n                System.out.println(infos[i]);\n            } catch (MidiUnavailableException e) {\n                  // Handle or throw exception...\n            }              \n        }\n\n        Receiver receiver = MidiSystem.getReceiver();\n\n\n        int[] notes = { 60, 64, 67, 60, 65, 67, 55, 59, 62, 55, 60, 62, 53, 57, 60, 53, 58, 60 };\n        long[] times = { 0, 0, 0, 1000, 1000, 1000, 2000, 2000, 2000, 3000, 3000, 3000, 4000, 4000, 4000, 5000, 5000, 5000};\n\n        for (int i = 0; i &lt; notes.length; i++) {\n            int note = notes[i];\n            long time = times[i];\n\n            if((i%3 == 0) &amp;&amp; (i &gt; 0)){\n                Thread.sleep(1000);\n                System.out.println(&quot;i is: &quot; + i);\n                receiver.send(new ShortMessage(ShortMessage.NOTE_OFF, 0, notes[i-3], 127), -1); // -1 instantly\n                receiver.send(new ShortMessage(ShortMessage.NOTE_OFF, 0, notes[i-2], 127), -1); // -1 instantly\n                receiver.send(new ShortMessage(ShortMessage.NOTE_OFF, 0, notes[i-1], 127), -1); // -1 instantly\n            }\n            receiver.send(new ShortMessage(ShortMessage.NOTE_ON, 0, note, 127), -1); // -1 instantly\n//          receiver.send(new ShortMessage(ShortMessage.NOTE_OFF, 0, note, 127), -1); // -1 instantly\n            System.out.println(&quot;Played: &quot; + note + &quot; / at: &quot; + time);\n        }\n        Thread.sleep(3000);\n        receiver.send(new ShortMessage(ShortMessage.NOTE_OFF, 0, notes[notes.length-3], 127), -1); // -1 instantly\n        receiver.send(new ShortMessage(ShortMessage.NOTE_OFF, 0, notes[notes.length-2], 127), -1); // -1 instantly\n        receiver.send(new ShortMessage(ShortMessage.NOTE_OFF, 0, notes[notes.length-1], 127), -1); // -1 instantly\n        Thread.sleep(10000);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29558396,"reputation":1,"user_id":22653519,"display_name":"Thaumatrope"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697979130,"creation_date":1697979130,"answer_id":77340011,"question_id":69909883,"body_markdown":"And here is a version with a correct Sequencer.\r\nSplit up in its own class for reuse or studying the concept.\r\n(Oracle Tutorials helped me a lot)\r\n\r\n    import javax.sound.midi.InvalidMidiDataException;\r\n    import javax.sound.midi.MidiUnavailableException;\r\n    \r\n    public class App {\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t\t\tthrows MidiUnavailableException, InvalidMidiDataException, InterruptedException, IOException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t\tint[] notes = { 60, 64, 67, 60, 65, 67, 55, 59, 62, 55, 60, 62, 53, 57, 60, 53, 58, 60 };\r\n    \t\tlong[] times = { 0, 0, 0, 1000, 1000, 1000, 2000, 2000, 2000, 3000, 3000, 3000, 4000, 4000, 4000, 5000, 5000, 5000};\r\n    \r\n    \t\tPlayMidi.playMidi(notes, times);\r\n    \r\n        }\r\n    }\r\n--------------------------------------------------------------------\r\n    package application;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    \r\n    import javax.sound.midi.InvalidMidiDataException;\r\n    import javax.sound.midi.MidiEvent;\r\n    import javax.sound.midi.MidiSystem;\r\n    import javax.sound.midi.MidiUnavailableException;\r\n    import javax.sound.midi.Sequence;\r\n    import javax.sound.midi.Sequencer;\r\n    import javax.sound.midi.ShortMessage;\r\n    import javax.sound.midi.Track;\r\n    \r\n    public class PlayMidi {\r\n    \r\n    \tpublic static void playMidiSong() throws InvalidMidiDataException, IOException, MidiUnavailableException {\r\n    \r\n    \t\tURL url = new URL(&quot;http://www.vgmusic.com/music/computer/microsoft/windows/touhou_6_stage3_boss.mid&quot;);\r\n    \r\n    \t\tSequence sequence = MidiSystem.getSequence(url);\r\n    \t\tSequencer sequencer = MidiSystem.getSequencer();\r\n    \r\n    \t\tsequencer.open();\r\n    \t\tsequencer.setSequence(sequence);\r\n    \r\n    \t\tsequencer.start();\r\n    \r\n    \t\t// Thread.sleep(8000);\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void playMidi(int[] notes, long[] times) {\r\n    \t\t\t\r\n    \t\ttry {\r\n    \t\t\t \r\n                // A static method of MidiSystem that returns\r\n                // a sequencer instance.\r\n                Sequencer sequencer = MidiSystem.getSequencer();\r\n                sequencer.open();\r\n                System.out.println(&quot;Sequencer is open.&quot;);\r\n                \r\n                int bpm = 220;\r\n                int resolution = 4;\r\n     \r\n                // Creating a sequence.\r\n                Sequence sequence = new Sequence(Sequence.PPQ, resolution);\r\n     \r\n                // PPQ(Pulse per ticks) is used to specify timing\r\n                // type and 4 is the timing resolution.\r\n                \r\n                double ticksPerSecond = resolution * (bpm / 60.0);\r\n                double tickSize = 1.0 / ticksPerSecond;\r\n                \r\n     \r\n                // Creating a track on our sequence upon which\r\n                // MIDI events would be placed\r\n                Track track = sequence.createTrack();\r\n     \r\n                // Adding some events to the track\r\n                for (int i = 0; i &lt; notes.length; i++) {\r\n     \r\n    \t            double timeFactor = (times[i]/1000);\r\n    \t            // Add Note On event\r\n    \t            track.add(makeEvent(ShortMessage.NOTE_ON, 1, notes[i], 120, ticksPerSecond * timeFactor));  //ShortMessage.NOTE_ON 144\r\n    \t \r\n    \t            // Add Note Off event\r\n    \t            track.add(makeEvent(ShortMessage.NOTE_OFF, 1, notes[i], 120, (ticksPerSecond * timeFactor) + ticksPerSecond)); //ShortMessage.NOTE_OFF 128\r\n                }\r\n     \r\n                // Setting our sequence so that the sequencer can\r\n                // run it on synthesizer\r\n                sequencer.setSequence(sequence);\r\n     \r\n                // Specifies the beat rate in beats per minute.\r\n                sequencer.setTempoInBPM(bpm);\r\n     \r\n                // Sequencer starts to play notes\r\n                sequencer.start();\r\n     \r\n                while (true) {\r\n     \r\n                    // Exit the program when sequencer has stopped playing.\r\n                    if (!sequencer.isRunning()) {\r\n                        sequencer.close();\r\n                        System.out.println(&quot;Sequencer is closed.&quot;);\r\n                        System.exit(1);\r\n                    }\r\n                }\r\n            }\r\n            catch (Exception ex) {\r\n     \r\n                ex.printStackTrace();\r\n            }\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic static MidiEvent makeEvent(int command, int channel, int note, int velocity, double tick) {\r\n    \r\n    \t\tMidiEvent event = null;\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\t// ShortMessage stores a note as command type, channel,\r\n    \t\t\t// instrument it has to be played on and its speed.\r\n    \t\t\tShortMessage a = new ShortMessage();\r\n    \t\t\ta.setMessage(command, channel, note, velocity);\r\n    \r\n    \t\t\t// A midi event is comprised of a short message(representing\r\n    \t\t\t// a note) and the tick at which that note has to be played\r\n    \t\t\tevent = new MidiEvent(a, (int)tick);\r\n    \t\t} catch (Exception ex) {\r\n    \r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t\treturn event;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Using MIDI in Java","body":"<p>And here is a version with a correct Sequencer.\nSplit up in its own class for reuse or studying the concept.\n(Oracle Tutorials helped me a lot)</p>\n<pre><code>import javax.sound.midi.InvalidMidiDataException;\nimport javax.sound.midi.MidiUnavailableException;\n\npublic class App {\n\n    public static void main(String[] args)\n            throws MidiUnavailableException, InvalidMidiDataException, InterruptedException, IOException {\n        // TODO Auto-generated method stub\n\n        int[] notes = { 60, 64, 67, 60, 65, 67, 55, 59, 62, 55, 60, 62, 53, 57, 60, 53, 58, 60 };\n        long[] times = { 0, 0, 0, 1000, 1000, 1000, 2000, 2000, 2000, 3000, 3000, 3000, 4000, 4000, 4000, 5000, 5000, 5000};\n\n        PlayMidi.playMidi(notes, times);\n\n    }\n}\n</code></pre>\n<hr />\n<pre><code>package application;\n\nimport java.io.IOException;\nimport java.net.URL;\n\nimport javax.sound.midi.InvalidMidiDataException;\nimport javax.sound.midi.MidiEvent;\nimport javax.sound.midi.MidiSystem;\nimport javax.sound.midi.MidiUnavailableException;\nimport javax.sound.midi.Sequence;\nimport javax.sound.midi.Sequencer;\nimport javax.sound.midi.ShortMessage;\nimport javax.sound.midi.Track;\n\npublic class PlayMidi {\n\n    public static void playMidiSong() throws InvalidMidiDataException, IOException, MidiUnavailableException {\n\n        URL url = new URL(&quot;http://www.vgmusic.com/music/computer/microsoft/windows/touhou_6_stage3_boss.mid&quot;);\n\n        Sequence sequence = MidiSystem.getSequence(url);\n        Sequencer sequencer = MidiSystem.getSequencer();\n\n        sequencer.open();\n        sequencer.setSequence(sequence);\n\n        sequencer.start();\n\n        // Thread.sleep(8000);\n\n    }\n\n    public static void playMidi(int[] notes, long[] times) {\n            \n        try {\n             \n            // A static method of MidiSystem that returns\n            // a sequencer instance.\n            Sequencer sequencer = MidiSystem.getSequencer();\n            sequencer.open();\n            System.out.println(&quot;Sequencer is open.&quot;);\n            \n            int bpm = 220;\n            int resolution = 4;\n \n            // Creating a sequence.\n            Sequence sequence = new Sequence(Sequence.PPQ, resolution);\n \n            // PPQ(Pulse per ticks) is used to specify timing\n            // type and 4 is the timing resolution.\n            \n            double ticksPerSecond = resolution * (bpm / 60.0);\n            double tickSize = 1.0 / ticksPerSecond;\n            \n \n            // Creating a track on our sequence upon which\n            // MIDI events would be placed\n            Track track = sequence.createTrack();\n \n            // Adding some events to the track\n            for (int i = 0; i &lt; notes.length; i++) {\n \n                double timeFactor = (times[i]/1000);\n                // Add Note On event\n                track.add(makeEvent(ShortMessage.NOTE_ON, 1, notes[i], 120, ticksPerSecond * timeFactor));  //ShortMessage.NOTE_ON 144\n     \n                // Add Note Off event\n                track.add(makeEvent(ShortMessage.NOTE_OFF, 1, notes[i], 120, (ticksPerSecond * timeFactor) + ticksPerSecond)); //ShortMessage.NOTE_OFF 128\n            }\n \n            // Setting our sequence so that the sequencer can\n            // run it on synthesizer\n            sequencer.setSequence(sequence);\n \n            // Specifies the beat rate in beats per minute.\n            sequencer.setTempoInBPM(bpm);\n \n            // Sequencer starts to play notes\n            sequencer.start();\n \n            while (true) {\n \n                // Exit the program when sequencer has stopped playing.\n                if (!sequencer.isRunning()) {\n                    sequencer.close();\n                    System.out.println(&quot;Sequencer is closed.&quot;);\n                    System.exit(1);\n                }\n            }\n        }\n        catch (Exception ex) {\n \n            ex.printStackTrace();\n        }\n        \n        \n        \n    }\n\n    public static MidiEvent makeEvent(int command, int channel, int note, int velocity, double tick) {\n\n        MidiEvent event = null;\n\n        try {\n\n            // ShortMessage stores a note as command type, channel,\n            // instrument it has to be played on and its speed.\n            ShortMessage a = new ShortMessage();\n            a.setMessage(command, channel, note, velocity);\n\n            // A midi event is comprised of a short message(representing\n            // a note) and the tick at which that note has to be played\n            event = new MidiEvent(a, (int)tick);\n        } catch (Exception ex) {\n\n            ex.printStackTrace();\n        }\n        return event;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":19928282,"reputation":95,"user_id":14602455,"display_name":"Matei Anghel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":990,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69910972,"answer_count":3,"score":1,"last_activity_date":1698248239,"creation_date":1636532645,"question_id":69909883,"body_markdown":"I was experimenting trying to write a Java program that uses MIDI, so the program has to array: notes (which contains all the notes that I want to play) and another array times (which specify when the note should be play) the notes and times are grouped three at a time so I can have multiple chords, the problem is that the program only plays a very brief note and then it stops, what am I doing wrong? Bellow is the code, I am using Java 16.\r\n``` \r\npackage application;\r\n\r\nimport javax.sound.midi.InvalidMidiDataException;\r\nimport javax.sound.midi.MidiSystem;\r\nimport javax.sound.midi.MidiUnavailableException;\r\nimport javax.sound.midi.ShortMessage;\r\n\r\npublic class App {\r\n\r\n\tpublic static void main(String[] args)\r\n\t\t\tthrows MidiUnavailableException, InvalidMidiDataException, InterruptedException {\r\n\r\n\t\tvar receiver = MidiSystem.getReceiver();\r\n\r\n\t\tint[] notes = { 60, 64, 67, 60, 65, 67, 55, 59, 62, 55, 60, 62, 53, 57, 60, 53, 58, 60 };\r\n\t\tint[] times = { 0, 0, 0, 1000, 1000, 1000, 2000, 2000, 2000, 3000, 3000, 3000, 4000, 4000, 4000, 5000, 5000,\r\n\t\t\t\t5000 };\r\n\r\n\t\tfor (int i = 0; i &lt; notes.length; i++) {\r\n\r\n\t\t\tint note = notes[i];\r\n\t\t\tint time = times[i];\r\n\t\t\tSystem.out.println(note + &quot;:&quot; + time);\r\n\t\t\treceiver.send(new ShortMessage(ShortMessage.NOTE_ON, 0, note, 127), time * 1000);\r\n\t\t\treceiver.send(new ShortMessage(ShortMessage.NOTE_OFF, 0, note, 127), (time + 1000) * 1000);\r\n\t\t}\r\n\r\n\t\tThread.sleep(7000);\r\n\t}\r\n\r\n}\r\n```\r\nI think it has something to do with ShortMessage.NOTE_OFF but I am not sure and I can&#39;t figure it out.","title":"Using MIDI in Java","body":"<p>I was experimenting trying to write a Java program that uses MIDI, so the program has to array: notes (which contains all the notes that I want to play) and another array times (which specify when the note should be play) the notes and times are grouped three at a time so I can have multiple chords, the problem is that the program only plays a very brief note and then it stops, what am I doing wrong? Bellow is the code, I am using Java 16.</p>\n<pre><code>package application;\n\nimport javax.sound.midi.InvalidMidiDataException;\nimport javax.sound.midi.MidiSystem;\nimport javax.sound.midi.MidiUnavailableException;\nimport javax.sound.midi.ShortMessage;\n\npublic class App {\n\n    public static void main(String[] args)\n            throws MidiUnavailableException, InvalidMidiDataException, InterruptedException {\n\n        var receiver = MidiSystem.getReceiver();\n\n        int[] notes = { 60, 64, 67, 60, 65, 67, 55, 59, 62, 55, 60, 62, 53, 57, 60, 53, 58, 60 };\n        int[] times = { 0, 0, 0, 1000, 1000, 1000, 2000, 2000, 2000, 3000, 3000, 3000, 4000, 4000, 4000, 5000, 5000,\n                5000 };\n\n        for (int i = 0; i &lt; notes.length; i++) {\n\n            int note = notes[i];\n            int time = times[i];\n            System.out.println(note + &quot;:&quot; + time);\n            receiver.send(new ShortMessage(ShortMessage.NOTE_ON, 0, note, 127), time * 1000);\n            receiver.send(new ShortMessage(ShortMessage.NOTE_OFF, 0, note, 127), (time + 1000) * 1000);\n        }\n\n        Thread.sleep(7000);\n    }\n\n}\n</code></pre>\n<p>I think it has something to do with ShortMessage.NOTE_OFF but I am not sure and I can't figure it out.</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":258438,"reputation":355,"user_id":540624,"display_name":"wmkoch"},"score":0,"creation_date":1698248815,"post_id":77360825,"comment_id":136381955,"body_markdown":"A couple of questions:\n\n1. What version of spring-boot are you using? \n2. Does your application code create its own `ObjectMapper` bean?\n3. Can you share your `application.yml` or `application.properties` file? I&#39;m curious if there&#39;s a setting for something like `spring.jackson.date-format` that&#39;s altering how dates are serialized by Jackson","body":"A couple of questions:  1. What version of spring-boot are you using?  2. Does your application code create its own <code>ObjectMapper</code> bean? 3. Can you share your <code>application.yml</code> or <code>application.properties</code> file? I&#39;m curious if there&#39;s a setting for something like <code>spring.jackson.date-format</code> that&#39;s altering how dates are serialized by Jackson"},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1698249250,"post_id":77360825,"comment_id":136382029,"body_markdown":"Spring boot 2.7.16. I set DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false) only. We consume other artifacts, so they may override other properties which is out of my scope.","body":"Spring boot 2.7.16. I set DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false) only. We consume other artifacts, so they may override other properties which is out of my scope."},{"owner":{"account_id":258438,"reputation":355,"user_id":540624,"display_name":"wmkoch"},"score":1,"creation_date":1698250315,"post_id":77360825,"comment_id":136382224,"body_markdown":"Can you try hitting the `/actuator/beans` endpoint and see where the beans of type `com.fasterxml.jackson.databind.ObjectMapper` are coming from? When I use start.spring.io to generate a project, I don&#39;t get the behavior you&#39;re seeing (the date is formatted in a friendly ISO8601 format). The only way I&#39;ve been able to reproduce what you see is by defining my own `ObjectMapper` bean and registering the `JavaTimeModule` module","body":"Can you try hitting the <code>&#47;actuator&#47;beans</code> endpoint and see where the beans of type <code>com.fasterxml.jackson.databind.ObjectMapper</code> are coming from? When I use start.spring.io to generate a project, I don&#39;t get the behavior you&#39;re seeing (the date is formatted in a friendly ISO8601 format). The only way I&#39;ve been able to reproduce what you see is by defining my own <code>ObjectMapper</code> bean and registering the <code>JavaTimeModule</code> module"},{"owner":{"account_id":258438,"reputation":355,"user_id":540624,"display_name":"wmkoch"},"score":1,"creation_date":1698250838,"post_id":77360825,"comment_id":136382338,"body_markdown":"I also threw together a quick reproducer project to demonstrate the default behavior from spring-boot, as well as the effect having a custom `ObjectMapper` bean has on overriding the default behavior: https://github.com/billkoch/so-77360825","body":"I also threw together a quick reproducer project to demonstrate the default behavior from spring-boot, as well as the effect having a custom <code>ObjectMapper</code> bean has on overriding the default behavior: <a href=\"https://github.com/billkoch/so-77360825\" rel=\"nofollow noreferrer\">github.com/billkoch/so-77360825</a>"},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1698251985,"post_id":77360825,"comment_id":136382614,"body_markdown":"It comes from my Configuration annotated class. So it seems to my local issue.","body":"It comes from my Configuration annotated class. So it seems to my local issue."},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1698322585,"post_id":77360825,"comment_id":136392414,"body_markdown":"I realized that other microservices display the human readable format. I removed my definition of ObjectMapper. But the actuator still displays the number instead of date. How can I identify which dependency overwrites a default configuratio? Is there any way?","body":"I realized that other microservices display the human readable format. I removed my definition of ObjectMapper. But the actuator still displays the number instead of date. How can I identify which dependency overwrites a default configuratio? Is there any way?"},{"owner":{"account_id":258438,"reputation":355,"user_id":540624,"display_name":"wmkoch"},"score":0,"creation_date":1698329855,"post_id":77360825,"comment_id":136394064,"body_markdown":"When you removed your definition of the `ObjectMapper` bean, does `/actuator/beans` now show the ObjectMapper coming from spring-boot&#39;s autoconfiguration? LIkely JacksonAutoConfiguration: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration.java#L130","body":"When you removed your definition of the <code>ObjectMapper</code> bean, does <code>&#47;actuator&#47;beans</code> now show the ObjectMapper coming from spring-boot&#39;s autoconfiguration? LIkely JacksonAutoConfiguration: <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration.java#L130\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/main/&hellip;</a>"},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1698336870,"post_id":77360825,"comment_id":136395624,"body_markdown":"It looks so &quot;resource&quot;: &quot;class path resource [org/springframework/boot/autoconfigure/jackson/JacksonAutoConfiguration$JacksonObjectMapperConfiguration.class]&quot;","body":"It looks so &quot;resource&quot;: &quot;class path resource [org/springframework/boot/autoconfigure/jackson/JacksonAutoC&zwnj;&#8203;onfiguration$Jackson&zwnj;&#8203;ObjectMapperConfigur&zwnj;&#8203;ation.class]&quot;"}],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698247985,"creation_date":1698247170,"question_id":77360825,"body_markdown":"I try to display a build time in actuator&#39;s info endpoint.\r\n\r\nI added a [spring-boot-maven-plugin][1] plugin to `pom.xml`:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build-info&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n \r\nThe output is\r\n\r\n    &quot;build&quot;:{&quot;artifact&quot;:&quot;client-manager&quot;,&quot;name&quot;:&quot;client-manager&quot;,&quot;time&quot;:1698242102.345000000,&quot;version&quot;:&quot;1.0.16-SNAPSHOT&quot;,&quot;group&quot;:&quot;com.company&quot;}\r\n\r\nwhile jar&#39;s META-INF/build-info.properties contains:\r\n\r\n    build.time=2023-10-25T14\\:54\\:05.717Z\r\n\r\nThe time property is hard to read and I would favor something I can read. I tried to add a date format into `time` property in plugin&#39;s configuration section, but maven failed on `Instant` parsing it as a value.\r\n\r\nOther questions deals with it by exposing custom env in the info actuator endpoint: https://stackoverflow.com/a/46363030/1639556. I think there must be some way to tell Actuator to format the build time more friendly. And I am surprised it&#39;s not a default preference.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.10.RELEASE/maven-plugin/examples/build-info.html","title":"Actuator info endpoint displays number instead of readable build time","body":"<p>I try to display a build time in actuator's info endpoint.</p>\n<p>I added a <a href=\"https://docs.spring.io/spring-boot/docs/1.5.10.RELEASE/maven-plugin/examples/build-info.html\" rel=\"nofollow noreferrer\">spring-boot-maven-plugin</a> plugin to <code>pom.xml</code>:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;build-info&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>The output is</p>\n<pre><code>&quot;build&quot;:{&quot;artifact&quot;:&quot;client-manager&quot;,&quot;name&quot;:&quot;client-manager&quot;,&quot;time&quot;:1698242102.345000000,&quot;version&quot;:&quot;1.0.16-SNAPSHOT&quot;,&quot;group&quot;:&quot;com.company&quot;}\n</code></pre>\n<p>while jar's META-INF/build-info.properties contains:</p>\n<pre><code>build.time=2023-10-25T14\\:54\\:05.717Z\n</code></pre>\n<p>The time property is hard to read and I would favor something I can read. I tried to add a date format into <code>time</code> property in plugin's configuration section, but maven failed on <code>Instant</code> parsing it as a value.</p>\n<p>Other questions deals with it by exposing custom env in the info actuator endpoint: <a href=\"https://stackoverflow.com/a/46363030/1639556\">https://stackoverflow.com/a/46363030/1639556</a>. I think there must be some way to tell Actuator to format the build time more friendly. And I am surprised it's not a default preference.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1332946820,"post_id":9910068,"comment_id":12645359,"body_markdown":"possible duplicate of [Java Wait and Notify: IllegalMonitorStateException](http://stackoverflow.com/questions/7126550/java-wait-and-notify-illegalmonitorstateexception)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/7126550/java-wait-and-notify-illegalmonitorstateexception\">Java Wait and Notify: IllegalMonitorStateException</a>"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1698247679,"creation_date":1332946450,"answer_id":9910128,"question_id":9910068,"body_markdown":"To be able to notify, you need to be synchronized on the monitor. Instead of the unsynchronized notify() in run(), you will need to do:\r\n\r\n    synchronized (object) {\r\n        object.notify();\r\n    }\r\n\r\nYou are going to run into race-conditions any way. Your main thread could be trying to synchronize on `object` when it hasn&#39;t been retrieved yet in the separate thread.\r\n\r\nBetter would be to define a separate lock/monitor and use that for synchronisation and notification.\r\n\r\nAlso, if the separate thread retrieves the object and notifies before your main thread waits, it could be waiting indefinitely.","title":"java threading, what&#39;s wrong with my code","body":"<p>To be able to notify, you need to be synchronized on the monitor. Instead of the unsynchronized notify() in run(), you will need to do:</p>\n<pre><code>synchronized (object) {\n    object.notify();\n}\n</code></pre>\n<p>You are going to run into race-conditions any way. Your main thread could be trying to synchronize on <code>object</code> when it hasn't been retrieved yet in the separate thread.</p>\n<p>Better would be to define a separate lock/monitor and use that for synchronisation and notification.</p>\n<p>Also, if the separate thread retrieves the object and notifies before your main thread waits, it could be waiting indefinitely.</p>\n"},{"tags":[],"owner":{"account_id":277279,"reputation":62850,"user_id":571189,"display_name":"Prince John Wesley"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332946566,"creation_date":1332946566,"answer_id":9910176,"question_id":9910068,"body_markdown":"`notify()` call should be within the synchronized block of same monitor","title":"java threading, what&#39;s wrong with my code","body":"<p><code>notify()</code> call should be within the synchronized block of same monitor</p>\n"}],"owner":{"account_id":360956,"reputation":3269,"user_id":703261,"accept_rate":77,"display_name":"CaiNiaoCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":9910128,"answer_count":2,"score":0,"last_activity_date":1698247679,"creation_date":1332946257,"question_id":9910068,"body_markdown":"I want to update a Object in another thread, and then access it in current thread:\r\n\r\n   \r\n\r\n     public Object getValueAt(final int rowIndex, int columnIndex) {\r\n        \t\tdata.getRealm().exec(new Runnable(){\r\n        \t\t\t@Override\r\n        \t\t\tpublic  void run() {\r\n        \t\t\t\t\r\n        \t\t\t\tSystem.out.println(&quot;Object at &quot; + rowIndex  + &quot; in WritableList is &quot;  + data.get(rowIndex));\r\n        \t\t\t\tobject = (DOModel) data.get(rowIndex);\r\n        \t\t\t\tSystem.out.println(object);\r\n        \t\t\t\tobject.notify();\r\n        \t\t\t}\r\n        \t\t});\r\n    // suspend current thread\r\n        \t\ttry {\r\n        \t\t\tsynchronized (object){\r\n        \t\t\t\tobject.wait();\r\n        \t\t\t}\r\n        \t\t} catch (InterruptedException e) {\r\n        \t\t\te.printStackTrace();\r\n        \t\t}\r\n        \t\tif(columnIndex == 0){\r\n        \t\t\tSystem.out.println(object);\r\n        \t\t\treturn object.getId();\r\n        \t\t}\r\n        }\r\n\r\nbut when I run my code a java.lang.IllegalMonitorStateException occurs.\r\n\r\nI changed my code, see comments in code:\r\n**Edit --------------------------------**\r\n\r\n        public Object getValueAt(final int rowIndex, int columnIndex) {\r\n        \t\tdata.getRealm().exec(new Runnable(){\r\n        \t\t\t@Override\r\n        \t\t\tpublic  void run() {\r\n        \t\t\t\tSystem.out.println(&quot;Object at &quot; + rowIndex  + &quot; in WritableList is &quot;  + data.get(rowIndex));\r\n        \t\t\t\tobject = (DOModel) data.get(rowIndex);\r\n        \t\t\t\tsynchronized(object){\r\n        \t\t\t\t\tobject.notify();\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t});\r\n        \t\ttry {\r\n        \t\t\tsynchronized (object){\r\n        \t\t\t\tobject.wait();\r\n        \t\t\t}\r\n        \t\t} catch (InterruptedException e) {\r\n        \t\t\te.printStackTrace();\r\n        \t\t}\r\n    // this line below is never executed.\r\n                    System.out.println(object);\r\n        \t\tif(columnIndex == 0){\r\n        \t\t\t\r\n        \t\t\treturn object.getId();\r\n        \t\t}\r\n        }","title":"java threading, what&#39;s wrong with my code","body":"<p>I want to update a Object in another thread, and then access it in current thread:</p>\n\n<pre><code> public Object getValueAt(final int rowIndex, int columnIndex) {\n            data.getRealm().exec(new Runnable(){\n                @Override\n                public  void run() {\n\n                    System.out.println(\"Object at \" + rowIndex  + \" in WritableList is \"  + data.get(rowIndex));\n                    object = (DOModel) data.get(rowIndex);\n                    System.out.println(object);\n                    object.notify();\n                }\n            });\n// suspend current thread\n            try {\n                synchronized (object){\n                    object.wait();\n                }\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            if(columnIndex == 0){\n                System.out.println(object);\n                return object.getId();\n            }\n    }\n</code></pre>\n\n<p>but when I run my code a java.lang.IllegalMonitorStateException occurs.</p>\n\n<p>I changed my code, see comments in code:\n<strong>Edit --------------------------------</strong></p>\n\n<pre><code>    public Object getValueAt(final int rowIndex, int columnIndex) {\n            data.getRealm().exec(new Runnable(){\n                @Override\n                public  void run() {\n                    System.out.println(\"Object at \" + rowIndex  + \" in WritableList is \"  + data.get(rowIndex));\n                    object = (DOModel) data.get(rowIndex);\n                    synchronized(object){\n                        object.notify();\n                    }\n                }\n            });\n            try {\n                synchronized (object){\n                    object.wait();\n                }\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n// this line below is never executed.\n                System.out.println(object);\n            if(columnIndex == 0){\n\n                return object.getId();\n            }\n    }\n</code></pre>\n"},{"tags":["java","maven","apache-batik"],"comments":[{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1698242855,"post_id":77360103,"comment_id":136380593,"body_markdown":"Why don&#39;t you exclude only the org.w3c.dom instead of the whole xml-apis?","body":"Why don&#39;t you exclude only the org.w3c.dom instead of the whole xml-apis?"},{"owner":{"account_id":2100752,"reputation":2393,"user_id":1871216,"accept_rate":60,"display_name":"Arend"},"score":0,"creation_date":1698243986,"post_id":77360103,"comment_id":136380860,"body_markdown":"@Joan I would love to, but you can&#39;t exclude packages in Maven, only sub-artefacts. `org.w3c.dom` is wrapped in `xml-apis`, nothing I can do about it","body":"@Joan I would love to, but you can&#39;t exclude packages in Maven, only sub-artefacts. <code>org.w3c.dom</code> is wrapped in <code>xml-apis</code>, nothing I can do about it"}],"answers":[{"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1698252815,"post_id":77360474,"comment_id":136382785,"body_markdown":"The exclusions mechanism is based on artifacts (groupId, artifactId, version)... if you like to exclude other things it would be necessary to unpack the dependency etc. (Also you can&#39;t be sure everything works afterwards etc.) The real issue here is the original package which contains several components which do not belong there (apart from that the xml-apis package is from 2005... why is it even used?)...","body":"The exclusions mechanism is based on artifacts (groupId, artifactId, version)... if you like to exclude other things it would be necessary to unpack the dependency etc. (Also you can&#39;t be sure everything works afterwards etc.) The real issue here is the original package which contains several components which do not belong there (apart from that the xml-apis package is from 2005... why is it even used?)..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1698252849,"post_id":77360474,"comment_id":136382790,"body_markdown":"Of course you can create an JIRA issue for Apache Maven Project and may offer a PR to solve this kind of thing... Here: https://selfserve.apache.org/jira-account.html","body":"Of course you can create an JIRA issue for Apache Maven Project and may offer a PR to solve this kind of thing... Here: <a href=\"https://selfserve.apache.org/jira-account.html\" rel=\"nofollow noreferrer\">selfserve.apache.org/jira-account.html</a>"},{"owner":{"account_id":2100752,"reputation":2393,"user_id":1871216,"accept_rate":60,"display_name":"Arend"},"score":0,"creation_date":1698350016,"post_id":77360474,"comment_id":136397911,"body_markdown":"@khmarbaise thanks for your insight and suggestion. I&#39;m not sure I agree with your analysis of &quot;the real issue&quot; though, as it&#39;s at least as much due to the fact that the Java library comes with some components (in this case, `java.xml`) that include extraneous packages (`org.w3c.dom`) but then leave out some subpackages (`org.w3c.com.xpath`). It&#39;s a similar problem, but not Maven-related (I think). So maybe it is something that the Java juggernaut should address, rather than the Apache one?","body":"@khmarbaise thanks for your insight and suggestion. I&#39;m not sure I agree with your analysis of &quot;the real issue&quot; though, as it&#39;s at least as much due to the fact that the Java library comes with some components (in this case, <code>java.xml</code>) that include extraneous packages (<code>org.w3c.dom</code>) but then leave out some subpackages (<code>org.w3c.com.xpath</code>). It&#39;s a similar problem, but not Maven-related (I think). So maybe it is something that the Java juggernaut should address, rather than the Apache one?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1698394149,"post_id":77360474,"comment_id":136402451,"body_markdown":"First the artifact is of 2005 which is a problem and more important packaging different deps into a single jar file leads to a number of problems.. you can not overdrive the transitive dependencies and also to those described issues. It&#39;s bad practice to shade/ueberjar different dependencies into a single jar...","body":"First the artifact is of 2005 which is a problem and more important packaging different deps into a single jar file leads to a number of problems.. you can not overdrive the transitive dependencies and also to those described issues. It&#39;s bad practice to shade/ueberjar different dependencies into a single jar..."}],"tags":[],"owner":{"account_id":2100752,"reputation":2393,"user_id":1871216,"accept_rate":60,"display_name":"Arend"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698247389,"creation_date":1698244628,"answer_id":77360474,"question_id":77360103,"body_markdown":"A continued search coughed up a solution to my particular problem, though I think this type of issue remains problematic in general. I feel that the exclusion mechanism in Maven just isn&#39;t fine-grained enough, depending as it does on the choices of the artefact developers on what to include in which (sub)artefact.\r\n\r\nIn any case, it turns out the disappearance of `org.w3c.dom.xpath` from the standard Java library was noted as a [JDK bug](https://bugs.openjdk.org/browse/JDK-8054197) some time ago, which was then resolved by moving the package to a separate JDK module, `jdk.xml.dom`. By adding\r\n\r\n```\r\n    requires transitive jdk.xml.dom;\r\n```\r\n\r\nto my `module-info`, the missing package is now part of my build.\r\n","title":"Clash between Java package in standard library versus Maven artefact (Apache Batik)","body":"<p>A continued search coughed up a solution to my particular problem, though I think this type of issue remains problematic in general. I feel that the exclusion mechanism in Maven just isn't fine-grained enough, depending as it does on the choices of the artefact developers on what to include in which (sub)artefact.</p>\n<p>In any case, it turns out the disappearance of <code>org.w3c.dom.xpath</code> from the standard Java library was noted as a <a href=\"https://bugs.openjdk.org/browse/JDK-8054197\" rel=\"nofollow noreferrer\">JDK bug</a> some time ago, which was then resolved by moving the package to a separate JDK module, <code>jdk.xml.dom</code>. By adding</p>\n<pre><code>    requires transitive jdk.xml.dom;\n</code></pre>\n<p>to my <code>module-info</code>, the missing package is now part of my build.</p>\n"}],"owner":{"account_id":2100752,"reputation":2393,"user_id":1871216,"accept_rate":60,"display_name":"Arend"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698247389,"creation_date":1698241777,"question_id":77360103,"body_markdown":"Trying to use Apache Batik for SVG export in my modular, Maven-based Java project, I&#39;m running into a problem for which I wonder if there is any decent solution at all.\r\n\r\nAdding the required Batik dependency to my POM:\r\n\r\n```\r\n    \t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;batik-dom&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.16&lt;/version&gt;\r\n```\r\n\r\ngives rise to the following error:\r\n\r\n`The package org.w3c.dom is accessible from more than one module: java.xml, [...], xml.apis`\r\n\r\nYes, indeed, both `java.xml` (which is in the standard Java 17 library) and `xml-apis` (which is part of `batik-dom`) contain the offending package `org.w3c.dom`. I cannot do anything about the first, but I can tell Maven to exclude the second:\r\n\r\n```\r\n    \t\t&lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;batik-dom&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.16&lt;/version&gt;\r\n    \t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t    &lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n```\r\n\r\nNow the project compiles, but throws a run-time error: `java.lang.ClassNotFoundException: org.w3c.dom.xpath.XPathEvaluator`\r\n\r\nIt turns out the missing class `org.w3c.dom.xpath.XPathEvaluator` _is_ in the `xml-apis` sub-module of `batik-dom` but _isn&#39;t_ in the standard Java library module `java.xml`. In fact, the whole subpackage `org.w3c.dom.xpath` is absent from `java.xml`.\r\n\r\nI&#39;ll admit I&#39;m stumped. The only solution I can see is to wrap up `org.w3c.dom.xpath` myself in a separate module and include that as a local dependency. I&#39;d be very grateful for an alternative (better) solution. After all, doesn&#39;t this problem occur for *whoever* wants to use `batik-dom` in a Maven-based project?","title":"Clash between Java package in standard library versus Maven artefact (Apache Batik)","body":"<p>Trying to use Apache Batik for SVG export in my modular, Maven-based Java project, I'm running into a problem for which I wonder if there is any decent solution at all.</p>\n<p>Adding the required Batik dependency to my POM:</p>\n<pre><code>            &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n            &lt;artifactId&gt;batik-dom&lt;/artifactId&gt;\n            &lt;version&gt;1.16&lt;/version&gt;\n</code></pre>\n<p>gives rise to the following error:</p>\n<p><code>The package org.w3c.dom is accessible from more than one module: java.xml, [...], xml.apis</code></p>\n<p>Yes, indeed, both <code>java.xml</code> (which is in the standard Java 17 library) and <code>xml-apis</code> (which is part of <code>batik-dom</code>) contain the offending package <code>org.w3c.dom</code>. I cannot do anything about the first, but I can tell Maven to exclude the second:</p>\n<pre><code>            &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n            &lt;artifactId&gt;batik-dom&lt;/artifactId&gt;\n            &lt;version&gt;1.16&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n                    &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n</code></pre>\n<p>Now the project compiles, but throws a run-time error: <code>java.lang.ClassNotFoundException: org.w3c.dom.xpath.XPathEvaluator</code></p>\n<p>It turns out the missing class <code>org.w3c.dom.xpath.XPathEvaluator</code> <em>is</em> in the <code>xml-apis</code> sub-module of <code>batik-dom</code> but <em>isn't</em> in the standard Java library module <code>java.xml</code>. In fact, the whole subpackage <code>org.w3c.dom.xpath</code> is absent from <code>java.xml</code>.</p>\n<p>I'll admit I'm stumped. The only solution I can see is to wrap up <code>org.w3c.dom.xpath</code> myself in a separate module and include that as a local dependency. I'd be very grateful for an alternative (better) solution. After all, doesn't this problem occur for <em>whoever</em> wants to use <code>batik-dom</code> in a Maven-based project?</p>\n"},{"tags":["java","android-studio"],"owner":{"account_id":28945611,"reputation":1,"user_id":22171254,"display_name":"Paula Valencia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698247282,"creation_date":1698247282,"question_id":77360840,"body_markdown":"First added this dependency in gradle\r\n\r\n\r\n```\r\nimplementation (&quot;com.airbnb.android:lottie:6.1.0&quot;)\r\n```\r\n\r\nThen place the .json file on app/src/main/assets\r\n\r\nAnd this is the activity_main.xml file\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;/&gt;\r\n\r\n    &lt;com.airbnb.lottie.LottieAnimationView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:lottie_autoPlay=&quot;true&quot;\r\n        app:lottie_loop=&quot;true&quot;\r\n        app:lottie_fileName=&quot;pumpkincat.json&quot;/&gt;\r\n```\r\n\r\nI tried &quot;sync project with gradle files&quot; but didn&#39;t work and actually got another problem with the line\r\n\r\n\r\n```\r\ntools:context=&quot;.MainActivity&quot;/&gt;\r\n```\r\n","title":"How to resolve &#39;Cannot resolve class com.airbnb.lottie.LottieAnimationView&#39;","body":"<p>First added this dependency in gradle</p>\n<pre><code>implementation (&quot;com.airbnb.android:lottie:6.1.0&quot;)\n</code></pre>\n<p>Then place the .json file on app/src/main/assets</p>\n<p>And this is the activity_main.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;/&gt;\n\n    &lt;com.airbnb.lottie.LottieAnimationView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:lottie_autoPlay=&quot;true&quot;\n        app:lottie_loop=&quot;true&quot;\n        app:lottie_fileName=&quot;pumpkincat.json&quot;/&gt;\n</code></pre>\n<p>I tried &quot;sync project with gradle files&quot; but didn't work and actually got another problem with the line</p>\n<pre><code>tools:context=&quot;.MainActivity&quot;/&gt;\n</code></pre>\n"},{"tags":["java","junit","junit5","junit-jupiter"],"answers":[{"comments":[{"owner":{"account_id":15267,"reputation":366,"user_id":3588231,"display_name":"Tim van der Leeuw"},"score":0,"creation_date":1670326419,"post_id":68487785,"comment_id":131845669,"body_markdown":"I&#39;m running into this issue now and I&#39;m not yet managing to resolve it. I&#39;ve made sure that maven-surefire and maven-failsafe plugins are at latest version. 3.0.0-M7 at the moment, but the error does not go away.\n\nThe very vexing thing is, that it does work in another project, a much bigger project, and that I never had problems before until now.\n\nI don&#39;t see what is materially different between the large project, and the new smaller project.\n\nExactly the same exception. Junit 5.9.1.","body":"I&#39;m running into this issue now and I&#39;m not yet managing to resolve it. I&#39;ve made sure that maven-surefire and maven-failsafe plugins are at latest version. 3.0.0-M7 at the moment, but the error does not go away.  The very vexing thing is, that it does work in another project, a much bigger project, and that I never had problems before until now.  I don&#39;t see what is materially different between the large project, and the new smaller project.  Exactly the same exception. Junit 5.9.1."},{"owner":{"account_id":15267,"reputation":366,"user_id":3588231,"display_name":"Tim van der Leeuw"},"score":0,"creation_date":1670340156,"post_id":68487785,"comment_id":131851015,"body_markdown":"Eventually solved the problem in my project after I realised that Kotlin brought in an older version of some jUnit5 dependencies, and so I had to explicitly depend on all parts of jUnit5 and not just the &quot;master&quot; `junit-jupiter` dependency.","body":"Eventually solved the problem in my project after I realised that Kotlin brought in an older version of some jUnit5 dependencies, and so I had to explicitly depend on all parts of jUnit5 and not just the &quot;master&quot; <code>junit-jupiter</code> dependency."}],"tags":[],"owner":{"display_name":"user15613889"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626968543,"creation_date":1626968543,"answer_id":68487785,"question_id":68487039,"body_markdown":"For anyone running into a similar issue, I resolved this by ensuring maven surefire plugin was version 3.0.0\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n        &lt;/plugin&gt;","title":"java.lang.NoSuchMethodError for Junit parameterized tests","body":"<p>For anyone running into a similar issue, I resolved this by ensuring maven surefire plugin was version 3.0.0</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M3&lt;/version&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15929856,"reputation":199,"user_id":11494528,"display_name":"jazz64"},"score":1,"creation_date":1676206118,"post_id":74705183,"comment_id":133086901,"body_markdown":"Thanks, Tim, for your explanation. You helped me to solve the issue for me. As a simplification, I used your last approach without the exclusions. It works for me. In simple words: first my POM includes dependency &#39;org.junit.jupiter:junit-jupiter:5.9.2&#39;, after that follows dependency &#39;org.jetbrains.kotlin:kotlin-test-junit5:1.8.0&#39;.","body":"Thanks, Tim, for your explanation. You helped me to solve the issue for me. As a simplification, I used your last approach without the exclusions. It works for me. In simple words: first my POM includes dependency &#39;org.junit.jupiter:junit-jupiter:5.9.2&#39;, after that follows dependency &#39;org.jetbrains.kotlin:kotlin-test-junit5:1.8.0&#39;."},{"owner":{"account_id":1370361,"reputation":4141,"user_id":1305745,"accept_rate":89,"display_name":"cavpollo"},"score":1,"creation_date":1679950780,"post_id":74705183,"comment_id":133810002,"body_markdown":"This answer worked well for me, but then I realized that I didn&#39;t need the `org.jetbrains.kotlin:kotlin-test-junit5` because `org.junit.jupiter:junit-jupiter` contained all the basic assertions methods my proejct needed, so I just removed it altogether.","body":"This answer worked well for me, but then I realized that I didn&#39;t need the <code>org.jetbrains.kotlin:kotlin-test-junit5</code> because <code>org.junit.jupiter:junit-jupiter</code> contained all the basic assertions methods my proejct needed, so I just removed it altogether."},{"owner":{"account_id":15267,"reputation":366,"user_id":3588231,"display_name":"Tim van der Leeuw"},"score":0,"creation_date":1680039256,"post_id":74705183,"comment_id":133828468,"body_markdown":"@cavpollo Indeed you can just remove it if you do not need it! In fact I&#39;m not sure I actually use any of it myself but it is automatically added, and causing this conflict.","body":"@cavpollo Indeed you can just remove it if you do not need it! In fact I&#39;m not sure I actually use any of it myself but it is automatically added, and causing this conflict."}],"tags":[],"owner":{"account_id":15267,"reputation":366,"user_id":3588231,"display_name":"Tim van der Leeuw"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698246699,"creation_date":1670340957,"answer_id":74705183,"question_id":68487039,"body_markdown":"I recently had this exact same problem in a Kotlin based project that included a dependency on `kotlin-test-junit5`. I added a dependency on `junit-jupiter` version `5.9.1` and thought that this would bring in all other jUnit5 dependencies - it did not, because `kotlin-test-junit5` had already brought some older versions of some of the dependencies.\r\n\r\nThere are two solutions: either explicitly depend on `-api`, `-engine` and `-params` specifying the desired version, or specifying exlcusions on `kotlin-test-junit5`.\r\n\r\nSo instead of:\r\n```xml\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-test-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.20&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nSpecify either:\r\n```xml\r\n   &lt;dependencyManagement&gt;\r\n        &lt;!-- Use the JUnit BOM for version management --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;5.10.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n   &lt;/dependencyManagement&gt;\r\n\r\n   &lt;dependencies&gt;\r\n       ...\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-test-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.20&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        ...\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\nOr specify:\r\n\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-test-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.20&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nOtherwise `junit-jupiter-api` and `junit-jupiter-engine` will be overridden to version 5.6.0 from `kotlin-test-junit5`.\r\n\r\nPersonally I find the second solution cleaner and easier to maintain but that&#39;s a matter of personal preference.\r\n\r\nNB: In the first fix you could omit either the `junit-jupiter` parent dependency, or the explicit dependency on `junit-jupiter-params`, to save a few lines of XML. I know.","title":"java.lang.NoSuchMethodError for Junit parameterized tests","body":"<p>I recently had this exact same problem in a Kotlin based project that included a dependency on <code>kotlin-test-junit5</code>. I added a dependency on <code>junit-jupiter</code> version <code>5.9.1</code> and thought that this would bring in all other jUnit5 dependencies - it did not, because <code>kotlin-test-junit5</code> had already brought some older versions of some of the dependencies.</p>\n<p>There are two solutions: either explicitly depend on <code>-api</code>, <code>-engine</code> and <code>-params</code> specifying the desired version, or specifying exlcusions on <code>kotlin-test-junit5</code>.</p>\n<p>So instead of:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>       &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-test-junit5&lt;/artifactId&gt;\n            &lt;version&gt;1.7.20&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.9.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Specify either:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>   &lt;dependencyManagement&gt;\n        &lt;!-- Use the JUnit BOM for version management --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n            &lt;version&gt;5.10.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n   &lt;/dependencyManagement&gt;\n\n   &lt;dependencies&gt;\n       ...\n       &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-test-junit5&lt;/artifactId&gt;\n            &lt;version&gt;1.7.20&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        ...\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Or specify:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.9.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-test-junit5&lt;/artifactId&gt;\n            &lt;version&gt;1.7.20&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Otherwise <code>junit-jupiter-api</code> and <code>junit-jupiter-engine</code> will be overridden to version 5.6.0 from <code>kotlin-test-junit5</code>.</p>\n<p>Personally I find the second solution cleaner and easier to maintain but that's a matter of personal preference.</p>\n<p>NB: In the first fix you could omit either the <code>junit-jupiter</code> parent dependency, or the explicit dependency on <code>junit-jupiter-params</code>, to save a few lines of XML. I know.</p>\n"}],"owner":{"display_name":"user15613889"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3510,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1698246699,"creation_date":1626965579,"question_id":68487039,"body_markdown":"I am trying to add some parameterized tests to my Spring Boot app and I am running into the below error. I have added the Maven dependency but I am still recieving this error ? Am i missing something ? I have read from other posts that the version may be wrong, however I believe I am using the correct version.\r\n\r\n&gt; java.lang.NoSuchMethodError: org.junit.jupiter.api.extension.ExtensionContext.getConfigurationParameter(Ljava/lang/String;Ljava/util/function/Function;)Ljava/util/Optional;\r\n    \r\n    \tat org.junit.jupiter.params.ParameterizedTestExtension.provideTestTemplateInvocationContexts(ParameterizedTestExtension.java:76)\r\n    \tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.lambda$execute$0(TestTemplateTestDescriptor.java:102)\r\n    \tat java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:271)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n    \tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:106)\r\n    \tat org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\r\n\r\nHere is the dependency I have added:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n        &lt;version&gt;5.7.1&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAny help would be appreciated :) Thanks in advance.","title":"java.lang.NoSuchMethodError for Junit parameterized tests","body":"<p>I am trying to add some parameterized tests to my Spring Boot app and I am running into the below error. I have added the Maven dependency but I am still recieving this error ? Am i missing something ? I have read from other posts that the version may be wrong, however I believe I am using the correct version.</p>\n<blockquote>\n<p>java.lang.NoSuchMethodError: org.junit.jupiter.api.extension.ExtensionContext.getConfigurationParameter(Ljava/lang/String;Ljava/util/function/Function;)Ljava/util/Optional;</p>\n</blockquote>\n<pre><code>    at org.junit.jupiter.params.ParameterizedTestExtension.provideTestTemplateInvocationContexts(ParameterizedTestExtension.java:76)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.lambda$execute$0(TestTemplateTestDescriptor.java:102)\n    at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:271)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:106)\n    at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:220)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:53)\n</code></pre>\n<p>Here is the dependency I have added:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n    &lt;version&gt;5.7.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Any help would be appreciated :) Thanks in advance.</p>\n"},{"tags":["java","maven","jetty","java-17","maven-jetty-plugin"],"answers":[{"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698246568,"creation_date":1698246204,"answer_id":77360707,"question_id":77353827,"body_markdown":"&gt; `java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize() throws java.lang.Throwable accessible: module java.base does not &quot;opens java.lang&quot; to an unnamed module`\r\n\r\nYou really need to fix your code.\r\n\r\n`Object.finalize()` has been deprecated since JDK 9, and will likely not work as you expect in a future JVM.\r\n\r\nhttps://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()\r\n\r\nEither your code, or one of your dependencies is relying on a feature that is deprecated.  (Eg: powermock for the longest time relied on Object.finalize, but was forced to updated their codebase once JDK 16 hit and illegal-access became deny by default on the JVM)\r\n\r\nTHIS is the proper way to fix this specific issue.\r\n\r\n----\r\n\r\nBack to how to make your project limp along on JDK 17 within Jetty ...\r\n\r\nJetty 9.x is now at End of Community Support.\r\n\r\nSee: https://github.com/jetty/jetty.project/issues/7958\r\n\r\nJetty 9 does NOT support JPMS use on jetty-maven-plugin.\r\n\r\nThat was first added in Jetty 10, in a fork mode.\r\n\r\nSee the plugin configuration options `deployMode` (in `FORK` mode) and `jvmArgs` (only available during fork mode)\r\n\r\nhttps://eclipse.dev/jetty/documentation/jetty-10/programming-guide/index.html#deployment-modes\r\n\r\nIn short, you will either use a proper `&lt;configuration&gt;` section in your jetty-maven-plugin to specify those options, or use the `&lt;properties&gt;` section to define the property equivalents of those 2 configurations. (`jetty.deployMode` and `jetty.jvmArgs` respectively)\r\n\r\n``` xml\r\n&lt;properties&gt;\r\n  &lt;jetty.deployMode&gt;FORK&lt;/jetty.deployMode&gt;\r\n  &lt;jetty.jvmArgs&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/jetty.jvmArgs&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.eclipse.jetty.ee8&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jetty-ee8-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;12.0.2&lt;/version&gt;\r\n  &lt;executions&gt;\r\n    &lt;execution&gt;\r\n      &lt;id&gt;run-jetty&lt;/id&gt;\r\n      &lt;phase&gt;process-test-classes&lt;/phase&gt;\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;run&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n      &lt;configuration&gt;\r\n        &lt;deployMode&gt;${jetty.deployMode}&lt;/deployMode&gt;\r\n        &lt;contextXml&gt;${basedir}/src/main/jetty/jetty-context.xml&lt;/contextXml&gt;\r\n        &lt;jettyXmls&gt;\r\n          &lt;jettyXml&gt;${basedir}/src/main/jetty/jetty.xml&lt;/jettyXml&gt;\r\n        &lt;/jettyXmls&gt;\r\n        &lt;stopPort&gt;9898&lt;/stopPort&gt;\r\n        &lt;stopKey&gt;DEADBEEF&lt;/stopKey&gt;\r\n        &lt;jvmArgs&gt;${jetty.jvmArgs}&lt;/jvmArgs&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThe reason for defining both in a `&lt;configuration&gt;` and a `&lt;properties&gt;` is so that you can use any of the other jetty-maven-plugin goals on the command line without defining another `&lt;execution&gt;` or `&lt;configuration&gt;` section. (it also helps with IT testing)","title":"Passing Java arguments to the Jetty Maven plugin","body":"<blockquote>\n<p><code>java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize() throws java.lang.Throwable accessible: module java.base does not &quot;opens java.lang&quot; to an unnamed module</code></p>\n</blockquote>\n<p>You really need to fix your code.</p>\n<p><code>Object.finalize()</code> has been deprecated since JDK 9, and will likely not work as you expect in a future JVM.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()</a></p>\n<p>Either your code, or one of your dependencies is relying on a feature that is deprecated.  (Eg: powermock for the longest time relied on Object.finalize, but was forced to updated their codebase once JDK 16 hit and illegal-access became deny by default on the JVM)</p>\n<p>THIS is the proper way to fix this specific issue.</p>\n<hr />\n<p>Back to how to make your project limp along on JDK 17 within Jetty ...</p>\n<p>Jetty 9.x is now at End of Community Support.</p>\n<p>See: <a href=\"https://github.com/jetty/jetty.project/issues/7958\" rel=\"nofollow noreferrer\">https://github.com/jetty/jetty.project/issues/7958</a></p>\n<p>Jetty 9 does NOT support JPMS use on jetty-maven-plugin.</p>\n<p>That was first added in Jetty 10, in a fork mode.</p>\n<p>See the plugin configuration options <code>deployMode</code> (in <code>FORK</code> mode) and <code>jvmArgs</code> (only available during fork mode)</p>\n<p><a href=\"https://eclipse.dev/jetty/documentation/jetty-10/programming-guide/index.html#deployment-modes\" rel=\"nofollow noreferrer\">https://eclipse.dev/jetty/documentation/jetty-10/programming-guide/index.html#deployment-modes</a></p>\n<p>In short, you will either use a proper <code>&lt;configuration&gt;</code> section in your jetty-maven-plugin to specify those options, or use the <code>&lt;properties&gt;</code> section to define the property equivalents of those 2 configurations. (<code>jetty.deployMode</code> and <code>jetty.jvmArgs</code> respectively)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n  &lt;jetty.deployMode&gt;FORK&lt;/jetty.deployMode&gt;\n  &lt;jetty.jvmArgs&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/jetty.jvmArgs&gt;\n&lt;/properties&gt;\n\n&lt;plugin&gt;\n  &lt;groupId&gt;org.eclipse.jetty.ee8&lt;/groupId&gt;\n  &lt;artifactId&gt;jetty-ee8-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;12.0.2&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;run-jetty&lt;/id&gt;\n      &lt;phase&gt;process-test-classes&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;run&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;deployMode&gt;${jetty.deployMode}&lt;/deployMode&gt;\n        &lt;contextXml&gt;${basedir}/src/main/jetty/jetty-context.xml&lt;/contextXml&gt;\n        &lt;jettyXmls&gt;\n          &lt;jettyXml&gt;${basedir}/src/main/jetty/jetty.xml&lt;/jettyXml&gt;\n        &lt;/jettyXmls&gt;\n        &lt;stopPort&gt;9898&lt;/stopPort&gt;\n        &lt;stopKey&gt;DEADBEEF&lt;/stopKey&gt;\n        &lt;jvmArgs&gt;${jetty.jvmArgs}&lt;/jvmArgs&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The reason for defining both in a <code>&lt;configuration&gt;</code> and a <code>&lt;properties&gt;</code> is so that you can use any of the other jetty-maven-plugin goals on the command line without defining another <code>&lt;execution&gt;</code> or <code>&lt;configuration&gt;</code> section. (it also helps with IT testing)</p>\n"}],"owner":{"account_id":19972225,"reputation":41,"user_id":14710632,"display_name":"Wikum Chamith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698246568,"creation_date":1698164499,"question_id":77353827,"body_markdown":"I am trying to add support to Java 17 for a project that also supports Java 8 and Java 11. It uses the Maven Jetty plugin for deployments. When running jetty:run I get the following error:\r\n\r\n```\r\njava.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize() throws java.lang.Throwable accessible: module java.base does not &quot;opens java.lang&quot; to an unnamed module\r\n```\r\n\r\nI was able to deploy the project without errors by manually adding the `--add-opens java.base/java.lang=ALL-UNNAMED` Java argument using IntelliJ IDEA. It generated a command similar to this.\r\n\r\n```\r\njava --add-opens java.base/java.lang=ALL-UNNAMED  jetty:run\r\n```\r\n\r\nIs there a way to pass the argument using the POM.xml without having to manually set the Java argument? Any help or insights would be greatly appreciated!\r\n\r\nVersion numbers:\r\n- \r\n- Java: 17\r\n- Jetty Maven plugin: 9.4.35.v20201120\r\n- Maven: 3.11.0\r\n\r\nHere is the pom file I am working on: https://github.com/openmrs/openmrs-core/blob/458f9417c1d2ab45c37fbdac8b94ec3a854cb7be/webapp/pom.xml#L100-L129\r\n","title":"Passing Java arguments to the Jetty Maven plugin","body":"<p>I am trying to add support to Java 17 for a project that also supports Java 8 and Java 11. It uses the Maven Jetty plugin for deployments. When running jetty:run I get the following error:</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make protected void java.lang.Object.finalize() throws java.lang.Throwable accessible: module java.base does not &quot;opens java.lang&quot; to an unnamed module\n</code></pre>\n<p>I was able to deploy the project without errors by manually adding the <code>--add-opens java.base/java.lang=ALL-UNNAMED</code> Java argument using IntelliJ IDEA. It generated a command similar to this.</p>\n<pre><code>java --add-opens java.base/java.lang=ALL-UNNAMED  jetty:run\n</code></pre>\n<p>Is there a way to pass the argument using the POM.xml without having to manually set the Java argument? Any help or insights would be greatly appreciated!</p>\n<h2>Version numbers:</h2>\n<ul>\n<li>Java: 17</li>\n<li>Jetty Maven plugin: 9.4.35.v20201120</li>\n<li>Maven: 3.11.0</li>\n</ul>\n<p>Here is the pom file I am working on: <a href=\"https://github.com/openmrs/openmrs-core/blob/458f9417c1d2ab45c37fbdac8b94ec3a854cb7be/webapp/pom.xml#L100-L129\" rel=\"nofollow noreferrer\">https://github.com/openmrs/openmrs-core/blob/458f9417c1d2ab45c37fbdac8b94ec3a854cb7be/webapp/pom.xml#L100-L129</a></p>\n"},{"tags":["java","android","xmpp","openfire","smack"],"comments":[{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1696694098,"post_id":77250379,"comment_id":136187543,"body_markdown":"I have not used smack but was working on a project where I got the same connectivity issues. Make sure that your Android device is connected to the same local network as your XMPP server (Openfire). make sure that the IP you are using is the IPv4 Address(check, it may have changed). make sure that you have the right permissions in the manifest Internet and network state. and check if this code is present in the application tag  ```android:usesCleartextTraffic=&quot;true&quot;```.","body":"I have not used smack but was working on a project where I got the same connectivity issues. Make sure that your Android device is connected to the same local network as your XMPP server (Openfire). make sure that the IP you are using is the IPv4 Address(check, it may have changed). make sure that you have the right permissions in the manifest Internet and network state. and check if this code is present in the application tag  <code>android:usesCleartextTraffic=&quot;true&quot;</code>."},{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1696694775,"post_id":77250379,"comment_id":136187611,"body_markdown":"and ping the server from the device to ensure connectivity so that the IP Address is correct and accessible from your Android device.","body":"and ping the server from the device to ensure connectivity so that the IP Address is correct and accessible from your Android device."},{"owner":{"account_id":12493462,"reputation":175,"user_id":9254213,"display_name":"Ismail Bouaddi"},"score":0,"creation_date":1696705192,"post_id":77250379,"comment_id":136188611,"body_markdown":"Thanks @SarmadAli i just edited my question, i found out that my firewall is the problem it blocks all the traffic coming from my Android device, so I have added a rule to allow traffic coming throw port 5222","body":"Thanks @SarmadAli i just edited my question, i found out that my firewall is the problem it blocks all the traffic coming from my Android device, so I have added a rule to allow traffic coming throw port 5222"}],"answers":[{"tags":[],"owner":{"account_id":64019,"reputation":2986,"user_id":189203,"accept_rate":83,"display_name":"Guus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698246486,"creation_date":1698246486,"answer_id":77360743,"question_id":77250379,"body_markdown":"This issue was duplicated on the community forums of Smack. The issue was caused (and was fixed) by removing a firewall blockage of the ports that are used by the client (TCP 5222).\r\n\r\nMore details on https://discourse.igniterealtime.org/t/unable-to-connect-to-xmpp-server-using-smack-on-real-device/","title":"Unable to Connect to XMPP Server using Smack on Real Device","body":"<p>This issue was duplicated on the community forums of Smack. The issue was caused (and was fixed) by removing a firewall blockage of the ports that are used by the client (TCP 5222).</p>\n<p>More details on <a href=\"https://discourse.igniterealtime.org/t/unable-to-connect-to-xmpp-server-using-smack-on-real-device/\" rel=\"nofollow noreferrer\">https://discourse.igniterealtime.org/t/unable-to-connect-to-xmpp-server-using-smack-on-real-device/</a></p>\n"}],"owner":{"account_id":12493462,"reputation":175,"user_id":9254213,"display_name":"Ismail Bouaddi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698246486,"creation_date":1696691913,"question_id":77250379,"body_markdown":"I&#39;m working on an Android app that uses the Smack library (version 4.4.6) to connect to an XMPP server ( i am using openfire in my local machine ). The code works perfectly fine in the emulator, but when I try to run it on a real device, I encounter the following error:\r\n\r\n    org.jivesoftware.smack.SmackException$EndpointConnectionException: The following addresses failed: &#39;rfc6120 a/aaaa endpoint + [/192.168.1.186:5222] (/192.168.1.186:5222)&#39; failed because: java.net.SocketTimeoutException: failed to connect to /192.168.1.186 (port 5222) from /192.168.1.197 (port 43530) after 30000ms.\r\n\r\n```\r\nString serverAddress = &quot;192.168.1.186&quot;; // Replace with your server&#39;s IP or hostname\r\nint serverPort = 5222; // Default XMPP port\r\nString username = &quot;john@gmail.com&quot;;\r\nString password = &quot;john&quot;;\r\n\r\nXMPPTCPConnectionConfiguration config = XMPPTCPConnectionConfiguration.builder()\r\n        .setXmppDomain(&quot;ismail.org&quot;)\r\n        .setHost(serverAddress)\r\n        .setPort(serverPort)\r\n        .setSecurityMode(ConnectionConfiguration.SecurityMode.disabled) // You can adjust security settings as needed\r\n        .build();\r\n\r\nAbstractXMPPConnection connection = new XMPPTCPConnection(config);\r\n\r\ntry {\r\n    System.out.println(&quot;Trying to connect ....&quot;);\r\n    connection.connect();\r\n    System.out.println(&quot;Connected ...&quot;);\r\n    try {\r\n        connection.login(&quot;john&quot;,&quot;john&quot;);\r\n    } catch (XMPPException | SmackException | IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n    System.out.println(&quot;Logged in&quot;);\r\n\r\n    System.out.println(&quot;Start searching .....&quot;);\r\n    boolean alpha = exist(&quot;alpha&quot;, connection);\r\n    System.out.println(&quot;The user exists or not: &quot; + alpha);\r\n\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n\r\n\r\n```\r\n\r\nAs mentioned, this code works fine in the emulator, but not on a real device. Can anyone help me understand why I&#39;m encountering this error on a real device and how I can resolve it?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nEdited: i just found a solution to my problem but i don&#39;t know if it is the right one but it works , what i did is i found out that my firewall blocked my android device to ping to my server, so i have created a rule to allow the traffic coming throw the port 5222, here are the steps to do so\r\nHere are the steps to create an inbound rule for port 5222:\r\n\r\nOpen the Windows Firewall settings on your Windows 11 laptop.\r\n\r\nIn the left panel, click on &quot;Inbound Rules.&quot;\r\n\r\nIn the right panel, click on &quot;New Rule...&quot; to open the New Inbound Rule Wizard.\r\n\r\nSelect &quot;Port&quot; and click &quot;Next.&quot;\r\n\r\nChoose &quot;TCP&quot; and specify port number 5222. Click &quot;Next.&quot;\r\n\r\nSelect &quot;Allow the connection&quot; and click &quot;Next.&quot;\r\n\r\nLeave all the profiles (Domain, Private, Public) checked if you want to allow the connection on all types of networks. Click &quot;Next.&quot;\r\n\r\nGive your rule a name (e.g., &quot;Allow XMPP Port 5222&quot;) and, if desired, add a description. Click &quot;Finish&quot; to create the rule.\r\n\r\nTest the connection from your Android app to the XMPP server on your Windows laptop. It should now work without having to disable the entire firewall.\r\n\r\n","title":"Unable to Connect to XMPP Server using Smack on Real Device","body":"<p>I'm working on an Android app that uses the Smack library (version 4.4.6) to connect to an XMPP server ( i am using openfire in my local machine ). The code works perfectly fine in the emulator, but when I try to run it on a real device, I encounter the following error:</p>\n<pre><code>org.jivesoftware.smack.SmackException$EndpointConnectionException: The following addresses failed: 'rfc6120 a/aaaa endpoint + [/192.168.1.186:5222] (/192.168.1.186:5222)' failed because: java.net.SocketTimeoutException: failed to connect to /192.168.1.186 (port 5222) from /192.168.1.197 (port 43530) after 30000ms.\n</code></pre>\n<pre><code>String serverAddress = &quot;192.168.1.186&quot;; // Replace with your server's IP or hostname\nint serverPort = 5222; // Default XMPP port\nString username = &quot;john@gmail.com&quot;;\nString password = &quot;john&quot;;\n\nXMPPTCPConnectionConfiguration config = XMPPTCPConnectionConfiguration.builder()\n        .setXmppDomain(&quot;ismail.org&quot;)\n        .setHost(serverAddress)\n        .setPort(serverPort)\n        .setSecurityMode(ConnectionConfiguration.SecurityMode.disabled) // You can adjust security settings as needed\n        .build();\n\nAbstractXMPPConnection connection = new XMPPTCPConnection(config);\n\ntry {\n    System.out.println(&quot;Trying to connect ....&quot;);\n    connection.connect();\n    System.out.println(&quot;Connected ...&quot;);\n    try {\n        connection.login(&quot;john&quot;,&quot;john&quot;);\n    } catch (XMPPException | SmackException | IOException e) {\n        e.printStackTrace();\n    }\n    System.out.println(&quot;Logged in&quot;);\n\n    System.out.println(&quot;Start searching .....&quot;);\n    boolean alpha = exist(&quot;alpha&quot;, connection);\n    System.out.println(&quot;The user exists or not: &quot; + alpha);\n\n} catch (Exception e) {\n    e.printStackTrace();\n}\n\n\n</code></pre>\n<p>As mentioned, this code works fine in the emulator, but not on a real device. Can anyone help me understand why I'm encountering this error on a real device and how I can resolve it?</p>\n<p>Edited: i just found a solution to my problem but i don't know if it is the right one but it works , what i did is i found out that my firewall blocked my android device to ping to my server, so i have created a rule to allow the traffic coming throw the port 5222, here are the steps to do so\nHere are the steps to create an inbound rule for port 5222:</p>\n<p>Open the Windows Firewall settings on your Windows 11 laptop.</p>\n<p>In the left panel, click on &quot;Inbound Rules.&quot;</p>\n<p>In the right panel, click on &quot;New Rule...&quot; to open the New Inbound Rule Wizard.</p>\n<p>Select &quot;Port&quot; and click &quot;Next.&quot;</p>\n<p>Choose &quot;TCP&quot; and specify port number 5222. Click &quot;Next.&quot;</p>\n<p>Select &quot;Allow the connection&quot; and click &quot;Next.&quot;</p>\n<p>Leave all the profiles (Domain, Private, Public) checked if you want to allow the connection on all types of networks. Click &quot;Next.&quot;</p>\n<p>Give your rule a name (e.g., &quot;Allow XMPP Port 5222&quot;) and, if desired, add a description. Click &quot;Finish&quot; to create the rule.</p>\n<p>Test the connection from your Android app to the XMPP server on your Windows laptop. It should now work without having to disable the entire firewall.</p>\n"},{"tags":["java","spring","autowired"],"comments":[{"owner":{"account_id":15988209,"reputation":150,"user_id":11538031,"display_name":"Емилиян Йорданов"},"score":1,"creation_date":1698235120,"post_id":77358452,"comment_id":136378843,"body_markdown":"You override the method because it has the same name and the same parameters, so it is expected to skip the parent class setter execution.\nYou can call the super in your child class overrides method.\n@Required\n    public void setService(Service service) {\n        super.setService(service);\n        this.service = service;\n    }","body":"You override the method because it has the same name and the same parameters, so it is expected to skip the parent class setter execution. You can call the super in your child class overrides method. @Required     public void setService(Service service) {         super.setService(service);         this.service = service;     }"},{"owner":{"account_id":9254944,"reputation":131,"user_id":6874155,"accept_rate":100,"display_name":"SummertimeSadness"},"score":0,"creation_date":1698237621,"post_id":77358452,"comment_id":136379399,"body_markdown":"@ЕмилиянЙорданов, thank you, this approach works","body":"@ЕмилиянЙорданов, thank you, this approach works"}],"answers":[{"tags":[],"owner":{"account_id":9254944,"reputation":131,"user_id":6874155,"accept_rate":100,"display_name":"SummertimeSadness"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698246369,"creation_date":1698246369,"answer_id":77360731,"question_id":77358452,"body_markdown":"Answer from ЕмилиянЙорданов helped me:\r\n\r\n&gt; You override the method because it has the same name and the same\r\n&gt; parameters, so it is expected to skip the parent class setter\r\n&gt; execution. You can call the super in your child class overrides\r\n&gt; method. @Required public void setService(Service service) {\r\n&gt; super.setService(service); this.service = service; }","title":"Private fields are not Autowired in parent class when they have the same name as in child","body":"<p>Answer from ЕмилиянЙорданов helped me:</p>\n<blockquote>\n<p>You override the method because it has the same name and the same\nparameters, so it is expected to skip the parent class setter\nexecution. You can call the super in your child class overrides\nmethod. @Required public void setService(Service service) {\nsuper.setService(service); this.service = service; }</p>\n</blockquote>\n"}],"owner":{"account_id":9254944,"reputation":131,"user_id":6874155,"accept_rate":100,"display_name":"SummertimeSadness"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698246369,"creation_date":1698227803,"question_id":77358452,"body_markdown":"Let&#39;s say I have some lib that I can&#39;t modify. It has class that looks like this:\r\n\r\n    public class ClassFromLib {\r\n    \r\n    \tprivate Service service;\r\n    \r\n    \tpublic void mainActivity () {\r\n    \t\t//some code\r\n    \t\tservice.doSomething();\r\n    \t\t//some code\r\n    \t\tsecondaryActivity();\r\n    \t}\r\n    \t\r\n    \tpublic void secondaryActivity() {\r\n    \t\t//some code\r\n    \t\tservice.doSomething();\r\n    \t\t//some code\r\n    \t}\r\n    \r\n    \t@Required\r\n    \tpublic void setService(Service service) {\r\n    \t\tthis.service = service;\r\n    \t}\r\n    }\r\nAnd this class is configured as bean:\r\n\r\n    &lt;bean id=&quot;classFromLibBean&quot; class=&quot;ClassFromLib&quot;&gt;\r\n    \t&lt;property name=&quot;service&quot; ref=&quot;serviceImpl&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nI need to override `secondaryActivity` method of this class in my project. And I also need to use the same `service` that is private in the parent class. So, I created something similar to this:\r\n\r\n    public class MyClass extends ClassFromLib {\r\n    \r\n    \tprivate Service service;\r\n    \r\n    \t@Override\r\n    \tpublic void secondaryActivity() {\r\n    \t\t//some custom logic\r\n    \t\tservice.doSomething();\r\n    \t\t//some custom logic\r\n    \t}\r\n    \r\n    \t@Required\r\n    \tpublic void setService(Service service) {\r\n    \t\tthis.service = service;\r\n    \t}\r\n    }\r\n\r\nAnd added bean configuration:\r\n\r\n    &lt;bean id=&quot;myClassBean&quot; class=&quot;MyClass&quot;&gt;\r\n    \t&lt;property name=&quot;service&quot; ref=&quot;serviceImpl&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nBut when I&#39;m getting my custom bean from application context and calling for `mainActivity` it returns `NullPointerException` because `service` field hasn&#39;t been initialized in the parent class and it is actually null. If I understand correctly, I have this issue because during bean initialization it calls for the child setter but ignores parent setter. I found WA: rename field and setter in the child class but this looks ugly. Is there any better solution?","title":"Private fields are not Autowired in parent class when they have the same name as in child","body":"<p>Let's say I have some lib that I can't modify. It has class that looks like this:</p>\n<pre><code>public class ClassFromLib {\n\n    private Service service;\n\n    public void mainActivity () {\n        //some code\n        service.doSomething();\n        //some code\n        secondaryActivity();\n    }\n    \n    public void secondaryActivity() {\n        //some code\n        service.doSomething();\n        //some code\n    }\n\n    @Required\n    public void setService(Service service) {\n        this.service = service;\n    }\n}\n</code></pre>\n<p>And this class is configured as bean:</p>\n<pre><code>&lt;bean id=&quot;classFromLibBean&quot; class=&quot;ClassFromLib&quot;&gt;\n    &lt;property name=&quot;service&quot; ref=&quot;serviceImpl&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>I need to override <code>secondaryActivity</code> method of this class in my project. And I also need to use the same <code>service</code> that is private in the parent class. So, I created something similar to this:</p>\n<pre><code>public class MyClass extends ClassFromLib {\n\n    private Service service;\n\n    @Override\n    public void secondaryActivity() {\n        //some custom logic\n        service.doSomething();\n        //some custom logic\n    }\n\n    @Required\n    public void setService(Service service) {\n        this.service = service;\n    }\n}\n</code></pre>\n<p>And added bean configuration:</p>\n<pre><code>&lt;bean id=&quot;myClassBean&quot; class=&quot;MyClass&quot;&gt;\n    &lt;property name=&quot;service&quot; ref=&quot;serviceImpl&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>But when I'm getting my custom bean from application context and calling for <code>mainActivity</code> it returns <code>NullPointerException</code> because <code>service</code> field hasn't been initialized in the parent class and it is actually null. If I understand correctly, I have this issue because during bean initialization it calls for the child setter but ignores parent setter. I found WA: rename field and setter in the child class but this looks ugly. Is there any better solution?</p>\n"},{"tags":["java","excel","coordinates","gis"],"comments":[{"owner":{"account_id":6005748,"reputation":8367,"user_id":4717755,"display_name":"PeterT"},"score":0,"creation_date":1698256426,"post_id":77359739,"comment_id":136383451,"body_markdown":"How about using a geo-enabled database like MongoDB?  It&#39;s easy to set up and you can probably find the city lat/lon polygons online somewhere.","body":"How about using a geo-enabled database like MongoDB?  It&#39;s easy to set up and you can probably find the city lat/lon polygons online somewhere."},{"owner":{"account_id":26758007,"reputation":1,"user_id":20356358,"display_name":"VVstack43"},"score":0,"creation_date":1698313960,"post_id":77359739,"comment_id":136390652,"body_markdown":"Yes that&#39;s like the actual correct way to do for large scale but I do not have experience in programming so didn&#39;t emphasise on it much. Hence was searching for some other methods.","body":"Yes that&#39;s like the actual correct way to do for large scale but I do not have experience in programming so didn&#39;t emphasise on it much. Hence was searching for some other methods."}],"owner":{"account_id":26758007,"reputation":1,"user_id":20356358,"display_name":"VVstack43"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698246087,"creation_date":1698239039,"question_id":77359739,"body_markdown":"I have a list of our sales lead locations in excel with their coordinates.\r\n\r\nWhat I wish to do is that I need to sort those coordinates as per the condition if they lie within a certain polygon or not. So suppose I have 2 polygons for 2 cities then I need to mark the coordinates in the sheet like they’re in polygon 1 or 2 or NIL.\r\n\r\nI had been doing this manually in QGIS by selecting the outside points and deleting them and then exporting and then again sorting the sheet but this is now taking a lot of time since the number of entries is increasing.\r\n\r\nCould someone suggest a better, simpler and quicker way to do this, irrespective of the method used. I don’t much care if as per your suggestion it can be done in excel itself or in QGIS or with the help of some other software. I just need to mark in the next column that to which polygon the coordinates belong.\r\n\r\nExample :\r\n\r\nInput\r\n\r\n| Latitude  | Longitude |\r\n| :--------:  | :--------:  |\r\n| 19.062892 | 72.882464 |\r\n| 28.630800 | 77.233433 |\r\n\r\n\r\nOutput\r\n\r\n| Latitude  | Longitude | Polygon |\r\n| :--------:  | :--------:  | :--------:|\r\n| 19.062892 | 72.882464 | Mumbai  |\r\n| 28.630800 | 77.233433 | Delhi   |\r\n\r\n\r\nThanks in advance","title":"Sort coordinates as per polygon in excel or through QGIS","body":"<p>I have a list of our sales lead locations in excel with their coordinates.</p>\n<p>What I wish to do is that I need to sort those coordinates as per the condition if they lie within a certain polygon or not. So suppose I have 2 polygons for 2 cities then I need to mark the coordinates in the sheet like they’re in polygon 1 or 2 or NIL.</p>\n<p>I had been doing this manually in QGIS by selecting the outside points and deleting them and then exporting and then again sorting the sheet but this is now taking a lot of time since the number of entries is increasing.</p>\n<p>Could someone suggest a better, simpler and quicker way to do this, irrespective of the method used. I don’t much care if as per your suggestion it can be done in excel itself or in QGIS or with the help of some other software. I just need to mark in the next column that to which polygon the coordinates belong.</p>\n<p>Example :</p>\n<p>Input</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">Latitude</th>\n<th style=\"text-align: center;\">Longitude</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">19.062892</td>\n<td style=\"text-align: center;\">72.882464</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">28.630800</td>\n<td style=\"text-align: center;\">77.233433</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Output</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">Latitude</th>\n<th style=\"text-align: center;\">Longitude</th>\n<th style=\"text-align: center;\">Polygon</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">19.062892</td>\n<td style=\"text-align: center;\">72.882464</td>\n<td style=\"text-align: center;\">Mumbai</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">28.630800</td>\n<td style=\"text-align: center;\">77.233433</td>\n<td style=\"text-align: center;\">Delhi</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Thanks in advance</p>\n"},{"tags":["java","burp"],"comments":[{"owner":{"account_id":3246854,"reputation":3594,"user_id":2738151,"display_name":"Hern&#225;n Alarc&#243;n"},"score":3,"creation_date":1619998690,"post_id":67360622,"comment_id":119065285,"body_markdown":"Can&#39;t you use the [embedded browser](https://portswigger.net/burp/documentation/desktop/functions/embedded-browser)?","body":"Can&#39;t you use the <a href=\"https://portswigger.net/burp/documentation/desktop/functions/embedded-browser\" rel=\"nofollow noreferrer\">embedded browser</a>?"}],"answers":[{"tags":[],"owner":{"account_id":23262448,"reputation":53,"user_id":17348542,"display_name":"Ertaku"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698246068,"creation_date":1698246068,"answer_id":77360688,"question_id":67360622,"body_markdown":"I had a similer problem. I solved it after 2 steps. \r\n 1. Chrome Settings &gt; Privacy and security &gt; Security &gt; Always use secure connections (Make it OFF. I disabled this option for some CTF challenges. Use this option wisely because it can be dangerous.)\r\n 2. Visit http://burpsuite. Then, click &quot;Download CA Certificate&quot; on the website. After the download, go to: Chrome Settings &gt; Privacy and security &gt; Security &gt; Manage device certificates. On the pop-up page, import the downloaded certificate.\r\n\r\nI hope my solutions help to the others!\r\n\r\n ","title":"Burp Suite SSL ERROR HANDSHAKE FAILURE ALERT OR ERR SSL PROTOCOL ERROR","body":"<p>I had a similer problem. I solved it after 2 steps.</p>\n<ol>\n<li>Chrome Settings &gt; Privacy and security &gt; Security &gt; Always use secure connections (Make it OFF. I disabled this option for some CTF challenges. Use this option wisely because it can be dangerous.)</li>\n<li>Visit http://burpsuite. Then, click &quot;Download CA Certificate&quot; on the website. After the download, go to: Chrome Settings &gt; Privacy and security &gt; Security &gt; Manage device certificates. On the pop-up page, import the downloaded certificate.</li>\n</ol>\n<p>I hope my solutions help to the others!</p>\n"}],"owner":{"account_id":16932882,"reputation":31,"user_id":12246677,"display_name":"Seyed_Mojtaba1997"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2192,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1698246068,"creation_date":1619985615,"question_id":67360622,"body_markdown":"My Burp Suite was working properly but failed after a while and the message in FireFox&quot;SSL_ERROR_HANDSHAKE_FAILURE_ALERT&quot; and in Chrome &quot;ERR_SSL_PROTOCOL_ERROR&quot; was displayed in the browser. The valid Burp Suite certificate was also fully integrated into the browser.\r\nI did the following but it didn&#39;t work\r\n1. Get a new certificate output from Burp Suite and import it\r\n2. Use a new browser with a new certificate\r\n3. Reinstall Burp Suite and insert a new certificate\r\n4. Delete and change the used jdk version\r\n5. Remove all Burp Suite registry keys\r\n6. Remove all jdk registry keys\r\n7. Use different versions of jdk\r\n\r\nBut none of them were solutions, and only changing the Windows user and creating a new user would solve the problem, which in my opinion was not true at all.\r\nAfter many tests and different R&amp;Ds, I finally found the solution to the problem\r\nThe problem is the incompatibility of the official JDK and JDK required by the Burp Suite, and to solve the problem, the following steps must be followed.\r\n\r\n1. Download the Professional Burp Suite version from ***https://portswigger.net***\r\n2. Install it in ***C:\\Burp_Suite***\r\n3. Jar Copy your previous Burp file and Loader to\r\n***C:\\Burp_Suite\\jre\\bin*** and run it using the following command:\r\n***&quot;C:\\Burp_Suite\\jre\\bin\\java.exe -javaagent:BurpSuiteLoader_v.XXX.jar -noverify -jar burpsuite_pro_vXXX.jar&quot;***\r\n4. Enjoy your Burp Suite ","title":"Burp Suite SSL ERROR HANDSHAKE FAILURE ALERT OR ERR SSL PROTOCOL ERROR","body":"<p>My Burp Suite was working properly but failed after a while and the message in FireFox&quot;SSL_ERROR_HANDSHAKE_FAILURE_ALERT&quot; and in Chrome &quot;ERR_SSL_PROTOCOL_ERROR&quot; was displayed in the browser. The valid Burp Suite certificate was also fully integrated into the browser.\nI did the following but it didn't work</p>\n<ol>\n<li>Get a new certificate output from Burp Suite and import it</li>\n<li>Use a new browser with a new certificate</li>\n<li>Reinstall Burp Suite and insert a new certificate</li>\n<li>Delete and change the used jdk version</li>\n<li>Remove all Burp Suite registry keys</li>\n<li>Remove all jdk registry keys</li>\n<li>Use different versions of jdk</li>\n</ol>\n<p>But none of them were solutions, and only changing the Windows user and creating a new user would solve the problem, which in my opinion was not true at all.\nAfter many tests and different R&amp;Ds, I finally found the solution to the problem\nThe problem is the incompatibility of the official JDK and JDK required by the Burp Suite, and to solve the problem, the following steps must be followed.</p>\n<ol>\n<li>Download the Professional Burp Suite version from <em><strong><a href=\"https://portswigger.net\" rel=\"nofollow noreferrer\">https://portswigger.net</a></strong></em></li>\n<li>Install it in <em><strong>C:\\Burp_Suite</strong></em></li>\n<li>Jar Copy your previous Burp file and Loader to\n<em><strong>C:\\Burp_Suite\\jre\\bin</strong></em> and run it using the following command:\n<em><strong>&quot;C:\\Burp_Suite\\jre\\bin\\java.exe -javaagent:BurpSuiteLoader_v.XXX.jar -noverify -jar burpsuite_pro_vXXX.jar&quot;</strong></em></li>\n<li>Enjoy your Burp Suite</li>\n</ol>\n"},{"tags":["java","intellij-idea","getter","getter-setter"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":3,"creation_date":1414186735,"post_id":26556659,"comment_id":41734778,"body_markdown":"Not sure if possible, but your desired syntax is against the [Java Coding Conventions](http://www.oracle.com/technetwork/java/codeconventions-150003.pdf).","body":"Not sure if possible, but your desired syntax is against the <a href=\"http://www.oracle.com/technetwork/java/codeconventions-150003.pdf\" rel=\"nofollow noreferrer\">Java Coding Conventions</a>."},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":4,"creation_date":1414187032,"post_id":26556659,"comment_id":41734881,"body_markdown":"@LuiggiMendoza these are known as &quot;fluent accessors&quot; and are used more are more these days. Lombok even supports generating accessors that way out of the box.","body":"@LuiggiMendoza these are known as &quot;fluent accessors&quot; and are used more are more these days. Lombok even supports generating accessors that way out of the box."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1414187259,"post_id":26556659,"comment_id":41734964,"body_markdown":"@BoristheSpider TIL. Sadly, I&#39;m not sure if these accessors are supported by frameworks that depend on [Java Bean Naming Convention](http://download.oracle.com/otn-pub/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/beans.101.pdf?AuthParam=1414187327_12eeae19bd08754d7401009a406362da) like Spring or JSF or technology like Expression Language.","body":"@BoristheSpider TIL. Sadly, I&#39;m not sure if these accessors are supported by frameworks that depend on <a href=\"http://download.oracle.com/otn-pub/jcp/7224-javabeans-1.01-fr-spec-oth-JSpec/beans.101.pdf?AuthParam=1414187327_12eeae19bd08754d7401009a406362da\" rel=\"nofollow noreferrer\">Java Bean Naming Convention</a> like Spring or JSF or technology like Expression Language."},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1414187571,"post_id":26556659,"comment_id":41735079,"body_markdown":"@LuiggiMendoza Yeah, I know. Many frameworks are leaning towards field access rather than method naming conventions these days - especially with the advent of annotations. Depends what the OP is going with the beans. Incidentally, this is an attempt to make Java a little more conformant with the [Uniform Access Principle](http://en.wikipedia.org/wiki/Uniform_access_principle).","body":"@LuiggiMendoza Yeah, I know. Many frameworks are leaning towards field access rather than method naming conventions these days - especially with the advent of annotations. Depends what the OP is going with the beans. Incidentally, this is an attempt to make Java a little more conformant with the <a href=\"http://en.wikipedia.org/wiki/Uniform_access_principle\" rel=\"nofollow noreferrer\">Uniform Access Principle</a>."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1414192341,"post_id":26556659,"comment_id":41736403,"body_markdown":"@Hbf, if you&#39;re using something like [AutoValue](https://github.com/google/auto/tree/master/value) for your value classes, you can generate your getters at compile time rather than with your IDE, and you can specify any method names you want.","body":"@Hbf, if you&#39;re using something like <a href=\"https://github.com/google/auto/tree/master/value\" rel=\"nofollow noreferrer\">AutoValue</a> for your value classes, you can generate your getters at compile time rather than with your IDE, and you can specify any method names you want."}],"answers":[{"comments":[{"owner":{"account_id":2814590,"reputation":1225,"user_id":2420028,"accept_rate":50,"display_name":"Danny Dan"},"score":0,"creation_date":1424793516,"post_id":27395652,"comment_id":45690933,"body_markdown":"added up to date info in the answer","body":"added up to date info in the answer"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1424797263,"post_id":27395652,"comment_id":45693611,"body_markdown":"14.1 is in EAP, not fully released though.","body":"14.1 is in EAP, not fully released though."}],"tags":[],"owner":{"account_id":2814590,"reputation":1225,"user_id":2420028,"accept_rate":50,"display_name":"Danny Dan"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1424793486,"creation_date":1418197349,"answer_id":27395652,"question_id":26556659,"body_markdown":"If I understood right you cannot modify getters/setters in idea now. [Issue on youtrack][1]\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-28206\r\n\r\nP.S. Ok, now Fix version is 14.1, from this version of idea you can create and choose getter/setter template directly in `Alt-Insert` menu.","title":"Can IntelliJ generate getters without the &quot;get&quot; prefix?","body":"<p>If I understood right you cannot modify getters/setters in idea now. <a href=\"https://youtrack.jetbrains.com/issue/IDEA-28206\" rel=\"nofollow\">Issue on youtrack</a></p>\n\n<p>P.S. Ok, now Fix version is 14.1, from this version of idea you can create and choose getter/setter template directly in <code>Alt-Insert</code> menu.</p>\n"},{"comments":[{"owner":{"account_id":3618345,"reputation":2909,"user_id":3017716,"accept_rate":46,"display_name":"Ken"},"score":0,"creation_date":1499292917,"post_id":34899503,"comment_id":76849972,"body_markdown":"this option is not available in clion?","body":"this option is not available in clion?"},{"owner":{"account_id":132399,"reputation":1349,"user_id":333068,"accept_rate":50,"display_name":"Rob Dawson"},"score":0,"creation_date":1535708591,"post_id":34899503,"comment_id":91175833,"body_markdown":"I was struggling to find this, but eventually got there, creating a short video -- https://youtu.be/ln4b0LyFsF0","body":"I was struggling to find this, but eventually got there, creating a short video -- <a href=\"https://youtu.be/ln4b0LyFsF0\" rel=\"nofollow noreferrer\">youtu.be/ln4b0LyFsF0</a>"}],"tags":[],"owner":{"account_id":42687,"reputation":6393,"user_id":124426,"accept_rate":77,"display_name":"Ed ."},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1453291290,"creation_date":1453291290,"answer_id":34899503,"question_id":26556659,"body_markdown":"Neat question! Just to clarify @Danny Dan&#39;s answer since IntelliJ 15 has been released...\n\n## To set this up: \n\n- &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Insert&lt;/kbd&gt;\n- Select _Getter_\n- Open the template configuration from _&#39;...&#39;_ on the RHS\n- Create a new template from the LHS - see example below\n- _Ok_ and select your new template\n\n### Example Template: `fluent-getter`\n     public ##\n     #if($field.modifierStatic)\n       static ##\n     #end\n     $field.type ##\n     ${field.name}() {\n       return $field.name;\n     }\n\n## Why would you want to do this?\n\nCheckout [Implementing Domain-Driven Design](http://www.amazon.co.uk/Implementing-Domain-Driven-Design-Vaughn-Vernon/dp/0321834577):\n\n&gt; The simple but effective approach to object design keeps the Value Object faithful to the Ubiquitous Language. The use of `getValuePercentage()` is a technical computer statement, but `valuePercentage()` is a fluent human-readable language expression.\n\n\n\n","title":"Can IntelliJ generate getters without the &quot;get&quot; prefix?","body":"<p>Neat question! Just to clarify @Danny Dan's answer since IntelliJ 15 has been released...</p>\n<h2>To set this up:</h2>\n<ul>\n<li><kbd>Alt</kbd>+<kbd>Insert</kbd></li>\n<li>Select <em>Getter</em></li>\n<li>Open the template configuration from <em>'...'</em> on the RHS</li>\n<li>Create a new template from the LHS - see example below</li>\n<li><em>Ok</em> and select your new template</li>\n</ul>\n<h3>Example Template: <code>fluent-getter</code></h3>\n<pre><code> public ##\n #if($field.modifierStatic)\n   static ##\n #end\n $field.type ##\n ${field.name}() {\n   return $field.name;\n }\n</code></pre>\n<h2>Why would you want to do this?</h2>\n<p>Checkout <a href=\"http://www.amazon.co.uk/Implementing-Domain-Driven-Design-Vaughn-Vernon/dp/0321834577\" rel=\"noreferrer\">Implementing Domain-Driven Design</a>:</p>\n<blockquote>\n<p>The simple but effective approach to object design keeps the Value Object faithful to the Ubiquitous Language. The use of <code>getValuePercentage()</code> is a technical computer statement, but <code>valuePercentage()</code> is a fluent human-readable language expression.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":244971,"reputation":2459,"user_id":518179,"accept_rate":50,"display_name":"Renan Ferrari"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495475752,"creation_date":1495475752,"answer_id":44119228,"question_id":26556659,"body_markdown":"Here are some slightly improved templates based on @Ed .&#39;s [previous answer][1]:\r\n\r\n###fluent-getter:\r\n\r\n    public ##\r\n    #if($field.modifierStatic)\r\n      static ##\r\n    #end\r\n    $field.type ##\r\n    ${field.name}() {\r\n    return ##\r\n    #if (!$field.modifierStatic)\r\n    this.##\r\n    #else\r\n      $classname.##\r\n    #end\r\n    $field.name;\r\n    }\r\n\r\n###fluent-setter:\r\n\r\n    #set($paramName = $helper.getParamName($field, $project))\r\n    public ##\r\n    #if($field.modifierStatic)\r\n      static ##\r\n    #end\r\n    void ##\r\n    ${field.name}($field.type $paramName) {\r\n    #if ($field.name == $paramName)\r\n      #if (!$field.modifierStatic)\r\n      this.##\r\n      #else\r\n        $classname.##\r\n      #end\r\n    #end\r\n    $field.name = $paramName;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/34899503/518179","title":"Can IntelliJ generate getters without the &quot;get&quot; prefix?","body":"<p>Here are some slightly improved templates based on @Ed .'s <a href=\"https://stackoverflow.com/a/34899503/518179\">previous answer</a>:</p>\n\n<h3>fluent-getter:</h3>\n\n<pre><code>public ##\n#if($field.modifierStatic)\n  static ##\n#end\n$field.type ##\n${field.name}() {\nreturn ##\n#if (!$field.modifierStatic)\nthis.##\n#else\n  $classname.##\n#end\n$field.name;\n}\n</code></pre>\n\n<h3>fluent-setter:</h3>\n\n<pre><code>#set($paramName = $helper.getParamName($field, $project))\npublic ##\n#if($field.modifierStatic)\n  static ##\n#end\nvoid ##\n${field.name}($field.type $paramName) {\n#if ($field.name == $paramName)\n  #if (!$field.modifierStatic)\n  this.##\n  #else\n    $classname.##\n  #end\n#end\n$field.name = $paramName;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1415333,"reputation":145,"user_id":1341113,"display_name":"Baptiste Le Bail"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586356127,"creation_date":1586356127,"answer_id":61103154,"question_id":26556659,"body_markdown":"I like to have `isXxx` for `boolean` (for example `isConnected()`), if you need this then the template would be:\r\n\r\n\r\n    #if($field.modifierStatic)\r\n    static ##\r\n    #end\r\n    $field.type ##\r\n    #set($name = $StringUtil.sanitizeJavaIdentifier($helper.getPropertyName($field, $project)))\r\n    #if ($field.boolean &amp;&amp; $field.primitive)\r\n    #set($name = $StringUtil.capitalizeWithJavaBeanConvention($StringUtil.sanitizeJavaIdentifier($helper.getPropertyName($field, $project))))is##\r\n    #else\r\n      ##\r\n    #end\r\n    ${name}() {\r\n      return $field.name;\r\n    }\r\n","title":"Can IntelliJ generate getters without the &quot;get&quot; prefix?","body":"<p>I like to have <code>isXxx</code> for <code>boolean</code> (for example <code>isConnected()</code>), if you need this then the template would be:</p>\n\n<pre><code>#if($field.modifierStatic)\nstatic ##\n#end\n$field.type ##\n#set($name = $StringUtil.sanitizeJavaIdentifier($helper.getPropertyName($field, $project)))\n#if ($field.boolean &amp;&amp; $field.primitive)\n#set($name = $StringUtil.capitalizeWithJavaBeanConvention($StringUtil.sanitizeJavaIdentifier($helper.getPropertyName($field, $project))))is##\n#else\n  ##\n#end\n${name}() {\n  return $field.name;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1548429,"reputation":3528,"user_id":1441374,"accept_rate":68,"display_name":"Omkar Shetkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698244854,"creation_date":1698244854,"answer_id":77360510,"question_id":26556659,"body_markdown":"With Java Records in-place, Intellij has come up with in-built template for this purpose **Records style**\r\n\r\n- Press Alt+Insert\r\n- Select *Getter*\r\n- Select *Records style* from Template drop down\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zIQK2.png","title":"Can IntelliJ generate getters without the &quot;get&quot; prefix?","body":"<p>With Java Records in-place, Intellij has come up with in-built template for this purpose <strong>Records style</strong></p>\n<ul>\n<li>Press Alt+Insert</li>\n<li>Select <em>Getter</em></li>\n<li>Select <em>Records style</em> from Template drop down</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/zIQK2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zIQK2.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":380281,"reputation":3074,"user_id":734191,"accept_rate":71,"display_name":"Hbf"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3251,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":34899503,"answer_count":5,"score":14,"last_activity_date":1698244854,"creation_date":1414186627,"question_id":26556659,"body_markdown":"IntelliJ has the cool feature to generate Java getters. For example, for a field `private final String foo`, it will generate a getter `getFoo()`.\r\n\r\nIs there any way I can configure IntelliJ to generate getters in the format `String foo()`? I am working mainly with immutable objects and prefer this syntax.","title":"Can IntelliJ generate getters without the &quot;get&quot; prefix?","body":"<p>IntelliJ has the cool feature to generate Java getters. For example, for a field <code>private final String foo</code>, it will generate a getter <code>getFoo()</code>.</p>\n\n<p>Is there any way I can configure IntelliJ to generate getters in the format <code>String foo()</code>? I am working mainly with immutable objects and prefer this syntax.</p>\n"},{"tags":["java","encoding","character-encoding"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":5,"creation_date":1698245073,"post_id":77360503,"comment_id":136381169,"body_markdown":"This is not possible to do exactly in general, because multiple character sets use the same bytes to encode the same characters. For example `A` has the value 65 in ASCII, UTF-8 and ISO-8859-1 and other character sets. So if you find the value 65 in a file, the original character set that was used could be any of those.","body":"This is not possible to do exactly in general, because multiple character sets use the same bytes to encode the same characters. For example <code>A</code> has the value 65 in ASCII, UTF-8 and ISO-8859-1 and other character sets. So if you find the value 65 in a file, the original character set that was used could be any of those."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1698245476,"post_id":77360503,"comment_id":136381260,"body_markdown":"Yeah, there really is no reliable way to detect a charset, unless it’s UTF-16, or UTF-8 text containing non-ASCII characters.  There is far too much ambiguity.  The same byte values can be used in many charsets.","body":"Yeah, there really is no reliable way to detect a charset, unless it’s UTF-16, or UTF-8 text containing non-ASCII characters.  There is far too much ambiguity.  The same byte values can be used in many charsets."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1698254464,"post_id":77360503,"comment_id":136383113,"body_markdown":"You should add the _library_ you&#39;re using to your question&#39;s _tags_.","body":"You should add the <i>library</i> you&#39;re using to your question&#39;s <i>tags</i>."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1698255890,"post_id":77360503,"comment_id":136383362,"body_markdown":"Auto-detection won&#39;t be reliable, see also : [Java : How to determine the correct charset encoding of a stream](https://stackoverflow.com/questions/499010/java-how-to-determine-the-correct-charset-encoding-of-a-stream)","body":"Auto-detection won&#39;t be reliable, see also : <a href=\"https://stackoverflow.com/questions/499010/java-how-to-determine-the-correct-charset-encoding-of-a-stream\">Java : How to determine the correct charset encoding of a stream</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1698289386,"post_id":77360503,"comment_id":136387265,"body_markdown":"The information technology industry has never been able to define a standard for file meta-data such as indicating the character encoding. Other than the presence of a [byte order mark (BOM)](https://en.wikipedia.org/wiki/Byte_order_mark), guessing (heuristics)  is the only way. See [*Charset detection*](https://en.wikipedia.org/wiki/Charset_detection) in Wikipedia.","body":"The information technology industry has never been able to define a standard for file meta-data such as indicating the character encoding. Other than the presence of a <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\">byte order mark (BOM)</a>, guessing (heuristics)  is the only way. See <a href=\"https://en.wikipedia.org/wiki/Charset_detection\" rel=\"nofollow noreferrer\"><i>Charset detection</i></a> in Wikipedia."}],"owner":{"account_id":8872127,"reputation":173,"user_id":6625547,"display_name":"user6625547"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1698244814,"creation_date":1698244814,"question_id":77360503,"body_markdown":"i try to create a file with a specific encoding:\r\n\r\n    File fi_export = new File(file_export_name);\r\n    OutputStream os = new FileOutputStream(fi_export);\r\n    PrintWriter writer = new PrintWriter(new OutputStreamWriter(os, StandardCharsets.ISO_8859_1));\r\n    \t\t\t\t\t\t\r\n    writer.println(&quot;A&quot;);\r\n    writer.close();\r\n    os.close();\r\n    \t\t\t\t\t\t\r\n    String charsetTest = getCharset(fi_export);\r\n    log.println(&quot;&gt; CHARSET TEST &quot;+charsetTest);\r\n\r\nMy getCharset function looks like:\r\n\r\n    private String getCharset(File file) {\r\n    \t\tString charset = &quot;&quot;;\r\n    \t\ttry {\r\n    \t\t\tInputStream is = new FileInputStream(file);\r\n    \t\t\tBufferedInputStream bis = new BufferedInputStream(is);\r\n    \t\t\tCharsetDetector cd = new CharsetDetector();\r\n    \t\t\tcd.setText(bis);\r\n    \t\t\tCharsetMatch cm = cd.detect();\r\n    \t\t\tif (cm != null) {\r\n    \t\t\t   Reader reader = cm.getReader();\r\n    \t\t\t   charset = cm.getName();\r\n    \t\t\t}\r\n    \t\t\tbis.close();\r\n    \t\t\tis.close();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn charset;\r\n    \t}\r\n    \r\nAnd this is my log output:\r\n\r\n    &gt; CHARSET TEST UTF-8\r\n\r\nI specified the OutputStreamWriter with the encoding: ISO_8859_1. But the file was not created in 8859_1. It was detected as UTF-8.\r\n\r\nWhy? I did not find any solution. I am sitting here since 5 hours. Maybe you can help?","title":"How can i create and detect a file with a specific encoding?","body":"<p>i try to create a file with a specific encoding:</p>\n<pre><code>File fi_export = new File(file_export_name);\nOutputStream os = new FileOutputStream(fi_export);\nPrintWriter writer = new PrintWriter(new OutputStreamWriter(os, StandardCharsets.ISO_8859_1));\n                        \nwriter.println(&quot;A&quot;);\nwriter.close();\nos.close();\n                        \nString charsetTest = getCharset(fi_export);\nlog.println(&quot;&gt; CHARSET TEST &quot;+charsetTest);\n</code></pre>\n<p>My getCharset function looks like:</p>\n<pre><code>private String getCharset(File file) {\n        String charset = &quot;&quot;;\n        try {\n            InputStream is = new FileInputStream(file);\n            BufferedInputStream bis = new BufferedInputStream(is);\n            CharsetDetector cd = new CharsetDetector();\n            cd.setText(bis);\n            CharsetMatch cm = cd.detect();\n            if (cm != null) {\n               Reader reader = cm.getReader();\n               charset = cm.getName();\n            }\n            bis.close();\n            is.close();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return charset;\n    }\n</code></pre>\n<p>And this is my log output:</p>\n<pre><code>&gt; CHARSET TEST UTF-8\n</code></pre>\n<p>I specified the OutputStreamWriter with the encoding: ISO_8859_1. But the file was not created in 8859_1. It was detected as UTF-8.</p>\n<p>Why? I did not find any solution. I am sitting here since 5 hours. Maybe you can help?</p>\n"},{"tags":["javascript","java","certificate","playwright","client-certificates"],"owner":{"account_id":6112172,"reputation":134,"user_id":4768241,"display_name":"Amir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698244741,"creation_date":1698231477,"question_id":77358857,"body_markdown":"I want to open a website using Playwright but when I try to navigate I receive the following: \r\n\r\n&gt; This site can’t provide a secure connection.\r\n&gt; Mywebsite.com didn’t accept your login certificate, or one may not have been provided. Try\r\n&gt; contacting the system admin. ERR_BAD_SSL_CLIENT_AUTH_CERT\r\n\r\nThere is a general issue in Playwright - it does not support the client certificate out of the box, there has been an open issue for that ([#1799][1]) for several years. Some people managed to find a workaround for that but in Javascript. I need to find a workaround for that in Java. The route option does not give me the ability to modify complex objects in the Request such as certificate, I tried using the addInitScript method in the browser context with the following but it didn&#39;t work.\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const fs = require(&#39;fs&#39;);\r\n    const cert = fs.readFileSync(&#39;path/to/cert.cert&#39;);\r\n    const key = fs.readFileSync(&#39;path/to/key.key&#39;);\r\n    const passphrase = &#39;certPasswordValue&#39;;\r\n    const certOptions = { key, cert, passphrase };\r\n    const tls = require(&#39;tls&#39;);\r\n    const agent = new tls.Agent(certOptions);\r\n    window.fetch = (url, options) =&gt; {\r\n      options.agent = agent;\r\n      return window.origFetch(url, options);\r\n    };\r\n\r\n\r\n  [1]: https://github.com/microsoft/playwright/issues/1799","title":"Playwright - Select Certificate in Java","body":"<p>I want to open a website using Playwright but when I try to navigate I receive the following:</p>\n<blockquote>\n<p>This site can’t provide a secure connection.\nMywebsite.com didn’t accept your login certificate, or one may not have been provided. Try\ncontacting the system admin. ERR_BAD_SSL_CLIENT_AUTH_CERT</p>\n</blockquote>\n<p>There is a general issue in Playwright - it does not support the client certificate out of the box, there has been an open issue for that (<a href=\"https://github.com/microsoft/playwright/issues/1799\" rel=\"nofollow noreferrer\">#1799</a>) for several years. Some people managed to find a workaround for that but in Javascript. I need to find a workaround for that in Java. The route option does not give me the ability to modify complex objects in the Request such as certificate, I tried using the addInitScript method in the browser context with the following but it didn't work.</p>\n<pre class=\"lang-js prettyprint-override\"><code>const fs = require('fs');\nconst cert = fs.readFileSync('path/to/cert.cert');\nconst key = fs.readFileSync('path/to/key.key');\nconst passphrase = 'certPasswordValue';\nconst certOptions = { key, cert, passphrase };\nconst tls = require('tls');\nconst agent = new tls.Agent(certOptions);\nwindow.fetch = (url, options) =&gt; {\n  options.agent = agent;\n  return window.origFetch(url, options);\n};\n</code></pre>\n"},{"tags":["java","bash","macos","privileges"],"comments":[{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":3,"creation_date":1698165539,"post_id":77353858,"comment_id":136369562,"body_markdown":"Why would you run `ls` as a subprocess and need to interpret its stderr to get the details of what went wrong in presence of a nonzero exit status, rather than try to perform the filesystem operation direct from the JVM and get an exception to inform you of the same failure?","body":"Why would you run <code>ls</code> as a subprocess and need to interpret its stderr to get the details of what went wrong in presence of a nonzero exit status, rather than try to perform the filesystem operation direct from the JVM and get an exception to inform you of the same failure?"},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1698165618,"post_id":77353858,"comment_id":136369574,"body_markdown":"Anyhow -- do you really need the app  to make the request itself, or will instructions to grant the access from System Settings do for your purposes?","body":"Anyhow -- do you really need the app  to make the request itself, or will instructions to grant the access from System Settings do for your purposes?"}],"answers":[{"comments":[{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1698175072,"post_id":77354285,"comment_id":136371199,"body_markdown":"The OP doesn&#39;t need administrator privileges -- just the user&#39;s regular permissions to the directory at hand.","body":"The OP doesn&#39;t need administrator privileges -- just the user&#39;s regular permissions to the directory at hand."},{"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"score":0,"creation_date":1698175652,"post_id":77354285,"comment_id":136371287,"body_markdown":"thnx @CharlesDuffy, while administrator privileges are not necessary in this case, the user still needs to grant the necessary permissions for the application to access the restricted folder, it can be done by using the `osascript` command and the `do shell script` option with the appropriate permissions!","body":"thnx @CharlesDuffy, while administrator privileges are not necessary in this case, the user still needs to grant the necessary permissions for the application to access the restricted folder, it can be done by using the <code>osascript</code> command and the <code>do shell script</code> option with the appropriate permissions!"},{"owner":{"account_id":1044626,"reputation":1013,"user_id":1049899,"accept_rate":50,"display_name":"zjor"},"score":0,"creation_date":1698178566,"post_id":77354285,"comment_id":136371790,"body_markdown":"Thanks for your reply @Freeman, but I still get an error:\n\n```\n0:86: execution error: ls: /Users/zjor/Library/Application Support/MobileSync/Backup: Operation not permitted (1)\n```\n\ndoes your snippet above work for you?","body":"Thanks for your reply @Freeman, but I still get an error:  ``` 0:86: execution error: ls: /Users/zjor/Library/Application Support/MobileSync/Backup: Operation not permitted (1) ```  does your snippet above work for you?"},{"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"score":0,"creation_date":1698178843,"post_id":77354285,"comment_id":136371833,"body_markdown":"@zjor so you can use the `Files` class from the `java.nio.file` package, I will update my answer !","body":"@zjor so you can use the <code>Files</code> class from the <code>java.nio.file</code> package, I will update my answer !"},{"owner":{"account_id":1044626,"reputation":1013,"user_id":1049899,"accept_rate":50,"display_name":"zjor"},"score":0,"creation_date":1698232909,"post_id":77354285,"comment_id":136378383,"body_markdown":"@Freeman thanks for your updates. But still getting an error:\n\njava.nio.file.FileSystemException: /Users/zjor/Library/Application Support/MobileSync/Backup: Operation not permitted\n\tat java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:100)\n\nI have Mac OS: Sonoma 14","body":"@Freeman thanks for your updates. But still getting an error:  java.nio.file.FileSystemException: /Users/zjor/Library/Application Support/MobileSync/Backup: Operation not permitted \tat java.base/sun.nio.fs.UnixException.translateToIOException(Un&zwnj;&#8203;ixException.java:100&zwnj;&#8203;)  I have Mac OS: Sonoma 14"},{"owner":{"account_id":1044626,"reputation":1013,"user_id":1049899,"accept_rate":50,"display_name":"zjor"},"score":0,"creation_date":1698233047,"post_id":77354285,"comment_id":136378416,"body_markdown":"@Freeman I even tried to invoke a python scripts with performs &quot;ls&quot; command on that folder, if called in the terminal it works well, but when called from Java, I get &quot;Operation not permitted&quot;. Looks like Java itself should request a permission to access certain folders.","body":"@Freeman I even tried to invoke a python scripts with performs &quot;ls&quot; command on that folder, if called in the terminal it works well, but when called from Java, I get &quot;Operation not permitted&quot;. Looks like Java itself should request a permission to access certain folders."}],"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"comment_count":6,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1698179055,"creation_date":1698169221,"answer_id":77354285,"question_id":77353858,"body_markdown":"to access restricted folders on Mac OS, you can also use the `Files` class from the `java.nio.file` package and you can use `Files.list()` method to list the contents of the specified directory,so if the directory is restricted, it will throw an `IOException`!\r\n\r\n\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            var home = System.getProperty(&quot;user.home&quot;);\r\n            var location = home + &quot;/Library/Application Support/MobileSync/Backup&quot;;\r\n            var path = Paths.get(location);\r\n    \r\n            try {\r\n                Files.list(path)\r\n                        .forEach(System.out::println);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }","title":"How to list restricted folders on Mac OS with Java?","body":"<p>to access restricted folders on Mac OS, you can also use the <code>Files</code> class from the <code>java.nio.file</code> package and you can use <code>Files.list()</code> method to list the contents of the specified directory,so if the directory is restricted, it will throw an <code>IOException</code>!</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        var home = System.getProperty(&quot;user.home&quot;);\n        var location = home + &quot;/Library/Application Support/MobileSync/Backup&quot;;\n        var path = Paths.get(location);\n\n        try {\n            Files.list(path)\n                    .forEach(System.out::println);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1044626,"reputation":1013,"user_id":1049899,"accept_rate":50,"display_name":"zjor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698244569,"creation_date":1698244569,"answer_id":77360466,"question_id":77353858,"body_markdown":"So far, I ended up opening `System Settings &gt; Privacy &amp; Security &gt; Full Disk Access` dialog and adding my IDE or a bundled app there.\r\nThe snippet below shows how to open the dialog:\r\n```java\r\n...\r\nDesktop.getDesktop().browse(URI.create(&quot;x-apple.systempreferences:com.apple.preference.security?Privacy_AllFiles&quot;));\r\n...\r\n\r\n```","title":"How to list restricted folders on Mac OS with Java?","body":"<p>So far, I ended up opening <code>System Settings &gt; Privacy &amp; Security &gt; Full Disk Access</code> dialog and adding my IDE or a bundled app there.\nThe snippet below shows how to open the dialog:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\nDesktop.getDesktop().browse(URI.create(&quot;x-apple.systempreferences:com.apple.preference.security?Privacy_AllFiles&quot;));\n...\n\n</code></pre>\n"}],"owner":{"account_id":1044626,"reputation":1013,"user_id":1049899,"accept_rate":50,"display_name":"zjor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698244569,"creation_date":1698164825,"question_id":77353858,"body_markdown":"I&#39;m trying to run this snippet:\r\n\r\n```java\r\nimport org.apache.commons.io.IOUtils;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n        var home = System.getProperty(&quot;user.home&quot;);\r\n        var location = home + &quot;/Library/Application Support/MobileSync/Backup&quot;;\r\n        var pb = new ProcessBuilder(&quot;ls&quot;, &quot;-al&quot;, location);\r\n        var p = pb.start();\r\n        System.out.println(p.waitFor());\r\n        IOUtils.copy(p.getInputStream(), System.out);\r\n        IOUtils.copy(p.getErrorStream(), System.err);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIt should list a folder where iPhone&#39;s backups are stored. I&#39;m getting the following output:\r\n```bash\r\n1 # exit code\r\ntotal 0\r\nls: /Users/zjor/Library/Application Support/MobileSync/Backup: Operation not permitted\r\n```\r\n\r\nHowever, if I run the following command in the terminal under the same user it works well:\r\n```bash\r\nls -al &quot;/Users/zjor/Library/Application Support/MobileSync/Backup&quot;\r\ntotal 0\r\ndrwxr-xr-x    3 zjor  staff    96 Oct 23 15:01 .\r\ndrwxr-xr-x    3 zjor  staff    96 Jan 17  2023 ..\r\ndrwxr-xr-x@ 262 zjor  staff  8384 Oct 23 14:55 00003101-123456780CC3XXXX\r\n```\r\n\r\nAs far as I understand, the app should request special permissions to access some folders. But how to do it?\r\n\r\nAny advice is appreciated.","title":"How to list restricted folders on Mac OS with Java?","body":"<p>I'm trying to run this snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.io.IOUtils;\n\nimport java.io.IOException;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException, InterruptedException {\n        var home = System.getProperty(&quot;user.home&quot;);\n        var location = home + &quot;/Library/Application Support/MobileSync/Backup&quot;;\n        var pb = new ProcessBuilder(&quot;ls&quot;, &quot;-al&quot;, location);\n        var p = pb.start();\n        System.out.println(p.waitFor());\n        IOUtils.copy(p.getInputStream(), System.out);\n        IOUtils.copy(p.getErrorStream(), System.err);\n    }\n\n}\n</code></pre>\n<p>It should list a folder where iPhone's backups are stored. I'm getting the following output:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>1 # exit code\ntotal 0\nls: /Users/zjor/Library/Application Support/MobileSync/Backup: Operation not permitted\n</code></pre>\n<p>However, if I run the following command in the terminal under the same user it works well:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>ls -al &quot;/Users/zjor/Library/Application Support/MobileSync/Backup&quot;\ntotal 0\ndrwxr-xr-x    3 zjor  staff    96 Oct 23 15:01 .\ndrwxr-xr-x    3 zjor  staff    96 Jan 17  2023 ..\ndrwxr-xr-x@ 262 zjor  staff  8384 Oct 23 14:55 00003101-123456780CC3XXXX\n</code></pre>\n<p>As far as I understand, the app should request special permissions to access some folders. But how to do it?</p>\n<p>Any advice is appreciated.</p>\n"},{"tags":["java","keystore","jks"],"answers":[{"tags":[],"owner":{"account_id":21418897,"reputation":117,"user_id":15777628,"display_name":"Sagnik Chatterjee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653331234,"creation_date":1653331234,"answer_id":72353416,"question_id":72353415,"body_markdown":"At file location, need to give following command in cmd prompt window:\r\n\r\n    keytool -export -rfc -keystore {file-location}\\filename.jks -alias filename -file {file-location}\\filename.cer\r\n\r\nAnd the new formatter file will be generated at the specified (same) location","title":"Convert java keystore (.jks format) file to public format (.pem / .cer) file type","body":"<p>At file location, need to give following command in cmd prompt window:</p>\n<pre><code>keytool -export -rfc -keystore {file-location}\\filename.jks -alias filename -file {file-location}\\filename.cer\n</code></pre>\n<p>And the new formatter file will be generated at the specified (same) location</p>\n"},{"tags":[],"owner":{"account_id":8468456,"reputation":11,"user_id":6351935,"display_name":"S.K.S."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698244402,"creation_date":1698157321,"answer_id":77352941,"question_id":72353415,"body_markdown":"**Extract .jks file into a text file :**\r\n\r\n    keytool -list -v -keystore {key_file}.jks &gt; {opened_key}.txt\r\n\r\n**Pull .cer file out of .jks file:**\r\n\r\n    keytool -export -rfc -keystore {key_file}.jks -alias {alias_name_to_extract} -file {alias_name}.cer\r\n\r\n**List certificate in .kdb file.**\r\n\r\n    runmqckm -cert -list -db {key_file}.kdb\r\n\r\n","title":"Convert java keystore (.jks format) file to public format (.pem / .cer) file type","body":"<p><strong>Extract .jks file into a text file :</strong></p>\n<pre><code>keytool -list -v -keystore {key_file}.jks &gt; {opened_key}.txt\n</code></pre>\n<p><strong>Pull .cer file out of .jks file:</strong></p>\n<pre><code>keytool -export -rfc -keystore {key_file}.jks -alias {alias_name_to_extract} -file {alias_name}.cer\n</code></pre>\n<p><strong>List certificate in .kdb file.</strong></p>\n<pre><code>runmqckm -cert -list -db {key_file}.kdb\n</code></pre>\n"}],"owner":{"account_id":21418897,"reputation":117,"user_id":15777628,"display_name":"Sagnik Chatterjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698244402,"creation_date":1653331234,"question_id":72353415,"body_markdown":"Require command to convert .jks file type to .cer/.pem file type","title":"Convert java keystore (.jks format) file to public format (.pem / .cer) file type","body":"<p>Require command to convert .jks file type to .cer/.pem file type</p>\n"},{"tags":["java","httpclient","connection-pooling"],"owner":{"account_id":27735742,"reputation":11,"user_id":21173377,"display_name":"Tomas Sexenian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698244252,"creation_date":1698244252,"question_id":77360430,"body_markdown":"I&#39;m implementing a Java class that extends PoolingHttpClientConnectionManager and every time the methods closeExpiredConnections and closeIdleConnections are executed I need to know which connections are being closed so I can notify an obvserver class with this information.\r\n\r\nThis is the code I have at the moment:\r\n\r\n    @Override\r\n    \tpublic void closeExpiredConnections() {\r\n    \t\tSet&lt;HttpRoute&gt; closedRoutes = new HashSet&lt;&gt;();\r\n    \r\n    \t\t// Enumerate over all connections and collect routes of the expired ones\r\n    \t\tsuper.enumAvailable(entry -&gt; {\r\n    \t\t\tif (entry.isExpired(System.currentTimeMillis())) {\r\n    \t\t\t\tclosedRoutes.add(entry.getRoute());\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\t// Close the expired connections\r\n    \t\tsuper.closeExpiredConnections();\r\n    \r\n    \t\t// Notify for each closed connection\r\n    \t\tfor (HttpRoute route : closedRoutes) {\r\n    \t\t\tnotifyConnectionDestroyed(route);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void closeIdleConnections(long idletime, TimeUnit tunit) {\r\n    \t\tSet&lt;HttpRoute&gt; closedRoutes = new HashSet&lt;&gt;();\r\n    \t\tlong idleTimeoutMillis = tunit.toMillis(idletime);\r\n    \r\n    \t\t// Enumerate over all connections and collect routes of the idle ones\r\n    \t\tsuper.enumAvailable(entry -&gt; {\r\n    \t\t\tif (entry.getUpdated() + idleTimeoutMillis &lt; System.currentTimeMillis()) {\r\n    \t\t\t\tclosedRoutes.add(entry.getRoute());\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\t// Close the idle connections\r\n    \t\tsuper.closeIdleConnections(idletime, tunit);\r\n    \r\n    \t\t// Notify for each closed connection\r\n    \t\tfor (HttpRoute route : closedRoutes) {\r\n    \t\t\tnotifyConnectionDestroyed(route);\r\n    \t\t}\r\n    \t}\r\n\r\nBut it is not working. Every time the loop `for (HttpRoute route : closedRoutes)` is executed, closedRoutes is empty even when I know that it should have at least one HttpRoute in it.","title":"How to know which connection is PoolingHttpClientConnectionManager closing?","body":"<p>I'm implementing a Java class that extends PoolingHttpClientConnectionManager and every time the methods closeExpiredConnections and closeIdleConnections are executed I need to know which connections are being closed so I can notify an obvserver class with this information.</p>\n<p>This is the code I have at the moment:</p>\n<pre><code>@Override\n    public void closeExpiredConnections() {\n        Set&lt;HttpRoute&gt; closedRoutes = new HashSet&lt;&gt;();\n\n        // Enumerate over all connections and collect routes of the expired ones\n        super.enumAvailable(entry -&gt; {\n            if (entry.isExpired(System.currentTimeMillis())) {\n                closedRoutes.add(entry.getRoute());\n            }\n        });\n\n        // Close the expired connections\n        super.closeExpiredConnections();\n\n        // Notify for each closed connection\n        for (HttpRoute route : closedRoutes) {\n            notifyConnectionDestroyed(route);\n        }\n    }\n\n    @Override\n    public void closeIdleConnections(long idletime, TimeUnit tunit) {\n        Set&lt;HttpRoute&gt; closedRoutes = new HashSet&lt;&gt;();\n        long idleTimeoutMillis = tunit.toMillis(idletime);\n\n        // Enumerate over all connections and collect routes of the idle ones\n        super.enumAvailable(entry -&gt; {\n            if (entry.getUpdated() + idleTimeoutMillis &lt; System.currentTimeMillis()) {\n                closedRoutes.add(entry.getRoute());\n            }\n        });\n\n        // Close the idle connections\n        super.closeIdleConnections(idletime, tunit);\n\n        // Notify for each closed connection\n        for (HttpRoute route : closedRoutes) {\n            notifyConnectionDestroyed(route);\n        }\n    }\n</code></pre>\n<p>But it is not working. Every time the loop <code>for (HttpRoute route : closedRoutes)</code> is executed, closedRoutes is empty even when I know that it should have at least one HttpRoute in it.</p>\n"},{"tags":["java","android","date","calendar","timespan"],"comments":[{"owner":{"account_id":1877079,"reputation":6407,"user_id":1698073,"display_name":"jalynn2"},"score":4,"creation_date":1374058792,"post_id":17697908,"comment_id":25787665,"body_markdown":"How can this ever be true without considering a date? If a time is greater than 20:11:13, if cannot possibly be less than 14:49:00.","body":"How can this ever be true without considering a date? If a time is greater than 20:11:13, if cannot possibly be less than 14:49:00."},{"owner":{"account_id":1672317,"reputation":23196,"user_id":1538553,"accept_rate":59,"display_name":"sjain"},"score":0,"creation_date":1374059062,"post_id":17697908,"comment_id":25787826,"body_markdown":"@jalynn2 - Sorry for not being clear. Actually, `01:00:00` is greater than `20:11:13` and less than `14:49:00` considering `20:11:13` is always less than `14:49:00`. This is given prerequisite.","body":"@jalynn2 - Sorry for not being clear. Actually, <code>01:00:00</code> is greater than <code>20:11:13</code> and less than <code>14:49:00</code> considering <code>20:11:13</code> is always less than <code>14:49:00</code>. This is given prerequisite."},{"owner":{"account_id":1877079,"reputation":6407,"user_id":1698073,"display_name":"jalynn2"},"score":2,"creation_date":1374060933,"post_id":17697908,"comment_id":25788973,"body_markdown":"If you are giving the format HH:MM:SS, then `01:00:00` is not greater then `20:11:13` on the same day, and `20:11:13` is never less than `14:49:00`. If you are trying to determine if the time is between `20:11:13` on one day and `14:49:00` on the next day, then you will need to introduce a date into your comparisons.","body":"If you are giving the format HH:MM:SS, then <code>01:00:00</code> is not greater then <code>20:11:13</code> on the same day, and <code>20:11:13</code> is never less than <code>14:49:00</code>. If you are trying to determine if the time is between <code>20:11:13</code> on one day and <code>14:49:00</code> on the next day, then you will need to introduce a date into your comparisons."},{"owner":{"account_id":1672317,"reputation":23196,"user_id":1538553,"accept_rate":59,"display_name":"sjain"},"score":0,"creation_date":1374062111,"post_id":17697908,"comment_id":25789669,"body_markdown":"Isn&#39;t it possible without considering the dates because `20:11:13` is always less than `14:49:00` ?","body":"Isn&#39;t it possible without considering the dates because <code>20:11:13</code> is always less than <code>14:49:00</code> ?"},{"owner":{"account_id":1877079,"reputation":6407,"user_id":1698073,"display_name":"jalynn2"},"score":4,"creation_date":1374062232,"post_id":17697908,"comment_id":25789750,"body_markdown":"20 &gt; 14, is it not? so `20:11:13` is greater than `14:49:00`. &quot;11 minutes before 3 in the afternoon&quot; is not later than &quot;11 minutes after 8 in the evening&quot; on the same day. What am I missing?","body":"20 &gt; 14, is it not? so <code>20:11:13</code> is greater than <code>14:49:00</code>. &quot;11 minutes before 3 in the afternoon&quot; is not later than &quot;11 minutes after 8 in the evening&quot; on the same day. What am I missing?"},{"owner":{"account_id":2217961,"reputation":485,"user_id":1958122,"accept_rate":33,"display_name":"MollyCat"},"score":0,"creation_date":1374064101,"post_id":17697908,"comment_id":25790909,"body_markdown":"I think I get it...  if the compare is 20h to 21h then 21:30 fails..  if its 20h 19:59 then all times would pass..","body":"I think I get it...  if the compare is 20h to 21h then 21:30 fails..  if its 20h 19:59 then all times would pass.."},{"owner":{"account_id":2217961,"reputation":485,"user_id":1958122,"accept_rate":33,"display_name":"MollyCat"},"score":0,"creation_date":1374065531,"post_id":17697908,"comment_id":25791847,"body_markdown":"my answer is so much easier.  and I suspect it runs heaps faster.   I don&#39;t mean to be cocky, but take a look.","body":"my answer is so much easier.  and I suspect it runs heaps faster.   I don&#39;t mean to be cocky, but take a look."},{"owner":{"account_id":897319,"reputation":669,"user_id":934297,"display_name":"Harun"},"score":0,"creation_date":1647920309,"post_id":17697908,"comment_id":126486858,"body_markdown":"You should reduce 20 by 24 first: 20-24 = -4, then it will be the correct comparison:\n-4 &lt; 1 &lt; 14 or -4 &lt; 5 &lt; 14","body":"You should reduce 20 by 24 first: 20-24 = -4, then it will be the correct comparison: -4 &lt; 1 &lt; 14 or -4 &lt; 5 &lt; 14"}],"answers":[{"comments":[{"owner":{"account_id":1672317,"reputation":23196,"user_id":1538553,"accept_rate":59,"display_name":"sjain"},"score":0,"creation_date":1374059225,"post_id":17698079,"comment_id":25787934,"body_markdown":"Wonderful. I will try and let you know.","body":"Wonderful. I will try and let you know."},{"owner":{"account_id":1672317,"reputation":23196,"user_id":1538553,"accept_rate":59,"display_name":"sjain"},"score":0,"creation_date":1374060953,"post_id":17698079,"comment_id":25788985,"body_markdown":"Your code checks if the current time is between `20:11:13` and `14:49:00`. What I want is to check if `01:00:00` is between `20:11:13` and `14:49:00`.","body":"Your code checks if the current time is between <code>20:11:13</code> and <code>14:49:00</code>. What I want is to check if <code>01:00:00</code> is between <code>20:11:13</code> and <code>14:49:00</code>."},{"owner":{"account_id":1672317,"reputation":23196,"user_id":1538553,"accept_rate":59,"display_name":"sjain"},"score":0,"creation_date":1374061777,"post_id":17698079,"comment_id":25789480,"body_markdown":"Actually, `01:00:00` is greater than `20:11:13` and less than `14:49:00` considering `20:11:13` is always less than `14:49:00`. This is given prerequisite. So what I want is, `20:11:13 &lt; 01:00:00 &lt; 14:49:00`. Your code is considering the same day and so not working.","body":"Actually, <code>01:00:00</code> is greater than <code>20:11:13</code> and less than <code>14:49:00</code> considering <code>20:11:13</code> is always less than <code>14:49:00</code>. This is given prerequisite. So what I want is, <code>20:11:13 &lt; 01:00:00 &lt; 14:49:00</code>. Your code is considering the same day and so not working."},{"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"score":2,"creation_date":1374061857,"post_id":17698079,"comment_id":25789518,"body_markdown":"Then you will have to mark somewhere that those times are not in the same day !","body":"Then you will have to mark somewhere that those times are not in the same day !"},{"owner":{"account_id":1877079,"reputation":6407,"user_id":1698073,"display_name":"jalynn2"},"score":1,"creation_date":1374062471,"post_id":17698079,"comment_id":25789916,"body_markdown":"Unless the time you are checking is `23:00:00`. You need to have a date associated, or you need to check that the time is between `20:11:13` and `24:00:00` or between `00:00:00` and `14:49:00`","body":"Unless the time you are checking is <code>23:00:00</code>. You need to have a date associated, or you need to check that the time is between <code>20:11:13</code> and <code>24:00:00</code> or between <code>00:00:00</code> and <code>14:49:00</code>"},{"owner":{"account_id":1672317,"reputation":23196,"user_id":1538553,"accept_rate":59,"display_name":"sjain"},"score":0,"creation_date":1374062996,"post_id":17698079,"comment_id":25790258,"body_markdown":"Ok that&#39;s working fine. But one question is: Can&#39;t we check that if time is less than 00:00:00, only then do `calendar2.add(Calendar.DATE, 1);` else not ?","body":"Ok that&#39;s working fine. But one question is: Can&#39;t we check that if time is less than 00:00:00, only then do <code>calendar2.add(Calendar.DATE, 1);</code> else not ?"},{"owner":{"account_id":1672317,"reputation":23196,"user_id":1538553,"accept_rate":59,"display_name":"sjain"},"score":1,"creation_date":1374064290,"post_id":17698079,"comment_id":25791023,"body_markdown":"I did that remaining comparison too using `Date currentTime = new SimpleDateFormat(&quot;HH:mm:ss&quot;).parse(&quot;00:00:00&quot;);\n\t\t\t    Calendar calendar = Calendar.getInstance();\n\t\t\t    calendar.setTime(currentTime);\n\t\t\t    calendar.add(Calendar.DATE, 1);`. Let me   check out complete.","body":"I did that remaining comparison too using <code>Date currentTime = new SimpleDateFormat(&quot;HH:mm:ss&quot;).parse(&quot;00:00:00&quot;); \t\t\t    Calendar calendar = Calendar.getInstance(); \t\t\t    calendar.setTime(currentTime); \t\t\t    calendar.add(Calendar.DATE, 1);</code>. Let me   check out complete."},{"owner":{"account_id":2865159,"reputation":1536,"user_id":2459623,"accept_rate":56,"display_name":"ABI"},"score":0,"creation_date":1456222931,"post_id":17698079,"comment_id":58836290,"body_markdown":"What s the purpose of these lines &quot;calendar2.add(Calendar.DATE, 1);&quot;  and &quot; calendar3.add(Calendar.DATE, 1); &quot; ?","body":"What s the purpose of these lines &quot;calendar2.add(Calendar.DATE, 1);&quot;  and &quot; calendar3.add(Calendar.DATE, 1); &quot; ?"},{"owner":{"account_id":7222312,"reputation":1479,"user_id":5512274,"accept_rate":75,"display_name":"Narayan Acharya"},"score":3,"creation_date":1469734126,"post_id":17698079,"comment_id":64673192,"body_markdown":"This probably gives the wrong answer if someRandomTime lies between string1 and &quot;00:00:00&quot;. Please correct me if I&#39;m wrong.","body":"This probably gives the wrong answer if someRandomTime lies between string1 and &quot;00:00:00&quot;. Please correct me if I&#39;m wrong."},{"owner":{"account_id":1958727,"reputation":1,"user_id":1761003,"accept_rate":82,"display_name":"Maveňツ"},"score":1,"creation_date":1487830337,"post_id":17698079,"comment_id":71963127,"body_markdown":"What if I want to compare two time stamp of format `MM/dd/yyyy HH:mm:ss`","body":"What if I want to compare two time stamp of format <code>MM&#47;dd&#47;yyyy HH:mm:ss</code>"},{"owner":{"account_id":7405824,"reputation":2593,"user_id":5634798,"display_name":"Gundu Bandgar"},"score":2,"creation_date":1505035592,"post_id":17698079,"comment_id":79240155,"body_markdown":"its showing 11:44 is inbetween 19:28 to 23:59 ... any solution for that.","body":"its showing 11:44 is inbetween 19:28 to 23:59 ... any solution for that."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1523990376,"post_id":17698079,"comment_id":86786563,"body_markdown":"FYI, the troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."},{"owner":{"account_id":10155417,"reputation":1130,"user_id":7500651,"accept_rate":60,"display_name":"ansh sachdeva"},"score":0,"creation_date":1566244726,"post_id":17698079,"comment_id":101588040,"body_markdown":"why are there 4 dates, can you explain? I get that 1st date is associated with start time, second with the end time, third with some random time that we want to check, but why is there a 4th date which you say `checkes whether the current time..` I want to check time  that is manually passed as param. is it checking current time of the day, or will it check manually passed timeString?","body":"why are there 4 dates, can you explain? I get that 1st date is associated with start time, second with the end time, third with some random time that we want to check, but why is there a 4th date which you say <code>checkes whether the current time..</code> I want to check time  that is manually passed as param. is it checking current time of the day, or will it check manually passed timeString?"},{"owner":{"account_id":15442690,"reputation":1740,"user_id":11140751,"display_name":"Dharmik Thakkar"},"score":0,"creation_date":1588075456,"post_id":17698079,"comment_id":108754805,"body_markdown":"It only works for same-day intervals. Will not work in interval like 11:00 PM to 08:00 AM","body":"It only works for same-day intervals. Will not work in interval like 11:00 PM to 08:00 AM"},{"owner":{"account_id":4489693,"reputation":399,"user_id":3651090,"accept_rate":50,"display_name":"donmj"},"score":0,"creation_date":1621356465,"post_id":17698079,"comment_id":119469565,"body_markdown":"It doesn&#39;t work for 6:00 PM to 8:00 AM and current time is 5:00 AM","body":"It doesn&#39;t work for 6:00 PM to 8:00 AM and current time is 5:00 AM"},{"owner":{"account_id":3849952,"reputation":349,"user_id":3190368,"accept_rate":81,"display_name":"Abhinav Raja"},"score":0,"creation_date":1659746791,"post_id":17698079,"comment_id":129375387,"body_markdown":"Then just change the second time to (Calendar.DATE, 2)","body":"Then just change the second time to (Calendar.DATE, 2)"}],"tags":[],"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"comment_count":16,"down_vote_count":3,"up_vote_count":72,"is_accepted":true,"score":69,"last_activity_date":1566371124,"creation_date":1374058936,"answer_id":17698079,"question_id":17697908,"body_markdown":"You can use the `Calendar` class in order to check.\r\n\r\nFor example:\r\n\r\n    try {\r\n        String string1 = &quot;20:11:13&quot;;\r\n        Date time1 = new SimpleDateFormat(&quot;HH:mm:ss&quot;).parse(string1);\r\n        Calendar calendar1 = Calendar.getInstance();\r\n        calendar1.setTime(time1);\r\n        calendar1.add(Calendar.DATE, 1);\r\n\r\n\r\n        String string2 = &quot;14:49:00&quot;;\r\n        Date time2 = new SimpleDateFormat(&quot;HH:mm:ss&quot;).parse(string2);\r\n        Calendar calendar2 = Calendar.getInstance();\r\n        calendar2.setTime(time2);\r\n        calendar2.add(Calendar.DATE, 1);\r\n        \r\n        String someRandomTime = &quot;01:00:00&quot;;\r\n        Date d = new SimpleDateFormat(&quot;HH:mm:ss&quot;).parse(someRandomTime);\r\n        Calendar calendar3 = Calendar.getInstance();\r\n        calendar3.setTime(d);\r\n        calendar3.add(Calendar.DATE, 1);\r\n        \r\n        Date x = calendar3.getTime();\r\n        if (x.after(calendar1.getTime()) &amp;&amp; x.before(calendar2.getTime())) {\r\n            //checkes whether the current time is between 14:49:00 and 20:11:13.\r\n            System.out.println(true);\r\n        }\r\n    } catch (ParseException e) {\r\n        e.printStackTrace();\r\n    }\r\n","title":"Check if a given time lies between two times regardless of date","body":"<p>You can use the <code>Calendar</code> class in order to check.</p>\n\n<p>For example:</p>\n\n<pre><code>try {\n    String string1 = \"20:11:13\";\n    Date time1 = new SimpleDateFormat(\"HH:mm:ss\").parse(string1);\n    Calendar calendar1 = Calendar.getInstance();\n    calendar1.setTime(time1);\n    calendar1.add(Calendar.DATE, 1);\n\n\n    String string2 = \"14:49:00\";\n    Date time2 = new SimpleDateFormat(\"HH:mm:ss\").parse(string2);\n    Calendar calendar2 = Calendar.getInstance();\n    calendar2.setTime(time2);\n    calendar2.add(Calendar.DATE, 1);\n\n    String someRandomTime = \"01:00:00\";\n    Date d = new SimpleDateFormat(\"HH:mm:ss\").parse(someRandomTime);\n    Calendar calendar3 = Calendar.getInstance();\n    calendar3.setTime(d);\n    calendar3.add(Calendar.DATE, 1);\n\n    Date x = calendar3.getTime();\n    if (x.after(calendar1.getTime()) &amp;&amp; x.before(calendar2.getTime())) {\n        //checkes whether the current time is between 14:49:00 and 20:11:13.\n        System.out.println(true);\n    }\n} catch (ParseException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2217961,"reputation":485,"user_id":1958122,"accept_rate":33,"display_name":"MollyCat"},"comment_count":0,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1521129983,"creation_date":1374065150,"answer_id":17700134,"question_id":17697908,"body_markdown":"sorry for the sudo code..I&#39;m on a phone. ;)\r\n\r\n    between = (time &lt; string2 &amp;&amp; time &gt; string1);\r\n    if (string1 &gt; string2)  between = !between;\r\n\r\nif they are timestamps or strings this works.  just change the variable names to match","title":"Check if a given time lies between two times regardless of date","body":"<p>sorry for the sudo code..I'm on a phone. ;)</p>\n\n<pre><code>between = (time &lt; string2 &amp;&amp; time &gt; string1);\nif (string1 &gt; string2)  between = !between;\n</code></pre>\n\n<p>if they are timestamps or strings this works.  just change the variable names to match</p>\n"},{"tags":[],"owner":{"account_id":1672317,"reputation":23196,"user_id":1538553,"accept_rate":59,"display_name":"sjain"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1374065809,"creation_date":1374065268,"answer_id":17700175,"question_id":17697908,"body_markdown":"As with the help of @kocko, the complete working code is as below:\r\n\r\n    try{\r\n    Date time11 = new SimpleDateFormat(&quot;HH:mm:ss&quot;).parse(&quot;20:11:13&quot;);\r\n    Calendar calendar1 = Calendar.getInstance();\r\n    calendar1.setTime(time11);\r\n    \r\n    Date time22 = new SimpleDateFormat(&quot;HH:mm:ss&quot;).parse(&quot;14:49:00&quot;);\r\n    Calendar calendar2 = Calendar.getInstance();\r\n    calendar2.setTime(time22);\r\n    \r\n    Date currentTime = new SimpleDateFormat(&quot;HH:mm:ss&quot;).parse(&quot;00:00:00&quot;);\r\n    Calendar startingCalendar = Calendar.getInstance();\r\n    startingCalendar.setTime(currentTime);\r\n    startingCalendar.add(Calendar.DATE, 1);\r\n    \r\n    \r\n    \r\n    //let&#39;s say we have to check about 01:00:00\r\n    String someRandomTime = time1;\r\n    Date d = new SimpleDateFormat(&quot;HH:mm:ss&quot;).parse(someRandomTime);\r\n    Calendar calendar3 = Calendar.getInstance();\r\n    calendar3.setTime(d);\r\n    \r\n    if(startingCalendar.getTime().after(calendar1.getTime()))\r\n    {\r\n    calendar2.add(Calendar.DATE, 1);\r\n          \r\n        calendar3.add(Calendar.DATE, 1);\r\n    }\r\n    \r\n    Date x = calendar3.getTime();\r\n    \r\n    if (x.after(calendar1.getTime()) &amp;&amp; x.before(calendar2.getTime())) \r\n    {\r\n    System.out.println(&quot;Time is in between..&quot;);\r\n    }\r\n    else\r\n    {\r\n    System.out.println(&quot;Time is not in between..&quot;);\r\n    }\r\n    \r\n    } catch (ParseException e) \r\n    {\r\n    e.printStackTrace();\r\n    }","title":"Check if a given time lies between two times regardless of date","body":"<p>As with the help of @kocko, the complete working code is as below:</p>\n\n<pre><code>try{\nDate time11 = new SimpleDateFormat(\"HH:mm:ss\").parse(\"20:11:13\");\nCalendar calendar1 = Calendar.getInstance();\ncalendar1.setTime(time11);\n\nDate time22 = new SimpleDateFormat(\"HH:mm:ss\").parse(\"14:49:00\");\nCalendar calendar2 = Calendar.getInstance();\ncalendar2.setTime(time22);\n\nDate currentTime = new SimpleDateFormat(\"HH:mm:ss\").parse(\"00:00:00\");\nCalendar startingCalendar = Calendar.getInstance();\nstartingCalendar.setTime(currentTime);\nstartingCalendar.add(Calendar.DATE, 1);\n\n\n\n//let's say we have to check about 01:00:00\nString someRandomTime = time1;\nDate d = new SimpleDateFormat(\"HH:mm:ss\").parse(someRandomTime);\nCalendar calendar3 = Calendar.getInstance();\ncalendar3.setTime(d);\n\nif(startingCalendar.getTime().after(calendar1.getTime()))\n{\ncalendar2.add(Calendar.DATE, 1);\n\n    calendar3.add(Calendar.DATE, 1);\n}\n\nDate x = calendar3.getTime();\n\nif (x.after(calendar1.getTime()) &amp;&amp; x.before(calendar2.getTime())) \n{\nSystem.out.println(\"Time is in between..\");\n}\nelse\n{\nSystem.out.println(\"Time is not in between..\");\n}\n\n} catch (ParseException e) \n{\ne.printStackTrace();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":384858,"reputation":3280,"user_id":741652,"accept_rate":55,"display_name":"krisDrOid"},"score":1,"creation_date":1524166612,"post_id":21746946,"comment_id":86873827,"body_markdown":"The is one of the best and robust answers ever given. I would recommend every one to try this. Earlier I used Calendar object to check current time with after and before methods. The results were confusing, sometimes it was right and some times it was wrong. For example: 7:00 am is not after 7:00 am but using calendar object it was giving the status as true and some times false.","body":"The is one of the best and robust answers ever given. I would recommend every one to try this. Earlier I used Calendar object to check current time with after and before methods. The results were confusing, sometimes it was right and some times it was wrong. For example: 7:00 am is not after 7:00 am but using calendar object it was giving the status as true and some times false."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1554916055,"post_id":21746946,"comment_id":97929086,"body_markdown":"These terrible date-time classes were supplanted years ago by the *java.time* classes with the adoption of JSR 310.","body":"These terrible date-time classes were supplanted years ago by the <i>java.time</i> classes with the adoption of JSR 310."}],"tags":[],"owner":{"account_id":439001,"reputation":1964,"user_id":827632,"display_name":"kalan nawarathne"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1392273361,"creation_date":1392273361,"answer_id":21746946,"question_id":17697908,"body_markdown":"     Calendar now = Calendar.getInstance();\r\n\r\n     int hour = now.get(Calendar.HOUR_OF_DAY); // Get hour in 24 hour format\r\n     int minute = now.get(Calendar.MINUTE);\r\n\r\n     Date date = parseDate(hour + &quot;:&quot; + minute);\r\n     Date dateCompareOne = parseDate(&quot;08:00&quot;);\r\n     Date dateCompareTwo = parseDate(&quot;20:00&quot;);\r\n\r\n     if (dateCompareOne.before( date ) &amp;&amp; dateCompareTwo.after(date)) {\r\n        //your logic\r\n     }\r\n\r\n     private Date parseDate(String date) {\r\n\r\n        final String inputFormat = &quot;HH:mm&quot;;\r\n        SimpleDateFormat inputParser = new SimpleDateFormat(inputFormat, Locale.US);\r\n\t    try {\r\n\t         return inputParser.parse(date);\r\n\t    } catch (java.text.ParseException e) {\r\n\t         return new Date(0);\r\n\t    }\r\n     }\r\n\r\nFurther more, to be more precise,\r\nIf you compare a time between an interval more than 00:00 to 24:00 of that day, \r\nyou need to parse the day too.","title":"Check if a given time lies between two times regardless of date","body":"<pre><code> Calendar now = Calendar.getInstance();\n\n int hour = now.get(Calendar.HOUR_OF_DAY); // Get hour in 24 hour format\n int minute = now.get(Calendar.MINUTE);\n\n Date date = parseDate(hour + \":\" + minute);\n Date dateCompareOne = parseDate(\"08:00\");\n Date dateCompareTwo = parseDate(\"20:00\");\n\n if (dateCompareOne.before( date ) &amp;&amp; dateCompareTwo.after(date)) {\n    //your logic\n }\n\n private Date parseDate(String date) {\n\n    final String inputFormat = \"HH:mm\";\n    SimpleDateFormat inputParser = new SimpleDateFormat(inputFormat, Locale.US);\n    try {\n         return inputParser.parse(date);\n    } catch (java.text.ParseException e) {\n         return new Date(0);\n    }\n }\n</code></pre>\n\n<p>Further more, to be more precise,\nIf you compare a time between an interval more than 00:00 to 24:00 of that day, \nyou need to parse the day too.</p>\n"},{"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":2,"creation_date":1464254022,"post_id":26156933,"comment_id":62412864,"body_markdown":"Don&#39;t see how this PHP specific answer helps the OP.","body":"Don&#39;t see how this PHP specific answer helps the OP."}],"tags":[],"owner":{"account_id":5116852,"reputation":107,"user_id":4101681,"display_name":"Fre Akus"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1412238248,"creation_date":1412238248,"answer_id":26156933,"question_id":17697908,"body_markdown":"strip colons from the $time, $to and $from strings, convert to int and then use the following condition to check if the time is between from and to. Example is in php, but shouldn&#39;t matter.\r\n\r\n    if(($to &lt; $from &amp;&amp; ($time &gt;= $from || $time &lt;= $to)) ||\r\n\t\t($time &gt;= $from &amp;&amp; $time &lt;= $to)) {\r\n\t\treturn true;\r\n\t}","title":"Check if a given time lies between two times regardless of date","body":"<p>strip colons from the $time, $to and $from strings, convert to int and then use the following condition to check if the time is between from and to. Example is in php, but shouldn't matter.</p>\n\n<pre><code>if(($to &lt; $from &amp;&amp; ($time &gt;= $from || $time &lt;= $to)) ||\n    ($time &gt;= $from &amp;&amp; $time &lt;= $to)) {\n    return true;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":216976,"reputation":13968,"user_id":472537,"accept_rate":84,"display_name":"lacas"},"score":1,"creation_date":1421929144,"post_id":27564207,"comment_id":44553887,"body_markdown":"this is the best answer @Surendra Jnawali","body":"this is the best answer @Surendra Jnawali"},{"owner":{"account_id":2072408,"reputation":6907,"user_id":1846558,"accept_rate":25,"display_name":"Jitender Dev"},"score":1,"creation_date":1422511160,"post_id":27564207,"comment_id":44780740,"body_markdown":"This also fails if current time is 23:40:00 i.e greater than start time and less than equals to  23:59:59.","body":"This also fails if current time is 23:40:00 i.e greater than start time and less than equals to  23:59:59."},{"owner":{"account_id":1709895,"reputation":3190,"user_id":1568160,"accept_rate":41,"display_name":"Surendra Jnawali"},"score":0,"creation_date":1422536307,"post_id":27564207,"comment_id":44793976,"body_markdown":"@David, Sorry I didn&#39;t get you. Can you please provide current, start and end time in unsatisfied result. So that if any problem I will fix....","body":"@David, Sorry I didn&#39;t get you. Can you please provide current, start and end time in unsatisfied result. So that if any problem I will fix...."},{"owner":{"account_id":2072408,"reputation":6907,"user_id":1846558,"accept_rate":25,"display_name":"Jitender Dev"},"score":2,"creation_date":1422555661,"post_id":27564207,"comment_id":44806668,"body_markdown":"@SurendraJnawali Sure , Pls try this  &quot;23:00:00&quot; - &quot;06:00:00&quot; - &quot;23:40:00&quot; [current] - false . I have also posted an answer updating your answer. All credit goes to you ofcourse.","body":"@SurendraJnawali Sure , Pls try this  &quot;23:00:00&quot; - &quot;06:00:00&quot; - &quot;23:40:00&quot; [current] - false . I have also posted an answer updating your answer. All credit goes to you ofcourse."},{"owner":{"account_id":5968722,"reputation":929,"user_id":4691734,"display_name":"TheCrazyProfessor"},"score":0,"creation_date":1515399246,"post_id":27564207,"comment_id":83270869,"body_markdown":"how to check if two times pass the time? example: let us say you worked between 21:00:00 to 06:00:00. then want the system to calculate how many hours night work you have worked and the &quot;night-work&quot; is between 23:00:00 to 06:00:00","body":"how to check if two times pass the time? example: let us say you worked between 21:00:00 to 06:00:00. then want the system to calculate how many hours night work you have worked and the &quot;night-work&quot; is between 23:00:00 to 06:00:00"},{"owner":{"account_id":2084687,"reputation":615,"user_id":1855910,"display_name":"misterti"},"score":1,"creation_date":1566375099,"post_id":27564207,"comment_id":101631952,"body_markdown":"THIS DOES NOT WORK CORRECTLY! The corrected one from Jitender Dev does","body":"THIS DOES NOT WORK CORRECTLY! The corrected one from Jitender Dev does"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1613237565,"post_id":27564207,"comment_id":117016331,"body_markdown":"**Update:** The terrible classes `Date` and `Calendar` classes were supplanted years ago by the modern *java.time* classes defined in JSR 310.","body":"<b>Update:</b> The terrible classes <code>Date</code> and <code>Calendar</code> classes were supplanted years ago by the modern <i>java.time</i> classes defined in JSR 310."}],"tags":[],"owner":{"account_id":1709895,"reputation":3190,"user_id":1568160,"accept_rate":41,"display_name":"Surendra Jnawali"},"comment_count":7,"down_vote_count":3,"up_vote_count":27,"is_accepted":false,"score":24,"last_activity_date":1529074337,"creation_date":1418985398,"answer_id":27564207,"question_id":17697908,"body_markdown":"The answer given by @kocko works in only same day.   \r\nIf start time **&quot;23:00:00&quot;** and end **&quot;02:00:00&quot;**[next day] and current time is **&quot;01:30:00&quot;** then result will false...   \r\nI modified the **@kocko&#39;s answer** to work perfectly\r\n\r\n    public static boolean isTimeBetweenTwoTime(String initialTime, String finalTime, \r\n        String currentTime) throws ParseException {\r\n\r\n        String reg = &quot;^([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$&quot;;\r\n        if (initialTime.matches(reg) &amp;&amp; finalTime.matches(reg) &amp;&amp; \r\n            currentTime.matches(reg)) \r\n        {\r\n            boolean valid = false;\r\n            //Start Time\r\n            //all times are from java.util.Date\r\n            Date inTime = new SimpleDateFormat(&quot;HH:mm:ss&quot;).parse(initialTime);\r\n            Calendar calendar1 = Calendar.getInstance();\r\n            calendar1.setTime(inTime);\r\n    \r\n            //Current Time\r\n            Date checkTime = new SimpleDateFormat(&quot;HH:mm:ss&quot;).parse(currentTime);\r\n            Calendar calendar3 = Calendar.getInstance();\r\n            calendar3.setTime(checkTime);\r\n    \r\n            //End Time\r\n            Date finTime = new SimpleDateFormat(&quot;HH:mm:ss&quot;).parse(finalTime);\r\n            Calendar calendar2 = Calendar.getInstance();\r\n            calendar2.setTime(finTime);\r\n    \r\n            if (finalTime.compareTo(initialTime) &lt; 0) \r\n            {\r\n                calendar2.add(Calendar.DATE, 1);\r\n                calendar3.add(Calendar.DATE, 1);\r\n            }\r\n    \r\n            java.util.Date actualTime = calendar3.getTime();\r\n            if ((actualTime.after(calendar1.getTime()) || \r\n                 actualTime.compareTo(calendar1.getTime()) == 0) &amp;&amp; \r\n                 actualTime.before(calendar2.getTime())) \r\n            {\r\n                valid = true;\r\n                return valid;\r\n            } else {\r\n                throw new IllegalArgumentException(&quot;Not a valid time, expecting \r\n                HH:MM:SS format&quot;);\r\n            }\r\n        }\r\n    }\r\n**Output**   \r\n\r\n    &quot;07:00:00&quot; - &quot;17:30:00&quot; - &quot;15:30:00&quot; [current] - true\r\n    &quot;17:00:00&quot; - &quot;21:30:00&quot; - &quot;16:30:00&quot; [current] - false\r\n    &quot;23:00:00&quot; - &quot;04:00:00&quot; - &quot;02:00:00&quot; [current] - true\r\n    &quot;00:30:00&quot; - &quot;06:00:00&quot; - &quot;06:00:00&quot; [current] - false \r\n\r\n(I have included lower limit value to [upper limit value-1]) \r\n","title":"Check if a given time lies between two times regardless of date","body":"<p>The answer given by @kocko works in only same day.<br>\nIf start time <strong>\"23:00:00\"</strong> and end <strong>\"02:00:00\"</strong>[next day] and current time is <strong>\"01:30:00\"</strong> then result will false...<br>\nI modified the <strong>@kocko's answer</strong> to work perfectly</p>\n\n<pre><code>public static boolean isTimeBetweenTwoTime(String initialTime, String finalTime, \n    String currentTime) throws ParseException {\n\n    String reg = \"^([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$\";\n    if (initialTime.matches(reg) &amp;&amp; finalTime.matches(reg) &amp;&amp; \n        currentTime.matches(reg)) \n    {\n        boolean valid = false;\n        //Start Time\n        //all times are from java.util.Date\n        Date inTime = new SimpleDateFormat(\"HH:mm:ss\").parse(initialTime);\n        Calendar calendar1 = Calendar.getInstance();\n        calendar1.setTime(inTime);\n\n        //Current Time\n        Date checkTime = new SimpleDateFormat(\"HH:mm:ss\").parse(currentTime);\n        Calendar calendar3 = Calendar.getInstance();\n        calendar3.setTime(checkTime);\n\n        //End Time\n        Date finTime = new SimpleDateFormat(\"HH:mm:ss\").parse(finalTime);\n        Calendar calendar2 = Calendar.getInstance();\n        calendar2.setTime(finTime);\n\n        if (finalTime.compareTo(initialTime) &lt; 0) \n        {\n            calendar2.add(Calendar.DATE, 1);\n            calendar3.add(Calendar.DATE, 1);\n        }\n\n        java.util.Date actualTime = calendar3.getTime();\n        if ((actualTime.after(calendar1.getTime()) || \n             actualTime.compareTo(calendar1.getTime()) == 0) &amp;&amp; \n             actualTime.before(calendar2.getTime())) \n        {\n            valid = true;\n            return valid;\n        } else {\n            throw new IllegalArgumentException(\"Not a valid time, expecting \n            HH:MM:SS format\");\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Output</strong>   </p>\n\n<pre><code>\"07:00:00\" - \"17:30:00\" - \"15:30:00\" [current] - true\n\"17:00:00\" - \"21:30:00\" - \"16:30:00\" [current] - false\n\"23:00:00\" - \"04:00:00\" - \"02:00:00\" [current] - true\n\"00:30:00\" - \"06:00:00\" - \"06:00:00\" [current] - false \n</code></pre>\n\n<p>(I have included lower limit value to [upper limit value-1]) </p>\n"},{"tags":[],"owner":{"account_id":2072408,"reputation":6907,"user_id":1846558,"accept_rate":25,"display_name":"Jitender Dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1422854367,"creation_date":1422515498,"answer_id":28208889,"question_id":17697908,"body_markdown":"Modified @Surendra Jnawali&#39; code. It fails \r\n\t\r\n**if current time is 23:40:00 i.e greater than start time and less than equals to 23:59:59.** \r\n\r\nAll credit goes to the real owner \r\n\r\nThis is how it should be :This works perfect  \r\n\r\n    public static boolean isTimeBetweenTwoTime(String argStartTime,\r\n    \t\t\tString argEndTime, String argCurrentTime) throws ParseException {\r\n    \t\tString reg = &quot;^([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$&quot;;\r\n    \t\t//\r\n    \t\tif (argStartTime.matches(reg) &amp;&amp; argEndTime.matches(reg)\r\n    \t\t\t\t&amp;&amp; argCurrentTime.matches(reg)) {\r\n    \t\t\tboolean valid = false;\r\n    \t\t\t// Start Time\r\n    \t\t\tjava.util.Date startTime = new SimpleDateFormat(&quot;HH:mm:ss&quot;)\r\n    \t\t\t\t\t.parse(argStartTime);\r\n    \t\t\tCalendar startCalendar = Calendar.getInstance();\r\n    \t\t\tstartCalendar.setTime(startTime);\r\n    \r\n    \t\t\t// Current Time\r\n    \t\t\tjava.util.Date currentTime = new SimpleDateFormat(&quot;HH:mm:ss&quot;)\r\n    \t\t\t\t\t.parse(argCurrentTime);\r\n    \t\t\tCalendar currentCalendar = Calendar.getInstance();\r\n    \t\t\tcurrentCalendar.setTime(currentTime);\r\n    \r\n    \t\t\t// End Time\r\n    \t\t\tjava.util.Date endTime = new SimpleDateFormat(&quot;HH:mm:ss&quot;)\r\n    \t\t\t\t\t.parse(argEndTime);\r\n    \t\t\tCalendar endCalendar = Calendar.getInstance();\r\n    \t\t\tendCalendar.setTime(endTime);\r\n    \r\n    \t\t\t//\r\n    \t\t\tif (currentTime.compareTo(endTime) &lt; 0) {\r\n    \r\n    \t\t\t\tcurrentCalendar.add(Calendar.DATE, 1);\r\n    \t\t\t\tcurrentTime = currentCalendar.getTime();\r\n    \r\n    \t\t\t}\r\n\r\n                if (startTime.compareTo(endTime) &lt; 0) {\r\n\r\n\t\t\t\t\tstartCalendar.add(Calendar.DATE, 1);\r\n\t\t\t\t\tstartTime = startCalendar.getTime();\r\n\r\n\t\t\t\t}\r\n    \t\t\t//\r\n    \t\t\tif (currentTime.before(startTime)) {\r\n    \r\n    \t\t\t\tSystem.out.println(&quot; Time is Lesser &quot;);\r\n    \r\n    \t\t\t\tvalid = false;\r\n    \t\t\t} else {\r\n    \r\n    \t\t\t\tif (currentTime.after(endTime)) {\r\n    \t\t\t\t\tendCalendar.add(Calendar.DATE, 1);\r\n    \t\t\t\t\tendTime = endCalendar.getTime();\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tSystem.out.println(&quot;Comparing , Start Time /n &quot; + startTime);\r\n    \t\t\t\tSystem.out.println(&quot;Comparing , End Time /n &quot; + endTime);\r\n    \t\t\t\tSystem.out\r\n    \t\t\t\t\t\t.println(&quot;Comparing , Current Time /n &quot; + currentTime);\r\n    \r\n    \t\t\t\tif (currentTime.before(endTime)) {\r\n    \t\t\t\t\tSystem.out.println(&quot;RESULT, Time lies b/w&quot;);\r\n    \t\t\t\t\tvalid = true;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tvalid = false;\r\n    \t\t\t\t\tSystem.out.println(&quot;RESULT, Time does not lies b/w&quot;);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \t\t\treturn valid;\r\n    \r\n    \t\t} else {\r\n    \t\t\tthrow new IllegalArgumentException(\r\n    \t\t\t\t\t&quot;Not a valid time, expecting HH:MM:SS format&quot;);\r\n    \t\t}\r\n    \r\n    \t}\r\n\r\n**RESULT**\r\n\r\n    Comparing , Start Time /n    Thu Jan 01 23:00:00 IST 1970\r\n    Comparing , End Time /n      Fri Jan 02 02:00:00 IST 1970\r\n    Comparing , Current Time /n  Fri Jan 02 01:50:00 IST 1970\r\n    RESULT, Time lies b/w\r\n\r\n","title":"Check if a given time lies between two times regardless of date","body":"<p>Modified @Surendra Jnawali' code. It fails </p>\n\n<p><strong>if current time is 23:40:00 i.e greater than start time and less than equals to 23:59:59.</strong> </p>\n\n<p>All credit goes to the real owner </p>\n\n<p>This is how it should be :This works perfect  </p>\n\n<pre><code>public static boolean isTimeBetweenTwoTime(String argStartTime,\n            String argEndTime, String argCurrentTime) throws ParseException {\n        String reg = \"^([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$\";\n        //\n        if (argStartTime.matches(reg) &amp;&amp; argEndTime.matches(reg)\n                &amp;&amp; argCurrentTime.matches(reg)) {\n            boolean valid = false;\n            // Start Time\n            java.util.Date startTime = new SimpleDateFormat(\"HH:mm:ss\")\n                    .parse(argStartTime);\n            Calendar startCalendar = Calendar.getInstance();\n            startCalendar.setTime(startTime);\n\n            // Current Time\n            java.util.Date currentTime = new SimpleDateFormat(\"HH:mm:ss\")\n                    .parse(argCurrentTime);\n            Calendar currentCalendar = Calendar.getInstance();\n            currentCalendar.setTime(currentTime);\n\n            // End Time\n            java.util.Date endTime = new SimpleDateFormat(\"HH:mm:ss\")\n                    .parse(argEndTime);\n            Calendar endCalendar = Calendar.getInstance();\n            endCalendar.setTime(endTime);\n\n            //\n            if (currentTime.compareTo(endTime) &lt; 0) {\n\n                currentCalendar.add(Calendar.DATE, 1);\n                currentTime = currentCalendar.getTime();\n\n            }\n\n            if (startTime.compareTo(endTime) &lt; 0) {\n\n                startCalendar.add(Calendar.DATE, 1);\n                startTime = startCalendar.getTime();\n\n            }\n            //\n            if (currentTime.before(startTime)) {\n\n                System.out.println(\" Time is Lesser \");\n\n                valid = false;\n            } else {\n\n                if (currentTime.after(endTime)) {\n                    endCalendar.add(Calendar.DATE, 1);\n                    endTime = endCalendar.getTime();\n\n                }\n\n                System.out.println(\"Comparing , Start Time /n \" + startTime);\n                System.out.println(\"Comparing , End Time /n \" + endTime);\n                System.out\n                        .println(\"Comparing , Current Time /n \" + currentTime);\n\n                if (currentTime.before(endTime)) {\n                    System.out.println(\"RESULT, Time lies b/w\");\n                    valid = true;\n                } else {\n                    valid = false;\n                    System.out.println(\"RESULT, Time does not lies b/w\");\n                }\n\n            }\n            return valid;\n\n        } else {\n            throw new IllegalArgumentException(\n                    \"Not a valid time, expecting HH:MM:SS format\");\n        }\n\n    }\n</code></pre>\n\n<p><strong>RESULT</strong></p>\n\n<pre><code>Comparing , Start Time /n    Thu Jan 01 23:00:00 IST 1970\nComparing , End Time /n      Fri Jan 02 02:00:00 IST 1970\nComparing , Current Time /n  Fri Jan 02 01:50:00 IST 1970\nRESULT, Time lies b/w\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1007378,"reputation":660,"user_id":1020757,"accept_rate":92,"display_name":"geecko"},"score":1,"creation_date":1438032919,"post_id":31642891,"comment_id":51271978,"body_markdown":"You really should avoid naming variables with an upper case.","body":"You really should avoid naming variables with an upper case."}],"tags":[],"owner":{"account_id":6688182,"reputation":11,"user_id":5158559,"display_name":"Shibli Noman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437952264,"creation_date":1437952264,"answer_id":31642891,"question_id":17697908,"body_markdown":"The Actual working function will be as follows\r\n\r\n    public static boolean isTimeBetweenTwoTime(Date startTime, Date stopTime, Date currentTime) {\r\n        //Start Time\r\n        Calendar StartTime = Calendar.getInstance();\r\n        StartTime.setTime(startTime);\r\n        //Current Time\r\n        Calendar CurrentTime = Calendar.getInstance();\r\n        CurrentTime.setTime(currentTime);\r\n        //Stop Time\r\n        Calendar StopTime = Calendar.getInstance();\r\n        StopTime.setTime(stopTime);\r\n\r\n        if (stopTime.compareTo(startTime) &lt; 0) {\r\n            if (CurrentTime.compareTo(StopTime) &lt; 0) {\r\n                CurrentTime.add(Calendar.DATE, 1);\r\n            }\r\n            StopTime.add(Calendar.DATE, 1);\r\n        }\r\n        return CurrentTime.compareTo(StartTime) &gt;= 0 &amp;&amp; CurrentTime.compareTo(StopTime) &lt; 0;\r\n    }","title":"Check if a given time lies between two times regardless of date","body":"<p>The Actual working function will be as follows</p>\n\n<pre><code>public static boolean isTimeBetweenTwoTime(Date startTime, Date stopTime, Date currentTime) {\n    //Start Time\n    Calendar StartTime = Calendar.getInstance();\n    StartTime.setTime(startTime);\n    //Current Time\n    Calendar CurrentTime = Calendar.getInstance();\n    CurrentTime.setTime(currentTime);\n    //Stop Time\n    Calendar StopTime = Calendar.getInstance();\n    StopTime.setTime(stopTime);\n\n    if (stopTime.compareTo(startTime) &lt; 0) {\n        if (CurrentTime.compareTo(StopTime) &lt; 0) {\n            CurrentTime.add(Calendar.DATE, 1);\n        }\n        StopTime.add(Calendar.DATE, 1);\n    }\n    return CurrentTime.compareTo(StartTime) &gt;= 0 &amp;&amp; CurrentTime.compareTo(StopTime) &lt; 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6587304,"reputation":209,"user_id":5089713,"display_name":"Diiiiii"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445384544,"creation_date":1445384544,"answer_id":33248654,"question_id":17697908,"body_markdown":"In your case the starting time (20:11:13) is larger than the ending time (14:49:00). It is a reasonable assumption that you could solve the problem by adding a day on the ending time or subtracting a day from the starting time. if you do so, you will be trapped because you do not know on which day the testing time is.  \r\n\r\nYou can avoid this trap by checking whether your testing time is between the ending time and starting time. If true, then result is &quot;not in between&quot;; else result is &quot;well in between&quot;. \r\n\r\nHere is the function in JAVA I have been using. It works so far for me. Good luck.\r\n \r\n    boolean IsTimeInBetween(Calendar startC, Calendar endC, Calendar testC){\r\n        // assume year, month and day of month are all equal.\r\n        startC.set(1,1,1);\r\n        endC.set(1,1,1);\r\n        testC.set(1,1,1);\r\n        \r\n        if (endC.compareTo(startC) &gt; 0) {\r\n            if ((testC.compareTo(startC)&gt;=0) &amp;&amp; (testC.compareTo(endC)&lt;=0)) {\r\n                return true;\r\n            }else {\r\n                return false;\r\n            }\r\n        }else if  (endC.compareTo(startC) &lt; 0) {\r\n            if ((testC.compareTo(endC) &gt;= 0) &amp;&amp; (testC.compareTo(startC) &lt;= 0)) {\r\n                return false;\r\n            } else {\r\n                return true;\r\n            }\r\n        } else{ // when endC.compareTo(startC)==0, I return a ture value. Change it if you have different application. \r\n            return true;\r\n        }\r\n    }\r\n\r\nTo create a Calender instance you can use:\r\n \r\n    Calendar startC = Calendar.getInstance();\r\n    startC.set(Calendar.HOUR_OF_DAY, 20);\r\n    startC.set(Calendar.MINUTE,11);\r\n    startC.set(Calendar.SECOND,13);","title":"Check if a given time lies between two times regardless of date","body":"<p>In your case the starting time (20:11:13) is larger than the ending time (14:49:00). It is a reasonable assumption that you could solve the problem by adding a day on the ending time or subtracting a day from the starting time. if you do so, you will be trapped because you do not know on which day the testing time is.  </p>\n\n<p>You can avoid this trap by checking whether your testing time is between the ending time and starting time. If true, then result is \"not in between\"; else result is \"well in between\". </p>\n\n<p>Here is the function in JAVA I have been using. It works so far for me. Good luck.</p>\n\n<pre><code>boolean IsTimeInBetween(Calendar startC, Calendar endC, Calendar testC){\n    // assume year, month and day of month are all equal.\n    startC.set(1,1,1);\n    endC.set(1,1,1);\n    testC.set(1,1,1);\n\n    if (endC.compareTo(startC) &gt; 0) {\n        if ((testC.compareTo(startC)&gt;=0) &amp;&amp; (testC.compareTo(endC)&lt;=0)) {\n            return true;\n        }else {\n            return false;\n        }\n    }else if  (endC.compareTo(startC) &lt; 0) {\n        if ((testC.compareTo(endC) &gt;= 0) &amp;&amp; (testC.compareTo(startC) &lt;= 0)) {\n            return false;\n        } else {\n            return true;\n        }\n    } else{ // when endC.compareTo(startC)==0, I return a ture value. Change it if you have different application. \n        return true;\n    }\n}\n</code></pre>\n\n<p>To create a Calender instance you can use:</p>\n\n<pre><code>Calendar startC = Calendar.getInstance();\nstartC.set(Calendar.HOUR_OF_DAY, 20);\nstartC.set(Calendar.MINUTE,11);\nstartC.set(Calendar.SECOND,13);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3550474,"reputation":264,"user_id":2965482,"accept_rate":67,"display_name":"coya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1458145517,"creation_date":1458145517,"answer_id":36041432,"question_id":17697908,"body_markdown":"Sounds to me that your problem is an OR situation... You want to check if time1 &gt; 20:11:13 OR time1 &lt; 14:49:00.\r\n\r\nThere will never be a time greater to 20:11:13 that exceeds your range through the other end (14:49:00) and viceversa. Think of it as if you are checking that a time is NOT between a properly ordered couple of timestamps.","title":"Check if a given time lies between two times regardless of date","body":"<p>Sounds to me that your problem is an OR situation... You want to check if time1 > 20:11:13 OR time1 &lt; 14:49:00.</p>\n\n<p>There will never be a time greater to 20:11:13 that exceeds your range through the other end (14:49:00) and viceversa. Think of it as if you are checking that a time is NOT between a properly ordered couple of timestamps.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1474918895,"post_id":37632445,"comment_id":66720071,"body_markdown":"This code involves a date, but the Question asked for time-of-day only without any date.","body":"This code involves a date, but the Question asked for time-of-day only without any date."}],"tags":[],"owner":{"account_id":2674955,"reputation":10194,"user_id":2311557,"accept_rate":61,"display_name":"codepleb"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1465058173,"creation_date":1465057106,"answer_id":37632445,"question_id":17697908,"body_markdown":"**Java 8 - LocalDateTime**\r\n\r\nWhat about this?\r\n\r\n    final LocalDateTime now = LocalDateTime.now();\r\n    final LocalDateTime minRange = LocalDateTime.of(now.getYear(), now.getMonth(), now.getDayOfMonth(), 22, 30); //Today, 10:30pm\r\n    LocalDateTime maxRange = LocalDateTime.of(now.getYear(), now.getMonth(), now.getDayOfMonth(), 6, 30); //Tomorrow, 6:30am\r\n    maxRange = maxRange.plusDays(1); //Ensures that you don&#39;t run into an exception if minRange is the last day in the month.\r\n    if (now.isAfter(minRange) &amp;&amp; now.isBefore(maxRange)) {\r\n        //Action\r\n    }","title":"Check if a given time lies between two times regardless of date","body":"<p><strong>Java 8 - LocalDateTime</strong></p>\n\n<p>What about this?</p>\n\n<pre><code>final LocalDateTime now = LocalDateTime.now();\nfinal LocalDateTime minRange = LocalDateTime.of(now.getYear(), now.getMonth(), now.getDayOfMonth(), 22, 30); //Today, 10:30pm\nLocalDateTime maxRange = LocalDateTime.of(now.getYear(), now.getMonth(), now.getDayOfMonth(), 6, 30); //Tomorrow, 6:30am\nmaxRange = maxRange.plusDays(1); //Ensures that you don't run into an exception if minRange is the last day in the month.\nif (now.isAfter(minRange) &amp;&amp; now.isBefore(maxRange)) {\n    //Action\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4177206,"reputation":51,"user_id":6882572,"display_name":"aniketKumkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1495265083,"creation_date":1474896985,"answer_id":39704386,"question_id":17697908,"body_markdown":"Following method checks whether &#39;validateTime&#39; is between &#39;startTime&#39; &amp; &#39;endTime&#39; or not while considering possibility that &#39;endTime&#39; can be a next day. To use it properly parse your dates in &quot;HH:mm&quot; formant.  \r\n\r\n     public static final boolean isBetweenValidTime(Date startTime, Date endTime, Date validateTime)\r\n     {\r\n    \t\tboolean validTimeFlag = false;\r\n    \r\n    \t\tif(endTime.compareTo(startTime) &lt;= 0)\r\n    \t\t{\r\n    \t\t\tif(validateTime.compareTo(endTime) &lt; 0 || validateTime.compareTo(startTime) &gt;= 0)\r\n    \t\t\t{\r\n    \t\t\t\t validTimeFlag = true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\telse if(validateTime.compareTo(endTime) &lt; 0 &amp;&amp; validateTime.compareTo(startTime) &gt;= 0)\r\n    \t\t{\r\n    \t\t\t validTimeFlag = true;\t\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn validTimeFlag;\r\n     }","title":"Check if a given time lies between two times regardless of date","body":"<p>Following method checks whether 'validateTime' is between 'startTime' &amp; 'endTime' or not while considering possibility that 'endTime' can be a next day. To use it properly parse your dates in \"HH:mm\" formant.  </p>\n\n<pre><code> public static final boolean isBetweenValidTime(Date startTime, Date endTime, Date validateTime)\n {\n        boolean validTimeFlag = false;\n\n        if(endTime.compareTo(startTime) &lt;= 0)\n        {\n            if(validateTime.compareTo(endTime) &lt; 0 || validateTime.compareTo(startTime) &gt;= 0)\n            {\n                 validTimeFlag = true;\n            }\n        }\n        else if(validateTime.compareTo(endTime) &lt; 0 &amp;&amp; validateTime.compareTo(startTime) &gt;= 0)\n        {\n             validTimeFlag = true;  \n        }\n\n        return validTimeFlag;\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":93443,"reputation":398,"user_id":255650,"accept_rate":71,"display_name":"thisisananth"},"score":0,"creation_date":1551294635,"post_id":39712175,"comment_id":96592134,"body_markdown":"This doesn&#39;t work for the target time 18:00 and the start is 21:00 and stop is 03:00.  In this case target is not before start but target is also not before stop. So isBetweenStartAndStopStrctlySpeaking is false. Since start is after stop, we negate it which equates to saying 18:00 is between 21:00 and 03:00 which is false.","body":"This doesn&#39;t work for the target time 18:00 and the start is 21:00 and stop is 03:00.  In this case target is not before start but target is also not before stop. So isBetweenStartAndStopStrctlySpeaking is false. Since start is after stop, we negate it which equates to saying 18:00 is between 21:00 and 03:00 which is false."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1551298517,"post_id":39712175,"comment_id":96593876,"body_markdown":"@thisisananth You have flipped the logic of the Question. The Question specifically asks if a target is ***after* the later time** and ***before* the earlier time**: *So what I want is, 20:11:13 &lt; 01:00:00 &lt; 14:49:00.*. So in your example, 18:00 (6 PM) is *not* between 21:00 and 03:00 whereas 1 AM *is* between 9 PM and 3 AM.  Whichever logic is dictated by your business logic, flip the Boolean logic of my code. But you cannot have *both* 1 AM and 6 PM being between mid-evening and mid-morning times -- there would be not point in asking the question of “is between”.","body":"@thisisananth You have flipped the logic of the Question. The Question specifically asks if a target is <b><i>after</i> the later time</b> and <b><i>before</i> the earlier time</b>: <i>So what I want is, 20:11:13 &lt; 01:00:00 &lt; 14:49:00.</i>. So in your example, 18:00 (6 PM) is <i>not</i> between 21:00 and 03:00 whereas 1 AM <i>is</i> between 9 PM and 3 AM.  Whichever logic is dictated by your business logic, flip the Boolean logic of my code. But you cannot have <i>both</i> 1 AM and 6 PM being between mid-evening and mid-morning times -- there would be not point in asking the question of “is between”."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":2,"up_vote_count":60,"is_accepted":false,"score":58,"last_activity_date":1620935889,"creation_date":1474923151,"answer_id":39712175,"question_id":17697908,"body_markdown":"# tl;dr\r\n\r\n&gt;    20:11:13 &lt; 01:00:00 &lt; 14:49:00\r\n\r\n    LocalTime target = LocalTime.parse( &quot;01:00:00&quot; ) ;\r\n    Boolean targetInZone = ( \r\n        target.isAfter( LocalTime.parse( &quot;20:11:13&quot; ) ) \r\n        &amp;&amp; \r\n        target.isBefore( LocalTime.parse( &quot;14:49:00&quot; ) ) \r\n    ) ; \r\n\r\n# `java.time.LocalTime`\r\n\r\nThe java.time classes include `LocalTime` to represent a time-of-day only without a date and without a time zone.\r\n\r\n&gt; So what I want is, 20:11:13 &lt; 01:00:00 &lt; 14:49:00.\r\n\r\nFirst we define the boundaries. Your input strings happen to comply with standard [ISO 8601][1] formats. The java.time classes use ISO 8601 formats by default, so no need to specify a formatting pattern.\r\n\r\n    LocalTime start = LocalTime.parse( &quot;20:11:13&quot; );\r\n    LocalTime stop = LocalTime.parse( &quot;14:49:00&quot; );\r\n\r\nAnd define our test case, the target `01:00:00`.\r\n\r\n    LocalTime target = LocalTime.parse( &quot;01:00:00&quot; );\r\n\r\nNow we are set up to compare these `LocalTime` objects. We want to see if the target is after the later time but before the earlier time. That means middle of the night in this case, between approximately 8 PM and 3 AM the next morning.\r\n\r\n    Boolean isTargetAfterStartAndBeforeStop = ( target.isAfter( start ) &amp;&amp; target.isBefore( stop ) ) ;\r\n\r\nThat test can be more simply stated as “*not* between 3 AM and 8 PM”. We could then generalize to any pair of `LocalTime` objects where we test for *between* if the start comes before the stop with a 24-hour clock, and *not between* if start comes after the stop (as in the case of this Question). \r\n\r\nFurther more, spans of time are usually handled with the Half-Open approach where the beginning is *inclusive* while the ending is *exclusive*. So a &quot;between&quot; comparison, strictly speaking, would be “is the target equal to or later than start AND the target is before stop”, or more simply, “is target *not* before start AND before stop”.\r\n\r\n    Boolean isBetweenStartAndStopStrictlySpeaking = \r\n        ( ( ! target.isBefore( start ) &amp;&amp; target.isBefore( stop ) ) ;\r\n\r\nIf the start is after the stop, within a 24-hour clock, then assume we want the logic suggested in the Question (is after 8 PM but before 3 AM).\r\n\r\n    if( start.isAfter( stop ) ) {\r\n        return ! isBetweenStartAndStopStrictlySpeaking ;\r\n    } else {\r\n        return isBetweenStartAndStopStrictlySpeaking ;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), the process of [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601","title":"Check if a given time lies between two times regardless of date","body":"<h1>tl;dr</h1>\n<blockquote>\n<p>20:11:13 &lt; 01:00:00 &lt; 14:49:00</p>\n</blockquote>\n<pre><code>LocalTime target = LocalTime.parse( &quot;01:00:00&quot; ) ;\nBoolean targetInZone = ( \n    target.isAfter( LocalTime.parse( &quot;20:11:13&quot; ) ) \n    &amp;&amp; \n    target.isBefore( LocalTime.parse( &quot;14:49:00&quot; ) ) \n) ; \n</code></pre>\n<h1><code>java.time.LocalTime</code></h1>\n<p>The java.time classes include <code>LocalTime</code> to represent a time-of-day only without a date and without a time zone.</p>\n<blockquote>\n<p>So what I want is, 20:11:13 &lt; 01:00:00 &lt; 14:49:00.</p>\n</blockquote>\n<p>First we define the boundaries. Your input strings happen to comply with standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> formats. The java.time classes use ISO 8601 formats by default, so no need to specify a formatting pattern.</p>\n<pre><code>LocalTime start = LocalTime.parse( &quot;20:11:13&quot; );\nLocalTime stop = LocalTime.parse( &quot;14:49:00&quot; );\n</code></pre>\n<p>And define our test case, the target <code>01:00:00</code>.</p>\n<pre><code>LocalTime target = LocalTime.parse( &quot;01:00:00&quot; );\n</code></pre>\n<p>Now we are set up to compare these <code>LocalTime</code> objects. We want to see if the target is after the later time but before the earlier time. That means middle of the night in this case, between approximately 8 PM and 3 AM the next morning.</p>\n<pre><code>Boolean isTargetAfterStartAndBeforeStop = ( target.isAfter( start ) &amp;&amp; target.isBefore( stop ) ) ;\n</code></pre>\n<p>That test can be more simply stated as “<em>not</em> between 3 AM and 8 PM”. We could then generalize to any pair of <code>LocalTime</code> objects where we test for <em>between</em> if the start comes before the stop with a 24-hour clock, and <em>not between</em> if start comes after the stop (as in the case of this Question).</p>\n<p>Further more, spans of time are usually handled with the Half-Open approach where the beginning is <em>inclusive</em> while the ending is <em>exclusive</em>. So a &quot;between&quot; comparison, strictly speaking, would be “is the target equal to or later than start AND the target is before stop”, or more simply, “is target <em>not</em> before start AND before stop”.</p>\n<pre><code>Boolean isBetweenStartAndStopStrictlySpeaking = \n    ( ( ! target.isBefore( start ) &amp;&amp; target.isBefore( stop ) ) ;\n</code></pre>\n<p>If the start is after the stop, within a 24-hour clock, then assume we want the logic suggested in the Question (is after 8 PM but before 3 AM).</p>\n<pre><code>if( start.isAfter( stop ) ) {\n    return ! isBetweenStartAndStopStrictlySpeaking ;\n} else {\n    return isBetweenStartAndStopStrictlySpeaking ;\n}\n</code></pre>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the process of <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2072538,"reputation":2546,"user_id":1846656,"accept_rate":38,"display_name":"Bilal Ahmed Yaseen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500969062,"creation_date":1487014159,"answer_id":42212030,"question_id":17697908,"body_markdown":"In the code snipet below, it is being verified that if the current time (can be any) exists between start and end time or not:\r\n\r\n            Calendar startTimeCal = Calendar.getInstance();\r\n            startTimeCal.setTime(startTime);\r\n\r\n            int startTimeHour = startTimeCal.get(Calendar.HOUR_OF_DAY);\r\n\r\n            if (startTimeHour == 0){\r\n                startTimeHour = 24;\r\n            }\r\n\r\n            int startTimeMinutes = startTimeCal.get(Calendar.MINUTE);\r\n\r\n            Calendar curTimeCal = Calendar.getInstance();\r\n            curTimeCal.setTime(currentTime);\r\n\r\n            int curTimeHour = curTimeCal.get(Calendar.HOUR_OF_DAY);\r\n            int curTimeMinutes = curTimeCal.get(Calendar.MINUTE);\r\n\r\n            Calendar endTimeCal = Calendar.getInstance();\r\n            endTimeCal.setTime(endTime);\r\n\r\n            int endTimeHour = endTimeCal.get(Calendar.HOUR_OF_DAY);\r\n\r\n            if (endTimeHour == 0) {\r\n                endTimeHour = 24;\r\n            }\r\n\r\n            int endTimeMinutes = endTimeCal.get(Calendar.MINUTE);\r\n\r\n            if (((curTimeHour &gt; startTimeHour) || (curTimeHour == startTimeHour &amp;&amp; curTimeMinutes &gt;= startTimeMinutes)) &amp;&amp;\r\n                    ((curTimeHour &lt; endTimeHour) || (curTimeHour == endTimeHour &amp;&amp; curTimeMinutes &lt;= endTimeHour))) {\r\n              //time exists between start and end time\r\n            } else {\r\n                  //time doesn&#39;t exist between start and end time\r\n            }\r\n","title":"Check if a given time lies between two times regardless of date","body":"<p>In the code snipet below, it is being verified that if the current time (can be any) exists between start and end time or not:</p>\n\n<pre><code>        Calendar startTimeCal = Calendar.getInstance();\n        startTimeCal.setTime(startTime);\n\n        int startTimeHour = startTimeCal.get(Calendar.HOUR_OF_DAY);\n\n        if (startTimeHour == 0){\n            startTimeHour = 24;\n        }\n\n        int startTimeMinutes = startTimeCal.get(Calendar.MINUTE);\n\n        Calendar curTimeCal = Calendar.getInstance();\n        curTimeCal.setTime(currentTime);\n\n        int curTimeHour = curTimeCal.get(Calendar.HOUR_OF_DAY);\n        int curTimeMinutes = curTimeCal.get(Calendar.MINUTE);\n\n        Calendar endTimeCal = Calendar.getInstance();\n        endTimeCal.setTime(endTime);\n\n        int endTimeHour = endTimeCal.get(Calendar.HOUR_OF_DAY);\n\n        if (endTimeHour == 0) {\n            endTimeHour = 24;\n        }\n\n        int endTimeMinutes = endTimeCal.get(Calendar.MINUTE);\n\n        if (((curTimeHour &gt; startTimeHour) || (curTimeHour == startTimeHour &amp;&amp; curTimeMinutes &gt;= startTimeMinutes)) &amp;&amp;\n                ((curTimeHour &lt; endTimeHour) || (curTimeHour == endTimeHour &amp;&amp; curTimeMinutes &lt;= endTimeHour))) {\n          //time exists between start and end time\n        } else {\n              //time doesn't exist between start and end time\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1491881548,"post_id":43330265,"comment_id":73736408,"body_markdown":"(a) Looks a lot like [my Answer](http://stackoverflow.com/a/39712175/642706). I do not see any added-value. (b) No need to pass [`Clock.systemUTC()`](https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#systemUTC--) as that is the default when no argument is passed. Simply use: [`Instant.now()`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#now--).","body":"(a) Looks a lot like <a href=\"http://stackoverflow.com/a/39712175/642706\">my Answer</a>. I do not see any added-value. (b) No need to pass <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#systemUTC--\" rel=\"nofollow noreferrer\"><code>Clock.systemUTC()</code></a> as that is the default when no argument is passed. Simply use: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#now--\" rel=\"nofollow noreferrer\"><code>Instant.now()</code></a>."},{"owner":{"account_id":3260083,"reputation":1087,"user_id":2745810,"accept_rate":71,"display_name":"kmarabet"},"score":0,"creation_date":1491892739,"post_id":43330265,"comment_id":73740160,"body_markdown":"Yes maybe looks like yours, but less verbose and to the point if we just want to **Check if a given time lies between two times regardless of date**.\n\n\nThe **Clock.systemUTC()** is used to use UTC timezone for current date otherwise a local timezone is used by default.","body":"Yes maybe looks like yours, but less verbose and to the point if we just want to <b>Check if a given time lies between two times regardless of date</b>.   The <b>Clock.systemUTC()</b> is used to use UTC timezone for current date otherwise a local timezone is used by default."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1491898643,"post_id":43330265,"comment_id":73743824,"body_markdown":"You are incorrect about the need for passing Clock. The doc explicitly says UTC is the default and that you need pass a clock only for testing with false/altered clocks. You are confusing `Instant.now` with the other classes’ `.now` methods which do indeed use the JVM’s current default time zone if omitted.","body":"You are incorrect about the need for passing Clock. The doc explicitly says UTC is the default and that you need pass a clock only for testing with false/altered clocks. You are confusing <code>Instant.now</code> with the other classes’ <code>.now</code> methods which do indeed use the JVM’s current default time zone if omitted."}],"tags":[],"owner":{"account_id":3260083,"reputation":1087,"user_id":2745810,"accept_rate":71,"display_name":"kmarabet"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491848441,"creation_date":1491848441,"answer_id":43330265,"question_id":17697908,"body_markdown":"Using **LocalTime** would simply ignore the Date value:\r\n\r\n    public class TimeIntervalChecker {\r\n    \r\n    static final LocalTime time1 = LocalTime.parse( &quot;20:11:13&quot;  ) ;\r\n    static final LocalTime time2 = LocalTime.parse( &quot;14:49:00&quot; ) ;\r\n       \r\n        public static void main(String[] args) throws java.lang.Exception {\r\n    \r\n            LocalTime nowUtcTime = LocalTime.now(Clock.systemUTC());\r\n    \r\n            if (nowUtcTime.isAfter(time1) &amp;&amp; nowUtcTime.isBefore(time2)){\r\n                  System.out.println(nowUtcTime+&quot; is after: &quot;+ time1+&quot; and before: &quot;+ time2);\r\n            } \r\n    \r\n    }\r\n\r\n","title":"Check if a given time lies between two times regardless of date","body":"<p>Using <strong>LocalTime</strong> would simply ignore the Date value:</p>\n\n<pre><code>public class TimeIntervalChecker {\n\nstatic final LocalTime time1 = LocalTime.parse( \"20:11:13\"  ) ;\nstatic final LocalTime time2 = LocalTime.parse( \"14:49:00\" ) ;\n\n    public static void main(String[] args) throws java.lang.Exception {\n\n        LocalTime nowUtcTime = LocalTime.now(Clock.systemUTC());\n\n        if (nowUtcTime.isAfter(time1) &amp;&amp; nowUtcTime.isBefore(time2)){\n              System.out.println(nowUtcTime+\" is after: \"+ time1+\" and before: \"+ time2);\n        } \n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1499094924,"post_id":44885567,"comment_id":76756055,"body_markdown":"You are using troublesome old classes that are now legacy, supplanted by the java.time classes.","body":"You are using troublesome old classes that are now legacy, supplanted by the java.time classes."}],"tags":[],"owner":{"account_id":8502161,"reputation":313,"user_id":6374790,"accept_rate":80,"display_name":"Fomovet"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520640715,"creation_date":1499084736,"answer_id":44885567,"question_id":17697908,"body_markdown":"**After reading a few replies, I feel the writing is too complicated. Try my code**\r\n\r\n     public static boolean compare(String system_time, String currentTime, String endtimes) {\r\n        try {\r\n            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n           \r\n            Date startime = simpleDateFormat.parse(&quot;19:25:00&quot;);\r\n            Date endtime = simpleDateFormat.parse(&quot;20:30:00&quot;);\r\n\r\n            //current time\r\n            Date current_time = simpleDateFormat.parse(&quot;20:00:00&quot;);\r\n\r\n        if (current_time.after(startime) &amp;&amp; current_time.before(endtime)) {\r\n                System.out.println(&quot;Yes&quot;);\r\n                return true;\r\n          }\r\n        else if (current_time.after(startime) &amp;&amp; current_time.after(endtime)) {\r\n             return true; //overlap condition check\r\n          }\r\n         else {\r\n                System.out.println(&quot;No&quot;);\r\n                return false;\r\n            }\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return false;\r\n     } ","title":"Check if a given time lies between two times regardless of date","body":"<p><strong>After reading a few replies, I feel the writing is too complicated. Try my code</strong></p>\n\n<pre><code> public static boolean compare(String system_time, String currentTime, String endtimes) {\n    try {\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"HH:mm:ss\");\n\n        Date startime = simpleDateFormat.parse(\"19:25:00\");\n        Date endtime = simpleDateFormat.parse(\"20:30:00\");\n\n        //current time\n        Date current_time = simpleDateFormat.parse(\"20:00:00\");\n\n    if (current_time.after(startime) &amp;&amp; current_time.before(endtime)) {\n            System.out.println(\"Yes\");\n            return true;\n      }\n    else if (current_time.after(startime) &amp;&amp; current_time.after(endtime)) {\n         return true; //overlap condition check\n      }\n     else {\n            System.out.println(\"No\");\n            return false;\n        }\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n    return false;\n } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13385900,"reputation":1,"user_id":9659811,"display_name":"Heather"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523981529,"creation_date":1523981529,"answer_id":49882881,"question_id":17697908,"body_markdown":"Logically if you do the following you should always be ok granted we use military time...\r\n\r\nif start time is greater than end time add 24 to end time\r\nelse use times as is\r\n\r\ncompare current time to be inbetween start and end time.","title":"Check if a given time lies between two times regardless of date","body":"<p>Logically if you do the following you should always be ok granted we use military time...</p>\n\n<p>if start time is greater than end time add 24 to end time\nelse use times as is</p>\n\n<p>compare current time to be inbetween start and end time.</p>\n"},{"tags":[],"owner":{"account_id":13311124,"reputation":39,"user_id":9778422,"display_name":"Alessandro Villa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532051418,"creation_date":1532051418,"answer_id":51433979,"question_id":17697908,"body_markdown":"As many people noticed, it&#39;s not a date problem, it&#39;s a logic problem.\r\nLet&#39;s assume a day is splitted in two intervals: one lies between 20:11:13 and 14:49:00, while the other lies between 14:49:00 and 20:11:13 (which interval the extremes belong is up to you).\r\nIf you want to check if a certain time is included in the 20:11:13/14:49:00 one, the one you&#39;re interested of, just check if it&#39;s included in the other one, 14:49:00/20:11:13, which is much easier because the natural order of the numbers, and then negate the result.","title":"Check if a given time lies between two times regardless of date","body":"<p>As many people noticed, it's not a date problem, it's a logic problem.\nLet's assume a day is splitted in two intervals: one lies between 20:11:13 and 14:49:00, while the other lies between 14:49:00 and 20:11:13 (which interval the extremes belong is up to you).\nIf you want to check if a certain time is included in the 20:11:13/14:49:00 one, the one you're interested of, just check if it's included in the other one, 14:49:00/20:11:13, which is much easier because the natural order of the numbers, and then negate the result.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1539906371,"post_id":52883169,"comment_id":92681315,"body_markdown":"How does this Answer provide value over the existing Answers using `LocalTime`?","body":"How does this Answer provide value over the existing Answers using <code>LocalTime</code>?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1539942891,"post_id":52883169,"comment_id":92692544,"body_markdown":"Nice demonstration of the use of `LocalTime`, but doesn’t really seem to answer the question as asked. Also avoid prefixed zeros: They work for `00`, `02` and `04`, but not for `08` and `09`.","body":"Nice demonstration of the use of <code>LocalTime</code>, but doesn’t really seem to answer the question as asked. Also avoid prefixed zeros: They work for <code>00</code>, <code>02</code> and <code>04</code>, but not for <code>08</code> and <code>09</code>."},{"owner":{"account_id":200606,"reputation":599,"user_id":446549,"accept_rate":62,"display_name":"JasonH"},"score":0,"creation_date":1539967230,"post_id":52883169,"comment_id":92705704,"body_markdown":"Apologies - Y&#39;all are correct @BasilBourque\nI will edit the answer.","body":"Apologies - Y&#39;all are correct @BasilBourque I will edit the answer."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1539967930,"post_id":52883169,"comment_id":92705998,"body_markdown":"Still using octal literals. And still looks like a duplicate of existing Answers.","body":"Still using octal literals. And still looks like a duplicate of existing Answers."},{"owner":{"account_id":200606,"reputation":599,"user_id":446549,"accept_rate":62,"display_name":"JasonH"},"score":1,"creation_date":1539979774,"post_id":52883169,"comment_id":92710872,"body_markdown":"Dude, I appreciate the feedback, but this is why I dislike Stack sometimes: those are not octals, and nobody else here is using `LocalTime.of`","body":"Dude, I appreciate the feedback, but this is why I dislike Stack sometimes: those are not octals, and nobody else here is using <code>LocalTime.of</code>"},{"owner":{"account_id":4314111,"reputation":2756,"user_id":3524475,"accept_rate":58,"display_name":"ghita"},"score":0,"creation_date":1551095316,"post_id":52883169,"comment_id":96501426,"body_markdown":"LocalTime.parse &lt;- this is only for API 26+","body":"LocalTime.parse &lt;- this is only for API 26+"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1554916469,"post_id":52883169,"comment_id":97929281,"body_markdown":"@ghita For earlier Android, see the *ThreeTenABP* project that adapts the *ThreeTen-Backport* project.","body":"@ghita For earlier Android, see the <i>ThreeTenABP</i> project that adapts the <i>ThreeTen-Backport</i> project."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1554917246,"post_id":52883169,"comment_id":97929666,"body_markdown":"@JasonH You are incorrect: An integer literal beginning with a zero such as `02` represents an [octal](https://en.m.wikipedia.org/wiki/Octal) (base-8) number. See [section 3.10.1 of the *Java Language Specification*](https://docs.oracle.com/javase/specs/jls/se12/html/jls-3.html#jls-3.10.1).","body":"@JasonH You are incorrect: An integer literal beginning with a zero such as <code>02</code> represents an <a href=\"https://en.m.wikipedia.org/wiki/Octal\" rel=\"nofollow noreferrer\">octal</a> (base-8) number. See <a href=\"https://docs.oracle.com/javase/specs/jls/se12/html/jls-3.html#jls-3.10.1\" rel=\"nofollow noreferrer\">section 3.10.1 of the <i>Java Language Specification</i></a>."}],"tags":[],"owner":{"account_id":200606,"reputation":599,"user_id":446549,"accept_rate":62,"display_name":"JasonH"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539967405,"creation_date":1539899786,"answer_id":52883169,"question_id":17697908,"body_markdown":"I did it this way:\r\n\r\n    LocalTime time = LocalTime.now();\r\n    if (time.isAfter(LocalTime.of(02, 00)) &amp;&amp; (time.isBefore(LocalTime.of(04, 00))))\r\n\t{\r\n\t    log.info(&quot;Checking after 2AM, before 4AM!&quot;);\t\t\t\t\t\r\n\t}\r\n\r\nEdit:\r\n\t\r\n    String time1 = &quot;01:00:00&quot;;  \r\n    String time2 = &quot;15:00:00&quot;;  \r\n    LocalTime time = LocalTime.parse(time2);  \r\n    if ((time.isAfter(LocalTime.of(20,11,13))) || (time.isBefore(LocalTime.of(14,49,0))))  \r\n    {  \r\n        System.out.println(&quot;true&quot;);  \r\n    }  \r\n    else  \r\n    {  \r\n        System.out.println(&quot;false&quot;);  \r\n    }  \t \r\n\r\n","title":"Check if a given time lies between two times regardless of date","body":"<p>I did it this way:</p>\n\n<pre><code>LocalTime time = LocalTime.now();\nif (time.isAfter(LocalTime.of(02, 00)) &amp;&amp; (time.isBefore(LocalTime.of(04, 00))))\n{\n    log.info(\"Checking after 2AM, before 4AM!\");                    \n}\n</code></pre>\n\n<p>Edit:</p>\n\n<pre><code>String time1 = \"01:00:00\";  \nString time2 = \"15:00:00\";  \nLocalTime time = LocalTime.parse(time2);  \nif ((time.isAfter(LocalTime.of(20,11,13))) || (time.isBefore(LocalTime.of(14,49,0))))  \n{  \n    System.out.println(\"true\");  \n}  \nelse  \n{  \n    System.out.println(\"false\");  \n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14964387,"reputation":11,"user_id":10803141,"display_name":"Dmitry B."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545079812,"creation_date":1545079812,"answer_id":53822799,"question_id":17697908,"body_markdown":"Here is a solution that uses the new Java 8 classes, is compact, requires no regular expressions or manual arithmetic operations.  My solution is coded for inclusive startTime and exclusive endTime, but can easily be modified for your needs.\r\n\r\n    private boolean isTimeBetween(String timeToTest, String startTime, String endTime) {\r\n\r\n\t\tLocalTime timeToTestDt = LocalTime.parse(timeToTest, DateTimeFormatter.ISO_LOCAL_TIME);\r\n\t\tLocalTime startTimeDt = LocalTime.parse(startTime, DateTimeFormatter.ISO_LOCAL_TIME);\r\n\t\tLocalTime endTimeDt = LocalTime.parse(endTime, DateTimeFormatter.ISO_LOCAL_TIME);\r\n\t\t\r\n        if(startTime.equals(endTime)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\telse if(startTimeDt.isBefore(endTimeDt)) {  // Period does not cross the day boundary\r\n\t\t\treturn (timeToTest.equals(startTime) || timeToTestDt.isAfter(startTimeDt)) \r\n\t\t\t\t\t&amp;&amp; timeToTestDt.isBefore(endTimeDt);\r\n\t\t} else {  // Time period spans two days, e.g. 23:00 to 2:00\r\n\t\t\treturn (!((timeToTestDt.isAfter(endTimeDt) || timeToTest.equals(endTime)) \r\n\t\t\t\t\t&amp;&amp; timeToTestDt.isBefore(startTimeDt)));\r\n\t\t}\r\n\t}\r\n\t\r\n\t// getTimeSpans() from the original question would then look like this\r\n\tpublic void getTimeSpans()\r\n\t{\r\n\t\tboolean firstTime = isTimeBetween(&quot;01:00:00&quot;, &quot;20:11:13&quot;, &quot;14:49:00&quot;);\r\n\t\tboolean secondTime = isTimeBetween(&quot;05:00:00&quot;, &quot;20:11:13&quot;, &quot;14:49:00&quot;);\r\n\t }","title":"Check if a given time lies between two times regardless of date","body":"<p>Here is a solution that uses the new Java 8 classes, is compact, requires no regular expressions or manual arithmetic operations.  My solution is coded for inclusive startTime and exclusive endTime, but can easily be modified for your needs.</p>\n\n<pre><code>private boolean isTimeBetween(String timeToTest, String startTime, String endTime) {\n\n    LocalTime timeToTestDt = LocalTime.parse(timeToTest, DateTimeFormatter.ISO_LOCAL_TIME);\n    LocalTime startTimeDt = LocalTime.parse(startTime, DateTimeFormatter.ISO_LOCAL_TIME);\n    LocalTime endTimeDt = LocalTime.parse(endTime, DateTimeFormatter.ISO_LOCAL_TIME);\n\n    if(startTime.equals(endTime)) {\n        return false;\n    }\n    else if(startTimeDt.isBefore(endTimeDt)) {  // Period does not cross the day boundary\n        return (timeToTest.equals(startTime) || timeToTestDt.isAfter(startTimeDt)) \n                &amp;&amp; timeToTestDt.isBefore(endTimeDt);\n    } else {  // Time period spans two days, e.g. 23:00 to 2:00\n        return (!((timeToTestDt.isAfter(endTimeDt) || timeToTest.equals(endTime)) \n                &amp;&amp; timeToTestDt.isBefore(startTimeDt)));\n    }\n}\n\n// getTimeSpans() from the original question would then look like this\npublic void getTimeSpans()\n{\n    boolean firstTime = isTimeBetween(\"01:00:00\", \"20:11:13\", \"14:49:00\");\n    boolean secondTime = isTimeBetween(\"05:00:00\", \"20:11:13\", \"14:49:00\");\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2704150,"reputation":1168,"user_id":2334114,"display_name":"ShadowGames"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554458999,"creation_date":1554290861,"answer_id":55494057,"question_id":17697908,"body_markdown":"Based on the ideas and solutions of most authors here, I&#39;d like to share my refined solution with a presumably cleaner code:\r\n\r\n        /**\r\n     * Checks if some date is within a time window given by start and end dates\r\n     *\r\n     * @param checkDate - date to check if its hours and minutes is between the startDate and endDate\r\n     * @param startDate - startDate of the time window\r\n     * @param endDate - endDate of the time window\r\n     * @return - returns true if hours and minutes of checkDate is between startDate and endDate\r\n     */\r\n    public static boolean isDateBetweenStartAndEndHoursAndMinutes(Date checkDate, Date startDate, Date endDate) {\r\n        if (startDate == null || endDate == null)\r\n            return false;\r\n\r\n        LocalDateTime checkLdt = LocalDateTime.ofInstant(Instant.ofEpochMilli(checkDate.getTime()), ZoneId.systemDefault());\r\n        LocalDateTime startLdt = LocalDateTime.ofInstant(Instant.ofEpochMilli(startDate.getTime()), ZoneId.systemDefault());\r\n        LocalDateTime endLdt = LocalDateTime.ofInstant(Instant.ofEpochMilli(endDate.getTime()), ZoneId.systemDefault());\r\n\r\n        // Table of situations:\r\n        // Input dates: start (a), end (b), check (c)\r\n        // Interpretations:\r\n        // t(x) = time of point x on timeline; v(x) = nominal value of x\r\n\r\n        // Situation A - crossing midnight:\r\n        // c INSIDE\r\n        //      1) t(a) &lt; t(c) &lt; t(b) | v(b) &lt; v(a) &lt; v(c) // e.g. a=22:00, b=03:00, c=23:00 (before midnight)\r\n        //      2) t(a) &lt; t(c) &lt; t(b) | v(c) &lt; v(b) &lt; v(a) // e.g. a=22:00, b=03:00, c=01:00 (after midnight)\r\n        // c OUTSIDE\r\n        //      3) t(c) &lt; t(a) &lt; t(b) | v(b) &lt; v(c) &lt; v(a) // e.g. a=22:00, b=03:00, c=21:00\r\n        //      4) t(a) &lt; t(b) &lt; t(c) | v(b) &lt; v(c) &lt; v(a) // e.g. a=22:00, b=03:00, c=04:00\r\n\r\n        //                              ^--- v(b) &lt; v(a) always when shift spans around midnight!\r\n\r\n        // Situation B - after/before midnight:\r\n        // c INSIDE\r\n        //      1) t(a) = t(c) &lt; t(b) | v(a) = v(c) &lt; v(b) // e.g. a=06:00, b=14:00, c=06:00\r\n        //      2) t(a) &lt; t(c) &lt; t(b) | v(a) &lt; v(c) &lt; v(b) // e.g. a=06:00, b=14:00, c=08:00\r\n        // c OUTSIDE\r\n        //      3) t(c) &lt; t(a) &lt; t(b) | v(c) &lt; v(a) &lt; v(b) // e.g. a=06:00, b=14:00, c=05:00\r\n        //      4) t(a) &lt; t(b) = t(c) | v(a) &lt; v(b) = v(c) // e.g. a=06:00, b=14:00, c=14:00\r\n        //      5) t(a) &lt; t(b) &lt; t(c) | v(a) &lt; v(b) &lt; v(c) // e.g. a=06:00, b=14:00, c=15:00\r\n\r\n        //                              ^--- v(a) &lt; v(b) if shift starts after midnight and ends before midnight!\r\n\r\n        // Check for situation A - crossing midnight?\r\n        boolean crossingMidnight = endLdt.isBefore(startLdt);\r\n\r\n        if (crossingMidnight) {\r\n            // A.1\r\n            if ((startLdt.isBefore(checkLdt) || startLdt.isEqual(checkLdt))  // t(a) &lt; t(c)\r\n                    &amp;&amp; checkLdt.isBefore(endLdt.plusDays(1))) // t(c) &lt; t(b+1D)\r\n                return true;\r\n\r\n            // A.2\r\n            if (startLdt.isBefore(checkLdt.plusDays(1))   // t(a) &lt; t(c+1D)\r\n                    &amp;&amp; checkLdt.isBefore(endLdt)) // t(c) &lt; t(b)\r\n                return true;\r\n\r\n            // A.3\r\n            if (startLdt.isBefore(endLdt.plusDays(1))   // t(a) &lt; t(b+1D)\r\n                    &amp;&amp; checkLdt.isBefore(startLdt)) // t(c) &lt; t(a)\r\n                return false;\r\n\r\n            // A.4\r\n            if (startLdt.isBefore(endLdt.plusDays(1))   // t(a) &lt; t(b+1D)\r\n                    &amp;&amp; checkLdt.isAfter(endLdt)) // t(b) &lt; t(c)\r\n                return false;\r\n        } else {\r\n            // B.1 + B.2\r\n            if ((startLdt.isEqual(checkLdt) || startLdt.isBefore(checkLdt))  // t(a) = t(c) || t(a) &lt; t(c)\r\n                    &amp;&amp; checkLdt.isBefore(endLdt)) // t(c) &lt; t(b)\r\n                return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\nFor the sake of completeness I&#39;ve added the conditions of A.3 and A.4, but in productive code you can leave it out.\r\n\r\nNow you can simply create your start and end dates, as well as your time you want to check and call this static method. The code would go then as follows:\r\n\r\n    Date check = new SimpleDateFormat(&quot;HH:mm:ss&quot;).parse(&quot;01:00:00&quot;);\r\n    Date start = new SimpleDateFormat(&quot;HH:mm:ss&quot;).parse(&quot;20:11:13&quot;);\r\n    Date end = new SimpleDateFormat(&quot;HH:mm:ss&quot;).parse(&quot;14:49:00&quot;);\r\n\r\n    if (isDateBetweenStartAndEndHoursAndMinutes(check, start, end)) {\r\n        Print(&quot;checkDate is within start and End date!&quot;); // adjust this true condition to your needs\r\n    }\r\n\r\nFor the TDD aspect I&#39;ve added unit tests for the scenarios A and B as given above. Please feel free to check it out and report back if you find any errors or spots for optimization.\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.util.Date;\r\n\r\n    import static org.junit.Assert.assertFalse;\r\n    import static org.junit.Assert.assertTrue;\r\n\r\n    class LogiqDateUtilsTest  {\r\n\r\n        private LocalDateTime startShiftSituationALdt = LocalDateTime.of(0, 1, 1, 22, 0);\r\n        private Date startOfShiftSituationA = Date.from(startShiftSituationALdt.atZone(ZoneId.systemDefault()).toInstant());\r\n\r\n        private LocalDateTime endShiftSituationALdt = LocalDateTime.of(0, 1, 1, 3, 0);\r\n        private Date endOfShiftSituationA = Date.from(endShiftSituationALdt.atZone(ZoneId.systemDefault()).toInstant());\r\n    \r\n        private LocalDateTime startShiftSituationBLdt = LocalDateTime.of(0, 1, 1, 6, 0);\r\n        private Date startOfShiftSituationB = Date.from(startShiftSituationBLdt.atZone(ZoneId.systemDefault()).toInstant());\r\n\r\n        private LocalDateTime endShiftSituationBLdt = LocalDateTime.of(0, 1, 1, 14, 0);\r\n        private Date endOfShiftSituationB = Date.from(endShiftSituationBLdt.atZone(ZoneId.systemDefault()).toInstant());\r\n\r\n        @Test\r\n        void testSituationA1() {\r\n            LocalDateTime checkLdt = LocalDateTime.of(0, 1, 1, 23, 0);\r\n            Date checkBetween = Date.from(checkLdt.atZone(ZoneId.systemDefault()).toInstant());\r\n\r\n            assertTrue(isDateBetweenStartAndEndHoursAndMinutes(checkBetween, startOfShiftSituationA, endOfShiftSituationA));\r\n        }\r\n\r\n        @Test\r\n        void testSituationA2() {\r\n            LocalDateTime checkLdt = LocalDateTime.of(0, 1, 1, 1, 0);\r\n            Date checkBetween = Date.from(checkLdt.atZone(ZoneId.systemDefault()).toInstant());\r\n\r\n            assertTrue(isDateBetweenStartAndEndHoursAndMinutes(checkBetween, startOfShiftSituationA, endOfShiftSituationA));\r\n        }\r\n\r\n        @Test\r\n        void testSituationA3() {\r\n            LocalDateTime checkLdt = LocalDateTime.of(0, 1, 1, 21, 1);\r\n            Date checkBetween = Date.from(checkLdt.atZone(ZoneId.systemDefault()).toInstant());\r\n\r\n            assertFalse(isDateBetweenStartAndEndHoursAndMinutes(checkBetween, startOfShiftSituationA, endOfShiftSituationA));\r\n        }\r\n\r\n        @Test\r\n        void testSituationA4() {\r\n            LocalDateTime checkLdt = LocalDateTime.of(0, 1, 1, 4, 1);\r\n            Date checkBetween = Date.from(checkLdt.atZone(ZoneId.systemDefault()).toInstant());\r\n\r\n            assertFalse(isDateBetweenStartAndEndHoursAndMinutes(checkBetween, startOfShiftSituationA, endOfShiftSituationA));\r\n        }\r\n\r\n        @Test\r\n        void testSituationB1() {\r\n            LocalDateTime checkLdt = LocalDateTime.of(0, 1, 1, 6, 0);\r\n            Date checkBetween = Date.from(checkLdt.atZone(ZoneId.systemDefault()).toInstant());\r\n\r\n            assertTrue(isDateBetweenStartAndEndHoursAndMinutes(checkBetween, startOfShiftSituationB, endOfShiftSituationB));\r\n        }\r\n\r\n        @Test\r\n        void testSituationB2() {\r\n            LocalDateTime checkLdt = LocalDateTime.of(0, 1, 1, 8, 0);\r\n            Date checkBetween = Date.from(checkLdt.atZone(ZoneId.systemDefault()).toInstant());\r\n\r\n            assertTrue(isDateBetweenStartAndEndHoursAndMinutes(checkBetween, startOfShiftSituationB, endOfShiftSituationB));\r\n        }\r\n\r\n        @Test\r\n        void testSituationB3() {\r\n            LocalDateTime checkLdt = LocalDateTime.of(0, 1, 1, 5, 0);\r\n            Date checkBetween = Date.from(checkLdt.atZone(ZoneId.systemDefault()).toInstant());\r\n\r\n            assertFalse(isDateBetweenStartAndEndHoursAndMinutes(checkBetween, startOfShiftSituationB, endOfShiftSituationB));\r\n        }\r\n\r\n        @Test\r\n        void testSituationB4() {\r\n            LocalDateTime checkLdt = LocalDateTime.of(0, 1, 1, 14, 0);\r\n            Date checkBetween = Date.from(checkLdt.atZone(ZoneId.systemDefault()).toInstant());\r\n\r\n            assertFalse(isDateBetweenStartAndEndHoursAndMinutes(checkBetween, startOfShiftSituationB, endOfShiftSituationB));\r\n        }\r\n\r\n        @Test\r\n        void testSituationB5() {\r\n            LocalDateTime checkLdt = LocalDateTime.of(0, 1, 1, 15, 0);\r\n            Date checkBetween = Date.from(checkLdt.atZone(ZoneId.systemDefault()).toInstant());\r\n\r\n            assertFalse(isDateBetweenStartAndEndHoursAndMinutes(checkBetween, startOfShiftSituationB, endOfShiftSituationB));\r\n        }\r\n    }\r\n\r\nCheers!","title":"Check if a given time lies between two times regardless of date","body":"<p>Based on the ideas and solutions of most authors here, I'd like to share my refined solution with a presumably cleaner code:</p>\n\n<pre><code>    /**\n * Checks if some date is within a time window given by start and end dates\n *\n * @param checkDate - date to check if its hours and minutes is between the startDate and endDate\n * @param startDate - startDate of the time window\n * @param endDate - endDate of the time window\n * @return - returns true if hours and minutes of checkDate is between startDate and endDate\n */\npublic static boolean isDateBetweenStartAndEndHoursAndMinutes(Date checkDate, Date startDate, Date endDate) {\n    if (startDate == null || endDate == null)\n        return false;\n\n    LocalDateTime checkLdt = LocalDateTime.ofInstant(Instant.ofEpochMilli(checkDate.getTime()), ZoneId.systemDefault());\n    LocalDateTime startLdt = LocalDateTime.ofInstant(Instant.ofEpochMilli(startDate.getTime()), ZoneId.systemDefault());\n    LocalDateTime endLdt = LocalDateTime.ofInstant(Instant.ofEpochMilli(endDate.getTime()), ZoneId.systemDefault());\n\n    // Table of situations:\n    // Input dates: start (a), end (b), check (c)\n    // Interpretations:\n    // t(x) = time of point x on timeline; v(x) = nominal value of x\n\n    // Situation A - crossing midnight:\n    // c INSIDE\n    //      1) t(a) &lt; t(c) &lt; t(b) | v(b) &lt; v(a) &lt; v(c) // e.g. a=22:00, b=03:00, c=23:00 (before midnight)\n    //      2) t(a) &lt; t(c) &lt; t(b) | v(c) &lt; v(b) &lt; v(a) // e.g. a=22:00, b=03:00, c=01:00 (after midnight)\n    // c OUTSIDE\n    //      3) t(c) &lt; t(a) &lt; t(b) | v(b) &lt; v(c) &lt; v(a) // e.g. a=22:00, b=03:00, c=21:00\n    //      4) t(a) &lt; t(b) &lt; t(c) | v(b) &lt; v(c) &lt; v(a) // e.g. a=22:00, b=03:00, c=04:00\n\n    //                              ^--- v(b) &lt; v(a) always when shift spans around midnight!\n\n    // Situation B - after/before midnight:\n    // c INSIDE\n    //      1) t(a) = t(c) &lt; t(b) | v(a) = v(c) &lt; v(b) // e.g. a=06:00, b=14:00, c=06:00\n    //      2) t(a) &lt; t(c) &lt; t(b) | v(a) &lt; v(c) &lt; v(b) // e.g. a=06:00, b=14:00, c=08:00\n    // c OUTSIDE\n    //      3) t(c) &lt; t(a) &lt; t(b) | v(c) &lt; v(a) &lt; v(b) // e.g. a=06:00, b=14:00, c=05:00\n    //      4) t(a) &lt; t(b) = t(c) | v(a) &lt; v(b) = v(c) // e.g. a=06:00, b=14:00, c=14:00\n    //      5) t(a) &lt; t(b) &lt; t(c) | v(a) &lt; v(b) &lt; v(c) // e.g. a=06:00, b=14:00, c=15:00\n\n    //                              ^--- v(a) &lt; v(b) if shift starts after midnight and ends before midnight!\n\n    // Check for situation A - crossing midnight?\n    boolean crossingMidnight = endLdt.isBefore(startLdt);\n\n    if (crossingMidnight) {\n        // A.1\n        if ((startLdt.isBefore(checkLdt) || startLdt.isEqual(checkLdt))  // t(a) &lt; t(c)\n                &amp;&amp; checkLdt.isBefore(endLdt.plusDays(1))) // t(c) &lt; t(b+1D)\n            return true;\n\n        // A.2\n        if (startLdt.isBefore(checkLdt.plusDays(1))   // t(a) &lt; t(c+1D)\n                &amp;&amp; checkLdt.isBefore(endLdt)) // t(c) &lt; t(b)\n            return true;\n\n        // A.3\n        if (startLdt.isBefore(endLdt.plusDays(1))   // t(a) &lt; t(b+1D)\n                &amp;&amp; checkLdt.isBefore(startLdt)) // t(c) &lt; t(a)\n            return false;\n\n        // A.4\n        if (startLdt.isBefore(endLdt.plusDays(1))   // t(a) &lt; t(b+1D)\n                &amp;&amp; checkLdt.isAfter(endLdt)) // t(b) &lt; t(c)\n            return false;\n    } else {\n        // B.1 + B.2\n        if ((startLdt.isEqual(checkLdt) || startLdt.isBefore(checkLdt))  // t(a) = t(c) || t(a) &lt; t(c)\n                &amp;&amp; checkLdt.isBefore(endLdt)) // t(c) &lt; t(b)\n            return true;\n    }\n\n    return false;\n}\n</code></pre>\n\n<p>For the sake of completeness I've added the conditions of A.3 and A.4, but in productive code you can leave it out.</p>\n\n<p>Now you can simply create your start and end dates, as well as your time you want to check and call this static method. The code would go then as follows:</p>\n\n<pre><code>Date check = new SimpleDateFormat(\"HH:mm:ss\").parse(\"01:00:00\");\nDate start = new SimpleDateFormat(\"HH:mm:ss\").parse(\"20:11:13\");\nDate end = new SimpleDateFormat(\"HH:mm:ss\").parse(\"14:49:00\");\n\nif (isDateBetweenStartAndEndHoursAndMinutes(check, start, end)) {\n    Print(\"checkDate is within start and End date!\"); // adjust this true condition to your needs\n}\n</code></pre>\n\n<p>For the TDD aspect I've added unit tests for the scenarios A and B as given above. Please feel free to check it out and report back if you find any errors or spots for optimization.</p>\n\n<pre><code>import org.junit.jupiter.api.Test;\n\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.util.Date;\n\nimport static org.junit.Assert.assertFalse;\nimport static org.junit.Assert.assertTrue;\n\nclass LogiqDateUtilsTest  {\n\n    private LocalDateTime startShiftSituationALdt = LocalDateTime.of(0, 1, 1, 22, 0);\n    private Date startOfShiftSituationA = Date.from(startShiftSituationALdt.atZone(ZoneId.systemDefault()).toInstant());\n\n    private LocalDateTime endShiftSituationALdt = LocalDateTime.of(0, 1, 1, 3, 0);\n    private Date endOfShiftSituationA = Date.from(endShiftSituationALdt.atZone(ZoneId.systemDefault()).toInstant());\n\n    private LocalDateTime startShiftSituationBLdt = LocalDateTime.of(0, 1, 1, 6, 0);\n    private Date startOfShiftSituationB = Date.from(startShiftSituationBLdt.atZone(ZoneId.systemDefault()).toInstant());\n\n    private LocalDateTime endShiftSituationBLdt = LocalDateTime.of(0, 1, 1, 14, 0);\n    private Date endOfShiftSituationB = Date.from(endShiftSituationBLdt.atZone(ZoneId.systemDefault()).toInstant());\n\n    @Test\n    void testSituationA1() {\n        LocalDateTime checkLdt = LocalDateTime.of(0, 1, 1, 23, 0);\n        Date checkBetween = Date.from(checkLdt.atZone(ZoneId.systemDefault()).toInstant());\n\n        assertTrue(isDateBetweenStartAndEndHoursAndMinutes(checkBetween, startOfShiftSituationA, endOfShiftSituationA));\n    }\n\n    @Test\n    void testSituationA2() {\n        LocalDateTime checkLdt = LocalDateTime.of(0, 1, 1, 1, 0);\n        Date checkBetween = Date.from(checkLdt.atZone(ZoneId.systemDefault()).toInstant());\n\n        assertTrue(isDateBetweenStartAndEndHoursAndMinutes(checkBetween, startOfShiftSituationA, endOfShiftSituationA));\n    }\n\n    @Test\n    void testSituationA3() {\n        LocalDateTime checkLdt = LocalDateTime.of(0, 1, 1, 21, 1);\n        Date checkBetween = Date.from(checkLdt.atZone(ZoneId.systemDefault()).toInstant());\n\n        assertFalse(isDateBetweenStartAndEndHoursAndMinutes(checkBetween, startOfShiftSituationA, endOfShiftSituationA));\n    }\n\n    @Test\n    void testSituationA4() {\n        LocalDateTime checkLdt = LocalDateTime.of(0, 1, 1, 4, 1);\n        Date checkBetween = Date.from(checkLdt.atZone(ZoneId.systemDefault()).toInstant());\n\n        assertFalse(isDateBetweenStartAndEndHoursAndMinutes(checkBetween, startOfShiftSituationA, endOfShiftSituationA));\n    }\n\n    @Test\n    void testSituationB1() {\n        LocalDateTime checkLdt = LocalDateTime.of(0, 1, 1, 6, 0);\n        Date checkBetween = Date.from(checkLdt.atZone(ZoneId.systemDefault()).toInstant());\n\n        assertTrue(isDateBetweenStartAndEndHoursAndMinutes(checkBetween, startOfShiftSituationB, endOfShiftSituationB));\n    }\n\n    @Test\n    void testSituationB2() {\n        LocalDateTime checkLdt = LocalDateTime.of(0, 1, 1, 8, 0);\n        Date checkBetween = Date.from(checkLdt.atZone(ZoneId.systemDefault()).toInstant());\n\n        assertTrue(isDateBetweenStartAndEndHoursAndMinutes(checkBetween, startOfShiftSituationB, endOfShiftSituationB));\n    }\n\n    @Test\n    void testSituationB3() {\n        LocalDateTime checkLdt = LocalDateTime.of(0, 1, 1, 5, 0);\n        Date checkBetween = Date.from(checkLdt.atZone(ZoneId.systemDefault()).toInstant());\n\n        assertFalse(isDateBetweenStartAndEndHoursAndMinutes(checkBetween, startOfShiftSituationB, endOfShiftSituationB));\n    }\n\n    @Test\n    void testSituationB4() {\n        LocalDateTime checkLdt = LocalDateTime.of(0, 1, 1, 14, 0);\n        Date checkBetween = Date.from(checkLdt.atZone(ZoneId.systemDefault()).toInstant());\n\n        assertFalse(isDateBetweenStartAndEndHoursAndMinutes(checkBetween, startOfShiftSituationB, endOfShiftSituationB));\n    }\n\n    @Test\n    void testSituationB5() {\n        LocalDateTime checkLdt = LocalDateTime.of(0, 1, 1, 15, 0);\n        Date checkBetween = Date.from(checkLdt.atZone(ZoneId.systemDefault()).toInstant());\n\n        assertFalse(isDateBetweenStartAndEndHoursAndMinutes(checkBetween, startOfShiftSituationB, endOfShiftSituationB));\n    }\n}\n</code></pre>\n\n<p>Cheers!</p>\n"},{"comments":[{"owner":{"account_id":11097130,"reputation":514,"user_id":8146873,"display_name":"Dinesh Shekhawat"},"score":0,"creation_date":1561732437,"post_id":55612146,"comment_id":100171774,"body_markdown":"Simple and elegant! Thanks a lot!","body":"Simple and elegant! Thanks a lot!"},{"owner":{"account_id":10155417,"reputation":1130,"user_id":7500651,"accept_rate":60,"display_name":"ansh sachdeva"},"score":0,"creation_date":1566240203,"post_id":55612146,"comment_id":101586330,"body_markdown":"I tried using this for My Android app, its saying its for only Api26+ , can anyone help?","body":"I tried using this for My Android app, its saying its for only Api26+ , can anyone help?"},{"owner":{"account_id":10155417,"reputation":1130,"user_id":7500651,"accept_rate":60,"display_name":"ansh sachdeva"},"score":0,"creation_date":1566241043,"post_id":55612146,"comment_id":101586673,"body_markdown":"@AlexMamo which change?","body":"@AlexMamo which change?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1566241120,"post_id":55612146,"comment_id":101586699,"body_markdown":"Change to `Api26+`.","body":"Change to <code>Api26+</code>."},{"owner":{"account_id":10155417,"reputation":1130,"user_id":7500651,"accept_rate":60,"display_name":"ansh sachdeva"},"score":1,"creation_date":1566242675,"post_id":55612146,"comment_id":101587261,"body_markdown":"@AlexMamo yes ofcourse it would run for  api 26 and above ,but i want to support  till android lollipop( api 21)","body":"@AlexMamo yes ofcourse it would run for  api 26 and above ,but i want to support  till android lollipop( api 21)"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1566243013,"post_id":55612146,"comment_id":101587385,"body_markdown":"In this case you should try another approach.","body":"In this case you should try another approach."},{"owner":{"account_id":4229586,"reputation":590,"user_id":3462243,"accept_rate":100,"display_name":"uncle bob"},"score":1,"creation_date":1627833709,"post_id":55612146,"comment_id":121256369,"body_markdown":"best and simple answer","body":"best and simple answer"},{"owner":{"account_id":2037900,"reputation":105,"user_id":1819780,"accept_rate":70,"display_name":"user1819780"},"score":1,"creation_date":1677494176,"post_id":55612146,"comment_id":133341899,"body_markdown":"Appreciated - This is the best answer.","body":"Appreciated - This is the best answer."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":8,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1566245216,"creation_date":1554897888,"answer_id":55612146,"question_id":17697908,"body_markdown":"There are lots of answers here but I want to provide a new one which is similar with [Basil Bourque&#39;s answer][1] but with a full code example. So please see the method below:\r\n\r\n\tprivate static void checkTime(String startTime, String endTime, String checkTime) {\r\n\t\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;, Locale.US);\r\n\t\tLocalTime startLocalTime = LocalTime.parse(startTime, formatter);\r\n\t\tLocalTime endLocalTime = LocalTime.parse(endTime, formatter);\r\n\t\tLocalTime checkLocalTime = LocalTime.parse(checkTime, formatter);\r\n\t\t\r\n\t\tboolean isInBetween = false;\r\n\t\tif (endLocalTime.isAfter(startLocalTime)) {\r\n\t\t  if (startLocalTime.isBefore(checkLocalTime) &amp;&amp; endLocalTime.isAfter(checkLocalTime)) {\r\n\t\t\t  isInBetween = true;\r\n\t\t  }\r\n\t\t} else if (checkLocalTime.isAfter(startLocalTime) || checkLocalTime.isBefore(endLocalTime)) {\r\n\t\t\tisInBetween = true;\r\n\t\t}\r\n\r\n\t\tif (isInBetween) {\r\n\t\t\tSystem.out.println(&quot;Is in between!&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Is not in between!&quot;);\r\n\t\t}\r\n\t}\r\n\r\nEither if you are calling this method using:\r\n\r\n    checkTime(&quot;20:11:13&quot;, &quot;14:49:00&quot;, &quot;01:00:00&quot;);\r\n\r\nOr using:\r\n\r\n    checkTime(&quot;20:11:13&quot;, &quot;14:49:00&quot;, &quot;05:00:00&quot;);\r\n\r\nThe result will be:\r\n\r\n    Is in between!\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39712175/642706","title":"Check if a given time lies between two times regardless of date","body":"<p>There are lots of answers here but I want to provide a new one which is similar with <a href=\"https://stackoverflow.com/a/39712175/642706\">Basil Bourque's answer</a> but with a full code example. So please see the method below:</p>\n\n<pre><code>private static void checkTime(String startTime, String endTime, String checkTime) {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"HH:mm:ss\", Locale.US);\n    LocalTime startLocalTime = LocalTime.parse(startTime, formatter);\n    LocalTime endLocalTime = LocalTime.parse(endTime, formatter);\n    LocalTime checkLocalTime = LocalTime.parse(checkTime, formatter);\n\n    boolean isInBetween = false;\n    if (endLocalTime.isAfter(startLocalTime)) {\n      if (startLocalTime.isBefore(checkLocalTime) &amp;&amp; endLocalTime.isAfter(checkLocalTime)) {\n          isInBetween = true;\n      }\n    } else if (checkLocalTime.isAfter(startLocalTime) || checkLocalTime.isBefore(endLocalTime)) {\n        isInBetween = true;\n    }\n\n    if (isInBetween) {\n        System.out.println(\"Is in between!\");\n    } else {\n        System.out.println(\"Is not in between!\");\n    }\n}\n</code></pre>\n\n<p>Either if you are calling this method using:</p>\n\n<pre><code>checkTime(\"20:11:13\", \"14:49:00\", \"01:00:00\");\n</code></pre>\n\n<p>Or using:</p>\n\n<pre><code>checkTime(\"20:11:13\", \"14:49:00\", \"05:00:00\");\n</code></pre>\n\n<p>The result will be:</p>\n\n<pre><code>Is in between!\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1588346349,"post_id":61538187,"comment_id":108867595,"body_markdown":"Please don’t teach the young ones to use the long outdated and notoriously troublesome `SimpleDateFormat` class. At least not as the first option. And not without any reservation. Today we have so much better in [`java.time`, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/) and its `DateTimeFormatter`. Also what is the point when for example the answer by BasilBourque obtains it in just 6 simple and short lines?","body":"Please don’t teach the young ones to use the long outdated and notoriously troublesome <code>SimpleDateFormat</code> class. At least not as the first option. And not without any reservation. Today we have so much better in <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API,</a> and its <code>DateTimeFormatter</code>. Also what is the point when for example the answer by BasilBourque obtains it in just 6 simple and short lines?"}],"tags":[],"owner":{"account_id":7699787,"reputation":126,"user_id":5832832,"display_name":"Taras Yurkiv"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588316470,"creation_date":1588316470,"answer_id":61538187,"question_id":17697908,"body_markdown":"    /**\r\n\t * @param initialTime - in format HH:mm:ss\r\n\t * @param finalTime   - in format HH:mm:ss\r\n\t * @param timeToCheck - in format HH:mm:ss\r\n\t * @return initialTime &lt;= timeToCheck &lt; finalTime\r\n\t * @throws IllegalArgumentException if passed date with wrong format\r\n\t */\r\n\tpublic static boolean isTimeBetweenTwoTime(String initialTime, String finalTime, String timeToCheck) throws IllegalArgumentException {\r\n\t\tString reg = &quot;^([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$&quot;;\r\n\t\tif (initialTime.matches(reg) &amp;&amp; finalTime.matches(reg) &amp;&amp; timeToCheck.matches(reg)) {\r\n\t\t\tSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;, Locale.getDefault());\r\n\t\t\tDate inTime = parseDate(dateFormat, initialTime);\r\n\t\t\tDate finTime = parseDate(dateFormat, finalTime);\r\n\t\t\tDate checkedTime = parseDate(dateFormat, timeToCheck);\r\n\r\n\t\t\tif (finalTime.compareTo(initialTime) &lt; 0) {\r\n\t\t\t\tCalendar calendar = Calendar.getInstance();\r\n\t\t\t\tcalendar.setTime(finTime);\r\n\t\t\t\tcalendar.add(Calendar.DAY_OF_YEAR, 1);\r\n\t\t\t\tfinTime = calendar.getTime();\r\n\t\t\t\tif (timeToCheck.compareTo(initialTime) &lt; 0) {\r\n\t\t\t\t\tcalendar.setTime(checkedTime);\r\n\t\t\t\t\tcalendar.add(Calendar.DAY_OF_YEAR, 1);\r\n\t\t\t\t\tcheckedTime = calendar.getTime();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn (checkedTime.after(inTime) || checkedTime.compareTo(inTime) == 0) &amp;&amp; checkedTime.before(finTime);\r\n\t\t} else {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Not a valid time, expecting HH:MM:SS format&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @param initialTime - in format HH:mm:ss\r\n\t * @param finalTime   - in format HH:mm:ss\r\n\t * @return initialTime &lt;= now &lt; finalTime\r\n\t * @throws IllegalArgumentException if passed date with wrong format\r\n\t */\r\n\tpublic static boolean isNowBetweenTwoTime(String initialTime, String finalTime) throws IllegalArgumentException {\r\n\t\treturn isTimeBetweenTwoTime(initialTime, finalTime,\r\n\t\t\t\tString.valueOf(DateFormat.format(&quot;HH:mm:ss&quot;, new Date()))\r\n\t\t);\r\n\t}\r\n\r\n\tprivate static Date parseDate(SimpleDateFormat dateFormat, String data) {\r\n\t\ttry {\r\n\t\t\treturn dateFormat.parse(data);\r\n\t\t} catch (ParseException e) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Not a valid time&quot;);\r\n\t\t}\r\n\t}","title":"Check if a given time lies between two times regardless of date","body":"<pre><code>/**\n * @param initialTime - in format HH:mm:ss\n * @param finalTime   - in format HH:mm:ss\n * @param timeToCheck - in format HH:mm:ss\n * @return initialTime &lt;= timeToCheck &lt; finalTime\n * @throws IllegalArgumentException if passed date with wrong format\n */\npublic static boolean isTimeBetweenTwoTime(String initialTime, String finalTime, String timeToCheck) throws IllegalArgumentException {\n    String reg = \"^([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$\";\n    if (initialTime.matches(reg) &amp;&amp; finalTime.matches(reg) &amp;&amp; timeToCheck.matches(reg)) {\n        SimpleDateFormat dateFormat = new SimpleDateFormat(\"HH:mm:ss\", Locale.getDefault());\n        Date inTime = parseDate(dateFormat, initialTime);\n        Date finTime = parseDate(dateFormat, finalTime);\n        Date checkedTime = parseDate(dateFormat, timeToCheck);\n\n        if (finalTime.compareTo(initialTime) &lt; 0) {\n            Calendar calendar = Calendar.getInstance();\n            calendar.setTime(finTime);\n            calendar.add(Calendar.DAY_OF_YEAR, 1);\n            finTime = calendar.getTime();\n            if (timeToCheck.compareTo(initialTime) &lt; 0) {\n                calendar.setTime(checkedTime);\n                calendar.add(Calendar.DAY_OF_YEAR, 1);\n                checkedTime = calendar.getTime();\n            }\n        }\n\n        return (checkedTime.after(inTime) || checkedTime.compareTo(inTime) == 0) &amp;&amp; checkedTime.before(finTime);\n    } else {\n        throw new IllegalArgumentException(\"Not a valid time, expecting HH:MM:SS format\");\n    }\n}\n\n/**\n * @param initialTime - in format HH:mm:ss\n * @param finalTime   - in format HH:mm:ss\n * @return initialTime &lt;= now &lt; finalTime\n * @throws IllegalArgumentException if passed date with wrong format\n */\npublic static boolean isNowBetweenTwoTime(String initialTime, String finalTime) throws IllegalArgumentException {\n    return isTimeBetweenTwoTime(initialTime, finalTime,\n            String.valueOf(DateFormat.format(\"HH:mm:ss\", new Date()))\n    );\n}\n\nprivate static Date parseDate(SimpleDateFormat dateFormat, String data) {\n    try {\n        return dateFormat.parse(data);\n    } catch (ParseException e) {\n        throw new IllegalArgumentException(\"Not a valid time\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1592336133,"post_id":62403701,"comment_id":110388400,"body_markdown":"It’s good to use `LocalTime`, I agree. I don’t find your logic that simple and easy to follow, and it can certainly be still simpler.","body":"It’s good to use <code>LocalTime</code>, I agree. I don’t find your logic that simple and easy to follow, and it can certainly be still simpler."}],"tags":[],"owner":{"account_id":14193267,"reputation":31,"user_id":10253246,"display_name":"Ilya "},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610616804,"creation_date":1592294288,"answer_id":62403701,"question_id":17697908,"body_markdown":"Simple solution for all gaps:\r\n\r\n \r\n\r\n        public boolean isNowTimeBetween(String startTime, String endTime) {\r\n            LocalTime start = LocalTime.parse(startTime);//&quot;22:00&quot;\r\n            LocalTime end = LocalTime.parse(endTime);//&quot;10:00&quot;\r\n            LocalTime now = LocalTime.now();\r\n    \r\n            if (start.isBefore(end))\r\n                return now.isAfter(start) &amp;&amp; now.isBefore(end);\r\n    \r\n            return now.isBefore(start)\r\n                    ? now.isBefore(start) &amp;&amp; now.isBefore(end)\r\n                    : now.isAfter(start) &amp;&amp; now.isAfter(end);\r\n    }\r\n\r\n","title":"Check if a given time lies between two times regardless of date","body":"<p>Simple solution for all gaps:</p>\n<pre><code>    public boolean isNowTimeBetween(String startTime, String endTime) {\n        LocalTime start = LocalTime.parse(startTime);//&quot;22:00&quot;\n        LocalTime end = LocalTime.parse(endTime);//&quot;10:00&quot;\n        LocalTime now = LocalTime.now();\n\n        if (start.isBefore(end))\n            return now.isAfter(start) &amp;&amp; now.isBefore(end);\n\n        return now.isBefore(start)\n                ? now.isBefore(start) &amp;&amp; now.isBefore(end)\n                : now.isAfter(start) &amp;&amp; now.isAfter(end);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19026958,"reputation":1,"user_id":13889814,"display_name":"Ihor Tovkach"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594207122,"creation_date":1594206044,"answer_id":62793312,"question_id":17697908,"body_markdown":"This worked for me:\r\n\r\n    fun timeBetweenInterval(\r\n        openTime: String,\r\n        closeTime: String\r\n    ): Boolean {\r\n        try {\r\n            val dateFormat = SimpleDateFormat(TIME_FORMAT)\r\n            val afterCalendar = Calendar.getInstance().apply {\r\n                time = dateFormat.parse(openTime)\r\n                add(Calendar.DATE, 1)\r\n            }\r\n            val beforeCalendar = Calendar.getInstance().apply {\r\n                time = dateFormat.parse(closeTime)\r\n                add(Calendar.DATE, 1)\r\n            }\r\n    \r\n            val current = Calendar.getInstance().apply {\r\n                val localTime = dateFormat.format(timeInMillis)\r\n                time = dateFormat.parse(localTime)\r\n                add(Calendar.DATE, 1)\r\n            }\r\n            return current.time.after(afterCalendar.time) &amp;&amp; current.time.before(beforeCalendar.time)\r\n        } catch (e: ParseException) {\r\n            e.printStackTrace()\r\n            return false\r\n        }\r\n    }","title":"Check if a given time lies between two times regardless of date","body":"<p>This worked for me:</p>\n<pre><code>fun timeBetweenInterval(\n    openTime: String,\n    closeTime: String\n): Boolean {\n    try {\n        val dateFormat = SimpleDateFormat(TIME_FORMAT)\n        val afterCalendar = Calendar.getInstance().apply {\n            time = dateFormat.parse(openTime)\n            add(Calendar.DATE, 1)\n        }\n        val beforeCalendar = Calendar.getInstance().apply {\n            time = dateFormat.parse(closeTime)\n            add(Calendar.DATE, 1)\n        }\n\n        val current = Calendar.getInstance().apply {\n            val localTime = dateFormat.format(timeInMillis)\n            time = dateFormat.parse(localTime)\n            add(Calendar.DATE, 1)\n        }\n        return current.time.after(afterCalendar.time) &amp;&amp; current.time.before(beforeCalendar.time)\n    } catch (e: ParseException) {\n        e.printStackTrace()\n        return false\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1615226031,"post_id":66531749,"comment_id":117620400,"body_markdown":"I am fine with the assumptions and even more so when they are explicit as here. Please don’t teach the young ones to use the long outdated and notoriously troublesome `SimpleDateFormat` class. At least not as the first option. And not without any reservation. We have so much better in [`java.time`, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/) and its `DateTimeFormatter`.","body":"I am fine with the assumptions and even more so when they are explicit as here. Please don’t teach the young ones to use the long outdated and notoriously troublesome <code>SimpleDateFormat</code> class. At least not as the first option. And not without any reservation. We have so much better in <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API,</a> and its <code>DateTimeFormatter</code>."}],"tags":[],"owner":{"account_id":3590209,"reputation":1021,"user_id":2996452,"accept_rate":62,"display_name":"Jokkeri"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615214176,"creation_date":1615214176,"answer_id":66531749,"question_id":17697908,"body_markdown":"Based on Konstantin_Yovkov [answer][1] I would like to share my implementation which checks if current time will be in between given START and END time.\r\n\r\nThis implementation assumes that if given END time is &#39;before&#39; the START time, then END must be meant to be tomorrow:\r\n\r\n    public static boolean currentTimeInBetween(String start, String end)\r\n            throws ParseException {\r\n        // start = &quot;15:25&quot;;\r\n        java.util.Date starttime = new SimpleDateFormat(&quot;HH:mm&quot;).parse(start);\r\n        Calendar startcal = Calendar.getInstance();\r\n        startcal.setTime(starttime);\r\n\r\n        // end = &quot;14:00&quot;;\r\n        java.util.Date endtime = new SimpleDateFormat(&quot;HH:mm&quot;).parse(end);\r\n        Calendar endcal = Calendar.getInstance();\r\n        endcal.setTime(endtime);\r\n\r\n        DateFormat dateFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n        java.util.Date currenttime = dateFormat\r\n                .parse(dateFormat.format(new java.util.Date()));\r\n        Calendar currentcal = Calendar.getInstance();\r\n        currentcal.setTime(currenttime);\r\n\r\n        // If endTime &lt; startTime, assume that endTime is &#39;tomorrow&#39;\r\n        if (startcal.after(endcal)) {\r\n            endcal.add(Calendar.DATE, 1);\r\n        }\r\n\r\n        //            System.out.println(&quot;START&quot; + &quot; System Date: &quot; + startcal.getTime());\r\n        //            System.out.println(&quot;END&quot; + &quot; System Date: &quot; + endcal.getTime());\r\n        //            System.out.println(&quot;Current&quot; + &quot; System Date: &quot; + currentcal.getTime());\r\n\r\n        java.util.Date current = currentcal.getTime();\r\n        if (current.after(startcal.getTime())\r\n                &amp;&amp; current.before(endcal.getTime())) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/17698079/2996452","title":"Check if a given time lies between two times regardless of date","body":"<p>Based on Konstantin_Yovkov <a href=\"https://stackoverflow.com/a/17698079/2996452\">answer</a> I would like to share my implementation which checks if current time will be in between given START and END time.</p>\n<p>This implementation assumes that if given END time is 'before' the START time, then END must be meant to be tomorrow:</p>\n<pre><code>public static boolean currentTimeInBetween(String start, String end)\n        throws ParseException {\n    // start = &quot;15:25&quot;;\n    java.util.Date starttime = new SimpleDateFormat(&quot;HH:mm&quot;).parse(start);\n    Calendar startcal = Calendar.getInstance();\n    startcal.setTime(starttime);\n\n    // end = &quot;14:00&quot;;\n    java.util.Date endtime = new SimpleDateFormat(&quot;HH:mm&quot;).parse(end);\n    Calendar endcal = Calendar.getInstance();\n    endcal.setTime(endtime);\n\n    DateFormat dateFormat = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n    java.util.Date currenttime = dateFormat\n            .parse(dateFormat.format(new java.util.Date()));\n    Calendar currentcal = Calendar.getInstance();\n    currentcal.setTime(currenttime);\n\n    // If endTime &lt; startTime, assume that endTime is 'tomorrow'\n    if (startcal.after(endcal)) {\n        endcal.add(Calendar.DATE, 1);\n    }\n\n    //            System.out.println(&quot;START&quot; + &quot; System Date: &quot; + startcal.getTime());\n    //            System.out.println(&quot;END&quot; + &quot; System Date: &quot; + endcal.getTime());\n    //            System.out.println(&quot;Current&quot; + &quot; System Date: &quot; + currentcal.getTime());\n\n    java.util.Date current = currentcal.getTime();\n    if (current.after(startcal.getTime())\n            &amp;&amp; current.before(endcal.getTime())) {\n        return true;\n    } else {\n        return false;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1619104756,"post_id":67208378,"comment_id":118809372,"body_markdown":"I recommend you don’t use `Calendar` and `SimpleDateFormat`. Those classes are poorly designed and long outdated, the latter in particular notoriously troublesome. Instead use `LocalTime` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). Also I find your code even a little bit more confusing than it needed to be with `Calendar`.  Some explanation might help that part. And I am not convinced that it honours the *regardless of date*  part.","body":"I recommend you don’t use <code>Calendar</code> and <code>SimpleDateFormat</code>. Those classes are poorly designed and long outdated, the latter in particular notoriously troublesome. Instead use <code>LocalTime</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. Also I find your code even a little bit more confusing than it needed to be with <code>Calendar</code>.  Some explanation might help that part. And I am not convinced that it honours the <i>regardless of date</i>  part."},{"owner":{"account_id":6555552,"reputation":1137,"user_id":5068362,"display_name":"Arnab Kar"},"score":0,"creation_date":1619106811,"post_id":67208378,"comment_id":118810415,"body_markdown":"The formatter only takes HH:mm:ss, so it&#39;s agnostic of date. All the dates are computed as 1st Jan 1970 being the epoch start date. Hence the comparison of time happens with only the time as the date for all the cases here is 1st Jan 1970.","body":"The formatter only takes HH:mm:ss, so it&#39;s agnostic of date. All the dates are computed as 1st Jan 1970 being the epoch start date. Hence the comparison of time happens with only the time as the date for all the cases here is 1st Jan 1970."}],"tags":[],"owner":{"account_id":6555552,"reputation":1137,"user_id":5068362,"display_name":"Arnab Kar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619108095,"creation_date":1619075267,"answer_id":67208378,"question_id":17697908,"body_markdown":"**Solution function written in Kotlin**\r\n\r\n    /**\r\n      * @param currentTime : Time to compare\r\n      * @param startTime: Start Hour in format like 10:00:00\r\n      * @param endTime: End Hour in format like 15:45:00\r\n      */\r\n    fun isTimeInBetweenHours(currentDate: Date, startTime: String, endTime: String): Boolean {\r\n            val simpleDateFormat = SimpleDateFormat(&quot;HH:mm:ss&quot;, Locale.US)\r\n            try {\r\n                val startTimeCalendar = Calendar.getInstance()\r\n                startTimeCalendar.time = simpleDateFormat.parse(startTime)\r\n                startTimeCalendar.add(Calendar.DATE, 1)\r\n                val endTimeCalendar = Calendar.getInstance()\r\n                endTimeCalendar.time = simpleDateFormat.parse(endTime)\r\n                endTimeCalendar.add(Calendar.DATE, 1)\r\n                val currentTime = simpleDateFormat.format(currentDate) //&quot;01:00:00&quot;\r\n                val currentTimeCalendar = Calendar.getInstance()\r\n                currentTimeCalendar.time = simpleDateFormat.parse(currentTime)\r\n                currentTimeCalendar.add(Calendar.DATE, 1)\r\n                val x = currentTimeCalendar.time\r\n                return x.after(startTimeCalendar.time) &amp;&amp; x.before(endTimeCalendar.time)\r\n            } catch (e: ParseException) {\r\n                return false\r\n            }\r\n        }\r\n\r\nThe formatter only takes HH:mm:ss, so it&#39;s agnostic of date. All the dates are computed as 1st Jan 1970 being the epoch start date. Hence the comparison of time happens with only the time as the date for all the cases here is 1st Jan 1970. \r\n\r\n**Note:** Used legacy Java API&#39;s instead of the newer ones (LocalTime and DateTimeFormatter) since these newer API&#39;s are not supported on older devices like Android below version Oreo. If you are using some other platform where you can get the updated API&#39;s, please use them as they are more optimised and less buggy.","title":"Check if a given time lies between two times regardless of date","body":"<p><strong>Solution function written in Kotlin</strong></p>\n<pre><code>/**\n  * @param currentTime : Time to compare\n  * @param startTime: Start Hour in format like 10:00:00\n  * @param endTime: End Hour in format like 15:45:00\n  */\nfun isTimeInBetweenHours(currentDate: Date, startTime: String, endTime: String): Boolean {\n        val simpleDateFormat = SimpleDateFormat(&quot;HH:mm:ss&quot;, Locale.US)\n        try {\n            val startTimeCalendar = Calendar.getInstance()\n            startTimeCalendar.time = simpleDateFormat.parse(startTime)\n            startTimeCalendar.add(Calendar.DATE, 1)\n            val endTimeCalendar = Calendar.getInstance()\n            endTimeCalendar.time = simpleDateFormat.parse(endTime)\n            endTimeCalendar.add(Calendar.DATE, 1)\n            val currentTime = simpleDateFormat.format(currentDate) //&quot;01:00:00&quot;\n            val currentTimeCalendar = Calendar.getInstance()\n            currentTimeCalendar.time = simpleDateFormat.parse(currentTime)\n            currentTimeCalendar.add(Calendar.DATE, 1)\n            val x = currentTimeCalendar.time\n            return x.after(startTimeCalendar.time) &amp;&amp; x.before(endTimeCalendar.time)\n        } catch (e: ParseException) {\n            return false\n        }\n    }\n</code></pre>\n<p>The formatter only takes HH:mm:ss, so it's agnostic of date. All the dates are computed as 1st Jan 1970 being the epoch start date. Hence the comparison of time happens with only the time as the date for all the cases here is 1st Jan 1970.</p>\n<p><strong>Note:</strong> Used legacy Java API's instead of the newer ones (LocalTime and DateTimeFormatter) since these newer API's are not supported on older devices like Android below version Oreo. If you are using some other platform where you can get the updated API's, please use them as they are more optimised and less buggy.</p>\n"},{"tags":[],"owner":{"account_id":5229201,"reputation":2849,"user_id":4180169,"display_name":"protanvir993"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629359592,"creation_date":1629357205,"answer_id":68843482,"question_id":17697908,"body_markdown":"I&#39;ve implemented it in kotlin, and it&#39;s works as expected:\r\n\r\n    fun isInBetween(startTime: String, endTime: String, checkTime: String, timeFormat: String = &quot;HH:mm:ss&quot;): Boolean {\r\n    \r\n        val calendar1 = Calendar.getInstance().apply {\r\n            time = SimpleDateFormat(timeFormat, Locale.ENGLISH).parse(startTime)!!\r\n            add(Calendar.DATE, 1)\r\n        }\r\n\r\n        val calendar2 = Calendar.getInstance().apply {\r\n            time = SimpleDateFormat(timeFormat, Locale.ENGLISH).parse(endTime)!!\r\n            add(Calendar.DATE, 1)\r\n        }\r\n\r\n        val calendar3 = Calendar.getInstance().apply {\r\n            time = SimpleDateFormat(timeFormat, Locale.ENGLISH).parse(checkTime)!!\r\n            add(Calendar.DATE, 1)\r\n        }\r\n\r\n        if(calendar1.time &gt; calendar2.time) {\r\n            calendar2.add(Calendar.DATE, 2)\r\n            calendar3.add(Calendar.DATE, 2)\r\n        }\r\n\r\n        val x = calendar3.time\r\n\r\n        return (x.after(calendar1.time) &amp;&amp; x.before(calendar2.time))\r\n    }\r\n\r\nAnd it&#39;s result as followings:\r\n\r\n    Log.d(&quot;TAG&quot;, &quot;08:00, 22:00, 13:40: ${isInBetween(&quot;08:00&quot;, &quot;22:00&quot;, &quot;13:40&quot;)}&quot;) // true\r\n    Log.d(&quot;TAG&quot;, &quot;22:00, 08:00, 13:40: ${isInBetween(&quot;22:00&quot;, &quot;08:00&quot;, &quot;13:40&quot;)}&quot;) // false\r\n    Log.d(&quot;TAG&quot;, &quot;22:00, 08:00, 05:40: ${isInBetween(&quot;22:00&quot;, &quot;08:00&quot;, &quot;05:40&quot;)}&quot;) // true\r\n    Log.d(&quot;TAG&quot;, &quot;22:00, 08:00, 10:40: ${isInBetween(&quot;22:00&quot;, &quot;08:00&quot;, &quot;10:40&quot;)}&quot;) // false\r\n    Log.d(&quot;TAG&quot;, &quot;22:00, 22:00, 22:10: ${isInBetween(&quot;22:00&quot;, &quot;22:00&quot;, &quot;22:10&quot;)}&quot;) // false\r\n    \r\n","title":"Check if a given time lies between two times regardless of date","body":"<p>I've implemented it in kotlin, and it's works as expected:</p>\n<pre><code>fun isInBetween(startTime: String, endTime: String, checkTime: String, timeFormat: String = &quot;HH:mm:ss&quot;): Boolean {\n\n    val calendar1 = Calendar.getInstance().apply {\n        time = SimpleDateFormat(timeFormat, Locale.ENGLISH).parse(startTime)!!\n        add(Calendar.DATE, 1)\n    }\n\n    val calendar2 = Calendar.getInstance().apply {\n        time = SimpleDateFormat(timeFormat, Locale.ENGLISH).parse(endTime)!!\n        add(Calendar.DATE, 1)\n    }\n\n    val calendar3 = Calendar.getInstance().apply {\n        time = SimpleDateFormat(timeFormat, Locale.ENGLISH).parse(checkTime)!!\n        add(Calendar.DATE, 1)\n    }\n\n    if(calendar1.time &gt; calendar2.time) {\n        calendar2.add(Calendar.DATE, 2)\n        calendar3.add(Calendar.DATE, 2)\n    }\n\n    val x = calendar3.time\n\n    return (x.after(calendar1.time) &amp;&amp; x.before(calendar2.time))\n}\n</code></pre>\n<p>And it's result as followings:</p>\n<pre><code>Log.d(&quot;TAG&quot;, &quot;08:00, 22:00, 13:40: ${isInBetween(&quot;08:00&quot;, &quot;22:00&quot;, &quot;13:40&quot;)}&quot;) // true\nLog.d(&quot;TAG&quot;, &quot;22:00, 08:00, 13:40: ${isInBetween(&quot;22:00&quot;, &quot;08:00&quot;, &quot;13:40&quot;)}&quot;) // false\nLog.d(&quot;TAG&quot;, &quot;22:00, 08:00, 05:40: ${isInBetween(&quot;22:00&quot;, &quot;08:00&quot;, &quot;05:40&quot;)}&quot;) // true\nLog.d(&quot;TAG&quot;, &quot;22:00, 08:00, 10:40: ${isInBetween(&quot;22:00&quot;, &quot;08:00&quot;, &quot;10:40&quot;)}&quot;) // false\nLog.d(&quot;TAG&quot;, &quot;22:00, 22:00, 22:10: ${isInBetween(&quot;22:00&quot;, &quot;22:00&quot;, &quot;22:10&quot;)}&quot;) // false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2645448,"reputation":508,"user_id":2288257,"display_name":"Jonas W"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632227030,"creation_date":1632227030,"answer_id":69268835,"question_id":17697908,"body_markdown":"Kotlin code with no fancy library&#39;s, only minutes since midnight calculations.\r\n\r\n        private fun isInBetween(\r\n            startTime: String,\r\n            endTime: String,\r\n            currentTime: String\r\n        ): Boolean {\r\n            val startMinutesSinceMidnight = calculateMinutesSinceMidnight(startTime)\r\n            val endMinutesSinceMidnight = calculateMinutesSinceMidnight(endTime)\r\n            val currentMinutesSinceMidnight = calculateMinutesSinceMidnight(currentTime)\r\n            if (startMinutesSinceMidnight &lt; endMinutesSinceMidnight) {\r\n                return (currentMinutesSinceMidnight &gt;= startMinutesSinceMidnight) &amp;&amp; (currentMinutesSinceMidnight &lt; endMinutesSinceMidnight)\r\n            } else {\r\n                return !((currentMinutesSinceMidnight &gt;= endMinutesSinceMidnight) &amp;&amp; (currentMinutesSinceMidnight &lt; startMinutesSinceMidnight))\r\n            }\r\n        }\r\n\r\n        private fun calculateMinutesSinceMidnight(time_hh_mm: String): Int {\r\n            val timeStrArray = time_hh_mm.split(&quot;:&quot;)\r\n            var minutes = timeStrArray[1].toInt()\r\n            minutes += 60 * timeStrArray[0].toInt()\r\n            return minutes\r\n        }","title":"Check if a given time lies between two times regardless of date","body":"<p>Kotlin code with no fancy library's, only minutes since midnight calculations.</p>\n<pre><code>    private fun isInBetween(\n        startTime: String,\n        endTime: String,\n        currentTime: String\n    ): Boolean {\n        val startMinutesSinceMidnight = calculateMinutesSinceMidnight(startTime)\n        val endMinutesSinceMidnight = calculateMinutesSinceMidnight(endTime)\n        val currentMinutesSinceMidnight = calculateMinutesSinceMidnight(currentTime)\n        if (startMinutesSinceMidnight &lt; endMinutesSinceMidnight) {\n            return (currentMinutesSinceMidnight &gt;= startMinutesSinceMidnight) &amp;&amp; (currentMinutesSinceMidnight &lt; endMinutesSinceMidnight)\n        } else {\n            return !((currentMinutesSinceMidnight &gt;= endMinutesSinceMidnight) &amp;&amp; (currentMinutesSinceMidnight &lt; startMinutesSinceMidnight))\n        }\n    }\n\n    private fun calculateMinutesSinceMidnight(time_hh_mm: String): Int {\n        val timeStrArray = time_hh_mm.split(&quot;:&quot;)\n        var minutes = timeStrArray[1].toInt()\n        minutes += 60 * timeStrArray[0].toInt()\n        return minutes\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1809351,"reputation":31,"user_id":1645736,"display_name":"user1645736"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644487661,"creation_date":1644487661,"answer_id":71063156,"question_id":17697908,"body_markdown":"In my situation, I&#39;m not interested at all in date times. \r\nSo this is my solution which works solely on hours as integers:\r\n\r\n    boolean isInTimeRange(int startingHour, int endingHour, int hourOfDayToCheck) {\r\n        if (endingHour &gt; startingHour) {\r\n            return hourOfDayToCheck &gt;= startingHour &amp;&amp; hourOfDayToCheck &lt; endingHour;\r\n        } else {\r\n            return hourOfDayToCheck &gt;= startingHour || hourOfDayToCheck &lt; endingHour;\r\n        }\r\n    }","title":"Check if a given time lies between two times regardless of date","body":"<p>In my situation, I'm not interested at all in date times.\nSo this is my solution which works solely on hours as integers:</p>\n<pre><code>boolean isInTimeRange(int startingHour, int endingHour, int hourOfDayToCheck) {\n    if (endingHour &gt; startingHour) {\n        return hourOfDayToCheck &gt;= startingHour &amp;&amp; hourOfDayToCheck &lt; endingHour;\n    } else {\n        return hourOfDayToCheck &gt;= startingHour || hourOfDayToCheck &lt; endingHour;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24270239,"reputation":11,"user_id":18218439,"display_name":"NS404"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647898438,"creation_date":1647898438,"answer_id":71564404,"question_id":17697908,"body_markdown":"\r\n    LocalTime now = LocalTime.now();\r\n    LocalTime startTime = LocalTime.parse(&quot;23:00:00&quot;);\r\n    LocalTime endTime = LocalTime.parse(&quot;05:00:00&quot;);\r\n\r\n            if (startTime.isAfter(endTime)) {\r\n                 return !(now.isAfter(endTime) &amp;&amp; now.isBefore(startTime));\r\n\r\n            } else {\r\n                return (now.isAfter(startTime) &amp;&amp; now.isBefore(endTime));\r\n            }","title":"Check if a given time lies between two times regardless of date","body":"<pre><code>LocalTime now = LocalTime.now();\nLocalTime startTime = LocalTime.parse(&quot;23:00:00&quot;);\nLocalTime endTime = LocalTime.parse(&quot;05:00:00&quot;);\n\n        if (startTime.isAfter(endTime)) {\n             return !(now.isAfter(endTime) &amp;&amp; now.isBefore(startTime));\n\n        } else {\n            return (now.isAfter(startTime) &amp;&amp; now.isBefore(endTime));\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1581731,"reputation":21,"user_id":1466989,"display_name":"vaibs222"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659469273,"creation_date":1659469273,"answer_id":73212912,"question_id":17697908,"body_markdown":"The below solution should help in cases where StartTime is from the Previous Day, and EndTime is from the next day, and you want to check something in between.\r\n\r\n\r\n        boolean isInBetween = false;\r\n        if (endLocalTime.isAfter(startLocalTime)) {\r\n            if (!startLocalTime.isAfter(checkLocalTime) &amp;&amp; endLocalTime.isAfter(checkLocalTime)) {\r\n                isInBetween = true;\r\n            }\r\n        } else if (checkLocalTime.isAfter(startLocalTime) || !checkLocalTime.isAfter(endLocalTime)) {\r\n            isInBetween = true;\r\n        }\r\n\r\n        return isInBetween;\r\n\r\n    }","title":"Check if a given time lies between two times regardless of date","body":"<p>The below solution should help in cases where StartTime is from the Previous Day, and EndTime is from the next day, and you want to check something in between.</p>\n<pre><code>    boolean isInBetween = false;\n    if (endLocalTime.isAfter(startLocalTime)) {\n        if (!startLocalTime.isAfter(checkLocalTime) &amp;&amp; endLocalTime.isAfter(checkLocalTime)) {\n            isInBetween = true;\n        }\n    } else if (checkLocalTime.isAfter(startLocalTime) || !checkLocalTime.isAfter(endLocalTime)) {\n        isInBetween = true;\n    }\n\n    return isInBetween;\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1698264526,"post_id":77360364,"comment_id":136384819,"body_markdown":"No it isn’t. Using `equals()` or `isEqual` is clearer (apart from the fact that equality wasn’t what was asked about).","body":"No it isn’t. Using <code>equals()</code> or <code>isEqual</code> is clearer (apart from the fact that equality wasn’t what was asked about)."},{"owner":{"account_id":20321534,"reputation":1,"user_id":14906119,"display_name":"Geoffroy Alarcon"},"score":0,"creation_date":1698303192,"post_id":77360364,"comment_id":136388537,"body_markdown":"Thank&#39;s you for for your answear I looked at this post to search compare a localDateTime  for verify is superior or equal. IsEqual dont exist in java 8. I want answer to help my peer :)","body":"Thank&#39;s you for for your answear I looked at this post to search compare a localDateTime  for verify is superior or equal. IsEqual dont exist in java 8. I want answer to help my peer :)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1698305247,"post_id":77360364,"comment_id":136388964,"body_markdown":"A bit confused now. `LocalTime` (as would be appropriate for the question asked) or `LocalDateTime`? [`LocalDateTime.isEqual()`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#isEqual-java.time.chrono.ChronoLocalDateTime-) is in Java 8.","body":"A bit confused now. <code>LocalTime</code> (as would be appropriate for the question asked) or <code>LocalDateTime</code>? <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#isEqual-java.time.chrono.ChronoLocalDateTime-\" rel=\"nofollow noreferrer\"><code>LocalDateTime.isEqual()</code></a> is in Java 8."}],"tags":[],"owner":{"account_id":20321534,"reputation":1,"user_id":14906119,"display_name":"Geoffroy Alarcon"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698243842,"creation_date":1698243809,"answer_id":77360364,"question_id":17697908,"body_markdown":"Hello the best way is to use compareTo if you want check the equality :\r\n\r\n    localTimeFoobar.compareTo(localTimeFoobarOther) == 0","title":"Check if a given time lies between two times regardless of date","body":"<p>Hello the best way is to use compareTo if you want check the equality :</p>\n<pre><code>localTimeFoobar.compareTo(localTimeFoobarOther) == 0\n</code></pre>\n"}],"owner":{"account_id":1672317,"reputation":23196,"user_id":1538553,"accept_rate":59,"display_name":"sjain"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184497,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"accepted_answer_id":17698079,"answer_count":33,"score":72,"last_activity_date":1698243842,"creation_date":1374058514,"question_id":17697908,"body_markdown":"I have timespans:\n\n&gt; String time1 = 01:00:00 \n&gt;\n&gt; String time2 = 05:00:00\n\nI want to check if **time1** and **time2** both lies between `20:11:13 and 14:49:00`.\n\nActually, `01:00:00` is greater than `20:11:13` and less than `14:49:00` considering `20:11:13` is always less than `14:49:00`. This is given prerequisite. \n\nSo what I want is, `20:11:13 &lt; 01:00:00 &lt; 14:49:00`.\n\nSo I need something like that:\n\n     public void getTimeSpans()\n    {\n        boolean firstTime = false, secondTime = false;\n        \n        if(time1 &gt; &quot;20:11:13&quot; &amp;&amp; time1 &lt; &quot;14:49:00&quot;)\n        {\n           firstTime = true;\n        }\n        \n        if(time2 &gt; &quot;20:11:13&quot; &amp;&amp; time2 &lt; &quot;14:49:00&quot;)\n        {\n           secondTime = true;\n        }\n     }\n\nI know that this code does not give correct result as I am comparing the string objects.\n\nHow to do that as they are the timespans but not the strings to compare?","title":"Check if a given time lies between two times regardless of date","body":"<p>I have timespans:</p>\n<blockquote>\n<p>String time1 = 01:00:00</p>\n<p>String time2 = 05:00:00</p>\n</blockquote>\n<p>I want to check if <strong>time1</strong> and <strong>time2</strong> both lies between <code>20:11:13 and 14:49:00</code>.</p>\n<p>Actually, <code>01:00:00</code> is greater than <code>20:11:13</code> and less than <code>14:49:00</code> considering <code>20:11:13</code> is always less than <code>14:49:00</code>. This is given prerequisite.</p>\n<p>So what I want is, <code>20:11:13 &lt; 01:00:00 &lt; 14:49:00</code>.</p>\n<p>So I need something like that:</p>\n<pre><code> public void getTimeSpans()\n{\n    boolean firstTime = false, secondTime = false;\n    \n    if(time1 &gt; &quot;20:11:13&quot; &amp;&amp; time1 &lt; &quot;14:49:00&quot;)\n    {\n       firstTime = true;\n    }\n    \n    if(time2 &gt; &quot;20:11:13&quot; &amp;&amp; time2 &lt; &quot;14:49:00&quot;)\n    {\n       secondTime = true;\n    }\n }\n</code></pre>\n<p>I know that this code does not give correct result as I am comparing the string objects.</p>\n<p>How to do that as they are the timespans but not the strings to compare?</p>\n"},{"tags":["java","javacc"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1698243666,"post_id":77360275,"comment_id":136380784,"body_markdown":"What purpose does it serve to load the file fully, only to convert it to a ByteArrayInputStream. Why not just use a FileInputStream directly?","body":"What purpose does it serve to load the file fully, only to convert it to a ByteArrayInputStream. Why not just use a FileInputStream directly?"},{"owner":{"account_id":338681,"reputation":15574,"user_id":667690,"accept_rate":78,"display_name":"Theodore Norvell"},"score":0,"creation_date":1701733756,"post_id":77360275,"comment_id":136810128,"body_markdown":"The references to jjtGetChild and suchlike suggest that you used JJT in some way at some point in time.  Make sure you are only using JavaCC and not JJT.","body":"The references to jjtGetChild and suchlike suggest that you used JJT in some way at some point in time.  Make sure you are only using JavaCC and not JJT."}],"owner":{"account_id":28931925,"reputation":1,"user_id":22160431,"display_name":"Kevin Niland"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698243666,"answer_count":0,"score":0,"last_activity_date":1698243634,"creation_date":1698243120,"question_id":77360275,"body_markdown":"I am trying to use javacc to achieve/perform a few operations. For now, I want to read in a file that would look something like:\r\n\r\n    a is 6\r\n    b is 5\r\n    +\r\n\r\nMy program should then be able to parse this file and create/assign two variables `a` and `b` with the above values. It would then sum these two values as the third line in the file is a `+`\r\n\r\nRight now, I have a program that can perform basic arithmetic like so:\r\n\r\n    PARSER_BEGIN(Evaluator)\r\n    \r\n    public class Evaluator {\r\n        public static void main(String[] args) throws Exception {\r\n            int result = new Evaluator(new java.io.StringReader(args[0])).S();\r\n            System.out.println(result);\r\n        }\r\n    }\r\n    \r\n    PARSER_END(Evaluator)\r\n    \r\n    SKIP:  { &quot; &quot; | &quot;\\t&quot; | &quot;\\n&quot; | &quot;\\r&quot;                    }\r\n    TOKEN: { &quot;(&quot; | &quot;)&quot; | &quot;+&quot; | &quot;-&quot; | &quot;*&quot; | &quot;/&quot; | &lt;NUM: ([&quot;0&quot;-&quot;9&quot;])+&gt; }\r\n    \r\n    int S(): {int sum;}\r\n    {\r\n      sum=E() &lt;EOF&gt; {return sum;}\r\n    }\r\n    \r\n    int E(): {int sum, x;}\r\n    {\r\n      sum=T() (&quot;+&quot; x=T() {sum += x;} )* {return sum;}\r\n    }\r\n    \r\n    int T(): {int sum, x;}\r\n    {\r\n      sum=F() (&quot;*&quot; x=F() {sum *= x;} )* {return sum;}\r\n    }\r\n    \r\n    int F(): {int x; Token n;}\r\n    {\r\n      n=&lt;NUM&gt; {return Integer.parseInt(n.image);}\r\n    |\r\n      &quot;(&quot; x=E() &quot;)&quot; {return x;}\r\n    }\r\n\r\nTo use the above, you would create a Grammar file `MyFile.jj` and run `javacc MyFile.jj` - this would then generate the relevant Java classes. Then running `javac *.java` would compile them and finally, you can then run `java Evaluator 2+3` which would then outpt `5`.\r\n\r\nIn Java, I know you can read in a file by using the `Scanner` class and running `java MyClass &lt; file.txt`\r\n\r\nSo with the above, I have the following:\r\n\r\n    PARSER_BEGIN(FileParser)\r\n    \r\n    import java.util.Scanner;\r\n    import java.io.*;\r\n    \r\n    public class FileParser {\r\n        public static void main(String[] args) throws Exception {\r\n    //        int result = new Evaluator(new java.io.StringReader(args[0])).Start();\r\n    //        System.out.println(result);\r\n    \r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            // Read input from the console using Scanner\r\n            StringBuilder inputBuilder = new StringBuilder();\r\n            while (scanner.hasNextLine()) {\r\n              String line = scanner.nextLine();\r\n              inputBuilder.append(line).append(&quot;\\n&quot;);\r\n            }\r\n    \r\n            // Pass the input string to the parser\r\n            String input = inputBuilder.toString();\r\n    \r\n            try {\r\n              FileParser parser = new FileParser(new ByteArrayInputStream(input.getBytes()));\r\n              parser.Start();\r\n            } catch (ParseException e) {\r\n              e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    \r\n    PARSER_END(FileParser)\r\n    \r\n    SKIP:  { &quot; &quot; | &quot;\\t&quot; | &quot;\\r&quot; }\r\n    //TOKEN: { &quot;(&quot; | &quot;)&quot; | &quot;+&quot; | &quot;-&quot; | &quot;*&quot; | &quot;/&quot; | &lt;NUMBER: ([&quot;0&quot;-&quot;9&quot;])+&gt; | &lt;IDENTIFIER: [&quot;a&quot;-&quot;z&quot;] [&quot;a&quot;-&quot;z&quot;] &gt; | &lt;EOL: &quot;\\n&quot; &gt; }\r\n    TOKEN: {\r\n      &lt;IDENTIFIER: ([&quot;a&quot;-&quot;z&quot;] [&quot;a&quot;-&quot;z&quot;])* &gt; |\r\n      &lt;NUMBER: ([&quot;0&quot;-&quot;9&quot;])+ &gt; |\r\n      &lt;ASSIGN: &quot;is&quot; &gt; |\r\n      &lt;EOL: &quot;\\n&quot; &gt;\r\n    }\r\n    \r\n    int Start(): {int sum;}\r\n    {\r\n    //  sum = Expression() &lt;EOF&gt; { return sum; }\r\n        Assignment()\r\n        Assignment()\r\n        Expression()\r\n    }\r\n    \r\n    void Assignment(): {int a, b;}\r\n    {\r\n      &lt;IDENTIFIER&gt; &quot;is&quot; &lt;NUMBER&gt; &lt;EOL&gt;\r\n      {\r\n        String variableName = ((Token)jjtGetChild(0)).image;\r\n        int value = Integer.parseInt(((Token)jjtGetChild(2)).image);\r\n        if (variableName.equals(&quot;a&quot;)) {\r\n          a = value;\r\n        } else if (variableName.equals(&quot;b&quot;)) {\r\n          b = value;\r\n        }\r\n      }\r\n    }\r\n    \r\n    \r\n    int Expression(): {int a, b;}\r\n    {\r\n    //  sum = Term() (&quot;+&quot; x = Term() { sum += x; })* { return sum; }\r\n        &quot;+&quot;\r\n        {\r\n            int result = a + b;\r\n            System.out.println(&quot;Sum of a and b: &quot; + result);\r\n    \r\n        }\r\n    }\r\n    \r\n    int Term(): {int product, factor;}\r\n    {\r\n      product = Factor() (&quot;*&quot; factor = Factor() { product *= factor; })* { return product; }\r\n    }\r\n    \r\n    int Factor(): {int value; Token numToken;}\r\n    {\r\n      numToken = &lt;NUMBER&gt; { return Integer.parseInt(numToken.image); }\r\n      |\r\n      &quot;(&quot; value = Expression() &quot;)&quot; { return value; }\r\n    }\r\n\r\nThis compiles fine with `javacc` however when I go to compile the Java classes I get the following:\r\n\r\n    FileParser.java:43: error: cannot find symbol\r\n        String variableName = ((Token)jjtGetChild(0)).image;\r\n                                      ^\r\n      symbol:   method jjtGetChild(int)\r\n      location: class FileParser\r\n    FileParser.java:44: error: cannot find symbol\r\n        int value = Integer.parseInt(((Token)jjtGetChild(2)).image);\r\n                                             ^\r\n      symbol:   method jjtGetChild(int)\r\n      location: class FileParser\r\n\r\nI have not been able to find much on this online. How can I fix this?","title":"Read in and parse a file to be able to set variables","body":"<p>I am trying to use javacc to achieve/perform a few operations. For now, I want to read in a file that would look something like:</p>\n<pre><code>a is 6\nb is 5\n+\n</code></pre>\n<p>My program should then be able to parse this file and create/assign two variables <code>a</code> and <code>b</code> with the above values. It would then sum these two values as the third line in the file is a <code>+</code></p>\n<p>Right now, I have a program that can perform basic arithmetic like so:</p>\n<pre><code>PARSER_BEGIN(Evaluator)\n\npublic class Evaluator {\n    public static void main(String[] args) throws Exception {\n        int result = new Evaluator(new java.io.StringReader(args[0])).S();\n        System.out.println(result);\n    }\n}\n\nPARSER_END(Evaluator)\n\nSKIP:  { &quot; &quot; | &quot;\\t&quot; | &quot;\\n&quot; | &quot;\\r&quot;                    }\nTOKEN: { &quot;(&quot; | &quot;)&quot; | &quot;+&quot; | &quot;-&quot; | &quot;*&quot; | &quot;/&quot; | &lt;NUM: ([&quot;0&quot;-&quot;9&quot;])+&gt; }\n\nint S(): {int sum;}\n{\n  sum=E() &lt;EOF&gt; {return sum;}\n}\n\nint E(): {int sum, x;}\n{\n  sum=T() (&quot;+&quot; x=T() {sum += x;} )* {return sum;}\n}\n\nint T(): {int sum, x;}\n{\n  sum=F() (&quot;*&quot; x=F() {sum *= x;} )* {return sum;}\n}\n\nint F(): {int x; Token n;}\n{\n  n=&lt;NUM&gt; {return Integer.parseInt(n.image);}\n|\n  &quot;(&quot; x=E() &quot;)&quot; {return x;}\n}\n</code></pre>\n<p>To use the above, you would create a Grammar file <code>MyFile.jj</code> and run <code>javacc MyFile.jj</code> - this would then generate the relevant Java classes. Then running <code>javac *.java</code> would compile them and finally, you can then run <code>java Evaluator 2+3</code> which would then outpt <code>5</code>.</p>\n<p>In Java, I know you can read in a file by using the <code>Scanner</code> class and running <code>java MyClass &lt; file.txt</code></p>\n<p>So with the above, I have the following:</p>\n<pre><code>PARSER_BEGIN(FileParser)\n\nimport java.util.Scanner;\nimport java.io.*;\n\npublic class FileParser {\n    public static void main(String[] args) throws Exception {\n//        int result = new Evaluator(new java.io.StringReader(args[0])).Start();\n//        System.out.println(result);\n\n        Scanner scanner = new Scanner(System.in);\n\n        // Read input from the console using Scanner\n        StringBuilder inputBuilder = new StringBuilder();\n        while (scanner.hasNextLine()) {\n          String line = scanner.nextLine();\n          inputBuilder.append(line).append(&quot;\\n&quot;);\n        }\n\n        // Pass the input string to the parser\n        String input = inputBuilder.toString();\n\n        try {\n          FileParser parser = new FileParser(new ByteArrayInputStream(input.getBytes()));\n          parser.Start();\n        } catch (ParseException e) {\n          e.printStackTrace();\n        }\n    }\n}\n\nPARSER_END(FileParser)\n\nSKIP:  { &quot; &quot; | &quot;\\t&quot; | &quot;\\r&quot; }\n//TOKEN: { &quot;(&quot; | &quot;)&quot; | &quot;+&quot; | &quot;-&quot; | &quot;*&quot; | &quot;/&quot; | &lt;NUMBER: ([&quot;0&quot;-&quot;9&quot;])+&gt; | &lt;IDENTIFIER: [&quot;a&quot;-&quot;z&quot;] [&quot;a&quot;-&quot;z&quot;] &gt; | &lt;EOL: &quot;\\n&quot; &gt; }\nTOKEN: {\n  &lt;IDENTIFIER: ([&quot;a&quot;-&quot;z&quot;] [&quot;a&quot;-&quot;z&quot;])* &gt; |\n  &lt;NUMBER: ([&quot;0&quot;-&quot;9&quot;])+ &gt; |\n  &lt;ASSIGN: &quot;is&quot; &gt; |\n  &lt;EOL: &quot;\\n&quot; &gt;\n}\n\nint Start(): {int sum;}\n{\n//  sum = Expression() &lt;EOF&gt; { return sum; }\n    Assignment()\n    Assignment()\n    Expression()\n}\n\nvoid Assignment(): {int a, b;}\n{\n  &lt;IDENTIFIER&gt; &quot;is&quot; &lt;NUMBER&gt; &lt;EOL&gt;\n  {\n    String variableName = ((Token)jjtGetChild(0)).image;\n    int value = Integer.parseInt(((Token)jjtGetChild(2)).image);\n    if (variableName.equals(&quot;a&quot;)) {\n      a = value;\n    } else if (variableName.equals(&quot;b&quot;)) {\n      b = value;\n    }\n  }\n}\n\n\nint Expression(): {int a, b;}\n{\n//  sum = Term() (&quot;+&quot; x = Term() { sum += x; })* { return sum; }\n    &quot;+&quot;\n    {\n        int result = a + b;\n        System.out.println(&quot;Sum of a and b: &quot; + result);\n\n    }\n}\n\nint Term(): {int product, factor;}\n{\n  product = Factor() (&quot;*&quot; factor = Factor() { product *= factor; })* { return product; }\n}\n\nint Factor(): {int value; Token numToken;}\n{\n  numToken = &lt;NUMBER&gt; { return Integer.parseInt(numToken.image); }\n  |\n  &quot;(&quot; value = Expression() &quot;)&quot; { return value; }\n}\n</code></pre>\n<p>This compiles fine with <code>javacc</code> however when I go to compile the Java classes I get the following:</p>\n<pre><code>FileParser.java:43: error: cannot find symbol\n    String variableName = ((Token)jjtGetChild(0)).image;\n                                  ^\n  symbol:   method jjtGetChild(int)\n  location: class FileParser\nFileParser.java:44: error: cannot find symbol\n    int value = Integer.parseInt(((Token)jjtGetChild(2)).image);\n                                         ^\n  symbol:   method jjtGetChild(int)\n  location: class FileParser\n</code></pre>\n<p>I have not been able to find much on this online. How can I fix this?</p>\n"},{"tags":["java","spring-boot","rest","postman","multipartform-data"],"owner":{"account_id":19647613,"reputation":1,"user_id":14382262,"display_name":"Nitish Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698243319,"creation_date":1698243319,"question_id":77360304,"body_markdown":"Given the following Java class:\r\n```\r\n@Data\r\npublic class Student {\r\n   private String name;\r\n   private int age;\r\n   private List&lt;MultipartFile&gt; photos;\r\n}\r\n```\r\nI would like to create an API endpoint as follows:\r\n\r\n```\r\n@PostMapping(&quot;/upload&quot;)\r\npublic ResponseEntity&lt;Object&gt; uploadFiles(@RequestPart(&quot;students&quot;) List&lt;Student&gt; students) throws IOException {\r\n        // code to process the request.\r\n    }\r\n```\r\nAm I doing this correctly? The application starts up without an issue but I am not sure how to use Postman to test the endpoint. Do I need to use @ModelAttribute and an HTML form for this purpose?\r\n\r\nI tried to follow a variant of the accepted solution in the given thread but in vain: https://stackoverflow.com/questions/71062232/how-to-send-array-of-object-using-postman-as-a-formdata","title":"How to handle multipart/form-data requests with a file array field wrapped in another class, with SpringBoot 3?","body":"<p>Given the following Java class:</p>\n<pre><code>@Data\npublic class Student {\n   private String name;\n   private int age;\n   private List&lt;MultipartFile&gt; photos;\n}\n</code></pre>\n<p>I would like to create an API endpoint as follows:</p>\n<pre><code>@PostMapping(&quot;/upload&quot;)\npublic ResponseEntity&lt;Object&gt; uploadFiles(@RequestPart(&quot;students&quot;) List&lt;Student&gt; students) throws IOException {\n        // code to process the request.\n    }\n</code></pre>\n<p>Am I doing this correctly? The application starts up without an issue but I am not sure how to use Postman to test the endpoint. Do I need to use @ModelAttribute and an HTML form for this purpose?</p>\n<p>I tried to follow a variant of the accepted solution in the given thread but in vain: <a href=\"https://stackoverflow.com/questions/71062232/how-to-send-array-of-object-using-postman-as-a-formdata\">How to send array of object using postman as a formdata</a></p>\n"},{"tags":["java","http","csv","solr"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1385012443,"post_id":20112975,"comment_id":29971442,"body_markdown":"What do you mean by &quot;doesn&#39;t work&quot;? You haven&#39;t said what&#39;s wrong.","body":"What do you mean by &quot;doesn&#39;t work&quot;? You haven&#39;t said what&#39;s wrong."},{"owner":{"account_id":250759,"reputation":9405,"user_id":2160152,"accept_rate":100,"display_name":"cheffe"},"score":0,"creation_date":1385012656,"post_id":20112975,"comment_id":29971502,"body_markdown":"Would you add the request handler from your solrconfig.xml? And to what @JimGarrison says, any exceptions from the log or what is going wrong?","body":"Would you add the request handler from your solrconfig.xml? And to what @JimGarrison says, any exceptions from the log or what is going wrong?"},{"owner":{"account_id":1748125,"reputation":4230,"user_id":1597838,"accept_rate":82,"display_name":"Mawia"},"score":0,"creation_date":1385012658,"post_id":20112975,"comment_id":29971505,"body_markdown":"@JimGarrison No error message but nothing is being sent to SOLR.","body":"@JimGarrison No error message but nothing is being sent to SOLR."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1385012760,"post_id":20112975,"comment_id":29971536,"body_markdown":"Have you watched the network traffic with Wireshark to see what happens on the connection?","body":"Have you watched the network traffic with Wireshark to see what happens on the connection?"},{"owner":{"account_id":391177,"reputation":3037,"user_id":751689,"accept_rate":59,"display_name":"kitokid"},"score":0,"creation_date":1407147085,"post_id":20112975,"comment_id":39088567,"body_markdown":"@Mawia, any approach to solve the issue?","body":"@Mawia, any approach to solve the issue?"}],"answers":[{"comments":[{"owner":{"account_id":1285793,"reputation":6110,"user_id":1238944,"accept_rate":100,"display_name":"agilob"},"score":0,"creation_date":1446307430,"post_id":20119021,"comment_id":54693856,"body_markdown":"&quot;HttpClient&quot; and other helping classes from this package are deprecated.","body":"&quot;HttpClient&quot; and other helping classes from this package are deprecated."}],"tags":[],"owner":{"account_id":2098482,"reputation":181,"user_id":1866733,"accept_rate":40,"display_name":"NikhilK"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1385031452,"creation_date":1385031452,"answer_id":20119021,"question_id":20112975,"body_markdown":"you can use apache commons HttpClient to post a file to server.     \r\n\r\n     File file = new File(&quot;file-path&quot;); \r\n     MultipartPostMethod method = new MultipartPostMethod(post-file-url);\r\n     method.addParameter(&quot;fileName&quot;, file.getName());\r\n     method.addPart(new FilePart(&quot;file&quot;, &quot;file&quot;, file));\r\n     httpClient.executeMethod(method);\r\n     String response = method.getResponseBodyAsString();\r\n\r\n**HttpClient dependency :**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Sending CSV file on HTTP","body":"<p>you can use apache commons HttpClient to post a file to server.     </p>\n\n<pre><code> File file = new File(\"file-path\"); \n MultipartPostMethod method = new MultipartPostMethod(post-file-url);\n method.addParameter(\"fileName\", file.getName());\n method.addPart(new FilePart(\"file\", \"file\", file));\n httpClient.executeMethod(method);\n String response = method.getResponseBodyAsString();\n</code></pre>\n\n<p><strong>HttpClient dependency :</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\n    &lt;version&gt;3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1748125,"reputation":4230,"user_id":1597838,"accept_rate":82,"display_name":"Mawia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10924,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698242735,"creation_date":1385010703,"question_id":20112975,"body_markdown":"I want to send this CSV data to SOLR.\r\n\r\n    id,author,name,year,category\r\n    001-001,H. G. Wells,The Time Machine,1895,Fiction\r\n    001-002,H. G. Wells,The Wonderful Visit,1895,Fiction\r\n\r\nHere is my code which doesn&#39;t work.\r\n\r\n      private static final String postURL = &quot;http://localhost:8983/solr/update/csv?separator=,&amp;commit=true&quot;;\r\n    \r\n      public static void main(String[] args) throws IOException {\r\n        BookCsvIndexer poster = new BookCsvIndexer();\r\n        BufferedReader dbr = new BufferedReader(new FileReader(&quot;E:/solr-example/csv/books.csv&quot;));\r\n        String line;\r\n        StringBuilder dsb = new StringBuilder();\r\n        while ((line = dbr.readLine()) != null) {\r\n          dsb.append(line);\r\n        }\r\n        dbr.close();\r\n        String data = dsb.toString();\r\n        System.out.println(data);\r\n        poster.doPost(data);\r\n      }\r\n    \r\n      public void doPost(String data) {\r\n        String contentLength = Integer.toString(data.getBytes().length);\r\n        System.out.println(&quot;Length=&quot; + contentLength);\r\n        StringBuilder sb = new StringBuilder();\r\n        try {\r\n          URL url = new URL(postURL);\r\n          HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n          connection.setDoOutput(true);\r\n          connection.setDoInput(true);\r\n          connection.setRequestMethod(&quot;POST&quot;);\r\n          connection.setRequestProperty(&quot;Accept&quot;, &quot;text/plain&quot;);\r\n          connection.setRequestProperty(&quot;Connection&quot;, &quot;close&quot;);\r\n          connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/csv; charset=utf-8&quot;);\r\n          connection.setRequestProperty(&quot;Content-Length&quot;, &quot;&quot; + contentLength);\r\n          connection.connect();\r\n    \r\n          if (data.length() &gt; 0) {\r\n            OutputStreamWriter wr = new OutputStreamWriter(connection.getOutputStream());\r\n            wr.write(data);\r\n            wr.flush();\r\n            wr.close();\r\n          }\r\n    \r\n          BufferedReader br = new BufferedReader(new InputStreamReader((connection.getInputStream())));\r\n          String output;\r\n          System.out.println(&quot;Server Respose CODE=&quot; + connection.getResponseCode());\r\n          while ((output = br.readLine()) != null) {\r\n            sb.append(output);\r\n          }\r\n        } catch (MalformedURLException e) {\r\n          e.printStackTrace();\r\n        } catch (IOException e) {\r\n          e.printStackTrace();\r\n        }\r\n        System.out.println(sb.toString());\r\n      }\r\n\r\nI can use this same code for sending JSON and other text files successfully by simply changing the &#39;Content-Type&#39;. I have been using this same code for hitting many REST services. I can&#39;t understand why this code is not working for sending CSV to SOLR.\r\n\r\nHere is the SOLR log after running the above code.\r\n\r\n    INFO  - 2013-11-21 11:20:09.090; org.apache.solr.update.DirectUpdateHandler2; start commit{,optimize=false,openSearcher=true,waitSearcher=true,expungeDeletes=false,softCommit=false,prepareCommit=false}\r\n    INFO  - 2013-11-21 11:20:09.093; org.apache.solr.core.SolrDeletionPolicy; SolrDeletionPolicy.onInit: commits: num=1\r\n    \tcommit{dir=NRTCachingDirectory(org.apache.lucene.store.SimpleFSDirectory@E:\\solr-example\\solr\\collection1\\data\\index lockFactory=org.apache.lucene.store.NativeFSLockFactory@15b46ef; maxCacheMB=48.0 maxMergeSizeMB=4.0),segFN=segments_1,generation=1}\r\n    INFO  - 2013-11-21 11:20:09.093; org.apache.solr.core.SolrDeletionPolicy; newest commit generation = 1\r\n    INFO  - 2013-11-21 11:20:09.094; org.apache.solr.update.DirectUpdateHandler2; No uncommitted changes. Skipping IW.commit.\r\n    INFO  - 2013-11-21 11:20:09.094; org.apache.solr.search.SolrIndexSearcher; Opening Searcher@ae20f5 main\r\n    INFO  - 2013-11-21 11:20:09.095; org.apache.solr.update.DirectUpdateHandler2; end_commit_flush\r\n    INFO  - 2013-11-21 11:20:09.095; org.apache.solr.core.QuerySenderListener; QuerySenderListener sending requests to Searcher@ae20f5 main{StandardDirectoryReader(segments_1:1:nrt)}\r\n    INFO  - 2013-11-21 11:20:09.096; org.apache.solr.core.QuerySenderListener; QuerySenderListener done.\r\n    INFO  - 2013-11-21 11:20:09.096; org.apache.solr.handler.component.SpellCheckComponent$SpellCheckerListener; Building spell index for spell checker: suggest\r\n    INFO  - 2013-11-21 11:20:09.096; org.apache.solr.spelling.suggest.Suggester; build()\r\n    INFO  - 2013-11-21 11:20:09.099; org.apache.solr.core.SolrCore; [collection1] Registered new searcher Searcher@ae20f5 main{StandardDirectoryReader(segments_1:1:nrt)}\r\n    INFO  - 2013-11-21 11:20:09.100; org.apache.solr.update.processor.LogUpdateProcessor; [collection1] webapp=/solr path=/update/csv params={commit=true&amp;separator=,} {commit=} 0 17\r\n\r\nAnd the response from the last line `System.out.println(sb.toString());` is\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;response&gt;\r\n        &lt;lst name=&quot;responseHeader&quot;&gt;\r\n        &lt;int name=&quot;status&quot;&gt;0&lt;/int&gt;\r\n        &lt;int name=&quot;QTime&quot;&gt;17&lt;/int&gt;&lt;/lst&gt;\r\n    &lt;/response&gt;\r\n\r\nThe URL and CSV file is correct because I can POST this CSV data successfully using REST client software like POSTMAN, a Chrome extension for REST client. Now, I want to do the same using Java.\r\n\r\nAm I missing something?\r\n\r\n","title":"Sending CSV file on HTTP","body":"<p>I want to send this CSV data to SOLR.</p>\n\n<pre><code>id,author,name,year,category\n001-001,H. G. Wells,The Time Machine,1895,Fiction\n001-002,H. G. Wells,The Wonderful Visit,1895,Fiction\n</code></pre>\n\n<p>Here is my code which doesn't work.</p>\n\n<pre><code>  private static final String postURL = \"http://localhost:8983/solr/update/csv?separator=,&amp;commit=true\";\n\n  public static void main(String[] args) throws IOException {\n    BookCsvIndexer poster = new BookCsvIndexer();\n    BufferedReader dbr = new BufferedReader(new FileReader(\"E:/solr-example/csv/books.csv\"));\n    String line;\n    StringBuilder dsb = new StringBuilder();\n    while ((line = dbr.readLine()) != null) {\n      dsb.append(line);\n    }\n    dbr.close();\n    String data = dsb.toString();\n    System.out.println(data);\n    poster.doPost(data);\n  }\n\n  public void doPost(String data) {\n    String contentLength = Integer.toString(data.getBytes().length);\n    System.out.println(\"Length=\" + contentLength);\n    StringBuilder sb = new StringBuilder();\n    try {\n      URL url = new URL(postURL);\n      HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n      connection.setDoOutput(true);\n      connection.setDoInput(true);\n      connection.setRequestMethod(\"POST\");\n      connection.setRequestProperty(\"Accept\", \"text/plain\");\n      connection.setRequestProperty(\"Connection\", \"close\");\n      connection.setRequestProperty(\"Content-Type\", \"application/csv; charset=utf-8\");\n      connection.setRequestProperty(\"Content-Length\", \"\" + contentLength);\n      connection.connect();\n\n      if (data.length() &gt; 0) {\n        OutputStreamWriter wr = new OutputStreamWriter(connection.getOutputStream());\n        wr.write(data);\n        wr.flush();\n        wr.close();\n      }\n\n      BufferedReader br = new BufferedReader(new InputStreamReader((connection.getInputStream())));\n      String output;\n      System.out.println(\"Server Respose CODE=\" + connection.getResponseCode());\n      while ((output = br.readLine()) != null) {\n        sb.append(output);\n      }\n    } catch (MalformedURLException e) {\n      e.printStackTrace();\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n    System.out.println(sb.toString());\n  }\n</code></pre>\n\n<p>I can use this same code for sending JSON and other text files successfully by simply changing the 'Content-Type'. I have been using this same code for hitting many REST services. I can't understand why this code is not working for sending CSV to SOLR.</p>\n\n<p>Here is the SOLR log after running the above code.</p>\n\n<pre><code>INFO  - 2013-11-21 11:20:09.090; org.apache.solr.update.DirectUpdateHandler2; start commit{,optimize=false,openSearcher=true,waitSearcher=true,expungeDeletes=false,softCommit=false,prepareCommit=false}\nINFO  - 2013-11-21 11:20:09.093; org.apache.solr.core.SolrDeletionPolicy; SolrDeletionPolicy.onInit: commits: num=1\n    commit{dir=NRTCachingDirectory(org.apache.lucene.store.SimpleFSDirectory@E:\\solr-example\\solr\\collection1\\data\\index lockFactory=org.apache.lucene.store.NativeFSLockFactory@15b46ef; maxCacheMB=48.0 maxMergeSizeMB=4.0),segFN=segments_1,generation=1}\nINFO  - 2013-11-21 11:20:09.093; org.apache.solr.core.SolrDeletionPolicy; newest commit generation = 1\nINFO  - 2013-11-21 11:20:09.094; org.apache.solr.update.DirectUpdateHandler2; No uncommitted changes. Skipping IW.commit.\nINFO  - 2013-11-21 11:20:09.094; org.apache.solr.search.SolrIndexSearcher; Opening Searcher@ae20f5 main\nINFO  - 2013-11-21 11:20:09.095; org.apache.solr.update.DirectUpdateHandler2; end_commit_flush\nINFO  - 2013-11-21 11:20:09.095; org.apache.solr.core.QuerySenderListener; QuerySenderListener sending requests to Searcher@ae20f5 main{StandardDirectoryReader(segments_1:1:nrt)}\nINFO  - 2013-11-21 11:20:09.096; org.apache.solr.core.QuerySenderListener; QuerySenderListener done.\nINFO  - 2013-11-21 11:20:09.096; org.apache.solr.handler.component.SpellCheckComponent$SpellCheckerListener; Building spell index for spell checker: suggest\nINFO  - 2013-11-21 11:20:09.096; org.apache.solr.spelling.suggest.Suggester; build()\nINFO  - 2013-11-21 11:20:09.099; org.apache.solr.core.SolrCore; [collection1] Registered new searcher Searcher@ae20f5 main{StandardDirectoryReader(segments_1:1:nrt)}\nINFO  - 2013-11-21 11:20:09.100; org.apache.solr.update.processor.LogUpdateProcessor; [collection1] webapp=/solr path=/update/csv params={commit=true&amp;separator=,} {commit=} 0 17\n</code></pre>\n\n<p>And the response from the last line <code>System.out.println(sb.toString());</code> is</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;response&gt;\n    &lt;lst name=\"responseHeader\"&gt;\n    &lt;int name=\"status\"&gt;0&lt;/int&gt;\n    &lt;int name=\"QTime\"&gt;17&lt;/int&gt;&lt;/lst&gt;\n&lt;/response&gt;\n</code></pre>\n\n<p>The URL and CSV file is correct because I can POST this CSV data successfully using REST client software like POSTMAN, a Chrome extension for REST client. Now, I want to do the same using Java.</p>\n\n<p>Am I missing something?</p>\n"},{"tags":["java","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1477990256,"post_id":40356565,"comment_id":67966722,"body_markdown":"When you ask about an error, always post the exact and complete error message and stack trace. When asking about something that doesn&#39;t work, always tell what you expect to happen, and what happens instead.","body":"When you ask about an error, always post the exact and complete error message and stack trace. When asking about something that doesn&#39;t work, always tell what you expect to happen, and what happens instead."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1477990924,"post_id":40356565,"comment_id":67967031,"body_markdown":"If empty list is returned, and you passed `&quot;match%&quot;` as argument to the method, then it simply means that no user has a name starting by &#39;match&#39;.","body":"If empty list is returned, and you passed <code>&quot;match%&quot;</code> as argument to the method, then it simply means that no user has a name starting by &#39;match&#39;."},{"owner":{"account_id":7798354,"reputation":6929,"user_id":5898696,"accept_rate":89,"display_name":"J-Alex"},"score":0,"creation_date":1477991401,"post_id":40356565,"comment_id":67967276,"body_markdown":"No, I implemented case insensitive service like this, and it works fine, the problem is with second  LOWER() - ... LIKE LOWER(?1)","body":"No, I implemented case insensitive service like this, and it works fine, the problem is with second  LOWER() - ... LIKE LOWER(?1)"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1477992219,"post_id":40356565,"comment_id":67967690,"body_markdown":"What did you pass as argument to the method, and what does the table contain?","body":"What did you pass as argument to the method, and what does the table contain?"}],"answers":[{"comments":[{"owner":{"account_id":7798354,"reputation":6929,"user_id":5898696,"accept_rate":89,"display_name":"J-Alex"},"score":1,"creation_date":1477990674,"post_id":40356753,"comment_id":67966926,"body_markdown":"I&#39;ve tried but it produces org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: null near line 1, column 104","body":"I&#39;ve tried but it produces org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: null near line 1, column 104"}],"tags":[],"owner":{"account_id":3600965,"reputation":609,"user_id":3004282,"display_name":"EFOE"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477990420,"creation_date":1477990420,"answer_id":40356753,"question_id":40356565,"body_markdown":"have you try this syntax:\r\n \r\n   @Query(&quot;SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(?1)%&quot;)\r\nand the just give the name or the beginning of the name","title":"Spring Data CrudRepository @Query With LIKE and IgnoreCase","body":"<p>have you try this syntax:</p>\n\n<p>@Query(\"SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(?1)%\")\nand the just give the name or the beginning of the name</p>\n"},{"tags":[],"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1477991030,"creation_date":1477991030,"answer_id":40356896,"question_id":40356565,"body_markdown":"Try this\r\n\r\n    @Query(&quot;SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(concat(?1, &#39;%&#39;))&quot;)\r\n    List&lt;String&gt; findByName(String matchPhrase);\r\n\r\n","title":"Spring Data CrudRepository @Query With LIKE and IgnoreCase","body":"<p>Try this</p>\n\n<pre><code>@Query(\"SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(concat(?1, '%'))\")\nList&lt;String&gt; findByName(String matchPhrase);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3410182,"reputation":12151,"user_id":2860319,"accept_rate":75,"display_name":"The Gilbert Arenas Dagger"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1559905894,"creation_date":1559905894,"answer_id":56493224,"question_id":40356565,"body_markdown":"If you need the format `like %name%` (instead of `like name%`) you can expand the accepted answer as follows:\r\n\r\n    @Query(&quot;SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(concat(&#39;%&#39;, concat(?1, &#39;%&#39;)))&quot;)\r\n    List&lt;String&gt; findByName(String matchPhrase);","title":"Spring Data CrudRepository @Query With LIKE and IgnoreCase","body":"<p>If you need the format <code>like %name%</code> (instead of <code>like name%</code>) you can expand the accepted answer as follows:</p>\n\n<pre><code>@Query(\"SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(concat('%', concat(?1, '%')))\")\nList&lt;String&gt; findByName(String matchPhrase);\n</code></pre>\n"}],"owner":{"account_id":7798354,"reputation":6929,"user_id":5898696,"accept_rate":89,"display_name":"J-Alex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17455,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":40356896,"answer_count":3,"score":6,"last_activity_date":1698242721,"creation_date":1477989558,"question_id":40356565,"body_markdown":"I need to retrieve some Entity fields from CrudRepository:\r\n\r\n    public class User {\r\n        private String name;\r\n\r\n        // getters and setters\r\n    }\r\n\r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt; { \r\n         \r\n       @Query(&quot;SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(?1)&quot;)\r\n       List&lt;String&gt; findByName(String matchPhrase);\r\n    }\r\n\r\nBasically, I want to get equivalent of SQL query:\r\n\r\n    SELECT u.name FROM user u WHERE LOWER(u.name) LIKE LOWER(&#39;match%&#39;)\r\n\r\nThe problem is that @Query doesn&#39;t works (empty list returned), hibernate generates log:\r\n\r\n&gt; Hibernate: select user0_.name as col_0_0_ from user user0_ where lower(user0_.name) like lower(?)\r\n\r\nI actually didn&#39;t get how to specify a parameter bound with appended %.\r\n\r\n    // also fails at compile-time\r\n    @Query(&quot;SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(?1%)&quot;)\r\n\r\n&gt; org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: null near line ...\r\n\r\nThis works fine but returns whole Entity, what may produce long response because I need retrieve only specific fields:\r\n\r\n    List&lt;User&gt; findByNameStartingWithIgnoreCase(String match);","title":"Spring Data CrudRepository @Query With LIKE and IgnoreCase","body":"<p>I need to retrieve some Entity fields from CrudRepository:</p>\n\n<pre><code>public class User {\n    private String name;\n\n    // getters and setters\n}\n\npublic interface UserRepository extends CrudRepository&lt;User, Long&gt; { \n\n   @Query(\"SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(?1)\")\n   List&lt;String&gt; findByName(String matchPhrase);\n}\n</code></pre>\n\n<p>Basically, I want to get equivalent of SQL query:</p>\n\n<pre><code>SELECT u.name FROM user u WHERE LOWER(u.name) LIKE LOWER('match%')\n</code></pre>\n\n<p>The problem is that @Query doesn't works (empty list returned), hibernate generates log:</p>\n\n<blockquote>\n  <p>Hibernate: select user0_.name as col_0_0_ from user user0_ where lower(user0_.name) like lower(?)</p>\n</blockquote>\n\n<p>I actually didn't get how to specify a parameter bound with appended %.</p>\n\n<pre><code>// also fails at compile-time\n@Query(\"SELECT U.name FROM User U WHERE LOWER(U.name) LIKE LOWER(?1%)\")\n</code></pre>\n\n<blockquote>\n  <p>org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: null near line ...</p>\n</blockquote>\n\n<p>This works fine but returns whole Entity, what may produce long response because I need retrieve only specific fields:</p>\n\n<pre><code>List&lt;User&gt; findByNameStartingWithIgnoreCase(String match);\n</code></pre>\n"},{"tags":["java","gradle","pmd"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1698234572,"post_id":77358831,"comment_id":136378735,"body_markdown":"Start by sharing your Gradle build file and version.","body":"Start by sharing your Gradle build file and version."},{"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1698235990,"post_id":77358831,"comment_id":136379039,"body_markdown":"@aled addd as part of description, don&#39;t have anything else","body":"@aled addd as part of description, don&#39;t have anything else"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1698237270,"post_id":77358831,"comment_id":136379310,"body_markdown":"That&#39;s the entire gradle.build file? The warnings are related to dependencies. Doesn&#39;t your project has any? No pmd configurations either?","body":"That&#39;s the entire gradle.build file? The warnings are related to dependencies. Doesn&#39;t your project has any? No pmd configurations either?"},{"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1698242668,"post_id":77358831,"comment_id":136380543,"body_markdown":"@aled added pmdMain","body":"@aled added pmdMain"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1698245690,"post_id":77358831,"comment_id":136381331,"body_markdown":"You mean there is no `mainPmdAuxClasspathCopy` or `mainPmdAuxClasspathCopy2` anywhere in your gradle.build nor any other file?","body":"You mean there is no <code>mainPmdAuxClasspathCopy</code> or <code>mainPmdAuxClasspathCopy2</code> anywhere in your gradle.build nor any other file?"},{"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"score":0,"creation_date":1698248230,"post_id":77358831,"comment_id":136381862,"body_markdown":"No, nothing like this is defined","body":"No, nothing like this is defined"}],"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698242648,"creation_date":1698231216,"question_id":77358831,"body_markdown":"    gradle version = 8.2.1\r\n    \r\n    plugins {\r\n         id &#39;pmd&#39;\r\n    }\r\n    \r\n    pmdMain {\r\n        enabled = gradle.startParameter.taskNames.contains(&#39;pmdMain&#39;)\r\n    }\r\n\r\nInclusion of plugin &#39;pmd&#39; throws the following warnings while running `./gradlew dependencyUpdates`. How do we get rid of these deprecations\r\n\r\n    The mainPmdAuxClasspathCopy configuration has been deprecated for dependency declaration. This will fail with an error in Gradle 9.0. Please use another configuration instead. Consult the upgrading guide for further information: https://docs.gradle.org/8.2.1/userguide/upgrading_version_5.html#dependencies_should_no_longer_be_declared_using_the_compile_and_runtime_configurations\r\n    The mainPmdAuxClasspathCopy2 configuration has been deprecated for dependency declaration. This will fail with an error in Gradle 9.0. Please use another configuration instead. Consult the upgrading guide for further information: https://docs.gradle.org/8.2.1/userguide/upgrading_version_5.html#dependencies_should_no_longer_be_declared_using_the_compile_and_runtime_configurations","title":"mainPmdAuxClasspathCopy configuration has been deprecated for dependency declaration","body":"<pre><code>gradle version = 8.2.1\n\nplugins {\n     id 'pmd'\n}\n\npmdMain {\n    enabled = gradle.startParameter.taskNames.contains('pmdMain')\n}\n</code></pre>\n<p>Inclusion of plugin 'pmd' throws the following warnings while running <code>./gradlew dependencyUpdates</code>. How do we get rid of these deprecations</p>\n<pre><code>The mainPmdAuxClasspathCopy configuration has been deprecated for dependency declaration. This will fail with an error in Gradle 9.0. Please use another configuration instead. Consult the upgrading guide for further information: https://docs.gradle.org/8.2.1/userguide/upgrading_version_5.html#dependencies_should_no_longer_be_declared_using_the_compile_and_runtime_configurations\nThe mainPmdAuxClasspathCopy2 configuration has been deprecated for dependency declaration. This will fail with an error in Gradle 9.0. Please use another configuration instead. Consult the upgrading guide for further information: https://docs.gradle.org/8.2.1/userguide/upgrading_version_5.html#dependencies_should_no_longer_be_declared_using_the_compile_and_runtime_configurations\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":1,"creation_date":1482318770,"post_id":41261431,"comment_id":69723312,"body_markdown":"Would you consider the master - worker pattern where threads are re-used? Perhaps a distrubuted version like Map Reduce or Hazelcast?","body":"Would you consider the master - worker pattern where threads are re-used? Perhaps a distrubuted version like Map Reduce or Hazelcast?"},{"owner":{"account_id":219747,"reputation":2950,"user_id":476817,"accept_rate":85,"display_name":"DagR"},"score":0,"creation_date":1482325538,"post_id":41261431,"comment_id":69727541,"body_markdown":"I&#39;m thinking of a single web server being able to process 100 000 simultaneous clients and keeping one (lightweight) thread per request and making synchronous calls to external systems for each client.","body":"I&#39;m thinking of a single web server being able to process 100 000 simultaneous clients and keeping one (lightweight) thread per request and making synchronous calls to external systems for each client."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1482325924,"post_id":41261431,"comment_id":69727798,"body_markdown":"Shouldn&#39;t you allow the web server to handle that? In any case 100 000 simultaneous clients sounds like a lot so you&#39;ll be using some form of clustering anyways","body":"Shouldn&#39;t you allow the web server to handle that? In any case 100 000 simultaneous clients sounds like a lot so you&#39;ll be using some form of clustering anyways"},{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":0,"creation_date":1482335804,"post_id":41261431,"comment_id":69734577,"body_markdown":"Related: http://stackoverflow.com/questions/20030120/java-default-stack-size","body":"Related: <a href=\"http://stackoverflow.com/questions/20030120/java-default-stack-size\" title=\"java default stack size\">stackoverflow.com/questions/20030120/java-default-stack-size</a>"}],"answers":[{"comments":[{"owner":{"account_id":219747,"reputation":2950,"user_id":476817,"accept_rate":85,"display_name":"DagR"},"score":1,"creation_date":1482325659,"post_id":41261842,"comment_id":69727623,"body_markdown":"In the beginning of Java, we had &quot;green threads&quot; which was a pure JVM implementation of threads but that was later replaced by kernel threads.","body":"In the beginning of Java, we had &quot;green threads&quot; which was a pure JVM implementation of threads but that was later replaced by kernel threads."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1482325815,"post_id":41261842,"comment_id":69727741,"body_markdown":"True, I vaguely remember seeing a lot of trouble with those thingies back then. But I *guess* those green threads weren&#39;t &quot;lightweight&quot; either ;-) ... but given your other comment, I think that Akka could be a good start for you.","body":"True, I vaguely remember seeing a lot of trouble with those thingies back then. But I <i>guess</i> those green threads weren&#39;t &quot;lightweight&quot; either ;-) ... but given your other comment, I think that Akka could be a good start for you."},{"owner":{"account_id":219747,"reputation":2950,"user_id":476817,"accept_rate":85,"display_name":"DagR"},"score":1,"creation_date":1482433389,"post_id":41261842,"comment_id":69782498,"body_markdown":"Here&#39;s a quite insightful discussion about green vs native threads: http://softwareengineering.stackexchange.com/questions/120384/why-not-green-threads","body":"Here&#39;s a quite insightful discussion about green vs native threads: <a href=\"http://softwareengineering.stackexchange.com/questions/120384/why-not-green-threads\" title=\"why not green threads\">softwareengineering.stackexchange.com/questions/120384/&hellip;</a>"},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":2,"creation_date":1482433842,"post_id":41261842,"comment_id":69782734,"body_markdown":"Also &quot;green threads&quot; or &quot;lightweight threads&quot; would *de facto* be M:N scheduling.  See https://en.wikipedia.org/wiki/Thread_%28computing%29#M:N_.28hybrid_threading.29  That&#39;s pretty much died out as a viable OS scheduling model for the reasons listed.","body":"Also &quot;green threads&quot; or &quot;lightweight threads&quot; would <i>de facto</i> be M:N scheduling.  See <a href=\"https://en.wikipedia.org/wiki/Thread_%28computing%29#M:N_.28hybrid_threading.29\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a>  That&#39;s pretty much died out as a viable OS scheduling model for the reasons listed."},{"owner":{"account_id":40443,"reputation":1902,"user_id":117220,"accept_rate":67,"display_name":"Petr Gladkikh"},"score":1,"creation_date":1670419024,"post_id":41261842,"comment_id":131871770,"body_markdown":"Virtual threads JEP looks like it https://openjdk.org/jeps/436","body":"Virtual threads JEP looks like it <a href=\"https://openjdk.org/jeps/436\" rel=\"nofollow noreferrer\">openjdk.org/jeps/436</a>"}],"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1482433528,"creation_date":1482319966,"answer_id":41261842,"question_id":41261431,"body_markdown":"I am not aware of any &quot;lightweight&quot; solutions that would be on their way into the Java community process. See the [jep][1] entries ... no word about anything like that there. There was a request for [coroutines][2] years back; but that thing looks pretty much &quot;dead&quot;.\r\n\r\nI think the closest that you can get **today** would be more something like what the [akka][3] framework provides to you; as those Akka actors all run with a &quot;&quot;lightweight thread&quot; of activity so to speak.  \r\n\r\n\r\n  [1]: http://openjdk.java.net/jeps/0\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8029988\r\n  [3]: http://akka.io/","title":"Lightweight threads in Java?","body":"<p>I am not aware of any \"lightweight\" solutions that would be on their way into the Java community process. See the <a href=\"http://openjdk.java.net/jeps/0\" rel=\"nofollow noreferrer\">jep</a> entries ... no word about anything like that there. There was a request for <a href=\"https://bugs.openjdk.java.net/browse/JDK-8029988\" rel=\"nofollow noreferrer\">coroutines</a> years back; but that thing looks pretty much \"dead\".</p>\n\n<p>I think the closest that you can get <strong>today</strong> would be more something like what the <a href=\"http://akka.io/\" rel=\"nofollow noreferrer\">akka</a> framework provides to you; as those Akka actors all run with a \"\"lightweight thread\" of activity so to speak.  </p>\n"},{"tags":[],"owner":{"account_id":219747,"reputation":2950,"user_id":476817,"accept_rate":85,"display_name":"DagR"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1545299925,"creation_date":1521644619,"answer_id":49409813,"question_id":41261431,"body_markdown":"There is a proposal for lightweight threads (&quot;fibers&quot;) on the JVM called Project Loom: http://cr.openjdk.java.net/~rpressler/loom/Loom-Proposal.html\r\n\r\nIt&#39;s in its early stages, nothing released yet, but still something to keep an eye on.\r\n","title":"Lightweight threads in Java?","body":"<p>There is a proposal for lightweight threads (\"fibers\") on the JVM called Project Loom: <a href=\"http://cr.openjdk.java.net/~rpressler/loom/Loom-Proposal.html\" rel=\"noreferrer\">http://cr.openjdk.java.net/~rpressler/loom/Loom-Proposal.html</a></p>\n\n<p>It's in its early stages, nothing released yet, but still something to keep an eye on.</p>\n"},{"tags":[],"owner":{"account_id":33808,"reputation":43283,"user_id":94977,"accept_rate":69,"display_name":"Jason Orendorff"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1698242402,"creation_date":1698242402,"answer_id":77360188,"question_id":41261431,"body_markdown":"**Virtual threads** were finalized in JDK 21. They are described in [JEP 444](https://openjdk.org/jeps/444), which says:\r\n\r\n&gt; Virtual threads are lightweight threads that dramatically reduce the effort of writing, maintaining, and observing high-throughput concurrent applications.\r\n\r\nThe model is a lot like Erlang&#39;s lightweight processes:\r\n\r\n - Virtual threads are lightweight, quick to create and start.\r\n - Their stacks are heap-allocated, start out small, and grow dynamically.\r\n - A single process can have tens of thousands of them.\r\n - There&#39;s a userspace scheduler that assigns OS threads to execute virtual threads.\r\n - If you write code that appears to do a blocking `write` to a socket, on a virtual thread that code will actually do an asynchronous write, then yield, freeing the underlying OS thread to work on something else. The virtual thread won&#39;t be scheduled again until the write finishes.\r\n\r\nThere are also some differences from Erlang:\r\n - `java.lang.Thread`&#39;s public constructors still create platform threads, which run directly on new native OS threads.\r\n - Java doesn&#39;t create a tiny, independent GC heap for each virtual thread. On the one hand, this rules out some neat GC performance tricks Erlang has; but for Java, it means virtual threads can access and modify shared data by going through locks, as Java programmers naturally expect.\r\n - Java doesn&#39;t have Erlang&#39;s message-passing primitives (mailboxes and PIDs). It has its own primitives for inter-thread communication.\r\n - Virtual threads in Java don&#39;t have Erlang-style error handling. Java doesn&#39;t have Erlang&#39;s process links, monitors, and [supervisors](https://www.erlang.org/doc/man/supervisor.html). Instead, Java programs manage virtual threads using `java.lang.Thread` and executors, just like OS threads.","title":"Lightweight threads in Java?","body":"<p><strong>Virtual threads</strong> were finalized in JDK 21. They are described in <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">JEP 444</a>, which says:</p>\n<blockquote>\n<p>Virtual threads are lightweight threads that dramatically reduce the effort of writing, maintaining, and observing high-throughput concurrent applications.</p>\n</blockquote>\n<p>The model is a lot like Erlang's lightweight processes:</p>\n<ul>\n<li>Virtual threads are lightweight, quick to create and start.</li>\n<li>Their stacks are heap-allocated, start out small, and grow dynamically.</li>\n<li>A single process can have tens of thousands of them.</li>\n<li>There's a userspace scheduler that assigns OS threads to execute virtual threads.</li>\n<li>If you write code that appears to do a blocking <code>write</code> to a socket, on a virtual thread that code will actually do an asynchronous write, then yield, freeing the underlying OS thread to work on something else. The virtual thread won't be scheduled again until the write finishes.</li>\n</ul>\n<p>There are also some differences from Erlang:</p>\n<ul>\n<li><code>java.lang.Thread</code>'s public constructors still create platform threads, which run directly on new native OS threads.</li>\n<li>Java doesn't create a tiny, independent GC heap for each virtual thread. On the one hand, this rules out some neat GC performance tricks Erlang has; but for Java, it means virtual threads can access and modify shared data by going through locks, as Java programmers naturally expect.</li>\n<li>Java doesn't have Erlang's message-passing primitives (mailboxes and PIDs). It has its own primitives for inter-thread communication.</li>\n<li>Virtual threads in Java don't have Erlang-style error handling. Java doesn't have Erlang's process links, monitors, and <a href=\"https://www.erlang.org/doc/man/supervisor.html\" rel=\"nofollow noreferrer\">supervisors</a>. Instead, Java programs manage virtual threads using <code>java.lang.Thread</code> and executors, just like OS threads.</li>\n</ul>\n"}],"owner":{"account_id":219747,"reputation":2950,"user_id":476817,"accept_rate":85,"display_name":"DagR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7530,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":77360188,"answer_count":3,"score":21,"last_activity_date":1698242402,"creation_date":1482318658,"question_id":41261431,"body_markdown":"Is there any JSR or other serious initiative to create lightweight threads in Java? Something similar to Golang&#39;s goroutines or Erlang processes.\r\n\r\nJava threads are known for their heavy weight. Something like 512-1024 kb per thread is used so this limits the maximum number of threads. Context switching between java threads also takes a &quot;long&quot; time.\r\n\r\nI&#39;ve heard of Quasar &quot;fibers&quot; (http://docs.paralleluniverse.co/quasar/) which are lightweight threads implemented as a lib. They seem a bit tricky to use though and haven&#39;t caught a lot of interest.\r\n\r\nIdeally lightweight threads should be built into the core of the JVM.","title":"Lightweight threads in Java?","body":"<p>Is there any JSR or other serious initiative to create lightweight threads in Java? Something similar to Golang's goroutines or Erlang processes.</p>\n\n<p>Java threads are known for their heavy weight. Something like 512-1024 kb per thread is used so this limits the maximum number of threads. Context switching between java threads also takes a \"long\" time.</p>\n\n<p>I've heard of Quasar \"fibers\" (<a href=\"http://docs.paralleluniverse.co/quasar/\" rel=\"noreferrer\">http://docs.paralleluniverse.co/quasar/</a>) which are lightweight threads implemented as a lib. They seem a bit tricky to use though and haven't caught a lot of interest.</p>\n\n<p>Ideally lightweight threads should be built into the core of the JVM.</p>\n"},{"tags":["java","spring","set","multi-tenant"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1698164535,"post_id":77353614,"comment_id":136369385,"body_markdown":"Are there implementations for `equals()` and `hashCode()`, to properly identify a `ConfigurationWrapper`?","body":"Are there implementations for <code>equals()</code> and <code>hashCode()</code>, to properly identify a <code>ConfigurationWrapper</code>?"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1698166174,"post_id":77353614,"comment_id":136369672,"body_markdown":"all the `ConfigurationWrapper` objects you create contain the same `Configuration` object. With `Configuration config = configuration;` you just create another reference to `this.configuraton` and in the following lines set the username, password etc. into this instance.","body":"all the <code>ConfigurationWrapper</code> objects you create contain the same <code>Configuration</code> object. With <code>Configuration config = configuration;</code> you just create another reference to <code>this.configuraton</code> and in the following lines set the username, password etc. into this instance."},{"owner":{"account_id":3179240,"reputation":19,"user_id":2686382,"display_name":"Omar Hossam"},"score":0,"creation_date":1698189204,"post_id":77353614,"comment_id":136373099,"body_markdown":"@AndrewS Yes for sure. I chose only for both functions the attributes of the Wrapper that really differentiate it from the other instances. I&#39;ve added to my questions the code for the ConfigurationWrapper class","body":"@AndrewS Yes for sure. I chose only for both functions the attributes of the Wrapper that really differentiate it from the other instances. I&#39;ve added to my questions the code for the ConfigurationWrapper class"},{"owner":{"account_id":3179240,"reputation":19,"user_id":2686382,"display_name":"Omar Hossam"},"score":0,"creation_date":1698189781,"post_id":77353614,"comment_id":136373151,"body_markdown":"@P.J.Meisch Yes that&#39;s right, it was actually a try to make sure that using the same Configuration instance in different Wrappers doesn&#39;t cause any copying issues. But initially I&#39;m using the original Configuration instance for all Wrappers creation","body":"@P.J.Meisch Yes that&#39;s right, it was actually a try to make sure that using the same Configuration instance in different Wrappers doesn&#39;t cause any copying issues. But initially I&#39;m using the original Configuration instance for all Wrappers creation"}],"answers":[{"tags":[],"owner":{"account_id":3179240,"reputation":19,"user_id":2686382,"display_name":"Omar Hossam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698242210,"creation_date":1698242210,"answer_id":77360161,"question_id":77353614,"body_markdown":"Problem solved!\r\n\r\nFor the first issue, I was using a single `Configuration` object to create all `ConfigurationWrapper` objects. This was causing all `ConfigurationWrapper` objects to have the same `Configuration` reference. To fix this issue, I had to create a new `Configuration` object for each `ConfigurationWrapper`.\r\n\r\nFor the second issue, the issue with unsubscribing tenants was related to the way I was comparing and removing them. When I remove a `ConfigurationWrapper` from the set, I had to also update the iterator or use an iterator specifically designed for this purpose. I fixed it by using `Iterator` instead of `For` each.","title":"java - Why contents of Set are changed unintentionally in the background","body":"<p>Problem solved!</p>\n<p>For the first issue, I was using a single <code>Configuration</code> object to create all <code>ConfigurationWrapper</code> objects. This was causing all <code>ConfigurationWrapper</code> objects to have the same <code>Configuration</code> reference. To fix this issue, I had to create a new <code>Configuration</code> object for each <code>ConfigurationWrapper</code>.</p>\n<p>For the second issue, the issue with unsubscribing tenants was related to the way I was comparing and removing them. When I remove a <code>ConfigurationWrapper</code> from the set, I had to also update the iterator or use an iterator specifically designed for this purpose. I fixed it by using <code>Iterator</code> instead of <code>For</code> each.</p>\n"}],"owner":{"account_id":3179240,"reputation":19,"user_id":2686382,"display_name":"Omar Hossam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77360161,"answer_count":1,"score":-1,"last_activity_date":1698242210,"creation_date":1698162655,"question_id":77353614,"body_markdown":"In a spring boot microservice, I&#39;m having a Set of Wrapper Objects in my service class. This set represents subscribers, where the wrapper object includes all configurations needed by the subscriber&#39;s daos and http client, and this set is regularly synced to check for new subscribers or tenants that unsubscribed. 2 issues at least I could spot at the moment:\r\n- Whenever adding new subscribers, logging one of the Wrapper Objects&#39; parameters shows them all the same value, although other parameters of object are correct, and also functionality based on faulty printed parameter is also working well. The logging is only for debugging reasons, but for every function applied on the tenant (Wrapper Object) and logging the tenantId, the same tenantId is always logged. TenantId is a part of the Configuration parameter of the Wrapper that becomes similar for all objects in the Set, unlike other parameters in the wrapper object.\r\n- Whenever a tenant unsubscribes and removing the tenants related instance in the set, on next sync, the set is seen to still contain the tenant and goes to removing again.\r\n\r\nThe issues seem very simple, but I have no idea where could the issue be, and if they actually are related and may cause more issues.\r\n\r\n\r\n```\r\n@Service\r\npublic class Service {\r\n\r\n\tprivate final Configuration configuration;\r\n\tprivate final ApplicationDao appDao;\r\n\t\r\n\tprivate static final HashSet&lt;ConfigurationWrapper&gt; configurations = new HashSet&lt;ConfigurationWrapper&gt;();\r\n\r\n\t@Autowired\r\n\tpublic Service(Configuration configuration, ApplicationDao appDao) {\r\n\t\tthis.configuration = configuration;\r\n\t\tthis.appDao = appDao;\r\n\t\t\r\n\t\ttry {this.scheduledSubscriptionsSync();\r\n\t\t} catch (IOException | HttpClientException e) {}\r\n\t}\r\n\r\n\t@Scheduled(cron = &quot;0 0 0/1 * * ?&quot;)\r\n\tprivate void scheduledSubscriptionsSync() throws IOException, HttpClientException {\r\n\t\tList&lt;User&gt; subs = appDao.getAllSubscriptions();\r\n\t\taddNewSubs(subs);\r\n\t\tremoveSubs(subs);\r\n\t}\r\n\r\n\tprivate void addNewSubs(List&lt;User&gt; subs) {\r\n\t\tfor (User sub : subs) {\r\n\t\t\tConfiguration config = configuration;\r\n\t\t\tconfig.setUserName(sub.getName());\r\n\t\t\tconfig.setPassword(sub.getPassword());\r\n\t\t\tconfig.setTenantid(sub.getTenant());\r\n\t\t\tConfigurationWrapper newSubConfig = new ConfigurationWrapper(config, sub);\r\n\t\t\tboolean isNewSubConfigAdded = configurations.add(newSubConfig);\r\n\t\t\tif (isNewSubConfigAdded) { \r\n\t\t\t\tLOGGER.info(&quot;New subscription found: {}&quot;, sub.toString());\r\n\t\t\t\tint counter = 0;\r\n\t\t\t\tfor (ConfigurationWrapper configuration : Service.configurations) {\r\n\t\t\t\t\tLOGGER.debug(&quot;!DEBUG! BOOTSTRAPSERVICE - PRINTING HASHSET AFTER ADD: &quot; + configuration.toString() + &quot;, POSITION: &quot; + counter);\r\n\t\t\t\t\tcounter++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate void removeSubs(List&lt;User&gt; subs) {\r\n\t\tfor (ConfigurationWrapper configuration : Service.configurations) {\r\n\t\t\tif (!subs.contains(configuration.getSubscription())) {\r\n\t\t\t\tconfigurations.remove(configuration);\r\n\t\t\t\tLOGGER.info(&quot;Subscription removed: {}&quot;, configuration.getSubscription().toString());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static HashSet&lt;ConfigurationWrapper&gt; getConfigurations() {\r\n\t\treturn configurations;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI tried changing the data structure of the set, between arrayLists and HashSets, and also making the Set static to avoid expired copies of the set, but still the issues remain.\r\n\r\n\r\n```\r\npublic class ConfigurationWrapper {\r\n\t\r\n\tprivate Configuration configuration;\r\n\tprivate final HttpClient httpClient;\r\n\tprivate final Daos daos;\r\n\tprivate final Timestamps timestamps;\r\n\tprivate final User subscription;\r\n\r\n\tpublic ConfigurationWrapper(Configuration configuration, User subscription) {\r\n\t\tthis.configuration = configuration;\r\n\t\tthis.httpClient = new HttpClient(configuration, CredentialsProviderFactory.getConfigCredentials(configuration));\r\n\t\tthis.daos = new Daos(configuration, this.httpClient);\r\n\t\tthis.timestamps = new Timestamps();\r\n\t\tthis.subscription = subscription;\r\n\t}\r\n\r\n\tpublic Configuration getConfiguration() {\r\n\t\treturn configuration;\r\n\t}\r\n\r\n\tpublic HttpClient getHttpClient() {\r\n\t\treturn httpClient;\r\n\t}\r\n\r\n\tpublic Daos getDaos() {\r\n\t\treturn daos;\r\n\t}\r\n\r\n\tpublic Timestamps getTimestamps() {\r\n\t\treturn timestamps;\r\n\t}\r\n\r\n\tpublic User getSubscription() {\r\n\t\treturn subscription;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;ConfigurationWrapper [configuration=&quot;\r\n\t\t\t\t+ configuration + &quot;, subscription=&quot; + subscription + &quot;]&quot;;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\treturn Objects.hash(configuration, subscription);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\tif (this == obj)\r\n\t\t\treturn true;\r\n\t\tif (obj == null)\r\n\t\t\treturn false;\r\n\t\tif (getClass() != obj.getClass())\r\n\t\t\treturn false;\r\n\t\tConfigurationWrapper other = (ConfigurationWrapper) obj;\r\n\t\treturn Objects.equals(configuration, other.configuration)\r\n\t\t\t\t&amp;&amp; Objects.equals(subscription, other.subscription);\r\n\t}\r\n}\r\n```","title":"java - Why contents of Set are changed unintentionally in the background","body":"<p>In a spring boot microservice, I'm having a Set of Wrapper Objects in my service class. This set represents subscribers, where the wrapper object includes all configurations needed by the subscriber's daos and http client, and this set is regularly synced to check for new subscribers or tenants that unsubscribed. 2 issues at least I could spot at the moment:</p>\n<ul>\n<li>Whenever adding new subscribers, logging one of the Wrapper Objects' parameters shows them all the same value, although other parameters of object are correct, and also functionality based on faulty printed parameter is also working well. The logging is only for debugging reasons, but for every function applied on the tenant (Wrapper Object) and logging the tenantId, the same tenantId is always logged. TenantId is a part of the Configuration parameter of the Wrapper that becomes similar for all objects in the Set, unlike other parameters in the wrapper object.</li>\n<li>Whenever a tenant unsubscribes and removing the tenants related instance in the set, on next sync, the set is seen to still contain the tenant and goes to removing again.</li>\n</ul>\n<p>The issues seem very simple, but I have no idea where could the issue be, and if they actually are related and may cause more issues.</p>\n<pre><code>@Service\npublic class Service {\n\n    private final Configuration configuration;\n    private final ApplicationDao appDao;\n    \n    private static final HashSet&lt;ConfigurationWrapper&gt; configurations = new HashSet&lt;ConfigurationWrapper&gt;();\n\n    @Autowired\n    public Service(Configuration configuration, ApplicationDao appDao) {\n        this.configuration = configuration;\n        this.appDao = appDao;\n        \n        try {this.scheduledSubscriptionsSync();\n        } catch (IOException | HttpClientException e) {}\n    }\n\n    @Scheduled(cron = &quot;0 0 0/1 * * ?&quot;)\n    private void scheduledSubscriptionsSync() throws IOException, HttpClientException {\n        List&lt;User&gt; subs = appDao.getAllSubscriptions();\n        addNewSubs(subs);\n        removeSubs(subs);\n    }\n\n    private void addNewSubs(List&lt;User&gt; subs) {\n        for (User sub : subs) {\n            Configuration config = configuration;\n            config.setUserName(sub.getName());\n            config.setPassword(sub.getPassword());\n            config.setTenantid(sub.getTenant());\n            ConfigurationWrapper newSubConfig = new ConfigurationWrapper(config, sub);\n            boolean isNewSubConfigAdded = configurations.add(newSubConfig);\n            if (isNewSubConfigAdded) { \n                LOGGER.info(&quot;New subscription found: {}&quot;, sub.toString());\n                int counter = 0;\n                for (ConfigurationWrapper configuration : Service.configurations) {\n                    LOGGER.debug(&quot;!DEBUG! BOOTSTRAPSERVICE - PRINTING HASHSET AFTER ADD: &quot; + configuration.toString() + &quot;, POSITION: &quot; + counter);\n                    counter++;\n                }\n            }\n        }\n    }\n    \n    private void removeSubs(List&lt;User&gt; subs) {\n        for (ConfigurationWrapper configuration : Service.configurations) {\n            if (!subs.contains(configuration.getSubscription())) {\n                configurations.remove(configuration);\n                LOGGER.info(&quot;Subscription removed: {}&quot;, configuration.getSubscription().toString());\n            }\n        }\n    }\n\n    public static HashSet&lt;ConfigurationWrapper&gt; getConfigurations() {\n        return configurations;\n    }\n}\n</code></pre>\n<p>I tried changing the data structure of the set, between arrayLists and HashSets, and also making the Set static to avoid expired copies of the set, but still the issues remain.</p>\n<pre><code>public class ConfigurationWrapper {\n    \n    private Configuration configuration;\n    private final HttpClient httpClient;\n    private final Daos daos;\n    private final Timestamps timestamps;\n    private final User subscription;\n\n    public ConfigurationWrapper(Configuration configuration, User subscription) {\n        this.configuration = configuration;\n        this.httpClient = new HttpClient(configuration, CredentialsProviderFactory.getConfigCredentials(configuration));\n        this.daos = new Daos(configuration, this.httpClient);\n        this.timestamps = new Timestamps();\n        this.subscription = subscription;\n    }\n\n    public Configuration getConfiguration() {\n        return configuration;\n    }\n\n    public HttpClient getHttpClient() {\n        return httpClient;\n    }\n\n    public Daos getDaos() {\n        return daos;\n    }\n\n    public Timestamps getTimestamps() {\n        return timestamps;\n    }\n\n    public User getSubscription() {\n        return subscription;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ConfigurationWrapper [configuration=&quot;\n                + configuration + &quot;, subscription=&quot; + subscription + &quot;]&quot;;\n    }\n    \n    @Override\n    public int hashCode() {\n        return Objects.hash(configuration, subscription);\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        ConfigurationWrapper other = (ConfigurationWrapper) obj;\n        return Objects.equals(configuration, other.configuration)\n                &amp;&amp; Objects.equals(subscription, other.subscription);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-mvc","kendo-ui","kendo-grid"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1698242816,"post_id":77360151,"comment_id":136380585,"body_markdown":"It is not readable format of the post. Edit it and clarify your problem, add code necessary to reproduce it.","body":"It is not readable format of the post. Edit it and clarify your problem, add code necessary to reproduce it."}],"owner":{"account_id":29751608,"reputation":1,"user_id":22801395,"display_name":"ahmad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698242120,"creation_date":1698242120,"question_id":77360151,"body_markdown":"\r\n```\r\n$(&quot;#grid&quot;).kendoGrid({\r\n                        dataSource: {\r\n                           \r\n                    transport: {\r\n                         read: {\r\n                             url: function(options) \r\n                             {   return &quot;${pageContext.request.contextPath}/charts&quot;;\r\n                                         },\r\n                            \r\n                            dataType: &quot;json&quot;,\r\n                            type: &quot;GET&quot;\r\n                        }\r\n                        },\r\n                            \r\n                            schema:{\r\n                                model: {\r\n                                    fields: {\r\n                                        id: { type: &quot;number&quot; },\r\n                                        fullName : { type: &quot;string&quot; },\r\n                                        address: { type: &quot;string&quot; },\r\n                                        email : { type: &quot;string&quot; },\r\n                                        password: { type: &quot;string&quot; },\r\n                                        designation: { type: &quot;string&quot; },\r\n                                        salary: { type: &quot;number&quot; }\r\n                                    }\r\n                                }\r\n                            },\r\n\r\n                            aggregate: [ { field: &quot;fullName&quot;, aggregate: &quot;count&quot; },\r\n                                \r\n                                          { field: &quot;salary&quot;, aggregate: &quot;sum&quot; }\r\n                                          ]\r\n                             \r\n                       ,pageSize: 8 },\r\n                        sortable: true,\r\n                        scrollable: false,\r\n                       pageSize: 5,\r\n                       pageSizes: true,\r\n                        hieght:20,\r\n                         pageable: {\r\n                \r\n           pageSizes: [4, 6,10,&quot;all&quot;],\r\n           buttonCount: 5\r\n                },\r\n     columns: [\r\n                   { field: &quot;id&quot;, title: &quot;ID&quot;, width: 180  },\r\n                   { field: &quot;fullName&quot;, title: &quot;Name&quot;,width:300,\r\n                    template: &quot;&lt;div style=color:red&gt;#=fullName#&lt;/div&gt;&quot; ,footerTemplate: &quot;Total Count: #=count#&quot;  },\r\n                     { field: &quot;address&quot;, title: &quot;Address&quot;,width:300 },\r\n                      { field: &quot;email&quot;, title: &quot;Email&quot;,width:200},\r\n                      { field: &quot;password&quot;, title: &quot;Password&quot; ,width:200},\r\n                            { field: &quot;designation&quot;, title: &quot;Designation&quot; ,width:300},\r\n                            { field: &quot;salary&quot;, title: &quot;Salary&quot; ,width:200,footerTemplate: &quot;Total Sum: #=sum#&quot;},\r\n                            { width:200,\r\n                              template: &quot;&lt;a class=&#39;k-button&#39; href=&#39;/Home/Index&#39;&gt;Redirect&lt;/a&gt;&quot;   }\r\n                            \r\n                        ]\r\n                    });\r\n```\r\n\r\n\r\n i want to set these data set in json formate return by my java mvc controller..\r\ni am try to bind json data set retuned by mvc controller and show these data set in Kendo ui grid but the data is not set in grid and empty grid is shown here is my code...\r\n","title":"Data binding problem return by java mvc controller using api read","body":"<pre><code>$(&quot;#grid&quot;).kendoGrid({\n                        dataSource: {\n                           \n                    transport: {\n                         read: {\n                             url: function(options) \n                             {   return &quot;${pageContext.request.contextPath}/charts&quot;;\n                                         },\n                            \n                            dataType: &quot;json&quot;,\n                            type: &quot;GET&quot;\n                        }\n                        },\n                            \n                            schema:{\n                                model: {\n                                    fields: {\n                                        id: { type: &quot;number&quot; },\n                                        fullName : { type: &quot;string&quot; },\n                                        address: { type: &quot;string&quot; },\n                                        email : { type: &quot;string&quot; },\n                                        password: { type: &quot;string&quot; },\n                                        designation: { type: &quot;string&quot; },\n                                        salary: { type: &quot;number&quot; }\n                                    }\n                                }\n                            },\n\n                            aggregate: [ { field: &quot;fullName&quot;, aggregate: &quot;count&quot; },\n                                \n                                          { field: &quot;salary&quot;, aggregate: &quot;sum&quot; }\n                                          ]\n                             \n                       ,pageSize: 8 },\n                        sortable: true,\n                        scrollable: false,\n                       pageSize: 5,\n                       pageSizes: true,\n                        hieght:20,\n                         pageable: {\n                \n           pageSizes: [4, 6,10,&quot;all&quot;],\n           buttonCount: 5\n                },\n     columns: [\n                   { field: &quot;id&quot;, title: &quot;ID&quot;, width: 180  },\n                   { field: &quot;fullName&quot;, title: &quot;Name&quot;,width:300,\n                    template: &quot;&lt;div style=color:red&gt;#=fullName#&lt;/div&gt;&quot; ,footerTemplate: &quot;Total Count: #=count#&quot;  },\n                     { field: &quot;address&quot;, title: &quot;Address&quot;,width:300 },\n                      { field: &quot;email&quot;, title: &quot;Email&quot;,width:200},\n                      { field: &quot;password&quot;, title: &quot;Password&quot; ,width:200},\n                            { field: &quot;designation&quot;, title: &quot;Designation&quot; ,width:300},\n                            { field: &quot;salary&quot;, title: &quot;Salary&quot; ,width:200,footerTemplate: &quot;Total Sum: #=sum#&quot;},\n                            { width:200,\n                              template: &quot;&lt;a class='k-button' href='/Home/Index'&gt;Redirect&lt;/a&gt;&quot;   }\n                            \n                        ]\n                    });\n</code></pre>\n<p>i want to set these data set in json formate return by my java mvc controller..\ni am try to bind json data set retuned by mvc controller and show these data set in Kendo ui grid but the data is not set in grid and empty grid is shown here is my code...</p>\n"},{"tags":["java","maven","maven-2","pom.xml"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1662656377,"post_id":2681759,"comment_id":130062118,"body_markdown":"that is the reason I hate maven, when things get complicated - I want gradle. with variant aware functionality, in gradle this is not complicated.","body":"that is the reason I hate maven, when things get complicated - I want gradle. with variant aware functionality, in gradle this is not complicated."}],"answers":[{"comments":[{"owner":{"account_id":124810,"reputation":2059,"user_id":320151,"display_name":"Miguel"},"score":0,"creation_date":1271931995,"post_id":2684291,"comment_id":2710860,"body_markdown":"Thanks for your reply. It contains a lot of useful information.\n\nRegarding 1) As you have noticed will not be optimal because parent pom no only contains dependencies that transitively will be resolved if base was marked as a dependency, but also common reporting, source management, and other stuff reused among every project in the company.\n\nIn relation to 2) I tried it, but also specifying artifact&#39;s scope as provided, and it worked :). At first, I thought that as compile takes precedence over provided, it won&#39;t work, but fortunately I was wrong (child POM overrides parent&#39;s configuration)","body":"Thanks for your reply. It contains a lot of useful information.  Regarding 1) As you have noticed will not be optimal because parent pom no only contains dependencies that transitively will be resolved if base was marked as a dependency, but also common reporting, source management, and other stuff reused among every project in the company.  In relation to 2) I tried it, but also specifying artifact&#39;s scope as provided, and it worked :). At first, I thought that as compile takes precedence over provided, it won&#39;t work, but fortunately I was wrong (child POM overrides parent&#39;s configuration)"}],"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":1,"down_vote_count":1,"up_vote_count":59,"is_accepted":true,"score":58,"last_activity_date":1523518959,"creation_date":1271863726,"answer_id":2684291,"question_id":2681759,"body_markdown":"Some ideas:\r\n\r\n1. Maybe you could simply not inherit from the parent in that case (and declare a dependency on `base` with the exclusion). Not handy if you have lot of stuff in the parent pom.\r\n\r\n1. Another thing to test would be to declare the `mail` artifact with the version required by `ALL-DEPS` under the `dependencyManagement` in the parent pom to force the convergence (although I&#39;m not sure this will solve the scoping problem).\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;    \r\n          &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n          &lt;version&gt;???&lt;/version&gt;&lt;!-- put the &quot;right&quot; version here --&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n1. Or you could exclude the `mail` dependency from log4j if you&#39;re not using the features relying on it (and this is what I would do):\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.15&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n1. Or you could revert to the version 1.2.14 of log4j instead of the heretic 1.2.15 version (why didn&#39;t they mark the above dependencies as *optional*?!).","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>Some ideas:</p>\n\n<ol>\n<li><p>Maybe you could simply not inherit from the parent in that case (and declare a dependency on <code>base</code> with the exclusion). Not handy if you have lot of stuff in the parent pom.</p></li>\n<li><p>Another thing to test would be to declare the <code>mail</code> artifact with the version required by <code>ALL-DEPS</code> under the <code>dependencyManagement</code> in the parent pom to force the convergence (although I'm not sure this will solve the scoping problem).</p></li>\n</ol>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;    \n      &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n      &lt;artifactId&gt;mail&lt;/artifactId&gt;\n      &lt;version&gt;???&lt;/version&gt;&lt;!-- put the \"right\" version here --&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n\n<ol>\n<li>Or you could exclude the <code>mail</code> dependency from log4j if you're not using the features relying on it (and this is what I would do):</li>\n</ol>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n  &lt;version&gt;1.2.15&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n      &lt;artifactId&gt;mail&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n      &lt;artifactId&gt;jms&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n      &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n      &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<ol>\n<li>Or you could revert to the version 1.2.14 of log4j instead of the heretic 1.2.15 version (why didn't they mark the above dependencies as <em>optional</em>?!).</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":124810,"reputation":2059,"user_id":320151,"display_name":"Miguel"},"score":1,"creation_date":1271945884,"post_id":2686464,"comment_id":2712778,"body_markdown":"Your approach, as Pascal&#39;s workaround #2 is also valid, in fact, you also took into account that mail dependency should  be declared as provided. Thank you.","body":"Your approach, as Pascal&#39;s workaround #2 is also valid, in fact, you also took into account that mail dependency should  be declared as provided. Thank you."},{"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"score":0,"creation_date":1556888268,"post_id":2686464,"comment_id":98591222,"body_markdown":"Scope provided did not work for me. I used scope test, please check my answer.\n\nhttps://stackoverflow.com/a/55970293/4587961","body":"Scope provided did not work for me. I used scope test, please check my answer.  <a href=\"https://stackoverflow.com/a/55970293/4587961\">stackoverflow.com/a/55970293/4587961</a>"}],"tags":[],"owner":{"account_id":88889,"reputation":179,"user_id":245615,"display_name":"porterhouse91"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1523519071,"creation_date":1271883091,"answer_id":2686464,"question_id":2681759,"body_markdown":"Have you tried explicitly declaring the version of mail.jar you want?  Maven&#39;s dependency resolution should use this for dependency resolution over all other versions.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;project&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;test&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jruby&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;base&lt;/artifactId&gt;\r\n            &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;dependencies&gt;          \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n                &lt;version&gt;VERSION-#&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt; \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ALL-DEPS&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>Have you tried explicitly declaring the version of mail.jar you want?  Maven's dependency resolution should use this for dependency resolution over all other versions.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;test&lt;/groupId&gt;\n  &lt;artifactId&gt;jruby&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;base&lt;/artifactId&gt;\n        &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;dependencies&gt;          \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;VERSION-#&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\n            &lt;artifactId&gt;ALL-DEPS&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1259218,"reputation":2475,"user_id":1218010,"display_name":"Ajax"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1557852499,"creation_date":1351540885,"answer_id":13128748,"question_id":2681759,"body_markdown":"Best bet is to make the dependencies you don&#39;t always want to inherit intransitive.\r\n\r\nYou can do this by marking them in the parent pom with scope provided.\r\n\r\nIf you still want the parent to manage versions of these deps, you can use the `&lt;dependencyManagement&gt;` tag to setup the versions you want without explicitly inheriting them, or passing that inheritance along to children.","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>Best bet is to make the dependencies you don't always want to inherit intransitive.</p>\n\n<p>You can do this by marking them in the parent pom with scope provided.</p>\n\n<p>If you still want the parent to manage versions of these deps, you can use the <code>&lt;dependencyManagement&gt;</code> tag to setup the versions you want without explicitly inheriting them, or passing that inheritance along to children.</p>\n"},{"comments":[{"owner":{"account_id":2392650,"reputation":2659,"user_id":2092205,"display_name":"Matthew Wise"},"score":7,"creation_date":1402396238,"post_id":19931136,"comment_id":37246334,"body_markdown":"+1 for this, although the child pom should be using &lt;dependencies&gt; section rather than &lt;dependencyManagement&gt; since the latter is for managing the *versions* of dependencies from within a parent pom.","body":"+1 for this, although the child pom should be using &lt;dependencies&gt; section rather than &lt;dependencyManagement&gt; since the latter is for managing the <i>versions</i> of dependencies from within a parent pom."},{"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"score":2,"creation_date":1476103702,"post_id":19931136,"comment_id":67196798,"body_markdown":"This is also known as the BOM, a.k.a. bill of materials :-)","body":"This is also known as the BOM, a.k.a. bill of materials :-)"},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1513894823,"post_id":19931136,"comment_id":82836165,"body_markdown":"Does this only work with transitive dependencies? My parent pom contains log4j and it&#39;s preventing my pom&#39;s logback working properly.","body":"Does this only work with transitive dependencies? My parent pom contains log4j and it&#39;s preventing my pom&#39;s logback working properly."},{"owner":{"account_id":410790,"reputation":648,"user_id":6108874,"accept_rate":62,"display_name":"Gerard Bosch"},"score":1,"creation_date":1599308380,"post_id":19931136,"comment_id":112738305,"body_markdown":"Hi there, is this really known as BOM? I&#39;ve seen BOMs are only called as such in the context of defining dependencies in a `&lt;dependencyManagement&gt;` block. This approach is different as relies on transitivity to deliver dependencies. Can this be called BOM? Side question: Is there any way to distribute test scope dependencies without hard-declaring it in a parent so they can be excluded? Thx!","body":"Hi there, is this really known as BOM? I&#39;ve seen BOMs are only called as such in the context of defining dependencies in a <code>&lt;dependencyManagement&gt;</code> block. This approach is different as relies on transitivity to deliver dependencies. Can this be called BOM? Side question: Is there any way to distribute test scope dependencies without hard-declaring it in a parent so they can be excluded? Thx!"},{"owner":{"account_id":410790,"reputation":648,"user_id":6108874,"accept_rate":62,"display_name":"Gerard Bosch"},"score":0,"creation_date":1599330640,"post_id":19931136,"comment_id":112744337,"body_markdown":"I answer myself to the 2nd question: To distribute non-compile scoped deps, explicitly declare it as `compile` scope in the libraries descriptor POM, and then, define somewhere a `dependencyManagement` that redefines the scope properly to `test/provided`. This way you can deliver dependencies without hard-declaring it in the parent but in a dedicated dependency of dependencies instead. P.S. Still don&#39;t know if is considered a BOM or not.","body":"I answer myself to the 2nd question: To distribute non-compile scoped deps, explicitly declare it as <code>compile</code> scope in the libraries descriptor POM, and then, define somewhere a <code>dependencyManagement</code> that redefines the scope properly to <code>test&#47;provided</code>. This way you can deliver dependencies without hard-declaring it in the parent but in a dedicated dependency of dependencies instead. P.S. Still don&#39;t know if is considered a BOM or not."},{"owner":{"account_id":34031,"reputation":9315,"user_id":95750,"accept_rate":90,"display_name":"haridsv"},"score":1,"creation_date":1641204705,"post_id":19931136,"comment_id":124738343,"body_markdown":"As @GerardBosch mentioned, this is *not* same as BOM approach. In BOM approach, the BOM POM declares managed dependencies which are then imported into a project POM using the special `scope` called `import` and then the project needs to further declare them as direct dependencies. The above approach brings in all required dependencies transitively and would be considered an anti-pattern and not advisable as a generic alternative to BOM.","body":"As @GerardBosch mentioned, this is <i>not</i> same as BOM approach. In BOM approach, the BOM POM declares managed dependencies which are then imported into a project POM using the special <code>scope</code> called <code>import</code> and then the project needs to further declare them as direct dependencies. The above approach brings in all required dependencies transitively and would be considered an anti-pattern and not advisable as a generic alternative to BOM."}],"tags":[],"owner":{"account_id":106263,"reputation":3151,"user_id":283136,"accept_rate":38,"display_name":"timomeinen"},"comment_count":6,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1523519052,"creation_date":1384264706,"answer_id":19931136,"question_id":2681759,"body_markdown":"You can group your dependencies within a different project with packaging `pom` as described by Sonatypes [Best Practices][1]:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;project&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;artifactId&gt;base-dependencies&lt;/artifactId&gt;\r\n        &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nand reference them from your parent-pom (watch the dependency `&lt;type&gt;pom&lt;/type&gt;`):\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;project&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;artifactId&gt;base&lt;/artifactId&gt;\r\n        &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;artifactId&gt;base-dependencies&lt;/artifactId&gt;\r\n                &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\r\n                &lt;version&gt;1.0.0&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nYour child-project inherits this parent-pom as before. But now, the mail dependency can be excluded in the child-project within the `dependencyManagement` block:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;project&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;test&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jruby&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;base&lt;/artifactId&gt;\r\n            &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n\r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;artifactId&gt;base-dependencies&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\r\n                    &lt;version&gt;1.0.0&lt;/version&gt;\r\n                    &lt;exclusions&gt;\r\n                        &lt;exclusion&gt;\r\n                            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n                        &lt;/exclusion&gt;\r\n                    &lt;/exclusions&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    &lt;/project&gt;\r\n\r\n  [1]: http://books.sonatype.com/mvnref-book/reference/pom-relationships-sect-pom-best-practice.html","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>You can group your dependencies within a different project with packaging <code>pom</code> as described by Sonatypes <a href=\"http://books.sonatype.com/mvnref-book/reference/pom-relationships-sect-pom-best-practice.html\" rel=\"noreferrer\">Best Practices</a>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;base-dependencies&lt;/artifactId&gt;\n    &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>and reference them from your parent-pom (watch the dependency <code>&lt;type&gt;pom&lt;/type&gt;</code>):</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;artifactId&gt;base&lt;/artifactId&gt;\n    &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;artifactId&gt;base-dependencies&lt;/artifactId&gt;\n            &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Your child-project inherits this parent-pom as before. But now, the mail dependency can be excluded in the child-project within the <code>dependencyManagement</code> block:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;test&lt;/groupId&gt;\n    &lt;artifactId&gt;jruby&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;base&lt;/artifactId&gt;\n        &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;artifactId&gt;base-dependencies&lt;/artifactId&gt;\n                &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\n                &lt;version&gt;1.0.0&lt;/version&gt;\n                &lt;exclusions&gt;\n                    &lt;exclusion&gt;\n                        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n                        &lt;artifactId&gt;mail&lt;/artifactId&gt;\n                    &lt;/exclusion&gt;\n                &lt;/exclusions&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1513968105,"post_id":37676239,"comment_id":82861698,"body_markdown":"Welcome to Stack Overflow, and don&#39;t let the rude people I constantly have dismiss my questions discourage you from posting.","body":"Welcome to Stack Overflow, and don&#39;t let the rude people I constantly have dismiss my questions discourage you from posting."}],"tags":[],"owner":{"account_id":8589624,"reputation":27,"user_id":6434599,"display_name":"bastienb1991"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1523519011,"creation_date":1465293713,"answer_id":37676239,"question_id":2681759,"body_markdown":"When you call a package but do not want some of its dependencies you can do a thing like this (in this case I did not want the old log4j to be added because I needed to use the newer one):\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;package&lt;/groupId&gt;\r\n      &lt;artifactId&gt;package-pk&lt;/artifactId&gt;\r\n      &lt;version&gt;${package-pk.version}&lt;/version&gt;\r\n    \r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- LOG4J --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nThis works for me... but I am pretty new to java/maven so it is maybe not optimum.","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>When you call a package but do not want some of its dependencies you can do a thing like this (in this case I did not want the old log4j to be added because I needed to use the newer one):</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;package&lt;/groupId&gt;\n  &lt;artifactId&gt;package-pk&lt;/artifactId&gt;\n  &lt;version&gt;${package-pk.version}&lt;/version&gt;\n\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;!-- LOG4J --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n  &lt;version&gt;2.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n  &lt;version&gt;2.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This works for me... but I am pretty new to java/maven so it is maybe not optimum.</p>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1548879257,"post_id":47933295,"comment_id":95706398,"body_markdown":"Document this (and the procedure you followed) very carefully as the future maintainers need to redo this if needing to use an updated version of the parent pom.","body":"Document this (and the procedure you followed) very carefully as the future maintainers need to redo this if needing to use an updated version of the parent pom."},{"owner":{"account_id":5041765,"reputation":837,"user_id":4048904,"display_name":"Amit Goldstein"},"score":0,"creation_date":1552987973,"post_id":47933295,"comment_id":97208280,"body_markdown":"Surely you mean don&#39;t use dependencies in parent pom? Parent pom is still very useful to manage dependency versions, and common plugins. Just using it to inject dependency can backfire - we use it only for the must-have dependencies (like a set of essential spring boot starters for a parent for microservices)","body":"Surely you mean don&#39;t use dependencies in parent pom? Parent pom is still very useful to manage dependency versions, and common plugins. Just using it to inject dependency can backfire - we use it only for the must-have dependencies (like a set of essential spring boot starters for a parent for microservices)"},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1553217151,"post_id":47933295,"comment_id":97311980,"body_markdown":"No I’m not saying use a lightweight parent pom. Others on your team won’t allow you to trim the parent pom because other apps depend on the junk in the parent pom that you don’t want.","body":"No I’m not saying use a lightweight parent pom. Others on your team won’t allow you to trim the parent pom because other apps depend on the junk in the parent pom that you don’t want."}],"tags":[],"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"comment_count":3,"down_vote_count":6,"up_vote_count":25,"is_accepted":false,"score":19,"last_activity_date":1567640978,"creation_date":1513893662,"answer_id":47933295,"question_id":2681759,"body_markdown":"# Don&#39;t use a parent pom\r\n\r\nThis might sound extreme, but the same way &quot;inheritance hell&quot; is a reason some people turn their backs on Object Oriented Programming (or [prefer composition over inheritance][1]), remove the problematic `&lt;parent&gt;` block and [copy and paste][2] whatever `&lt;dependencies&gt;` you need (if your team gives you this liberty).\r\n\r\nThe assumption that splitting of poms into a parent and child for &quot;reuse&quot; and &quot;avoidance of redunancy&quot; should be ignored and you should serve your immediate needs first (the cure is worst than the disease). Besides, redundancy has its advantages - namely independence of external changes (i.e stability).\r\n\r\nThis is easier than it sounds if you generate the effective pom (eclipse provides it but you can generate it from the command line with `mvn help:effective`).\r\n\r\n### Example\r\n\r\nI want to use `logback` as my slf4j binding, but my parent pom includes the `log4j` dependency. I don&#39;t want to go and have to push the other children&#39;s dependence on log4j down into their own `pom.xml` files so that mine is unobstructed.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Composition_over_inheritance\r\n  [2]: https://en.wikipedia.org/wiki/Copy_and_paste_programming","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<h1>Don't use a parent pom</h1>\n\n<p>This might sound extreme, but the same way \"inheritance hell\" is a reason some people turn their backs on Object Oriented Programming (or <a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"noreferrer\">prefer composition over inheritance</a>), remove the problematic <code>&lt;parent&gt;</code> block and <a href=\"https://en.wikipedia.org/wiki/Copy_and_paste_programming\" rel=\"noreferrer\">copy and paste</a> whatever <code>&lt;dependencies&gt;</code> you need (if your team gives you this liberty).</p>\n\n<p>The assumption that splitting of poms into a parent and child for \"reuse\" and \"avoidance of redunancy\" should be ignored and you should serve your immediate needs first (the cure is worst than the disease). Besides, redundancy has its advantages - namely independence of external changes (i.e stability).</p>\n\n<p>This is easier than it sounds if you generate the effective pom (eclipse provides it but you can generate it from the command line with <code>mvn help:effective</code>).</p>\n\n<h3>Example</h3>\n\n<p>I want to use <code>logback</code> as my slf4j binding, but my parent pom includes the <code>log4j</code> dependency. I don't want to go and have to push the other children's dependence on log4j down into their own <code>pom.xml</code> files so that mine is unobstructed.</p>\n"},{"comments":[{"owner":{"account_id":1241237,"reputation":133,"user_id":1722709,"display_name":"Rov"},"score":0,"creation_date":1559583512,"post_id":48103554,"comment_id":99458763,"body_markdown":"Thank you for your answer, on Windows 10 I had to run ```notepad empty.class``` then ```jar cvf empty.jar empty.class``` to generate an empty jar.","body":"Thank you for your answer, on Windows 10 I had to run <code>notepad empty.class</code> then <code>jar cvf empty.jar empty.class</code> to generate an empty jar."},{"owner":{"account_id":5599655,"reputation":2173,"user_id":4436276,"accept_rate":46,"display_name":"Piotr Żak"},"score":15,"creation_date":1588770895,"post_id":48103554,"comment_id":109026278,"body_markdown":"Looks like bad practice","body":"Looks like bad practice"}],"tags":[],"owner":{"account_id":465094,"reputation":4280,"user_id":868975,"accept_rate":71,"display_name":"Bax"},"comment_count":2,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1652970098,"creation_date":1515099871,"answer_id":48103554,"question_id":2681759,"body_markdown":"Redefine the dependency (in the child pom) with `scope` system pointing to an empty jar :\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;dependency.coming&lt;/groupId&gt;\r\n        &lt;artifactId&gt;from.parent&lt;/artifactId&gt;\r\n        &lt;version&gt;0&lt;/version&gt;\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${project.basedir}/empty.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\nThe jar can contain just a single empty file :\r\n\r\n    touch empty.txt\r\n    jar cvf empty.jar empty.txt","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>Redefine the dependency (in the child pom) with <code>scope</code> system pointing to an empty jar :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;dependency.coming&lt;/groupId&gt;\n    &lt;artifactId&gt;from.parent&lt;/artifactId&gt;\n    &lt;version&gt;0&lt;/version&gt;\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${project.basedir}/empty.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The jar can contain just a single empty file :</p>\n<pre><code>touch empty.txt\njar cvf empty.jar empty.txt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556888160,"creation_date":1556888160,"answer_id":55970293,"question_id":2681759,"body_markdown":"I really needed to do this dirty thing... Here is how\r\n\r\nI redefined those dependencies with scope `test`. Scope `provided` did not work for me. \r\n\r\nWe use spring Boot plugin to build fat jar. We have module **common** which defines common libraries, for example Springfox swagger-2. My **super-service** needs to have parent **common** (it does not want to do so, but company rules force!)\r\n\r\nSo my parent or commons has pom.\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\r\n\t    &lt;!- I do not need Springfox in one child but in others -&gt;\r\n\t\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\r\n                &lt;version&gt;${swagger.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n           &lt;!- All services need them -&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n                &lt;version&gt;${apache.poi.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nAnd my **super-service** pom.\r\n\r\n\t&lt;name&gt;super-service&lt;/name&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;com.company&lt;/groupId&gt;\r\n        &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n        &lt;version&gt;1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n\t\t&lt;!- I don&#39;t need them -&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!- Required dependencies -&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nThis is size of the final fat artifact\r\n\r\n\t82.3 MB (86,351,753 bytes) - redefined dependency with scope test\r\n\t86.1 MB (90,335,466 bytes) - redefined dependency with scope provided\r\n\t86.1 MB (90,335,489 bytes) - without exclusion\r\n\r\nAlso this answer is worth mentioning - I wanted to do so, but I am lazy...\r\nhttps://stackoverflow.com/a/48103554/4587961","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>I really needed to do this dirty thing... Here is how</p>\n\n<p>I redefined those dependencies with scope <code>test</code>. Scope <code>provided</code> did not work for me. </p>\n\n<p>We use spring Boot plugin to build fat jar. We have module <strong>common</strong> which defines common libraries, for example Springfox swagger-2. My <strong>super-service</strong> needs to have parent <strong>common</strong> (it does not want to do so, but company rules force!)</p>\n\n<p>So my parent or commons has pom.</p>\n\n<pre><code>&lt;dependencyManagement&gt;\n\n    &lt;!- I do not need Springfox in one child but in others -&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n       &lt;!- All services need them -&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;${apache.poi.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n\n<p>And my <strong>super-service</strong> pom.</p>\n\n<pre><code>&lt;name&gt;super-service&lt;/name&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;com.company&lt;/groupId&gt;\n    &lt;artifactId&gt;common&lt;/artifactId&gt;\n    &lt;version&gt;1&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n\n    &lt;!- I don't need them -&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-core&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!- Required dependencies -&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n     &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>This is size of the final fat artifact</p>\n\n<pre><code>82.3 MB (86,351,753 bytes) - redefined dependency with scope test\n86.1 MB (90,335,466 bytes) - redefined dependency with scope provided\n86.1 MB (90,335,489 bytes) - without exclusion\n</code></pre>\n\n<p>Also this answer is worth mentioning - I wanted to do so, but I am lazy...\n<a href=\"https://stackoverflow.com/a/48103554/4587961\">https://stackoverflow.com/a/48103554/4587961</a></p>\n"},{"comments":[{"owner":{"account_id":2190504,"reputation":1438,"user_id":1937681,"accept_rate":62,"display_name":"blackr1234"},"score":0,"creation_date":1658745405,"post_id":59214817,"comment_id":129119195,"body_markdown":"But you will lose the properties, right?","body":"But you will lose the properties, right?"}],"tags":[],"owner":{"account_id":2274474,"reputation":119,"user_id":6536262,"display_name":"Viki Jain"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1575641564,"creation_date":1575641564,"answer_id":59214817,"question_id":2681759,"body_markdown":"We can add the parent pom as a dependency with type pom and make exclusion on that. Because anyhow parent pom is downloaded. This worked for me\r\n\r\n \r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.abc.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;abc-boot-starter-parent&lt;/artifactId&gt;\r\n  &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\r\n  &lt;type&gt;pom&lt;/type&gt;\r\n  &lt;exclusions&gt;\r\n    &lt;exclusion&gt;\r\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n  &lt;/exclusions&gt;   \r\n&lt;/dependency&gt;\r\n```","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>We can add the parent pom as a dependency with type pom and make exclusion on that. Because anyhow parent pom is downloaded. This worked for me</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.abc.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;abc-boot-starter-parent&lt;/artifactId&gt;\n  &lt;version&gt;2.1.5.RELEASE&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;   \n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20687796,"reputation":51,"user_id":15189845,"display_name":"fritzthecat"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1613038973,"creation_date":1613038973,"answer_id":66152824,"question_id":2681759,"body_markdown":"Repeat the parent&#39;s dependency in child pom.xml and insert the exclusion there:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>Repeat the parent's dependency in child pom.xml and insert the exclusion there:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n            &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":4,"creation_date":1662660329,"post_id":70393506,"comment_id":130063343,"body_markdown":"have you read the actual question?","body":"have you read the actual question?"}],"tags":[],"owner":{"account_id":23154670,"reputation":159,"user_id":17256101,"display_name":"Amir Shaikh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639745651,"creation_date":1639745651,"answer_id":70393506,"question_id":2681759,"body_markdown":"**Disable Child Artifact inherited from Parent** \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;exclusions&gt;                                               \r\n    \t\t&lt;exclusion&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;         \r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt; \r\n    \t\t&lt;/exclusion&gt;\r\n    \t&lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Remove Specific Artifact from Parent**\r\n\r\n        &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;exclusions&gt;                                  \r\n    \t\t&lt;exclusion&gt;                                 \t\r\n    \t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt; \t\t\r\n    \t\t&lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;     \t\t\r\n    \t\t&lt;/exclusion&gt;\r\n    \t\t&lt;exclusion&gt;                                     \r\n    \t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt; \t\t\t\t\r\n    \t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;     \r\n    \t\t&lt;/exclusion&gt;\r\n    \t&lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p><strong>Disable Child Artifact inherited from Parent</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;exclusions&gt;                                               \n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;         \n            &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt; \n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Remove Specific Artifact from Parent</strong></p>\n<pre><code>    &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;exclusions&gt;                                  \n        &lt;exclusion&gt;                                     \n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;         \n        &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;             \n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;                                     \n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;               \n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;     \n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8439378,"reputation":41,"user_id":6332468,"display_name":"Jeff McClure"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698241962,"creation_date":1698241962,"answer_id":77360128,"question_id":2681759,"body_markdown":"Within the &amp;lt;dependencyManagement&amp;gt; make the jar scope=provided\r\n \r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;group-to-exclude&lt;/groupId&gt;\r\n                &lt;artifactId&gt;artifact-to-exclude&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n...\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>Within the &lt;dependencyManagement&gt; make the jar scope=provided</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;group-to-exclude&lt;/groupId&gt;\n            &lt;artifactId&gt;artifact-to-exclude&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>...\n\n</p>\n"}],"owner":{"account_id":124810,"reputation":2059,"user_id":320151,"display_name":"Miguel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232766,"favorite_count":0,"down_vote_count":0,"up_vote_count":166,"accepted_answer_id":2684291,"answer_count":12,"score":166,"last_activity_date":1698241962,"creation_date":1271842837,"question_id":2681759,"body_markdown":"Artifacts from dependencies can be excluded by declaring an `&lt;exclusions&gt;` element inside a `&lt;dependency&gt;` But in this case it&#39;s needed to exclude an artifact inherited from a parent project. An excerpt of the POM under discussion follows:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;project&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;test&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jruby&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;parent&gt;\r\n          &lt;artifactId&gt;base&lt;/artifactId&gt;\r\n          &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\r\n          &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;dependencies&gt;      \r\n          &lt;dependency&gt;\r\n              &lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\r\n              &lt;artifactId&gt;ALL-DEPS&lt;/artifactId&gt;\r\n              &lt;version&gt;1.0&lt;/version&gt;\r\n              &lt;scope&gt;provided&lt;/scope&gt;\r\n              &lt;type&gt;pom&lt;/type&gt;\r\n          &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n`base` artifact, depends on  `javax.mail:mail-1.4.jar`, and `ALL-DEPS` depends on another version of the same library. Due to the fact that `mail.jar` from `ALL-DEPS` exist on the execution environment, although not exported, collides with the `mail.jar` that exists on the parent, which is scoped as `compile`.\r\n\r\nA solution could be to rid off mail.jar from the parent POM, but most of the projects that inherit base, need it (as is a transtive dependency for log4j). So What I would like to do is to simply **exclude parent&#39;s library from the child project**, as it could be done if `base` was a dependency and not the parent pom:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    ...\r\n        &lt;dependency&gt;\r\n            &lt;artifactId&gt;base&lt;/artifactId&gt;\r\n            &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;type&gt;\r\n            &lt;exclusions&gt;\r\n              &lt;exclusion&gt;\r\n                 &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n                 &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n              &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    ...\r\n","title":"Is there anyway to exclude artifacts inherited from a parent POM?","body":"<p>Artifacts from dependencies can be excluded by declaring an <code>&lt;exclusions&gt;</code> element inside a <code>&lt;dependency&gt;</code> But in this case it's needed to exclude an artifact inherited from a parent project. An excerpt of the POM under discussion follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;test&lt;/groupId&gt;\n  &lt;artifactId&gt;jruby&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;parent&gt;\n      &lt;artifactId&gt;base&lt;/artifactId&gt;\n      &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\n      &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;dependencies&gt;      \n      &lt;dependency&gt;\n          &lt;groupId&gt;com.liferay.portal&lt;/groupId&gt;\n          &lt;artifactId&gt;ALL-DEPS&lt;/artifactId&gt;\n          &lt;version&gt;1.0&lt;/version&gt;\n          &lt;scope&gt;provided&lt;/scope&gt;\n          &lt;type&gt;pom&lt;/type&gt;\n      &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p><code>base</code> artifact, depends on  <code>javax.mail:mail-1.4.jar</code>, and <code>ALL-DEPS</code> depends on another version of the same library. Due to the fact that <code>mail.jar</code> from <code>ALL-DEPS</code> exist on the execution environment, although not exported, collides with the <code>mail.jar</code> that exists on the parent, which is scoped as <code>compile</code>.</p>\n<p>A solution could be to rid off mail.jar from the parent POM, but most of the projects that inherit base, need it (as is a transtive dependency for log4j). So What I would like to do is to simply <strong>exclude parent's library from the child project</strong>, as it could be done if <code>base</code> was a dependency and not the parent pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n    &lt;dependency&gt;\n        &lt;artifactId&gt;base&lt;/artifactId&gt;\n        &lt;groupId&gt;es.uniovi.innova&lt;/groupId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;type&gt;pom&lt;type&gt;\n        &lt;exclusions&gt;\n          &lt;exclusion&gt;\n             &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n             &lt;artifactId&gt;mail&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n...\n</code></pre>\n"},{"tags":["java","android","frida"],"answers":[{"comments":[{"owner":{"account_id":29749691,"reputation":13,"user_id":22799879,"display_name":"guidingg"},"score":0,"creation_date":1698244688,"post_id":77360115,"comment_id":136381065,"body_markdown":"Thank you for your reply. The hook function that called `SPUtils. GetDeviceId. Implementation` is not in the app just began to perform a load, but when I click on the button in the app will perform the operation, The hook function `SPUtils. SaveDeviceId. Implementation` is app began to perform a load, the function I hook a success","body":"Thank you for your reply. The hook function that called <code>SPUtils. GetDeviceId. Implementation</code> is not in the app just began to perform a load, but when I click on the button in the app will perform the operation, The hook function <code>SPUtils. SaveDeviceId. Implementation</code> is app began to perform a load, the function I hook a success"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1698245725,"post_id":77360115,"comment_id":136381337,"body_markdown":"@guidingg Sorry, but except from &quot;`GetDeviceId` is called when I click a button&quot; I don&#39;t understand what you wanted to tell me.","body":"@guidingg Sorry, but except from &quot;<code>GetDeviceId</code> is called when I click a button&quot; I don&#39;t understand what you wanted to tell me."},{"owner":{"account_id":29749691,"reputation":13,"user_id":22799879,"display_name":"guidingg"},"score":0,"creation_date":1698246274,"post_id":77360115,"comment_id":136381473,"body_markdown":"Maybe I didn&#39;t explain it very clearly. That is, `getDeviceId` executes when the button is pressed. If the hook succeeds, there will be `console.log`, but there is no `console.log`.","body":"Maybe I didn&#39;t explain it very clearly. That is, <code>getDeviceId</code> executes when the button is pressed. If the hook succeeds, there will be <code>console.log</code>, but there is no <code>console.log</code>."},{"owner":{"account_id":29749691,"reputation":13,"user_id":22799879,"display_name":"guidingg"},"score":0,"creation_date":1698246450,"post_id":77360115,"comment_id":136381518,"body_markdown":"However, the hook of `saveDeviceId` succeeds, and `saveDeviceId` and `getDeviceId` are in the same class, so `getDeviceId` should also succeed in hook. I suspect it may be anti-debugging, if not this problem, That can only be if `getDeviceId` is not called when the button is pressed","body":"However, the hook of <code>saveDeviceId</code> succeeds, and <code>saveDeviceId</code> and <code>getDeviceId</code> are in the same class, so <code>getDeviceId</code> should also succeed in hook. I suspect it may be anti-debugging, if not this problem, That can only be if <code>getDeviceId</code> is not called when the button is pressed"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1698248074,"post_id":77360115,"comment_id":136381832,"body_markdown":"@guidingg One thing you could try is calling ` Java.deoptimizeEverything();` at the beginning of the `Java.perform` function.","body":"@guidingg One thing you could try is calling ` Java.deoptimizeEverything();` at the beginning of the <code>Java.perform</code> function."},{"owner":{"account_id":29749691,"reputation":13,"user_id":22799879,"display_name":"guidingg"},"score":0,"creation_date":1698296455,"post_id":77360115,"comment_id":136387722,"body_markdown":"The app update today has resolved the issue with successful hooking. However, it is possible that there is a bug in the application. Nevertheless, I appreciate your assistance.","body":"The app update today has resolved the issue with successful hooking. However, it is possible that there is a bug in the application. Nevertheless, I appreciate your assistance."}],"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698241890,"creation_date":1698241890,"answer_id":77360115,"question_id":77358829,"body_markdown":"By calling `rdev.attach(&quot;com.che168.autotradercloud&quot;)` you attach Frida to the existing instance of the app.\r\n\r\nIf you then hook functions the hook will only be executed if the app executes this function after you have attached with Frida. If the app just calls it once at app start-up then attaching to the app is too late as the call was already executed. \r\n\r\nThe only way to hook function calls that are called by the app at start-up is to spawn the app in suspended state, attach to it, load your hook script and then resume it (let it run).\r\n\r\n```\r\npid = rdev.spawn(&quot;com.che168.autotradercloud&quot;)\r\nsession = rdev.attach(pid)\r\n\r\n...\r\nscript = session.create_script(scr)\r\nscript.on(&quot;message&quot;, on_message)\r\nscript.load()\r\n\r\nrdev.resume(pid) # make the app run\r\n\r\n```","title":"frida:no response after hook","body":"<p>By calling <code>rdev.attach(&quot;com.che168.autotradercloud&quot;)</code> you attach Frida to the existing instance of the app.</p>\n<p>If you then hook functions the hook will only be executed if the app executes this function after you have attached with Frida. If the app just calls it once at app start-up then attaching to the app is too late as the call was already executed.</p>\n<p>The only way to hook function calls that are called by the app at start-up is to spawn the app in suspended state, attach to it, load your hook script and then resume it (let it run).</p>\n<pre><code>pid = rdev.spawn(&quot;com.che168.autotradercloud&quot;)\nsession = rdev.attach(pid)\n\n...\nscript = session.create_script(scr)\nscript.on(&quot;message&quot;, on_message)\nscript.load()\n\nrdev.resume(pid) # make the app run\n\n</code></pre>\n"}],"owner":{"account_id":29749691,"reputation":13,"user_id":22799879,"display_name":"guidingg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698241890,"creation_date":1698231199,"question_id":77358829,"body_markdown":"I hook a function with no error, but it has no output, I can be sure that the app runs this function\r\n\r\n```\r\nimport frida\r\nimport sys\r\n\r\nrdev = frida.get_remote_device()\r\n\r\nsession = rdev.attach(&quot;com.che168.autotradercloud&quot;)  # &quot;com.che168.autotradercloud&quot; 1990\r\n\r\nscr = &quot;&quot;&quot;\r\nJava.perform(function () {\r\n    // package.class\r\n    var SPUtils = Java.use(&quot;com.che168.autotradercloud.util.SPUtils&quot;);\r\n    var SharedPreferencesUtil = Java.use(&quot;com.che168.atclibrary.utils.SharedPreferencesUtil&quot;);\r\n\r\n    // This hook runs successfully\r\n\r\n    SPUtils.saveDeviceId.implementation = function(str){\r\n        console.log(&quot;set device_id&quot;,str);\r\n        this.saveDeviceId(str);\r\n    }\r\n    \r\n    // This hook function is in the same class as the above one, and it should have been executed, but nothing happened,no `console.log...`\r\n\r\n    SPUtils.getDeviceId.implementation = function(){\r\n        var res = this.getDeviceId();\r\n        console.log(&quot;get id&quot;,res);\r\n        return res;\r\n    }\r\n});\r\n&quot;&quot;&quot;\r\n\r\nscript = session.create_script(scr)\r\n\r\ndef on_message(message, data):\r\n    print(message, data)\r\n\r\nscript.on(&quot;message&quot;, on_message)\r\n\r\nscript.load()\r\nsys.stdin.read()\r\n\r\n```\r\nThe source code decompiled with jadx is as follows (in part)\r\n```\r\n// getSpUtil() is SharedPreferencesUtil\r\npublic static void saveDeviceId(String str) {\r\n       getSpUtil().saveString(KEY_DEVICE_ID, str);\r\n}\r\n\r\npublic static String getDeviceId() {\r\n       return getSpUtil().getString(KEY_DEVICE_ID, &quot;&quot;);\r\n}\r\n\r\n```\r\nThe frida-version is 16.0.1 and py version is 3.7.9","title":"frida:no response after hook","body":"<p>I hook a function with no error, but it has no output, I can be sure that the app runs this function</p>\n<pre><code>import frida\nimport sys\n\nrdev = frida.get_remote_device()\n\nsession = rdev.attach(&quot;com.che168.autotradercloud&quot;)  # &quot;com.che168.autotradercloud&quot; 1990\n\nscr = &quot;&quot;&quot;\nJava.perform(function () {\n    // package.class\n    var SPUtils = Java.use(&quot;com.che168.autotradercloud.util.SPUtils&quot;);\n    var SharedPreferencesUtil = Java.use(&quot;com.che168.atclibrary.utils.SharedPreferencesUtil&quot;);\n\n    // This hook runs successfully\n\n    SPUtils.saveDeviceId.implementation = function(str){\n        console.log(&quot;set device_id&quot;,str);\n        this.saveDeviceId(str);\n    }\n    \n    // This hook function is in the same class as the above one, and it should have been executed, but nothing happened,no `console.log...`\n\n    SPUtils.getDeviceId.implementation = function(){\n        var res = this.getDeviceId();\n        console.log(&quot;get id&quot;,res);\n        return res;\n    }\n});\n&quot;&quot;&quot;\n\nscript = session.create_script(scr)\n\ndef on_message(message, data):\n    print(message, data)\n\nscript.on(&quot;message&quot;, on_message)\n\nscript.load()\nsys.stdin.read()\n\n</code></pre>\n<p>The source code decompiled with jadx is as follows (in part)</p>\n<pre><code>// getSpUtil() is SharedPreferencesUtil\npublic static void saveDeviceId(String str) {\n       getSpUtil().saveString(KEY_DEVICE_ID, str);\n}\n\npublic static String getDeviceId() {\n       return getSpUtil().getString(KEY_DEVICE_ID, &quot;&quot;);\n}\n\n</code></pre>\n<p>The frida-version is 16.0.1 and py version is 3.7.9</p>\n"},{"tags":["java","spring","validation"],"comments":[{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1624537581,"post_id":68115598,"comment_id":120389690,"body_markdown":"Try adding `@Validated` at the `ItemController`","body":"Try adding <code>@Validated</code> at the <code>ItemController</code>"}],"answers":[{"comments":[{"owner":{"account_id":16718791,"reputation":53,"user_id":12084235,"display_name":"Tomek Orchowski"},"score":1,"creation_date":1624558070,"post_id":68115864,"comment_id":120398544,"body_markdown":"working :3 ! Problem was with hibernate dependency","body":"working :3 ! Problem was with hibernate dependency"}],"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1624539339,"creation_date":1624538047,"answer_id":68115864,"question_id":68115598,"body_markdown":"Try:\r\n\r\n    import javax.validation.Valid;\r\n\r\nhttps://docs.oracle.com/javaee/7/api/javax/validation/Valid.html\r\n\r\nInstead of:\r\n\r\n    import jakarta.validation.Valid;\r\n\r\n(an ambiguous import!;)\r\n\r\n----------\r\n\r\n\r\nUseful read: https://www.google.com/search?q=spring+valild\r\n(`@javax.validation.Valid` vs. [`@org.springframework.validation.annotation.Validated`][1])\r\n\r\n\r\n----------\r\n\r\n\r\nFurther read:\r\n\r\n [JSR 303][2]\r\n\r\n\r\n----------\r\n\r\n`jakarta.validation.Valid` : ??? (https://stackoverflow.com/q/65868776/592355, https://www.google.com/search?q=jakarta.validation.Valid (looks obsolete !???)) **Check your class path/dependency tree!**\r\n\r\n\r\n----------\r\n\r\n\r\nActually I found no/few samples, where the import statements is explicitly mentioned, but it is [&quot;clear&quot; that spring supports JSR 303 ][3](i.e. `javax.validation.*` and *rather not* `jakarta.validation.*`..)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/index.html?org/springframework/validation/annotation/Validated.html\r\n  [2]: https://beanvalidation.org/1.0/spec/\r\n  [3]: https://www.google.com/search?q=spring%20jsr%20303","title":"Spring valid annotation not working in controller","body":"<p>Try:</p>\n<pre><code>import javax.validation.Valid;\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/Valid.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/7/api/javax/validation/Valid.html</a></p>\n<p>Instead of:</p>\n<pre><code>import jakarta.validation.Valid;\n</code></pre>\n<p>(an ambiguous import!;)</p>\n<hr />\n<p>Useful read: <a href=\"https://www.google.com/search?q=spring+valild\" rel=\"nofollow noreferrer\">https://www.google.com/search?q=spring+valild</a>\n(<code>@javax.validation.Valid</code> vs. <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/index.html?org/springframework/validation/annotation/Validated.html\" rel=\"nofollow noreferrer\"><code>@org.springframework.validation.annotation.Validated</code></a>)</p>\n<hr />\n<p>Further read:</p>\n<p><a href=\"https://beanvalidation.org/1.0/spec/\" rel=\"nofollow noreferrer\">JSR 303</a></p>\n<hr />\n<p><code>jakarta.validation.Valid</code> : ??? (<a href=\"https://stackoverflow.com/q/65868776/592355\">SpringBoot with Jakarta Validation Api not validating with @Valid Annotation</a>, <a href=\"https://www.google.com/search?q=jakarta.validation.Valid\" rel=\"nofollow noreferrer\">https://www.google.com/search?q=jakarta.validation.Valid</a> (looks obsolete !???)) <strong>Check your class path/dependency tree!</strong></p>\n<hr />\n<p>Actually I found no/few samples, where the import statements is explicitly mentioned, but it is <a href=\"https://www.google.com/search?q=spring%20jsr%20303\" rel=\"nofollow noreferrer\">&quot;clear&quot; that spring supports JSR 303 </a>(i.e. <code>javax.validation.*</code> and <em>rather not</em> <code>jakarta.validation.*</code>..)</p>\n"},{"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1624559296,"post_id":68120831,"comment_id":120398931,"body_markdown":"best/documented: `spring-boot-starter-validation` ;)","body":"best/documented: <code>spring-boot-starter-validation</code> ;)"}],"tags":[],"owner":{"account_id":16718791,"reputation":53,"user_id":12084235,"display_name":"Tomek Orchowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624558442,"creation_date":1624558442,"answer_id":68120831,"question_id":68115598,"body_markdown":"Problem has been solved!\r\n\r\nI change hibernate dependency in pom.xml\r\nfrom\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nto\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    &lt;version&gt;6.1.5.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Spring valid annotation not working in controller","body":"<p>Problem has been solved!</p>\n<p>I change hibernate dependency in pom.xml\nfrom</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;7.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;6.1.5.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22445773,"reputation":151,"user_id":16649714,"display_name":"cheladon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698241470,"creation_date":1698241470,"answer_id":77360060,"question_id":68115598,"body_markdown":"Change:\r\n\r\n    @Valid -&gt; @Validated\r\n    import org.springframework.validation.annotation.Validated;\r\n\r\nI didn&#39;t go into details, but it worked in my case.","title":"Spring valid annotation not working in controller","body":"<p>Change:</p>\n<pre><code>@Valid -&gt; @Validated\nimport org.springframework.validation.annotation.Validated;\n</code></pre>\n<p>I didn't go into details, but it worked in my case.</p>\n"}],"owner":{"account_id":16718791,"reputation":53,"user_id":12084235,"display_name":"Tomek Orchowski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3206,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68115864,"answer_count":3,"score":2,"last_activity_date":1698241470,"creation_date":1624536948,"question_id":68115598,"body_markdown":"I have a problem: my post form working fine and the controller related to the post method does receive objects from HTML post form but `@Valid` annotation does nothing.\r\nIn `BindingResult` object there is no error even though it should be there \r\n\r\nThe problem is in : `itemAddControllerPost()`\r\n\r\n```\r\npackage orchowski.tomasz.ecommercedemo.controller.item;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport orchowski.tomasz.ecommercedemo.command.ItemCommand;\r\nimport orchowski.tomasz.ecommercedemo.converter.ItemCommandToItem;\r\nimport orchowski.tomasz.ecommercedemo.converter.ItemToItemCommand;\r\nimport orchowski.tomasz.ecommercedemo.domain.Item;\r\nimport orchowski.tomasz.ecommercedemo.security.permision.PermissionStoreItemCreate;\r\nimport orchowski.tomasz.ecommercedemo.security.permision.PermissionStoreItemRead;\r\nimport orchowski.tomasz.ecommercedemo.services.ItemService;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport java.security.Principal;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Slf4j\r\n@Controller\r\n@RequestMapping(&quot;/item&quot;)\r\n@RequiredArgsConstructor\r\npublic class ItemController {\r\n\r\n    private final ItemService itemService;\r\n    private final ItemCommandToItem commandToItem;\r\n    private final ItemToItemCommand itemToCommand;\r\n\r\n    @PermissionStoreItemCreate\r\n    @GetMapping(&quot;/create&quot;)\r\n    public String itemAddController(Model model) {\r\n        model.addAttribute(&quot;item&quot;, new ItemCommand());\r\n        return &quot;item/itemform&quot;;\r\n    }\r\n\r\n    @PermissionStoreItemCreate\r\n    @PostMapping(&quot;/create/new&quot;)\r\n    public String itemAddControllerPost(@ModelAttribute(&quot;item&quot;) @Valid ItemCommand itemCommand, BindingResult bindingResult) {\r\n        log.debug(&quot;Posting new item object&quot;);\r\n        if (bindingResult.hasErrors()) {\r\n                bindingResult.getAllErrors().forEach(objectError -&gt; log.error(objectError.toString()));\r\n            log.debug(&quot;Binding error&quot;);\r\n            return &quot;redirect:/item/create&quot;;\r\n        }\r\n        Item save = itemService.save(commandToItem.convert(itemCommand));\r\n        log.debug(&quot;New item object persisted to db \\n &quot; + save.toString());\r\n        return &quot;redirect:/item/&quot; + save.getId() + &quot;/show&quot;;\r\n    }\r\n\r\n    @PermissionStoreItemRead\r\n    @GetMapping(&quot;/show&quot;)\r\n    public String itemRead(Model model, HttpServletRequest request, @RequestParam(defaultValue = &quot;0&quot;) Integer pageNo,\r\n                           @RequestParam(defaultValue = &quot;10&quot;) Integer pageSize) {\r\n        ///item/show?pageNo=2&amp;pageSize=20\r\n\r\n        if (pageNo &lt; 0 || pageSize &lt;= 0) {\r\n            return &quot;redirect:/item/show?pageNo=0&quot;;\r\n        }\r\n        model.addAttribute(&quot;pageNumber&quot;, pageNo);\r\n        model.addAttribute(&quot;pageSize&quot;, pageSize);\r\n\r\n        List&lt;Item&gt; itemList = itemService.findAll(pageNo, pageSize);\r\n        if (itemList.size() == 0) {\r\n            return &quot;redirect:/item/show?pageNo=&quot; + (pageNo - 1);\r\n        }\r\n        model.addAttribute(&quot;items&quot;, itemList);\r\n        System.out.println(itemList);\r\n        return &quot;item/show&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}/show&quot;)\r\n    @PermissionStoreItemRead\r\n    public String showItem(Model model,@PathVariable Long id) {\r\n        Optional&lt;Item&gt; byId = itemService.findById(id);\r\n        model.addAttribute(&quot;item&quot;, byId.orElseThrow(() -&gt; new RuntimeException(&quot;Item id &quot; + id + &quot; not found&quot;)));\r\n        return &quot;item/showProduct&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nmy command object\r\n```\r\npackage orchowski.tomasz.ecommercedemo.command;\r\n\r\n\r\nimport lombok.*;\r\nimport javax.validation.constraints.*;\r\n\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\npublic class ItemCommand {\r\n\r\n    private Long id;\r\n\r\n    @Size(min = 20, max = 1000,message = &quot;Description must contains at least 20 characters and less than 1000&quot;)\r\n    @NotBlank\r\n    private String description;\r\n\r\n    @Min(value = 0, message = &quot;Price have to be greater than 0&quot;)\r\n    @NotNull\r\n    private Double price;\r\n\r\n    @Min(value = 0, message = &quot;Stock have to be at least 0&quot;)\r\n    @NotNull\r\n    private Integer stock;\r\n\r\n}\r\n\r\n```\r\n\r\nhtml form\r\n```\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n          xmlns:sec=&quot;http://www.thymeleaf.org/extras/spring-security&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;store&lt;/title&gt;\r\n        &lt;link th:rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/5.0.1/css/bootstrap.min.css}&quot;&gt;\r\n        &lt;link th:rel=&quot;stylesheet&quot; th:href=&quot;@{/css/default.css}&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col-sm-12&quot;&gt;\r\n                &lt;nav th:replace=&quot;fragments/navbar :: nav&quot;&gt;&lt;/nav&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    \r\n        &lt;form th:object=&quot;${item}&quot; th:action=&quot;@{/item/create/new}&quot; method=&quot;post&quot;&gt;\r\n            &lt;div class=&quot;row&quot;&gt;\r\n                &lt;div class=&quot;mb-3&quot;&gt;\r\n                    &lt;!--description            --&gt;\r\n                    &lt;label for=&quot;description&quot; class=&quot;form-label&quot;&gt;Description of product&lt;/label&gt;\r\n                    &lt;textarea class=&quot;form-control&quot; id=&quot;description&quot; name=&quot;description&quot;&gt;&lt;/textarea&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;row&quot;&gt;\r\n                &lt;div class=&quot;col-sm-3&quot;&gt;\r\n                    &lt;!--price            --&gt;\r\n                    &lt;label for=&quot;price&quot;&gt;Price of product&lt;/label&gt;\r\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;price&quot; name=&quot;price&quot;&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;col-sm-3&quot;&gt;\r\n                    &lt;!--stock            --&gt;\r\n                    &lt;label for=&quot;stock&quot;&gt;Stock item&lt;/label&gt;\r\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;stock&quot; name=&quot;stock&quot;&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;row&quot;&gt;\r\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\r\n            &lt;/div&gt;\r\n        &lt;/form&gt;\r\n    \r\n    &lt;/div&gt;\r\n    \r\n    \r\n    &lt;script th:src=&quot;@{/webjars/jquery/3.0.0/jquery.min.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script th:src=&quot;@{/webjars/popper.js/2.9.2/umd/popper.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script th:src=&quot;@{/webjars/bootstrap/5.0.1/js/bootstrap.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n```\r\n\r\nTo check the code on GitHub [please click here][1]\r\n\r\n\r\n  [1]: https://github.com/bloowper/ecommerceTestDemo/blob/main/src/main/java/orchowski/tomasz/ecommercedemo/controller/item/ItemController.java","title":"Spring valid annotation not working in controller","body":"<p>I have a problem: my post form working fine and the controller related to the post method does receive objects from HTML post form but <code>@Valid</code> annotation does nothing.\nIn <code>BindingResult</code> object there is no error even though it should be there</p>\n<p>The problem is in : <code>itemAddControllerPost()</code></p>\n<pre><code>package orchowski.tomasz.ecommercedemo.controller.item;\n\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport orchowski.tomasz.ecommercedemo.command.ItemCommand;\nimport orchowski.tomasz.ecommercedemo.converter.ItemCommandToItem;\nimport orchowski.tomasz.ecommercedemo.converter.ItemToItemCommand;\nimport orchowski.tomasz.ecommercedemo.domain.Item;\nimport orchowski.tomasz.ecommercedemo.security.permision.PermissionStoreItemCreate;\nimport orchowski.tomasz.ecommercedemo.security.permision.PermissionStoreItemRead;\nimport orchowski.tomasz.ecommercedemo.services.ItemService;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport jakarta.validation.Valid;\nimport org.springframework.web.bind.annotation.*;\nimport javax.servlet.http.HttpServletRequest;\nimport org.springframework.web.bind.annotation.*;\nimport java.security.Principal;\nimport java.util.List;\nimport java.util.Optional;\n\n@Slf4j\n@Controller\n@RequestMapping(&quot;/item&quot;)\n@RequiredArgsConstructor\npublic class ItemController {\n\n    private final ItemService itemService;\n    private final ItemCommandToItem commandToItem;\n    private final ItemToItemCommand itemToCommand;\n\n    @PermissionStoreItemCreate\n    @GetMapping(&quot;/create&quot;)\n    public String itemAddController(Model model) {\n        model.addAttribute(&quot;item&quot;, new ItemCommand());\n        return &quot;item/itemform&quot;;\n    }\n\n    @PermissionStoreItemCreate\n    @PostMapping(&quot;/create/new&quot;)\n    public String itemAddControllerPost(@ModelAttribute(&quot;item&quot;) @Valid ItemCommand itemCommand, BindingResult bindingResult) {\n        log.debug(&quot;Posting new item object&quot;);\n        if (bindingResult.hasErrors()) {\n                bindingResult.getAllErrors().forEach(objectError -&gt; log.error(objectError.toString()));\n            log.debug(&quot;Binding error&quot;);\n            return &quot;redirect:/item/create&quot;;\n        }\n        Item save = itemService.save(commandToItem.convert(itemCommand));\n        log.debug(&quot;New item object persisted to db \\n &quot; + save.toString());\n        return &quot;redirect:/item/&quot; + save.getId() + &quot;/show&quot;;\n    }\n\n    @PermissionStoreItemRead\n    @GetMapping(&quot;/show&quot;)\n    public String itemRead(Model model, HttpServletRequest request, @RequestParam(defaultValue = &quot;0&quot;) Integer pageNo,\n                           @RequestParam(defaultValue = &quot;10&quot;) Integer pageSize) {\n        ///item/show?pageNo=2&amp;pageSize=20\n\n        if (pageNo &lt; 0 || pageSize &lt;= 0) {\n            return &quot;redirect:/item/show?pageNo=0&quot;;\n        }\n        model.addAttribute(&quot;pageNumber&quot;, pageNo);\n        model.addAttribute(&quot;pageSize&quot;, pageSize);\n\n        List&lt;Item&gt; itemList = itemService.findAll(pageNo, pageSize);\n        if (itemList.size() == 0) {\n            return &quot;redirect:/item/show?pageNo=&quot; + (pageNo - 1);\n        }\n        model.addAttribute(&quot;items&quot;, itemList);\n        System.out.println(itemList);\n        return &quot;item/show&quot;;\n    }\n\n    @GetMapping(&quot;/{id}/show&quot;)\n    @PermissionStoreItemRead\n    public String showItem(Model model,@PathVariable Long id) {\n        Optional&lt;Item&gt; byId = itemService.findById(id);\n        model.addAttribute(&quot;item&quot;, byId.orElseThrow(() -&gt; new RuntimeException(&quot;Item id &quot; + id + &quot; not found&quot;)));\n        return &quot;item/showProduct&quot;;\n    }\n}\n\n</code></pre>\n<p>my command object</p>\n<pre><code>package orchowski.tomasz.ecommercedemo.command;\n\n\nimport lombok.*;\nimport javax.validation.constraints.*;\n\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\npublic class ItemCommand {\n\n    private Long id;\n\n    @Size(min = 20, max = 1000,message = &quot;Description must contains at least 20 characters and less than 1000&quot;)\n    @NotBlank\n    private String description;\n\n    @Min(value = 0, message = &quot;Price have to be greater than 0&quot;)\n    @NotNull\n    private Double price;\n\n    @Min(value = 0, message = &quot;Stock have to be at least 0&quot;)\n    @NotNull\n    private Integer stock;\n\n}\n\n</code></pre>\n<p>html form</p>\n<pre><code>\n    &lt;!DOCTYPE html&gt;\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;\n          xmlns:sec=&quot;http://www.thymeleaf.org/extras/spring-security&quot;&gt;\n    &lt;head&gt;\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\n        &lt;title&gt;store&lt;/title&gt;\n        &lt;link th:rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/5.0.1/css/bootstrap.min.css}&quot;&gt;\n        &lt;link th:rel=&quot;stylesheet&quot; th:href=&quot;@{/css/default.css}&quot;&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n    \n    &lt;div class=&quot;container&quot;&gt;\n        &lt;div class=&quot;row&quot;&gt;\n            &lt;div class=&quot;col-sm-12&quot;&gt;\n                &lt;nav th:replace=&quot;fragments/navbar :: nav&quot;&gt;&lt;/nav&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    \n        &lt;form th:object=&quot;${item}&quot; th:action=&quot;@{/item/create/new}&quot; method=&quot;post&quot;&gt;\n            &lt;div class=&quot;row&quot;&gt;\n                &lt;div class=&quot;mb-3&quot;&gt;\n                    &lt;!--description            --&gt;\n                    &lt;label for=&quot;description&quot; class=&quot;form-label&quot;&gt;Description of product&lt;/label&gt;\n                    &lt;textarea class=&quot;form-control&quot; id=&quot;description&quot; name=&quot;description&quot;&gt;&lt;/textarea&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;row&quot;&gt;\n                &lt;div class=&quot;col-sm-3&quot;&gt;\n                    &lt;!--price            --&gt;\n                    &lt;label for=&quot;price&quot;&gt;Price of product&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;price&quot; name=&quot;price&quot;&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;col-sm-3&quot;&gt;\n                    &lt;!--stock            --&gt;\n                    &lt;label for=&quot;stock&quot;&gt;Stock item&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;stock&quot; name=&quot;stock&quot;&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;row&quot;&gt;\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;\n            &lt;/div&gt;\n        &lt;/form&gt;\n    \n    &lt;/div&gt;\n    \n    \n    &lt;script th:src=&quot;@{/webjars/jquery/3.0.0/jquery.min.js}&quot;&gt;&lt;/script&gt;\n    &lt;script th:src=&quot;@{/webjars/popper.js/2.9.2/umd/popper.js}&quot;&gt;&lt;/script&gt;\n    &lt;script th:src=&quot;@{/webjars/bootstrap/5.0.1/js/bootstrap.js}&quot;&gt;&lt;/script&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n\n</code></pre>\n<p>To check the code on GitHub <a href=\"https://github.com/bloowper/ecommerceTestDemo/blob/main/src/main/java/orchowski/tomasz/ecommercedemo/controller/item/ItemController.java\" rel=\"nofollow noreferrer\">please click here</a></p>\n"},{"tags":["java","android","firebaseui"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1698222944,"post_id":77357425,"comment_id":136376483,"body_markdown":"Since firebase import is not resolved, can you share your build.gradle file? You might be missing an import there.","body":"Since firebase import is not resolved, can you share your build.gradle file? You might be missing an import there."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1698223107,"post_id":77357425,"comment_id":136376521,"body_markdown":"Please edit your question and add the information tomerpacific asked for, and please also respond using @.","body":"Please edit your question and add the information tomerpacific asked for, and please also respond using @."},{"owner":{"account_id":2453953,"reputation":1876,"user_id":2139586,"accept_rate":69,"display_name":"jack_the_beast"},"score":0,"creation_date":1698239252,"post_id":77357425,"comment_id":136379738,"body_markdown":"please include some relevant code","body":"please include some relevant code"}],"owner":{"account_id":29748870,"reputation":1,"user_id":22799232,"display_name":"krakenmanexodia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698241320,"creation_date":1698219147,"question_id":77357425,"body_markdown":"[Firebase Recycler Adapter Error](https://i.stack.imgur.com/cxmCW.png)\r\n\r\nhi, so im trying out to create a crud app with firebase as my database. i encountered these errors:\r\n\r\nThere is no default constructor available in &#39;androidx.recyclerview.widget.RecyclerView.ViewHolder&#39;\r\nCannot resolve symbol &#39;FirebaseRecyclerAdapter&#39;\r\nCannot resolve symbol &#39;firebase&#39;\r\n\r\ni already linked my firebase using the tools in android studio and it says it was a success. i currently have no clue as to what i should do to overcome this error. i just started with android studio today to make my own project.\r\n\r\nso i am expecting that the main adapter class will load and that the firebaserecyler adapter will connect. idk how it isn&#39;t connected when i simply followed through every step of the tutorial twice.","title":"Android Studio Firebase Recycler Adapter using Java","body":"<p><a href=\"https://i.stack.imgur.com/cxmCW.png\" rel=\"nofollow noreferrer\">Firebase Recycler Adapter Error</a></p>\n<p>hi, so im trying out to create a crud app with firebase as my database. i encountered these errors:</p>\n<p>There is no default constructor available in 'androidx.recyclerview.widget.RecyclerView.ViewHolder'\nCannot resolve symbol 'FirebaseRecyclerAdapter'\nCannot resolve symbol 'firebase'</p>\n<p>i already linked my firebase using the tools in android studio and it says it was a success. i currently have no clue as to what i should do to overcome this error. i just started with android studio today to make my own project.</p>\n<p>so i am expecting that the main adapter class will load and that the firebaserecyler adapter will connect. idk how it isn't connected when i simply followed through every step of the tutorial twice.</p>\n"},{"tags":["java","postgresql","hibernate","quarkus","quarkus-panache"],"answers":[{"comments":[{"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"score":0,"creation_date":1698157391,"post_id":77351146,"comment_id":136367802,"body_markdown":"I have tried creating a POJO of Items but the result inside the database is still the same also using the Map i get the same result everything is stored inside the databased using escapes &quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;age\\&quot;:30,\\&quot;city\\&quot;:\\&quot;New York\\&quot;}&quot;. I will also add this to the question","body":"I have tried creating a POJO of Items but the result inside the database is still the same also using the Map i get the same result everything is stored inside the databased using escapes &quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;age\\&quot;:30,\\&quot;city\\&quot;:\\&quot;New York\\&quot;}&quot;. I will also add this to the question"},{"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"score":0,"creation_date":1698202577,"post_id":77351146,"comment_id":136374057,"body_markdown":"Are u using `quarkus-hibernate-reactive-panache` or `quarkus-hibernate-orm-panache`?","body":"Are u using <code>quarkus-hibernate-reactive-panache</code> or <code>quarkus-hibernate-orm-panache</code>?"},{"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"score":0,"creation_date":1698218794,"post_id":77351146,"comment_id":136375688,"body_markdown":"I&#39;m using quarkus-hibernate-reactive-panache","body":"I&#39;m using quarkus-hibernate-reactive-panache"},{"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"score":1,"creation_date":1698221126,"post_id":77351146,"comment_id":136376107,"body_markdown":"Then refer to this https://stackoverflow.com/questions/73471277/using-the-postgresql-jsonb-type-with-hibernate-reactive","body":"Then refer to this <a href=\"https://stackoverflow.com/questions/73471277/using-the-postgresql-jsonb-type-with-hibernate-reactive\" title=\"using the postgresql jsonb type with hibernate reactive\">stackoverflow.com/questions/73471277/&hellip;</a>"},{"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"score":0,"creation_date":1698227672,"post_id":77351146,"comment_id":136377430,"body_markdown":"Thanks a lot that actually worked and i let a comment to the person that gave the answer because it worked with basic json as i said in this example but it doesn&#39;t work with Array of json","body":"Thanks a lot that actually worked and i let a comment to the person that gave the answer because it worked with basic json as i said in this example but it doesn&#39;t work with Array of json"},{"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"score":0,"creation_date":1698228659,"post_id":77351146,"comment_id":136377610,"body_markdown":"@Theodosis I think it&#39;s reasonable to not support an array as a column even jonb does, you can work around it by wrapping your `items` array inside an object. Or create a new table `item` to own its data json object.","body":"@Theodosis I think it&#39;s reasonable to not support an array as a column even jonb does, you can work around it by wrapping your <code>items</code> array inside an object. Or create a new table <code>item</code> to own its data json object."},{"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"score":1,"creation_date":1698229521,"post_id":77351146,"comment_id":136377750,"body_markdown":"Okay im not sure exactly how i will do that because i will probably need to manipulate the converter class as well but i&#39;m marking this as resolved because i asked for a simple json and the reference to the other post helped me alot","body":"Okay im not sure exactly how i will do that because i will probably need to manipulate the converter class as well but i&#39;m marking this as resolved because i asked for a simple json and the reference to the other post helped me alot"},{"owner":{"account_id":1497571,"reputation":105,"user_id":1403156,"display_name":"sygram"},"score":0,"creation_date":1698241925,"post_id":77351146,"comment_id":136380362,"body_markdown":"@phuongnq1995 Why is it reasonable not to support an array of objects, json was surely build for that [{},{}]. The new table might be a solution but that will lead to numerous &quot;nested&quot; tables and many to many relations and in any case the limitation of a language should not indicate the database design. Why is it so difficult to simply store and retrieve a non escaped json string in a jsonb field ? This is clearly a red flag in selecting Java/Hibernate/Quarkus. There must be a solution.","body":"@phuongnq1995 Why is it reasonable not to support an array of objects, json was surely build for that [{},{}]. The new table might be a solution but that will lead to numerous &quot;nested&quot; tables and many to many relations and in any case the limitation of a language should not indicate the database design. Why is it so difficult to simply store and retrieve a non escaped json string in a jsonb field ? This is clearly a red flag in selecting Java/Hibernate/Quarkus. There must be a solution."},{"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"score":0,"creation_date":1698243154,"post_id":77351146,"comment_id":136380660,"body_markdown":"Hibernate was originally intended for use with relational databases, in terms of database normalization we should separate one-to-many relationship to another table even some of databases like Postgres supports arrays, 2D array. Otherwise, we can use a popular framework that supports JPA with NoSQL is EclipseLink, the reference implementation for JPA 3.","body":"Hibernate was originally intended for use with relational databases, in terms of database normalization we should separate one-to-many relationship to another table even some of databases like Postgres supports arrays, 2D array. Otherwise, we can use a popular framework that supports JPA with NoSQL is EclipseLink, the reference implementation for JPA 3."},{"owner":{"account_id":1497571,"reputation":105,"user_id":1403156,"display_name":"sygram"},"score":0,"creation_date":1698256752,"post_id":77351146,"comment_id":136383499,"body_markdown":"@phuongnq1995 i &quot;hear&quot; you and agree. One thing that might solve cases like these, as perhaps a global workaround, would be to map the jsonb as a byte array. Do you know if that&#39;s possible ? Also map as java.sql.Clob or java.sql.Blob ?","body":"@phuongnq1995 i &quot;hear&quot; you and agree. One thing that might solve cases like these, as perhaps a global workaround, would be to map the jsonb as a byte array. Do you know if that&#39;s possible ? Also map as java.sql.Clob or java.sql.Blob ?"}],"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698221281,"creation_date":1698141769,"answer_id":77351146,"question_id":77350744,"body_markdown":"I think hibernate doesn&#39;t support string [doc](https://docs.jboss.org/hibernate/orm/6.0/userguide/html_single/Hibernate_User_Guide.html#basic-mapping-json) as the standard mapping, try\r\n```\r\npublic class OfferEntity extends PanacheEntityBase {\r\n\r\n    @JdbcTypeCode(SqlTypes.JSON)\r\n    private Map&lt;String, String&gt; items;\r\n}\r\n```\r\nOr create your own POJO class\r\n```\r\npublic class Items implements Serializable {\r\n    private String name;\r\n    private int age;\r\n    private String city;\r\n    //setters &amp; getters\r\n}\r\n```\r\n\r\n```\r\npublic class OfferEntity extends PanacheEntityBase {\r\n\r\n    @JdbcTypeCode(SqlTypes.JSON)\r\n    @Column(name = &quot;items&quot;, columnDefinition = &quot;jsonb&quot;, insertable = false, updatable = false)\r\n    private Items items;\r\n}\r\n```\r\nRefer to this [doc](https://thorben-janssen.com/persist-postgresqls-jsonb-data-type-hibernate/#using-hibernate-6s-standard-json-mapping)\r\n\r\nUPDATED:\r\n\r\nFor hibernate-reactive using `io.vertx.core.json.JsonObject` refer to this [post](https://stackoverflow.com/questions/73471277/using-the-postgresql-jsonb-type-with-hibernate-reactive)","title":"Storing JSON data as JSONB in PostgreSQL with Quarkus Panache is stored as escaped string","body":"<p>I think hibernate doesn't support string <a href=\"https://docs.jboss.org/hibernate/orm/6.0/userguide/html_single/Hibernate_User_Guide.html#basic-mapping-json\" rel=\"nofollow noreferrer\">doc</a> as the standard mapping, try</p>\n<pre><code>public class OfferEntity extends PanacheEntityBase {\n\n    @JdbcTypeCode(SqlTypes.JSON)\n    private Map&lt;String, String&gt; items;\n}\n</code></pre>\n<p>Or create your own POJO class</p>\n<pre><code>public class Items implements Serializable {\n    private String name;\n    private int age;\n    private String city;\n    //setters &amp; getters\n}\n</code></pre>\n<pre><code>public class OfferEntity extends PanacheEntityBase {\n\n    @JdbcTypeCode(SqlTypes.JSON)\n    @Column(name = &quot;items&quot;, columnDefinition = &quot;jsonb&quot;, insertable = false, updatable = false)\n    private Items items;\n}\n</code></pre>\n<p>Refer to this <a href=\"https://thorben-janssen.com/persist-postgresqls-jsonb-data-type-hibernate/#using-hibernate-6s-standard-json-mapping\" rel=\"nofollow noreferrer\">doc</a></p>\n<p>UPDATED:</p>\n<p>For hibernate-reactive using <code>io.vertx.core.json.JsonObject</code> refer to this <a href=\"https://stackoverflow.com/questions/73471277/using-the-postgresql-jsonb-type-with-hibernate-reactive\">post</a></p>\n"},{"comments":[{"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"score":0,"creation_date":1698158047,"post_id":77351176,"comment_id":136367945,"body_markdown":"I have also tried this ```JsonObject jsonObject = Json.createObjectBuilder()\n                    .add(&quot;name&quot;, &quot;John&quot;)\n                    .add(&quot;age&quot;, 30)\n                    .add(&quot;city&quot;, &quot;New York&quot;)\n                    .build();\n            OfferEntity f = new OfferEntity();\n\n            f.setItems(jsonObject);\n            return update(&quot;update OfferEntity o set o.items = ?2 where o.id = ?1&quot;, offer.getId(), f.getItems()).onItem().transform(ignored -&gt; offer);\n```\nBut inside the database, i get this \n```\n&quot;{\\&quot;name\\&quot;:{\\&quot;valueType\\&quot;:\\&quot;STRING\\&quot;},\\&quot;age\\&quot;:{\\&quot;valueType\\&quot;:\\&quot;NUMBER\\&quot;}}&quot;\n```","body":"I have also tried this <code>JsonObject jsonObject = Json.createObjectBuilder()                     .add(&quot;name&quot;, &quot;John&quot;)                     .add(&quot;age&quot;, 30)                     .add(&quot;city&quot;, &quot;New York&quot;)                     .build();             OfferEntity f = new OfferEntity();              f.setItems(jsonObject);             return update(&quot;update OfferEntity o set o.items = ?2 where o.id = ?1&quot;, offer.getId(), f.getItems()).onItem().transform(ignored -&gt; offer); </code> But inside the database, i get this  ``` &quot;{\\&quot;name\\&quot;:{\\&quot;valueType\\&quot;:\\&quot;STRING\\&quot;},\\&quot;age\\&quot;:{\\&quot;valueType\\&quot;&zwnj;&#8203;:\\&quot;NUMBER\\&quot;}}&quot; ```"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698186220,"post_id":77351176,"comment_id":136372825,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77351176/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29733827,"reputation":3,"user_id":22787830,"display_name":"Juan Antonio Jim&#233;nez Torres"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698211707,"creation_date":1698141972,"answer_id":77351176,"question_id":77350744,"body_markdown":"I think this should work if the type was `JSONObject` instead of `String`","title":"Storing JSON data as JSONB in PostgreSQL with Quarkus Panache is stored as escaped string","body":"<p>I think this should work if the type was <code>JSONObject</code> instead of <code>String</code></p>\n"},{"comments":[{"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"score":0,"creation_date":1698223019,"post_id":77353622,"comment_id":136376501,"body_markdown":"From what package do you get JSONParser and JSONObject?","body":"From what package do you get JSONParser and JSONObject?"}],"tags":[],"owner":{"account_id":29733827,"reputation":3,"user_id":22787830,"display_name":"Juan Antonio Jim&#233;nez Torres"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698162718,"creation_date":1698162718,"answer_id":77353622,"question_id":77350744,"body_markdown":"You could try\r\n```\r\n@Convert(converter = ItemsConverter.class)\r\nprivate JSONObject items;\r\n```\r\n\r\nbeing\r\n```\r\n@Converter\r\npublic class ItemConverter implements AttributeConverter&lt;JSONObject, String&gt; {\r\n    @Override\r\n    public String convertToDatabaseColumn(JSONObject data) {\r\n        return data.toString();\r\n    }\r\n\r\n    @Override\r\n    public JSONObject convertToEntityAttribute(String inputString) {\r\n        JSONParser parser = new JSONParser();\r\n        JSONObject r = new JSONObject();\r\n        try {\r\n            r = (JSONObject) parser.parse(inputString);\r\n        } catch (ParseException e) {\r\n            \r\n        }\r\n        return r;\r\n    }\r\n}\r\n```","title":"Storing JSON data as JSONB in PostgreSQL with Quarkus Panache is stored as escaped string","body":"<p>You could try</p>\n<pre><code>@Convert(converter = ItemsConverter.class)\nprivate JSONObject items;\n</code></pre>\n<p>being</p>\n<pre><code>@Converter\npublic class ItemConverter implements AttributeConverter&lt;JSONObject, String&gt; {\n    @Override\n    public String convertToDatabaseColumn(JSONObject data) {\n        return data.toString();\n    }\n\n    @Override\n    public JSONObject convertToEntityAttribute(String inputString) {\n        JSONParser parser = new JSONParser();\n        JSONObject r = new JSONObject();\n        try {\n            r = (JSONObject) parser.parse(inputString);\n        } catch (ParseException e) {\n            \n        }\n        return r;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15016723,"reputation":834,"user_id":10839527,"display_name":"Theodosis "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77351146,"answer_count":3,"score":1,"last_activity_date":1698241156,"creation_date":1698137922,"question_id":77350744,"body_markdown":"I&#39;m working on a project that uses Quarkus with Panache and PostgreSQL, and I&#39;m trying to store JSON data as JSONB in the database. However, when I insert JSON data into the database, it gets escaped, and I&#39;d like to store it without escaping in order to be able to query the JSON from the postgress.\r\n\r\nHere&#39;s my code for inserting the JSON data:\r\n\r\n```java\r\nJsonObject jsonObject = Json.createObjectBuilder()\r\n        .add(&quot;name&quot;, &quot;John&quot;)\r\n        .add(&quot;age&quot;, 30)\r\n        .add(&quot;city&quot;, &quot;New York&quot;)\r\n        .build();\r\nString jsonString = jsonObject.toString(); // Convert JsonObject to JSON String\r\nreturn update(&quot;update OfferEntity o set o.items = ?1&quot;,  jsonString).onItem().transform(ignored -&gt; offer);\r\n\r\n\r\n```\r\n\r\nHowever, in the PostgreSQL database, the inserted field looks like this:\r\n\r\n```json\r\n&quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;age\\&quot;:30,\\&quot;city\\&quot;:\\&quot;New York\\&quot;}&quot;\r\n```\r\nI want it to be stored as:\r\n```json\r\n{&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:30,&quot;city&quot;:&quot;New York&quot;}\r\n```\r\n\r\nThis is my entity class for OfferEntity:\r\n\r\n```java\r\n\r\n@Entity\r\n@Table(name = &quot;offering&quot;)\r\n@Cacheable\r\n@WithSession\r\npublic class OfferEntity extends PanacheEntityBase {\r\n\r\n    @JdbcTypeCode(SqlTypes.JSON)\r\n    @Column(name = &quot;items&quot;, columnDefinition = &quot;jsonb&quot;, insertable = false, updatable = false)\r\n    private String items;\r\n\r\n    public String getItems() {\r\n        return items;\r\n    }\r\n\r\n    public void setItems(String items) {\r\n        this.items = items;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;m using the latest Panache dependencies. How can I modify my code or configuration to store the JSON data as JSONB in PostgreSQL without escaping it? Please note that the framework can read the values from the database even if they are stored escaped but i also want to search them with query where this is not possible because the JSON is broken with all those escapes \r\n\r\n\r\n**UPDATE**\r\n\r\nI have also tried the following cases but the result is the same i get the values inside the database as \r\n```json\r\n&quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;age\\&quot;:30,\\&quot;city\\&quot;:\\&quot;New York\\&quot;}&quot;\r\n```\r\n\r\nFirst i tried this \r\n\r\n```java\r\npublic class Item implements Serializable {\r\n    private String name;\r\n    private int age;\r\n    private String city;//with getters setters\r\n}\r\n\r\n```\r\nand OfferEntity class looked like this\r\n\r\n```java\r\n\r\n    @JdbcTypeCode(SqlTypes.JSON)\r\n    @Column(name = &quot;items&quot;, columnDefinition = &quot;jsonb&quot;, insertable = false, updatable = false)\r\n    private Item items;\r\n\r\n    public Item getItems() {\r\n        return items;\r\n    }\r\n\r\n    public void setItems(Item items) {\r\n        this.items = items;\r\n    }\r\n```\r\nand I tried also make Items a map \r\n\r\n```java\r\n\r\n    @JdbcTypeCode(SqlTypes.JSON)\r\n    @Column(name = &quot;items&quot;, columnDefinition = &quot;jsonb&quot;, insertable = false, updatable = false)\r\n    private Map&lt;String, String&gt; items;\r\n\r\n    public Map&lt;String, String&gt; getItems() {\r\n        return items;\r\n    }\r\n\r\n    public void setItems(Map&lt;String, String&gt; items) {\r\n        this.items = items;\r\n    }\r\n```\r\nIs this a hibernate bug? The version I use for hibernate is the 6.2.7 final ","title":"Storing JSON data as JSONB in PostgreSQL with Quarkus Panache is stored as escaped string","body":"<p>I'm working on a project that uses Quarkus with Panache and PostgreSQL, and I'm trying to store JSON data as JSONB in the database. However, when I insert JSON data into the database, it gets escaped, and I'd like to store it without escaping in order to be able to query the JSON from the postgress.</p>\n<p>Here's my code for inserting the JSON data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonObject jsonObject = Json.createObjectBuilder()\n        .add(&quot;name&quot;, &quot;John&quot;)\n        .add(&quot;age&quot;, 30)\n        .add(&quot;city&quot;, &quot;New York&quot;)\n        .build();\nString jsonString = jsonObject.toString(); // Convert JsonObject to JSON String\nreturn update(&quot;update OfferEntity o set o.items = ?1&quot;,  jsonString).onItem().transform(ignored -&gt; offer);\n\n\n</code></pre>\n<p>However, in the PostgreSQL database, the inserted field looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;age\\&quot;:30,\\&quot;city\\&quot;:\\&quot;New York\\&quot;}&quot;\n</code></pre>\n<p>I want it to be stored as:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;name&quot;:&quot;John&quot;,&quot;age&quot;:30,&quot;city&quot;:&quot;New York&quot;}\n</code></pre>\n<p>This is my entity class for OfferEntity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Entity\n@Table(name = &quot;offering&quot;)\n@Cacheable\n@WithSession\npublic class OfferEntity extends PanacheEntityBase {\n\n    @JdbcTypeCode(SqlTypes.JSON)\n    @Column(name = &quot;items&quot;, columnDefinition = &quot;jsonb&quot;, insertable = false, updatable = false)\n    private String items;\n\n    public String getItems() {\n        return items;\n    }\n\n    public void setItems(String items) {\n        this.items = items;\n    }\n}\n</code></pre>\n<p>I'm using the latest Panache dependencies. How can I modify my code or configuration to store the JSON data as JSONB in PostgreSQL without escaping it? Please note that the framework can read the values from the database even if they are stored escaped but i also want to search them with query where this is not possible because the JSON is broken with all those escapes</p>\n<p><strong>UPDATE</strong></p>\n<p>I have also tried the following cases but the result is the same i get the values inside the database as</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;age\\&quot;:30,\\&quot;city\\&quot;:\\&quot;New York\\&quot;}&quot;\n</code></pre>\n<p>First i tried this</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Item implements Serializable {\n    private String name;\n    private int age;\n    private String city;//with getters setters\n}\n\n</code></pre>\n<p>and OfferEntity class looked like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @JdbcTypeCode(SqlTypes.JSON)\n    @Column(name = &quot;items&quot;, columnDefinition = &quot;jsonb&quot;, insertable = false, updatable = false)\n    private Item items;\n\n    public Item getItems() {\n        return items;\n    }\n\n    public void setItems(Item items) {\n        this.items = items;\n    }\n</code></pre>\n<p>and I tried also make Items a map</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @JdbcTypeCode(SqlTypes.JSON)\n    @Column(name = &quot;items&quot;, columnDefinition = &quot;jsonb&quot;, insertable = false, updatable = false)\n    private Map&lt;String, String&gt; items;\n\n    public Map&lt;String, String&gt; getItems() {\n        return items;\n    }\n\n    public void setItems(Map&lt;String, String&gt; items) {\n        this.items = items;\n    }\n</code></pre>\n<p>Is this a hibernate bug? The version I use for hibernate is the 6.2.7 final</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1581499634,"post_id":60182185,"comment_id":106451234,"body_markdown":"You need to know the unicode for that tick mark in that font (I don&#39;t see that there is one). Then call showText for that one. (Did you manage to output ANY text at all, e.g. from the Helvetica font?)","body":"You need to know the unicode for that tick mark in that font (I don&#39;t see that there is one). Then call showText for that one. (Did you manage to output ANY text at all, e.g. from the Helvetica font?)"},{"owner":{"account_id":17572263,"reputation":31,"user_id":12747799,"display_name":"Gaurav Mishra"},"score":0,"creation_date":1581572914,"post_id":60182185,"comment_id":106481802,"body_markdown":"contentStream.setFont(PDType1Font.ZAPF_DINGBATS, 8)                                 Unicode is, I got the silution &quot;\\u2714&quot;","body":"contentStream.setFont(PDType1Font.ZAPF_DINGBATS, 8)                                 Unicode is, I got the silution &quot;\\u2714&quot;"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1581583779,"post_id":60182185,"comment_id":106486238,"body_markdown":"Great! It is what I guessed, that font has a lot of these symbols. Please answer the question yourself. (This is OK) I will upvote it.","body":"Great! It is what I guessed, that font has a lot of these symbols. Please answer the question yourself. (This is OK) I will upvote it."}],"answers":[{"tags":[],"owner":{"account_id":19977073,"reputation":1,"user_id":14641092,"display_name":"Shashwat SIngh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698241116,"creation_date":1698241116,"answer_id":77360006,"question_id":60182185,"body_markdown":"You can use Font as ZAPF_DINGBATS\r\n\r\n     private fun fillTextData(parameterMetadata: ParameterMetadata, contentStream: PDPageContentStream) {\r\n    val coordinate = parameterMetadata.selectedCoordinate!!\r\n    var originalFontSize = 10.0F\r\n    val availableWidth = coordinate.width\r\n    val availableHeight = coordinate.height\r\n\r\n    val pdfTypeFont = Standard14Fonts.FontName.ZAPF_DINGBATS // This font support tick mark\r\n   \r\n    contentStream.beginText()\r\n    contentStream.setFont(PDType1Font(pdfTypeFont), originalFontSize)\r\n    contentStream.showText(&quot;\\u2713&quot;)\r\n    contentStream.endText()\r\n  }","title":"How I can put &quot;tick mark&quot; symbol in PDFBOX?","body":"<p>You can use Font as ZAPF_DINGBATS</p>\n<pre><code> private fun fillTextData(parameterMetadata: ParameterMetadata, contentStream: PDPageContentStream) {\nval coordinate = parameterMetadata.selectedCoordinate!!\nvar originalFontSize = 10.0F\nval availableWidth = coordinate.width\nval availableHeight = coordinate.height\n\nval pdfTypeFont = Standard14Fonts.FontName.ZAPF_DINGBATS // This font support tick mark\n\ncontentStream.beginText()\ncontentStream.setFont(PDType1Font(pdfTypeFont), originalFontSize)\ncontentStream.showText(&quot;\\u2713&quot;)\ncontentStream.endText()\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":17572263,"reputation":31,"user_id":12747799,"display_name":"Gaurav Mishra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698241116,"creation_date":1581488104,"question_id":60182185,"body_markdown":"I have to place a &quot;tick mark&quot; in a PDF.\r\n\r\nI am trying to use\r\n\r\ncontentStream.setFont(PDType1Font.SYMBOL, 10);\r\n\r\nHowever, I can&#39;t figure out how to proceed further?","title":"How I can put &quot;tick mark&quot; symbol in PDFBOX?","body":"<p>I have to place a \"tick mark\" in a PDF.</p>\n\n<p>I am trying to use</p>\n\n<p>contentStream.setFont(PDType1Font.SYMBOL, 10);</p>\n\n<p>However, I can't figure out how to proceed further?</p>\n"},{"tags":["java","selenium-webdriver","clipboard"],"comments":[{"owner":{"account_id":1093238,"reputation":92,"user_id":1087388,"display_name":"Sujay"},"score":0,"creation_date":1698234206,"post_id":77358986,"comment_id":136378664,"body_markdown":"You can try with link [link](https://stackoverflow.com/questions/43550974/how-to-access-clipboard-data-using-java-in-windows) \n\nRead the data from clipboard then  you can massage it whatsoever.","body":"You can try with link <a href=\"https://stackoverflow.com/questions/43550974/how-to-access-clipboard-data-using-java-in-windows\">link</a>   Read the data from clipboard then  you can massage it whatsoever."}],"owner":{"account_id":29732491,"reputation":1,"user_id":22786731,"display_name":"KaydenBreak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698240284,"creation_date":1698232757,"question_id":77358986,"body_markdown":"In selenium java\r\n\r\n[![enter image description here](https://i.stack.imgur.com/2kdjg.png)](https://i.stack.imgur.com/2kdjg.png)\r\n\r\nIt is possible to paste clipboard line Apt 2242-6 directly?\r\n\r\nIf yes, Can you please guide or give me a sample code how to do it, Thanks\r\n\r\nexample\r\n\r\n\r\n```\r\nWebElement inputElement = driver.findElement(By.cssSelector(&quot;#input-235&quot;));\r\ninputElement.clear(); // Clear the input box\r\n\r\n(paste clipboard line 3 or line 2)\r\n```\r\n\r\n\r\nTHanks in advance --","title":"It is possible to paste clipboard line 2-6 directly?","body":"<p>In selenium java</p>\n<p><a href=\"https://i.stack.imgur.com/2kdjg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2kdjg.png\" alt=\"enter image description here\" /></a></p>\n<p>It is possible to paste clipboard line Apt 2242-6 directly?</p>\n<p>If yes, Can you please guide or give me a sample code how to do it, Thanks</p>\n<p>example</p>\n<pre><code>WebElement inputElement = driver.findElement(By.cssSelector(&quot;#input-235&quot;));\ninputElement.clear(); // Clear the input box\n\n(paste clipboard line 3 or line 2)\n</code></pre>\n<p>THanks in advance --</p>\n"},{"tags":["java","mongodb","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698301101,"post_id":77359892,"comment_id":136388224,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1698766310,"post_id":77359892,"comment_id":136445525,"body_markdown":"https://stackoverflow.com/questions/68363787/mongodb-best-practice-insert-null-fields\n\nIt is the way it is supposed to work.","body":"<a href=\"https://stackoverflow.com/questions/68363787/mongodb-best-practice-insert-null-fields\" title=\"mongodb best practice insert null fields\">stackoverflow.com/questions/68363787/&hellip;</a>  It is the way it is supposed to work."}],"owner":{"account_id":19923752,"reputation":3,"user_id":14598969,"display_name":"Debapratim Shyam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698240244,"creation_date":1698240244,"question_id":77359892,"body_markdown":"I am using quarkus-mongodb-panache to insert a document into MongoDB, where certain fields are null. But when I perform persist with Panache Repository the null fields are not visible in MongoDB.\r\n\r\nI had the same issue with Spring, but in Spring Data Mongo there is an annotation `@Field` which helps us write values to mongoDB even if they are null.\r\n\r\nIs there anything similar to this in Quarkus? and if not can someone guide me how to achieve this with the mongodb java sync driver.\r\n\r\nI expect the null fields to be visible in MongoDB with quarkus panache.","title":"Quarkus mongodb panache - Null fields not visible in MongoDB","body":"<p>I am using quarkus-mongodb-panache to insert a document into MongoDB, where certain fields are null. But when I perform persist with Panache Repository the null fields are not visible in MongoDB.</p>\n<p>I had the same issue with Spring, but in Spring Data Mongo there is an annotation <code>@Field</code> which helps us write values to mongoDB even if they are null.</p>\n<p>Is there anything similar to this in Quarkus? and if not can someone guide me how to achieve this with the mongodb java sync driver.</p>\n<p>I expect the null fields to be visible in MongoDB with quarkus panache.</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":1,"creation_date":1623152012,"post_id":67886056,"comment_id":119990629,"body_markdown":"I think you can just autowire the repository, can&#39;t you?","body":"I think you can just autowire the repository, can&#39;t you?"},{"owner":{"account_id":16359843,"reputation":191,"user_id":11815816,"display_name":"Ilja Tarasovs"},"score":0,"creation_date":1623152469,"post_id":67886056,"comment_id":119990771,"body_markdown":"also thinking about this. Or maybe there is other solution?","body":"also thinking about this. Or maybe there is other solution?"},{"owner":{"account_id":1428135,"reputation":5246,"user_id":1351167,"accept_rate":75,"display_name":"jAC"},"score":1,"creation_date":1623152502,"post_id":67886056,"comment_id":119990782,"body_markdown":"@IljaTarasovs This is the one and only correct way. Why would you need another solution?","body":"@IljaTarasovs This is the one and only correct way. Why would you need another solution?"},{"owner":{"account_id":16359843,"reputation":191,"user_id":11815816,"display_name":"Ilja Tarasovs"},"score":0,"creation_date":1623153483,"post_id":67886056,"comment_id":119991151,"body_markdown":"yes, agree with all of you. Will use `@Autowired`","body":"yes, agree with all of you. Will use <code>@Autowired</code>"}],"answers":[{"comments":[{"owner":{"account_id":16359843,"reputation":191,"user_id":11815816,"display_name":"Ilja Tarasovs"},"score":0,"creation_date":1623153499,"post_id":67886159,"comment_id":119991157,"body_markdown":"agree with your commnet","body":"agree with your commnet"}],"tags":[],"owner":{"account_id":9122040,"reputation":1213,"user_id":6787187,"accept_rate":71,"display_name":"Alpit Anand"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674653457,"creation_date":1623152145,"answer_id":67886159,"question_id":67886056,"body_markdown":"Just use @Autowire, spring will take care of bean creation if you had given @Repository on JPA interface.","title":"How to create bean for spring data jpa repository?","body":"<p>Just use @Autowire, spring will take care of bean creation if you had given @Repository on JPA interface.</p>\n"},{"tags":[],"owner":{"account_id":5297319,"reputation":1138,"user_id":4228138,"display_name":"Mateusz Korwel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630575442,"creation_date":1630575442,"answer_id":69027739,"question_id":67886056,"body_markdown":"If you look at the `@Repository` you noticed that this annotation is a stereotype of `@Component`. So when you use annotation `@Repository` this class will be treat as a bean (of course, if you enable jpa repositories).\r\n\r\n```\r\n@Target({ElementType.TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Component\r\npublic @interface Repository {\r\n   ...\r\n}\r\n```\r\n\r\n\r\nSo if you want inject you repository into your bean, you can do like this:\r\n```\r\n @Bean \r\n MyServiceInterface getMyService(MyRepository myRepository) {\r\n  return new MyServiceImpl(myRepository); \r\n }\r\n```","title":"How to create bean for spring data jpa repository?","body":"<p>If you look at the <code>@Repository</code> you noticed that this annotation is a stereotype of <code>@Component</code>. So when you use annotation <code>@Repository</code> this class will be treat as a bean (of course, if you enable jpa repositories).</p>\n<pre><code>@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Component\npublic @interface Repository {\n   ...\n}\n</code></pre>\n<p>So if you want inject you repository into your bean, you can do like this:</p>\n<pre><code> @Bean \n MyServiceInterface getMyService(MyRepository myRepository) {\n  return new MyServiceImpl(myRepository); \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4401188,"reputation":4398,"user_id":3586851,"accept_rate":50,"display_name":"Heri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698240208,"creation_date":1698240208,"answer_id":77359887,"question_id":67886056,"body_markdown":"Spring-boot 3.0.6\r\n\r\nThree conditions must be met (regardeless if its for tests or for the main code):\r\n\r\n1. The repository must have the @Repository annotation\r\n2. The class that uses the autowired member or constructor param must be a spring bean\r\n3. JpaRepositories must be enabled (annotate &quot;@EnableJpaRepositories(basePackages = &quot;com.example.app&quot;)&quot; somewhere in your configuration class)\r\n\r\nIt&#39;s not needed to have an extra &quot;Bean declaration&quot; for your repository interface. The @Repository and the @EnableJpaRepositories annotations are enough. \r\n","title":"How to create bean for spring data jpa repository?","body":"<p>Spring-boot 3.0.6</p>\n<p>Three conditions must be met (regardeless if its for tests or for the main code):</p>\n<ol>\n<li>The repository must have the @Repository annotation</li>\n<li>The class that uses the autowired member or constructor param must be a spring bean</li>\n<li>JpaRepositories must be enabled (annotate &quot;@EnableJpaRepositories(basePackages = &quot;com.example.app&quot;)&quot; somewhere in your configuration class)</li>\n</ol>\n<p>It's not needed to have an extra &quot;Bean declaration&quot; for your repository interface. The @Repository and the @EnableJpaRepositories annotations are enough.</p>\n"}],"owner":{"account_id":16359843,"reputation":191,"user_id":11815816,"display_name":"Ilja Tarasovs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6712,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67886159,"answer_count":3,"score":3,"last_activity_date":1698240208,"creation_date":1623151524,"question_id":67886056,"body_markdown":"```java\r\n@Repository\r\npublic interface MyRepository extends CrudRepository&lt;Custom, Long&gt; {}\r\n```\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class MyServiceImpl implements MyServiceInterface {\r\n \r\n private final MyRepository repository;\r\n}\r\n```\r\nI use test configuration with instructions for bean construction for testing.  \r\nHow to create `@Bean` for `MyRepository interface`?\r\n```java\r\n@TestConfiguration\r\n@EnableJpaRepositories(basePackages = &quot;com.example.app&quot;)\r\npublic class TestBeans {\r\n\r\n @Bean \r\n MyServiceInterface getMyService() {\r\n  return new MyServiceImpl(getMyRepository()); \r\n }\r\n\r\n @Bean \r\n MyRepository getMyRepository() {\r\n  return null; // what should be here?\r\n }\r\n}\r\n```\r\n","title":"How to create bean for spring data jpa repository?","body":"<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface MyRepository extends CrudRepository&lt;Custom, Long&gt; {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class MyServiceImpl implements MyServiceInterface {\n \n private final MyRepository repository;\n}\n</code></pre>\n<p>I use test configuration with instructions for bean construction for testing.<br />\nHow to create <code>@Bean</code> for <code>MyRepository interface</code>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@TestConfiguration\n@EnableJpaRepositories(basePackages = &quot;com.example.app&quot;)\npublic class TestBeans {\n\n @Bean \n MyServiceInterface getMyService() {\n  return new MyServiceImpl(getMyRepository()); \n }\n\n @Bean \n MyRepository getMyRepository() {\n  return null; // what should be here?\n }\n}\n</code></pre>\n"},{"tags":["java","json","date","jackson","lombok"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1698245872,"post_id":77359851,"comment_id":136381384,"body_markdown":"Not able to reproduce, could you try construct a `PSRequest` and run something like `System.out.println(new ObjectMapper().writeValueAsString(psRequest));`","body":"Not able to reproduce, could you try construct a <code>PSRequest</code> and run something like <code>System.out.println(new ObjectMapper().writeValueAsString(psRequest));</code>"},{"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"score":0,"creation_date":1698307048,"post_id":77359851,"comment_id":136389294,"body_markdown":"Can you add jackson-version &amp; all configurations that you&#39;re using?","body":"Can you add jackson-version &amp; all configurations that you&#39;re using?"},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1698318209,"post_id":77359851,"comment_id":136391521,"body_markdown":"we are using lombok 1.18 and jackson 2.13 with spring boot 2.7","body":"we are using lombok 1.18 and jackson 2.13 with spring boot 2.7"},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1698327755,"post_id":77359851,"comment_id":136393553,"body_markdown":"e = (org.springframework.web.client.RestClientException) org.springframework.web.client.RestClientException: No HttpMessageConverter for com.abc.PSRequest and content type &quot;application/json&quot;","body":"e = (org.springframework.web.client.RestClientException) org.springframework.web.client.RestClientException: No HttpMessageConverter for com.abc.PSRequest and content type &quot;application/json&quot;"},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1698327824,"post_id":77359851,"comment_id":136393574,"body_markdown":"I debug and found above comment error I am getting while doing restTemplate.exchange","body":"I debug and found above comment error I am getting while doing restTemplate.exchange"}],"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698240026,"creation_date":1698240026,"question_id":77359851,"body_markdown":"I am trying to ignore some fields to be a part of REST template call.\r\nI am using lombok @Data and trying @JsonIgnore but I see JsonIgnored field in the request body.\r\n\r\ncode sample:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    class PSRequest{\r\n    \r\n    //other variables\r\n    \r\n    @JsonIgnore\r\n    java.util.Date dt;\r\n    \r\n    \r\n    }\r\n\r\nI searched and tried below solutions but no luck. Please guide me further using java 8.\r\n\r\n&gt; @Getter(onMethod = @__(@JsonIgnore))  \r\n\r\n&gt; @Getter(onMethod_ = @JsonIgnore)\r\n\r\n&gt; @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n\r\n&gt; @JsonIgnoreProperties({&quot;dt&quot;}) at class level","title":"jsonIgnore annotation is not working with Data annotation in lombok","body":"<p>I am trying to ignore some fields to be a part of REST template call.\nI am using lombok @Data and trying @JsonIgnore but I see JsonIgnored field in the request body.</p>\n<p>code sample:</p>\n<pre><code>@Data\n@NoArgsConstructor\nclass PSRequest{\n\n//other variables\n\n@JsonIgnore\njava.util.Date dt;\n\n\n}\n</code></pre>\n<p>I searched and tried below solutions but no luck. Please guide me further using java 8.</p>\n<blockquote>\n<p>@Getter(onMethod = @__(@JsonIgnore))</p>\n</blockquote>\n<blockquote>\n<p>@Getter(onMethod_ = @JsonIgnore)</p>\n</blockquote>\n<blockquote>\n<p>@JsonProperty(access = JsonProperty.Access.WRITE_ONLY)</p>\n</blockquote>\n<blockquote>\n<p>@JsonIgnoreProperties({&quot;dt&quot;}) at class level</p>\n</blockquote>\n"},{"tags":["java","jhipster"],"owner":{"account_id":6717092,"reputation":767,"user_id":5178586,"accept_rate":22,"display_name":"JAVA_CAT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698239933,"creation_date":1698238236,"question_id":77359634,"body_markdown":"I am trying to generate code using Jhipster. Below is my JDL and it contains entity to generate JPA entity and also DTO. DTO is generated based on the given entity. Here is my problem. I need some extra fields in DTO but those are not required in generated entity class.\r\n\r\n **Basically I can achieve this in two way** \r\n1) Edit generated DTO class and add required attributes \r\n\r\n2) Extend the generated DTO and add required new attributes. \r\n\r\nDo we have any other way to achieve this ? like using some annotation I can say this attribute needed only in DTO and it is not required in Entity. Editing generated code is not allowed in the project so cannot use that approach.\r\n\r\n    @service(serviceImpl)\r\n    @dto(mapstruct)\r\n    entity EmployeeMaster(empl_mst){\r\n     empNumber Long required\r\n     empName String required\r\n     age Integer required\r\n     gender String required\r\n     effectiveFromDate LocalDate required\r\n     effectiveToDate LocalDate required\r\n     department String required\r\n    }\r\n\r\n","title":"JHipster - DTO and Entity generation","body":"<p>I am trying to generate code using Jhipster. Below is my JDL and it contains entity to generate JPA entity and also DTO. DTO is generated based on the given entity. Here is my problem. I need some extra fields in DTO but those are not required in generated entity class.</p>\n<p><strong>Basically I can achieve this in two way</strong></p>\n<ol>\n<li><p>Edit generated DTO class and add required attributes</p>\n</li>\n<li><p>Extend the generated DTO and add required new attributes.</p>\n</li>\n</ol>\n<p>Do we have any other way to achieve this ? like using some annotation I can say this attribute needed only in DTO and it is not required in Entity. Editing generated code is not allowed in the project so cannot use that approach.</p>\n<pre><code>@service(serviceImpl)\n@dto(mapstruct)\nentity EmployeeMaster(empl_mst){\n empNumber Long required\n empName String required\n age Integer required\n gender String required\n effectiveFromDate LocalDate required\n effectiveToDate LocalDate required\n department String required\n}\n</code></pre>\n"},{"tags":["java","logging"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1325846589,"post_id":8756564,"comment_id":10911228,"body_markdown":"Up to you, but you should go for the `final` versions","body":"Up to you, but you should go for the <code>final</code> versions"},{"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"score":0,"creation_date":1325846619,"post_id":8756564,"comment_id":10911242,"body_markdown":"possible duplicate of [Should a &quot;static final Logger&quot; be declared in UPPER-CASE?](http://stackoverflow.com/questions/1417190/should-a-static-final-logger-be-declared-in-upper-case)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1417190/should-a-static-final-logger-be-declared-in-upper-case\">Should a &quot;static final Logger&quot; be declared in UPPER-CASE?</a>"}],"answers":[{"comments":[{"owner":{"account_id":399893,"reputation":3303,"user_id":765551,"accept_rate":65,"display_name":"Raje"},"score":0,"creation_date":1325846871,"post_id":8756600,"comment_id":10911322,"body_markdown":"@abhutra : thanks for quick reply . but PMD rules says static final variable should be capital.","body":"@abhutra : thanks for quick reply . but PMD rules says static final variable should be capital."}],"tags":[],"owner":{"account_id":1060181,"reputation":1400,"user_id":1061977,"accept_rate":65,"display_name":"Abhishek bhutra"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325846603,"creation_date":1325846603,"answer_id":8756600,"question_id":8756564,"body_markdown":"First one is best.I prefer logger to be `final` and `static`....\r\n","title":"Which is the best way to declare logger variable in java","body":"<p>First one is best.I prefer logger to be <code>final</code> and <code>static</code>....</p>\n"},{"comments":[{"owner":{"account_id":399893,"reputation":3303,"user_id":765551,"accept_rate":65,"display_name":"Raje"},"score":0,"creation_date":1325846883,"post_id":8756604,"comment_id":10911326,"body_markdown":"but PMD rules says static final variable should be capital","body":"but PMD rules says static final variable should be capital"},{"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"score":1,"creation_date":1325847767,"post_id":8756604,"comment_id":10911605,"body_markdown":"@Raje: PMD is being intentionally obtuse in this case. Look at any static final field in a Java standard library class (E.g. `System`) which is not a &quot;real&quot; constant (i.e. not primitive or `String`). They don&#39;t use uppercase names for these variables.","body":"@Raje: PMD is being intentionally obtuse in this case. Look at any static final field in a Java standard library class (E.g. <code>System</code>) which is not a &quot;real&quot; constant (i.e. not primitive or <code>String</code>). They don&#39;t use uppercase names for these variables."}],"tags":[],"owner":{"account_id":296495,"reputation":17580,"user_id":601493,"accept_rate":73,"display_name":"Jan Zyka"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325846628,"creation_date":1325846628,"answer_id":8756604,"question_id":8756564,"body_markdown":"I would go with the first option but it is matter of personal choice I guess.","title":"Which is the best way to declare logger variable in java","body":"<p>I would go with the first option but it is matter of personal choice I guess.</p>\n"},{"comments":[{"owner":{"account_id":297677,"reputation":3564,"user_id":603314,"accept_rate":88,"display_name":"bugs_"},"score":1,"creation_date":1486566231,"post_id":8756610,"comment_id":71401697,"body_markdown":"It shoud NOT be uppercase. &quot;Java Coding Style Guide&quot;, &quot;Google Java Style&quot; say, that it should be lower case &quot;logger&quot;.   It is beeing discussed here:  http://stackoverflow.com/q/1417190/603314","body":"It shoud NOT be uppercase. &quot;Java Coding Style Guide&quot;, &quot;Google Java Style&quot; say, that it should be lower case &quot;logger&quot;.   It is beeing discussed here:  <a href=\"http://stackoverflow.com/q/1417190/603314\">stackoverflow.com/q/1417190/603314</a>"}],"tags":[],"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"comment_count":1,"down_vote_count":3,"up_vote_count":9,"is_accepted":true,"score":6,"last_activity_date":1400712623,"creation_date":1325846654,"answer_id":8756610,"question_id":8756564,"body_markdown":"I vote for **3**\r\n\r\n     private static final Logger LOGGER = Logger.getLogger(ServiceImpl.class);\r\n\r\nIt&#39;s `final` since you don&#39;t change it and it&#39;s in uppercase since it&#39;s a constant.\r\n\r\n\r\n","title":"Which is the best way to declare logger variable in java","body":"<p>I vote for <strong>3</strong></p>\n\n<pre><code> private static final Logger LOGGER = Logger.getLogger(ServiceImpl.class);\n</code></pre>\n\n<p>It's <code>final</code> since you don't change it and it's in uppercase since it's a constant.</p>\n"},{"comments":[{"owner":{"account_id":31998,"reputation":8736,"user_id":88252,"accept_rate":47,"display_name":"Jeach"},"score":3,"creation_date":1394728184,"post_id":8756612,"comment_id":34029854,"body_markdown":"I completely agree with your statement.  Plus when you have LOGGER, it seems like that variable is just screaming out at you for your attention which should not happen.","body":"I completely agree with your statement.  Plus when you have LOGGER, it seems like that variable is just screaming out at you for your attention which should not happen."}],"tags":[],"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1325846659,"creation_date":1325846659,"answer_id":8756612,"question_id":8756564,"body_markdown":"All upper-case variable names are IMO out because you really aren&#39;t declaring/defining a constant but a static variable. Uppercase names are more suitable for &quot;constants&quot;. That said, I&#39;d personally go with the first approach.\r\n\r\n    private static final Logger logger = Logger.getLogger(ServiceImpl.class);","title":"Which is the best way to declare logger variable in java","body":"<p>All upper-case variable names are IMO out because you really aren't declaring/defining a constant but a static variable. Uppercase names are more suitable for \"constants\". That said, I'd personally go with the first approach.</p>\n\n<pre><code>private static final Logger logger = Logger.getLogger(ServiceImpl.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":279016,"reputation":11954,"user_id":573927,"accept_rate":89,"display_name":"James John McGuire &#39;Jahmic&#39;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1325846814,"creation_date":1325846814,"answer_id":8756645,"question_id":8756564,"body_markdown":"In my understanding of the java style guide, &#39;logger&#39; is best.  &#39;LOGGER&#39; would be for a defined constant.\r\n\r\nFurthermore, using &#39;final&#39;, should make it a bit faster.  \r\n\r\nThus #1.\r\n","title":"Which is the best way to declare logger variable in java","body":"<p>In my understanding of the java style guide, 'logger' is best.  'LOGGER' would be for a defined constant.</p>\n\n<p>Furthermore, using 'final', should make it a bit faster.  </p>\n\n<p>Thus #1.</p>\n"},{"tags":[],"owner":{"account_id":903562,"reputation":15094,"user_id":939023,"accept_rate":90,"display_name":"Shivan Dragon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1325847079,"creation_date":1325847079,"answer_id":8756696,"question_id":8756564,"body_markdown":"I personally think `private static final Logger LOGGER= Logger.getLogger(ServiceImpl.class);` is the best way to go for semantic and performance reasons:\r\n\r\n- your Log belongs to the class not to various instances of it, for this reason you should make it static\r\n- it should be private because it&#39;s used internally by the class, it&#39;s not part of it&#39;s public API\r\n- making it final two makes sense, first of because this states that the refference will not change (which is the case here) and second because final intance variables (especially static ones) can be better optimised for speed by the compiler and the JIT (more details &lt;a href=&quot;http://www.ibm.com/developerworks/ibm/library/i-tuning/?open&quot;&gt; here&lt;/a&gt;)\r\n- naming it all upper-case is really just a nice convention, that&#39;s how static variables are declared in Java, it&#39;s not really a must but it makes the code more readable\r\n","title":"Which is the best way to declare logger variable in java","body":"<p>I personally think <code>private static final Logger LOGGER= Logger.getLogger(ServiceImpl.class);</code> is the best way to go for semantic and performance reasons:</p>\n\n<ul>\n<li>your Log belongs to the class not to various instances of it, for this reason you should make it static</li>\n<li>it should be private because it's used internally by the class, it's not part of it's public API</li>\n<li>making it final two makes sense, first of because this states that the refference will not change (which is the case here) and second because final intance variables (especially static ones) can be better optimised for speed by the compiler and the JIT (more details <a href=\"http://www.ibm.com/developerworks/ibm/library/i-tuning/?open\" rel=\"nofollow\"> here</a>)</li>\n<li>naming it all upper-case is really just a nice convention, that's how static variables are declared in Java, it's not really a must but it makes the code more readable</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1506980991,"post_id":12740813,"comment_id":80023194,"body_markdown":"Though that&#39;s a bit tricky to implement if you want to have the caller&#39;s file name and line in your log statements, as opposed to the position from your utility class. But it&#39;s actually doable by utilizing `org.slf4j.spi.LocationAwareLogger`.","body":"Though that&#39;s a bit tricky to implement if you want to have the caller&#39;s file name and line in your log statements, as opposed to the position from your utility class. But it&#39;s actually doable by utilizing <code>org.slf4j.spi.LocationAwareLogger</code>."}],"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400915421,"creation_date":1349418915,"answer_id":12740813,"question_id":8756564,"body_markdown":"I would recommend not to use such a variable in every class, but instead delegate this work to a static utility wrapper around slf4j, from [jcabi-log](http://www.jcabi.com/jcabi-log/):\r\n\r\n    Logger.debug(this, &quot;some variable = %s&quot;, value);\r\n\r\nCheck this post as well: http://www.yegor256.com/2014/05/23/avoid-java-static-logger.html","title":"Which is the best way to declare logger variable in java","body":"<p>I would recommend not to use such a variable in every class, but instead delegate this work to a static utility wrapper around slf4j, from <a href=\"http://www.jcabi.com/jcabi-log/\" rel=\"nofollow\">jcabi-log</a>:</p>\n\n<pre><code>Logger.debug(this, \"some variable = %s\", value);\n</code></pre>\n\n<p>Check this post as well: <a href=\"http://www.yegor256.com/2014/05/23/avoid-java-static-logger.html\" rel=\"nofollow\">http://www.yegor256.com/2014/05/23/avoid-java-static-logger.html</a></p>\n"},{"comments":[{"owner":{"account_id":2841781,"reputation":12126,"user_id":2441252,"display_name":"Leigh"},"score":0,"creation_date":1400674354,"post_id":23782239,"comment_id":36575860,"body_markdown":"All of the logger declarations in the question are already `static` and declared as one variable, the question is asking whether it should be `final` and named in `UPPER` or `lower`.","body":"All of the logger declarations in the question are already <code>static</code> and declared as one variable, the question is asking whether it should be <code>final</code> and named in <code>UPPER</code> or <code>lower</code>."}],"tags":[],"owner":{"account_id":4476278,"reputation":677,"user_id":3641329,"accept_rate":50,"display_name":"iKing"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400674405,"creation_date":1400672667,"answer_id":23782239,"question_id":8756564,"body_markdown":"It is good programming practice to share a single logger object between all of the instances of a particular class and to use the same logger for the duration of the program, so we use `static` and `final` for loggers.\r\n\r\nIt is not recommended to use multiple loggers (poor logging practice) rather than logging levels.\r\n\r\nI think that\r\n\r\n    private static final Logger logger = Logger.getLogger(ServiceImpl.class);\r\n\r\nis the better option.","title":"Which is the best way to declare logger variable in java","body":"<p>It is good programming practice to share a single logger object between all of the instances of a particular class and to use the same logger for the duration of the program, so we use <code>static</code> and <code>final</code> for loggers.</p>\n\n<p>It is not recommended to use multiple loggers (poor logging practice) rather than logging levels.</p>\n\n<p>I think that</p>\n\n<pre><code>private static final Logger logger = Logger.getLogger(ServiceImpl.class);\n</code></pre>\n\n<p>is the better option.</p>\n"},{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506979717,"creation_date":1506979717,"answer_id":46533983,"question_id":8756564,"body_markdown":"Nobody here uses `LOG` or `log`? I have found it to be nicer in practice. (Surely I&#39;m not the first one to work on a place where that&#39;s the standard, because `@Log4j` in Lombok generates a `log` field as well. Of course it&#39;s also static final. And BTW, that&#39;s the best way to declare that field... add a `@Log4j` annotation. Done.)","title":"Which is the best way to declare logger variable in java","body":"<p>Nobody here uses <code>LOG</code> or <code>log</code>? I have found it to be nicer in practice. (Surely I'm not the first one to work on a place where that's the standard, because <code>@Log4j</code> in Lombok generates a <code>log</code> field as well. Of course it's also static final. And BTW, that's the best way to declare that field... add a <code>@Log4j</code> annotation. Done.)</p>\n"},{"tags":[],"owner":{"account_id":14282929,"reputation":333,"user_id":10317086,"display_name":"EnGoPy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573049735,"creation_date":1573049735,"answer_id":58732131,"question_id":8756564,"body_markdown":"`private static final Logger LOGGER = Logger.getLogger(NameClass.class.getName());`\r\n\r\nWhere logger is a final, settled variable should be defined in UPPER CASE.\r\nWhile getLogger()  static method need String as an argument, name of class should also invoke .getName() of class.","title":"Which is the best way to declare logger variable in java","body":"<p><code>private static final Logger LOGGER = Logger.getLogger(NameClass.class.getName());</code></p>\n\n<p>Where logger is a final, settled variable should be defined in UPPER CASE.\nWhile getLogger()  static method need String as an argument, name of class should also invoke .getName() of class.</p>\n"},{"tags":[],"owner":{"account_id":8516778,"reputation":99,"user_id":6384951,"display_name":"Pratik Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640867250,"creation_date":1640867250,"answer_id":70531673,"question_id":8756564,"body_markdown":"@Slf4j annotation can help with this.\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    @Slf4j\r\n    public class CustomClassName {\r\n     void customMethod(){\r\n      log.info(&quot;Shorthand logger annotation example&quot;);\r\n     }\r\n    }","title":"Which is the best way to declare logger variable in java","body":"<p>@Slf4j annotation can help with this.</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\n@Slf4j\npublic class CustomClassName {\n void customMethod(){\n  log.info(&quot;Shorthand logger annotation example&quot;);\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9134977,"reputation":121,"user_id":6794989,"display_name":"Ramji"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698239897,"creation_date":1698239897,"answer_id":77359830,"question_id":8756564,"body_markdown":"For ease of use, I prefer using `slf4j` and would like to use as below.\r\n\r\n\r\n```\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nprivate static final Logger LOGGER = LoggerFactory.getLogger(ServiceImpl.class);\r\n```","title":"Which is the best way to declare logger variable in java","body":"<p>For ease of use, I prefer using <code>slf4j</code> and would like to use as below.</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nprivate static final Logger LOGGER = LoggerFactory.getLogger(ServiceImpl.class);\n</code></pre>\n"}],"owner":{"account_id":399893,"reputation":3303,"user_id":765551,"accept_rate":65,"display_name":"Raje"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19162,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":8756610,"answer_count":12,"score":14,"last_activity_date":1698239897,"creation_date":1325846441,"question_id":8756564,"body_markdown":"I just wantd to know which is the best way declare logger variable in java.\r\nFollowing are some declaration.\r\n\r\n\r\n    1&gt; private static final Logger logger = Logger.getLogger(ServiceImpl.class);\r\n\r\n    2&gt; private static Logger logger = Logger.getLogger(ServiceImpl.class);\r\n\r\n    3&gt; private static final Logger LOGGER= Logger.getLogger(ServiceImpl.class);\r\n\r\n    4&gt; private static Logger LOGGER= Logger.getLogger(ServiceImpl.class);\r\n\r\nP.S I really appreciate if  anybody knows  another best alternative ways to declare looger variable.\r\n\t","title":"Which is the best way to declare logger variable in java","body":"<p>I just wantd to know which is the best way declare logger variable in java.\nFollowing are some declaration.</p>\n\n<pre><code>1&gt; private static final Logger logger = Logger.getLogger(ServiceImpl.class);\n\n2&gt; private static Logger logger = Logger.getLogger(ServiceImpl.class);\n\n3&gt; private static final Logger LOGGER= Logger.getLogger(ServiceImpl.class);\n\n4&gt; private static Logger LOGGER= Logger.getLogger(ServiceImpl.class);\n</code></pre>\n\n<p>P.S I really appreciate if  anybody knows  another best alternative ways to declare looger variable.</p>\n"},{"tags":["java","datetime","timezone","datetime-format","zoneid"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1698231567,"post_id":77358793,"comment_id":136378125,"body_markdown":"What&#39;s the expected output? Is it something like `6:58:51 下午 中国时间`?","body":"What&#39;s the expected output? Is it something like <code>6:58:51 下午 中国时间</code>?"},{"owner":{"account_id":12272696,"reputation":23,"user_id":10418191,"display_name":"Barry Tone"},"score":0,"creation_date":1698232149,"post_id":77358793,"comment_id":136378235,"body_markdown":"I&#39;m not sure what the translation would be for that, but I expected it to be translated when I passed the locale in","body":"I&#39;m not sure what the translation would be for that, but I expected it to be translated when I passed the locale in"},{"owner":{"account_id":12272696,"reputation":23,"user_id":10418191,"display_name":"Barry Tone"},"score":0,"creation_date":1698232796,"post_id":77358793,"comment_id":136378360,"body_markdown":"@deHaar is this zone id component not translatable? also, I think `中国时间` is simplified so it&#39;s not correct for zh_TW","body":"@deHaar is this zone id component not translatable? also, I think <code>中国时间</code> is simplified so it&#39;s not correct for zh_TW"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1698232890,"post_id":77358793,"comment_id":136378378,"body_markdown":"I don&#39;t think that is to be expected…The translation I got is the result of `ZoneId.of(&quot;Asia/Shanghai&quot;).getDisplayName(TextStyle.FULL_STANDALONE, Locale.CHINESE);`","body":"I don&#39;t think that is to be expected…The translation I got is the result of <code>ZoneId.of(&quot;Asia&#47;Shanghai&quot;).getDisplayName(TextStyle.FULL_STA&zwnj;&#8203;NDALONE, Locale.CHINESE);</code>"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1698233074,"post_id":77358793,"comment_id":136378420,"body_markdown":"@deHaar There is no country in `Locale.CHINESE`. If you use `new Locale(&quot;zh&quot;, &quot;tw&quot;)`, it does produce traditional chinese.","body":"@deHaar There is no country in <code>Locale.CHINESE</code>. If you use <code>new Locale(&quot;zh&quot;, &quot;tw&quot;)</code>, it does produce traditional chinese."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1698233486,"post_id":77358793,"comment_id":136378497,"body_markdown":"Good point @Sweeper, thanks! I&#39;d prefer `Locale.of(&quot;zh&quot;, &quot;tw&quot;)` over the deprecated constructor, but not using `Locale.CHINESE` in that statement does indeed produce a different output, though I just can&#39;t tell if it&#39;s Simplified Chinese, Traditional Chinese or Chinese at all…","body":"Good point @Sweeper, thanks! I&#39;d prefer <code>Locale.of(&quot;zh&quot;, &quot;tw&quot;)</code> over the deprecated constructor, but not using <code>Locale.CHINESE</code> in that statement does indeed produce a different output, though I just can&#39;t tell if it&#39;s Simplified Chinese, Traditional Chinese or Chinese at all…"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1698233536,"post_id":77358793,"comment_id":136378514,"body_markdown":"@BarryTone do you want this as zone id: `中国标准时间`?","body":"@BarryTone do you want this as zone id: <code>中国标准时间</code>?"},{"owner":{"account_id":12272696,"reputation":23,"user_id":10418191,"display_name":"Barry Tone"},"score":0,"creation_date":1698233894,"post_id":77358793,"comment_id":136378593,"body_markdown":"@deHaar I believe that&#39;s still simplified, but this actually might help. Do you know where I can find the list of the FULL_STANDALONE timezones?","body":"@deHaar I believe that&#39;s still simplified, but this actually might help. Do you know where I can find the list of the FULL_STANDALONE timezones?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1698234080,"post_id":77358793,"comment_id":136378637,"body_markdown":"@BarryTone It&#39;s all in the [CLDR](https://github.com/unicode-org/cldr). That is sorted by locale though, which you might find rather inconvenient.","body":"@BarryTone It&#39;s all in the <a href=\"https://github.com/unicode-org/cldr\" rel=\"nofollow noreferrer\">CLDR</a>. That is sorted by locale though, which you might find rather inconvenient."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1698234165,"post_id":77358793,"comment_id":136378656,"body_markdown":"Well, that one was actually produced by formatting some time with a `DateTimeFormatter.ofPattern(&quot;h:mm:ss a zzzz&quot;, Locale.of(&quot;zh&quot;, &quot;tw&quot;));`. You can try it with Asia/Bahrain, too, but use a `Locale.of(&quot;ar&quot;, &quot;bh&quot;)` or something similar…","body":"Well, that one was actually produced by formatting some time with a <code>DateTimeFormatter.ofPattern(&quot;h:mm:ss a zzzz&quot;, Locale.of(&quot;zh&quot;, &quot;tw&quot;));</code>. You can try it with Asia/Bahrain, too, but use a <code>Locale.of(&quot;ar&quot;, &quot;bh&quot;)</code> or something similar…"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1698349448,"post_id":77358793,"comment_id":136397795,"body_markdown":"Are you quite sure you users want *Asia* and *Shanghai* translated? `Asia/Shanghai` is a technical ID and was never meant for end users. While I don’t know Taiwanese users, I think that most users prefer *China Standard Time* or *中國標準時間*.","body":"Are you quite sure you users want <i>Asia</i> and <i>Shanghai</i> translated? <code>Asia&#47;Shanghai</code> is a technical ID and was never meant for end users. While I don’t know Taiwanese users, I think that most users prefer <i>China Standard Time</i> or <i>中國標準時間</i>."}],"answers":[{"comments":[{"owner":{"account_id":12272696,"reputation":23,"user_id":10418191,"display_name":"Barry Tone"},"score":1,"creation_date":1698233078,"post_id":77358998,"comment_id":136378421,"body_markdown":"timezone-name is Pacific Standard Time and such right? it won&#39;t work for me unfortunately, my output needs to be the `Region/(City or Country)`","body":"timezone-name is Pacific Standard Time and such right? it won&#39;t work for me unfortunately, my output needs to be the <code>Region&#47;(City or Country)</code>"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1698233433,"post_id":77358998,"comment_id":136378492,"body_markdown":"@BarryTone Umm, that&#39;s what you actually want? That is not possible - as far as I know there is no such list of localised &quot;zone ids&quot; in the CLDR.","body":"@BarryTone Umm, that&#39;s what you actually want? That is not possible - as far as I know there is no such list of localised &quot;zone ids&quot; in the CLDR."},{"owner":{"account_id":12272696,"reputation":23,"user_id":10418191,"display_name":"Barry Tone"},"score":0,"creation_date":1698233662,"post_id":77358998,"comment_id":136378542,"body_markdown":"@Sweeper yeah, my problem actually stems from a client in Bahrain. In the IANA, they have their timezone-name as `AST or Arabic Standard Time`. But the client says this is wrong, and they want a display such as `Asia/Bahrain` or anything with their country&#39;s name in it.","body":"@Sweeper yeah, my problem actually stems from a client in Bahrain. In the IANA, they have their timezone-name as <code>AST or Arabic Standard Time</code>. But the client says this is wrong, and they want a display such as <code>Asia&#47;Bahrain</code> or anything with their country&#39;s name in it."}],"tags":[],"owner":{"account_id":18757669,"reputation":21,"user_id":13677274,"display_name":"Gestankbratwurst"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698232889,"creation_date":1698232889,"answer_id":77358998,"question_id":77358793,"body_markdown":"Your problem here is that &quot;V&quot; resolves the **timezone-id**, which is not meant to be translated as simple text. Try using the **timezone-name**, defined by a lower case `z`. This can be translated using a present Locale.","title":"How to use locale for Java ZoneId?","body":"<p>Your problem here is that &quot;V&quot; resolves the <strong>timezone-id</strong>, which is not meant to be translated as simple text. Try using the <strong>timezone-name</strong>, defined by a lower case <code>z</code>. This can be translated using a present Locale.</p>\n"},{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1698248653,"post_id":77359673,"comment_id":136381929,"body_markdown":"I didn’t know there was a CLDR library for Java.  I may have to update [this answer](https://stackoverflow.com/questions/73959786/is-there-an-implemented-way-to-convert-iso-8601-period-to-a-translated-string-re/73989173#73989173) of mine.","body":"I didn’t know there was a CLDR library for Java.  I may have to update <a href=\"https://stackoverflow.com/questions/73959786/is-there-an-implemented-way-to-convert-iso-8601-period-to-a-translated-string-re/73989173#73989173\">this answer</a> of mine."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1698239588,"creation_date":1698238555,"answer_id":77359673,"question_id":77358793,"body_markdown":"&gt; my output needs to be Region/(City or Country)\r\n\r\nThe two parts in time zone IDs like `Asia/Shanghai` are not supposed to be translated separately.\r\n\r\nYou *can* however, get an &quot;exemplar city&quot; for a timezone. This is one of the many things that [CLDR][1] records. I am not aware of a standard Java API for getting the exemplar city, but you can use the [CLDR engine][2] library ([Maven][3]).\r\n\r\nSuppose I want to find an exemplar city of `Asia/Shanghai` localised for `ar-BH`.\r\n\r\n```\r\nvar cldr = CLDR.get(&quot;ar-BH&quot;);\r\nSystem.out.println(cldr.Schema.TimeZones.exemplarCity.get(cldr.General.bundle(), &quot;Asia/Shanghai&quot;));\r\n```\r\n\r\nOutput: \r\n\r\n    شنغهاي \r\n\r\nIf you also want the localised name of the continent (&quot;Asia&quot; in `Asia/Shanghai`), you can use `getRegionDisplayName`.\r\n\r\n    System.out.println(cldr.General.getRegionDisplayName(&quot;142&quot;, DisplayNameOptions.build()));\r\n\r\nNote that I passed &quot;142&quot;, which is apparently the [UN M49][4] ID for Asia. See the list of the available IDs [here][5]. There is only a small number of options for the part before the `/` in IANA zone names. It shouldn&#39;t be too difficult to maintain a mapping from &quot;Asia&quot; to &quot;142&quot;, &quot;Europe&quot; to &quot;150&quot;, etc.\r\n\r\n\r\n  [1]: https://cldr.unicode.org/index\r\n  [2]: https://github.com/Squarespace/cldr-engine-java\r\n  [3]: https://mvnrepository.com/artifact/com.squarespace.cldr-engine/cldr-engine/1.2.3\r\n  [4]: https://en.wikipedia.org/wiki/UN_M49\r\n  [5]: https://phensley.github.io/cldr-engine/docs/en/api-regionidtype","title":"How to use locale for Java ZoneId?","body":"<blockquote>\n<p>my output needs to be Region/(City or Country)</p>\n</blockquote>\n<p>The two parts in time zone IDs like <code>Asia/Shanghai</code> are not supposed to be translated separately.</p>\n<p>You <em>can</em> however, get an &quot;exemplar city&quot; for a timezone. This is one of the many things that <a href=\"https://cldr.unicode.org/index\" rel=\"nofollow noreferrer\">CLDR</a> records. I am not aware of a standard Java API for getting the exemplar city, but you can use the <a href=\"https://github.com/Squarespace/cldr-engine-java\" rel=\"nofollow noreferrer\">CLDR engine</a> library (<a href=\"https://mvnrepository.com/artifact/com.squarespace.cldr-engine/cldr-engine/1.2.3\" rel=\"nofollow noreferrer\">Maven</a>).</p>\n<p>Suppose I want to find an exemplar city of <code>Asia/Shanghai</code> localised for <code>ar-BH</code>.</p>\n<pre><code>var cldr = CLDR.get(&quot;ar-BH&quot;);\nSystem.out.println(cldr.Schema.TimeZones.exemplarCity.get(cldr.General.bundle(), &quot;Asia/Shanghai&quot;));\n</code></pre>\n<p>Output:</p>\n<pre><code>شنغهاي \n</code></pre>\n<p>If you also want the localised name of the continent (&quot;Asia&quot; in <code>Asia/Shanghai</code>), you can use <code>getRegionDisplayName</code>.</p>\n<pre><code>System.out.println(cldr.General.getRegionDisplayName(&quot;142&quot;, DisplayNameOptions.build()));\n</code></pre>\n<p>Note that I passed &quot;142&quot;, which is apparently the <a href=\"https://en.wikipedia.org/wiki/UN_M49\" rel=\"nofollow noreferrer\">UN M49</a> ID for Asia. See the list of the available IDs <a href=\"https://phensley.github.io/cldr-engine/docs/en/api-regionidtype\" rel=\"nofollow noreferrer\">here</a>. There is only a small number of options for the part before the <code>/</code> in IANA zone names. It shouldn't be too difficult to maintain a mapping from &quot;Asia&quot; to &quot;142&quot;, &quot;Europe&quot; to &quot;150&quot;, etc.</p>\n"}],"owner":{"account_id":12272696,"reputation":23,"user_id":10418191,"display_name":"Barry Tone"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77359673,"answer_count":2,"score":2,"last_activity_date":1698239588,"creation_date":1698230872,"question_id":77358793,"body_markdown":"Having an issue when translating my date to other languages. The way its displayed right now is\r\n`h:mm:ss a VV`. My issue is if I swap my locale to zh_TW, it displays as `下午11:59 Asia/Shanghai`.\r\n\r\nI&#39;d like to have the `Asia/Shanghai` part to be translated to the correct Locale as well. How would I do this?\r\n\r\nI have tried using `DateTimeFormatter.ofPattern(&quot;h:mm:ss a VV&quot;, locale)` but the zone id (VV) part only shows in English.","title":"How to use locale for Java ZoneId?","body":"<p>Having an issue when translating my date to other languages. The way its displayed right now is\n<code>h:mm:ss a VV</code>. My issue is if I swap my locale to zh_TW, it displays as <code>下午11:59 Asia/Shanghai</code>.</p>\n<p>I'd like to have the <code>Asia/Shanghai</code> part to be translated to the correct Locale as well. How would I do this?</p>\n<p>I have tried using <code>DateTimeFormatter.ofPattern(&quot;h:mm:ss a VV&quot;, locale)</code> but the zone id (VV) part only shows in English.</p>\n"},{"tags":["java","android","react-native","auth0"],"comments":[{"owner":{"account_id":59249,"reputation":5933,"user_id":177303,"accept_rate":80,"display_name":"Vamsi"},"score":0,"creation_date":1698311926,"post_id":77359788,"comment_id":136390255,"body_markdown":"How about on native android ui? I believe it&#39;s not related to react. Can you explain your question","body":"How about on native android ui? I believe it&#39;s not related to react. Can you explain your question"}],"owner":{"account_id":11778189,"reputation":5298,"user_id":8618818,"accept_rate":78,"display_name":"Onyx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698239470,"creation_date":1698239470,"question_id":77359788,"body_markdown":"I can&#39;t get the Auth0 to work on React Native Android, even though it&#39;s working just fine on iOS. When I call `authorize()` the first time, the universal login starts inside a browser. Once I input my credentials and click &quot;Login&quot;, nothing happens. At that point I&#39;d expect to be redirected back inside my Android app.\r\n\r\nThen if I call `authorize()` again, it looks like the Auth0 login URL is being opened in-app instead of in a browser. I confirmed it by checking the currently active applications and not seeing my Chrome active.\r\n\r\nIs there an Android setting that might be messing with Auth0 somehow?","title":"Is there an Android setting which might be causing the Auth0 universal login to open in-app instead of in the browser?","body":"<p>I can't get the Auth0 to work on React Native Android, even though it's working just fine on iOS. When I call <code>authorize()</code> the first time, the universal login starts inside a browser. Once I input my credentials and click &quot;Login&quot;, nothing happens. At that point I'd expect to be redirected back inside my Android app.</p>\n<p>Then if I call <code>authorize()</code> again, it looks like the Auth0 login URL is being opened in-app instead of in a browser. I confirmed it by checking the currently active applications and not seeing my Chrome active.</p>\n<p>Is there an Android setting that might be messing with Auth0 somehow?</p>\n"},{"tags":["java","swing","jtable","jcheckbox"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1698243274,"post_id":77359359,"comment_id":136380695,"body_markdown":"Not exactly sure what you are attempting to do but you do NOT need to create a custom renderer or editor to use a check box in a JTable. And you should definitely not add an ItemListener to the renderer. Instead you should override the `getColumnClass()` method of the table to return `Boolean.class` and the table will choose the appropriate renderer/editor for that column. Read the section from the Swing tutorial on [How to Use Tables](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html) for more information and working examples.","body":"Not exactly sure what you are attempting to do but you do NOT need to create a custom renderer or editor to use a check box in a JTable. And you should definitely not add an ItemListener to the renderer. Instead you should override the <code>getColumnClass()</code> method of the table to return <code>Boolean.class</code> and the table will choose the appropriate renderer/editor for that column. Read the section from the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a> for more information and working examples."}],"owner":{"account_id":10706674,"reputation":1,"user_id":16459541,"display_name":"Kim Proco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698239184,"creation_date":1698235912,"question_id":77359359,"body_markdown":"External data must change depending on whether the checkbox in the table is selected. However, when checking multiple checkboxes simultaneously, multiple events occur in one checkbox.\r\n\r\n[enter image description here][1]\r\n\r\nex) After enabling checkbox 1, enable checkbox 2 -\\&gt; A total of 3 events occur.  \r\nconsole result : \r\n\r\n```\r\nCheckbox selected : true\r\nCheckbox selected : false\r\nCheckbox selected : true\r\n```\r\n\r\nI don&#39;t know why this happens.\r\n\r\nCode for test:\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\n\r\n - List item\r\n\r\nimport java.awt.Component;\r\nimport java.awt.event.ItemEvent;\r\nimport java.awt.event.ItemListener;\r\n\r\nimport javax.swing.DefaultCellEditor;\r\nimport javax.swing.JCheckBox;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTable;\r\nimport javax.swing.table.DefaultTableCellRenderer;\r\nimport javax.swing.table.DefaultTableModel;\r\n\r\npublic class TableTest extends JFrame {\r\n\tprivate final Object[] colNames = { &quot;ChkBox&quot;, &quot;Name&quot;, &quot;Age&quot;, &quot;Sex&quot; };\r\n\tprivate Object[][] datas = { { false, &quot;Jamse&quot;, &quot;20&quot;, &quot;Male&quot; }, { false, &quot;Ben&quot;, &quot;18&quot;, &quot;Female&quot; } };\r\n\r\n\tpublic TableTest() {\r\n\t\tsuper(&quot;JTable Tester&quot;);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n\t\tJPanel panel = new JPanel(new BorderLayout());\r\n\r\n\t\tDefaultTableModel dtm = new DefaultTableModel(datas, colNames);\r\n\t\tJTable table = new JTable(dtm);\r\n\r\n\t\ttable.getColumn(&quot;ChkBox&quot;).setCellRenderer(dcr);\r\n\r\n\t\tJCheckBox box = new JCheckBox();\r\n\t\tbox.setHorizontalAlignment(JLabel.CENTER);\r\n\t\tbox.addItemListener(new ItemListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void itemStateChanged(ItemEvent e) {\r\n\t\t\t\tSystem.out.println(&quot;Checkbox selected : &quot; + box.isSelected());\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\ttable.getColumn(&quot;ChkBox&quot;).setCellEditor(new DefaultCellEditor(box));\r\n\r\n\t\tJScrollPane pane = new JScrollPane(table);\r\n\t\tpanel.add(pane);\r\n\t\tsetContentPane(panel);\r\n\t\tpack();\r\n\t\tsetVisible(true);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew TableTest();\r\n\t}\r\n\r\n\tDefaultTableCellRenderer dcr = new DefaultTableCellRenderer() {\r\n\t\tpublic Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n\t\t\tJCheckBox box = new JCheckBox();\r\n\t\t\tbox.setBackground(Color.white);\r\n\t\t\tbox.setSelected(((Boolean) value).booleanValue());\r\n\t\t\tbox.setHorizontalAlignment(JLabel.CENTER);\r\n\t\t\treturn box;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI tried moving the location of the ItemListener inside the CellRenender, but the result was the same.\r\n\r\n\r\n\r\n```\r\nDefaultTableCellRenderer dcr = new DefaultTableCellRenderer() {\r\n\tpublic Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\r\n\t\tJCheckBox box = new JCheckBox();\r\n\t\tbox.setBackground(Color.white);\r\n\t\tbox.setSelected(((Boolean) value).booleanValue());\r\n\t\tbox.setHorizontalAlignment(JLabel.CENTER);\r\n\r\n\t\tbox.addItemListener(new ItemListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void itemStateChanged(ItemEvent e) {\r\n\t\t\t\tSystem.out.println(&quot;Checkbox selected : &quot; + box.isSelected());\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn box;\r\n\t}\r\n};\r\n```\r\n\r\nSomeone said that the setSelected method was the problem, so I commented out the setSelected method in DefaultTableCellRenderer, but the problem was still there, except that the checkbox was not displayed properly.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h1z4k.png","title":"JCheckbox in JTable occure itemlistener event twice on click","body":"<p>External data must change depending on whether the checkbox in the table is selected. However, when checking multiple checkboxes simultaneously, multiple events occur in one checkbox.</p>\n<p><a href=\"https://i.stack.imgur.com/h1z4k.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>ex) After enabling checkbox 1, enable checkbox 2 -&gt; A total of 3 events occur.<br />\nconsole result :</p>\n<pre><code>Checkbox selected : true\nCheckbox selected : false\nCheckbox selected : true\n</code></pre>\n<p>I don't know why this happens.</p>\n<p>Code for test:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\n\n - List item\n\nimport java.awt.Component;\nimport java.awt.event.ItemEvent;\nimport java.awt.event.ItemListener;\n\nimport javax.swing.DefaultCellEditor;\nimport javax.swing.JCheckBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.table.DefaultTableCellRenderer;\nimport javax.swing.table.DefaultTableModel;\n\npublic class TableTest extends JFrame {\n    private final Object[] colNames = { &quot;ChkBox&quot;, &quot;Name&quot;, &quot;Age&quot;, &quot;Sex&quot; };\n    private Object[][] datas = { { false, &quot;Jamse&quot;, &quot;20&quot;, &quot;Male&quot; }, { false, &quot;Ben&quot;, &quot;18&quot;, &quot;Female&quot; } };\n\n    public TableTest() {\n        super(&quot;JTable Tester&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JPanel panel = new JPanel(new BorderLayout());\n\n        DefaultTableModel dtm = new DefaultTableModel(datas, colNames);\n        JTable table = new JTable(dtm);\n\n        table.getColumn(&quot;ChkBox&quot;).setCellRenderer(dcr);\n\n        JCheckBox box = new JCheckBox();\n        box.setHorizontalAlignment(JLabel.CENTER);\n        box.addItemListener(new ItemListener() {\n\n            @Override\n            public void itemStateChanged(ItemEvent e) {\n                System.out.println(&quot;Checkbox selected : &quot; + box.isSelected());\n            }\n        });\n\n        table.getColumn(&quot;ChkBox&quot;).setCellEditor(new DefaultCellEditor(box));\n\n        JScrollPane pane = new JScrollPane(table);\n        panel.add(pane);\n        setContentPane(panel);\n        pack();\n        setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        new TableTest();\n    }\n\n    DefaultTableCellRenderer dcr = new DefaultTableCellRenderer() {\n        public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n            JCheckBox box = new JCheckBox();\n            box.setBackground(Color.white);\n            box.setSelected(((Boolean) value).booleanValue());\n            box.setHorizontalAlignment(JLabel.CENTER);\n            return box;\n        }\n    }\n\n}\n</code></pre>\n<p>I tried moving the location of the ItemListener inside the CellRenender, but the result was the same.</p>\n<pre><code>DefaultTableCellRenderer dcr = new DefaultTableCellRenderer() {\n    public Component getTableCellRendererComponent(JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column) {\n        JCheckBox box = new JCheckBox();\n        box.setBackground(Color.white);\n        box.setSelected(((Boolean) value).booleanValue());\n        box.setHorizontalAlignment(JLabel.CENTER);\n\n        box.addItemListener(new ItemListener() {\n            @Override\n            public void itemStateChanged(ItemEvent e) {\n                System.out.println(&quot;Checkbox selected : &quot; + box.isSelected());\n            }\n        });\n\n        return box;\n    }\n};\n</code></pre>\n<p>Someone said that the setSelected method was the problem, so I commented out the setSelected method in DefaultTableCellRenderer, but the problem was still there, except that the checkbox was not displayed properly.</p>\n"},{"tags":["java","eclipse","debugging","localhost"],"comments":[{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":0,"creation_date":1395216960,"post_id":22499763,"comment_id":34231207,"body_markdown":"Are you trying to use the remote debugger? Don&#39;t do that if you don&#39;t have to. How do you start your program for debugging?","body":"Are you trying to use the remote debugger? Don&#39;t do that if you don&#39;t have to. How do you start your program for debugging?"},{"owner":{"account_id":1028612,"reputation":1675,"user_id":1037363,"accept_rate":20,"display_name":"Prasobh.Kollattu"},"score":1,"creation_date":1395217165,"post_id":22499763,"comment_id":34231311,"body_markdown":"Could you please post the error trace.Which server you are using ?.Ideally the project source added to the server for debugging and the skip debugging option should not be enabled.","body":"Could you please post the error trace.Which server you are using ?.Ideally the project source added to the server for debugging and the skip debugging option should not be enabled."},{"owner":{"account_id":4194923,"reputation":41,"user_id":3436553,"display_name":"user3436553"},"score":0,"creation_date":1395217545,"post_id":22499763,"comment_id":34231491,"body_markdown":"Well, I just click on the debug button (F11). I never configured anything for the debugging.","body":"Well, I just click on the debug button (F11). I never configured anything for the debugging."},{"owner":{"account_id":4194923,"reputation":41,"user_id":3436553,"display_name":"user3436553"},"score":0,"creation_date":1395218352,"post_id":22499763,"comment_id":34231924,"body_markdown":"I&#39;m kinda new to eclipse. I just downloaded it and began learning java programming. I just set a breakpoint and click on the debug button. After I click on the resume, it shows the error I mentioned in the debug window and doesn&#39;t let me resume again or see the values of the variables. The resume button etc become grey and can&#39;t be clicked anymore. I never configured it to use the so-called remote debugger. I just click on the debug button.","body":"I&#39;m kinda new to eclipse. I just downloaded it and began learning java programming. I just set a breakpoint and click on the debug button. After I click on the resume, it shows the error I mentioned in the debug window and doesn&#39;t let me resume again or see the values of the variables. The resume button etc become grey and can&#39;t be clicked anymore. I never configured it to use the so-called remote debugger. I just click on the debug button."}],"owner":{"account_id":4194923,"reputation":41,"user_id":3436553,"display_name":"user3436553"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1541,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1698239174,"creation_date":1395216668,"question_id":22499763,"body_markdown":"Whenever I set a breakpoint in eclipse (java), and resume it, it gives an error in the debug window:\r\n\r\n    &lt;disconnected&gt; MyProgram at localhost:20878\r\n\r\nThe number after &quot;localhost&quot; is random and changes each time I debug. This is really preventing me from making my projects.\r\nI searched the web a lot and couldn&#39;t find an answer for my problem.\r\n","title":"Port of localhost keeps changing during Eclipse debugging","body":"<p>Whenever I set a breakpoint in eclipse (java), and resume it, it gives an error in the debug window:</p>\n<pre><code>&lt;disconnected&gt; MyProgram at localhost:20878\n</code></pre>\n<p>The number after &quot;localhost&quot; is random and changes each time I debug. This is really preventing me from making my projects.\nI searched the web a lot and couldn't find an answer for my problem.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":28518496,"reputation":11,"user_id":21827545,"display_name":"Nofer"},"score":0,"creation_date":1698241345,"post_id":77359744,"comment_id":136380205,"body_markdown":"I would like to have a convenient way to get the ID of a related entity. Now the `getUserId` method is the most convenient.\nThere&#39;s another way\n```@Column(name = &quot;user_id&quot;, insertable = false, updatable = false)\n    private Long userId;```\nbut in this case there will be a duplication of the column user_id","body":"I would like to have a convenient way to get the ID of a related entity. Now the <code>getUserId</code> method is the most convenient. There&#39;s another way <code>@Column(name = &quot;user_id&quot;, insertable = false, updatable = false)     private Long userId;</code> but in this case there will be a duplication of the column user_id"},{"owner":{"account_id":28518496,"reputation":11,"user_id":21827545,"display_name":"Nofer"},"score":0,"creation_date":1698241753,"post_id":77359744,"comment_id":136380319,"body_markdown":"`List&lt;Post&gt; findAllByUser_Id(Long id);` - works, but it looks worse than `_getUserId()`","body":"<code>List&lt;Post&gt; findAllByUser_Id(Long id);</code> - works, but it looks worse than <code>_getUserId()</code>"}],"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698239062,"creation_date":1698239062,"answer_id":77359744,"question_id":77358108,"body_markdown":"I presume you want to get the posts made by a user (given a user id). Hence the statement\r\n\r\n&gt; 2. I know I can use a method findAllByUser(User user), but I&#39;m interested\r\n&gt; in getting an entity by id\r\n\r\nI suggest you remove the method `getUserId()` from `Post`. \r\n\r\n`List&lt;Post&gt; findAllByUserId(Long id);` will still work despite not having the method `getUserId()` in `Post`.\r\n\r\nYou can also rename it to `List&lt;Post&gt; findAllByUser_Id(Long id);` as well, to highlight that the `Id` is from the entity `User`.\r\n\r\nFor more info on how spring does it, best to refer to the [spring data jpa&#39;s documentation][1]. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions","title":"Spring JPA derived queries when entity has getter for associated entity id","body":"<p>I presume you want to get the posts made by a user (given a user id). Hence the statement</p>\n<blockquote>\n<ol start=\"2\">\n<li>I know I can use a method findAllByUser(User user), but I'm interested\nin getting an entity by id</li>\n</ol>\n</blockquote>\n<p>I suggest you remove the method <code>getUserId()</code> from <code>Post</code>.</p>\n<p><code>List&lt;Post&gt; findAllByUserId(Long id);</code> will still work despite not having the method <code>getUserId()</code> in <code>Post</code>.</p>\n<p>You can also rename it to <code>List&lt;Post&gt; findAllByUser_Id(Long id);</code> as well, to highlight that the <code>Id</code> is from the entity <code>User</code>.</p>\n<p>For more info on how spring does it, best to refer to the <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-property-expressions\" rel=\"nofollow noreferrer\">spring data jpa's documentation</a>.</p>\n"}],"owner":{"account_id":28518496,"reputation":11,"user_id":21827545,"display_name":"Nofer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698239062,"creation_date":1698224898,"question_id":77358108,"body_markdown":"I have two entities\r\n\r\n```\r\n@Entity\r\npublic class Post{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public Long id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n}\r\n\r\n\r\n@Entity\r\npublic class User{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public Long id;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    private List&lt;Post&gt; posts= new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\nthere is also a repository\r\n\r\n\r\n```\r\n@Repository\r\npublic interface PostRepository extends JpaRepository&lt;Post, Long&gt; {\r\n  List&lt;Post&gt; findAllByUserId(Long id);\r\n}\r\n```\r\n\r\nit all works. But when I need to get the id Post.user.id and I add a method to the class Post\r\n\r\n```\r\npublic Long getUserId(){\r\n        return user== null ? null : user.getId();\r\n    }\r\n```\r\nthen the method findAllByUserId stops working (IllegalArgumentException: Unable to locate Attribute  with the the given name UserId).\r\nIs there a way to overcome this error? Or is there a more convenient method to get the ID of a related entity?\r\n\r\n\r\n\r\n1) I tried putting an annotation @Transient on the method getUserId, it didn&#39;t help\r\n2) I know I can use a method findAllByUser(User user), but I&#39;m interested in getting an entity by id\r\n3) I know I can use @Query but that would be too verbose\r\n4) the only way I found is to rename the method, for example call it _getUserId, but maybe there is another way?","title":"Spring JPA derived queries when entity has getter for associated entity id","body":"<p>I have two entities</p>\n<pre><code>@Entity\npublic class Post{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n}\n\n\n@Entity\npublic class User{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public Long id;\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    private List&lt;Post&gt; posts= new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>there is also a repository</p>\n<pre><code>@Repository\npublic interface PostRepository extends JpaRepository&lt;Post, Long&gt; {\n  List&lt;Post&gt; findAllByUserId(Long id);\n}\n</code></pre>\n<p>it all works. But when I need to get the id Post.user.id and I add a method to the class Post</p>\n<pre><code>public Long getUserId(){\n        return user== null ? null : user.getId();\n    }\n</code></pre>\n<p>then the method findAllByUserId stops working (IllegalArgumentException: Unable to locate Attribute  with the the given name UserId).\nIs there a way to overcome this error? Or is there a more convenient method to get the ID of a related entity?</p>\n<ol>\n<li>I tried putting an annotation @Transient on the method getUserId, it didn't help</li>\n<li>I know I can use a method findAllByUser(User user), but I'm interested in getting an entity by id</li>\n<li>I know I can use @Query but that would be too verbose</li>\n<li>the only way I found is to rename the method, for example call it _getUserId, but maybe there is another way?</li>\n</ol>\n"},{"tags":["java","android","android-webview"],"comments":[{"owner":{"account_id":13680618,"reputation":514,"user_id":9871059,"display_name":"Blind Kai"},"score":0,"creation_date":1565385917,"post_id":57436954,"comment_id":101352043,"body_markdown":"I just tried to run your code and it works fine. The only problem that I know was about HTTP/HTTPS but in my case both worked properly. Maybe you would be able to get solution here: [link](https://stackoverflow.com/a/26977516/9871059)","body":"I just tried to run your code and it works fine. The only problem that I know was about HTTP/HTTPS but in my case both worked properly. Maybe you would be able to get solution here: <a href=\"https://stackoverflow.com/a/26977516/9871059\">link</a>"},{"owner":{"account_id":16395581,"reputation":39,"user_id":11843229,"display_name":"personX"},"score":0,"creation_date":1565386114,"post_id":57436954,"comment_id":101352102,"body_markdown":"Did www.google.com actually show up or did an empty screen show?","body":"Did www.google.com actually show up or did an empty screen show?"},{"owner":{"account_id":13680618,"reputation":514,"user_id":9871059,"display_name":"Blind Kai"},"score":0,"creation_date":1565386158,"post_id":57436954,"comment_id":101352117,"body_markdown":"for me it works even without URL changes. I had problems with SSL certificate previously in other page.","body":"for me it works even without URL changes. I had problems with SSL certificate previously in other page."},{"owner":{"account_id":16395581,"reputation":39,"user_id":11843229,"display_name":"personX"},"score":0,"creation_date":1565386816,"post_id":57436954,"comment_id":101352300,"body_markdown":"which ssl certificate? what does that mean? how can i fix it in my code?","body":"which ssl certificate? what does that mean? how can i fix it in my code?"},{"owner":{"account_id":13680618,"reputation":514,"user_id":9871059,"display_name":"Blind Kai"},"score":0,"creation_date":1565387169,"post_id":57436954,"comment_id":101352395,"body_markdown":"You could check the link in previous comment. It solves most number of problems with that. Otherwise I don&#39;t know how to help.","body":"You could check the link in previous comment. It solves most number of problems with that. Otherwise I don&#39;t know how to help."},{"owner":{"account_id":16395581,"reputation":39,"user_id":11843229,"display_name":"personX"},"score":0,"creation_date":1565387211,"post_id":57436954,"comment_id":101352407,"body_markdown":"I can see the url when I run it in terminal but the url is not actually showing up on an android screen. Just a blank screen.","body":"I can see the url when I run it in terminal but the url is not actually showing up on an android screen. Just a blank screen."},{"owner":{"account_id":16395581,"reputation":39,"user_id":11843229,"display_name":"personX"},"score":0,"creation_date":1565388982,"post_id":57436954,"comment_id":101352778,"body_markdown":"I fixed it. I had to have my webview in relative layout. Thanks though.","body":"I fixed it. I had to have my webview in relative layout. Thanks though."}],"answers":[{"tags":[],"owner":{"account_id":2428017,"reputation":79,"user_id":2119557,"display_name":"User23"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565389159,"creation_date":1565389159,"answer_id":57437723,"question_id":57436954,"body_markdown":"I too tried your Code. it is working fine and good.There may be a chances of issue in fragmentManager. Did you checked the view is visible or not","title":"Android webview not loading url?","body":"<p>I too tried your Code. it is working fine and good.There may be a chances of issue in fragmentManager. Did you checked the view is visible or not</p>\n"}],"owner":{"account_id":16395581,"reputation":39,"user_id":11843229,"display_name":"personX"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1698239029,"creation_date":1565383710,"question_id":57436954,"body_markdown":"I have a webview set up but when I click on the item, an empty fragment shows up where the actual web item is supposed to be. I have tried loading my urls on mobile browser and they work fine. I have an internet permission in android manifest. \r\n\r\nweb view layout file\r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.activities.HomeActivity&quot;&gt;\r\n\r\n    &lt;WebView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/webView&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nwebview fragment\r\n```\r\npublic class WebViewDetailsFragment extends Fragment {\r\n\r\n    private WebView detailsWebView;\r\n    private String articleSource;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_web_view_details, container, false);\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        detailsWebView = view.findViewById(R.id.webView);\r\n        detailsWebView.getSettings().setLoadsImagesAutomatically(true);\r\n        detailsWebView.getSettings().setJavaScriptEnabled(true);\r\n        detailsWebView.getSettings().setUseWideViewPort(true);\r\n        detailsWebView.getSettings().setLoadWithOverviewMode(true);\r\n        detailsWebView.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);\r\n        // Configure the client to use when opening URLs\r\n        detailsWebView.setWebViewClient(new WebViewClient());\r\n        setItems();\r\n        detailsWebView.loadUrl(articleSource);\r\n\r\n\r\n    }\r\n\r\n    private void setItems(){\r\n        NewsArticle newsArticle = NewsFragment.news.get(NewsAdapter.pos);\r\n        articleSource = &quot;https://www.google.com&quot;;\r\n    }\r\n}\r\n```","title":"Android webview not loading url?","body":"<p>I have a webview set up but when I click on the item, an empty fragment shows up where the actual web item is supposed to be. I have tried loading my urls on mobile browser and they work fine. I have an internet permission in android manifest. </p>\n\n<p>web view layout file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".activities.HomeActivity\"&gt;\n\n    &lt;WebView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/webView\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p>webview fragment</p>\n\n<pre><code>public class WebViewDetailsFragment extends Fragment {\n\n    private WebView detailsWebView;\n    private String articleSource;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_web_view_details, container, false);\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        detailsWebView = view.findViewById(R.id.webView);\n        detailsWebView.getSettings().setLoadsImagesAutomatically(true);\n        detailsWebView.getSettings().setJavaScriptEnabled(true);\n        detailsWebView.getSettings().setUseWideViewPort(true);\n        detailsWebView.getSettings().setLoadWithOverviewMode(true);\n        detailsWebView.setScrollBarStyle(View.SCROLLBARS_INSIDE_OVERLAY);\n        // Configure the client to use when opening URLs\n        detailsWebView.setWebViewClient(new WebViewClient());\n        setItems();\n        detailsWebView.loadUrl(articleSource);\n\n\n    }\n\n    private void setItems(){\n        NewsArticle newsArticle = NewsFragment.news.get(NewsAdapter.pos);\n        articleSource = \"https://www.google.com\";\n    }\n}\n</code></pre>\n"},{"tags":["java","githooks","pre-commit-hook","pre-commit","spotbugs"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697023325,"post_id":77272312,"comment_id":136226604,"body_markdown":"This is a copy of [your old question](https://stackoverflow.com/q/77259533/8681) but it&#39;s much better written this time. Good!","body":"This is a copy of <a href=\"https://stackoverflow.com/q/77259533/8681\">your old question</a> but it&#39;s much better written this time. Good!"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697023488,"post_id":77272312,"comment_id":136226655,"body_markdown":"Can you try running Spotbugs using your build system (probably Gradle)? Then you can simply check the process exit code to determine success.","body":"Can you try running Spotbugs using your build system (probably Gradle)? Then you can simply check the process exit code to determine success."},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1697028153,"post_id":77272312,"comment_id":136227572,"body_markdown":"Thanks @Jorn, I tried from build and it is showing errors but need to do it on commit as per the requirement.","body":"Thanks @Jorn, I tried from build and it is showing errors but need to do it on commit as per the requirement."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1697028204,"post_id":77272312,"comment_id":136227583,"body_markdown":"Yes. My suggestion was to run the Gradle task *from inside the commit hook script*.","body":"Yes. My suggestion was to run the Gradle task <i>from inside the commit hook script</i>."},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1697028636,"post_id":77272312,"comment_id":136227673,"body_markdown":"yes, I will try it Thanks. running above single command is simple. Any idea why I am getting that error.","body":"yes, I will try it Thanks. running above single command is simple. Any idea why I am getting that error."},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1697029445,"post_id":77272312,"comment_id":136227850,"body_markdown":"if I run same command using cmd it is working and generating the report","body":"if I run same command using cmd it is working and generating the report"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1697030695,"post_id":77272312,"comment_id":136228157,"body_markdown":"`.jar` files cannot be executed directly. You need to run a jar file with `java -jar path/to/jar`. The error &quot;line 1: PK\\003\\004&quot; shows that you are trying to run the jar as executable or script and this won&#39;t work. Note that you don&#39;t need `bash` to run the script, `sh` will do just fine. Additionally, you should quote parameters when expanding!","body":"<code>.jar</code> files cannot be executed directly. You need to run a jar file with <code>java -jar path&#47;to&#47;jar</code>. The error &quot;line 1: PK\\003\\004&quot; shows that you are trying to run the jar as executable or script and this won&#39;t work. Note that you don&#39;t need <code>bash</code> to run the script, <code>sh</code> will do just fine. Additionally, you should quote parameters when expanding!"},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1697031223,"post_id":77272312,"comment_id":136228276,"body_markdown":"Thanks @knittl, when I tried java -jar, it got stuck. bash script is the ask and we are using windows.","body":"Thanks @knittl, when I tried java -jar, it got stuck. bash script is the ask and we are using windows."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1697031776,"post_id":77272312,"comment_id":136228398,"body_markdown":"What does &quot;bash script is the ask&quot; mean? Windows doesn&#39;t really matter, since your script is defined to be interpreted by `/bin/bash` (but it doesn&#39;t use any bash features, so `/bin/sh` should suffice). What does &quot;stuck&quot; mean? Can you execute the jar manually? If so, the same command should work in a script","body":"What does &quot;bash script is the ask&quot; mean? Windows doesn&#39;t really matter, since your script is defined to be interpreted by <code>&#47;bin&#47;bash</code> (but it doesn&#39;t use any bash features, so <code>&#47;bin&#47;sh</code> should suffice). What does &quot;stuck&quot; mean? Can you execute the jar manually? If so, the same command should work in a script"},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1697032784,"post_id":77272312,"comment_id":136228652,"body_markdown":"Ok got it, I changed to sh and Yes, able to execute it manually from cmd without using java -jar and it is working. Same is falling while committing the code. with above error. Thank you","body":"Ok got it, I changed to sh and Yes, able to execute it manually from cmd without using java -jar and it is working. Same is falling while committing the code. with above error. Thank you"},{"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"score":0,"creation_date":1697032935,"post_id":77272312,"comment_id":136228686,"body_markdown":"when I tried with java -jar nothing is happing and I have to close the git bash terminal, it hang","body":"when I tried with java -jar nothing is happing and I have to close the git bash terminal, it hang"}],"answers":[{"tags":[],"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698238853,"creation_date":1698238853,"answer_id":77359713,"question_id":77272312,"body_markdown":"#Run SpotBugs\r\n\r\n    **java -jar** $SPOTBUGS_PATH -textui -effort:max -xml=outReport.xml $PROJECT_PATH\r\n\r\nWe have to use java -jar to execute the spotbug jar file.\r\n\r\n@knittl you are correct we have to use java -jar, it was taking time because first time it is generating around 31 MB file.\r\n\r\nTo reduce the file use below, it reduced to 200 kb.\r\n\r\n&gt; -nested:false\r\n\r\nThe entire working script:\r\n\r\n    #!/bin/sh\r\n    \r\n    # Define the location of your project&#39;s source code\r\n    PROJECT_PATH=/project/location\r\n    \r\n    # Define the location of the SpotBugs executable\r\n    SPOTBUGS_PATH=/spotbug/path\r\n    \r\n    #current Date\r\n    NOW=$(date +&quot;%m%d%Y%H%M%S&quot;)\r\n    \r\n    echo &quot;SPOTBUGS_PATH: $SPOTBUGS_PATH&quot;\r\n    echo &quot;PROJECT_PATH: $PROJECT_PATH&quot;\r\n    echo &quot;Current_Date: $NOW&quot;\r\n    \r\n    #Run SpotBugs\r\n    java -jar $SPOTBUGS_PATH -textui -effort:max -xml=bugReport_$NOW.xml -nested:false $PROJECT_PATH\r\n    \r\n    \r\n    # Check if SpotBugs found any issues\r\n    if [ $? -eq 0 ]; then\r\n    \r\n      echo &quot;No SpotBugs issues found.&quot;\r\n    \r\n      exit 0\r\n    \r\n    else\r\n    \r\n      echo &quot;Found issues&quot;\r\n    \r\n      exit 1\r\n    \r\n    fi\r\n\r\n\r\n","title":"pre commit script for code review using spotbug","body":"<p>#Run SpotBugs</p>\n<pre><code>**java -jar** $SPOTBUGS_PATH -textui -effort:max -xml=outReport.xml $PROJECT_PATH\n</code></pre>\n<p>We have to use java -jar to execute the spotbug jar file.</p>\n<p>@knittl you are correct we have to use java -jar, it was taking time because first time it is generating around 31 MB file.</p>\n<p>To reduce the file use below, it reduced to 200 kb.</p>\n<blockquote>\n<p>-nested:false</p>\n</blockquote>\n<p>The entire working script:</p>\n<pre><code>#!/bin/sh\n\n# Define the location of your project's source code\nPROJECT_PATH=/project/location\n\n# Define the location of the SpotBugs executable\nSPOTBUGS_PATH=/spotbug/path\n\n#current Date\nNOW=$(date +&quot;%m%d%Y%H%M%S&quot;)\n\necho &quot;SPOTBUGS_PATH: $SPOTBUGS_PATH&quot;\necho &quot;PROJECT_PATH: $PROJECT_PATH&quot;\necho &quot;Current_Date: $NOW&quot;\n\n#Run SpotBugs\njava -jar $SPOTBUGS_PATH -textui -effort:max -xml=bugReport_$NOW.xml -nested:false $PROJECT_PATH\n\n\n# Check if SpotBugs found any issues\nif [ $? -eq 0 ]; then\n\n  echo &quot;No SpotBugs issues found.&quot;\n\n  exit 0\n\nelse\n\n  echo &quot;Found issues&quot;\n\n  exit 1\n\nfi\n</code></pre>\n"}],"owner":{"account_id":7682828,"reputation":504,"user_id":5821591,"accept_rate":40,"display_name":"Hitesh Kumar"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698238853,"creation_date":1697021148,"question_id":77272312,"body_markdown":"I am trying to write a script for a code review using a pre-commit hook. I am looking for a script that will run on every commit and perform the code review using SpotBugs or a similar tool. I have already tried the SpotBugs command-line `spotbugs-4.7.3\\lib\\spotbugs.jar`. My project is in Java 8, and I am using Windows. Thanks.\r\n\r\npre-commit script for code review using spotBug:\r\n\r\n    #!/bin/bash\r\n    # Run SpotBugs on Java files to check for issues before committing.\r\n    # SpotBugs executable location\r\n    SPOTBUGS_PATH=/spotbug/path\r\n    \r\n    # your project&#39;s source code location\r\n    PROJECT_PATH=/your/project\r\n        \r\n    echo &quot;SPOTBUGS_PATH: $SPOTBUGS_PATH&quot;\r\n    echo &quot;PROJECT_PATH: $PROJECT_PATH&quot;\r\n    \r\n    #Run SpotBugs\r\n    $SPOTBUGS_PATH -textui -effort:max -xml=outReport.xml $PROJECT_PATH\r\n    \r\n    \r\n    # Check for any issues\r\n    if [ $? -eq 0 ]; then\r\n    \r\n      echo &quot;No bugs found.&quot;\r\n    \r\n      exit 0\r\n    \r\n    else\r\n    \r\n      echo &quot;Bugs found . Commit aborted.&quot;\r\n    \r\n      exit 1\r\n    \r\n    fi\r\n\r\nAfter running this I am getting an empty file. if I tried manually it is showing around 600 bugs. looking for correct script which will review and generate outfile.\r\n\r\nError while committing the files:\r\n\r\n    /spotbugs.jar: line 1: $&#39;PK\\003\\004&#39;: command not found\r\n    /spotbugs.jar: line 2: $&#39;\\b\\bA\\002&#39;: command not found\r\n    /spotbugs.jar: line 3: syntax error near unexpected token `)&#39;\r\n    /spotbugs.jar: line 3: `A���META-INF/MANIFEST.MFmRۮ�0|����+�};!�D����&amp;�|�|A��ٸ\t͑x�gǳ3#�ɪ�~I���C�UY�IY��)��A\t�P�*;\\��+%+��y�n������,^��|*u�۲�2��t:P0 �1�8b�7�KQ�7Y��ڳ��` z)���EH��*_oB�,b]���m�:��X���fh3�=2��V�k�c-��:�Awg��&#39;�Y�^܍�28�[z�k���@��h�qZI{�1+=�}�n@��e�ce�]\\��gʃ1����&amp;�;+I�96�ڍ,&#39;��K��VP�m�s���O�c��b��&amp;?�aj��f�\t?1�,ewXջY)��A���~�0�m@�Y��\tg�j|W/):�y�ݐ�{}##O�,�*N�[5�eQPK&#39;\r\n    SpotBugs found issues. Commit aborted.","title":"pre commit script for code review using spotbug","body":"<p>I am trying to write a script for a code review using a pre-commit hook. I am looking for a script that will run on every commit and perform the code review using SpotBugs or a similar tool. I have already tried the SpotBugs command-line <code>spotbugs-4.7.3\\lib\\spotbugs.jar</code>. My project is in Java 8, and I am using Windows. Thanks.</p>\n<p>pre-commit script for code review using spotBug:</p>\n<pre><code>#!/bin/bash\n# Run SpotBugs on Java files to check for issues before committing.\n# SpotBugs executable location\nSPOTBUGS_PATH=/spotbug/path\n\n# your project's source code location\nPROJECT_PATH=/your/project\n    \necho &quot;SPOTBUGS_PATH: $SPOTBUGS_PATH&quot;\necho &quot;PROJECT_PATH: $PROJECT_PATH&quot;\n\n#Run SpotBugs\n$SPOTBUGS_PATH -textui -effort:max -xml=outReport.xml $PROJECT_PATH\n\n\n# Check for any issues\nif [ $? -eq 0 ]; then\n\n  echo &quot;No bugs found.&quot;\n\n  exit 0\n\nelse\n\n  echo &quot;Bugs found . Commit aborted.&quot;\n\n  exit 1\n\nfi\n</code></pre>\n<p>After running this I am getting an empty file. if I tried manually it is showing around 600 bugs. looking for correct script which will review and generate outfile.</p>\n<p>Error while committing the files:</p>\n<pre><code>/spotbugs.jar: line 1: $'PK\\003\\004': command not found\n/spotbugs.jar: line 2: $'\\b\\bA\\002': command not found\n/spotbugs.jar: line 3: syntax error near unexpected token `)'\n/spotbugs.jar: line 3: `A���META-INF/MANIFEST.MFmRۮ�0|����+�};!�D����&amp;�|�|A��ٸ  ͑x�gǳ3#�ɪ�~I���C�UY�IY��)��A    �P�*;\\��+%+��y�n������,^��|*u�۲�2��t:P0 �1�8b�7�KQ�7Y��ڳ��` z)���EH��*_oB�,b]���m�:��X���fh3�=2��V�k�c-��:�Awg��'�Y�^܍�28�[z�k���@��h�qZI{�1+=�}�n@��e�ce�]\\��gʃ1����&amp;�;+I�96�ڍ,'��K��VP�m�s���O�c��b��&amp;?�aj��f�    ?1�,ewXջY)��A���~�0�m@�Y��  g�j|W/):�y�ݐ�{}##O�,�*N�[5�eQPK'\nSpotBugs found issues. Commit aborted.\n</code></pre>\n"},{"tags":["java","web-services"],"owner":{"account_id":20769216,"reputation":1,"user_id":22801026,"display_name":"Charan Kodela"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698238426,"creation_date":1698238426,"question_id":77359649,"body_markdown":"I am a novice in programming. Currently we have a service that will be triggered only with the click of a button that generates a Id. but my team wants to create a webservice to run it as a webservice. How do i create a shadow service from the same one.\r\n\r\nDon&#39;t know how to do it.","title":"How do i create a web service from on Demand Service?","body":"<p>I am a novice in programming. Currently we have a service that will be triggered only with the click of a button that generates a Id. but my team wants to create a webservice to run it as a webservice. How do i create a shadow service from the same one.</p>\n<p>Don't know how to do it.</p>\n"},{"tags":["java","rsa","x509certificate","x509","signing"],"comments":[{"owner":{"account_id":5669864,"reputation":412,"user_id":4484851,"display_name":"Sam"},"score":0,"creation_date":1436298209,"post_id":31275509,"comment_id":50549620,"body_markdown":"Thanks for replying,Yes I added the code in question itself. Its failing when unmarshal happening only for client signed xml.But if I use any unsigned xml file with same certificate,do sign and validate it is giving above error.","body":"Thanks for replying,Yes I added the code in question itself. Its failing when unmarshal happening only for client signed xml.But if I use any unsigned xml file with same certificate,do sign and validate it is giving above error."},{"owner":{"account_id":886454,"reputation":1935,"user_id":925792,"accept_rate":68,"display_name":"Pat B"},"score":0,"creation_date":1436298645,"post_id":31275509,"comment_id":50549877,"body_markdown":"look [here][1]\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/10594000/when-i-try-to-convert-a-string-with-certificate-exception-is-raised\r\nI think it will solve your problem.","body":"look [here][1]        [1]: <a href=\"http://stackoverflow.com/questions/10594000/when-i-try-to-convert-a-string-with-certificate-exception-is-raised\" title=\"when i try to convert a string with certificate exception is raised\">stackoverflow.com/questions/10594000/&hellip;</a>  I think it will solve your problem."},{"owner":{"account_id":5669864,"reputation":412,"user_id":4484851,"display_name":"Sam"},"score":0,"creation_date":1436299049,"post_id":31275509,"comment_id":50550115,"body_markdown":"1.Thanks for replying but it&#39;s related with SSL connection which I doesnt need,2.This is earlier comment edit &quot;But if I use any unsigned xml file with same certificate,do sign and validate it is working.&quot; typo issue.","body":"1.Thanks for replying but it&#39;s related with SSL connection which I doesnt need,2.This is earlier comment edit &quot;But if I use any unsigned xml file with same certificate,do sign and validate it is working.&quot; typo issue."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1583886955,"post_id":31275509,"comment_id":107262059,"body_markdown":"The certificate is empty in the XML. What&#39;s does the XML look like? How was it created?","body":"The certificate is empty in the XML. What&#39;s does the XML look like? How was it created?"}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1583886904,"post_id":31520011,"comment_id":107262051,"body_markdown":"None of this addresses an empty certificate in the XML.","body":"None of this addresses an empty certificate in the XML."}],"tags":[],"owner":{"account_id":5669864,"reputation":412,"user_id":4484851,"display_name":"Sam"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1437405281,"creation_date":1437404889,"answer_id":31520011,"question_id":31275509,"body_markdown":"After going through so many blogs nothing helped as such. Finally we confirmed the way client is doing his encryption and used the same jars used for our verification. I am not sure if this is correct answer or not but may help somebody who is trying hard to resolve this issue. \r\nIt may give you some clue if not able to resolve above error after going through many sites.\r\nSo try to use same jars which used for client encryption and get the compatible private key for your public key and add to pk12 file. Convert pk12 to jks which you can use for encryption and verification too which resolved our issue.\r\nSome process too\r\n\r\n    #**Create PKCS12 keystore from private key and public certificate.**\r\n    openssl pkcs12 -export -name myservercert -in selfsigned.crt -inkey server.key -out keystore.p12\r\n    #**Convert PKCS12 keystore into a JKS keystore**\r\n    keytool -importkeystore -destkeystore mykeystore.jks -srckeystore keystore.p12 -srcstoretype pkcs12 -alias myservercer\r\n\r\nGood luck guys.","title":"Could not parse certificate: java.io.IOException: Empty input X509Certificate","body":"<p>After going through so many blogs nothing helped as such. Finally we confirmed the way client is doing his encryption and used the same jars used for our verification. I am not sure if this is correct answer or not but may help somebody who is trying hard to resolve this issue. \nIt may give you some clue if not able to resolve above error after going through many sites.\nSo try to use same jars which used for client encryption and get the compatible private key for your public key and add to pk12 file. Convert pk12 to jks which you can use for encryption and verification too which resolved our issue.\nSome process too</p>\n\n<pre><code>#**Create PKCS12 keystore from private key and public certificate.**\nopenssl pkcs12 -export -name myservercert -in selfsigned.crt -inkey server.key -out keystore.p12\n#**Convert PKCS12 keystore into a JKS keystore**\nkeytool -importkeystore -destkeystore mykeystore.jks -srckeystore keystore.p12 -srcstoretype pkcs12 -alias myservercer\n</code></pre>\n\n<p>Good luck guys.</p>\n"},{"comments":[{"owner":{"account_id":200910,"reputation":3887,"user_id":447040,"accept_rate":66,"display_name":"Gobliins"},"score":0,"creation_date":1478521030,"post_id":37154775,"comment_id":68174225,"body_markdown":"Hi, can you clarify this a bit more?","body":"Hi, can you clarify this a bit more?"},{"owner":{"account_id":1853395,"reputation":477,"user_id":1679446,"display_name":"israelC"},"score":7,"creation_date":1480836815,"post_id":37154775,"comment_id":69122420,"body_markdown":"Yeah, sure! The issue in my case was that I was trying to parse to a X509Certificate from a String that it wasn&#39;t a X509Certificate. It was a Base64 string that contains the data of the certificate so in order to parse it, I had to decode the string previously and then parse it to a X509.","body":"Yeah, sure! The issue in my case was that I was trying to parse to a X509Certificate from a String that it wasn&#39;t a X509Certificate. It was a Base64 string that contains the data of the certificate so in order to parse it, I had to decode the string previously and then parse it to a X509."},{"owner":{"account_id":2695789,"reputation":3222,"user_id":2327879,"accept_rate":78,"display_name":"Erica Kane"},"score":2,"creation_date":1540430611,"post_id":37154775,"comment_id":92866408,"body_markdown":"To clarify this further, I used `Base64.getDecoder().decode(certString)` successfully when I got this error message.","body":"To clarify this further, I used <code>Base64.getDecoder().decode(certString)</code> successfully when I got this error message."}],"tags":[],"owner":{"account_id":1853395,"reputation":477,"user_id":1679446,"display_name":"israelC"},"comment_count":3,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1462948571,"creation_date":1462948571,"answer_id":37154775,"question_id":31275509,"body_markdown":"It&#39;s been a while since this post but I came here looking for this issue. In my case, the key was that the certificate was in a Base64-String.getBytes[] instead of a DECODED-Base64-String.getBytes[].\r\n\r\nHope it helps someone :)","title":"Could not parse certificate: java.io.IOException: Empty input X509Certificate","body":"<p>It's been a while since this post but I came here looking for this issue. In my case, the key was that the certificate was in a Base64-String.getBytes[] instead of a DECODED-Base64-String.getBytes[].</p>\n\n<p>Hope it helps someone :)</p>\n"},{"tags":[],"owner":{"account_id":13150033,"reputation":1514,"user_id":9498942,"display_name":"Filip Hanik VMware"},"comment_count":0,"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1576776225,"creation_date":1576776225,"answer_id":59414318,"question_id":31275509,"body_markdown":"Error can be as simple as not having the **BEGIN** and **END** tags in your certificate set. \r\n\r\n\r\n    -----BEGIN CERTIFICATE-----\r\n    your cert data here\r\n    -----END CERTIFICATE-----","title":"Could not parse certificate: java.io.IOException: Empty input X509Certificate","body":"<p>Error can be as simple as not having the <strong>BEGIN</strong> and <strong>END</strong> tags in your certificate set. </p>\n\n<pre><code>-----BEGIN CERTIFICATE-----\nyour cert data here\n-----END CERTIFICATE-----\n</code></pre>\n"},{"tags":[],"owner":{"account_id":356125,"reputation":481,"user_id":695455,"accept_rate":50,"display_name":"Martin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698238196,"creation_date":1698238196,"answer_id":77359624,"question_id":31275509,"body_markdown":"The error occurs when the content of the certificate is not correct.\r\nReference:\r\n[enter link description here][1]\r\n\r\n\r\n  [1]: https://support.okta.com/help/s/question/0D54z0000747vWjCAI/received-error-error-please-review-the-form-to-correct-the-following-errors-there-was-an-error-reading-the-certificate-file-could-not-parse-certificate-javaioioexception-empty-input-when-uploading-new-saml-cert?language=en_US","title":"Could not parse certificate: java.io.IOException: Empty input X509Certificate","body":"<p>The error occurs when the content of the certificate is not correct.\nReference:\n<a href=\"https://support.okta.com/help/s/question/0D54z0000747vWjCAI/received-error-error-please-review-the-form-to-correct-the-following-errors-there-was-an-error-reading-the-certificate-file-could-not-parse-certificate-javaioioexception-empty-input-when-uploading-new-saml-cert?language=en_US\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"}],"owner":{"account_id":5669864,"reputation":412,"user_id":4484851,"display_name":"Sam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50514,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":4,"score":22,"last_activity_date":1698238196,"creation_date":1436290211,"question_id":31275509,"body_markdown":"I am getting the error given below when parsing the signature. Anybody has idea why the error is showing?\r\n\r\nNote that: \r\n\r\n   1. Using the same certificate I signed my own XML and verified which is working fine. That mean there is no issue with certificate.\r\n\r\n   2. Client provided signed document not able to validate.\r\n\r\nErrors:\r\n\r\n    Exception in thread &quot;main&quot; javax.xml.crypto.MarshalException: Cannot create X509Certificate\r\n\tat org.jcp.xml.dsig.internal.dom.DOMX509Data.unmarshalX509Certificate(DOMX509Data.java:225)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMX509Data.&lt;init&gt;(DOMX509Data.java:116)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMKeyInfo.&lt;init&gt;(DOMKeyInfo.java:116)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMXMLSignature.&lt;init&gt;(DOMXMLSignature.java:150)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMXMLSignatureFactory.unmarshal(DOMXMLSignatureFactory.java:173)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMXMLSignatureFactory.unmarshalXMLSignature(DOMXMLSignatureFactory.java:137)\r\n\tat com.signing.ValidateSignedXML.main(ValidateSignedXML.java:126)\r\n    Caused by: java.security.cert.CertificateException: Could not parse certificate: java.io.IOException: Empty input\r\n\tat sun.security.provider.X509Factory.engineGenerateCertificate(X509Factory.java:104)\r\n\tat java.security.cert.CertificateFactory.generateCertificate(CertificateFactory.java:339)\r\n\tat org.jcp.xml.dsig.internal.dom.DOMX509Data.unmarshalX509Certificate(DOMX509Data.java:223)\r\n\t... 6 more\r\n    Caused by: java.io.IOException: Empty input\r\n\tat sun.security.provider.X509Factory.engineGenerateCertificate(X509Factory.java:101)\r\n\r\n\r\n**Adding the code here for reference** \r\n\r\n    package com.signing;\r\n    \r\n    import java.io.FileInputStream;\r\n    import java.security.KeyStore;\r\n    import java.security.cert.X509Certificate;\r\n    import java.util.Iterator;\r\n    \r\n    import javax.xml.crypto.dsig.Reference;\r\n    import javax.xml.crypto.dsig.XMLSignature;\r\n    import javax.xml.crypto.dsig.XMLSignatureFactory;\r\n    import javax.xml.crypto.dsig.dom.DOMValidateContext;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    \r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Node;\r\n    import org.w3c.dom.NodeList;\r\n    \r\n    public class ValidateSignedXML {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t * @throws Exception \r\n    \t */\r\n    /**\r\n    \t * @param args\r\n    \t * @throws Exception \r\n    \t */\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\t// Load the KeyStore and get the signing key and certificate.\r\n    \t\tKeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\r\n    \t\tks.load(new FileInputStream(&quot;C:\\\\Program Files\\\\Java\\\\jre1.8.0_31\\\\bin\\\\newstore8.jks&quot;), &quot;changeit7&quot;.toCharArray());\r\n    \t\r\n    \t\t\t\r\n    \t\tKeyStore.PrivateKeyEntry keyEntry =\r\n    \t\t    (KeyStore.PrivateKeyEntry) ks.getEntry\r\n    \t\t        (&quot;newkey8&quot;, new KeyStore.PasswordProtection(&quot;changeit7&quot;.toCharArray()));\r\n    \t\tX509Certificate cert = (X509Certificate) keyEntry.getCertificate();\r\n    \t\tXMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\r\n    \r\n    \t\t\r\n    \t\t//Load the signed document.\r\n    \t\tDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n    \t\tdbf.setNamespaceAware(true);\r\n    \t\tDocument doc = dbf.newDocumentBuilder().parse\r\n    \t\t    (new FileInputStream(&quot;C:\\\\src\\\\com\\\\signing\\\\signed.xml&quot;));\r\n    \t\r\n    \r\n    \t\t// Find Signature element.\r\n    \t\tNodeList nl =\r\n    \t\t    doc.getElementsByTagNameNS(XMLSignature.XMLNS, &quot;Signature&quot;);\r\n    \t\tif (nl.getLength() == 0) {\r\n    \t\t    throw new Exception(&quot;Cannot find Signature element&quot;);\r\n    \t\t}else{\r\n    \t\t\t/*System.out.println(&quot;---- Start of Print Tag ----\\n&quot;);\r\n    \t\t\tfor(int k=0;k&lt;nl.getLength();k++){\r\n    \t             printTags((Node)nl.item(k));\r\n    \t         }\r\n    \t\t\tSystem.out.println(&quot;---- End of Print Tag ----\\n&quot;);*/\r\n    \t\t}\r\n    \r\n    \t\t// Create a DOMValidateContext and specify a KeySelector\r\n    \t\t// and document context.\r\n    \t\tDOMValidateContext valContext = new DOMValidateContext\r\n    \t\t    (new X509KeySelector(), nl.item(0));\r\n    \r\n    \t\t// Unmarshal the XMLSignature.\r\n    \t\tXMLSignature signatures = fac.unmarshalXMLSignature(valContext);\r\n    \r\n    \t\t// Validate the XMLSignature.\r\n    \t\tboolean coreValidity = signatures.validate(valContext);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Signature Validate :&quot;+coreValidity);\r\n    \t\t\r\n    \t\t// Check core validation status.\r\n\t\t\tif (coreValidity == false) {\r\n\t\t\t\tString validateError;\r\n\t\t\t\tvalidateError = &quot;Signature core validation status:false&quot;;\r\n\t\t\t\tboolean sv = signatures.getSignatureValue().validate(valContext);\r\n\t\t\t\tvalidateError = validateError + &quot; | Signature validation status:&quot; + sv;\r\n\t\t\t\tif (sv == false || true) {\r\n\t\t\t\t\tvalidateError = validateError + &quot; | References: &quot;;\r\n\t\t\t\t\t// Check the validation status of each Reference.\r\n\t\t\t\t\tIterator g = signatures.getSignedInfo().getReferences().iterator();\r\n\t\t\t\t\tfor (int j = 0; g.hasNext(); j++) {\r\n    \r\n\t\t\t\t\t\tReference r = (Reference) g.next();\r\n\t\t\t\t\t\tboolean refValid = r.validate(valContext);\r\n\t\t\t\t\t\tvalidateError = validateError + &quot;{ref[&quot; + r.getURI() + &quot;] validity status: &quot; + refValid + &quot;}&quot;;\r\n\t\t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tthrow new Exception(validateError);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Signature passed core validation&quot;);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"Could not parse certificate: java.io.IOException: Empty input X509Certificate","body":"<p>I am getting the error given below when parsing the signature. Anybody has idea why the error is showing?</p>\n\n<p>Note that: </p>\n\n<ol>\n<li><p>Using the same certificate I signed my own XML and verified which is working fine. That mean there is no issue with certificate.</p></li>\n<li><p>Client provided signed document not able to validate.</p></li>\n</ol>\n\n<p>Errors:</p>\n\n<pre><code>Exception in thread \"main\" javax.xml.crypto.MarshalException: Cannot create X509Certificate\nat org.jcp.xml.dsig.internal.dom.DOMX509Data.unmarshalX509Certificate(DOMX509Data.java:225)\nat org.jcp.xml.dsig.internal.dom.DOMX509Data.&lt;init&gt;(DOMX509Data.java:116)\nat org.jcp.xml.dsig.internal.dom.DOMKeyInfo.&lt;init&gt;(DOMKeyInfo.java:116)\nat org.jcp.xml.dsig.internal.dom.DOMXMLSignature.&lt;init&gt;(DOMXMLSignature.java:150)\nat org.jcp.xml.dsig.internal.dom.DOMXMLSignatureFactory.unmarshal(DOMXMLSignatureFactory.java:173)\nat org.jcp.xml.dsig.internal.dom.DOMXMLSignatureFactory.unmarshalXMLSignature(DOMXMLSignatureFactory.java:137)\nat com.signing.ValidateSignedXML.main(ValidateSignedXML.java:126)\nCaused by: java.security.cert.CertificateException: Could not parse certificate: java.io.IOException: Empty input\nat sun.security.provider.X509Factory.engineGenerateCertificate(X509Factory.java:104)\nat java.security.cert.CertificateFactory.generateCertificate(CertificateFactory.java:339)\nat org.jcp.xml.dsig.internal.dom.DOMX509Data.unmarshalX509Certificate(DOMX509Data.java:223)\n... 6 more\nCaused by: java.io.IOException: Empty input\nat sun.security.provider.X509Factory.engineGenerateCertificate(X509Factory.java:101)\n</code></pre>\n\n<p><strong>Adding the code here for reference</strong> </p>\n\n<pre><code>package com.signing;\n\nimport java.io.FileInputStream;\nimport java.security.KeyStore;\nimport java.security.cert.X509Certificate;\nimport java.util.Iterator;\n\nimport javax.xml.crypto.dsig.Reference;\nimport javax.xml.crypto.dsig.XMLSignature;\nimport javax.xml.crypto.dsig.XMLSignatureFactory;\nimport javax.xml.crypto.dsig.dom.DOMValidateContext;\nimport javax.xml.parsers.DocumentBuilderFactory;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Node;\nimport org.w3c.dom.NodeList;\n\npublic class ValidateSignedXML {\n\n    /**\n     * @param args\n     * @throws Exception \n     */\n/**\n     * @param args\n     * @throws Exception \n     */\n    public static void main(String[] args) throws Exception {\n        // TODO Auto-generated method stub\n\n        // Load the KeyStore and get the signing key and certificate.\n        KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());\n        ks.load(new FileInputStream(\"C:\\\\Program Files\\\\Java\\\\jre1.8.0_31\\\\bin\\\\newstore8.jks\"), \"changeit7\".toCharArray());\n\n\n        KeyStore.PrivateKeyEntry keyEntry =\n            (KeyStore.PrivateKeyEntry) ks.getEntry\n                (\"newkey8\", new KeyStore.PasswordProtection(\"changeit7\".toCharArray()));\n        X509Certificate cert = (X509Certificate) keyEntry.getCertificate();\n        XMLSignatureFactory fac = XMLSignatureFactory.getInstance(\"DOM\");\n\n\n        //Load the signed document.\n        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n        dbf.setNamespaceAware(true);\n        Document doc = dbf.newDocumentBuilder().parse\n            (new FileInputStream(\"C:\\\\src\\\\com\\\\signing\\\\signed.xml\"));\n\n\n        // Find Signature element.\n        NodeList nl =\n            doc.getElementsByTagNameNS(XMLSignature.XMLNS, \"Signature\");\n        if (nl.getLength() == 0) {\n            throw new Exception(\"Cannot find Signature element\");\n        }else{\n            /*System.out.println(\"---- Start of Print Tag ----\\n\");\n            for(int k=0;k&lt;nl.getLength();k++){\n                 printTags((Node)nl.item(k));\n             }\n            System.out.println(\"---- End of Print Tag ----\\n\");*/\n        }\n\n        // Create a DOMValidateContext and specify a KeySelector\n        // and document context.\n        DOMValidateContext valContext = new DOMValidateContext\n            (new X509KeySelector(), nl.item(0));\n\n        // Unmarshal the XMLSignature.\n        XMLSignature signatures = fac.unmarshalXMLSignature(valContext);\n\n        // Validate the XMLSignature.\n        boolean coreValidity = signatures.validate(valContext);\n\n        System.out.println(\"Signature Validate :\"+coreValidity);\n\n        // Check core validation status.\n        if (coreValidity == false) {\n            String validateError;\n            validateError = \"Signature core validation status:false\";\n            boolean sv = signatures.getSignatureValue().validate(valContext);\n            validateError = validateError + \" | Signature validation status:\" + sv;\n            if (sv == false || true) {\n                validateError = validateError + \" | References: \";\n                // Check the validation status of each Reference.\n                Iterator g = signatures.getSignedInfo().getReferences().iterator();\n                for (int j = 0; g.hasNext(); j++) {\n\n                    Reference r = (Reference) g.next();\n                    boolean refValid = r.validate(valContext);\n                    validateError = validateError + \"{ref[\" + r.getURI() + \"] validity status: \" + refValid + \"}\";\n                }\n            }\n            throw new Exception(validateError);\n        } else {\n            System.out.println(\"Signature passed core validation\");\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi","apache-poi-4"],"comments":[{"owner":{"account_id":29745286,"reputation":11,"user_id":22796525,"display_name":"Clovis Carvalho"},"score":0,"creation_date":1698174987,"post_id":77354712,"comment_id":136371181,"body_markdown":"@pj-fanning help","body":"@pj-fanning help"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1698213593,"post_id":77354712,"comment_id":136375001,"body_markdown":"Don&#39;t mix jars of different Apache POI versions (poi-ooxml 5.2.2 poi-scratchpad 5.2.4). See [FAQ](https://poi.apache.org/help/faq.html) -&gt; 19. Can I mix POI jars from different versions?.","body":"Don&#39;t mix jars of different Apache POI versions (poi-ooxml 5.2.2 poi-scratchpad 5.2.4). See <a href=\"https://poi.apache.org/help/faq.html\" rel=\"nofollow noreferrer\">FAQ</a> -&gt; 19. Can I mix POI jars from different versions?."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1698213599,"post_id":77354712,"comment_id":136375004,"body_markdown":"But the exception tells that `CTWorkbook` has no member `Factory`. Have you compiled your code against poi-ooxml-lite 5.2.2? Or are you using pre compiled code which was compiled against ooxml-schemas? There it was `public static final class Factory` but now it is `final class Factory` only. Thus `CTWorkbook.Factory` of poi-ooxml-lite 5.2.2 ist different from `CTWorkbook.Factory` of ooxml-schemas. Try re-compiling your code against 5.2.2-version jars.","body":"But the exception tells that <code>CTWorkbook</code> has no member <code>Factory</code>. Have you compiled your code against poi-ooxml-lite 5.2.2? Or are you using pre compiled code which was compiled against ooxml-schemas? There it was <code>public static final class Factory</code> but now it is <code>final class Factory</code> only. Thus <code>CTWorkbook.Factory</code> of poi-ooxml-lite 5.2.2 ist different from <code>CTWorkbook.Factory</code> of ooxml-schemas. Try re-compiling your code against 5.2.2-version jars."},{"owner":{"account_id":29745286,"reputation":11,"user_id":22796525,"display_name":"Clovis Carvalho"},"score":0,"creation_date":1698236347,"post_id":77354712,"comment_id":136379110,"body_markdown":"@AxelRichter \nIt was my mistake, I&#39;m all using the same version 5.2.2 and xmlbeans 5.0.3","body":"@AxelRichter  It was my mistake, I&#39;m all using the same version 5.2.2 and xmlbeans 5.0.3"}],"owner":{"account_id":29745286,"reputation":11,"user_id":22796525,"display_name":"Clovis Carvalho"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698237695,"creation_date":1698173696,"question_id":77354712,"body_markdown":"I&#39;m trying to create a service that receives an array of data and creates an xlsx spreadsheet that will then be returned as base64.\r\nHowever, I can&#39;t get the libs to work... I tried other versions and the errors were different.\r\n\r\nJava 8,\r\nweblogic 12,\r\nintellijIDEA\r\n\r\n[![Dependency][1]][1]\r\n\r\n\r\nwhen the exception is thrown?\r\n\r\nAfter invoking the service from the resource during instantiation new XSSFWorkbook();\r\n\r\n`Workbook workbook = new XSSFWorkbook();`\r\n\r\nException;\r\n```\r\norg.glassfish.jersey.server.ContainerException: java.lang.NoSuchFieldError: Factory\r\n\tat org.glassfish.jersey.servlet.internal.ResponseWriter.rethrow(ResponseWriter.java:278)\r\n\tat org.glassfish.jersey.servlet.internal.ResponseWriter.failure(ResponseWriter.java:260)\r\n\tat org.glassfish.jersey.server.ServerRuntime$Responder.process(ServerRuntime.java:509)\r\n\tat org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:334)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\r\n\tTruncated. see log file for complete stacktrace\r\nCaused By: java.lang.NoSuchFieldError: Factory\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.onWorkbookCreate(XSSFWorkbook.java:475)\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:232)\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:226)\r\n\tat org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:214)\r\n```\r\n\r\n\r\n\r\nBeing able to help solve my problem and with the knowledge gained help other colleagues.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/C35Tf.png","title":"Apache-poi ooxml Exception org.glassfish.jersey.server.ContainerException: java.lang.NoSuchFieldError: Factory","body":"<p>I'm trying to create a service that receives an array of data and creates an xlsx spreadsheet that will then be returned as base64.\nHowever, I can't get the libs to work... I tried other versions and the errors were different.</p>\n<p>Java 8,\nweblogic 12,\nintellijIDEA</p>\n<p><a href=\"https://i.stack.imgur.com/C35Tf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C35Tf.png\" alt=\"Dependency\" /></a></p>\n<p>when the exception is thrown?</p>\n<p>After invoking the service from the resource during instantiation new XSSFWorkbook();</p>\n<p><code>Workbook workbook = new XSSFWorkbook();</code></p>\n<p>Exception;</p>\n<pre><code>org.glassfish.jersey.server.ContainerException: java.lang.NoSuchFieldError: Factory\n    at org.glassfish.jersey.servlet.internal.ResponseWriter.rethrow(ResponseWriter.java:278)\n    at org.glassfish.jersey.servlet.internal.ResponseWriter.failure(ResponseWriter.java:260)\n    at org.glassfish.jersey.server.ServerRuntime$Responder.process(ServerRuntime.java:509)\n    at org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:334)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\n    Truncated. see log file for complete stacktrace\nCaused By: java.lang.NoSuchFieldError: Factory\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.onWorkbookCreate(XSSFWorkbook.java:475)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:232)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:226)\n    at org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:214)\n</code></pre>\n<p>Being able to help solve my problem and with the knowledge gained help other colleagues.</p>\n"},{"tags":["java","mongodb","spring-data","mongotemplate"],"comments":[{"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"score":0,"creation_date":1698245004,"post_id":77359536,"comment_id":136381151,"body_markdown":"https://stackoverflow.com/questions/41530270/auditing-with-spring-data-mongodb. Is it what are u looking for?","body":"<a href=\"https://stackoverflow.com/questions/41530270/auditing-with-spring-data-mongodb\" title=\"auditing with spring data mongodb\">stackoverflow.com/questions/41530270/&hellip;</a>. Is it what are u looking for?"}],"owner":{"account_id":1635471,"reputation":166,"user_id":1509097,"display_name":"ranban282"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698237353,"creation_date":1698237353,"question_id":77359536,"body_markdown":"I have a Java class \r\n\r\n        @Document(collection = &quot;vehicleCluster&quot;)\r\n        public class VehicleCluster {\r\n            private long imei;\r\n            private int clusterId;\r\n            private Instant insertTime;\r\n            private List&lt;Double&gt; lats;\r\n            private List&lt;Double&gt; longs;\r\n            private List&lt;Double&gt; odos;\r\n    }\r\n\r\nI wish to save the current time as &quot;insertTime&quot; when I save a document.I can, of course, set the value explicitly before inserting, but am unable to find a straightforward way to do this automatically using MongoTemplate. \r\n\r\nIs there a simple annotation I can use get this done? ","title":"Adding default value for instant in Mongodb using MongoTemplate","body":"<p>I have a Java class</p>\n<pre><code>    @Document(collection = &quot;vehicleCluster&quot;)\n    public class VehicleCluster {\n        private long imei;\n        private int clusterId;\n        private Instant insertTime;\n        private List&lt;Double&gt; lats;\n        private List&lt;Double&gt; longs;\n        private List&lt;Double&gt; odos;\n}\n</code></pre>\n<p>I wish to save the current time as &quot;insertTime&quot; when I save a document.I can, of course, set the value explicitly before inserting, but am unable to find a straightforward way to do this automatically using MongoTemplate.</p>\n<p>Is there a simple annotation I can use get this done?</p>\n"},{"tags":["java","android-studio","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":18593139,"reputation":104,"user_id":13549882,"display_name":"Mathan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1590670145,"creation_date":1590670145,"answer_id":62065119,"question_id":62038054,"body_markdown":"Am solved this by using itext library\r\n```\r\nimplementation &#39;com.itextpdf:itextpdf:5.0.6&#39;\r\n```\r\nThen call with RecylerView\r\n\r\n```\r\npublic void generatePDF(RecyclerView view) {\r\n\r\n\r\n        RecyclerView.Adapter adapter = view.getAdapter();\r\n        int sie2=adapter.getItemCount();\r\n        if (sie2 == 0) {\r\n            Toast.makeText(this,&quot;No Transactions&quot;,Toast.LENGTH_LONG).show();\r\n        }else{\r\n        Bitmap bigBitmap = null;\r\n        if (adapter != null) {\r\n            int size = adapter.getItemCount();\r\n            int height = 0;\r\n            Paint paint = new Paint();\r\n            int iHeight = 0;\r\n            final int maxMemory = (int) (Runtime.getRuntime().maxMemory() / 1024);\r\n\r\n            // Use 1/8th of the available memory for this memory cache.\r\n            final int cacheSize = maxMemory / 8;\r\n            LruCache&lt;String, Bitmap&gt; bitmaCache = new LruCache&lt;&gt;(cacheSize);\r\n            for (int i = 0; i &lt; size; i++) {\r\n                RecyclerView.ViewHolder holder = adapter.createViewHolder(view, adapter.getItemViewType(i));\r\n                adapter.onBindViewHolder(holder, i);\r\n                holder.itemView.measure(View.MeasureSpec.makeMeasureSpec(view.getWidth(), View.MeasureSpec.EXACTLY),\r\n                        View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\r\n                holder.itemView.layout(0, 0, holder.itemView.getMeasuredWidth(), holder.itemView.getMeasuredHeight());\r\n                holder.itemView.setDrawingCacheEnabled(true);\r\n                holder.itemView.buildDrawingCache();\r\n                Bitmap drawingCache = holder.itemView.getDrawingCache();\r\n                if (drawingCache != null) {\r\n\r\n                    bitmaCache.put(String.valueOf(i), drawingCache);\r\n                }\r\n\r\n                height += holder.itemView.getMeasuredHeight();\r\n            }\r\n\r\n            bigBitmap = Bitmap.createBitmap(view.getMeasuredWidth(), height, Bitmap.Config.ARGB_8888);\r\n            Canvas bigCanvas = new Canvas(bigBitmap);\r\n            bigCanvas.drawColor(Color.WHITE);\r\n\r\n            Document document=new Document();\r\n\r\n            final File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS), &quot;MAT&quot;+System.currentTimeMillis()+&quot;.pdf&quot;);\r\n            try {\r\n                PdfWriter.getInstance(document, new FileOutputStream(file));\r\n            } catch (DocumentException | FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            for (int i = 0; i &lt; size; i++) {\r\n\r\n                try {\r\n                    //Adding the content to the document\r\n                    Bitmap bmp = bitmaCache.get(String.valueOf(i));\r\n                    ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n                    bmp.compress(Bitmap.CompressFormat.PNG, 100, stream);\r\n                    com.itextpdf.text.Image image= com.itextpdf.text.Image.getInstance(stream.toByteArray());\r\n                    //Image image = Image.getInstance(stream.toByteArray());\r\n                    float scaler = ((document.getPageSize().getWidth() - document.leftMargin()\r\n                            - document.rightMargin() - 50) / image.getWidth()) * 100; // 0 means you have no indentation. If you have any, change it.\r\n                    image.scalePercent(scaler);\r\n                    image.setAlignment(com.itextpdf.text.Image.ALIGN_CENTER | com.itextpdf.text.Image.ALIGN_TOP);\r\n                    if (!document.isOpen()) {\r\n                        document.open();\r\n                    }\r\n                    document.add(image);\r\n\r\n                } catch (Exception ex) {\r\n                    Log.e(&quot;TAG-ORDER PRINT ERROR&quot;, ex.getMessage());\r\n                }\r\n            }\r\n\r\n            if (document.isOpen()) {\r\n                document.close();\r\n            }\r\n            // Set on UI Thread\r\n            runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n\r\n                    android.app.AlertDialog.Builder builder = new android.app.AlertDialog.Builder(MainActivityAdminMain.this);\r\n                    builder.setTitle(&quot;Success&quot;)\r\n                            .setMessage(&quot;PDF File Generated Successfully.&quot;)\r\n                            .setIcon(android.R.drawable.ic_dialog_alert)\r\n                            .setPositiveButton(&quot;Open&quot;, new DialogInterface.OnClickListener() {\r\n                                public void onClick(DialogInterface dialog, int whichButton) {\r\n                                //    dialog.dismiss();\r\n                                    Intent target = new Intent(Intent.ACTION_VIEW);\r\n                                    target.setDataAndType(Uri.fromFile(file), &quot;application/pdf&quot;);\r\n                                    target.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\r\n\r\n                                    Intent intent56 = Intent.createChooser(target, &quot;Open File&quot;);\r\n                                    try {\r\n                                        startActivity(intent56);\r\n                                    } catch (ActivityNotFoundException e) {\r\n                                        Toast.makeText(MainActivityAdminMain.this,&quot;No PDF Viewer Installed.&quot;,Toast.LENGTH_LONG).show();\r\n\r\n                                    }\r\n                                }\r\n\r\n                            }).show();\r\n                }\r\n            });\r\n\r\n        }}\r\n\r\n    }\r\n```\r\n\r\n100% working.. This helps to anyone needs ","title":"RecylerView to pdf","body":"<p>Am solved this by using itext library</p>\n\n<pre><code>implementation 'com.itextpdf:itextpdf:5.0.6'\n</code></pre>\n\n<p>Then call with RecylerView</p>\n\n<pre><code>public void generatePDF(RecyclerView view) {\n\n\n        RecyclerView.Adapter adapter = view.getAdapter();\n        int sie2=adapter.getItemCount();\n        if (sie2 == 0) {\n            Toast.makeText(this,\"No Transactions\",Toast.LENGTH_LONG).show();\n        }else{\n        Bitmap bigBitmap = null;\n        if (adapter != null) {\n            int size = adapter.getItemCount();\n            int height = 0;\n            Paint paint = new Paint();\n            int iHeight = 0;\n            final int maxMemory = (int) (Runtime.getRuntime().maxMemory() / 1024);\n\n            // Use 1/8th of the available memory for this memory cache.\n            final int cacheSize = maxMemory / 8;\n            LruCache&lt;String, Bitmap&gt; bitmaCache = new LruCache&lt;&gt;(cacheSize);\n            for (int i = 0; i &lt; size; i++) {\n                RecyclerView.ViewHolder holder = adapter.createViewHolder(view, adapter.getItemViewType(i));\n                adapter.onBindViewHolder(holder, i);\n                holder.itemView.measure(View.MeasureSpec.makeMeasureSpec(view.getWidth(), View.MeasureSpec.EXACTLY),\n                        View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\n                holder.itemView.layout(0, 0, holder.itemView.getMeasuredWidth(), holder.itemView.getMeasuredHeight());\n                holder.itemView.setDrawingCacheEnabled(true);\n                holder.itemView.buildDrawingCache();\n                Bitmap drawingCache = holder.itemView.getDrawingCache();\n                if (drawingCache != null) {\n\n                    bitmaCache.put(String.valueOf(i), drawingCache);\n                }\n\n                height += holder.itemView.getMeasuredHeight();\n            }\n\n            bigBitmap = Bitmap.createBitmap(view.getMeasuredWidth(), height, Bitmap.Config.ARGB_8888);\n            Canvas bigCanvas = new Canvas(bigBitmap);\n            bigCanvas.drawColor(Color.WHITE);\n\n            Document document=new Document();\n\n            final File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS), \"MAT\"+System.currentTimeMillis()+\".pdf\");\n            try {\n                PdfWriter.getInstance(document, new FileOutputStream(file));\n            } catch (DocumentException | FileNotFoundException e) {\n                e.printStackTrace();\n            }\n\n            for (int i = 0; i &lt; size; i++) {\n\n                try {\n                    //Adding the content to the document\n                    Bitmap bmp = bitmaCache.get(String.valueOf(i));\n                    ByteArrayOutputStream stream = new ByteArrayOutputStream();\n                    bmp.compress(Bitmap.CompressFormat.PNG, 100, stream);\n                    com.itextpdf.text.Image image= com.itextpdf.text.Image.getInstance(stream.toByteArray());\n                    //Image image = Image.getInstance(stream.toByteArray());\n                    float scaler = ((document.getPageSize().getWidth() - document.leftMargin()\n                            - document.rightMargin() - 50) / image.getWidth()) * 100; // 0 means you have no indentation. If you have any, change it.\n                    image.scalePercent(scaler);\n                    image.setAlignment(com.itextpdf.text.Image.ALIGN_CENTER | com.itextpdf.text.Image.ALIGN_TOP);\n                    if (!document.isOpen()) {\n                        document.open();\n                    }\n                    document.add(image);\n\n                } catch (Exception ex) {\n                    Log.e(\"TAG-ORDER PRINT ERROR\", ex.getMessage());\n                }\n            }\n\n            if (document.isOpen()) {\n                document.close();\n            }\n            // Set on UI Thread\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n\n                    android.app.AlertDialog.Builder builder = new android.app.AlertDialog.Builder(MainActivityAdminMain.this);\n                    builder.setTitle(\"Success\")\n                            .setMessage(\"PDF File Generated Successfully.\")\n                            .setIcon(android.R.drawable.ic_dialog_alert)\n                            .setPositiveButton(\"Open\", new DialogInterface.OnClickListener() {\n                                public void onClick(DialogInterface dialog, int whichButton) {\n                                //    dialog.dismiss();\n                                    Intent target = new Intent(Intent.ACTION_VIEW);\n                                    target.setDataAndType(Uri.fromFile(file), \"application/pdf\");\n                                    target.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\n\n                                    Intent intent56 = Intent.createChooser(target, \"Open File\");\n                                    try {\n                                        startActivity(intent56);\n                                    } catch (ActivityNotFoundException e) {\n                                        Toast.makeText(MainActivityAdminMain.this,\"No PDF Viewer Installed.\",Toast.LENGTH_LONG).show();\n\n                                    }\n                                }\n\n                            }).show();\n                }\n            });\n\n        }}\n\n    }\n</code></pre>\n\n<p>100% working.. This helps to anyone needs </p>\n"}],"owner":{"account_id":18593139,"reputation":104,"user_id":13549882,"display_name":"Mathan Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":62065119,"answer_count":1,"score":0,"last_activity_date":1698237006,"creation_date":1590566043,"question_id":62038054,"body_markdown":"Hello am new to Android studio\r\nI have made recylerview for transaction details . I need to create pdf for this recylerview items. \r\nExample: I have 24 cardviews in recylerview so need to create pdf with each page 4 cardviews only . So totally I need to get pdf as 6 pages .\r\nHow to do that . Thanks in advance.\r\n[This is sample image of my view][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G0FSZ.png \r\nAm passing below code\r\n\r\n```\r\nrecyclerView.measure(View.MeasureSpec.makeMeasureSpec(recyclerView.getWidth(),View.MeasureSpec.EXACTLY),View.MeasureSpec.makeMeasureSpec(0,View.MeasureSpec.UNSPECIFIED));\r\n               Bitmap bm=Bitmap.createBitmap(recyclerView.getWidth(),recyclerView.getMeasuredHeight(),Bitmap.Config.ARGB_8888);\r\n\r\n        \r\n\r\n   \r\n     String mpath2=&quot;/mnt/sdcard/mathanpaymentpdf&quot;;\r\n            \r\n\r\n     File imageFile = new File(mpath2);\r\n     PDFHelper pdfHelper = new PDFHelper(imageFile,this);\r\n               pdfHelper.saveImageToPDF(recyclerView,bm,&quot;mathan&quot;+System.currentTimeMillis());\r\n\r\n\r\n    public class PDFHelper {\r\n\r\n    private File mFolder;\r\n    private File mFile;\r\n    private Context mContext;\r\n\r\n    public PDFHelper(File folder, Context context) {\r\n\r\n        this.mContext = context;\r\n        this.mFolder = folder;\r\n\r\n        if(!mFolder.exists())\r\n            mFolder.mkdirs();\r\n    }\r\n\r\n    public void saveImageToPDF(View title, Bitmap bitmap, String filename) {\r\n\r\n        mFile = new File(mFolder, filename + &quot;.pdf&quot;);\r\n        if (!mFile.exists()) {\r\n            int height = title.getHeight() + bitmap.getHeight();\r\n            PdfDocument document = new PdfDocument();\r\n            PdfDocument.PageInfo pageInfo = new PdfDocument.PageInfo.Builder(bitmap.getWidth(), height, 1).create();\r\n            PdfDocument.Page page = document.startPage(pageInfo);\r\n            Canvas canvas = page.getCanvas();\r\n            title.draw(canvas);\r\n\r\n            canvas.drawBitmap(bitmap, null, new Rect(0, title.getHeight(), bitmap.getWidth(),bitmap.getHeight()), null);\r\n\r\n            document.finishPage(page);\r\n\r\n            try {\r\n                mFile.createNewFile();\r\n                OutputStream out = new FileOutputStream(mFile);\r\n                document.writeTo(out);\r\n                document.close();\r\n                out.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n    }\r\n    }\r\n```\r\n\r\nThis am tried am getting pdf on a single page only \r\nJust I need to split into multiple pages.\r\n\r\n**Note: I need code in java, not in kotlin**","title":"RecylerView to pdf","body":"<p>Hello am new to Android studio\nI have made recylerview for transaction details . I need to create pdf for this recylerview items. \nExample: I have 24 cardviews in recylerview so need to create pdf with each page 4 cardviews only . So totally I need to get pdf as 6 pages .\nHow to do that . Thanks in advance.\n<a href=\"https://i.stack.imgur.com/G0FSZ.png\" rel=\"nofollow noreferrer\">This is sample image of my view</a></p>\n\n<p>Am passing below code</p>\n\n<pre><code>recyclerView.measure(View.MeasureSpec.makeMeasureSpec(recyclerView.getWidth(),View.MeasureSpec.EXACTLY),View.MeasureSpec.makeMeasureSpec(0,View.MeasureSpec.UNSPECIFIED));\n               Bitmap bm=Bitmap.createBitmap(recyclerView.getWidth(),recyclerView.getMeasuredHeight(),Bitmap.Config.ARGB_8888);\n\n\n\n\n     String mpath2=\"/mnt/sdcard/mathanpaymentpdf\";\n\n\n     File imageFile = new File(mpath2);\n     PDFHelper pdfHelper = new PDFHelper(imageFile,this);\n               pdfHelper.saveImageToPDF(recyclerView,bm,\"mathan\"+System.currentTimeMillis());\n\n\n    public class PDFHelper {\n\n    private File mFolder;\n    private File mFile;\n    private Context mContext;\n\n    public PDFHelper(File folder, Context context) {\n\n        this.mContext = context;\n        this.mFolder = folder;\n\n        if(!mFolder.exists())\n            mFolder.mkdirs();\n    }\n\n    public void saveImageToPDF(View title, Bitmap bitmap, String filename) {\n\n        mFile = new File(mFolder, filename + \".pdf\");\n        if (!mFile.exists()) {\n            int height = title.getHeight() + bitmap.getHeight();\n            PdfDocument document = new PdfDocument();\n            PdfDocument.PageInfo pageInfo = new PdfDocument.PageInfo.Builder(bitmap.getWidth(), height, 1).create();\n            PdfDocument.Page page = document.startPage(pageInfo);\n            Canvas canvas = page.getCanvas();\n            title.draw(canvas);\n\n            canvas.drawBitmap(bitmap, null, new Rect(0, title.getHeight(), bitmap.getWidth(),bitmap.getHeight()), null);\n\n            document.finishPage(page);\n\n            try {\n                mFile.createNewFile();\n                OutputStream out = new FileOutputStream(mFile);\n                document.writeTo(out);\n                document.close();\n                out.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n    }\n    }\n</code></pre>\n\n<p>This am tried am getting pdf on a single page only \nJust I need to split into multiple pages.</p>\n\n<p><strong>Note: I need code in java, not in kotlin</strong></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9814,"page":103,"page_size":100}
