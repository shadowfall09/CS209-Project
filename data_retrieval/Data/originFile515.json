{"items":[{"tags":["java","spring","spring-data-jpa","persistence","hibernate-onetomany"],"comments":[{"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"score":0,"creation_date":1680995090,"post_id":75965384,"comment_id":133988572,"body_markdown":"can you share how are you saving the entities?","body":"can you share how are you saving the entities?"},{"owner":{"account_id":28224015,"reputation":29,"user_id":21574317,"display_name":"idash"},"score":0,"creation_date":1681000358,"post_id":75965384,"comment_id":133988986,"body_markdown":"Hi, thank you for giving me a hand.  I’m just using the saving method of the repository : ‘’productRepository.save(product);’’ where I get the product from the @RequestBody as a method argument in my rest controller","body":"Hi, thank you for giving me a hand.  I’m just using the saving method of the repository : ‘’productRepository.save(product);’’ where I get the product from the @RequestBody as a method argument in my rest controller"}],"answers":[{"comments":[{"owner":{"account_id":28224015,"reputation":29,"user_id":21574317,"display_name":"idash"},"score":0,"creation_date":1681030253,"post_id":75968355,"comment_id":133991135,"body_markdown":"Hi, thank you again for your help. Yes exactly, I want also the comments to be saved automatically. I dont understand why I have to put &#171; CascadeType.ALL &#187;. Isnt &#171; CascadeType.PERSIST &#187; supposed to be enough to tell hibernate that &#171; when I create a product, if that product contains new comments, create them too &#187; especially when it is a @OneToMany unidirectional relationship ?","body":"Hi, thank you again for your help. Yes exactly, I want also the comments to be saved automatically. I dont understand why I have to put &#171; CascadeType.ALL &#187;. Isnt &#171; CascadeType.PERSIST &#187; supposed to be enough to tell hibernate that &#171; when I create a product, if that product contains new comments, create them too &#187; especially when it is a @OneToMany unidirectional relationship ?"},{"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"score":0,"creation_date":1681045088,"post_id":75968355,"comment_id":133992701,"body_markdown":"depends, both are valid if you want to let hibernate to only save child entity when calling parent `.save()` then `CascadeType.PERSIST` is enough but if you want an update, remove, or merge together then I suggest using `CascadeType.ALL` because in your case it is unidirectional meaning parent is the most important, check example 158 in [hibernate docs](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-one) for more information about cascading in unidirectional","body":"depends, both are valid if you want to let hibernate to only save child entity when calling parent <code>.save()</code> then <code>CascadeType.PERSIST</code> is enough but if you want an update, remove, or merge together then I suggest using <code>CascadeType.ALL</code> because in your case it is unidirectional meaning parent is the most important, check example 158 in <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-one\" rel=\"nofollow noreferrer\">hibernate docs</a> for more information about cascading in unidirectional"},{"owner":{"account_id":28224015,"reputation":29,"user_id":21574317,"display_name":"idash"},"score":0,"creation_date":1681082296,"post_id":75968355,"comment_id":133997282,"body_markdown":"Like you said, I just want to save child entity, thats why I really focused on CascadeType.PERSIST, so my question is why isnt it working with CascadeType.PERSIST to save child from parent (since parent is leading the relationship...) ?","body":"Like you said, I just want to save child entity, thats why I really focused on CascadeType.PERSIST, so my question is why isnt it working with CascadeType.PERSIST to save child from parent (since parent is leading the relationship...) ?"},{"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"score":0,"creation_date":1681154123,"post_id":75968355,"comment_id":134007728,"body_markdown":"it works fine for me both with `CascadeType.PERSIST` and `CascadeType.ALL`","body":"it works fine for me both with <code>CascadeType.PERSIST</code> and <code>CascadeType.ALL</code>"},{"owner":{"account_id":28224015,"reputation":29,"user_id":21574317,"display_name":"idash"},"score":0,"creation_date":1681195794,"post_id":75968355,"comment_id":134012970,"body_markdown":"did you use something else like transactions or anything else ? Also can you add &quot;spring.jpa.show-sql = true&quot; on your file applications.properties and please share with me what console prints about hibernate database operations","body":"did you use something else like transactions or anything else ? Also can you add &quot;spring.jpa.show-sql = true&quot; on your file applications.properties and please share with me what console prints about hibernate database operations"},{"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"score":1,"creation_date":1681202679,"post_id":75968355,"comment_id":134014353,"body_markdown":"sure, `Hibernate: insert into product (description, name) values (?, ?)\nHibernate: insert into comment (content, product_id) values (?, ?)\nHibernate: update comment set product_id=? where comment_id=?` this is the log, full code is here (https://github.com/hammafataka/st_ov_answer)","body":"sure, <code>Hibernate: insert into product (description, name) values (?, ?) Hibernate: insert into comment (content, product_id) values (?, ?) Hibernate: update comment set product_id=? where comment_id=?</code> this is the log, full code is here (<a href=\"https://github.com/hammafataka/st_ov_answer\" rel=\"nofollow noreferrer\">github.com/hammafataka/st_ov_answer</a>)"},{"owner":{"account_id":28224015,"reputation":29,"user_id":21574317,"display_name":"idash"},"score":0,"creation_date":1681207788,"post_id":75968355,"comment_id":134015601,"body_markdown":"thank you a lot for taking some time. I have another question though, how come in your logs, in the comment insert request, hibernate knows the value of &quot;produit_id&quot;, because on my side, I get the error from here, throwing foreign key error and saying the produit_id is not valid","body":"thank you a lot for taking some time. I have another question though, how come in your logs, in the comment insert request, hibernate knows the value of &quot;produit_id&quot;, because on my side, I get the error from here, throwing foreign key error and saying the produit_id is not valid"},{"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"score":0,"creation_date":1681211109,"post_id":75968355,"comment_id":134016350,"body_markdown":"maybe your db is wrongly created, i suggest to delete the table and let hibernate create it automatically as i have defined in `application.yaml` in github","body":"maybe your db is wrongly created, i suggest to delete the table and let hibernate create it automatically as i have defined in <code>application.yaml</code> in github"}],"tags":[],"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681002647,"creation_date":1681002647,"answer_id":75968355,"question_id":75965384,"body_markdown":"so basically i am assuming you want on call of ```productRepository.save(product)``` it automatically saves comments with it, if so you need to change cascade to ```@OneToMany(cascade = { CascadeType.ALL})``` otherwise you need manually to call both repositories to save entities, i tested your code, and only thing that is missing is to change cascade type ","title":"Can we create both parent and child in a row in OneToMany unidirectionnal relationship using Spring JPA?","body":"<p>so basically i am assuming you want on call of <code>productRepository.save(product)</code> it automatically saves comments with it, if so you need to change cascade to <code>@OneToMany(cascade = { CascadeType.ALL})</code> otherwise you need manually to call both repositories to save entities, i tested your code, and only thing that is missing is to change cascade type</p>\n"}],"owner":{"account_id":28224015,"reputation":29,"user_id":21574317,"display_name":"idash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1681002647,"creation_date":1680959173,"question_id":75965384,"body_markdown":"I&#39;m trying to understand how Spring JPA works in creating (POST http action) resources under relationships (@OneToMany).\r\nI have 2 simples classes, `Product` and `Comment`. One `product`is related to many `comments`.\r\n\r\nProduct class : \r\n```\r\n@Entity\r\n@Table(name = &quot;product&quot;)\r\npublic class Product {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;product_id&quot;)\r\n\tprivate int productId;\r\n\r\n\t@Column(name = &quot;name&quot;)\r\n\tprivate String name;\r\n\r\n\t@Column(name = &quot;description&quot;)\r\n\tprivate String description;\r\n\r\n\t@OneToMany(cascade = { CascadeType.PERSIST})\r\n\t@JoinColumn(name = &quot;product_id&quot;)\r\n\tprivate List&lt;Comment&gt; comments;\r\n\r\n... getters and setters are also implemented\r\n\r\n}\r\n```\r\nComment class : \r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;comment&quot;)\r\npublic class Comment {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;comment_id&quot;)\r\n\tprivate int commentId;\r\n\r\n\t@Column(name = &quot;content&quot;)\r\n\tprivate String content;\r\n\r\n\t@Column(name = &quot;product_id&quot;)\r\n\tprivate int productId;\r\n\r\n... getters and setters\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI implemented this *@OneToMany relationship* as unidirectional, on purpose, just to understand how it works.\r\nI also made basic controller and repository classes for both resources.\r\nWhat I am trying to understand is, when I send a Post request (using postman) to `&quot;/products&quot;` with a new product and its new comments at the same time as below : \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI dont understand why I&#39;m getting an error 500 from hibernate that successfully created the new product but did not for the comment because the comment `is missing the foreign key.` Of course I the get issue here. But since my relationship is unidirectional from the product, it should mean the product is leading the relation. So spring should synchronize the *persisting* operation (I added `CascadeType.PERSIST`), based on the product. In my request body, the product&#39;s `comments list` is filled with two new comments. This is supposed to set the `comments list` of the product and tell to hibernate that this product has two new `comments`.\r\nSo my question is, why doesnt hibernate create the product then get the new id of this product and then create the two new comments with a foreign key set to this new product id ?\r\nThank you for all your help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p9fbf.png","title":"Can we create both parent and child in a row in OneToMany unidirectionnal relationship using Spring JPA?","body":"<p>I'm trying to understand how Spring JPA works in creating (POST http action) resources under relationships (@OneToMany).\nI have 2 simples classes, <code>Product</code> and <code>Comment</code>. One <code>product</code>is related to many <code>comments</code>.</p>\n<p>Product class :</p>\n<pre><code>@Entity\n@Table(name = &quot;product&quot;)\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;product_id&quot;)\n    private int productId;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;description&quot;)\n    private String description;\n\n    @OneToMany(cascade = { CascadeType.PERSIST})\n    @JoinColumn(name = &quot;product_id&quot;)\n    private List&lt;Comment&gt; comments;\n\n... getters and setters are also implemented\n\n}\n</code></pre>\n<p>Comment class :</p>\n<pre><code>@Entity\n@Table(name = &quot;comment&quot;)\npublic class Comment {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;comment_id&quot;)\n    private int commentId;\n\n    @Column(name = &quot;content&quot;)\n    private String content;\n\n    @Column(name = &quot;product_id&quot;)\n    private int productId;\n\n... getters and setters\n\n}\n</code></pre>\n<p>I implemented this <em>@OneToMany relationship</em> as unidirectional, on purpose, just to understand how it works.\nI also made basic controller and repository classes for both resources.\nWhat I am trying to understand is, when I send a Post request (using postman) to <code>&quot;/products&quot;</code> with a new product and its new comments at the same time as below :</p>\n<p><a href=\"https://i.stack.imgur.com/p9fbf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p9fbf.png\" alt=\"enter image description here\" /></a></p>\n<p>I dont understand why I'm getting an error 500 from hibernate that successfully created the new product but did not for the comment because the comment <code>is missing the foreign key.</code> Of course I the get issue here. But since my relationship is unidirectional from the product, it should mean the product is leading the relation. So spring should synchronize the <em>persisting</em> operation (I added <code>CascadeType.PERSIST</code>), based on the product. In my request body, the product's <code>comments list</code> is filled with two new comments. This is supposed to set the <code>comments list</code> of the product and tell to hibernate that this product has two new <code>comments</code>.\nSo my question is, why doesnt hibernate create the product then get the new id of this product and then create the two new comments with a foreign key set to this new product id ?\nThank you for all your help.</p>\n"},{"tags":["java","spring-boot","get","media"],"owner":{"account_id":28109607,"reputation":29,"user_id":21477593,"display_name":"Micu Bogdan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681002166,"creation_date":1681002166,"question_id":75968337,"body_markdown":"I&#39;m trying to implement a GET functionality in my springboot project but I&#39;m pretty new to backend development and I&#39;m struggling with debugging. I&#39;m choosing a File and passing it as a MultipartFile to the server through a POST call, compressing it, storing it in a database and then, for the output, I&#39;m decompressing and sending it back through a GET call for it to be displayed. I tested the server side through Postman and it works just fine (the image/video is being displayed properly in the body section of the app) so the error must be caused somewhere in the client side. The error code I&#39;m getting is:\r\n```\r\nCaused by: MediaException: MEDIA_UNSUPPORTED : Unrecognized file signature!\r\n```\r\nAnd is caused on this line, when I&#39;m creating the JavaFX Media object for the file, so that it can be displayed in a MediaView: \r\n```\r\nMedia media = new Media(file.toURI().toString());\r\nmediaPlayer = new MediaPlayer(media);\r\n```\r\nI&#39;m guessing that it&#39;s because the file is in the .tmp format at the end of the client-side get call method, but I don&#39;t know how to retrieve the original format and convert the file to it. This is the method that makes the GET call in the client:\r\n```\r\npublic File getFile(String fileName) throws IOException {\r\n        String url = getServer()+ &quot;secure/&quot; + store.accessStore().getUsername() + &quot;/file/&quot; + fileName;\r\n        RestTemplate restTemplate = new RestTemplate();\r\n        ResponseEntity&lt;byte[]&gt; response = restTemplate.getForEntity(url, byte[].class);\r\n        InputStream inputStream = new ByteArrayInputStream(response.getBody());\r\n        File file = File.createTempFile(&quot;temp&quot;, &quot;.tmp&quot;);\r\n        OutputStream outputStream = new FileOutputStream(file);\r\n        byte[] buffer = new byte[1024];\r\n        int bytesRead;\r\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n            outputStream.write(buffer, 0, bytesRead);\r\n        }\r\n        outputStream.close();\r\n        inputStream.close();\r\n        return file;\r\n    }\r\n```\r\nCould you help?","title":"How can I modify the type of file that my client-side GET calling method returns?","body":"<p>I'm trying to implement a GET functionality in my springboot project but I'm pretty new to backend development and I'm struggling with debugging. I'm choosing a File and passing it as a MultipartFile to the server through a POST call, compressing it, storing it in a database and then, for the output, I'm decompressing and sending it back through a GET call for it to be displayed. I tested the server side through Postman and it works just fine (the image/video is being displayed properly in the body section of the app) so the error must be caused somewhere in the client side. The error code I'm getting is:</p>\n<pre><code>Caused by: MediaException: MEDIA_UNSUPPORTED : Unrecognized file signature!\n</code></pre>\n<p>And is caused on this line, when I'm creating the JavaFX Media object for the file, so that it can be displayed in a MediaView:</p>\n<pre><code>Media media = new Media(file.toURI().toString());\nmediaPlayer = new MediaPlayer(media);\n</code></pre>\n<p>I'm guessing that it's because the file is in the .tmp format at the end of the client-side get call method, but I don't know how to retrieve the original format and convert the file to it. This is the method that makes the GET call in the client:</p>\n<pre><code>public File getFile(String fileName) throws IOException {\n        String url = getServer()+ &quot;secure/&quot; + store.accessStore().getUsername() + &quot;/file/&quot; + fileName;\n        RestTemplate restTemplate = new RestTemplate();\n        ResponseEntity&lt;byte[]&gt; response = restTemplate.getForEntity(url, byte[].class);\n        InputStream inputStream = new ByteArrayInputStream(response.getBody());\n        File file = File.createTempFile(&quot;temp&quot;, &quot;.tmp&quot;);\n        OutputStream outputStream = new FileOutputStream(file);\n        byte[] buffer = new byte[1024];\n        int bytesRead;\n        while ((bytesRead = inputStream.read(buffer)) != -1) {\n            outputStream.write(buffer, 0, bytesRead);\n        }\n        outputStream.close();\n        inputStream.close();\n        return file;\n    }\n</code></pre>\n<p>Could you help?</p>\n"},{"tags":["java","generics","return-type"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1681002225,"post_id":75968317,"comment_id":133989096,"body_markdown":"1) `return null;` always works if you&#39;re not dealing with a primitive or better yet: 2) throw a &quot;UnsupportedOperationException&quot;&quot; exception.","body":"1) <code>return null;</code> always works if you&#39;re not dealing with a primitive or better yet: 2) throw a &quot;UnsupportedOperationException&quot;&quot; exception."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1681002603,"post_id":75968317,"comment_id":133989126,"body_markdown":"`public &lt;T&gt; T foo() {\n    throw new UnsupportedOperationException(&quot;Method not yet completed&quot;);\n  }`","body":"<code>public &lt;T&gt; T foo() {     throw new UnsupportedOperationException(&quot;Method not yet completed&quot;);   }</code>"}],"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1681002511,"answer_count":0,"score":0,"last_activity_date":1681001725,"creation_date":1681001725,"question_id":75968317,"body_markdown":"I&#39;m writing a few empty generic methods that I plan on coming back to finish later. However, I still want the program to compile. How do I return an empty generic method?\r\n\r\nFor example: \r\n\r\n    public AnyType getData()\r\n    {\r\n       return ???\r\n    }\r\n\r\nDo I have have to declare AnyType first and return the variable?\r\n\r\n","title":"Dummy return value for Generic Method","body":"<p>I'm writing a few empty generic methods that I plan on coming back to finish later. However, I still want the program to compile. How do I return an empty generic method?</p>\n<p>For example:</p>\n<pre><code>public AnyType getData()\n{\n   return ???\n}\n</code></pre>\n<p>Do I have have to declare AnyType first and return the variable?</p>\n"},{"tags":["java","spring-boot","security","spring-security"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1678713801,"post_id":75722429,"comment_id":133581572,"body_markdown":"Do you have the correct dependencies?","body":"Do you have the correct dependencies?"},{"owner":{"account_id":27814456,"reputation":21,"user_id":21236173,"display_name":"cesar pereira"},"score":0,"creation_date":1678714431,"post_id":75722429,"comment_id":133581784,"body_markdown":"`import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;`","body":"<code>import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; import org.springframework.security.config.annotation.method.config&zwnj;&#8203;uration.EnableGlobal&zwnj;&#8203;MethodSecurity; import org.springframework.security.config.annotation.web.builders.&zwnj;&#8203;HttpSecurity; import org.springframework.security.crypto.bcrypt.BCryptPasswordEnc&zwnj;&#8203;oder; import org.springframework.security.crypto.password.PasswordEncoder&zwnj;&#8203;; import org.springframework.security.web.SecurityFilterChain;</code>"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1678714452,"post_id":75722429,"comment_id":133581792,"body_markdown":"Do you have the `spring-boot-starter-security` dependency in pom.xml? I am not referring to imports.","body":"Do you have the <code>spring-boot-starter-security</code> dependency in pom.xml? I am not referring to imports."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1678717319,"post_id":75722429,"comment_id":133582807,"body_markdown":"please remove the `spring-security-core` it is not needed as you have inccluded the `spring-security-starter` which in turn will pull in all relevant dependencies for you.","body":"please remove the <code>spring-security-core</code> it is not needed as you have inccluded the <code>spring-security-starter</code> which in turn will pull in all relevant dependencies for you."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1678717376,"post_id":75722429,"comment_id":133582825,"body_markdown":"Your dependencies are a mess please clean them oup and fix them. In this case at least remove the `spring-security-core` dependency.","body":"Your dependencies are a mess please clean them oup and fix them. In this case at least remove the <code>spring-security-core</code> dependency."},{"owner":{"account_id":27814456,"reputation":21,"user_id":21236173,"display_name":"cesar pereira"},"score":0,"creation_date":1678718394,"post_id":75722429,"comment_id":133583182,"body_markdown":"i fixed my pom.xml and removed spring-security-core but the error still persists","body":"i fixed my pom.xml and removed spring-security-core but the error still persists"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680986380,"post_id":75904049,"comment_id":133987616,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75904049/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20427615,"reputation":11,"user_id":21386531,"display_name":"Luis Velasquez"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681000951,"creation_date":1680317800,"answer_id":75904049,"question_id":75722429,"body_markdown":"Gateway and Spring Security generate conflicts. If not use gateway Spring security works fine. Someone could  give more reach? ","title":"Parameter 0 of method filterChain","body":"<p>Gateway and Spring Security generate conflicts. If not use gateway Spring security works fine. Someone could  give more reach?</p>\n"}],"owner":{"account_id":27814456,"reputation":21,"user_id":21236173,"display_name":"cesar pereira"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":825,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1681000951,"creation_date":1678713658,"question_id":75722429,"body_markdown":"I am not able to configure my security class correctly, when I inject @Bean the application does not start, but when I remove @Bean the application starts but does not load my settings\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n\r\n    Description:\r\n\r\n    Parameter 0 of method filterChain in   com.xxxxxxxxx.xxxxxxxx.config.integracao.security.SpringSecurityV2 required a bean of type &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; that could not be found.\r\n\r\n\r\n    Action:\r\n\r\n    Consider defining a bean of type  &#39;org.springframework.security.config.annotation.web.builders.HttpSecurity&#39; in your configuration.\r\n\r\n\r\n    Process finished with exit code 1\r\n    \r\nSecurity configuration:\r\n\r\n     @Configuration\r\n     @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n     public class SpringSecurityV2 {\r\n\r\n\r\n\r\n     @Bean\r\n     public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\r\n            http\r\n                    .httpBasic()\r\n                    .and()\r\n                    .authorizeHttpRequests()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .csrf().disable();\r\n\r\n\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n \r\n    }\r\n\r\nThe pom.xml\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.14&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.xxxxxxx&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;xxxxxxxxxx&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;xxxxxxxxxxxx&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;squiggly.version&gt;1.3.18&lt;/squiggly.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.firebirdsql.jdbc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaybird&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.0.8.java11&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-community-dialects&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.0.Alpha9&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.6.3.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-commons-annotations&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.3.0.ga&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.bohnman&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;squiggly-filter-jackson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.18&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n                &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n            \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            \t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            \t&lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n            \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            \t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            \t&lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n                &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;RELEASE&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n```\r\n    ","title":"Parameter 0 of method filterChain","body":"<p>I am not able to configure my security class correctly, when I inject @Bean the application does not start, but when I remove @Bean the application starts but does not load my settings</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of method filterChain in   com.xxxxxxxxx.xxxxxxxx.config.integracao.security.SpringSecurityV2 required a bean of type 'org.springframework.security.config.annotation.web.builders.HttpSecurity' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type  'org.springframework.security.config.annotation.web.builders.HttpSecurity' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>Security configuration:</p>\n<pre><code> @Configuration\n @EnableGlobalMethodSecurity(prePostEnabled = true)\n public class SpringSecurityV2 {\n\n\n\n @Bean\n public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\n        http\n                .httpBasic()\n                .and()\n                .authorizeHttpRequests()\n                .anyRequest().authenticated()\n                .and()\n                .csrf().disable();\n\n\n\n    return http.build();\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n\n}\n</code></pre>\n<p>The pom.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.6.14&lt;/version&gt;\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n        &lt;/parent&gt;\n        &lt;groupId&gt;com.xxxxxxx&lt;/groupId&gt;\n        &lt;artifactId&gt;xxxxxxxxxx&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;xxxxxxxxxxxx&lt;/name&gt;\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n        &lt;properties&gt;\n            &lt;java.version&gt;11&lt;/java.version&gt;\n            &lt;squiggly.version&gt;1.3.18&lt;/squiggly.version&gt;\n        &lt;/properties&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.firebirdsql.jdbc&lt;/groupId&gt;\n                &lt;artifactId&gt;jaybird&lt;/artifactId&gt;\n                &lt;version&gt;4.0.8.java11&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n                &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-community-dialects&lt;/artifactId&gt;\n                &lt;version&gt;6.0.0.Alpha9&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\n                &lt;version&gt;3.6.3.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-commons-annotations&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0.ga&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                &lt;artifactId&gt;poi&lt;/artifactId&gt;\n                &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n            &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n                &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n                &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n    \n            &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n                &lt;version&gt;2.11.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n                &lt;version&gt;6.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.github.bohnman&lt;/groupId&gt;\n                &lt;artifactId&gt;squiggly-filter-jackson&lt;/artifactId&gt;\n                &lt;version&gt;1.3.18&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;optional&gt;true&lt;/optional&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n                &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n                &lt;optional&gt;true&lt;/optional&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n                &lt;optional&gt;true&lt;/optional&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n                &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n                &lt;version&gt;RELEASE&lt;/version&gt;\n                &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    \n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    \n    &lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","google-oauth","spring-security-oauth2"],"answers":[{"comments":[{"owner":{"account_id":3954020,"reputation":90,"user_id":3263238,"accept_rate":17,"display_name":"Thiago Suchorski"},"score":0,"creation_date":1664547988,"post_id":67340353,"comment_id":130503811,"body_markdown":"What about the authorities update? This way the authorities is loaded only when login in. How to update if the roles where changed by another user?","body":"What about the authorities update? This way the authorities is loaded only when login in. How to update if the roles where changed by another user?"}],"tags":[],"owner":{"account_id":13487427,"reputation":294,"user_id":9730812,"display_name":"Wojciech Lesniak"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1619816123,"creation_date":1619816123,"answer_id":67340353,"question_id":67317568,"body_markdown":"For OIDC by default Spring will map scopes and the default USER role to granted Authorities on OidcUser object.\r\nYour simply returning this in your CustomOidcUser\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return oidcUser.getAuthorities();\r\n    }\r\n\r\nYou need to create a custom GrantedAuthorities collection in your CustomOidcUser object, and then your CustomOidcUserService you need to add the roles from your database to this collection manually.\r\n\r\n    Collection&lt;GrantedAuthority&gt; authorities ....\r\n    authorities.add(new SimpleGrantedAuthority(&quot;ROLE_....&quot;));","title":"How to correctly set role for User in oauth2 app spring boot","body":"<p>For OIDC by default Spring will map scopes and the default USER role to granted Authorities on OidcUser object.\nYour simply returning this in your CustomOidcUser</p>\n<pre><code>@Override\npublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n    return oidcUser.getAuthorities();\n}\n</code></pre>\n<p>You need to create a custom GrantedAuthorities collection in your CustomOidcUser object, and then your CustomOidcUserService you need to add the roles from your database to this collection manually.</p>\n<pre><code>Collection&lt;GrantedAuthority&gt; authorities ....\nauthorities.add(new SimpleGrantedAuthority(&quot;ROLE_....&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4716379,"reputation":1255,"user_id":3901138,"accept_rate":41,"display_name":"Park JongBum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681000387,"creation_date":1681000387,"answer_id":75968268,"question_id":67317568,"body_markdown":"To me, below code works, it&#39;s similar to [Lesniak][1]&#39;s answer, but not the same.\r\n\r\n    @Service\r\n    public class CustomOAuth2UserService extends DefaultOAuth2UserService {\r\n    \t@Override\r\n    \tpublic OAuth2User loadUser(OAuth2UserRequest userRequest)\r\n    \t\t\tthrows OAuth2AuthenticationException {\r\n    \t\tOAuth2User user = super.loadUser(userRequest);\r\n    \t\treturn new CustomOAuth2User(user);\r\n    \t}\r\n    }\r\n\r\nBelow shows CustomOAuth2User class:\r\n\r\n    @AllArgsConstructor\r\n    public class CustomOAuth2User implements OAuth2User {\r\n    \r\n    \tprivate OAuth2User oAuth2User;\r\n    \r\n    \t@Override\r\n    \tpublic Map&lt;String, Object&gt; getAttributes() {\r\n    \t\treturn oAuth2User.getAttributes();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n    \t\tList&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n    \t\toAuth2User.getAuthorities().forEach(ga -&gt; authorities.add(ga));\r\n    \t\tauthorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n    \r\n    \t\treturn authorities;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getName() {\r\n    \t\treturn oAuth2User.getAttribute(&quot;name&quot;);\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn oAuth2User.&lt;String&gt;getAttribute(&quot;email&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67340353/3901138","title":"How to correctly set role for User in oauth2 app spring boot","body":"<p>To me, below code works, it's similar to <a href=\"https://stackoverflow.com/a/67340353/3901138\">Lesniak</a>'s answer, but not the same.</p>\n<pre><code>@Service\npublic class CustomOAuth2UserService extends DefaultOAuth2UserService {\n    @Override\n    public OAuth2User loadUser(OAuth2UserRequest userRequest)\n            throws OAuth2AuthenticationException {\n        OAuth2User user = super.loadUser(userRequest);\n        return new CustomOAuth2User(user);\n    }\n}\n</code></pre>\n<p>Below shows CustomOAuth2User class:</p>\n<pre><code>@AllArgsConstructor\npublic class CustomOAuth2User implements OAuth2User {\n\n    private OAuth2User oAuth2User;\n\n    @Override\n    public Map&lt;String, Object&gt; getAttributes() {\n        return oAuth2User.getAttributes();\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n        oAuth2User.getAuthorities().forEach(ga -&gt; authorities.add(ga));\n        authorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\n\n        return authorities;\n    }\n\n    @Override\n    public String getName() {\n        return oAuth2User.getAttribute(&quot;name&quot;);\n    }\n\n    public String getEmail() {\n        return oAuth2User.&lt;String&gt;getAttribute(&quot;email&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12720348,"reputation":89,"user_id":9241003,"display_name":"Maks Chornyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4992,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":67340353,"answer_count":2,"score":4,"last_activity_date":1681000387,"creation_date":1619699952,"question_id":67317568,"body_markdown":"I&#39;m struggling with spring security after implemented oauth2 in my application. That&#39;s my first experience, but will be glad to hear nice or anger comments. That&#39;s the way to improve.\r\n\r\n**Problem:**\r\nDuring the logging in my application I see that I retrieve from google oidcuser object of DefaultOidcUser class. This object has collection of `authorities` with 4 items: [![enter image description here][1]][1]\r\n\r\nHonestly, I don&#39;t understand why I get ROLE_USER for this user in my system, cos actually it has ADMIN role in my system (role is created by me). \r\n\r\nGenerally I have 3 roles in my app: User, Manager, Admin. But can&#39;t understand how to correctly set particular role for special user. \r\n\r\nBecause of this, when I put smth like:\r\n```\r\n  .antMatchers(&quot;/api/**&quot;).hasRole(Role.ADMIN.name())\r\n  .antMatchers(&quot;/administration/**&quot;).hasRole(Role.ADMIN.name())\r\n```\r\nI get 403 cos as I understand I get ROLE_USER for each user. \r\n\r\nCan you please help me to set roles for each User but from my db (not this default ROLSER_USER from google)? \r\nAlso I read about GrantedAuthorities and mapper of grantedAuthorities, but it&#39;s a bit unclear for me. \r\n\r\nI will be glad to hear any opinion. any useful link to improve my knowledge about this. Cos main goal: to understand how it works. \r\n\r\nOther classes of my oauth2 implementation below:\r\n```\r\n@Getter\r\n@Setter\r\n@RequiredArgsConstructor\r\npublic class CustomOidcUser implements OidcUser {\r\n\r\n    private final OidcUser oidcUser;\r\n    private String email;\r\n    private String firstName;\r\n    private String lastName;\r\n\r\n    @Override\r\n    public Map&lt;String, Object&gt; getClaims() {\r\n        return oidcUser.getClaims();\r\n    }\r\n    @Override\r\n    public OidcUserInfo getUserInfo() {\r\n        return oidcUser.getUserInfo();\r\n    }\r\n\r\n    @Override\r\n    public OidcIdToken getIdToken() {\r\n        return oidcUser.getIdToken();\r\n    }\r\n\r\n    @Override\r\n    public Map&lt;String, Object&gt; getAttributes() {\r\n        return oidcUser.getAttributes();\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return oidcUser.getAuthorities();\r\n    }\r\n\r\n    @Override\r\n    public String getName() {\r\n        return oidcUser.getName();\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class CustomOidcUserService extends OidcUserService {\r\n\r\n    private final UserRepository repository;\r\n    private static final String GOOGLE_KEY_LASTNAME = &quot;family_name&quot;;\r\n    private static final String GOOGLE_KEY_FIRSTNAME = &quot;given_name&quot;;\r\n\r\n    @Override\r\n    public OidcUser loadUser(OidcUserRequest userRequest) throws OAuth2AuthenticationException {\r\n        final OidcUser oidcUser = super.loadUser(userRequest);\r\n        CustomOidcUser newUser =  new CustomOidcUser(oidcUser);\r\n\r\n        String email = oidcUser.getAttributes().get(&quot;email&quot;).toString();\r\n        User user = createUserIfNoExist(email, oidcUser);\r\n        newUser.setEmail(email);\r\n        newUser.setFirstName(user.getFirstName());\r\n        newUser.setLastName(user.getLastName());\r\n\r\n        return newUser;\r\n    }\r\n\r\n    public User createUserIfNoExist(String email, OidcUser oidcUser) {\r\n        return repository.findByEmail(email)\r\n                .orElseGet(() -&gt; {\r\n                    User newUser = new User();\r\n                    newUser.setEmail(email);\r\n                    newUser.setRole(Role.USER);\r\n                    newUser.setStartWorkAt(LocalDate.now());\r\n                    newUser.setLastLoginDate(LocalDateTime.now());\r\n    ...\r\n\r\n```\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\n@EnableGlobalMethodSecurity(prePostEnabled = true,securedEnabled = true)\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n  private final AuthProvider authProvider;\r\n  private final OnSuccessHandler onSuccessHandler;\r\n  private final CustomOidcUserService customOidcUserService;\r\n  private final UserService userService;\r\n\r\n  protected void configure(HttpSecurity http) throws Exception {\r\n    SavedRequestAwareAuthenticationSuccessHandler successHandler = new SavedRequestAwareAuthenticationSuccessHandler();\r\n    successHandler.setUseReferer(true);\r\n    successHandler.setDefaultTargetUrl(&quot;/success&quot;);\r\n    successHandler.setAlwaysUseDefaultTargetUrl(true);\r\n\r\n    http\r\n        .addFilterAfter(new UserHasManagerFilter(userService), BasicAuthenticationFilter.class)\r\n        .cors()\r\n        .and()\r\n          .csrf()\r\n          .disable()\r\n          .authorizeRequests()\r\n          .antMatchers(&quot;/api/**&quot;).hasRole(Role.ADMIN.name())\r\n          .antMatchers(&quot;/administration/**&quot;).hasRole(Role.ADMIN.name())\r\n        .and()\r\n            .httpBasic()\r\n        .and()\r\n          .formLogin()\r\n          .loginPage(&quot;/unauthorized&quot;)\r\n          .loginProcessingUrl(&quot;/login&quot;)\r\n          .defaultSuccessUrl(&quot;/success&quot;)\r\n          .failureUrl(&quot;/failed&quot;)\r\n          .successHandler(successHandler)\r\n          .usernameParameter(&quot;email&quot;)\r\n          .passwordParameter(&quot;password&quot;)\r\n          .permitAll()\r\n        .and()\r\n          .logout()\r\n          .logoutUrl(&quot;/logout&quot;)\r\n          .logoutSuccessUrl(&quot;/logout_success&quot;)\r\n          .permitAll()\r\n        .and()\r\n            .oauth2Login()\r\n\r\n              .loginPage(&quot;/&quot;)\r\n              .userInfoEndpoint(userInfoEndpoint -&gt;\r\n                      userInfoEndpoint.oidcUserService(customOidcUserService)\r\n                      .customUserType(CustomOidcUser.class, &quot;google&quot;)\r\n//                      .userAuthoritiesMapper(userAuthoritiesMapper())\r\n              )\r\n\r\n              .defaultSuccessUrl(&quot;/dashboard&quot;, true)\r\n              .successHandler(onSuccessHandler)\r\n              .failureHandler(authenticationFailureHandler())\r\n            .permitAll()\r\n        .and()\r\n        .authorizeRequests()\r\n        .antMatchers(&quot;/**&quot;)\r\n        .permitAll();\r\n  }\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/xo06B.png","title":"How to correctly set role for User in oauth2 app spring boot","body":"<p>I'm struggling with spring security after implemented oauth2 in my application. That's my first experience, but will be glad to hear nice or anger comments. That's the way to improve.</p>\n<p><strong>Problem:</strong>\nDuring the logging in my application I see that I retrieve from google oidcuser object of DefaultOidcUser class. This object has collection of <code>authorities</code> with 4 items: <a href=\"https://i.stack.imgur.com/xo06B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xo06B.png\" alt=\"enter image description here\" /></a></p>\n<p>Honestly, I don't understand why I get ROLE_USER for this user in my system, cos actually it has ADMIN role in my system (role is created by me).</p>\n<p>Generally I have 3 roles in my app: User, Manager, Admin. But can't understand how to correctly set particular role for special user.</p>\n<p>Because of this, when I put smth like:</p>\n<pre><code>  .antMatchers(&quot;/api/**&quot;).hasRole(Role.ADMIN.name())\n  .antMatchers(&quot;/administration/**&quot;).hasRole(Role.ADMIN.name())\n</code></pre>\n<p>I get 403 cos as I understand I get ROLE_USER for each user.</p>\n<p>Can you please help me to set roles for each User but from my db (not this default ROLSER_USER from google)?\nAlso I read about GrantedAuthorities and mapper of grantedAuthorities, but it's a bit unclear for me.</p>\n<p>I will be glad to hear any opinion. any useful link to improve my knowledge about this. Cos main goal: to understand how it works.</p>\n<p>Other classes of my oauth2 implementation below:</p>\n<pre><code>@Getter\n@Setter\n@RequiredArgsConstructor\npublic class CustomOidcUser implements OidcUser {\n\n    private final OidcUser oidcUser;\n    private String email;\n    private String firstName;\n    private String lastName;\n\n    @Override\n    public Map&lt;String, Object&gt; getClaims() {\n        return oidcUser.getClaims();\n    }\n    @Override\n    public OidcUserInfo getUserInfo() {\n        return oidcUser.getUserInfo();\n    }\n\n    @Override\n    public OidcIdToken getIdToken() {\n        return oidcUser.getIdToken();\n    }\n\n    @Override\n    public Map&lt;String, Object&gt; getAttributes() {\n        return oidcUser.getAttributes();\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return oidcUser.getAuthorities();\n    }\n\n    @Override\n    public String getName() {\n        return oidcUser.getName();\n    }\n\n}\n</code></pre>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class CustomOidcUserService extends OidcUserService {\n\n    private final UserRepository repository;\n    private static final String GOOGLE_KEY_LASTNAME = &quot;family_name&quot;;\n    private static final String GOOGLE_KEY_FIRSTNAME = &quot;given_name&quot;;\n\n    @Override\n    public OidcUser loadUser(OidcUserRequest userRequest) throws OAuth2AuthenticationException {\n        final OidcUser oidcUser = super.loadUser(userRequest);\n        CustomOidcUser newUser =  new CustomOidcUser(oidcUser);\n\n        String email = oidcUser.getAttributes().get(&quot;email&quot;).toString();\n        User user = createUserIfNoExist(email, oidcUser);\n        newUser.setEmail(email);\n        newUser.setFirstName(user.getFirstName());\n        newUser.setLastName(user.getLastName());\n\n        return newUser;\n    }\n\n    public User createUserIfNoExist(String email, OidcUser oidcUser) {\n        return repository.findByEmail(email)\n                .orElseGet(() -&gt; {\n                    User newUser = new User();\n                    newUser.setEmail(email);\n                    newUser.setRole(Role.USER);\n                    newUser.setStartWorkAt(LocalDate.now());\n                    newUser.setLastLoginDate(LocalDateTime.now());\n    ...\n\n</code></pre>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\n@EnableGlobalMethodSecurity(prePostEnabled = true,securedEnabled = true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n  private final AuthProvider authProvider;\n  private final OnSuccessHandler onSuccessHandler;\n  private final CustomOidcUserService customOidcUserService;\n  private final UserService userService;\n\n  protected void configure(HttpSecurity http) throws Exception {\n    SavedRequestAwareAuthenticationSuccessHandler successHandler = new SavedRequestAwareAuthenticationSuccessHandler();\n    successHandler.setUseReferer(true);\n    successHandler.setDefaultTargetUrl(&quot;/success&quot;);\n    successHandler.setAlwaysUseDefaultTargetUrl(true);\n\n    http\n        .addFilterAfter(new UserHasManagerFilter(userService), BasicAuthenticationFilter.class)\n        .cors()\n        .and()\n          .csrf()\n          .disable()\n          .authorizeRequests()\n          .antMatchers(&quot;/api/**&quot;).hasRole(Role.ADMIN.name())\n          .antMatchers(&quot;/administration/**&quot;).hasRole(Role.ADMIN.name())\n        .and()\n            .httpBasic()\n        .and()\n          .formLogin()\n          .loginPage(&quot;/unauthorized&quot;)\n          .loginProcessingUrl(&quot;/login&quot;)\n          .defaultSuccessUrl(&quot;/success&quot;)\n          .failureUrl(&quot;/failed&quot;)\n          .successHandler(successHandler)\n          .usernameParameter(&quot;email&quot;)\n          .passwordParameter(&quot;password&quot;)\n          .permitAll()\n        .and()\n          .logout()\n          .logoutUrl(&quot;/logout&quot;)\n          .logoutSuccessUrl(&quot;/logout_success&quot;)\n          .permitAll()\n        .and()\n            .oauth2Login()\n\n              .loginPage(&quot;/&quot;)\n              .userInfoEndpoint(userInfoEndpoint -&gt;\n                      userInfoEndpoint.oidcUserService(customOidcUserService)\n                      .customUserType(CustomOidcUser.class, &quot;google&quot;)\n//                      .userAuthoritiesMapper(userAuthoritiesMapper())\n              )\n\n              .defaultSuccessUrl(&quot;/dashboard&quot;, true)\n              .successHandler(onSuccessHandler)\n              .failureHandler(authenticationFailureHandler())\n            .permitAll()\n        .and()\n        .authorizeRequests()\n        .antMatchers(&quot;/**&quot;)\n        .permitAll();\n  }\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680939791,"post_id":75960746,"comment_id":133981992,"body_markdown":"Please look at the documentation of [`java.util.regex.Pattern`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html) to see the definition of `\\p{Print}`. It only includes characters in US-ASCII. The characters you mention aren&#39;t in ASCII, so using `\\P{Print}` will exclude all non-printable ASCII characters and **all** non-ASCII character. If you want `\\P{Print}` to use the Unicode definition, you must add the UNICODE_CHARACTER_CLASS flag or add `(?U)` before the start of your pattern. That is: `&quot;(?U)\\\\P{Print}&quot;`.","body":"Please look at the documentation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\"><code>java.util.regex.Pattern</code></a> to see the definition of <code>\\p{Print}</code>. It only includes characters in US-ASCII. The characters you mention aren&#39;t in ASCII, so using <code>\\P{Print}</code> will exclude all non-printable ASCII characters and <b>all</b> non-ASCII character. If you want <code>\\P{Print}</code> to use the Unicode definition, you must add the UNICODE_CHARACTER_CLASS flag or add <code>(?U)</code> before the start of your pattern. That is: <code>&quot;(?U)\\\\P{Print}&quot;</code>."},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1680959567,"post_id":75960746,"comment_id":133984150,"body_markdown":"Mark, I tried `\\P{Print}` with `UNICODE_CHARACTER_CLASS` and it didn&#39;t work. What did work was `\\p{Cntrl}`, i.e. anything outside of Control chars (0-32)","body":"Mark, I tried <code>\\P{Print}</code> with <code>UNICODE_CHARACTER_CLASS</code> and it didn&#39;t work. What did work was <code>\\p{Cntrl}</code>, i.e. anything outside of Control chars (0-32)"},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1681057434,"post_id":75960746,"comment_id":133994334,"body_markdown":"Never mind, I see that `&quot;(?U)\\\\P{Print}&quot;` works, you&#39;re right. It&#39;s not exactly similar to `\\\\p{Cntrl}`, however: e.g. it will remove `65528` and `65534` from this list: `(65528,65529,65530,65531,65532,65533,65534)` whereas `\\\\p{Cntrl}` will keep them. So there&#39;s still a slight difference between `&quot;(?U)\\\\P{Print}&quot;` and `\\\\p{Cntrl}`.","body":"Never mind, I see that <code>&quot;(?U)\\\\P{Print}&quot;</code> works, you&#39;re right. It&#39;s not exactly similar to <code>\\\\p{Cntrl}</code>, however: e.g. it will remove <code>65528</code> and <code>65534</code> from this list: <code>(65528,65529,65530,65531,65532,65533,65534)</code> whereas <code>\\\\p{Cntrl}</code> will keep them. So there&#39;s still a slight difference between <code>&quot;(?U)\\\\P{Print}&quot;</code> and <code>\\\\p{Cntrl}</code>."}],"answers":[{"comments":[{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1680889360,"post_id":75960784,"comment_id":133976791,"body_markdown":"So what would be a good way to filter out non-printable Chars &lt; Code 32 only?","body":"So what would be a good way to filter out non-printable Chars &lt; Code 32 only?"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1680889520,"post_id":75960784,"comment_id":133976822,"body_markdown":"Actually, the documentation has a bit more to say about it. I&#39;m editing my answer","body":"Actually, the documentation has a bit more to say about it. I&#39;m editing my answer"},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1680892166,"post_id":75960784,"comment_id":133977306,"body_markdown":"This doesn&#39;t remove the non-printable &lt;32 characters in the string: `String finalStr = Pattern.compile(&quot;\\\\p{Cntrl}&quot;, Pattern.UNICODE_CHARACTER_CLASS).matcher(value).replaceAll(&quot;&quot;);`","body":"This doesn&#39;t remove the non-printable &lt;32 characters in the string: <code>String finalStr = Pattern.compile(&quot;\\\\p{Cntrl}&quot;, Pattern.UNICODE_CHARACTER_CLASS).matcher(value).replaceAll(&quot;&zwnj;&#8203;&quot;);</code>"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1680893121,"post_id":75960784,"comment_id":133977498,"body_markdown":"As far as I can tell, it does. I&#39;m adding a short example to demonstrate that","body":"As far as I can tell, it does. I&#39;m adding a short example to demonstrate that"},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1680893640,"post_id":75960784,"comment_id":133977578,"body_markdown":"Yes, my mistake, sorry. I have a special char with code 65533 which is non-printable but technically falls outside 0-32, and this wasn&#39;t catching it. Is there a way to exclude both Control Chars &lt;32 and anything beyond the end of Latin-Extended or beyond the end of current languages, so that something like 65533 is excluded?","body":"Yes, my mistake, sorry. I have a special char with code 65533 which is non-printable but technically falls outside 0-32, and this wasn&#39;t catching it. Is there a way to exclude both Control Chars &lt;32 and anything beyond the end of Latin-Extended or beyond the end of current languages, so that something like 65533 is excluded?"},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1680894280,"post_id":75960784,"comment_id":133977683,"body_markdown":"Also, why doesn&#39;t UNICODE_CHARACTER_CLASS work with the prior `\\\\P{Print}`? `String finalStr = Pattern.compile(&quot;\\\\P{Print}&quot;, Pattern.UNICODE_CHARACTER_CLASS).matcher(value).replaceAll(&quot;&quot;);` should work the same way, with an extended character class, right? But this one doesn&#39;t delete the special char 65533.","body":"Also, why doesn&#39;t UNICODE_CHARACTER_CLASS work with the prior <code>\\\\P{Print}</code>? <code>String finalStr = Pattern.compile(&quot;\\\\P{Print}&quot;, Pattern.UNICODE_CHARACTER_CLASS).matcher(value).replaceAll(&quot;&zwnj;&#8203;&quot;);</code> should work the same way, with an extended character class, right? But this one doesn&#39;t delete the special char 65533."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1680894381,"post_id":75960784,"comment_id":133977701,"body_markdown":"I can only point you at the documentation, which shows that Print and Cntrl are defined differently.","body":"I can only point you at the documentation, which shows that Print and Cntrl are defined differently."},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1680894415,"post_id":75960784,"comment_id":133977709,"body_markdown":"OK. Please re-open the question, since no other thread is available that deals with this issue specifically (the other thread that was suggested doesn&#39;t mention this issue).","body":"OK. Please re-open the question, since no other thread is available that deals with this issue specifically (the other thread that was suggested doesn&#39;t mention this issue)."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":1,"creation_date":1680894666,"post_id":75960784,"comment_id":133977747,"body_markdown":"You may want to look at `IsLatin` class, although I don&#39;t know if it includes the extended range. I can only vote to reopen the question, the person who closed, or other users may chose to do so as well. I recommend you edit your question to include the information you&#39;ve provided in comments here, so that it gets better chances of being re-opened.","body":"You may want to look at <code>IsLatin</code> class, although I don&#39;t know if it includes the extended range. I can only vote to reopen the question, the person who closed, or other users may chose to do so as well. I recommend you edit your question to include the information you&#39;ve provided in comments here, so that it gets better chances of being re-opened."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1680940217,"post_id":75960784,"comment_id":133982053,"body_markdown":"Alternatively, the UNICODE_CHARACTER_CLASS can also be enabled by prefixing the pattern with `(?U)`, e.g. `&quot;(?U)\\\\P{Print}&quot;`.","body":"Alternatively, the UNICODE_CHARACTER_CLASS can also be enabled by prefixing the pattern with <code>(?U)</code>, e.g. <code>&quot;(?U)\\\\P{Print}&quot;</code>."}],"tags":[],"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680893319,"creation_date":1680889284,"answer_id":75960784,"question_id":75960746,"body_markdown":"According to [the documentation](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html), by default those classes apply to US-ASCII only\r\n\r\nSpecifically:\r\n\r\n```\r\n\\p{Lower}\tA lower-case alphabetic character: [a-z]\r\n\\p{Upper}\tAn upper-case alphabetic character:[A-Z]\r\n\\p{Alpha}\tAn alphabetic character:[\\p{Lower}\\p{Upper}]\r\n\\p{Digit}\tA decimal digit: [0-9]\r\n\\p{Alnum}\tAn alphanumeric character:[\\p{Alpha}\\p{Digit}]\r\n\\p{Graph}\tA visible character: [\\p{Alnum}\\p{Punct}]\r\n\\p{Print}\tA printable character: [\\p{Graph}\\x20]\r\n```\r\n\r\nputting it all together, `\\p{print}` matches `[a-zA-Z0-9\\x20]` only.\r\n\r\n**However**, further down the documentation, we can find:\r\n\r\n&gt; The following Predefined Character classes and POSIX character classes are in conformance with the recommendation of Annex C: Compatibility Properties of Unicode Regular Expression , when UNICODE_CHARACTER_CLASS flag is specified.\r\n\r\n```\r\n\\p{Cntrl}\tA control character: \\p{gc=Cc}\r\n```\r\n\r\nSo, make sure to pass `Pattern.UNICODE_CHARACTER_CLASS`, and to use `Pattern.compile(&quot;\\\\p{Cntrl}&quot;).matcher(value).replaceAll(&quot;&quot;)`\r\n\r\nIt also seem that `\\p{Print}` would work, but if you specifically want to remove control characters `Cntrl` is the right class.\r\n\r\n### Demonstration\r\n\r\n```java\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\nclass Main {  \r\n  public static void main(String args[]) {\r\n    // Control characters are 00 to 1F included, this has 3\r\n    String value = &quot;&#193;&#233;&#252; œ, Š, Ÿ œ\\u0000\\u0010\\u001f&quot;;\r\n    String needle = &quot;\\\\p{Cntrl}&quot;;\r\n    Pattern pattern = Pattern.compile(needle, Pattern.UNICODE_CHARACTER_CLASS);\r\n    String result = pattern.matcher(value).replaceAll(&quot;&quot;);\r\n    System.out.println(value.length()); // Prints 16\r\n    System.out.println(result.length()); // Prints 13\r\n  }\r\n}\r\n```","title":"The regexp &quot;\\\\P{Print}&quot; used in Java deletes extended-Latin characters","body":"<p>According to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">the documentation</a>, by default those classes apply to US-ASCII only</p>\n<p>Specifically:</p>\n<pre><code>\\p{Lower}   A lower-case alphabetic character: [a-z]\n\\p{Upper}   An upper-case alphabetic character:[A-Z]\n\\p{Alpha}   An alphabetic character:[\\p{Lower}\\p{Upper}]\n\\p{Digit}   A decimal digit: [0-9]\n\\p{Alnum}   An alphanumeric character:[\\p{Alpha}\\p{Digit}]\n\\p{Graph}   A visible character: [\\p{Alnum}\\p{Punct}]\n\\p{Print}   A printable character: [\\p{Graph}\\x20]\n</code></pre>\n<p>putting it all together, <code>\\p{print}</code> matches <code>[a-zA-Z0-9\\x20]</code> only.</p>\n<p><strong>However</strong>, further down the documentation, we can find:</p>\n<blockquote>\n<p>The following Predefined Character classes and POSIX character classes are in conformance with the recommendation of Annex C: Compatibility Properties of Unicode Regular Expression , when UNICODE_CHARACTER_CLASS flag is specified.</p>\n</blockquote>\n<pre><code>\\p{Cntrl}   A control character: \\p{gc=Cc}\n</code></pre>\n<p>So, make sure to pass <code>Pattern.UNICODE_CHARACTER_CLASS</code>, and to use <code>Pattern.compile(&quot;\\\\p{Cntrl}&quot;).matcher(value).replaceAll(&quot;&quot;)</code></p>\n<p>It also seem that <code>\\p{Print}</code> would work, but if you specifically want to remove control characters <code>Cntrl</code> is the right class.</p>\n<h3>Demonstration</h3>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nclass Main {  \n  public static void main(String args[]) {\n    // Control characters are 00 to 1F included, this has 3\n    String value = &quot;Áéü œ, Š, Ÿ œ\\u0000\\u0010\\u001f&quot;;\n    String needle = &quot;\\\\p{Cntrl}&quot;;\n    Pattern pattern = Pattern.compile(needle, Pattern.UNICODE_CHARACTER_CLASS);\n    String result = pattern.matcher(value).replaceAll(&quot;&quot;);\n    System.out.println(value.length()); // Prints 16\n    System.out.println(result.length()); // Prints 13\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1680889589,"answer_count":1,"score":1,"last_activity_date":1681000033,"creation_date":1680888893,"question_id":75960746,"body_markdown":"I see that the following line in Java deletes extended-Latin characters, which it should not do:\r\n\r\n    String finalStr = value.replaceAll(&quot;\\\\P{Print}&quot;, &quot; &quot;); \r\n\r\nThe `\\\\P{Print}` regexp is used to delete non-printable characters below Code 32. But the Extended-Latin chars below are not non-printable, they are printable.\r\n\r\n`&#193;&#233;&#252; œ, Š, Ÿ œ`  =&gt; `     ,  ,    `\r\n\r\n    String finalStr = value.replaceAll(&quot;\\\\P{Print}&quot;, &quot; &quot;);\r\n\r\nIn my case, I need to delete all non-printable chars &lt;Code 32, but keep all other characters including Extended-Latin.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6198986/how-can-i-replace-non-printable-unicode-characters-in-java","title":"The regexp &quot;\\\\P{Print}&quot; used in Java deletes extended-Latin characters","body":"<p>I see that the following line in Java deletes extended-Latin characters, which it should not do:</p>\n<pre><code>String finalStr = value.replaceAll(&quot;\\\\P{Print}&quot;, &quot; &quot;); \n</code></pre>\n<p>The <code>\\\\P{Print}</code> regexp is used to delete non-printable characters below Code 32. But the Extended-Latin chars below are not non-printable, they are printable.</p>\n<p><code>Áéü œ, Š, Ÿ œ</code>  =&gt; <code>    ,  ,   </code></p>\n<pre><code>String finalStr = value.replaceAll(&quot;\\\\P{Print}&quot;, &quot; &quot;);\n</code></pre>\n<p>In my case, I need to delete all non-printable chars &lt;Code 32, but keep all other characters including Extended-Latin.</p>\n"},{"tags":["java","android","ios","flutter","hive"],"comments":[{"owner":{"account_id":291848,"reputation":2085,"user_id":594253,"accept_rate":50,"display_name":"John Weidner"},"score":1,"creation_date":1681002257,"post_id":75968213,"comment_id":133989098,"body_markdown":"Where are the imageFiles coming from? It looks like the saveTo method might return void.  So you wouldn&#39;t be able to assign the value that saveTo returns to the savedFile variable.","body":"Where are the imageFiles coming from? It looks like the saveTo method might return void.  So you wouldn&#39;t be able to assign the value that saveTo returns to the savedFile variable."}],"owner":{"account_id":28253116,"reputation":1,"user_id":21599010,"display_name":"Maaz Ahmed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680998914,"creation_date":1680998914,"question_id":75968213,"body_markdown":"```\r\n    final imagePaths = &lt;String&gt;[];\r\n    for (int i = 0; i &lt; _imageFiles!.length; i++) {\r\n      final imageFile = _imageFiles![i];\r\n      final directory = await getApplicationDocumentsDirectory();\r\n      final imagePath = &#39;${directory.path}/${const Uuid().v1()}.jpg&#39;;\r\n      final savedFile = await imageFile.saveTo(imagePath);\r\n      imagePaths.add(savedFile.path);\r\n    }\r\n\r\n```\r\nerror ; saved.File.path\r\nThis expression has a type of &#39;void&#39; so its value can&#39;t be used.\r\n\r\n\r\nWhy is it showing error?\r\nCan someone help me please?\r\n","title":"Flutter project image path saving problem : This expression has a type of &#39;void&#39; so its value can&#39;t be used","body":"<pre><code>    final imagePaths = &lt;String&gt;[];\n    for (int i = 0; i &lt; _imageFiles!.length; i++) {\n      final imageFile = _imageFiles![i];\n      final directory = await getApplicationDocumentsDirectory();\n      final imagePath = '${directory.path}/${const Uuid().v1()}.jpg';\n      final savedFile = await imageFile.saveTo(imagePath);\n      imagePaths.add(savedFile.path);\n    }\n\n</code></pre>\n<p>error ; saved.File.path\nThis expression has a type of 'void' so its value can't be used.</p>\n<p>Why is it showing error?\nCan someone help me please?</p>\n"},{"tags":["java","spring","boot"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1667351033,"post_id":74283137,"comment_id":131145688,"body_markdown":"why do you use those constructors with validation annotations? There&#39;s no validation happening as far as I know when you manually &quot;new&quot; objects and annotations can simply go on fields (e.g. https://www.baeldung.com/javax-validation#validation). Entities usually have to have a simple no args constructor for database serialization purposes, you can make it private or protected if you don&#39;t want to expose it to regular code","body":"why do you use those constructors with validation annotations? There&#39;s no validation happening as far as I know when you manually &quot;new&quot; objects and annotations can simply go on fields (e.g. <a href=\"https://www.baeldung.com/javax-validation#validation\" rel=\"nofollow noreferrer\">baeldung.com/javax-validation#validation</a>). Entities usually have to have a simple no args constructor for database serialization purposes, you can make it private or protected if you don&#39;t want to expose it to regular code"},{"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"score":0,"creation_date":1667356010,"post_id":74283137,"comment_id":131146386,"body_markdown":"When I generate the constructors with my code editor&#39;s autocomplete tools it does so. Just omit the constructor annotations, it won&#39;t generate any errors on insert or constructor creation. I am new to Java. But I&#39;ve read that I can&#39;t just create a constructor with all the attributes of a class, or an empty constructor and one with all the attributes. I follow this example of constructor overloading but I don&#39;t understand what is wrong, I follow the following example of constructor overloading:\n[link](https://javadesdecero.es/poo/sobrecarga-de-constructores/)","body":"When I generate the constructors with my code editor&#39;s autocomplete tools it does so. Just omit the constructor annotations, it won&#39;t generate any errors on insert or constructor creation. I am new to Java. But I&#39;ve read that I can&#39;t just create a constructor with all the attributes of a class, or an empty constructor and one with all the attributes. I follow this example of constructor overloading but I don&#39;t understand what is wrong, I follow the following example of constructor overloading: <a href=\"https://javadesdecero.es/poo/sobrecarga-de-constructores/\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1667390354,"post_id":74283137,"comment_id":131154657,"body_markdown":"There is nothing wrong with your constructors when it comes to Java itself, the issue is specific to JPA Entities. https://stackoverflow.com/questions/6033905/create-the-perfect-jpa-entity - Once you define a constructor in Java there is no more implicit no-argument constructor. So common practice it to manually add  one e.g. simply `protected Cliente() {}`. That constructor is used by the database code to create objects when loaded from the db, the others you define for yourself aren&#39;t used","body":"There is nothing wrong with your constructors when it comes to Java itself, the issue is specific to JPA Entities. <a href=\"https://stackoverflow.com/questions/6033905/create-the-perfect-jpa-entity\" title=\"create the perfect jpa entity\">stackoverflow.com/questions/6033905/&hellip;</a> - Once you define a constructor in Java there is no more implicit no-argument constructor. So common practice it to manually add  one e.g. simply <code>protected Cliente() {}</code>. That constructor is used by the database code to create objects when loaded from the db, the others you define for yourself aren&#39;t used"},{"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"score":0,"creation_date":1667401751,"post_id":74283137,"comment_id":131159156,"body_markdown":"@zapl Doing this solved my problem, thank you very much for taking the time to answer and add an explanation &#128077;","body":"@zapl Doing this solved my problem, thank you very much for taking the time to answer and add an explanation 👍"}],"answers":[{"tags":[],"owner":{"account_id":15506175,"reputation":1,"user_id":11186277,"display_name":"Cinthya Cabanzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680997826,"creation_date":1680997826,"answer_id":75968168,"question_id":74283137,"body_markdown":"When you override a constructor you must to include the default constructor.\r\n\r\n&quot;We must also notice that the java compiler invokes a default constructor when we do not use any constructor in the class. However, the default constructor is not invoked if we have used any constructor in the class, whether it is default or parameterized. In this case, the java compiler throws an exception saying the constructor is undefined.&quot;\r\n\r\nSolution : \r\nUsing Lombok @NoArgsConstructor or \r\n\r\npublic Cliente()  {\r\n   \r\n}\r\n\r\nhttps://www.javatpoint.com/constructor-overloading-in-java","title":"No primary or single unique constructor found for class - spring boot","body":"<p>When you override a constructor you must to include the default constructor.</p>\n<p>&quot;We must also notice that the java compiler invokes a default constructor when we do not use any constructor in the class. However, the default constructor is not invoked if we have used any constructor in the class, whether it is default or parameterized. In this case, the java compiler throws an exception saying the constructor is undefined.&quot;</p>\n<p>Solution :\nUsing Lombok @NoArgsConstructor or</p>\n<p>public Cliente()  {</p>\n<p>}</p>\n<p><a href=\"https://www.javatpoint.com/constructor-overloading-in-java\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/constructor-overloading-in-java</a></p>\n"}],"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1932,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680997826,"creation_date":1667348682,"question_id":74283137,"body_markdown":"I got this error when using Spring *2.7.4*: **No primary or unique constructor found for class com.library.project.library_el_aleph.model.Client** I have two constructors for two possible inserts in my POJO Entity classes\r\n\r\n    \r\n     @Repository\r\n     public interface RoleRespository extends CrudRepository&lt;Role, Integer&gt;{\r\n\r\n         Role findByUserName(RoleList roleName);\r\n\r\n    \r\n    public Cliente(@NotEmpty @Pattern(regexp = &quot;^[A-Z][a-zA-Z]+&quot;) String userName, \r\n    @NotEmpty String email,\r\n        @NotEmpty String contrase&#241;a) {\r\n        this.userName = userName;\r\n        this.email = email;\r\n        this.contrase&#241;a = contrase&#241;a;\r\n    }\r\n\r\n    public Cliente(String productosCliente,\r\n        @NotEmpty @Pattern(regexp = &quot;^[A-Z][a-zA-Z]+&quot;) String userName, @NotEmpty String segundoNombre,\r\n        @NotEmpty String primerApellido, @NotEmpty String segundoApellido, @NotEmpty String ciudadCliente,\r\n        @NotEmpty String direccionCliente, @NotEmpty String email, @NotEmpty String contrase&#241;a,\r\n        @NotNull @Past Date fechaNacimiento, @NotNull Set&lt;Role&gt; roles) {\r\n        \r\n        this.productosCliente = productosCliente;\r\n        this.userName = userName;\r\n        this.segundoNombre = segundoNombre;\r\n        this.primerApellido = primerApellido;\r\n        this.segundoApellido = segundoApellido;\r\n        this.ciudadCliente = ciudadCliente;\r\n        this.direccionCliente = direccionCliente;\r\n        this.email = email;\r\n        this.contrase&#241;a = contrase&#241;a;\r\n        this.fechaNacimiento = fechaNacimiento;\r\n        this.roles = roles;\r\n    }\r\n\r\n    \r\n    }\r\n\r\nThis is part of the code of my RESTController with the method that sets the @RequesBody inputs:\r\n\r\n    @RequestMapping(value= &quot;/register&quot;, method = RequestMethod.POST)\r\n    public ResponseEntity&lt;Object&gt; register(@Valid @RequestBody NewUser newUser, \r\n    BindingResult send){\r\n        \r\n        if(send.hasErrors())\r\n            return new ResponseEntity&lt;&gt;(new Message(&quot;Error en el registro, por favor \r\n        valide nuevamente&quot;), HttpStatus.BAD_REQUEST);\r\n\r\n        try {\r\n            Cliente creatingUser = new Cliente(newUser.getPrimerNombre(), \r\n            newUser.getEmail(), passwordEncoder.encode(newUser.getPassword()));\r\n            Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n            roles.add(roleServices.getRoleByName(RoleList.ROLE_USER).get());\r\n            if(newUser.getRoles().contains(&quot;Admin&quot;))\r\n                roles.add(roleServices.getRoleByName(RoleList.ROLE_ADMIN).get());\r\n            creatingUser.setRoles(roles);\r\n            clienteServices.saveNewUser(creatingUser);\r\n            return new ResponseEntity&lt;&gt;(new Message(&quot;El usuario ha sido creado correctamente&quot;), HttpStatus.OK);\r\n\r\n        } catch (Exception e) {\r\n            return new ResponseEntity&lt;Object&gt;(new Message(&quot;Ha ocurrido un error inesperado con el servidor, por favor intente nuevamente m&#225;s tarde&quot;), HttpStatus.BAD_REQUEST);\r\n            \r\n        }  \r\n    } \r\n\r\nIt is the first time that I use more than one constructor for the same class and I think that is why the error is due... Can anybody help me?","title":"No primary or single unique constructor found for class - spring boot","body":"<p>I got this error when using Spring <em>2.7.4</em>: <strong>No primary or unique constructor found for class com.library.project.library_el_aleph.model.Client</strong> I have two constructors for two possible inserts in my POJO Entity classes</p>\n<pre><code> @Repository\n public interface RoleRespository extends CrudRepository&lt;Role, Integer&gt;{\n\n     Role findByUserName(RoleList roleName);\n\n\npublic Cliente(@NotEmpty @Pattern(regexp = &quot;^[A-Z][a-zA-Z]+&quot;) String userName, \n@NotEmpty String email,\n    @NotEmpty String contraseña) {\n    this.userName = userName;\n    this.email = email;\n    this.contraseña = contraseña;\n}\n\npublic Cliente(String productosCliente,\n    @NotEmpty @Pattern(regexp = &quot;^[A-Z][a-zA-Z]+&quot;) String userName, @NotEmpty String segundoNombre,\n    @NotEmpty String primerApellido, @NotEmpty String segundoApellido, @NotEmpty String ciudadCliente,\n    @NotEmpty String direccionCliente, @NotEmpty String email, @NotEmpty String contraseña,\n    @NotNull @Past Date fechaNacimiento, @NotNull Set&lt;Role&gt; roles) {\n    \n    this.productosCliente = productosCliente;\n    this.userName = userName;\n    this.segundoNombre = segundoNombre;\n    this.primerApellido = primerApellido;\n    this.segundoApellido = segundoApellido;\n    this.ciudadCliente = ciudadCliente;\n    this.direccionCliente = direccionCliente;\n    this.email = email;\n    this.contraseña = contraseña;\n    this.fechaNacimiento = fechaNacimiento;\n    this.roles = roles;\n}\n\n\n}\n</code></pre>\n<p>This is part of the code of my RESTController with the method that sets the @RequesBody inputs:</p>\n<pre><code>@RequestMapping(value= &quot;/register&quot;, method = RequestMethod.POST)\npublic ResponseEntity&lt;Object&gt; register(@Valid @RequestBody NewUser newUser, \nBindingResult send){\n    \n    if(send.hasErrors())\n        return new ResponseEntity&lt;&gt;(new Message(&quot;Error en el registro, por favor \n    valide nuevamente&quot;), HttpStatus.BAD_REQUEST);\n\n    try {\n        Cliente creatingUser = new Cliente(newUser.getPrimerNombre(), \n        newUser.getEmail(), passwordEncoder.encode(newUser.getPassword()));\n        Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n        roles.add(roleServices.getRoleByName(RoleList.ROLE_USER).get());\n        if(newUser.getRoles().contains(&quot;Admin&quot;))\n            roles.add(roleServices.getRoleByName(RoleList.ROLE_ADMIN).get());\n        creatingUser.setRoles(roles);\n        clienteServices.saveNewUser(creatingUser);\n        return new ResponseEntity&lt;&gt;(new Message(&quot;El usuario ha sido creado correctamente&quot;), HttpStatus.OK);\n\n    } catch (Exception e) {\n        return new ResponseEntity&lt;Object&gt;(new Message(&quot;Ha ocurrido un error inesperado con el servidor, por favor intente nuevamente más tarde&quot;), HttpStatus.BAD_REQUEST);\n        \n    }  \n} \n</code></pre>\n<p>It is the first time that I use more than one constructor for the same class and I think that is why the error is due... Can anybody help me?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1679139469,"post_id":75775579,"comment_id":133669996,"body_markdown":"does following work: `ifPresent(parent -&gt; {parentRepository.delete(parent); parentRepository.flush();})`?","body":"does following work: <code>ifPresent(parent -&gt; {parentRepository.delete(parent); parentRepository.flush();})</code>?"},{"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"score":0,"creation_date":1679140578,"post_id":75775579,"comment_id":133670131,"body_markdown":"@AndreyB.Panfilov : I tried below, but still getting same error.                                 \n   `parentIds.stream().forEach(id -&gt; parentRepository.findById(id).ifPresent(parent-&gt; {\n          parent.getchild1().clear();\n          parent.getchild2().clear();\n          parentRepository.delete(parent);\n          parentRepository.flush();\n        }));`","body":"@AndreyB.Panfilov : I tried below, but still getting same error.                                     <code>parentIds.stream().forEach(id -&gt; parentRepository.findById(id).ifPresent(parent-&gt; {           parent.getchild1().clear();           parent.getchild2().clear();           parentRepository.delete(parent);           parentRepository.flush();         }));</code>"},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1679153567,"post_id":75775579,"comment_id":133672208,"body_markdown":"Did you try without `stream`? I have a vague memory of something like this being solved with an enhanced for loop (implying you are only using `forEach`), but I can&#39;t find it at the moment.","body":"Did you try without <code>stream</code>? I have a vague memory of something like this being solved with an enhanced for loop (implying you are only using <code>forEach</code>), but I can&#39;t find it at the moment."},{"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"score":0,"creation_date":1679157184,"post_id":75775579,"comment_id":133672884,"body_markdown":"@JettoMart&#237;nez : I tried like below also, but still same issue for second record, though it deletes the first one. `for (String id : ids) {\n      final var entity = parentRepository.findById(id);\n      if (entity.isPresent()) {\n        final var parent= entity.get();\n        parent.getchild1().clear(); parent.getchild2().clear(); parentRepository.delete(parent);           parentRepository.flush(); }}`","body":"@JettoMart&#237;nez : I tried like below also, but still same issue for second record, though it deletes the first one. <code>for (String id : ids) {       final var entity = parentRepository.findById(id);       if (entity.isPresent()) {         final var parent= entity.get();         parent.getchild1().clear(); parent.getchild2().clear(); parentRepository.delete(parent);           parentRepository.flush(); }}</code>"}],"answers":[{"comments":[{"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"score":0,"creation_date":1679186488,"post_id":75777808,"comment_id":133676506,"body_markdown":"can you please share your code ?","body":"can you please share your code ?"},{"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"score":0,"creation_date":1679186678,"post_id":75777808,"comment_id":133676523,"body_markdown":"You tried deleting by iterating array of Id&#39;s?","body":"You tried deleting by iterating array of Id&#39;s?"},{"owner":{"account_id":23743014,"reputation":41,"user_id":17760832,"display_name":"MohadAbulawi"},"score":0,"creation_date":1679768285,"post_id":75777808,"comment_id":133781382,"body_markdown":"Here you go https://github.com/Biggestprime/test-stackoverflow","body":"Here you go <a href=\"https://github.com/Biggestprime/test-stackoverflow\" rel=\"nofollow noreferrer\">github.com/Biggestprime/test-stackoverflow</a>"}],"tags":[],"owner":{"account_id":23743014,"reputation":41,"user_id":17760832,"display_name":"MohadAbulawi"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679163351,"creation_date":1679163351,"answer_id":75777808,"question_id":75775579,"body_markdown":"I tried doing the same as you did and it worked with no issues. Just make sure the data is correctly inserted into the database, for example, make sure the two child table&#39;s records reference different parent entities, so if the first one deletes the parent the other parent record doesn&#39;t get deleted.","title":"Spring Boot Jpa Delete not working for second entity","body":"<p>I tried doing the same as you did and it worked with no issues. Just make sure the data is correctly inserted into the database, for example, make sure the two child table's records reference different parent entities, so if the first one deletes the parent the other parent record doesn't get deleted.</p>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680996820,"creation_date":1679139057,"question_id":75775579,"body_markdown":"I am using Spring Boot with Hibernate. I have an entity parent having relationship with two different child (child1 and child2) entities. I have two records in DB where first record, parent with child1 and second record, parent with chid2. At any point one parent cannot have both child1 and child2 in my case. I am trying to delete parent records using list of parent Ids, expecting both parent and child to get deleted. But only for first Id, I could see delete statement for both parent and child1 but for the second Id, it tries to delete parent without deleting child2 and it throws constraint violation error.\r\n\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;parent&quot; violates foreign key constraint &quot;child2_parent_FK&quot; on table &quot;child2&quot;\r\n    \r\n\r\n    Parent.java\r\n\r\n    @Entity\r\n    @Table(schema = &quot;test&quot;, name = &quot;parent&quot;)\r\n    public class Parent {\r\n        @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;parent&quot;, \r\n        orphanRemoval = true)\r\n        private Set&lt;Child1&gt; child1 = new HashSet&lt;&gt;();\r\n\r\n        @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;parent&quot;, \r\n        orphanRemoval = true)\r\n        private Set&lt;Child2&gt; child2 = new HashSet&lt;&gt;();\r\n\r\n        ...\r\n    }\r\n \r\n    Child1.java\r\n    @Entity\r\n    @Table(schema = &quot;test&quot;, name = &quot;child1&quot;)\r\n    public class Child1 {\r\n\r\n       @ManyToOne\r\n       @JoinColumn(name = &quot;parent_functional_id&quot;, nullable = false)\r\n       private Parent parent;\r\n       ...\r\n    }\r\n\r\n    Child2.java\r\n    @Entity\r\n    @Table(schema = &quot;test&quot;, name = &quot;child2&quot;)\r\n    public class Child2 {\r\n\r\n       @ManyToOne\r\n       @JoinColumn(name = &quot;parent_functional_id&quot;, nullable = false)\r\n       private Parent parent;\r\n       ...\r\n    }\r\n\r\nCreated two Parent records, first parent with child1 and another parent with child2. Using below code to delete Parent records.\r\n\r\n    parentIds.stream().forEach(id -&gt; parentRepository.findById(id)\r\n        .ifPresent(parent -&gt; parentRepository.delete(parent)));\r\n\r\nBut I could see for first Id it generates delete statement for both Parent and child1 and for second Id where it have relationship with child2, it tries to delete only Parent and throws above error. I tried passing Id that has child2 first, in this case it works for first Id and throws error for second one that has relationship with child1.\r\n\r\nI tried with @Transactional but still same error.\r\n\r\nEdit\r\n---\r\n\r\nIf I pass one id in first request and another id in another request, it gets deleted. Issue occurs if I pass two Ids in same request and iterate the Ids and delete one by one.\r\n","title":"Spring Boot Jpa Delete not working for second entity","body":"<p>I am using Spring Boot with Hibernate. I have an entity parent having relationship with two different child (child1 and child2) entities. I have two records in DB where first record, parent with child1 and second record, parent with chid2. At any point one parent cannot have both child1 and child2 in my case. I am trying to delete parent records using list of parent Ids, expecting both parent and child to get deleted. But only for first Id, I could see delete statement for both parent and child1 but for the second Id, it tries to delete parent without deleting child2 and it throws constraint violation error.</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: ERROR: update or delete on table &quot;parent&quot; violates foreign key constraint &quot;child2_parent_FK&quot; on table &quot;child2&quot;\n\n\nParent.java\n\n@Entity\n@Table(schema = &quot;test&quot;, name = &quot;parent&quot;)\npublic class Parent {\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;parent&quot;, \n    orphanRemoval = true)\n    private Set&lt;Child1&gt; child1 = new HashSet&lt;&gt;();\n\n    @OneToMany(fetch = FetchType.LAZY, cascade = CascadeType.ALL, mappedBy = &quot;parent&quot;, \n    orphanRemoval = true)\n    private Set&lt;Child2&gt; child2 = new HashSet&lt;&gt;();\n\n    ...\n}\n\nChild1.java\n@Entity\n@Table(schema = &quot;test&quot;, name = &quot;child1&quot;)\npublic class Child1 {\n\n   @ManyToOne\n   @JoinColumn(name = &quot;parent_functional_id&quot;, nullable = false)\n   private Parent parent;\n   ...\n}\n\nChild2.java\n@Entity\n@Table(schema = &quot;test&quot;, name = &quot;child2&quot;)\npublic class Child2 {\n\n   @ManyToOne\n   @JoinColumn(name = &quot;parent_functional_id&quot;, nullable = false)\n   private Parent parent;\n   ...\n}\n</code></pre>\n<p>Created two Parent records, first parent with child1 and another parent with child2. Using below code to delete Parent records.</p>\n<pre><code>parentIds.stream().forEach(id -&gt; parentRepository.findById(id)\n    .ifPresent(parent -&gt; parentRepository.delete(parent)));\n</code></pre>\n<p>But I could see for first Id it generates delete statement for both Parent and child1 and for second Id where it have relationship with child2, it tries to delete only Parent and throws above error. I tried passing Id that has child2 first, in this case it works for first Id and throws error for second one that has relationship with child1.</p>\n<p>I tried with @Transactional but still same error.</p>\n<h2>Edit</h2>\n<p>If I pass one id in first request and another id in another request, it gets deleted. Issue occurs if I pass two Ids in same request and iterate the Ids and delete one by one.</p>\n"},{"tags":["java","spring-boot","hazelcast","hazelcast-jet"],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680996761,"creation_date":1679915626,"question_id":75855072,"body_markdown":"I have created a Spring Boot application in which we are joining multiple datasources using Hazelcast Jet. For small datasource it is working very good but as datasource records increases above 1 million it start occupying too much memory and memory leakage. I am not sure what is wrong. How can I increase joining speed and low memory usage? I have allocated 8gb ram memory to my application.\r\n\r\nBelow is the code to call Pipeline:\r\n\r\n    UUID idOne = UUID.randomUUID();\r\n    DataFactory av = new DataFactory(idOne.toString());\r\n    av.buildJetInstance();\r\n    Map&lt;String, Object&gt; p = new HashMap&lt;String, Object&gt;();\r\n    p.putAll((Map&lt;String, Object&gt;) data.get(&quot;alldata&quot;));\r\n    av.readMaptoJsonFile(p);\r\n    Pipeline pl = av.createPipeline();\r\n    av.runProcess(pl);\r\n    \r\n    public class DataFactory implements Serializable {\r\n    \r\n    \tpublic String uid;\r\n    \tpublic DataFactory(String uid) {\r\n    \t\tthis.uid = uid;\r\n    \t}\r\n    \t\r\n    \tpublic JetInstance buildJetInstance() {\r\n    \t\t\r\n    \r\n            JetConfig jetConfig = new JetConfig();\r\n    \r\n            jetConfig.getInstanceConfig().setCooperativeThreadCount(5);\r\n            jetConfig.configureHazelcast(c -&gt; {\r\n                c.getNetworkConfig().setReuseAddress(true);\r\n                c.setClusterName(&quot;DATA&quot; + UUID.randomUUID().toString());\r\n                c.getNetworkConfig().getJoin().getTcpIpConfig().setEnabled(true).setMembers(Arrays.asList(new String[] {&quot;localhost&quot;}));\r\n                \r\n            });\r\n            EtlObjects.jetInstance = Jet.newJetInstance(jetConfig);\r\n    \t\treturn EtlObjects.jetInstance;\r\n        }\r\n    \t\r\n    \tpublic Pipeline createPipeline() {\r\n    \t\treturn Pipeline.create();\r\n    \t}\r\n    \t\r\n    \tpublic void joinPipeToJet(Pipeline pl, String name) {\r\n    \t\tJobConfig j = new JobConfig();\r\n    \t\tj.setName(name);\r\n    \t\tEtlObjects.jetInstance.newJob(pl,j).join();\r\n    \t}\r\n    \t\r\n    \tpublic void readMaptoJsonFile(final Map&lt;String, Object&gt; data) {\r\n    \t\tString jobid = UUID.randomUUID().toString();\r\n    \t\ttry {\r\n    \t\t\tPipeline pl = createPipeline();\r\n    \t\t\tUUID idOne = UUID.randomUUID();\r\n    \t\t\t\r\n    \t\t\t final IMap&lt;Object, Object&gt; abc = EtlObjects.jetInstance.getMap(idOne.toString());\r\n    \t\t\t abc.putAll(data);\r\n    \t\t\t\r\n    \t\t\t final BatchSource batchSource = Sources.map(abc);\r\n    \t\t\t \r\n    \t\t\t        pl.readFrom(batchSource)\r\n    \t\t\t            .writeTo(Sinks.map(this.uid));\r\n    \t\t\t        \r\n    \t\t\tjoinPipeToJet(pl, jobid);\r\n    \t\t\t abc.destroy();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tJob j1 = EtlObjects.jetInstance.getJob(jobid);\r\n    \t\t\tif (j1 != null) {\r\n    \t\t\t\tj1.cancel();\r\n    \t\t\t}\r\n    \t\t} finally {\r\n    \t\t\tJob j1 = EtlObjects.jetInstance.getJob(jobid);\r\n    \t\t\tif (j1 != null) {\r\n    \t\t\t\tj1.cancel();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic Map&lt;String, Object&gt; runProcess(final Pipeline pl) {\r\n    \t\t\r\n    \t\t//Where all source batch will be stored\r\n    \t\tfinal Map&lt;String, BatchStage&lt;Object&gt;&gt; allBatch = new HashMap&lt;String, BatchStage&lt;Object&gt;&gt;();\r\n    \t\r\n    \t\tfinal Map&lt;String, Object&gt; data = // will get data from Pipeline \r\n    \t\t\r\n    \t\t\r\n    \t\t//Here we will get data from different datasources (jdbc, csv, text etc.) and it will be store in allBatch\r\n    \t\t((List&lt;Map&lt;String, Object&gt;&gt;)data.get(&quot;sources&quot;)).stream().forEach(z -&gt; {\r\n    \t\t\r\n    \t\t\t\t//jdbcSource where we get data from database\r\n    \t\t\tallBatch.put(z.get(&quot;id&quot;).toString(), pl.readFrom(jdbcSource));\r\n    \t\t\r\n    \t\t});\r\n    \t\t\r\n    \t\t//Here we will right the logic for the joining multiple datasources\r\n    \t\t((List&lt;Map&lt;String, Object&gt;&gt;)data.get(&quot;joins&quot;)).stream().forEach(z -&gt; {\r\n    \t\t\t\tallBatch.put(&quot;result&quot;,new JoinData().join(data, allBatch.get(z.get(&quot;id1&quot;).toString()), allBatch.get(z.get(&quot;id2&quot;).toString()),pl,joinKeys));\r\n    \t\t});\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t}\r\nBelow is the inner join where I join to datasources:\r\n\r\n    \tpublic BatchStage&lt;Object&gt; JoinData() {\r\n    \t\r\n    \t\t\t//Here is the logic for the inner joining\r\n    \t\r\n    \t\t\t BatchStageWithKey&lt;Object, String&gt; jdbcGroupByKey = batch1.filter(k -&gt; ((Map&lt;String, Object&gt;)k).get(col1) != null).groupingKey(jdbcData -&gt;  {\r\n    \t\t\t\t\t// gorup by join key\r\n                });\r\n    \t\t\tBatchStageWithKey&lt;Object, String&gt; csvGroupByKey = batch2.filter(k -&gt; ((Map&lt;String, Object&gt;)k).get(col1) != null).groupingKey(jdbcData -&gt;  {\r\n    \t\t\t\t\t// gorup by join key\r\n                });\r\n    \t\t\t\r\n    \t\t\t//Aggregate here\r\n    \t\t\tBatchStage&lt;Entry&lt;String, Tuple2&lt;List&lt;Object&gt;, List&lt;Object&gt;&gt;&gt;&gt; d = jdbcGroupByKey.aggregate2(AggregateOperations.toList(),csvGroupByKey,AggregateOperations.toList());\r\n    \t\t\t\r\n    \t\t\tBatchStage&lt;List&lt;Object&gt;&gt; jdbcBatchStageData = d.map(e -&gt; { \r\n    \t\t\t\t\t// joining\r\n    \t\t\t});\r\n    \t\t\t\r\n    \t\t\treturn jdbcBatchStageData;\r\n    \t\t\t\r\n    \t}\r\n    \t\r\nAnd sometime joining multiple pipeline at same time gives below error:\r\n\r\n        2023-03-24 09:39:15,092 [ INFO] - processors=4, physical.memory.total=15.4G, physical.memory.free=7.3G, swap.space.total=0, swap.space.free=0, heap.memory.used=2.8G, \r\n    heap.memory.free=1.1G, heap.memory.total=3.9G, heap.memory.max=7.1G, \r\n    heap.memory.used/total=70.82%, heap.memory.used/max=38.70%, minor.gc.count=228, \r\n    minor.gc.time=14798ms, major.gc.count=5, major.gc.time=2766ms, load.process=0.00%, \r\n    load.system=0.00%, load.systemAverage=2.28, thread.count=84, thread.peakCount=119, \r\n    cluster.timeDiff=0, event.q.size=0, executor.q.async.size=0, executor.q.client.size=0, \r\n    executor.q.client.query.size=0, executor.q.client.blocking.size=0, executor.q.query.size=0, \r\n    executor.q.scheduled.size=0, executor.q.io.size=0, executor.q.system.size=0, \r\n    executor.q.operations.size=0, executor.q.priorityOperation.size=0, \r\n    operations.completed.count=5818629, executor.q.mapLoad.size=0, executor.q.mapLoadAllKeys.size=0, \r\n    executor.q.cluster.size=0, executor.q.response.size=0, operations.running.count=0, \r\n    operations.pending.invocations.percentage=0.00%, operations.pending.invocations.count=0, \r\n    proxy.count=10, clientEndpoint.count=0, connection.active.count=0, client.connection.count=0,\r\n     connection.count=0\r\n\r\n    \t\r\nHow can I improve performance of it?\r\n ","title":"Hazelcast Jet multiple datasource join slow down machine and high memory usage","body":"<p>I have created a Spring Boot application in which we are joining multiple datasources using Hazelcast Jet. For small datasource it is working very good but as datasource records increases above 1 million it start occupying too much memory and memory leakage. I am not sure what is wrong. How can I increase joining speed and low memory usage? I have allocated 8gb ram memory to my application.</p>\n<p>Below is the code to call Pipeline:</p>\n<pre><code>UUID idOne = UUID.randomUUID();\nDataFactory av = new DataFactory(idOne.toString());\nav.buildJetInstance();\nMap&lt;String, Object&gt; p = new HashMap&lt;String, Object&gt;();\np.putAll((Map&lt;String, Object&gt;) data.get(&quot;alldata&quot;));\nav.readMaptoJsonFile(p);\nPipeline pl = av.createPipeline();\nav.runProcess(pl);\n\npublic class DataFactory implements Serializable {\n\n    public String uid;\n    public DataFactory(String uid) {\n        this.uid = uid;\n    }\n    \n    public JetInstance buildJetInstance() {\n        \n\n        JetConfig jetConfig = new JetConfig();\n\n        jetConfig.getInstanceConfig().setCooperativeThreadCount(5);\n        jetConfig.configureHazelcast(c -&gt; {\n            c.getNetworkConfig().setReuseAddress(true);\n            c.setClusterName(&quot;DATA&quot; + UUID.randomUUID().toString());\n            c.getNetworkConfig().getJoin().getTcpIpConfig().setEnabled(true).setMembers(Arrays.asList(new String[] {&quot;localhost&quot;}));\n            \n        });\n        EtlObjects.jetInstance = Jet.newJetInstance(jetConfig);\n        return EtlObjects.jetInstance;\n    }\n    \n    public Pipeline createPipeline() {\n        return Pipeline.create();\n    }\n    \n    public void joinPipeToJet(Pipeline pl, String name) {\n        JobConfig j = new JobConfig();\n        j.setName(name);\n        EtlObjects.jetInstance.newJob(pl,j).join();\n    }\n    \n    public void readMaptoJsonFile(final Map&lt;String, Object&gt; data) {\n        String jobid = UUID.randomUUID().toString();\n        try {\n            Pipeline pl = createPipeline();\n            UUID idOne = UUID.randomUUID();\n            \n             final IMap&lt;Object, Object&gt; abc = EtlObjects.jetInstance.getMap(idOne.toString());\n             abc.putAll(data);\n            \n             final BatchSource batchSource = Sources.map(abc);\n             \n                    pl.readFrom(batchSource)\n                        .writeTo(Sinks.map(this.uid));\n                    \n            joinPipeToJet(pl, jobid);\n             abc.destroy();\n        } catch (Exception e) {\n            Job j1 = EtlObjects.jetInstance.getJob(jobid);\n            if (j1 != null) {\n                j1.cancel();\n            }\n        } finally {\n            Job j1 = EtlObjects.jetInstance.getJob(jobid);\n            if (j1 != null) {\n                j1.cancel();\n            }\n        }\n    }\n    \n    public Map&lt;String, Object&gt; runProcess(final Pipeline pl) {\n        \n        //Where all source batch will be stored\n        final Map&lt;String, BatchStage&lt;Object&gt;&gt; allBatch = new HashMap&lt;String, BatchStage&lt;Object&gt;&gt;();\n    \n        final Map&lt;String, Object&gt; data = // will get data from Pipeline \n        \n        \n        //Here we will get data from different datasources (jdbc, csv, text etc.) and it will be store in allBatch\n        ((List&lt;Map&lt;String, Object&gt;&gt;)data.get(&quot;sources&quot;)).stream().forEach(z -&gt; {\n        \n                //jdbcSource where we get data from database\n            allBatch.put(z.get(&quot;id&quot;).toString(), pl.readFrom(jdbcSource));\n        \n        });\n        \n        //Here we will right the logic for the joining multiple datasources\n        ((List&lt;Map&lt;String, Object&gt;&gt;)data.get(&quot;joins&quot;)).stream().forEach(z -&gt; {\n                allBatch.put(&quot;result&quot;,new JoinData().join(data, allBatch.get(z.get(&quot;id1&quot;).toString()), allBatch.get(z.get(&quot;id2&quot;).toString()),pl,joinKeys));\n        });\n        \n        \n        \n    }\n    }\n</code></pre>\n<p>Below is the inner join where I join to datasources:</p>\n<pre><code>    public BatchStage&lt;Object&gt; JoinData() {\n    \n            //Here is the logic for the inner joining\n    \n             BatchStageWithKey&lt;Object, String&gt; jdbcGroupByKey = batch1.filter(k -&gt; ((Map&lt;String, Object&gt;)k).get(col1) != null).groupingKey(jdbcData -&gt;  {\n                    // gorup by join key\n            });\n            BatchStageWithKey&lt;Object, String&gt; csvGroupByKey = batch2.filter(k -&gt; ((Map&lt;String, Object&gt;)k).get(col1) != null).groupingKey(jdbcData -&gt;  {\n                    // gorup by join key\n            });\n            \n            //Aggregate here\n            BatchStage&lt;Entry&lt;String, Tuple2&lt;List&lt;Object&gt;, List&lt;Object&gt;&gt;&gt;&gt; d = jdbcGroupByKey.aggregate2(AggregateOperations.toList(),csvGroupByKey,AggregateOperations.toList());\n            \n            BatchStage&lt;List&lt;Object&gt;&gt; jdbcBatchStageData = d.map(e -&gt; { \n                    // joining\n            });\n            \n            return jdbcBatchStageData;\n            \n    }\n    \n</code></pre>\n<p>And sometime joining multiple pipeline at same time gives below error:</p>\n<pre><code>    2023-03-24 09:39:15,092 [ INFO] - processors=4, physical.memory.total=15.4G, physical.memory.free=7.3G, swap.space.total=0, swap.space.free=0, heap.memory.used=2.8G, \nheap.memory.free=1.1G, heap.memory.total=3.9G, heap.memory.max=7.1G, \nheap.memory.used/total=70.82%, heap.memory.used/max=38.70%, minor.gc.count=228, \nminor.gc.time=14798ms, major.gc.count=5, major.gc.time=2766ms, load.process=0.00%, \nload.system=0.00%, load.systemAverage=2.28, thread.count=84, thread.peakCount=119, \ncluster.timeDiff=0, event.q.size=0, executor.q.async.size=0, executor.q.client.size=0, \nexecutor.q.client.query.size=0, executor.q.client.blocking.size=0, executor.q.query.size=0, \nexecutor.q.scheduled.size=0, executor.q.io.size=0, executor.q.system.size=0, \nexecutor.q.operations.size=0, executor.q.priorityOperation.size=0, \noperations.completed.count=5818629, executor.q.mapLoad.size=0, executor.q.mapLoadAllKeys.size=0, \nexecutor.q.cluster.size=0, executor.q.response.size=0, operations.running.count=0, \noperations.pending.invocations.percentage=0.00%, operations.pending.invocations.count=0, \nproxy.count=10, clientEndpoint.count=0, connection.active.count=0, client.connection.count=0,\n connection.count=0\n\n    \n</code></pre>\n<p>How can I improve performance of it?</p>\n"},{"tags":["java","datetime","simpledateformat","localtime"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1680542320,"post_id":75918994,"comment_id":133912672,"body_markdown":"I suppose that `2023-04-02T06:30:00z` is a typo on your part and you want 6:30 PM AKA 18:30. Can you confirm or deny, please?","body":"I suppose that <code>2023-04-02T06:30:00z</code> is a typo on your part and you want 6:30 PM AKA 18:30. Can you confirm or deny, please?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1680549346,"post_id":75918994,"comment_id":133914297,"body_markdown":"Though not the same you may find this question and its answers helpful: [Start and End of Week w/ ThreeTenBackport](https://stackoverflow.com/questions/56742948/start-and-end-of-week-w-threetenbackport)","body":"Though not the same you may find this question and its answers helpful: <a href=\"https://stackoverflow.com/questions/56742948/start-and-end-of-week-w-threetenbackport\">Start and End of Week w/ ThreeTenBackport</a>"}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1680533455,"post_id":75919435,"comment_id":133910413,"body_markdown":"I suggest you skip the needless involvement of a `LocalDateTime`. Just pass the `ZoneId` to `atStartOfDay` to get a `ZonedDateTime`.","body":"I suggest you skip the needless involvement of a <code>LocalDateTime</code>. Just pass the <code>ZoneId</code> to <code>atStartOfDay</code> to get a <code>ZonedDateTime</code>."}],"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680525149,"creation_date":1680524375,"answer_id":75919435,"question_id":75918994,"body_markdown":"TLDR:\r\n```java\r\nLocalDate localDate = LocalDate.parse(&quot;2023-04-03&quot;);\r\nZonedDateTime startOfDay = localDate.atStartOfDay().atZone(ZoneOffset.systemDefault());\r\nZonedDateTime endOfDay = localDate.plusDays(1).atStartOfDay().atZone(ZoneOffset.systemDefault());\r\n\r\nSystem.out.println(startOfDay.toInstant() + &quot;, &quot; + endOfDay.toInstant());\r\n```\r\n---\r\n**Explanation:**\r\n\r\nWith this Line\r\n\r\n```java\r\nZonedDateTime zdt = ldt.atZone(ZoneId.of(&quot;UTC&quot;));\r\n```\r\n\r\nYou configure the time you created in the LocalDateTime at the Zone UTC.\r\n\r\nI assume you (or your system) are not at UTC-Time so you need to define the `ZonedDateTime` at your `ZoneId` like this:\r\n\r\n```java\r\nZonedDateTime startOfDay = localDate.atStartOfDay().atZone(ZoneOffset.systemDefault());\r\n```\r\nIf you want to define your `ZoneID` not from your system you can do something like this (IST for example):\r\n\r\n```java\r\nZonedDateTime startOfDay = localDate.atStartOfDay().atZone(ZoneId.of(ZoneId.SHORT_IDS.get(&quot;IST&quot;)));\r\n```","title":"Convert Date to UTC DateTime","body":"<p>TLDR:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate localDate = LocalDate.parse(&quot;2023-04-03&quot;);\nZonedDateTime startOfDay = localDate.atStartOfDay().atZone(ZoneOffset.systemDefault());\nZonedDateTime endOfDay = localDate.plusDays(1).atStartOfDay().atZone(ZoneOffset.systemDefault());\n\nSystem.out.println(startOfDay.toInstant() + &quot;, &quot; + endOfDay.toInstant());\n</code></pre>\n<hr />\n<p><strong>Explanation:</strong></p>\n<p>With this Line</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime zdt = ldt.atZone(ZoneId.of(&quot;UTC&quot;));\n</code></pre>\n<p>You configure the time you created in the LocalDateTime at the Zone UTC.</p>\n<p>I assume you (or your system) are not at UTC-Time so you need to define the <code>ZonedDateTime</code> at your <code>ZoneId</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime startOfDay = localDate.atStartOfDay().atZone(ZoneOffset.systemDefault());\n</code></pre>\n<p>If you want to define your <code>ZoneID</code> not from your system you can do something like this (IST for example):</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZonedDateTime startOfDay = localDate.atStartOfDay().atZone(ZoneId.of(ZoneId.SHORT_IDS.get(&quot;IST&quot;)));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1680542094,"post_id":75920896,"comment_id":133912617,"body_markdown":"The question asked for `2023-04-02T18:30:00z`, and the OP is located in Pune, India. When I run your code with Asa/Kolkata as default time zone, I get `2023-04-03T00:00:00Z`, so not exactly what was asked for. Still upvoted for the good information and suggestions in the answer.","body":"The question asked for <code>2023-04-02T18:30:00z</code>, and the OP is located in Pune, India. When I run your code with Asa/Kolkata as default time zone, I get <code>2023-04-03T00:00:00Z</code>, so not exactly what was asked for. Still upvoted for the good information and suggestions in the answer."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680534022,"creation_date":1680534022,"answer_id":75920896,"question_id":75918994,"body_markdown":"# Skip `LocaDateTime`\r\n\r\nNo need to involve a `LocalDateTime`. That class cannot represent a point on the timeline. Its usage here only confuses things. \r\n\r\n    LocalDate               // Represent a date-only value. No time of day. No time zone or offset. \r\n    .parse( &quot;2023-04-03&quot; )  // Parse text in standard ISO 8601 format. Returns a `LocalDate` object. \r\n    .atStartOfDay(          // Let java.time determine the first moment of the day. While the day always starts at 00:00 in UTC, that is not always the case in some time zones on some dates. \r\n        ZoneOffset.UTC      // A constant, representing an offset of zero hours-minutes-seconds. \r\n    )                       // Returns a `ZonedDateTime`. \r\n    .toInstant()            // Adjusts to an offset from UTC of zero hours-minutes by converting to `Instant`. \r\n    .toString()             // Generate text in standard ISO 8601 format. ","title":"Convert Date to UTC DateTime","body":"<h1>Skip <code>LocaDateTime</code></h1>\n<p>No need to involve a <code>LocalDateTime</code>. That class cannot represent a point on the timeline. Its usage here only confuses things.</p>\n<pre><code>LocalDate               // Represent a date-only value. No time of day. No time zone or offset. \n.parse( &quot;2023-04-03&quot; )  // Parse text in standard ISO 8601 format. Returns a `LocalDate` object. \n.atStartOfDay(          // Let java.time determine the first moment of the day. While the day always starts at 00:00 in UTC, that is not always the case in some time zones on some dates. \n    ZoneOffset.UTC      // A constant, representing an offset of zero hours-minutes-seconds. \n)                       // Returns a `ZonedDateTime`. \n.toInstant()            // Adjusts to an offset from UTC of zero hours-minutes by converting to `Instant`. \n.toString()             // Generate text in standard ISO 8601 format. \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1680551909,"post_id":75922717,"comment_id":133914808,"body_markdown":"Ditto &#128522;Thanks for the feedback, @OleV.V. I thought the same but changed my answer before posting it. I should have kept both the inclusive and exclusive upper range. I have done it now.","body":"Ditto 😊Thanks for the feedback, @OleV.V. I thought the same but changed my answer before posting it. I should have kept both the inclusive and exclusive upper range. I have done it now."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1680582158,"post_id":75922717,"comment_id":133918342,"body_markdown":"While there is good information and suggestions in all the other answers, this is the one that is to the point and shows exactly how to do the conversions. Thanks.","body":"While there is good information and suggestions in all the other answers, this is the one that is to the point and shows exactly how to do the conversions. Thanks."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680996743,"creation_date":1680546936,"answer_id":75922717,"question_id":75918994,"body_markdown":"&gt; I have tried LocalDate and SimpleDateFormatter, but they are not converting to this way.\r\n\r\nStop using the error-prone legacy date-time API\r\n--\r\n\r\nThe `java.util` date-time API and their corresponding parsing/formatting type, `SimpleDateFormat` are outdated and error-prone. In March 2014, the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) was released as part of the **Java 8 standard library** which supplanted the legacy date-time API and since then it is strongly recommended to switch to `java.time`, the modern date-time API.\r\n\r\nYou need a time zone to get the desired output\r\n--\r\n\r\nYour desired output (**start and end of the day**) is in UTC and therefore you need to convert the date-time from your time zone to UTC. Once you have **start and end of the day** in your time zone, you can convert them to UTC using [`ZonedDateTime#withZoneSameInstant`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#withZoneSameInstant-java.time.ZoneId-). \r\n\r\n**Demo:**\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            ZoneId zoneIndia = ZoneId.of(&quot;Asia/Kolkata&quot;);\r\n            LocalDate date = LocalDate.parse(&quot;2023-04-03&quot;);\r\n    \r\n            System.out.println(date.atStartOfDay(zoneIndia)\r\n                    .withZoneSameInstant(ZoneOffset.UTC));\r\n    \r\n            System.out.println(date.atStartOfDay(zoneIndia).with(LocalTime.MAX)\r\n                    .withZoneSameInstant(ZoneOffset.UTC));\r\n    \r\n            // Or get the exlusive upper range (half-open interval for the day)\r\n            System.out.println(date.plusDays(1).atStartOfDay(zoneIndia)\r\n                    .withZoneSameInstant(ZoneOffset.UTC));\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2023-04-02T18:30Z\r\n    2023-04-03T18:29:59.999999999Z\r\n    2023-04-03T18:30Z\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/3VJoA1)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n","title":"Convert Date to UTC DateTime","body":"<blockquote>\n<p>I have tried LocalDate and SimpleDateFormatter, but they are not converting to this way.</p>\n</blockquote>\n<h2>Stop using the error-prone legacy date-time API</h2>\n<p>The <code>java.util</code> date-time API and their corresponding parsing/formatting type, <code>SimpleDateFormat</code> are outdated and error-prone. In March 2014, the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a> was released as part of the <strong>Java 8 standard library</strong> which supplanted the legacy date-time API and since then it is strongly recommended to switch to <code>java.time</code>, the modern date-time API.</p>\n<h2>You need a time zone to get the desired output</h2>\n<p>Your desired output (<strong>start and end of the day</strong>) is in UTC and therefore you need to convert the date-time from your time zone to UTC. Once you have <strong>start and end of the day</strong> in your time zone, you can convert them to UTC using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#withZoneSameInstant-java.time.ZoneId-\" rel=\"nofollow noreferrer\"><code>ZonedDateTime#withZoneSameInstant</code></a>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        ZoneId zoneIndia = ZoneId.of(&quot;Asia/Kolkata&quot;);\n        LocalDate date = LocalDate.parse(&quot;2023-04-03&quot;);\n\n        System.out.println(date.atStartOfDay(zoneIndia)\n                .withZoneSameInstant(ZoneOffset.UTC));\n\n        System.out.println(date.atStartOfDay(zoneIndia).with(LocalTime.MAX)\n                .withZoneSameInstant(ZoneOffset.UTC));\n\n        // Or get the exlusive upper range (half-open interval for the day)\n        System.out.println(date.plusDays(1).atStartOfDay(zoneIndia)\n                .withZoneSameInstant(ZoneOffset.UTC));\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2023-04-02T18:30Z\n2023-04-03T18:29:59.999999999Z\n2023-04-03T18:30Z\n</code></pre>\n<p><a href=\"https://ideone.com/3VJoA1\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":11312356,"reputation":57,"user_id":8295159,"display_name":"Anuj kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":3,"score":-1,"last_activity_date":1680996743,"creation_date":1680521469,"question_id":75918994,"body_markdown":"I have the date 2023-04-03 and wanted to convert it into UTC time with range (start and end of the day)\r\n\r\n2023-04-03T00:00:00 -&gt; 2023-04-02T18:30:00z\\\r\n2023-04-03T24:00:00 -&gt; 2023-04-03T18:30:00z\r\n\r\nInput: 2023-04-03\\\r\nNeed this output: 2023-04-02T06:30:00z, 2023-04-03T18:30:00z\r\n\r\nI have tried LocalDate and SimpleDateFormatter, but they are not converting to this way.\r\n\t\r\n```java\r\nLocalDateTime ldt = LocalDate.parse(&quot;2023-04-03&quot;).atStartOfDay();\r\nZonedDateTime zdt = ldt.atZone(ZoneId.of(&quot;UTC&quot;));\r\nInstant instant = zdt.toInstant();\r\nSystem.out.println(&quot;:inst: &quot; + instant.toString());\r\n```\r\n\r\noutput of the above code:\r\n\r\nHello: 2016-06-12T00:00\r\n\r\n:inst: 2016-06-12T00:00:00Z","title":"Convert Date to UTC DateTime","body":"<p>I have the date 2023-04-03 and wanted to convert it into UTC time with range (start and end of the day)</p>\n<p>2023-04-03T00:00:00 -&gt; 2023-04-02T18:30:00z<br />\n2023-04-03T24:00:00 -&gt; 2023-04-03T18:30:00z</p>\n<p>Input: 2023-04-03<br />\nNeed this output: 2023-04-02T06:30:00z, 2023-04-03T18:30:00z</p>\n<p>I have tried LocalDate and SimpleDateFormatter, but they are not converting to this way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDateTime ldt = LocalDate.parse(&quot;2023-04-03&quot;).atStartOfDay();\nZonedDateTime zdt = ldt.atZone(ZoneId.of(&quot;UTC&quot;));\nInstant instant = zdt.toInstant();\nSystem.out.println(&quot;:inst: &quot; + instant.toString());\n</code></pre>\n<p>output of the above code:</p>\n<p>Hello: 2016-06-12T00:00</p>\n<p>:inst: 2016-06-12T00:00:00Z</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681032509,"post_id":75967946,"comment_id":133991406,"body_markdown":"The security configuration needs the `UserDetailsService`, because it needs to create an `AuthenticationManager`. But your filter also needs the `AuthenticationManager`, your filter is also need to create the `SecurityConfig`, which is needed to create the `AuthenticationManager`. Hence a circulair dependency.","body":"The security configuration needs the <code>UserDetailsService</code>, because it needs to create an <code>AuthenticationManager</code>. But your filter also needs the <code>AuthenticationManager</code>, your filter is also need to create the <code>SecurityConfig</code>, which is needed to create the <code>AuthenticationManager</code>. Hence a circulair dependency."},{"owner":{"account_id":24295273,"reputation":17,"user_id":18239586,"display_name":"Santino Zanone"},"score":0,"creation_date":1681068815,"post_id":75967946,"comment_id":133995762,"body_markdown":"@M.Deinum so, the UserDetailsService is required in the InitializeUserDetailsManagerConfigurer class for creating the AuthenticationManager, but my UserDetails service is defined in my SecurityConfig class, which is dependent in the filters, whose at the same time are dependents in the manager. and this manager depends on the HttpSecurity bean that cannot be created because it needs the userDetailsService that is defined in my SecurityConfig class, creating a circular dependency. am i right?","body":"@M.Deinum so, the UserDetailsService is required in the InitializeUserDetailsManagerConfigurer class for creating the AuthenticationManager, but my UserDetails service is defined in my SecurityConfig class, which is dependent in the filters, whose at the same time are dependents in the manager. and this manager depends on the HttpSecurity bean that cannot be created because it needs the userDetailsService that is defined in my SecurityConfig class, creating a circular dependency. am i right?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681149228,"post_id":75967946,"comment_id":134006675,"body_markdown":"Yes. That is also what the analyze output is showing as the circulair dependency.","body":"Yes. That is also what the analyze output is showing as the circulair dependency."}],"answers":[{"tags":[],"owner":{"account_id":28252599,"reputation":61,"user_id":21598590,"display_name":"Eduard For&#233;s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680996737,"creation_date":1680996617,"answer_id":75968130,"question_id":75967946,"body_markdown":"I check that the `UserDetailsService` dose not have any direct relation with the `HttpSecurity`. But you have to use the `UserDetailsService` to define roles into the `HttpSecurity`. You have the information in the [Spring API HttpSecurity][1].\r\n\r\nThe circular dependency should be related with the `HttpSecurity` of the `AuthenticationManager`. In old spring you create the `AuthenticationManager` overriding the `WebSecurityConfigurerAdapter`. The code was something like:\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\nBut in the last versions, you can use the `filterChain`, in your case `securityFilerChange`, to instance the `AuthenticationManager`. The bean could be something like:\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {    \r\n        AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\r\n        authenticationManagerBuilder.authenticationProvider(usernamePasswordAuthenticationProvider).authenticationProvider(otpAuthenticationProvider);\r\n        AuthenticationManager authenticationManager = authenticationManagerBuilder.build();\r\n        return http.csrf().disable()\r\n                .httpBasic().and().{...}\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .authenticationManager(authenticationManager).{...}\r\n                .build();\r\n    }\r\nIn this implementation you only have one site where you are using the HttpSecurity and the circular dependency error should desapear.\r\n\r\nYou can check more information about how to use this `AuthenticationManager` in this [link][2] about how to upgrade the `WebSecurityConfigurerAdapter`.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html\r\n  [2]: https://stackoverflow.com/questions/72381114/spring-security-upgrading-the-deprecated-websecurityconfigureradapter-in-spring","title":"Spring Circular Dependency with HttpSecurityConfiguration","body":"<p>I check that the <code>UserDetailsService</code> dose not have any direct relation with the <code>HttpSecurity</code>. But you have to use the <code>UserDetailsService</code> to define roles into the <code>HttpSecurity</code>. You have the information in the <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html\" rel=\"nofollow noreferrer\">Spring API HttpSecurity</a>.</p>\n<p>The circular dependency should be related with the <code>HttpSecurity</code> of the <code>AuthenticationManager</code>. In old spring you create the <code>AuthenticationManager</code> overriding the <code>WebSecurityConfigurerAdapter</code>. The code was something like:</p>\n<pre><code>@Override\npublic void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n    authenticationManagerBuilder.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder());\n}\n\n@Bean\n@Override\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n}\n</code></pre>\n<p>But in the last versions, you can use the <code>filterChain</code>, in your case <code>securityFilerChange</code>, to instance the <code>AuthenticationManager</code>. The bean could be something like:</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {    \n    AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\n    authenticationManagerBuilder.authenticationProvider(usernamePasswordAuthenticationProvider).authenticationProvider(otpAuthenticationProvider);\n    AuthenticationManager authenticationManager = authenticationManagerBuilder.build();\n    return http.csrf().disable()\n            .httpBasic().and().{...}\n            .anyRequest().authenticated()\n            .and()\n            .authenticationManager(authenticationManager).{...}\n            .build();\n}\n</code></pre>\n<p>In this implementation you only have one site where you are using the HttpSecurity and the circular dependency error should desapear.</p>\n<p>You can check more information about how to use this <code>AuthenticationManager</code> in this <a href=\"https://stackoverflow.com/questions/72381114/spring-security-upgrading-the-deprecated-websecurityconfigureradapter-in-spring\">link</a> about how to upgrade the <code>WebSecurityConfigurerAdapter</code>.</p>\n"}],"owner":{"account_id":24295273,"reputation":17,"user_id":18239586,"display_name":"Santino Zanone"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1680996737,"creation_date":1680992347,"question_id":75967946,"body_markdown":"i am having a problem with a circular dependency error. it is thrown when i define a UserDetailsService bean in my securityConfig class, however if i define that same bean in my authenticationConfig class,the error is gone and i dont get why.\r\nthis is the code.\r\n\r\n```java\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n    @Autowired\r\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\r\n    @Autowired\r\n    private InitialAuthenticationFilter initialAuthenticationFilter;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {    \r\n        return http.csrf().disable()\r\n                .httpBasic().and()\r\n                .addFilterBefore(initialAuthenticationFilter, BasicAuthenticationFilter.class)\r\n                .addFilterAfter(jwtAuthenticationFilter,BasicAuthenticationFilter.class)\r\n                .authorizeHttpRequests().requestMatchers(&quot;/actuator/**&quot;).permitAll().and()\r\n                .authorizeHttpRequests().anyRequest().authenticated()\r\n                .and()\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(){    \r\n        UserDetails user = User.builder()\r\n                .username(&quot;user&quot;)\r\n                .password(&quot;123&quot;)\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n        UserDetails admin = User.builder()\r\n                .username(&quot;admin&quot;)\r\n                .password(&quot;123&quot;)\r\n                .roles(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n                .build();\r\n        return new InMemoryUserDetailsManager(user, admin);        \r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Configuration\r\npublic class AuthenticationConfig {\r\n    @Autowired\r\n    private OtpAuthenticationProvider otpAuthenticationProvider;\r\n    @Autowired\r\n    private UsernamePasswordAuthenticationProvider usernamePasswordAuthenticationProvider;\r\n\r\n    @Bean\r\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n        AuthenticationManagerBuilder authenticationManagerBuilder =\r\n                http.getSharedObject(AuthenticationManagerBuilder.class);\r\n        authenticationManagerBuilder.authenticationProvider(usernamePasswordAuthenticationProvider).authenticationProvider(otpAuthenticationProvider);\r\n        return authenticationManagerBuilder.build();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Component\r\npublic class InitialAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired\r\n    private AuthenticationManager manager;\r\n\r\n    @Value(&quot;${jwt.signing.key}&quot;)\r\n    private String signingKey;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n            throws ServletException, IOException { // do filtering\r\n        }\r\n}\r\n```\r\n\r\n```java\r\n// and then i have some providers like this one\r\n@Component\r\npublic class UsernamePasswordAuthenticationProvider implements AuthenticationProvider{\r\n     \r\n    @Autowired\r\n    private AuthenticationServerProxy proxy;\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        String username = authentication.getName();\r\n         String password = String.valueOf(authentication.getCredentials());\r\n         proxy.sendAuth(username, password);\r\n         return new UsernamePasswordAuthenticationToken(username, password);\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        // TODO Auto-generated method stub\r\n        return UsernamePasswordAuthentication.class.isAssignableFrom(authentication);\r\n    }\r\n}\r\n```\r\n\r\nthis is the log:\r\n\r\n```java\r\nException: org.springframework.beans.factory.UnsatisfiedDependencyException. \r\nMessage: Error creating bean with name &#39;securityConfig&#39;: Unsatisfied dependency expressed through field &#39;initialAuthenticationFilter&#39;: \r\nError creating bean with name &#39;initialAuthenticationFilter&#39;: Unsatisfied dependency expressed through field &#39;manager&#39;: \r\nError creating bean with name &#39;authManager&#39; defined in class path resource [root/AuthenticationConfig.class]: \r\nUnsatisfied dependency expressed through method &#39;authManager&#39; parameter 0: \r\nError creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity&#39; \r\ndefined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: \r\nFailed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: \r\nFactory method &#39;httpSecurity&#39; threw exception with message: Error creating bean with name &#39;securityConfig&#39;: \r\nRequested bean is currently in creation: Is there an unresolvable circular reference?\r\n```\r\n\r\nand then this diagram:\r\n\r\n```java\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n┌─────┐\r\n|  securityConfig (field private root.filters.InitialAuthenticationFilter root.SecurityConfig.initialAuthenticationFilter)\r\n↑     ↓\r\n|  initialAuthenticationFilter (field private org.springframework.security.authentication.AuthenticationManager root.filters.InitialAuthenticationFilter.manager)\r\n↑     ↓\r\n|  authManager defined in class path resource [root/AuthenticationConfig.class]\r\n↑     ↓\r\n|  org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]\r\n└─────┘\r\n```\r\n\r\nif i move the UserDetailsService bean to another class, everything works perfect, but i am trying to understand where was the circular dependency coming from. The log says that the authManager depends on the HttpSecurity, which is correct, but then the HttpSecurity depends on securityConfig, i tried inspecting the HttpSecurity bean with the debugger but couldnt find any dependency","title":"Spring Circular Dependency with HttpSecurityConfiguration","body":"<p>i am having a problem with a circular dependency error. it is thrown when i define a UserDetailsService bean in my securityConfig class, however if i define that same bean in my authenticationConfig class,the error is gone and i dont get why.\nthis is the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SecurityConfig {\n\n    @Autowired\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\n    @Autowired\n    private InitialAuthenticationFilter initialAuthenticationFilter;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {    \n        return http.csrf().disable()\n                .httpBasic().and()\n                .addFilterBefore(initialAuthenticationFilter, BasicAuthenticationFilter.class)\n                .addFilterAfter(jwtAuthenticationFilter,BasicAuthenticationFilter.class)\n                .authorizeHttpRequests().requestMatchers(&quot;/actuator/**&quot;).permitAll().and()\n                .authorizeHttpRequests().anyRequest().authenticated()\n                .and()\n                .build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService(){    \n        UserDetails user = User.builder()\n                .username(&quot;user&quot;)\n                .password(&quot;123&quot;)\n                .roles(&quot;USER&quot;)\n                .build();\n        UserDetails admin = User.builder()\n                .username(&quot;admin&quot;)\n                .password(&quot;123&quot;)\n                .roles(&quot;USER&quot;, &quot;ADMIN&quot;)\n                .build();\n        return new InMemoryUserDetailsManager(user, admin);        \n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class AuthenticationConfig {\n    @Autowired\n    private OtpAuthenticationProvider otpAuthenticationProvider;\n    @Autowired\n    private UsernamePasswordAuthenticationProvider usernamePasswordAuthenticationProvider;\n\n    @Bean\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\n        AuthenticationManagerBuilder authenticationManagerBuilder =\n                http.getSharedObject(AuthenticationManagerBuilder.class);\n        authenticationManagerBuilder.authenticationProvider(usernamePasswordAuthenticationProvider).authenticationProvider(otpAuthenticationProvider);\n        return authenticationManagerBuilder.build();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class InitialAuthenticationFilter extends OncePerRequestFilter {\n\n    @Autowired\n    private AuthenticationManager manager;\n\n    @Value(&quot;${jwt.signing.key}&quot;)\n    private String signingKey;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException { // do filtering\n        }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// and then i have some providers like this one\n@Component\npublic class UsernamePasswordAuthenticationProvider implements AuthenticationProvider{\n     \n    @Autowired\n    private AuthenticationServerProxy proxy;\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        String username = authentication.getName();\n         String password = String.valueOf(authentication.getCredentials());\n         proxy.sendAuth(username, password);\n         return new UsernamePasswordAuthenticationToken(username, password);\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        // TODO Auto-generated method stub\n        return UsernamePasswordAuthentication.class.isAssignableFrom(authentication);\n    }\n}\n</code></pre>\n<p>this is the log:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. \nMessage: Error creating bean with name 'securityConfig': Unsatisfied dependency expressed through field 'initialAuthenticationFilter': \nError creating bean with name 'initialAuthenticationFilter': Unsatisfied dependency expressed through field 'manager': \nError creating bean with name 'authManager' defined in class path resource [root/AuthenticationConfig.class]: \nUnsatisfied dependency expressed through method 'authManager' parameter 0: \nError creating bean with name 'org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity' \ndefined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]: \nFailed to instantiate [org.springframework.security.config.annotation.web.builders.HttpSecurity]: \nFactory method 'httpSecurity' threw exception with message: Error creating bean with name 'securityConfig': \nRequested bean is currently in creation: Is there an unresolvable circular reference?\n</code></pre>\n<p>and then this diagram:</p>\n<pre class=\"lang-java prettyprint-override\"><code>The dependencies of some of the beans in the application context form a cycle:\n┌─────┐\n|  securityConfig (field private root.filters.InitialAuthenticationFilter root.SecurityConfig.initialAuthenticationFilter)\n↑     ↓\n|  initialAuthenticationFilter (field private org.springframework.security.authentication.AuthenticationManager root.filters.InitialAuthenticationFilter.manager)\n↑     ↓\n|  authManager defined in class path resource [root/AuthenticationConfig.class]\n↑     ↓\n|  org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.httpSecurity defined in class path resource [org/springframework/security/config/annotation/web/configuration/HttpSecurityConfiguration.class]\n└─────┘\n</code></pre>\n<p>if i move the UserDetailsService bean to another class, everything works perfect, but i am trying to understand where was the circular dependency coming from. The log says that the authManager depends on the HttpSecurity, which is correct, but then the HttpSecurity depends on securityConfig, i tried inspecting the HttpSecurity bean with the debugger but couldnt find any dependency</p>\n"},{"tags":["java","concurrency","quarkus","mutiny"],"comments":[{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1655393704,"post_id":72647827,"comment_id":128326751,"body_markdown":"Mutiny is a so-called &quot;reactive programming&quot; library. You don&#39;t specify that your `Uni`s should be &quot;executed&quot; on an extra thread (&quot;executed&quot; in quotes, because there&#39;s a difference between subscription and emission and you can configure threads for those separately), so the assumption is that they are non-blocking and they are all executed on the same thread. Therefore, since you ask for the slow `Uni` to be executed first (and the fast one second), you&#39;ll always end up with the slow one &quot;winning&quot;. See e.g. https://smallrye.io/smallrye-mutiny/guides/emit-subscription for more info.","body":"Mutiny is a so-called &quot;reactive programming&quot; library. You don&#39;t specify that your <code>Uni</code>s should be &quot;executed&quot; on an extra thread (&quot;executed&quot; in quotes, because there&#39;s a difference between subscription and emission and you can configure threads for those separately), so the assumption is that they are non-blocking and they are all executed on the same thread. Therefore, since you ask for the slow <code>Uni</code> to be executed first (and the fast one second), you&#39;ll always end up with the slow one &quot;winning&quot;. See e.g. <a href=\"https://smallrye.io/smallrye-mutiny/guides/emit-subscription\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-mutiny/guides/emit-subscription</a> for more info."},{"owner":{"account_id":15676985,"reputation":73,"user_id":11312013,"display_name":"Konstantin Rezchikov"},"score":0,"creation_date":1655403804,"post_id":72647827,"comment_id":128330232,"body_markdown":"@Ladicek How do I specify that Uni&#39;s should be executed on a different thread. By using the emitOn and subscribe on that you linked too? Honestly, I feel like that goes against my understanding of what Unis are.  In the documentation it says\n&quot;Typically, Uni&lt;T&gt; are great to represent asynchronous actions such as a remote procedure call, an HTTP request, or an operation producing a single result.&quot;  \nsource: https://smallrye.io/smallrye-mutiny/getting-started/creating-unis","body":"@Ladicek How do I specify that Uni&#39;s should be executed on a different thread. By using the emitOn and subscribe on that you linked too? Honestly, I feel like that goes against my understanding of what Unis are.  In the documentation it says &quot;Typically, Uni&lt;T&gt; are great to represent asynchronous actions such as a remote procedure call, an HTTP request, or an operation producing a single result.&quot;   source: <a href=\"https://smallrye.io/smallrye-mutiny/getting-started/creating-unis\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-mutiny/getting-started/creating-unis</a>"},{"owner":{"account_id":15676985,"reputation":73,"user_id":11312013,"display_name":"Konstantin Rezchikov"},"score":0,"creation_date":1655403888,"post_id":72647827,"comment_id":128330268,"body_markdown":"Also, \n&quot;It is common to trigger several concurrent operations, then join on the results. For instance you can make HTTP requests to 3 different HTTP APIs, then collect all HTTP responses. Or you can just take the response from the one who was the fastest.\n\nUni offers the join group to assemble all results from a list of Uni, pick the first one that terminates, or pick the first one that terminates with a value.&quot;\nsource: https://smallrye.io/smallrye-mutiny/guides/joining-unis","body":"Also,  &quot;It is common to trigger several concurrent operations, then join on the results. For instance you can make HTTP requests to 3 different HTTP APIs, then collect all HTTP responses. Or you can just take the response from the one who was the fastest.  Uni offers the join group to assemble all results from a list of Uni, pick the first one that terminates, or pick the first one that terminates with a value.&quot; source: <a href=\"https://smallrye.io/smallrye-mutiny/guides/joining-unis\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-mutiny/guides/joining-unis</a>"},{"owner":{"account_id":15676985,"reputation":73,"user_id":11312013,"display_name":"Konstantin Rezchikov"},"score":0,"creation_date":1655403913,"post_id":72647827,"comment_id":128330277,"body_markdown":"If unis are supposed to be asynchronous, why wouldn&#39;t they be run on different threads if joining them?","body":"If unis are supposed to be asynchronous, why wouldn&#39;t they be run on different threads if joining them?"},{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1655450288,"post_id":72647827,"comment_id":128339680,"body_markdown":"Asynchronous is an overloaded word and means different things to different people. For some, it means &quot;run on a different thread&quot;, while for others, it means &quot;run on an event loop, because it&#39;s non-blocking&quot;. As I said, Mutiny is a so-called &quot;reactive programming&quot; library, so it is most often used to orchestrate non-blocking operations (such as the HTTP client example you mention). There&#39;s a lot of materials on the web around what non-blocking IO is, I suggest you read up on that.","body":"Asynchronous is an overloaded word and means different things to different people. For some, it means &quot;run on a different thread&quot;, while for others, it means &quot;run on an event loop, because it&#39;s non-blocking&quot;. As I said, Mutiny is a so-called &quot;reactive programming&quot; library, so it is most often used to orchestrate non-blocking operations (such as the HTTP client example you mention). There&#39;s a lot of materials on the web around what non-blocking IO is, I suggest you read up on that."}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680996104,"creation_date":1655403775,"answer_id":72650299,"question_id":72647827,"body_markdown":"The problem is that you are not telling `Mutiny` on which thread should run each uni. If I add a `System.out` to your example:\r\n\r\n```\r\n// Slow and Fast for the different Uni\r\nSystem.out.println( &quot;Slow - &quot; + Thread.currentThread().getId() + &quot;:&quot; + Thread.currentThread().getName() );\r\n```\r\n\r\nI get the following output:\r\n```\r\nSlow - 1:Test worker\r\none\r\nSlow - 1:Test worker\r\nFast - 1:Test worker\r\none\r\n```\r\n\r\nThe output shows that everything runs on the same thread and therefore when we block the first one, the second one is blocked too.\r\nThat&#39;s why the output is `one one`.\r\n\r\nOne way to run the uni in parallel is to use a different executor at subscription:\r\n\r\n```\r\nExecutorService executorService = Executors.newFixedThreadPool( 5 );\r\nuniSlow = uniSlow.runSubscriptionOn( executorService );\r\nuniFast = uniFast.runSubscriptionOn( executorService );\r\n```\r\nNow, when I run the test, I have the expected output:\r\n```\r\nSlow - 16:pool-3-thread-1\r\nFast - 17:pool-3-thread-2\r\ntwo\r\nSlow - 18:pool-3-thread-3\r\nFast - 19:pool-3-thread-4\r\ntwo\r\n```\r\n\r\nNote that this time Slow and Fast are running on different threads.\r\n\r\nThe Mutiny guide has a section about the difference between [emitOn vs. runSubscriptionOn][1] and [some examples on how to change the emission thread][2].\r\n\r\n\r\n  [1]: https://smallrye.io/smallrye-mutiny/2.1.0/guides/emit-on-vs-run-subscription-on/\r\n  [2]: https://smallrye.io/smallrye-mutiny/2.1.0/guides/emission-threads/","title":"How to call multiple Uni concurrently","body":"<p>The problem is that you are not telling <code>Mutiny</code> on which thread should run each uni. If I add a <code>System.out</code> to your example:</p>\n<pre><code>// Slow and Fast for the different Uni\nSystem.out.println( &quot;Slow - &quot; + Thread.currentThread().getId() + &quot;:&quot; + Thread.currentThread().getName() );\n</code></pre>\n<p>I get the following output:</p>\n<pre><code>Slow - 1:Test worker\none\nSlow - 1:Test worker\nFast - 1:Test worker\none\n</code></pre>\n<p>The output shows that everything runs on the same thread and therefore when we block the first one, the second one is blocked too.\nThat's why the output is <code>one one</code>.</p>\n<p>One way to run the uni in parallel is to use a different executor at subscription:</p>\n<pre><code>ExecutorService executorService = Executors.newFixedThreadPool( 5 );\nuniSlow = uniSlow.runSubscriptionOn( executorService );\nuniFast = uniFast.runSubscriptionOn( executorService );\n</code></pre>\n<p>Now, when I run the test, I have the expected output:</p>\n<pre><code>Slow - 16:pool-3-thread-1\nFast - 17:pool-3-thread-2\ntwo\nSlow - 18:pool-3-thread-3\nFast - 19:pool-3-thread-4\ntwo\n</code></pre>\n<p>Note that this time Slow and Fast are running on different threads.</p>\n<p>The Mutiny guide has a section about the difference between <a href=\"https://smallrye.io/smallrye-mutiny/2.1.0/guides/emit-on-vs-run-subscription-on/\" rel=\"nofollow noreferrer\">emitOn vs. runSubscriptionOn</a> and <a href=\"https://smallrye.io/smallrye-mutiny/2.1.0/guides/emission-threads/\" rel=\"nofollow noreferrer\">some examples on how to change the emission thread</a>.</p>\n"}],"owner":{"account_id":15676985,"reputation":73,"user_id":11312013,"display_name":"Konstantin Rezchikov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72650299,"answer_count":1,"score":0,"last_activity_date":1680996104,"creation_date":1655391196,"question_id":72647827,"body_markdown":"Recently, I&#39;m working on a project where I have 2 make 2 asynchronous calls at the same time. Since I&#39;m working with Quarkus, I ended up trying to make use of Mutiny and the vert.x library. However, I can not get my code working with Unis. In the below code, I would imagine that both Unis would be called and the Uni that returns fastest would be returned. However, it seems that when combining Unis it simply returns the first one in the list, even though the first uni should take a longer time. \r\n\r\nThe below code prints out `one one` when it should print out `two two` since the uniFast should finish first. How do I combine Unis and have the faster one return first? \r\n```\r\n@Test\r\n\tpublic void testUniJion(){\r\n\t\tvar uniSLow = Uni.createFrom().item(() -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(1000);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn &quot;one&quot;;\r\n\t\t});\r\n\r\n\t\tvar uniFast = Uni.createFrom().item(() -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(100);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn &quot;two&quot;;\r\n\t\t});\r\n\r\n\t\tvar resp = Uni.join().first(uniSLow,uniFast).withItem().await().indefinitely();\r\n\t\tSystem.out.println(resp);\r\n\r\n\t\tvar resp2 = Uni.combine().any().of(uniSLow,uniFast).await().indefinitely();\r\n\t\tSystem.out.println(resp2);\r\n\t}\r\n```\r\n\r\nNote: This is not the actual code I am trying to implement. In my code, I am trying to fetch from 2 different databases. However, one database often has a lot more latency than the other. However, Uni seems to always wait for the slower database. I&#39;m simply trying to understand Mutiny and Uni&#39;s better so I made this code example. ","title":"How to call multiple Uni concurrently","body":"<p>Recently, I'm working on a project where I have 2 make 2 asynchronous calls at the same time. Since I'm working with Quarkus, I ended up trying to make use of Mutiny and the vert.x library. However, I can not get my code working with Unis. In the below code, I would imagine that both Unis would be called and the Uni that returns fastest would be returned. However, it seems that when combining Unis it simply returns the first one in the list, even though the first uni should take a longer time.</p>\n<p>The below code prints out <code>one one</code> when it should print out <code>two two</code> since the uniFast should finish first. How do I combine Unis and have the faster one return first?</p>\n<pre><code>@Test\n    public void testUniJion(){\n        var uniSLow = Uni.createFrom().item(() -&gt; {\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            return &quot;one&quot;;\n        });\n\n        var uniFast = Uni.createFrom().item(() -&gt; {\n            try {\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            return &quot;two&quot;;\n        });\n\n        var resp = Uni.join().first(uniSLow,uniFast).withItem().await().indefinitely();\n        System.out.println(resp);\n\n        var resp2 = Uni.combine().any().of(uniSLow,uniFast).await().indefinitely();\n        System.out.println(resp2);\n    }\n</code></pre>\n<p>Note: This is not the actual code I am trying to implement. In my code, I am trying to fetch from 2 different databases. However, one database often has a lot more latency than the other. However, Uni seems to always wait for the slower database. I'm simply trying to understand Mutiny and Uni's better so I made this code example.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","multipartform-data"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680995299,"creation_date":1680987613,"answer_id":75967661,"question_id":75967289,"body_markdown":"A 415 means the content-type being sent by the page does not match that being expected by the controller.\r\n\r\n\r\nThe data being submitted is a FormData but the receiving controller method api/v1/users/create - createUser is expecting json (the default when `consumes` is not set). \r\n\r\nTry:\r\n\r\n    @PostMapping(\r\n      path = &quot;/create&quot;,\r\n      consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\r\n    public ResponseEntity&lt;Users&gt; createUser(@RequestBody Map&lt;String, String&gt; payload) {\r\n\r\n\r\nOr\r\n\r\n    MediaType.MULTIPART_FORM_DATA\r\n\r\nThe first answer [here][1] should be also helpful.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55379499/how-to-fix-multipart-form-data-mediatype-not-being-set-with-jackson-spring-mvc","title":"Spring Boot Error while making Post Request receiving unsupported Media Type 415 error","body":"<p>A 415 means the content-type being sent by the page does not match that being expected by the controller.</p>\n<p>The data being submitted is a FormData but the receiving controller method api/v1/users/create - createUser is expecting json (the default when <code>consumes</code> is not set).</p>\n<p>Try:</p>\n<pre><code>@PostMapping(\n  path = &quot;/create&quot;,\n  consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\npublic ResponseEntity&lt;Users&gt; createUser(@RequestBody Map&lt;String, String&gt; payload) {\n</code></pre>\n<p>Or</p>\n<pre><code>MediaType.MULTIPART_FORM_DATA\n</code></pre>\n<p>The first answer <a href=\"https://stackoverflow.com/questions/55379499/how-to-fix-multipart-form-data-mediatype-not-being-set-with-jackson-spring-mvc\">here</a> should be also helpful.</p>\n"}],"owner":{"account_id":16295595,"reputation":11,"user_id":11767934,"display_name":"devops777"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680995299,"creation_date":1680982154,"question_id":75967289,"body_markdown":"USER CONTROLLER\r\n\r\n```\r\npackage com.example.fwitterbackend;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Optional;\r\n\r\nimport org.apache.catalina.User;\r\nimport org.bson.types.ObjectId;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.http.StreamingHttpOutputMessage.Body;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.ModelAttribute;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/users&quot;)\r\npublic class UsersController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    \r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;Users&gt;&gt; getAllPosts() {\r\n        return new ResponseEntity&lt;List&lt;Users&gt;&gt;(userService.allPosts(), HttpStatus.OK);\r\n    }\r\n\r\n             \r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;Optional&lt;Users&gt;&gt; getSinglePost(@PathVariable ObjectId id) {\r\n        return new ResponseEntity&lt;Optional&lt;Users&gt;&gt;(userService.singlePost(id), HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(&quot;/{userId}/all&quot;)\r\n    public ResponseEntity&lt;List&lt;Users&gt;&gt; findPostsByUserId(@PathVariable String userId) {\r\n        return new ResponseEntity&lt;List&lt;Users&gt;&gt;(HttpStatus.OK);\r\n    }\r\n\r\n\r\n\r\n    @PostMapping(&quot;/create&quot;)\r\n    public ResponseEntity&lt;Users&gt; createUser(@RequestBody Map&lt;String, String&gt; payload) {\r\n        return new ResponseEntity&lt;Users&gt;(userService.createUser(null, payload.get(&quot;email&quot;), payload.get(&quot;firstName&quot;),payload.get(&quot;lastName&quot;), payload.get(&quot;password&quot;),payload.get(&quot;picturePath&quot;), payload.get(&quot;occupation&quot;),payload.get(&quot;location&quot;)), HttpStatus.OK);\r\n    }\r\n \r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;Users&gt; register(@ModelAttribute ObjectId id, User user) {\r\n      try {\r\n        // String firstName = user.getFullName();\r\n        // String lastName = user.getName();\r\n        // String email = ((Users) user).getEmail();\r\n        String password = user.getPassword();\r\n        // String picturePath = ((Users) user).getPicturePath();\r\n        // List&lt;String&gt; friends = ((Object) user).getFriends();\r\n        String location = ((Users) user).getLocation();\r\n        String occupation = ((Users) user).getOccupation();\r\n  \r\n        // String salt = ( (Object) new BCryptPasswordEncoder()).generateSalt(10);\r\n        String passwordHash = new BCryptPasswordEncoder().encode(password);\r\n  \r\n        Users newUser = new Users();\r\n  \r\n        Users savedUser = userRepository.save(newUser);\r\n  \r\n        return new ResponseEntity&lt;&gt;(savedUser, HttpStatus.CREATED);\r\n      } catch (Exception e) {\r\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n      }\r\n    }\r\n \r\n}\r\n```\r\n\r\nUSER SERVICE\r\n\r\n```\r\npackage com.example.fwitterbackend;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.bson.types.ObjectId;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.mongodb.core.MongoTemplate;\r\nimport org.springframework.data.mongodb.core.query.Criteria;\r\nimport org.springframework.data.mongodb.core.query.Update;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\n\r\n@Service\r\npublic class UserService {\r\n\r\n    @Autowired\r\n    private MongoTemplate mongoTemplate;\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n   \r\n    public List&lt;Users&gt; allPosts() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    \r\n    public Optional&lt;Users&gt; singlePost(ObjectId id) {\r\n        return userRepository.findById(id);\r\n    }\r\n    \r\n\r\n    \r\n    public List&lt;Users&gt; findPostsByUserId(ObjectId userId) {\r\n        return userRepository.findPostsByUserId(userId);\r\n    }\r\n\r\n\r\n    public Users createUser(ObjectId id, String firstName, String lastName, String email, String password, String picturePath, String occupation, String location) {\r\n        Users user = userRepository.insert(new Users(id, firstName, lastName, email, password, picturePath, occupation, location ));\r\n\r\n        mongoTemplate.update(User.class)\r\n            .matching(Criteria.where(&quot;id&quot;).is(id))\r\n            .apply(new Update().push(&quot;firstName&quot;).value(firstName).push(&quot;lastName&quot;).value(lastName).push(&quot;password&quot;).value(password).push(&quot;picturePath&quot;).value(picturePath).push(&quot;occupation&quot;).value(occupation).push(&quot;email&quot;).value(email).push(&quot;location&quot;).value(location))\r\n            // .apply(new Update().push(&quot;lastName&quot;).value(lastName))\r\n            // .apply(new Update().push(&quot;password&quot;).value(password))\r\n\r\n            .first();\r\n\r\n        return user;\r\n    }\r\n\r\n\r\n    \r\n\r\n    \r\n}\r\n```\r\n\r\nREACT COMPONENT FORM\r\n\r\n```\r\nimport { useState } from &quot;react&quot;;\r\nimport {\r\n  Box,\r\n  Button,\r\n  TextField,\r\n  useMediaQuery,\r\n  Typography,\r\n  useTheme,\r\n} from &quot;@mui/material&quot;;\r\nimport EditOutlinedIcon from &quot;@mui/icons-material/EditOutlined&quot;;\r\nimport { Formik } from &quot;formik&quot;;\r\nimport * as yup from &quot;yup&quot;;\r\nimport { useNavigate } from &quot;react-router-dom&quot;;\r\nimport { useDispatch } from &quot;react-redux&quot;;\r\nimport { setLogin } from &quot;state&quot;;\r\nimport Dropzone from &quot;react-dropzone&quot;;\r\nimport FlexBetween from &quot;components/FlexBetween&quot;;\r\n\r\nconst registerSchema = yup.object().shape({\r\n  firstName: yup.string().required(&quot;required&quot;),\r\n  lastName: yup.string().required(&quot;required&quot;),\r\n  email: yup.string().email(&quot;invalid email&quot;).required(&quot;required&quot;),\r\n  password: yup.string().required(&quot;required&quot;),\r\n  location: yup.string().required(&quot;required&quot;),\r\n  occupation: yup.string().required(&quot;required&quot;),\r\n  picture: yup.string().required(&quot;required&quot;),\r\n});\r\n\r\nconst loginSchema = yup.object().shape({\r\n  email: yup.string().email(&quot;invalid email&quot;).required(&quot;required&quot;),\r\n  password: yup.string().required(&quot;required&quot;),\r\n});\r\n\r\nconst initialValuesRegister = {\r\n  firstName: &quot;&quot;,\r\n  lastName: &quot;&quot;,\r\n  email: &quot;&quot;,\r\n  password: &quot;&quot;,\r\n  location: &quot;&quot;,\r\n  occupation: &quot;&quot;,\r\n  picture: &quot;&quot;,\r\n};\r\n\r\nconst initialValuesLogin = {\r\n  email: &quot;&quot;,\r\n  password: &quot;&quot;,\r\n};\r\n\r\nconst Form = () =&gt; {\r\n  const [pageType, setPageType] = useState(&quot;login&quot;);\r\n  const { palette } = useTheme();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const isNonMobile = useMediaQuery(&quot;(min-width:600px)&quot;);\r\n  const isLogin = pageType === &quot;login&quot;;\r\n  const isRegister = pageType === &quot;register&quot;;\r\n\r\n  const register = async (values, onSubmitProps) =&gt; {\r\n    // this allows us to send form info with image\r\n    const formData = new FormData();\r\n    for (let value in values) {\r\n      formData.append(value, values[value]);\r\n    }\r\n    formData.append(&quot;picturePath&quot;, values.picture.name);\r\n\r\n    const savedUserResponse = await fetch(\r\n      &quot;http://localhost:8080/api/v1/users/create&quot;,\r\n      {\r\n        method: &quot;POST&quot;,\r\n        body: formData,\r\n      }\r\n    );\r\n    const savedUser = await savedUserResponse.json();\r\n    onSubmitProps.resetForm();\r\n\r\n    if (savedUser) {\r\n      setPageType(&quot;login&quot;);\r\n    }\r\n  };\r\n\r\n  const login = async (values, onSubmitProps) =&gt; {\r\n    const loggedInResponse = await fetch(&quot;http://localhost:8080/api/v1/users&quot;, {\r\n      method: &quot;POST&quot;,\r\n      headers: { &quot;Content-Type&quot;: &quot;application/json&quot; },\r\n      body: JSON.stringify(values),\r\n    });\r\n    const loggedIn = await loggedInResponse.json();\r\n    onSubmitProps.resetForm();\r\n    if (loggedIn) {\r\n      dispatch(\r\n        setLogin({\r\n          user: loggedIn.user,\r\n          token: loggedIn.token,\r\n        })\r\n      );\r\n      navigate(&quot;/home&quot;);\r\n    }\r\n  };\r\n\r\n  const handleFormSubmit = async (values, onSubmitProps) =&gt; {\r\n    if (isLogin) await login(values, onSubmitProps);\r\n    if (isRegister) await register(values, onSubmitProps);\r\n  };\r\n\r\n  return (\r\n    &lt;Formik\r\n      onSubmit={handleFormSubmit}\r\n      initialValues={isLogin ? initialValuesLogin : initialValuesRegister}\r\n      validationSchema={isLogin ? loginSchema : registerSchema}\r\n    &gt;\r\n      {({\r\n        values,\r\n        errors,\r\n        touched,\r\n        handleBlur,\r\n        handleChange,\r\n        handleSubmit,\r\n        setFieldValue,\r\n        resetForm,\r\n      }) =&gt; (\r\n        &lt;form onSubmit={handleSubmit}&gt;\r\n          &lt;Box\r\n            display=&quot;grid&quot;\r\n            gap=&quot;30px&quot;\r\n            gridTemplateColumns=&quot;repeat(4, minmax(0, 1fr))&quot;\r\n            sx={{\r\n              &quot;&amp; &gt; div&quot;: { gridColumn: isNonMobile ? undefined : &quot;span 4&quot; },\r\n            }}\r\n          &gt;\r\n            {isRegister &amp;&amp; (\r\n              &lt;&gt;\r\n                &lt;TextField\r\n                  label=&quot;First Name&quot;\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.firstName}\r\n                  name=&quot;firstName&quot;\r\n                  error={\r\n                    Boolean(touched.firstName) &amp;&amp; Boolean(errors.firstName)\r\n                  }\r\n                  helperText={touched.firstName &amp;&amp; errors.firstName}\r\n                  sx={{ gridColumn: &quot;span 2&quot; }}\r\n                /&gt;\r\n                &lt;TextField\r\n                  label=&quot;Last Name&quot;\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.lastName}\r\n                  name=&quot;lastName&quot;\r\n                  error={Boolean(touched.lastName) &amp;&amp; Boolean(errors.lastName)}\r\n                  helperText={touched.lastName &amp;&amp; errors.lastName}\r\n                  sx={{ gridColumn: &quot;span 2&quot; }}\r\n                /&gt;\r\n                &lt;TextField\r\n                  label=&quot;Location&quot;\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.location}\r\n                  name=&quot;location&quot;\r\n                  error={Boolean(touched.location) &amp;&amp; Boolean(errors.location)}\r\n                  helperText={touched.location &amp;&amp; errors.location}\r\n                  sx={{ gridColumn: &quot;span 4&quot; }}\r\n                /&gt;\r\n                &lt;TextField\r\n                  label=&quot;Occupation&quot;\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  value={values.occupation}\r\n                  name=&quot;occupation&quot;\r\n                  error={\r\n                    Boolean(touched.occupation) &amp;&amp; Boolean(errors.occupation)\r\n                  }\r\n                  helperText={touched.occupation &amp;&amp; errors.occupation}\r\n                  sx={{ gridColumn: &quot;span 4&quot; }}\r\n                /&gt;\r\n                &lt;Box\r\n                  gridColumn=&quot;span 4&quot;\r\n                  border={`1px solid ${palette.neutral.medium}`}\r\n                  borderRadius=&quot;5px&quot;\r\n                  p=&quot;1rem&quot;\r\n                &gt;\r\n                  &lt;Dropzone\r\n                    acceptedFiles=&quot;.jpg,.jpeg,.png&quot;\r\n                    multiple={false}\r\n                    onDrop={(acceptedFiles) =&gt;\r\n                      setFieldValue(&quot;picture&quot;, acceptedFiles[0])\r\n                    }\r\n                  &gt;\r\n                    {({ getRootProps, getInputProps }) =&gt; (\r\n                      &lt;Box\r\n                        {...getRootProps()}\r\n                        border={`2px dashed ${palette.primary.main}`}\r\n                        p=&quot;1rem&quot;\r\n                        sx={{ &quot;&amp;:hover&quot;: { cursor: &quot;pointer&quot; } }}\r\n                      &gt;\r\n                        &lt;input {...getInputProps()} /&gt;\r\n                        {!values.picture ? (\r\n                          &lt;p&gt;Add Picture Here&lt;/p&gt;\r\n                        ) : (\r\n                          &lt;FlexBetween&gt;\r\n                            &lt;Typography&gt;{values.picture.name}&lt;/Typography&gt;\r\n                            &lt;EditOutlinedIcon /&gt;\r\n                          &lt;/FlexBetween&gt;\r\n                        )}\r\n                      &lt;/Box&gt;\r\n                    )}\r\n                  &lt;/Dropzone&gt;\r\n                &lt;/Box&gt;\r\n              &lt;/&gt;\r\n            )}\r\n\r\n            &lt;TextField\r\n              label=&quot;Email&quot;\r\n              onBlur={handleBlur}\r\n              onChange={handleChange}\r\n              value={values.email}\r\n              name=&quot;email&quot;\r\n              error={Boolean(touched.email) &amp;&amp; Boolean(errors.email)}\r\n              helperText={touched.email &amp;&amp; errors.email}\r\n              sx={{ gridColumn: &quot;span 4&quot; }}\r\n            /&gt;\r\n            &lt;TextField\r\n              label=&quot;Password&quot;\r\n              type=&quot;password&quot;\r\n              onBlur={handleBlur}\r\n              onChange={handleChange}\r\n              value={values.password}\r\n              name=&quot;password&quot;\r\n              error={Boolean(touched.password) &amp;&amp; Boolean(errors.password)}\r\n              helperText={touched.password &amp;&amp; errors.password}\r\n              sx={{ gridColumn: &quot;span 4&quot; }}\r\n            /&gt;\r\n          &lt;/Box&gt;\r\n\r\n          {/* BUTTONS */}\r\n          &lt;Box&gt;\r\n            &lt;Button\r\n              fullWidth\r\n              type=&quot;submit&quot;\r\n              sx={{\r\n                m: &quot;2rem 0&quot;,\r\n                p: &quot;1rem&quot;,\r\n                backgroundColor: palette.primary.main,\r\n                color: palette.background.alt,\r\n                &quot;&amp;:hover&quot;: { color: palette.primary.main },\r\n              }}\r\n            &gt;\r\n              {isLogin ? &quot;LOGIN&quot; : &quot;REGISTER&quot;}\r\n            &lt;/Button&gt;\r\n            &lt;Typography\r\n              onClick={() =&gt; {\r\n                setPageType(isLogin ? &quot;register&quot; : &quot;login&quot;);\r\n                resetForm();\r\n              }}\r\n              sx={{\r\n                textDecoration: &quot;underline&quot;,\r\n                color: palette.primary.main,\r\n                &quot;&amp;:hover&quot;: {\r\n                  cursor: &quot;pointer&quot;,\r\n                  color: palette.primary.light,\r\n                },\r\n              }}\r\n            &gt;\r\n              {isLogin\r\n                ? &quot;Don&#39;t have an account? Sign Up here.&quot;\r\n                : &quot;Already have an account? Login here.&quot;}\r\n            &lt;/Typography&gt;\r\n          &lt;/Box&gt;\r\n        &lt;/form&gt;\r\n      )}\r\n    &lt;/Formik&gt;\r\n  );\r\n};\r\n\r\nexport default Form;\r\n```\r\n\r\nAT FIRST THE POST REQUEST WAS GIVING ME A CORS ERRORS AND 403 &amp; NOW IT IS GIVING CORS ERRORS AND 415\r\n\r\nTHINGS I HAVE TRIED\r\n\r\n- ADDING NO CORS MODE IN HEADERS\r\n- Changing RequestBody to ModelAttribute \r\n\r\nI would really appreciate any type of help or feedback since this taking such a long time to resolve","title":"Spring Boot Error while making Post Request receiving unsupported Media Type 415 error","body":"<p>USER CONTROLLER</p>\n<pre><code>package com.example.fwitterbackend;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Optional;\n\nimport org.apache.catalina.User;\nimport org.bson.types.ObjectId;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.http.StreamingHttpOutputMessage.Body;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/api/v1/users&quot;)\npublic class UsersController {\n\n    @Autowired\n    private UserService userService;\n\n\n    @Autowired\n    private UserRepository userRepository;\n\n    \n    @GetMapping\n    public ResponseEntity&lt;List&lt;Users&gt;&gt; getAllPosts() {\n        return new ResponseEntity&lt;List&lt;Users&gt;&gt;(userService.allPosts(), HttpStatus.OK);\n    }\n\n             \n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Optional&lt;Users&gt;&gt; getSinglePost(@PathVariable ObjectId id) {\n        return new ResponseEntity&lt;Optional&lt;Users&gt;&gt;(userService.singlePost(id), HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/{userId}/all&quot;)\n    public ResponseEntity&lt;List&lt;Users&gt;&gt; findPostsByUserId(@PathVariable String userId) {\n        return new ResponseEntity&lt;List&lt;Users&gt;&gt;(HttpStatus.OK);\n    }\n\n\n\n    @PostMapping(&quot;/create&quot;)\n    public ResponseEntity&lt;Users&gt; createUser(@RequestBody Map&lt;String, String&gt; payload) {\n        return new ResponseEntity&lt;Users&gt;(userService.createUser(null, payload.get(&quot;email&quot;), payload.get(&quot;firstName&quot;),payload.get(&quot;lastName&quot;), payload.get(&quot;password&quot;),payload.get(&quot;picturePath&quot;), payload.get(&quot;occupation&quot;),payload.get(&quot;location&quot;)), HttpStatus.OK);\n    }\n \n\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;Users&gt; register(@ModelAttribute ObjectId id, User user) {\n      try {\n        // String firstName = user.getFullName();\n        // String lastName = user.getName();\n        // String email = ((Users) user).getEmail();\n        String password = user.getPassword();\n        // String picturePath = ((Users) user).getPicturePath();\n        // List&lt;String&gt; friends = ((Object) user).getFriends();\n        String location = ((Users) user).getLocation();\n        String occupation = ((Users) user).getOccupation();\n  \n        // String salt = ( (Object) new BCryptPasswordEncoder()).generateSalt(10);\n        String passwordHash = new BCryptPasswordEncoder().encode(password);\n  \n        Users newUser = new Users();\n  \n        Users savedUser = userRepository.save(newUser);\n  \n        return new ResponseEntity&lt;&gt;(savedUser, HttpStatus.CREATED);\n      } catch (Exception e) {\n        return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n      }\n    }\n \n}\n</code></pre>\n<p>USER SERVICE</p>\n<pre><code>package com.example.fwitterbackend;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.bson.types.ObjectId;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.mongodb.core.MongoTemplate;\nimport org.springframework.data.mongodb.core.query.Criteria;\nimport org.springframework.data.mongodb.core.query.Update;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.PathVariable;\n\n@Service\npublic class UserService {\n\n    @Autowired\n    private MongoTemplate mongoTemplate;\n\n    @Autowired\n    private UserRepository userRepository;\n   \n    public List&lt;Users&gt; allPosts() {\n        return userRepository.findAll();\n    }\n\n    \n    public Optional&lt;Users&gt; singlePost(ObjectId id) {\n        return userRepository.findById(id);\n    }\n    \n\n    \n    public List&lt;Users&gt; findPostsByUserId(ObjectId userId) {\n        return userRepository.findPostsByUserId(userId);\n    }\n\n\n    public Users createUser(ObjectId id, String firstName, String lastName, String email, String password, String picturePath, String occupation, String location) {\n        Users user = userRepository.insert(new Users(id, firstName, lastName, email, password, picturePath, occupation, location ));\n\n        mongoTemplate.update(User.class)\n            .matching(Criteria.where(&quot;id&quot;).is(id))\n            .apply(new Update().push(&quot;firstName&quot;).value(firstName).push(&quot;lastName&quot;).value(lastName).push(&quot;password&quot;).value(password).push(&quot;picturePath&quot;).value(picturePath).push(&quot;occupation&quot;).value(occupation).push(&quot;email&quot;).value(email).push(&quot;location&quot;).value(location))\n            // .apply(new Update().push(&quot;lastName&quot;).value(lastName))\n            // .apply(new Update().push(&quot;password&quot;).value(password))\n\n            .first();\n\n        return user;\n    }\n\n\n    \n\n    \n}\n</code></pre>\n<p>REACT COMPONENT FORM</p>\n<pre><code>import { useState } from &quot;react&quot;;\nimport {\n  Box,\n  Button,\n  TextField,\n  useMediaQuery,\n  Typography,\n  useTheme,\n} from &quot;@mui/material&quot;;\nimport EditOutlinedIcon from &quot;@mui/icons-material/EditOutlined&quot;;\nimport { Formik } from &quot;formik&quot;;\nimport * as yup from &quot;yup&quot;;\nimport { useNavigate } from &quot;react-router-dom&quot;;\nimport { useDispatch } from &quot;react-redux&quot;;\nimport { setLogin } from &quot;state&quot;;\nimport Dropzone from &quot;react-dropzone&quot;;\nimport FlexBetween from &quot;components/FlexBetween&quot;;\n\nconst registerSchema = yup.object().shape({\n  firstName: yup.string().required(&quot;required&quot;),\n  lastName: yup.string().required(&quot;required&quot;),\n  email: yup.string().email(&quot;invalid email&quot;).required(&quot;required&quot;),\n  password: yup.string().required(&quot;required&quot;),\n  location: yup.string().required(&quot;required&quot;),\n  occupation: yup.string().required(&quot;required&quot;),\n  picture: yup.string().required(&quot;required&quot;),\n});\n\nconst loginSchema = yup.object().shape({\n  email: yup.string().email(&quot;invalid email&quot;).required(&quot;required&quot;),\n  password: yup.string().required(&quot;required&quot;),\n});\n\nconst initialValuesRegister = {\n  firstName: &quot;&quot;,\n  lastName: &quot;&quot;,\n  email: &quot;&quot;,\n  password: &quot;&quot;,\n  location: &quot;&quot;,\n  occupation: &quot;&quot;,\n  picture: &quot;&quot;,\n};\n\nconst initialValuesLogin = {\n  email: &quot;&quot;,\n  password: &quot;&quot;,\n};\n\nconst Form = () =&gt; {\n  const [pageType, setPageType] = useState(&quot;login&quot;);\n  const { palette } = useTheme();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const isNonMobile = useMediaQuery(&quot;(min-width:600px)&quot;);\n  const isLogin = pageType === &quot;login&quot;;\n  const isRegister = pageType === &quot;register&quot;;\n\n  const register = async (values, onSubmitProps) =&gt; {\n    // this allows us to send form info with image\n    const formData = new FormData();\n    for (let value in values) {\n      formData.append(value, values[value]);\n    }\n    formData.append(&quot;picturePath&quot;, values.picture.name);\n\n    const savedUserResponse = await fetch(\n      &quot;http://localhost:8080/api/v1/users/create&quot;,\n      {\n        method: &quot;POST&quot;,\n        body: formData,\n      }\n    );\n    const savedUser = await savedUserResponse.json();\n    onSubmitProps.resetForm();\n\n    if (savedUser) {\n      setPageType(&quot;login&quot;);\n    }\n  };\n\n  const login = async (values, onSubmitProps) =&gt; {\n    const loggedInResponse = await fetch(&quot;http://localhost:8080/api/v1/users&quot;, {\n      method: &quot;POST&quot;,\n      headers: { &quot;Content-Type&quot;: &quot;application/json&quot; },\n      body: JSON.stringify(values),\n    });\n    const loggedIn = await loggedInResponse.json();\n    onSubmitProps.resetForm();\n    if (loggedIn) {\n      dispatch(\n        setLogin({\n          user: loggedIn.user,\n          token: loggedIn.token,\n        })\n      );\n      navigate(&quot;/home&quot;);\n    }\n  };\n\n  const handleFormSubmit = async (values, onSubmitProps) =&gt; {\n    if (isLogin) await login(values, onSubmitProps);\n    if (isRegister) await register(values, onSubmitProps);\n  };\n\n  return (\n    &lt;Formik\n      onSubmit={handleFormSubmit}\n      initialValues={isLogin ? initialValuesLogin : initialValuesRegister}\n      validationSchema={isLogin ? loginSchema : registerSchema}\n    &gt;\n      {({\n        values,\n        errors,\n        touched,\n        handleBlur,\n        handleChange,\n        handleSubmit,\n        setFieldValue,\n        resetForm,\n      }) =&gt; (\n        &lt;form onSubmit={handleSubmit}&gt;\n          &lt;Box\n            display=&quot;grid&quot;\n            gap=&quot;30px&quot;\n            gridTemplateColumns=&quot;repeat(4, minmax(0, 1fr))&quot;\n            sx={{\n              &quot;&amp; &gt; div&quot;: { gridColumn: isNonMobile ? undefined : &quot;span 4&quot; },\n            }}\n          &gt;\n            {isRegister &amp;&amp; (\n              &lt;&gt;\n                &lt;TextField\n                  label=&quot;First Name&quot;\n                  onBlur={handleBlur}\n                  onChange={handleChange}\n                  value={values.firstName}\n                  name=&quot;firstName&quot;\n                  error={\n                    Boolean(touched.firstName) &amp;&amp; Boolean(errors.firstName)\n                  }\n                  helperText={touched.firstName &amp;&amp; errors.firstName}\n                  sx={{ gridColumn: &quot;span 2&quot; }}\n                /&gt;\n                &lt;TextField\n                  label=&quot;Last Name&quot;\n                  onBlur={handleBlur}\n                  onChange={handleChange}\n                  value={values.lastName}\n                  name=&quot;lastName&quot;\n                  error={Boolean(touched.lastName) &amp;&amp; Boolean(errors.lastName)}\n                  helperText={touched.lastName &amp;&amp; errors.lastName}\n                  sx={{ gridColumn: &quot;span 2&quot; }}\n                /&gt;\n                &lt;TextField\n                  label=&quot;Location&quot;\n                  onBlur={handleBlur}\n                  onChange={handleChange}\n                  value={values.location}\n                  name=&quot;location&quot;\n                  error={Boolean(touched.location) &amp;&amp; Boolean(errors.location)}\n                  helperText={touched.location &amp;&amp; errors.location}\n                  sx={{ gridColumn: &quot;span 4&quot; }}\n                /&gt;\n                &lt;TextField\n                  label=&quot;Occupation&quot;\n                  onBlur={handleBlur}\n                  onChange={handleChange}\n                  value={values.occupation}\n                  name=&quot;occupation&quot;\n                  error={\n                    Boolean(touched.occupation) &amp;&amp; Boolean(errors.occupation)\n                  }\n                  helperText={touched.occupation &amp;&amp; errors.occupation}\n                  sx={{ gridColumn: &quot;span 4&quot; }}\n                /&gt;\n                &lt;Box\n                  gridColumn=&quot;span 4&quot;\n                  border={`1px solid ${palette.neutral.medium}`}\n                  borderRadius=&quot;5px&quot;\n                  p=&quot;1rem&quot;\n                &gt;\n                  &lt;Dropzone\n                    acceptedFiles=&quot;.jpg,.jpeg,.png&quot;\n                    multiple={false}\n                    onDrop={(acceptedFiles) =&gt;\n                      setFieldValue(&quot;picture&quot;, acceptedFiles[0])\n                    }\n                  &gt;\n                    {({ getRootProps, getInputProps }) =&gt; (\n                      &lt;Box\n                        {...getRootProps()}\n                        border={`2px dashed ${palette.primary.main}`}\n                        p=&quot;1rem&quot;\n                        sx={{ &quot;&amp;:hover&quot;: { cursor: &quot;pointer&quot; } }}\n                      &gt;\n                        &lt;input {...getInputProps()} /&gt;\n                        {!values.picture ? (\n                          &lt;p&gt;Add Picture Here&lt;/p&gt;\n                        ) : (\n                          &lt;FlexBetween&gt;\n                            &lt;Typography&gt;{values.picture.name}&lt;/Typography&gt;\n                            &lt;EditOutlinedIcon /&gt;\n                          &lt;/FlexBetween&gt;\n                        )}\n                      &lt;/Box&gt;\n                    )}\n                  &lt;/Dropzone&gt;\n                &lt;/Box&gt;\n              &lt;/&gt;\n            )}\n\n            &lt;TextField\n              label=&quot;Email&quot;\n              onBlur={handleBlur}\n              onChange={handleChange}\n              value={values.email}\n              name=&quot;email&quot;\n              error={Boolean(touched.email) &amp;&amp; Boolean(errors.email)}\n              helperText={touched.email &amp;&amp; errors.email}\n              sx={{ gridColumn: &quot;span 4&quot; }}\n            /&gt;\n            &lt;TextField\n              label=&quot;Password&quot;\n              type=&quot;password&quot;\n              onBlur={handleBlur}\n              onChange={handleChange}\n              value={values.password}\n              name=&quot;password&quot;\n              error={Boolean(touched.password) &amp;&amp; Boolean(errors.password)}\n              helperText={touched.password &amp;&amp; errors.password}\n              sx={{ gridColumn: &quot;span 4&quot; }}\n            /&gt;\n          &lt;/Box&gt;\n\n          {/* BUTTONS */}\n          &lt;Box&gt;\n            &lt;Button\n              fullWidth\n              type=&quot;submit&quot;\n              sx={{\n                m: &quot;2rem 0&quot;,\n                p: &quot;1rem&quot;,\n                backgroundColor: palette.primary.main,\n                color: palette.background.alt,\n                &quot;&amp;:hover&quot;: { color: palette.primary.main },\n              }}\n            &gt;\n              {isLogin ? &quot;LOGIN&quot; : &quot;REGISTER&quot;}\n            &lt;/Button&gt;\n            &lt;Typography\n              onClick={() =&gt; {\n                setPageType(isLogin ? &quot;register&quot; : &quot;login&quot;);\n                resetForm();\n              }}\n              sx={{\n                textDecoration: &quot;underline&quot;,\n                color: palette.primary.main,\n                &quot;&amp;:hover&quot;: {\n                  cursor: &quot;pointer&quot;,\n                  color: palette.primary.light,\n                },\n              }}\n            &gt;\n              {isLogin\n                ? &quot;Don't have an account? Sign Up here.&quot;\n                : &quot;Already have an account? Login here.&quot;}\n            &lt;/Typography&gt;\n          &lt;/Box&gt;\n        &lt;/form&gt;\n      )}\n    &lt;/Formik&gt;\n  );\n};\n\nexport default Form;\n</code></pre>\n<p>AT FIRST THE POST REQUEST WAS GIVING ME A CORS ERRORS AND 403 &amp; NOW IT IS GIVING CORS ERRORS AND 415</p>\n<p>THINGS I HAVE TRIED</p>\n<ul>\n<li>ADDING NO CORS MODE IN HEADERS</li>\n<li>Changing RequestBody to ModelAttribute</li>\n</ul>\n<p>I would really appreciate any type of help or feedback since this taking such a long time to resolve</p>\n"},{"tags":["java","printing","output"],"comments":[{"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"score":0,"creation_date":1680992729,"post_id":75967850,"comment_id":133988353,"body_markdown":"can you add what is args you are passing to application?","body":"can you add what is args you are passing to application?"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1680992822,"post_id":75967850,"comment_id":133988361,"body_markdown":"Can you post data for at least two lines from Lab #10 file?","body":"Can you post data for at least two lines from Lab #10 file?"},{"owner":{"account_id":26519932,"reputation":11,"user_id":20153792,"display_name":"Fatimah"},"score":0,"creation_date":1680993011,"post_id":75967850,"comment_id":133988385,"body_markdown":"like the array?","body":"like the array?"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1680993027,"post_id":75967850,"comment_id":133988387,"body_markdown":"Also, one VERY IMPORTANT thing.  I&#39;m guessing you are using a text editor and not an IDE.  A suggestion is to download Visual Studio Code and install the Java extension.  Then you can set break points and step through the code during runtime.","body":"Also, one VERY IMPORTANT thing.  I&#39;m guessing you are using a text editor and not an IDE.  A suggestion is to download Visual Studio Code and install the Java extension.  Then you can set break points and step through the code during runtime."},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1680993049,"post_id":75967850,"comment_id":133988390,"body_markdown":"yes, the array in the file you are reading","body":"yes, the array in the file you are reading"},{"owner":{"account_id":26519932,"reputation":11,"user_id":20153792,"display_name":"Fatimah"},"score":0,"creation_date":1680993134,"post_id":75967850,"comment_id":133988400,"body_markdown":"this is the array: 34 38 55 81 40 48 66 82 13 21 19 32 96 33 52 91 94 6 76 36 80 75 77 8 83 57 98 87 86 63\nand thank u for the tip","body":"this is the array: 34 38 55 81 40 48 66 82 13 21 19 32 96 33 52 91 94 6 76 36 80 75 77 8 83 57 98 87 86 63 and thank u for the tip"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1680993185,"post_id":75967850,"comment_id":133988406,"body_markdown":"Can you post in the question please?  If that is two lines, I can&#39;t see the line break.  Thanks.","body":"Can you post in the question please?  If that is two lines, I can&#39;t see the line break.  Thanks."},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1680993394,"post_id":75967850,"comment_id":133988429,"body_markdown":"Without the IDE, you will need to add print statements before your loop and within the loop to see where it&#39;s stopping and not building the array.  Put something like this before the while.  System.out.println(&quot;while&quot;);  This after the while.  System.out.println(&quot;in while&quot;);  etc","body":"Without the IDE, you will need to add print statements before your loop and within the loop to see where it&#39;s stopping and not building the array.  Put something like this before the while.  System.out.println(&quot;while&quot;);  This after the while.  System.out.println(&quot;in while&quot;);  etc"},{"owner":{"account_id":26519932,"reputation":11,"user_id":20153792,"display_name":"Fatimah"},"score":0,"creation_date":1680993619,"post_id":75967850,"comment_id":133988449,"body_markdown":"it prints the array, it just doesn&#39;t print the part between the quotation, &quot;original array from file:&quot; this part","body":"it prints the array, it just doesn&#39;t print the part between the quotation, &quot;original array from file:&quot; this part"}],"answers":[{"comments":[{"owner":{"account_id":26519932,"reputation":11,"user_id":20153792,"display_name":"Fatimah"},"score":0,"creation_date":1680994181,"post_id":75968021,"comment_id":133988490,"body_markdown":"do u know why it is printing the between quotation before every number instead of printing it like this: `original array from file:  34 38 55 81 40 48 66 82 13 21 19 32 96 33 52 91 94  6 76 36 80 75 77  8 83 57 98 87 86 63 `","body":"do u know why it is printing the between quotation before every number instead of printing it like this: <code>original array from file:  34 38 55 81 40 48 66 82 13 21 19 32 96 33 52 91 94  6 76 36 80 75 77  8 83 57 98 87 86 63 </code>"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1680994885,"post_id":75968021,"comment_id":133988558,"body_markdown":"Put the label print statement before the for loop.  The for loop repeats for each value of i.","body":"Put the label print statement before the for loop.  The for loop repeats for each value of i."}],"tags":[],"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680994842,"creation_date":1680993768,"answer_id":75968021,"question_id":75967850,"body_markdown":"String label is being passed as a parameter to the function as the string with argument value `&quot;original array from file:&quot;` .  However, you are not printing the label variable (aka label parameter).\r\n\r\n    public void printArray( String label, int[] array, int count)\r\n        {\r\n            System.out.print(label);\r\n            Scanner in = new Scanner(System.in);  \r\n            //Scanner in = new Scanner(label);\r\n            for( int i=0 ; i&lt;count ;++i )\r\n              System.out.print(array[i] + &quot; &quot; );\r\n            System.out.println();\r\n            \r\n        }\r\n\r\nThink of an argument as the data or information moving from the function call to the function.  Think of the parameter as the variable which stores that argument (or value) when the function executes during runtime.","title":"my prinln method is not outputing the same output i want","body":"<p>String label is being passed as a parameter to the function as the string with argument value <code>&quot;original array from file:&quot;</code> .  However, you are not printing the label variable (aka label parameter).</p>\n<pre><code>public void printArray( String label, int[] array, int count)\n    {\n        System.out.print(label);\n        Scanner in = new Scanner(System.in);  \n        //Scanner in = new Scanner(label);\n        for( int i=0 ; i&lt;count ;++i )\n          System.out.print(array[i] + &quot; &quot; );\n        System.out.println();\n        \n    }\n</code></pre>\n<p>Think of an argument as the data or information moving from the function call to the function.  Think of the parameter as the variable which stores that argument (or value) when the function executes during runtime.</p>\n"},{"comments":[{"owner":{"account_id":16256396,"reputation":94,"user_id":11738929,"display_name":"Shreyansh Jain"},"score":0,"creation_date":1680996977,"post_id":75968065,"comment_id":133988736,"body_markdown":"Cool. Btw if it works as expected, you can mark the answer as &quot;Accepted answer&quot; and close this question.","body":"Cool. Btw if it works as expected, you can mark the answer as &quot;Accepted answer&quot; and close this question."}],"tags":[],"owner":{"account_id":16256396,"reputation":94,"user_id":11738929,"display_name":"Shreyansh Jain"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680994701,"creation_date":1680994701,"answer_id":75968065,"question_id":75967850,"body_markdown":"You are passing the string label as parameter. However, you are not using it or printing it in your `printArray` method. You have to include the &quot;label&quot; as well in `System.out.print()` statement so that it gets printed.\r\n\r\n```\r\n// out of loop since you want to print the label only once\r\nSystem.out.print(label);\r\n\r\n// loop over array to print each element  \r\nfor(int i=0;i&lt;count;++i) {\r\n System.out.print(array[i]+ &quot; &quot;);\r\n}\r\nSystem.out.println();","title":"my prinln method is not outputing the same output i want","body":"<p>You are passing the string label as parameter. However, you are not using it or printing it in your <code>printArray</code> method. You have to include the &quot;label&quot; as well in <code>System.out.print()</code> statement so that it gets printed.</p>\n<pre><code>// out of loop since you want to print the label only once\nSystem.out.print(label);\n\n// loop over array to print each element  \nfor(int i=0;i&lt;count;++i) {\n System.out.print(array[i]+ &quot; &quot;);\n}\nSystem.out.println();\n</code></pre>\n"}],"owner":{"account_id":26519932,"reputation":11,"user_id":20153792,"display_name":"Fatimah"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75968065,"answer_count":2,"score":0,"last_activity_date":1680994842,"creation_date":1680990720,"question_id":75967850,"body_markdown":"```\r\nint[] array = myLib.loadArray( args[0] );\r\n\t\tmyLib.printArray( &quot;original array from file:  &quot;, array, array.length )\r\n```\r\n\r\nabove is the print order for this statement\r\n\r\n```\r\npublic int[] loadArray( String fileName ) throws Exception\r\n\t{\r\n\t\t\r\n\t\tScanner infileHandle = new Scanner( new File(fileName) );\r\n\t\tint[] array = new int[1]; \r\n\t\tint count = 0;\r\n\t\twhile ( infileHandle.hasNextInt() )\r\n\t\t{\tif (count &gt;= array.length)\r\n\t\t\t\tarray = upSizeArray( array );\r\n\t\t\tarray[count++] = infileHandle.nextInt();\r\n\t\t}\r\n\t\treturn trimArray( array, count );\r\n\t\t\r\n\t}\r\n```\r\n\r\nand this is the print array method\r\n\r\n```\r\npublic void printArray( String label, int[] array, int count)\r\n\t{\r\n\t\tScanner in = new Scanner(System.in);  \r\n\t\t//Scanner in = new Scanner(label);\r\n\t\tfor( int i=0 ; i&lt;count ;++i )\r\n        System.out.print(array[i] + &quot; &quot; );\r\n        System.out.println();\r\n\t\t\r\n\t}\r\n```\r\n\r\nit outputs correctly but does not print the between quotation part\r\n\r\n```\r\n&quot;original array from file:&quot; \r\n```\r\n\r\njust the stuff after it\r\n\r\nplz help\r\nthis is the array: \r\n```\r\n34 38 55 81 40 48 66 82 13 21 19 32 96 33 52 91 94 6 76 36 80 75 77 8 83 57 98 87 86 63\r\n```","title":"my prinln method is not outputing the same output i want","body":"<pre><code>int[] array = myLib.loadArray( args[0] );\n        myLib.printArray( &quot;original array from file:  &quot;, array, array.length )\n</code></pre>\n<p>above is the print order for this statement</p>\n<pre><code>public int[] loadArray( String fileName ) throws Exception\n    {\n        \n        Scanner infileHandle = new Scanner( new File(fileName) );\n        int[] array = new int[1]; \n        int count = 0;\n        while ( infileHandle.hasNextInt() )\n        {   if (count &gt;= array.length)\n                array = upSizeArray( array );\n            array[count++] = infileHandle.nextInt();\n        }\n        return trimArray( array, count );\n        \n    }\n</code></pre>\n<p>and this is the print array method</p>\n<pre><code>public void printArray( String label, int[] array, int count)\n    {\n        Scanner in = new Scanner(System.in);  \n        //Scanner in = new Scanner(label);\n        for( int i=0 ; i&lt;count ;++i )\n        System.out.print(array[i] + &quot; &quot; );\n        System.out.println();\n        \n    }\n</code></pre>\n<p>it outputs correctly but does not print the between quotation part</p>\n<pre><code>&quot;original array from file:&quot; \n</code></pre>\n<p>just the stuff after it</p>\n<p>plz help\nthis is the array:</p>\n<pre><code>34 38 55 81 40 48 66 82 13 21 19 32 96 33 52 91 94 6 76 36 80 75 77 8 83 57 98 87 86 63\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1680960106,"post_id":75965415,"comment_id":133984211,"body_markdown":"Yes you can. The only annotation required is the @Id. To tell Spring Data how to identify an entity object.","body":"Yes you can. The only annotation required is the @Id. To tell Spring Data how to identify an entity object."},{"owner":{"account_id":11001333,"reputation":97,"user_id":8081857,"display_name":"Arsen Nykytenko"},"score":0,"creation_date":1680960376,"post_id":75965415,"comment_id":133984253,"body_markdown":"So @GeneratedValue does nothing when there are no inserts, right?","body":"So @GeneratedValue does nothing when there are no inserts, right?"}],"answers":[{"comments":[{"owner":{"account_id":11001333,"reputation":97,"user_id":8081857,"display_name":"Arsen Nykytenko"},"score":0,"creation_date":1680997475,"post_id":75968067,"comment_id":133988776,"body_markdown":"Thanks. Read-only is a bit over engineering in my case. I  just wanted to be sure that by removing existing annotations I don&#39;t lose any functionality on updates or deletes.","body":"Thanks. Read-only is a bit over engineering in my case. I  just wanted to be sure that by removing existing annotations I don&#39;t lose any functionality on updates or deletes."},{"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"score":1,"creation_date":1680997708,"post_id":75968067,"comment_id":133988795,"body_markdown":"sure updates or deletes are managed by JPA or Crud so no worries on that, regarding making fields read-only i suggest the simplest way to go is to annotate the ids of entities that are updatable with  `@Column(insertable = false, updatable = false)\n`","body":"sure updates or deletes are managed by JPA or Crud so no worries on that, regarding making fields read-only i suggest the simplest way to go is to annotate the ids of entities that are updatable with  <code>@Column(insertable = false, updatable = false) </code>"}],"tags":[],"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680994753,"creation_date":1680994753,"answer_id":75968067,"question_id":75965415,"body_markdown":"no there is no need when your application is read-only, but it is safer to have one since you are uncertain that in future you may be updating entries, but for other entities which you are certain that it is read only then there is no need to add it. check (https://stackoverflow.com/questions/5115527/how-to-make-an-entity-read-only) for better making entities read only ","title":"Does @GeneratedValue make sense when there are no inserts?","body":"<p>no there is no need when your application is read-only, but it is safer to have one since you are uncertain that in future you may be updating entries, but for other entities which you are certain that it is read only then there is no need to add it. check (<a href=\"https://stackoverflow.com/questions/5115527/how-to-make-an-entity-read-only\">How to make an Entity read-only?</a>) for better making entities read only</p>\n"}],"owner":{"account_id":11001333,"reputation":97,"user_id":8081857,"display_name":"Arsen Nykytenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75968067,"answer_count":1,"score":0,"last_activity_date":1680994753,"creation_date":1680959536,"question_id":75965415,"body_markdown":"I&#39;m currently working on the project where ALL entities have `@GeneratedValue` for their `id` fields. But some of those entities are only read, some are only read and updated and there&#39;s no chance that there will be some inserts needed.\r\n\r\nSo does `@GeneratedValue` really make sense for entities which will never be inserted?\r\nI mean can I just remove all of them and it will be fine?","title":"Does @GeneratedValue make sense when there are no inserts?","body":"<p>I'm currently working on the project where ALL entities have <code>@GeneratedValue</code> for their <code>id</code> fields. But some of those entities are only read, some are only read and updated and there's no chance that there will be some inserts needed.</p>\n<p>So does <code>@GeneratedValue</code> really make sense for entities which will never be inserted?\nI mean can I just remove all of them and it will be fine?</p>\n"},{"tags":["java","spring-boot","lettuce","redis-sentinel"],"owner":{"account_id":7176791,"reputation":33,"user_id":5482418,"display_name":"sharath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1680992821,"creation_date":1624570886,"question_id":68123025,"body_markdown":"My setup as follows:\r\n 1. I am running this setup on the spring application.\r\n 2. I am using the lettuce module&#39;s RedisAsyncCommands. I was able to run it using a stand-alone Redis config.\r\n 3. When I try to run it using the sentinel mode it&#39;s getting stuck during the initial spring bootup process.\r\n 4. I am able to hit the same sentinel using manual object creation in a\r\n    terminal application. But it fails when I try in spring boot.\r\n\r\nbelow is the stage where it gets stuck.\r\n\r\n```\r\n2021-06-25 02:48:57,328 38486 [main] INFO  [i.l.c.EpollProvider] {{clusterName,default}{appResourceId,ss@dev}} - Starting without optional epoll library \r\n2021-06-25 02:48:57,331 38489 [main] INFO  [i.l.c.KqueueProvider] {{clusterName,default}{appResourceId,ss@dev}} - Starting without optional kqueue library\r\n```\r\n\r\nI have debugged it closely and it looks like the issue is coming while it&#39;s trying to connect to the sentinel server. It&#39;s trying to call the AbstractRedisClient class and not able to make a connection.\r\n\r\n```\r\n    protected &lt;T&gt; T getConnection(ConnectionFuture&lt;T&gt; connectionFuture) {\r\n        try {\r\n            return connectionFuture.get();\r\n        } catch (InterruptedException var3) {\r\n            Thread.currentThread().interrupt();\r\n            throw RedisConnectionException.create(connectionFuture.getRemoteAddress(), var3);\r\n        } catch (Exception var4) {\r\n            if (var4 instanceof ExecutionException) {\r\n                throw RedisConnectionException.create(connectionFuture.getRemoteAddress(), var4.getCause());\r\n            } else {\r\n                throw RedisConnectionException.create(connectionFuture.getRemoteAddress(), var4);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nFails at line coonectionFuture.get().\r\n\r\n\r\nMy bean configuration:\r\n```\r\n    @Bean\r\n    public RedisClient redisClient() {\r\n        return RedisClient.create(RedisURI.builder()\r\n                .withSentinel(&quot;localhost&quot;, 26379)\r\n                .withSentinel(&quot;localhost&quot;, 5000)\r\n                .withSentinel(&quot;localhost&quot;, 5001)\r\n                .withSentinelMasterId(&quot;mymaster&quot;).build());\r\n    }\r\n\r\n    @Bean\r\n    public StatefulRedisConnection&lt;String, String&gt; statefulRedisConnection(final RedisClient redisClient) {\r\n        return redisClient.connect();\r\n    }\r\n\r\n    @Bean\r\n    public RedisAsyncCommands&lt;String, String&gt; redisAsyncCommands(\r\n            final StatefulRedisConnection&lt;String, String&gt; redisConnection\r\n    ) {\r\n        return redisConnection.async();\r\n    }\r\n```\r\n\r\nI will be using the async object below to run commands like async.hget(), async.set() etc.\r\n```\r\n    private final RedisClient redisClientNew;\r\n    private final StatefulRedisConnection&lt;String, String&gt; connection;\r\n    private final RedisAsyncCommands&lt;String, String&gt; async;\r\n```\r\n\r\n\r\n\r\nAny help is greatly appreciated and let me know any extra information if needed. Please do comment if you have any idea on this or if you can help me with the setup.\r\n","title":"Redis lettuce setup for using asyncRedisCommands on redis sentinel","body":"<p>My setup as follows:</p>\n<ol>\n<li>I am running this setup on the spring application.</li>\n<li>I am using the lettuce module's RedisAsyncCommands. I was able to run it using a stand-alone Redis config.</li>\n<li>When I try to run it using the sentinel mode it's getting stuck during the initial spring bootup process.</li>\n<li>I am able to hit the same sentinel using manual object creation in a\nterminal application. But it fails when I try in spring boot.</li>\n</ol>\n<p>below is the stage where it gets stuck.</p>\n<pre><code>2021-06-25 02:48:57,328 38486 [main] INFO  [i.l.c.EpollProvider] {{clusterName,default}{appResourceId,ss@dev}} - Starting without optional epoll library \n2021-06-25 02:48:57,331 38489 [main] INFO  [i.l.c.KqueueProvider] {{clusterName,default}{appResourceId,ss@dev}} - Starting without optional kqueue library\n</code></pre>\n<p>I have debugged it closely and it looks like the issue is coming while it's trying to connect to the sentinel server. It's trying to call the AbstractRedisClient class and not able to make a connection.</p>\n<pre><code>    protected &lt;T&gt; T getConnection(ConnectionFuture&lt;T&gt; connectionFuture) {\n        try {\n            return connectionFuture.get();\n        } catch (InterruptedException var3) {\n            Thread.currentThread().interrupt();\n            throw RedisConnectionException.create(connectionFuture.getRemoteAddress(), var3);\n        } catch (Exception var4) {\n            if (var4 instanceof ExecutionException) {\n                throw RedisConnectionException.create(connectionFuture.getRemoteAddress(), var4.getCause());\n            } else {\n                throw RedisConnectionException.create(connectionFuture.getRemoteAddress(), var4);\n            }\n        }\n    }\n</code></pre>\n<p>Fails at line coonectionFuture.get().</p>\n<p>My bean configuration:</p>\n<pre><code>    @Bean\n    public RedisClient redisClient() {\n        return RedisClient.create(RedisURI.builder()\n                .withSentinel(&quot;localhost&quot;, 26379)\n                .withSentinel(&quot;localhost&quot;, 5000)\n                .withSentinel(&quot;localhost&quot;, 5001)\n                .withSentinelMasterId(&quot;mymaster&quot;).build());\n    }\n\n    @Bean\n    public StatefulRedisConnection&lt;String, String&gt; statefulRedisConnection(final RedisClient redisClient) {\n        return redisClient.connect();\n    }\n\n    @Bean\n    public RedisAsyncCommands&lt;String, String&gt; redisAsyncCommands(\n            final StatefulRedisConnection&lt;String, String&gt; redisConnection\n    ) {\n        return redisConnection.async();\n    }\n</code></pre>\n<p>I will be using the async object below to run commands like async.hget(), async.set() etc.</p>\n<pre><code>    private final RedisClient redisClientNew;\n    private final StatefulRedisConnection&lt;String, String&gt; connection;\n    private final RedisAsyncCommands&lt;String, String&gt; async;\n</code></pre>\n<p>Any help is greatly appreciated and let me know any extra information if needed. Please do comment if you have any idea on this or if you can help me with the setup.</p>\n"},{"tags":["java","h2"],"comments":[{"owner":{"account_id":8908789,"reputation":5958,"user_id":6649786,"accept_rate":100,"display_name":"Wais Kamal"},"score":0,"creation_date":1680991538,"post_id":75967872,"comment_id":133988228,"body_markdown":"What is the error you are getting?","body":"What is the error you are getting?"}],"answers":[{"comments":[{"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"score":0,"creation_date":1680992849,"post_id":75967961,"comment_id":133988364,"body_markdown":"didn&#39;t work, I get the same error","body":"didn&#39;t work, I get the same error"},{"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"score":1,"creation_date":1680993007,"post_id":75967961,"comment_id":133988384,"body_markdown":"are you running with spring boot, or its java ee?","body":"are you running with spring boot, or its java ee?"},{"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"score":0,"creation_date":1680993102,"post_id":75967961,"comment_id":133988394,"body_markdown":"Spring Boot v2.7.5, Spring v5.3.23, Java 8","body":"Spring Boot v2.7.5, Spring v5.3.23, Java 8"},{"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"score":0,"creation_date":1680993158,"post_id":75967961,"comment_id":133988403,"body_markdown":"have you imported spring-data-jpa as dependency ?","body":"have you imported spring-data-jpa as dependency ?"},{"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"score":0,"creation_date":1680994064,"post_id":75967961,"comment_id":133988484,"body_markdown":"just tested your code, it works just fine, you can check it [here](https://github.com/hammafataka/st_ov_answer)","body":"just tested your code, it works just fine, you can check it <a href=\"https://github.com/hammafataka/st_ov_answer\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"score":0,"creation_date":1680994272,"post_id":75967961,"comment_id":133988497,"body_markdown":"mmmm so that means thre&#39;s something very specific to my project which breaks it","body":"mmmm so that means thre&#39;s something very specific to my project which breaks it"},{"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"score":0,"creation_date":1680994309,"post_id":75967961,"comment_id":133988500,"body_markdown":"what db are you using?","body":"what db are you using?"},{"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"score":0,"creation_date":1680994419,"post_id":75967961,"comment_id":133988513,"body_markdown":"yeah no, I just found it. It&#39;s the line where I specify the db file location:\n```spring.datasource.url=jdbc:h2:file:~/projects-data/social-multiplication/gamification;DB_CLOSE_ON_EXIT=FALSE```\nI commented it and it works","body":"yeah no, I just found it. It&#39;s the line where I specify the db file location: <code>spring.datasource.url=jdbc:h2:file:~&#47;projects-data&#47;social-mu&zwnj;&#8203;ltiplication&#47;gamific&zwnj;&#8203;ation;DB_CLOSE_ON_EX&zwnj;&#8203;IT=FALSE</code> I commented it and it works"},{"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"score":0,"creation_date":1680994512,"post_id":75967961,"comment_id":133988519,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/253056/discussion-between-idk-and-mohammed-fataka).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/253056/discussion-between-idk-and-mohammed-fataka\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680992581,"creation_date":1680992581,"answer_id":75967961,"question_id":75967872,"body_markdown":"i&#39;m assuming you do not have sequence generated for \r\n\r\n``` \r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;CARD_ID&quot;)\r\n    private final Long cardId;\r\n```\r\n\r\ntry update it to \r\n\r\n```\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;card_sequence&quot;,\r\n            sequenceName = &quot;card_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = SEQUENCE,\r\n            generator = &quot;card_sequence&quot;\r\n    )\r\n    @Column(\r\n            name = &quot;CARD_ID&quot;,\r\n            updatable = false\r\n    )\r\n```","title":"Why can&#39;t H2 create this table?","body":"<p>i'm assuming you do not have sequence generated for</p>\n<pre><code>    @Id\n    @GeneratedValue\n    @Column(name = &quot;CARD_ID&quot;)\n    private final Long cardId;\n</code></pre>\n<p>try update it to</p>\n<pre><code>    @Id\n    @SequenceGenerator(\n            name = &quot;card_sequence&quot;,\n            sequenceName = &quot;card_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = SEQUENCE,\n            generator = &quot;card_sequence&quot;\n    )\n    @Column(\n            name = &quot;CARD_ID&quot;,\n            updatable = false\n    )\n</code></pre>\n"}],"owner":{"account_id":11655491,"reputation":361,"user_id":8543252,"accept_rate":100,"display_name":"IDK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680992581,"creation_date":1680991101,"question_id":75967872,"body_markdown":"Why can&#39;t H2 create this table?\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;SCORE_CARD&quot;)\r\npublic final class ScoreCard implements Serializable {\r\n\r\n    public static final int DEFAULT_SCORE = 10;\r\n    private static final long serialVersionUID = -2504167837465532618L;\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;CARD_ID&quot;)\r\n    private final Long cardId;\r\n\r\n    @Column(name = &quot;USER_ID&quot;)\r\n    private final Long userId;\r\n\r\n    @Column(name = &quot;ATTEMPT_ID&quot;)\r\n    private final Long attemptId;\r\n\r\n    @Column(name = &quot;SCORE_TS&quot;)\r\n    private final Long scoreTimestamp;\r\n\r\n    @Column(name = &quot;SCORE&quot;)\r\n    private final int score;\r\n\r\n    @Column(name = &quot;CORRECT&quot;)\r\n    private final boolean correct;\r\n\r\n    public ScoreCard(Long cardId, Long userId, Long attemptId, Long scoreTimestamp, int score,\r\n                     boolean correct) {\r\n        this.cardId = cardId;\r\n        this.userId = userId;\r\n        this.attemptId = attemptId;\r\n        this.scoreTimestamp = scoreTimestamp;\r\n        this.score = correct ? DEFAULT_SCORE : 0;\r\n        this.correct = correct;\r\n    }\r\n\r\n    public ScoreCard() {\r\n        this(null, null, null, null, 0, false);\r\n    }\r\n\r\n    public ScoreCard(Long userId, Long attemptId, boolean correct) {\r\n        this(null, userId, attemptId, System.currentTimeMillis(), 0, correct);\r\n    }\r\n\r\n    public Long getCardId() {\r\n        return cardId;\r\n    }\r\n\r\n    public Long getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public Long getAttemptId() {\r\n        return attemptId;\r\n    }\r\n\r\n    public Long getScoreTimestamp() {\r\n        return scoreTimestamp;\r\n    }\r\n\r\n    public long getScore() {\r\n        return score;\r\n    }\r\n\r\n    public boolean isCorrect() {\r\n        return correct;\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nhere&#39;s the application.properties:\r\n\r\n```\r\n####### START H2 #######\r\n\r\n# Creates the database in a file\r\nspring.datasource.url=jdbc:h2:file:~/projects-data/social-multiplication/gamification;DB_CLOSE_ON_EXIT=FALSE\r\n\r\n# Shows the SQL in console\r\nspring.jpa.properties.hibernate.show_sql=true\r\n\r\nspring.datasource.username=\r\nspring.datasource.password=\r\n\r\n####### END H2 #######\r\n```\r\n\r\nI&#39;ve tried changing the ```@GeneratedValue``` to ```@GeneratedValue(strategy = GenerationType.IDENTITY)``` but it didn&#39;t work. I have many other tables just like this one which get generated just fine... I don&#39;t get why this doesn&#39;t.\r\n\r\n\r\nI get an SQLGrammarException when trying to create this table.\r\n\r\n\r\n**EDIT** stack trace\r\n\r\n```\r\n2023-04-08 23:35:23.046 DEBUG 14292 --- [  restartedMain] m.b.g.GamificationApplication            : Running with Spring Boot v2.7.5, Spring v5.3.23\r\n2023-04-08 23:35:23.047  INFO 14292 --- [  restartedMain] m.b.g.GamificationApplication            : The following 1 profile is active: &quot;local&quot;\r\n2023-04-08 23:35:23.153  INFO 14292 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-04-08 23:35:23.154  INFO 14292 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-04-08 23:35:24.566  INFO 14292 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-04-08 23:35:24.652  INFO 14292 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71 ms. Found 2 JPA repository interfaces.\r\n2023-04-08 23:35:26.309  INFO 14292 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)\r\n2023-04-08 23:35:26.323  INFO 14292 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-04-08 23:35:26.323  INFO 14292 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.68]\r\n2023-04-08 23:35:26.492  INFO 14292 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-04-08 23:35:26.492  INFO 14292 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3337 ms\r\n2023-04-08 23:35:26.545  INFO 14292 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-04-08 23:35:26.939  INFO 14292 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-04-08 23:35:26.952  INFO 14292 --- [  restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at &#39;/h2-console&#39;. Database available at &#39;jdbc:h2:file:~/projects-data/social-multiplication/gamification&#39;\r\n2023-04-08 23:35:27.198  INFO 14292 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-04-08 23:35:27.311  INFO 14292 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.12.Final\r\n2023-04-08 23:35:27.623  INFO 14292 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n2023-04-08 23:35:27.809  INFO 14292 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n2023-04-08 23:35:28.017  WARN 14292 --- [  restartedMain] o.h.t.d.java.JavaTypeDescriptorRegistry  : HHH000481: Encountered Java type [interface microservices.book.gamification.domain.badge.Badge] for which we could not locate a JavaTypeDescriptor and which does not appear to implement equals and/or hashCode.  This can lead to significant performance problems when performing equality/dirty checking involving this Java type.  Consider registering a custom JavaTypeDescriptor or at least implementing equals/hashCode.\r\n2023-04-08 23:35:28.499  INFO 14292 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-04-08 23:35:28.515  INFO 14292 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-04-08 23:35:29.534  WARN 14292 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-04-08 23:35:30.832  WARN 14292 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server\r\n2023-04-08 23:35:30.907  INFO 14292 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path &#39;&#39;\r\n2023-04-08 23:35:30.909  INFO 14292 --- [  restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]\r\n2023-04-08 23:35:31.003  INFO 14292 --- [  restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7261045c:0/SimpleConnection@7c3c110e [delegate=amqp://guest@127.0.0.1:5672/, localPort= 56088]\r\n2023-04-08 23:35:31.094  INFO 14292 --- [  restartedMain] m.b.g.GamificationApplication            : Started GamificationApplication in 8.787 seconds (JVM running for 9.656)\r\n2023-04-08 23:35:31.104  INFO 14292 --- [ntContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.\r\n2023-04-08 23:35:31.180 DEBUG 14292 --- [ntContainer#0-1] m.book.gamification.event.EventHandler   : MultiplicationSolvedEvent: MultiplicationSolvedEvent{userId=3, multiplicationResultAttemptId=1, correct=false}\r\nHibernate: call next value for hibernate_sequence\r\n2023-04-08 23:35:31.239  WARN 14292 --- [ntContainer#0-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90036, SQLState: 90036\r\n2023-04-08 23:35:31.239 ERROR 14292 --- [ntContainer#0-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Sequence &quot;HIBERNATE_SEQUENCE&quot; not found; SQL statement:\r\ncall next value for hibernate_sequence [90036-214]\r\n2023-04-08 23:35:31.259  WARN 14292 --- [ntContainer#0-1] s.a.r.l.ConditionalRejectingErrorHandler : Execution of Rabbit message listener failed.\r\n\r\norg.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method &#39;void microservices.book.gamification.event.EventHandler.handleMultiplicationSolved(microservices.book.gamification.event.MultiplicationSolvedEvent) throws org.springframework.amqp.AmqpRejectAndDontRequeueException&#39; threw exception\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:272) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:209) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1670) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1589) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1577) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1568) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1512) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:994) [spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:941) [spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:85) [spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1319) [spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1225) [spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]\r\nCaused by: org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [call next value for hibernate_sequence]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.5.jar:2.7.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat com.sun.proxy.$Proxy113.save(Unknown Source) ~[na:na]\r\n\tat microservices.book.gamification.service.impl.GameServiceImpl.newAttemptForUser(GameServiceImpl.java:47) ~[classes/:na]\r\n\tat microservices.book.gamification.event.EventHandler.handleMultiplicationSolved(EventHandler.java:33) ~[classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-5.3.23.jar:5.3.23]\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-5.3.23.jar:5.3.23]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:77) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:263) ~[spring-rabbit-2.4.7.jar:2.4.7]\r\n\t... 13 common frames omitted\r\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n\tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareStatement(StatementPreparerImpl.java:75) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.id.enhanced.SequenceStructure$1.getNextValue(SequenceStructure.java:105) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.id.enhanced.NoopOptimizer.generate(NoopOptimizer.java:40) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.id.enhanced.SequenceStyleGenerator.generate(SequenceStyleGenerator.java:534) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:115) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat com.sun.proxy.$Proxy109.persist(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.5.jar:2.7.5]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.5.jar:2.7.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]\r\n\t... 30 common frames omitted\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Sequence &quot;HIBERNATE_SEQUENCE&quot; not found; SQL statement:\r\ncall next value for hibernate_sequence [90036-214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:632) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.message.DbException.get(DbException.java:223) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.message.DbException.get(DbException.java:199) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.readSequence(Parser.java:8471) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.readTermWithIdentifier(Parser.java:5347) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.readTermWithIdentifier(Parser.java:5217) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.readTerm(Parser.java:4901) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.readFactor(Parser.java:3398) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.readSum(Parser.java:3385) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.readConcat(Parser.java:3350) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.readCondition(Parser.java:3132) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.readExpression(Parser.java:3053) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.parseCall(Parser.java:6980) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.parsePrepared(Parser.java:765) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.parse(Parser.java:689) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.parse(Parser.java:661) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.command.Parser.prepareCommand(Parser.java:569) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:92) ~[h2-2.1.214.jar:2.1.214]\r\n\tat org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:288) ~[h2-2.1.214.jar:2.1.214]\r\n\tat com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:337) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$1.doPrepare(StatementPreparerImpl.java:90) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\t... 67 common frames omitted\r\n\r\n2023-04-08 23:35:31.266  INFO 14292 --- [ntContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.\r\n2023-04-08 23:35:31.873  INFO 14292 --- [ionShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped\r\n2023-04-08 23:35:31.881  INFO 14292 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-04-08 23:35:31.887  INFO 14292 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-04-08 23:35:31.899  INFO 14292 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n\r\nProcess finished with exit code 130\r\n\r\n```\r\n\r\nLine 46,47 of GameServiceImpl.java:\r\n\r\n```\r\nScoreCard scoreCard = new ScoreCard(userId, attemptId, correct);\r\nscoreCardRepository.save(scoreCard);\r\n```","title":"Why can&#39;t H2 create this table?","body":"<p>Why can't H2 create this table?</p>\n<pre><code>@Entity\n@Table(name = &quot;SCORE_CARD&quot;)\npublic final class ScoreCard implements Serializable {\n\n    public static final int DEFAULT_SCORE = 10;\n    private static final long serialVersionUID = -2504167837465532618L;\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;CARD_ID&quot;)\n    private final Long cardId;\n\n    @Column(name = &quot;USER_ID&quot;)\n    private final Long userId;\n\n    @Column(name = &quot;ATTEMPT_ID&quot;)\n    private final Long attemptId;\n\n    @Column(name = &quot;SCORE_TS&quot;)\n    private final Long scoreTimestamp;\n\n    @Column(name = &quot;SCORE&quot;)\n    private final int score;\n\n    @Column(name = &quot;CORRECT&quot;)\n    private final boolean correct;\n\n    public ScoreCard(Long cardId, Long userId, Long attemptId, Long scoreTimestamp, int score,\n                     boolean correct) {\n        this.cardId = cardId;\n        this.userId = userId;\n        this.attemptId = attemptId;\n        this.scoreTimestamp = scoreTimestamp;\n        this.score = correct ? DEFAULT_SCORE : 0;\n        this.correct = correct;\n    }\n\n    public ScoreCard() {\n        this(null, null, null, null, 0, false);\n    }\n\n    public ScoreCard(Long userId, Long attemptId, boolean correct) {\n        this(null, userId, attemptId, System.currentTimeMillis(), 0, correct);\n    }\n\n    public Long getCardId() {\n        return cardId;\n    }\n\n    public Long getUserId() {\n        return userId;\n    }\n\n    public Long getAttemptId() {\n        return attemptId;\n    }\n\n    public Long getScoreTimestamp() {\n        return scoreTimestamp;\n    }\n\n    public long getScore() {\n        return score;\n    }\n\n    public boolean isCorrect() {\n        return correct;\n    }\n\n}\n\n\n</code></pre>\n<p>here's the application.properties:</p>\n<pre><code>####### START H2 #######\n\n# Creates the database in a file\nspring.datasource.url=jdbc:h2:file:~/projects-data/social-multiplication/gamification;DB_CLOSE_ON_EXIT=FALSE\n\n# Shows the SQL in console\nspring.jpa.properties.hibernate.show_sql=true\n\nspring.datasource.username=\nspring.datasource.password=\n\n####### END H2 #######\n</code></pre>\n<p>I've tried changing the <code>@GeneratedValue</code> to <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> but it didn't work. I have many other tables just like this one which get generated just fine... I don't get why this doesn't.</p>\n<p>I get an SQLGrammarException when trying to create this table.</p>\n<p><strong>EDIT</strong> stack trace</p>\n<pre><code>2023-04-08 23:35:23.046 DEBUG 14292 --- [  restartedMain] m.b.g.GamificationApplication            : Running with Spring Boot v2.7.5, Spring v5.3.23\n2023-04-08 23:35:23.047  INFO 14292 --- [  restartedMain] m.b.g.GamificationApplication            : The following 1 profile is active: &quot;local&quot;\n2023-04-08 23:35:23.153  INFO 14292 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-04-08 23:35:23.154  INFO 14292 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-04-08 23:35:24.566  INFO 14292 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-04-08 23:35:24.652  INFO 14292 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71 ms. Found 2 JPA repository interfaces.\n2023-04-08 23:35:26.309  INFO 14292 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)\n2023-04-08 23:35:26.323  INFO 14292 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-04-08 23:35:26.323  INFO 14292 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.68]\n2023-04-08 23:35:26.492  INFO 14292 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-04-08 23:35:26.492  INFO 14292 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3337 ms\n2023-04-08 23:35:26.545  INFO 14292 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-04-08 23:35:26.939  INFO 14292 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-04-08 23:35:26.952  INFO 14292 --- [  restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:~/projects-data/social-multiplication/gamification'\n2023-04-08 23:35:27.198  INFO 14292 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-04-08 23:35:27.311  INFO 14292 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.12.Final\n2023-04-08 23:35:27.623  INFO 14292 --- [  restartedMain] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2023-04-08 23:35:27.809  INFO 14292 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n2023-04-08 23:35:28.017  WARN 14292 --- [  restartedMain] o.h.t.d.java.JavaTypeDescriptorRegistry  : HHH000481: Encountered Java type [interface microservices.book.gamification.domain.badge.Badge] for which we could not locate a JavaTypeDescriptor and which does not appear to implement equals and/or hashCode.  This can lead to significant performance problems when performing equality/dirty checking involving this Java type.  Consider registering a custom JavaTypeDescriptor or at least implementing equals/hashCode.\n2023-04-08 23:35:28.499  INFO 14292 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-04-08 23:35:28.515  INFO 14292 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-04-08 23:35:29.534  WARN 14292 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-04-08 23:35:30.832  WARN 14292 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server\n2023-04-08 23:35:30.907  INFO 14292 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''\n2023-04-08 23:35:30.909  INFO 14292 --- [  restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]\n2023-04-08 23:35:31.003  INFO 14292 --- [  restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7261045c:0/SimpleConnection@7c3c110e [delegate=amqp://guest@127.0.0.1:5672/, localPort= 56088]\n2023-04-08 23:35:31.094  INFO 14292 --- [  restartedMain] m.b.g.GamificationApplication            : Started GamificationApplication in 8.787 seconds (JVM running for 9.656)\n2023-04-08 23:35:31.104  INFO 14292 --- [ntContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.\n2023-04-08 23:35:31.180 DEBUG 14292 --- [ntContainer#0-1] m.book.gamification.event.EventHandler   : MultiplicationSolvedEvent: MultiplicationSolvedEvent{userId=3, multiplicationResultAttemptId=1, correct=false}\nHibernate: call next value for hibernate_sequence\n2023-04-08 23:35:31.239  WARN 14292 --- [ntContainer#0-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90036, SQLState: 90036\n2023-04-08 23:35:31.239 ERROR 14292 --- [ntContainer#0-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Sequence &quot;HIBERNATE_SEQUENCE&quot; not found; SQL statement:\ncall next value for hibernate_sequence [90036-214]\n2023-04-08 23:35:31.259  WARN 14292 --- [ntContainer#0-1] s.a.r.l.ConditionalRejectingErrorHandler : Execution of Rabbit message listener failed.\n\norg.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method 'void microservices.book.gamification.event.EventHandler.handleMultiplicationSolved(microservices.book.gamification.event.MultiplicationSolvedEvent) throws org.springframework.amqp.AmqpRejectAndDontRequeueException' threw exception\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:272) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:209) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:148) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1670) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1589) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1577) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1568) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1512) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:994) [spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:941) [spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.access$1600(SimpleMessageListenerContainer.java:85) [spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1319) [spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1225) [spring-rabbit-2.4.7.jar:2.4.7]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_161]\nCaused by: org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [call next value for hibernate_sequence]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:259) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.5.jar:2.7.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.23.jar:5.3.23]\n    at com.sun.proxy.$Proxy113.save(Unknown Source) ~[na:na]\n    at microservices.book.gamification.service.impl.GameServiceImpl.newAttemptForUser(GameServiceImpl.java:47) ~[classes/:na]\n    at microservices.book.gamification.event.EventHandler.handleMultiplicationSolved(EventHandler.java:33) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-5.3.23.jar:5.3.23]\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-5.3.23.jar:5.3.23]\n    at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:77) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:263) ~[spring-rabbit-2.4.7.jar:2.4.7]\n    ... 13 common frames omitted\nCaused by: org.hibernate.exception.SQLGrammarException: could not prepare statement\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:63) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:186) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareStatement(StatementPreparerImpl.java:75) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.id.enhanced.SequenceStructure$1.getNextValue(SequenceStructure.java:105) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.id.enhanced.NoopOptimizer.generate(NoopOptimizer.java:40) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.id.enhanced.SequenceStyleGenerator.generate(SequenceStyleGenerator.java:534) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:115) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.23.jar:5.3.23]\n    at com.sun.proxy.$Proxy109.persist(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.5.jar:2.7.5]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_161]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_161]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_161]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_161]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.5.jar:2.7.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.23.jar:5.3.23]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.23.jar:5.3.23]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.23.jar:5.3.23]\n    ... 30 common frames omitted\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Sequence &quot;HIBERNATE_SEQUENCE&quot; not found; SQL statement:\ncall next value for hibernate_sequence [90036-214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:632) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readSequence(Parser.java:8471) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5347) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readTermWithIdentifier(Parser.java:5217) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readTerm(Parser.java:4901) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readFactor(Parser.java:3398) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readSum(Parser.java:3385) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readConcat(Parser.java:3350) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readCondition(Parser.java:3132) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.readExpression(Parser.java:3053) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.parseCall(Parser.java:6980) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.parsePrepared(Parser.java:765) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.parse(Parser.java:689) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.parse(Parser.java:661) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.command.Parser.prepareCommand(Parser.java:569) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.jdbc.JdbcPreparedStatement.&lt;init&gt;(JdbcPreparedStatement.java:92) ~[h2-2.1.214.jar:2.1.214]\n    at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:288) ~[h2-2.1.214.jar:2.1.214]\n    at com.zaxxer.hikari.pool.ProxyConnection.prepareStatement(ProxyConnection.java:337) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyConnection.prepareStatement(HikariProxyConnection.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$1.doPrepare(StatementPreparerImpl.java:90) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:176) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    ... 67 common frames omitted\n\n2023-04-08 23:35:31.266  INFO 14292 --- [ntContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.\n2023-04-08 23:35:31.873  INFO 14292 --- [ionShutdownHook] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is already stopped\n2023-04-08 23:35:31.881  INFO 14292 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-04-08 23:35:31.887  INFO 14292 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-04-08 23:35:31.899  INFO 14292 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n\nProcess finished with exit code 130\n\n</code></pre>\n<p>Line 46,47 of GameServiceImpl.java:</p>\n<pre><code>ScoreCard scoreCard = new ScoreCard(userId, attemptId, correct);\nscoreCardRepository.save(scoreCard);\n</code></pre>\n"},{"tags":["java","user-interface","datatable","gwt","domino-ui"],"answers":[{"tags":[],"owner":{"account_id":2480204,"reputation":1014,"user_id":2159821,"display_name":"Ahmad Bawaneh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1680992143,"creation_date":1680986088,"answer_id":75967562,"question_id":75967561,"body_markdown":"Domino-ui datatable has a built-in plugin called Marker plugin that can mark the row conditionally with different colors, the plugin adds the color as a border to the left border of the row\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nyou can find an example in domino-ui demo [here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/73ral.png\r\n  [2]: https://demo.dominokit.org/datatable/marker-plugin\r\n\r\nand if that is not enough you can create your own plugin, like this \r\n\r\n    import elemental2.dom.HTMLTableRowElement;\r\n    import org.dominokit.domino.ui.datatable.DataTable;\r\n    import org.dominokit.domino.ui.datatable.TableRow;\r\n    import org.dominokit.domino.ui.datatable.plugins.DataTablePlugin;\r\n    \r\n    public class RowColorPlugin&lt;T&gt; implements DataTablePlugin&lt;T&gt; {\r\n    \r\n        @Override\r\n        public void onRowAdded(DataTable&lt;T&gt; dataTable, TableRow&lt;T&gt; tableRow) {\r\n            T record = tableRow.getRecord();\r\n            HTMLTableRowElement row = tableRow.element();\r\n            // Add css classes or set css properties in the row element based on the row record to change the row colors\r\n        }\r\n    }\r\n\r\nAnd here is a sample showing how to use the custom plugin\r\n\r\n    TableConfig&lt;Contact&gt; tableConfig = new TableConfig&lt;&gt;();\r\n            tableConfig\r\n                    .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;id&quot;, &quot;#&quot;)\r\n                            .textAlign(&quot;right&quot;)\r\n                            .asHeader()\r\n                            .setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getIndex() + 1 + &quot;&quot;)))\r\n    \r\n                    .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;status&quot;, &quot;Status&quot;)\r\n                            .textAlign(&quot;center&quot;)\r\n                            .setCellRenderer(cell -&gt; {\r\n                                if (cell.getTableRow().getRecord().isActive()) {\r\n                                    return Style.of(Icons.ALL.check_circle()).setColor(Color.GREEN_DARKEN_3.getHex()).element();\r\n                                } else {\r\n                                    return Style.of(Icons.ALL.highlight_off()).setColor(Color.RED_DARKEN_3.getHex()).element();\r\n                                }\r\n                            }))\r\n                    .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;firstName&quot;, &quot;First name&quot;)\r\n                            .setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getName())))\r\n    \r\n    \r\n                    .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;gender&quot;, &quot;Gender&quot;)\r\n                            .setCellRenderer(cell -&gt; ContactUiUtils.getGenderElement(cell.getRecord()))\r\n                            .textAlign(&quot;center&quot;))\r\n    \r\n                    .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;eyeColor&quot;, &quot;Eye color&quot;)\r\n                            .setCellRenderer(cell -&gt; ContactUiUtils.getEyeColorElement(cell.getRecord()))\r\n                            .textAlign(&quot;center&quot;))\r\n    \r\n                    .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;balance&quot;, &quot;Balance&quot;)\r\n                            .setCellRenderer(cellInfo -&gt; ContactUiUtils.getBalanceElement(cellInfo.getRecord())))\r\n    \r\n                    .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;email&quot;, &quot;Email&quot;)\r\n                            .setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getEmail())))\r\n    \r\n                    .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;phone&quot;, &quot;Phone&quot;)\r\n                            .setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getPhone())))\r\n    \r\n                    .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;badges&quot;, &quot;Badges&quot;)\r\n                            .setCellRenderer(cell -&gt; {\r\n                                if (cell.getTableRow().getRecord().getAge() &lt; 35) {\r\n                                    return Badge.create(&quot;Young&quot;)\r\n                                            .setBackground(ColorScheme.GREEN.color()).element();\r\n                                }\r\n                                return TextNode.of(&quot;&quot;);\r\n                            }));\r\n    \r\n            tableConfig.addPlugin(new RowColorPlugin&lt;&gt;(tableCellInfo -&gt; ContactUiUtils.getBalanceColor(tableCellInfo.getRecord())));\r\n            LocalListDataStore&lt;Contact&gt; localListDataStore = new LocalListDataStore&lt;&gt;();\r\n            DataTable&lt;Contact&gt; defaultTable = new DataTable&lt;&gt;(tableConfig, localListDataStore);\r\n        localListDataStore.setData(contactsList);","title":"Conditional datatable row color using domino-ui","body":"<p>Domino-ui datatable has a built-in plugin called Marker plugin that can mark the row conditionally with different colors, the plugin adds the color as a border to the left border of the row</p>\n<p><a href=\"https://i.stack.imgur.com/73ral.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/73ral.png\" alt=\"enter image description here\" /></a></p>\n<p>you can find an example in domino-ui demo <a href=\"https://demo.dominokit.org/datatable/marker-plugin\" rel=\"nofollow noreferrer\">here</a></p>\n<p>and if that is not enough you can create your own plugin, like this</p>\n<pre><code>import elemental2.dom.HTMLTableRowElement;\nimport org.dominokit.domino.ui.datatable.DataTable;\nimport org.dominokit.domino.ui.datatable.TableRow;\nimport org.dominokit.domino.ui.datatable.plugins.DataTablePlugin;\n\npublic class RowColorPlugin&lt;T&gt; implements DataTablePlugin&lt;T&gt; {\n\n    @Override\n    public void onRowAdded(DataTable&lt;T&gt; dataTable, TableRow&lt;T&gt; tableRow) {\n        T record = tableRow.getRecord();\n        HTMLTableRowElement row = tableRow.element();\n        // Add css classes or set css properties in the row element based on the row record to change the row colors\n    }\n}\n</code></pre>\n<p>And here is a sample showing how to use the custom plugin</p>\n<pre><code>TableConfig&lt;Contact&gt; tableConfig = new TableConfig&lt;&gt;();\n        tableConfig\n                .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;id&quot;, &quot;#&quot;)\n                        .textAlign(&quot;right&quot;)\n                        .asHeader()\n                        .setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getIndex() + 1 + &quot;&quot;)))\n\n                .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;status&quot;, &quot;Status&quot;)\n                        .textAlign(&quot;center&quot;)\n                        .setCellRenderer(cell -&gt; {\n                            if (cell.getTableRow().getRecord().isActive()) {\n                                return Style.of(Icons.ALL.check_circle()).setColor(Color.GREEN_DARKEN_3.getHex()).element();\n                            } else {\n                                return Style.of(Icons.ALL.highlight_off()).setColor(Color.RED_DARKEN_3.getHex()).element();\n                            }\n                        }))\n                .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;firstName&quot;, &quot;First name&quot;)\n                        .setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getName())))\n\n\n                .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;gender&quot;, &quot;Gender&quot;)\n                        .setCellRenderer(cell -&gt; ContactUiUtils.getGenderElement(cell.getRecord()))\n                        .textAlign(&quot;center&quot;))\n\n                .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;eyeColor&quot;, &quot;Eye color&quot;)\n                        .setCellRenderer(cell -&gt; ContactUiUtils.getEyeColorElement(cell.getRecord()))\n                        .textAlign(&quot;center&quot;))\n\n                .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;balance&quot;, &quot;Balance&quot;)\n                        .setCellRenderer(cellInfo -&gt; ContactUiUtils.getBalanceElement(cellInfo.getRecord())))\n\n                .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;email&quot;, &quot;Email&quot;)\n                        .setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getEmail())))\n\n                .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;phone&quot;, &quot;Phone&quot;)\n                        .setCellRenderer(cell -&gt; TextNode.of(cell.getTableRow().getRecord().getPhone())))\n\n                .addColumn(ColumnConfig.&lt;Contact&gt;create(&quot;badges&quot;, &quot;Badges&quot;)\n                        .setCellRenderer(cell -&gt; {\n                            if (cell.getTableRow().getRecord().getAge() &lt; 35) {\n                                return Badge.create(&quot;Young&quot;)\n                                        .setBackground(ColorScheme.GREEN.color()).element();\n                            }\n                            return TextNode.of(&quot;&quot;);\n                        }));\n\n        tableConfig.addPlugin(new RowColorPlugin&lt;&gt;(tableCellInfo -&gt; ContactUiUtils.getBalanceColor(tableCellInfo.getRecord())));\n        LocalListDataStore&lt;Contact&gt; localListDataStore = new LocalListDataStore&lt;&gt;();\n        DataTable&lt;Contact&gt; defaultTable = new DataTable&lt;&gt;(tableConfig, localListDataStore);\n    localListDataStore.setData(contactsList);\n</code></pre>\n"}],"owner":{"account_id":2480204,"reputation":1014,"user_id":2159821,"display_name":"Ahmad Bawaneh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75967562,"answer_count":1,"score":0,"last_activity_date":1680992295,"creation_date":1680986088,"question_id":75967561,"body_markdown":"Can we change the background color of a domino-ui datatable row based on some expression or a condition? for example make the row background red if DueDate &lt; Today.","title":"Conditional datatable row color using domino-ui","body":"<p>Can we change the background color of a domino-ui datatable row based on some expression or a condition? for example make the row background red if DueDate &lt; Today.</p>\n"},{"tags":["java","count","digits"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":1,"creation_date":1680979631,"post_id":75967028,"comment_id":133986818,"body_markdown":"did it have to be recursive?","body":"did it have to be recursive?"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1680981866,"post_id":75967028,"comment_id":133987070,"body_markdown":"If your code is already working, and you are asking for feedback on possible improvements, then that is probably off-topic for Stack Overflow - but is likely a good fit for [Code Review](https://codereview.stackexchange.com/). You can take a look at their [how to ask](https://codereview.stackexchange.com/help/how-to-ask) guidelines, and get a feel for what types of questions are well received, before posting a question there.","body":"If your code is already working, and you are asking for feedback on possible improvements, then that is probably off-topic for Stack Overflow - but is likely a good fit for <a href=\"https://codereview.stackexchange.com/\">Code Review</a>. You can take a look at their <a href=\"https://codereview.stackexchange.com/help/how-to-ask\">how to ask</a> guidelines, and get a feel for what types of questions are well received, before posting a question there."}],"answers":[{"tags":[],"owner":{"account_id":404578,"reputation":2475,"user_id":772992,"accept_rate":80,"display_name":"hradecek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680991277,"creation_date":1680991277,"answer_id":75967881,"question_id":75967028,"body_markdown":"**First** of all, your code does not work if input is `0`.\\\r\nWhen `0` is passed, your function immediately returns `0` digits, which is wrong. Input number `0` consists of single digit and hence result should be `1`.\r\n\r\n**Second**, you could optimize your recursive function using [tail-recursion][1].\r\n\r\n```java\r\npublic static int digitCount(int userNum) {\r\n    return digitCountRec(userNum, 0);\r\n}\r\n\r\n// Helper function performing tail recursion\r\nprivate static int digitCountRec(int number, int digitCount) {\r\n   if (number == 0) {\r\n       return digitCount == 0 ? 1 : digitCount;\r\n   }\r\n   return digitCountRec(number / 10, digitCount + 1);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/tail-recursion/","title":"LAB: Count the digits. How did I do?","body":"<p><strong>First</strong> of all, your code does not work if input is <code>0</code>.<br />\nWhen <code>0</code> is passed, your function immediately returns <code>0</code> digits, which is wrong. Input number <code>0</code> consists of single digit and hence result should be <code>1</code>.</p>\n<p><strong>Second</strong>, you could optimize your recursive function using <a href=\"https://www.geeksforgeeks.org/tail-recursion/\" rel=\"nofollow noreferrer\">tail-recursion</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int digitCount(int userNum) {\n    return digitCountRec(userNum, 0);\n}\n\n// Helper function performing tail recursion\nprivate static int digitCountRec(int number, int digitCount) {\n   if (number == 0) {\n       return digitCount == 0 ? 1 : digitCount;\n   }\n   return digitCountRec(number / 10, digitCount + 1);\n}\n</code></pre>\n"}],"owner":{"account_id":28204521,"reputation":1,"user_id":21557821,"display_name":"whomgodgiveth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680991277,"creation_date":1680978674,"question_id":75967028,"body_markdown":"Here is my code that I worked on and wondering how well did I do to simplify this? I just wanted to do my best to get a better understanding of Java. \r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n   \r\n   /* TODO: Write recursive digitCount() method here. */\r\n   public static int digitCount(int userNum) {\r\n    if (userNum == 0) {\r\n        return 0;\r\n    }\r\n    return 1 + digitCount(userNum/10);\r\n    \r\n   }\r\n   public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      int num, digits;\r\n      \r\n      num = scnr.nextInt();\r\n      digits = digitCount(num);\r\n      System.out.println(digits);\r\n   }\r\n}\r\n```","title":"LAB: Count the digits. How did I do?","body":"<p>Here is my code that I worked on and wondering how well did I do to simplify this? I just wanted to do my best to get a better understanding of Java.</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n   \n   /* TODO: Write recursive digitCount() method here. */\n   public static int digitCount(int userNum) {\n    if (userNum == 0) {\n        return 0;\n    }\n    return 1 + digitCount(userNum/10);\n    \n   }\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      int num, digits;\n      \n      num = scnr.nextInt();\n      digits = digitCount(num);\n      System.out.println(digits);\n   }\n}\n</code></pre>\n"},{"tags":["java","spring","django-rest-framework","vert.x","vert.x-webclient"],"answers":[{"comments":[{"owner":{"account_id":28245926,"reputation":1,"user_id":21592965,"display_name":"Hassan Outhami"},"score":0,"creation_date":1680992265,"post_id":75962960,"comment_id":133988306,"body_markdown":"How to ensure that,","body":"How to ensure that,"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681353110,"post_id":75962960,"comment_id":134043818,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75962960/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27844101,"reputation":1,"user_id":21259967,"display_name":"med ngh"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680919154,"creation_date":1680919154,"answer_id":75962960,"question_id":75962938,"body_markdown":"Do you ensure that form that you send from vert. X isn&#39;t empty","title":"Send Multipart/form-data from Vert.x WebClient to Django rest framework","body":"<p>Do you ensure that form that you send from vert. X isn't empty</p>\n"}],"owner":{"account_id":28245926,"reputation":1,"user_id":21592965,"display_name":"Hassan Outhami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680990536,"creation_date":1680918524,"question_id":75962938,"body_markdown":"try to send a document and some data from my vert.x (client-side) to django rest-framework (server-side) :\r\nthe code server side is :\r\n```\r\n@api_view([&#39;POST&#39;])\r\n@parser_classes([MultiPartParser, FormParser])\r\ndef quick_indexing(request):\r\n    \r\n    data = request.data\r\n    print(data)  # print the entire request data dictionary\r\n    test_value = data.get(&quot;test&quot;)\r\n    if test_value:\r\n        return Response(f&quot;test attribute value: {test_value}&quot;)\r\n    else:\r\n        return Response(&quot;test attribute not found&quot;)\r\n```\r\n\r\nthe code client side :\r\n\r\n```\r\nVertx vertx = Vertx.vertx();\r\n        WebClient client = WebClient.create(vertx);\r\n        Buffer file = vertx.fileSystem().readFileBlocking(&quot;C:/Users/houth/CIN Hassan.pdf&quot;);\r\n        MultipartForm form = MultipartForm.create()\r\n            .attribute(&quot;test&quot;, &quot;succed&quot;)\r\n            .binaryFileUpload(&quot;file&quot;, &quot;filename&quot;, file, &quot;Application/pdf&quot;);\r\n// Send a POST request with the file and form data\r\n        client.postAbs(&quot;http://localhost:8000/quick-indexing&quot;)\r\n            .putHeader(String.valueOf(HttpHeaders.CONTENT_TYPE), &quot;multipart/form-data&quot;)\r\n            .sendMultipartForm(form,\r\n                ar -&gt; {\r\n                    if (ar.succeeded()) {\r\n                        // Handle the response\r\n                        HttpResponse&lt;Buffer&gt; response = ar.result();\r\n                        System.out.println(&quot;Status code: &quot; + response.statusCode());\r\n                        System.out.println(&quot;Response body: &quot; + response.bodyAsString());\r\n                    } else {\r\n                        // Handle the failure\r\n                        Throwable cause = ar.cause();\r\n                        System.err.println(&quot;Request failed: &quot; + cause.getMessage());\r\n                    }\r\n                });\r\n        System.out.println(&quot;end&quot;);\r\n```\r\n\r\n---&gt; the result in client side is: \r\n```\r\nend\r\nStatus code: 200\r\nResponse body: &quot;test attribute not found&quot;\r\n[ERROR] 2023-04-08 01:39:22.881  invalid version format: &lt;!DOCTYPE\r\njava.lang.IllegalArgumentException: invalid version format: &lt;!DOCTYPE\r\n\tat io.netty.handler.codec.http.HttpVersion.&lt;init&gt;(HttpVersion.java:116) ~[netty-codec-http-4.1.86.Final.jar:4.1.86.Final]\r\n\tat io.netty.handler.codec.http.HttpVersion.valueOf(HttpVersion.java:78) ~[netty-codec-http-4.1.86.Final.jar:4.1.86.Final]\r\n```\r\n---&gt; the result in server side is:\r\n\r\n```\r\n&lt;QueryDict: {}&gt;\r\n[08/Apr/2023 01:39:22] &quot;POST /quick-indexing HTTP/1.1&quot; 200 26\r\n[08/Apr/2023 01:39:22] code 400, message Bad request syntax (&#39;9d&#39;)\r\n[08/Apr/2023 01:39:22] &quot;9d&quot; 400 -\r\n```\r\n\r\n----&gt; the problem is that if i call the api from postman it succeed\r\n\r\nCDL\r\n\r\n\r\n\r\n\r\n\r\nSend Data with file from vert.x webclient to an api rest framework ","title":"Send Multipart/form-data from Vert.x WebClient to Django rest framework","body":"<p>try to send a document and some data from my vert.x (client-side) to django rest-framework (server-side) :\nthe code server side is :</p>\n<pre><code>@api_view(['POST'])\n@parser_classes([MultiPartParser, FormParser])\ndef quick_indexing(request):\n    \n    data = request.data\n    print(data)  # print the entire request data dictionary\n    test_value = data.get(&quot;test&quot;)\n    if test_value:\n        return Response(f&quot;test attribute value: {test_value}&quot;)\n    else:\n        return Response(&quot;test attribute not found&quot;)\n</code></pre>\n<p>the code client side :</p>\n<pre><code>Vertx vertx = Vertx.vertx();\n        WebClient client = WebClient.create(vertx);\n        Buffer file = vertx.fileSystem().readFileBlocking(&quot;C:/Users/houth/CIN Hassan.pdf&quot;);\n        MultipartForm form = MultipartForm.create()\n            .attribute(&quot;test&quot;, &quot;succed&quot;)\n            .binaryFileUpload(&quot;file&quot;, &quot;filename&quot;, file, &quot;Application/pdf&quot;);\n// Send a POST request with the file and form data\n        client.postAbs(&quot;http://localhost:8000/quick-indexing&quot;)\n            .putHeader(String.valueOf(HttpHeaders.CONTENT_TYPE), &quot;multipart/form-data&quot;)\n            .sendMultipartForm(form,\n                ar -&gt; {\n                    if (ar.succeeded()) {\n                        // Handle the response\n                        HttpResponse&lt;Buffer&gt; response = ar.result();\n                        System.out.println(&quot;Status code: &quot; + response.statusCode());\n                        System.out.println(&quot;Response body: &quot; + response.bodyAsString());\n                    } else {\n                        // Handle the failure\n                        Throwable cause = ar.cause();\n                        System.err.println(&quot;Request failed: &quot; + cause.getMessage());\n                    }\n                });\n        System.out.println(&quot;end&quot;);\n</code></pre>\n<p>---&gt; the result in client side is:</p>\n<pre><code>end\nStatus code: 200\nResponse body: &quot;test attribute not found&quot;\n[ERROR] 2023-04-08 01:39:22.881  invalid version format: &lt;!DOCTYPE\njava.lang.IllegalArgumentException: invalid version format: &lt;!DOCTYPE\n    at io.netty.handler.codec.http.HttpVersion.&lt;init&gt;(HttpVersion.java:116) ~[netty-codec-http-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.handler.codec.http.HttpVersion.valueOf(HttpVersion.java:78) ~[netty-codec-http-4.1.86.Final.jar:4.1.86.Final]\n</code></pre>\n<p>---&gt; the result in server side is:</p>\n<pre><code>&lt;QueryDict: {}&gt;\n[08/Apr/2023 01:39:22] &quot;POST /quick-indexing HTTP/1.1&quot; 200 26\n[08/Apr/2023 01:39:22] code 400, message Bad request syntax ('9d')\n[08/Apr/2023 01:39:22] &quot;9d&quot; 400 -\n</code></pre>\n<p>----&gt; the problem is that if i call the api from postman it succeed</p>\n<p>CDL</p>\n<p>Send Data with file from vert.x webclient to an api rest framework</p>\n"},{"tags":["java","spring-security"],"owner":{"account_id":19773138,"reputation":1,"user_id":14479724,"display_name":"Lidiia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680990285,"creation_date":1680990285,"question_id":75967819,"body_markdown":"So I can access method from the original port that I chose in properties file, but I am doing auth-service so I when im trying to register a new user, I need to do it through gateway, but it doesn&#39;t work.\r\n\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class AuthConfig {\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        return http.csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/auth/register&quot;, &quot;/auth/token&quot;, &quot;/auth/validate&quot;).permitAll()\r\n                .and()\r\n                .build();\r\n    }\r\n\r\n    \r\n}\r\n```\r\n\r\n\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/auth&quot;)\r\npublic class AuthController {\r\n\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public String addNewUser(@RequestBody UserCredential userCredential){\r\n        return authService.saveUser(userCredential);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n```\r\n@Service\r\npublic class AuthService {\r\n\r\n    @Autowired\r\n    private UserCredentialRepository repository;\r\n\r\n    @Autowired\r\n    private PasswordEncoder passwordEncoder;\r\n\r\n\r\n    public String saveUser(UserCredential credential){\r\n        credential.setPassword(passwordEncoder.encode(credential.getPassword()));\r\n        repository.save(credential);\r\n        return &quot;user added to the system&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n\r\nserver.port=8083\r\nspring.application.name=auth-service\r\neureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\r\nlogging.level.org.springframework.security=DEBUG\r\n\r\nspring.cloud.gateway.routes[2].id=auth-service\r\nspring.cloud.gateway.routes[2].uri=http://localhost:8083\r\nspring.cloud.gateway.routes[2].predicates[0]=Path=/auth/**\r\nspring.cloud.gateway.routes[2].filters[0]=RewritePath=/auth/(?&lt;segment&gt;.*), /${segment}\r\nspring.cloud.gateway.routes[2].filters[1]=AddRequestHeader=X-Request-ServiceName, auth-service\r\n```\r\n\r\n o.s.security.web.FilterChainProxy        : Securing POST /auth/register\r\n o.s.security.web.FilterChainProxy        : Secured POST /auth/register\r\nHibernate: insert into user_credential (email, name, password) values (?, ?, ?)\r\n : Set SecurityContextHolder to anonymous SecurityContext\r\n o.s.security.web.FilterChainProxy        : Securing POST /register\r\no.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8083/register?continue to session\r\no.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\r\n o.s.security.web.FilterChainProxy        : Securing POST /error\r\no.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8083/error?continue to session\r\nPre-authenticated entry point called. Rejecting access\r\n\r\n\r\nAs you can see gateway is can not create a new user because spring security is not giving access, but I did access to every user without any roles \r\n\r\n","title":"I can&#39;t access method from the gateway","body":"<p>So I can access method from the original port that I chose in properties file, but I am doing auth-service so I when im trying to register a new user, I need to do it through gateway, but it doesn't work.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class AuthConfig {\n\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http.csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/auth/register&quot;, &quot;/auth/token&quot;, &quot;/auth/validate&quot;).permitAll()\n                .and()\n                .build();\n    }\n\n    \n}\n</code></pre>\n<pre><code>@RestController\n@RequestMapping(&quot;/auth&quot;)\npublic class AuthController {\n\n\n    @PostMapping(&quot;/register&quot;)\n    public String addNewUser(@RequestBody UserCredential userCredential){\n        return authService.saveUser(userCredential);\n    }\n\n}\n</code></pre>\n<pre><code>@Service\npublic class AuthService {\n\n    @Autowired\n    private UserCredentialRepository repository;\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n\n    public String saveUser(UserCredential credential){\n        credential.setPassword(passwordEncoder.encode(credential.getPassword()));\n        repository.save(credential);\n        return &quot;user added to the system&quot;;\n    }\n\n}\n</code></pre>\n<pre><code>\nserver.port=8083\nspring.application.name=auth-service\neureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka/\nlogging.level.org.springframework.security=DEBUG\n\nspring.cloud.gateway.routes[2].id=auth-service\nspring.cloud.gateway.routes[2].uri=http://localhost:8083\nspring.cloud.gateway.routes[2].predicates[0]=Path=/auth/**\nspring.cloud.gateway.routes[2].filters[0]=RewritePath=/auth/(?&lt;segment&gt;.*), /${segment}\nspring.cloud.gateway.routes[2].filters[1]=AddRequestHeader=X-Request-ServiceName, auth-service\n</code></pre>\n<p>o.s.security.web.FilterChainProxy        : Securing POST /auth/register\no.s.security.web.FilterChainProxy        : Secured POST /auth/register\nHibernate: insert into user_credential (email, name, password) values (?, ?, ?)\n: Set SecurityContextHolder to anonymous SecurityContext\no.s.security.web.FilterChainProxy        : Securing POST /register\no.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\no.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8083/register?continue to session\no.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\no.s.security.web.FilterChainProxy        : Securing POST /error\no.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\no.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8083/error?continue to session\nPre-authenticated entry point called. Rejecting access</p>\n<p>As you can see gateway is can not create a new user because spring security is not giving access, but I did access to every user without any roles</p>\n"},{"tags":["java","visual-studio-code","configuration"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1681105325,"post_id":75965311,"comment_id":133999102,"body_markdown":"Do you mean that when you open a script file written by someone else in vscode, it will automatically expand one line of import into multiple lines? Or do you automatically import multiple lines when editing the code yourself? Can you provide a [complete reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"Do you mean that when you open a script file written by someone else in vscode, it will automatically expand one line of import into multiple lines? Or do you automatically import multiple lines when editing the code yourself? Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">complete reproducible example</a>?"}],"answers":[{"comments":[{"owner":{"account_id":22938461,"reputation":538,"user_id":17071589,"display_name":"abdella"},"score":0,"creation_date":1681118372,"post_id":75967770,"comment_id":134000859,"body_markdown":"Thank you that is worked. One thing I changed is the number from 99 to 5 because the intellij configured class count to use with import &#39;*&#39; to 5.","body":"Thank you that is worked. One thing I changed is the number from 99 to 5 because the intellij configured class count to use with import &#39;*&#39; to 5."}],"tags":[],"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1680989377,"creation_date":1680989377,"answer_id":75967770,"question_id":75965311,"body_markdown":"I don&#39;t know if there&#39;s a setting to make the extension leave such star imports as untouched. Looking through the list of settings, the only relevantly-named ones I found were the following (although perhaps I just missed some?):\r\n\r\n```json\r\n&quot;java.sources.organizeImports.starThreshold&quot;: 99,\r\n&quot;java.sources.organizeImports.staticStarThreshold&quot;: 99\r\n```\r\n\r\nThe settings&#39; descriptions, respectively:\r\n\r\n&gt; Specifies the number of imports added before a star-import declaration is used.\r\n\r\n&gt; Specifies the number of static imports added before a star-import declaration is used.","title":"How can I configure VS Code to allow wildcard imports?","body":"<p>I don't know if there's a setting to make the extension leave such star imports as untouched. Looking through the list of settings, the only relevantly-named ones I found were the following (although perhaps I just missed some?):</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;java.sources.organizeImports.starThreshold&quot;: 99,\n&quot;java.sources.organizeImports.staticStarThreshold&quot;: 99\n</code></pre>\n<p>The settings' descriptions, respectively:</p>\n<blockquote>\n<p>Specifies the number of imports added before a star-import declaration is used.</p>\n</blockquote>\n<blockquote>\n<p>Specifies the number of static imports added before a star-import declaration is used.</p>\n</blockquote>\n"}],"owner":{"account_id":22938461,"reputation":538,"user_id":17071589,"display_name":"abdella"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75967770,"answer_count":1,"score":1,"last_activity_date":1680989518,"creation_date":1680958315,"question_id":75965311,"body_markdown":"We have a team currently developing a spring boot app, and I use VS Code, but other members use Intellij IDEA as development IDE. The issue is that when I pulled the project from the repository, opened it, and saved it, it expanded the wildcard imports automatically.\r\n\r\n**In Intellij IDEA**\r\n```\r\nimport javax.persistence.*;\r\n```\r\n\r\n**In VS Code**\r\n```\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.OneToOne;\r\nimport javax.persistence.Table;\r\n```\r\n\r\nIs there a way to configure VS Code to allow wildcard imports like IntelliJ?","title":"How can I configure VS Code to allow wildcard imports?","body":"<p>We have a team currently developing a spring boot app, and I use VS Code, but other members use Intellij IDEA as development IDE. The issue is that when I pulled the project from the repository, opened it, and saved it, it expanded the wildcard imports automatically.</p>\n<p><strong>In Intellij IDEA</strong></p>\n<pre><code>import javax.persistence.*;\n</code></pre>\n<p><strong>In VS Code</strong></p>\n<pre><code>import javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\n</code></pre>\n<p>Is there a way to configure VS Code to allow wildcard imports like IntelliJ?</p>\n"},{"tags":["java","spring-boot","maven","spring-bean","beancreationexception"],"answers":[{"tags":[],"owner":{"account_id":21474482,"reputation":41,"user_id":15822985,"display_name":"Feng Bo Wen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680924087,"creation_date":1680924087,"answer_id":75963149,"question_id":75962324,"body_markdown":"at com.registration.Spring.Test.JpaConfig.additionalProperties(JpaConfig.java:91) ~[classes/:na]\r\n\r\nFrom above error message, we are able to indicate that because of line 91, showing NullPointerException, thus lead to app startup failed.\r\n\r\nI have checked your application.properties. With below code to load property value. the key of property must be same as value in source code.\r\nJava code:\r\nenv.getProperty(&quot;**hibernate.hbm2ddl.auto**&quot;) \r\n\r\napplication.properties file\r\n\r\n**spring.jpa.hibernate.ddl-auto**=update\r\nhere should be **hibernate.hbm2ddl.auto**=update\r\n\r\nand the rest should follow same.\r\n","title":"How to fix &#39;Error Creating Bean&#39; (BeanCreationException) in Maven Spring Boot Application?","body":"<p>at com.registration.Spring.Test.JpaConfig.additionalProperties(JpaConfig.java:91) ~[classes/:na]</p>\n<p>From above error message, we are able to indicate that because of line 91, showing NullPointerException, thus lead to app startup failed.</p>\n<p>I have checked your application.properties. With below code to load property value. the key of property must be same as value in source code.\nJava code:\nenv.getProperty(&quot;<strong>hibernate.hbm2ddl.auto</strong>&quot;)</p>\n<p>application.properties file</p>\n<p><strong>spring.jpa.hibernate.ddl-auto</strong>=update\nhere should be <strong>hibernate.hbm2ddl.auto</strong>=update</p>\n<p>and the rest should follow same.</p>\n"}],"owner":{"account_id":28245105,"reputation":3,"user_id":21592283,"display_name":"Brent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1091,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75963149,"answer_count":1,"score":0,"last_activity_date":1680988412,"creation_date":1680906009,"question_id":75962324,"body_markdown":"I am creating a User Registration System using Maven &amp; Java Spring Boot. While I am able to get the project to successfully build, the application cannot start with the following error trace:\r\n\r\n\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.5)\r\n\r\n2023-04-07T18:10:43.674-04:00  INFO 23400 --- [  restartedMain] c.r.Spring.Test.SpringDevApplication     : Starting SpringDevApplication using Java 17.0.6 with PID 23400 (C:\\temp\\SpringDev\\target\\classes started by b.hasseman in C:\\temp\\SpringDev)\r\n2023-04-07T18:10:43.679-04:00  INFO 23400 --- [  restartedMain] c.r.Spring.Test.SpringDevApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-04-07T18:10:43.725-04:00  INFO 23400 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-04-07T18:10:43.725-04:00  INFO 23400 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-04-07T18:10:44.098-04:00  INFO 23400 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-04-07T18:10:44.136-04:00  INFO 23400 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 1 JPA repository interfaces.\r\n2023-04-07T18:10:44.444-04:00  INFO 23400 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean &#39;jpaConfig&#39; of type [com.registration.Spring.Test.JpaConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2023-04-07T18:10:44.912-04:00  INFO 23400 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-04-07T18:10:44.922-04:00  INFO 23400 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-04-07T18:10:44.922-04:00  INFO 23400 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]\r\n2023-04-07T18:10:45.002-04:00  INFO 23400 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-04-07T18:10:45.004-04:00  INFO 23400 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1276 ms\r\n2023-04-07T18:10:45.085-04:00  WARN 23400 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mysqlEntityManagerFactory&#39; defined in class path resource [com/registration/Spring/Test/JpaConfig.class]: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;mysqlEntityManagerFactory&#39; threw exception with message: null\r\n2023-04-07T18:10:45.088-04:00  INFO 23400 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-04-07T18:10:45.103-04:00  INFO 23400 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-04-07T18:10:45.122-04:00 ERROR 23400 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mysqlEntityManagerFactory&#39; defined in class path resource [com/registration/Spring/Test/JpaConfig.class]: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;mysqlEntityManagerFactory&#39; threw exception with message: null\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\r\n\tat com.registration.Spring.Test.SpringDevApplication.main(SpringDevApplication.java:18) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.5.jar:3.0.5]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;mysqlEntityManagerFactory&#39; threw exception with message: null\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\t... 24 common frames omitted\r\nCaused by: java.lang.NullPointerException: null\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011) ~[na:na]\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.put(ConcurrentHashMap.java:1006) ~[na:na]\r\n\tat java.base/java.util.Properties.put(Properties.java:1301) ~[na:na]\r\n\tat java.base/java.util.Properties.setProperty(Properties.java:229) ~[na:na]\r\n\tat com.registration.Spring.Test.JpaConfig.additionalProperties(JpaConfig.java:91) ~[classes/:na]\r\n\tat com.registration.Spring.Test.JpaConfig.mysqlEntityManagerFactory(JpaConfig.java:65) ~[classes/:na]\r\n\tat com.registration.Spring.Test.JpaConfig$$SpringCGLIB$$0.CGLIB$mysqlEntityManagerFactory$0(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.registration.Spring.Test.JpaConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.7.jar:6.0.7]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.7.jar:6.0.7]\r\n\tat com.registration.Spring.Test.JpaConfig$$SpringCGLIB$$0.mysqlEntityManagerFactory(&lt;generated&gt;) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.7.jar:6.0.7]\r\n\t... 25 common frames omitted\r\n\r\n[ [1;34mINFO [m]  [1m------------------------------------------------------------------------ [m\r\n[ [1;34mINFO [m]  [1;32mBUILD SUCCESS [m\r\n[ [1;34mINFO [m]  [1m------------------------------------------------------------------------ [m\r\n[ [1;34mINFO [m] Total time:  3.747 s\r\n[ [1;34mINFO [m] Finished at: 2023-04-07T18:10:45-04:00\r\n[ [1;34mINFO [m]  [1m------------------------------------------------------------------------\r\n```\r\n\r\nThis is my JpaConfig.java:\r\n\r\n```\r\npackage com.registration.Spring.Test;\r\n\r\n\r\nimport java.util.Properties;\r\n\r\nimport javax.sql.DataSource;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.context.annotation.PropertySource;\r\nimport org.springframework.context.annotation.PropertySources;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\nimport org.springframework.jdbc.core.JdbcTemplate;\r\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\r\nimport org.springframework.orm.jpa.JpaTransactionManager;\r\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\nimport org.springframework.transaction.PlatformTransactionManager;\r\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\r\n\r\nimport jakarta.persistence.EntityManagerFactory;\r\n\r\n@Configuration\r\n@PropertySources({\r\n\t@PropertySource(&quot;classpath:application.properties&quot;)\r\n})\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(basePackages = &quot;com.registration.Spring.Test&quot;,\r\n\t\tentityManagerFactoryRef = &quot;mysqlEntityManagerFactory&quot;,\r\n\t\ttransactionManagerRef = &quot;mysqlTransactionManager&quot;)\r\npublic class JpaConfig {\r\n\t@Autowired\r\n\tprivate final Environment env;\r\n\t\r\n\tpublic JpaConfig(Environment env) {\r\n\t\tthis.env = env;\r\n\t}\r\n\t\r\n\t@Primary\r\n\t@Bean(name = &quot;dataSource&quot;)\r\n\tpublic DataSource dataSource() {\r\n\t\tDriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n\t\tdataSource.setDriverClassName(env.getProperty(&quot;spring.datasource.driver-class-name&quot;));\r\n\t\tdataSource.setUrl(env.getProperty(&quot;spring.datasource.url&quot;));\r\n\t\tdataSource.setUsername(env.getProperty(&quot;spring.datasource.username&quot;));\r\n\t\tdataSource.setPassword(env.getProperty(&quot;spring.datasource.password&quot;));\r\n\t\treturn dataSource;\r\n\t}\r\n\t\r\n\t@Primary\r\n\t@Bean(name = &quot;mysqlEntityManagerFactory&quot;)\r\n\tpublic LocalContainerEntityManagerFactoryBean mysqlEntityManagerFactory(\r\n\t\t\t@Qualifier(&quot;dataSource&quot;) DataSource dataSource) {\r\n\t\tLocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n\t\tem.setDataSource(dataSource);\r\n\t\tem.setPackagesToScan(new String [] { &quot;com.registration.Spring.Test&quot; });\r\n\t\t\r\n\t\tHibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n\t\tem.setJpaVendorAdapter(vendorAdapter);\r\n\t\tem.setJpaProperties(additionalProperties());\r\n\t\t\r\n\t\treturn em;\r\n\t}\r\n\t\r\n\t@Primary\r\n\t@Bean(name = &quot;mysqlTransactionManager&quot;)\r\n\tpublic PlatformTransactionManager mysqlTransactionManager(\r\n\t\t\t@Qualifier(&quot;mysqlEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\r\n\t\tJpaTransactionManager transactionManager = new JpaTransactionManager();\r\n\t\ttransactionManager.setEntityManagerFactory(entityManagerFactory);\r\n\t\treturn transactionManager;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic PersistenceExceptionTranslationPostProcessor exceptionTranslation() {\r\n\t\treturn new PersistenceExceptionTranslationPostProcessor();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic JdbcTemplate jdbcTemplate(@Qualifier(&quot;dataSource&quot;) DataSource dataSource) {\r\n\t\treturn new JdbcTemplate(dataSource);\r\n\t}\r\n\t\r\n\tprivate Properties additionalProperties() {\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\r\n\t\tproperties.setProperty(&quot;hibernate.dialect&quot;, env.getProperty(&quot;hibernate.dialect&quot;));\r\n\t\tproperties.setProperty(&quot;hibernate.show_sql&quot;, env.getProperty(&quot;hibernate.show_sql&quot;));\r\n\t\tproperties.setProperty(&quot;hibernate.format_sql&quot;, env.getProperty(&quot;hibernate.format_sql&quot;));\r\n\t\tproperties.setProperty(&quot;hibernate.use_sql_comments&quot;, env.getProperty(&quot;hibernate.use_sql_comments&quot;));\r\n\t\treturn properties;\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n\r\nThis is my application.properties (with the actual username and password changed):\r\n\r\n```\r\n# data source configuration\r\nspring.datasource.url=jdbc:mysql://localhost:3306/user_registration_system\r\nspring.datasource.username=root\r\nspring.datasource.password=password\r\n\r\n# JPA configuration\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n```\r\nAnd this is my pom.xml:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt;\r\n\t&lt;!--  lookup parent from repository  --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.spring&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;SpringDev&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;SpringDev&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.31&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI have tried changing the driver class, changing between jakarta and javax, and using different qualifier annotations.\r\n\r\nHow to fix this?","title":"How to fix &#39;Error Creating Bean&#39; (BeanCreationException) in Maven Spring Boot Application?","body":"<p>I am creating a User Registration System using Maven &amp; Java Spring Boot. While I am able to get the project to successfully build, the application cannot start with the following error trace:</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.5)\n\n2023-04-07T18:10:43.674-04:00  INFO 23400 --- [  restartedMain] c.r.Spring.Test.SpringDevApplication     : Starting SpringDevApplication using Java 17.0.6 with PID 23400 (C:\\temp\\SpringDev\\target\\classes started by b.hasseman in C:\\temp\\SpringDev)\n2023-04-07T18:10:43.679-04:00  INFO 23400 --- [  restartedMain] c.r.Spring.Test.SpringDevApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-04-07T18:10:43.725-04:00  INFO 23400 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-04-07T18:10:43.725-04:00  INFO 23400 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-04-07T18:10:44.098-04:00  INFO 23400 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-04-07T18:10:44.136-04:00  INFO 23400 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 1 JPA repository interfaces.\n2023-04-07T18:10:44.444-04:00  INFO 23400 --- [  restartedMain] trationDelegate$BeanPostProcessorChecker : Bean 'jpaConfig' of type [com.registration.Spring.Test.JpaConfig$$SpringCGLIB$$0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2023-04-07T18:10:44.912-04:00  INFO 23400 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-04-07T18:10:44.922-04:00  INFO 23400 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-04-07T18:10:44.922-04:00  INFO 23400 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.7]\n2023-04-07T18:10:45.002-04:00  INFO 23400 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-04-07T18:10:45.004-04:00  INFO 23400 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1276 ms\n2023-04-07T18:10:45.085-04:00  WARN 23400 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mysqlEntityManagerFactory' defined in class path resource [com/registration/Spring/Test/JpaConfig.class]: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'mysqlEntityManagerFactory' threw exception with message: null\n2023-04-07T18:10:45.088-04:00  INFO 23400 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-04-07T18:10:45.103-04:00  INFO 23400 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-04-07T18:10:45.122-04:00 ERROR 23400 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mysqlEntityManagerFactory' defined in class path resource [com/registration/Spring/Test/JpaConfig.class]: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'mysqlEntityManagerFactory' threw exception with message: null\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.5.jar:3.0.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.5.jar:3.0.5]\n    at com.registration.Spring.Test.SpringDevApplication.main(SpringDevApplication.java:18) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.5.jar:3.0.5]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'mysqlEntityManagerFactory' threw exception with message: null\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.7.jar:6.0.7]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-6.0.7.jar:6.0.7]\n    ... 24 common frames omitted\nCaused by: java.lang.NullPointerException: null\n    at java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1011) ~[na:na]\n    at java.base/java.util.concurrent.ConcurrentHashMap.put(ConcurrentHashMap.java:1006) ~[na:na]\n    at java.base/java.util.Properties.put(Properties.java:1301) ~[na:na]\n    at java.base/java.util.Properties.setProperty(Properties.java:229) ~[na:na]\n    at com.registration.Spring.Test.JpaConfig.additionalProperties(JpaConfig.java:91) ~[classes/:na]\n    at com.registration.Spring.Test.JpaConfig.mysqlEntityManagerFactory(JpaConfig.java:65) ~[classes/:na]\n    at com.registration.Spring.Test.JpaConfig$$SpringCGLIB$$0.CGLIB$mysqlEntityManagerFactory$0(&lt;generated&gt;) ~[classes/:na]\n    at com.registration.Spring.Test.JpaConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.7.jar:6.0.7]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.7.jar:6.0.7]\n    at com.registration.Spring.Test.JpaConfig$$SpringCGLIB$$0.mysqlEntityManagerFactory(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.7.jar:6.0.7]\n    ... 25 common frames omitted\n\n[ [1;34mINFO [m]  [1m------------------------------------------------------------------------ [m\n[ [1;34mINFO [m]  [1;32mBUILD SUCCESS [m\n[ [1;34mINFO [m]  [1m------------------------------------------------------------------------ [m\n[ [1;34mINFO [m] Total time:  3.747 s\n[ [1;34mINFO [m] Finished at: 2023-04-07T18:10:45-04:00\n[ [1;34mINFO [m]  [1m------------------------------------------------------------------------\n</code></pre>\n<p>This is my JpaConfig.java:</p>\n<pre><code>package com.registration.Spring.Test;\n\n\nimport java.util.Properties;\n\nimport javax.sql.DataSource;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.context.annotation.PropertySources;\nimport org.springframework.core.env.Environment;\nimport org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\nimport jakarta.persistence.EntityManagerFactory;\n\n@Configuration\n@PropertySources({\n    @PropertySource(&quot;classpath:application.properties&quot;)\n})\n@EnableTransactionManagement\n@EnableJpaRepositories(basePackages = &quot;com.registration.Spring.Test&quot;,\n        entityManagerFactoryRef = &quot;mysqlEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;mysqlTransactionManager&quot;)\npublic class JpaConfig {\n    @Autowired\n    private final Environment env;\n    \n    public JpaConfig(Environment env) {\n        this.env = env;\n    }\n    \n    @Primary\n    @Bean(name = &quot;dataSource&quot;)\n    public DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(env.getProperty(&quot;spring.datasource.driver-class-name&quot;));\n        dataSource.setUrl(env.getProperty(&quot;spring.datasource.url&quot;));\n        dataSource.setUsername(env.getProperty(&quot;spring.datasource.username&quot;));\n        dataSource.setPassword(env.getProperty(&quot;spring.datasource.password&quot;));\n        return dataSource;\n    }\n    \n    @Primary\n    @Bean(name = &quot;mysqlEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean mysqlEntityManagerFactory(\n            @Qualifier(&quot;dataSource&quot;) DataSource dataSource) {\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n        em.setDataSource(dataSource);\n        em.setPackagesToScan(new String [] { &quot;com.registration.Spring.Test&quot; });\n        \n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        em.setJpaVendorAdapter(vendorAdapter);\n        em.setJpaProperties(additionalProperties());\n        \n        return em;\n    }\n    \n    @Primary\n    @Bean(name = &quot;mysqlTransactionManager&quot;)\n    public PlatformTransactionManager mysqlTransactionManager(\n            @Qualifier(&quot;mysqlEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory);\n        return transactionManager;\n    }\n    \n    @Bean\n    public PersistenceExceptionTranslationPostProcessor exceptionTranslation() {\n        return new PersistenceExceptionTranslationPostProcessor();\n    }\n    \n    @Bean\n    public JdbcTemplate jdbcTemplate(@Qualifier(&quot;dataSource&quot;) DataSource dataSource) {\n        return new JdbcTemplate(dataSource);\n    }\n    \n    private Properties additionalProperties() {\n        Properties properties = new Properties();\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, env.getProperty(&quot;hibernate.hbm2ddl.auto&quot;));\n        properties.setProperty(&quot;hibernate.dialect&quot;, env.getProperty(&quot;hibernate.dialect&quot;));\n        properties.setProperty(&quot;hibernate.show_sql&quot;, env.getProperty(&quot;hibernate.show_sql&quot;));\n        properties.setProperty(&quot;hibernate.format_sql&quot;, env.getProperty(&quot;hibernate.format_sql&quot;));\n        properties.setProperty(&quot;hibernate.use_sql_comments&quot;, env.getProperty(&quot;hibernate.use_sql_comments&quot;));\n        return properties;\n    }\n    \n    \n}\n</code></pre>\n<p>This is my application.properties (with the actual username and password changed):</p>\n<pre><code># data source configuration\nspring.datasource.url=jdbc:mysql://localhost:3306/user_registration_system\nspring.datasource.username=root\nspring.datasource.password=password\n\n# JPA configuration\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n<p>And this is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;!--  lookup parent from repository  --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.spring&lt;/groupId&gt;\n    &lt;artifactId&gt;SpringDev&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SpringDev&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.31&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have tried changing the driver class, changing between jakarta and javax, and using different qualifier annotations.</p>\n<p>How to fix this?</p>\n"},{"tags":["java","linux","gitlab","gitlab-ci"],"answers":[{"tags":[],"owner":{"account_id":26684852,"reputation":5,"user_id":20294326,"display_name":"Tony"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680987450,"creation_date":1680599515,"answer_id":75927541,"question_id":75923432,"body_markdown":"I was right. GitRunner Pipeline, could not access my home.\r\nTo fix it I used apt in Ubuntu.\r\n\r\n```yaml\r\n  - apt-get update &amp;&amp; apt-get install -y xvfb wget curl unzip gnupg -qq\r\n  - apt-get install -y openjdk-8-jdk ant\r\n  - java -version\r\n  - ant -version\r\n```","title":"Have set Java to Path, but cant find the java command (Gitlab pipeline)","body":"<p>I was right. GitRunner Pipeline, could not access my home.\nTo fix it I used apt in Ubuntu.</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  - apt-get update &amp;&amp; apt-get install -y xvfb wget curl unzip gnupg -qq\n  - apt-get install -y openjdk-8-jdk ant\n  - java -version\n  - ant -version\n</code></pre>\n"}],"owner":{"account_id":26684852,"reputation":5,"user_id":20294326,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680987450,"creation_date":1680552857,"question_id":75923432,"body_markdown":"I am tasked with creating pipelines in Gitlab the code is java with ant builds\r\nI have set up JAVA_HOME set up ANT_HOME\r\n\r\nechoed out the path, everything is correct, but I get the error java command not found\r\n```\r\n$ export JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk-17.0.5&quot;\r\n$ export ANT_HOME=&quot;C:\\Users\\TonyCav\\software\\apache-ant-1.10.13&quot;\r\n$ export PATH=${JAVA_HOME}/bin:$PATH\r\n$ export PATH=$PATH:${ANT_HOME}/bin\r\n$ echo &quot;PATH ${PATH}&quot;\r\nPATH C:\\Program Files\\Java\\jdk-17.0.5/bin:/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:C:\\Users\\TonyCav\\software\\apache-ant-1.10.13/bin\r\n$ java -version\r\n/bin/bash: line 145: java: command not found\r\n```\r\n\r\nis it because the gitlab runner cant see my path on my local c drive.\r\nThat I need to load it onto the gitrunner","title":"Have set Java to Path, but cant find the java command (Gitlab pipeline)","body":"<p>I am tasked with creating pipelines in Gitlab the code is java with ant builds\nI have set up JAVA_HOME set up ANT_HOME</p>\n<p>echoed out the path, everything is correct, but I get the error java command not found</p>\n<pre><code>$ export JAVA_HOME=&quot;C:\\Program Files\\Java\\jdk-17.0.5&quot;\n$ export ANT_HOME=&quot;C:\\Users\\TonyCav\\software\\apache-ant-1.10.13&quot;\n$ export PATH=${JAVA_HOME}/bin:$PATH\n$ export PATH=$PATH:${ANT_HOME}/bin\n$ echo &quot;PATH ${PATH}&quot;\nPATH C:\\Program Files\\Java\\jdk-17.0.5/bin:/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:C:\\Users\\TonyCav\\software\\apache-ant-1.10.13/bin\n$ java -version\n/bin/bash: line 145: java: command not found\n</code></pre>\n<p>is it because the gitlab runner cant see my path on my local c drive.\nThat I need to load it onto the gitrunner</p>\n"},{"tags":["java","file","java.util.scanner","nosuchelementexception"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1681020083,"post_id":75967644,"comment_id":133990218,"body_markdown":"I&#39;ve tried your code and it&#39;s worked fine for me, also when I moved the _#Q The Chihuahua Gidget is famous for what reason?_ question into the end of the file.","body":"I&#39;ve tried your code and it&#39;s worked fine for me, also when I moved the <i>#Q The Chihuahua Gidget is famous for what reason?</i> question into the end of the file."}],"owner":{"account_id":28144499,"reputation":1,"user_id":21507012,"display_name":"lakey dons"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680987408,"creation_date":1680987365,"question_id":75967644,"body_markdown":"I am currently trying to write Java code that will read a .txt file containing various trivia questions, and store the prompt, correct answer, and the other answer choices in a Question object. Write now I am not worried about putting those values in an object, only scanning the questions properly. This code is supposed to go scan through a .txt file. If the line starts with &#39;#&#39;, then that means its question prompt and then it continues to scan the few lines and store the answer choices. If the answer choices only have two options, it skips over that question (only want 4 option multiple choice questions). By the end, every question in the file should be printed out in their original format in the .txt file.\r\n\r\n```\r\nimport org.w3c.dom.Text;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class TextReader {\r\n    ArrayList&lt;Question&gt; questions = new ArrayList&lt;&gt;();\r\n    public static void main(String[] args) throws FileNotFoundException{\r\n        File file = new File(&quot;animals.txt&quot;);\r\n        TextReader.parseFile(file);\r\n\r\n    }\r\n\r\n    public static void parseFile(File file) throws FileNotFoundException{\r\n        ArrayList&lt;Question&gt; questions = new ArrayList&lt;&gt;();\r\n        String category = file.getName();\r\n        Scanner s = new Scanner(file);\r\n        while (s.hasNextLine()){\r\n            String string = s.nextLine();\r\n            if(string.length() &gt; 0 &amp;&amp; string.charAt(0) == &#39;#&#39;){ //checks for start of a question\r\n                System.out.println(string);\r\n                String correct = s.nextLine(); //scans correct answer\r\n                System.out.println(correct);\r\n                String a = s.nextLine(); //scans answers choices\r\n                System.out.println(a);\r\n                String b = s.nextLine();\r\n                System.out.println(b);\r\n                String c = s.nextLine();\r\n                System.out.println(c);\r\n                if(c.isEmpty()){ //checks if only has two answers (i.e true or false, yes or no), then goes to next questions\r\n                    s.nextLine();\r\n                }else{\r\n                    String d = s.nextLine();//scans last answer choice\r\n                    System.out.println(d);\r\n\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nI&#39;m using [this .txt file right now](https://github.com/uberspot/OpenTriviaQA/blob/master/categories/animals). It reads everything good up until line 690, where the code throws a NoSuchElementException error in the middle of reading option C for the question. \r\n\r\n```\r\n#Q The Chihuahua Gidget is famous for what reason?\r\n^ It was a mascot for Taco Bell.\r\nA Paris Hilton has it as a pet.\r\nB It was a fill-in mascot for the Georgia Bulldogs.\r\nC It was a mascot for Ta\r\nException in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n```\r\n\r\nAnd this happens regardless of whether or not I delete this question, or if I delete every question before it and put it at the start, I keep getting this NoSuchElement exception even though it&#39;s in the middle of the .txt file. Everything after this point in the file just throws that error and I&#39;m not sure why and this occurs for the other .txt files as well.","title":"No Such Element Exception in the middle of a text file","body":"<p>I am currently trying to write Java code that will read a .txt file containing various trivia questions, and store the prompt, correct answer, and the other answer choices in a Question object. Write now I am not worried about putting those values in an object, only scanning the questions properly. This code is supposed to go scan through a .txt file. If the line starts with '#', then that means its question prompt and then it continues to scan the few lines and store the answer choices. If the answer choices only have two options, it skips over that question (only want 4 option multiple choice questions). By the end, every question in the file should be printed out in their original format in the .txt file.</p>\n<pre><code>import org.w3c.dom.Text;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class TextReader {\n    ArrayList&lt;Question&gt; questions = new ArrayList&lt;&gt;();\n    public static void main(String[] args) throws FileNotFoundException{\n        File file = new File(&quot;animals.txt&quot;);\n        TextReader.parseFile(file);\n\n    }\n\n    public static void parseFile(File file) throws FileNotFoundException{\n        ArrayList&lt;Question&gt; questions = new ArrayList&lt;&gt;();\n        String category = file.getName();\n        Scanner s = new Scanner(file);\n        while (s.hasNextLine()){\n            String string = s.nextLine();\n            if(string.length() &gt; 0 &amp;&amp; string.charAt(0) == '#'){ //checks for start of a question\n                System.out.println(string);\n                String correct = s.nextLine(); //scans correct answer\n                System.out.println(correct);\n                String a = s.nextLine(); //scans answers choices\n                System.out.println(a);\n                String b = s.nextLine();\n                System.out.println(b);\n                String c = s.nextLine();\n                System.out.println(c);\n                if(c.isEmpty()){ //checks if only has two answers (i.e true or false, yes or no), then goes to next questions\n                    s.nextLine();\n                }else{\n                    String d = s.nextLine();//scans last answer choice\n                    System.out.println(d);\n\n                }\n\n            }\n        }\n\n\n    }\n\n\n\n}\n\n</code></pre>\n<p>I'm using <a href=\"https://github.com/uberspot/OpenTriviaQA/blob/master/categories/animals\" rel=\"nofollow noreferrer\">this .txt file right now</a>. It reads everything good up until line 690, where the code throws a NoSuchElementException error in the middle of reading option C for the question.</p>\n<pre><code>#Q The Chihuahua Gidget is famous for what reason?\n^ It was a mascot for Taco Bell.\nA Paris Hilton has it as a pet.\nB It was a fill-in mascot for the Georgia Bulldogs.\nC It was a mascot for Ta\nException in thread &quot;main&quot; java.util.NoSuchElementException: No line found\n</code></pre>\n<p>And this happens regardless of whether or not I delete this question, or if I delete every question before it and put it at the start, I keep getting this NoSuchElement exception even though it's in the middle of the .txt file. Everything after this point in the file just throws that error and I'm not sure why and this occurs for the other .txt files as well.</p>\n"},{"tags":["java","oop"],"answers":[{"comments":[{"owner":{"account_id":486073,"reputation":2221,"user_id":902766,"accept_rate":69,"display_name":"Peanut"},"score":0,"creation_date":1351113541,"post_id":13056574,"comment_id":17733954,"body_markdown":"I knew it would be something simple. Is there a special name for having the generic type before the return type/a link to a general source would be nice. I&#39;ll try and tomorrow and accept if it works thanks.","body":"I knew it would be something simple. Is there a special name for having the generic type before the return type/a link to a general source would be nice. I&#39;ll try and tomorrow and accept if it works thanks."},{"owner":{"account_id":390363,"reputation":7217,"user_id":750378,"accept_rate":69,"display_name":"DaveFar"},"score":1,"creation_date":1351115842,"post_id":13056574,"comment_id":17734765,"body_markdown":"have a look at oracle&#39;s generics introduction or angelika langer&#39;s java generics FAQ. +1 for mprivat&#39;s direct solution.","body":"have a look at oracle&#39;s generics introduction or angelika langer&#39;s java generics FAQ. +1 for mprivat&#39;s direct solution."},{"owner":{"account_id":486073,"reputation":2221,"user_id":902766,"accept_rate":69,"display_name":"Peanut"},"score":1,"creation_date":1351126169,"post_id":13056574,"comment_id":17737428,"body_markdown":"@DaveBall Thanks for the angelika langer suggesetion, I&#39;m aware of generics as a concept and have used them but have never looked at them in depth, this looks like a great in-depth discussion of them. The link for anyone else interested: http://www.angelikalanger.com/GenericsFAQ/JavaGenericsFAQ.html","body":"@DaveBall Thanks for the angelika langer suggesetion, I&#39;m aware of generics as a concept and have used them but have never looked at them in depth, this looks like a great in-depth discussion of them. The link for anyone else interested: <a href=\"http://www.angelikalanger.com/GenericsFAQ/JavaGenericsFAQ.html\" rel=\"nofollow noreferrer\">angelikalanger.com/GenericsFAQ/JavaGenericsFAQ.html</a>"},{"owner":{"account_id":1333279,"reputation":6465,"user_id":1276636,"accept_rate":62,"display_name":"Sufian"},"score":0,"creation_date":1413638072,"post_id":13056574,"comment_id":41523758,"body_markdown":"A little elaboration of this answer can be found [here](http://stackoverflow.com/a/9421315/1276636)","body":"A little elaboration of this answer can be found <a href=\"http://stackoverflow.com/a/9421315/1276636\">here</a>"},{"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"score":0,"creation_date":1600972643,"post_id":13056574,"comment_id":113265975,"body_markdown":"@Peanut They are called generic methods","body":"@Peanut They are called generic methods"},{"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"score":0,"creation_date":1600973591,"post_id":13056574,"comment_id":113266374,"body_markdown":"I understand the Class&lt;T&gt; part in the argument to support type Vehicle. What I now understand is that if a method uses a generic &lt;T&gt; in its argument, it needs to be added to the method  syntax structure before the return type.of the method too","body":"I understand the Class&lt;T&gt; part in the argument to support type Vehicle. What I now understand is that if a method uses a generic &lt;T&gt; in its argument, it needs to be added to the method  syntax structure before the return type.of the method too"}],"tags":[],"owner":{"account_id":1339399,"reputation":21672,"user_id":1281407,"accept_rate":93,"display_name":"mprivat"},"comment_count":6,"down_vote_count":0,"up_vote_count":76,"is_accepted":true,"score":76,"last_activity_date":1351107941,"creation_date":1351107941,"answer_id":13056574,"question_id":13056350,"body_markdown":"Do this instead:\r\n\r\n    public &lt;T extends Vehicle&gt; void exampleMethod(Class&lt;T&gt; type) ","title":"Passing in a sub-class to a method but having the super class as the parameter?","body":"<p>Do this instead:</p>\n\n<pre><code>public &lt;T extends Vehicle&gt; void exampleMethod(Class&lt;T&gt; type) \n</code></pre>\n"},{"tags":[],"owner":{"account_id":390363,"reputation":7217,"user_id":750378,"accept_rate":69,"display_name":"DaveFar"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1351115697,"creation_date":1351115039,"answer_id":13058260,"question_id":13056350,"body_markdown":"Why don&#39;t you use the [visitor pattern](http://en.wikipedia.org/wiki/Visitor_pattern)? \r\n\r\nThat way you\r\n\r\n  - don&#39;t need type tokens\r\n  - let dynamic dispatch handle the case distinction (instead of `if(v.getClass().equals(type))`)\r\n  - are more flexible (following [OCP](http://en.wikipedia.org/wiki/Open/closed_principle))\r\n\r\n-------\r\n\r\nIn detail:\r\n\r\nyour abstract class `Vehicle` gets a method `accept(Visitor v)`, with the subclasses implementing it by calling the appropriate method on `v`.\r\n\r\n    public interface Visitor {\r\n      visitRedVehicle(RedVehicle red);\r\n      visitYellowVehicle(YellowVehicle yellow);\r\n    }\r\n\r\n\r\nUsing a visitor:\r\n\r\n    public class Example {\r\n\r\n      public void useYellowOnly() {\r\n        exampleMethod(new Visitor() {\r\n            visitRedVehicle(RedVehicle red) {};\r\n            visitYellowVehicle(YellowVehicle yellow) {\r\n                 //...action\r\n            });\r\n      }\r\n      public void exampleMethod(Visitor visitor){\r\n          for(Vehicle v : vehicles) {\r\n              v.accept(visitor);\r\n          }  \r\n      }\r\n    }","title":"Passing in a sub-class to a method but having the super class as the parameter?","body":"<p>Why don't you use the <a href=\"http://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"nofollow\">visitor pattern</a>? </p>\n\n<p>That way you</p>\n\n<ul>\n<li>don't need type tokens</li>\n<li>let dynamic dispatch handle the case distinction (instead of <code>if(v.getClass().equals(type))</code>)</li>\n<li>are more flexible (following <a href=\"http://en.wikipedia.org/wiki/Open/closed_principle\" rel=\"nofollow\">OCP</a>)</li>\n</ul>\n\n<hr>\n\n<p>In detail:</p>\n\n<p>your abstract class <code>Vehicle</code> gets a method <code>accept(Visitor v)</code>, with the subclasses implementing it by calling the appropriate method on <code>v</code>.</p>\n\n<pre><code>public interface Visitor {\n  visitRedVehicle(RedVehicle red);\n  visitYellowVehicle(YellowVehicle yellow);\n}\n</code></pre>\n\n<p>Using a visitor:</p>\n\n<pre><code>public class Example {\n\n  public void useYellowOnly() {\n    exampleMethod(new Visitor() {\n        visitRedVehicle(RedVehicle red) {};\n        visitYellowVehicle(YellowVehicle yellow) {\n             //...action\n        });\n  }\n  public void exampleMethod(Visitor visitor){\n      for(Vehicle v : vehicles) {\n          v.accept(visitor);\n      }  \n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":197659,"reputation":2319,"user_id":441862,"accept_rate":67,"display_name":"Don Rolling"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614792781,"creation_date":1614792781,"answer_id":66462038,"question_id":13056350,"body_markdown":"The accepted answer works and got me where I wanted to go. I thought I would add this just to make it clearer to anyone who might need it.\r\n\r\nIn this case RevisedExposure is a sub-class of Exposure. I need to call GetMetadata() with a list of either of these, which results in the same result set.\r\n\r\n    private async Task&lt;List&lt;Metadata&gt;&gt; GetMetadata&lt;T&gt;(List&lt;T&gt; exposures) where T : Exposure\r\n\r\nNow I can call this method from two places with different versions of the list like this.\r\n\r\n    var metadata = await GetExposureMetadata(revisions);\r\n\r\nor\r\n\r\n    var metadata = await GetExposureMetadata(exposures);\r\n\r\nworks great!","title":"Passing in a sub-class to a method but having the super class as the parameter?","body":"<p>The accepted answer works and got me where I wanted to go. I thought I would add this just to make it clearer to anyone who might need it.</p>\n<p>In this case RevisedExposure is a sub-class of Exposure. I need to call GetMetadata() with a list of either of these, which results in the same result set.</p>\n<pre><code>private async Task&lt;List&lt;Metadata&gt;&gt; GetMetadata&lt;T&gt;(List&lt;T&gt; exposures) where T : Exposure\n</code></pre>\n<p>Now I can call this method from two places with different versions of the list like this.</p>\n<pre><code>var metadata = await GetExposureMetadata(revisions);\n</code></pre>\n<p>or</p>\n<pre><code>var metadata = await GetExposureMetadata(exposures);\n</code></pre>\n<p>works great!</p>\n"},{"tags":[],"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680987355,"creation_date":1680987355,"answer_id":75967643,"question_id":13056350,"body_markdown":"I have found this syntax to be working as expected:\r\n\r\n    public void exampleMethod(Class&lt;? extends Vehicle&gt; type) \r\n","title":"Passing in a sub-class to a method but having the super class as the parameter?","body":"<p>I have found this syntax to be working as expected:</p>\n<pre><code>public void exampleMethod(Class&lt;? extends Vehicle&gt; type) \n</code></pre>\n"}],"owner":{"account_id":486073,"reputation":2221,"user_id":902766,"accept_rate":69,"display_name":"Peanut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43525,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":13056574,"answer_count":4,"score":40,"last_activity_date":1680987355,"creation_date":1351107009,"question_id":13056350,"body_markdown":"I have an abstract class `Vehicle` with 2 implemented subclasses `RedVehicle` and `YellowVehicle`. \r\n\r\nIn another class I have a `List&lt;Vehicle&gt;` containing instances of both subclasses.\r\nI want to be able to pass into a method a class type and then use that type to decide which set of objects I want to do something to in the `List`.\r\n\r\nSince `Class` is generic I should parameterise it with something, however putting the parameter as the parent class `Vehicle` stops the calling code working since `exampleMethod` is now expecting a type of Vehicle, not a subclass of `RedVehicle` or `YellowVehicle`.\r\n\r\nI feel there should be a clean way to do this so what would be the correct way to implement the functionality? \r\n\r\nn.b. I don&#39;t necessarily have to pass in the `Class` type, if there are better suggestions I&#39;d be happy to try those.\r\n\r\nCalling code:\r\n\r\n    service.exampleMethod(RedVehicle.class);\r\n    service.exampleMethod(YellowVehicle.class);\r\n\r\nFields/Method:\r\n\r\n    //List of vehicles\r\n    //Vehicle has 2 subclasses, RedVehicle and YellowVehicle\r\n    private List&lt;Vehicle&gt; vehicles;\r\n\r\n    //Having &lt;Vehicle&gt; as the Class parameter stops the calling code working\r\n    public void exampleMethod(Class&lt;Vehicle&gt; type) \r\n    {\r\n        for(Vehicle v : vehicles)\r\n        {\r\n            if(v.getClass().equals(type))\r\n\t        {\r\n\t\t        //do something\r\n\t        }\r\n        }\r\n    }","title":"Passing in a sub-class to a method but having the super class as the parameter?","body":"<p>I have an abstract class <code>Vehicle</code> with 2 implemented subclasses <code>RedVehicle</code> and <code>YellowVehicle</code>. </p>\n\n<p>In another class I have a <code>List&lt;Vehicle&gt;</code> containing instances of both subclasses.\nI want to be able to pass into a method a class type and then use that type to decide which set of objects I want to do something to in the <code>List</code>.</p>\n\n<p>Since <code>Class</code> is generic I should parameterise it with something, however putting the parameter as the parent class <code>Vehicle</code> stops the calling code working since <code>exampleMethod</code> is now expecting a type of Vehicle, not a subclass of <code>RedVehicle</code> or <code>YellowVehicle</code>.</p>\n\n<p>I feel there should be a clean way to do this so what would be the correct way to implement the functionality? </p>\n\n<p>n.b. I don't necessarily have to pass in the <code>Class</code> type, if there are better suggestions I'd be happy to try those.</p>\n\n<p>Calling code:</p>\n\n<pre><code>service.exampleMethod(RedVehicle.class);\nservice.exampleMethod(YellowVehicle.class);\n</code></pre>\n\n<p>Fields/Method:</p>\n\n<pre><code>//List of vehicles\n//Vehicle has 2 subclasses, RedVehicle and YellowVehicle\nprivate List&lt;Vehicle&gt; vehicles;\n\n//Having &lt;Vehicle&gt; as the Class parameter stops the calling code working\npublic void exampleMethod(Class&lt;Vehicle&gt; type) \n{\n    for(Vehicle v : vehicles)\n    {\n        if(v.getClass().equals(type))\n        {\n            //do something\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1680595381,"post_id":75926791,"comment_id":133920542,"body_markdown":"You excplicitly set `null` to `endDate`. The second parameter is enDate in this: `createChartRequest(&quot;2021-06-01 19:00:00.000+0700&quot;, null, columns);` But the field is marked as `@NotNull`.","body":"You excplicitly set <code>null</code> to <code>endDate</code>. The second parameter is enDate in this: <code>createChartRequest(&quot;2021-06-01 19:00:00.000+0700&quot;, null, columns);</code> But the field is marked as <code>@NotNull</code>."},{"owner":{"account_id":21944730,"reputation":29,"user_id":16224757,"display_name":"Nghihoang"},"score":0,"creation_date":1680595615,"post_id":75926791,"comment_id":133920590,"body_markdown":"I knew it, but my purpose is writing an unit test when endDate is Null","body":"I knew it, but my purpose is writing an unit test when endDate is Null"},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1680595938,"post_id":75926791,"comment_id":133920663,"body_markdown":"Then it is not a problem. So it doesn&#39;t have to fix as your asked, it had to be handled in tests.","body":"Then it is not a problem. So it doesn&#39;t have to fix as your asked, it had to be handled in tests."}],"answers":[{"tags":[],"owner":{"account_id":25715412,"reputation":13,"user_id":19473280,"display_name":"RanAbitbul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680986980,"creation_date":1680595568,"answer_id":75926934,"question_id":75926791,"body_markdown":"You passed a null value to `createChartRequest` at the `endDate` field at - \r\n\r\n`ChartDataSearchCondition chartDataSearchCondition = createChartRequest(&quot;2021-06-01 19:00:00.000+0700&quot;, &quot;Add a timestamp value here&quot;, columns);`","title":"attribute is marked non-null but is null in Junit Test","body":"<p>You passed a null value to <code>createChartRequest</code> at the <code>endDate</code> field at -</p>\n<p><code>ChartDataSearchCondition chartDataSearchCondition = createChartRequest(&quot;2021-06-01 19:00:00.000+0700&quot;, &quot;Add a timestamp value here&quot;, columns);</code></p>\n"}],"owner":{"account_id":21944730,"reputation":29,"user_id":16224757,"display_name":"Nghihoang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":494,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1680986980,"creation_date":1680594653,"question_id":75926791,"body_markdown":"I have an object like this\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n&lt;!-- language: lang-html --&gt;\r\n   \r\n\r\n     @Getter\r\n        @Setter\r\n        @JsonInclude(JsonInclude.Include.NON_NULL)\r\n        public class ChartDataSearchCondition {\r\n          @NotNull\r\n          @NotEmpty\r\n          @Pattern(regexp = Constants.REGEX_CHART_CONDITION_DATE)\r\n          private String startDate;\r\n          @NotNull\r\n          @NotEmpty\r\n          @Pattern(regexp = Constants.REGEX_CHART_CONDITION_DATE)\r\n          private String endDate;\r\n          @NotNull @NotEmpty private List&lt;String&gt; columns;\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAnd here is my Unit Test\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n&lt;!-- language: lang-html --&gt;   \r\n      public ChartDataSearchCondition createChartRequest(\r\n          String startDate, String endDate, List&lt;String&gt; columnList) {\r\n        ChartDataSearchCondition chartDataSearchCondition = new ChartDataSearchCondition();\r\n        chartDataSearchCondition.setColumns(columnList);\r\n        chartDataSearchCondition.setStartDate(startDate);\r\n        chartDataSearchCondition.setEndDate(endDate);\r\n        return chartDataSearchCondition;\r\n      }\r\n      \r\n     @Test()\r\n      public void visualize_searchConditionWithEndDateIsNull() {\r\n        List&lt;String&gt; columns = new ArrayList&lt;&gt;();\r\n        columns.add(&quot;col2&quot;);\r\n        ChartDataSearchCondition chartDataSearchCondition =\r\n            createChartRequest(&quot;2021-06-01 19:00:00.000+0700&quot;, null, columns);\r\n        try {\r\n          controller.getTimeseriesSampling(cluster, database, container, chartDataSearchCondition);\r\n          Assert.fail();\r\n        } catch (CommonException e) {\r\n          assertThat(e.getCode(), is(ErrorCode.CHART_REQUEST_INVALID.getErrorCode()));\r\n        } catch (Exception e) {\r\n          Assert.fail();\r\n        }\r\n      }\r\n&lt;!-- end snippet --&gt;\r\n\r\nBut when i run my UnitTest, there is an error : \r\n\r\n&gt; java.lang.NullPointerException: endDate is marked non-null but is null\r\n\r\nWhat should i do to fix this problem ? Thank you very much\r\n\r\n","title":"attribute is marked non-null but is null in Junit Test","body":"<p>I have an object like this</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>   \n\n @Getter\n    @Setter\n    @JsonInclude(JsonInclude.Include.NON_NULL)\n    public class ChartDataSearchCondition {\n      @NotNull\n      @NotEmpty\n      @Pattern(regexp = Constants.REGEX_CHART_CONDITION_DATE)\n      private String startDate;\n      @NotNull\n      @NotEmpty\n      @Pattern(regexp = Constants.REGEX_CHART_CONDITION_DATE)\n      private String endDate;\n      @NotNull @NotEmpty private List&lt;String&gt; columns;\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>And here is my Unit Test</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>   \n  public ChartDataSearchCondition createChartRequest(\n      String startDate, String endDate, List&lt;String&gt; columnList) {\n    ChartDataSearchCondition chartDataSearchCondition = new ChartDataSearchCondition();\n    chartDataSearchCondition.setColumns(columnList);\n    chartDataSearchCondition.setStartDate(startDate);\n    chartDataSearchCondition.setEndDate(endDate);\n    return chartDataSearchCondition;\n  }\n  \n @Test()\n  public void visualize_searchConditionWithEndDateIsNull() {\n    List&lt;String&gt; columns = new ArrayList&lt;&gt;();\n    columns.add(\"col2\");\n    ChartDataSearchCondition chartDataSearchCondition =\n        createChartRequest(\"2021-06-01 19:00:00.000+0700\", null, columns);\n    try {\n      controller.getTimeseriesSampling(cluster, database, container, chartDataSearchCondition);\n      Assert.fail();\n    } catch (CommonException e) {\n      assertThat(e.getCode(), is(ErrorCode.CHART_REQUEST_INVALID.getErrorCode()));\n    } catch (Exception e) {\n      Assert.fail();\n    }\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>But when i run my UnitTest, there is an error :</p>\n<blockquote>\n<p>java.lang.NullPointerException: endDate is marked non-null but is null</p>\n</blockquote>\n<p>What should i do to fix this problem ? Thank you very much</p>\n"},{"tags":["java","logback"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1680985650,"post_id":75967521,"comment_id":133987526,"body_markdown":"Last I checked, logging libraries don&#39;t have color code... Your terminal might (i.e. IntelliJ), but this is not portable, and shouldn&#39;t be relied upon .","body":"Last I checked, logging libraries don&#39;t have color code... Your terminal might (i.e. IntelliJ), but this is not portable, and shouldn&#39;t be relied upon ."}],"answers":[{"comments":[{"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"score":0,"creation_date":1680986396,"post_id":75967545,"comment_id":133987617,"body_markdown":"As far as I understood from ur solution is that we will need different appenders for different colors (which I already know) but I am looking for a better solution, something which uses custom converter class or something similar to this.","body":"As far as I understood from ur solution is that we will need different appenders for different colors (which I already know) but I am looking for a better solution, something which uses custom converter class or something similar to this."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680986732,"post_id":75967545,"comment_id":133987656,"body_markdown":"Not that I know of. As mentioned in comment above, your terminal uses color codes, not Java, and not Logging libraries. Therefore putting &quot;converter class&quot; in the source code isn&#39;t really meaningful","body":"Not that I know of. As mentioned in comment above, your terminal uses color codes, not Java, and not Logging libraries. Therefore putting &quot;converter class&quot; in the source code isn&#39;t really meaningful"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1680986822,"post_id":75967545,"comment_id":133987670,"body_markdown":"And if were possible, would require you to alter the source-code of the teacher&#39;s code, which is against the point of slf4j and others","body":"And if were possible, would require you to alter the source-code of the teacher&#39;s code, which is against the point of slf4j and others"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680986778,"creation_date":1680985835,"answer_id":75967545,"question_id":75967521,"body_markdown":"If you want all to be the same, you would use one appender. So, &quot;your code&quot; is cyan logs. \r\n\r\n```xml\r\n&lt;appender name=&quot;root&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n   &lt;encoder&gt;\r\n        &lt;pattern&gt;\r\n            %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %cyan(%msg%n)\r\n        &lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n&lt;/appender&gt;\r\n\r\n&lt;root level=&quot;INFO&quot;&gt;\r\n    &lt;appender-ref ref=&quot;root&quot; /&gt;\r\n&lt;/root&gt;\r\n```\r\n\r\nThen, you would only need one more appender to have classes in those packages (the &quot;teachers&quot;) use a different color, like `yellow`. \r\n\r\n    &lt;logger name=&quot;com.rudra.logging.teacher&quot;\r\n\r\nIf you want external library logs in packages you don&#39;t control to have un-colored / different logs, then yes, you need 3 appenders. ","title":"Using Logback to set different colors for logging messages of different package","body":"<p>If you want all to be the same, you would use one appender. So, &quot;your code&quot; is cyan logs.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;appender name=&quot;root&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n   &lt;encoder&gt;\n        &lt;pattern&gt;\n            %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %cyan(%msg%n)\n        &lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;root level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;root&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n<p>Then, you would only need one more appender to have classes in those packages (the &quot;teachers&quot;) use a different color, like <code>yellow</code>.</p>\n<pre><code>&lt;logger name=&quot;com.rudra.logging.teacher&quot;\n</code></pre>\n<p>If you want external library logs in packages you don't control to have un-colored / different logs, then yes, you need 3 appenders.</p>\n"}],"owner":{"account_id":19298004,"reputation":129,"user_id":14106566,"display_name":"humbleCodes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680986778,"creation_date":1680985487,"question_id":75967521,"body_markdown":"I have just started using logback within Spring Boot for logging. And I have got a requirement for logging console based logs in a such a way that the log messages for different packages are written in different color depending upon which package the log belongs to.\r\n\r\nhere is my logback.xml file :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    \r\n        &lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;\r\n                    %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %msg%n\r\n    \r\n                &lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;console&quot; /&gt;\r\n        &lt;/root&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n\r\nCurrently, what I m able to log messages for two different packages looks like this (same logged message color for every package) :\r\n[![enter image description here][1]][1]\r\n\r\nWith some tweak I m able to achieve what I desire for, using the following logback.xml configuration : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n    \r\n        &lt;appender name=&quot;console-root&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;\r\n                    %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %msg%n\r\n    \r\n                &lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;console-p1&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;\r\n                    %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %yellow(%msg%n)\r\n    \r\n                &lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;appender name=&quot;console-p2&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;\r\n                    %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %cyan(%msg%n)\r\n    \r\n                &lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n    \r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;console-root&quot; /&gt;\r\n        &lt;/root&gt;\r\n    \r\n        &lt;logger name=&quot;com.rudra.logging.teacher&quot; level=&quot;WARN&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;console-p1&quot; /&gt;\r\n        &lt;/logger&gt;\r\n    \r\n        &lt;logger name=&quot;com.rudra.logging.user&quot; level=&quot;WARN&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;console-p2&quot; /&gt;\r\n        &lt;/logger&gt;\r\n    \r\n    \r\n    &lt;/configuration&gt;\r\n\r\n\r\n\r\nAs you can see in the image below that the log message from teacher package is logged in yellow color, whereas the log message from user package is in cyan color :\r\n[![enter image description here][2]][2]  \r\n\r\n\r\nThe second xml configuration helps me achieve the desired goal, but the main issue is that this requires a lot of boilerplate and as number of packages increases it will be cumbersome to maintain, also I feel using multiple appenders solely for this purpose isn&#39;t the right thing to do. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UI5mQ.png\r\n  [2]: https://i.stack.imgur.com/zPI1c.png","title":"Using Logback to set different colors for logging messages of different package","body":"<p>I have just started using logback within Spring Boot for logging. And I have got a requirement for logging console based logs in a such a way that the log messages for different packages are written in different color depending upon which package the log belongs to.</p>\n<p>here is my logback.xml file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n\n    &lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;\n                %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %msg%n\n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;console&quot; /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>Currently, what I m able to log messages for two different packages looks like this (same logged message color for every package) :\n<a href=\"https://i.stack.imgur.com/UI5mQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UI5mQ.png\" alt=\"enter image description here\" /></a></p>\n<p>With some tweak I m able to achieve what I desire for, using the following logback.xml configuration :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n\n    &lt;appender name=&quot;console-root&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;\n                %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %msg%n\n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;console-p1&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;\n                %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %yellow(%msg%n)\n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;appender name=&quot;console-p2&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;\n                %d{HH:mm:ss.SSS} %magenta([%thread]) %logger{36} - %cyan(%msg%n)\n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;console-root&quot; /&gt;\n    &lt;/root&gt;\n\n    &lt;logger name=&quot;com.rudra.logging.teacher&quot; level=&quot;WARN&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;console-p1&quot; /&gt;\n    &lt;/logger&gt;\n\n    &lt;logger name=&quot;com.rudra.logging.user&quot; level=&quot;WARN&quot; additivity=&quot;false&quot;&gt;\n        &lt;appender-ref ref=&quot;console-p2&quot; /&gt;\n    &lt;/logger&gt;\n\n\n&lt;/configuration&gt;\n</code></pre>\n<p>As you can see in the image below that the log message from teacher package is logged in yellow color, whereas the log message from user package is in cyan color :\n<a href=\"https://i.stack.imgur.com/zPI1c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zPI1c.png\" alt=\"enter image description here\" /></a></p>\n<p>The second xml configuration helps me achieve the desired goal, but the main issue is that this requires a lot of boilerplate and as number of packages increases it will be cumbersome to maintain, also I feel using multiple appenders solely for this purpose isn't the right thing to do.</p>\n"},{"tags":["java","loops","nested-loops"],"answers":[{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":315,"creation_date":1242810925,"post_id":886979,"comment_id":693885,"body_markdown":"This *does* jump to directly after the loop. Try it! Yes, the label comes before the loop, but that&#39;s because it&#39;s labeling the loop, rather than the place you want to exit to. (You can continue with a label too.)","body":"This <i>does</i> jump to directly after the loop. Try it! Yes, the label comes before the loop, but that&#39;s because it&#39;s labeling the loop, rather than the place you want to exit to. (You can continue with a label too.)"},{"owner":{"account_id":3690751,"reputation":636,"user_id":3073383,"display_name":"Graeme Gill"},"score":0,"creation_date":1662945740,"post_id":886979,"comment_id":130116236,"body_markdown":"Breaking it up into different methods is only a win if the state is small, or is kept in a form that can be passed by reference. If the state the loops is referring to/manipulating is larger, then an elegant way of breaking out of/continuing the loops becomes a necessity.","body":"Breaking it up into different methods is only a win if the state is small, or is kept in a form that can be passed by reference. If the state the loops is referring to/manipulating is larger, then an elegant way of breaking out of/continuing the loops becomes a necessity."},{"owner":{"account_id":13835744,"reputation":2940,"user_id":9987309,"display_name":"iCantC"},"score":2,"creation_date":1667184375,"post_id":886979,"comment_id":131103282,"body_markdown":"Until this answer hit me, never knew Java had concept of labelled loops  &#175;\\_(ツ)_/&#175;","body":"Until this answer hit me, never knew Java had concept of labelled loops  &#175;_(ツ)_/&#175;"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":3,"down_vote_count":5,"up_vote_count":2736,"is_accepted":true,"score":2731,"last_activity_date":1543994850,"creation_date":1242810682,"answer_id":886979,"question_id":886955,"body_markdown":"Like other answerers, I&#39;d definitely *prefer* to put the loops in a different method, at which point you can just return to stop iterating completely. This answer just shows how the requirements in the question can be met.\r\n\r\nYou can use `break` with a label for the outer loop. For example:\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            outerloop:\r\n            for (int i=0; i &lt; 5; i++) {\r\n                for (int j=0; j &lt; 5; j++) {\r\n                    if (i * j &gt; 6) {\r\n                        System.out.println(&quot;Breaking&quot;);\r\n                        break outerloop;\r\n                    }\r\n                    System.out.println(i + &quot; &quot; + j);\r\n                }\r\n            }\r\n            System.out.println(&quot;Done&quot;);\r\n        }\r\n    }\r\n\r\nThis prints:\r\n\r\n    0 0\r\n    0 1\r\n    0 2\r\n    0 3\r\n    0 4\r\n    1 0\r\n    1 1\r\n    1 2\r\n    1 3\r\n    1 4\r\n    2 0\r\n    2 1\r\n    2 2\r\n    2 3\r\n    Breaking\r\n    Done\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>Like other answerers, I'd definitely <em>prefer</em> to put the loops in a different method, at which point you can just return to stop iterating completely. This answer just shows how the requirements in the question can be met.</p>\n\n<p>You can use <code>break</code> with a label for the outer loop. For example:</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        outerloop:\n        for (int i=0; i &lt; 5; i++) {\n            for (int j=0; j &lt; 5; j++) {\n                if (i * j &gt; 6) {\n                    System.out.println(\"Breaking\");\n                    break outerloop;\n                }\n                System.out.println(i + \" \" + j);\n            }\n        }\n        System.out.println(\"Done\");\n    }\n}\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>0 0\n0 1\n0 2\n0 3\n0 4\n1 0\n1 1\n1 2\n1 3\n1 4\n2 0\n2 1\n2 2\n2 3\nBreaking\nDone\n</code></pre>\n"},{"tags":[],"owner":{"account_id":876304,"reputation":3258,"user_id":108892,"display_name":"simon622"},"comment_count":0,"down_vote_count":1,"up_vote_count":128,"is_accepted":false,"score":127,"last_activity_date":1524241826,"creation_date":1242810716,"answer_id":886982,"question_id":886955,"body_markdown":"You can use labels:\r\n\r\n    label1: \r\n    for (int i = 0;;) {\r\n        for (int g = 0;;) {\r\n          break label1;\r\n        }\r\n    }\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>You can use labels:</p>\n\n<pre><code>label1: \nfor (int i = 0;;) {\n    for (int g = 0;;) {\n      break label1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11822,"reputation":18142,"user_id":22992,"accept_rate":76,"display_name":"Miguel Ping"},"comment_count":0,"down_vote_count":8,"up_vote_count":32,"is_accepted":false,"score":24,"last_activity_date":1242810719,"creation_date":1242810719,"answer_id":886983,"question_id":886955,"body_markdown":"You can use a temporary variable:\r\n\r\n    boolean outerBreak = false;\r\n    for (Type type : types) {\r\n       if(outerBreak) break;\r\n        for (Type t : types2) {\r\n             if (some condition) {\r\n                 // Do something and break...\r\n                 outerBreak = true;\r\n                 break; // Breaks out of the inner loop\r\n             }\r\n        }\r\n    }\r\n\r\nDepending on your function, you can also exit/return from the inner loop:\r\n\r\n    for (Type type : types) {\r\n        for (Type t : types2) {\r\n             if (some condition) {\r\n                 // Do something and break...\r\n                 return;\r\n             }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>You can use a temporary variable:</p>\n\n<pre><code>boolean outerBreak = false;\nfor (Type type : types) {\n   if(outerBreak) break;\n    for (Type t : types2) {\n         if (some condition) {\n             // Do something and break...\n             outerBreak = true;\n             break; // Breaks out of the inner loop\n         }\n    }\n}\n</code></pre>\n\n<p>Depending on your function, you can also exit/return from the inner loop:</p>\n\n<pre><code>for (Type type : types) {\n    for (Type t : types2) {\n         if (some condition) {\n             // Do something and break...\n             return;\n         }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":44,"creation_date":1242810799,"post_id":886984,"comment_id":693876,"body_markdown":"You don&#39;t need to create a new block to use a label.","body":"You don&#39;t need to create a new block to use a label."},{"owner":{"account_id":18835,"reputation":82201,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"score":95,"creation_date":1242811447,"post_id":886984,"comment_id":693917,"body_markdown":"No, but it makes the intent a lot clearer. See the first comment on the accepted answer.","body":"No, but it makes the intent a lot clearer. See the first comment on the accepted answer."}],"tags":[],"owner":{"account_id":27626,"reputation":346928,"user_id":73070,"accept_rate":81,"display_name":"Joey"},"comment_count":2,"down_vote_count":1,"up_vote_count":241,"is_accepted":false,"score":240,"last_activity_date":1242810732,"creation_date":1242810732,"answer_id":886984,"question_id":886955,"body_markdown":"You can use a named block around the loops:\r\n\r\n    search: {\r\n        for (Type type : types) {\r\n            for (Type t : types2) {\r\n                if (some condition) {\r\n                    // Do something and break...\r\n                    break search;\r\n                }\r\n            }\r\n        }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<p>You can use a named block around the loops:</p>\n\n<pre><code>search: {\n    for (Type type : types) {\n        for (Type t : types2) {\n            if (some condition) {\n                // Do something and break...\n                break search;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":38309,"reputation":19501,"user_id":109880,"accept_rate":76,"display_name":"Fortega"},"comment_count":0,"down_vote_count":2,"up_vote_count":46,"is_accepted":false,"score":44,"last_activity_date":1546680156,"creation_date":1242819780,"answer_id":887443,"question_id":886955,"body_markdown":"Use a function:\r\n\r\n    public void doSomething(List&lt;Type&gt; types, List&lt;Type&gt; types2){\r\n      for(Type t1 : types){\r\n        for (Type t : types2) {\r\n          if (some condition) {\r\n             // Do something and return...\r\n             return;\r\n          }\r\n        }\r\n      }\r\n    }\r\n","title":"How do I break out of nested loops in Java?","body":"<p>Use a function:</p>\n\n<pre><code>public void doSomething(List&lt;Type&gt; types, List&lt;Type&gt; types2){\n  for(Type t1 : types){\n    for (Type t : types2) {\n      if (some condition) {\n         // Do something and return...\n         return;\n      }\n    }\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6085,"reputation":13688,"user_id":10088,"accept_rate":71,"display_name":"Haoest"},"score":35,"creation_date":1323220554,"post_id":8126271,"comment_id":10385866,"body_markdown":"Sometimes you use several local variables that&#39;s outside of the inner loop, passing them all in can feel clunky.","body":"Sometimes you use several local variables that&#39;s outside of the inner loop, passing them all in can feel clunky."}],"tags":[],"owner":{"account_id":881180,"reputation":14633,"user_id":246394,"accept_rate":93,"display_name":"Zo72"},"comment_count":1,"down_vote_count":3,"up_vote_count":440,"is_accepted":false,"score":437,"last_activity_date":1338719501,"creation_date":1321295213,"answer_id":8126271,"question_id":886955,"body_markdown":"Technically the correct answer is to label the outer loop. In practice if you want to exit at any point inside an inner loop then you would be better off externalizing the code into a method (a static method if needs be) and then call it.\r\n\r\nThat would pay off for readability. \r\n\r\nThe code would become something like that: \r\n\r\n    private static String search(...) \r\n    {\r\n        for (Type type : types) {\r\n            for (Type t : types2) {\r\n                if (some condition) {\r\n                    // Do something and break...\r\n                    return search;\r\n                }\r\n            }\r\n        }\r\n        return null; \r\n    }\r\n\r\nMatching the example for the accepted answer:\r\n\r\n     public class Test {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tloop();\r\n\t\t\tSystem.out.println(&quot;Done&quot;);\r\n\t\t}\r\n\r\n\t\tpublic static void loop() {\r\n\t\t\tfor (int i = 0; i &lt; 5; i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; 5; j++) {\r\n\t\t\t\t\tif (i * j &gt; 6) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Breaking&quot;);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tSystem.out.println(i + &quot; &quot; + j);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How do I break out of nested loops in Java?","body":"<p>Technically the correct answer is to label the outer loop. In practice if you want to exit at any point inside an inner loop then you would be better off externalizing the code into a method (a static method if needs be) and then call it.</p>\n\n<p>That would pay off for readability. </p>\n\n<p>The code would become something like that: </p>\n\n<pre><code>private static String search(...) \n{\n    for (Type type : types) {\n        for (Type t : types2) {\n            if (some condition) {\n                // Do something and break...\n                return search;\n            }\n        }\n    }\n    return null; \n}\n</code></pre>\n\n<p>Matching the example for the accepted answer:</p>\n\n<pre><code> public class Test {\n    public static void main(String[] args) {\n        loop();\n        System.out.println(\"Done\");\n    }\n\n    public static void loop() {\n        for (int i = 0; i &lt; 5; i++) {\n            for (int j = 0; j &lt; 5; j++) {\n                if (i * j &gt; 6) {\n                    System.out.println(\"Breaking\");\n                    return;\n                }\n                System.out.println(i + \" \" + j);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":102583,"reputation":2507,"user_id":275280,"accept_rate":71,"display_name":"ManBehindTheCurtain"},"score":1,"creation_date":1694540906,"post_id":8420080,"comment_id":135903703,"body_markdown":"So you&#39;re allowing extra loops just so you wouldn&#39;t have to label &quot;for&quot;?","body":"So you&#39;re allowing extra loops just so you wouldn&#39;t have to label &quot;for&quot;?"}],"tags":[],"owner":{"account_id":411253,"reputation":2127,"user_id":783601,"display_name":"Elle Mundy"},"comment_count":1,"down_vote_count":6,"up_vote_count":160,"is_accepted":false,"score":154,"last_activity_date":1680986528,"creation_date":1323280346,"answer_id":8420080,"question_id":886955,"body_markdown":"I never use labels. It seems like a bad practice to get into. Here&#39;s what I would do:\r\n\r\n    boolean finished = false;\r\n    for (int i = 0; i &lt; 5 &amp;&amp; !finished; i++) {\r\n        for (int j = 0; j &lt; 5; j++) {\r\n            if (i * j &gt; 6) {\r\n                finished = true;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\nBy having flag variable ,We can easily control execution of any number of loops ,Just we need to keep this flag value check at loop condition statement as done in main loop-&gt;i &lt; 5 &amp;&amp; !finished.","title":"How do I break out of nested loops in Java?","body":"<p>I never use labels. It seems like a bad practice to get into. Here's what I would do:</p>\n<pre><code>boolean finished = false;\nfor (int i = 0; i &lt; 5 &amp;&amp; !finished; i++) {\n    for (int j = 0; j &lt; 5; j++) {\n        if (i * j &gt; 6) {\n            finished = true;\n            break;\n        }\n    }\n}\n</code></pre>\n<p>By having flag variable ,We can easily control execution of any number of loops ,Just we need to keep this flag value check at loop condition statement as done in main loop-&gt;i &lt; 5 &amp;&amp; !finished.</p>\n"},{"comments":[{"owner":{"account_id":8396,"reputation":24329,"user_id":15108,"accept_rate":89,"display_name":"boutta"},"score":0,"creation_date":1454054285,"post_id":9147282,"comment_id":57880939,"body_markdown":"I don&#39;t find it cool to iterate all the items after the condition is broken. Thus I would add a break in the else case.","body":"I don&#39;t find it cool to iterate all the items after the condition is broken. Thus I would add a break in the else case."},{"owner":{"account_id":334731,"reputation":2647,"user_id":1951442,"accept_rate":68,"display_name":"Swifty McSwifterton"},"score":0,"creation_date":1469984009,"post_id":9147282,"comment_id":64751660,"body_markdown":"@boutta I&#39;m not sure how you&#39;re reaching this conclusion.  Once the condition is true, both loops are exited.","body":"@boutta I&#39;m not sure how you&#39;re reaching this conclusion.  Once the condition is true, both loops are exited."},{"owner":{"account_id":8396,"reputation":24329,"user_id":15108,"accept_rate":89,"display_name":"boutta"},"score":0,"creation_date":1478768206,"post_id":9147282,"comment_id":68287317,"body_markdown":"OK, I didn&#39;t get the part with the manipulation of the &#39;s&#39; var. But I find that kind of bad style since s is representing the size. Then I prefer the answer from ddyer with explicit vars: http://stackoverflow.com/a/25124317/15108","body":"OK, I didn&#39;t get the part with the manipulation of the &#39;s&#39; var. But I find that kind of bad style since s is representing the size. Then I prefer the answer from ddyer with explicit vars: <a href=\"http://stackoverflow.com/a/25124317/15108\">stackoverflow.com/a/25124317/15108</a>"},{"owner":{"account_id":137055,"reputation":1567,"user_id":340992,"display_name":"Zsolti"},"score":0,"creation_date":1506516276,"post_id":9147282,"comment_id":79851975,"body_markdown":"@boutta You can change `s` to a value which is lower than `i` or change `i` to a value greater or equal than `s`, both should do the trick. You&#39;re right about changing `s`, because it can be used elsewhere later, but changing `i` won&#39;t harm, just will make sure the first `for` won&#39;t continue looping.","body":"@boutta You can change <code>s</code> to a value which is lower than <code>i</code> or change <code>i</code> to a value greater or equal than <code>s</code>, both should do the trick. You&#39;re right about changing <code>s</code>, because it can be used elsewhere later, but changing <code>i</code> won&#39;t harm, just will make sure the first <code>for</code> won&#39;t continue looping."}],"tags":[],"owner":{"account_id":334731,"reputation":2647,"user_id":1951442,"accept_rate":68,"display_name":"Swifty McSwifterton"},"comment_count":4,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1478768090,"creation_date":1328421870,"answer_id":9147282,"question_id":886955,"body_markdown":"I needed to do a similar thing, but I chose not to use the enhanced for loop to do it.\r\n\r\n    int s = type.size();\r\n    for (int i = 0; i &lt; s; i++) {\r\n        for (int j = 0; j &lt; t.size(); j++) {\r\n            if (condition) {\r\n                // do stuff after which you want \r\n                // to completely break out of both loops\r\n                s = 0; // enables the _main_ loop to terminate\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>I needed to do a similar thing, but I chose not to use the enhanced for loop to do it.</p>\n\n<pre><code>int s = type.size();\nfor (int i = 0; i &lt; s; i++) {\n    for (int j = 0; j &lt; t.size(); j++) {\n        if (condition) {\n            // do stuff after which you want \n            // to completely break out of both loops\n            s = 0; // enables the _main_ loop to terminate\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1601507,"reputation":1717,"user_id":1482450,"accept_rate":62,"display_name":"Mahesh Peri"},"comment_count":0,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1351154383,"creation_date":1350474649,"answer_id":12933669,"question_id":886955,"body_markdown":"You just use label for breaking inner loops\r\n\r\n    public class Test {\r\n    public static void main(String[] args) {\r\n        outerloop:\r\n    for (int i=0; i &lt; 5; i++) {\r\n      for (int j=0; j &lt; 5; j++) {\r\n        if (i * j &gt; 6) {\r\n          System.out.println(&quot;Breaking&quot;);\r\n          break outerloop;\r\n        }\r\n        System.out.println(i + &quot; &quot; + j);\r\n      }\r\n    }\r\n    System.out.println(&quot;Done&quot;);\r\n    }\r\n    }\r\n","title":"How do I break out of nested loops in Java?","body":"<p>You just use label for breaking inner loops</p>\n\n<pre><code>public class Test {\npublic static void main(String[] args) {\n    outerloop:\nfor (int i=0; i &lt; 5; i++) {\n  for (int j=0; j &lt; 5; j++) {\n    if (i * j &gt; 6) {\n      System.out.println(\"Breaking\");\n      break outerloop;\n    }\n    System.out.println(i + \" \" + j);\n  }\n}\nSystem.out.println(\"Done\");\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1410679,"reputation":3385,"user_id":1337338,"accept_rate":38,"display_name":"voidMainReturn"},"comment_count":0,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1546680213,"creation_date":1367125713,"answer_id":16259831,"question_id":886955,"body_markdown":"Even creating a flag for the outer loop and checking that after each execution of the inner loop can be the answer.\r\n\r\nLike this:\r\n\r\n    for (Type type : types) {\r\n    \tboolean flag=false;\r\n\t    for (Type t : types2) {\r\n\t\t\tif (some condition) {\r\n\t\t\t\t// Do something and break...\r\n\t\t\t\tflag=true;\r\n\t\t\t\tbreak; // Breaks out of the inner loop\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(flag)\r\n\t\t\tbreak;\r\n    }\r\n","title":"How do I break out of nested loops in Java?","body":"<p>Even creating a flag for the outer loop and checking that after each execution of the inner loop can be the answer.</p>\n\n<p>Like this:</p>\n\n<pre><code>for (Type type : types) {\n    boolean flag=false;\n    for (Type t : types2) {\n        if (some condition) {\n            // Do something and break...\n            flag=true;\n            break; // Breaks out of the inner loop\n        }\n    }\n    if(flag)\n        break;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2737225,"reputation":19,"user_id":2359640,"display_name":"Edd"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1367953040,"creation_date":1367953040,"answer_id":16426527,"question_id":886955,"body_markdown":"Check if the inner loop is exited with an if statement, by checking the inner loop&#39;s variable. You could also create another variable such as a boolean to check if the inner loop is exited. \r\n\r\nIn this example it uses the inner loop&#39;s variable to check if it has been exited:\r\n\r\n    int i, j;\r\n    for(i = 0; i &lt; 7; i++){\r\n\r\n    for(j = 0; j &lt; 5; j++) {\r\n\r\n         if (some condition) {\r\n             // Do something and break...\r\n             break; // Breaks out of the inner loop\r\n         }\r\n    }\r\n         if(j &lt; 5){    // Checks if inner loop wasn&#39;t finished\r\n         break;    // Breaks out of the outer loop   \r\n         } \r\n    }","title":"How do I break out of nested loops in Java?","body":"<p>Check if the inner loop is exited with an if statement, by checking the inner loop's variable. You could also create another variable such as a boolean to check if the inner loop is exited. </p>\n\n<p>In this example it uses the inner loop's variable to check if it has been exited:</p>\n\n<pre><code>int i, j;\nfor(i = 0; i &lt; 7; i++){\n\nfor(j = 0; j &lt; 5; j++) {\n\n     if (some condition) {\n         // Do something and break...\n         break; // Breaks out of the inner loop\n     }\n}\n     if(j &lt; 5){    // Checks if inner loop wasn't finished\n     break;    // Breaks out of the outer loop   \n     } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":104387,"reputation":4600,"user_id":279112,"accept_rate":82,"display_name":"Panzercrisis"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1378937699,"creation_date":1378937699,"answer_id":18752196,"question_id":886955,"body_markdown":"    boolean broken = false; // declared outside of the loop for efficiency\r\n    for (Type type : types) {\r\n        for (Type t : types2) {\r\n            if (some condition) {\r\n                broken = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (broken) {\r\n            break;\r\n        }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<pre><code>boolean broken = false; // declared outside of the loop for efficiency\nfor (Type type : types) {\n    for (Type t : types2) {\n        if (some condition) {\n            broken = true;\n            break;\n        }\n    }\n\n    if (broken) {\n        break;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13546471,"reputation":3498,"user_id":9772691,"display_name":"John McClane"},"score":3,"creation_date":1543968045,"post_id":20724432,"comment_id":94106782,"body_markdown":"Not suitable to foreach loops.","body":"Not suitable to foreach loops."},{"owner":{"account_id":4257652,"reputation":1074,"user_id":3482890,"accept_rate":100,"display_name":"Quintec"},"score":3,"creation_date":1544144609,"post_id":20724432,"comment_id":94182006,"body_markdown":"@JohnMcClane And you&#39;re spamming this on many answers on a 9+ year old question because...?","body":"@JohnMcClane And you&#39;re spamming this on many answers on a 9+ year old question because...?"}],"tags":[],"owner":{"account_id":2765505,"reputation":4568,"user_id":2381321,"display_name":"zord"},"comment_count":2,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1387666594,"creation_date":1387666594,"answer_id":20724432,"question_id":886955,"body_markdown":"If you don&#39;t like `break`s and `goto`s, you can use a &quot;traditional&quot; for loop instead the for-in, with an extra abort condition:\r\n\r\n    int a, b;\r\n    bool abort = false;\r\n    for (a = 0; a &lt; 10 &amp;&amp; !abort; a++) {\r\n        for (b = 0; b &lt; 10 &amp;&amp; !abort; b++) {\r\n            if (condition) {\r\n                doSomeThing();\r\n                abort = true;\r\n            }\r\n        }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<p>If you don't like <code>break</code>s and <code>goto</code>s, you can use a \"traditional\" for loop instead the for-in, with an extra abort condition:</p>\n\n<pre><code>int a, b;\nbool abort = false;\nfor (a = 0; a &lt; 10 &amp;&amp; !abort; a++) {\n    for (b = 0; b &lt; 10 &amp;&amp; !abort; b++) {\n        if (condition) {\n            doSomeThing();\n            abort = true;\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"score":2,"creation_date":1436008720,"post_id":23786300,"comment_id":50440182,"body_markdown":"How would I use this with for-each loops? ;)","body":"How would I use this with for-each loops? ;)"},{"owner":{"account_id":5397431,"reputation":5255,"user_id":4298200,"accept_rate":62,"display_name":"Neuron"},"score":5,"creation_date":1445828790,"post_id":23786300,"comment_id":54472306,"body_markdown":"This doesn&#39;t work if you have a more sophisticated loop condition, like list.size()&gt;5. Also it is really just a hack. It&#39;s hard to read and bad practice!","body":"This doesn&#39;t work if you have a more sophisticated loop condition, like list.size()&gt;5. Also it is really just a hack. It&#39;s hard to read and bad practice!"},{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":0,"creation_date":1535227646,"post_id":23786300,"comment_id":90992080,"body_markdown":"It is error-prone.  Imagine you changed the inner loop to `(int k = 0; k &lt; 10; k++)` and you didn&#39;t fix all of the `k = 9` to `k = 10`.  You might get into an infinite loop.","body":"It is error-prone.  Imagine you changed the inner loop to <code>(int k = 0; k &lt; 10; k++)</code> and you didn&#39;t fix all of the <code>k = 9</code> to <code>k = 10</code>.  You might get into an infinite loop."}],"tags":[],"owner":{"account_id":3206700,"reputation":4911,"user_id":2707648,"accept_rate":33,"display_name":"Hitendra Solanki"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1430001878,"creation_date":1400682786,"answer_id":23786300,"question_id":886955,"body_markdown":"You can break from all loops without using any label: and flags.\r\n\r\nIt&#39;s just tricky solution.\r\n\r\nHere condition1 is the condition which is used to break from loop K and J.\r\nAnd condition2 is the condition which is used to break from loop K , J and I.\r\n\r\nFor example:\r\n\r\n    public class BreakTesting {\r\n        public static void main(String[] args) {\r\n            for (int i = 0; i &lt; 9; i++) {\r\n                for (int j = 0; j &lt; 9; j++) {\r\n                    for (int k = 0; k &lt; 9; k++) {\r\n                        if (condition1) {\r\n                            System.out.println(&quot;Breaking from Loop K and J&quot;);\r\n                            k = 9;\r\n                            j = 9;\r\n                        }\r\n                        if (condition2) {\r\n                            System.out.println(&quot;Breaking from Loop K, J and I&quot;);\r\n                            k = 9;\r\n                            j = 9;\r\n                            i = 9;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            System.out.println(&quot;End of I , J , K&quot;);\r\n        }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<p>You can break from all loops without using any label: and flags.</p>\n\n<p>It's just tricky solution.</p>\n\n<p>Here condition1 is the condition which is used to break from loop K and J.\nAnd condition2 is the condition which is used to break from loop K , J and I.</p>\n\n<p>For example:</p>\n\n<pre><code>public class BreakTesting {\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; 9; i++) {\n            for (int j = 0; j &lt; 9; j++) {\n                for (int k = 0; k &lt; 9; k++) {\n                    if (condition1) {\n                        System.out.println(\"Breaking from Loop K and J\");\n                        k = 9;\n                        j = 9;\n                    }\n                    if (condition2) {\n                        System.out.println(\"Breaking from Loop K, J and I\");\n                        k = 9;\n                        j = 9;\n                        i = 9;\n                    }\n                }\n            }\n        }\n        System.out.println(\"End of I , J , K\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5055718,"reputation":858,"user_id":4059017,"accept_rate":40,"display_name":"Gothiquo"},"score":0,"creation_date":1674481964,"post_id":23979976,"comment_id":132716810,"body_markdown":"link doesn&#39;t work","body":"link doesn&#39;t work"}],"tags":[],"owner":{"account_id":2070174,"reputation":2478,"user_id":1844843,"accept_rate":80,"display_name":"Rumesh Eranga Hapuarachchi"},"comment_count":1,"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1524242063,"creation_date":1401626493,"answer_id":23979976,"question_id":886955,"body_markdown":"Use Labels.\r\n\r\n\r\n    INNER:for(int j = 0; j &lt; numbers.length; j++) {\r\n        System.out.println(&quot;Even number: &quot; + i + &quot;, break  from INNER label&quot;);\r\n        break INNER;\r\n    }\r\n\r\n\r\n\r\nRefer to [this article][1]\r\n\r\n\r\n  [1]: http://[http://javarevisited.blogspot.com/2012/05/break-continue-and-lablel-in-loop-java.html][1]","title":"How do I break out of nested loops in Java?","body":"<p>Use Labels.</p>\n\n<pre><code>INNER:for(int j = 0; j &lt; numbers.length; j++) {\n    System.out.println(\"Even number: \" + i + \", break  from INNER label\");\n    break INNER;\n}\n</code></pre>\n\n<p>Refer to <a href=\"http://[http://javarevisited.blogspot.com/2012/05/break-continue-and-lablel-in-loop-java.html][1]\" rel=\"nofollow noreferrer\">this article</a></p>\n"},{"tags":[],"owner":{"account_id":1565422,"reputation":1256,"user_id":1454347,"accept_rate":50,"display_name":"astryk"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1546680270,"creation_date":1405097188,"answer_id":24702701,"question_id":886955,"body_markdown":"    boolean condition = false;\r\n    for (Type type : types) {\r\n        for (int i = 0; i &lt; otherTypes.size &amp;&amp; !condition; i ++) {\r\n            condition = true; // If your condition is satisfied\r\n        }\r\n    }\r\n\r\nUse `condition` as a flag for when you are done processing. Then the inner loop only continues on while the condition has not been met. Either way, the outer loop will keep on chuggin&#39;.\r\n","title":"How do I break out of nested loops in Java?","body":"<pre><code>boolean condition = false;\nfor (Type type : types) {\n    for (int i = 0; i &lt; otherTypes.size &amp;&amp; !condition; i ++) {\n        condition = true; // If your condition is satisfied\n    }\n}\n</code></pre>\n\n<p>Use <code>condition</code> as a flag for when you are done processing. Then the inner loop only continues on while the condition has not been met. Either way, the outer loop will keep on chuggin'.</p>\n"},{"tags":[],"owner":{"account_id":57685,"reputation":1790,"user_id":172821,"accept_rate":40,"display_name":"ddyer"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1524242013,"creation_date":1407173372,"answer_id":25124317,"question_id":886955,"body_markdown":"I prefer to add an explicit &quot;exit&quot; to the loop tests.  It makes it clear to \r\nany casual reader that the loop may terminate early.\r\n\r\n    boolean earlyExit = false;\r\n    for(int i = 0 ; i &lt; 10 &amp;&amp; !earlyExit; i++) {\r\n         for(int j = 0 ; i &lt; 10 &amp;&amp; !earlyExit; j++) { earlyExit = true; }\r\n    }\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>I prefer to add an explicit \"exit\" to the loop tests.  It makes it clear to \nany casual reader that the loop may terminate early.</p>\n\n<pre><code>boolean earlyExit = false;\nfor(int i = 0 ; i &lt; 10 &amp;&amp; !earlyExit; i++) {\n     for(int j = 0 ; i &lt; 10 &amp;&amp; !earlyExit; j++) { earlyExit = true; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213709,"reputation":8276,"user_id":467240,"accept_rate":57,"display_name":"mtyson"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1524241987,"creation_date":1410634817,"answer_id":25826609,"question_id":886955,"body_markdown":"Like @1800 INFORMATION suggestion, use the condition that breaks the inner loop as a condition on the outer loop:\r\n\r\n    boolean hasAccess = false;\r\n    for (int i = 0; i &lt; x &amp;&amp; hasAccess == false; i++){\r\n        for (int j = 0; j &lt; y; j++){\r\n            if (condition == true){\r\n                hasAccess = true;\r\n                break;\r\n            }\r\n        }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<p>Like @1800 INFORMATION suggestion, use the condition that breaks the inner loop as a condition on the outer loop:</p>\n\n<pre><code>boolean hasAccess = false;\nfor (int i = 0; i &lt; x &amp;&amp; hasAccess == false; i++){\n    for (int j = 0; j &lt; y; j++){\n        if (condition == true){\n            hasAccess = true;\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2937730,"reputation":7422,"user_id":2516301,"accept_rate":100,"display_name":"vefthym"},"score":2,"creation_date":1412950154,"post_id":26301177,"comment_id":41271422,"body_markdown":"It has been mentioned actually, in an answer getting -23 votes... http://stackoverflow.com/a/886980/2516301 . It will do the work, but it is a very bad programming practice...","body":"It has been mentioned actually, in an answer getting -23 votes... <a href=\"http://stackoverflow.com/a/886980/2516301\">stackoverflow.com/a/886980/2516301</a> . It will do the work, but it is a very bad programming practice..."},{"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"score":0,"creation_date":1412950958,"post_id":26301177,"comment_id":41271888,"body_markdown":"indeed. however I saw such legacy code - 4-levels nested loops with several breaking conditions. and it was more readable with exceptions rather than with inlined code. -23 votes is mostly emotional rating, but yes - this approach should be used carefully.","body":"indeed. however I saw such legacy code - 4-levels nested loops with several breaking conditions. and it was more readable with exceptions rather than with inlined code. -23 votes is mostly emotional rating, but yes - this approach should be used carefully."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":1,"creation_date":1512175045,"post_id":26301177,"comment_id":82165567,"body_markdown":"It would have been even more readable if it had been broken out into a separate function call with a center-return.  Often made even better by a little refactor so it makes sense as a stand-alone (often reusable) function.","body":"It would have been even more readable if it had been broken out into a separate function call with a center-return.  Often made even better by a little refactor so it makes sense as a stand-alone (often reusable) function."}],"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"comment_count":3,"down_vote_count":6,"up_vote_count":11,"is_accepted":false,"score":5,"last_activity_date":1524246474,"creation_date":1412949450,"answer_id":26301177,"question_id":886955,"body_markdown":"Another one solution, mentioned without example (it actually works in prod code).\r\n\r\n    try {\r\n        for (Type type : types) {\r\n            for (Type t : types2) {\r\n                if (some condition #1) {\r\n                    // Do something and break the loop.\r\n                    throw new BreakLoopException();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    catch (BreakLoopException e) {\r\n        // Do something on look breaking.\r\n    }\r\n\r\nOf course `BreakLoopException` should be internal, private and accelerated with no-stack-trace:\r\n\r\n    private static class BreakLoopException extends Exception {\r\n        @Override\r\n        public StackTraceElement[] getStackTrace() {\r\n            return new StackTraceElement[0];\r\n        }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<p>Another one solution, mentioned without example (it actually works in prod code).</p>\n\n<pre><code>try {\n    for (Type type : types) {\n        for (Type t : types2) {\n            if (some condition #1) {\n                // Do something and break the loop.\n                throw new BreakLoopException();\n            }\n        }\n    }\n}\ncatch (BreakLoopException e) {\n    // Do something on look breaking.\n}\n</code></pre>\n\n<p>Of course <code>BreakLoopException</code> should be internal, private and accelerated with no-stack-trace:</p>\n\n<pre><code>private static class BreakLoopException extends Exception {\n    @Override\n    public StackTraceElement[] getStackTrace() {\n        return new StackTraceElement[0];\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3430964,"reputation":3078,"user_id":2875404,"accept_rate":55,"display_name":"user2875404"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1524241929,"creation_date":1429999266,"answer_id":29871230,"question_id":886955,"body_markdown":"Rather unusual approach but in terms of code length (**not performance**) this is the easiest thing you could do:\r\n\r\n    for(int i = 0; i++; i &lt; j) {\r\n        if(wanna exit) {\r\n            i = i + j; // if more nested, also add the \r\n                       // maximum value for the other loops\r\n        }\r\n    }\r\n","title":"How do I break out of nested loops in Java?","body":"<p>Rather unusual approach but in terms of code length (<strong>not performance</strong>) this is the easiest thing you could do:</p>\n\n<pre><code>for(int i = 0; i++; i &lt; j) {\n    if(wanna exit) {\n        i = i + j; // if more nested, also add the \n                   // maximum value for the other loops\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5397431,"reputation":5255,"user_id":4298200,"accept_rate":62,"display_name":"Neuron"},"score":6,"creation_date":1445828703,"post_id":32171521,"comment_id":54472286,"body_markdown":"These examples of breaking are imho not very helpful, because even without the label they would break at the same point. Also it&#39;s always nice to have code which you can actually execute, which is not the case with your code, since the innerloop can never be reached..","body":"These examples of breaking are imho not very helpful, because even without the label they would break at the same point. Also it&#39;s always nice to have code which you can actually execute, which is not the case with your code, since the innerloop can never be reached.."},{"owner":{"account_id":7458238,"reputation":6066,"user_id":5670752,"display_name":"Taslim Oseni"},"score":0,"creation_date":1515753402,"post_id":32171521,"comment_id":83430358,"body_markdown":"I was going to type the same thing. The labels are somewhat useless in this case.","body":"I was going to type the same thing. The labels are somewhat useless in this case."}],"tags":[],"owner":{"account_id":6828915,"reputation":130,"user_id":5253714,"display_name":"Keshav bansal"},"comment_count":2,"down_vote_count":3,"up_vote_count":8,"is_accepted":false,"score":5,"last_activity_date":1524241893,"creation_date":1440363880,"answer_id":32171521,"question_id":886955,"body_markdown":"Best and Easy Method..\r\n\r\n    outerloop:\r\n    for(int i=0; i&lt;10; i++){\r\n        // here we can break Outer loop by \r\n        break outerloop;\r\n\r\n        innerloop:\r\n        for(int i=0; i&lt;10; i++){\r\n            // here we can break innerloop by \r\n            break innerloop;\r\n         }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<p>Best and Easy Method..</p>\n\n<pre><code>outerloop:\nfor(int i=0; i&lt;10; i++){\n    // here we can break Outer loop by \n    break outerloop;\n\n    innerloop:\n    for(int i=0; i&lt;10; i++){\n        // here we can break innerloop by \n        break innerloop;\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1563693087,"creation_date":1454007235,"answer_id":35069676,"question_id":886955,"body_markdown":"Usually in such cases, it is coming in scope of more meaningful logic, let&#39;s say some searching or manipulating over some of the iterated &#39;for&#39;-objects in question, so I usually use the functional approach:\r\n\r\n    public Object searching(Object[] types) { // Or manipulating\r\n        List&lt;Object&gt; typesReferences = new ArrayList&lt;Object&gt;();\r\n        List&lt;Object&gt; typesReferences2 = new ArrayList&lt;Object&gt;();\r\n\r\n        for (Object type : typesReferences) {\r\n            Object o = getByCriterion(typesReferences2, type);\r\n            if(o != null) return o;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private Object getByCriterion(List&lt;Object&gt; typesReferences2, Object criterion) {\r\n        for (Object typeReference : typesReferences2) {\r\n            if(typeReference.equals(criterion)) {\r\n                 // here comes other complex or specific logic || typeReference.equals(new Object())\r\n                 return typeReference;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\nMajor cons:\r\n\r\n - roughly twice more lines\r\n - more consumption of computing cycles, meaning it is slower from algorithmic point-of-view\r\n - more typing work\r\n\r\nThe pros:\r\n\r\n - the higher ratio to separation of concerns because of functional granularity\r\n - the higher ratio of re-usability and control of\r\n   searching/manipulating logic without\r\n - the methods are not long, thus they are more compact and easier to comprehend\r\n - higher ratio of readability\r\n\r\nSo it is just handling the case via a different approach.\r\n\r\nBasically a question to the author of this question: what do you consider of this approach?\r\n","title":"How do I break out of nested loops in Java?","body":"<p>Usually in such cases, it is coming in scope of more meaningful logic, let's say some searching or manipulating over some of the iterated 'for'-objects in question, so I usually use the functional approach:</p>\n\n<pre><code>public Object searching(Object[] types) { // Or manipulating\n    List&lt;Object&gt; typesReferences = new ArrayList&lt;Object&gt;();\n    List&lt;Object&gt; typesReferences2 = new ArrayList&lt;Object&gt;();\n\n    for (Object type : typesReferences) {\n        Object o = getByCriterion(typesReferences2, type);\n        if(o != null) return o;\n    }\n    return null;\n}\n\nprivate Object getByCriterion(List&lt;Object&gt; typesReferences2, Object criterion) {\n    for (Object typeReference : typesReferences2) {\n        if(typeReference.equals(criterion)) {\n             // here comes other complex or specific logic || typeReference.equals(new Object())\n             return typeReference;\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>Major cons:</p>\n\n<ul>\n<li>roughly twice more lines</li>\n<li>more consumption of computing cycles, meaning it is slower from algorithmic point-of-view</li>\n<li>more typing work</li>\n</ul>\n\n<p>The pros:</p>\n\n<ul>\n<li>the higher ratio to separation of concerns because of functional granularity</li>\n<li>the higher ratio of re-usability and control of\nsearching/manipulating logic without</li>\n<li>the methods are not long, thus they are more compact and easier to comprehend</li>\n<li>higher ratio of readability</li>\n</ul>\n\n<p>So it is just handling the case via a different approach.</p>\n\n<p>Basically a question to the author of this question: what do you consider of this approach?</p>\n"},{"comments":[{"owner":{"account_id":8396,"reputation":24329,"user_id":15108,"accept_rate":89,"display_name":"boutta"},"score":11,"creation_date":1459492969,"post_id":36341074,"comment_id":60320043,"body_markdown":"Using Exceptions for control flow is not exactly a best practice. So, no it is no option.","body":"Using Exceptions for control flow is not exactly a best practice. So, no it is no option."},{"owner":{"account_id":5397431,"reputation":5255,"user_id":4298200,"accept_rate":62,"display_name":"Neuron"},"score":0,"creation_date":1524241802,"post_id":36341074,"comment_id":86908517,"body_markdown":"@boutta what makes you think so?","body":"@boutta what makes you think so?"},{"owner":{"account_id":8396,"reputation":24329,"user_id":15108,"accept_rate":89,"display_name":"boutta"},"score":1,"creation_date":1524403129,"post_id":36341074,"comment_id":86948317,"body_markdown":"Lots of reading and the opinion of some widely trusted people like uncle Bob oder Martin Fowler.","body":"Lots of reading and the opinion of some widely trusted people like uncle Bob oder Martin Fowler."},{"owner":{"account_id":1918019,"reputation":11847,"user_id":1730172,"accept_rate":95,"display_name":"Alvaro"},"score":0,"creation_date":1556544607,"post_id":36341074,"comment_id":98464375,"body_markdown":"I know this question is for java specifically but some people have made the decision to do this _in the language design_, this is exactly what python&#39;s `StopIteration` is for","body":"I know this question is for java specifically but some people have made the decision to do this <i>in the language design</i>, this is exactly what python&#39;s <code>StopIteration</code> is for"}],"tags":[],"owner":{"account_id":400676,"reputation":463,"user_id":766778,"accept_rate":78,"display_name":"Dhawan Gayash"},"comment_count":4,"down_vote_count":14,"up_vote_count":4,"is_accepted":false,"score":-10,"last_activity_date":1546680537,"creation_date":1459449194,"answer_id":36341074,"question_id":886955,"body_markdown":"I feel using labels makes the code seem very much like a goto statement. This is just a thought.\r\n\r\nInstead, throw an exception at the inner `for` loop and encapsulate the two `for` loops with a try catch block.\r\n\r\nSomething like\r\n\r\n    try {\r\n      // ...\r\n      for(Object outerForLoop : objectsOuter) {\r\n         // ...\r\n         for (Object innerForLoop : objectsInner) {\r\n            // ...\r\n            if (isConditionTrue)\r\n                 throw new WrappedException(&quot;With some useful message. Probably some logging as well.&quot;);\r\n         }\r\n      }\r\n      catch (WrappedException) {\r\n            // Do something awesome or just don&#39;t do anything to swallow the exception.\r\n      }\r\n\r\nJust a thought. I prefer this code since it gives me better loggability (like that&#39;s a word) for me when this is being run in production or something.\r\n","title":"How do I break out of nested loops in Java?","body":"<p>I feel using labels makes the code seem very much like a goto statement. This is just a thought.</p>\n\n<p>Instead, throw an exception at the inner <code>for</code> loop and encapsulate the two <code>for</code> loops with a try catch block.</p>\n\n<p>Something like</p>\n\n<pre><code>try {\n  // ...\n  for(Object outerForLoop : objectsOuter) {\n     // ...\n     for (Object innerForLoop : objectsInner) {\n        // ...\n        if (isConditionTrue)\n             throw new WrappedException(\"With some useful message. Probably some logging as well.\");\n     }\n  }\n  catch (WrappedException) {\n        // Do something awesome or just don't do anything to swallow the exception.\n  }\n</code></pre>\n\n<p>Just a thought. I prefer this code since it gives me better loggability (like that's a word) for me when this is being run in production or something.</p>\n"},{"tags":[],"owner":{"account_id":5694623,"reputation":6528,"user_id":4501480,"accept_rate":55,"display_name":"Vikrant Kashyap"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524241711,"creation_date":1460089798,"answer_id":36491552,"question_id":886955,"body_markdown":"   `for (int j = 0; j &lt; 5; j++) //inner loop ` should be replaced with \r\n    `for (int j = 0; j &lt; 5 &amp;&amp; !exitloops; j++)`.\r\n\r\nHere, in this case complete nested loops should be exit if condition is `True` . But if we use  `exitloops` only to the upper `loop` \r\n          \r\n     for (int i = 0; i &lt; 5 &amp;&amp; !exitloops; i++) //upper loop\r\nThen inner loop will continues, because there is no extra flag that notify this inner loop to exit. \r\n&gt;Example : if `i = 3` and `j=2` then condition is `false`.  But in next iteration of inner loop `j=3`  then condition `(i*j)` become `9` which is `true` but inner loop will be continue till `j` become `5`.\r\n\r\nSo, it must use `exitloops` to the inner loops too.\r\n\r\n    boolean exitloops = false;\r\n\tfor (int i = 0; i &lt; 5 &amp;&amp; !exitloops; i++) { //here should exitloops as a Conditional Statement to get out from the loops if exitloops become true. \r\n        for (int j = 0; j &lt; 5 &amp;&amp; !exitloops; j++) { //here should also use exitloops as a Conditional Statement. \r\n            if (i * j &gt; 6) {\r\n                exitloops = true;\r\n                System.out.println(&quot;Inner loop still Continues For i * j is =&gt; &quot;+i*j);\r\n                break;\r\n            }\r\n            System.out.println(i*j);\r\n        }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<p><code>for (int j = 0; j &lt; 5; j++) //inner loop</code> should be replaced with \n    <code>for (int j = 0; j &lt; 5 &amp;&amp; !exitloops; j++)</code>.</p>\n\n<p>Here, in this case complete nested loops should be exit if condition is <code>True</code> . But if we use  <code>exitloops</code> only to the upper <code>loop</code> </p>\n\n<pre><code> for (int i = 0; i &lt; 5 &amp;&amp; !exitloops; i++) //upper loop\n</code></pre>\n\n<p>Then inner loop will continues, because there is no extra flag that notify this inner loop to exit. </p>\n\n<blockquote>\n  <p>Example : if <code>i = 3</code> and <code>j=2</code> then condition is <code>false</code>.  But in next iteration of inner loop <code>j=3</code>  then condition <code>(i*j)</code> become <code>9</code> which is <code>true</code> but inner loop will be continue till <code>j</code> become <code>5</code>.</p>\n</blockquote>\n\n<p>So, it must use <code>exitloops</code> to the inner loops too.</p>\n\n<pre><code>boolean exitloops = false;\nfor (int i = 0; i &lt; 5 &amp;&amp; !exitloops; i++) { //here should exitloops as a Conditional Statement to get out from the loops if exitloops become true. \n    for (int j = 0; j &lt; 5 &amp;&amp; !exitloops; j++) { //here should also use exitloops as a Conditional Statement. \n        if (i * j &gt; 6) {\n            exitloops = true;\n            System.out.println(\"Inner loop still Continues For i * j is =&gt; \"+i*j);\n            break;\n        }\n        System.out.println(i*j);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1512174841,"post_id":39143991,"comment_id":82165536,"body_markdown":"I prefer this pattern.  It has often caused me to break out the loops into a separate function.  My code has always been better after doing so, so for this reason I really like this answer.","body":"I prefer this pattern.  It has often caused me to break out the loops into a separate function.  My code has always been better after doing so, so for this reason I really like this answer."}],"tags":[],"owner":{"account_id":7006242,"reputation":840,"user_id":5370518,"accept_rate":94,"display_name":"Chit Khine"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1472124358,"creation_date":1472124358,"answer_id":39143991,"question_id":886955,"body_markdown":"If it is inside some function why don&#39;t you just return it: \r\n\r\n    for (Type type : types) {\r\n        for (Type t : types2) {\r\n             if (some condition) {\r\n                return value;\r\n             }\r\n        }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<p>If it is inside some function why don't you just return it: </p>\n\n<pre><code>for (Type type : types) {\n    for (Type t : types2) {\n         if (some condition) {\n            return value;\n         }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8210379,"reputation":41,"user_id":6178741,"display_name":"Dharmik Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524241695,"creation_date":1490319821,"answer_id":42990008,"question_id":886955,"body_markdown":"For some cases, We can use ```while``` loop effectively here.\r\n\r\n\r\n    Random rand = new Random();\r\n    // Just an example\r\n    for (int k = 0; k &lt; 10; ++k) {\r\n        int count = 0;\r\n        while (!(rand.nextInt(200) == 100)) {\r\n           count++;\r\n        }\r\n                   \r\n        results[k] = count;\r\n    }\r\n","title":"How do I break out of nested loops in Java?","body":"<p>For some cases, We can use <code>while</code> loop effectively here.</p>\n\n<pre><code>Random rand = new Random();\n// Just an example\nfor (int k = 0; k &lt; 10; ++k) {\n    int count = 0;\n    while (!(rand.nextInt(200) == 100)) {\n       count++;\n    }\n\n    results[k] = count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3412746,"reputation":2578,"user_id":2862341,"display_name":"Ravindra HV"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546680713,"creation_date":1491076447,"answer_id":43161331,"question_id":886955,"body_markdown":"If it&#39;s a new implementation, you can try rewriting the logic as if-else_if-else statements.\r\n\r\n    while(keep_going) {\r\n\r\n        if(keep_going &amp;&amp; condition_one_holds) {\r\n            // Code\r\n        }\r\n        if(keep_going &amp;&amp; condition_two_holds) {\r\n            // Code\r\n        }\r\n        if(keep_going &amp;&amp; condition_three_holds) {\r\n            // Code\r\n        }\r\n        if(keep_going &amp;&amp; something_goes_really_bad) {\r\n            keep_going=false;\r\n        }\r\n        if(keep_going &amp;&amp; condition_four_holds) {\r\n            // Code\r\n        }\r\n        if(keep_going &amp;&amp; condition_five_holds) {\r\n            // Code\r\n        }\r\n    }\r\n\r\nOtherwise you can try setting a flag when that special condition has occured and check for that flag in each of your loop-conditions.\r\n\r\n    something_bad_has_happened = false;\r\n    while(something is true &amp;&amp; !something_bad_has_happened){\r\n        // Code, things happen\r\n        while(something else &amp;&amp; !something_bad_has_happened){\r\n            // Lots of code, things happens\r\n            if(something happened){\r\n                -&gt; Then control should be returned -&gt;\r\n                something_bad_has_happened=true;\r\n                continue;\r\n            }\r\n        }\r\n        if(something_bad_has_happened) { // The things below will not be executed\r\n            continue;\r\n        }\r\n\r\n        // Other things may happen here as well, but they will not be executed\r\n        //  once control is returned from the inner cycle.\r\n    }\r\n\r\nHERE! So, while a simple break will not work, it can be made to work using `continue`.\r\n\r\nIf you are simply porting the logic from one programming language to Java and just want to get the thing working you can try using [labels][2].\r\n\r\n  [1]: https://stackoverflow.com/questions/43161032/any-ways-to-multi-break-out-from-embedded-cycles-in-java\r\n  [2]: https://stackoverflow.com/questions/26430630/how-to-use-goto-statement-correctly\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>If it's a new implementation, you can try rewriting the logic as if-else_if-else statements.</p>\n\n<pre><code>while(keep_going) {\n\n    if(keep_going &amp;&amp; condition_one_holds) {\n        // Code\n    }\n    if(keep_going &amp;&amp; condition_two_holds) {\n        // Code\n    }\n    if(keep_going &amp;&amp; condition_three_holds) {\n        // Code\n    }\n    if(keep_going &amp;&amp; something_goes_really_bad) {\n        keep_going=false;\n    }\n    if(keep_going &amp;&amp; condition_four_holds) {\n        // Code\n    }\n    if(keep_going &amp;&amp; condition_five_holds) {\n        // Code\n    }\n}\n</code></pre>\n\n<p>Otherwise you can try setting a flag when that special condition has occured and check for that flag in each of your loop-conditions.</p>\n\n<pre><code>something_bad_has_happened = false;\nwhile(something is true &amp;&amp; !something_bad_has_happened){\n    // Code, things happen\n    while(something else &amp;&amp; !something_bad_has_happened){\n        // Lots of code, things happens\n        if(something happened){\n            -&gt; Then control should be returned -&gt;\n            something_bad_has_happened=true;\n            continue;\n        }\n    }\n    if(something_bad_has_happened) { // The things below will not be executed\n        continue;\n    }\n\n    // Other things may happen here as well, but they will not be executed\n    //  once control is returned from the inner cycle.\n}\n</code></pre>\n\n<p>HERE! So, while a simple break will not work, it can be made to work using <code>continue</code>.</p>\n\n<p>If you are simply porting the logic from one programming language to Java and just want to get the thing working you can try using <a href=\"https://stackoverflow.com/questions/26430630/how-to-use-goto-statement-correctly\">labels</a>.</p>\n"},{"tags":[],"owner":{"account_id":3188586,"reputation":1268,"user_id":2693502,"display_name":"Bill"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1546680903,"creation_date":1493883673,"answer_id":43776772,"question_id":886955,"body_markdown":"Demo for `break`, `continue`, and `label`:\r\n\r\nJava keywords `break` and `continue` have a default value. It&#39;s the &quot;nearest loop&quot;, and today, after a few years of using Java, I just got it!\r\n\r\nIt&#39;s seem used rare, but useful.\r\n\r\n    import org.junit.Test;\r\n\r\n    /**\r\n     * Created by cui on 17-5-4.\r\n     */\r\n\r\n    public class BranchLabel {\r\n        @Test\r\n        public void test() {\r\n            System.out.println(&quot;testBreak&quot;);\r\n            testBreak();\r\n\r\n            System.out.println(&quot;testBreakLabel&quot;);\r\n            testBreakLabel();\r\n\r\n            System.out.println(&quot;testContinue&quot;);\r\n            testContinue();\r\n            System.out.println(&quot;testContinueLabel&quot;);\r\n            testContinueLabel();\r\n        }\r\n\r\n        /**\r\n         testBreak\r\n         a=0,b=0\r\n         a=0,b=1\r\n         a=1,b=0\r\n         a=1,b=1\r\n         a=2,b=0\r\n         a=2,b=1\r\n         a=3,b=0\r\n         a=3,b=1\r\n         a=4,b=0\r\n         a=4,b=1\r\n         */\r\n        public void testBreak() {\r\n            for (int a = 0; a &lt; 5; a++) {\r\n                for (int b = 0; b &lt; 5; b++) {\r\n                    if (b == 2) {\r\n                        break;\r\n                    }\r\n                    System.out.println(&quot;a=&quot; + a + &quot;,b=&quot; + b);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         testContinue\r\n         a=0,b=0\r\n         a=0,b=1\r\n         a=0,b=3\r\n         a=0,b=4\r\n         a=1,b=0\r\n         a=1,b=1\r\n         a=1,b=3\r\n         a=1,b=4\r\n         a=2,b=0\r\n         a=2,b=1\r\n         a=2,b=3\r\n         a=2,b=4\r\n         a=3,b=0\r\n         a=3,b=1\r\n         a=3,b=3\r\n         a=3,b=4\r\n         a=4,b=0\r\n         a=4,b=1\r\n         a=4,b=3\r\n         a=4,b=4\r\n         */\r\n        public void testContinue() {\r\n            for (int a = 0; a &lt; 5; a++) {\r\n                for (int b = 0; b &lt; 5; b++) {\r\n                    if (b == 2) {\r\n                        continue;\r\n                    }\r\n                    System.out.println(&quot;a=&quot; + a + &quot;,b=&quot; + b);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         testBreakLabel\r\n         a=0,b=0,c=0\r\n         a=0,b=0,c=1\r\n         * */\r\n        public void testBreakLabel() {\r\n            anyName:\r\n            for (int a = 0; a &lt; 5; a++) {\r\n                for (int b = 0; b &lt; 5; b++) {\r\n                    for (int c = 0; c &lt; 5; c++) {\r\n                        if (c == 2) {\r\n                            break anyName;\r\n                        }\r\n                        System.out.println(&quot;a=&quot; + a + &quot;,b=&quot; + b + &quot;,c=&quot; + c);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         testContinueLabel\r\n         a=0,b=0,c=0\r\n         a=0,b=0,c=1\r\n         a=1,b=0,c=0\r\n         a=1,b=0,c=1\r\n         a=2,b=0,c=0\r\n         a=2,b=0,c=1\r\n         a=3,b=0,c=0\r\n         a=3,b=0,c=1\r\n         a=4,b=0,c=0\r\n         a=4,b=0,c=1\r\n         */\r\n        public void testContinueLabel() {\r\n            anyName:\r\n            for (int a = 0; a &lt; 5; a++) {\r\n                for (int b = 0; b &lt; 5; b++) {\r\n                    for (int c = 0; c &lt; 5; c++) {\r\n                        if (c == 2) {\r\n                            continue anyName;\r\n                        }\r\n                        System.out.println(&quot;a=&quot; + a + &quot;,b=&quot; + b + &quot;,c=&quot; + c);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>Demo for <code>break</code>, <code>continue</code>, and <code>label</code>:</p>\n\n<p>Java keywords <code>break</code> and <code>continue</code> have a default value. It's the \"nearest loop\", and today, after a few years of using Java, I just got it!</p>\n\n<p>It's seem used rare, but useful.</p>\n\n<pre><code>import org.junit.Test;\n\n/**\n * Created by cui on 17-5-4.\n */\n\npublic class BranchLabel {\n    @Test\n    public void test() {\n        System.out.println(\"testBreak\");\n        testBreak();\n\n        System.out.println(\"testBreakLabel\");\n        testBreakLabel();\n\n        System.out.println(\"testContinue\");\n        testContinue();\n        System.out.println(\"testContinueLabel\");\n        testContinueLabel();\n    }\n\n    /**\n     testBreak\n     a=0,b=0\n     a=0,b=1\n     a=1,b=0\n     a=1,b=1\n     a=2,b=0\n     a=2,b=1\n     a=3,b=0\n     a=3,b=1\n     a=4,b=0\n     a=4,b=1\n     */\n    public void testBreak() {\n        for (int a = 0; a &lt; 5; a++) {\n            for (int b = 0; b &lt; 5; b++) {\n                if (b == 2) {\n                    break;\n                }\n                System.out.println(\"a=\" + a + \",b=\" + b);\n            }\n        }\n    }\n\n    /**\n     testContinue\n     a=0,b=0\n     a=0,b=1\n     a=0,b=3\n     a=0,b=4\n     a=1,b=0\n     a=1,b=1\n     a=1,b=3\n     a=1,b=4\n     a=2,b=0\n     a=2,b=1\n     a=2,b=3\n     a=2,b=4\n     a=3,b=0\n     a=3,b=1\n     a=3,b=3\n     a=3,b=4\n     a=4,b=0\n     a=4,b=1\n     a=4,b=3\n     a=4,b=4\n     */\n    public void testContinue() {\n        for (int a = 0; a &lt; 5; a++) {\n            for (int b = 0; b &lt; 5; b++) {\n                if (b == 2) {\n                    continue;\n                }\n                System.out.println(\"a=\" + a + \",b=\" + b);\n            }\n        }\n    }\n\n    /**\n     testBreakLabel\n     a=0,b=0,c=0\n     a=0,b=0,c=1\n     * */\n    public void testBreakLabel() {\n        anyName:\n        for (int a = 0; a &lt; 5; a++) {\n            for (int b = 0; b &lt; 5; b++) {\n                for (int c = 0; c &lt; 5; c++) {\n                    if (c == 2) {\n                        break anyName;\n                    }\n                    System.out.println(\"a=\" + a + \",b=\" + b + \",c=\" + c);\n                }\n            }\n        }\n    }\n\n    /**\n     testContinueLabel\n     a=0,b=0,c=0\n     a=0,b=0,c=1\n     a=1,b=0,c=0\n     a=1,b=0,c=1\n     a=2,b=0,c=0\n     a=2,b=0,c=1\n     a=3,b=0,c=0\n     a=3,b=0,c=1\n     a=4,b=0,c=0\n     a=4,b=0,c=1\n     */\n    public void testContinueLabel() {\n        anyName:\n        for (int a = 0; a &lt; 5; a++) {\n            for (int b = 0; b &lt; 5; b++) {\n                for (int c = 0; c &lt; 5; c++) {\n                    if (c == 2) {\n                        continue anyName;\n                    }\n                    System.out.println(\"a=\" + a + \",b=\" + b + \",c=\" + c);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10201069,"reputation":5579,"user_id":8625512,"accept_rate":100,"display_name":"Andrei Suvorkov"},"score":1,"creation_date":1555389166,"post_id":45127457,"comment_id":98082688,"body_markdown":"@Tvde1 and still useful for other users, so new methods and solutions are always welcome","body":"@Tvde1 and still useful for other users, so new methods and solutions are always welcome"}],"tags":[],"owner":{"account_id":7667256,"reputation":3111,"user_id":5810648,"accept_rate":75,"display_name":"Ihor Rybak"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1524246418,"creation_date":1500200666,"answer_id":45127457,"question_id":886955,"body_markdown":"Java 8 [`Stream`][1] solution:\r\n\r\n    List&lt;Type&gt; types1 = ...\r\n    List&lt;Type&gt; types2 = ...\r\n    \r\n    types1.stream()\r\n          .flatMap(type1 -&gt; types2.stream().map(type2 -&gt; new Type[]{type1, type2}))\r\n          .filter(types -&gt; /**some condition**/)\r\n          .findFirst()\r\n          .ifPresent(types -&gt; /**do something**/);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/?java/util/stream/Stream.html","title":"How do I break out of nested loops in Java?","body":"<p>Java 8 <a href=\"https://docs.oracle.com/javase/8/docs/api/?java/util/stream/Stream.html\" rel=\"noreferrer\"><code>Stream</code></a> solution:</p>\n\n<pre><code>List&lt;Type&gt; types1 = ...\nList&lt;Type&gt; types2 = ...\n\ntypes1.stream()\n      .flatMap(type1 -&gt; types2.stream().map(type2 -&gt; new Type[]{type1, type2}))\n      .filter(types -&gt; /**some condition**/)\n      .findFirst()\n      .ifPresent(types -&gt; /**do something**/);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7907855,"reputation":1079,"user_id":5972784,"accept_rate":0,"display_name":"Siddharth Choudhary"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1524241608,"creation_date":1505799711,"answer_id":46292644,"question_id":886955,"body_markdown":"You can do the following:\r\n\r\n1. set a local variable to `false`\r\n \r\n2. set that variable `true` in the first loop, when you want to break\r\n    \r\n3. then you can check in the outer loop, that whether the condition is set then break from the outer loop as well.\r\n\r\n        boolean isBreakNeeded = false;\r\n        for (int i = 0; i &lt; some.length; i++) {\r\n            for (int j = 0; j &lt; some.lengthasWell; j++) {\r\n        \t    //want to set variable if (){\r\n        \t\tisBreakNeeded = true;\r\n        \t\tbreak;\r\n        \t}\r\n        \t\t\t\t\r\n        \tif (isBreakNeeded) {\r\n        \t\tbreak; //will make you break from the outer loop as well\r\n        \t}\r\n        }\r\n","title":"How do I break out of nested loops in Java?","body":"<p>You can do the following:</p>\n\n<ol>\n<li><p>set a local variable to <code>false</code></p></li>\n<li><p>set that variable <code>true</code> in the first loop, when you want to break</p></li>\n<li><p>then you can check in the outer loop, that whether the condition is set then break from the outer loop as well.</p>\n\n<pre><code>boolean isBreakNeeded = false;\nfor (int i = 0; i &lt; some.length; i++) {\n    for (int j = 0; j &lt; some.lengthasWell; j++) {\n        //want to set variable if (){\n        isBreakNeeded = true;\n        break;\n    }\n\n    if (isBreakNeeded) {\n        break; //will make you break from the outer loop as well\n    }\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6060889,"reputation":111,"user_id":4732645,"display_name":"Harsh Vardhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533383984,"creation_date":1533382715,"answer_id":51685197,"question_id":886955,"body_markdown":"Java does not have a goto feature like there is in C++. But still, `goto` is a reserved keyword in Java. They might implement it in the future. For your question, the answer is that there is something called label in Java to which you can apply a `continue` and `break` statement. Find the code below:\r\n\r\n    public static void main(String ...args) {\r\n        outerLoop: for(int i=0;i&lt;10;i++) {\r\n        for(int j=10;j&gt;0;j--) {\r\n            System.out.println(i+&quot; &quot;+j);\r\n            if(i==j) {\r\n                System.out.println(&quot;Condition Fulfilled&quot;);\r\n                break outerLoop;\r\n            }\r\n        }\r\n        }\r\n        System.out.println(&quot;Got out of the outer loop&quot;);\r\n    }\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>Java does not have a goto feature like there is in C++. But still, <code>goto</code> is a reserved keyword in Java. They might implement it in the future. For your question, the answer is that there is something called label in Java to which you can apply a <code>continue</code> and <code>break</code> statement. Find the code below:</p>\n\n<pre><code>public static void main(String ...args) {\n    outerLoop: for(int i=0;i&lt;10;i++) {\n    for(int j=10;j&gt;0;j--) {\n        System.out.println(i+\" \"+j);\n        if(i==j) {\n            System.out.println(\"Condition Fulfilled\");\n            break outerLoop;\n        }\n    }\n    }\n    System.out.println(\"Got out of the outer loop\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10897577,"reputation":1704,"user_id":8010985,"display_name":"Bishal Jaiswal"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1554372917,"creation_date":1554372917,"answer_id":55513397,"question_id":886955,"body_markdown":"**Labeled break** concept is used to break out nested loops in java, by using labeled break you can break nesting of loops at any position. \r\nExample 1:\r\n\r\n    loop1:\r\n     for(int i= 0; i&lt;6; i++){\r\n        for(int j=0; j&lt;5; j++){\r\n              if(i==3)\r\n                break loop1;\r\n            }\r\n        }\r\n\r\nsuppose there are 3 loops and you want to terminate the loop3:\r\nExample 2:\r\n\r\n    loop3: \r\n    for(int i= 0; i&lt;6; i++){\r\n    loop2:\r\n      for(int k= 0; k&lt;6; k++){\r\n    loop1:\r\n        for(int j=0; j&lt;5; j++){\r\n              if(i==3)\r\n                break loop3;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p><strong>Labeled break</strong> concept is used to break out nested loops in java, by using labeled break you can break nesting of loops at any position. \nExample 1:</p>\n\n<pre><code>loop1:\n for(int i= 0; i&lt;6; i++){\n    for(int j=0; j&lt;5; j++){\n          if(i==3)\n            break loop1;\n        }\n    }\n</code></pre>\n\n<p>suppose there are 3 loops and you want to terminate the loop3:\nExample 2:</p>\n\n<pre><code>loop3: \nfor(int i= 0; i&lt;6; i++){\nloop2:\n  for(int k= 0; k&lt;6; k++){\nloop1:\n    for(int j=0; j&lt;5; j++){\n          if(i==3)\n            break loop3;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10411975,"reputation":595,"user_id":7677111,"display_name":"Deb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557310832,"creation_date":1557310832,"answer_id":56038465,"question_id":886955,"body_markdown":"Below is an example where &quot;break&quot; statement pushes the cursor out of the for loop whenever the condition is met.\r\n\r\n    public class Practice3_FindDuplicateNumber {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tInteger[] inp = { 2, 3, 4, 3, 3 };\r\n    \t\tInteger[] aux_arr = new Integer[inp.length];\r\n    \t\tboolean isduplicate = false;\r\n    \t\tfor (int i = 0; i &lt; aux_arr.length; i++) {\r\n    \r\n    \t\t\taux_arr[i] = -1;\r\n    \r\n    \t\t}\r\n    \t\touter: for (int i = 0; i &lt; inp.length; i++) {\r\n    \t\t\tif (aux_arr[inp[i]] == -200) {\r\n    \t\t\t\tSystem.out.println(&quot;Duplicate Found at index: &quot; + i + &quot; Carrying value: &quot; + inp[i]);\r\n    \t\t\t\tisduplicate = true;\r\n    \t\t\t\tbreak outer;\r\n    \t\t\t} else {\r\n    \t\t\t\taux_arr[inp[i]] = -200;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tfor (Integer integer : aux_arr) {\r\n    \t\t\tSystem.out.println(integer);\r\n    \t\t}\r\n    \r\n    \t\tif (isduplicate == false) {\r\n    \t\t\tSystem.out.println(&quot;No Duplicates!!!!!&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Duplicates!!!!!&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>Below is an example where \"break\" statement pushes the cursor out of the for loop whenever the condition is met.</p>\n\n<pre><code>public class Practice3_FindDuplicateNumber {\n\n    public static void main(String[] args) {\n        Integer[] inp = { 2, 3, 4, 3, 3 };\n        Integer[] aux_arr = new Integer[inp.length];\n        boolean isduplicate = false;\n        for (int i = 0; i &lt; aux_arr.length; i++) {\n\n            aux_arr[i] = -1;\n\n        }\n        outer: for (int i = 0; i &lt; inp.length; i++) {\n            if (aux_arr[inp[i]] == -200) {\n                System.out.println(\"Duplicate Found at index: \" + i + \" Carrying value: \" + inp[i]);\n                isduplicate = true;\n                break outer;\n            } else {\n                aux_arr[inp[i]] = -200;\n            }\n        }\n\n        for (Integer integer : aux_arr) {\n            System.out.println(integer);\n        }\n\n        if (isduplicate == false) {\n            System.out.println(\"No Duplicates!!!!!\");\n        } else {\n            System.out.println(\"Duplicates!!!!!\");\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12511931,"reputation":3963,"user_id":9106684,"display_name":"duyuanchao"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1566821493,"creation_date":1566821493,"answer_id":57657716,"question_id":886955,"body_markdown":"**Demo**\r\n\r\n    public static void main(String[] args) {\r\n        outer:\r\n        while (true) {\r\n            while (true) {\r\n                break outer;\r\n            }\r\n        }\r\n    }","title":"How do I break out of nested loops in Java?","body":"<p><strong>Demo</strong></p>\n\n<pre><code>public static void main(String[] args) {\n    outer:\n    while (true) {\n        while (true) {\n            break outer;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11178690,"reputation":8617,"user_id":8203357,"display_name":"Kiran Maniya"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1568979609,"creation_date":1568979609,"answer_id":58027674,"question_id":886955,"body_markdown":"It&#39;s fairly easy to use `label`, You can break the outer loop from inner loop using the label, Consider the example below,\r\n```\r\npublic class Breaking{\r\n    public static void main(String[] args) {\r\n        outerscope:\r\n        for (int i=0; i &lt; 5; i++) {\r\n            for (int j=0; j &lt; 5; j++) {\r\n                if (condition) {\r\n                    break outerscope;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nAnother approach is to use the breaking variable/flag to keep track of required break. consider the following example.\r\n```\r\npublic class Breaking{ \r\n    public static void main(String[] args) {\r\n        boolean isBreaking = false;\r\n        for (int i=0; i &lt; 5; i++) {\r\n            for (int j=0; j &lt; 5; j++) {\r\n                if (condition) {\r\n                    isBreaking = true;\r\n                    break;\r\n                }\r\n            }\r\n            if(isBreaking){\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nHowever, I prefer using the first approach.","title":"How do I break out of nested loops in Java?","body":"<p>It's fairly easy to use <code>label</code>, You can break the outer loop from inner loop using the label, Consider the example below,</p>\n\n<pre><code>public class Breaking{\n    public static void main(String[] args) {\n        outerscope:\n        for (int i=0; i &lt; 5; i++) {\n            for (int j=0; j &lt; 5; j++) {\n                if (condition) {\n                    break outerscope;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Another approach is to use the breaking variable/flag to keep track of required break. consider the following example.</p>\n\n<pre><code>public class Breaking{ \n    public static void main(String[] args) {\n        boolean isBreaking = false;\n        for (int i=0; i &lt; 5; i++) {\n            for (int j=0; j &lt; 5; j++) {\n                if (condition) {\n                    isBreaking = true;\n                    break;\n                }\n            }\n            if(isBreaking){\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>However, I prefer using the first approach.</p>\n"},{"tags":[],"owner":{"account_id":15282082,"reputation":704,"user_id":11026123,"display_name":"RusJaI"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1602925870,"creation_date":1602925379,"answer_id":64400751,"question_id":886955,"body_markdown":"Using &#39;break&#39; keyword alone is not the appropriate way when you need to exit from more than one loops.\r\nYou can exit from immediate loop\r\nNo matter with how many loops your statement is surrounded with.\r\nYou can use &#39;break&#39; with a label!\r\nHere I&#39;ve used the label &quot;abc&quot;\r\nYou can write your code as following, within any function in Java\r\n\r\nThis code shows how to exit from the most outer loop\r\n\r\n     abc: \r\n        for (int i = 0; i &lt; 10; i++) { \r\n            for (int j = 0; j &lt; 10; j++) { \r\n               for (int k = 0; k &lt; 10; k++) { \r\n                  if (k == 1){\r\n                     break abc;\r\n                  } \r\n            } \r\n        } \r\n    }\r\n\r\nAlso you can use break statement to exit from any loop in a nested loop.\r\n \r\n        for (int i = 0; i &lt; 10; i++) { \r\n           abc:for (int j = 0; j &lt; 10; j++) { \r\n               for (int k = 0; k &lt; 10; k++) { \r\n                  if (k == 1){\r\n                     break abc;\r\n                  } \r\n            } \r\n        } \r\n    }\r\n\r\nThe following code shows an example of exiting from the innermost loop.\r\nIn other works,after executing the following code, you are at the outside of the loop of &#39;k&#39; variables and still inside the loop of &#39;j&#39; and &#39;i&#39; variables.\r\n \r\n        for (int i = 0; i &lt; 10; i++) { \r\n            for (int j = 0; j &lt; 10; j++) { \r\n               for (int k = 0; k &lt; 10; k++) { \r\n                  if (k == 1){\r\n                     break;\r\n                  } \r\n            } \r\n        } \r\n    }\r\n\r\n","title":"How do I break out of nested loops in Java?","body":"<p>Using 'break' keyword alone is not the appropriate way when you need to exit from more than one loops.\nYou can exit from immediate loop\nNo matter with how many loops your statement is surrounded with.\nYou can use 'break' with a label!\nHere I've used the label &quot;abc&quot;\nYou can write your code as following, within any function in Java</p>\n<p>This code shows how to exit from the most outer loop</p>\n<pre><code> abc: \n    for (int i = 0; i &lt; 10; i++) { \n        for (int j = 0; j &lt; 10; j++) { \n           for (int k = 0; k &lt; 10; k++) { \n              if (k == 1){\n                 break abc;\n              } \n        } \n    } \n}\n</code></pre>\n<p>Also you can use break statement to exit from any loop in a nested loop.</p>\n<pre><code>    for (int i = 0; i &lt; 10; i++) { \n       abc:for (int j = 0; j &lt; 10; j++) { \n           for (int k = 0; k &lt; 10; k++) { \n              if (k == 1){\n                 break abc;\n              } \n        } \n    } \n}\n</code></pre>\n<p>The following code shows an example of exiting from the innermost loop.\nIn other works,after executing the following code, you are at the outside of the loop of 'k' variables and still inside the loop of 'j' and 'i' variables.</p>\n<pre><code>    for (int i = 0; i &lt; 10; i++) { \n        for (int j = 0; j &lt; 10; j++) { \n           for (int k = 0; k &lt; 10; k++) { \n              if (k == 1){\n                 break;\n              } \n        } \n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18955587,"reputation":135,"user_id":13832244,"display_name":"Sanket Bhangale"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667217639,"creation_date":1667217639,"answer_id":74262966,"question_id":886955,"body_markdown":"If someone is looking for the kotlin way of adding labeled loops\r\n\r\n    loop@ for (i in 1..100) {\r\n        for (j in 1..100) {\r\n            if (...) break@loop\r\n        }\r\n    }\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/returns.html#break-and-continue-labels","title":"How do I break out of nested loops in Java?","body":"<p>If someone is looking for the kotlin way of adding labeled loops</p>\n<pre><code>loop@ for (i in 1..100) {\n    for (j in 1..100) {\n        if (...) break@loop\n    }\n}\n</code></pre>\n<p><a href=\"https://kotlinlang.org/docs/returns.html#break-and-continue-labels\" rel=\"nofollow noreferrer\">Source</a></p>\n"}],"owner":{"account_id":8396,"reputation":24329,"user_id":15108,"accept_rate":89,"display_name":"boutta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1408083,"favorite_count":0,"down_vote_count":4,"up_vote_count":2073,"accepted_answer_id":886979,"answer_count":37,"score":2069,"last_activity_date":1680986528,"creation_date":1242810463,"question_id":886955,"body_markdown":"I&#39;ve got a nested loop construct like this:\r\n\r\n    for (Type type : types) {\r\n        for (Type t : types2) {\r\n             if (some condition) {\r\n                 // Do something and break...\r\n                 break; // Breaks out of the inner loop\r\n             }\r\n        }\r\n    }\r\n\r\nNow how can I break out of both loops? I&#39;ve looked at similar questions, but none concerns Java specifically. I couldn&#39;t apply these solutions because most used gotos.\r\n\r\nI don&#39;t want to put the inner loop in a different method.\r\n\r\nI don&#39;t want to return the loops. When breaking I&#39;m finished with the execution of the loop block.\r\n","title":"How do I break out of nested loops in Java?","body":"<p>I've got a nested loop construct like this:</p>\n<pre><code>for (Type type : types) {\n    for (Type t : types2) {\n         if (some condition) {\n             // Do something and break...\n             break; // Breaks out of the inner loop\n         }\n    }\n}\n</code></pre>\n<p>Now how can I break out of both loops? I've looked at similar questions, but none concerns Java specifically. I couldn't apply these solutions because most used gotos.</p>\n<p>I don't want to put the inner loop in a different method.</p>\n<p>I don't want to return the loops. When breaking I'm finished with the execution of the loop block.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":365480,"reputation":1146,"user_id":2859911,"display_name":"Todoy"},"score":0,"creation_date":1680559233,"post_id":75924011,"comment_id":133916071,"body_markdown":"How are you running your application/setting your profile?","body":"How are you running your application/setting your profile?"}],"answers":[{"comments":[{"owner":{"account_id":25266045,"reputation":141,"user_id":19096205,"display_name":"Gojo"},"score":0,"creation_date":1680559765,"post_id":75924088,"comment_id":133916157,"body_markdown":"wow, thanks it worked! shouldve tried this sooner","body":"wow, thanks it worked! shouldve tried this sooner"}],"tags":[],"owner":{"account_id":19458558,"reputation":36,"user_id":14233308,"display_name":"Stuart Schmukler"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680986501,"creation_date":1680559556,"answer_id":75924088,"question_id":75924011,"body_markdown":"I think the problem is the spaces in the expression. Try removing the spaces in your expression before and after the `:`.\r\n\r\n```java\r\n@Value(&quot;${apis.maxNumOfCics:88}&quot;)\r\nprivate Integer maxNumOfCics;\r\n```\r\n\r\nTry one of the pieces of syntax from [https://www.baeldung.com/spring-value-annotation][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-value-annotation#:~:text=We%20can%20also%20set%20default%20values%20for%20the%20properties%20or%20keys%20that%20might%20not%20exist%3A","title":"Spring boot is taking the default value instead of from application-local.yml","body":"<p>I think the problem is the spaces in the expression. Try removing the spaces in your expression before and after the <code>:</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${apis.maxNumOfCics:88}&quot;)\nprivate Integer maxNumOfCics;\n</code></pre>\n<p>Try one of the pieces of syntax from <a href=\"https://www.baeldung.com/spring-value-annotation#:%7E:text=We%20can%20also%20set%20default%20values%20for%20the%20properties%20or%20keys%20that%20might%20not%20exist%3A\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-value-annotation</a></p>\n"}],"owner":{"account_id":25266045,"reputation":141,"user_id":19096205,"display_name":"Gojo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75924088,"answer_count":1,"score":0,"last_activity_date":1680986501,"creation_date":1680558512,"question_id":75924011,"body_markdown":"I have a class which takes a value from the config file but it is not working. \r\n\r\n```\r\n@Component\r\npublic class InputValidator {\r\n\r\n    private final Logger log = ESAPI.getLogger(this.getClass());\r\n\r\n    @Value(&quot;${apis.maxNumOfCics : 88}&quot;)\r\n    private Integer maxNumOfCics;\r\n\r\n// some methods\r\n}\r\n\r\n```\r\n\r\nI have configured a random default value of 88 which is being used even though I configured it as 20 in application-local.yml. When i don&#39;t use a default value:\r\n\r\n```\r\n@Value(&quot;${apis.maxNumOfCics}&quot;)\r\n```\r\n\r\nit takes the correct value from application-local.yml, and I set the the active profile to local as well. The spelling is correct and the other config values are coming from the yml file but when I put a default it always takes the default. Any help on this would be appreciated! ","title":"Spring boot is taking the default value instead of from application-local.yml","body":"<p>I have a class which takes a value from the config file but it is not working.</p>\n<pre><code>@Component\npublic class InputValidator {\n\n    private final Logger log = ESAPI.getLogger(this.getClass());\n\n    @Value(&quot;${apis.maxNumOfCics : 88}&quot;)\n    private Integer maxNumOfCics;\n\n// some methods\n}\n\n</code></pre>\n<p>I have configured a random default value of 88 which is being used even though I configured it as 20 in application-local.yml. When i don't use a default value:</p>\n<pre><code>@Value(&quot;${apis.maxNumOfCics}&quot;)\n</code></pre>\n<p>it takes the correct value from application-local.yml, and I set the the active profile to local as well. The spelling is correct and the other config values are coming from the yml file but when I put a default it always takes the default. Any help on this would be appreciated!</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680985545,"creation_date":1680985545,"answer_id":75967528,"question_id":75965504,"body_markdown":"Kafka records are ordered by offset. Any data sent by a producer is first buffered in memory before any network request is made towards the broker server. \r\n\r\nIf the producer send actions were not ordered, then you would receive out-of-order data at the broker, and thereby in the consumer. ","title":"Why ProduceRequestData use ImplicitLinkedHashCollection hold topicData","body":"<p>Kafka records are ordered by offset. Any data sent by a producer is first buffered in memory before any network request is made towards the broker server.</p>\n<p>If the producer send actions were not ordered, then you would receive out-of-order data at the broker, and thereby in the consumer.</p>\n"}],"owner":{"account_id":21170722,"reputation":1,"user_id":15567102,"display_name":"yanluyang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680985545,"creation_date":1680960546,"question_id":75965504,"body_markdown":"I am reading the source code of kafka producer recently. ProduceRequestData is a step in kafka producer processing request data. In ProduceRequestData, ImplicitLinkedHashCollection is used to store data. The documentation of ImplicitLinkedHashCollection says that it is a memory-efficient hash set which tracks the order of insertion of elements . But in ProduceRequestData I don&#39;t see any reason to tracks the order of insertion of TopicProduceData. \r\n\r\nCan someone help explain? ","title":"Why ProduceRequestData use ImplicitLinkedHashCollection hold topicData","body":"<p>I am reading the source code of kafka producer recently. ProduceRequestData is a step in kafka producer processing request data. In ProduceRequestData, ImplicitLinkedHashCollection is used to store data. The documentation of ImplicitLinkedHashCollection says that it is a memory-efficient hash set which tracks the order of insertion of elements . But in ProduceRequestData I don't see any reason to tracks the order of insertion of TopicProduceData.</p>\n<p>Can someone help explain?</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":13560,"reputation":64070,"user_id":2658202,"accept_rate":92,"display_name":"Stefan Steinegger"},"score":0,"creation_date":1541074600,"post_id":53100643,"comment_id":93097641,"body_markdown":"AFAIK, Formula is pure SQL, while the dialect functions only work in HQL.","body":"AFAIK, Formula is pure SQL, while the dialect functions only work in HQL."}],"answers":[{"comments":[{"owner":{"account_id":2616549,"reputation":1922,"user_id":2265497,"accept_rate":41,"display_name":"slesh"},"score":0,"creation_date":1541080655,"post_id":53101136,"comment_id":93100981,"body_markdown":"What do you mean?","body":"What do you mean?"},{"owner":{"account_id":13560,"reputation":64070,"user_id":2658202,"accept_rate":92,"display_name":"Stefan Steinegger"},"score":0,"creation_date":1541401979,"post_id":53101136,"comment_id":93189986,"body_markdown":"It actually doesn&#39;t solve much of your problem. AFAIK, custom types do not provide much abstraction in queries, so you still need the function there. In the mapping, you replace the formula by the custom type. If you have many of these kind of columns, it may be a bit easier. With a custom type, you get better control of caching and you can write to the column (while a formula is a read-only column). If all this doesn&#39;t sound much useful to you, then custom types are not appropriate.","body":"It actually doesn&#39;t solve much of your problem. AFAIK, custom types do not provide much abstraction in queries, so you still need the function there. In the mapping, you replace the formula by the custom type. If you have many of these kind of columns, it may be a bit easier. With a custom type, you get better control of caching and you can write to the column (while a formula is a read-only column). If all this doesn&#39;t sound much useful to you, then custom types are not appropriate."}],"tags":[],"owner":{"account_id":13560,"reputation":64070,"user_id":2658202,"accept_rate":92,"display_name":"Stefan Steinegger"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541075210,"creation_date":1541074710,"answer_id":53101136,"question_id":53100643,"body_markdown":"You probably better implement a custom type instead.\r\n\r\nSee http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#basic-custom-type\r\n\r\n(You probably find tutorials which are a better resource to implement your own type).","title":"Any way to use custom function defined in the dialect in the @Formula or @CustomTransformer annotation","body":"<p>You probably better implement a custom type instead.</p>\n\n<p>See <a href=\"http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#basic-custom-type\" rel=\"nofollow noreferrer\">http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#basic-custom-type</a></p>\n\n<p>(You probably find tutorials which are a better resource to implement your own type).</p>\n"}],"owner":{"account_id":2616549,"reputation":1922,"user_id":2265497,"accept_rate":41,"display_name":"slesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680984839,"creation_date":1541072704,"question_id":53100643,"body_markdown":"I have to support Redshift and Clickhose. I have two dialect extensions:\r\n\r\n    public class RedshiftDialect extends PostgreSQL94Dialect {\r\n        public RedshiftDialect() {\r\n            super();\r\n            registerFunction(&quot;to_date&quot;,\r\n                    new SQLFunctionTemplate(\r\n                            StandardBasicTypes.DATE,\r\n                            &quot;to_date(to_char(?1, &#39;YYYY-MM-DD&#39;), &#39;YYYY-MM-DD&#39;)&quot;));\r\n        }\r\n    }\r\n\r\n    public class ClickHouseDialect extends Dialect {\r\n    \r\n        private static final LimitHandler LIMIT_HANDLER =\r\n            new AbstractLimitHandler() {\r\n                @Override\r\n                public String processSql(String sql, RowSelection selection) {\r\n                    final boolean hasOffset = LimitHelper.hasFirstRow(selection);\r\n                    return sql + (hasOffset ? &quot; limit ? offset ?&quot; : &quot; limit ?&quot;);\r\n                }\r\n    \r\n                @Override\r\n                public boolean supportsLimit() {\r\n                    return true;\r\n                }\r\n    \r\n                @Override\r\n                public boolean bindLimitParametersInReverseOrder() {\r\n                    return true;\r\n                }\r\n            };\r\n    \r\n        public ClickHouseDialect() {\r\n            super();\r\n            registerColumnType(Types.VARCHAR, &quot;Nullable(String)&quot;);\r\n            registerColumnType(Types.BIGINT, &quot;Nullable(Int64)&quot;);\r\n            registerColumnType(Types.DATE, &quot;Nullable(Date)&quot;);\r\n            registerColumnType(Types.TIMESTAMP, &quot;Nullable(DateTime)&quot;);\r\n            registerColumnType(Types.FLOAT, &quot;Nullable(Float64)&quot;);\r\n            registerFunction(&quot;to_date&quot;,\r\n                    new StandardSQLFunction(\r\n                            &quot;toDate&quot;,\r\n                            StandardBasicTypes.DATE));\r\n        }\r\n    \r\n        @Override\r\n        public LimitHandler getLimitHandler() {\r\n            return LIMIT_HANDLER;\r\n        }\r\n    }\r\n\r\n\r\n    public class RedshiftDialect extends PostgreSQL94Dialect {\r\n        public RedshiftDialect() {\r\n            super();\r\n            registerFunction(&quot;to_date&quot;,\r\n                    new SQLFunctionTemplate(\r\n                            StandardBasicTypes.DATE,\r\n                            &quot;to_date(to_char(?1, &#39;YYYY-MM-DD&#39;), &#39;YYYY-MM-DD&#39;)&quot;));\r\n        }\r\n    }\r\n\r\n\r\nHere is my entity mapping:\r\n\r\n    @Immutable\r\n    @Entity(name = &quot;ReportEntry&quot;)\r\n    @Table(name = &quot;reporting&quot;)\r\n    public class ReportEntry implements Serializable {\r\n        ...\r\n        @Dimension\r\n        @Formula(&quot;to_date(date)&quot;)\r\n        @Column(nullable = false)\r\n        private Instant date;\r\n        ...\r\n    }\r\n\r\nI&#39;d like to that whenever I mention date attribute in my hql the to_date(date) expression evaluated depends on current dialect, but unfortunately @Formula annotation accepts only native SQL expression. Any ideas how use custom function with formula?\r\n","title":"Any way to use custom function defined in the dialect in the @Formula or @CustomTransformer annotation","body":"<p>I have to support Redshift and Clickhose. I have two dialect extensions:</p>\n<pre><code>public class RedshiftDialect extends PostgreSQL94Dialect {\n    public RedshiftDialect() {\n        super();\n        registerFunction(&quot;to_date&quot;,\n                new SQLFunctionTemplate(\n                        StandardBasicTypes.DATE,\n                        &quot;to_date(to_char(?1, 'YYYY-MM-DD'), 'YYYY-MM-DD')&quot;));\n    }\n}\n\npublic class ClickHouseDialect extends Dialect {\n\n    private static final LimitHandler LIMIT_HANDLER =\n        new AbstractLimitHandler() {\n            @Override\n            public String processSql(String sql, RowSelection selection) {\n                final boolean hasOffset = LimitHelper.hasFirstRow(selection);\n                return sql + (hasOffset ? &quot; limit ? offset ?&quot; : &quot; limit ?&quot;);\n            }\n\n            @Override\n            public boolean supportsLimit() {\n                return true;\n            }\n\n            @Override\n            public boolean bindLimitParametersInReverseOrder() {\n                return true;\n            }\n        };\n\n    public ClickHouseDialect() {\n        super();\n        registerColumnType(Types.VARCHAR, &quot;Nullable(String)&quot;);\n        registerColumnType(Types.BIGINT, &quot;Nullable(Int64)&quot;);\n        registerColumnType(Types.DATE, &quot;Nullable(Date)&quot;);\n        registerColumnType(Types.TIMESTAMP, &quot;Nullable(DateTime)&quot;);\n        registerColumnType(Types.FLOAT, &quot;Nullable(Float64)&quot;);\n        registerFunction(&quot;to_date&quot;,\n                new StandardSQLFunction(\n                        &quot;toDate&quot;,\n                        StandardBasicTypes.DATE));\n    }\n\n    @Override\n    public LimitHandler getLimitHandler() {\n        return LIMIT_HANDLER;\n    }\n}\n\n\npublic class RedshiftDialect extends PostgreSQL94Dialect {\n    public RedshiftDialect() {\n        super();\n        registerFunction(&quot;to_date&quot;,\n                new SQLFunctionTemplate(\n                        StandardBasicTypes.DATE,\n                        &quot;to_date(to_char(?1, 'YYYY-MM-DD'), 'YYYY-MM-DD')&quot;));\n    }\n}\n</code></pre>\n<p>Here is my entity mapping:</p>\n<pre><code>@Immutable\n@Entity(name = &quot;ReportEntry&quot;)\n@Table(name = &quot;reporting&quot;)\npublic class ReportEntry implements Serializable {\n    ...\n    @Dimension\n    @Formula(&quot;to_date(date)&quot;)\n    @Column(nullable = false)\n    private Instant date;\n    ...\n}\n</code></pre>\n<p>I'd like to that whenever I mention date attribute in my hql the to_date(date) expression evaluated depends on current dialect, but unfortunately @Formula annotation accepts only native SQL expression. Any ideas how use custom function with formula?</p>\n"},{"tags":["java","gradle","minecraft-forge"],"comments":[{"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"score":0,"creation_date":1643467101,"post_id":68377027,"comment_id":125349763,"body_markdown":"The solution was to use any version higher than 1.12.2. 1.16.5 worked for me","body":"The solution was to use any version higher than 1.12.2. 1.16.5 worked for me"}],"answers":[{"comments":[{"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"score":0,"creation_date":1626432623,"post_id":68402690,"comment_id":120897319,"body_markdown":"I tried that first. Didn&#39;t solve my problem. Thanks anyways!","body":"I tried that first. Didn&#39;t solve my problem. Thanks anyways!"},{"owner":{"account_id":15891403,"reputation":323,"user_id":11466414,"display_name":"FloweyTF"},"score":1,"creation_date":1626489177,"post_id":68402690,"comment_id":120913584,"body_markdown":"@JustInCoding I&#39;m sure this is fg being bad, so like reimport project, delete build/","body":"@JustInCoding I&#39;m sure this is fg being bad, so like reimport project, delete build/"},{"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"score":0,"creation_date":1626499961,"post_id":68402690,"comment_id":120914738,"body_markdown":"Yeah I have re-imported this project many times. But still. Do you think that the problem is with Forge version or FML version?","body":"Yeah I have re-imported this project many times. But still. Do you think that the problem is with Forge version or FML version?"}],"tags":[],"owner":{"account_id":15891403,"reputation":323,"user_id":11466414,"display_name":"FloweyTF"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626402039,"creation_date":1626402039,"answer_id":68402690,"question_id":68377027,"body_markdown":"I was just trying to figure out how to solve this. Based of off my research, you delete the `.gradle` folder in your home dir, or you reload gradle.","title":"Minecraft Forge Mod Loader (FML) Loading and crashing MC","body":"<p>I was just trying to figure out how to solve this. Based of off my research, you delete the <code>.gradle</code> folder in your home dir, or you reload gradle.</p>\n"},{"comments":[{"owner":{"account_id":21980200,"reputation":103,"user_id":16255372,"display_name":"m-doescode"},"score":0,"creation_date":1680705984,"post_id":71626626,"comment_id":133944027,"body_markdown":"For some reason, changing the name of the project indeed fixed the bug for me as you said. Does anyone know why this fixes it?","body":"For some reason, changing the name of the project indeed fixed the bug for me as you said. Does anyone know why this fixes it?"}],"tags":[],"owner":{"account_id":24694643,"reputation":1,"user_id":18586771,"display_name":"ErrorCation"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648285382,"creation_date":1648285033,"answer_id":71626626,"question_id":68377027,"body_markdown":"I also got the same error as you when I did &quot;runClient&quot; (The only difference is that I use IDEA). I found that the directory name may be the reason of the error.My directory name is &quot;1.12.2&quot;.I tried to change it to &quot;mod&quot; and rebuild gradle. After that ,the &quot;runClient&quot; can run normally.","title":"Minecraft Forge Mod Loader (FML) Loading and crashing MC","body":"<p>I also got the same error as you when I did &quot;runClient&quot; (The only difference is that I use IDEA). I found that the directory name may be the reason of the error.My directory name is &quot;1.12.2&quot;.I tried to change it to &quot;mod&quot; and rebuild gradle. After that ,the &quot;runClient&quot; can run normally.</p>\n"},{"tags":[],"owner":{"account_id":21980200,"reputation":103,"user_id":16255372,"display_name":"m-doescode"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680984813,"creation_date":1680898875,"answer_id":75961697,"question_id":68377027,"body_markdown":"**NOTE: This fix may not be a permanent or good solution to the problem but I have found it to fix mine so try at your own risk.**\r\n\r\nWith no mention of what version of ForgeGradle you are using, I will have to assume that it is version 3.0 or higher.\r\n\r\nFor anyone experiencing the same issue for ForgeGradle version 5.1.73 or higher, using Forge version 1.12.2-14.23.5.2860 the following worked for me:\r\n\r\n## Solution\r\n\r\n### Solution 1 - Remove MergeTool\r\n\r\n**NOTE: I previously tried this method but it stopped working suddenly. If that happens to you, I suggest trying solution 2 or some of the other answers on this question such as clearing the Gradle cache or running a clean build.**\r\n\r\nAdd the following into the `configuration` block in your `build.gradle` file:\r\n```groovy\r\nconfigurations.configureEach {\r\n    exclude group: &quot;net.minecraftforge&quot;, module: &quot;mergetool&quot;\r\n}\r\n``` \r\nThis will remove the `mergetool` dependency which seems to be causing issues.\r\n\r\n### Solution 2 - Switch to a version of MergeTool that doesn&#39;t contain the BUKKIT entry\r\n\r\nAdd the following to the bottom of your `dependencies` block:\r\n```groovy\r\nimplementation (&quot;net.minecraftforge:mergetool:0.2.3.3&quot;) { force = true }\r\n```\r\n\r\nThis will force Gradle to use [this particular version of MergeTool](https://github.com/MinecraftForge/MergeTool/tree/0.2.3)\r\n\r\n### Solution 3 - Removing IDEA blocks and switching build mode to Gradle\r\n\r\nSome may have used this old solution to fix IntelliJ not copying resources properly with Gradle. The new solution is to add this block to your `build.gradle`:\r\n\r\n```groovy\r\nlegacy {\r\n    fixClasspath = true\r\n}\r\n```\r\n\r\nSo you must now remove the following from the top of your `build.gradle`:\r\n\r\n```groovy\r\napply plugin: &#39;idea&#39;\r\n\r\nidea {\r\n    module {\r\n        inheritOutputDirs = true\r\n    }\r\n}\r\n\r\nsubprojects {\r\n    apply plugin: &#39;idea&#39;\r\n}\r\n```\r\n\r\nAnd you must also switch to building with Gradle:\r\n 1. Go to `File` &gt; `Settings...` (Or, Ctrl + Alt + S) &gt; `Build, Execution, Deployment` &gt; `Build Tools` &gt; `Gradle`\r\n 2. Select your project in the list on the left pane\r\n 3. Change both `Build and run using:` and `Run tests using:` to `Gradle`\r\n 4. Save (Click OK)\r\n\r\n## Explanation\r\n\r\nAccording to [Issue #748 on MinecraftForge/ForgeGradle by tie](https://github.com/MinecraftForge/ForgeGradle/issues/748), there seems to be an issue where the MergeTool dependency loads first before FML properly does, so `Side` is overwritten with a version which contains a `BUKKIT` entry which FML does not expect. (Normally, it only contains `SERVER` and `CLIENT` and only instantiates channels for the two)\r\n\r\nI have not experienced any issues with removing this dependency *yet*, however if I find anything I will mention it here in the future.\r\n\r\n## Confirmation\r\n\r\nI have tested this on Windows 10 build 21H2 19044.2728, with Gradle version 7.4.2, ForgeGradle version 5.1.73, Forge version 1.12.2-14.23.5.2860, Mappings channel &quot;stable&quot; version 39-1.12\r\n\r\n## Issues\r\n\r\n* [SOLUTION 1] For some strange reason, this isn&#39;t working anymore. I have no idea *how*, but somehow `Side` is gaining a `BUKKIT` enum entry immaculately. I will research this further and inspect why this is happening.","title":"Minecraft Forge Mod Loader (FML) Loading and crashing MC","body":"<p><strong>NOTE: This fix may not be a permanent or good solution to the problem but I have found it to fix mine so try at your own risk.</strong></p>\n<p>With no mention of what version of ForgeGradle you are using, I will have to assume that it is version 3.0 or higher.</p>\n<p>For anyone experiencing the same issue for ForgeGradle version 5.1.73 or higher, using Forge version 1.12.2-14.23.5.2860 the following worked for me:</p>\n<h2>Solution</h2>\n<h3>Solution 1 - Remove MergeTool</h3>\n<p><strong>NOTE: I previously tried this method but it stopped working suddenly. If that happens to you, I suggest trying solution 2 or some of the other answers on this question such as clearing the Gradle cache or running a clean build.</strong></p>\n<p>Add the following into the <code>configuration</code> block in your <code>build.gradle</code> file:</p>\n<pre><code>configurations.configureEach {\n    exclude group: &quot;net.minecraftforge&quot;, module: &quot;mergetool&quot;\n}\n</code></pre>\n<p>This will remove the <code>mergetool</code> dependency which seems to be causing issues.</p>\n<h3>Solution 2 - Switch to a version of MergeTool that doesn't contain the BUKKIT entry</h3>\n<p>Add the following to the bottom of your <code>dependencies</code> block:</p>\n<pre><code>implementation (&quot;net.minecraftforge:mergetool:0.2.3.3&quot;) { force = true }\n</code></pre>\n<p>This will force Gradle to use <a href=\"https://github.com/MinecraftForge/MergeTool/tree/0.2.3\" rel=\"nofollow noreferrer\">this particular version of MergeTool</a></p>\n<h3>Solution 3 - Removing IDEA blocks and switching build mode to Gradle</h3>\n<p>Some may have used this old solution to fix IntelliJ not copying resources properly with Gradle. The new solution is to add this block to your <code>build.gradle</code>:</p>\n<pre><code>legacy {\n    fixClasspath = true\n}\n</code></pre>\n<p>So you must now remove the following from the top of your <code>build.gradle</code>:</p>\n<pre><code>apply plugin: 'idea'\n\nidea {\n    module {\n        inheritOutputDirs = true\n    }\n}\n\nsubprojects {\n    apply plugin: 'idea'\n}\n</code></pre>\n<p>And you must also switch to building with Gradle:</p>\n<ol>\n<li>Go to <code>File</code> &gt; <code>Settings...</code> (Or, Ctrl + Alt + S) &gt; <code>Build, Execution, Deployment</code> &gt; <code>Build Tools</code> &gt; <code>Gradle</code></li>\n<li>Select your project in the list on the left pane</li>\n<li>Change both <code>Build and run using:</code> and <code>Run tests using:</code> to <code>Gradle</code></li>\n<li>Save (Click OK)</li>\n</ol>\n<h2>Explanation</h2>\n<p>According to <a href=\"https://github.com/MinecraftForge/ForgeGradle/issues/748\" rel=\"nofollow noreferrer\">Issue #748 on MinecraftForge/ForgeGradle by tie</a>, there seems to be an issue where the MergeTool dependency loads first before FML properly does, so <code>Side</code> is overwritten with a version which contains a <code>BUKKIT</code> entry which FML does not expect. (Normally, it only contains <code>SERVER</code> and <code>CLIENT</code> and only instantiates channels for the two)</p>\n<p>I have not experienced any issues with removing this dependency <em>yet</em>, however if I find anything I will mention it here in the future.</p>\n<h2>Confirmation</h2>\n<p>I have tested this on Windows 10 build 21H2 19044.2728, with Gradle version 7.4.2, ForgeGradle version 5.1.73, Forge version 1.12.2-14.23.5.2860, Mappings channel &quot;stable&quot; version 39-1.12</p>\n<h2>Issues</h2>\n<ul>\n<li>[SOLUTION 1] For some strange reason, this isn't working anymore. I have no idea <em>how</em>, but somehow <code>Side</code> is gaining a <code>BUKKIT</code> enum entry immaculately. I will research this further and inspect why this is happening.</li>\n</ul>\n"}],"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9694,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75961697,"answer_count":3,"score":1,"last_activity_date":1680984813,"creation_date":1626261304,"question_id":68377027,"body_markdown":"I&#39;m new to Minecraft Coding and Forge. I&#39;m repeatedly getting this error that FML (Forge Mod Loader) is loading causing errors. I have FML for 1.12.2 MC and Forge Version 1.12.2-14.23.5.2854\r\nI also tried Forge version 1.12.2-14.23.5.2855, but the same errors were thrown.\r\nI am using JRE 1.8.0_251.\r\nMy IDE is Eclipse 2020-12\r\n\r\nAnd when I do &quot;runClient.launch&quot; which launches Minecraft Client 1.12.2, it shows Constructing Mods, but when it comes to 3rd step, then bam! It crashes\r\nIn preferences Tab in eclipse, I have selected the Correct JRE.\r\nPls help me regarding this issue.\r\n\r\nJVM Args\r\n`-Xmx2G`\r\n\r\nError Log -\r\n\r\n   \r\n\r\n     Description: There was a severe problem during mod loading that has caused the game to fail\r\n    \r\n    net.minecraftforge.fml.common.LoaderExceptionModCrash: Caught exception from Forge Mod Loader (FML)\r\n    Caused by: java.lang.NullPointerException\r\n    \tat net.minecraftforge.fml.common.network.NetworkRegistry.newChannel(NetworkRegistry.java:207)\r\n    \tat net.minecraftforge.fml.common.network.internal.FMLNetworkHandler.registerChannel(FMLNetworkHandler.java:185)\r\n    \tat net.minecraftforge.fml.common.FMLContainer.modConstruction(FMLContainer.java:92)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat com.google.common.eventbus.Subscriber.invokeSubscriberMethod(Subscriber.java:91)\r\n    \tat com.google.common.eventbus.Subscriber$SynchronizedSubscriber.invokeSubscriberMethod(Subscriber.java:150)\r\n    \tat com.google.common.eventbus.Subscriber$1.run(Subscriber.java:76)\r\n    \tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:399)\r\n    \tat com.google.common.eventbus.Subscriber.dispatchEvent(Subscriber.java:71)\r\n    \tat com.google.common.eventbus.Dispatcher$PerThreadQueuedDispatcher.dispatch(Dispatcher.java:116)\r\n    \tat com.google.common.eventbus.EventBus.post(EventBus.java:217)\r\n    \tat net.minecraftforge.fml.common.LoadController.sendEventToModContainer(LoadController.java:219)\r\n    \tat net.minecraftforge.fml.common.LoadController.propogateStateMessage(LoadController.java:197)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat com.google.common.eventbus.Subscriber.invokeSubscriberMethod(Subscriber.java:91)\r\n    \tat com.google.common.eventbus.Subscriber$SynchronizedSubscriber.invokeSubscriberMethod(Subscriber.java:150)\r\n    \tat com.google.common.eventbus.Subscriber$1.run(Subscriber.java:76)\r\n    \tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:399)\r\n    \tat com.google.common.eventbus.Subscriber.dispatchEvent(Subscriber.java:71)\r\n    \tat com.google.common.eventbus.Dispatcher$PerThreadQueuedDispatcher.dispatch(Dispatcher.java:116)\r\n    \tat com.google.common.eventbus.EventBus.post(EventBus.java:217)\r\n    \tat net.minecraftforge.fml.common.LoadController.distributeStateMessage(LoadController.java:136)\r\n    \tat net.minecraftforge.fml.common.Loader.loadMods(Loader.java:595)\r\n    \tat net.minecraftforge.fml.client.FMLClientHandler.beginMinecraftLoading(FMLClientHandler.java:232)\r\n    \tat net.minecraft.client.Minecraft.init(Minecraft.java:467)\r\n    \tat net.minecraft.client.Minecraft.run(Minecraft.java:378)\r\n    \tat net.minecraft.client.main.Main.main(SourceFile:123)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat net.minecraft.launchwrapper.Launch.launch(Launch.java:135)\r\n    \tat net.minecraft.launchwrapper.Launch.main(Launch.java:28)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat net.minecraftforge.legacydev.Main.start(Main.java:86)\r\n    \tat net.minecraftforge.legacydev.MainClient.main(MainClient.java:29)\r\n    \r\n    \r\n    A detailed walkthrough of the error, its code path and all known details is as follows:\r\n    ---------------------------------------------------------------------------------------\r\n    \r\n    -- System Details --\r\n    Details:\r\n    \tMinecraft Version: 1.12.2\r\n    \tOperating System: Windows 7 (amd64) version 6.1\r\n    \tJava Version: 1.8.0_51, Oracle Corporation\r\n    \tJava VM Version: Java HotSpot(TM) 64-Bit Server VM (mixed mode), Oracle Corporation\r\n    \tMemory: 125114560 bytes (119 MB) / 378011648 bytes (360 MB) up to 935854080 bytes (892 MB)\r\n    \tJVM Flags: 0 total; \r\n    \tIntCache: cache: 0, tcache: 0, allocated: 0, tallocated: 0\r\n    \tFML: MCP 9.42 Powered by Forge 14.23.5.2854 5 mods loaded, 5 mods active\r\n    \tStates: &#39;U&#39; = Unloaded &#39;L&#39; = Loaded &#39;C&#39; = Constructed &#39;H&#39; = Pre-initialized &#39;I&#39; = Initialized &#39;J&#39; = Post-initialized &#39;A&#39; = Available &#39;D&#39; = Disabled &#39;E&#39; = Errored\r\n    \r\n    \t| State | ID         | Version      | Source                                                      | Signature |\r\n    \t|:----- |:---------- |:------------ |:----------------------------------------------------------- |:--------- |\r\n    \t| LC    | minecraft  | 1.12.2       | minecraft.jar                                               | None      |\r\n    \t| LC    | mcp        | 9.42         | minecraft.jar                                               | None      |\r\n    \t| LE    | FML        | 8.0.99.99    | forge-1.12.2-14.23.5.2854_mapped_snapshot_20171003-1.12.jar | None      |\r\n    \t| L     | forge      | 14.23.5.2854 | forge-1.12.2-14.23.5.2854_mapped_snapshot_20171003-1.12.jar | None      |\r\n    \t| L     | examplemod | 1.0          | main                                                        | None      |\r\n    \r\n    \tLoaded coremods (and transformers): \r\n    \tGL info: &#39; Vendor: &#39;Intel&#39; Version: &#39;3.1.0 - Build 9.17.10.4229&#39; Renderer: &#39;Intel(R) HD Graphics 3000&#39;\r\n    [16:30:21] [Client thread/INFO] [STDOUT]: [net.minecraft.init.Bootstrap:printToSYSOUT:553]: #@!@# Game crashed! Crash report saved to: #@!@# D:\\1.12.2\\run\\.\\crash-reports\\crash-2021-07-14_16.30.21-client.txt\r\n\r\n","title":"Minecraft Forge Mod Loader (FML) Loading and crashing MC","body":"<p>I'm new to Minecraft Coding and Forge. I'm repeatedly getting this error that FML (Forge Mod Loader) is loading causing errors. I have FML for 1.12.2 MC and Forge Version 1.12.2-14.23.5.2854\nI also tried Forge version 1.12.2-14.23.5.2855, but the same errors were thrown.\nI am using JRE 1.8.0_251.\nMy IDE is Eclipse 2020-12</p>\n<p>And when I do &quot;runClient.launch&quot; which launches Minecraft Client 1.12.2, it shows Constructing Mods, but when it comes to 3rd step, then bam! It crashes\nIn preferences Tab in eclipse, I have selected the Correct JRE.\nPls help me regarding this issue.</p>\n<p>JVM Args\n<code>-Xmx2G</code></p>\n<p>Error Log -</p>\n<pre><code> Description: There was a severe problem during mod loading that has caused the game to fail\n\nnet.minecraftforge.fml.common.LoaderExceptionModCrash: Caught exception from Forge Mod Loader (FML)\nCaused by: java.lang.NullPointerException\n    at net.minecraftforge.fml.common.network.NetworkRegistry.newChannel(NetworkRegistry.java:207)\n    at net.minecraftforge.fml.common.network.internal.FMLNetworkHandler.registerChannel(FMLNetworkHandler.java:185)\n    at net.minecraftforge.fml.common.FMLContainer.modConstruction(FMLContainer.java:92)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at com.google.common.eventbus.Subscriber.invokeSubscriberMethod(Subscriber.java:91)\n    at com.google.common.eventbus.Subscriber$SynchronizedSubscriber.invokeSubscriberMethod(Subscriber.java:150)\n    at com.google.common.eventbus.Subscriber$1.run(Subscriber.java:76)\n    at com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:399)\n    at com.google.common.eventbus.Subscriber.dispatchEvent(Subscriber.java:71)\n    at com.google.common.eventbus.Dispatcher$PerThreadQueuedDispatcher.dispatch(Dispatcher.java:116)\n    at com.google.common.eventbus.EventBus.post(EventBus.java:217)\n    at net.minecraftforge.fml.common.LoadController.sendEventToModContainer(LoadController.java:219)\n    at net.minecraftforge.fml.common.LoadController.propogateStateMessage(LoadController.java:197)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at com.google.common.eventbus.Subscriber.invokeSubscriberMethod(Subscriber.java:91)\n    at com.google.common.eventbus.Subscriber$SynchronizedSubscriber.invokeSubscriberMethod(Subscriber.java:150)\n    at com.google.common.eventbus.Subscriber$1.run(Subscriber.java:76)\n    at com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:399)\n    at com.google.common.eventbus.Subscriber.dispatchEvent(Subscriber.java:71)\n    at com.google.common.eventbus.Dispatcher$PerThreadQueuedDispatcher.dispatch(Dispatcher.java:116)\n    at com.google.common.eventbus.EventBus.post(EventBus.java:217)\n    at net.minecraftforge.fml.common.LoadController.distributeStateMessage(LoadController.java:136)\n    at net.minecraftforge.fml.common.Loader.loadMods(Loader.java:595)\n    at net.minecraftforge.fml.client.FMLClientHandler.beginMinecraftLoading(FMLClientHandler.java:232)\n    at net.minecraft.client.Minecraft.init(Minecraft.java:467)\n    at net.minecraft.client.Minecraft.run(Minecraft.java:378)\n    at net.minecraft.client.main.Main.main(SourceFile:123)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at net.minecraft.launchwrapper.Launch.launch(Launch.java:135)\n    at net.minecraft.launchwrapper.Launch.main(Launch.java:28)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at net.minecraftforge.legacydev.Main.start(Main.java:86)\n    at net.minecraftforge.legacydev.MainClient.main(MainClient.java:29)\n\n\nA detailed walkthrough of the error, its code path and all known details is as follows:\n---------------------------------------------------------------------------------------\n\n-- System Details --\nDetails:\n    Minecraft Version: 1.12.2\n    Operating System: Windows 7 (amd64) version 6.1\n    Java Version: 1.8.0_51, Oracle Corporation\n    Java VM Version: Java HotSpot(TM) 64-Bit Server VM (mixed mode), Oracle Corporation\n    Memory: 125114560 bytes (119 MB) / 378011648 bytes (360 MB) up to 935854080 bytes (892 MB)\n    JVM Flags: 0 total; \n    IntCache: cache: 0, tcache: 0, allocated: 0, tallocated: 0\n    FML: MCP 9.42 Powered by Forge 14.23.5.2854 5 mods loaded, 5 mods active\n    States: 'U' = Unloaded 'L' = Loaded 'C' = Constructed 'H' = Pre-initialized 'I' = Initialized 'J' = Post-initialized 'A' = Available 'D' = Disabled 'E' = Errored\n\n    | State | ID         | Version      | Source                                                      | Signature |\n    |:----- |:---------- |:------------ |:----------------------------------------------------------- |:--------- |\n    | LC    | minecraft  | 1.12.2       | minecraft.jar                                               | None      |\n    | LC    | mcp        | 9.42         | minecraft.jar                                               | None      |\n    | LE    | FML        | 8.0.99.99    | forge-1.12.2-14.23.5.2854_mapped_snapshot_20171003-1.12.jar | None      |\n    | L     | forge      | 14.23.5.2854 | forge-1.12.2-14.23.5.2854_mapped_snapshot_20171003-1.12.jar | None      |\n    | L     | examplemod | 1.0          | main                                                        | None      |\n\n    Loaded coremods (and transformers): \n    GL info: ' Vendor: 'Intel' Version: '3.1.0 - Build 9.17.10.4229' Renderer: 'Intel(R) HD Graphics 3000'\n[16:30:21] [Client thread/INFO] [STDOUT]: [net.minecraft.init.Bootstrap:printToSYSOUT:553]: #@!@# Game crashed! Crash report saved to: #@!@# D:\\1.12.2\\run\\.\\crash-reports\\crash-2021-07-14_16.30.21-client.txt\n</code></pre>\n"},{"tags":["java","linux","openssl","cryptography","bouncycastle"],"comments":[{"owner":{"account_id":1486587,"reputation":14556,"user_id":1394729,"display_name":"tink"},"score":0,"creation_date":1680979811,"post_id":75966129,"comment_id":133986832,"body_markdown":"I know nothing about java, but often it&#39;s an encoding issue, possibly one of line-terminators when something works in windows and doesn&#39;t in Linux. Where does the data for connectionData come come from, might the password have a dangling `^M`?","body":"I know nothing about java, but often it&#39;s an encoding issue, possibly one of line-terminators when something works in windows and doesn&#39;t in Linux. Where does the data for connectionData come come from, might the password have a dangling <code>^M</code>?"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1680984449,"post_id":75966129,"comment_id":133987383,"body_markdown":"@tink no, that wasn&#39;t the reason. It looks like I have figured it out, and that&#39;s related to code of java crypto package","body":"@tink no, that wasn&#39;t the reason. It looks like I have figured it out, and that&#39;s related to code of java crypto package"}],"answers":[{"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1680987153,"post_id":75967459,"comment_id":133987713,"body_markdown":"Can you please summarize what you changed, so that readers don&#39;t have to compare two dense code fragments character by character? If it&#39;s just the one change to `setProvider` then that&#39;s not a very satisfactory answer because that shouldn&#39;t have given you a different result. There are debug bcprov jars on the bouncycastle website and you can easily build your own debug version of bcpkix or any other bc library besides bcprov.","body":"Can you please summarize what you changed, so that readers don&#39;t have to compare two dense code fragments character by character? If it&#39;s just the one change to <code>setProvider</code> then that&#39;s not a very satisfactory answer because that shouldn&#39;t have given you a different result. There are debug bcprov jars on the bouncycastle website and you can easily build your own debug version of bcpkix or any other bc library besides bcprov."},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1681017048,"post_id":75967459,"comment_id":133990005,"body_markdown":"@PresidentJamesK.Polk but usage of `setProvider` with `Provider` class object rather than `String` constant did the trick.","body":"@PresidentJamesK.Polk but usage of <code>setProvider</code> with <code>Provider</code> class object rather than <code>String</code> constant did the trick."}],"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680984681,"creation_date":1680984681,"answer_id":75967459,"question_id":75966129,"body_markdown":"To make it working, I made those changes:\r\n\r\n    static public PrivateKey stringToPrivateKey(String s, String password)\r\n                throws IOException, PKCSException {\r\n            PrivateKeyInfo pki;\r\n            BouncyCastleProvider bouncyCastleProvider = new BouncyCastleProvider(); //INITIALISED PROVIDER OBJECT\r\n            Security.addProvider(bouncyCastleProvider);\r\n            try (PEMParser pemParser = new PEMParser(new StringReader(s))) {\r\n                Object o = pemParser.readObject();\r\n                if (o instanceof PKCS8EncryptedPrivateKeyInfo) { // encrypted private key in pkcs8-format\r\n                    logger.info(&quot;key in pkcs8 encoding&quot;);\r\n                    PKCS8EncryptedPrivateKeyInfo epki = (PKCS8EncryptedPrivateKeyInfo) o;\r\n                    logger.info(&quot;epki:&quot; + epki.getEncryptionAlgorithm().getAlgorithm());\r\n                    JcePKCSPBEInputDecryptorProviderBuilder builder =\r\n                            new JcePKCSPBEInputDecryptorProviderBuilder().\r\n                                    setProvider(bouncyCastleProvider); // USED THIS OBJECT HERE INSTEAD OF STRING PARAMETER &quot;BC\r\n                    InputDecryptorProvider idp = builder.build(password.toCharArray());\r\n                    pki = epki.decryptPrivateKeyInfo(idp);\r\n                } else if (o instanceof PEMEncryptedKeyPair) { // encrypted private key in pkcs8-format\r\n                    logger.info(&quot;key in pkcs1 encoding&quot;);\r\n                    PEMEncryptedKeyPair epki = (PEMEncryptedKeyPair) o;\r\n                    PEMKeyPair pkp = epki.decryptKeyPair(new BcPEMDecryptorProvider(password.toCharArray()));\r\n                    pki = pkp.getPrivateKeyInfo();\r\n                } else if (o instanceof PEMKeyPair) { // unencrypted private key\r\n                    logger.info(&quot;key unencrypted&quot;);\r\n                    PEMKeyPair pkp = (PEMKeyPair) o;\r\n                    pki = pkp.getPrivateKeyInfo();\r\n                } else {\r\n                    throw new PKCSException(&quot;Invalid encrypted private key class: &quot; + o.getClass().getName());\r\n                }\r\n                JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(bouncyCastleProvider); // USED THIS OBJECT HERE INSTEAD OF STRING PARAMETER &quot;BC&quot;\r\n                return converter.getPrivateKey(pki);\r\n            }\r\n        }\r\n\r\nI have no idea why this change made the trick. The `BouncyCastle`s `bcpkix-jdk15on` can&#39;t be debugged (and no debug implementation is provided as for `bcprov(-debug)-jdk15on`). So I have no idea what it chaged in the internals.","title":"Decrypt private key info fails only in Linux where the file was generated, but works in Windows (epki.decryptPrivateKeyInfo)","body":"<p>To make it working, I made those changes:</p>\n<pre><code>static public PrivateKey stringToPrivateKey(String s, String password)\n            throws IOException, PKCSException {\n        PrivateKeyInfo pki;\n        BouncyCastleProvider bouncyCastleProvider = new BouncyCastleProvider(); //INITIALISED PROVIDER OBJECT\n        Security.addProvider(bouncyCastleProvider);\n        try (PEMParser pemParser = new PEMParser(new StringReader(s))) {\n            Object o = pemParser.readObject();\n            if (o instanceof PKCS8EncryptedPrivateKeyInfo) { // encrypted private key in pkcs8-format\n                logger.info(&quot;key in pkcs8 encoding&quot;);\n                PKCS8EncryptedPrivateKeyInfo epki = (PKCS8EncryptedPrivateKeyInfo) o;\n                logger.info(&quot;epki:&quot; + epki.getEncryptionAlgorithm().getAlgorithm());\n                JcePKCSPBEInputDecryptorProviderBuilder builder =\n                        new JcePKCSPBEInputDecryptorProviderBuilder().\n                                setProvider(bouncyCastleProvider); // USED THIS OBJECT HERE INSTEAD OF STRING PARAMETER &quot;BC\n                InputDecryptorProvider idp = builder.build(password.toCharArray());\n                pki = epki.decryptPrivateKeyInfo(idp);\n            } else if (o instanceof PEMEncryptedKeyPair) { // encrypted private key in pkcs8-format\n                logger.info(&quot;key in pkcs1 encoding&quot;);\n                PEMEncryptedKeyPair epki = (PEMEncryptedKeyPair) o;\n                PEMKeyPair pkp = epki.decryptKeyPair(new BcPEMDecryptorProvider(password.toCharArray()));\n                pki = pkp.getPrivateKeyInfo();\n            } else if (o instanceof PEMKeyPair) { // unencrypted private key\n                logger.info(&quot;key unencrypted&quot;);\n                PEMKeyPair pkp = (PEMKeyPair) o;\n                pki = pkp.getPrivateKeyInfo();\n            } else {\n                throw new PKCSException(&quot;Invalid encrypted private key class: &quot; + o.getClass().getName());\n            }\n            JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(bouncyCastleProvider); // USED THIS OBJECT HERE INSTEAD OF STRING PARAMETER &quot;BC&quot;\n            return converter.getPrivateKey(pki);\n        }\n    }\n</code></pre>\n<p>I have no idea why this change made the trick. The <code>BouncyCastle</code>s <code>bcpkix-jdk15on</code> can't be debugged (and no debug implementation is provided as for <code>bcprov(-debug)-jdk15on</code>). So I have no idea what it chaged in the internals.</p>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75967459,"answer_count":1,"score":1,"last_activity_date":1680984681,"creation_date":1680968355,"question_id":75966129,"body_markdown":"We have generated a private and public key pairs and convert private to PEM format pkcs8:\r\n\r\n    openssl genrsa -out psp_api_incoming_private.pem 2048 &amp;&amp; openssl rsa -in psp_api_incoming_private.pem -pubout &gt; psp_api_incoming_public.pem\r\n    openssl pkcs8 -topk8 -in psp_api_incoming_private.pem -out psp_api_incoming_private_key.pem\r\n\r\nWe have copied private for debugging uses for Windows machine and copied to another Linux folder where we have assigned them `sudo chmod tomcat:tomcat` access rights\r\n\r\nOn Windows machine we were able to run the below code, to generate the sign with this private key tat were deciphered with our public key on other side:\r\n\r\n\r\n    Signature signatureSHA256Java = Signature.getInstance(&quot;RSASSA-PSS&quot;);\r\n    signatureSHA256Java.setParameter(new PSSParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, MGF1ParameterSpec.SHA256, 32, 1));\r\n    signatureSHA256Java.initSign(stringToPrivateKey(connectionData.getPathToKey(), connectionData.getPassForKey()));\r\n    signatureSHA256Java.update(IOUtils.toByteArray(request.getEntity().getContent()));\r\n    byte[] signSHA256Java = signatureSHA256Java.sign();\r\n\r\n        \r\n    static public PrivateKey stringToPrivateKey(String s, String password)\r\n                    throws IOException, PKCSException {\r\n                PrivateKeyInfo pki;\r\n                Security.addProvider(new BouncyCastleProvider());\r\n                try (PEMParser pemParser = new PEMParser(new StringReader(s))) {\r\n                    Object o = pemParser.readObject();\r\n                    if (o instanceof PKCS8EncryptedPrivateKeyInfo) { // encrypted private key in pkcs8-format\r\n                        logger.info(&quot;key in pkcs8 encoding&quot;);\r\n                        PKCS8EncryptedPrivateKeyInfo epki = (PKCS8EncryptedPrivateKeyInfo) o;\r\n                        logger.info(&quot;epki:&quot; + epki.getEncryptionAlgorithm().getAlgorithm());\r\n                        JcePKCSPBEInputDecryptorProviderBuilder builder =\r\n                                new JcePKCSPBEInputDecryptorProviderBuilder().setProvider(&quot;BC&quot;);\r\n                        InputDecryptorProvider idp = builder.build(password.toCharArray());\r\n                        pki = epki.decryptPrivateKeyInfo(idp); //&lt;-- here we fail\r\n                    } else if (o instanceof PEMEncryptedKeyPair) { // encrypted private key in pkcs8-format\r\n                        logger.info(&quot;key in pkcs1 encoding&quot;);\r\n                        PEMEncryptedKeyPair epki = (PEMEncryptedKeyPair) o;\r\n                        PEMKeyPair pkp = epki.decryptKeyPair(new BcPEMDecryptorProvider(password.toCharArray()));\r\n                        pki = pkp.getPrivateKeyInfo();\r\n                    } else if (o instanceof PEMKeyPair) { // unencrypted private key\r\n                        logger.info(&quot;key unencrypted&quot;);\r\n                        PEMKeyPair pkp = (PEMKeyPair) o;\r\n                        pki = pkp.getPrivateKeyInfo();\r\n                    } else {\r\n                        throw new PKCSException(&quot;Invalid encrypted private key class: &quot; + o.getClass().getName());\r\n                    }\r\n                    JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(&quot;BC&quot;);\r\n                    return converter.getPrivateKey(pki);\r\n                }\r\n    }\r\n\r\nAnd then I&#39;m getting the below exception:\r\n\r\n    ERROR c.o.s.w.s.i.WebServiceExceptionHandler - org.bouncycastle.pkcs.PKCSException: unable to read encrypted data: Error finalising cipher\r\n    java.lang.RuntimeException: org.bouncycastle.pkcs.PKCSException: unable to read encrypted data: Error finalising cipher\r\n            at com.openpayment.provider.mpc.qr.service.MpcQRServiceImpl.getPrivateKey(MpcQRServiceImpl.java:348)\r\n            at com.openpayment.provider.mpc.qr.service.MpcQRServiceImpl.access$500(MpcQRServiceImpl.java:68)\r\n            at com.openpayment.provider.mpc.qr.service.MpcQRServiceImpl$ProviderHttpClient.post(MpcQRServiceImpl.java:272)\r\n            at com.openpayment.provider.mpc.qr.service.MpcQRServiceImpl.getSubscriberInfo(MpcQRServiceImpl.java:162)\r\n            at com.openpayment.provider.mpc.qr.MpcQRProviderImpl.getSubscriberStatus(MpcQRProviderImpl.java:113)\r\n            at com.openpayment.impl.service.PaymentServiceImpl.getInfo(PaymentServiceImpl.java:193)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n            at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n            at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n            at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n            at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:283)\r\n            at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n            at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n            at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n            at com.sun.proxy.$Proxy281.getInfo(Unknown Source)\r\n            at com.openpayment.site.web.service.PaymentResource.getPropertiesInfo(PaymentResource.java:110)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\r\n            at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:854)\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:765)\r\n            at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n            at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\r\n            at com.openpayment.site.web.service.init.SiteWebDispatcherServlet.doDispatch(SiteWebDispatcherServlet.java:48)\r\n            at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\r\n            at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n            at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n            at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\r\n            at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n            at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n            at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\r\n            at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\r\n            at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)\r\n            at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n            at java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: org.bouncycastle.pkcs.PKCSException: unable to read encrypted data: Error finalising cipher\r\n            at org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo.decryptPrivateKeyInfo(Unknown Source)\r\n            at com.openpayment.provider.mpc.qr.service.MpcQRServiceImpl.stringToPrivateKey(MpcQRServiceImpl.java:380)\r\n            at com.openpayment.provider.mpc.qr.service.MpcQRServiceImpl.getPrivateKey(MpcQRServiceImpl.java:346)\r\n            ... 95 common frames omitted\r\n    Caused by: org.bouncycastle.crypto.io.InvalidCipherTextIOException: Error finalising cipher\r\n            at org.bouncycastle.jcajce.io.CipherInputStream.finaliseCipher(Unknown Source)\r\n            at org.bouncycastle.jcajce.io.CipherInputStream.nextChunk(Unknown Source)\r\n            at org.bouncycastle.jcajce.io.CipherInputStream.read(Unknown Source)\r\n            at org.bouncycastle.util.io.Streams.pipeAll(Unknown Source)\r\n            at org.bouncycastle.util.io.Streams.readAll(Unknown Source)\r\n            ... 98 common frames omitted\r\n    Caused by: javax.crypto.BadPaddingException: pad block corrupted\r\n            at org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$BufferedGenericBlockCipher.doFinal(Unknown Source)\r\n            at org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineDoFinal(Unknown Source)\r\n            at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2085)\r\n            ... 103 common frames omitted\r\n\r\nIn the most questions about this error it is pointed, that the wrong password is the reason, so I try: \r\n\r\n    openssl rsa -noout -in YOUR_PRIVATE_KEY_FILE.pem -passin &quot;pass:YOUR_PASSWORD&quot;\r\n\r\nWith the last Linux file location, and it confirms that the password is exactly what I expect.\r\n\r\nJava that runs Tomcat apps is OpenJDK 64-Bit Server VM AdoptOpenJDK-11.0.11+9\r\n\r\nSo now I have no idea what else could be wrong.\r\n\r\n","title":"Decrypt private key info fails only in Linux where the file was generated, but works in Windows (epki.decryptPrivateKeyInfo)","body":"<p>We have generated a private and public key pairs and convert private to PEM format pkcs8:</p>\n<pre><code>openssl genrsa -out psp_api_incoming_private.pem 2048 &amp;&amp; openssl rsa -in psp_api_incoming_private.pem -pubout &gt; psp_api_incoming_public.pem\nopenssl pkcs8 -topk8 -in psp_api_incoming_private.pem -out psp_api_incoming_private_key.pem\n</code></pre>\n<p>We have copied private for debugging uses for Windows machine and copied to another Linux folder where we have assigned them <code>sudo chmod tomcat:tomcat</code> access rights</p>\n<p>On Windows machine we were able to run the below code, to generate the sign with this private key tat were deciphered with our public key on other side:</p>\n<pre><code>Signature signatureSHA256Java = Signature.getInstance(&quot;RSASSA-PSS&quot;);\nsignatureSHA256Java.setParameter(new PSSParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, MGF1ParameterSpec.SHA256, 32, 1));\nsignatureSHA256Java.initSign(stringToPrivateKey(connectionData.getPathToKey(), connectionData.getPassForKey()));\nsignatureSHA256Java.update(IOUtils.toByteArray(request.getEntity().getContent()));\nbyte[] signSHA256Java = signatureSHA256Java.sign();\n\n    \nstatic public PrivateKey stringToPrivateKey(String s, String password)\n                throws IOException, PKCSException {\n            PrivateKeyInfo pki;\n            Security.addProvider(new BouncyCastleProvider());\n            try (PEMParser pemParser = new PEMParser(new StringReader(s))) {\n                Object o = pemParser.readObject();\n                if (o instanceof PKCS8EncryptedPrivateKeyInfo) { // encrypted private key in pkcs8-format\n                    logger.info(&quot;key in pkcs8 encoding&quot;);\n                    PKCS8EncryptedPrivateKeyInfo epki = (PKCS8EncryptedPrivateKeyInfo) o;\n                    logger.info(&quot;epki:&quot; + epki.getEncryptionAlgorithm().getAlgorithm());\n                    JcePKCSPBEInputDecryptorProviderBuilder builder =\n                            new JcePKCSPBEInputDecryptorProviderBuilder().setProvider(&quot;BC&quot;);\n                    InputDecryptorProvider idp = builder.build(password.toCharArray());\n                    pki = epki.decryptPrivateKeyInfo(idp); //&lt;-- here we fail\n                } else if (o instanceof PEMEncryptedKeyPair) { // encrypted private key in pkcs8-format\n                    logger.info(&quot;key in pkcs1 encoding&quot;);\n                    PEMEncryptedKeyPair epki = (PEMEncryptedKeyPair) o;\n                    PEMKeyPair pkp = epki.decryptKeyPair(new BcPEMDecryptorProvider(password.toCharArray()));\n                    pki = pkp.getPrivateKeyInfo();\n                } else if (o instanceof PEMKeyPair) { // unencrypted private key\n                    logger.info(&quot;key unencrypted&quot;);\n                    PEMKeyPair pkp = (PEMKeyPair) o;\n                    pki = pkp.getPrivateKeyInfo();\n                } else {\n                    throw new PKCSException(&quot;Invalid encrypted private key class: &quot; + o.getClass().getName());\n                }\n                JcaPEMKeyConverter converter = new JcaPEMKeyConverter().setProvider(&quot;BC&quot;);\n                return converter.getPrivateKey(pki);\n            }\n}\n</code></pre>\n<p>And then I'm getting the below exception:</p>\n<pre><code>ERROR c.o.s.w.s.i.WebServiceExceptionHandler - org.bouncycastle.pkcs.PKCSException: unable to read encrypted data: Error finalising cipher\njava.lang.RuntimeException: org.bouncycastle.pkcs.PKCSException: unable to read encrypted data: Error finalising cipher\n        at com.openpayment.provider.mpc.qr.service.MpcQRServiceImpl.getPrivateKey(MpcQRServiceImpl.java:348)\n        at com.openpayment.provider.mpc.qr.service.MpcQRServiceImpl.access$500(MpcQRServiceImpl.java:68)\n        at com.openpayment.provider.mpc.qr.service.MpcQRServiceImpl$ProviderHttpClient.post(MpcQRServiceImpl.java:272)\n        at com.openpayment.provider.mpc.qr.service.MpcQRServiceImpl.getSubscriberInfo(MpcQRServiceImpl.java:162)\n        at com.openpayment.provider.mpc.qr.MpcQRProviderImpl.getSubscriberStatus(MpcQRProviderImpl.java:113)\n        at com.openpayment.impl.service.PaymentServiceImpl.getInfo(PaymentServiceImpl.java:193)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n        at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:283)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n        at com.sun.proxy.$Proxy281.getInfo(Unknown Source)\n        at com.openpayment.site.web.service.PaymentResource.getPropertiesInfo(PaymentResource.java:110)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:854)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:765)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967)\n        at com.openpayment.site.web.service.init.SiteWebDispatcherServlet.doDispatch(SiteWebDispatcherServlet.java:48)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter.doFilter(OAuth2AuthenticationProcessingFilter.java:176)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:347)\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:263)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.bouncycastle.pkcs.PKCSException: unable to read encrypted data: Error finalising cipher\n        at org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo.decryptPrivateKeyInfo(Unknown Source)\n        at com.openpayment.provider.mpc.qr.service.MpcQRServiceImpl.stringToPrivateKey(MpcQRServiceImpl.java:380)\n        at com.openpayment.provider.mpc.qr.service.MpcQRServiceImpl.getPrivateKey(MpcQRServiceImpl.java:346)\n        ... 95 common frames omitted\nCaused by: org.bouncycastle.crypto.io.InvalidCipherTextIOException: Error finalising cipher\n        at org.bouncycastle.jcajce.io.CipherInputStream.finaliseCipher(Unknown Source)\n        at org.bouncycastle.jcajce.io.CipherInputStream.nextChunk(Unknown Source)\n        at org.bouncycastle.jcajce.io.CipherInputStream.read(Unknown Source)\n        at org.bouncycastle.util.io.Streams.pipeAll(Unknown Source)\n        at org.bouncycastle.util.io.Streams.readAll(Unknown Source)\n        ... 98 common frames omitted\nCaused by: javax.crypto.BadPaddingException: pad block corrupted\n        at org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$BufferedGenericBlockCipher.doFinal(Unknown Source)\n        at org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineDoFinal(Unknown Source)\n        at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2085)\n        ... 103 common frames omitted\n</code></pre>\n<p>In the most questions about this error it is pointed, that the wrong password is the reason, so I try:</p>\n<pre><code>openssl rsa -noout -in YOUR_PRIVATE_KEY_FILE.pem -passin &quot;pass:YOUR_PASSWORD&quot;\n</code></pre>\n<p>With the last Linux file location, and it confirms that the password is exactly what I expect.</p>\n<p>Java that runs Tomcat apps is OpenJDK 64-Bit Server VM AdoptOpenJDK-11.0.11+9</p>\n<p>So now I have no idea what else could be wrong.</p>\n"},{"tags":["java","http","filter","interceptor","micronaut"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1680979455,"post_id":75967075,"comment_id":133986798,"body_markdown":"Think of it as going through a pipeline - the request goes in one direction, then the response goes in the opposite direction, which means the bits of the pipeline (filters in this case) are encountered in the reverse order. I think every HTTP framework I&#39;ve seen with interception behaves the same way... it just makes it easier to reason about.","body":"Think of it as going through a pipeline - the request goes in one direction, then the response goes in the opposite direction, which means the bits of the pipeline (filters in this case) are encountered in the reverse order. I think every HTTP framework I&#39;ve seen with interception behaves the same way... it just makes it easier to reason about."},{"owner":{"account_id":28251515,"reputation":33,"user_id":21597685,"display_name":"Mateusz"},"score":0,"creation_date":1680984384,"post_id":75967075,"comment_id":133987373,"body_markdown":"So what you are saying is basically that every Publishers.then method will produce some callback and place in in this &quot;pipeline&quot; to wait for the  MutableHttpResponse, but every new callback will be placed at the beginning of this pipeline, thus if FirstFilter creted Publisher first, it will be last one to be invoked? Did I understand it correctly?","body":"So what you are saying is basically that every Publishers.then method will produce some callback and place in in this &quot;pipeline&quot; to wait for the  MutableHttpResponse, but every new callback will be placed at the beginning of this pipeline, thus if FirstFilter creted Publisher first, it will be last one to be invoked? Did I understand it correctly?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1681013512,"post_id":75967075,"comment_id":133989826,"body_markdown":"I can&#39;t talk to Micronaut specifically - but I&#39;m just saying that the order of processing tends to be &quot;request, filter1, filter2, filter3, application (creates response)&quot; -&gt; &quot;filter3, filter2, filter1, send response&quot;.","body":"I can&#39;t talk to Micronaut specifically - but I&#39;m just saying that the order of processing tends to be &quot;request, filter1, filter2, filter3, application (creates response)&quot; -&gt; &quot;filter3, filter2, filter1, send response&quot;."}],"answers":[{"comments":[{"owner":{"account_id":28251515,"reputation":33,"user_id":21597685,"display_name":"Mateusz"},"score":0,"creation_date":1681027753,"post_id":75967434,"comment_id":133990875,"body_markdown":"Thanks for the clear explanation. I should add in the description of the problem that my confusion came from the fact that this issue occurred after migration from micronaut 2.5.6 to 3.8.8. That&#39;s why I assumed that this is not normal behavior. But I guess they just decided to change the implementation of chain a little bit. Your answer explain everything clearly.","body":"Thanks for the clear explanation. I should add in the description of the problem that my confusion came from the fact that this issue occurred after migration from micronaut 2.5.6 to 3.8.8. That&#39;s why I assumed that this is not normal behavior. But I guess they just decided to change the implementation of chain a little bit. Your answer explain everything clearly."}],"tags":[],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680984220,"creation_date":1680984220,"answer_id":75967434,"question_id":75967075,"body_markdown":"As mentioned by [Jon Skeet][1], this is a filter chain. In this chain you have all your filters in the given order. After the chain reaches the end the actual controller is called. And the the same filter chain is processed in the reverse order.\r\n\r\n```java\r\n@Override\r\npublic Publisher&lt;MutableHttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, ServerFilterChain chain) {\r\n        // This happens before the controller gets invoked\r\n        System.out.println(&quot;Returning publisher in SecondFilter!&quot;);\r\n        return Publishers.then(\r\n                chain.proceed(request),\r\n                mutableHttpResponse -&gt; {\r\n                    // this happens after the controller has been invokes. That&#39;s why you have the http response available.\r\n                    System.out.println(&quot;Mapping response in second filter!&quot;);\r\n                    mutableHttpResponse.getBody(ServiceHttpResponse.class)\r\n                            .ifPresent(resp -&gt; mutableHttpResponse.body(resp.format()));\r\n        });\r\n}\r\n```\r\n\r\nThe following image illustrates the pattern. It&#39;s not 1:1 what Micronaut does but it should give you an impression how things work.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nImage source: https://www.informit.com/articles/article.aspx?p=1398619&amp;seqNum=3\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/22656/jon-skeet\r\n  [2]: https://i.stack.imgur.com/6zlci.jpg","title":"Why micronaut intercepts requests in reversed order","body":"<p>As mentioned by <a href=\"https://stackoverflow.com/users/22656/jon-skeet\">Jon Skeet</a>, this is a filter chain. In this chain you have all your filters in the given order. After the chain reaches the end the actual controller is called. And the the same filter chain is processed in the reverse order.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Publisher&lt;MutableHttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, ServerFilterChain chain) {\n        // This happens before the controller gets invoked\n        System.out.println(&quot;Returning publisher in SecondFilter!&quot;);\n        return Publishers.then(\n                chain.proceed(request),\n                mutableHttpResponse -&gt; {\n                    // this happens after the controller has been invokes. That's why you have the http response available.\n                    System.out.println(&quot;Mapping response in second filter!&quot;);\n                    mutableHttpResponse.getBody(ServiceHttpResponse.class)\n                            .ifPresent(resp -&gt; mutableHttpResponse.body(resp.format()));\n        });\n}\n</code></pre>\n<p>The following image illustrates the pattern. It's not 1:1 what Micronaut does but it should give you an impression how things work.</p>\n<p><a href=\"https://i.stack.imgur.com/6zlci.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6zlci.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Image source: <a href=\"https://www.informit.com/articles/article.aspx?p=1398619&amp;seqNum=3\" rel=\"nofollow noreferrer\">https://www.informit.com/articles/article.aspx?p=1398619&amp;seqNum=3</a></p>\n"}],"owner":{"account_id":28251515,"reputation":33,"user_id":21597685,"display_name":"Mateusz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75967434,"answer_count":1,"score":2,"last_activity_date":1680984220,"creation_date":1680979181,"question_id":75967075,"body_markdown":"I&#39;m quite new to the reactive world, right now I&#39;m trying to create two HttpServerFilters that will map the response in server written in micronaut. To present my issue I prepared simplified code snipped:\r\n\r\n\r\n```\r\n@Filter(&quot;/**&quot;)\r\npublic class FirstFilter implements HttpServerFilter {\r\n\r\n    @Override\r\n    public int getOrder(){\r\n        return ServerFilterPhase.FIRST.before();\r\n    }\r\n\r\n    @Override\r\n    public Publisher&lt;MutableHttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, ServerFilterChain chain) {\r\n        System.out.println(&quot;Returning publisher in FirstFilter!&quot;);\r\n        return Publishers.then(\r\n                chain.proceed(request),\r\n                mutableHttpResponse -&gt; {\r\n                    System.out.println(&quot;Mapping response in first filter!&quot;);\r\n                    mutableHttpResponse.getBody(ServiceHttpResponse.class)\r\n                            .ifPresent(resp -&gt; mutableHttpResponse.status(resp.getStatus()));\r\n                });\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n@Filter(&quot;/**&quot;)\r\npublic class SecondFilter implements HttpServerFilter {\r\n\r\n    @Override\r\n    public int getOrder(){\r\n        return ServerFilterPhase.FIRST.after();\r\n    }\r\n\r\n    @Override\r\n    public Publisher&lt;MutableHttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, ServerFilterChain chain) {\r\n        System.out.println(&quot;Returning publisher in SecondFilter!&quot;);\r\n        return Publishers.then(\r\n                chain.proceed(request),\r\n                mutableHttpResponse -&gt; {\r\n                    System.out.println(&quot;Mapping response in second filter!&quot;);\r\n                    mutableHttpResponse.getBody(ServiceHttpResponse.class)\r\n                            .ifPresent(resp -&gt; mutableHttpResponse.body(resp.format()));\r\n                });\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nlogs after executing a request are as follow:\r\n\r\n\r\n```\r\nReturning publisher in FirstFilter!\r\nReturning publisher in SecondFilter!\r\nMapping response in second filter!\r\nMapping response in first filter!\r\n```\r\nFrom logs i can see that doFilter methods are invoked in the right order, but the methods in reactive stream that maps the response are invoked in reversed.\r\n\r\nIn my example I&#39;m trying to first set response status using information from current response body (ServiceHttpResponse) and then seta new, formatted body but because these executes in reversed order, new body is set first and information about response status is lost.\r\n\r\n\r\nWhat is causing this behavior? I tested it using more that 2 filters and the order is always reversed, so it&#39;s not random.","title":"Why micronaut intercepts requests in reversed order","body":"<p>I'm quite new to the reactive world, right now I'm trying to create two HttpServerFilters that will map the response in server written in micronaut. To present my issue I prepared simplified code snipped:</p>\n<pre><code>@Filter(&quot;/**&quot;)\npublic class FirstFilter implements HttpServerFilter {\n\n    @Override\n    public int getOrder(){\n        return ServerFilterPhase.FIRST.before();\n    }\n\n    @Override\n    public Publisher&lt;MutableHttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, ServerFilterChain chain) {\n        System.out.println(&quot;Returning publisher in FirstFilter!&quot;);\n        return Publishers.then(\n                chain.proceed(request),\n                mutableHttpResponse -&gt; {\n                    System.out.println(&quot;Mapping response in first filter!&quot;);\n                    mutableHttpResponse.getBody(ServiceHttpResponse.class)\n                            .ifPresent(resp -&gt; mutableHttpResponse.status(resp.getStatus()));\n                });\n    }\n}\n</code></pre>\n<pre><code>@Filter(&quot;/**&quot;)\npublic class SecondFilter implements HttpServerFilter {\n\n    @Override\n    public int getOrder(){\n        return ServerFilterPhase.FIRST.after();\n    }\n\n    @Override\n    public Publisher&lt;MutableHttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, ServerFilterChain chain) {\n        System.out.println(&quot;Returning publisher in SecondFilter!&quot;);\n        return Publishers.then(\n                chain.proceed(request),\n                mutableHttpResponse -&gt; {\n                    System.out.println(&quot;Mapping response in second filter!&quot;);\n                    mutableHttpResponse.getBody(ServiceHttpResponse.class)\n                            .ifPresent(resp -&gt; mutableHttpResponse.body(resp.format()));\n                });\n    }\n}\n</code></pre>\n<p>logs after executing a request are as follow:</p>\n<pre><code>Returning publisher in FirstFilter!\nReturning publisher in SecondFilter!\nMapping response in second filter!\nMapping response in first filter!\n</code></pre>\n<p>From logs i can see that doFilter methods are invoked in the right order, but the methods in reactive stream that maps the response are invoked in reversed.</p>\n<p>In my example I'm trying to first set response status using information from current response body (ServiceHttpResponse) and then seta new, formatted body but because these executes in reversed order, new body is set first and information about response status is lost.</p>\n<p>What is causing this behavior? I tested it using more that 2 filters and the order is always reversed, so it's not random.</p>\n"},{"tags":["java","json","gson"],"answers":[{"tags":[],"owner":{"account_id":368650,"reputation":3742,"user_id":715592,"accept_rate":71,"display_name":"NullPointerException"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1365703398,"creation_date":1365702446,"answer_id":15955451,"question_id":15954854,"body_markdown":"A different approach is that, you can create a Map of key values from the JSON and then look for the values, since the keys are not known\r\n\r\n        Gson gson = new Gson();\r\n\t\tType mapType = new TypeToken&lt;Map&lt;String,List&lt;Map&lt;String, String&gt;&gt;&gt;&gt;() {}.getType();\r\n\t    Map&lt;String,List&lt;Map&lt;String, String&gt;&gt; &gt;map = gson.fromJson(responseStr, mapType);\r\n\t    System.out.println(map);\r\n\r\n        Customers c = new Customers();\r\n\t    \r\n\t    c.setCustomers(map.get(&quot;Customers&quot;));\r\n\t    \r\n\t    System.out.println(c.getCustomers());\r\n\r\nModify your Customers class like this \r\n\r\n    public class Customers {\r\n\r\n\tpublic List&lt;Map&lt;String, String&gt;&gt; customers;\r\n\r\n\tpublic List&lt;Map&lt;String, String&gt;&gt; getCustomers() {\r\n\t\treturn customers;\r\n\t}\r\n\r\n\tpublic void setCustomers(List&lt;Map&lt;String, String&gt;&gt; customers) {\r\n\t\tthis.customers = customers;\r\n\t}\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Deserializing a JSON object using gson when keys are not known in advance","body":"<p>A different approach is that, you can create a Map of key values from the JSON and then look for the values, since the keys are not known</p>\n\n<pre><code>    Gson gson = new Gson();\n    Type mapType = new TypeToken&lt;Map&lt;String,List&lt;Map&lt;String, String&gt;&gt;&gt;&gt;() {}.getType();\n    Map&lt;String,List&lt;Map&lt;String, String&gt;&gt; &gt;map = gson.fromJson(responseStr, mapType);\n    System.out.println(map);\n\n    Customers c = new Customers();\n\n    c.setCustomers(map.get(\"Customers\"));\n\n    System.out.println(c.getCustomers());\n</code></pre>\n\n<p>Modify your Customers class like this </p>\n\n<pre><code>public class Customers {\n\npublic List&lt;Map&lt;String, String&gt;&gt; customers;\n\npublic List&lt;Map&lt;String, String&gt;&gt; getCustomers() {\n    return customers;\n}\n\npublic void setCustomers(List&lt;Map&lt;String, String&gt;&gt; customers) {\n    this.customers = customers;\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":1619176,"reputation":2177,"user_id":1496122,"display_name":"k2col"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1606,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":15955451,"answer_count":1,"score":0,"last_activity_date":1680984046,"creation_date":1365700348,"question_id":15954854,"body_markdown":"I am trying to parse a JSON object which consists of an Array of Customer objects.   Each customer object contains a number of key/value pairs:\r\n\r\n    {\r\n       &quot;Customers&quot;: \r\n       [\r\n         {\r\n            &quot;customer.name&quot;: &quot;acme corp&quot;,\r\n            &quot;some_key&quot;: &quot;value&quot;,\r\n            &quot;other_key&quot;: &quot;other_value&quot;,\r\n            &quot;another_key&quot;: &quot;another value&quot;\r\n         },\r\n         {\r\n            &quot;customer.name&quot;: &quot;bluechip&quot;,\r\n            &quot;different_key&quot;: &quot;value&quot;,\r\n            &quot;foo_key&quot;: &quot;other_value&quot;,\r\n            &quot;baa&quot;: &quot;another value&quot;\r\n         }\r\n       ]\r\n    }\r\n\r\nThe complication is that the keys are not known to me in advance.  A second complication is that the keys contain periods (.) that mean that even when I have tried to map them to a field, it fails.\r\n\r\nI have been trying to map these to a Customers class:\r\n\r\n    Customers data = new Gson().fromJson(responseStr, Customers.class);\r\n\r\nwhich looks like this:\r\n\r\n    public class Customers {\r\n\r\n        public List&lt;Customer&gt; Customers;\r\n\t   \r\n        static public class Customer {\r\n\t\t\r\n            public List&lt;KeyValuePair&gt; properties;\r\n            public class KeyValuePair {\r\n                String key;\r\n                Object value;\r\n            }     \r\n        }\r\n    }\r\n\r\nMy problem is that in when I load this class from the JSON, my Customers list populates, but their properties are null.  How can I make GSON deal with the fact that I don&#39;t know the key names?\r\n\r\nI have tried various other approaches including putting a HashMap&lt;String,String&gt; in the Customer class, in place of the KeyValuePair class.","title":"Deserializing a JSON object using gson when keys are not known in advance","body":"<p>I am trying to parse a JSON object which consists of an Array of Customer objects.   Each customer object contains a number of key/value pairs:</p>\n\n<pre><code>{\n   \"Customers\": \n   [\n     {\n        \"customer.name\": \"acme corp\",\n        \"some_key\": \"value\",\n        \"other_key\": \"other_value\",\n        \"another_key\": \"another value\"\n     },\n     {\n        \"customer.name\": \"bluechip\",\n        \"different_key\": \"value\",\n        \"foo_key\": \"other_value\",\n        \"baa\": \"another value\"\n     }\n   ]\n}\n</code></pre>\n\n<p>The complication is that the keys are not known to me in advance.  A second complication is that the keys contain periods (.) that mean that even when I have tried to map them to a field, it fails.</p>\n\n<p>I have been trying to map these to a Customers class:</p>\n\n<pre><code>Customers data = new Gson().fromJson(responseStr, Customers.class);\n</code></pre>\n\n<p>which looks like this:</p>\n\n<pre><code>public class Customers {\n\n    public List&lt;Customer&gt; Customers;\n\n    static public class Customer {\n\n        public List&lt;KeyValuePair&gt; properties;\n        public class KeyValuePair {\n            String key;\n            Object value;\n        }     \n    }\n}\n</code></pre>\n\n<p>My problem is that in when I load this class from the JSON, my Customers list populates, but their properties are null.  How can I make GSON deal with the fact that I don't know the key names?</p>\n\n<p>I have tried various other approaches including putting a HashMap in the Customer class, in place of the KeyValuePair class.</p>\n"},{"tags":["java","dependency-injection","javabeans","shiro","java-ee-8"],"comments":[{"owner":{"account_id":383130,"reputation":2081,"user_id":6415199,"display_name":"Brian Demers"},"score":0,"creation_date":1681158077,"post_id":75967366,"comment_id":134008538,"body_markdown":"What object is null? Can you include the stacktrace?\nDo the equivalent `Subject.hasPermissions(*)` methods work for you?","body":"What object is null? Can you include the stacktrace? Do the equivalent <code>Subject.hasPermissions(*)</code> methods work for you?"},{"owner":{"account_id":13039650,"reputation":55,"user_id":9423448,"display_name":"Hassan Shaitou"},"score":0,"creation_date":1681158433,"post_id":75967366,"comment_id":134008614,"body_markdown":"The `PermissionRoles`  Object, looks like Apache Shiro is not configured with JAVA EE CDI. I think I need to handle it manually, if you can help with this approach please","body":"The <code>PermissionRoles</code>  Object, looks like Apache Shiro is not configured with JAVA EE CDI. I think I need to handle it manually, if you can help with this approach please"},{"owner":{"account_id":13039650,"reputation":55,"user_id":9423448,"display_name":"Hassan Shaitou"},"score":0,"creation_date":1681165128,"post_id":75967366,"comment_id":134009779,"body_markdown":"So I was right, found this fix here https://stackoverflow.com/questions/15605038/unable-to-inject-my-dao-in-a-custom-apache-shiro-authorizingrealm ... And I was able to conifgure Shiro with JAVA EE CDI","body":"So I was right, found this fix here <a href=\"https://stackoverflow.com/questions/15605038/unable-to-inject-my-dao-in-a-custom-apache-shiro-authorizingrealm\" title=\"unable to inject my dao in a custom apache shiro authorizingrealm\">stackoverflow.com/questions/15605038/&hellip;</a> ... And I was able to conifgure Shiro with JAVA EE CDI"}],"owner":{"account_id":13039650,"reputation":55,"user_id":9423448,"display_name":"Hassan Shaitou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680983207,"creation_date":1680983207,"question_id":75967366,"body_markdown":"I am using Apache Shiro for Authentication/Authorization. I am good with the Authentication part using signed JWT. But, as for the auth part I am facing a NULL pointer exception on when accessing the object. Please guide me where I am mistaken...\r\n\r\nThis class implements **RolePermissionResolver** from Apache shiro, and whenever a request is fired it needs to pass through the overriden function if the REST request is annotated with **@RequiresPermissions()** or **@RequiresRoles()**\r\n\r\n```\r\n@ApplicationScoped\r\n@Default\r\npublic class JpaRolePermissionResolver implements RolePermissionResolver {\r\n  @Inject\r\n  PermissionRoles permissionRoles;\r\n  @Override\r\n  public Collection&lt;Permission&gt; resolvePermissionsInRole(String roleString) {\r\n    /*PermissionRoles permissionRoles = new PermissionRoles();\r\n    permissionRoles.getAllPermissionsForRole();*/\r\n    permissionRoles.getAllPermissionsForRole();\r\n    if(roleString.equals(&quot;adminplus&quot;)) {\r\n      return List.of(new WildcardPermission(&quot;canupdate:read&quot;));\r\n    } else if(roleString.equals(&quot;mod&quot;)) {\r\n      return  List.of(\r\n        new WildcardPermission(&quot;troopers:read&quot;),\r\n        new WildcardPermission(&quot;troopers:create&quot;),\r\n        new WildcardPermission(&quot;troopers:update&quot;)\r\n        //, ... but not delete.\r\n      );\r\n    } else if(roleString.equals(&quot;user&quot;)) {\r\n      return List.of(new WildcardPermission(&quot;troopers:read&quot;));\r\n    }\r\n    return List.of();\r\n  }\r\n}\r\n\r\n```\r\n\r\n```\r\npublic interface IRolePermission extends Serializable {\r\n   HashMap&lt;String, PermissionRoles&gt; getAllPermissionsForRole();\r\n}\r\n```\r\n\r\n```\r\n@Stateless\r\n@LocalBean\r\npublic class PermissionRoles implements IRolePermission {\r\n  @PersistenceContext(unitName = &quot;default&quot;)\r\n  EntityManager em;\r\n  private String role;\r\n  private String permission;\r\n\r\n  public PermissionRoles() {\r\n  }\r\n  public PermissionRoles(String role, String permission) {\r\n    this.role = role;\r\n    this.permission = permission;\r\n  }\r\n\r\n  public String getRole() {\r\n    return role;\r\n  }\r\n\r\n  public void setRole(String role) {\r\n    this.role = role;\r\n  }\r\n\r\n  public String getPermission() {\r\n    return permission;\r\n  }\r\n\r\n  public void setPermission(String permission) {\r\n    this.permission = permission;\r\n  }\r\n\r\n  @Override\r\n  public HashMap&lt;String, PermissionRoles&gt; getAllPermissionsForRole() {\r\n    String sqlQuery = &quot;SELECT er.name as role_name, ARRAY_TO_STRING(ARRAY_AGG(ep.name), &#39;,&#39;) as permission_name &quot; +\r\n      &quot;FROM ecommerce_roles er &quot; +\r\n      &quot;JOIN ecommerce_role_permission erp ON er.id = erp.role_id &quot; +\r\n      &quot;JOIN ecommerce_permissions ep ON ep.id = erp.permission_id &quot; +\r\n      &quot;WHERE er.status = 1 AND ep.status = 1 &quot; +\r\n      &quot;GROUP BY role_name&quot;;\r\n    Query query = em.createNativeQuery(sqlQuery);\r\n    List&lt;Object[]&gt; rolesPermission = query.getResultList();\r\n    System.out.println(sqlQuery);\r\n    HashMap&lt;String, PermissionRoles&gt; permissionRoles = new HashMap&lt;&gt;();\r\n    for(Object[] object : rolesPermission) {\r\n      permissionRoles.put((String) object[0],new PermissionRoles((String) object[0], (String) object[1]));\r\n    }\r\n    return permissionRoles;\r\n  }\r\n}\r\n```\r\n\r\n```\r\n@Inject\r\nPermissionRoles permissionRoles;\r\n\r\n@GET\r\n@Produces(&quot;text/plain&quot;)\r\n@RequiresPermissions(&quot;canupdate:read&quot;)\r\npublic String hello() {\r\n  permissionRoles.getAllPermissionsForRole();\r\n  return &quot;User resource&quot;;\r\n}\r\n```\r\n\r\nKnowing that when calling **permissionRoles.getAllPermissionsForRole();** in the REST Request i.e. the **hello** function is working properly, but not in **JpaRolePermissionResolver**, any idea why ? please help !","title":"Why I am getting NULL pointer Exception when injecting the bean as follows?","body":"<p>I am using Apache Shiro for Authentication/Authorization. I am good with the Authentication part using signed JWT. But, as for the auth part I am facing a NULL pointer exception on when accessing the object. Please guide me where I am mistaken...</p>\n<p>This class implements <strong>RolePermissionResolver</strong> from Apache shiro, and whenever a request is fired it needs to pass through the overriden function if the REST request is annotated with <strong>@RequiresPermissions()</strong> or <strong>@RequiresRoles()</strong></p>\n<pre><code>@ApplicationScoped\n@Default\npublic class JpaRolePermissionResolver implements RolePermissionResolver {\n  @Inject\n  PermissionRoles permissionRoles;\n  @Override\n  public Collection&lt;Permission&gt; resolvePermissionsInRole(String roleString) {\n    /*PermissionRoles permissionRoles = new PermissionRoles();\n    permissionRoles.getAllPermissionsForRole();*/\n    permissionRoles.getAllPermissionsForRole();\n    if(roleString.equals(&quot;adminplus&quot;)) {\n      return List.of(new WildcardPermission(&quot;canupdate:read&quot;));\n    } else if(roleString.equals(&quot;mod&quot;)) {\n      return  List.of(\n        new WildcardPermission(&quot;troopers:read&quot;),\n        new WildcardPermission(&quot;troopers:create&quot;),\n        new WildcardPermission(&quot;troopers:update&quot;)\n        //, ... but not delete.\n      );\n    } else if(roleString.equals(&quot;user&quot;)) {\n      return List.of(new WildcardPermission(&quot;troopers:read&quot;));\n    }\n    return List.of();\n  }\n}\n\n</code></pre>\n<pre><code>public interface IRolePermission extends Serializable {\n   HashMap&lt;String, PermissionRoles&gt; getAllPermissionsForRole();\n}\n</code></pre>\n<pre><code>@Stateless\n@LocalBean\npublic class PermissionRoles implements IRolePermission {\n  @PersistenceContext(unitName = &quot;default&quot;)\n  EntityManager em;\n  private String role;\n  private String permission;\n\n  public PermissionRoles() {\n  }\n  public PermissionRoles(String role, String permission) {\n    this.role = role;\n    this.permission = permission;\n  }\n\n  public String getRole() {\n    return role;\n  }\n\n  public void setRole(String role) {\n    this.role = role;\n  }\n\n  public String getPermission() {\n    return permission;\n  }\n\n  public void setPermission(String permission) {\n    this.permission = permission;\n  }\n\n  @Override\n  public HashMap&lt;String, PermissionRoles&gt; getAllPermissionsForRole() {\n    String sqlQuery = &quot;SELECT er.name as role_name, ARRAY_TO_STRING(ARRAY_AGG(ep.name), ',') as permission_name &quot; +\n      &quot;FROM ecommerce_roles er &quot; +\n      &quot;JOIN ecommerce_role_permission erp ON er.id = erp.role_id &quot; +\n      &quot;JOIN ecommerce_permissions ep ON ep.id = erp.permission_id &quot; +\n      &quot;WHERE er.status = 1 AND ep.status = 1 &quot; +\n      &quot;GROUP BY role_name&quot;;\n    Query query = em.createNativeQuery(sqlQuery);\n    List&lt;Object[]&gt; rolesPermission = query.getResultList();\n    System.out.println(sqlQuery);\n    HashMap&lt;String, PermissionRoles&gt; permissionRoles = new HashMap&lt;&gt;();\n    for(Object[] object : rolesPermission) {\n      permissionRoles.put((String) object[0],new PermissionRoles((String) object[0], (String) object[1]));\n    }\n    return permissionRoles;\n  }\n}\n</code></pre>\n<pre><code>@Inject\nPermissionRoles permissionRoles;\n\n@GET\n@Produces(&quot;text/plain&quot;)\n@RequiresPermissions(&quot;canupdate:read&quot;)\npublic String hello() {\n  permissionRoles.getAllPermissionsForRole();\n  return &quot;User resource&quot;;\n}\n</code></pre>\n<p>Knowing that when calling <strong>permissionRoles.getAllPermissionsForRole();</strong> in the REST Request i.e. the <strong>hello</strong> function is working properly, but not in <strong>JpaRolePermissionResolver</strong>, any idea why ? please help !</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1680941702,"post_id":75964079,"comment_id":133982185,"body_markdown":"`getResourceAsStream` loads data from the classpath, likely from the WAR itself or one of the libraries in the WAR. This will usually be the same data until you replace it by redeploying. If you want to load data from a **file**, you should use `Files.newInputStream` with the path to the file.","body":"<code>getResourceAsStream</code> loads data from the classpath, likely from the WAR itself or one of the libraries in the WAR. This will usually be the same data until you replace it by redeploying. If you want to load data from a <b>file</b>, you should use <code>Files.newInputStream</code> with the path to the file."}],"answers":[{"tags":[],"owner":{"account_id":15629092,"reputation":1,"user_id":11275860,"display_name":"Ankit Basrur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680976460,"creation_date":1680976460,"answer_id":75966843,"question_id":75964079,"body_markdown":"Issue resolved by using `File file = new File(&quot;sample.xlsx&quot;);`\r\n\r\nThis worked as it loads the file instantaneously, whereas rest of the filereader methods load the resource from the classpath just once.","title":"Spring boot returning old excel sheet data","body":"<p>Issue resolved by using <code>File file = new File(&quot;sample.xlsx&quot;);</code></p>\n<p>This worked as it loads the file instantaneously, whereas rest of the filereader methods load the resource from the classpath just once.</p>\n"}],"owner":{"account_id":15629092,"reputation":1,"user_id":11275860,"display_name":"Ankit Basrur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680982975,"creation_date":1680941533,"question_id":75964079,"body_markdown":"I want to create a `function` to get the latest Excel data from a server on which my `Spring Boot` application is running. However, my method is returning old data from the time when my `Tomcat` was started. Kindly suggest ways to implement it.\r\n\r\nMy code:\r\n\r\n```java\r\n@GetMapping(&quot;/download&quot;)\r\npublic ResponseEntity download() {\r\n    String fileName = &quot;/sample.xlsx&quot;;\r\n    InputStream is = this.getClass().getResourceAsStream(fileName);\r\n\r\n    try {\r\n        return ResponseEntity.ok().header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; fileName=&quot; + fileName)  .contentType(MediaType.parseMediaType(&quot;application/vnd.ms-excel&quot;)).body(IOUtils.toByteArray(is));\r\n    } catch (IOException e) {\r\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\r\n    }\r\n}\r\n```","title":"Spring boot returning old excel sheet data","body":"<p>I want to create a <code>function</code> to get the latest Excel data from a server on which my <code>Spring Boot</code> application is running. However, my method is returning old data from the time when my <code>Tomcat</code> was started. Kindly suggest ways to implement it.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/download&quot;)\npublic ResponseEntity download() {\n    String fileName = &quot;/sample.xlsx&quot;;\n    InputStream is = this.getClass().getResourceAsStream(fileName);\n\n    try {\n        return ResponseEntity.ok().header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; fileName=&quot; + fileName)  .contentType(MediaType.parseMediaType(&quot;application/vnd.ms-excel&quot;)).body(IOUtils.toByteArray(is));\n    } catch (IOException e) {\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build();\n    }\n}\n</code></pre>\n"},{"tags":["java","object","hashtable","contains","hashset"],"comments":[{"owner":{"account_id":103283,"reputation":872,"user_id":276712,"accept_rate":93,"display_name":"user276712"},"score":0,"creation_date":1266703329,"post_id":2303875,"comment_id":2269954,"body_markdown":"thanks everyone! My object actually contains a linked list i need to update frequently, so i think i&#39;m going to just go with HashTable rather than do an expensive iteration for every object update.","body":"thanks everyone! My object actually contains a linked list i need to update frequently, so i think i&#39;m going to just go with HashTable rather than do an expensive iteration for every object update."}],"answers":[{"comments":[{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":2,"creation_date":1266720750,"post_id":2303905,"comment_id":2270743,"body_markdown":"This is not totally true. It&#39;s safe to modify a HashSet element if the change doesn&#39;t impact the object&#39;s equality (and hash code). For example, if equals and hashCode were not overridden, then the change is safe to do as its equality is not changed.","body":"This is not totally true. It&#39;s safe to modify a HashSet element if the change doesn&#39;t impact the object&#39;s equality (and hash code). For example, if equals and hashCode were not overridden, then the change is safe to do as its equality is not changed."},{"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"score":3,"creation_date":1266741885,"post_id":2303905,"comment_id":2271531,"body_markdown":"Yes, and that&#39;s why I wrote the part in parentheses.","body":"Yes, and that&#39;s why I wrote the part in parentheses."}],"tags":[],"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1266741922,"creation_date":1266702909,"answer_id":2303905,"question_id":2303875,"body_markdown":"You can remove an element and add a different one.\r\n\r\nModifying an object while it is in a hash set is a recipe for disaster (if the modification changes the hash value or equality behavior).","title":"how to find and return objects in java hashset","body":"<p>You can remove an element and add a different one.</p>\n\n<p>Modifying an object while it is in a hash set is a recipe for disaster (if the modification changes the hash value or equality behavior).</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1266718759,"post_id":2303908,"comment_id":2270701,"body_markdown":"&quot;You can iterate ...&quot; but of course if you do that, updating a set element becomes an `O(N)` operation.","body":"&quot;You can iterate ...&quot; but of course if you do that, updating a set element becomes an <code>O(N)</code> operation."}],"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1266703015,"creation_date":1266703015,"answer_id":2303908,"question_id":2303875,"body_markdown":"You can iterate through the set to find your object.\r\n\r\nA word of warning from the [API doc][1] though:\r\n\r\n**&quot;Note: Great care must be exercised if mutable objects are used as set elements. The behavior of a set is not specified if the value of an object is changed in a manner that affects equals comparisons while the object is an element in the set.&quot;**\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html","title":"how to find and return objects in java hashset","body":"<p>You can iterate through the set to find your object.</p>\n\n<p>A word of warning from the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\">API doc</a> though:</p>\n\n<p><strong>\"Note: Great care must be exercised if mutable objects are used as set elements. The behavior of a set is not specified if the value of an object is changed in a manner that affects equals comparisons while the object is an element in the set.\"</strong></p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1266718835,"post_id":2303910,"comment_id":2270704,"body_markdown":"I think you are trying to say &quot;use a HashMap&quot; ... correct?  :-)","body":"I think you are trying to say &quot;use a HashMap&quot; ... correct?  :-)"},{"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"score":5,"creation_date":1266801977,"post_id":2303910,"comment_id":2275225,"body_markdown":"Yes. Sorry, sometimes I can&#39;t resist the urge to make little puzzles out of answers.","body":"Yes. Sorry, sometimes I can&#39;t resist the urge to make little puzzles out of answers."}],"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1266703044,"creation_date":1266703044,"answer_id":2303910,"question_id":2303875,"body_markdown":"To quote the source of the stock Sun java.util.HashSet:\r\n\r\n    public class HashSet&lt;E&gt;\r\n        extends AbstractSet&lt;E&gt;\r\n        implements Set&lt;E&gt;, Cloneable, java.io.Serializable\r\n    {\r\n        static final long serialVersionUID = -5024744406713321676L;\r\n    \r\n        private transient HashMap&lt;E,Object&gt; map;\r\n\r\nSo you are paying for a map, you might as well use it.\r\n","title":"how to find and return objects in java hashset","body":"<p>To quote the source of the stock Sun java.util.HashSet:</p>\n\n<pre><code>public class HashSet&lt;E&gt;\n    extends AbstractSet&lt;E&gt;\n    implements Set&lt;E&gt;, Cloneable, java.io.Serializable\n{\n    static final long serialVersionUID = -5024744406713321676L;\n\n    private transient HashMap&lt;E,Object&gt; map;\n</code></pre>\n\n<p>So you are paying for a map, you might as well use it.</p>\n"},{"tags":[],"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680982821,"creation_date":1266703096,"answer_id":2303914,"question_id":2303875,"body_markdown":"    Object oldobj; //object to modify\r\n    if (hashset.remove(oldobj)) {\r\n       //\r\n       // the following executed only if the object is already in the set\r\n       //\r\n       Object newobj = modify(obj); // get a modified copy\r\n       hashset.add(newobj);\r\n    }","title":"how to find and return objects in java hashset","body":"<pre><code>Object oldobj; //object to modify\nif (hashset.remove(oldobj)) {\n   //\n   // the following executed only if the object is already in the set\n   //\n   Object newobj = modify(obj); // get a modified copy\n   hashset.add(newobj);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":3,"creation_date":1266703375,"post_id":2303917,"comment_id":2269956,"body_markdown":"1. `== true` - is unnecessary\n2. you hasn&#39;t checked return value of `.remove(obj)`\n3. `.contains()` is unnecessary if you removing at next step","body":"1. <code>== true</code> - is unnecessary 2. you hasn&#39;t checked return value of <code>.remove(obj)</code> 3. <code>.contains()</code> is unnecessary if you removing at next step"},{"owner":{"account_id":21136,"reputation":2453,"user_id":51162,"accept_rate":70,"display_name":"kovica"},"score":1,"creation_date":1266790148,"post_id":2303917,"comment_id":2274400,"body_markdown":"Despide the fact that all is true, you shouldn&#39;t be so picky :)","body":"Despide the fact that all is true, you shouldn&#39;t be so picky :)"}],"tags":[],"owner":{"account_id":21136,"reputation":2453,"user_id":51162,"accept_rate":70,"display_name":"kovica"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1266703149,"creation_date":1266703149,"answer_id":2303917,"question_id":2303875,"body_markdown":"Something like:\r\n\r\n    MyObject obj = new MyObject();\r\n    HashSet hashSet = new HashSet();\r\n    hashSet.add(obj);\r\n    \r\n    if (hashSet.contains(obj) == true) {\r\n        hashSet.remove(obj);\r\n        obj.setSomething();\r\n        hashSet.add(obj);\r\n    }","title":"how to find and return objects in java hashset","body":"<p>Something like:</p>\n\n<pre><code>MyObject obj = new MyObject();\nHashSet hashSet = new HashSet();\nhashSet.add(obj);\n\nif (hashSet.contains(obj) == true) {\n    hashSet.remove(obj);\n    obj.setSomething();\n    hashSet.add(obj);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1152371,"reputation":4169,"user_id":1133802,"accept_rate":90,"display_name":"mostruash"},"score":1,"creation_date":1369514038,"post_id":14577274,"comment_id":24133462,"body_markdown":"There is no need to delegate. Simply use HashMap instead of HashSet.","body":"There is no need to delegate. Simply use HashMap instead of HashSet."}],"tags":[],"owner":{"account_id":1992664,"reputation":25,"user_id":1786336,"accept_rate":75,"display_name":"ccol002"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1359442521,"creation_date":1359442521,"answer_id":14577274,"question_id":2303875,"body_markdown":"I encountered the same problem and came up with the following solution (it should implement the Set interface but not all methods are here)\r\n\r\n    public class MySet&lt;T&gt; implements Set&lt;T&gt;{\r\n    \r\n    \tprivate HashMap&lt;T,T&gt; items = new HashMap&lt;T,T&gt;();\r\n    \r\n    \r\n    \tpublic boolean contains(Object item) \r\n    \t{\r\n    \t\treturn items.containsKey(item);\r\n    \t}\r\n    \r\n    \tpublic boolean add(T item) \r\n    \t{\r\n    \t\tif (items.containsKey(item))\r\n    \t\t\treturn false;\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\titems.put(item, item);\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic T get(T item) \r\n    \t{\r\n    \t\treturn items.get(item);\r\n    \t}\r\n    }\r\n\r\n\r\n    ","title":"how to find and return objects in java hashset","body":"<p>I encountered the same problem and came up with the following solution (it should implement the Set interface but not all methods are here)</p>\n\n<pre><code>public class MySet&lt;T&gt; implements Set&lt;T&gt;{\n\n    private HashMap&lt;T,T&gt; items = new HashMap&lt;T,T&gt;();\n\n\n    public boolean contains(Object item) \n    {\n        return items.containsKey(item);\n    }\n\n    public boolean add(T item) \n    {\n        if (items.containsKey(item))\n            return false;\n        else\n        {\n            items.put(item, item);\n            return true;\n        }\n    }\n\n    public T get(T item) \n    {\n        return items.get(item);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":103283,"reputation":872,"user_id":276712,"accept_rate":93,"display_name":"user276712"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38241,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":2303905,"answer_count":6,"score":12,"last_activity_date":1680982821,"creation_date":1266702612,"question_id":2303875,"body_markdown":"According to the HashSet javadoc, HashSet.contains only returns a boolean. How can I &quot;find&quot; an object in a hashSet and modify it (it&#39;s not a primitive data type)?\r\n\r\nI see that HashTable has a get() method, but I would prefer to use the set.","title":"how to find and return objects in java hashset","body":"<p>According to the HashSet javadoc, HashSet.contains only returns a boolean. How can I \"find\" an object in a hashSet and modify it (it's not a primitive data type)?</p>\n\n<p>I see that HashTable has a get() method, but I would prefer to use the set.</p>\n"},{"tags":["java","gradle","antlr","antlr4"],"comments":[{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":0,"creation_date":1680997827,"post_id":75967291,"comment_id":133988810,"body_markdown":"Outside of Gradle, the tool works fine for this scenario: just make two calls to the tool with different `-o` and `-lib` options. (It would be best if your code generator should not be hardwiring the package name via `@header`. It should use the `-package` option on the tool call instead.) One call to the tool cannot possibly work because the .tokens files collide, and duplicate options to the tool have a &quot;last one wins&quot; semantics. The problem is likely that this is not a scenario the plugin can handle.","body":"Outside of Gradle, the tool works fine for this scenario: just make two calls to the tool with different <code>-o</code> and <code>-lib</code> options. (It would be best if your code generator should not be hardwiring the package name via <code>@header</code>. It should use the <code>-package</code> option on the tool call instead.) One call to the tool cannot possibly work because the .tokens files collide, and duplicate options to the tool have a &quot;last one wins&quot; semantics. The problem is likely that this is not a scenario the plugin can handle."}],"owner":{"account_id":28246634,"reputation":11,"user_id":21593544,"display_name":"Sapo Enojado"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680982183,"creation_date":1680982183,"question_id":75967291,"body_markdown":"Consider two ANTLR grammars in a directory structure like the following:\r\n\r\n```\r\nantlr-4.12.0-complete.jar\r\ngenerated-code/\r\ngrammars/\r\n  com/\r\n    example/\r\n      version1/\r\n        Grammar.g4\r\n      version2/\r\n        Grammar.g4\r\n```\r\n\r\nThe idea is to keep around a parser for each version of a grammar for backwards compatibility. The grammars have the same name, but are not identical and are in different packages:\r\n\r\n```\r\nGrammar.g4 (version 1)\r\n----------------------\r\ngrammar Grammar;\r\n\r\n@header {\r\npackage com.example.version1;\r\n}\r\n\r\nstart: &#39;abc&#39;.*?&#39;def&#39;;\r\n```\r\n\r\n```\r\nGrammar.g4 (version 2)\r\n----------------------\r\ngrammar Grammar;\r\n\r\n@header {\r\npackage com.example.version2;\r\n}\r\n\r\nstart: &#39;qrs&#39;.*?&#39;tuv&#39;;\r\n```\r\n\r\nA command like\r\n\r\n```\r\ngrammars/&gt; java -jar ../antlr-4.12.0-complete.jar -o ../generated-code ./com/example/version1/Grammar.g4 ./com/example/version2/Grammar.g4\r\n```\r\n\r\nresults in the following:\r\n\r\n```\r\ngenerated-code/\r\n  com/\r\n    example/\r\n      version1/\r\n        GrammarLexer.java\r\n        GrammarParser.java\r\n        ...\r\n```\r\n\r\n**There is no `version2`.** The cause appears to be in ANTLR&#39;s `Tool` class, in\r\n\r\n`public List&lt;GrammarRootAST&gt; sortGrammarByTokenVocab(List&lt;String&gt; fileNames)`\r\n\r\nwhere grammars are collected by name only. The list of filenames contains two grammars, but the return value contains only one AST.\r\n\r\nObviously, there are several easy workarounds - (1) give the grammars different names, (2) run the tool twice, or (3) make one grammar that can handle all the versions. I can do (1), which makes this question rather low-priority. I can&#39;t easily do (2) because I&#39;m using the ANTLR gradle plugin, which operates on all grammars at once (and because the file ordering is not guaranteed, I randomly get generated code for version 1 or version 2, but never both). I can&#39;t do (3) because these ANTLR grammars are not hand-written, but generated from a multi-thousand-line proprietary grammar with a non-ANTLR syntax, which has changed significantly over the years.\r\n\r\nShould this be considered an ANTLR bug, since the grammars are different and in different packages? Is it user error to supply the tool with multiple unrelated grammars with the same name in a single invocation (in which case the gradle plugin is also making that error, though reasonably so)?\r\n","title":"Should ANTLR handle the case of two grammars with the same name?","body":"<p>Consider two ANTLR grammars in a directory structure like the following:</p>\n<pre><code>antlr-4.12.0-complete.jar\ngenerated-code/\ngrammars/\n  com/\n    example/\n      version1/\n        Grammar.g4\n      version2/\n        Grammar.g4\n</code></pre>\n<p>The idea is to keep around a parser for each version of a grammar for backwards compatibility. The grammars have the same name, but are not identical and are in different packages:</p>\n<pre><code>Grammar.g4 (version 1)\n----------------------\ngrammar Grammar;\n\n@header {\npackage com.example.version1;\n}\n\nstart: 'abc'.*?'def';\n</code></pre>\n<pre><code>Grammar.g4 (version 2)\n----------------------\ngrammar Grammar;\n\n@header {\npackage com.example.version2;\n}\n\nstart: 'qrs'.*?'tuv';\n</code></pre>\n<p>A command like</p>\n<pre><code>grammars/&gt; java -jar ../antlr-4.12.0-complete.jar -o ../generated-code ./com/example/version1/Grammar.g4 ./com/example/version2/Grammar.g4\n</code></pre>\n<p>results in the following:</p>\n<pre><code>generated-code/\n  com/\n    example/\n      version1/\n        GrammarLexer.java\n        GrammarParser.java\n        ...\n</code></pre>\n<p><strong>There is no <code>version2</code>.</strong> The cause appears to be in ANTLR's <code>Tool</code> class, in</p>\n<p><code>public List&lt;GrammarRootAST&gt; sortGrammarByTokenVocab(List&lt;String&gt; fileNames)</code></p>\n<p>where grammars are collected by name only. The list of filenames contains two grammars, but the return value contains only one AST.</p>\n<p>Obviously, there are several easy workarounds - (1) give the grammars different names, (2) run the tool twice, or (3) make one grammar that can handle all the versions. I can do (1), which makes this question rather low-priority. I can't easily do (2) because I'm using the ANTLR gradle plugin, which operates on all grammars at once (and because the file ordering is not guaranteed, I randomly get generated code for version 1 or version 2, but never both). I can't do (3) because these ANTLR grammars are not hand-written, but generated from a multi-thousand-line proprietary grammar with a non-ANTLR syntax, which has changed significantly over the years.</p>\n<p>Should this be considered an ANTLR bug, since the grammars are different and in different packages? Is it user error to supply the tool with multiple unrelated grammars with the same name in a single invocation (in which case the gradle plugin is also making that error, though reasonably so)?</p>\n"},{"tags":["java","date","validation","datetime","java-8"],"comments":[{"owner":{"account_id":1220641,"reputation":3017,"user_id":1187356,"accept_rate":25,"display_name":"Tanu Garg"},"score":0,"creation_date":1603348953,"post_id":64476573,"comment_id":114009990,"body_markdown":"Yes but here I am not creating the format. I first need to find the pattern from the input which would be any of among 5 and then need to parse it.","body":"Yes but here I am not creating the format. I first need to find the pattern from the input which would be any of among 5 and then need to parse it."},{"owner":{"account_id":1220641,"reputation":3017,"user_id":1187356,"accept_rate":25,"display_name":"Tanu Garg"},"score":0,"creation_date":1603349204,"post_id":64476573,"comment_id":114010081,"body_markdown":"yes @GhostCat this data is curated from different different sources so has multiple types.","body":"yes @GhostCat this data is curated from different different sources so has multiple types."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1603349775,"post_id":64476573,"comment_id":114010303,"body_markdown":"There are so many posts on SO for the same/similar requirement e.g. https://stackoverflow.com/questions/4024544/how-to-parse-dates-in-multiple-formats-using-simpledateformat\n - https://stackoverflow.com/questions/44600420/datetimeformatter-accepting-multiple-dates-and-converting-to-one-java-time-libr  - https://stackoverflow.com/questions/51587242/how-to-parse-different-date-formats-from-string-in-java-faq","body":"There are so many posts on SO for the same/similar requirement e.g. <a href=\"https://stackoverflow.com/questions/4024544/how-to-parse-dates-in-multiple-formats-using-simpledateformat\" title=\"how to parse dates in multiple formats using simpledateformat\">stackoverflow.com/questions/4024544/&hellip;</a>  - <a href=\"https://stackoverflow.com/questions/44600420/datetimeformatter-accepting-multiple-dates-and-converting-to-one-java-time-libr\" title=\"datetimeformatter accepting multiple dates and converting to one java time libr\">stackoverflow.com/questions/44600420/&hellip;</a>  - <a href=\"https://stackoverflow.com/questions/51587242/how-to-parse-different-date-formats-from-string-in-java-faq\" title=\"how to parse different date formats from string in java faq\">stackoverflow.com/questions/51587242/&hellip;</a>"},{"owner":{"account_id":1220641,"reputation":3017,"user_id":1187356,"accept_rate":25,"display_name":"Tanu Garg"},"score":2,"creation_date":1603369298,"post_id":64476573,"comment_id":114019144,"body_markdown":"Thanks @ArvindKumarAvinash. Those links helped.","body":"Thanks @ArvindKumarAvinash. Those links helped."}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603349467,"creation_date":1603348940,"answer_id":64476651,"question_id":64476573,"body_markdown":"The brute force approach:\r\n\r\n- simply try your 4 formats, one after the other to parse the incoming string\r\n- if parsing throws an exception, try the next one\r\n- if parsing passes, well, that format just matched\r\n\r\nOf course, if we are talking about larger tables, that is quite inefficient. Possible optimisations:\r\n\r\n- obviously, the different patterns have subtle differences, so you could use `indexOf()` checks first. Like: if the value to be parsed contains no `&#39;:&#39;` char, then it can only be the first pattern. \r\n- you can look at your data manually to figure the actual distribution of patterns that are used. then you adapt the *order* of patterns to try to the likelihood of the pattern being used in your data\r\n\r\nAlternatively: you could define your own regex. The only thing that makes it slightly ugly is the fact that your input uses month names, not month number. But I think it shouldn&#39;t be too hard to write up a single regex that covers *all* your cases. \r\n","title":"Validate correct date time format fetched from CSV","body":"<p>The brute force approach:</p>\n<ul>\n<li>simply try your 4 formats, one after the other to parse the incoming string</li>\n<li>if parsing throws an exception, try the next one</li>\n<li>if parsing passes, well, that format just matched</li>\n</ul>\n<p>Of course, if we are talking about larger tables, that is quite inefficient. Possible optimisations:</p>\n<ul>\n<li>obviously, the different patterns have subtle differences, so you could use <code>indexOf()</code> checks first. Like: if the value to be parsed contains no <code>':'</code> char, then it can only be the first pattern.</li>\n<li>you can look at your data manually to figure the actual distribution of patterns that are used. then you adapt the <em>order</em> of patterns to try to the likelihood of the pattern being used in your data</li>\n</ul>\n<p>Alternatively: you could define your own regex. The only thing that makes it slightly ugly is the fact that your input uses month names, not month number. But I think it shouldn't be too hard to write up a single regex that covers <em>all</em> your cases.</p>\n"},{"comments":[{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":1,"creation_date":1603363530,"post_id":64477952,"comment_id":114016624,"body_markdown":"Nice ! Good to know about `DateTimeFormatterBuilder` :)","body":"Nice ! Good to know about <code>DateTimeFormatterBuilder</code> :)"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1603381542,"post_id":64477952,"comment_id":114025952,"body_markdown":"@Eklavya Yes, I think the `DateTimeFormatter` and its builder are very powerful tools.","body":"@Eklavya Yes, I think the <code>DateTimeFormatter</code> and its builder are very powerful tools."}],"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1603361039,"creation_date":1603354274,"answer_id":64477952,"question_id":64476573,"body_markdown":"What you need is a formatter with optional parts. A pattern can contain square brackets to denote an optional part, for example `HH:mm[:ss]`. The formatter then is required to parse `HH:mm`, and tries to parse the following text as `:ss`, or skips it if that fails. `yyyy-MM-dd[ HH:mm[:ss[.SSS]]]` would then be the pattern.\r\n\r\nThere is only one issue here – when you try to parse a string with the pattern `yyyy-MM-dd` (so without time part) using `LocalDateTime::parse`, it will throw a `DateTimeFormatException` with the message *Unable to obtain LocalDateTime from TemporalAccessor*. Apparently, at least one time part must be available to succeed.\r\n\r\nLuckily, we can use a `DateTimeFormatterBuilder` to build a pattern, instructing the formatter to use some defaults if information is missing from the parsed text. Here it is:\r\n\r\n```\r\nDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n    .appendPattern(&quot;yyyy-MM-dd[ HH:mm[:ss[.SSS]]]&quot;)\r\n    .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\r\n    .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\r\n    .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\r\n    .toFormatter();\r\nLocalDateTime dateTime = LocalDateTime.parse(input, formatter);\r\n```\r\n\r\nTests:\r\n\r\n```\r\nString[] inputs = {\r\n    &quot;2020-10-22&quot;, // OK\r\n    &quot;2020-10-22 14:55&quot;, // OK\r\n    &quot;2020-10-22T14:55&quot;, // Fails: incorrect format\r\n    &quot;2020-10-22 14:55:23&quot;,\r\n    &quot;2020-10-22 14:55:23.9&quot;, // Fails: incorrect fraction of second\r\n    &quot;2020-10-22 14:55:23.91&quot;, // Fails: incorrect fraction of second\r\n    &quot;2020-10-22 14:55:23.917&quot;, // OK\r\n    &quot;2020-10-22 14:55:23.9174&quot;, // Fails: incorrect fraction of second\r\n    &quot;2020-10-22 14:55:23.917428511&quot; // Fails: incorrect fraction of second \r\n};\r\n```\r\n\r\n### And what about epoch in milli?\r\n\r\nWell, this cannot be parsed directly by the `DateTimeFormatter`. But what&#39;s more: an epoch in milli has an implicit *timezone*: UTC. The other patterns lack a timezone. So an epoch is a fundamentally different piece of information. One thing you could do is *assume* a timezone for the inputs missing one.\r\n\r\nHowever, if you nevertheless want to parse the instant, you could try to parse it as a `long` using `Long::parseLong`, and if it fails, then try to parse with the formatter. Alternatively, you could use a regular expression (like `-?\\d+` or something) to try to match the instant, and if it does, then parse as instant, and if it fails, then try to parse with the abovementioned formatter.","title":"Validate correct date time format fetched from CSV","body":"<p>What you need is a formatter with optional parts. A pattern can contain square brackets to denote an optional part, for example <code>HH:mm[:ss]</code>. The formatter then is required to parse <code>HH:mm</code>, and tries to parse the following text as <code>:ss</code>, or skips it if that fails. <code>yyyy-MM-dd[ HH:mm[:ss[.SSS]]]</code> would then be the pattern.</p>\n<p>There is only one issue here – when you try to parse a string with the pattern <code>yyyy-MM-dd</code> (so without time part) using <code>LocalDateTime::parse</code>, it will throw a <code>DateTimeFormatException</code> with the message <em>Unable to obtain LocalDateTime from TemporalAccessor</em>. Apparently, at least one time part must be available to succeed.</p>\n<p>Luckily, we can use a <code>DateTimeFormatterBuilder</code> to build a pattern, instructing the formatter to use some defaults if information is missing from the parsed text. Here it is:</p>\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n    .appendPattern(&quot;yyyy-MM-dd[ HH:mm[:ss[.SSS]]]&quot;)\n    .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n    .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\n    .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\n    .toFormatter();\nLocalDateTime dateTime = LocalDateTime.parse(input, formatter);\n</code></pre>\n<p>Tests:</p>\n<pre><code>String[] inputs = {\n    &quot;2020-10-22&quot;, // OK\n    &quot;2020-10-22 14:55&quot;, // OK\n    &quot;2020-10-22T14:55&quot;, // Fails: incorrect format\n    &quot;2020-10-22 14:55:23&quot;,\n    &quot;2020-10-22 14:55:23.9&quot;, // Fails: incorrect fraction of second\n    &quot;2020-10-22 14:55:23.91&quot;, // Fails: incorrect fraction of second\n    &quot;2020-10-22 14:55:23.917&quot;, // OK\n    &quot;2020-10-22 14:55:23.9174&quot;, // Fails: incorrect fraction of second\n    &quot;2020-10-22 14:55:23.917428511&quot; // Fails: incorrect fraction of second \n};\n</code></pre>\n<h3>And what about epoch in milli?</h3>\n<p>Well, this cannot be parsed directly by the <code>DateTimeFormatter</code>. But what's more: an epoch in milli has an implicit <em>timezone</em>: UTC. The other patterns lack a timezone. So an epoch is a fundamentally different piece of information. One thing you could do is <em>assume</em> a timezone for the inputs missing one.</p>\n<p>However, if you nevertheless want to parse the instant, you could try to parse it as a <code>long</code> using <code>Long::parseLong</code>, and if it fails, then try to parse with the formatter. Alternatively, you could use a regular expression (like <code>-?\\d+</code> or something) to try to match the instant, and if it does, then parse as instant, and if it fails, then try to parse with the abovementioned formatter.</p>\n"}],"owner":{"account_id":1220641,"reputation":3017,"user_id":1187356,"accept_rate":25,"display_name":"Tanu Garg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1680982052,"creation_date":1603348537,"question_id":64476573,"body_markdown":"I need to read a CSV file which has different time format in one timestamp column. It can be anything from below mentioned 5 formats. I need to match the fetched date and parse accordingly on each row.\r\nHow can I validate and parse it?\r\n\r\n```lang-java    \r\npublic static final String DEFAULT_DATE_FORMAT_PATTERN = &quot;yyyy-MM-dd&quot;;\r\npublic static final String DEFAULT_DATE_TIME_FORMAT_PATTERN = &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;;\r\npublic static final String DATE_TIME_MINUTES_ONLY_FORMAT_PATTERN = &quot;yyyy-MM-dd HH:mm&quot;;\r\npublic static final String DATE_TIME_WITHOUT_MILLIS_FORMAT_PATTERN = &quot;yyyy-MM-dd HH:mm:ss&quot;;\r\n// Epoch in milli\r\n```\r\n","title":"Validate correct date time format fetched from CSV","body":"<p>I need to read a CSV file which has different time format in one timestamp column. It can be anything from below mentioned 5 formats. I need to match the fetched date and parse accordingly on each row.\nHow can I validate and parse it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final String DEFAULT_DATE_FORMAT_PATTERN = &quot;yyyy-MM-dd&quot;;\npublic static final String DEFAULT_DATE_TIME_FORMAT_PATTERN = &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;;\npublic static final String DATE_TIME_MINUTES_ONLY_FORMAT_PATTERN = &quot;yyyy-MM-dd HH:mm&quot;;\npublic static final String DATE_TIME_WITHOUT_MILLIS_FORMAT_PATTERN = &quot;yyyy-MM-dd HH:mm:ss&quot;;\n// Epoch in milli\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","artifact"],"comments":[{"owner":{"account_id":5384755,"reputation":183,"user_id":4289035,"display_name":"Gaurav kumar Singh"},"score":0,"creation_date":1680980926,"post_id":75966693,"comment_id":133986965,"body_markdown":"What do you mean by built using IntelliJ?","body":"What do you mean by built using IntelliJ?"},{"owner":{"account_id":22571790,"reputation":140,"user_id":16757869,"display_name":"Plegeus"},"score":0,"creation_date":1680993779,"post_id":75966693,"comment_id":133988461,"body_markdown":"When starting a new project, don’t select gradle or maven, but intellij","body":"When starting a new project, don’t select gradle or maven, but intellij"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1681118954,"post_id":75966693,"comment_id":134000966,"body_markdown":"Don’t use system scope. Install the jar locally instead","body":"Don’t use system scope. Install the jar locally instead"},{"owner":{"account_id":22571790,"reputation":140,"user_id":16757869,"display_name":"Plegeus"},"score":0,"creation_date":1681141273,"post_id":75966693,"comment_id":134005063,"body_markdown":"how do I do that?","body":"how do I do that?"}],"answers":[{"comments":[{"owner":{"account_id":22571790,"reputation":140,"user_id":16757869,"display_name":"Plegeus"},"score":0,"creation_date":1681141806,"post_id":75967236,"comment_id":134005180,"body_markdown":"Thank you, sadly, it did not resolve the issue, I get the same exact error, what exactly am I supposed to do with the generate files (stored in m2-repo)?","body":"Thank you, sadly, it did not resolve the issue, I get the same exact error, what exactly am I supposed to do with the generate files (stored in m2-repo)?"}],"tags":[],"owner":{"account_id":5384755,"reputation":183,"user_id":4289035,"display_name":"Gaurav kumar Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680981508,"creation_date":1680981508,"answer_id":75967236,"question_id":75966693,"body_markdown":"Use `deploy:deploy-file` command on the jar which is not in maven. Once the artifacts are generated, it can be added in the maven project.\r\n\r\nThe deploy:deploy-file mojo is used primarily for deploying artifacts, which were not built by Maven. The project&#39;s development team may or may not provide a POM for the artifact, and in some cases you may want to deploy the artifact to an internal remote repository. The deploy-file mojo provides functionality covering all of these use cases, and offers a wide range of configurability for generating a POM on-the-fly. Additionally, you can specify what layout your repository uses. The full usage statement of the deploy-file mojo can be described as:\r\n\r\n    mvn deploy:deploy-file -Durl=file://C:\\m2-repo \\\r\n                       -DrepositoryId=some.id \\\r\n                       -Dfile=your-artifact-1.0.jar \\\r\n                       [-DpomFile=your-pom.xml] \\\r\n                       [-DgroupId=org.some.group] \\\r\n                       [-DartifactId=your-artifact] \\\r\n                       [-Dversion=1.0] \\\r\n                       [-Dpackaging=jar] \\\r\n                       [-Dclassifier=test] \\\r\n                       [-DgeneratePom=true] \\\r\n                       [-DgeneratePom.description=&quot;My Project Description&quot;] \\\r\n                       [-DrepositoryLayout=legacy]\r\n\r\nRefer : https://maven.apache.org/plugins/maven-deploy-plugin/usage.html#the-deploy-deploy-file-mojo\r\n","title":"How to add a jar dependency which WAS NOT BUILT with maven to a project that IS BUILT with maven?","body":"<p>Use <code>deploy:deploy-file</code> command on the jar which is not in maven. Once the artifacts are generated, it can be added in the maven project.</p>\n<p>The deploy:deploy-file mojo is used primarily for deploying artifacts, which were not built by Maven. The project's development team may or may not provide a POM for the artifact, and in some cases you may want to deploy the artifact to an internal remote repository. The deploy-file mojo provides functionality covering all of these use cases, and offers a wide range of configurability for generating a POM on-the-fly. Additionally, you can specify what layout your repository uses. The full usage statement of the deploy-file mojo can be described as:</p>\n<pre><code>mvn deploy:deploy-file -Durl=file://C:\\m2-repo \\\n                   -DrepositoryId=some.id \\\n                   -Dfile=your-artifact-1.0.jar \\\n                   [-DpomFile=your-pom.xml] \\\n                   [-DgroupId=org.some.group] \\\n                   [-DartifactId=your-artifact] \\\n                   [-Dversion=1.0] \\\n                   [-Dpackaging=jar] \\\n                   [-Dclassifier=test] \\\n                   [-DgeneratePom=true] \\\n                   [-DgeneratePom.description=&quot;My Project Description&quot;] \\\n                   [-DrepositoryLayout=legacy]\n</code></pre>\n<p>Refer : <a href=\"https://maven.apache.org/plugins/maven-deploy-plugin/usage.html#the-deploy-deploy-file-mojo\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-deploy-plugin/usage.html#the-deploy-deploy-file-mojo</a></p>\n"}],"owner":{"account_id":22571790,"reputation":140,"user_id":16757869,"display_name":"Plegeus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680981508,"creation_date":1680974675,"question_id":75966693,"body_markdown":"I have two projects in Java, one is built using IntelliJ, the other is built using maven. The goal is simple, I want to use the artefact (a jar file) compiled with IntelliJ within the maven project, that is, I want to use the compiled code from artefact (built with IntelliJ) as a library for my maven project.\r\n\r\nI added the following to the maven&#39;s pom.xml:\r\n    \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.plegeus&lt;/groupId&gt;\r\n        &lt;artifactId&gt;AmongUs&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version\r\n        &lt;scope&gt;system&lt;/scope&gt;\r\n        &lt;systemPath&gt;${project.basedir}/deps/AmongUs.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAlthough I am unsure how much use properties like groupId and artifactId are since that project (the IntelliJ project) was not built using maven...\r\n\r\nwhen I enter \r\n\r\n    mvn clean verify\r\n\r\neverything seems fine, though, upon entering \r\n\r\n    java -jar target/benchmarks.jar\r\n\r\nI get \r\n\r\n    java.lang.NoClassDefFoundError: org/plegeus/amongus/data/Image\r\n    \tat org.plegeus.MyBenchmark.&lt;init&gt;(MyBenchmark.java:47)\r\n\r\n(the Image class is a class from the first IntelliJ project which I want to use in the second maven project.)\r\n\r\nSo the question really is, how to add any arbitrary jar file (artefact) to a maven project? The method I currently use apparently is deprecated as well, because of `&lt;scope&gt;system&lt;/scope&gt;`.\r\n\r\nThank you.","title":"How to add a jar dependency which WAS NOT BUILT with maven to a project that IS BUILT with maven?","body":"<p>I have two projects in Java, one is built using IntelliJ, the other is built using maven. The goal is simple, I want to use the artefact (a jar file) compiled with IntelliJ within the maven project, that is, I want to use the compiled code from artefact (built with IntelliJ) as a library for my maven project.</p>\n<p>I added the following to the maven's pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.plegeus&lt;/groupId&gt;\n    &lt;artifactId&gt;AmongUs&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version\n    &lt;scope&gt;system&lt;/scope&gt;\n    &lt;systemPath&gt;${project.basedir}/deps/AmongUs.jar&lt;/systemPath&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Although I am unsure how much use properties like groupId and artifactId are since that project (the IntelliJ project) was not built using maven...</p>\n<p>when I enter</p>\n<pre><code>mvn clean verify\n</code></pre>\n<p>everything seems fine, though, upon entering</p>\n<pre><code>java -jar target/benchmarks.jar\n</code></pre>\n<p>I get</p>\n<pre><code>java.lang.NoClassDefFoundError: org/plegeus/amongus/data/Image\n    at org.plegeus.MyBenchmark.&lt;init&gt;(MyBenchmark.java:47)\n</code></pre>\n<p>(the Image class is a class from the first IntelliJ project which I want to use in the second maven project.)</p>\n<p>So the question really is, how to add any arbitrary jar file (artefact) to a maven project? The method I currently use apparently is deprecated as well, because of <code>&lt;scope&gt;system&lt;/scope&gt;</code>.</p>\n<p>Thank you.</p>\n"},{"tags":["java","intellij-idea","javafx"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1680956354,"post_id":75964889,"comment_id":133983790,"body_markdown":"the module name (that is the part after _module_ and the opening bracket) seems to be com.example.airbnbapi (not airbnbapi). btw: no screenshots of plain text - such as module-info and the error message - instead, c&amp;p!","body":"the module name (that is the part after <i>module</i> and the opening bracket) seems to be com.example.airbnbapi (not airbnbapi). btw: no screenshots of plain text - such as module-info and the error message - instead, c&amp;p!"}],"owner":{"account_id":28248854,"reputation":1,"user_id":21595425,"display_name":"Qadir Nazir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680980802,"creation_date":1680952507,"question_id":75964889,"body_markdown":"Here is a screenshot of the problem:\r\n\r\n[![Screen shot][1]][1]\r\n\r\nI&#39;m working on a Java project named &quot;airbnbapi&quot; which uses the Java module system and JavaFX. I have configured my project to use the module system, set the module name to &quot;airbnbapi&quot;, and added the necessary module dependencies in my module-info.java file. However, when I try to run my project, I get a &quot;java.lang.module.FindException: Module airbnbapi not found&quot; error.\r\n\r\nI have tried multiple solutions including setting the module path in the run configuration, ensuring my project is located in the root directory, and double-checking my module-info.java file for errors. However, I still can&#39;t seem to get my project to run properly.\r\n\r\nCan someone please help me troubleshoot this issue? Any suggestions or insights would be greatly appreciated. Thank you\r\n\r\nI have tried creating a Java module named airbnbapi with the required dependencies json, javafx.base, javafx.fxml, javafx.controls, and javafx.graphics. I have also configured my project structure such that the com.example.airbnbapi package containing all the classes and the hello-view.fxml file are located under src/main/java and src/main/resources respectively.\r\n\r\nDespite these attempts, I am still encountering a ModuleNotFoundError with the message java.lang.module.FindException: Module airbnbapi not found.\r\n\r\nI have also tried setting the module path in my IDE and specifying the module name as airbnbapi in the module-info.java file. Additionally, I have checked that the module name is consistent across all files and directories.\r\n\r\nHowever, the error persists, and I am unable to run the program successfully.\r\n\r\nHere are my Run/Debug configurations:\r\n\r\n[![Configuration][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OFOcx.jpg\r\n  [2]: https://i.stack.imgur.com/e9smN.png","title":"FindException: Module name not found","body":"<p>Here is a screenshot of the problem:</p>\n<p><a href=\"https://i.stack.imgur.com/OFOcx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OFOcx.jpg\" alt=\"Screen shot\" /></a></p>\n<p>I'm working on a Java project named &quot;airbnbapi&quot; which uses the Java module system and JavaFX. I have configured my project to use the module system, set the module name to &quot;airbnbapi&quot;, and added the necessary module dependencies in my module-info.java file. However, when I try to run my project, I get a &quot;java.lang.module.FindException: Module airbnbapi not found&quot; error.</p>\n<p>I have tried multiple solutions including setting the module path in the run configuration, ensuring my project is located in the root directory, and double-checking my module-info.java file for errors. However, I still can't seem to get my project to run properly.</p>\n<p>Can someone please help me troubleshoot this issue? Any suggestions or insights would be greatly appreciated. Thank you</p>\n<p>I have tried creating a Java module named airbnbapi with the required dependencies json, javafx.base, javafx.fxml, javafx.controls, and javafx.graphics. I have also configured my project structure such that the com.example.airbnbapi package containing all the classes and the hello-view.fxml file are located under src/main/java and src/main/resources respectively.</p>\n<p>Despite these attempts, I am still encountering a ModuleNotFoundError with the message java.lang.module.FindException: Module airbnbapi not found.</p>\n<p>I have also tried setting the module path in my IDE and specifying the module name as airbnbapi in the module-info.java file. Additionally, I have checked that the module name is consistent across all files and directories.</p>\n<p>However, the error persists, and I am unable to run the program successfully.</p>\n<p>Here are my Run/Debug configurations:</p>\n<p><a href=\"https://i.stack.imgur.com/e9smN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e9smN.png\" alt=\"Configuration\" /></a></p>\n"},{"tags":["java","spring-boot","spring-mvc","jackson","spring-hateoas"],"owner":{"account_id":2518325,"reputation":115,"user_id":3782444,"display_name":"Anish Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680980381,"creation_date":1680871372,"question_id":75958534,"body_markdown":"We have a legacy app which we are updating to spring boot 3. We used to use spring-hateos 0.24 RELEASE and below code to register MappingJackson2HttpMessageConverter.\r\n\r\n```@EnableHypermediaSupport(type = EnableHypermediaSupport.HypermediaType.HAL)\r\n\tpublic static class RestServicesConfiguration implements WebMvcConfigurer  {\r\n\r\n        @Override\r\n\t\tpublic void configureMessageConverters(final List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n\r\n\t\t\tconverters.add(jsonConverter());\r\n\t\t\tthis.configureMessageConverters(converters);\r\n\t\t}\r\n\r\n       @Bean\r\n\t\tpublic MappingJackson2HttpMessageConverter jsonConverter() {\r\n\t\t\tfinal MappingJackson2HttpMessageConverter converter = new HalMappingJackson2HttpMessageConverter();\r\n\t\t\treturn converter;\r\n\t\t}\r\n\r\nprivate class HalMappingJackson2HttpMessageConverter extends MappingJackson2HttpMessageConverter {\r\n\t\t\t/**\r\n\t\t\t * Solution that provides HAL links for our REST versioning.\r\n\t\t\t */\r\n\t\t\tprivate HalMappingJackson2HttpMessageConverter() {\r\n\t\t\t\tsetSupportedMediaTypes(Arrays.asList(\r\n\t\t\t\t\t\tCURRENT_REST_VERSION_MEDIA_TYPE,\r\n\t\t\t\t\t\tPREVIOUS_REST_VERSION_MEDIA_TYPE,\r\n\t\t\t\t\t\tV2_REST_VERSION_MEDIA_TYPE\r\n\t\t\t\t));\r\n\t\t\t\tfinal ObjectMapper halObjectMapper = (ObjectMapper) beanFactory.getBean(&quot;_halObjectMapper&quot;);\r\n\t\t\t\t// setup the ISO date transformer\r\n\t\t\t\tfinal SimpleModule module = new SimpleModule(&quot;MySerializers&quot;);\r\n\t\t\t\tmodule.addSerializer(Date.class, new DateSerializer());\r\n\t\t\t\thalObjectMapper.registerModule(module);\r\n\r\n\t\t\t\tsetObjectMapper(halObjectMapper);\r\n\t\t\t}\r\n\t\t} \r\n```\r\n\r\nAs we have updated to spring-hateos 2.0.1 via spring-boot-starter-data-rest 3.0.2. Upon running executing the WAR file in Tomcat 10 we are getting below exception.\r\n\r\n```\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jsonConverter&#39; defined in com.config.AppInitializer$RestServicesConfiguration: Failed to instantiate [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter]: Factory method &#39;jsonConverter&#39; threw exception with message: No bean named &#39;_halObjectMapper&#39; available      \r\n```","title":"MappingJackson2HttpMessageConverter and _halObjectMapper not working with spring-hateos 2.0.1 and spring boot 3","body":"<p>We have a legacy app which we are updating to spring boot 3. We used to use spring-hateos 0.24 RELEASE and below code to register MappingJackson2HttpMessageConverter.</p>\n<pre><code>    public static class RestServicesConfiguration implements WebMvcConfigurer  {\n\n        @Override\n        public void configureMessageConverters(final List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n\n            converters.add(jsonConverter());\n            this.configureMessageConverters(converters);\n        }\n\n       @Bean\n        public MappingJackson2HttpMessageConverter jsonConverter() {\n            final MappingJackson2HttpMessageConverter converter = new HalMappingJackson2HttpMessageConverter();\n            return converter;\n        }\n\nprivate class HalMappingJackson2HttpMessageConverter extends MappingJackson2HttpMessageConverter {\n            /**\n             * Solution that provides HAL links for our REST versioning.\n             */\n            private HalMappingJackson2HttpMessageConverter() {\n                setSupportedMediaTypes(Arrays.asList(\n                        CURRENT_REST_VERSION_MEDIA_TYPE,\n                        PREVIOUS_REST_VERSION_MEDIA_TYPE,\n                        V2_REST_VERSION_MEDIA_TYPE\n                ));\n                final ObjectMapper halObjectMapper = (ObjectMapper) beanFactory.getBean(&quot;_halObjectMapper&quot;);\n                // setup the ISO date transformer\n                final SimpleModule module = new SimpleModule(&quot;MySerializers&quot;);\n                module.addSerializer(Date.class, new DateSerializer());\n                halObjectMapper.registerModule(module);\n\n                setObjectMapper(halObjectMapper);\n            }\n        } \n</code></pre>\n<p>As we have updated to spring-hateos 2.0.1 via spring-boot-starter-data-rest 3.0.2. Upon running executing the WAR file in Tomcat 10 we are getting below exception.</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jsonConverter' defined in com.config.AppInitializer$RestServicesConfiguration: Failed to instantiate [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter]: Factory method 'jsonConverter' threw exception with message: No bean named '_halObjectMapper' available      \n</code></pre>\n"},{"tags":["java","maven","plugins"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1680967767,"post_id":75963048,"comment_id":133985236,"body_markdown":"Run the build with `-X` flag, show us the stacktrace and the relevant Java source code.","body":"Run the build with <code>-X</code> flag, show us the stacktrace and the relevant Java source code."},{"owner":{"account_id":3081521,"reputation":468,"user_id":2609605,"accept_rate":40,"display_name":"user2609605"},"score":0,"creation_date":1680979652,"post_id":75963048,"comment_id":133986820,"body_markdown":"@fabian. Here the stacktrace for java 1.8 and plugin 3.4.8\nMore is not possible: else too long","body":"@fabian. Here the stacktrace for java 1.8 and plugin 3.4.8 More is not possible: else too long"},{"owner":{"account_id":3081521,"reputation":468,"user_id":2609605,"accept_rate":40,"display_name":"user2609605"},"score":0,"creation_date":1681031950,"post_id":75963048,"comment_id":133991355,"body_markdown":"@fabian: the code is at github. I sent the link. Of course this is also the place of the pom.","body":"@fabian: the code is at github. I sent the link. Of course this is also the place of the pom."}],"owner":{"account_id":3081521,"reputation":468,"user_id":2609605,"accept_rate":40,"display_name":"user2609605"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680979502,"creation_date":1680921206,"question_id":75963048,"body_markdown":"I wrote a single maven plugin in my live: \r\n```\r\nhttps://github.com/Reissner/maven-latex-plugin.git\r\n```\r\nNow I try to upgrade either the java version specified in the compiler plugin, \r\nor also the version of the maven-plugin-plugin. \r\n\r\nEach results in that no longer a mojo descriptor is found: \r\n\r\nFor java 11 instead of java 1.8: \r\n```\r\n --- maven-plugin-plugin:3.3:descriptor (default-descriptor) @ latex-maven-plugin ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to read mojo metadata.\r\n[INFO] Applying mojo extractor for language: java\r\n[INFO] Mojo extractor for language: java found 0 mojo descriptors.\r\n[INFO] Applying mojo extractor for language: bsh\r\n[INFO] Mojo extractor for language: bsh found 0 mojo descriptors.\r\n[INFO] Applying mojo extractor for language: java-annotations\r\n...\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.3:descriptor (default-descriptor) on project latex-maven-plugin: \r\nExecution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.3:descriptor failed.: \r\nIllegalArgumentException -&gt; [Help 1]\r\n[ERROR] \r\n```\r\n\r\nWhen I go back to java 1.8 but use new plugin plugin, namely 3.8.1, \r\nI obtain: \r\n\r\n```\r\nINFO] --- maven-plugin-plugin:3.8.1:descriptor (default-descriptor) @ latex-maven-plugin ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to read mojo source files.\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  23.062 s\r\n[INFO] Finished at: 2023-04-08T04:27:10+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.8.1:descriptor (default-descriptor) on project latex-maven-plugin: \r\nExecution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.8.1:descriptor failed: \r\nCannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null -&gt; [Help 1]\r\n```\r\n\r\nI also used several combinations, \r\ne.g. with `maven-plugin-api`, \r\nbut also other dependencies seem to go into. \r\nI use maven 3.8.6. \r\nCan anyone help?? \r\n\r\n\r\n@fabian. Here the stacktrace for java 1.8 and plugin 3.4.8\r\nMore is not possible: else too long\r\n```\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  18.355 s\r\n[INFO] Finished at: 2023-04-08T20:39:30+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor (default-descriptor) on project latex-maven-plugin: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor failed: Cannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor (default-descriptor) on project latex-maven-plugin: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor failed: Cannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:64)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:564)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor failed: Cannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:64)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:564)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null\r\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.extractFieldParameterTags (JavaAnnotationsMojoDescriptorExtractor.java:408)\r\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.populateDataFromJavadoc (JavaAnnotationsMojoDescriptorExtractor.java:280)\r\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.execute (JavaAnnotationsMojoDescriptorExtractor.java:106)\r\n    at org.apache.maven.tools.plugin.scanner.DefaultMojoScanner.populatePluginDescriptor (DefaultMojoScanner.java:97)\r\n    at org.apache.maven.plugin.plugin.AbstractGeneratorMojo.execute (AbstractGeneratorMojo.java:315)\r\n    at org.apache.maven.plugin.plugin.DescriptorGeneratorMojo.execute (DescriptorGeneratorMojo.java:94)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:64)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:564)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n```\r\n\r\n\r\n\r\n","title":"Compilation of maven plugin: no descriptor found","body":"<p>I wrote a single maven plugin in my live:</p>\n<pre><code>https://github.com/Reissner/maven-latex-plugin.git\n</code></pre>\n<p>Now I try to upgrade either the java version specified in the compiler plugin,\nor also the version of the maven-plugin-plugin.</p>\n<p>Each results in that no longer a mojo descriptor is found:</p>\n<p>For java 11 instead of java 1.8:</p>\n<pre><code> --- maven-plugin-plugin:3.3:descriptor (default-descriptor) @ latex-maven-plugin ---\n[INFO] Using 'UTF-8' encoding to read mojo metadata.\n[INFO] Applying mojo extractor for language: java\n[INFO] Mojo extractor for language: java found 0 mojo descriptors.\n[INFO] Applying mojo extractor for language: bsh\n[INFO] Mojo extractor for language: bsh found 0 mojo descriptors.\n[INFO] Applying mojo extractor for language: java-annotations\n...\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.3:descriptor (default-descriptor) on project latex-maven-plugin: \nExecution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.3:descriptor failed.: \nIllegalArgumentException -&gt; [Help 1]\n[ERROR] \n</code></pre>\n<p>When I go back to java 1.8 but use new plugin plugin, namely 3.8.1,\nI obtain:</p>\n<pre><code>INFO] --- maven-plugin-plugin:3.8.1:descriptor (default-descriptor) @ latex-maven-plugin ---\n[INFO] Using 'UTF-8' encoding to read mojo source files.\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  23.062 s\n[INFO] Finished at: 2023-04-08T04:27:10+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.8.1:descriptor (default-descriptor) on project latex-maven-plugin: \nExecution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.8.1:descriptor failed: \nCannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null -&gt; [Help 1]\n</code></pre>\n<p>I also used several combinations,\ne.g. with <code>maven-plugin-api</code>,\nbut also other dependencies seem to go into.\nI use maven 3.8.6.\nCan anyone help??</p>\n<p>@fabian. Here the stacktrace for java 1.8 and plugin 3.4.8\nMore is not possible: else too long</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  18.355 s\n[INFO] Finished at: 2023-04-08T20:39:30+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor (default-descriptor) on project latex-maven-plugin: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor failed: Cannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor (default-descriptor) on project latex-maven-plugin: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor failed: Cannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:375)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:64)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:564)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.6.4:descriptor failed: Cannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:64)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:564)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;com.thoughtworks.qdox.model.JavaField.getName()&quot; because &quot;field&quot; is null\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.extractFieldParameterTags (JavaAnnotationsMojoDescriptorExtractor.java:408)\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.populateDataFromJavadoc (JavaAnnotationsMojoDescriptorExtractor.java:280)\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.execute (JavaAnnotationsMojoDescriptorExtractor.java:106)\n    at org.apache.maven.tools.plugin.scanner.DefaultMojoScanner.populatePluginDescriptor (DefaultMojoScanner.java:97)\n    at org.apache.maven.plugin.plugin.AbstractGeneratorMojo.execute (AbstractGeneratorMojo.java:315)\n    at org.apache.maven.plugin.plugin.DescriptorGeneratorMojo.execute (DescriptorGeneratorMojo.java:94)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:64)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:564)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n</code></pre>\n"},{"tags":["java","intellij-idea","wsl-2"],"answers":[{"tags":[],"owner":{"account_id":17613607,"reputation":175,"user_id":12795083,"display_name":"max"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680979208,"creation_date":1680979208,"answer_id":75967077,"question_id":75967072,"body_markdown":"The problem was using SDK from Windows, not from the WSL2[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lmvY5.png\r\n  [2]: https://i.stack.imgur.com/7x61q.png","title":"Cannot open Java project in WSL2 with IntelliJ","body":"<p>The problem was using SDK from Windows, not from the WSL2<a href=\"https://i.stack.imgur.com/lmvY5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lmvY5.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/7x61q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7x61q.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17613607,"reputation":175,"user_id":12795083,"display_name":"max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680979208,"creation_date":1680979140,"question_id":75967072,"body_markdown":"Warning: I solved this problem already. I want to provide the documentation in case someone faces it. When I try to open java project IntelliJ won&#39;t open it. However, it could easily non-Java project. Logs:\r\n```\r\nExit code: 0\r\n2023-04-07 18:53:38,277 [ 207458]   INFO - #c.j.g.s.d.m.HostRunMethods - Host status: UnattendedHostStatus(appPid=22067, appVersion=IU-231.8109.144, runtimeVersion=17.0.6b829.5, unattendedMode=true, backendUnresponsive=false, modalDialogIsOpened=false, idePath=/home/mdmytren/.cache/JetBrains/RemoteDev/dist/9873067aa121a_ideaIU-231.8109.144, projects=null)\r\n2023-04-07 18:53:39,288 [ 208469] SEVERE - #c.j.g.s.d.m.HostRunMethods - Remote IDE backend failed to open a project\r\njava.lang.Throwable: Remote IDE backend failed to open a project\r\n\tat com.intellij.openapi.diagnostic.Logger.error(Logger.java:202)\r\n\tat com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods.openProject(HostRunMethods.kt:203)\r\n\tat com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods.access$openProject(HostRunMethods.kt:30)\r\n\tat com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods$openProject$1.invokeSuspend(HostRunMethods.kt)\r\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n\tat com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1$3.invokeSuspend(BackgroundProgressCoroutineUtil.kt:172)\r\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n\tat kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:284)\r\n\tat kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\r\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\r\n\tat kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\r\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\r\n\tat kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\r\n\tat com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1.invoke(BackgroundProgressCoroutineUtil.kt:168)\r\n\tat com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1.invoke(BackgroundProgressCoroutineUtil.kt:158)\r\n\tat com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$createModal$1$1.run(BackgroundProgressCoroutineUtil.kt:203)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.startTask(CoreProgressManager.java:429)\r\n\tat com.intellij.openapi.progress.impl.ProgressManagerImpl.startTask(ProgressManagerImpl.java:114)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcessWithProgressSynchronously$9(CoreProgressManager.java:513)\r\n\tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$new$0(ProgressRunner.java:84)\r\n\tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$3(ProgressRunner.java:252)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:186)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$executeProcessUnderProgress$13(CoreProgressManager.java:604)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:679)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.computeUnderProgress(CoreProgressManager.java:635)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:603)\r\n\tat com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:60)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:173)\r\n\tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$4(ProgressRunner.java:252)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:702)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:699)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:699)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n2023-04-07 18:53:39,292 [ 208473] SEVERE - #c.j.g.s.d.m.HostRunMethods - JetBrains Gateway 2022.3.2  Build #GW-223.8617.56\r\n2023-04-07 18:53:39,292 [ 208473] SEVERE - #c.j.g.s.d.m.HostRunMethods - JDK: 17.0.5; VM: OpenJDK 64-Bit Server VM; Vendor: JetBrains s.r.o.\r\n2023-04-07 18:53:39,296 [ 208477] SEVERE - #c.j.g.s.d.m.HostRunMethods - OS: Windows 11\r\n2023-04-07 18:53:40,333 [ 209514]   INFO - #c.j.g.s.d.DeployErrorProcessor - Deploy failed with exception, will show deploy failure UI\r\ncom.jetbrains.gateway.ssh.deploy.DeployException: Host did not provide good status in 60 seconds\r\n\tat com.jetbrains.gateway.ssh.DeployFlowUtil$fullDeployCycleImpl$2.invokeSuspend(DeployFlowUtil.kt:197)\r\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n\tat com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1$3.invokeSuspend(BackgroundProgressCoroutineUtil.kt:172)\r\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n\tat kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:284)\r\n\tat kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\r\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\r\n\tat kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\r\n\tat kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\r\n\tat kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\r\n\tat com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1.invoke(BackgroundProgressCoroutineUtil.kt:168)\r\n\tat com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1.invoke(BackgroundProgressCoroutineUtil.kt:158)\r\n\tat com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$createModal$1$1.run(BackgroundProgressCoroutineUtil.kt:203)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.startTask(CoreProgressManager.java:429)\r\n\tat com.intellij.openapi.progress.impl.ProgressManagerImpl.startTask(ProgressManagerImpl.java:114)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcessWithProgressSynchronously$9(CoreProgressManager.java:513)\r\n\tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$new$0(ProgressRunner.java:84)\r\n\tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$3(ProgressRunner.java:252)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:186)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$executeProcessUnderProgress$13(CoreProgressManager.java:604)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:679)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.computeUnderProgress(CoreProgressManager.java:635)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:603)\r\n\tat com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:60)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:173)\r\n\tat com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$4(ProgressRunner.java:252)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:702)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:699)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:699)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: com.jetbrains.gateway.ssh.deploy.DeployException: Host did not provide good status in 60 seconds\r\n\tat com.jetbrains.gateway.ssh.DeployFlowUtil$fullDeployCycleImpl$2.invokeSuspend(DeployFlowUtil.kt:192)\r\n\t... 35 more\r\nCaused by: com.jetbrains.gateway.ssh.deploy.DeployException: Host did not provide good status in 60 seconds\r\n\tat com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods.openProject(HostRunMethods.kt:211)\r\n\tat com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods.access$openProject(HostRunMethods.kt:30)\r\n\tat com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods$openProject$1.invokeSuspend(HostRunMethods.kt)\r\n\t... 35 more\r\n2023-04-07 18:53:40,346 [ 209527]   INFO - #c.j.g.w.e.WslHostCommandExecutor - Starting a WSL process: /bin/bash, -lc, echo REMOTE_EXEC_OUTPUT_MARKER_ &amp;&amp; /home/mdmytren/.cache/JetBrains/RemoteDev/remote-dev-worker/remote-dev-worker_ba9509c11d96c6ce33a39e248d584be92d7de751a8acb9b7e9872b6136aa4876 product-code --ide-path=/home/mdmytren/.cache/JetBrains/RemoteDev/dist/9873067aa121a_ideaIU-231.8109.144\r\n\r\n```\r\n\r\nI checked my IntelliJ configurations and they look in the following way:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wMmyG.png\r\n\r\nMy solution will be in the comment section.\r\n","title":"Cannot open Java project in WSL2 with IntelliJ","body":"<p>Warning: I solved this problem already. I want to provide the documentation in case someone faces it. When I try to open java project IntelliJ won't open it. However, it could easily non-Java project. Logs:</p>\n<pre><code>Exit code: 0\n2023-04-07 18:53:38,277 [ 207458]   INFO - #c.j.g.s.d.m.HostRunMethods - Host status: UnattendedHostStatus(appPid=22067, appVersion=IU-231.8109.144, runtimeVersion=17.0.6b829.5, unattendedMode=true, backendUnresponsive=false, modalDialogIsOpened=false, idePath=/home/mdmytren/.cache/JetBrains/RemoteDev/dist/9873067aa121a_ideaIU-231.8109.144, projects=null)\n2023-04-07 18:53:39,288 [ 208469] SEVERE - #c.j.g.s.d.m.HostRunMethods - Remote IDE backend failed to open a project\njava.lang.Throwable: Remote IDE backend failed to open a project\n    at com.intellij.openapi.diagnostic.Logger.error(Logger.java:202)\n    at com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods.openProject(HostRunMethods.kt:203)\n    at com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods.access$openProject(HostRunMethods.kt:30)\n    at com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods$openProject$1.invokeSuspend(HostRunMethods.kt)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1$3.invokeSuspend(BackgroundProgressCoroutineUtil.kt:172)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:284)\n    at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\n    at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\n    at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\n    at com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1.invoke(BackgroundProgressCoroutineUtil.kt:168)\n    at com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1.invoke(BackgroundProgressCoroutineUtil.kt:158)\n    at com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$createModal$1$1.run(BackgroundProgressCoroutineUtil.kt:203)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.startTask(CoreProgressManager.java:429)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.startTask(ProgressManagerImpl.java:114)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcessWithProgressSynchronously$9(CoreProgressManager.java:513)\n    at com.intellij.openapi.progress.impl.ProgressRunner.lambda$new$0(ProgressRunner.java:84)\n    at com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$3(ProgressRunner.java:252)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:186)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$executeProcessUnderProgress$13(CoreProgressManager.java:604)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:679)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.computeUnderProgress(CoreProgressManager.java:635)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:603)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:60)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:173)\n    at com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$4(ProgressRunner.java:252)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:702)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:699)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:699)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n2023-04-07 18:53:39,292 [ 208473] SEVERE - #c.j.g.s.d.m.HostRunMethods - JetBrains Gateway 2022.3.2  Build #GW-223.8617.56\n2023-04-07 18:53:39,292 [ 208473] SEVERE - #c.j.g.s.d.m.HostRunMethods - JDK: 17.0.5; VM: OpenJDK 64-Bit Server VM; Vendor: JetBrains s.r.o.\n2023-04-07 18:53:39,296 [ 208477] SEVERE - #c.j.g.s.d.m.HostRunMethods - OS: Windows 11\n2023-04-07 18:53:40,333 [ 209514]   INFO - #c.j.g.s.d.DeployErrorProcessor - Deploy failed with exception, will show deploy failure UI\ncom.jetbrains.gateway.ssh.deploy.DeployException: Host did not provide good status in 60 seconds\n    at com.jetbrains.gateway.ssh.DeployFlowUtil$fullDeployCycleImpl$2.invokeSuspend(DeployFlowUtil.kt:197)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1$3.invokeSuspend(BackgroundProgressCoroutineUtil.kt:172)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:284)\n    at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\n    at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking$default(Builders.kt:38)\n    at kotlinx.coroutines.BuildersKt.runBlocking$default(Unknown Source)\n    at com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1.invoke(BackgroundProgressCoroutineUtil.kt:168)\n    at com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$create$task$1.invoke(BackgroundProgressCoroutineUtil.kt:158)\n    at com.intellij.openapi.rd.util.CoroutineProgressContext$Companion$createModal$1$1.run(BackgroundProgressCoroutineUtil.kt:203)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.startTask(CoreProgressManager.java:429)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.startTask(ProgressManagerImpl.java:114)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcessWithProgressSynchronously$9(CoreProgressManager.java:513)\n    at com.intellij.openapi.progress.impl.ProgressRunner.lambda$new$0(ProgressRunner.java:84)\n    at com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$3(ProgressRunner.java:252)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:186)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$executeProcessUnderProgress$13(CoreProgressManager.java:604)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:679)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.computeUnderProgress(CoreProgressManager.java:635)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:603)\n    at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:60)\n    at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:173)\n    at com.intellij.openapi.progress.impl.ProgressRunner.lambda$submit$4(ProgressRunner.java:252)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:702)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1$1.run(Executors.java:699)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.util.concurrent.Executors$PrivilegedThreadFactory$1.run(Executors.java:699)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: com.jetbrains.gateway.ssh.deploy.DeployException: Host did not provide good status in 60 seconds\n    at com.jetbrains.gateway.ssh.DeployFlowUtil$fullDeployCycleImpl$2.invokeSuspend(DeployFlowUtil.kt:192)\n    ... 35 more\nCaused by: com.jetbrains.gateway.ssh.deploy.DeployException: Host did not provide good status in 60 seconds\n    at com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods.openProject(HostRunMethods.kt:211)\n    at com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods.access$openProject(HostRunMethods.kt:30)\n    at com.jetbrains.gateway.ssh.deploy.methods.HostRunMethods$openProject$1.invokeSuspend(HostRunMethods.kt)\n    ... 35 more\n2023-04-07 18:53:40,346 [ 209527]   INFO - #c.j.g.w.e.WslHostCommandExecutor - Starting a WSL process: /bin/bash, -lc, echo REMOTE_EXEC_OUTPUT_MARKER_ &amp;&amp; /home/mdmytren/.cache/JetBrains/RemoteDev/remote-dev-worker/remote-dev-worker_ba9509c11d96c6ce33a39e248d584be92d7de751a8acb9b7e9872b6136aa4876 product-code --ide-path=/home/mdmytren/.cache/JetBrains/RemoteDev/dist/9873067aa121a_ideaIU-231.8109.144\n\n</code></pre>\n<p>I checked my IntelliJ configurations and they look in the following way:\n<a href=\"https://i.stack.imgur.com/wMmyG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wMmyG.png\" alt=\"enter image description here\" /></a></p>\n<p>My solution will be in the comment section.</p>\n"},{"tags":["java","hibernate","spring-data-jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1680982453,"post_id":75944062,"comment_id":133987137,"body_markdown":"Does this answer your question : https://stackoverflow.com/questions/4172547/can-not-set-java-lang-integer-field-id-to-org-hibernate-id-identifiergeneratorhe ? You might need to annotate the field in `CustomPosologyId` as autogenerated too. And just to point that this setup is weird. The autogenerated column will already guarantee uniqueness, so making `planId` part of the composite key doesn&#39;t add anything (other than a composite index to search for it later)","body":"Does this answer your question : <a href=\"https://stackoverflow.com/questions/4172547/can-not-set-java-lang-integer-field-id-to-org-hibernate-id-identifiergeneratorhe\" title=\"can not set java lang integer field id to org hibernate id identifiergeneratorhe\">stackoverflow.com/questions/4172547/&hellip;</a> ? You might need to annotate the field in <code>CustomPosologyId</code> as autogenerated too. And just to point that this setup is weird. The autogenerated column will already guarantee uniqueness, so making <code>planId</code> part of the composite key doesn&#39;t add anything (other than a composite index to search for it later)"}],"owner":{"account_id":6436922,"reputation":46,"user_id":12096971,"display_name":"Bruno"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680979139,"creation_date":1680729675,"question_id":75944062,"body_markdown":"I&#39;m writing an Entity with a PK with two attributes: a Long FK to another Entity, and an auto incrementing Long. I followed the suggestions of [this article](https://thorben-janssen.com/composite-primary-keys-sequence/#Mapping_an_EmbeddedId).\r\n\r\nHere&#39;s my IdClass and Entity. The autoincrementing attribute should be &#39;id&#39;.\r\n\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class CustomPosologyId implements Serializable {\r\n    private Long id;\r\n    private Long planId;\r\n}\r\n```\r\n\r\n\r\n```\r\n@Entity\r\n@NoArgsConstructor\r\n@IdClass(CustomPosologyId.class)\r\n@Table(name = &quot;custom_posology&quot;)\r\npublic class CustomPosology {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    @Getter @Setter\r\n    private Long id;\r\n\r\n    @Id\r\n    @Column(name = &quot;plan_id&quot;)\r\n    @Getter @Setter\r\n    private Long planId;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;plan_id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false)\r\n    @Getter @Setter\r\n    private DrugPlan drugPlan;\r\n\r\n    @Column(name = &quot;date_time&quot;, nullable = false)\r\n    @Getter @Setter\r\n    LocalDateTime dateTime;\r\n\r\n    public CustomPosology(CustomPosologyForm form){\r\n        this.dateTime = form.getDateTime();\r\n    }\r\n}\r\n```\r\n\r\n**Here&#39;s the problem**: When I try to run a save operation on &#39;CustomPosology&#39; with &#39;planId&#39; already properly set, I get the following below. It seems to be related to the framework not being able to find the attribute setter:\r\n\r\n&gt; 2023-04-05 18:00:04.645 ERROR 2433 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: Could not set field value [POST_INSERT_INDICATOR] value by reflection : [class com.campera.app3idadefacil.model.CustomPosologyId.id] setter of com.campera.app3idadefacil.model.CustomPosologyId.id; nested exception is org.hibernate.PropertyAccessException: Could not set field value [POST_INSERT_INDICATOR] value by reflection : [class com.campera.app3idadefacil.model.CustomPosologyId.id] setter of com.campera.app3idadefacil.model.CustomPosologyId.id] with root cause\r\n&gt; \r\n&gt; java.lang.IllegalArgumentException: Can not set java.lang.Long field com.campera.app3idadefacil.model.CustomPosologyId.id to org.hibernate.id.IdentifierGeneratorHelper$2\r\n&gt; \r\n\r\nThanks in advance for the help!\r\n\r\nI previously tried writing the composite key as an @Embeddable but it turns out that @GeneratedValue won&#39;t work if not followed by @Id, as pointed out in [the article I mentioned](https://thorben-janssen.com/composite-primary-keys-sequence/#Mapping_an_EmbeddedId).\r\n\r\nI have seen [some stack overflow questions](https://stackoverflow.com/questions/8119317/hibernate-3-composite-key-one-with-generatedvalue) where users answered that it is not possible to have a composite key with incrementing value, however the article says otherwise.\r\n\r\nI have also tried removing Lombok usage in these classes but it didn&#39;t help.","title":"Composite PK problem: IdClass attribute annotated with GeneratedValue won&#39;t be set","body":"<p>I'm writing an Entity with a PK with two attributes: a Long FK to another Entity, and an auto incrementing Long. I followed the suggestions of <a href=\"https://thorben-janssen.com/composite-primary-keys-sequence/#Mapping_an_EmbeddedId\" rel=\"nofollow noreferrer\">this article</a>.</p>\n<p>Here's my IdClass and Entity. The autoincrementing attribute should be 'id'.</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class CustomPosologyId implements Serializable {\n    private Long id;\n    private Long planId;\n}\n</code></pre>\n<pre><code>@Entity\n@NoArgsConstructor\n@IdClass(CustomPosologyId.class)\n@Table(name = &quot;custom_posology&quot;)\npublic class CustomPosology {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    @Getter @Setter\n    private Long id;\n\n    @Id\n    @Column(name = &quot;plan_id&quot;)\n    @Getter @Setter\n    private Long planId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;plan_id&quot;, referencedColumnName = &quot;id&quot;, insertable = false, updatable = false)\n    @Getter @Setter\n    private DrugPlan drugPlan;\n\n    @Column(name = &quot;date_time&quot;, nullable = false)\n    @Getter @Setter\n    LocalDateTime dateTime;\n\n    public CustomPosology(CustomPosologyForm form){\n        this.dateTime = form.getDateTime();\n    }\n}\n</code></pre>\n<p><strong>Here's the problem</strong>: When I try to run a save operation on 'CustomPosology' with 'planId' already properly set, I get the following below. It seems to be related to the framework not being able to find the attribute setter:</p>\n<blockquote>\n<p>2023-04-05 18:00:04.645 ERROR 2433 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: Could not set field value [POST_INSERT_INDICATOR] value by reflection : [class com.campera.app3idadefacil.model.CustomPosologyId.id] setter of com.campera.app3idadefacil.model.CustomPosologyId.id; nested exception is org.hibernate.PropertyAccessException: Could not set field value [POST_INSERT_INDICATOR] value by reflection : [class com.campera.app3idadefacil.model.CustomPosologyId.id] setter of com.campera.app3idadefacil.model.CustomPosologyId.id] with root cause</p>\n<p>java.lang.IllegalArgumentException: Can not set java.lang.Long field com.campera.app3idadefacil.model.CustomPosologyId.id to org.hibernate.id.IdentifierGeneratorHelper$2</p>\n</blockquote>\n<p>Thanks in advance for the help!</p>\n<p>I previously tried writing the composite key as an @Embeddable but it turns out that @GeneratedValue won't work if not followed by @Id, as pointed out in <a href=\"https://thorben-janssen.com/composite-primary-keys-sequence/#Mapping_an_EmbeddedId\" rel=\"nofollow noreferrer\">the article I mentioned</a>.</p>\n<p>I have seen <a href=\"https://stackoverflow.com/questions/8119317/hibernate-3-composite-key-one-with-generatedvalue\">some stack overflow questions</a> where users answered that it is not possible to have a composite key with incrementing value, however the article says otherwise.</p>\n<p>I have also tried removing Lombok usage in these classes but it didn't help.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":5090313,"reputation":1,"user_id":4083589,"display_name":"Yugandhar Reddy Akkisetty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680978541,"creation_date":1680978494,"answer_id":75967010,"question_id":75879179,"body_markdown":"I used the following code to serve the purpose \r\n\r\n     public Specification&lt;WorkOrder&gt; hasShift(Integer a) {\r\n\r\n        return ((root, query, criteriaBuilder) -&gt; {\r\n            Predicate nonP = criteriaBuilder.equal(root.get(&quot;sop_no&quot;),a);\r\n            Predicate P = criteriaBuilder.equal(root.get(&quot;shift&quot;),a);\r\n            Predicate isP = criteriaBuilder.equal(root.get(&quot;type&quot;), &quot;P&quot;);\r\n            Predicate one=criteriaBuilder.and(isP,P);\r\n            Predicate two =criteriaBuilder.and(nonP);\r\n            return criteriaBuilder.or(one,two);\r\n        });\r\n\r\n    }","title":"How to use selectCase() in JPA specifications","body":"<p>I used the following code to serve the purpose</p>\n<pre><code> public Specification&lt;WorkOrder&gt; hasShift(Integer a) {\n\n    return ((root, query, criteriaBuilder) -&gt; {\n        Predicate nonP = criteriaBuilder.equal(root.get(&quot;sop_no&quot;),a);\n        Predicate P = criteriaBuilder.equal(root.get(&quot;shift&quot;),a);\n        Predicate isP = criteriaBuilder.equal(root.get(&quot;type&quot;), &quot;P&quot;);\n        Predicate one=criteriaBuilder.and(isP,P);\n        Predicate two =criteriaBuilder.and(nonP);\n        return criteriaBuilder.or(one,two);\n    });\n\n}\n</code></pre>\n"}],"owner":{"account_id":5090313,"reputation":1,"user_id":4083589,"display_name":"Yugandhar Reddy Akkisetty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680978541,"creation_date":1680103135,"question_id":75879179,"body_markdown":"I have table with name `workorder` with the columns `id,shift,date,sop_no,type`\r\nUser will be passing a integer to GET API to filter table content. if the record is of `type=P` then use the `shift` column to filter the data otherwise use `sop_no`  I have following snippet of code. I&#39;m using JPA specifications.\r\n\r\n```\r\nworkorderRepo.findAll(Specification.where(hasShift(Integer a))\r\n```\r\n\r\n```\r\n\tpublic Specification&lt;WorkOrder&gt; hasShift(Integer a) {\r\n\r\n\t\treturn ((root, query, criteriaBuilder) -&gt; {\r\n\t\t\tPredicate nonP = criteriaBuilder.equal(root.get(&quot;sop_no&quot;),a);\r\n\t\t\tPredicate P = criteriaBuilder.equal(root.get(&quot;shift&quot;),a);\r\n\t\t\tretrun criteriaBuilder.selectCase().when(criteriaBuilder.equal(root.get(&quot;type&quot;), &quot;P&quot;), P).otherwise(nonP);\r\n\r\n\r\n\t\t});\r\n\r\n\t}\r\n```\r\n\r\nI&#39;m using `selectCase()` for select `nonP` or `P` predicate\r\nBut code construct throwing  **Expression\\&lt;Object\\&gt; cannot be converted to Predicate** Error\r\n\r\nI tried convert `selectCase()` to `Predicate` type using `as` method but no use","title":"How to use selectCase() in JPA specifications","body":"<p>I have table with name <code>workorder</code> with the columns <code>id,shift,date,sop_no,type</code>\nUser will be passing a integer to GET API to filter table content. if the record is of <code>type=P</code> then use the <code>shift</code> column to filter the data otherwise use <code>sop_no</code>  I have following snippet of code. I'm using JPA specifications.</p>\n<pre><code>workorderRepo.findAll(Specification.where(hasShift(Integer a))\n</code></pre>\n<pre><code>    public Specification&lt;WorkOrder&gt; hasShift(Integer a) {\n\n        return ((root, query, criteriaBuilder) -&gt; {\n            Predicate nonP = criteriaBuilder.equal(root.get(&quot;sop_no&quot;),a);\n            Predicate P = criteriaBuilder.equal(root.get(&quot;shift&quot;),a);\n            retrun criteriaBuilder.selectCase().when(criteriaBuilder.equal(root.get(&quot;type&quot;), &quot;P&quot;), P).otherwise(nonP);\n\n\n        });\n\n    }\n</code></pre>\n<p>I'm using <code>selectCase()</code> for select <code>nonP</code> or <code>P</code> predicate\nBut code construct throwing  <strong>Expression&lt;Object&gt; cannot be converted to Predicate</strong> Error</p>\n<p>I tried convert <code>selectCase()</code> to <code>Predicate</code> type using <code>as</code> method but no use</p>\n"},{"tags":["java","android","sockets","networking"],"comments":[{"owner":{"account_id":1387745,"reputation":1932,"user_id":1319362,"accept_rate":57,"display_name":"Jermin Bazazian"},"score":0,"creation_date":1335455484,"post_id":10336637,"comment_id":13312343,"body_markdown":"What is your IP on your local network? Are you on linux or windows? On windows open a command window and type `ipconfig` in it. Just put your `IPV4` in your code. On linux the open a terminal and execute `ifconfig`. Obviously your ISP has blocked the access to your machine from outside. Your public IP is not what you want.","body":"What is your IP on your local network? Are you on linux or windows? On windows open a command window and type <code>ipconfig</code> in it. Just put your <code>IPV4</code> in your code. On linux the open a terminal and execute <code>ifconfig</code>. Obviously your ISP has blocked the access to your machine from outside. Your public IP is not what you want."}],"answers":[{"tags":[],"owner":{"account_id":243030,"reputation":4406,"user_id":514952,"accept_rate":80,"display_name":"EvilDuck"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680978516,"creation_date":1335454967,"answer_id":10336808,"question_id":10336637,"body_markdown":"As I understand you are running Android client on a device in the same network as your server? Then you must use your servers internal IP. Localhost here will search servers on a device obviously.\r\n\r\n[whatsmyip.org][1] will give you your external IP.\r\n\r\nMake sure device is indeed on the same network, make sure you&#39;re using correct internal IP, make sure your server doesn&#39;t have any firewall blocking this port for LAN.\r\n\r\nAnd for stop doing network activity on UI thread ffs!!!\r\n\r\n\r\n  [1]: https://whatsmyip.org","title":"How do I socket an Android program to a localhost server?","body":"<p>As I understand you are running Android client on a device in the same network as your server? Then you must use your servers internal IP. Localhost here will search servers on a device obviously.</p>\n<p><a href=\"https://whatsmyip.org\" rel=\"nofollow noreferrer\">whatsmyip.org</a> will give you your external IP.</p>\n<p>Make sure device is indeed on the same network, make sure you're using correct internal IP, make sure your server doesn't have any firewall blocking this port for LAN.</p>\n<p>And for stop doing network activity on UI thread ffs!!!</p>\n"},{"comments":[{"owner":{"account_id":1085067,"reputation":1093,"user_id":1080952,"accept_rate":50,"display_name":"user1080952"},"score":0,"creation_date":1335465472,"post_id":10338813,"comment_id":13316352,"body_markdown":"The problem was my app did not have internet permission. I added\n\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\n\nto the manifest and now it works. Thanks!","body":"The problem was my app did not have internet permission. I added  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&zwnj;&#8203;&gt;  to the manifest and now it works. Thanks!"}],"tags":[],"owner":{"account_id":189621,"reputation":39951,"user_id":429063,"display_name":"Chris Stratton"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1335462980,"creation_date":1335462980,"answer_id":10338813,"question_id":10336637,"body_markdown":"First make sure your app has internet permission.\r\n\r\nThe only time you can use the 10.0.2.2 alias is if your app is running on an emulator and wants to contact something running on the hosting machine.  This **does not work** with actual android devices.\r\n\r\nFor an actual android device, you would either have to put the device on the same wifi network as the PC hosting the server, find a way to abuse a tethering solution to get them on the same network over the USB cable, or move your server to a machine externally accessible from the Internet at large in order to be able to reach it from the device&#39;s mobile network connection.\r\n\r\nAnd EvilDuck definitely has a point about abusing the UI thread.","title":"How do I socket an Android program to a localhost server?","body":"<p>First make sure your app has internet permission.</p>\n\n<p>The only time you can use the 10.0.2.2 alias is if your app is running on an emulator and wants to contact something running on the hosting machine.  This <strong>does not work</strong> with actual android devices.</p>\n\n<p>For an actual android device, you would either have to put the device on the same wifi network as the PC hosting the server, find a way to abuse a tethering solution to get them on the same network over the USB cable, or move your server to a machine externally accessible from the Internet at large in order to be able to reach it from the device's mobile network connection.</p>\n\n<p>And EvilDuck definitely has a point about abusing the UI thread.</p>\n"}],"owner":{"account_id":1085067,"reputation":1093,"user_id":1080952,"accept_rate":50,"display_name":"user1080952"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8351,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":10338813,"answer_count":2,"score":3,"last_activity_date":1680978516,"creation_date":1335454306,"question_id":10336637,"body_markdown":"I have server and client code that works perfectly as a Java application. The server is run on my local machine and listens on port 4444. Any Java application can connect easily, but when I move my code over to Android, I keep getting an IOException no matter what I try. I read that you have to change &quot;localhost&quot; to &quot;10.0.2.2&quot;, but I&#39;m still getting an IOException. I tried my IP address from whatsmyip.org but it still gives me an IOException. Here&#39;s my android code...\r\n\r\n    package test.myPackage;\r\n\r\n    import java.io.IOException;\r\n    import java.net.Socket;\r\n    import java.net.UnknownHostException;\r\n    \r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    import android.widget.TextView;\r\n    \r\n    public class TestProjectActivity extends Activity {\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n            TextView tv = new TextView(this);\r\n            tv.setText(&quot;Hello, Android&quot;);\r\n            setContentView(tv);\r\n        \r\n        Socket s = null;\r\n        try {\r\n\t\t\ts = new Socket(&quot;10.0.2.2&quot;, 4444);\r\n\t\t\ttv.setText(&quot;socket: CONNECTED!&quot;);\r\n\t\t} catch (UnknownHostException e) {\r\n\t\t\ttv.setText(&quot;socket: unknown host&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\ttv.setText(&quot;socket: IO Exception&quot;);\r\n\t\t}\r\n    }\r\n}","title":"How do I socket an Android program to a localhost server?","body":"<p>I have server and client code that works perfectly as a Java application. The server is run on my local machine and listens on port 4444. Any Java application can connect easily, but when I move my code over to Android, I keep getting an IOException no matter what I try. I read that you have to change \"localhost\" to \"10.0.2.2\", but I'm still getting an IOException. I tried my IP address from whatsmyip.org but it still gives me an IOException. Here's my android code...</p>\n\n<pre><code>package test.myPackage;\n\nimport java.io.IOException;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.widget.TextView;\n\npublic class TestProjectActivity extends Activity {\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        TextView tv = new TextView(this);\n        tv.setText(\"Hello, Android\");\n        setContentView(tv);\n\n    Socket s = null;\n    try {\n        s = new Socket(\"10.0.2.2\", 4444);\n        tv.setText(\"socket: CONNECTED!\");\n    } catch (UnknownHostException e) {\n        tv.setText(\"socket: unknown host\");\n    } catch (IOException e) {\n        tv.setText(\"socket: IO Exception\");\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java"],"owner":{"account_id":4855391,"reputation":1,"user_id":3916506,"display_name":"user3916506"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1680978102,"answer_count":0,"score":0,"last_activity_date":1680977932,"creation_date":1680977932,"question_id":75966964,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class inputTesting {\r\n    public void checkone(){\r\n        String input=&quot;Hello Word&quot;;\r\n        Scanner s=new Scanner(input);\r\n        while (s.hasNext()){\r\n            String word=s.next();\r\n            System.out.println(word);\r\n        }\r\n        s.close();\r\n    }\r\n    public void checktwo(){\r\n        System.out.print(&quot;Enter the line: &quot;);\r\n        Scanner s=new Scanner(System.in);\r\n        while (s.hasNextLine()){\r\n            String k=s.nextLine();\r\n            Scanner sc=new Scanner(k);\r\n            while (sc.hasNext()){\r\n                String word=sc.next();\r\n                System.out.println(word);\r\n            }\r\n            sc.close();\r\n            break;\r\n        }\r\n        s.close();\r\n    }\r\n    public void checkthree(){\r\n        System.out.print(&quot;Enter the line which should combine using &#39;_&#39;: &quot;);\r\n        Scanner sy=new Scanner(System.in);\r\n        while(sy.hasNextLine()){\r\n            String sk=sy.nextLine();\r\n            Scanner sn=new Scanner(sk);\r\n            sn.useDelimiter(&quot;_&quot;);\r\n            while (sn.hasNext()){\r\n                String word=sn.next();\r\n                System.out.println(word);\r\n            }\r\n            sn.close();\r\n            break;\r\n        }\r\n        sy.close();\r\n    }\r\n}\r\nclass inputs{\r\n    public static void main(String args[]){\r\n        inputTesting it=new inputTesting();\r\n        it.checkone();\r\n        it.checktwo();\r\n        it.checkthree();\r\n    }\r\n}\r\n\r\n```\r\n\r\nSteps i have tried:\r\n\r\n1. Removed the new line print from checktwo() method i.e: System.out.println(word);\r\n2. added extra : sy.nextLine() method, to consume if any lines were there previously before entering the checkthree() while loop.\r\n\r\nBoth the points were not worked.\r\n\r\nSolution i have tried is : passed the input directly from it.checkthree(&quot;This_is_my_name_&quot;); and hardcoded checkthree() method too , and it worked corrcetly.\r\n\r\n\r\nExpecting:\r\n\r\nWhy my actual code is not working ? due to multiple scanner objects? even tough i need a solution using scanner object only, please provide your recommendations.","title":"Why the checkthree() method is not asking for input ? why it was terminating prematurely?","body":"<pre><code>import java.util.Scanner;\n\npublic class inputTesting {\n    public void checkone(){\n        String input=&quot;Hello Word&quot;;\n        Scanner s=new Scanner(input);\n        while (s.hasNext()){\n            String word=s.next();\n            System.out.println(word);\n        }\n        s.close();\n    }\n    public void checktwo(){\n        System.out.print(&quot;Enter the line: &quot;);\n        Scanner s=new Scanner(System.in);\n        while (s.hasNextLine()){\n            String k=s.nextLine();\n            Scanner sc=new Scanner(k);\n            while (sc.hasNext()){\n                String word=sc.next();\n                System.out.println(word);\n            }\n            sc.close();\n            break;\n        }\n        s.close();\n    }\n    public void checkthree(){\n        System.out.print(&quot;Enter the line which should combine using '_': &quot;);\n        Scanner sy=new Scanner(System.in);\n        while(sy.hasNextLine()){\n            String sk=sy.nextLine();\n            Scanner sn=new Scanner(sk);\n            sn.useDelimiter(&quot;_&quot;);\n            while (sn.hasNext()){\n                String word=sn.next();\n                System.out.println(word);\n            }\n            sn.close();\n            break;\n        }\n        sy.close();\n    }\n}\nclass inputs{\n    public static void main(String args[]){\n        inputTesting it=new inputTesting();\n        it.checkone();\n        it.checktwo();\n        it.checkthree();\n    }\n}\n\n</code></pre>\n<p>Steps i have tried:</p>\n<ol>\n<li>Removed the new line print from checktwo() method i.e: System.out.println(word);</li>\n<li>added extra : sy.nextLine() method, to consume if any lines were there previously before entering the checkthree() while loop.</li>\n</ol>\n<p>Both the points were not worked.</p>\n<p>Solution i have tried is : passed the input directly from it.checkthree(&quot;This_is_my_name_&quot;); and hardcoded checkthree() method too , and it worked corrcetly.</p>\n<p>Expecting:</p>\n<p>Why my actual code is not working ? due to multiple scanner objects? even tough i need a solution using scanner object only, please provide your recommendations.</p>\n"},{"tags":["java","android","request","gson","android-volley"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680976839,"creation_date":1680976839,"answer_id":75966870,"question_id":75965174,"body_markdown":"HTTP 308 is not an error in that sense, it indicates a [permanent redirect](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/308).\r\n\r\nMost likely when you manually tested your web server you used a tool which automatically follows HTTP redirects. For Volley it looks like it should follow redirects, except when the protocol changes between HTTP and HTTPS, see also this [GitHub issue](https://github.com/google/volley/issues/51).\r\n\r\nSince the URL you are using already has `https://` maybe your web server redirects to a `http://` URL? In that case you should adjust your web server though because posting credentials over unencrypted HTTP should be avoided for security reasons.\r\n\r\nOr you could also check the value of [`HttpURLConnection.getFollowRedirects()`](https://developer.android.com/reference/java/net/HttpURLConnection#getFollowRedirects()), maybe for some reason that is `false`.","title":"Login register 308","body":"<p>HTTP 308 is not an error in that sense, it indicates a <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/308\" rel=\"nofollow noreferrer\">permanent redirect</a>.</p>\n<p>Most likely when you manually tested your web server you used a tool which automatically follows HTTP redirects. For Volley it looks like it should follow redirects, except when the protocol changes between HTTP and HTTPS, see also this <a href=\"https://github.com/google/volley/issues/51\" rel=\"nofollow noreferrer\">GitHub issue</a>.</p>\n<p>Since the URL you are using already has <code>https://</code> maybe your web server redirects to a <code>http://</code> URL? In that case you should adjust your web server though because posting credentials over unencrypted HTTP should be avoided for security reasons.</p>\n<p>Or you could also check the value of <a href=\"https://developer.android.com/reference/java/net/HttpURLConnection#getFollowRedirects()\" rel=\"nofollow noreferrer\"><code>HttpURLConnection.getFollowRedirects()</code></a>, maybe for some reason that is <code>false</code>.</p>\n"}],"owner":{"account_id":10579646,"reputation":59,"user_id":7793969,"display_name":"Bart"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680976839,"creation_date":1680956378,"question_id":75965174,"body_markdown":"I have a web app + database hosted in python which I have tested and works for creating, logging in and logging out user. Now I&#39;m trying to make the requests in my android application written in java. However, I keep getting 308 error. \r\n\r\nHere is my RegisterActivity.java\r\n\r\n    private void register() {\r\n        // Get headers, method and url to be used in the request\r\n        final String user = username.getText().toString();\r\n        final String pass = password.getText().toString();\r\n        Map&lt;String, String&gt; userObject = new HashMap&lt;&gt;();\r\n        userObject.put(&quot;username&quot;, user);\r\n        userObject.put(&quot;password&quot;, pass);\r\n        final int method = Request.Method.POST;\r\n        final String url = &quot;https://tddd80-app-joneri.azurewebsites.net/user&quot;;\r\n\r\n        // Create request\r\n        GsonRequest request = new GsonRequest(Request.Method.POST, url, userObject,\r\n                response    -&gt; System.out.println(&quot;Success! Response: &quot; + response),\r\n                error       -&gt; System.out.println(&quot;Error with request: &quot; + error.getMessage());\r\n\r\n        // Add the request to the Volley request queue\r\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\r\n        requestQueue.add(request);\r\n\r\n\r\nand this is the most important part of GsonRequest which should parse JSON into string:\r\n\r\n    public class GsonRequest extends Request&lt;String&gt; {\r\n        private final Map&lt;String, String&gt; headers;\r\n        private final Response.Listener&lt;String&gt; listener;\r\n\r\n        public GsonRequest(int method, String url, Map&lt;String, String&gt; headers,\r\n                             Response.Listener&lt;String&gt; listener, Response.ErrorListener \r\n        errorListener) {\r\n            super(method, url, errorListener);\r\n            this.headers = headers;\r\n            this.listener = listener;\r\n        }\r\n\r\nThe error:\r\n\r\n    E/Volley: [16210] NetworkUtility.shouldRetryException: Unexpected response code 308 \r\n    for https://tddd80-app-joneri.azurewebsites.net/user\r\n\r\n\r\nAny help is appreciated!","title":"Login register 308","body":"<p>I have a web app + database hosted in python which I have tested and works for creating, logging in and logging out user. Now I'm trying to make the requests in my android application written in java. However, I keep getting 308 error.</p>\n<p>Here is my RegisterActivity.java</p>\n<pre><code>private void register() {\n    // Get headers, method and url to be used in the request\n    final String user = username.getText().toString();\n    final String pass = password.getText().toString();\n    Map&lt;String, String&gt; userObject = new HashMap&lt;&gt;();\n    userObject.put(&quot;username&quot;, user);\n    userObject.put(&quot;password&quot;, pass);\n    final int method = Request.Method.POST;\n    final String url = &quot;https://tddd80-app-joneri.azurewebsites.net/user&quot;;\n\n    // Create request\n    GsonRequest request = new GsonRequest(Request.Method.POST, url, userObject,\n            response    -&gt; System.out.println(&quot;Success! Response: &quot; + response),\n            error       -&gt; System.out.println(&quot;Error with request: &quot; + error.getMessage());\n\n    // Add the request to the Volley request queue\n    RequestQueue requestQueue = Volley.newRequestQueue(this);\n    requestQueue.add(request);\n</code></pre>\n<p>and this is the most important part of GsonRequest which should parse JSON into string:</p>\n<pre><code>public class GsonRequest extends Request&lt;String&gt; {\n    private final Map&lt;String, String&gt; headers;\n    private final Response.Listener&lt;String&gt; listener;\n\n    public GsonRequest(int method, String url, Map&lt;String, String&gt; headers,\n                         Response.Listener&lt;String&gt; listener, Response.ErrorListener \n    errorListener) {\n        super(method, url, errorListener);\n        this.headers = headers;\n        this.listener = listener;\n    }\n</code></pre>\n<p>The error:</p>\n<pre><code>E/Volley: [16210] NetworkUtility.shouldRetryException: Unexpected response code 308 \nfor https://tddd80-app-joneri.azurewebsites.net/user\n</code></pre>\n<p>Any help is appreciated!</p>\n"},{"tags":["java","docker","logging"],"owner":{"account_id":16917008,"reputation":29,"user_id":16632267,"display_name":"Illy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1680976458,"creation_date":1680967247,"question_id":75966037,"body_markdown":"I need my Java application to be able to write log to a file on a Docker volume. \r\n\r\nI expect the `app.log` file to appear in logs folder, but it doesn&#39;t.\r\nWhat am I doing wrong?\r\n\r\nMy application-related entry in `docker-compose.yaml` is as follows:\r\n```yaml\r\napp:\r\n  build: ./\r\n  container_name: java-app\r\n  ports:\r\n  - 8080:8080\r\n  links:\r\n  - postgresq\r\n  environment:\r\n  - SPRING_DATASOURCE_URL=jdbc:postgresql://java-postgres:5432/apartments\r\n  depends_on:\r\n    postgresq: \r\n      condition: service_healthy\r\n  volumes:\r\n    - &quot;./logs/:/app/logs/&quot;\r\n```\r\nMy app&#39;s `application.properties` contains:\r\n```ini\r\nlogging.file.path=/app/logs\r\nlogging.file.name=app.log\r\n```\r\n\r\nTo write log i use something like following:\r\n```java\r\n      ....\r\nprivate static final Logger logger = LogManager.getLogger(MyAppController.class);\r\n      .....\r\nlogger.info(&quot;Reading&quot;);\r\n      .....\r\n``` \r\n","title":"Logging to a file on a Docker volume","body":"<p>I need my Java application to be able to write log to a file on a Docker volume.</p>\n<p>I expect the <code>app.log</code> file to appear in logs folder, but it doesn't.\nWhat am I doing wrong?</p>\n<p>My application-related entry in <code>docker-compose.yaml</code> is as follows:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>app:\n  build: ./\n  container_name: java-app\n  ports:\n  - 8080:8080\n  links:\n  - postgresq\n  environment:\n  - SPRING_DATASOURCE_URL=jdbc:postgresql://java-postgres:5432/apartments\n  depends_on:\n    postgresq: \n      condition: service_healthy\n  volumes:\n    - &quot;./logs/:/app/logs/&quot;\n</code></pre>\n<p>My app's <code>application.properties</code> contains:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>logging.file.path=/app/logs\nlogging.file.name=app.log\n</code></pre>\n<p>To write log i use something like following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      ....\nprivate static final Logger logger = LogManager.getLogger(MyAppController.class);\n      .....\nlogger.info(&quot;Reading&quot;);\n      .....\n</code></pre>\n"},{"tags":["java","maven","jar","io"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1680973044,"post_id":75966534,"comment_id":133985978,"body_markdown":"You read files with the `Files` and `Path` class in Java. What exactly is your problem?","body":"You read files with the <code>Files</code> and <code>Path</code> class in Java. What exactly is your problem?"},{"owner":{"account_id":23656903,"reputation":1,"user_id":17685033,"display_name":"Clafted"},"score":0,"creation_date":1680973409,"post_id":75966534,"comment_id":133986023,"body_markdown":"Although I can access them when running the .java file (I use Eclipse), the paths seems to be different when I compile the program into a JAR file. The JAR file is in a different folder within the project, so the relative paths to the files I want to access are different.I&#39;m confused by how I should determine the relative path and if it is even possible to access file FROM INSIDE a JAR file.","body":"Although I can access them when running the .java file (I use Eclipse), the paths seems to be different when I compile the program into a JAR file. The JAR file is in a different folder within the project, so the relative paths to the files I want to access are different.I&#39;m confused by how I should determine the relative path and if it is even possible to access file FROM INSIDE a JAR file."},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1680973460,"post_id":75966534,"comment_id":133986034,"body_markdown":"Welcome to Stack Overflow. Please take the [tour](https://stackoverflow.com/tour) to learn how Stack Overflow works and read [How to Ask](https://stackoverflow.com/help/how-to-ask) or how to improve the quality of your question. Then edit your question to include your full source code you have as a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). Additonally keep in mind that StackOverflow community is not a free coding service Currently you are not asking any question.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> or how to improve the quality of your question. Then edit your question to include your full source code you have as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Additonally keep in mind that StackOverflow community is not a free coding service Currently you are not asking any question."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1680974207,"post_id":75966534,"comment_id":133986145,"body_markdown":"The &quot;current&quot; path is an OS artifact, and may not exist in all environments.  Certainly the concept of &quot;relative to the program&quot; or &quot;relative to the jar file&quot;  is completely meaningless.  You must provide externally (configuration) a way for the program to determine absolute paths.","body":"The &quot;current&quot; path is an OS artifact, and may not exist in all environments.  Certainly the concept of &quot;relative to the program&quot; or &quot;relative to the jar file&quot;  is completely meaningless.  You must provide externally (configuration) a way for the program to determine absolute paths."},{"owner":{"account_id":23656903,"reputation":1,"user_id":17685033,"display_name":"Clafted"},"score":0,"creation_date":1680974541,"post_id":75966534,"comment_id":133986191,"body_markdown":"Is using absolute paths a common practice in java development? I just assumed that it isn&#39;t and that absolute paths can&#39;t always be obtained.","body":"Is using absolute paths a common practice in java development? I just assumed that it isn&#39;t and that absolute paths can&#39;t always be obtained."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1680974636,"post_id":75966534,"comment_id":133986209,"body_markdown":"You need to distinguish between &quot;files that are part of your program&quot; and &quot;files that the users of your program create / modify&quot;. &quot;Files that are part of your program&quot; are created by you, are resources and distributed with your progam. So they can be placed into the jar file and loaded using `Class.getResourceAsStream()` when needed. &quot;Files that the users of your program create / modify&quot; are external files and you have no choice but to ask the user which file he wants to work with (and thereby also specifying to path to the files).","body":"You need to distinguish between &quot;files that are part of your program&quot; and &quot;files that the users of your program create / modify&quot;. &quot;Files that are part of your program&quot; are created by you, are resources and distributed with your progam. So they can be placed into the jar file and loaded using <code>Class.getResourceAsStream()</code> when needed. &quot;Files that the users of your program create / modify&quot; are external files and you have no choice but to ask the user which file he wants to work with (and thereby also specifying to path to the files)."},{"owner":{"account_id":23656903,"reputation":1,"user_id":17685033,"display_name":"Clafted"},"score":0,"creation_date":1680975051,"post_id":75966534,"comment_id":133986267,"body_markdown":"I&#39;m trying to create the file automatically using File.createNewFile() because I can&#39;t store empty files in a GitHub repository. Could I create and access files through the JAR file that way?","body":"I&#39;m trying to create the file automatically using File.createNewFile() because I can&#39;t store empty files in a GitHub repository. Could I create and access files through the JAR file that way?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1681033285,"post_id":75966534,"comment_id":133991489,"body_markdown":"You cannot use `File` and `FileInputStream` and the like to access resources in a JAR file.  You read resources in a JAR using `ClassLoader.getResourceAsStream` ... and you don&#39;t write them ... &#39;cos the JAR file is typically read-only and/or not owned by the user.","body":"You cannot use <code>File</code> and <code>FileInputStream</code> and the like to access resources in a JAR file.  You read resources in a JAR using <code>ClassLoader.getResourceAsStream</code> ... and you don&#39;t write them ... &#39;cos the JAR file is typically read-only and/or not owned by the user."}],"answers":[{"comments":[{"owner":{"account_id":23656903,"reputation":1,"user_id":17685033,"display_name":"Clafted"},"score":0,"creation_date":1681568270,"post_id":75966832,"comment_id":134079183,"body_markdown":"Thanks so much for this. I started playing around with getResources and properties files and then realized again that I shouldn&#39;t be putting the properties file in the jar&#39;s resources bc I wouldn&#39;t be able to rewrite it. \n\nEdit: I mean to mention that I&#39;m now trying to save the user&#39;s preferred directory for the app&#39;s user files, which is why I have the properties folder, but realized that I don&#39;t know how to relocate it bc I planned on having the directory saved in the properties, which itself is in said directory. \nTLDR; How do I save a user-defined path without hardcoding a path?","body":"Thanks so much for this. I started playing around with getResources and properties files and then realized again that I shouldn&#39;t be putting the properties file in the jar&#39;s resources bc I wouldn&#39;t be able to rewrite it.   Edit: I mean to mention that I&#39;m now trying to save the user&#39;s preferred directory for the app&#39;s user files, which is why I have the properties folder, but realized that I don&#39;t know how to relocate it bc I planned on having the directory saved in the properties, which itself is in said directory.  TLDR; How do I save a user-defined path without hardcoding a path?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681576110,"post_id":75966832,"comment_id":134080279,"body_markdown":"By having a config entry in a place where config entries go. You can use [the preferences API](https://www.amitph.com/introduction-to-java-preferences-api/) which writes to registry on windows and a `.file` in userhome elsewhere. Or do it yourself - `Paths.get(System.getProperty(&quot;user.home&quot;), &quot;.myapp&quot;)`.","body":"By having a config entry in a place where config entries go. You can use <a href=\"https://www.amitph.com/introduction-to-java-preferences-api/\" rel=\"nofollow noreferrer\">the preferences API</a> which writes to registry on windows and a <code>.file</code> in userhome elsewhere. Or do it yourself - <code>Paths.get(System.getProperty(&quot;user.home&quot;), &quot;.myapp&quot;)</code>."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680976369,"creation_date":1680976369,"answer_id":75966832,"question_id":75966534,"body_markdown":"The proper way to distribute standalone applications is either:\r\n\r\n* Via the OS&#39;s built in app distribution system, such as `apt` on debian linux installations, or app stores. If that&#39;s not an option (and it&#39;s kind of a drag to figure out how to do that with java apps, and requires building something specific for each and every OS you target)\r\n* By having the static app data (so, the executables, i.e. the jar files, as well as any static data that wouldn&#39;t ever change. Think, say, the &#39;save&#39; icon for a desktop text editor application. That&#39;s not something you&#39;d generally allow a user to change) in one place, and any user data (such as a text file they wrote), or any data that your app already ships with but _is_ user-changable (such as config files), in a different place. Crucially, proper OS hygiene says that the app should be unable to write to its own static files.\r\n\r\nGood OSes work exactly like this. For a very long time, the standard deployment model on windows OS was to have `C:\\Program Files\\SomeApp` which contained _both_ the app&#39;s static files/data as well as e.g. config files and the like, and that folder was writable to the app. No wonder, the general security mindset of all involved parties for windows installations (users, supplier (i.e. microsoft), and developers) didn&#39;t take security very seriously.\r\n\r\nFortunately, even windows woke up to reality on this and the more modern take on windows is... still to do that, but to have config and user files elsewhere, e.g. in a `My Documents` folder.\r\n\r\nYou should do the same thing.\r\n\r\nOnce you do it that way, your question immediately becomes irrelevant - there is no need to know how to write into a jar file, because you shouldn&#39;t do that in the first place. The jar file is where the static data lives.\r\n\r\n## I have template data\r\n\r\nTemplate data is the notion that your app should ship &#39;out of the box&#39; with a non-blank base entry but that the user IS allowed to change it if they wish. For example, imagine you really did have a text editor whose save icon can be configured in the app&#39;s settings pane. You don&#39;t want it to ship without an icon at all, of course.\r\n\r\nIn this case, you stick the standard save icon in your app and you either treat &#39;user-configurable save icon is not there&#39; as &#39;... so then load the default icon from the jar, via `.getResource`&#39;, or as &#39;... so then I shall copy over the template (the default save icon in the jar) to the proper location on disk, not in a jar, in the user&#39;s home dir someplace, so they know what to edit&#39;.\r\n\r\nThat last one is particularly convenient for config files, where you want the config file to be editable by the user and have lots of comment notes so the user knows what each setting does and which values they can change them to.\r\n\r\n## I want the old way, how do I get my own jar file&#39;s path?\r\n\r\nEasy enough, but it requires a light bit of hackery. You ask for your own class via getResource, e.g:\r\n\r\n```\r\nclass MyApp {\r\n  public static Path getPathToMyOwnJar() {\r\n    String url = MyApp.class.getResource(&quot;MyApp.class&quot;).toString();\r\n    if (url.startsWith(&quot;jar:&quot;)) {\r\n      return new File(new URI(url.substring(4, url.indexOf(&#39;!&#39;)))).toPath();\r\n    }\r\n    if (url.startsWith(&quot;file:&quot;)) {\r\n      File f = new File(url.toURI()).toPath();\r\n      // do some basic coding on walking up the tree for each package\r\n      // element. i.e. turn `C:\\Program Files\\MyApp\\bin\\com\\foo\\MyApp.class`\r\n      // into `C:\\Program Files\\MyApp`.\r\n    }\r\n    throw new IllegalStateException(&quot;Own classpath source is neither a jar nor a file, but: &quot; + url + &quot; -- cannot determine own path&quot;);\r\n  }\r\n}\r\n```\r\n\r\nThis uses the fact that you can always ask &#39;where is my own class file&#39; and the URL returned is generally `url:file://path/to/yourjar.jar!/com/foo/YourClass.class`, or `file://path/to/classpath/bin/com/foo/YourClass.class` depending on whether your app is running as jar or straight from the file system. We can parse that and break out the data.\r\n\r\nI&#39;m not quite sure _why_ you would want to do this; the place you find is not necessarily a good place to write files.\r\n\r\nGenerally, `.getResource` works regardless of whether your app is in jars or just as class files on disk or however else it&#39;s deployed, that&#39;s the point: `getResource` looks in the same place that `java.exe` itself looks for class files. Where-ever that might be. This mechanism (find me a resource; look in the same place you look for class files) can __only__ read and can __not__ list, you can just ask for a specific file, that&#39;s it.\r\n\r\nTo access external folders, that&#39;s.. just file access, check the [`java.nio.file`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/package-summary.html) package for the API you can use; you can access whatever you want with this. Note that `System.getProperty(&quot;user.home&quot;)` gets you the user&#39;s home dir, i.e. `/home/username` on linux, `/Users/username` on mac, `C:\\Users\\username` on windows. Toss that through `Paths.get()` and `.resolve()` your way from there to write files to the user&#39;s homedir, which is where you should be writing them (preferably in a sane subfolder).\r\n","title":"File IO From a JAR File","body":"<p>The proper way to distribute standalone applications is either:</p>\n<ul>\n<li>Via the OS's built in app distribution system, such as <code>apt</code> on debian linux installations, or app stores. If that's not an option (and it's kind of a drag to figure out how to do that with java apps, and requires building something specific for each and every OS you target)</li>\n<li>By having the static app data (so, the executables, i.e. the jar files, as well as any static data that wouldn't ever change. Think, say, the 'save' icon for a desktop text editor application. That's not something you'd generally allow a user to change) in one place, and any user data (such as a text file they wrote), or any data that your app already ships with but <em>is</em> user-changable (such as config files), in a different place. Crucially, proper OS hygiene says that the app should be unable to write to its own static files.</li>\n</ul>\n<p>Good OSes work exactly like this. For a very long time, the standard deployment model on windows OS was to have <code>C:\\Program Files\\SomeApp</code> which contained <em>both</em> the app's static files/data as well as e.g. config files and the like, and that folder was writable to the app. No wonder, the general security mindset of all involved parties for windows installations (users, supplier (i.e. microsoft), and developers) didn't take security very seriously.</p>\n<p>Fortunately, even windows woke up to reality on this and the more modern take on windows is... still to do that, but to have config and user files elsewhere, e.g. in a <code>My Documents</code> folder.</p>\n<p>You should do the same thing.</p>\n<p>Once you do it that way, your question immediately becomes irrelevant - there is no need to know how to write into a jar file, because you shouldn't do that in the first place. The jar file is where the static data lives.</p>\n<h2>I have template data</h2>\n<p>Template data is the notion that your app should ship 'out of the box' with a non-blank base entry but that the user IS allowed to change it if they wish. For example, imagine you really did have a text editor whose save icon can be configured in the app's settings pane. You don't want it to ship without an icon at all, of course.</p>\n<p>In this case, you stick the standard save icon in your app and you either treat 'user-configurable save icon is not there' as '... so then load the default icon from the jar, via <code>.getResource</code>', or as '... so then I shall copy over the template (the default save icon in the jar) to the proper location on disk, not in a jar, in the user's home dir someplace, so they know what to edit'.</p>\n<p>That last one is particularly convenient for config files, where you want the config file to be editable by the user and have lots of comment notes so the user knows what each setting does and which values they can change them to.</p>\n<h2>I want the old way, how do I get my own jar file's path?</h2>\n<p>Easy enough, but it requires a light bit of hackery. You ask for your own class via getResource, e.g:</p>\n<pre><code>class MyApp {\n  public static Path getPathToMyOwnJar() {\n    String url = MyApp.class.getResource(&quot;MyApp.class&quot;).toString();\n    if (url.startsWith(&quot;jar:&quot;)) {\n      return new File(new URI(url.substring(4, url.indexOf('!')))).toPath();\n    }\n    if (url.startsWith(&quot;file:&quot;)) {\n      File f = new File(url.toURI()).toPath();\n      // do some basic coding on walking up the tree for each package\n      // element. i.e. turn `C:\\Program Files\\MyApp\\bin\\com\\foo\\MyApp.class`\n      // into `C:\\Program Files\\MyApp`.\n    }\n    throw new IllegalStateException(&quot;Own classpath source is neither a jar nor a file, but: &quot; + url + &quot; -- cannot determine own path&quot;);\n  }\n}\n</code></pre>\n<p>This uses the fact that you can always ask 'where is my own class file' and the URL returned is generally <code>url:file://path/to/yourjar.jar!/com/foo/YourClass.class</code>, or <code>file://path/to/classpath/bin/com/foo/YourClass.class</code> depending on whether your app is running as jar or straight from the file system. We can parse that and break out the data.</p>\n<p>I'm not quite sure <em>why</em> you would want to do this; the place you find is not necessarily a good place to write files.</p>\n<p>Generally, <code>.getResource</code> works regardless of whether your app is in jars or just as class files on disk or however else it's deployed, that's the point: <code>getResource</code> looks in the same place that <code>java.exe</code> itself looks for class files. Where-ever that might be. This mechanism (find me a resource; look in the same place you look for class files) can <strong>only</strong> read and can <strong>not</strong> list, you can just ask for a specific file, that's it.</p>\n<p>To access external folders, that's.. just file access, check the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.nio.file</code></a> package for the API you can use; you can access whatever you want with this. Note that <code>System.getProperty(&quot;user.home&quot;)</code> gets you the user's home dir, i.e. <code>/home/username</code> on linux, <code>/Users/username</code> on mac, <code>C:\\Users\\username</code> on windows. Toss that through <code>Paths.get()</code> and <code>.resolve()</code> your way from there to write files to the user's homedir, which is where you should be writing them (preferably in a sane subfolder).</p>\n"}],"owner":{"account_id":23656903,"reputation":1,"user_id":17685033,"display_name":"Clafted"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1680976369,"creation_date":1680972921,"question_id":75966534,"body_markdown":"How do I both create and read files from outside the JAR file? Should I even be using a jar file to run a program if I want the application to be distributed?\r\n\r\nI&#39;m trying to write a Java program to draw tilemaps, and I want to save some files. I&#39;m also trying to learn how to properly structure my program, so I formatted it as a Maven project. I can do that easily from the src/main/java/ .java files, but it gets confusing when I build the program into a JAR file.\r\n\r\nI&#39;ve been researching ways to access external folders when running a program through a JAR file and I cannot find a clear answer.","title":"File IO From a JAR File","body":"<p>How do I both create and read files from outside the JAR file? Should I even be using a jar file to run a program if I want the application to be distributed?</p>\n<p>I'm trying to write a Java program to draw tilemaps, and I want to save some files. I'm also trying to learn how to properly structure my program, so I formatted it as a Maven project. I can do that easily from the src/main/java/ .java files, but it gets confusing when I build the program into a JAR file.</p>\n<p>I've been researching ways to access external folders when running a program through a JAR file and I cannot find a clear answer.</p>\n"},{"tags":["java","c++","java-native-interface"],"answers":[{"tags":[],"owner":{"account_id":1576433,"reputation":22963,"user_id":1462718,"accept_rate":89,"display_name":"Brandon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649438588,"creation_date":1649435176,"answer_id":71800379,"question_id":71799495,"body_markdown":"That Java code doesn&#39;t load a jar properly. At least it doesn&#39;t define the classes or keep track of the names of the entries in the jar.\r\n\r\nThis works for all the jars I&#39;ve tested in the past:\r\n\r\n    #include &lt;jni.h&gt;\r\n    #include &lt;iostream&gt;\r\n    #include &lt;memory&gt;\r\n    #include &lt;utility&gt;\r\n    #include &lt;vector&gt;\r\n    \r\n    struct JVM\r\n    {\r\n        JavaVM* vm;\r\n        JNIEnv* env;\r\n    };\r\n    \r\n    JVM create_java_vm()\r\n    {\r\n        const char* argv[] = {&quot;-Djava.compiler=NONE&quot;,\r\n                              &quot;-Djava.class.path=.&quot;}; //&quot;-verbose:jni&quot;\r\n        const int argc = static_cast&lt;int&gt;(sizeof(argv) / sizeof(argv[0]));\r\n        \r\n        JavaVMInitArgs jvm_args;\r\n        JavaVMOption options[argc];\r\n    \r\n        for (int i = 0; i &lt; argc; ++i)\r\n        {\r\n            options[i].optionString = const_cast&lt;char*&gt;(argv[i]);\r\n        }\r\n    \r\n        JavaVM* vm = nullptr;\r\n        JNIEnv* env = nullptr;\r\n        JNI_GetDefaultJavaVMInitArgs(&amp;jvm_args);\r\n    \r\n        jvm_args.version = JNI_VERSION_1_8;\r\n        jvm_args.nOptions = argc;\r\n        jvm_args.options = options;\r\n        jvm_args.ignoreUnrecognized = false;\r\n    \r\n        if (JNI_CreateJavaVM(&amp;vm, reinterpret_cast&lt;void**&gt;(&amp;env), &amp;jvm_args) != JNI_OK)\r\n        {\r\n            return {vm, env};\r\n        }\r\n        return {vm, env};\r\n    }\r\n    \r\n    bool load_jar(JNIEnv* env, const std::vector&lt;std::uint8_t&gt; &amp;jar_data, bool ignore_exceptions = false)\r\n    {\r\n        auto string_replace_all = [&amp;](std::string str, const std::string&amp; from, const std::string&amp; to) -&gt; std::string {\r\n            size_t start_pos = 0;\r\n            while((start_pos = str.find(from, start_pos)) != std::string::npos)\r\n            {\r\n                str.replace(start_pos, from.length(), to);\r\n            }\r\n            return str;\r\n        };\r\n    \r\n        auto byte_array_input_stream = [](JNIEnv* env, const std::vector&lt;std::uint8_t&gt; &amp;buffer) -&gt; jobject {\r\n            jbyteArray arr = env-&gt;NewByteArray(static_cast&lt;jsize&gt;(buffer.size()));\r\n            if (arr)\r\n            {\r\n                env-&gt;SetByteArrayRegion(arr, 0, static_cast&lt;jsize&gt;(buffer.size()), reinterpret_cast&lt;const jbyte*&gt;(&amp;buffer[0]));\r\n                jclass cls = env-&gt;FindClass(&quot;java/io/ByteArrayInputStream&quot;);\r\n                if (cls)\r\n                {\r\n                    jmethodID method = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;([B)V&quot;);\r\n                    if (method)\r\n                    {\r\n                        jobject result = env-&gt;NewObject(cls, method, arr);\r\n                        if (result)\r\n                        {\r\n                            env-&gt;DeleteLocalRef(std::exchange(result, env-&gt;NewGlobalRef(result)));\r\n                            env-&gt;DeleteLocalRef(cls);\r\n                            env-&gt;DeleteLocalRef(arr);\r\n                            return result;\r\n                        }\r\n                    }\r\n                    env-&gt;DeleteLocalRef(cls);\r\n                }\r\n                env-&gt;DeleteLocalRef(arr);\r\n            }\r\n            return nullptr;\r\n        };\r\n    \r\n        auto jar_input_stream = [](JNIEnv* env, jobject input_stream) -&gt; jobject {\r\n            jclass cls = env-&gt;FindClass(&quot;java/util/jar/JarInputStream&quot;);\r\n            if (cls)\r\n            {\r\n                jmethodID method = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;(Ljava/io/InputStream;)V&quot;);\r\n                if (method)\r\n                {\r\n                    jobject result = env-&gt;NewObject(cls, method, input_stream);\r\n                    if (result)\r\n                    {\r\n                        env-&gt;DeleteLocalRef(std::exchange(result, env-&gt;NewGlobalRef(result)));\r\n                        env-&gt;DeleteLocalRef(cls);\r\n                        return result;\r\n                    }\r\n                }\r\n                env-&gt;DeleteLocalRef(cls);\r\n            }\r\n            return nullptr;\r\n        };\r\n    \r\n        auto input_stream_read = [](JNIEnv* env, jobject input_stream) -&gt; jint {\r\n            jclass cls = env-&gt;GetObjectClass(input_stream);\r\n            if (cls)\r\n            {\r\n                jmethodID method = env-&gt;GetMethodID(cls, &quot;read&quot;, &quot;()I&quot;);\r\n                if (method)\r\n                {\r\n                    jint result = env-&gt;CallIntMethod(input_stream, method);\r\n                    env-&gt;DeleteLocalRef(cls);\r\n                    return result;\r\n                }\r\n                \r\n                env-&gt;DeleteLocalRef(cls);\r\n            }\r\n            return -1;\r\n        };\r\n    \r\n        auto byte_array_output_stream = [](JNIEnv* env) -&gt; jobject {\r\n            jclass cls = env-&gt;FindClass(&quot;java/io/ByteArrayOutputStream&quot;);\r\n            if (cls)\r\n            {\r\n                jmethodID method = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\r\n                if (method)\r\n                {\r\n                    jobject result = env-&gt;NewObject(cls, method);\r\n                    if (result)\r\n                    {\r\n                        env-&gt;DeleteLocalRef(std::exchange(result, env-&gt;NewGlobalRef(result)));\r\n                        env-&gt;DeleteLocalRef(cls);\r\n                        return result;\r\n                    }\r\n                }\r\n                env-&gt;DeleteLocalRef(cls);\r\n            }\r\n            return nullptr;\r\n        };\r\n    \r\n        auto output_stream_write = [](JNIEnv* env, jobject output_stream, jint value) {\r\n            jclass cls = env-&gt;GetObjectClass(output_stream);\r\n            if (cls)\r\n            {\r\n                jmethodID method = env-&gt;GetMethodID(cls, &quot;write&quot;, &quot;(I)V&quot;);\r\n                if (method)\r\n                {\r\n                    env-&gt;CallVoidMethod(output_stream, method, value);\r\n                }\r\n                env-&gt;DeleteLocalRef(cls);\r\n            }\r\n        };\r\n    \r\n        auto byte_array_output_stream_to_byte_array = [](JNIEnv* env, jobject output_stream) -&gt; std::vector&lt;std::uint8_t&gt; {\r\n            jclass cls = env-&gt;GetObjectClass(output_stream);\r\n            if (cls)\r\n            {\r\n                jmethodID method = env-&gt;GetMethodID(cls, &quot;toByteArray&quot;, &quot;()[B&quot;);\r\n                if (method)\r\n                {\r\n                    jbyteArray bytes = reinterpret_cast&lt;jbyteArray&gt;(env-&gt;CallObjectMethod(output_stream, method));\r\n                    if (bytes)\r\n                    {\r\n                        void* arr = env-&gt;GetPrimitiveArrayCritical(bytes, nullptr);\r\n                        if (arr)\r\n                        {\r\n                            jsize size = env-&gt;GetArrayLength(bytes);\r\n                            auto result = std::vector&lt;std::uint8_t&gt;(static_cast&lt;std::uint8_t*&gt;(arr),\r\n                                                                    static_cast&lt;std::uint8_t*&gt;(arr) + size);\r\n                            env-&gt;ReleasePrimitiveArrayCritical(bytes, arr, 0);\r\n                            env-&gt;DeleteLocalRef(bytes);\r\n                            env-&gt;DeleteLocalRef(cls);\r\n                            return result;\r\n                        }\r\n                    }\r\n                }\r\n                env-&gt;DeleteLocalRef(cls);\r\n            }\r\n            return {};\r\n        };\r\n    \r\n        auto get_next_jar_entry = [](JNIEnv* env, jobject jar_input_stream) -&gt; jobject {\r\n            jclass cls = env-&gt;GetObjectClass(jar_input_stream);\r\n            if (cls)\r\n            {\r\n                jmethodID method = env-&gt;GetMethodID(cls, &quot;getNextJarEntry&quot;, &quot;()Ljava/util/jar/JarEntry;&quot;);\r\n                if (method)\r\n                {\r\n                    jobject result = env-&gt;CallObjectMethod(jar_input_stream, method);\r\n                    env-&gt;DeleteLocalRef(std::exchange(result, env-&gt;NewGlobalRef(result)));\r\n                    env-&gt;DeleteLocalRef(cls);\r\n                    return result;\r\n                }\r\n                \r\n                env-&gt;DeleteLocalRef(cls);\r\n            }\r\n            return nullptr;\r\n        };\r\n    \r\n        auto jar_entry_get_name = [](JNIEnv* env, jobject jar_entry) -&gt; std::string {\r\n            jclass cls = env-&gt;FindClass(&quot;java/util/jar/JarEntry&quot;);\r\n            if (cls)\r\n            {\r\n                jmethodID method = env-&gt;GetMethodID(cls, &quot;getName&quot;, &quot;()Ljava/lang/String;&quot;);\r\n                if (method)\r\n                {\r\n                    jstring jstr = reinterpret_cast&lt;jstring&gt;(env-&gt;CallObjectMethod(jar_entry, method));\r\n                    const char *name_string = env-&gt;GetStringUTFChars(jstr, 0);\r\n                    std::string result = std::string(name_string);\r\n                    env-&gt;ReleaseStringUTFChars(jstr, name_string);\r\n                    env-&gt;DeleteLocalRef(jstr);\r\n                    env-&gt;DeleteLocalRef(cls);\r\n                    return result;\r\n                }\r\n                env-&gt;DeleteLocalRef(cls);\r\n            }\r\n            return std::string();\r\n        };\r\n    \r\n        // Load the Jar\r\n        jobject bais = byte_array_input_stream(env, jar_data);\r\n        if (!bais)\r\n        {\r\n            std::cerr&lt;&lt;&quot;Failed to open ByteArrayInputStream\\n&quot;;\r\n            return false;\r\n        }\r\n    \r\n        jobject jis = jar_input_stream(env, bais);\r\n        if (!jis)\r\n        {\r\n            env-&gt;DeleteGlobalRef(bais);\r\n            std::cerr&lt;&lt;&quot;Failed to open JarInputStream\\n&quot;;\r\n            return false;\r\n        }\r\n    \r\n        // Read the jar entries\r\n        jobject jar_entry = nullptr;\r\n        const std::string extension = &quot;.class&quot;;\r\n    \r\n        while((jar_entry = get_next_jar_entry(env, jis)))\r\n        {\r\n            std::string name = jar_entry_get_name(env, jar_entry);\r\n            if ((name.length() &gt; extension.length()) &amp;&amp; (name.rfind(extension) == name.length() - extension.length()))\r\n            {\r\n                jobject baos = byte_array_output_stream(env);\r\n                if (!baos)\r\n                {\r\n                    std::cerr&lt;&lt;&quot;Failed to open ByteArrayOutputStream for: &quot;&lt;&lt;name&lt;&lt;&quot;\\n&quot;;\r\n                    if (!ignore_exceptions)\r\n                    {\r\n                        env-&gt;DeleteGlobalRef(jar_entry);\r\n                        env-&gt;DeleteGlobalRef(jis);\r\n                        env-&gt;DeleteGlobalRef(bais);\r\n                        return false;\r\n                    }\r\n                }\r\n    \r\n                // Define the class\r\n                jint value = -1;\r\n                while((value = input_stream_read(env, jis)) != -1)\r\n                {\r\n                    output_stream_write(env, baos, value);\r\n                }\r\n                \r\n                std::vector&lt;std::uint8_t&gt; bytes = byte_array_output_stream_to_byte_array(env, baos);\r\n                \r\n                std::string canonicalName = string_replace_all(string_replace_all(name, &quot;/&quot;, &quot;.&quot;),\r\n                                                                &quot;.class&quot;,\r\n                                                                std::string());\r\n                \r\n                jclass cls = env-&gt;DefineClass(string_replace_all(name, &quot;.class&quot;, &quot;&quot;).c_str(),\r\n                                                nullptr, reinterpret_cast&lt;jbyte*&gt;(bytes.data()),\r\n                                                static_cast&lt;jint&gt;(bytes.size()));\r\n                \r\n                if (cls)\r\n                {\r\n                    std::cerr&lt;&lt;&quot;Defined: &quot;&lt;&lt;canonicalName&lt;&lt;&quot; Size: &quot;&lt;&lt;bytes.size()&lt;&lt;&quot;\\n&quot;;\r\n                    env-&gt;DeleteLocalRef(cls);\r\n                }\r\n                else\r\n                {\r\n                    std::cerr&lt;&lt;&quot;Failed to define: &quot;&lt;&lt;canonicalName&lt;&lt;&quot;  Size: &quot;&lt;&lt;bytes.size()&lt;&lt;&quot;\\n&quot;;\r\n                    if (env-&gt;ExceptionCheck())\r\n                    {\r\n                        env-&gt;ExceptionDescribe();\r\n                        env-&gt;ExceptionClear();\r\n    \r\n                        if (!ignore_exceptions)\r\n                        {\r\n                            env-&gt;DeleteGlobalRef(jar_entry);\r\n                            env-&gt;DeleteGlobalRef(jis);\r\n                            env-&gt;DeleteGlobalRef(bais);\r\n                            return false;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else\r\n            {\r\n                std::cerr&lt;&lt;&quot;Skipping Resource: &quot;&lt;&lt;name&lt;&lt;&quot;\\n&quot;;\r\n            }\r\n            \r\n            env-&gt;DeleteGlobalRef(jar_entry);\r\n        }\r\n        env-&gt;DeleteGlobalRef(jis);\r\n        env-&gt;DeleteGlobalRef(bais);\r\n        return true;\r\n    }\r\n    \r\n    int main(int argc, const char* argv[])\r\n    {\r\n        JVM jvm = create_java_vm();\r\n        if (!jvm.vm)\r\n        {\r\n            std::cerr&lt;&lt;&quot;Failed to Create JavaVM\\n&quot;;\r\n            return 0;\r\n        }\r\n    \r\n        if (load_jar(jvm.env, some_jar_as_bytes, true))\r\n        {\r\n            std::cout&lt;&lt;&quot;Jar loaded successfully\\n&quot;;\r\n        }\r\n        else\r\n        {\r\n            std::cerr&lt;&lt;&quot;Failed to load Jar\\n&quot;;\r\n        }\r\n    \r\n        jvm.vm-&gt;DestroyJavaVM();\r\n        return 0;\r\n    }","title":"Loading java classes from JAR bytes in JNI","body":"<p>That Java code doesn't load a jar properly. At least it doesn't define the classes or keep track of the names of the entries in the jar.</p>\n<p>This works for all the jars I've tested in the past:</p>\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;iostream&gt;\n#include &lt;memory&gt;\n#include &lt;utility&gt;\n#include &lt;vector&gt;\n\nstruct JVM\n{\n    JavaVM* vm;\n    JNIEnv* env;\n};\n\nJVM create_java_vm()\n{\n    const char* argv[] = {&quot;-Djava.compiler=NONE&quot;,\n                          &quot;-Djava.class.path=.&quot;}; //&quot;-verbose:jni&quot;\n    const int argc = static_cast&lt;int&gt;(sizeof(argv) / sizeof(argv[0]));\n    \n    JavaVMInitArgs jvm_args;\n    JavaVMOption options[argc];\n\n    for (int i = 0; i &lt; argc; ++i)\n    {\n        options[i].optionString = const_cast&lt;char*&gt;(argv[i]);\n    }\n\n    JavaVM* vm = nullptr;\n    JNIEnv* env = nullptr;\n    JNI_GetDefaultJavaVMInitArgs(&amp;jvm_args);\n\n    jvm_args.version = JNI_VERSION_1_8;\n    jvm_args.nOptions = argc;\n    jvm_args.options = options;\n    jvm_args.ignoreUnrecognized = false;\n\n    if (JNI_CreateJavaVM(&amp;vm, reinterpret_cast&lt;void**&gt;(&amp;env), &amp;jvm_args) != JNI_OK)\n    {\n        return {vm, env};\n    }\n    return {vm, env};\n}\n\nbool load_jar(JNIEnv* env, const std::vector&lt;std::uint8_t&gt; &amp;jar_data, bool ignore_exceptions = false)\n{\n    auto string_replace_all = [&amp;](std::string str, const std::string&amp; from, const std::string&amp; to) -&gt; std::string {\n        size_t start_pos = 0;\n        while((start_pos = str.find(from, start_pos)) != std::string::npos)\n        {\n            str.replace(start_pos, from.length(), to);\n        }\n        return str;\n    };\n\n    auto byte_array_input_stream = [](JNIEnv* env, const std::vector&lt;std::uint8_t&gt; &amp;buffer) -&gt; jobject {\n        jbyteArray arr = env-&gt;NewByteArray(static_cast&lt;jsize&gt;(buffer.size()));\n        if (arr)\n        {\n            env-&gt;SetByteArrayRegion(arr, 0, static_cast&lt;jsize&gt;(buffer.size()), reinterpret_cast&lt;const jbyte*&gt;(&amp;buffer[0]));\n            jclass cls = env-&gt;FindClass(&quot;java/io/ByteArrayInputStream&quot;);\n            if (cls)\n            {\n                jmethodID method = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;([B)V&quot;);\n                if (method)\n                {\n                    jobject result = env-&gt;NewObject(cls, method, arr);\n                    if (result)\n                    {\n                        env-&gt;DeleteLocalRef(std::exchange(result, env-&gt;NewGlobalRef(result)));\n                        env-&gt;DeleteLocalRef(cls);\n                        env-&gt;DeleteLocalRef(arr);\n                        return result;\n                    }\n                }\n                env-&gt;DeleteLocalRef(cls);\n            }\n            env-&gt;DeleteLocalRef(arr);\n        }\n        return nullptr;\n    };\n\n    auto jar_input_stream = [](JNIEnv* env, jobject input_stream) -&gt; jobject {\n        jclass cls = env-&gt;FindClass(&quot;java/util/jar/JarInputStream&quot;);\n        if (cls)\n        {\n            jmethodID method = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;(Ljava/io/InputStream;)V&quot;);\n            if (method)\n            {\n                jobject result = env-&gt;NewObject(cls, method, input_stream);\n                if (result)\n                {\n                    env-&gt;DeleteLocalRef(std::exchange(result, env-&gt;NewGlobalRef(result)));\n                    env-&gt;DeleteLocalRef(cls);\n                    return result;\n                }\n            }\n            env-&gt;DeleteLocalRef(cls);\n        }\n        return nullptr;\n    };\n\n    auto input_stream_read = [](JNIEnv* env, jobject input_stream) -&gt; jint {\n        jclass cls = env-&gt;GetObjectClass(input_stream);\n        if (cls)\n        {\n            jmethodID method = env-&gt;GetMethodID(cls, &quot;read&quot;, &quot;()I&quot;);\n            if (method)\n            {\n                jint result = env-&gt;CallIntMethod(input_stream, method);\n                env-&gt;DeleteLocalRef(cls);\n                return result;\n            }\n            \n            env-&gt;DeleteLocalRef(cls);\n        }\n        return -1;\n    };\n\n    auto byte_array_output_stream = [](JNIEnv* env) -&gt; jobject {\n        jclass cls = env-&gt;FindClass(&quot;java/io/ByteArrayOutputStream&quot;);\n        if (cls)\n        {\n            jmethodID method = env-&gt;GetMethodID(cls, &quot;&lt;init&gt;&quot;, &quot;()V&quot;);\n            if (method)\n            {\n                jobject result = env-&gt;NewObject(cls, method);\n                if (result)\n                {\n                    env-&gt;DeleteLocalRef(std::exchange(result, env-&gt;NewGlobalRef(result)));\n                    env-&gt;DeleteLocalRef(cls);\n                    return result;\n                }\n            }\n            env-&gt;DeleteLocalRef(cls);\n        }\n        return nullptr;\n    };\n\n    auto output_stream_write = [](JNIEnv* env, jobject output_stream, jint value) {\n        jclass cls = env-&gt;GetObjectClass(output_stream);\n        if (cls)\n        {\n            jmethodID method = env-&gt;GetMethodID(cls, &quot;write&quot;, &quot;(I)V&quot;);\n            if (method)\n            {\n                env-&gt;CallVoidMethod(output_stream, method, value);\n            }\n            env-&gt;DeleteLocalRef(cls);\n        }\n    };\n\n    auto byte_array_output_stream_to_byte_array = [](JNIEnv* env, jobject output_stream) -&gt; std::vector&lt;std::uint8_t&gt; {\n        jclass cls = env-&gt;GetObjectClass(output_stream);\n        if (cls)\n        {\n            jmethodID method = env-&gt;GetMethodID(cls, &quot;toByteArray&quot;, &quot;()[B&quot;);\n            if (method)\n            {\n                jbyteArray bytes = reinterpret_cast&lt;jbyteArray&gt;(env-&gt;CallObjectMethod(output_stream, method));\n                if (bytes)\n                {\n                    void* arr = env-&gt;GetPrimitiveArrayCritical(bytes, nullptr);\n                    if (arr)\n                    {\n                        jsize size = env-&gt;GetArrayLength(bytes);\n                        auto result = std::vector&lt;std::uint8_t&gt;(static_cast&lt;std::uint8_t*&gt;(arr),\n                                                                static_cast&lt;std::uint8_t*&gt;(arr) + size);\n                        env-&gt;ReleasePrimitiveArrayCritical(bytes, arr, 0);\n                        env-&gt;DeleteLocalRef(bytes);\n                        env-&gt;DeleteLocalRef(cls);\n                        return result;\n                    }\n                }\n            }\n            env-&gt;DeleteLocalRef(cls);\n        }\n        return {};\n    };\n\n    auto get_next_jar_entry = [](JNIEnv* env, jobject jar_input_stream) -&gt; jobject {\n        jclass cls = env-&gt;GetObjectClass(jar_input_stream);\n        if (cls)\n        {\n            jmethodID method = env-&gt;GetMethodID(cls, &quot;getNextJarEntry&quot;, &quot;()Ljava/util/jar/JarEntry;&quot;);\n            if (method)\n            {\n                jobject result = env-&gt;CallObjectMethod(jar_input_stream, method);\n                env-&gt;DeleteLocalRef(std::exchange(result, env-&gt;NewGlobalRef(result)));\n                env-&gt;DeleteLocalRef(cls);\n                return result;\n            }\n            \n            env-&gt;DeleteLocalRef(cls);\n        }\n        return nullptr;\n    };\n\n    auto jar_entry_get_name = [](JNIEnv* env, jobject jar_entry) -&gt; std::string {\n        jclass cls = env-&gt;FindClass(&quot;java/util/jar/JarEntry&quot;);\n        if (cls)\n        {\n            jmethodID method = env-&gt;GetMethodID(cls, &quot;getName&quot;, &quot;()Ljava/lang/String;&quot;);\n            if (method)\n            {\n                jstring jstr = reinterpret_cast&lt;jstring&gt;(env-&gt;CallObjectMethod(jar_entry, method));\n                const char *name_string = env-&gt;GetStringUTFChars(jstr, 0);\n                std::string result = std::string(name_string);\n                env-&gt;ReleaseStringUTFChars(jstr, name_string);\n                env-&gt;DeleteLocalRef(jstr);\n                env-&gt;DeleteLocalRef(cls);\n                return result;\n            }\n            env-&gt;DeleteLocalRef(cls);\n        }\n        return std::string();\n    };\n\n    // Load the Jar\n    jobject bais = byte_array_input_stream(env, jar_data);\n    if (!bais)\n    {\n        std::cerr&lt;&lt;&quot;Failed to open ByteArrayInputStream\\n&quot;;\n        return false;\n    }\n\n    jobject jis = jar_input_stream(env, bais);\n    if (!jis)\n    {\n        env-&gt;DeleteGlobalRef(bais);\n        std::cerr&lt;&lt;&quot;Failed to open JarInputStream\\n&quot;;\n        return false;\n    }\n\n    // Read the jar entries\n    jobject jar_entry = nullptr;\n    const std::string extension = &quot;.class&quot;;\n\n    while((jar_entry = get_next_jar_entry(env, jis)))\n    {\n        std::string name = jar_entry_get_name(env, jar_entry);\n        if ((name.length() &gt; extension.length()) &amp;&amp; (name.rfind(extension) == name.length() - extension.length()))\n        {\n            jobject baos = byte_array_output_stream(env);\n            if (!baos)\n            {\n                std::cerr&lt;&lt;&quot;Failed to open ByteArrayOutputStream for: &quot;&lt;&lt;name&lt;&lt;&quot;\\n&quot;;\n                if (!ignore_exceptions)\n                {\n                    env-&gt;DeleteGlobalRef(jar_entry);\n                    env-&gt;DeleteGlobalRef(jis);\n                    env-&gt;DeleteGlobalRef(bais);\n                    return false;\n                }\n            }\n\n            // Define the class\n            jint value = -1;\n            while((value = input_stream_read(env, jis)) != -1)\n            {\n                output_stream_write(env, baos, value);\n            }\n            \n            std::vector&lt;std::uint8_t&gt; bytes = byte_array_output_stream_to_byte_array(env, baos);\n            \n            std::string canonicalName = string_replace_all(string_replace_all(name, &quot;/&quot;, &quot;.&quot;),\n                                                            &quot;.class&quot;,\n                                                            std::string());\n            \n            jclass cls = env-&gt;DefineClass(string_replace_all(name, &quot;.class&quot;, &quot;&quot;).c_str(),\n                                            nullptr, reinterpret_cast&lt;jbyte*&gt;(bytes.data()),\n                                            static_cast&lt;jint&gt;(bytes.size()));\n            \n            if (cls)\n            {\n                std::cerr&lt;&lt;&quot;Defined: &quot;&lt;&lt;canonicalName&lt;&lt;&quot; Size: &quot;&lt;&lt;bytes.size()&lt;&lt;&quot;\\n&quot;;\n                env-&gt;DeleteLocalRef(cls);\n            }\n            else\n            {\n                std::cerr&lt;&lt;&quot;Failed to define: &quot;&lt;&lt;canonicalName&lt;&lt;&quot;  Size: &quot;&lt;&lt;bytes.size()&lt;&lt;&quot;\\n&quot;;\n                if (env-&gt;ExceptionCheck())\n                {\n                    env-&gt;ExceptionDescribe();\n                    env-&gt;ExceptionClear();\n\n                    if (!ignore_exceptions)\n                    {\n                        env-&gt;DeleteGlobalRef(jar_entry);\n                        env-&gt;DeleteGlobalRef(jis);\n                        env-&gt;DeleteGlobalRef(bais);\n                        return false;\n                    }\n                }\n            }\n        }\n        else\n        {\n            std::cerr&lt;&lt;&quot;Skipping Resource: &quot;&lt;&lt;name&lt;&lt;&quot;\\n&quot;;\n        }\n        \n        env-&gt;DeleteGlobalRef(jar_entry);\n    }\n    env-&gt;DeleteGlobalRef(jis);\n    env-&gt;DeleteGlobalRef(bais);\n    return true;\n}\n\nint main(int argc, const char* argv[])\n{\n    JVM jvm = create_java_vm();\n    if (!jvm.vm)\n    {\n        std::cerr&lt;&lt;&quot;Failed to Create JavaVM\\n&quot;;\n        return 0;\n    }\n\n    if (load_jar(jvm.env, some_jar_as_bytes, true))\n    {\n        std::cout&lt;&lt;&quot;Jar loaded successfully\\n&quot;;\n    }\n    else\n    {\n        std::cerr&lt;&lt;&quot;Failed to load Jar\\n&quot;;\n    }\n\n    jvm.vm-&gt;DestroyJavaVM();\n    return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":24266172,"reputation":17,"user_id":18251136,"display_name":"nonxis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":669,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71800379,"answer_count":1,"score":0,"last_activity_date":1680975522,"creation_date":1649431237,"question_id":71799495,"body_markdown":"I trying to load all java classes from JAR file bytes at runtime using JNI.\\\r\nMy code\r\n\r\n```\r\n#include &lt;jni.h&gt;\r\n#include &lt;string&gt;\r\nusing namespace std;\r\n\r\nint main() {\r\n    JavaVM* jvm;\r\n    JNIEnv* env;\r\n    long res = CreateJVM(&amp;jvm, &amp;env, &quot;&quot;);\r\n\r\n    jclass class_loader = env-&gt;FindClass(&quot;java/lang/ClassLoader&quot;);\r\n    jobject system_loader = env-&gt;CallStaticObjectMethod(class_loader, env-&gt;GetStaticMethodID(class_loader, &quot;getSystemClassLoader&quot;, &quot;()Ljava/lang/ClassLoader;&quot;));\r\n    jbyte* bytes = &lt;bytes&gt;\r\n\r\n\r\n    // define all classes from this bytes\r\n    env-&gt;DefineClass(&quot;Main&quot;, system_loader, bytes, sizeof(bytes));\r\n    ...\r\n\r\n    if (res == JNI_OK) {\r\n        jclass cls = env-&gt;FindClass(&quot;Main&quot;);\r\n        jmethodID mid = env-&gt;GetStaticMethodID(cls, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;);\r\n        env-&gt;CallStaticVoidMethod(cls, mid, NULL);\r\n    }\r\n\r\n    jvm-&gt;DestroyJavaVM();\r\n}\r\n```\r\n\r\nI need to read bytes of a JAR file, convert them into jbytes and load all the java classes from those bytes to runtime\r\n\r\nLike this code in java\r\n\r\n```\r\nfinal var classes = new ArrayList&lt;byte[]&gt;();\r\ntry( final var inputStream = new JarInputStream( new ByteArrayInputStream( bytes ) ) )\r\n{\r\n  var entry = inputStream.getNextJarEntry();\r\n  while( nonNull( entry ) )\r\n  {\r\n    var buffer = new bytes [entry.getSize()];\r\n    inputStream.read( buffer, 0, entry.getSize()];\r\n    classes.add( buffer );\r\n    entry = inputStream.getNextJarEntry();\r\n  }\r\n}\r\n```","title":"Loading java classes from JAR bytes in JNI","body":"<p>I trying to load all java classes from JAR file bytes at runtime using JNI.<br />\nMy code</p>\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nint main() {\n    JavaVM* jvm;\n    JNIEnv* env;\n    long res = CreateJVM(&amp;jvm, &amp;env, &quot;&quot;);\n\n    jclass class_loader = env-&gt;FindClass(&quot;java/lang/ClassLoader&quot;);\n    jobject system_loader = env-&gt;CallStaticObjectMethod(class_loader, env-&gt;GetStaticMethodID(class_loader, &quot;getSystemClassLoader&quot;, &quot;()Ljava/lang/ClassLoader;&quot;));\n    jbyte* bytes = &lt;bytes&gt;\n\n\n    // define all classes from this bytes\n    env-&gt;DefineClass(&quot;Main&quot;, system_loader, bytes, sizeof(bytes));\n    ...\n\n    if (res == JNI_OK) {\n        jclass cls = env-&gt;FindClass(&quot;Main&quot;);\n        jmethodID mid = env-&gt;GetStaticMethodID(cls, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;);\n        env-&gt;CallStaticVoidMethod(cls, mid, NULL);\n    }\n\n    jvm-&gt;DestroyJavaVM();\n}\n</code></pre>\n<p>I need to read bytes of a JAR file, convert them into jbytes and load all the java classes from those bytes to runtime</p>\n<p>Like this code in java</p>\n<pre><code>final var classes = new ArrayList&lt;byte[]&gt;();\ntry( final var inputStream = new JarInputStream( new ByteArrayInputStream( bytes ) ) )\n{\n  var entry = inputStream.getNextJarEntry();\n  while( nonNull( entry ) )\n  {\n    var buffer = new bytes [entry.getSize()];\n    inputStream.read( buffer, 0, entry.getSize()];\n    classes.add( buffer );\n    entry = inputStream.getNextJarEntry();\n  }\n}\n</code></pre>\n"},{"tags":["java","dictionary","caching","expirationhandler"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1522342331,"post_id":49560258,"comment_id":86130767,"body_markdown":"Consider (a) Caffeine&#39;s [pluggable expiration policy](https://github.com/ben-manes/caffeine/wiki/Eviction#time-based); (b) [ExpiringMap](https://github.com/jhalterman/expiringmap). From a usage perspective, the main difference is that Caffeine does not create a dedicated thread per instance to expire eagerly, but like Guava does so when activity on the cache occurs (its &quot;cleanUp&quot; cycle). I&#39;m sure there are other caches, libs, etc. that could fit your needs too.","body":"Consider (a) Caffeine&#39;s <a href=\"https://github.com/ben-manes/caffeine/wiki/Eviction#time-based\" rel=\"nofollow noreferrer\">pluggable expiration policy</a>; (b) <a href=\"https://github.com/jhalterman/expiringmap\" rel=\"nofollow noreferrer\">ExpiringMap</a>. From a usage perspective, the main difference is that Caffeine does not create a dedicated thread per instance to expire eagerly, but like Guava does so when activity on the cache occurs (its &quot;cleanUp&quot; cycle). I&#39;m sure there are other caches, libs, etc. that could fit your needs too."}],"answers":[{"tags":[],"owner":{"account_id":2793517,"reputation":3819,"user_id":2403253,"accept_rate":88,"display_name":"Justin Albano"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1522342806,"creation_date":1522342806,"answer_id":49561517,"question_id":49560258,"body_markdown":"There are a few options for this. \r\n\r\n**Passive Removal**\r\n\r\nIf it is not a requirement to clean up the expired keys as soon as they expire or at set intervals (i.e. a key does not need to be removed when the key expires or at some set interval), then [PassiveExpiringMap][1] from Apache Commons Collections is a good option. When attempting to access a key in this map, the Time to Live (TTL) of the key (all keys have the same TTL) is checked and if the key has expired, it is removed from the map and `null` is returned. This data structure does *not* have an active clean-up mechanism, so expired entries are only removed when they are accessed after the TTL corresponding to the key has expired.\r\n\r\n**Cache**\r\n\r\nIf more cache-based functionality is needed (such as maximum cache capacity and add/remove listening), Google Guava provides the [CacheBuilder][2] class. This class is more complex than the Apache Commons alternative, but it also provides much more functionality. The trade-off may be worth it if this intended for more of a cache-based application.\r\n\r\n**Threaded Removal**\r\n\r\nIf active removal of expired keys is needed, a separate thread can be spawn that is responsible for removing expired keys. Before looking at a possible implementation structure, it should be noted that this approach may be less performant than the above alternatives. Besides the overhead of starting a thread, the thread may cause *contention* with clients accessing the map. For example, if a client wants to access a key and the clean-up thread is currently removing expired keys, the client will either block (if synchronization is used) or have a different view of the map (which key-value pairs are contained in the map) if some concurrent mechanism is employed.\r\n\r\nWith that said, using this approach is complicated because it requires that the TTL be stored with the key. One approach is to create an `ExpiringKey`, such as (each key can have its own TTL; even if all of the keys will end up having the same TTL value, this technique removes the need to create a `Map` [decorator][3] or some other implementation of the `Map` interface):\r\n\r\n    public class ExpiringKey&lt;T&gt; {\r\n        \r\n        private final T key;\r\n        private final long expirationTimestamp;\r\n\r\n        public ExpiringKey(T key, long ttlInMillis) {\r\n            this.key = key;\r\n            expirationTimestamp = System.currentTimeMillis() + ttlInMillis;\r\n        }\r\n\r\n        public T getKey() {\r\n            return key;\r\n        }\r\n\r\n        public boolean isExpired() {\r\n            return System.currentTimeMillis() &gt; expirationTimestamp;\r\n        }\r\n    }\r\n\r\nNow the type of the map would be `Map&lt;ExpiringKey&lt;K&gt;, V&gt;` with some specific `K` and `V` type values. The background thread can be represented using a `Runnable` that resembles the following:\r\n\r\n    public class ExpiredKeyRemover implements Runnable {\r\n\r\n        private final Map&lt;ExpiringKey&lt;?&gt;, ?&gt; map;\r\n\r\n        public ExpiredKeyRemover(Map&lt;ExpiringKey&lt;?&gt;, ?&gt; map) {\r\n            this.map = map;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            Iterator&lt;ExpiringKey&lt;?&gt;&gt; it = map.keySet().iterator();\r\n            while (it.hasNext()) {\r\n                if (it.next().isExpired()) {\r\n                    it.remove();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThen the `Runnable` can be started so that it executes at a fixed interval using a `ScheduledExecutorService` as follows (which will clean up the map every 5 seconds):\r\n\r\n    Map&lt;ExpiringKey&lt;K&gt;, V&gt; myMap = // ...\r\n\r\n    ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\r\n    executor.scheduleAtFixedRate(new ExpiredKeyRemover(myMap), 0, 5, TimeUnit.SECONDS);\r\n\r\nIt is important to note that the `Map` implementation used for `myMap` must be synchronized or allow for concurrent access. The challenge with a concurrent `Map` implementation is that the `ExpiredKeyRemover` may see a different *view* of the map than a client and an expired key may be returned to the client if the clean-up thread is not completed removing other keys (even if it has removed the desired/expired key since its changes may not have been committed yet). Additionally, the above key-removal code can be implemented using streams, but the above code has been used just to illustrate the logic rather than provide a performant implementation.\r\n\r\nHope that helps.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/map/PassiveExpiringMap.html\r\n  [2]: https://google.github.io/guava/releases/17.0/api/docs/com/google/common/cache/CacheBuilder.html\r\n  [3]: https://en.wikipedia.org/wiki/Decorator_pattern","title":"Is there an expiring map in Java that expires elements after a period of time since *first* insertion?","body":"<p>There are a few options for this. </p>\n\n<p><strong>Passive Removal</strong></p>\n\n<p>If it is not a requirement to clean up the expired keys as soon as they expire or at set intervals (i.e. a key does not need to be removed when the key expires or at some set interval), then <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/map/PassiveExpiringMap.html\" rel=\"noreferrer\">PassiveExpiringMap</a> from Apache Commons Collections is a good option. When attempting to access a key in this map, the Time to Live (TTL) of the key (all keys have the same TTL) is checked and if the key has expired, it is removed from the map and <code>null</code> is returned. This data structure does <em>not</em> have an active clean-up mechanism, so expired entries are only removed when they are accessed after the TTL corresponding to the key has expired.</p>\n\n<p><strong>Cache</strong></p>\n\n<p>If more cache-based functionality is needed (such as maximum cache capacity and add/remove listening), Google Guava provides the <a href=\"https://google.github.io/guava/releases/17.0/api/docs/com/google/common/cache/CacheBuilder.html\" rel=\"noreferrer\">CacheBuilder</a> class. This class is more complex than the Apache Commons alternative, but it also provides much more functionality. The trade-off may be worth it if this intended for more of a cache-based application.</p>\n\n<p><strong>Threaded Removal</strong></p>\n\n<p>If active removal of expired keys is needed, a separate thread can be spawn that is responsible for removing expired keys. Before looking at a possible implementation structure, it should be noted that this approach may be less performant than the above alternatives. Besides the overhead of starting a thread, the thread may cause <em>contention</em> with clients accessing the map. For example, if a client wants to access a key and the clean-up thread is currently removing expired keys, the client will either block (if synchronization is used) or have a different view of the map (which key-value pairs are contained in the map) if some concurrent mechanism is employed.</p>\n\n<p>With that said, using this approach is complicated because it requires that the TTL be stored with the key. One approach is to create an <code>ExpiringKey</code>, such as (each key can have its own TTL; even if all of the keys will end up having the same TTL value, this technique removes the need to create a <code>Map</code> <a href=\"https://en.wikipedia.org/wiki/Decorator_pattern\" rel=\"noreferrer\">decorator</a> or some other implementation of the <code>Map</code> interface):</p>\n\n<pre><code>public class ExpiringKey&lt;T&gt; {\n\n    private final T key;\n    private final long expirationTimestamp;\n\n    public ExpiringKey(T key, long ttlInMillis) {\n        this.key = key;\n        expirationTimestamp = System.currentTimeMillis() + ttlInMillis;\n    }\n\n    public T getKey() {\n        return key;\n    }\n\n    public boolean isExpired() {\n        return System.currentTimeMillis() &gt; expirationTimestamp;\n    }\n}\n</code></pre>\n\n<p>Now the type of the map would be <code>Map&lt;ExpiringKey&lt;K&gt;, V&gt;</code> with some specific <code>K</code> and <code>V</code> type values. The background thread can be represented using a <code>Runnable</code> that resembles the following:</p>\n\n<pre><code>public class ExpiredKeyRemover implements Runnable {\n\n    private final Map&lt;ExpiringKey&lt;?&gt;, ?&gt; map;\n\n    public ExpiredKeyRemover(Map&lt;ExpiringKey&lt;?&gt;, ?&gt; map) {\n        this.map = map;\n    }\n\n    @Override\n    public void run() {\n        Iterator&lt;ExpiringKey&lt;?&gt;&gt; it = map.keySet().iterator();\n        while (it.hasNext()) {\n            if (it.next().isExpired()) {\n                it.remove();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Then the <code>Runnable</code> can be started so that it executes at a fixed interval using a <code>ScheduledExecutorService</code> as follows (which will clean up the map every 5 seconds):</p>\n\n<pre><code>Map&lt;ExpiringKey&lt;K&gt;, V&gt; myMap = // ...\n\nScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\nexecutor.scheduleAtFixedRate(new ExpiredKeyRemover(myMap), 0, 5, TimeUnit.SECONDS);\n</code></pre>\n\n<p>It is important to note that the <code>Map</code> implementation used for <code>myMap</code> must be synchronized or allow for concurrent access. The challenge with a concurrent <code>Map</code> implementation is that the <code>ExpiredKeyRemover</code> may see a different <em>view</em> of the map than a client and an expired key may be returned to the client if the clean-up thread is not completed removing other keys (even if it has removed the desired/expired key since its changes may not have been committed yet). Additionally, the above key-removal code can be implemented using streams, but the above code has been used just to illustrate the logic rather than provide a performant implementation.</p>\n\n<p>Hope that helps.</p>\n"},{"comments":[{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1522588645,"post_id":49598330,"comment_id":86204096,"body_markdown":"Related: [How to prevent log bombing using logback?](https://stackoverflow.com/a/49598472/435605)","body":"Related: <a href=\"https://stackoverflow.com/a/49598472/435605\">How to prevent log bombing using logback?</a>"}],"tags":[],"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522587570,"creation_date":1522587570,"answer_id":49598330,"question_id":49560258,"body_markdown":"Created a data structure. Called it `DuplicateActionFilterByInsertTime`.\r\n\r\nThe correct notion is filtering duplicate messages. The following class filters from insert time for some period (`filterMillis`).\r\n\r\nImplementation:\r\n\r\n    public class DuplicateActionFilterByInsertTime&lt;E extends Runnable&gt; {\r\n    \r\n    \tprivate static final Logger LOGGER = Logger.getLogger(DuplicateActionFilterByInsertTime.class.getName());\r\n    \r\n    \tprivate final long filterMillis;\r\n    \r\n    \tprivate final ConcurrentHashMap&lt;E, SilenceInfoImpl&gt; actionMap = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n    \tprivate final ConcurrentLinkedQueue&lt;E&gt; actionQueue = new ConcurrentLinkedQueue&lt;&gt;();\r\n    \r\n    \tprivate final ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor();\r\n    \r\n    \tprivate final AtomicBoolean purgerRegistered = new AtomicBoolean(false);\r\n    \r\n    \tprivate final Set&lt;Listener&lt;E&gt;&gt; listeners = ConcurrentHashMap.newKeySet();\r\n    \r\n    \tpublic DuplicateActionFilterByInsertTime(int filterMillis) {\r\n    \t\tthis.filterMillis = filterMillis;\r\n    \t}\r\n    \r\n    \tpublic SilenceInfo get(E e) {\r\n    \t\tSilenceInfoImpl insertionData = actionMap.get(e);\r\n    \t\tif (insertionData == null || insertionData.isExpired(filterMillis)) {\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t\treturn insertionData;\r\n    \t}\r\n    \r\n    \tpublic boolean run(E e) {\r\n    \t\tactionMap.computeIfPresent(e, (e1, insertionData) -&gt; {\r\n    \t\t\tint count = insertionData.incrementAndGet();\r\n    \t\t\tif (count == 2) {\r\n    \t\t\t\tnotifyFilteringStarted(e1);\r\n    \t\t\t}\r\n    \t\t\treturn insertionData;\r\n    \t\t});\r\n    \t\tboolean isNew = actionMap.computeIfAbsent(e, e1 -&gt; {\r\n    \t\t\tSilenceInfoImpl insertionData = new SilenceInfoImpl();\r\n    \t\t\tactionQueue.add(e1);\r\n    \t\t\treturn insertionData;\r\n    \t\t}).getCount() == 1;\r\n    \r\n    \t\ttryRegisterPurger();\r\n    \r\n    \t\tif (isNew) {\r\n    \t\t\te.run();\r\n    \t\t}\r\n    \t\treturn isNew;\r\n    \t}\r\n    \r\n    \tprivate void tryRegisterPurger() {\r\n    \t\tif (actionMap.size() != 0 &amp;&amp; purgerRegistered.compareAndSet(false, true)) {\r\n    \t\t\tscheduledExecutorService.schedule(() -&gt; {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tfor (Iterator&lt;E&gt; iterator = actionQueue.iterator(); iterator.hasNext(); ) {\r\n    \t\t\t\t\t\tE e = iterator.next();\r\n    \t\t\t\t\t\tSilenceInfoImpl insertionData = actionMap.get(e);\r\n    \t\t\t\t\t\tif (insertionData == null || insertionData.isExpired(filterMillis)) {\r\n    \t\t\t\t\t\t\titerator.remove();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tif (insertionData != null &amp;&amp; insertionData.isExpired(filterMillis)) {\r\n    \t\t\t\t\t\t\tSilenceInfoImpl removed = actionMap.remove(e);\r\n    \t\t\t\t\t\t\tFilteredItem&lt;E&gt; filteredItem = new FilteredItem&lt;&gt;(e, removed);\r\n    \t\t\t\t\t\t\tnotifySilenceFinished(filteredItem);\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\t// All the elements that were left shouldn&#39;t be purged.\r\n    \t\t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} finally {\r\n    \t\t\t\t\tpurgerRegistered.set(false);\r\n    \t\t\t\t\ttryRegisterPurger();\r\n    \t\t\t\t}\r\n    \t\t\t}, filterMillis, TimeUnit.MILLISECONDS);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void notifySilenceFinished(FilteredItem&lt;E&gt; filteredItem) {\r\n    \t\tnew Thread(() -&gt; listeners.forEach(l -&gt; {\r\n    \t\t\ttry {\r\n    \t\t\t\tl.onFilteringFinished(filteredItem);\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tLOGGER.log(Level.WARNING, &quot;Purge notification failed. Continuing to next one (if exists)&quot;, e);\r\n    \t\t\t}\r\n    \t\t})).start();\r\n    \t}\r\n    \r\n    \tprivate void notifyFilteringStarted(final E e) {\r\n    \t\tnew Thread(() -&gt; listeners.forEach(l -&gt; {\r\n    \t\t\ttry {\r\n    \t\t\t\tl.onFilteringStarted(e);\r\n    \t\t\t} catch (Exception e1) {\r\n    \t\t\t\tLOGGER.log(Level.WARNING, &quot;Silence started notification failed. Continuing to next one (if exists)&quot;, e1);\r\n    \t\t\t}\r\n    \t\t})).start();\r\n    \t}\r\n    \r\n    \tpublic void addListener(Listener&lt;E&gt; listener) {\r\n    \t\tlisteners.add(listener);\r\n    \t}\r\n    \r\n    \tpublic void removeLister(Listener&lt;E&gt; listener) {\r\n    \t\tlisteners.remove(listener);\r\n    \t}\r\n    \r\n    \tpublic interface SilenceInfo {\r\n    \t\tlong getInsertTimeMillis();\r\n    \r\n    \t\tint getCount();\r\n    \t}\r\n    \r\n    \tpublic interface Listener&lt;E&gt; {\r\n    \t\tvoid onFilteringStarted(E e);\r\n    \t\tvoid onFilteringFinished(FilteredItem&lt;E&gt; filteredItem);\r\n    \t}\r\n    \r\n    \tprivate static class SilenceInfoImpl implements SilenceInfo {\r\n    \t\tprivate final long insertTimeMillis = System.currentTimeMillis();\r\n    \t\tprivate AtomicInteger count = new AtomicInteger(1);\r\n    \r\n    \t\tint incrementAndGet() {\r\n    \t\t\treturn count.incrementAndGet();\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic long getInsertTimeMillis() {\r\n    \t\t\treturn insertTimeMillis;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int getCount() {\r\n    \t\t\treturn count.get();\r\n    \t\t}\r\n    \r\n    \t\tboolean isExpired(long expirationMillis) {\r\n    \t\t\treturn insertTimeMillis + expirationMillis &lt; System.currentTimeMillis();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static class FilteredItem&lt;E&gt; {\r\n    \t\tprivate final E item;\r\n    \t\tprivate final SilenceInfo silenceInfo;\r\n    \r\n    \t\tFilteredItem(E item, SilenceInfo silenceInfo) {\r\n    \t\t\tthis.item = item;\r\n    \t\t\tthis.silenceInfo = silenceInfo;\r\n    \t\t}\r\n    \r\n    \t\tpublic E getItem() {\r\n    \t\t\treturn item;\r\n    \t\t}\r\n    \r\n    \t\tpublic SilenceInfo getSilenceInfo() {\r\n    \t\t\treturn silenceInfo;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nTest example: (More tests [here][1])\r\n\r\n\t@Test\r\n\tpublic void testSimple() throws InterruptedException {\r\n\t\tint filterMillis = 100;\r\n\t\tDuplicateActionFilterByInsertTime&lt;Runnable&gt; expSet = new DuplicateActionFilterByInsertTime&lt;&gt;(filterMillis);\r\n\t\tAtomicInteger purgeCount = new AtomicInteger(0);\r\n\t\texpSet.addListener(new DuplicateActionFilterByInsertTime.Listener&lt;Runnable&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onFilteringFinished(DuplicateActionFilterByInsertTime.FilteredItem&lt;Runnable&gt; filteredItem) {\r\n\t\t\t\tpurgeCount.incrementAndGet();\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onFilteringStarted(Runnable runnable) {\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tRunnable key = () -&gt; {\r\n\t\t};\r\n\t\tlong beforeAddMillis = System.currentTimeMillis();\r\n\t\tboolean added = expSet.run(key);\r\n\t\tlong afterAddMillis = System.currentTimeMillis();\r\n\t\tAssert.assertTrue(added);\r\n\t\tDuplicateActionFilterByInsertTime.SilenceInfo silenceInfo = expSet.get(key);\r\n\t\tAssertions.assertThat(silenceInfo.getInsertTimeMillis()).isBetween(beforeAddMillis, afterAddMillis);\r\n\r\n\t\texpSet.run(key);\r\n\t\tDuplicateActionFilterByInsertTime.SilenceInfo silenceInfo2 = expSet.get(key);\r\n\t\tAssert.assertEquals(silenceInfo.getInsertTimeMillis(), silenceInfo2.getInsertTimeMillis());\r\n\r\n\t\tAssert.assertFalse(silenceInfo.getInsertTimeMillis() + filterMillis &lt; System.currentTimeMillis());\r\n\t\tAssert.assertEquals(silenceInfo.getCount(), 2);\r\n\r\n\t\tThread.sleep(filterMillis);\r\n\r\n\t\tAssertions.assertThat(expSet.get(key)).isNull();\r\n\r\n\t\tAssert.assertNull(expSet.get(key));\r\n\r\n\t\tThread.sleep(filterMillis * 2); // Give a chance to purge the items.\r\n\t\tAssert.assertEquals(1, purgeCount.get());\r\n\r\n\t\tSystem.out.println(&quot;Finished&quot;);\r\n\t}\r\n\r\n[Source][2].\r\n\r\n\r\n  [1]: https://bitbucket.org/kilaka/lean/src/52ce57e7858a80bc680780ca5e0c8b49ee45fcc9/src/test/java/alik/lean/test/DuplicateActionFilterByInsertTimeTest.java\r\n  [2]: https://bitbucket.org/kilaka/lean/src/52ce57e7858a80bc680780ca5e0c8b49ee45fcc9/src/main/java/alik/lean/DuplicateActionFilterByInsertTime.java\r\n","title":"Is there an expiring map in Java that expires elements after a period of time since *first* insertion?","body":"<p>Created a data structure. Called it <code>DuplicateActionFilterByInsertTime</code>.</p>\n\n<p>The correct notion is filtering duplicate messages. The following class filters from insert time for some period (<code>filterMillis</code>).</p>\n\n<p>Implementation:</p>\n\n<pre><code>public class DuplicateActionFilterByInsertTime&lt;E extends Runnable&gt; {\n\n    private static final Logger LOGGER = Logger.getLogger(DuplicateActionFilterByInsertTime.class.getName());\n\n    private final long filterMillis;\n\n    private final ConcurrentHashMap&lt;E, SilenceInfoImpl&gt; actionMap = new ConcurrentHashMap&lt;&gt;();\n\n    private final ConcurrentLinkedQueue&lt;E&gt; actionQueue = new ConcurrentLinkedQueue&lt;&gt;();\n\n    private final ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor();\n\n    private final AtomicBoolean purgerRegistered = new AtomicBoolean(false);\n\n    private final Set&lt;Listener&lt;E&gt;&gt; listeners = ConcurrentHashMap.newKeySet();\n\n    public DuplicateActionFilterByInsertTime(int filterMillis) {\n        this.filterMillis = filterMillis;\n    }\n\n    public SilenceInfo get(E e) {\n        SilenceInfoImpl insertionData = actionMap.get(e);\n        if (insertionData == null || insertionData.isExpired(filterMillis)) {\n            return null;\n        }\n        return insertionData;\n    }\n\n    public boolean run(E e) {\n        actionMap.computeIfPresent(e, (e1, insertionData) -&gt; {\n            int count = insertionData.incrementAndGet();\n            if (count == 2) {\n                notifyFilteringStarted(e1);\n            }\n            return insertionData;\n        });\n        boolean isNew = actionMap.computeIfAbsent(e, e1 -&gt; {\n            SilenceInfoImpl insertionData = new SilenceInfoImpl();\n            actionQueue.add(e1);\n            return insertionData;\n        }).getCount() == 1;\n\n        tryRegisterPurger();\n\n        if (isNew) {\n            e.run();\n        }\n        return isNew;\n    }\n\n    private void tryRegisterPurger() {\n        if (actionMap.size() != 0 &amp;&amp; purgerRegistered.compareAndSet(false, true)) {\n            scheduledExecutorService.schedule(() -&gt; {\n                try {\n                    for (Iterator&lt;E&gt; iterator = actionQueue.iterator(); iterator.hasNext(); ) {\n                        E e = iterator.next();\n                        SilenceInfoImpl insertionData = actionMap.get(e);\n                        if (insertionData == null || insertionData.isExpired(filterMillis)) {\n                            iterator.remove();\n                        }\n                        if (insertionData != null &amp;&amp; insertionData.isExpired(filterMillis)) {\n                            SilenceInfoImpl removed = actionMap.remove(e);\n                            FilteredItem&lt;E&gt; filteredItem = new FilteredItem&lt;&gt;(e, removed);\n                            notifySilenceFinished(filteredItem);\n                        } else {\n                            // All the elements that were left shouldn't be purged.\n                            break;\n                        }\n                    }\n                } finally {\n                    purgerRegistered.set(false);\n                    tryRegisterPurger();\n                }\n            }, filterMillis, TimeUnit.MILLISECONDS);\n        }\n    }\n\n    private void notifySilenceFinished(FilteredItem&lt;E&gt; filteredItem) {\n        new Thread(() -&gt; listeners.forEach(l -&gt; {\n            try {\n                l.onFilteringFinished(filteredItem);\n            } catch (Exception e) {\n                LOGGER.log(Level.WARNING, \"Purge notification failed. Continuing to next one (if exists)\", e);\n            }\n        })).start();\n    }\n\n    private void notifyFilteringStarted(final E e) {\n        new Thread(() -&gt; listeners.forEach(l -&gt; {\n            try {\n                l.onFilteringStarted(e);\n            } catch (Exception e1) {\n                LOGGER.log(Level.WARNING, \"Silence started notification failed. Continuing to next one (if exists)\", e1);\n            }\n        })).start();\n    }\n\n    public void addListener(Listener&lt;E&gt; listener) {\n        listeners.add(listener);\n    }\n\n    public void removeLister(Listener&lt;E&gt; listener) {\n        listeners.remove(listener);\n    }\n\n    public interface SilenceInfo {\n        long getInsertTimeMillis();\n\n        int getCount();\n    }\n\n    public interface Listener&lt;E&gt; {\n        void onFilteringStarted(E e);\n        void onFilteringFinished(FilteredItem&lt;E&gt; filteredItem);\n    }\n\n    private static class SilenceInfoImpl implements SilenceInfo {\n        private final long insertTimeMillis = System.currentTimeMillis();\n        private AtomicInteger count = new AtomicInteger(1);\n\n        int incrementAndGet() {\n            return count.incrementAndGet();\n        }\n\n        @Override\n        public long getInsertTimeMillis() {\n            return insertTimeMillis;\n        }\n\n        @Override\n        public int getCount() {\n            return count.get();\n        }\n\n        boolean isExpired(long expirationMillis) {\n            return insertTimeMillis + expirationMillis &lt; System.currentTimeMillis();\n        }\n    }\n\n    public static class FilteredItem&lt;E&gt; {\n        private final E item;\n        private final SilenceInfo silenceInfo;\n\n        FilteredItem(E item, SilenceInfo silenceInfo) {\n            this.item = item;\n            this.silenceInfo = silenceInfo;\n        }\n\n        public E getItem() {\n            return item;\n        }\n\n        public SilenceInfo getSilenceInfo() {\n            return silenceInfo;\n        }\n    }\n}\n</code></pre>\n\n<p>Test example: (More tests <a href=\"https://bitbucket.org/kilaka/lean/src/52ce57e7858a80bc680780ca5e0c8b49ee45fcc9/src/test/java/alik/lean/test/DuplicateActionFilterByInsertTimeTest.java\" rel=\"nofollow noreferrer\">here</a>)</p>\n\n<pre><code>@Test\npublic void testSimple() throws InterruptedException {\n    int filterMillis = 100;\n    DuplicateActionFilterByInsertTime&lt;Runnable&gt; expSet = new DuplicateActionFilterByInsertTime&lt;&gt;(filterMillis);\n    AtomicInteger purgeCount = new AtomicInteger(0);\n    expSet.addListener(new DuplicateActionFilterByInsertTime.Listener&lt;Runnable&gt;() {\n        @Override\n        public void onFilteringFinished(DuplicateActionFilterByInsertTime.FilteredItem&lt;Runnable&gt; filteredItem) {\n            purgeCount.incrementAndGet();\n        }\n\n        @Override\n        public void onFilteringStarted(Runnable runnable) {\n        }\n    });\n\n    Runnable key = () -&gt; {\n    };\n    long beforeAddMillis = System.currentTimeMillis();\n    boolean added = expSet.run(key);\n    long afterAddMillis = System.currentTimeMillis();\n    Assert.assertTrue(added);\n    DuplicateActionFilterByInsertTime.SilenceInfo silenceInfo = expSet.get(key);\n    Assertions.assertThat(silenceInfo.getInsertTimeMillis()).isBetween(beforeAddMillis, afterAddMillis);\n\n    expSet.run(key);\n    DuplicateActionFilterByInsertTime.SilenceInfo silenceInfo2 = expSet.get(key);\n    Assert.assertEquals(silenceInfo.getInsertTimeMillis(), silenceInfo2.getInsertTimeMillis());\n\n    Assert.assertFalse(silenceInfo.getInsertTimeMillis() + filterMillis &lt; System.currentTimeMillis());\n    Assert.assertEquals(silenceInfo.getCount(), 2);\n\n    Thread.sleep(filterMillis);\n\n    Assertions.assertThat(expSet.get(key)).isNull();\n\n    Assert.assertNull(expSet.get(key));\n\n    Thread.sleep(filterMillis * 2); // Give a chance to purge the items.\n    Assert.assertEquals(1, purgeCount.get());\n\n    System.out.println(\"Finished\");\n}\n</code></pre>\n\n<p><a href=\"https://bitbucket.org/kilaka/lean/src/52ce57e7858a80bc680780ca5e0c8b49ee45fcc9/src/main/java/alik/lean/DuplicateActionFilterByInsertTime.java\" rel=\"nofollow noreferrer\">Source</a>.</p>\n"},{"tags":[],"owner":{"account_id":15356621,"reputation":39,"user_id":11078746,"display_name":"Ikjot Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651902231,"creation_date":1569227508,"answer_id":58058496,"question_id":49560258,"body_markdown":"# `ExpiringMap`\r\n\r\nYou can use [`ExpiringMap`][1]. This will remove element from map after specified time while initializing the Map . Here is the syntax\r\n\r\n    public static Map&lt;String, Long&gt; threatURLCacheMap = ExpiringMap.builder().expiration(5, TimeUnit.MINUTES).build();\r\n\r\nThis will create a Map in which each element will expire 5 minutes of insertion.\r\nYou can use this dependencies into your maven project net.jodah.expiringmap.\r\nhere is link to learn about it more\r\nhttps://crunchify.com/how-to-use-expiringmap-maven-java-utility-to-remove-expired-objects-from-map-automatically-complete-java-tutorial/\r\n\r\n\r\n  [1]: https://github.com/jhalterman/expiringmap","title":"Is there an expiring map in Java that expires elements after a period of time since *first* insertion?","body":"<h1><code>ExpiringMap</code></h1>\n<p>You can use <a href=\"https://github.com/jhalterman/expiringmap\" rel=\"nofollow noreferrer\"><code>ExpiringMap</code></a>. This will remove element from map after specified time while initializing the Map . Here is the syntax</p>\n<pre><code>public static Map&lt;String, Long&gt; threatURLCacheMap = ExpiringMap.builder().expiration(5, TimeUnit.MINUTES).build();\n</code></pre>\n<p>This will create a Map in which each element will expire 5 minutes of insertion.\nYou can use this dependencies into your maven project net.jodah.expiringmap.\nhere is link to learn about it more\n<a href=\"https://crunchify.com/how-to-use-expiringmap-maven-java-utility-to-remove-expired-objects-from-map-automatically-complete-java-tutorial/\" rel=\"nofollow noreferrer\">https://crunchify.com/how-to-use-expiringmap-maven-java-utility-to-remove-expired-objects-from-map-automatically-complete-java-tutorial/</a></p>\n"},{"tags":[],"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680975366,"creation_date":1680974849,"answer_id":75966706,"question_id":49560258,"body_markdown":"Just use the Caffeine cache\r\n\r\n    private final Cache&lt;String, List&lt;Integer&gt;&gt; cache = \r\n             Caffeine.newBuilder()\r\n            .expireAfter(new Expiry&lt;&gt;() {\r\n                @Override\r\n                public long expireAfterCreate(@NonNull Object key, @NonNull Object value, long currentTime) {\r\n                    return 60_000_000_000; // entry will expire 60 seconds after creation\r\n                }\r\n\r\n                @Override\r\n                public long expireAfterUpdate(@NonNull Object key, @NonNull Object value, long currentTime, @NonNegative long currentDuration) {\r\n                    return Long.MAX_VALUE;\r\n                }\r\n\r\n                @Override\r\n                public long expireAfterRead(@NonNull Object key, @NonNull Object value, long currentTime, @NonNegative long currentDuration) {\r\n                    return Long.MAX_VALUE;\r\n                }\r\n            })\r\n            .build();","title":"Is there an expiring map in Java that expires elements after a period of time since *first* insertion?","body":"<p>Just use the Caffeine cache</p>\n<pre><code>private final Cache&lt;String, List&lt;Integer&gt;&gt; cache = \n         Caffeine.newBuilder()\n        .expireAfter(new Expiry&lt;&gt;() {\n            @Override\n            public long expireAfterCreate(@NonNull Object key, @NonNull Object value, long currentTime) {\n                return 60_000_000_000; // entry will expire 60 seconds after creation\n            }\n\n            @Override\n            public long expireAfterUpdate(@NonNull Object key, @NonNull Object value, long currentTime, @NonNegative long currentDuration) {\n                return Long.MAX_VALUE;\n            }\n\n            @Override\n            public long expireAfterRead(@NonNull Object key, @NonNull Object value, long currentTime, @NonNegative long currentDuration) {\n                return Long.MAX_VALUE;\n            }\n        })\n        .build();\n</code></pre>\n"}],"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16018,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":4,"score":5,"last_activity_date":1680975366,"creation_date":1522338601,"question_id":49560258,"body_markdown":"I tried looking at cache mechanisms, such as Guava&#39;s `Cache`. Their expiration is only since last update.\r\n\r\nWhat I&#39;m looking for is a data structure that stores keys and cleans the keys after a time has passed since the first insertion. I&#39;m planning for the value to be some counter.\r\n\r\nA scenario might be a silent worker that does some work for the first time but keeps silent for an expiry period of time - even if work is requested. If work is requested after the expiry time has passed, he&#39;ll do the work.\r\n\r\nIs there any such data structure?","title":"Is there an expiring map in Java that expires elements after a period of time since *first* insertion?","body":"<p>I tried looking at cache mechanisms, such as Guava's <code>Cache</code>. Their expiration is only since last update.</p>\n<p>What I'm looking for is a data structure that stores keys and cleans the keys after a time has passed since the first insertion. I'm planning for the value to be some counter.</p>\n<p>A scenario might be a silent worker that does some work for the first time but keeps silent for an expiry period of time - even if work is requested. If work is requested after the expiry time has passed, he'll do the work.</p>\n<p>Is there any such data structure?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1680975347,"post_id":75966704,"comment_id":133986298,"body_markdown":"I&#39;d suggest using [Files.delete](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#delete-java.nio.file.Path-) instead of File.delete.  This has the benefit of throwing an exception on failure.  It won&#39;t get your file deleted if it&#39;s not being deleted now, but at least you might find out why.  For similar reasons, I&#39;d suggest [Files.move](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#move-java.nio.file.Path-java.nio.file.Path-java.nio.file.CopyOption...-) instead of File.renameTo.","body":"I&#39;d suggest using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#delete-java.nio.file.Path-\" rel=\"nofollow noreferrer\">Files.delete</a> instead of File.delete.  This has the benefit of throwing an exception on failure.  It won&#39;t get your file deleted if it&#39;s not being deleted now, but at least you might find out why.  For similar reasons, I&#39;d suggest <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#move-java.nio.file.Path-java.nio.file.Path-java.nio.file.CopyOption...-\" rel=\"nofollow noreferrer\">Files.move</a> instead of File.renameTo."}],"answers":[{"comments":[{"owner":{"account_id":22640093,"reputation":15,"user_id":16816391,"display_name":"nipeng"},"score":0,"creation_date":1680975882,"post_id":75966741,"comment_id":133986375,"body_markdown":"Thank you for the answer, but how I create a new file with the java.nio.package, because I want to create the new temp file, not getting existing temp.txt file","body":"Thank you for the answer, but how I create a new file with the java.nio.package, because I want to create the new temp file, not getting existing temp.txt file"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1680976053,"post_id":75966741,"comment_id":133986401,"body_markdown":"The same way you do today.  A `File` is not a file, it&#39;s a data structure containing a representation of a file path.  I don&#39;t see a strong compulsion to avoid `File` entirely - just don&#39;t call its methods that actually do things to the file system.  But note, you don&#39;t need a `File` to create a `FileWriter`.","body":"The same way you do today.  A <code>File</code> is not a file, it&#39;s a data structure containing a representation of a file path.  I don&#39;t see a strong compulsion to avoid <code>File</code> entirely - just don&#39;t call its methods that actually do things to the file system.  But note, you don&#39;t need a <code>File</code> to create a <code>FileWriter</code>."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1680976658,"post_id":75966741,"comment_id":133986462,"body_markdown":"@ArfurNarf If you treat File as a vehicle for a path and ignore just about every method it has, then..... why not use String? Or if you (correctly) prefer a type that is more descriptive of what it contains, what can File do that Path cannot, other than things you shouldn&#39;t be doing with File?","body":"@ArfurNarf If you treat File as a vehicle for a path and ignore just about every method it has, then..... why not use String? Or if you (correctly) prefer a type that is more descriptive of what it contains, what can File do that Path cannot, other than things you shouldn&#39;t be doing with File?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1680976706,"post_id":75966741,"comment_id":133986470,"body_markdown":"@nipeng If you want a new temp file, `Files.newBufferedWriter(path, StandardOpenOption.CREATE_NEW)` ensures it&#39;s new (throws if it isn&#39;t), and `Files.createTempFile` makes new files, picking random names for you to ensure they are unique.","body":"@nipeng If you want a new temp file, <code>Files.newBufferedWriter(path, StandardOpenOption.CREATE_NEW)</code> ensures it&#39;s new (throws if it isn&#39;t), and <code>Files.createTempFile</code> makes new files, picking random names for you to ensure they are unique."},{"owner":{"account_id":22640093,"reputation":15,"user_id":16816391,"display_name":"nipeng"},"score":0,"creation_date":1680977258,"post_id":75966741,"comment_id":133986546,"body_markdown":"Ok, thank you for all the answer I tried it, but using ` Files.createFile(tempFile); ` is fine too. now the problem is I getting the error file is being used by another process, I didnt even open the file","body":"Ok, thank you for all the answer I tried it, but using ` Files.createFile(tempFile); ` is fine too. now the problem is I getting the error file is being used by another process, I didnt even open the file"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1680978073,"post_id":75966741,"comment_id":133986649,"body_markdown":"Are you sure? It&#39;s probably your own process. Your example code isn&#39;t properly closing resources (use `try(...)` syntax).","body":"Are you sure? It&#39;s probably your own process. Your example code isn&#39;t properly closing resources (use <code>try(...)</code> syntax)."},{"owner":{"account_id":22640093,"reputation":15,"user_id":16816391,"display_name":"nipeng"},"score":0,"creation_date":1680978500,"post_id":75966741,"comment_id":133986690,"body_markdown":"I pretty sure I already terminate all the debug process also I already using the try syntax. The create temp file is working fine but it throws `file is being used by another process` when it reach the `Files.delete`.","body":"I pretty sure I already terminate all the debug process also I already using the try syntax. The create temp file is working fine but it throws <code>file is being used by another process</code> when it reach the <code>Files.delete</code>."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1680988489,"post_id":75966741,"comment_id":133987883,"body_markdown":"@rzwitserloot &quot;then..... why not use String?&quot; -- In this case, why not, indeed?  I answered from a position of not being able to rewrite all of the vast corpus of code I need to interface with.   Constructing a Path *just* to call toFile on always seems a bit silly.","body":"@rzwitserloot &quot;then..... why not use String?&quot; -- In this case, why not, indeed?  I answered from a position of not being able to rewrite all of the vast corpus of code I need to interface with.   Constructing a Path <i>just</i> to call toFile on always seems a bit silly."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1680998735,"post_id":75966741,"comment_id":133988881,"body_markdown":"@ArfurNarf Obsolete/deprecated-in-the-dictionary-sense doesn&#39;t mean &quot;go out and rewrite all usages of it _now_&quot;. Merely: An SO answer that advises using that _now_ is wrong, and you shouldn&#39;t write new code with that stuff. There&#39;s nothing wrong with using `.toPath()` / `toFile()` to paper over aged API that doesn&#39;t take Path objects yet.","body":"@ArfurNarf Obsolete/deprecated-in-the-dictionary-sense doesn&#39;t mean &quot;go out and rewrite all usages of it <i>now</i>&quot;. Merely: An SO answer that advises using that <i>now</i> is wrong, and you shouldn&#39;t write new code with that stuff. There&#39;s nothing wrong with using <code>.toPath()</code> / <code>toFile()</code> to paper over aged API that doesn&#39;t take Path objects yet."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1680999618,"post_id":75966741,"comment_id":133988940,"body_markdown":"@nipeng paste the _complete_ code. The error isn&#39;t lying to you - some process has it open. It is exceedingly likely it&#39;s your code.","body":"@nipeng paste the <i>complete</i> code. The error isn&#39;t lying to you - some process has it open. It is exceedingly likely it&#39;s your code."},{"owner":{"account_id":22640093,"reputation":15,"user_id":16816391,"display_name":"nipeng"},"score":0,"creation_date":1681017113,"post_id":75966741,"comment_id":133990009,"body_markdown":"Sorry for the late response\nHere&#39;s my code:\n`Path tempFile = Paths.get(&quot;temp.txt&quot;); try {\n\t\t\tFiles.newBufferedWriter(tempFile, StandardOpenOption.CREATE_NEW);\n\t\t} catch (IOException e) {\n\t\t\t// TODO: handle exception\n\t\t} Path saveFile = Paths.get(&quot;save.txt&quot;);\n\t\tPath playerFile = Paths.get(player.username + &quot;.txt&quot;);`\n\nThe rest is the same try catch code that you provided","body":"Sorry for the late response Here&#39;s my code: <code>Path tempFile = Paths.get(&quot;temp.txt&quot;); try { \t\t\tFiles.newBufferedWriter(tempFile, StandardOpenOption.CREATE_NEW); \t\t} catch (IOException e) { \t\t\t&#47;&#47; TODO: handle exception \t\t} Path saveFile = Paths.get(&quot;save.txt&quot;); \t\tPath playerFile = Paths.get(player.username + &quot;.txt&quot;);</code>  The rest is the same try catch code that you provided"},{"owner":{"account_id":22640093,"reputation":15,"user_id":16816391,"display_name":"nipeng"},"score":0,"creation_date":1681023175,"post_id":75966741,"comment_id":133990466,"body_markdown":"I already figured it out, Thank you","body":"I already figured it out, Thank you"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1681033698,"post_id":75966741,"comment_id":133991528,"body_markdown":"@nipeng That code you just pasted in the comment 4 hours ago __does not__ use try-with, which is exactly what I told you is the likely explanation. Start using try-with.","body":"@nipeng That code you just pasted in the comment 4 hours ago <b>does not</b> use try-with, which is exactly what I told you is the likely explanation. Start using try-with."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":13,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680975334,"creation_date":1680975334,"answer_id":75966741,"question_id":75966704,"body_markdown":"The `java.io.File` API is __obsolete__. That means it is deprecated (you should stop using it), but, given that it is core API, &#39;deprecated&#39; as a term specifically used in core means &#39;sometime somewhat soon, this will not work whatsoever&#39;, and `java.io.File` isn&#39;t that - it&#39;ll work 10 years from now. But you still shouldn&#39;t use it. There are fundamental issues to its design that means it&#39;s a flawed API and it won&#39;t (cannot) be fixed.\r\n\r\nOne of its many flaws is that it is un-java-like in how it conveys errors to you. Weirdly, most of the `File` API itself __does not__ throw exceptions when things go wrong. Instead, it returns wonky things.\r\n\r\nFor example, `file.list()` returns an empty array if you run that on an empty directory, but returns `null` if it can&#39;t do the job (for example, the dir doesn&#39;t exist, or it&#39;s a file and not a dir, or, the java process doesn&#39;t have read rights). Similarly, `delete()` __does not__ throw an exception. Instead to indicate failure it returns `false`. This is not only un-java-like, it also means it is __not possible__ to know _why_ `delete()` doesn&#39;t work. Access rights issue? File doesn&#39;t exist? Who knows.\r\n\r\nThe simple conclusion is that you should _always_ be checking the return value of anything you do to a `j.i.File` object, but that&#39;s taking a shortcut. The true fix is __to stop using it__.\r\n\r\nThe new API also has problems but far fewer. It&#39;s also not obsolete/deprecated-in-the-english-dictionary-sense: This _is_ how a state of the art java app should be interacting with files. You find it in the `java.nio.file` package.\r\n\r\nUnlike the `j.i.File` API, this one __does__ throw exceptions when things go wrong, and those exceptions tell you, both program-checkable (a hierarchy of types, such as `NoSuchFileException` if you want to specifically react to such an issue), and human-checkable, in that the messages of these exceptions explain in english what&#39;s wrong.\r\n\r\nSecondarily, you MUST close objects-that-represent-system-resources safely and your code does not do that. There&#39;s the handy try-with syntax that makes that easy, so let&#39;s do that too!\r\n\r\nThirdly, you are flushing-then-closing. This is pointless; `close()` already implies flush, there is no reason to _ever_ call flush() before close, it just clutters up your code. In fact, with try-with there&#39;s no need to close whatsoever.\r\n\r\nThus:\r\n\r\n```\r\nPath tempFile = Paths.get(&quot;temp.txt&quot;);\r\nPath saveFile = Paths.get(&quot;save.txt&quot;);\r\ntry (\r\n  Writer fw = Files.newBufferedWriter(tempFile, StandardOpenOption.APPEND);\r\n  BufferedReader br = Files.newBufferedReader(saveFile);\r\n  ) {\r\n\r\n  String line;\r\n  while ((line = br.readLine()) != null) {\r\n    if (line.equals(player.username)) continue;\r\n    fw.write(line);\r\n    fw.write(&quot;\\n&quot;);\r\n  }\r\n}\r\n\r\nFiles.delete(saveFile);\r\nFiles.move(tempFile, saveFile);\r\n```\r\n","title":"Java delete file function is not working, my file not deleting and not throwing any errors","body":"<p>The <code>java.io.File</code> API is <strong>obsolete</strong>. That means it is deprecated (you should stop using it), but, given that it is core API, 'deprecated' as a term specifically used in core means 'sometime somewhat soon, this will not work whatsoever', and <code>java.io.File</code> isn't that - it'll work 10 years from now. But you still shouldn't use it. There are fundamental issues to its design that means it's a flawed API and it won't (cannot) be fixed.</p>\n<p>One of its many flaws is that it is un-java-like in how it conveys errors to you. Weirdly, most of the <code>File</code> API itself <strong>does not</strong> throw exceptions when things go wrong. Instead, it returns wonky things.</p>\n<p>For example, <code>file.list()</code> returns an empty array if you run that on an empty directory, but returns <code>null</code> if it can't do the job (for example, the dir doesn't exist, or it's a file and not a dir, or, the java process doesn't have read rights). Similarly, <code>delete()</code> <strong>does not</strong> throw an exception. Instead to indicate failure it returns <code>false</code>. This is not only un-java-like, it also means it is <strong>not possible</strong> to know <em>why</em> <code>delete()</code> doesn't work. Access rights issue? File doesn't exist? Who knows.</p>\n<p>The simple conclusion is that you should <em>always</em> be checking the return value of anything you do to a <code>j.i.File</code> object, but that's taking a shortcut. The true fix is <strong>to stop using it</strong>.</p>\n<p>The new API also has problems but far fewer. It's also not obsolete/deprecated-in-the-english-dictionary-sense: This <em>is</em> how a state of the art java app should be interacting with files. You find it in the <code>java.nio.file</code> package.</p>\n<p>Unlike the <code>j.i.File</code> API, this one <strong>does</strong> throw exceptions when things go wrong, and those exceptions tell you, both program-checkable (a hierarchy of types, such as <code>NoSuchFileException</code> if you want to specifically react to such an issue), and human-checkable, in that the messages of these exceptions explain in english what's wrong.</p>\n<p>Secondarily, you MUST close objects-that-represent-system-resources safely and your code does not do that. There's the handy try-with syntax that makes that easy, so let's do that too!</p>\n<p>Thirdly, you are flushing-then-closing. This is pointless; <code>close()</code> already implies flush, there is no reason to <em>ever</em> call flush() before close, it just clutters up your code. In fact, with try-with there's no need to close whatsoever.</p>\n<p>Thus:</p>\n<pre><code>Path tempFile = Paths.get(&quot;temp.txt&quot;);\nPath saveFile = Paths.get(&quot;save.txt&quot;);\ntry (\n  Writer fw = Files.newBufferedWriter(tempFile, StandardOpenOption.APPEND);\n  BufferedReader br = Files.newBufferedReader(saveFile);\n  ) {\n\n  String line;\n  while ((line = br.readLine()) != null) {\n    if (line.equals(player.username)) continue;\n    fw.write(line);\n    fw.write(&quot;\\n&quot;);\n  }\n}\n\nFiles.delete(saveFile);\nFiles.move(tempFile, saveFile);\n</code></pre>\n"}],"owner":{"account_id":22640093,"reputation":15,"user_id":16816391,"display_name":"nipeng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75966741,"answer_count":1,"score":0,"last_activity_date":1680975334,"creation_date":1680974806,"question_id":75966704,"body_markdown":"I have java code that supposed to delete my existing file in my device but it does not work I don&#39;t why. It keep returning false when I try to use the .delete() function.\r\n\r\n\r\n\r\nHere&#39;s my code, I already closed all the buffered and writer but it still not working\r\n```\r\n        File saveFile = new File(&quot;save.txt&quot;);\r\n\t\tFile saveTemp = new File(&quot;temp.txt&quot;);\r\n\t\tFile playerFile = new File(player.username + &quot;.txt&quot;);\r\n\t\tString currentLine;\r\n\t\ttry {\r\n\t\t\tFileWriter fw = new FileWriter(saveTemp, true);\r\n\t\t\tBufferedWriter bw = new BufferedWriter(fw);\r\n\t\t\tPrintWriter pw = new PrintWriter(bw);\r\n\t\t\t\r\n\t\t\tFileReader fr = new FileReader(&quot;save.txt&quot;);\r\n\t\t\tBufferedReader br = new BufferedReader(fr);\r\n\t\t\t\r\n\t\t\twhile((currentLine = br.readLine()) != null)\r\n\t\t\t{\r\n\t\t\t\tif (!currentLine.equals(player.username))\r\n\t\t\t\t{\r\n\t\t\t\t\tpw.println(currentLine);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpw.flush();\r\n\t\t\tpw.close();\r\n\t\t\tfr.close();\r\n\t\t\tbr.close();\r\n\t\t\tbw.close();\r\n\t\t\tfw.close();\r\n\t\t\t\r\n\t\t\tsaveFile.delete();\r\n\t\t\tplayerFile.delete();\r\n\t\t\tFile dump = new File(&quot;save.txt&quot;);\r\n\t\t\tsaveTemp.renameTo(dump);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```\r\n","title":"Java delete file function is not working, my file not deleting and not throwing any errors","body":"<p>I have java code that supposed to delete my existing file in my device but it does not work I don't why. It keep returning false when I try to use the .delete() function.</p>\n<p>Here's my code, I already closed all the buffered and writer but it still not working</p>\n<pre><code>        File saveFile = new File(&quot;save.txt&quot;);\n        File saveTemp = new File(&quot;temp.txt&quot;);\n        File playerFile = new File(player.username + &quot;.txt&quot;);\n        String currentLine;\n        try {\n            FileWriter fw = new FileWriter(saveTemp, true);\n            BufferedWriter bw = new BufferedWriter(fw);\n            PrintWriter pw = new PrintWriter(bw);\n            \n            FileReader fr = new FileReader(&quot;save.txt&quot;);\n            BufferedReader br = new BufferedReader(fr);\n            \n            while((currentLine = br.readLine()) != null)\n            {\n                if (!currentLine.equals(player.username))\n                {\n                    pw.println(currentLine);\n                }\n            }\n            \n            pw.flush();\n            pw.close();\n            fr.close();\n            br.close();\n            bw.close();\n            fw.close();\n            \n            saveFile.delete();\n            playerFile.delete();\n            File dump = new File(&quot;save.txt&quot;);\n            saveTemp.renameTo(dump);\n            \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":["java","file","locking"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1645406775,"post_id":71197279,"comment_id":125855893,"body_markdown":"File locks only work if all other processes check for the same lock.  It must be cooperative.","body":"File locks only work if all other processes check for the same lock.  It must be cooperative."}],"answers":[{"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1645408689,"post_id":71197369,"comment_id":125856178,"body_markdown":"Read the _&quot;Platform dependencies&quot;_ section of the page you linked.  This is unlikely to work unless the underlying OS provides the correct API.  In most OSes locking is ***advisory*** only.  Locks are respected only if both parties are using the same locking mechanism.","body":"Read the <i>&quot;Platform dependencies&quot;</i> section of the page you linked.  This is unlikely to work unless the underlying OS provides the correct API.  In most OSes locking is <b><i>advisory</i></b> only.  Locks are respected only if both parties are using the same locking mechanism."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1647220420,"post_id":71197369,"comment_id":126309220,"body_markdown":"Of course.  You can&#39;t do file locking at all if file locking is not supported.  I assumed that went without saying.","body":"Of course.  You can&#39;t do file locking at all if file locking is not supported.  I assumed that went without saying."}],"tags":[],"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645381032,"creation_date":1645381032,"answer_id":71197369,"question_id":71197279,"body_markdown":"To lock a file, use a [FileLock](https://docs.oracle.com/javase/8/docs/api/java/nio/channels/FileLock.html).\r\n\r\nThe exact semantics depend on the underlying file system.\r\n\r\nYou should be able to get a lock via `tryLock` on the channel. If it&#39;s not working, in what way is it not working?  Failure to get an exclusive lock is, per the documentation, likely due to it already being open.\r\n","title":"Locking file and reading/writing it","body":"<p>To lock a file, use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/FileLock.html\" rel=\"nofollow noreferrer\">FileLock</a>.</p>\n<p>The exact semantics depend on the underlying file system.</p>\n<p>You should be able to get a lock via <code>tryLock</code> on the channel. If it's not working, in what way is it not working?  Failure to get an exclusive lock is, per the documentation, likely due to it already being open.</p>\n"}],"owner":{"account_id":24266172,"reputation":17,"user_id":18251136,"display_name":"nonxis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680975160,"creation_date":1645380519,"question_id":71197279,"body_markdown":"I need to lock the file for other programs so that my program only can read and write to this file, other programs cannot.\r\n\r\nI writed this code (file is not empty, it has some text)\r\n\r\n```java\r\nFile file = new File(System.getProperty(&quot;user.home&quot;) + &quot;\\\\Desktop\\\\test.txt&quot;);\r\nfile.createNewFile();\r\n\r\ntry {\r\n  FileChannel channel = new RandomAccessFile(file, &quot;rw&quot;).getChannel();\r\n  FileLock lock = channel.tryLock();\r\n  System.out.println(lock);\r\n\r\n  // reading this file\r\n  try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\r\n    System.out.println(reader.read());\r\n    System.out.println(&quot;success&quot;);\r\n  } catch (Throwable e) {\r\n    System.out.println(&quot;read fail&quot;);\r\n    e.printStackTrace();\r\n  }\r\n} catch (Throwable e) {\r\n  e.printStackTrace();\r\n}\r\n```\r\n\r\nBut im getting read fail with this error\r\n\r\n```\r\njava.io.IOException: The process cannot access the file because it is being used by another process\r\n```\r\n\r\nBut this file is only used by my process","title":"Locking file and reading/writing it","body":"<p>I need to lock the file for other programs so that my program only can read and write to this file, other programs cannot.</p>\n<p>I writed this code (file is not empty, it has some text)</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(System.getProperty(&quot;user.home&quot;) + &quot;\\\\Desktop\\\\test.txt&quot;);\nfile.createNewFile();\n\ntry {\n  FileChannel channel = new RandomAccessFile(file, &quot;rw&quot;).getChannel();\n  FileLock lock = channel.tryLock();\n  System.out.println(lock);\n\n  // reading this file\n  try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\n    System.out.println(reader.read());\n    System.out.println(&quot;success&quot;);\n  } catch (Throwable e) {\n    System.out.println(&quot;read fail&quot;);\n    e.printStackTrace();\n  }\n} catch (Throwable e) {\n  e.printStackTrace();\n}\n</code></pre>\n<p>But im getting read fail with this error</p>\n<pre><code>java.io.IOException: The process cannot access the file because it is being used by another process\n</code></pre>\n<p>But this file is only used by my process</p>\n"},{"tags":["java","php","android","retrofit2","native-android"],"comments":[{"owner":{"account_id":21866301,"reputation":3739,"user_id":16217248,"display_name":"user16217248"},"score":0,"creation_date":1680974808,"post_id":75966645,"comment_id":133986231,"body_markdown":"The error tells you what you need to change.","body":"The error tells you what you need to change."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680974346,"creation_date":1680974346,"answer_id":75966663,"question_id":75966645,"body_markdown":"This is your problem:\r\n\r\n```java\r\npublic class ApiService {\r\n    @Multipart\r\n    @POST(&quot;retroapi2.php&quot;)\r\n    Call&lt;ResponseBody&gt; uploadAudio(@Part MultipartBody.Part audio) {\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n`ApiService` needs to be an `interface`:\r\n\r\n```java\r\npublic interface ApiService {\r\n    @Multipart\r\n    @POST(&quot;retroapi2.php&quot;)\r\n    Call&lt;ResponseBody&gt; uploadAudio(@Part MultipartBody.Part audio);\r\n}\r\n```\r\n\r\nSee [the Retrofit documentation](https://square.github.io/retrofit/) for more.","title":"java.lang.IllegalArgumentException: API declarations must be interfaces","body":"<p>This is your problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ApiService {\n    @Multipart\n    @POST(&quot;retroapi2.php&quot;)\n    Call&lt;ResponseBody&gt; uploadAudio(@Part MultipartBody.Part audio) {\n\n        return null;\n    }\n}\n</code></pre>\n<p><code>ApiService</code> needs to be an <code>interface</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ApiService {\n    @Multipart\n    @POST(&quot;retroapi2.php&quot;)\n    Call&lt;ResponseBody&gt; uploadAudio(@Part MultipartBody.Part audio);\n}\n</code></pre>\n<p>See <a href=\"https://square.github.io/retrofit/\" rel=\"nofollow noreferrer\">the Retrofit documentation</a> for more.</p>\n"}],"owner":{"account_id":28250891,"reputation":3,"user_id":21597175,"display_name":"kranthi chevuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75966663,"answer_count":1,"score":-1,"last_activity_date":1680974757,"creation_date":1680974117,"question_id":75966645,"body_markdown":"I am writing code to record audio at the start when we click the button it need to be upload in the server. I am using retrofit : i am using two different retrofit APIs. One for forum data and another for upload audio.\r\n\r\nI got this error:\r\n```\r\njava.lang.IllegalArgumentException: API declarations must be interfaces.\r\n```\r\nActivity:\r\n```\r\nprivate void uploadAudio() {\r\n\r\n    Long date = new Date().getTime();\r\n\r\n    Date current_time = new Date(Long.valueOf(date));\r\n    String file_path = getApplicationContext().getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS).getPath() + &quot;/&quot; + current_time + &quot;.3gp&quot;;\r\n\r\n\r\n    File audioFile = new File(file_path);\r\n    RequestBody requestFile = RequestBody.create(MediaType.parse(&quot;audio/*&quot;), audioFile);\r\n    MultipartBody.Part audioPart = MultipartBody.Part.createFormData(&quot;audio&quot;, audioFile.getName(), requestFile);\r\n\r\n    ApiService apiService = ApiClient.getClient().create(ApiService.class);\r\n    Call&lt;ResponseBody&gt; call = apiService.uploadAudio(audioPart);\r\n    call.enqueue(new retrofit2.Callback&lt;ResponseBody&gt;() {\r\n        @Override\r\n        public void onResponse(Call&lt;ResponseBody&gt; call, retrofit2.Response&lt;ResponseBody&gt; response) {\r\n            if (response.isSuccessful()){\r\n                if (response.body().toString().equals(&quot;200&quot;)){\r\n                    Toast.makeText(getApplicationContext(), &quot;Audio uploaded Successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                }else {\r\n                    Toast.makeText(getApplicationContext(),&quot;Audio Upload Failed&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\r\n            Toast.makeText(getApplicationContext(), t.toString(), Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n    });\r\n```\r\n\r\nAPI\r\n\r\n```\r\npublic class ApiService {\r\n    @Multipart\r\n    @POST(&quot;retroapi2.php&quot;)\r\n    Call&lt;ResponseBody&gt; uploadAudio(@Part MultipartBody.Part audio) {\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class ApiClient {\r\n    private static final String BASE_URL = &quot;http://mysite.in/atmedia/ud/&quot;;\r\n\r\n    private static Retrofit retrofit;\r\n\r\n    public static Retrofit getClient() {\r\n        if (retrofit == null) {\r\n            retrofit = new Retrofit.Builder()\r\n                    .baseUrl(BASE_URL)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build();\r\n        }\r\n        return retrofit;\r\n    }\r\n}\r\n```\r\n```\r\nif($_SERVER[&#39;REQUEST_METHOD&#39;]==&#39;POST&#39;){\r\n\r\n //Getting post data \r\n\r\n $fileName  =  $_FILES[&#39;audio&#39;][&#39;name&#39;];\r\n\r\n$tempPath  =  $_FILES[&#39;audio&#39;][&#39;tmp_name&#39;];\r\n\r\n$fileSize  =  $_FILES[&#39;audio&#39;][&#39;size&#39;];\r\n\r\n$upload_path = &#39;upload/&#39;; // set upload folder path \r\n\r\nrequire_once(&#39;retconfig.php&#39;);\r\n  \r\n //Creating an SQL Query to insert into database \r\n //Here you may need to change the retrofit_users because it is the table I created\r\n //if you have a different table write your table&#39;s name\r\n \r\n //This query is to check whether the username or email is already registered or not \r\n $sql = &quot;SELECT * FROM demo WHERE mobile=&#39;$mobile&#39;&quot;;\r\n \r\n //If variable check has some value from mysqli fetch array \r\n //That means username or email already exist \r\n $check = mysqli_fetch_array(mysqli_query($con,$sql));\r\n \r\n //Checking check has some values or not \r\n if(isset($check)){\r\n //If check has some value that means username already exist \r\n echo &#39;username or email already exist&#39;;\r\n }else{ \r\n //If username is not already exist \r\n //Creating insert query \r\n      \r\nif($fileSize &lt; 5000000){\r\n\tmove_uploaded_file($tempPath, $upload_path . $fileName); // move file from system temporary path to our upload folder path \r\n}\r\n```","title":"java.lang.IllegalArgumentException: API declarations must be interfaces","body":"<p>I am writing code to record audio at the start when we click the button it need to be upload in the server. I am using retrofit : i am using two different retrofit APIs. One for forum data and another for upload audio.</p>\n<p>I got this error:</p>\n<pre><code>java.lang.IllegalArgumentException: API declarations must be interfaces.\n</code></pre>\n<p>Activity:</p>\n<pre><code>private void uploadAudio() {\n\n    Long date = new Date().getTime();\n\n    Date current_time = new Date(Long.valueOf(date));\n    String file_path = getApplicationContext().getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS).getPath() + &quot;/&quot; + current_time + &quot;.3gp&quot;;\n\n\n    File audioFile = new File(file_path);\n    RequestBody requestFile = RequestBody.create(MediaType.parse(&quot;audio/*&quot;), audioFile);\n    MultipartBody.Part audioPart = MultipartBody.Part.createFormData(&quot;audio&quot;, audioFile.getName(), requestFile);\n\n    ApiService apiService = ApiClient.getClient().create(ApiService.class);\n    Call&lt;ResponseBody&gt; call = apiService.uploadAudio(audioPart);\n    call.enqueue(new retrofit2.Callback&lt;ResponseBody&gt;() {\n        @Override\n        public void onResponse(Call&lt;ResponseBody&gt; call, retrofit2.Response&lt;ResponseBody&gt; response) {\n            if (response.isSuccessful()){\n                if (response.body().toString().equals(&quot;200&quot;)){\n                    Toast.makeText(getApplicationContext(), &quot;Audio uploaded Successfully&quot;, Toast.LENGTH_SHORT).show();\n                }else {\n                    Toast.makeText(getApplicationContext(),&quot;Audio Upload Failed&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n\n        }\n\n        @Override\n        public void onFailure(Call&lt;ResponseBody&gt; call, Throwable t) {\n            Toast.makeText(getApplicationContext(), t.toString(), Toast.LENGTH_SHORT).show();\n\n        }\n    });\n</code></pre>\n<p>API</p>\n<pre><code>public class ApiService {\n    @Multipart\n    @POST(&quot;retroapi2.php&quot;)\n    Call&lt;ResponseBody&gt; uploadAudio(@Part MultipartBody.Part audio) {\n\n        return null;\n    }\n}\n</code></pre>\n<pre><code>public class ApiClient {\n    private static final String BASE_URL = &quot;http://mysite.in/atmedia/ud/&quot;;\n\n    private static Retrofit retrofit;\n\n    public static Retrofit getClient() {\n        if (retrofit == null) {\n            retrofit = new Retrofit.Builder()\n                    .baseUrl(BASE_URL)\n                    .addConverterFactory(GsonConverterFactory.create())\n                    .build();\n        }\n        return retrofit;\n    }\n}\n</code></pre>\n<pre><code>if($_SERVER['REQUEST_METHOD']=='POST'){\n\n //Getting post data \n\n $fileName  =  $_FILES['audio']['name'];\n\n$tempPath  =  $_FILES['audio']['tmp_name'];\n\n$fileSize  =  $_FILES['audio']['size'];\n\n$upload_path = 'upload/'; // set upload folder path \n\nrequire_once('retconfig.php');\n  \n //Creating an SQL Query to insert into database \n //Here you may need to change the retrofit_users because it is the table I created\n //if you have a different table write your table's name\n \n //This query is to check whether the username or email is already registered or not \n $sql = &quot;SELECT * FROM demo WHERE mobile='$mobile'&quot;;\n \n //If variable check has some value from mysqli fetch array \n //That means username or email already exist \n $check = mysqli_fetch_array(mysqli_query($con,$sql));\n \n //Checking check has some values or not \n if(isset($check)){\n //If check has some value that means username already exist \n echo 'username or email already exist';\n }else{ \n //If username is not already exist \n //Creating insert query \n      \nif($fileSize &lt; 5000000){\n    move_uploaded_file($tempPath, $upload_path . $fileName); // move file from system temporary path to our upload folder path \n}\n</code></pre>\n"},{"tags":["java","javafx","import"],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680992875,"post_id":75966471,"comment_id":133988367,"body_markdown":"@trashgod Actually, now that I looked at the OP&#39;s link, it appears to be *not* a library but a bunch of example code.","body":"@trashgod Actually, now that I looked at the OP&#39;s link, it appears to be <i>not</i> a library but a bunch of example code."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1680992937,"post_id":75966471,"comment_id":133988374,"body_markdown":"My error: at least one dependency from [here](http://interactivemesh.org/models/jfx3dimporter.html) is [here](https://mvnrepository.com/artifact/us.ihmc/jim3dsModelImporterJFX/0.7).","body":"My error: at least one dependency from <a href=\"http://interactivemesh.org/models/jfx3dimporter.html\" rel=\"nofollow noreferrer\">here</a> is <a href=\"https://mvnrepository.com/artifact/us.ihmc/jim3dsModelImporterJFX/0.7\" rel=\"nofollow noreferrer\">here</a>."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680974498,"creation_date":1680972254,"answer_id":75966471,"question_id":75966272,"body_markdown":"# Let Gradle manage your libraries\r\n\r\nDo not download and install libraries manually. \r\n\r\nOne of the main purposes of Gradle is to serve as a “dependency manager”. “Dependency” is a fancy word for “a library you want to use in your app”. Gradle can automatically locate your desired library in a “repository”, download the library, and install the library to make it available in your IDE’s project. \r\n\r\nUsing a dependency manager for all your libraries can avoid falling into [dependency hell][1]. \r\n\r\nAll modern IDEs, including IntelliJ, know how to work with Gradle. Notice in your screenshot how a bunch of the listed libraries are prefixed by `Gradle:` indicating they were sourced by Gradle.  Delete the items there that you manually added, the ones lacking that “Gradle” prefix. \r\n\r\nAll you have to do is:\r\n\r\n - Specify a [Maven][2] repository where your library is kept. The default repository already configured in your Gradle settings will likely suffice. \r\n - Add a dependency entry in your Gradle configuration file to specify the name and version of your desired library. \r\n\r\n[Read Wikipedia][3] to learn the basics of Gradle. Then do a web search to learn [how to add a dependency in Gradle][4]. \r\n\r\nYou may be annoyed at having to learn another tool. But really truly, investing a bit of time into learning how to use Gradle and/or Maven to drive your builds, including dependency management, is well worth it.\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Dependency_hell\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [3]: https://en.m.wikipedia.org/wiki/Gradle\r\n  [4]: https://duckduckgo.com/?q=add%20dependency%20in%20gradle&amp;t=ipad&amp;ia=qa","title":"How exactly do I add external libraries to my JavaFX Gradle Project?","body":"<h1>Let Gradle manage your libraries</h1>\n<p>Do not download and install libraries manually.</p>\n<p>One of the main purposes of Gradle is to serve as a “dependency manager”. “Dependency” is a fancy word for “a library you want to use in your app”. Gradle can automatically locate your desired library in a “repository”, download the library, and install the library to make it available in your IDE’s project.</p>\n<p>Using a dependency manager for all your libraries can avoid falling into <a href=\"https://en.m.wikipedia.org/wiki/Dependency_hell\" rel=\"nofollow noreferrer\">dependency hell</a>.</p>\n<p>All modern IDEs, including IntelliJ, know how to work with Gradle. Notice in your screenshot how a bunch of the listed libraries are prefixed by <code>Gradle:</code> indicating they were sourced by Gradle.  Delete the items there that you manually added, the ones lacking that “Gradle” prefix.</p>\n<p>All you have to do is:</p>\n<ul>\n<li>Specify a <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> repository where your library is kept. The default repository already configured in your Gradle settings will likely suffice.</li>\n<li>Add a dependency entry in your Gradle configuration file to specify the name and version of your desired library.</li>\n</ul>\n<p><a href=\"https://en.m.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\">Read Wikipedia</a> to learn the basics of Gradle. Then do a web search to learn <a href=\"https://duckduckgo.com/?q=add%20dependency%20in%20gradle&amp;t=ipad&amp;ia=qa\" rel=\"nofollow noreferrer\">how to add a dependency in Gradle</a>.</p>\n<p>You may be annoyed at having to learn another tool. But really truly, investing a bit of time into learning how to use Gradle and/or Maven to drive your builds, including dependency management, is well worth it.</p>\n"}],"owner":{"account_id":28239882,"reputation":1,"user_id":21587809,"display_name":"EffanByte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680974498,"creation_date":1680969937,"question_id":75966272,"body_markdown":"I use IntelliJ IDEA and I&#39;m on Java 19.\r\nI have a JavaFX project and I need to import 3D models into it. I&#39;ve found this library com.almasb.fx3d.modelloading to do it.  I downloaded it from github and extracted it.\r\nHere&#39;s the link to it.\r\nhttps://github.com/AlmasB/javafx3d-samples\r\nNow on IntelliJ, to add the library, I go to project structure -\\&gt; Libraries -\\&gt; + and I add the lib file of the library there. Then I do the same for the Modules -\\&gt; Dependencies -\\&gt; Add JAR or directory.\r\nNow I try to import the external library but IntelliJ just refuses to detect that I&#39;ve added the library.\r\nI use\r\n```\r\nimport com.almasb.fx3d.modelloading;\r\n```\r\nBut I get the error\r\n&gt; &quot;cannot resolve symbol&quot;.\r\n\r\nI also tried creating a lib file in my project folder, adding the JAR file there and making it a dependency, but still no luck.\r\nI just joined the website, so if I need to add more information or some sort of pictures, please let me know.\r\n\r\nNow I try to import the external library but IntelliJ just refuses to detect that I&#39;ve added the library.\r\nI use\r\nimport com.almasb.fx3d.modelloading;\r\nBut I get the error &quot;cannot resolve symbol&quot;.\r\n\r\nI also tried creating a lib file in my project folder, adding the JAR file there and making it a dependency, but still no luck.\r\nI just joined stackexchange, so if I need to add more information or some sort of pictures, please let me know.\r\nI also tried doing this with another library called JavaFX Fxyz. It didn&#39;t have a lib folder so I literally referenced each folder in the library separately to see if that would fix the issue, but it didn&#39;t.  \r\n  \r\n  \r\nEdit: Added a screenshot showing the libraries and the modules. I&#39;ve tried adding both the .jar file, as well as the folder it&#39;s stored in.\r\n\r\n![Libraries Screenshot](https://i.stack.imgur.com/ZqAfG.png)  \r\n\r\n![Modules Screenshot](https://i.stack.imgur.com/5nH6f.png)  \r\n  \r\nFor the minimal reproducible example, since I&#39;m on JavaFX, I&#39;ve used a simple Hello World application.\r\n\r\n```\r\npackage com.example.test_project;\r\n\r\nimport com.almasb.fx3d.*; // Doesn&#39;t detect the library added\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        ObjModelImporter omi = new ObjectModelImporter(); // error as import doesn&#39;t work\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nController\r\n\r\n```\r\npackage com.example.test_project;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Label;\r\n\r\npublic class HelloController {\r\n    @FXML\r\n    private Label welcomeText;\r\n\r\n    @FXML\r\n    protected void onHelloButtonClick() {\r\n        welcomeText.setText(&quot;Welcome to JavaFX Application!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nFXML file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n      fx:controller=&quot;com.example.test_project.HelloController&quot;&gt;\r\n    &lt;padding&gt;\r\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\r\n    &lt;/padding&gt;\r\n\r\n    &lt;Label fx:id=&quot;welcomeText&quot;/&gt;\r\n    &lt;Button text=&quot;Hello!&quot; onAction=&quot;#onHelloButtonClick&quot;/&gt;\r\n&lt;/VBox&gt;\r\n```","title":"How exactly do I add external libraries to my JavaFX Gradle Project?","body":"<p>I use IntelliJ IDEA and I'm on Java 19.\nI have a JavaFX project and I need to import 3D models into it. I've found this library com.almasb.fx3d.modelloading to do it.  I downloaded it from github and extracted it.\nHere's the link to it.\n<a href=\"https://github.com/AlmasB/javafx3d-samples\" rel=\"nofollow noreferrer\">https://github.com/AlmasB/javafx3d-samples</a>\nNow on IntelliJ, to add the library, I go to project structure -&gt; Libraries -&gt; + and I add the lib file of the library there. Then I do the same for the Modules -&gt; Dependencies -&gt; Add JAR or directory.\nNow I try to import the external library but IntelliJ just refuses to detect that I've added the library.\nI use</p>\n<pre><code>import com.almasb.fx3d.modelloading;\n</code></pre>\n<p>But I get the error</p>\n<blockquote>\n<p>&quot;cannot resolve symbol&quot;.</p>\n</blockquote>\n<p>I also tried creating a lib file in my project folder, adding the JAR file there and making it a dependency, but still no luck.\nI just joined the website, so if I need to add more information or some sort of pictures, please let me know.</p>\n<p>Now I try to import the external library but IntelliJ just refuses to detect that I've added the library.\nI use\nimport com.almasb.fx3d.modelloading;\nBut I get the error &quot;cannot resolve symbol&quot;.</p>\n<p>I also tried creating a lib file in my project folder, adding the JAR file there and making it a dependency, but still no luck.\nI just joined stackexchange, so if I need to add more information or some sort of pictures, please let me know.\nI also tried doing this with another library called JavaFX Fxyz. It didn't have a lib folder so I literally referenced each folder in the library separately to see if that would fix the issue, but it didn't.</p>\n<p>Edit: Added a screenshot showing the libraries and the modules. I've tried adding both the .jar file, as well as the folder it's stored in.</p>\n<p><img src=\"https://i.stack.imgur.com/ZqAfG.png\" alt=\"Libraries Screenshot\" /></p>\n<p><img src=\"https://i.stack.imgur.com/5nH6f.png\" alt=\"Modules Screenshot\" /></p>\n<p>For the minimal reproducible example, since I'm on JavaFX, I've used a simple Hello World application.</p>\n<pre><code>package com.example.test_project;\n\nimport com.almasb.fx3d.*; // Doesn't detect the library added\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        ObjModelImporter omi = new ObjectModelImporter(); // error as import doesn't work\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n        stage.setTitle(&quot;Hello!&quot;);\n\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>package com.example.test_project;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\n\npublic class HelloController {\n    @FXML\n    private Label welcomeText;\n\n    @FXML\n    protected void onHelloButtonClick() {\n        welcomeText.setText(&quot;Welcome to JavaFX Application!&quot;);\n    }\n}\n</code></pre>\n<p>FXML file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;VBox alignment=&quot;CENTER&quot; spacing=&quot;20.0&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\n      fx:controller=&quot;com.example.test_project.HelloController&quot;&gt;\n    &lt;padding&gt;\n        &lt;Insets bottom=&quot;20.0&quot; left=&quot;20.0&quot; right=&quot;20.0&quot; top=&quot;20.0&quot;/&gt;\n    &lt;/padding&gt;\n\n    &lt;Label fx:id=&quot;welcomeText&quot;/&gt;\n    &lt;Button text=&quot;Hello!&quot; onAction=&quot;#onHelloButtonClick&quot;/&gt;\n&lt;/VBox&gt;\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":7482021,"reputation":71,"user_id":5686495,"display_name":"Plijen"},"score":0,"creation_date":1680872222,"post_id":75958292,"comment_id":133973203,"body_markdown":"Thanks for the answer, if I wanted to catch the &#39;---&#39;  how can I change it?","body":"Thanks for the answer, if I wanted to catch the &#39;---&#39;  how can I change it?"},{"owner":{"account_id":7482021,"reputation":71,"user_id":5686495,"display_name":"Plijen"},"score":0,"creation_date":1680874984,"post_id":75958292,"comment_id":133973802,"body_markdown":"It is a file provided by a third-party software. I need to capture only the text between superscripts when the second superscript is before a closing round bracket, closing bracket, or a comma.","body":"It is a file provided by a third-party software. I need to capture only the text between superscripts when the second superscript is before a closing round bracket, closing bracket, or a comma."},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":1,"creation_date":1680878685,"post_id":75958292,"comment_id":133974572,"body_markdown":"ok can you clarify with examples like what is `text between superscripts` in this example text and what is `second superscript`?","body":"ok can you clarify with examples like what is <code>text between superscripts</code> in this example text and what is <code>second superscript</code>?"},{"owner":{"account_id":7482021,"reputation":71,"user_id":5686495,"display_name":"Plijen"},"score":0,"creation_date":1680968068,"post_id":75958292,"comment_id":133985278,"body_markdown":"Because I want to capture words or any character that have superscripts in them. In the example written above I want capture &#39;SALES&#39;FORCE&#39; not &#39;SALES&#39;. And I want &#39;---&#39; or for example &#39;+++&#39; to be caught too. I hope I have explained myself.","body":"Because I want to capture words or any character that have superscripts in them. In the example written above I want capture &#39;SALES&#39;FORCE&#39; not &#39;SALES&#39;. And I want &#39;---&#39; or for example &#39;+++&#39; to be caught too. I hope I have explained myself."},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":1,"creation_date":1680974504,"post_id":75958292,"comment_id":133986188,"body_markdown":"ok try my updated answer now","body":"ok try my updated answer now"},{"owner":{"account_id":7482021,"reputation":71,"user_id":5686495,"display_name":"Plijen"},"score":0,"creation_date":1681198444,"post_id":75958292,"comment_id":134013481,"body_markdown":"Ok perfect. I put as correct answer. Only one question happened to me during a test that the file ends with &#39;string&#39; because of rolling of file and this is not captured. Can it be managed?","body":"Ok perfect. I put as correct answer. Only one question happened to me during a test that the file ends with &#39;string&#39; because of rolling of file and this is not captured. Can it be managed?"},{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":1,"creation_date":1681198671,"post_id":75958292,"comment_id":134013520,"body_markdown":"You can try: `&#39;(.+?)&#39;\\h*(?:[,)\\]]|\\z)`","body":"You can try: <code>&#39;(.+?)&#39;\\h*(?:[,)\\]]|\\z)</code>"}],"tags":[],"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680974492,"creation_date":1680869549,"answer_id":75958292,"question_id":75958182,"body_markdown":"You may use this regex in Java and grab capture group #1 for your matches:\r\n\r\n```sh\r\n&#39;(.+?)&#39;\\h*[,)\\]]\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\n**RegEx Details:**\r\n\r\n- `&#39;`: Match opening `&#39;`\r\n- `(.+?)`: Match 1+ of any characters (lazy match)\r\n- `&#39;`: Match closing `&#39;`\r\n- `\\h*`: Match 0 or more whitespaces\r\n- `[,)\\]]`: Match comma or `)` or `]`\r\n\r\n\r\n  [1]: https://regex101.com/r/nuSdxc/2","title":"regex in java that takes text and numbers between superscripts when the second superscript is before a round or square bracket or a comma","body":"<p>You may use this regex in Java and grab capture group #1 for your matches:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>'(.+?)'\\h*[,)\\]]\n</code></pre>\n<p><a href=\"https://regex101.com/r/nuSdxc/2\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>RegEx Details:</strong></p>\n<ul>\n<li><code>'</code>: Match opening <code>'</code></li>\n<li><code>(.+?)</code>: Match 1+ of any characters (lazy match)</li>\n<li><code>'</code>: Match closing <code>'</code></li>\n<li><code>\\h*</code>: Match 0 or more whitespaces</li>\n<li><code>[,)\\]]</code>: Match comma or <code>)</code> or <code>]</code></li>\n</ul>\n"}],"owner":{"account_id":7482021,"reputation":71,"user_id":5686495,"display_name":"Plijen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75958292,"answer_count":1,"score":1,"last_activity_date":1680974492,"creation_date":1680868618,"question_id":75958182,"body_markdown":"I want a regex in java that takes the text between superscripts when the second superscript is before a round or square bracket or a comma\r\n\r\nThis is my attempt but it doesn&#39;t work\r\n\r\n    &#39;([^&#39;\\\\\\\\]*(?:\\\\\\\\.[^&#39;\\\\\\\\]*)*)\r\n\r\nThis is the test string\r\n \r\n\r\n&gt; `( $REC_REM$.cApplicationOrigin == &#39;---&#39; )&#160; ||&#160; (\r\n&gt; $REC_REM$.cApplicationOrigin in [&#39;AOL\r\n&gt; MOBILE&#39;,&#39;FASTWEB&#39;,&#39;POS.TE&#39;,&#39;SALES&#39;FORCE&#39;,&#39;13&#39;] )`\r\n\r\nI would like to get as results\r\n\r\n    ---\r\n    AOL\r\n    MOBILE\r\n    FASTWEB\r\n    POS.TE\r\n    SALES&#39;FORCE\r\n    13\r\n\r\nAny suggestions?\r\n\r\n","title":"regex in java that takes text and numbers between superscripts when the second superscript is before a round or square bracket or a comma","body":"<p>I want a regex in java that takes the text between superscripts when the second superscript is before a round or square bracket or a comma</p>\n<p>This is my attempt but it doesn't work</p>\n<pre><code>'([^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*)\n</code></pre>\n<p>This is the test string</p>\n<blockquote>\n<p><code>( $REC_REM$.cApplicationOrigin == '---' )  ||  ( $REC_REM$.cApplicationOrigin in ['AOL MOBILE','FASTWEB','POS.TE','SALES'FORCE','13'] )</code></p>\n</blockquote>\n<p>I would like to get as results</p>\n<pre><code>---\nAOL\nMOBILE\nFASTWEB\nPOS.TE\nSALES'FORCE\n13\n</code></pre>\n<p>Any suggestions?</p>\n"},{"tags":["java","runtime","classloader"],"comments":[{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1645263242,"post_id":71183604,"comment_id":125828116,"body_markdown":"Welcome to stackoverflow! You should provide a  MCVE – Minimal, Complete, and Verifiable example https://stackoverflow.com/help/minimal-reproducible-example \nOtherwise we can&#39;t help you.","body":"Welcome to stackoverflow! You should provide a  MCVE – Minimal, Complete, and Verifiable example <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>  Otherwise we can&#39;t help you."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1645263563,"post_id":71183604,"comment_id":125828173,"body_markdown":"@ThiloSchwarz – In general yes, but this question is clear without such an MCVE.","body":"@ThiloSchwarz – In general yes, but this question is clear without such an MCVE."}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650281396,"creation_date":1645264048,"answer_id":71183797,"question_id":71183604,"body_markdown":"You have to wrap that array of bytes into a `java.util.ByteArrayInputStream` and that in turn into a `java.util.jar.JarInputStream`.\r\n\r\nThe latter has methods to get one entry (most probably a class file, but also possible are some kinds of resources) after the other as an instance of `JarEntry`, and to read the bytes for each of that.\r\n\r\n```Java\r\nfinal var classes = new ArrayList&lt;byte[]&gt;();\r\ntry( final var inputStream = new JarInputStream( new ByteArrayInputStream( bytes ) ) )\r\n{\r\n  var entry = inputStream.getNextJarEntry();\r\n  while( nonNull( entry ) )\r\n  {\r\n    var buffer = new bytes [entry.getSize()];\r\n    inputStream.read( buffer, 0, entry.getSize() );\r\n    classes.add( buffer );\r\n    entry = inputStream.getNextJarEntry();\r\n  }\r\n}\r\n```\r\nOk, this is not tested, and of course there is none of the required  error handling, and perhaps you would prefer to store the class data in a map, with the class name as the key …\r\n\r\nHave fun!\r\n\r\n - [`ByteArrayInputStream`][1]\r\n  \r\n - [`JarInputStream`][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayInputStream.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/jar/JarInputStream.html","title":"Loading classes at runtime from JAR file bytes","body":"<p>You have to wrap that array of bytes into a <code>java.util.ByteArrayInputStream</code> and that in turn into a <code>java.util.jar.JarInputStream</code>.</p>\n<p>The latter has methods to get one entry (most probably a class file, but also possible are some kinds of resources) after the other as an instance of <code>JarEntry</code>, and to read the bytes for each of that.</p>\n<pre><code>final var classes = new ArrayList&lt;byte[]&gt;();\ntry( final var inputStream = new JarInputStream( new ByteArrayInputStream( bytes ) ) )\n{\n  var entry = inputStream.getNextJarEntry();\n  while( nonNull( entry ) )\n  {\n    var buffer = new bytes [entry.getSize()];\n    inputStream.read( buffer, 0, entry.getSize() );\n    classes.add( buffer );\n    entry = inputStream.getNextJarEntry();\n  }\n}\n</code></pre>\n<p>Ok, this is not tested, and of course there is none of the required  error handling, and perhaps you would prefer to store the class data in a map, with the class name as the key …</p>\n<p>Have fun!</p>\n<ul>\n<li><p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/ByteArrayInputStream.html\" rel=\"nofollow noreferrer\"><code>ByteArrayInputStream</code></a></p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/jar/JarInputStream.html\" rel=\"nofollow noreferrer\"><code>JarInputStream</code></a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":24266172,"reputation":17,"user_id":18251136,"display_name":"nonxis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71183797,"answer_count":1,"score":0,"last_activity_date":1680974141,"creation_date":1645262081,"question_id":71183604,"body_markdown":"I have byte array of a JAR file and I need to load all the JAR classes at runtime from these bytes.\\\r\nHow can I do this without converting JAR bytes to a file?","title":"Loading classes at runtime from JAR file bytes","body":"<p>I have byte array of a JAR file and I need to load all the JAR classes at runtime from these bytes.<br />\nHow can I do this without converting JAR bytes to a file?</p>\n"},{"tags":["java","java-8","minecraft","decompiling"],"comments":[{"owner":{"account_id":5208368,"reputation":6109,"user_id":4165552,"display_name":"pptaszni"},"score":0,"creation_date":1579187283,"post_id":59770793,"comment_id":105688741,"body_markdown":"Formatted the error output, changed the title, corrected tags","body":"Formatted the error output, changed the title, corrected tags"},{"owner":{"account_id":4867663,"reputation":1326,"user_id":3925319,"display_name":"Joe"},"score":3,"creation_date":1579187420,"post_id":59770793,"comment_id":105688831,"body_markdown":"Change the target version to 1.8 and run fernflower on java 8 not java 13","body":"Change the target version to 1.8 and run fernflower on java 8 not java 13"}],"answers":[{"tags":[],"owner":{"account_id":23333789,"reputation":16,"user_id":17409785,"display_name":"Whomaxiswell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636891097,"creation_date":1636891097,"answer_id":69962746,"question_id":59770793,"body_markdown":"Java 1.6 is not Supported for MCP 918 (1.8.8), Try installing Java 8 from this link:https://adoptopenjdk.net/?variant=openjdk8&amp;jvmVariant=hotspot","title":"Encountered an error during MCP 1.8.8 decompilation","body":"<p>Java 1.6 is not Supported for MCP 918 (1.8.8), Try installing Java 8 from this link:<a href=\"https://adoptopenjdk.net/?variant=openjdk8&amp;jvmVariant=hotspot\" rel=\"nofollow noreferrer\">https://adoptopenjdk.net/?variant=openjdk8&amp;jvmVariant=hotspot</a></p>\n"}],"owner":{"account_id":17542859,"reputation":33,"user_id":12724727,"display_name":"njust"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1179,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69962746,"answer_count":1,"score":0,"last_activity_date":1680973257,"creation_date":1579181569,"question_id":59770793,"body_markdown":"I got this error while trying to decompile MCP version 1.8.8\r\n\r\nmy source version is 1.6\\\r\nmy target version is 1.6\r\n\r\n```\r\n == MCP 9.18 (data: 9.18, client: 1.8.8, server: 1.8.8) ==\r\n\r\n ...\r\n\r\n == Decompiling client using fernflower ==\r\n\r\n ...\r\n\r\n &gt; Applying patches\r\n &#39;runtime\\bin\\applydiff.exe -p1 -u -i ..\\..\\temp\\temp.patch -d src\\minecraft&#39; failed : 1\r\n\r\n == ERRORS FOUND ==\r\n\r\n 1 out of 1 hunk FAILED -- saving rejects to file &#39;net\\minecraft\\util\\Cartesian.jav#&#39;\r\n ==================\r\n\r\n ...\r\n\r\n == ERRORS FOUND in JAVA CODE ==\r\n\r\n error: Source option 6 is no longer supported. Use 7 or later.\r\n error: Target option 6 is no longer supported. Use 7 or later.\r\n ==================\r\n```\r\n\r\nthanks!","title":"Encountered an error during MCP 1.8.8 decompilation","body":"<p>I got this error while trying to decompile MCP version 1.8.8</p>\n<p>my source version is 1.6<br />\nmy target version is 1.6</p>\n<pre><code> == MCP 9.18 (data: 9.18, client: 1.8.8, server: 1.8.8) ==\n\n ...\n\n == Decompiling client using fernflower ==\n\n ...\n\n &gt; Applying patches\n 'runtime\\bin\\applydiff.exe -p1 -u -i ..\\..\\temp\\temp.patch -d src\\minecraft' failed : 1\n\n == ERRORS FOUND ==\n\n 1 out of 1 hunk FAILED -- saving rejects to file 'net\\minecraft\\util\\Cartesian.jav#'\n ==================\n\n ...\n\n == ERRORS FOUND in JAVA CODE ==\n\n error: Source option 6 is no longer supported. Use 7 or later.\n error: Target option 6 is no longer supported. Use 7 or later.\n ==================\n</code></pre>\n<p>thanks!</p>\n"},{"tags":["java","datetime","hashmap","java-stream"],"answers":[{"tags":[],"owner":{"account_id":24364073,"reputation":94,"user_id":18298044,"display_name":"Krzysztof Strzała"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653998048,"creation_date":1653997398,"answer_id":72447170,"question_id":72446906,"body_markdown":"assuming that your dates are always in format \r\n\r\n    2022-01-01\r\nYou could try:\r\n\r\n   \r\n\r\n     var map = perDay.stream().collect(\r\n                      Collectors.groupingBy(monthMap -&gt; ((String) monthMap.get(&quot;DATE&quot;)).substring(0, 7),\r\n                      Collectors.summingInt(monthMap -&gt; Integer.parseInt(String.valueOf(monthMap.get(&quot;COUNT&quot;))))));\r\n\r\nReturns:\r\n\r\n    {2022-01=8, 2022-02=4}\r\n\r\n\r\n","title":"Obtain the Count per Month from the Count per Day using Java Streams and groupingBy()","body":"<p>assuming that your dates are always in format</p>\n<pre><code>2022-01-01\n</code></pre>\n<p>You could try:</p>\n<pre><code> var map = perDay.stream().collect(\n                  Collectors.groupingBy(monthMap -&gt; ((String) monthMap.get(&quot;DATE&quot;)).substring(0, 7),\n                  Collectors.summingInt(monthMap -&gt; Integer.parseInt(String.valueOf(monthMap.get(&quot;COUNT&quot;))))));\n</code></pre>\n<p>Returns:</p>\n<pre><code>{2022-01=8, 2022-02=4}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654009738,"creation_date":1654001403,"answer_id":72448116,"question_id":72446906,"body_markdown":"The approach you&#39;ve introduced is not maintainable and as a consequence prone to errors and code duplications, and also makes extension of the code harder.\r\n\r\nThese are the main issues:\r\n\r\n* Don&#39;t use `Object` as a generic type. Because a collection element of type `Object` worth nothing without casting. If you have no intention to write muddy code full of casts and `intanceof` checks, don&#39;t take this rode.\r\n\r\n* `Map` - is **not** the same thing as JSON-object (*I&#39;m not talking about classes from Java-libraries like Gson, they are map-based*), don&#39;t confuse a *way of structuring the human-readable text* with the implementation of the ***data structure***. \r\n\r\n* Keys like `&quot;DATE&quot;` and `&quot;COUNT&quot;` are useless - you can simply store the actual **date** and **count** instead.\r\n\r\n* Using `String` as a type for numbers and dates doesn&#39;t give you any advantage. There&#39;s nothing you can do with them (*apart from comparing and printing on the console*) without parsing, almost like with `Object`. Use an appropriate data type for every element. Why? Because `LocalDate`, `Integer`, `YearMonth` have their own unique behavior that `String` can&#39;t offer you.\r\n\r\nThat&#39;s how you can improve your code by tuning the collection representing *sales per day* `List&lt;Map&lt;String, Object&gt;&gt;` into a `Map&lt;LocalDate, Integer&gt;` which is way more handy:\r\n```\r\nMap&lt;LocalDate, Integer&gt; salesPerDay = perDay.stream()\r\n    .map(map -&gt; Map.entry(LocalDate.parse((String) map.get(&quot;DATE&quot;), DateTimeFormatter.ISO_DATE),\r\n                          Integer.parseInt((String) map.get(&quot;COUNT&quot;))))\r\n    .collect(Collectors.groupingBy(\r\n                Map.Entry::getKey,\r\n                Collectors.summingInt(Map.Entry::getValue)));\r\n```\r\nAnd that&#39;s how you can produce a map containing *sales per month* from it ([`YearMonth`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html) from the `java.time` package is used as a *key*):\r\n```\r\nMap&lt;YearMonth, Integer&gt; salesPerMonth = salesPerDay.entrySet().stream()\r\n    .collect(Collectors.groupingBy(\r\n                entry -&gt; YearMonth.from(entry.getKey()),\r\n                Collectors.summingInt(Map.Entry::getValue)));\r\n\r\nsalesPerMonth.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\n```\r\n*Output:*\r\n```\r\n2022-01 -&gt; 8\r\n2022-02 -&gt; 4\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/rE1)","title":"Obtain the Count per Month from the Count per Day using Java Streams and groupingBy()","body":"<p>The approach you've introduced is not maintainable and as a consequence prone to errors and code duplications, and also makes extension of the code harder.</p>\n<p>These are the main issues:</p>\n<ul>\n<li><p>Don't use <code>Object</code> as a generic type. Because a collection element of type <code>Object</code> worth nothing without casting. If you have no intention to write muddy code full of casts and <code>intanceof</code> checks, don't take this rode.</p>\n</li>\n<li><p><code>Map</code> - is <strong>not</strong> the same thing as JSON-object (<em>I'm not talking about classes from Java-libraries like Gson, they are map-based</em>), don't confuse a <em>way of structuring the human-readable text</em> with the implementation of the <em><strong>data structure</strong></em>.</p>\n</li>\n<li><p>Keys like <code>&quot;DATE&quot;</code> and <code>&quot;COUNT&quot;</code> are useless - you can simply store the actual <strong>date</strong> and <strong>count</strong> instead.</p>\n</li>\n<li><p>Using <code>String</code> as a type for numbers and dates doesn't give you any advantage. There's nothing you can do with them (<em>apart from comparing and printing on the console</em>) without parsing, almost like with <code>Object</code>. Use an appropriate data type for every element. Why? Because <code>LocalDate</code>, <code>Integer</code>, <code>YearMonth</code> have their own unique behavior that <code>String</code> can't offer you.</p>\n</li>\n</ul>\n<p>That's how you can improve your code by tuning the collection representing <em>sales per day</em> <code>List&lt;Map&lt;String, Object&gt;&gt;</code> into a <code>Map&lt;LocalDate, Integer&gt;</code> which is way more handy:</p>\n<pre><code>Map&lt;LocalDate, Integer&gt; salesPerDay = perDay.stream()\n    .map(map -&gt; Map.entry(LocalDate.parse((String) map.get(&quot;DATE&quot;), DateTimeFormatter.ISO_DATE),\n                          Integer.parseInt((String) map.get(&quot;COUNT&quot;))))\n    .collect(Collectors.groupingBy(\n                Map.Entry::getKey,\n                Collectors.summingInt(Map.Entry::getValue)));\n</code></pre>\n<p>And that's how you can produce a map containing <em>sales per month</em> from it (<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>YearMonth</code></a> from the <code>java.time</code> package is used as a <em>key</em>):</p>\n<pre><code>Map&lt;YearMonth, Integer&gt; salesPerMonth = salesPerDay.entrySet().stream()\n    .collect(Collectors.groupingBy(\n                entry -&gt; YearMonth.from(entry.getKey()),\n                Collectors.summingInt(Map.Entry::getValue)));\n\nsalesPerMonth.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>2022-01 -&gt; 8\n2022-02 -&gt; 4\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/rE1\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654082921,"creation_date":1654042729,"answer_id":72455286,"question_id":72446906,"body_markdown":"First, I would recommend against using a list of maps either for date sales, or for month sales.\r\n\r\nHere is your data.\r\n```\r\nMap&lt;String, Object&gt; jan1 = new HashMap&lt;&gt;();\r\njan1.put(&quot;DATE&quot;, &quot;2022-01-01&quot;);\r\njan1.put(&quot;COUNT&quot;, &quot;5&quot;);\r\nMap&lt;String, Object&gt; jan2 = new HashMap&lt;&gt;();\r\njan2.put(&quot;DATE&quot;, &quot;2022-01-02&quot;);\r\njan2.put(&quot;COUNT&quot;, &quot;3&quot;);\r\nMap&lt;String, Object&gt; feb1 = new HashMap&lt;&gt;();\r\nfeb1.put(&quot;DATE&quot;, &quot;2022-02-29&quot;);\r\nfeb1.put(&quot;COUNT&quot;, &quot;4&quot;);\r\nList&lt;Map&lt;String, Object&gt;&gt; perDay = List.of(jan1, jan2, feb1);\r\n```\r\nAnd here is how you would do it.\r\n- stream the maps\r\n- take the date and use only the year/month part\r\n- convert the count to an integer (so it can be summed)\r\n- and when duplicate keys are encountered, add the counts\r\n- note that this involves casting of values.\r\n```\r\nMap&lt;String, Integer&gt; map = perDay.stream()\r\n\t\t.collect(Collectors.toMap(\r\n\t\t\t\tmp -&gt; ((String) mp.get(&quot;DATE&quot;)).substring(0,\r\n\t\t\t\t\t\t7),\r\n\t\t\t\tmp -&gt; Integer\r\n\t\t\t\t\t\t.valueOf((String) mp.get(&quot;COUNT&quot;)),\r\n\t\t\t\tInteger::sum));\r\n```\r\n\r\nBut your initial `List&lt;Map&lt;String,Object&gt;&gt;` doesn&#39;t let you choose the date since there is no relationship to the DATE value of the map to the index of the list.  However, if you stored them as a `Map&lt;String,Integer&gt;`, you could then retrieve the count for any DATE using the consistent format of `yyyy-MM-dd`.  And the process would need no casts to work.\r\n```\r\nMap&lt;String, Integer&gt; perDay = new HashMap&lt;&gt;();\r\nperDay.put(&quot;2022-01-01&quot;, 5);\r\nperDay.put(&quot;2022-01-02&quot;, 3);\r\nperDay.put(&quot;2022-02-29&quot;, 4);\r\n```\r\nThis also makes it easier to convert to the month total sales as follows:\r\n- stream the `entrySets` for `perDay`\r\n- convert to a `Map&lt;String,Integer&gt;` for month and sales. Use substring to get just the year and month portion via `Entry.getKey()`. Note: this works only if your date format is consistent.\r\n- get the count from `Entry::getValue` using a method reference.\r\n- and for duplicate counts (same month, different days) sum them using Integer::sum\r\n```\r\n\r\nMap&lt;String, Integer&gt; monthSales = daySales.entrySet()\r\n\t\t.stream().collect(Collectors.toMap(e-&gt;e.getKey().substring(0,7),\r\n\t\t\t\t             Entry::getValue,\r\n\t\t\t\t             Integer::sum));\r\n\r\nmonthSales.entrySet().forEach(System.out::println);\r\n```\r\nprints\r\n```\r\n2022-01=8\r\n2022-02=4\r\n```\r\nAnd like before, you can get the monthly counts for any `yyyy-MM` key if it exists.\r\n\r\nSuggestions:\r\n- first and foremost, don&#39;t use `Object`.  Use a specific type, in your case Integer for the value.  Otherwise you will have to do casting which can lead to errors.\r\n\r\n- Consider using a class to Store related information.  A sales class could be used to store the Date and count as well as other information.\r\n    ```\r\n     class Sales {\r\n         private int count; \r\n         private String date;\r\n         // getters\r\n         // toString\r\n    }\r\n- For handling dates, look at the classes in the [java.time](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html) package.\r\n\t","title":"Obtain the Count per Month from the Count per Day using Java Streams and groupingBy()","body":"<p>First, I would recommend against using a list of maps either for date sales, or for month sales.</p>\n<p>Here is your data.</p>\n<pre><code>Map&lt;String, Object&gt; jan1 = new HashMap&lt;&gt;();\njan1.put(&quot;DATE&quot;, &quot;2022-01-01&quot;);\njan1.put(&quot;COUNT&quot;, &quot;5&quot;);\nMap&lt;String, Object&gt; jan2 = new HashMap&lt;&gt;();\njan2.put(&quot;DATE&quot;, &quot;2022-01-02&quot;);\njan2.put(&quot;COUNT&quot;, &quot;3&quot;);\nMap&lt;String, Object&gt; feb1 = new HashMap&lt;&gt;();\nfeb1.put(&quot;DATE&quot;, &quot;2022-02-29&quot;);\nfeb1.put(&quot;COUNT&quot;, &quot;4&quot;);\nList&lt;Map&lt;String, Object&gt;&gt; perDay = List.of(jan1, jan2, feb1);\n</code></pre>\n<p>And here is how you would do it.</p>\n<ul>\n<li>stream the maps</li>\n<li>take the date and use only the year/month part</li>\n<li>convert the count to an integer (so it can be summed)</li>\n<li>and when duplicate keys are encountered, add the counts</li>\n<li>note that this involves casting of values.</li>\n</ul>\n<pre><code>Map&lt;String, Integer&gt; map = perDay.stream()\n        .collect(Collectors.toMap(\n                mp -&gt; ((String) mp.get(&quot;DATE&quot;)).substring(0,\n                        7),\n                mp -&gt; Integer\n                        .valueOf((String) mp.get(&quot;COUNT&quot;)),\n                Integer::sum));\n</code></pre>\n<p>But your initial <code>List&lt;Map&lt;String,Object&gt;&gt;</code> doesn't let you choose the date since there is no relationship to the DATE value of the map to the index of the list.  However, if you stored them as a <code>Map&lt;String,Integer&gt;</code>, you could then retrieve the count for any DATE using the consistent format of <code>yyyy-MM-dd</code>.  And the process would need no casts to work.</p>\n<pre><code>Map&lt;String, Integer&gt; perDay = new HashMap&lt;&gt;();\nperDay.put(&quot;2022-01-01&quot;, 5);\nperDay.put(&quot;2022-01-02&quot;, 3);\nperDay.put(&quot;2022-02-29&quot;, 4);\n</code></pre>\n<p>This also makes it easier to convert to the month total sales as follows:</p>\n<ul>\n<li>stream the <code>entrySets</code> for <code>perDay</code></li>\n<li>convert to a <code>Map&lt;String,Integer&gt;</code> for month and sales. Use substring to get just the year and month portion via <code>Entry.getKey()</code>. Note: this works only if your date format is consistent.</li>\n<li>get the count from <code>Entry::getValue</code> using a method reference.</li>\n<li>and for duplicate counts (same month, different days) sum them using Integer::sum</li>\n</ul>\n<pre><code>\nMap&lt;String, Integer&gt; monthSales = daySales.entrySet()\n        .stream().collect(Collectors.toMap(e-&gt;e.getKey().substring(0,7),\n                             Entry::getValue,\n                             Integer::sum));\n\nmonthSales.entrySet().forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>2022-01=8\n2022-02=4\n</code></pre>\n<p>And like before, you can get the monthly counts for any <code>yyyy-MM</code> key if it exists.</p>\n<p>Suggestions:</p>\n<ul>\n<li><p>first and foremost, don't use <code>Object</code>.  Use a specific type, in your case Integer for the value.  Otherwise you will have to do casting which can lead to errors.</p>\n</li>\n<li><p>Consider using a class to Store related information.  A sales class could be used to store the Date and count as well as other information.</p>\n<pre><code> class Sales {\n     private int count; \n     private String date;\n     // getters\n     // toString\n}\n</code></pre>\n</li>\n<li><p>For handling dates, look at the classes in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":1707831,"reputation":1627,"user_id":1566537,"accept_rate":82,"display_name":"Bernie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72447170,"answer_count":3,"score":0,"last_activity_date":1680973128,"creation_date":1653996188,"question_id":72446906,"body_markdown":"I want to transform a list with *per-day* sales (whatever, doesn&#39;t matter) into a list of *per-month* sales.\r\n\r\nSo I have a `List&lt;Map&lt;String, Object&gt;&gt;` `perDay`, which contains these daily values:\r\n\r\n    [{DATE=2022-01-01, COUNT=5}, {DATE=2022-01-02, COUNT=3}, {DATE=2022-02-29, COUNT=4}]\r\n\r\nThese values should be gathered into monthly values, like that:\r\n\r\n    [{DATE=2022-01, COUNT=8}, {DATE=2022-02, COUNT=4}]\r\n\r\nI want to use `groupingBy()` method with streams.\r\n\r\nHere&#39;s my code:\r\n\r\n        Map&lt;String, Object&gt; jan1 = new HashMap&lt;&gt;();\r\n        jan1.put(&quot;DATE&quot;, &quot;2022-01-01&quot;); jan1.put(&quot;COUNT&quot;, &quot;5&quot;);\r\n        Map&lt;String, Object&gt; jan2 = new HashMap&lt;&gt;();\r\n        jan2.put(&quot;DATE&quot;, &quot;2022-01-02&quot;); jan2.put(&quot;COUNT&quot;, &quot;3&quot;);\r\n        Map&lt;String, Object&gt; feb1 = new HashMap&lt;&gt;();\r\n        feb1.put(&quot;DATE&quot;, &quot;2022-02-29&quot;); feb1.put(&quot;COUNT&quot;, &quot;4&quot;);\r\n        List&lt;Map&lt;String, Object&gt;&gt; perDay = List.of(jan1, jan2, feb1);\r\n    \r\n    Map&lt;String, Object&gt; perMonth = perDay.stream()\r\n            .collect(Collectors.groupingBy(&quot;???&quot;, \r\n                        Collectors.summingInt(f -&gt; Integer.parseInt((String) f))));\r\n\r\n\r\nI guess, I&#39;m close, but I&#39;m not quite there yet.\r\n\r\nAny ideas?","title":"Obtain the Count per Month from the Count per Day using Java Streams and groupingBy()","body":"<p>I want to transform a list with <em>per-day</em> sales (whatever, doesn't matter) into a list of <em>per-month</em> sales.</p>\n<p>So I have a <code>List&lt;Map&lt;String, Object&gt;&gt;</code> <code>perDay</code>, which contains these daily values:</p>\n<pre><code>[{DATE=2022-01-01, COUNT=5}, {DATE=2022-01-02, COUNT=3}, {DATE=2022-02-29, COUNT=4}]\n</code></pre>\n<p>These values should be gathered into monthly values, like that:</p>\n<pre><code>[{DATE=2022-01, COUNT=8}, {DATE=2022-02, COUNT=4}]\n</code></pre>\n<p>I want to use <code>groupingBy()</code> method with streams.</p>\n<p>Here's my code:</p>\n<pre><code>    Map&lt;String, Object&gt; jan1 = new HashMap&lt;&gt;();\n    jan1.put(&quot;DATE&quot;, &quot;2022-01-01&quot;); jan1.put(&quot;COUNT&quot;, &quot;5&quot;);\n    Map&lt;String, Object&gt; jan2 = new HashMap&lt;&gt;();\n    jan2.put(&quot;DATE&quot;, &quot;2022-01-02&quot;); jan2.put(&quot;COUNT&quot;, &quot;3&quot;);\n    Map&lt;String, Object&gt; feb1 = new HashMap&lt;&gt;();\n    feb1.put(&quot;DATE&quot;, &quot;2022-02-29&quot;); feb1.put(&quot;COUNT&quot;, &quot;4&quot;);\n    List&lt;Map&lt;String, Object&gt;&gt; perDay = List.of(jan1, jan2, feb1);\n\nMap&lt;String, Object&gt; perMonth = perDay.stream()\n        .collect(Collectors.groupingBy(&quot;???&quot;, \n                    Collectors.summingInt(f -&gt; Integer.parseInt((String) f))));\n</code></pre>\n<p>I guess, I'm close, but I'm not quite there yet.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","debugging","compilation","bouncycastle","jce"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":3,"creation_date":1545228621,"post_id":53851339,"comment_id":94553343,"body_markdown":"Fortunately bouncycastle already builds a debug version of their providers *and* gets them signed so they can be used as a drop-in replacement. On the [Latest Releases](https://www.bouncycastle.org/latest_releases.html) look for &quot;providers with debug&quot;.","body":"Fortunately bouncycastle already builds a debug version of their providers <i>and</i> gets them signed so they can be used as a drop-in replacement. On the <a href=\"https://www.bouncycastle.org/latest_releases.html\" rel=\"nofollow noreferrer\">Latest Releases</a> look for &quot;providers with debug&quot;."},{"owner":{"account_id":12920498,"reputation":5024,"user_id":9343156,"display_name":"whme"},"score":0,"creation_date":1545296615,"post_id":53851339,"comment_id":94578076,"body_markdown":"@JamesKPolk you are a genius thank you so much! As this solved my problem but did not entirely answer the question should I keep the question still open or close it ? (hope you got what I mean xD)","body":"@JamesKPolk you are a genius thank you so much! As this solved my problem but did not entirely answer the question should I keep the question still open or close it ? (hope you got what I mean xD)"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1545310440,"post_id":53851339,"comment_id":94585152,"body_markdown":"You can leave the question open because the general question is still valid. However, it&#39;s possible the question would get better answers (or maybe is already answered!) at the still-beta [Reverse Engineering](https://reverseengineering.stackexchange.com/) site.","body":"You can leave the question open because the general question is still valid. However, it&#39;s possible the question would get better answers (or maybe is already answered!) at the still-beta <a href=\"https://reverseengineering.stackexchange.com/\">Reverse Engineering</a> site."},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1650046650,"post_id":53851339,"comment_id":127031624,"body_markdown":"it would be valuable if someone could share their gotchas about issues like that.. e.g. I am searching how to debug code within bctls library that is still not provided with debug information, unlike bcprov.. and the build process is not trivial at all...","body":"it would be valuable if someone could share their gotchas about issues like that.. e.g. I am searching how to debug code within bctls library that is still not provided with debug information, unlike bcprov.. and the build process is not trivial at all..."},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1650189952,"post_id":53851339,"comment_id":127054261,"body_markdown":"build IS trivial after all, if you compile code with Java 8 - the end built JAR file seems to work with Java 6 and can be stepped through","body":"build IS trivial after all, if you compile code with Java 8 - the end built JAR file seems to work with Java 6 and can be stepped through"}],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680972904,"creation_date":1680972904,"answer_id":75966531,"question_id":53851339,"body_markdown":"According https://stackoverflow.com/a/57994114/1759063  to used debug libraries:\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n        &lt;version&gt;${bouncycastle.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bcprov-debug-jdk15on&lt;/artifactId&gt;\r\n        &lt;version&gt;${bouncycastle.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to debug code without debug information?","body":"<p>According <a href=\"https://stackoverflow.com/a/57994114/1759063\">https://stackoverflow.com/a/57994114/1759063</a>  to used debug libraries:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n    &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n    &lt;version&gt;${bouncycastle.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n    &lt;artifactId&gt;bcprov-debug-jdk15on&lt;/artifactId&gt;\n    &lt;version&gt;${bouncycastle.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":12920498,"reputation":5024,"user_id":9343156,"display_name":"whme"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":935,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680972904,"creation_date":1545222722,"question_id":53851339,"body_markdown":"I come across unintended behavior while using the BouncyCastle Provider with the JCE. \r\n\r\nI thus want to see whats happening inside and have to debug the code of the BouncyCastle Library. Sadly the classes I have to take a look into (XMSSMTKeyFactorySpi) seem to be [compiled without debugging information][1] as both the local variable info and line numbers are missing.\r\n\r\nI already thought of building it myself and including the debug information, however this does not work as the BouncyCastle provider is a Security provider for the JCE and has to be signed in order to be used with JCE. (Which I have to do as the error only occurs when using BC with JCE)\r\n\r\nSo **how can I debug the code in question without debugging information being included to the .class?**\r\n\r\nIs there even a way of doing so? \r\n\r\nOne solution would be to rebuild the BC provider and send it to Oracle to get signed as described [here][2], but I kinda don&#39;t want to do this. At least not if there is another way.\r\n\r\n\r\n----------\r\n\r\nEdit: to debug the BC Provider code one can simply take one from [Providers with debug][3], thank you @JamesKPolk\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1872491/why-are-some-java-libraries-compiled-without-debugging-information\r\n  [2]: https://stackoverflow.com/a/1757186/9343156\r\n  [3]: https://www.bouncycastle.org/latest_releases.html","title":"How to debug code without debug information?","body":"<p>I come across unintended behavior while using the BouncyCastle Provider with the JCE. </p>\n\n<p>I thus want to see whats happening inside and have to debug the code of the BouncyCastle Library. Sadly the classes I have to take a look into (XMSSMTKeyFactorySpi) seem to be <a href=\"https://stackoverflow.com/questions/1872491/why-are-some-java-libraries-compiled-without-debugging-information\">compiled without debugging information</a> as both the local variable info and line numbers are missing.</p>\n\n<p>I already thought of building it myself and including the debug information, however this does not work as the BouncyCastle provider is a Security provider for the JCE and has to be signed in order to be used with JCE. (Which I have to do as the error only occurs when using BC with JCE)</p>\n\n<p>So <strong>how can I debug the code in question without debugging information being included to the .class?</strong></p>\n\n<p>Is there even a way of doing so? </p>\n\n<p>One solution would be to rebuild the BC provider and send it to Oracle to get signed as described <a href=\"https://stackoverflow.com/a/1757186/9343156\">here</a>, but I kinda don't want to do this. At least not if there is another way.</p>\n\n<hr>\n\n<p>Edit: to debug the BC Provider code one can simply take one from <a href=\"https://www.bouncycastle.org/latest_releases.html\" rel=\"nofollow noreferrer\">Providers with debug</a>, thank you @JamesKPolk</p>\n"},{"tags":["java","nullpointerexception","scriptengine"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1680974204,"post_id":75966488,"comment_id":133986144,"body_markdown":"Not my area of expertise, but perhaps this is related: [*Use Javascript scripting engine in Java 17*](https://stackoverflow.com/q/71481562/642706)","body":"Not my area of expertise, but perhaps this is related: <a href=\"https://stackoverflow.com/q/71481562/642706\"><i>Use Javascript scripting engine in Java 17</i></a>"}],"owner":{"account_id":25039877,"reputation":1,"user_id":18896866,"display_name":"joao vitor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680972450,"creation_date":1680972450,"question_id":75966488,"body_markdown":"So, I have this code:\r\n\r\n    ScriptEngineManager mgr = new ScriptEngineManager(null);\r\n    ScriptEngine engine = mgr.getEngineByExtension(&quot;js&quot;);\r\n    System.out.println(engine.eval(e));\r\n\r\nwhere the string e is a mathematical equation. \r\n\r\nThe problem here is that I always get a NullPointerException from the ScriptEngine. \r\n\r\nI tried to change the &quot;js&quot; extension to &quot;JavaScript&quot;, &quot;javascript&quot; and &quot;rhino&quot; but nothing seems to work. I also could use the java.math module, but it&#39;d be great if I could make this work. Thanks in advance!","title":"ScriptEngine is always null","body":"<p>So, I have this code:</p>\n<pre><code>ScriptEngineManager mgr = new ScriptEngineManager(null);\nScriptEngine engine = mgr.getEngineByExtension(&quot;js&quot;);\nSystem.out.println(engine.eval(e));\n</code></pre>\n<p>where the string e is a mathematical equation.</p>\n<p>The problem here is that I always get a NullPointerException from the ScriptEngine.</p>\n<p>I tried to change the &quot;js&quot; extension to &quot;JavaScript&quot;, &quot;javascript&quot; and &quot;rhino&quot; but nothing seems to work. I also could use the java.math module, but it'd be great if I could make this work. Thanks in advance!</p>\n"},{"tags":["java","maven","intellij-idea","intellij-lombok-plugin"],"comments":[{"owner":{"account_id":5946494,"reputation":505,"user_id":4675841,"accept_rate":44,"display_name":"Jens"},"score":0,"creation_date":1680959481,"post_id":75965328,"comment_id":133984140,"body_markdown":"Have you done reload? What I already do with broken dependencies in IntelliJ is: mvn clean install -U (in the maven tab), maven reload (in the maven tab) and sometimes even a rebuild (from the menu). Also restart of IntelliJ and repeat all those steps.","body":"Have you done reload? What I already do with broken dependencies in IntelliJ is: mvn clean install -U (in the maven tab), maven reload (in the maven tab) and sometimes even a rebuild (from the menu). Also restart of IntelliJ and repeat all those steps."},{"owner":{"account_id":27826790,"reputation":19,"user_id":21246050,"display_name":"ncisco3200"},"score":0,"creation_date":1680960421,"post_id":75965328,"comment_id":133984261,"body_markdown":"I&#39;m unable to clean or install through the maven tab within IntelliJ (error [FATAL] Non-resolvable parent POM for..), but I am able to do this through git bash (results in build success). This is because my settings.xml file is configured so no errors but my settings.xml file and path is disclosed within IntelliJ...","body":"I&#39;m unable to clean or install through the maven tab within IntelliJ (error [FATAL] Non-resolvable parent POM for..), but I am able to do this through git bash (results in build success). This is because my settings.xml file is configured so no errors but my settings.xml file and path is disclosed within IntelliJ..."}],"answers":[{"comments":[{"owner":{"account_id":27826790,"reputation":19,"user_id":21246050,"display_name":"ncisco3200"},"score":0,"creation_date":1680959334,"post_id":75965385,"comment_id":133984118,"body_markdown":"I have both these checked already but am still getting java: package lombok.extern.sl.. does not exist.  and &quot;cannot resolve symbol..&quot;","body":"I have both these checked already but am still getting java: package lombok.extern.sl.. does not exist.  and &quot;cannot resolve symbol..&quot;"},{"owner":{"account_id":1753863,"reputation":168,"user_id":1602334,"display_name":"Amila"},"score":0,"creation_date":1680959482,"post_id":75965385,"comment_id":133984142,"body_markdown":"have you tried invalidating IntelliJ&#39;s cache and restarting","body":"have you tried invalidating IntelliJ&#39;s cache and restarting"}],"tags":[],"owner":{"account_id":1753863,"reputation":168,"user_id":1602334,"display_name":"Amila"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680959176,"creation_date":1680959176,"answer_id":75965385,"question_id":75965328,"body_markdown":"Check if the Lombok annotation processing is enabled in the IntelliJ compiler settings. Go to Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Annotation Processors, and make sure that &quot;Enable annotation processing&quot; is checked, and that &quot;Obtain processors from project classpath&quot; is selected.","title":"Downloaded Maven Dependencies (BUILD SUCCESS) But Can&#39;t Resolve Lombok In IntelliJ","body":"<p>Check if the Lombok annotation processing is enabled in the IntelliJ compiler settings. Go to Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Annotation Processors, and make sure that &quot;Enable annotation processing&quot; is checked, and that &quot;Obtain processors from project classpath&quot; is selected.</p>\n"},{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680963436,"creation_date":1680963436,"answer_id":75965744,"question_id":75965328,"body_markdown":"Please add following dependency to pom.xml\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;version&gt;1.18.26&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Downloaded Maven Dependencies (BUILD SUCCESS) But Can&#39;t Resolve Lombok In IntelliJ","body":"<p>Please add following dependency to pom.xml</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n  &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n  &lt;version&gt;1.18.26&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":27826790,"reputation":19,"user_id":21246050,"display_name":"ncisco3200"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680972202,"creation_date":1680958485,"question_id":75965328,"body_markdown":"My project builds successfully with `mvn clean install -U`, but when building the same project in IntelliJ I get `java: package lombok.extern.sl.. does not exist`. I have the lombok plugin installed but it can&#39;t recognize it. When trying to run test cases by hovering over the class, I see `cannot resolve symbol...` How do I get IntelliJ to build my project? \r\n","title":"Downloaded Maven Dependencies (BUILD SUCCESS) But Can&#39;t Resolve Lombok In IntelliJ","body":"<p>My project builds successfully with <code>mvn clean install -U</code>, but when building the same project in IntelliJ I get <code>java: package lombok.extern.sl.. does not exist</code>. I have the lombok plugin installed but it can't recognize it. When trying to run test cases by hovering over the class, I see <code>cannot resolve symbol...</code> How do I get IntelliJ to build my project?</p>\n"},{"tags":["java","video-streaming","netty"],"owner":{"account_id":17542859,"reputation":33,"user_id":12724727,"display_name":"njust"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680972150,"creation_date":1680940545,"question_id":75963992,"body_markdown":"I&#39;m trying to do a live video stream using Netty TCP.\r\nBut I found only HTTP/WEB video streams on Netty, it&#39;s all too complicated and I can&#39;t figure out what exactly I need to do.\r\n\r\nMy network has a packet system, and from what I understand, I have to send updated pixels of the previous frame in each packet. I&#39;ve tried the Xuggler library but I haven&#39;t found any guides on how to do a live stream on it via Netty TCP.\r\n\r\nI&#39;ve tried to make code that get the updated pixels out of the image but it uses too much CPU time and takes too long to execute per frame.\r\n\r\nMy code (image resolution is 1920x1080 and it takes 20ms to execute)\r\n\r\n```java\r\nBufferedImage lastFrame, newFrame;\r\n...\r\n\r\nlong time = System.currentTimeMillis();\r\n\r\nint[][] updatedPixels = new int[newFrame.getHeight()][newFrame.getWidth()];\r\nint[] pixels = newFrame.getRGB(0, 0, newFrame.getWidth(), newFrame.getHeight(), null, 0, newFrame.getWidth());\r\nint index = 0, count = 0;\r\n\r\nfor (int i = 0; i &lt; newFrame.getHeight(); i++) {\r\n  for (int j = 0; j &lt; newFrame.getWidth(); j++) {\r\n    int rgb = pixels[index++];\r\n    if (rgb != lastFrame.getRGB(j, i)) {\r\n      updatedPixels[i][j] = rgb;\r\n      count++;\r\n    }\r\n  }\r\n}\r\n\r\nSystem.out.println(&quot;Total pixels changed: &quot; + count + &quot; | Exec time: &quot; + (System.currentTimeMillis() - time) + &quot;ms&quot;);\r\n```\r\n\r\nI need to optimize getting updated pixels from image or a library that encodes and decodes images like in my code.\r\n\r\nSomething like the following (pseudocode):\r\n\r\n```java\r\nbyte[] changedPixels = VideoLibrary.encode(prevFrame, newFrame);\r\nBufferedImage image = VideoLibrary.decode(prevFrame, changedPixels)\r\n```","title":"Netty TCP real-time video stream","body":"<p>I'm trying to do a live video stream using Netty TCP.\nBut I found only HTTP/WEB video streams on Netty, it's all too complicated and I can't figure out what exactly I need to do.</p>\n<p>My network has a packet system, and from what I understand, I have to send updated pixels of the previous frame in each packet. I've tried the Xuggler library but I haven't found any guides on how to do a live stream on it via Netty TCP.</p>\n<p>I've tried to make code that get the updated pixels out of the image but it uses too much CPU time and takes too long to execute per frame.</p>\n<p>My code (image resolution is 1920x1080 and it takes 20ms to execute)</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage lastFrame, newFrame;\n...\n\nlong time = System.currentTimeMillis();\n\nint[][] updatedPixels = new int[newFrame.getHeight()][newFrame.getWidth()];\nint[] pixels = newFrame.getRGB(0, 0, newFrame.getWidth(), newFrame.getHeight(), null, 0, newFrame.getWidth());\nint index = 0, count = 0;\n\nfor (int i = 0; i &lt; newFrame.getHeight(); i++) {\n  for (int j = 0; j &lt; newFrame.getWidth(); j++) {\n    int rgb = pixels[index++];\n    if (rgb != lastFrame.getRGB(j, i)) {\n      updatedPixels[i][j] = rgb;\n      count++;\n    }\n  }\n}\n\nSystem.out.println(&quot;Total pixels changed: &quot; + count + &quot; | Exec time: &quot; + (System.currentTimeMillis() - time) + &quot;ms&quot;);\n</code></pre>\n<p>I need to optimize getting updated pixels from image or a library that encodes and decodes images like in my code.</p>\n<p>Something like the following (pseudocode):</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] changedPixels = VideoLibrary.encode(prevFrame, newFrame);\nBufferedImage image = VideoLibrary.decode(prevFrame, changedPixels)\n</code></pre>\n"},{"tags":["java","algorithm","recursion","data-structures"],"comments":[{"owner":{"account_id":5809836,"reputation":33195,"user_id":4581301,"display_name":"user4581301"},"score":1,"creation_date":1680635599,"post_id":75932989,"comment_id":133930904,"body_markdown":"That C++ tag was just attracting the wrong kind of attention so I removed it. OK. Somehow someone else removed it. Dueling edits, I guess.","body":"That C++ tag was just attracting the wrong kind of attention so I removed it. OK. Somehow someone else removed it. Dueling edits, I guess."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1680696313,"post_id":75932989,"comment_id":133941039,"body_markdown":"`current` is always empty.  Instead of merging results from `generateNonDuplicate`, you should pass in a destination list that it adds to.  Note: I see in comments that you don&#39;t want to hear about any better algorithms, but this algorithm takes a horribly long time.  I won&#39;t provide a fix in an answer, because I couldn&#39;t bear to have my name underneath it.","body":"<code>current</code> is always empty.  Instead of merging results from <code>generateNonDuplicate</code>, you should pass in a destination list that it adds to.  Note: I see in comments that you don&#39;t want to hear about any better algorithms, but this algorithm takes a horribly long time.  I won&#39;t provide a fix in an answer, because I couldn&#39;t bear to have my name underneath it."}],"answers":[{"comments":[{"owner":{"account_id":28215855,"reputation":41,"user_id":21567385,"display_name":"my_neme_eh_jeff n"},"score":0,"creation_date":1680640170,"post_id":75933121,"comment_id":133931931,"body_markdown":"I did google search and saw this solution. They have used a hashset which I am not familiar with. I wanted to see how I can proceed with my own code and not change the code completely to something that works but I dont understand","body":"I did google search and saw this solution. They have used a hashset which I am not familiar with. I wanted to see how I can proceed with my own code and not change the code completely to something that works but I dont understand"},{"owner":{"account_id":19078257,"reputation":94,"user_id":13931072,"display_name":"Cryptolis"},"score":0,"creation_date":1680970402,"post_id":75933121,"comment_id":133985633,"body_markdown":"@my_neme_eh_jeffn a hashset is a structure that only stores unique elements. For example if your set has {1,2,3} in it and you add 3 than you will still have {1,2,3}. Your solution will take long as hell, but I will try to provide a fix for it.","body":"@my_neme_eh_jeffn a hashset is a structure that only stores unique elements. For example if your set has {1,2,3} in it and you add 3 than you will still have {1,2,3}. Your solution will take long as hell, but I will try to provide a fix for it."}],"tags":[],"owner":{"account_id":19078257,"reputation":94,"user_id":13931072,"display_name":"Cryptolis"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680636329,"creation_date":1680636329,"answer_id":75933121,"question_id":75932989,"body_markdown":"You could have gotten this with a simple Google search. Here is a naive solution, from GeeksforGeeks. Find more solutions on this link: https://www.geeksforgeeks.org/count-distinct-subsequences/\r\n\r\n    // java program to print distinct\r\n    // subsequences of a given string\r\n    import java.io.*;\r\n    import java.lang.Math;\r\n    import java.util.*;\r\n    \r\n    class GFG {\r\n    \t// Function for generating the subsequences\r\n    \tpublic static void subsequences(Set&lt;String&gt; sn,\r\n    \t\t\t\t\t\t\t\t\tchar[] s, char[] op,\r\n    \t\t\t\t\t\t\t\t\tint i, int j, int n)\r\n    \t{\r\n    \t\t// Base Case\r\n    \t\tif (i == n) {\r\n    \t\t\top[j] = &#39;\\0&#39;;\r\n    \r\n    \t\t\t// Insert each generated\r\n    \t\t\t// subsequence into the set\r\n    \t\t\tsn.add(String.valueOf(op));\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\t// Recursive Case\r\n    \t\telse {\r\n    \t\t\t// When a particular character is taken\r\n    \t\t\top[j] = s[i];\r\n    \t\t\tsubsequences(sn, s, op, i + 1, j + 1, n);\r\n    \r\n    \t\t\t// When a particular character isn&#39;t taken\r\n    \t\t\tsubsequences(sn, s, op, i + 1, j, n);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tchar[] str = { &#39;g&#39;, &#39;g&#39;, &#39;g&#39; };\r\n    \t\tint m = str.length;\r\n    \t\tint n = (int)Math.pow(2, m) + 1;\r\n    \r\n    \t\t// Create an empty set to store the subsequences\r\n    \t\tSet&lt;String&gt; sn = new HashSet&lt;String&gt;();\r\n    \r\n    \t\t// Output array for storing\r\n    \t\t// the generating subsequences\r\n    \t\t// in each call\r\n    \t\tchar[] op = new char[m + 1]; // extra one for having\r\n    \t\t\t\t\t\t\t\t\t// \\0 at the end\r\n    \r\n    \t\t// Function Call\r\n    \t\tsubsequences(sn, str, op, 0, 0, m);\r\n    \r\n    \t\t// Output will be the number\r\n    \t\t// of elements in the set\r\n    \t\tSystem.out.println(sn.size());\r\n    \t\tsn.clear();\r\n    \r\n    \t\t// This code is contributed by Aditya Sharma\r\n    \t}\r\n    }\r\n\r\n","title":"Generating all non-duplicate subsequences with a string that has repeated characters","body":"<p>You could have gotten this with a simple Google search. Here is a naive solution, from GeeksforGeeks. Find more solutions on this link: <a href=\"https://www.geeksforgeeks.org/count-distinct-subsequences/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/count-distinct-subsequences/</a></p>\n<pre><code>// java program to print distinct\n// subsequences of a given string\nimport java.io.*;\nimport java.lang.Math;\nimport java.util.*;\n\nclass GFG {\n    // Function for generating the subsequences\n    public static void subsequences(Set&lt;String&gt; sn,\n                                    char[] s, char[] op,\n                                    int i, int j, int n)\n    {\n        // Base Case\n        if (i == n) {\n            op[j] = '\\0';\n\n            // Insert each generated\n            // subsequence into the set\n            sn.add(String.valueOf(op));\n            return;\n        }\n\n        // Recursive Case\n        else {\n            // When a particular character is taken\n            op[j] = s[i];\n            subsequences(sn, s, op, i + 1, j + 1, n);\n\n            // When a particular character isn't taken\n            subsequences(sn, s, op, i + 1, j, n);\n            return;\n        }\n    }\n\n    public static void main(String[] args)\n    {\n        char[] str = { 'g', 'g', 'g' };\n        int m = str.length;\n        int n = (int)Math.pow(2, m) + 1;\n\n        // Create an empty set to store the subsequences\n        Set&lt;String&gt; sn = new HashSet&lt;String&gt;();\n\n        // Output array for storing\n        // the generating subsequences\n        // in each call\n        char[] op = new char[m + 1]; // extra one for having\n                                    // \\0 at the end\n\n        // Function Call\n        subsequences(sn, str, op, 0, 0, m);\n\n        // Output will be the number\n        // of elements in the set\n        System.out.println(sn.size());\n        sn.clear();\n\n        // This code is contributed by Aditya Sharma\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19078257,"reputation":94,"user_id":13931072,"display_name":"Cryptolis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680971542,"creation_date":1680971542,"answer_id":75966421,"question_id":75932989,"body_markdown":"Going for it with a 2nd try. I wasn&#39;t able to fix your solution, but if you want to give with a similar approach 2 solutions would be:\r\n\r\n1. Go with the original solution and just remove the duplicates at the end. You can do this by putting the solution to a set:\r\n\r\n    HashSet&lt;String&gt; a = new HashSet&lt;&gt;(generate(&quot;&quot;, &quot;aabc&quot;));\r\n\r\nResult:\r\n\r\n    [aa, , ab, a, bc, aac, ac, b, aab, abc, c, aabc]\r\n\r\nIf you really want to use a recursive solution with O(2^N) complexity, than here is a similar solution from [GFG](https://www.geeksforgeeks.org/generate-all-distinct-subsequences-of-array-using-backtracking/):\r\n\r\n    // Java program to implement\r\n    // the above approach\r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    class GFG{\r\n    \t\r\n    // Function to generate all distinct\r\n    // subsequences of the array using backtracking\r\n    public static void backtrack(ArrayList&lt;Integer&gt; nums,\r\n    \t\t\t\t\t\t\tint start,\r\n    \t\t\t\t\t\t\tArrayList&lt;Integer&gt; curr_set)\r\n    {\r\n    \tSystem.out.print(curr_set + &quot; &quot;);\r\n    \r\n    \tfor(int i = start; i &lt; nums.size(); i++)\r\n    \t{\r\n    \t\t\r\n    \t\t// If the current element is repeating\r\n    \t\tif (i &gt; start &amp;&amp;\r\n    \t\t\tnums.get(i) == nums.get(i - 1))\r\n    \t\t{\r\n    \t\t\tcontinue;\r\n    \t\t}\r\n    \r\n    \t\t// Include current element\r\n    \t\t// into the subsequence\r\n    \t\tcurr_set.add(nums.get(i));\r\n    \r\n    \t\t// Proceed to the remaining array\r\n    \t\t// to generate subsequences\r\n    \t\t// including current array element\r\n    \t\tbacktrack(nums, i + 1, curr_set);\r\n    \r\n    \t\t// Remove current element\r\n    \t\t// from the subsequence\r\n    \t\tcurr_set.remove(curr_set.size() - 1);\r\n    \t}\r\n    }\r\n    \r\n    // Function to sort the array and generate\r\n    // subsequences using Backtracking\r\n    public static void AllSubsets(ArrayList&lt;Integer&gt; nums)\r\n    {\r\n    \r\n    \t// Stores the current\r\n    \t// subsequence\r\n    \tArrayList&lt;Integer&gt; curr_set = new ArrayList&lt;&gt;();\r\n    \r\n    \t// Sort the vector\r\n    \tCollections.sort(nums);\r\n    \r\n    \t// Backtrack function to\r\n    \t// generate subsequences\r\n    \tbacktrack(nums, 0, curr_set);\r\n    }\r\n    \r\n    // Driver Code\r\n    public static void main(String[] args)\r\n    {\r\n    \tArrayList&lt;Integer&gt; v = new ArrayList&lt;&gt;();\r\n    \tv.add(1);\r\n    \tv.add(2);\r\n    \tv.add(2);\r\n    \t\r\n    \t// Function call\r\n    \tAllSubsets(v);\r\n    }\r\n    }\r\n    \r\n    // This code is contributed by hemanthswarna1506\r\n\r\n","title":"Generating all non-duplicate subsequences with a string that has repeated characters","body":"<p>Going for it with a 2nd try. I wasn't able to fix your solution, but if you want to give with a similar approach 2 solutions would be:</p>\n<ol>\n<li><p>Go with the original solution and just remove the duplicates at the end. You can do this by putting the solution to a set:</p>\n<p>HashSet a = new HashSet&lt;&gt;(generate(&quot;&quot;, &quot;aabc&quot;));</p>\n</li>\n</ol>\n<p>Result:</p>\n<pre><code>[aa, , ab, a, bc, aac, ac, b, aab, abc, c, aabc]\n</code></pre>\n<p>If you really want to use a recursive solution with O(2^N) complexity, than here is a similar solution from <a href=\"https://www.geeksforgeeks.org/generate-all-distinct-subsequences-of-array-using-backtracking/\" rel=\"nofollow noreferrer\">GFG</a>:</p>\n<pre><code>// Java program to implement\n// the above approach\nimport java.io.*;\nimport java.util.*;\n\nclass GFG{\n    \n// Function to generate all distinct\n// subsequences of the array using backtracking\npublic static void backtrack(ArrayList&lt;Integer&gt; nums,\n                            int start,\n                            ArrayList&lt;Integer&gt; curr_set)\n{\n    System.out.print(curr_set + &quot; &quot;);\n\n    for(int i = start; i &lt; nums.size(); i++)\n    {\n        \n        // If the current element is repeating\n        if (i &gt; start &amp;&amp;\n            nums.get(i) == nums.get(i - 1))\n        {\n            continue;\n        }\n\n        // Include current element\n        // into the subsequence\n        curr_set.add(nums.get(i));\n\n        // Proceed to the remaining array\n        // to generate subsequences\n        // including current array element\n        backtrack(nums, i + 1, curr_set);\n\n        // Remove current element\n        // from the subsequence\n        curr_set.remove(curr_set.size() - 1);\n    }\n}\n\n// Function to sort the array and generate\n// subsequences using Backtracking\npublic static void AllSubsets(ArrayList&lt;Integer&gt; nums)\n{\n\n    // Stores the current\n    // subsequence\n    ArrayList&lt;Integer&gt; curr_set = new ArrayList&lt;&gt;();\n\n    // Sort the vector\n    Collections.sort(nums);\n\n    // Backtrack function to\n    // generate subsequences\n    backtrack(nums, 0, curr_set);\n}\n\n// Driver Code\npublic static void main(String[] args)\n{\n    ArrayList&lt;Integer&gt; v = new ArrayList&lt;&gt;();\n    v.add(1);\n    v.add(2);\n    v.add(2);\n    \n    // Function call\n    AllSubsets(v);\n}\n}\n\n// This code is contributed by hemanthswarna1506\n</code></pre>\n"}],"owner":{"account_id":28215855,"reputation":41,"user_id":21567385,"display_name":"my_neme_eh_jeff n"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680971542,"creation_date":1680635163,"question_id":75932989,"body_markdown":"I am trying to solve a problem where I am given a string with repeated characters in it and I am supposed to generate all unique subsequences.\r\n\r\nI now how to generate all subsequences ignoring the duplicate part or assuming that there are no repeated characters: (p stands for process, data is used for adding characters from process)\r\n\r\n    public static ArrayList generate(String process,String data){\r\n        if(data.isEmpty()){\r\n            ArrayList &lt;String&gt; temp = new ArrayList&lt;&gt;();\r\n            temp.add(process);\r\n            return temp;\r\n        }\r\n        ArrayList &lt;String&gt; left = new ArrayList&lt;&gt;();\r\n        ArrayList &lt;String&gt; right = new ArrayList&lt;&gt;();\r\n        left = generate(process+data.charAt(0),data.substring(1));\r\n        right = generate(process,data.substring(1));\r\n    \r\n        left.addAll(right);\r\n        return left;\r\n    }\r\n\r\nI can&#39;t figure out how to do this for non-duplicate subsequences. I am trying to check at every base condition if we have already added that string in our arraylist, but it still gives me duplicated in answer in this code: (up is unprocessed same as data in the above code, p is processed or string passed from main initially)\r\n\r\n    public static ArrayList&lt;String&gt; generateNonDuplicate(String up, String p,ArrayList &lt;String&gt; current){\r\n        if(up.isEmpty()){\r\n            if(current.contains(p)){\r\n                return new ArrayList&lt;&gt;();\r\n            }\r\n            ArrayList &lt;String&gt; temp = new ArrayList&lt;&gt;();\r\n            temp.add(p);\r\n            return temp;\r\n        }\r\n\r\n        ArrayList &lt;String&gt; left = new ArrayList&lt;&gt;();\r\n        ArrayList &lt;String&gt; right = new ArrayList&lt;&gt;();        \r\n        left=generateNonDuplicate(up.substring(1), p+up.charAt(0), left);\r\n        right=generateNonDuplicate(up.substring(1), p, right);\r\n        \r\n        left.addAll(right);\r\n\r\n        return left;\r\n    }\r\n\r\nHow do I go about this?","title":"Generating all non-duplicate subsequences with a string that has repeated characters","body":"<p>I am trying to solve a problem where I am given a string with repeated characters in it and I am supposed to generate all unique subsequences.</p>\n<p>I now how to generate all subsequences ignoring the duplicate part or assuming that there are no repeated characters: (p stands for process, data is used for adding characters from process)</p>\n<pre><code>public static ArrayList generate(String process,String data){\n    if(data.isEmpty()){\n        ArrayList &lt;String&gt; temp = new ArrayList&lt;&gt;();\n        temp.add(process);\n        return temp;\n    }\n    ArrayList &lt;String&gt; left = new ArrayList&lt;&gt;();\n    ArrayList &lt;String&gt; right = new ArrayList&lt;&gt;();\n    left = generate(process+data.charAt(0),data.substring(1));\n    right = generate(process,data.substring(1));\n\n    left.addAll(right);\n    return left;\n}\n</code></pre>\n<p>I can't figure out how to do this for non-duplicate subsequences. I am trying to check at every base condition if we have already added that string in our arraylist, but it still gives me duplicated in answer in this code: (up is unprocessed same as data in the above code, p is processed or string passed from main initially)</p>\n<pre><code>public static ArrayList&lt;String&gt; generateNonDuplicate(String up, String p,ArrayList &lt;String&gt; current){\n    if(up.isEmpty()){\n        if(current.contains(p)){\n            return new ArrayList&lt;&gt;();\n        }\n        ArrayList &lt;String&gt; temp = new ArrayList&lt;&gt;();\n        temp.add(p);\n        return temp;\n    }\n\n    ArrayList &lt;String&gt; left = new ArrayList&lt;&gt;();\n    ArrayList &lt;String&gt; right = new ArrayList&lt;&gt;();        \n    left=generateNonDuplicate(up.substring(1), p+up.charAt(0), left);\n    right=generateNonDuplicate(up.substring(1), p, right);\n    \n    left.addAll(right);\n\n    return left;\n}\n</code></pre>\n<p>How do I go about this?</p>\n"},{"tags":["java","android"],"owner":{"account_id":8695765,"reputation":909,"user_id":6507170,"display_name":"priojeet priyom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680971353,"creation_date":1680971353,"question_id":75966405,"body_markdown":"The below code is being used to fetch current top activity with a foreground service. The code work well for android API &lt;= 32. But in android API 33 `myUsageEvents.hasNextEvent()` check always returns false, indicating the query did not find any event. So far, I have tried with emulator only, but I think it would be same in a real device as well. Because the code is working fine in emulator api 30 - 32.\r\n\r\nThe things checked / tried so far:\r\n\r\n* Ensure app has runtime permission for `android.permission.PACKAGE_USAGE_STATS`\r\n* query for a longer during. i.e 24 hours\r\n\r\n\r\n        public static String getTopPkgName(Context context) {\r\n        Log.d(TAG, &quot;getTopPkgName: called!&quot;);\r\n\r\n        String pkgName = null;\r\n\r\n        UsageStatsManager usageStatsManager = (UsageStatsManager) context.getSystemService(Context.USAGE_STATS_SERVICE);\r\n\r\n        final long endTime = System.currentTimeMillis();\r\n        final long beginTime = endTime - 1000 * 60 * 5; // 5 minutes\r\n        final UsageEvents myUsageEvents = usageStatsManager.queryEvents(beginTime, endTime);\r\n        while (myUsageEvents.hasNextEvent()) {\r\n            UsageEvents.Event myEvent = new UsageEvents.Event();\r\n            myUsageEvents.getNextEvent(myEvent);\r\n\r\n            Log.d(TAG, &quot;getTopPkgName: processing event for package: &quot; + myEvent.getPackageName());\r\n\r\n            // Some business logic to determine current top package. Below is a sample line\r\n            pkgNamemyEvent.getPackageName();\r\n        }\r\n        return pkgName;\r\n    }","title":"usageStatsManager.queryEvents does not fetch any event in Android 33","body":"<p>The below code is being used to fetch current top activity with a foreground service. The code work well for android API &lt;= 32. But in android API 33 <code>myUsageEvents.hasNextEvent()</code> check always returns false, indicating the query did not find any event. So far, I have tried with emulator only, but I think it would be same in a real device as well. Because the code is working fine in emulator api 30 - 32.</p>\n<p>The things checked / tried so far:</p>\n<ul>\n<li><p>Ensure app has runtime permission for <code>android.permission.PACKAGE_USAGE_STATS</code></p>\n</li>\n<li><p>query for a longer during. i.e 24 hours</p>\n<pre><code>  public static String getTopPkgName(Context context) {\n  Log.d(TAG, &quot;getTopPkgName: called!&quot;);\n\n  String pkgName = null;\n\n  UsageStatsManager usageStatsManager = (UsageStatsManager) context.getSystemService(Context.USAGE_STATS_SERVICE);\n\n  final long endTime = System.currentTimeMillis();\n  final long beginTime = endTime - 1000 * 60 * 5; // 5 minutes\n  final UsageEvents myUsageEvents = usageStatsManager.queryEvents(beginTime, endTime);\n  while (myUsageEvents.hasNextEvent()) {\n      UsageEvents.Event myEvent = new UsageEvents.Event();\n      myUsageEvents.getNextEvent(myEvent);\n\n      Log.d(TAG, &quot;getTopPkgName: processing event for package: &quot; + myEvent.getPackageName());\n\n      // Some business logic to determine current top package. Below is a sample line\n      pkgNamemyEvent.getPackageName();\n  }\n  return pkgName;\n</code></pre>\n<p>}</p>\n</li>\n</ul>\n"},{"tags":["java","java-8","integer","java-stream","collectors"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":2,"creation_date":1566448995,"post_id":57602096,"comment_id":101660879,"body_markdown":"You need to map the `Integer`s to `String`s` to use `joining`. It returns `Collector&lt;CharSequence, ?, String&gt;` specifically.","body":"You need to map the <code>Integer</code>s to <code>String</code>s` to use <code>joining</code>. It returns <code>Collector&lt;CharSequence, ?, String&gt;</code> specifically."},{"owner":{"account_id":15412192,"reputation":692,"user_id":11118648,"display_name":"Bhaven Shah"},"score":0,"creation_date":1566449875,"post_id":57602096,"comment_id":101661073,"body_markdown":"You can loop one more and give the value to string one by one with comma.","body":"You can loop one more and give the value to string one by one with comma."}],"answers":[{"comments":[{"owner":{"account_id":8674348,"reputation":1035,"user_id":6492159,"accept_rate":56,"display_name":"Nicky"},"score":0,"creation_date":1566448935,"post_id":57602151,"comment_id":101660866,"body_markdown":"The method description says &quot;Returns a Collector that concatenates the input elements, separated by the specified delimiter, in encounter order.&quot;  Shouldn&#39;t they mention input elements should only be String?","body":"The method description says &quot;Returns a Collector that concatenates the input elements, separated by the specified delimiter, in encounter order.&quot;  Shouldn&#39;t they mention input elements should only be String?"},{"owner":{"account_id":8674348,"reputation":1035,"user_id":6492159,"accept_rate":56,"display_name":"Nicky"},"score":0,"creation_date":1566449011,"post_id":57602151,"comment_id":101660883,"body_markdown":"Also, i thought it will automatically calls toString method of Integer to solve this","body":"Also, i thought it will automatically calls toString method of Integer to solve this"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1566449062,"post_id":57602151,"comment_id":101660896,"body_markdown":"Documentation also states: &quot;*Returns: A Collector which concatenates **CharSequence** elements, separated by the specified delimiter, in encounter order&quot;* (and return type is `Collector&lt;CharSequence,​?,​String&gt;`, that is, a `Collector` that accepts `CharSequence`)","body":"Documentation also states: &quot;<i>Returns: A Collector which concatenates <b>CharSequence</b> elements, separated by the specified delimiter, in encounter order&quot;</i> (and return type is <code>Collector&lt;CharSequence,​?,​String&gt;</code>, that is, a <code>Collector</code> that accepts <code>CharSequence</code>)"},{"owner":{"account_id":8674348,"reputation":1035,"user_id":6492159,"accept_rate":56,"display_name":"Nicky"},"score":0,"creation_date":1566449192,"post_id":57602151,"comment_id":101660914,"body_markdown":"@Naman what if i don&#39;t use overloaded method. I can also use `Collectors.joining()` which says &quot;Returns a Collector that concatenates the input elements into a String, in encounter order.&quot;","body":"@Naman what if i don&#39;t use overloaded method. I can also use <code>Collectors.joining()</code> which says &quot;Returns a Collector that concatenates the input elements into a String, in encounter order.&quot;"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1566449324,"post_id":57602151,"comment_id":101660950,"body_markdown":"If you read the ***entire*** definition, it says `static Collector&lt;CharSequence,?,String&gt; joining​(CharSequence delimiter)` which tells you the type it works on (`CharSequence`).","body":"If you read the <b><i>entire</i></b> definition, it says <code>static Collector&lt;CharSequence,?,String&gt; joining​(CharSequence delimiter)</code> which tells you the type it works on (<code>CharSequence</code>)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1566466618,"post_id":57602151,"comment_id":101668286,"body_markdown":"Instead of `.boxed().map(String::valueOf)`, you can use `.mapToObj(String::valueOf)`","body":"Instead of <code>.boxed().map(String::valueOf)</code>, you can use <code>.mapToObj(String::valueOf)</code>"},{"owner":{"account_id":8129122,"reputation":1496,"user_id":6122976,"display_name":"wilmol"},"score":0,"creation_date":1566467816,"post_id":57602151,"comment_id":101668942,"body_markdown":"Why should they mention what type the input elements need to be? The types (for parameters and return) are shown in the method signature. Java is statically typed so it wouldn&#39;t even compile if you provide the wrong type.","body":"Why should they mention what type the input elements need to be? The types (for parameters and return) are shown in the method signature. Java is statically typed so it wouldn&#39;t even compile if you provide the wrong type."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":7,"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1566448995,"creation_date":1566448815,"answer_id":57602151,"question_id":57602096,"body_markdown":"Yes. However, there is no `Collectors.joining` for a `Stream&lt;Integer&gt;`; you need a `Stream&lt;String&gt;` so you should `map` before collecting. Something like,\r\n\r\n    System.out.println(i.stream().map(String::valueOf)\r\n            .collect(Collectors.joining(&quot;,&quot;)));\r\n\r\nWhich outputs\r\n\r\n    1,2,3,4,5\r\n\r\nAlso, you could generate `Stream&lt;Integer&gt;` in a number of ways.\r\n\r\n    System.out.println(\r\n            IntStream.range(1, 6).boxed().map(String::valueOf)\r\n                   .collect(Collectors.joining(&quot;,&quot;))\r\n    );","title":"Convert a list of integers into a comma-separated string","body":"<p>Yes. However, there is no <code>Collectors.joining</code> for a <code>Stream&lt;Integer&gt;</code>; you need a <code>Stream&lt;String&gt;</code> so you should <code>map</code> before collecting. Something like,</p>\n\n<pre><code>System.out.println(i.stream().map(String::valueOf)\n        .collect(Collectors.joining(\",\")));\n</code></pre>\n\n<p>Which outputs</p>\n\n<pre><code>1,2,3,4,5\n</code></pre>\n\n<p>Also, you could generate <code>Stream&lt;Integer&gt;</code> in a number of ways.</p>\n\n<pre><code>System.out.println(\n        IntStream.range(1, 6).boxed().map(String::valueOf)\n               .collect(Collectors.joining(\",\"))\n);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10769973,"reputation":79,"user_id":9674183,"display_name":"Gladiator9120"},"score":0,"creation_date":1680237077,"post_id":57603076,"comment_id":133867540,"body_markdown":"This should be the accepted answer, simple, elegant, and does what it is supposed to do","body":"This should be the accepted answer, simple, elegant, and does what it is supposed to do"}],"tags":[],"owner":{"account_id":16435082,"reputation":269,"user_id":11872869,"display_name":"Dinesh K"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1645469606,"creation_date":1566454819,"answer_id":57603076,"question_id":57602096,"body_markdown":"It is very easy with the [Apache Commons Lang][1] library.\r\n\r\n**Commons Lang**\r\n\r\n```\r\nList&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7);\r\nString str = org.apache.commons.lang.StringUtils.join(list, &quot;,&quot;); // You can use any delimiter\r\nSystem.out.println(str);  // Output: 1, 2, 3, 4, 5, 6, 7\r\n```\r\n\r\n**Java 8 Solution**\r\n\r\n```\r\nList&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7);\r\nString joinedList = list.stream().map(String::valueOf).collect(Collectors.joining(&quot;,&quot;));\r\nSystem.out.println(joinedList);\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Commons#Commons_Proper\r\n\r\n","title":"Convert a list of integers into a comma-separated string","body":"<p>It is very easy with the <a href=\"https://en.wikipedia.org/wiki/Apache_Commons#Commons_Proper\" rel=\"nofollow noreferrer\">Apache Commons Lang</a> library.</p>\n<p><strong>Commons Lang</strong></p>\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7);\nString str = org.apache.commons.lang.StringUtils.join(list, &quot;,&quot;); // You can use any delimiter\nSystem.out.println(str);  // Output: 1, 2, 3, 4, 5, 6, 7\n</code></pre>\n<p><strong>Java 8 Solution</strong></p>\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(1, 2, 3, 4, 5, 6, 7);\nString joinedList = list.stream().map(String::valueOf).collect(Collectors.joining(&quot;,&quot;));\nSystem.out.println(joinedList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645469786,"creation_date":1593454818,"answer_id":62644385,"question_id":57602096,"body_markdown":"Using [Guava][1]&#39;s [com.google.common.base.Joiner][2]\r\n\r\n    String res = Joiner.on(&quot;,&quot;).join(integerlist);\r\n\r\nUsing the Java Stream API\r\n\r\n    String res = integerlist.stream()\r\n                            .map(String::valueOf)\r\n                            .collect(Collectors.joining(&quot;,&quot;));\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Google_Guava\r\n  [2]: https://guava.dev/releases/16.0/api/docs/com/google/common/base/Joiner.html\r\n\r\n\r\n\r\n","title":"Convert a list of integers into a comma-separated string","body":"<p>Using <a href=\"https://en.wikipedia.org/wiki/Google_Guava\" rel=\"nofollow noreferrer\">Guava</a>'s <a href=\"https://guava.dev/releases/16.0/api/docs/com/google/common/base/Joiner.html\" rel=\"nofollow noreferrer\">com.google.common.base.Joiner</a></p>\n<pre><code>String res = Joiner.on(&quot;,&quot;).join(integerlist);\n</code></pre>\n<p>Using the Java Stream API</p>\n<pre><code>String res = integerlist.stream()\n                        .map(String::valueOf)\n                        .collect(Collectors.joining(&quot;,&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12323829,"reputation":71,"user_id":8992452,"display_name":"NUKE"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645470218,"creation_date":1600872934,"answer_id":64030705,"question_id":57602096,"body_markdown":"Perhaps the answer to your question could be:\r\n\r\n`List.toString()` as below:\r\n\r\n    List&lt;Integer&gt; intList = new ArrayList&lt;Integer&gt;();\r\n    intList.add(1);\r\n    intList.add(2);\r\n    intList.add(3);\r\n\r\n    String listString = intList.toString();\r\n    System.out.println(listString); // &lt;- this prints [1, 2, 3]\r\n\r\nIn this post below, it is very well explained. I hope you can find it useful:\r\n\r\n*[Java: Convert List&amp;lt;Integer&gt; to String][1]*\r\n\r\n  [1]: https://stackoverflow.com/a/13198957/8992452\r\n\r\n","title":"Convert a list of integers into a comma-separated string","body":"<p>Perhaps the answer to your question could be:</p>\n<p><code>List.toString()</code> as below:</p>\n<pre><code>List&lt;Integer&gt; intList = new ArrayList&lt;Integer&gt;();\nintList.add(1);\nintList.add(2);\nintList.add(3);\n\nString listString = intList.toString();\nSystem.out.println(listString); // &lt;- this prints [1, 2, 3]\n</code></pre>\n<p>In this post below, it is very well explained. I hope you can find it useful:</p>\n<p><em><a href=\"https://stackoverflow.com/a/13198957/8992452\">Java: Convert List&lt;Integer&gt; to String</a></em></p>\n"},{"tags":[],"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680971136,"creation_date":1680971136,"answer_id":75966390,"question_id":57602096,"body_markdown":"If you are already using `Spring` framework, they are providing a utility class for `String` operations `StringUtils`.\r\n\r\n    List&lt;Integer&gt; privileges = Arrays.asList(1,2,3);\r\n    \r\n    System.out.println(StringUtils.collectionToDelimitedString(privileges, &quot;,&quot;));","title":"Convert a list of integers into a comma-separated string","body":"<p>If you are already using <code>Spring</code> framework, they are providing a utility class for <code>String</code> operations <code>StringUtils</code>.</p>\n<pre><code>List&lt;Integer&gt; privileges = Arrays.asList(1,2,3);\n\nSystem.out.println(StringUtils.collectionToDelimitedString(privileges, &quot;,&quot;));\n</code></pre>\n"}],"owner":{"account_id":8674348,"reputation":1035,"user_id":6492159,"accept_rate":56,"display_name":"Nicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51450,"favorite_count":0,"down_vote_count":5,"up_vote_count":17,"accepted_answer_id":57602151,"answer_count":5,"score":12,"last_activity_date":1680971136,"creation_date":1566448482,"question_id":57602096,"body_markdown":"I was trying to convert a list of Integers into a string of comma-separated integers.\r\n\r\n**Collectors.joining(CharSequence delimiter)  - Returns a Collector that concatenates the input elements, separated by the specified delimiter, in encounter order.**\r\n\r\n    List&lt;Integer&gt; i = new ArrayList&lt;&gt;();\t//\ti.add(null);\r\n    for (int j = 1; j &lt; 6; j++) {\r\n    \ti.add(j);\r\n    }\r\n    System.out.println(i.stream().collect(Collectors.joining(&quot;,&quot;))); // Line 8\r\n\r\nI am getting an error in line number 8:\r\n\r\n&gt; The method collect(Collector&lt;? super Integer,A,R&gt;) in the type Stream&lt;Integer&gt; is not applicable for the arguments (Collector&lt;CharSequence,capture#20-of ?,String&gt;)\r\n   \t\t\r\nIs there a way to do this by streams in Java 8?\r\n\r\nIf I create a list of strings with `&quot;1&quot;, &quot;2&quot;, &quot;3&quot;,&quot;4&quot;,&quot;5&quot;`. it works.\r\n","title":"Convert a list of integers into a comma-separated string","body":"<p>I was trying to convert a list of Integers into a string of comma-separated integers.</p>\n<p><strong>Collectors.joining(CharSequence delimiter)  - Returns a Collector that concatenates the input elements, separated by the specified delimiter, in encounter order.</strong></p>\n<pre><code>List&lt;Integer&gt; i = new ArrayList&lt;&gt;();    //  i.add(null);\nfor (int j = 1; j &lt; 6; j++) {\n    i.add(j);\n}\nSystem.out.println(i.stream().collect(Collectors.joining(&quot;,&quot;))); // Line 8\n</code></pre>\n<p>I am getting an error in line number 8:</p>\n<blockquote>\n<p>The method collect(Collector&lt;? super Integer,A,R&gt;) in the type Stream is not applicable for the arguments (Collector&lt;CharSequence,capture#20-of ?,String&gt;)</p>\n</blockquote>\n<p>Is there a way to do this by streams in Java 8?</p>\n<p>If I create a list of strings with <code>&quot;1&quot;, &quot;2&quot;, &quot;3&quot;,&quot;4&quot;,&quot;5&quot;</code>. it works.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":190972,"reputation":30960,"user_id":5152732,"display_name":"toskv"},"score":1,"creation_date":1444152190,"post_id":32975708,"comment_id":53776943,"body_markdown":"The missing class in the **NoClassDefFoundError** is located in commons-lang.jar.","body":"The missing class in the <b>NoClassDefFoundError</b> is located in commons-lang.jar."},{"owner":{"account_id":6335400,"reputation":23,"user_id":4918931,"display_name":"priyamal madushanka"},"score":0,"creation_date":1444152965,"post_id":32975708,"comment_id":53777411,"body_markdown":"whats the difference between 2 jar files i can create jsonobject from both","body":"whats the difference between 2 jar files i can create jsonobject from both"},{"owner":{"account_id":190972,"reputation":30960,"user_id":5152732,"display_name":"toskv"},"score":0,"creation_date":1444153028,"post_id":32975708,"comment_id":53777452,"body_markdown":"There&#39;s no difference between the two, but probably one or both of them has a dependency from commons-lang.jar, so you&#39;ll need that one as well.","body":"There&#39;s no difference between the two, but probably one or both of them has a dependency from commons-lang.jar, so you&#39;ll need that one as well."}],"answers":[{"tags":[],"owner":{"account_id":190972,"reputation":30960,"user_id":5152732,"display_name":"toskv"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1444152250,"creation_date":1444152250,"answer_id":32975911,"question_id":32975708,"body_markdown":"The missing class in the **NoClassDefFoundError** is located in **commons-lang.jar** from apache.\r\n\r\nIt can be downloaded [here][1].\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/download_lang.cgi","title":"which jar libraries should i use when using json","body":"<p>The missing class in the <strong>NoClassDefFoundError</strong> is located in <strong>commons-lang.jar</strong> from apache.</p>\n\n<p>It can be downloaded <a href=\"http://commons.apache.org/proper/commons-lang/download_lang.cgi\" rel=\"nofollow\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":6335400,"reputation":23,"user_id":4918931,"display_name":"priyamal madushanka"},"score":0,"creation_date":1444155990,"post_id":32976958,"comment_id":53779127,"body_markdown":"thanks... i thought we shoulld use gson only if we want to create objects\nand deserialize json strings to objects","body":"thanks... i thought we shoulld use gson only if we want to create objects and deserialize json strings to objects"},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1444156110,"post_id":32976958,"comment_id":53779203,"body_markdown":"GSON and Jackson allow multiple styles of usage, including use of &quot;tree&quot; style (nodes) and &quot;untyped&quot; (Maps, Lists) for reading, writing. So while most tutorials only show use of POJOs (which is usually the most convenient way to be honest), that&#39;s not the only way to use them. In your case, you can create your `Map`, and write it out to `OutputStream` or `Writer`; or, if for some reason it&#39;s needed as a String, that is also easy (for Jackson, `ObjectMapper.writeValueAsString(map);`)","body":"GSON and Jackson allow multiple styles of usage, including use of &quot;tree&quot; style (nodes) and &quot;untyped&quot; (Maps, Lists) for reading, writing. So while most tutorials only show use of POJOs (which is usually the most convenient way to be honest), that&#39;s not the only way to use them. In your case, you can create your <code>Map</code>, and write it out to <code>OutputStream</code> or <code>Writer</code>; or, if for some reason it&#39;s needed as a String, that is also easy (for Jackson, <code>ObjectMapper.writeValueAsString(map);</code>)"}],"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1444155728,"creation_date":1444155728,"answer_id":32976958,"question_id":32975708,"body_markdown":"The two most popular and fully-featured Java JSON libraries according to [Maven Repository][1] are:\r\n\r\n* [GSON][2] (2.4)\r\n* [Jackson][3] (2.6)\r\n\r\n\r\nand jars for both are accessible via Maven:\r\n\r\n* Gson requires `gson-2.4.jar` (group id `com.google.code.gson`, artifact id `gson`\r\n* Jackson requires `jackson-databind-2.6.2.jar` (group id `com.fasterxml.jackson.core`, artifact `jackson-databind`), as well as 2 supporting jars (`jackson-core` for streaming parser, `jackson-annotations` for annotation suport)\r\n\r\nJars that you listed are for other lesser commonly used packages (one for `json-lib`, http://json-lib.sourceforge.net/ is pretty old; other I don&#39;t even know what it is), so I would not recommend you use them.\r\n\r\n  [1]: http://mvnrepository.com/open-source/json-libraries\r\n  [2]: https://github.com/google/gson\r\n  [3]: https://github.com/FasterXML/jackson","title":"which jar libraries should i use when using json","body":"<p>The two most popular and fully-featured Java JSON libraries according to <a href=\"http://mvnrepository.com/open-source/json-libraries\" rel=\"noreferrer\">Maven Repository</a> are:</p>\n\n<ul>\n<li><a href=\"https://github.com/google/gson\" rel=\"noreferrer\">GSON</a> (2.4)</li>\n<li><a href=\"https://github.com/FasterXML/jackson\" rel=\"noreferrer\">Jackson</a> (2.6)</li>\n</ul>\n\n<p>and jars for both are accessible via Maven:</p>\n\n<ul>\n<li>Gson requires <code>gson-2.4.jar</code> (group id <code>com.google.code.gson</code>, artifact id <code>gson</code></li>\n<li>Jackson requires <code>jackson-databind-2.6.2.jar</code> (group id <code>com.fasterxml.jackson.core</code>, artifact <code>jackson-databind</code>), as well as 2 supporting jars (<code>jackson-core</code> for streaming parser, <code>jackson-annotations</code> for annotation suport)</li>\n</ul>\n\n<p>Jars that you listed are for other lesser commonly used packages (one for <code>json-lib</code>, <a href=\"http://json-lib.sourceforge.net/\" rel=\"noreferrer\">http://json-lib.sourceforge.net/</a> is pretty old; other I don't even know what it is), so I would not recommend you use them.</p>\n"},{"tags":[],"owner":{"account_id":9911529,"reputation":3538,"user_id":7338066,"display_name":"susan097"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527600850,"creation_date":1527600850,"answer_id":50585739,"question_id":32975708,"body_markdown":"Works as Java8:&lt;hr&gt;\r\nHere is the link for [JAR][1]\r\n\r\nFor more help visit https://javaee.github.io/jsonp/\r\n\r\nDownload it and directly add in your Project.\r\n\r\n\r\n  [1]: http://search.maven.org/remotecontent?filepath=javax/json/javax.json-api/1.0/javax.json-api-1.0.jar","title":"which jar libraries should i use when using json","body":"<p>Works as Java8:<hr>\nHere is the link for <a href=\"http://search.maven.org/remotecontent?filepath=javax/json/javax.json-api/1.0/javax.json-api-1.0.jar\" rel=\"nofollow noreferrer\">JAR</a></p>\n\n<p>For more help visit <a href=\"https://javaee.github.io/jsonp/\" rel=\"nofollow noreferrer\">https://javaee.github.io/jsonp/</a></p>\n\n<p>Download it and directly add in your Project.</p>\n"}],"owner":{"account_id":6335400,"reputation":23,"user_id":4918931,"display_name":"priyamal madushanka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7884,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":32976958,"answer_count":3,"score":1,"last_activity_date":1680969956,"creation_date":1444151424,"question_id":32975708,"body_markdown":"im very new to json and i&#39;m trying to run json with java. i found 2 json jar files from internet called \r\n\r\n    1)java-json.jar \r\n    2)json-lib-2.4-jdk15.jar \r\n\r\nif im gonna run a java code with using json do i need to include these 2 jar libraries or a single one is enough.\r\ni included both libs and tried to run a code and i see this exception coming\r\n\r\n    NoClassDefFoundError: org/apache/commons/lang/exception/NestableRuntimeException\r\n\r\ni realize this is beacause of a missing lib or something bt i dont know the jar files i should include when running a java code if its using json\r\ncan some one tell me every jar file i should use and my code is given below\r\n\r\n    public static void main(String[] args) {\r\n          \r\n            json = new JSONObject();\r\n            map = new HashMap&lt;String, String&gt;();\r\n            \r\n            map.put(&quot;name&quot;, &quot;priyamal&quot;);\r\n            map.put(&quot;age&quot;, &quot;21&quot;);\r\n            \r\n            json.accumulateAll(obj.map);\r\n            \r\n            printJsonStrin(json.toString());\r\n            \r\n        }\r\n        \r\n        \r\n        public static void printJsonStrin(String jsonstr){\r\n            System.out.println(jsonstr);\r\n        }\r\n        \r\n\r\n","title":"which jar libraries should i use when using json","body":"<p>im very new to json and i'm trying to run json with java. i found 2 json jar files from internet called </p>\n\n<pre><code>1)java-json.jar \n2)json-lib-2.4-jdk15.jar \n</code></pre>\n\n<p>if im gonna run a java code with using json do i need to include these 2 jar libraries or a single one is enough.\ni included both libs and tried to run a code and i see this exception coming</p>\n\n<pre><code>NoClassDefFoundError: org/apache/commons/lang/exception/NestableRuntimeException\n</code></pre>\n\n<p>i realize this is beacause of a missing lib or something bt i dont know the jar files i should include when running a java code if its using json\ncan some one tell me every jar file i should use and my code is given below</p>\n\n<pre><code>public static void main(String[] args) {\n\n        json = new JSONObject();\n        map = new HashMap&lt;String, String&gt;();\n\n        map.put(\"name\", \"priyamal\");\n        map.put(\"age\", \"21\");\n\n        json.accumulateAll(obj.map);\n\n        printJsonStrin(json.toString());\n\n    }\n\n\n    public static void printJsonStrin(String jsonstr){\n        System.out.println(jsonstr);\n    }\n</code></pre>\n"},{"tags":["java","collections","java-stream"],"answers":[{"tags":[],"owner":{"account_id":15842481,"reputation":128,"user_id":11430579,"display_name":"Player Schark"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680960318,"creation_date":1680960318,"answer_id":75965480,"question_id":75965408,"body_markdown":"See the Map#compute section\r\n\r\n[Map#compute][1]\r\n\r\n[Map#computeIfPresent][2]\r\n\r\n[Map#computeIfAbsent][3]\r\n\r\nAssuming you don&#39;t want to use [Multimap][4], something like that should do the trick.\r\n\r\n\t\tList&lt;Map&lt;String, String&gt;&gt; list = new ArrayList&lt;&gt;();\r\n\t\tMap&lt;String, List&lt;String&gt;&gt; goal = new HashMap&lt;&gt;();\r\n\r\n    \tfor (Map&lt;String, String&gt; map : list) {\r\n\t\t\tfor (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n\t\t\t\tgoal.compute(entry.getKey(), (k,v)-&gt;{\r\n\t\t\t\t\tList&lt;String&gt; l = v == null ? new ArrayList&lt;&gt;() : v;\r\n\t\t\t\t\tl.add(entry.getValue());\r\n\t\t\t\t\treturn l;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#compute-K-java.util.function.BiFunction-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfPresent-K-java.util.function.BiFunction-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\r\n  [4]: https://guava.dev/releases/19.0/api/docs/com/google/common/collect/Multimap.html","title":"how to convert List&lt;Map&lt;String, String&gt;&gt; to Map&lt;String, List&lt;String&gt;&gt;","body":"<p>See the Map#compute section</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#compute-K-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">Map#compute</a></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfPresent-K-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">Map#computeIfPresent</a></p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfAbsent-K-java.util.function.Function-\" rel=\"nofollow noreferrer\">Map#computeIfAbsent</a></p>\n<p>Assuming you don't want to use <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/collect/Multimap.html\" rel=\"nofollow noreferrer\">Multimap</a>, something like that should do the trick.</p>\n<pre><code>    List&lt;Map&lt;String, String&gt;&gt; list = new ArrayList&lt;&gt;();\n    Map&lt;String, List&lt;String&gt;&gt; goal = new HashMap&lt;&gt;();\n\n    for (Map&lt;String, String&gt; map : list) {\n        for (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\n            goal.compute(entry.getKey(), (k,v)-&gt;{\n                List&lt;String&gt; l = v == null ? new ArrayList&lt;&gt;() : v;\n                l.add(entry.getValue());\n                return l;\n            });\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1680962157,"creation_date":1680960328,"answer_id":75965482,"question_id":75965408,"body_markdown":"Try it like this.\r\n- `computeIfAbsent` will add the list as a value for the key if the key is absent.\r\n- the `new or existing` list is returned so that an object can now be added to that list. \r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; myMaps = new HashMap&lt;&gt;();\r\nfor (Map&lt;String, String&gt; map : recordListMap) {\r\n    for (Entry&lt;String, String&gt; e : map.entrySet()) {\r\n        myMaps.computeIfAbsent(e.getKey(), v -&gt; new ArrayList&lt;&gt;())\r\n                .add(e.getValue());\r\n    }\r\n}\r\nmyMaps.entrySet().forEach(System.out::println);\r\n```\r\nAnother alternative is to use streams.\r\n- stream the list of maps.\r\n- then stream the entrySet of each map, flattening it to a single stream of entries.\r\n- and then group by the key and put the values in a list.\r\n```\r\nMap&lt;String, List&lt;String&gt;&gt; myMaps2 = recordListMap.stream()\r\n        .flatMap(map -&gt; map.entrySet().stream())\r\n        .collect(Collectors.groupingBy(Entry::getKey, Collectors\r\n                .mapping(Entry::getValue, Collectors.toList())));\r\n\r\n\r\n```\r\nboth will contain\r\n```\r\ninputB=[ValueB_1, ValueB_2]\r\ninputA=[ValueA_1, ValueA_2]\r\n\r\n```\r\nCheck out [Map.computeIfAbsent](https://stackoverflow.com/questions/75965408/how-to-convert-listmapstring-string-to-mapstring-liststring/75965482#75965482)","title":"how to convert List&lt;Map&lt;String, String&gt;&gt; to Map&lt;String, List&lt;String&gt;&gt;","body":"<p>Try it like this.</p>\n<ul>\n<li><code>computeIfAbsent</code> will add the list as a value for the key if the key is absent.</li>\n<li>the <code>new or existing</code> list is returned so that an object can now be added to that list.</li>\n</ul>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; myMaps = new HashMap&lt;&gt;();\nfor (Map&lt;String, String&gt; map : recordListMap) {\n    for (Entry&lt;String, String&gt; e : map.entrySet()) {\n        myMaps.computeIfAbsent(e.getKey(), v -&gt; new ArrayList&lt;&gt;())\n                .add(e.getValue());\n    }\n}\nmyMaps.entrySet().forEach(System.out::println);\n</code></pre>\n<p>Another alternative is to use streams.</p>\n<ul>\n<li>stream the list of maps.</li>\n<li>then stream the entrySet of each map, flattening it to a single stream of entries.</li>\n<li>and then group by the key and put the values in a list.</li>\n</ul>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; myMaps2 = recordListMap.stream()\n        .flatMap(map -&gt; map.entrySet().stream())\n        .collect(Collectors.groupingBy(Entry::getKey, Collectors\n                .mapping(Entry::getValue, Collectors.toList())));\n\n\n</code></pre>\n<p>both will contain</p>\n<pre><code>inputB=[ValueB_1, ValueB_2]\ninputA=[ValueA_1, ValueA_2]\n\n</code></pre>\n<p>Check out <a href=\"https://stackoverflow.com/questions/75965408/how-to-convert-listmapstring-string-to-mapstring-liststring/75965482#75965482\">Map.computeIfAbsent</a></p>\n"}],"owner":{"account_id":9108841,"reputation":189,"user_id":6778300,"display_name":"DeepakVerma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75965480,"answer_count":2,"score":1,"last_activity_date":1680969443,"creation_date":1680959453,"question_id":75965408,"body_markdown":"I have list of map `List&lt;Map&lt;String,String&gt;&gt;` and want to convert into `Map&lt;String, List String&gt;&gt;`\r\n\r\nBelow is the sample code\r\n```java\r\nList&lt;Map&lt;String,String&gt;&gt; recordListMap = new ArrayList&lt;&gt;();\r\n\r\nMap&lt;String,String&gt; recordMap_1 = new HashMap&lt;&gt;();\r\nrecordMap_1.put(&quot;inputA&quot;, &quot;ValueA_1&quot;);\r\nrecordMap_1.put(&quot;inputB&quot;, &quot;ValueB_1&quot;);\r\nrecordListMap.add(recordMap_1);\r\n\r\nMap&lt;String,String&gt; recordMap_2 = new HashMap&lt;&gt;();\r\nrecordMap_2.put(&quot;inputA&quot;, &quot;ValueA_2&quot;);\r\nrecordMap_2.put(&quot;inputB&quot;, &quot;ValueB_2&quot;);\r\nrecordListMap.add(recordMap_2);\r\n```\r\n\r\nI tried the below approach and with this I am not getting the required result:\r\n```java\r\nMap&lt;String, List&lt;String&gt;&gt; myMaps = new HashMap&lt;&gt;();\r\nfor (Map&lt;String, String&gt; recordMap : recordListMap) {\r\n\tfor (Map.Entry&lt;String, String&gt; map : recordMap.entrySet()) {\r\n\t\tmyMaps.put(map.getKey(), List.of(map.getValue()));\r\n\t}\r\n}\r\nOutPut: {inputB=[ValueB_2], inputA=[ValueA_2]}\r\n```\r\n\r\nExpected Result:\r\n\r\n```\r\n{inputB=[ValueB_1, ValueB_2], inputA=[ValueA_1, ValueA_2]}\r\n```","title":"how to convert List&lt;Map&lt;String, String&gt;&gt; to Map&lt;String, List&lt;String&gt;&gt;","body":"<p>I have list of map <code>List&lt;Map&lt;String,String&gt;&gt;</code> and want to convert into <code>Map&lt;String, List String&gt;&gt;</code></p>\n<p>Below is the sample code</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Map&lt;String,String&gt;&gt; recordListMap = new ArrayList&lt;&gt;();\n\nMap&lt;String,String&gt; recordMap_1 = new HashMap&lt;&gt;();\nrecordMap_1.put(&quot;inputA&quot;, &quot;ValueA_1&quot;);\nrecordMap_1.put(&quot;inputB&quot;, &quot;ValueB_1&quot;);\nrecordListMap.add(recordMap_1);\n\nMap&lt;String,String&gt; recordMap_2 = new HashMap&lt;&gt;();\nrecordMap_2.put(&quot;inputA&quot;, &quot;ValueA_2&quot;);\nrecordMap_2.put(&quot;inputB&quot;, &quot;ValueB_2&quot;);\nrecordListMap.add(recordMap_2);\n</code></pre>\n<p>I tried the below approach and with this I am not getting the required result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;String&gt;&gt; myMaps = new HashMap&lt;&gt;();\nfor (Map&lt;String, String&gt; recordMap : recordListMap) {\n    for (Map.Entry&lt;String, String&gt; map : recordMap.entrySet()) {\n        myMaps.put(map.getKey(), List.of(map.getValue()));\n    }\n}\nOutPut: {inputB=[ValueB_2], inputA=[ValueA_2]}\n</code></pre>\n<p>Expected Result:</p>\n<pre><code>{inputB=[ValueB_1, ValueB_2], inputA=[ValueA_1, ValueA_2]}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1666227972,"post_id":74128778,"comment_id":130888427,"body_markdown":"This is the default behavior is using signInAnonymously().","body":"This is the default behavior is using signInAnonymously()."},{"owner":{"account_id":3661369,"reputation":4590,"user_id":3051067,"accept_rate":43,"display_name":"Anonymous"},"score":0,"creation_date":1666263847,"post_id":74128778,"comment_id":130897411,"body_markdown":"@LawrenceGimenez yes but that doesn&#39;t help with the question","body":"@LawrenceGimenez yes but that doesn&#39;t help with the question"},{"owner":{"account_id":8847651,"reputation":375,"user_id":6607935,"display_name":"Milie"},"score":0,"creation_date":1666780855,"post_id":74128778,"comment_id":131015602,"body_markdown":"You could probably use `createUser/signInWithEmailAndPassword()` and generate a random email and password but the user would still need to use the required login details on an uninstall. My understanding is that if you want persistent data and accounts, you need to partially authenticate a user. `signInAnonymously()` should be used for `read-only` apps, if I understand it right.","body":"You could probably use <code>createUser&#47;signInWithEmailAndPassword()</code> and generate a random email and password but the user would still need to use the required login details on an uninstall. My understanding is that if you want persistent data and accounts, you need to partially authenticate a user. <code>signInAnonymously()</code> should be used for <code>read-only</code> apps, if I understand it right."},{"owner":{"account_id":9758708,"reputation":193,"user_id":7234479,"display_name":"leo"},"score":0,"creation_date":1680969429,"post_id":74128778,"comment_id":133994237,"body_markdown":"I had this issue. deleting the app and re-installing it fixed it.","body":"I had this issue. deleting the app and re-installing it fixed it."}],"answers":[{"comments":[{"owner":{"account_id":3661369,"reputation":4590,"user_id":3051067,"accept_rate":43,"display_name":"Anonymous"},"score":0,"creation_date":1666948003,"post_id":74206291,"comment_id":131059959,"body_markdown":"I understand that. But the problem is that userId changes across app launches...not installs. I would be happy if it stayed the same until the user uninstalls the app.","body":"I understand that. But the problem is that userId changes across app launches...not installs. I would be happy if it stayed the same until the user uninstalls the app."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666950830,"post_id":74206291,"comment_id":131060903,"body_markdown":"The userId changes across app launch **only** if you explicitly sign in again. Otherwise, it will always remain the same. So most likely there is something wrong with your code. So I recommend you post a new question, here on StackOverflow, using its own [MCVE](https://stackoverflow.com/help/mcve), so I and other Firebase developers can help you.","body":"The userId changes across app launch <b>only</b> if you explicitly sign in again. Otherwise, it will always remain the same. So most likely there is something wrong with your code. So I recommend you post a new question, here on StackOverflow, using its own <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, so I and other Firebase developers can help you."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1666950847,"post_id":74206291,"comment_id":131060909,"body_markdown":"So can I help you with other information regarding the initial question?","body":"So can I help you with other information regarding the initial question?"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666780280,"creation_date":1666780280,"answer_id":74206291,"question_id":74128778,"body_markdown":"You can use Firebase Anonymous Authentication to create and use **only** temporary accounts to authenticate with Firebase. The Anonymous Authentication accounts don&#39;t persist across application uninstalls. When an application is uninstalled, everything that was saved locally will be wiped out, including the anonymous auth token that identifies that account. So there is no way you can reclaim that token for the user. So each time you sign in, a new UID is generated.\r\n\r\n&gt; What other way can I use to ensure steady and exclusive access for that user to a Realtime Database child?\r\n\r\nTo always have the same UID, then you have to implement the Firebase Authentication with a provider like Google, Facebook, Twitter, and so on.","title":"Firebase - userId keeps changing","body":"<p>You can use Firebase Anonymous Authentication to create and use <strong>only</strong> temporary accounts to authenticate with Firebase. The Anonymous Authentication accounts don't persist across application uninstalls. When an application is uninstalled, everything that was saved locally will be wiped out, including the anonymous auth token that identifies that account. So there is no way you can reclaim that token for the user. So each time you sign in, a new UID is generated.</p>\n<blockquote>\n<p>What other way can I use to ensure steady and exclusive access for that user to a Realtime Database child?</p>\n</blockquote>\n<p>To always have the same UID, then you have to implement the Firebase Authentication with a provider like Google, Facebook, Twitter, and so on.</p>\n"}],"owner":{"account_id":3661369,"reputation":4590,"user_id":3051067,"accept_rate":43,"display_name":"Anonymous"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680969429,"creation_date":1666196740,"question_id":74128778,"body_markdown":"In an Android project I use Firebase with `signInAnonymously()` and I am getting `userId` like this\r\n\r\n    userId = FirebaseAuth.getInstance().getCurrentUser().getUid()\r\n\r\nand I use the userId to create children nodes in `Firebase Realtime Database` that only this user can access based on the access rules of that database. \r\n\r\nThe problem is that I noticed userId changes randomly and when that happens all content created by that user is lost to them. Is there something I can do to keep the same userId until the app is uninstalled? What other way can I use to ensure steady and exclusive access for that user to a Realtime database child? Can installation id be used?","title":"Firebase - userId keeps changing","body":"<p>In an Android project I use Firebase with <code>signInAnonymously()</code> and I am getting <code>userId</code> like this</p>\n<pre><code>userId = FirebaseAuth.getInstance().getCurrentUser().getUid()\n</code></pre>\n<p>and I use the userId to create children nodes in <code>Firebase Realtime Database</code> that only this user can access based on the access rules of that database.</p>\n<p>The problem is that I noticed userId changes randomly and when that happens all content created by that user is lost to them. Is there something I can do to keep the same userId until the app is uninstalled? What other way can I use to ensure steady and exclusive access for that user to a Realtime database child? Can installation id be used?</p>\n"},{"tags":["java","spring-boot","spring-webflux","webclient"],"owner":{"account_id":27419303,"reputation":83,"user_id":20918006,"display_name":"Sard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680969165,"creation_date":1680969165,"question_id":75966195,"body_markdown":"Im new to spring reactive,\r\nImplementation.\r\nIn the response of the api if the first name is &quot;Justin&quot; retry and while re trying must also log the response body and same goes to if there is error in response will retry.\r\n\r\nBoth scenario is retrying but the problem is, for both scenario the response is unable to be log inside the `doBeforeRetry`.\r\n\r\n```\r\n public Mono&lt;NameModel&gt; methodWebClient(){\r\n\r\n        HttpHeaders httpHeaders = new HttpHeaders();\r\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n\r\n   Mono&lt;NameModel&gt; nameModel =  webClient\r\n                .post()\r\n                .uri(url)\r\n                .headers(header -&gt; header.addAll(httpHeaders))\r\n                .retrieve()\r\n                .bodyToMono(NameModel.class)\r\n               .flatMap(checkResponse -&gt; {\r\n                        if (checkResponse.getFirstName().equalsIgnoreCase(&quot;Justin&quot;)){\r\n                            log.info(&quot;Errors response custom{}&quot;,checkResponse);\r\n                            return  Mono.error(new Exception()) ;\r\n                        }else{\r\n                            return Mono.just(checkResponse);\r\n                        }\r\n                    })\r\n                .retryWhen(Retry\r\n                   .backoff(3, Duration.ofMillis(1000))\r\n                                .doBeforeRetry(signal -&gt; {\r\n                                    Throwable throwable = signal.failure().getCause();\r\n\r\n                                    if (throwable instanceof WebClientResponseException) {\r\n                                        WebClientResponseException webClientResponseException = (WebClientResponseException) throwable;\r\n                                        String errorBody = webClientResponseException.getResponseBodyAsString();\r\n                                        HttpStatus httpStatus = webClientResponseException.getStatusCode();\r\n                                        log.info(&quot;response status {} response body{}&quot;, httpStatus, errorBody);\r\n                                    }\r\n                                    System.out.println(&quot;Retrying due to &quot; + signal.failure().getLocalizedMessage());\r\n                                })\r\n                )\r\n\r\n           .onErrorResume(errorMessage -&gt;  Mono.error(new CustomErrorException(&quot;asas&quot;,&quot;asas&quot;,&quot;asas&quot;,&quot;asas&quot;)));\r\n\r\n        return nameModel;\r\n    }\r\n\r\n```\r\nlog if firstname is &quot;Justin&quot; then retry\r\n```\r\n2023-04-08 23:42:33.566  INFO 19628 --- [ctor-http-nio-6] com.retryable.service.WebClientService   : Errors response customNameModel(firstName=Justin, lastName=Wayne)\r\nRetrying due to null\r\n2023-04-08 23:42:34.713  INFO 19628 --- [ctor-http-nio-6] com.retryable.service.WebClientService   : Errors response customNameModel(firstName=Justin, lastName=Wayne)\r\nRetrying due to null\r\n2023-04-08 23:42:37.052  INFO 19628 --- [ctor-http-nio-6] com.retryable.service.WebClientService   : Errors response customNameModel(firstName=Justin, lastName=Wayne)\r\nRetrying due to null\r\n2023-04-08 23:42:41.575  INFO 19628 --- [ctor-http-nio-6] com.retryable.service.WebClientService   : Errors response customNameModel(firstName=Justin, lastName=Wayne)\r\n```\r\nlog when server is having Error in response like 500+ or 400+\r\n```\r\nRetrying due to 500 Internal Server Error from POST http://localhost:8081/name\r\nRetrying due to 500 Internal Server Error from POST http://localhost:8081/name\r\nRetrying due to 500 Internal Server Error from POST http://localhost:8081/name\r\n```","title":"Spring reactive log the response body when exception occur","body":"<p>Im new to spring reactive,\nImplementation.\nIn the response of the api if the first name is &quot;Justin&quot; retry and while re trying must also log the response body and same goes to if there is error in response will retry.</p>\n<p>Both scenario is retrying but the problem is, for both scenario the response is unable to be log inside the <code>doBeforeRetry</code>.</p>\n<pre><code> public Mono&lt;NameModel&gt; methodWebClient(){\n\n        HttpHeaders httpHeaders = new HttpHeaders();\n        httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n\n   Mono&lt;NameModel&gt; nameModel =  webClient\n                .post()\n                .uri(url)\n                .headers(header -&gt; header.addAll(httpHeaders))\n                .retrieve()\n                .bodyToMono(NameModel.class)\n               .flatMap(checkResponse -&gt; {\n                        if (checkResponse.getFirstName().equalsIgnoreCase(&quot;Justin&quot;)){\n                            log.info(&quot;Errors response custom{}&quot;,checkResponse);\n                            return  Mono.error(new Exception()) ;\n                        }else{\n                            return Mono.just(checkResponse);\n                        }\n                    })\n                .retryWhen(Retry\n                   .backoff(3, Duration.ofMillis(1000))\n                                .doBeforeRetry(signal -&gt; {\n                                    Throwable throwable = signal.failure().getCause();\n\n                                    if (throwable instanceof WebClientResponseException) {\n                                        WebClientResponseException webClientResponseException = (WebClientResponseException) throwable;\n                                        String errorBody = webClientResponseException.getResponseBodyAsString();\n                                        HttpStatus httpStatus = webClientResponseException.getStatusCode();\n                                        log.info(&quot;response status {} response body{}&quot;, httpStatus, errorBody);\n                                    }\n                                    System.out.println(&quot;Retrying due to &quot; + signal.failure().getLocalizedMessage());\n                                })\n                )\n\n           .onErrorResume(errorMessage -&gt;  Mono.error(new CustomErrorException(&quot;asas&quot;,&quot;asas&quot;,&quot;asas&quot;,&quot;asas&quot;)));\n\n        return nameModel;\n    }\n\n</code></pre>\n<p>log if firstname is &quot;Justin&quot; then retry</p>\n<pre><code>2023-04-08 23:42:33.566  INFO 19628 --- [ctor-http-nio-6] com.retryable.service.WebClientService   : Errors response customNameModel(firstName=Justin, lastName=Wayne)\nRetrying due to null\n2023-04-08 23:42:34.713  INFO 19628 --- [ctor-http-nio-6] com.retryable.service.WebClientService   : Errors response customNameModel(firstName=Justin, lastName=Wayne)\nRetrying due to null\n2023-04-08 23:42:37.052  INFO 19628 --- [ctor-http-nio-6] com.retryable.service.WebClientService   : Errors response customNameModel(firstName=Justin, lastName=Wayne)\nRetrying due to null\n2023-04-08 23:42:41.575  INFO 19628 --- [ctor-http-nio-6] com.retryable.service.WebClientService   : Errors response customNameModel(firstName=Justin, lastName=Wayne)\n</code></pre>\n<p>log when server is having Error in response like 500+ or 400+</p>\n<pre><code>Retrying due to 500 Internal Server Error from POST http://localhost:8081/name\nRetrying due to 500 Internal Server Error from POST http://localhost:8081/name\nRetrying due to 500 Internal Server Error from POST http://localhost:8081/name\n</code></pre>\n"},{"tags":["java","docker","dockerfile"],"comments":[{"owner":{"account_id":12487987,"reputation":181,"user_id":9090571,"display_name":"Kshitij Joshi"},"score":0,"creation_date":1661863873,"post_id":73542206,"comment_id":129868658,"body_markdown":"The name of the file should be `Dockerfile` and it is case sensitive. Are you using vscode to send the build command? Maybe it&#39;s lowercasing the file name. Refer\nhttps://github.com/docker/buildx/issues/415","body":"The name of the file should be <code>Dockerfile</code> and it is case sensitive. Are you using vscode to send the build command? Maybe it&#39;s lowercasing the file name. Refer <a href=\"https://github.com/docker/buildx/issues/415\" rel=\"nofollow noreferrer\">github.com/docker/buildx/issues/415</a>"},{"owner":{"account_id":26198004,"reputation":13,"user_id":19878848,"display_name":"Tony Cavanagh"},"score":0,"creation_date":1661864187,"post_id":73542206,"comment_id":129868780,"body_markdown":"It is called Dockerfile. That was just a mistake on my part when writing my comment. As I pointed out it was working, and then just stopped working. \nDo you know how I can ls on the directory docker.io/library","body":"It is called Dockerfile. That was just a mistake on my part when writing my comment. As I pointed out it was working, and then just stopped working.  Do you know how I can ls on the directory docker.io/library"}],"answers":[{"tags":[],"owner":{"account_id":15714218,"reputation":362,"user_id":11338800,"display_name":"lendoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680968853,"creation_date":1680968853,"answer_id":75966168,"question_id":73542206,"body_markdown":"in the `Dockerfile`\r\n```bash\r\nFROM openjdk:8-jdk-alpine\r\n```\r\n\r\nThis one works for me","title":"Getting error: code = Unknown desc = docker.io/library/java:8: not found","body":"<p>in the <code>Dockerfile</code></p>\n<pre class=\"lang-bash prettyprint-override\"><code>FROM openjdk:8-jdk-alpine\n</code></pre>\n<p>This one works for me</p>\n"}],"owner":{"account_id":26198004,"reputation":13,"user_id":19878848,"display_name":"Tony Cavanagh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1027,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680968853,"creation_date":1661861215,"question_id":73542206,"body_markdown":"I have been using Docker with an image for the last few months, and then. I stared getting the following error\r\n```\r\n[+] Building 3.3s (6/6) FINISHED                                                                                                                                                       \r\n =&gt; [internal] load build definition from Dockerfile                                                                                                                              0.0s\r\n =&gt; =&gt; transferring dockerfile: 37B                                                                                                                                               0.0s\r\n =&gt; [internal] load .dockerignore                                                                                                                                                 0.0s\r\n =&gt; =&gt; transferring context: 2B                                                                                                                                                   0.0s\r\n =&gt; resolve image config for docker.io/docker/dockerfile:experimental                                                                                                             1.9s\r\n =&gt; CACHED docker-image://docker.io/docker/dockerfile:experimental@sha256:600e5c62eedff338b3f7a0850beb7c05866e0ef27b2d2e8c02aa468e78496ff5                                        0.0s\r\n =&gt; [internal] load metadata for docker.io/library/maven:3.6.2-jdk-8                                                                                                              0.9s\r\n =&gt; ERROR [internal] load metadata for docker.io/library/java:8                                                                                                                   1.0s\r\n------\r\n &gt; [internal] load metadata for docker.io/library/java:8:\r\n------\r\nfailed to solve with frontend dockerfile.v0: failed to solve with frontend gateway.v0: rpc error: code = Unknown desc = docker.io/library/java:8: not found\r\n```\r\n\r\nI ran the following command on the container that the image sits in\r\n\r\n```\r\ndocker exec container_name java -version\r\n```\r\nI got back\r\n```\r\nopenjdk version &quot;1.8.0_111&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_111-8u111-b14-2~bpo8+1-b14)\r\nOpenJDK 64-Bit Server VM (build 25.111-b14, mixed mode)\r\n```\r\nI am not an expert on docker, and I have no idea how I can list whatis in the directory docker.io/library/\r\n\r\nDockerfile calls java 8.\r\n\r\nAll I know was that it was working, and now its stopped working\r\n\r\nThankyou for any help, and/or pointers.\r\n","title":"Getting error: code = Unknown desc = docker.io/library/java:8: not found","body":"<p>I have been using Docker with an image for the last few months, and then. I stared getting the following error</p>\n<pre><code>[+] Building 3.3s (6/6) FINISHED                                                                                                                                                       \n =&gt; [internal] load build definition from Dockerfile                                                                                                                              0.0s\n =&gt; =&gt; transferring dockerfile: 37B                                                                                                                                               0.0s\n =&gt; [internal] load .dockerignore                                                                                                                                                 0.0s\n =&gt; =&gt; transferring context: 2B                                                                                                                                                   0.0s\n =&gt; resolve image config for docker.io/docker/dockerfile:experimental                                                                                                             1.9s\n =&gt; CACHED docker-image://docker.io/docker/dockerfile:experimental@sha256:600e5c62eedff338b3f7a0850beb7c05866e0ef27b2d2e8c02aa468e78496ff5                                        0.0s\n =&gt; [internal] load metadata for docker.io/library/maven:3.6.2-jdk-8                                                                                                              0.9s\n =&gt; ERROR [internal] load metadata for docker.io/library/java:8                                                                                                                   1.0s\n------\n &gt; [internal] load metadata for docker.io/library/java:8:\n------\nfailed to solve with frontend dockerfile.v0: failed to solve with frontend gateway.v0: rpc error: code = Unknown desc = docker.io/library/java:8: not found\n</code></pre>\n<p>I ran the following command on the container that the image sits in</p>\n<pre><code>docker exec container_name java -version\n</code></pre>\n<p>I got back</p>\n<pre><code>openjdk version &quot;1.8.0_111&quot;\nOpenJDK Runtime Environment (build 1.8.0_111-8u111-b14-2~bpo8+1-b14)\nOpenJDK 64-Bit Server VM (build 25.111-b14, mixed mode)\n</code></pre>\n<p>I am not an expert on docker, and I have no idea how I can list whatis in the directory docker.io/library/</p>\n<p>Dockerfile calls java 8.</p>\n<p>All I know was that it was working, and now its stopped working</p>\n<p>Thankyou for any help, and/or pointers.</p>\n"},{"tags":["java","spring","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":8277734,"reputation":1488,"user_id":8636565,"display_name":"Daniel Jacob"},"score":3,"creation_date":1593417507,"post_id":62633583,"comment_id":110762973,"body_markdown":"Show us your pom.xml","body":"Show us your pom.xml"},{"owner":{"account_id":9585350,"reputation":3325,"user_id":7118342,"display_name":"Harmandeep Singh Kalsi"},"score":1,"creation_date":1593417511,"post_id":62633583,"comment_id":110762979,"body_markdown":"Can you paste the pom.xml here?","body":"Can you paste the pom.xml here?"},{"owner":{"account_id":10681943,"reputation":167,"user_id":10430513,"display_name":"Zishan Khan"},"score":4,"creation_date":1593417777,"post_id":62633583,"comment_id":110763103,"body_markdown":"Make sure you have added `spring-boot-starter-web` dependency to your pom.xml","body":"Make sure you have added <code>spring-boot-starter-web</code> dependency to your pom.xml"},{"owner":{"account_id":18956238,"reputation":15,"user_id":13832775,"display_name":"Martixx"},"score":0,"creation_date":1593418430,"post_id":62633583,"comment_id":110763413,"body_markdown":"Posted it right now","body":"Posted it right now"},{"owner":{"account_id":10681943,"reputation":167,"user_id":10430513,"display_name":"Zishan Khan"},"score":0,"creation_date":1593418722,"post_id":62633583,"comment_id":110763578,"body_markdown":"@Martixx add this depdendency &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;","body":"@Martixx add this depdendency &lt;dependency&gt;             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;             &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;         &lt;/dependency&gt;"},{"owner":{"account_id":8447079,"reputation":1138,"user_id":6337331,"display_name":"Mafick"},"score":0,"creation_date":1593420581,"post_id":62633583,"comment_id":110764451,"body_markdown":"Does this answer your question? [Deploy Spring Boot to Tomcat](https://stackoverflow.com/questions/24741816/deploy-spring-boot-to-tomcat)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24741816/deploy-spring-boot-to-tomcat\">Deploy Spring Boot to Tomcat</a>"}],"answers":[{"tags":[],"owner":{"account_id":3845428,"reputation":2373,"user_id":3187132,"display_name":"ylev"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1680967540,"creation_date":1593440154,"answer_id":62640097,"question_id":62633583,"body_markdown":"`@RestController` annotation is included in `spring-web-X.X.X.jar`\r\nYou need to include `spring-boot-starter-web` dependency in your `pom.xml` file:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nby yl","title":"Spring-Boot Maven, missing dependency @RestController","body":"<p><code>@RestController</code> annotation is included in <code>spring-web-X.X.X.jar</code>\nYou need to include <code>spring-boot-starter-web</code> dependency in your <code>pom.xml</code> file:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>by yl</p>\n"}],"owner":{"account_id":18956238,"reputation":15,"user_id":13832775,"display_name":"Martixx"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24503,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62640097,"answer_count":1,"score":1,"last_activity_date":1680967540,"creation_date":1593417309,"question_id":62633583,"body_markdown":"I&#39;m new to the Springboot and Maven area and wanted to ask what I did wrong here / why it doesn&#39;t work that way.\r\n\r\n[My Code][1]\r\n\r\n[Says, missing Maven dependency][2]\r\n\r\nNormally it should add after I type the annotation &quot;@RestController&quot; -&gt; import org.springframework.web.bind.annotation.RestController;\r\n\r\nWhat should I do?\r\n\r\nMy POM\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t    &lt;parent&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n\t\t    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t    &lt;/parent&gt;\r\n\t    &lt;groupId&gt;de.martinm&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;SimpleTest&lt;/artifactId&gt;\r\n\t    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t    &lt;name&gt;SimpleTest&lt;/name&gt;\r\n\t    &lt;description&gt;Test project using Spring&lt;/description&gt;\r\n\r\n    \t&lt;properties&gt;\r\n\t    \t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t    &lt;/properties&gt;\r\n\r\n    \t&lt;dependencies&gt;\r\n\t    \t&lt;dependency&gt;\r\n\t\t    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n    \t\t&lt;dependency&gt;\r\n\t    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t    \t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n\t    \t\t\t&lt;exclusion&gt;\r\n\t\t    \t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t    \t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t    &lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n\t    \t&lt;/dependency&gt;\r\n\t\t    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t    \t\t&lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n\t\t    \t&lt;version&gt;3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\t    &lt;/dependencies&gt;\r\n\r\n    \t&lt;build&gt;\r\n\t    \t&lt;plugins&gt;\r\n\t\t    \t&lt;plugin&gt;\r\n\t\t\t    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n\t    \t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n  [1]: https://ibb.co/B39nbSF\r\n  [2]: https://ibb.co/Lrnv0pX","title":"Spring-Boot Maven, missing dependency @RestController","body":"<p>I'm new to the Springboot and Maven area and wanted to ask what I did wrong here / why it doesn't work that way.</p>\n<p><a href=\"https://ibb.co/B39nbSF\" rel=\"nofollow noreferrer\">My Code</a></p>\n<p><a href=\"https://ibb.co/Lrnv0pX\" rel=\"nofollow noreferrer\">Says, missing Maven dependency</a></p>\n<p>Normally it should add after I type the annotation &quot;@RestController&quot; -&gt; import org.springframework.web.bind.annotation.RestController;</p>\n<p>What should I do?</p>\n<p>My POM</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;de.martinm&lt;/groupId&gt;\n    &lt;artifactId&gt;SimpleTest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SimpleTest&lt;/name&gt;\n    &lt;description&gt;Test project using Spring&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","webclient"],"comments":[{"owner":{"account_id":7635183,"reputation":1513,"user_id":5788941,"display_name":"Alexandre Cartapanis"},"score":0,"creation_date":1680350531,"post_id":75867589,"comment_id":133885724,"body_markdown":"You can use a the spring retry project : https://github.com/spring-projects/spring-retry","body":"You can use a the spring retry project : <a href=\"https://github.com/spring-projects/spring-retry\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-retry</a>"}],"answers":[{"comments":[{"owner":{"account_id":6901192,"reputation":59,"user_id":5300766,"display_name":"Marcelo Leite"},"score":0,"creation_date":1680699211,"post_id":75905603,"comment_id":133941982,"body_markdown":"Upvoting for the working retry configuration example. Spring documentation does not mention how to implement it and none of the code examples I found actually works.","body":"Upvoting for the working retry configuration example. Spring documentation does not mention how to implement it and none of the code examples I found actually works."}],"tags":[],"owner":{"account_id":2979530,"reputation":372,"user_id":2529828,"display_name":"Centonni"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1680351115,"creation_date":1680344753,"answer_id":75905603,"question_id":75867589,"body_markdown":"You need to use **ExchangeFilterFunctions** that will help you define your retry logic.\r\n\r\n\r\n\r\n        @Bean\r\n        FooClient fooClient() {\r\n            WebClient webClient =WebClient.builder()\r\n                .baseUrl(&quot;your_base_url&quot;)\r\n                .filter(withRetryableRequests())\r\n                .build();\r\n            HttpServiceProxyFactory factory=HttpServiceProxyFactory\r\n                .builder(WebClientAdapter.forClient(webClient))\r\n                .blockTimeout(Duration.of(HTTP_CLIENT_READ_TIMEOUT, ChronoUnit.SECONDS)) // Configure how long to wait for a response for an HTTP service method with a synchronous (blocking) method signature.By default this is 5 seconds.\r\n                .build();\r\n            return factory.createClient(FooClient.class);\r\n        }\r\n    \r\n      \r\n        private ExchangeFilterFunction withRetryableRequests() {\r\n            return (request, next) -&gt; next.exchange(request)\r\n                    .flatMap(clientResponse -&gt; Mono.just(clientResponse)\r\n                            .filter(response -&gt;  clientResponse.statusCode().isError())\r\n                            .flatMap(response -&gt; clientResponse.createException())\r\n                            .flatMap(Mono::error)\r\n                            .thenReturn(clientResponse))\r\n                    .retryWhen(this.retryBackoffSpec());\r\n        }\r\n        \r\n        private RetryBackoffSpec retryBackoffSpec() {\r\n            return Retry.backoff(3, Duration.ofSeconds(2))\r\n                    .filter(throwable-&gt;throwable instanceof  WebClientResponseException) // here filter on the errors for which you want a retry\r\n                    .doBeforeRetry(retrySignal -&gt; log.warn(&quot;Retrying request after following exception : {}&quot;,  retrySignal.failure().getLocalizedMessage()))\r\n                    .onRetryExhaustedThrow((retryBackoffSpec, retrySignal)  -&gt; retrySignal.failure());\r\n        }\r\n\r\n**[EDIT]** For the particular case that you encounter, i.e. the exception\r\n\r\n    java.lang.IllegalStateException: Timeout on blocking read for 5000000000 NANOSECONDS\r\n\r\nthe probable cause is that your service is waiting for the answer to the request and after 5 seconds (by default), the service hangs up.\r\n\r\nIt would be necessary to increase the read timeout of the http client used.\r\nI have edited the code accordingly with a comment on the line concerned.","title":"Retry for Spring @HttpExchange","body":"<p>You need to use <strong>ExchangeFilterFunctions</strong> that will help you define your retry logic.</p>\n<pre><code>    @Bean\n    FooClient fooClient() {\n        WebClient webClient =WebClient.builder()\n            .baseUrl(&quot;your_base_url&quot;)\n            .filter(withRetryableRequests())\n            .build();\n        HttpServiceProxyFactory factory=HttpServiceProxyFactory\n            .builder(WebClientAdapter.forClient(webClient))\n            .blockTimeout(Duration.of(HTTP_CLIENT_READ_TIMEOUT, ChronoUnit.SECONDS)) // Configure how long to wait for a response for an HTTP service method with a synchronous (blocking) method signature.By default this is 5 seconds.\n            .build();\n        return factory.createClient(FooClient.class);\n    }\n\n  \n    private ExchangeFilterFunction withRetryableRequests() {\n        return (request, next) -&gt; next.exchange(request)\n                .flatMap(clientResponse -&gt; Mono.just(clientResponse)\n                        .filter(response -&gt;  clientResponse.statusCode().isError())\n                        .flatMap(response -&gt; clientResponse.createException())\n                        .flatMap(Mono::error)\n                        .thenReturn(clientResponse))\n                .retryWhen(this.retryBackoffSpec());\n    }\n    \n    private RetryBackoffSpec retryBackoffSpec() {\n        return Retry.backoff(3, Duration.ofSeconds(2))\n                .filter(throwable-&gt;throwable instanceof  WebClientResponseException) // here filter on the errors for which you want a retry\n                .doBeforeRetry(retrySignal -&gt; log.warn(&quot;Retrying request after following exception : {}&quot;,  retrySignal.failure().getLocalizedMessage()))\n                .onRetryExhaustedThrow((retryBackoffSpec, retrySignal)  -&gt; retrySignal.failure());\n    }\n</code></pre>\n<p><strong>[EDIT]</strong> For the particular case that you encounter, i.e. the exception</p>\n<pre><code>java.lang.IllegalStateException: Timeout on blocking read for 5000000000 NANOSECONDS\n</code></pre>\n<p>the probable cause is that your service is waiting for the answer to the request and after 5 seconds (by default), the service hangs up.</p>\n<p>It would be necessary to increase the read timeout of the http client used.\nI have edited the code accordingly with a comment on the line concerned.</p>\n"}],"owner":{"account_id":7544084,"reputation":65,"user_id":6415159,"display_name":"munky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":807,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75905603,"answer_count":1,"score":0,"last_activity_date":1680967418,"creation_date":1680013856,"question_id":75867589,"body_markdown":"I&#39;m using `Spring-boot-3` `@GetExchange` with a `WebClient`, sometimes we hit a following error:\r\n```\r\njava.lang.IllegalStateException: Timeout on blocking read for 5000000000 NANOSECONDS\r\n```\r\n\r\nWhat&#39;s the best practice, in case of using `@GetExchange` to instruct the `WebClient` to retry? There isn&#39;t enough documentation for this new annotation.","title":"Retry for Spring @HttpExchange","body":"<p>I'm using <code>Spring-boot-3</code> <code>@GetExchange</code> with a <code>WebClient</code>, sometimes we hit a following error:</p>\n<pre><code>java.lang.IllegalStateException: Timeout on blocking read for 5000000000 NANOSECONDS\n</code></pre>\n<p>What's the best practice, in case of using <code>@GetExchange</code> to instruct the <code>WebClient</code> to retry? There isn't enough documentation for this new annotation.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1680963124,"post_id":75965659,"comment_id":133984609,"body_markdown":"implement an interface","body":"implement an interface"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1680963157,"post_id":75965659,"comment_id":133984619,"body_markdown":"Java doesn&#39;t support multiple inheritance, so one major implementation is denied to you.  You could also inherit from say `Cow`, to make a `PetCow`.  You could employ a Strategy Pattern where certain behaviors inside `Animal` can be replaced, and use a `PetBehavior` on certain animals.  `Pet&lt;T extends Animal&gt;` and a `PetWrapper` seem the same idea to me, they&#39;re both wrappers.  There might be other ideas I can&#39;t think of right now...","body":"Java doesn&#39;t support multiple inheritance, so one major implementation is denied to you.  You could also inherit from say <code>Cow</code>, to make a <code>PetCow</code>.  You could employ a Strategy Pattern where certain behaviors inside <code>Animal</code> can be replaced, and use a <code>PetBehavior</code> on certain animals.  <code>Pet&lt;T extends Animal&gt;</code> and a <code>PetWrapper</code> seem the same idea to me, they&#39;re both wrappers.  There might be other ideas I can&#39;t think of right now..."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1680963338,"post_id":75965659,"comment_id":133984641,"body_markdown":"(I think what Old Programmer is saying is that if you make `Pet` an interface, then you can use `class PetCow extends Cow implements Pet` and you can have both on the same class, without multiple inheritance.)","body":"(I think what Old Programmer is saying is that if you make <code>Pet</code> an interface, then you can use <code>class PetCow extends Cow implements Pet</code> and you can have both on the same class, without multiple inheritance.)"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1680963691,"post_id":75965659,"comment_id":133984695,"body_markdown":"@markspace actually, Java does not support multiple inheritance of classes but it does support multiple inheritance of interfaces.","body":"@markspace actually, Java does not support multiple inheritance of classes but it does support multiple inheritance of interfaces."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1680963778,"post_id":75965659,"comment_id":133984708,"body_markdown":"Weelll, that is commonly expressed as &quot;doesn&#39;t support multiple inheritance.&quot;  What everyone means by &quot;multiple inheritance&quot; is that you can inherit state variables from more than one class, and that gets into the diamond problem.  No diamond problem = no multiple inheritance.","body":"Weelll, that is commonly expressed as &quot;doesn&#39;t support multiple inheritance.&quot;  What everyone means by &quot;multiple inheritance&quot; is that you can inherit state variables from more than one class, and that gets into the diamond problem.  No diamond problem = no multiple inheritance."}],"answers":[{"comments":[{"owner":{"account_id":20157184,"reputation":300,"user_id":16996584,"display_name":"The Justice King"},"score":0,"creation_date":1680973671,"post_id":75966052,"comment_id":133986074,"body_markdown":"Changed it a little bit to work for my situation. Thanks a lot for your help!","body":"Changed it a little bit to work for my situation. Thanks a lot for your help!"}],"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680967407,"creation_date":1680967407,"answer_id":75966052,"question_id":75965659,"body_markdown":"&gt; Alternatively, Pet could be a wrapper that somehow redirects the desired methods to some other method.\r\n\r\nThis smells like a job for the [Decorator Pattern][1]. The idea is your `Pet` class both _is_ and _has_ an animal, so it can be used as an `Animal` but then delegate to the wrapped class when needed.\r\n\r\n    public class Pet extends Animal {\r\n        private final Animal mDecoratedAnimal;\r\n\r\n        public Pet(Animal animalToDecorate) {\r\n            mDecoratedAnimal = animalToDecorate;\r\n        }\r\n\r\n        @Override\r\n        public void ai() { mDecoratedAnimal.ai() } // Just delegate\r\n\r\n        @Override void die() {\r\n            // Extra logic\r\n            mDecoratedAnimal.die();\r\n        }\r\n\r\n        @Override\r\n        public void dropLoot(){\r\n            // This runs instead of whatever is in Cow or Pig classes}\r\n        }\r\n    }\r\n        \r\nThen when you need to use it:\r\n\r\n    Animal cow = new Cow();\r\n    Animal pig = new Pig();\r\n    Animal petCow = new Pet(cow);\r\n    Animal petPig = new Pet(pig);\r\n\r\n    // Use petCow and petPig like any other animal:\r\n    petCow.ai() // Does Cow AI\r\n    petPig.ai() // Does Pig AI\r\n    petCow.dropLoot() // Does custom pet loot dropping\r\n    petPig.dropLoot() // Does custom pet loot dropping\r\n    petCow.die() // Does pet stuff then cow dies\r\n    petPig.die() // Does pet stuff then pig dies\r\n\r\n  \r\n   \r\n\r\n  [1]: https://www.google.com/search?q=decorator%20pattern%20java","title":"Class that extends subclasses of another class?","body":"<blockquote>\n<p>Alternatively, Pet could be a wrapper that somehow redirects the desired methods to some other method.</p>\n</blockquote>\n<p>This smells like a job for the <a href=\"https://www.google.com/search?q=decorator%20pattern%20java\" rel=\"nofollow noreferrer\">Decorator Pattern</a>. The idea is your <code>Pet</code> class both <em>is</em> and <em>has</em> an animal, so it can be used as an <code>Animal</code> but then delegate to the wrapped class when needed.</p>\n<pre><code>public class Pet extends Animal {\n    private final Animal mDecoratedAnimal;\n\n    public Pet(Animal animalToDecorate) {\n        mDecoratedAnimal = animalToDecorate;\n    }\n\n    @Override\n    public void ai() { mDecoratedAnimal.ai() } // Just delegate\n\n    @Override void die() {\n        // Extra logic\n        mDecoratedAnimal.die();\n    }\n\n    @Override\n    public void dropLoot(){\n        // This runs instead of whatever is in Cow or Pig classes}\n    }\n}\n    \n</code></pre>\n<p>Then when you need to use it:</p>\n<pre><code>Animal cow = new Cow();\nAnimal pig = new Pig();\nAnimal petCow = new Pet(cow);\nAnimal petPig = new Pet(pig);\n\n// Use petCow and petPig like any other animal:\npetCow.ai() // Does Cow AI\npetPig.ai() // Does Pig AI\npetCow.dropLoot() // Does custom pet loot dropping\npetPig.dropLoot() // Does custom pet loot dropping\npetCow.die() // Does pet stuff then cow dies\npetPig.die() // Does pet stuff then pig dies\n</code></pre>\n"}],"owner":{"account_id":20157184,"reputation":300,"user_id":16996584,"display_name":"The Justice King"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75966052,"answer_count":1,"score":1,"last_activity_date":1680967407,"creation_date":1680962508,"question_id":75965659,"body_markdown":"Say you have a Base Class, Animal. This Animal class has various abstract and overridable methods.\r\n\r\nYou have a subclass, Cow, which extends Animal. This class implements and overrides some methods.\r\n\r\nYou have another subclass, Pig, which extends Animal. This class implements and overrides some methods differently.\r\n\r\nFinally, you have the class Pet. This Pet class needs to override certain methods within the Animal class, while leaving the AI methods and such for the Cow and Pig untouched.\r\n\r\nAs a constraint, I can&#39;t change alter the Cow and Pig class. But, it would basically act like the Cow and the Pig were subclasses of Pet, which is a subclass of Animal.\r\n\r\nHere is an example of what I am thinking of:\r\n```\r\npublic abstract class Animal {\r\n  public abstract void eat();\r\n  public abstract void ai();\r\n  public abstract void die();\r\n  public abstract void dropLoot();\r\n}\r\n\r\npublic class Cow {\r\n  @Override\r\n  public void eat(){//foo}\r\n  @Override\r\n  public void ai(){//bar}\r\n  @Override\r\n  public void die(){//fig}\r\n  @Override\r\n  public void dropLoot(){//this would run normally}\r\n  public void moo(){\r\n    //Method for Reason\r\n  }\r\n}\r\n\r\npublic class Pig {\r\n  //Same thing here\r\n}\r\n\r\npublic class Pet&lt;T extends Animal&gt; extends T //Just visual. This doesn&#39;t work {\r\n  @Override\r\n  public void die(){\r\n    //extra logic\r\n    base.die(); //Returns up to the cow or pig instance\r\n  }\r\n  @Override\r\n  public void dropLoot(){//this runs instead of whatever is in Cow or Pig classes}\r\n  \r\n  //I can only override methods that exist in Animal class, so Cow.moo is out of reach\r\n}\r\n```\r\n\r\nThat is my idea, at least. Alternatively, Pet could be a wrapper that somehow redirects the desired methods to some other method.\r\n\r\n\r\n```\r\npublic class Pet {\r\n  Animal animal;\r\n\r\n  @Override(animal.dropLoot()) //Hypothetical implementation that doesn&#39;t currently work\r\n  public void HandleDropLoot(){\r\n    //This runs instead of animal.dropLoot, acting as an override.\r\n  }\r\n}\r\n```\r\n\r\nThe problem is, I can&#39;t alter Cow or Pig, so I can only add on to the code. Either of these would work for my case.\r\n\r\n\r\nI tried finding a way to simply use (? extends Animal) during the extends, but that threw a compiler error.\r\n\r\nI tried using Generics, but that also did not work. (i.e. Pet&lt;T extends Animal&gt; extends T)\r\n\r\nI tried the idea of just having the Animal as a variable with Wrapping, but I still have the problem of overriding or redirecting the methods in the Animal class.","title":"Class that extends subclasses of another class?","body":"<p>Say you have a Base Class, Animal. This Animal class has various abstract and overridable methods.</p>\n<p>You have a subclass, Cow, which extends Animal. This class implements and overrides some methods.</p>\n<p>You have another subclass, Pig, which extends Animal. This class implements and overrides some methods differently.</p>\n<p>Finally, you have the class Pet. This Pet class needs to override certain methods within the Animal class, while leaving the AI methods and such for the Cow and Pig untouched.</p>\n<p>As a constraint, I can't change alter the Cow and Pig class. But, it would basically act like the Cow and the Pig were subclasses of Pet, which is a subclass of Animal.</p>\n<p>Here is an example of what I am thinking of:</p>\n<pre><code>public abstract class Animal {\n  public abstract void eat();\n  public abstract void ai();\n  public abstract void die();\n  public abstract void dropLoot();\n}\n\npublic class Cow {\n  @Override\n  public void eat(){//foo}\n  @Override\n  public void ai(){//bar}\n  @Override\n  public void die(){//fig}\n  @Override\n  public void dropLoot(){//this would run normally}\n  public void moo(){\n    //Method for Reason\n  }\n}\n\npublic class Pig {\n  //Same thing here\n}\n\npublic class Pet&lt;T extends Animal&gt; extends T //Just visual. This doesn't work {\n  @Override\n  public void die(){\n    //extra logic\n    base.die(); //Returns up to the cow or pig instance\n  }\n  @Override\n  public void dropLoot(){//this runs instead of whatever is in Cow or Pig classes}\n  \n  //I can only override methods that exist in Animal class, so Cow.moo is out of reach\n}\n</code></pre>\n<p>That is my idea, at least. Alternatively, Pet could be a wrapper that somehow redirects the desired methods to some other method.</p>\n<pre><code>public class Pet {\n  Animal animal;\n\n  @Override(animal.dropLoot()) //Hypothetical implementation that doesn't currently work\n  public void HandleDropLoot(){\n    //This runs instead of animal.dropLoot, acting as an override.\n  }\n}\n</code></pre>\n<p>The problem is, I can't alter Cow or Pig, so I can only add on to the code. Either of these would work for my case.</p>\n<p>I tried finding a way to simply use (? extends Animal) during the extends, but that threw a compiler error.</p>\n<p>I tried using Generics, but that also did not work. (i.e. Pet extends T)</p>\n<p>I tried the idea of just having the Animal as a variable with Wrapping, but I still have the problem of overriding or redirecting the methods in the Animal class.</p>\n"},{"tags":["java","geometry"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680968847,"post_id":75966038,"comment_id":133985409,"body_markdown":"Hi! Welcome to Stack Overflow. Please take the [tour](https://stackoverflow.com/tour), visit the [How to Ask a Good Question](https://stackoverflow.com/help/how-to-ask), and visit the links on those pages. You are expected to include in your question some code showing your attempt to solve this. Also, the question should include an explanation of where you are stuck, the problem you are having.","body":"Hi! Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask a Good Question</a>, and visit the links on those pages. You are expected to include in your question some code showing your attempt to solve this. Also, the question should include an explanation of where you are stuck, the problem you are having."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680968934,"post_id":75966038,"comment_id":133985426,"body_markdown":"Where does this problem come from? Can you, please, provide a link?","body":"Where does this problem come from? Can you, please, provide a link?"},{"owner":{"account_id":28250352,"reputation":1,"user_id":21596702,"display_name":"Fabian Nogales"},"score":0,"creation_date":1680969352,"post_id":75966038,"comment_id":133985495,"body_markdown":"I didn&#39;t get the exercise from any link, they gave it to me at the university","body":"I didn&#39;t get the exercise from any link, they gave it to me at the university"},{"owner":{"account_id":449564,"reputation":78084,"user_id":844416,"display_name":"MBo"},"score":1,"creation_date":1680970204,"post_id":75966038,"comment_id":133985616,"body_markdown":"You have to elaborate math solution, calculate angle of common chord and corresponding arc length and chord length to find difference with two circumferences. Then implement this solution in programming language.  If you have problems with YOUR program solution - welcome, ask for specific question.","body":"You have to elaborate math solution, calculate angle of common chord and corresponding arc length and chord length to find difference with two circumferences. Then implement this solution in programming language.  If you have problems with YOUR program solution - welcome, ask for specific question."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680998491,"post_id":75966038,"comment_id":133988860,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1681238964,"post_id":75966038,"comment_id":134023598,"body_markdown":"Was this problem given by a professor in a computer programming course? Or did it come from a math professor, and you are trying to use Java to solve it?","body":"Was this problem given by a professor in a computer programming course? Or did it come from a math professor, and you are trying to use Java to solve it?"}],"owner":{"account_id":28250352,"reputation":1,"user_id":21596702,"display_name":"Fabian Nogales"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680967249,"creation_date":1680967249,"question_id":75966038,"body_markdown":"Pepe has given himself the task of making a beautiful figure eight, they told him that one way is by drawing two circles that partially intersect and that are framed in a rectangle with base b and height a.\r\n\r\nThe height is never less than the base and it is never greater than or equal to twice the base. The circles that are drawn are tangent to three sides of the rectangle and are located at opposite ends, as shown in figure 1.\r\n[enter image description here](https://i.stack.imgur.com/KveRf.png)\r\n\r\nYou want to know how much ink should be used to draw the beautiful eight, the amount of ink to use is equivalent to the periphery painted red.\r\n\r\nFor example: if base (b) is 2 and height (a) is 3, the amount of ink required is 10.109631217141658\r\n\r\nWrite the method whose signature is:\r\n\r\n               double inkAmount(int b, int a)\r\n\r\nthat allows calculating the amount of ink required to make the 8 beautiful; given b and a, which are the base and height respectively.\r\n\r\ntry to solve by finding perimeters of the circles and subtracting the arcs of gray color","title":"How to find the periphery of an 8 formed by two circles that partially intersect and that are framed in a rectangle?","body":"<p>Pepe has given himself the task of making a beautiful figure eight, they told him that one way is by drawing two circles that partially intersect and that are framed in a rectangle with base b and height a.</p>\n<p>The height is never less than the base and it is never greater than or equal to twice the base. The circles that are drawn are tangent to three sides of the rectangle and are located at opposite ends, as shown in figure 1.\n<a href=\"https://i.stack.imgur.com/KveRf.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>You want to know how much ink should be used to draw the beautiful eight, the amount of ink to use is equivalent to the periphery painted red.</p>\n<p>For example: if base (b) is 2 and height (a) is 3, the amount of ink required is 10.109631217141658</p>\n<p>Write the method whose signature is:</p>\n<pre><code>           double inkAmount(int b, int a)\n</code></pre>\n<p>that allows calculating the amount of ink required to make the 8 beautiful; given b and a, which are the base and height respectively.</p>\n<p>try to solve by finding perimeters of the circles and subtracting the arcs of gray color</p>\n"},{"tags":["java","opencv","android"],"owner":{"account_id":28249882,"reputation":11,"user_id":21596303,"display_name":"Jinsn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680966859,"creation_date":1680963806,"question_id":75965775,"body_markdown":"I am a student who is preparing to participate in a competition that involves using libraries such as OpenCV for recognition and processing. I have been learning the basics of OpenCV for over a month now and I have encountered a very tricky problem. I am able to use OpenCV to recognize polygons that have five random types and seven colors. I have already solved the problem of identifying the colors and shapes, but I do not know how to exclude the polygons that are occluded. Please see the second column for more details.\r\n\r\nI&#39;m trying to use the Android version of OpenCV to solve the problem of polygon recognition. Currently, the method used is to obtain a binary image using the `inRange()` method, then use the `findContours()` method to find contours, perform opening and closing operations on the obtained contours, and then use the `approxPolyDP()` method for polygonal approximation. Finally, use the `convexHull()` method to detect the corners and determine the type of polygon. This method can recognize simple polygons, but it also recognizes polygons covered by foreground, which are invalid (should be excluded). What should I do to exclude these covered polygons?\r\n\r\n**Example Image:**\r\n[enter image description here](https://i.stack.imgur.com/ijx2S.jpg)\r\n\r\nCould someone please assist me? Thank you very much!","title":"How to exclude occluded objects using OpenCV?","body":"<p>I am a student who is preparing to participate in a competition that involves using libraries such as OpenCV for recognition and processing. I have been learning the basics of OpenCV for over a month now and I have encountered a very tricky problem. I am able to use OpenCV to recognize polygons that have five random types and seven colors. I have already solved the problem of identifying the colors and shapes, but I do not know how to exclude the polygons that are occluded. Please see the second column for more details.</p>\n<p>I'm trying to use the Android version of OpenCV to solve the problem of polygon recognition. Currently, the method used is to obtain a binary image using the <code>inRange()</code> method, then use the <code>findContours()</code> method to find contours, perform opening and closing operations on the obtained contours, and then use the <code>approxPolyDP()</code> method for polygonal approximation. Finally, use the <code>convexHull()</code> method to detect the corners and determine the type of polygon. This method can recognize simple polygons, but it also recognizes polygons covered by foreground, which are invalid (should be excluded). What should I do to exclude these covered polygons?</p>\n<p><strong>Example Image:</strong>\n<a href=\"https://i.stack.imgur.com/ijx2S.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Could someone please assist me? Thank you very much!</p>\n"},{"tags":["java","grails"],"answers":[{"tags":[],"owner":{"account_id":8752112,"reputation":1459,"user_id":6544942,"accept_rate":92,"display_name":"Anton Hlinisty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490861113,"creation_date":1490861113,"answer_id":43111944,"question_id":43105681,"body_markdown":"You can create your own annotations and use filters/interceptors to check if request method corresponds the given annotation. You can find more details [here][1].\r\n\r\n\r\n  [1]: http://burtbeckwith.com/blog/?p=80","title":"In Grails, is there a way to restrict the HTTP request method type (other than the allowedMethods map)?","body":"<p>You can create your own annotations and use filters/interceptors to check if request method corresponds the given annotation. You can find more details <a href=\"http://burtbeckwith.com/blog/?p=80\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":2442252,"reputation":1159,"user_id":2130408,"accept_rate":48,"display_name":"gjvatsalya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680966143,"creation_date":1490828501,"question_id":43105681,"body_markdown":"For example, if I have a `save()` method, how can I restrict the HTTP request method of this action?  \r\n  \r\nLooking at the grails [documentation][1], it looks like I can use this `static allowedMethods = [...]` block to restrict access. However, it looks quite a bit clunky because the list can grow quite big and it can get very messy.  \r\n  \r\nIdeally, I would like to use annotations to describe the method. It could be something like this:  \r\n\r\n    @POST\r\n    def save() {\r\n        // save logic\r\n    }  \r\n\r\nThis way I know all the information related to the `save()` method right there. Instead of scrolling up and potentially seeing a huge messy list.  \r\n\r\nI&#39;d be happy to use an alternative way.\r\n\r\n  [1]: http://docs.grails.org/latest/ref/Controllers/allowedMethods.html","title":"In Grails, is there a way to restrict the HTTP request method type (other than the allowedMethods map)?","body":"<p>For example, if I have a <code>save()</code> method, how can I restrict the HTTP request method of this action?</p>\n<p>Looking at the grails <a href=\"http://docs.grails.org/latest/ref/Controllers/allowedMethods.html\" rel=\"nofollow noreferrer\">documentation</a>, it looks like I can use this <code>static allowedMethods = [...]</code> block to restrict access. However, it looks quite a bit clunky because the list can grow quite big and it can get very messy.</p>\n<p>Ideally, I would like to use annotations to describe the method. It could be something like this:</p>\n<pre><code>@POST\ndef save() {\n    // save logic\n}  \n</code></pre>\n<p>This way I know all the information related to the <code>save()</code> method right there. Instead of scrolling up and potentially seeing a huge messy list.</p>\n<p>I'd be happy to use an alternative way.</p>\n"},{"tags":["java","java-8","java-stream","data-generation"],"answers":[{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1421433384,"creation_date":1421433384,"answer_id":27990579,"question_id":27990451,"body_markdown":"The answer is in the javadoc of `Stream` (emphases mine):\r\n\r\n&gt; **A stream should be operated on (invoking an intermediate or terminal stream operation) only once**. This rules out, for example, &quot;forked&quot; streams, where the same source feeds two or more pipelines, or multiple traversals of the same stream. **A stream implementation may throw IllegalStateException if it detects that the stream is being reused**.\r\n\r\nAnd in your code, you do use the stream twice (once in `createOrder()` and the other usage when you `.limit().forEach()`","title":"Java 8 Stream IllegalStateException: Stream has already been operated on or closed","body":"<p>The answer is in the javadoc of <code>Stream</code> (emphases mine):</p>\n\n<blockquote>\n  <p><strong>A stream should be operated on (invoking an intermediate or terminal stream operation) only once</strong>. This rules out, for example, \"forked\" streams, where the same source feeds two or more pipelines, or multiple traversals of the same stream. <strong>A stream implementation may throw IllegalStateException if it detects that the stream is being reused</strong>.</p>\n</blockquote>\n\n<p>And in your code, you do use the stream twice (once in <code>createOrder()</code> and the other usage when you <code>.limit().forEach()</code></p>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421434398,"creation_date":1421433935,"answer_id":27990720,"question_id":27990451,"body_markdown":"[As fge states][1], you can&#39;t (shouldn&#39;t) consume a `Stream` more than once.\r\n\r\n&gt; Any idea how to fix this?\r\n\r\nFrom the Javadoc of [`Random#doubles(double, double)`][2]\r\n\r\n&gt; A pseudorandom double value is generated as if it&#39;s the result of\r\n&gt; calling the following method with the origin and bound:\r\n&gt;\r\n&gt;     double nextDouble(double origin, double bound) {\r\n&gt;         double r = nextDouble();\r\n&gt;         r = r * (bound - origin) + origin;\r\n&gt;         if (r &gt;= bound) // correct for rounding\r\n&gt;            r = Math.nextDown(bound);\r\n&gt;         return r;\r\n&gt;     }\r\n\r\nImplement such a method and use it to get a new `double` value each time you need one instead of trying to get it from a `DoubleStream`. Possibly use a `DoubleSupplier`.\r\n\r\n    private final Random random = new Random();\r\n    private DoubleSupplier supplier = () -&gt; nextDouble(random, 50.0, 200.0);\r\n\r\n    private Order createOrder() {\r\n\r\n        return new Order(supplier.getAsDouble());\r\n    }\r\n\r\n    private static double nextDouble(Random random, double origin, double bound) {\r\n        double r = random.nextDouble();\r\n        r = r * (bound - origin) + origin;\r\n        if (r &gt;= bound) // correct for rounding\r\n            r = Math.nextDown(bound);\r\n        return r;\r\n    }\r\n\r\nIf you&#39;re not going to reuse the `nextDouble` method, you can inline the values `50.0` and `200.0`.\r\n \r\n  [1]: https://stackoverflow.com/a/27990579/438154\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/Random.html#doubles-double-double-","title":"Java 8 Stream IllegalStateException: Stream has already been operated on or closed","body":"<p><a href=\"https://stackoverflow.com/a/27990579/438154\">As fge states</a>, you can't (shouldn't) consume a <code>Stream</code> more than once.</p>\n\n<blockquote>\n  <p>Any idea how to fix this?</p>\n</blockquote>\n\n<p>From the Javadoc of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Random.html#doubles-double-double-\" rel=\"nofollow noreferrer\"><code>Random#doubles(double, double)</code></a></p>\n\n<blockquote>\n  <p>A pseudorandom double value is generated as if it's the result of\n  calling the following method with the origin and bound:</p>\n\n<pre><code>double nextDouble(double origin, double bound) {\n    double r = nextDouble();\n    r = r * (bound - origin) + origin;\n    if (r &gt;= bound) // correct for rounding\n       r = Math.nextDown(bound);\n    return r;\n}\n</code></pre>\n</blockquote>\n\n<p>Implement such a method and use it to get a new <code>double</code> value each time you need one instead of trying to get it from a <code>DoubleStream</code>. Possibly use a <code>DoubleSupplier</code>.</p>\n\n<pre><code>private final Random random = new Random();\nprivate DoubleSupplier supplier = () -&gt; nextDouble(random, 50.0, 200.0);\n\nprivate Order createOrder() {\n\n    return new Order(supplier.getAsDouble());\n}\n\nprivate static double nextDouble(Random random, double origin, double bound) {\n    double r = random.nextDouble();\n    r = r * (bound - origin) + origin;\n    if (r &gt;= bound) // correct for rounding\n        r = Math.nextDown(bound);\n    return r;\n}\n</code></pre>\n\n<p>If you're not going to reuse the <code>nextDouble</code> method, you can inline the values <code>50.0</code> and <code>200.0</code>.</p>\n"},{"comments":[{"owner":{"account_id":1859358,"reputation":42899,"user_id":1684269,"accept_rate":91,"display_name":"Ole"},"score":0,"creation_date":1421440625,"post_id":27991858,"comment_id":44375458,"body_markdown":"Wow - That&#39;s very elegant - I love it!","body":"Wow - That&#39;s very elegant - I love it!"},{"owner":{"account_id":1859358,"reputation":42899,"user_id":1684269,"accept_rate":91,"display_name":"Ole"},"score":0,"creation_date":1421441461,"post_id":27991858,"comment_id":44375864,"body_markdown":"When I try it - Eclipse says: &quot;The constructed object of type Order is incompatible with the descriptor&#39;s return type double&quot;.  Thoughts?","body":"When I try it - Eclipse says: &quot;The constructed object of type Order is incompatible with the descriptor&#39;s return type double&quot;.  Thoughts?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1421489938,"post_id":27991858,"comment_id":44386444,"body_markdown":"I was in a hurry yesterday, hence the oversight, `map` has to be `mapToObj` as it changes the type from primitive type `double` to a reference type, fixed it.","body":"I was in a hurry yesterday, hence the oversight, <code>map</code> has to be <code>mapToObj</code> as it changes the type from primitive type <code>double</code> to a reference type, fixed it."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1421489812,"creation_date":1421438349,"answer_id":27991858,"question_id":27990451,"body_markdown":"As said in other answers, `Stream`s are single-use items and you have to create a new `Stream` each time you need one.\r\n\r\nBut, after all, this isn’t complicated when you remove all your attempts to store intermediate results. Your entire code can be expressed as:\r\n\r\n    Random r=new Random(); // the only stateful thing to remember\r\n\r\n    // defining and executing the chain of operations:\r\n    r.doubles(50.0, 200.0).mapToObj(Order::new).limit(10).forEach(System.out::println);\r\n\r\nor even simpler\r\n\r\n    r.doubles(10, 50.0, 200.0).mapToObj(Order::new).forEach(System.out::println);\r\n","title":"Java 8 Stream IllegalStateException: Stream has already been operated on or closed","body":"<p>As said in other answers, <code>Stream</code>s are single-use items and you have to create a new <code>Stream</code> each time you need one.</p>\n\n<p>But, after all, this isn’t complicated when you remove all your attempts to store intermediate results. Your entire code can be expressed as:</p>\n\n<pre><code>Random r=new Random(); // the only stateful thing to remember\n\n// defining and executing the chain of operations:\nr.doubles(50.0, 200.0).mapToObj(Order::new).limit(10).forEach(System.out::println);\n</code></pre>\n\n<p>or even simpler</p>\n\n<pre><code>r.doubles(10, 50.0, 200.0).mapToObj(Order::new).forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1859358,"reputation":42899,"user_id":1684269,"accept_rate":91,"display_name":"Ole"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421440565,"creation_date":1421440565,"answer_id":27992361,"question_id":27990451,"body_markdown":"Thank you - that was very helpful.  I also came up with a different implementation that works well for now:\r\n\r\n    private DoubleStream doubleStream = new Random().doubles(50.0, 200.0);\r\n\r\n    private List&lt;Order&gt; createOrders(int numberOfOrders) {\r\n\tList&lt;Order&gt; orders = new ArrayList&lt;&gt;();\r\n\tdoubleStream.limit(numberOfOrders).forEach((value) -&gt; {\r\n\t    Order order = new Order(value);\r\n\t    orders.add(order);\r\n\t});\r\n\treturn orders;\r\n    }\r\n\r\nThanks again!\r\n\r\nOle\r\n","title":"Java 8 Stream IllegalStateException: Stream has already been operated on or closed","body":"<p>Thank you - that was very helpful.  I also came up with a different implementation that works well for now:</p>\n\n<pre><code>private DoubleStream doubleStream = new Random().doubles(50.0, 200.0);\n\nprivate List&lt;Order&gt; createOrders(int numberOfOrders) {\nList&lt;Order&gt; orders = new ArrayList&lt;&gt;();\ndoubleStream.limit(numberOfOrders).forEach((value) -&gt; {\n    Order order = new Order(value);\n    orders.add(order);\n});\nreturn orders;\n}\n</code></pre>\n\n<p>Thanks again!</p>\n\n<p>Ole</p>\n"},{"comments":[{"owner":{"account_id":1859358,"reputation":42899,"user_id":1684269,"accept_rate":91,"display_name":"Ole"},"score":0,"creation_date":1421447098,"post_id":27993414,"comment_id":44378171,"body_markdown":"That&#39;s really sweet!  Thanks!","body":"That&#39;s really sweet!  Thanks!"},{"owner":{"account_id":1859358,"reputation":42899,"user_id":1684269,"accept_rate":91,"display_name":"Ole"},"score":0,"creation_date":1421448656,"post_id":27993414,"comment_id":44378706,"body_markdown":"Hm...When I run createOrders(10) I still get IllegalStateException: stream has already been operated on or closed.","body":"Hm...When I run createOrders(10) I still get IllegalStateException: stream has already been operated on or closed."},{"owner":{"account_id":1859358,"reputation":42899,"user_id":1684269,"accept_rate":91,"display_name":"Ole"},"score":0,"creation_date":1421449306,"post_id":27993414,"comment_id":44378877,"body_markdown":"Never mind - something was wrong in the test.  Great solution!!","body":"Never mind - something was wrong in the test.  Great solution!!"},{"owner":{"account_id":1859358,"reputation":42899,"user_id":1684269,"accept_rate":91,"display_name":"Ole"},"score":0,"creation_date":1421454915,"post_id":27993414,"comment_id":44380244,"body_markdown":"OK - I figured out what the problem was.  If I call createOrders more than once in the same method I get the exception.  Any thoughts on how to get around this?  Thanks again.","body":"OK - I figured out what the problem was.  If I call createOrders more than once in the same method I get the exception.  Any thoughts on how to get around this?  Thanks again."},{"owner":{"account_id":1859358,"reputation":42899,"user_id":1684269,"accept_rate":91,"display_name":"Ole"},"score":0,"creation_date":1421455154,"post_id":27993414,"comment_id":44380299,"body_markdown":"OK - FIgured it out.  A new random has to be created with each call. So:  \tprivate List&lt;Order&gt; createOrders(int numberOfOrders) {\n\t     return new Random().doubles(50, 200).limit(numberOfOrders).mapToObj(Order::new).collect(Collectors.toList());\n\t}","body":"OK - FIgured it out.  A new random has to be created with each call. So:  \tprivate List&lt;Order&gt; createOrders(int numberOfOrders) { \t     return new Random().doubles(50, 200).limit(numberOfOrders).mapToObj(Order::new).collect(Coll&zwnj;&#8203;ectors.toList()); \t}"}],"tags":[],"owner":{"account_id":2706912,"reputation":15827,"user_id":2336315,"accept_rate":90,"display_name":"user2336315"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421445336,"creation_date":1421445336,"answer_id":27993414,"question_id":27990451,"body_markdown":"Your method could be a one-liner like this instead. You need to use `mapToObj`, not `map`\r\n\r\n    private List&lt;Order&gt; createOrders(int numberOfOrders) {\r\n         return doubleStream.limit(numberOfOrders).mapToObj(Order::new).collect(Collectors.toList());\r\n    }","title":"Java 8 Stream IllegalStateException: Stream has already been operated on or closed","body":"<p>Your method could be a one-liner like this instead. You need to use <code>mapToObj</code>, not <code>map</code></p>\n\n<pre><code>private List&lt;Order&gt; createOrders(int numberOfOrders) {\n     return doubleStream.limit(numberOfOrders).mapToObj(Order::new).collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8974122,"reputation":1683,"user_id":6691610,"display_name":"David Pham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511174090,"creation_date":1511174090,"answer_id":47389970,"question_id":27990451,"body_markdown":"You should use Supplier function interface for your initialization like this\r\n\r\n    Supplier&lt;Stream&lt;Double&gt;&gt; streamSupplier = () -&gt; (new Random().doubles(50.0, 200.0).boxed());\r\n\r\nAnd change your way to get double like this\r\n\r\n    streamSupplier.get().findFirst().get()\r\n\r\n\r\nThen it works normally.\r\n\r\nFound this way from the post [Stream has already been operated upon or closed Exception][1]\r\n\r\n\r\n  [1]: http://javabycode.com/uncategorized/stream-already-operated-upon-closed-exception-java-8.html","title":"Java 8 Stream IllegalStateException: Stream has already been operated on or closed","body":"<p>You should use Supplier function interface for your initialization like this</p>\n\n<pre><code>Supplier&lt;Stream&lt;Double&gt;&gt; streamSupplier = () -&gt; (new Random().doubles(50.0, 200.0).boxed());\n</code></pre>\n\n<p>And change your way to get double like this</p>\n\n<pre><code>streamSupplier.get().findFirst().get()\n</code></pre>\n\n<p>Then it works normally.</p>\n\n<p>Found this way from the post <a href=\"http://javabycode.com/uncategorized/stream-already-operated-upon-closed-exception-java-8.html\" rel=\"nofollow noreferrer\">Stream has already been operated upon or closed Exception</a></p>\n"}],"owner":{"account_id":1859358,"reputation":42899,"user_id":1684269,"accept_rate":91,"display_name":"Ole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17407,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":27990579,"answer_count":6,"score":9,"last_activity_date":1680965698,"creation_date":1421432970,"question_id":27990451,"body_markdown":"I&#39;m trying to generate Order instances using the Stream API.  I have a factory function that creates the order, and a DoubleStream is used to initialize the amount of the order.  \r\n\r\n    private DoubleStream doubleStream = new Random().doubles(50.0, 200.0);\r\n\r\n    private Order createOrder() {\r\n\t    return new Order(doubleStream.findFirst().getAsDouble());\r\n\t}\r\n\t\r\n    @Test\r\n    public void test() {\r\n\r\n\t   Stream&lt;Order&gt; orderStream = Stream.generate(() -&gt; {\r\n\t\t   return createOrder();\r\n       });\r\n\t\r\n\t   orderStream.limit(10).forEach(System.out::println);\r\n\r\n     ...\r\n\r\n    }\r\n\r\nIf I initialize the `Order` instance using a literal (1.0), this works fine.  When I use the doubleStream to create a random amount, the exception is thrown.\r\n\r\n","title":"Java 8 Stream IllegalStateException: Stream has already been operated on or closed","body":"<p>I'm trying to generate Order instances using the Stream API.  I have a factory function that creates the order, and a DoubleStream is used to initialize the amount of the order.</p>\n<pre><code>private DoubleStream doubleStream = new Random().doubles(50.0, 200.0);\n\nprivate Order createOrder() {\n    return new Order(doubleStream.findFirst().getAsDouble());\n}\n\n@Test\npublic void test() {\n\n   Stream&lt;Order&gt; orderStream = Stream.generate(() -&gt; {\n       return createOrder();\n   });\n\n   orderStream.limit(10).forEach(System.out::println);\n\n ...\n\n}\n</code></pre>\n<p>If I initialize the <code>Order</code> instance using a literal (1.0), this works fine.  When I use the doubleStream to create a random amount, the exception is thrown.</p>\n"},{"tags":["java","performance","tomcat","struts2"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1614698170,"post_id":66437967,"comment_id":117460941,"body_markdown":"I don&#39;t understand why this would be blocking if the user is making an HTTP request back to indicate their choice. Just sounds like you need a way to track that 60 second limit.","body":"I don&#39;t understand why this would be blocking if the user is making an HTTP request back to indicate their choice. Just sounds like you need a way to track that 60 second limit."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1614717323,"post_id":66437967,"comment_id":117469427,"body_markdown":"What framework are you using for web services? Each framework has its own way to put the request into _&quot;asynchronous mode&quot;_.","body":"What framework are you using for web services? Each framework has its own way to put the request into <i>&quot;asynchronous mode&quot;</i>."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1614752970,"post_id":66437967,"comment_id":117477736,"body_markdown":"This is very unclear. In which way the user input is provided while you block him/her from the main thread? How the main thread should know if the input been provided? Before posting a question like this make sure you have prepared [MCVE](https://stackoverflow.com/help/mcve).","body":"This is very unclear. In which way the user input is provided while you block him/her from the main thread? How the main thread should know if the input been provided? Before posting a question like this make sure you have prepared <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1681641099,"post_id":66437967,"comment_id":134086262,"body_markdown":"As I understand, you can&#39;t change the design; therefore, you probably should look at increasing Tomcat core thread pool size and go for a horizontally scaled deployment if it is a high load environment, simplest might be put multiple Tomcats behind load-balancer and configure sticky/non-sticky sessions as might be required.","body":"As I understand, you can&#39;t change the design; therefore, you probably should look at increasing Tomcat core thread pool size and go for a horizontally scaled deployment if it is a high load environment, simplest might be put multiple Tomcats behind load-balancer and configure sticky/non-sticky sessions as might be required."}],"owner":{"account_id":2046070,"reputation":415,"user_id":1826116,"accept_rate":12,"display_name":"user1826116"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680965294,"creation_date":1614682390,"question_id":66437967,"body_markdown":"We have a Java web application running on Apache Tomcat as web server and Struts 2.5 as the framework. We have a couple of web services exposed as part of this project. One of the web service has the following flow :\r\n\r\n1. Client calls web service WS1\r\n2. Server receives WS1 and then internally sends a push notification to a User US1\r\n3. US1 receives the notification on his phone and takes one of the couple of actions available to him. He has maximum 60 seconds to do so.\r\n4. Server responds to WS1 based on input from the user.\r\n\r\nSo, as we can see , we have a blocking operation in WS1. The service can take upto 60 seconds for the user to respond and hence (I believe) block one of the available Web Server threads. Now this may still work on lower loads, but it will choke the tomcat threads on Higher loads. Also, unfortunately, this entire workflow is the crux to the solution and for the sake of this discussion, lets please assume that I cannot change this workflow. \r\n\r\nI am trying to understand what are my options around solving a potential bottleneck. Is there a way that I can somehow change this to asynchronous operation and/or ensure that Web Server threads are better utilized? Also, is my assumption correct that Tomcat will be blocking a thread for 60 seconds in this scenario?\r\n","title":"Java web application : handling a blocking operation","body":"<p>We have a Java web application running on Apache Tomcat as web server and Struts 2.5 as the framework. We have a couple of web services exposed as part of this project. One of the web service has the following flow :</p>\n<ol>\n<li>Client calls web service WS1</li>\n<li>Server receives WS1 and then internally sends a push notification to a User US1</li>\n<li>US1 receives the notification on his phone and takes one of the couple of actions available to him. He has maximum 60 seconds to do so.</li>\n<li>Server responds to WS1 based on input from the user.</li>\n</ol>\n<p>So, as we can see , we have a blocking operation in WS1. The service can take upto 60 seconds for the user to respond and hence (I believe) block one of the available Web Server threads. Now this may still work on lower loads, but it will choke the tomcat threads on Higher loads. Also, unfortunately, this entire workflow is the crux to the solution and for the sake of this discussion, lets please assume that I cannot change this workflow.</p>\n<p>I am trying to understand what are my options around solving a potential bottleneck. Is there a way that I can somehow change this to asynchronous operation and/or ensure that Web Server threads are better utilized? Also, is my assumption correct that Tomcat will be blocking a thread for 60 seconds in this scenario?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1680963788,"post_id":75965753,"comment_id":133984709,"body_markdown":"Please edit your question to include the output you get from the `System.out.println` calls.","body":"Please edit your question to include the output you get from the <code>System.out.println</code> calls."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1681025341,"post_id":75965753,"comment_id":133990658,"body_markdown":"Have you tried to log the messages using `Log.d(&quot;YourTAG&quot;, &quot;WRITING DATA&quot;);` instead of using `System.out.println(&quot;WRITING DATA&quot;);`? Besides that, what is the location of your database?","body":"Have you tried to log the messages using <code>Log.d(&quot;YourTAG&quot;, &quot;WRITING DATA&quot;);</code> instead of using <code>System.out.println(&quot;WRITING DATA&quot;);</code>? Besides that, what is the location of your database?"}],"owner":{"account_id":28249943,"reputation":11,"user_id":21596351,"display_name":"Alvaro G."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680965160,"creation_date":1680963529,"question_id":75965753,"body_markdown":"I&#39;ve been trying to start a project with Firebase as my Back-End and connecting it to a Android Studio project. I created around 30 projects and using the guide in Tools&gt;Firebase on the Android Studio client, it does not connect in any way. \r\n\r\nI&#39;ve tried giving internet permissions, using other databases like FireStoreDatabase instead of the Realtime Database , sending only a &quot;Hello world&quot; text and a simple User (name and height) but all of them seems to work.\r\n\r\nWhen I use the listeners, the simply don&#39;t give me any error. It just skip this whole step of writing data.\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n    DatabaseReference myRef = database.getReference(&quot;message&quot;);\r\n    System.out.println(&quot;-----------&quot;);\r\n    myRef.setValue(&quot;Hello World&quot;).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n        @Override\r\n        public void onSuccess(Void unused) {\r\n            System.out.println(&quot;WRITING DATA&quot;);\r\n        }\r\n    }).addOnFailureListener(new OnFailureListener() {\r\n        @Override\r\n        public void onFailure(@NonNull Exception e) {\r\n            System.out.println(&quot;NOT WRITING DATA&quot;);\r\n            System.out.println(e.getMessage());\r\n        }\r\n    });\r\n    System.out.println(&quot;-----------&quot;);\r\n}\r\n```\r\nI&#39;m also using all the dependencies that the client-assistant and the Firebase dependencies needs.\r\nAnd the google-services.json file is also checked \r\n\r\nThis is the output:\r\n\r\n&gt; Capturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\r\nW/.firebasepresto: Redefining intrinsic method java.lang.Thread java.lang.Thread.currentThread(). This may cause the unexpected use of the original definition of java.lang.Thread java.lang.Thread.currentThread()in methods that have already been compiled.\r\nW/.firebasepresto: Redefining intrinsic method boolean java.lang.Thread.interrupted(). This may cause the unexpected use of the original definition of boolean java.lang.Thread.interrupted()in methods that have already been compiled.\r\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10160; state: ENABLED\r\nW/ziparchive: Unable to open &#39;/data/data/com.example.firebasepresto/code_cache/.overlay/base.apk/classes3.dm&#39;: No such file or directory\r\nW/ziparchive: Unable to open &#39;/data/app/~~UEPoBOUjRRSFIS2ZrGSd6w==/com.example.firebasepresto-CKvpL_AgSxGH5wAa2Mm8FQ==/base.dm&#39;: No such file or directory\r\nW/ziparchive: Unable to open &#39;/data/app/~~UEPoBOUjRRSFIS2ZrGSd6w==/com.example.firebasepresto-CKvpL_AgSxGH5wAa2Mm8FQ==/base.dm&#39;: No such file or directory\r\nD/nativeloader: Configuring classloader-namespace for other apk /data/app/~~UEPoBOUjRRSFIS2ZrGSd6w==/com.example.firebasepresto-CKvpL_AgSxGH5wAa2Mm8FQ==/base.apk. target_sdk_version=33, uses_libraries=, library_path=/data/app/~~UEPoBOUjRRSFIS2ZrGSd6w==/com.example.firebasepresto-CKvpL_AgSxGH5wAa2Mm8FQ==/lib/x86_64, permitted_path=/data:/mnt/expand:/data/user/0/com.example.firebasepresto\r\nV/GraphicsEnvironment: ANGLE Developer option for &#39;com.example.firebasepresto&#39; set to: &#39;default&#39;\r\nV/GraphicsEnvironment: ANGLE GameManagerService for com.example.firebasepresto: false\r\nV/GraphicsEnvironment: Neither updatable production driver nor prerelease driver is supported.\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nD/CompatibilityChangeReporter: Compat change id reported: 183155436; UID 10160; state: ENABLED\r\nI/FirebaseApp: Device unlocked: initializing all Firebase APIs for app [DEFAULT]\r\nI/FirebaseInitProvider: FirebaseApp initialization successful\r\nD/libEGL: loaded /vendor/lib64/egl/libEGL_emulation.so\r\nD/libEGL: loaded /vendor/lib64/egl/libGLESv1_CM_emulation.so\r\nW/ziparchive: Unable to open &#39;/data/user_de/0/com.google.android.gms/app_chimera/m/0000000b/DynamiteLoader.dm&#39;: No such file or directory\r\nW/ziparchive: Unable to open &#39;/data/user_de/0/com.google.android.gms/app_chimera/m/0000000b/DynamiteLoader.dm&#39;: No such file or directory\r\nD/libEGL: loaded /vendor/lib64/egl/libGLESv2_emulation.so\r\nI/DynamiteModule: Considering local module com.google.android.gms.measurement.dynamite:88 and remote module com.google.android.gms.measurement.dynamite:88\r\nI/DynamiteModule: Selected local version of com.google.android.gms.measurement.dynamite\r\nV/FA: onActivityCreated\r\nW/.firebasepresto: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\r\nW/.firebasepresto: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\r\nD/CompatibilityChangeReporter: Compat change id reported: 210923482; UID 10160; state: ENABLED\r\nV/FA: App measurement collection enabled\r\nV/FA: App measurement enabled for app package, google app id: com.example.firebasepresto, 1:325373313014:android:dbb374537f8f82e24f11d7\r\nI/FA: App measurement initialized, version: 76003\r\nI/FA: To enable debug logging run: adb shell setprop log.tag.FA VERBOSE\r\nI/FA: To enable faster debug mode event logging run:\r\n      adb shell setprop debug.firebase.analytics.app com.example.firebasepresto\r\nD/FA: Debug-level message logging enabled\r\nI/System.out: -----------\r\nI/System.out: -----------\r\nD/HostConnection: createUnique: call\r\nD/HostConnection: HostConnection::get() New Host Connection established 0x76befcc19990, tid 17826\r\nD/FA: Resetting session stitching token to not null\r\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_3_0 \r\nW/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\r\nW/OpenGLRenderer: Failed to initialize 101010-2 format, error = EGL_SUCCESS\r\nD/EGL_emulation: eglCreateContext: 0x76befcc19a50: maj 3 min 0 rcv 3\r\nD/TrafficStats: tagSocket(78) with statsTag=0xffffffff, statsUid=-1\r\nD/EGL_emulation: eglMakeCurrent: 0x76befcc19a50: ver 3 0 (tinfo 0x76c12462e080) (first time)\r\nV/FA: Connecting to remote service\r\nV/FA: Detected application was in foreground\r\nV/FA: Session started, time: 4685124\r\nI/Gralloc4: mapper 4.x is not supported\r\nD/HostConnection: createUnique: call\r\nD/HostConnection: HostConnection::get() New Host Connection established 0x76befcc18550, tid 17826\r\nD/goldfish-address-space: allocate: Ask for block of size 0x100\r\nD/goldfish-address-space: allocate: ioctl allocate returned offset 0x3f3ffe000 size 0x2000\r\nV/FA: Connection attempt already in progress\r\nI/FA: Tag Manager is not found and thus will not be used\r\nW/Gralloc4: allocator 4.x is not supported\r\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_3_0 \r\nV/FA: Connection attempt already in progress\r\nV/FA: Connection attempt already in progress\r\nW/Parcel: Expecting binder but got null!\r\nV/FA: Connection attempt already in progress\r\nV/FA: Activity resumed, time: 4684802\r\nV/FA: Connection attempt already in progress\r\nV/FA: Connection attempt already in progress\r\nD/FA: Connected to remote service\r\nV/FA: Processing queued up service tasks: 7\r\nV/FA: Inactivity, disconnecting from the service","title":"Firebase connection not working (Android)","body":"<p>I've been trying to start a project with Firebase as my Back-End and connecting it to a Android Studio project. I created around 30 projects and using the guide in Tools&gt;Firebase on the Android Studio client, it does not connect in any way.</p>\n<p>I've tried giving internet permissions, using other databases like FireStoreDatabase instead of the Realtime Database , sending only a &quot;Hello world&quot; text and a simple User (name and height) but all of them seems to work.</p>\n<p>When I use the listeners, the simply don't give me any error. It just skip this whole step of writing data.</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\n    DatabaseReference myRef = database.getReference(&quot;message&quot;);\n    System.out.println(&quot;-----------&quot;);\n    myRef.setValue(&quot;Hello World&quot;).addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n        @Override\n        public void onSuccess(Void unused) {\n            System.out.println(&quot;WRITING DATA&quot;);\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception e) {\n            System.out.println(&quot;NOT WRITING DATA&quot;);\n            System.out.println(e.getMessage());\n        }\n    });\n    System.out.println(&quot;-----------&quot;);\n}\n</code></pre>\n<p>I'm also using all the dependencies that the client-assistant and the Firebase dependencies needs.\nAnd the google-services.json file is also checked</p>\n<p>This is the output:</p>\n<blockquote>\n<p>Capturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\nW/.firebasepresto: Redefining intrinsic method java.lang.Thread java.lang.Thread.currentThread(). This may cause the unexpected use of the original definition of java.lang.Thread java.lang.Thread.currentThread()in methods that have already been compiled.\nW/.firebasepresto: Redefining intrinsic method boolean java.lang.Thread.interrupted(). This may cause the unexpected use of the original definition of boolean java.lang.Thread.interrupted()in methods that have already been compiled.\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10160; state: ENABLED\nW/ziparchive: Unable to open '/data/data/com.example.firebasepresto/code_cache/.overlay/base.apk/classes3.dm': No such file or directory\nW/ziparchive: Unable to open '/data/app/~~UEPoBOUjRRSFIS2ZrGSd6w==/com.example.firebasepresto-CKvpL_AgSxGH5wAa2Mm8FQ==/base.dm': No such file or directory\nW/ziparchive: Unable to open '/data/app/~~UEPoBOUjRRSFIS2ZrGSd6w==/com.example.firebasepresto-CKvpL_AgSxGH5wAa2Mm8FQ==/base.dm': No such file or directory\nD/nativeloader: Configuring classloader-namespace for other apk /data/app/~~UEPoBOUjRRSFIS2ZrGSd6w==/com.example.firebasepresto-CKvpL_AgSxGH5wAa2Mm8FQ==/base.apk. target_sdk_version=33, uses_libraries=, library_path=/data/app/~~UEPoBOUjRRSFIS2ZrGSd6w==/com.example.firebasepresto-CKvpL_AgSxGH5wAa2Mm8FQ==/lib/x86_64, permitted_path=/data:/mnt/expand:/data/user/0/com.example.firebasepresto\nV/GraphicsEnvironment: ANGLE Developer option for 'com.example.firebasepresto' set to: 'default'\nV/GraphicsEnvironment: ANGLE GameManagerService for com.example.firebasepresto: false\nV/GraphicsEnvironment: Neither updatable production driver nor prerelease driver is supported.\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\nD/CompatibilityChangeReporter: Compat change id reported: 183155436; UID 10160; state: ENABLED\nI/FirebaseApp: Device unlocked: initializing all Firebase APIs for app [DEFAULT]\nI/FirebaseInitProvider: FirebaseApp initialization successful\nD/libEGL: loaded /vendor/lib64/egl/libEGL_emulation.so\nD/libEGL: loaded /vendor/lib64/egl/libGLESv1_CM_emulation.so\nW/ziparchive: Unable to open '/data/user_de/0/com.google.android.gms/app_chimera/m/0000000b/DynamiteLoader.dm': No such file or directory\nW/ziparchive: Unable to open '/data/user_de/0/com.google.android.gms/app_chimera/m/0000000b/DynamiteLoader.dm': No such file or directory\nD/libEGL: loaded /vendor/lib64/egl/libGLESv2_emulation.so\nI/DynamiteModule: Considering local module com.google.android.gms.measurement.dynamite:88 and remote module com.google.android.gms.measurement.dynamite:88\nI/DynamiteModule: Selected local version of com.google.android.gms.measurement.dynamite\nV/FA: onActivityCreated\nW/.firebasepresto: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\nW/.firebasepresto: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\nD/CompatibilityChangeReporter: Compat change id reported: 210923482; UID 10160; state: ENABLED\nV/FA: App measurement collection enabled\nV/FA: App measurement enabled for app package, google app id: com.example.firebasepresto, 1:325373313014:android:dbb374537f8f82e24f11d7\nI/FA: App measurement initialized, version: 76003\nI/FA: To enable debug logging run: adb shell setprop log.tag.FA VERBOSE\nI/FA: To enable faster debug mode event logging run:\nadb shell setprop debug.firebase.analytics.app com.example.firebasepresto\nD/FA: Debug-level message logging enabled\nI/System.out: -----------\nI/System.out: -----------\nD/HostConnection: createUnique: call\nD/HostConnection: HostConnection::get() New Host Connection established 0x76befcc19990, tid 17826\nD/FA: Resetting session stitching token to not null\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_3_0\nW/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\nW/OpenGLRenderer: Failed to initialize 101010-2 format, error = EGL_SUCCESS\nD/EGL_emulation: eglCreateContext: 0x76befcc19a50: maj 3 min 0 rcv 3\nD/TrafficStats: tagSocket(78) with statsTag=0xffffffff, statsUid=-1\nD/EGL_emulation: eglMakeCurrent: 0x76befcc19a50: ver 3 0 (tinfo 0x76c12462e080) (first time)\nV/FA: Connecting to remote service\nV/FA: Detected application was in foreground\nV/FA: Session started, time: 4685124\nI/Gralloc4: mapper 4.x is not supported\nD/HostConnection: createUnique: call\nD/HostConnection: HostConnection::get() New Host Connection established 0x76befcc18550, tid 17826\nD/goldfish-address-space: allocate: Ask for block of size 0x100\nD/goldfish-address-space: allocate: ioctl allocate returned offset 0x3f3ffe000 size 0x2000\nV/FA: Connection attempt already in progress\nI/FA: Tag Manager is not found and thus will not be used\nW/Gralloc4: allocator 4.x is not supported\nD/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_vulkan_queue_submit_with_commands ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_EGL_image_external_essl3 GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_3_0\nV/FA: Connection attempt already in progress\nV/FA: Connection attempt already in progress\nW/Parcel: Expecting binder but got null!\nV/FA: Connection attempt already in progress\nV/FA: Activity resumed, time: 4684802\nV/FA: Connection attempt already in progress\nV/FA: Connection attempt already in progress\nD/FA: Connected to remote service\nV/FA: Processing queued up service tasks: 7\nV/FA: Inactivity, disconnecting from the service</p>\n</blockquote>\n"},{"tags":["java","javafx","controller"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1608070543,"post_id":65313243,"comment_id":115469639,"body_markdown":"Are you *certain* that your code contains `new PropertyValueFactory&lt;&gt;(&quot;id&quot;)` and not `new PropertyValueFactory&lt;&gt;(&quot;idOfCar&quot;)`?  It’s best to avoid PropertyValueFactory entirely, since reflection mistakes cannot be caught at compile time;  a better option is to add property accessors to your CarEntity class, like most standard JavaFX classes have, then use them to write your own cell value factory expressions.","body":"Are you <i>certain</i> that your code contains <code>new PropertyValueFactory&lt;&gt;(&quot;id&quot;)</code> and not <code>new PropertyValueFactory&lt;&gt;(&quot;idOfCar&quot;)</code>?  It’s best to avoid PropertyValueFactory entirely, since reflection mistakes cannot be caught at compile time;  a better option is to add property accessors to your CarEntity class, like most standard JavaFX classes have, then use them to write your own cell value factory expressions."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1608074800,"post_id":65313243,"comment_id":115470925,"body_markdown":"[mcve] please .. your snippet doesn&#39;t fit the error message as already pointed out by @VGR ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. your snippet doesn&#39;t fit the error message as already pointed out by @VGR .."},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":0,"creation_date":1681381793,"post_id":65313243,"comment_id":134048651,"body_markdown":"Your table model needs to be composed of Properties as fields, not primitive types. The need to be implemented as JavaFX Beans to use PropertyValueFactory.","body":"Your table model needs to be composed of Properties as fields, not primitive types. The need to be implemented as JavaFX Beans to use PropertyValueFactory."}],"answers":[{"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1608071291,"post_id":65314171,"comment_id":115469900,"body_markdown":"This has nothing at all to do with the error you posted in the question","body":"This has nothing at all to do with the error you posted in the question"}],"tags":[],"owner":{"account_id":19991073,"reputation":31,"user_id":14652075,"display_name":"sdavb"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1608068872,"creation_date":1608068872,"answer_id":65314171,"question_id":65313243,"body_markdown":"In Controller Id should only be Id not idOfSomething\r\n\r\n**@FXML\r\nprivate TextField **id****\r\n\r\n\r\n","title":"JavaFX unreadable property","body":"<p>In Controller Id should only be Id not idOfSomething</p>\n<p><strong>@FXML\nprivate TextField <strong>id</strong></strong></p>\n"},{"tags":[],"owner":{"account_id":28250101,"reputation":1,"user_id":21596485,"display_name":"Joseph Hall"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680964623,"creation_date":1680964623,"answer_id":75965839,"question_id":65313243,"body_markdown":"Reading the documentation it is looking for a method such as `public Property&lt;String&gt; variableProperty()` in the entity class in your case car so one method would be \r\n`public Property&lt;String&gt; nameProperty(){return name;}`\r\n          ","title":"JavaFX unreadable property","body":"<p>Reading the documentation it is looking for a method such as <code>public Property&lt;String&gt; variableProperty()</code> in the entity class in your case car so one method would be\n<code>public Property&lt;String&gt; nameProperty(){return name;}</code></p>\n"}],"owner":{"account_id":19991073,"reputation":31,"user_id":14652075,"display_name":"sdavb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1504,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1680964623,"creation_date":1608064293,"question_id":65313243,"body_markdown":"In my task I need to display id of Cars in my table. I saw possible solution with get and set but it doesnt work. I have 2 classes CarEntity and Cars.\r\n\r\nCarEntity class:\r\n\r\n    public abstract class CarEntity implements Serializable {\r\n    \r\n        private Long id;\r\n        private String name;\r\n    \r\n        public CarEntity (Long id, String name) {\r\n            this.id = id;\r\n            this.name= name;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        } \r\n//+ get and set for name\r\n\r\nClass Cars extend CarEntity and I have no problem with nameOfCar in my table.\r\n\r\n    This is Controller:\r\n    \r\n     List&lt;Cars&gt; listOfCars;\r\n        @FXML\r\n        private TextField idOfCar;\r\n        @FXML\r\n        private TextField nameOfCar;\r\n        @FXML private  TableColumn &lt;Cars, Long&gt; colIfOfCar;\r\n        @FXML private TableColumn&lt;Cars, String&gt; colNameofCar;\r\n\r\nIn  initialize I have:;\r\n\r\n        colIfOfCar.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id&quot;));\r\n\r\n        colNameofCar.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;name&quot;));\r\n\r\nError I get: \r\n\r\n&gt; WARNING: Can not retrieve property &#39;idOfCar&#39; in PropertyValueFactory:\r\n&gt; javafx.scene.control.cell.PropertyValueFactory@43a5f6f with provided\r\n&gt; class type: class  main.carstore.model.Cars\r\n&gt; java.lang.IllegalStateException: Cannot read from unreadable property\r\n&gt; idOfCar\r\n\r\n    \r\n    ","title":"JavaFX unreadable property","body":"<p>In my task I need to display id of Cars in my table. I saw possible solution with get and set but it doesnt work. I have 2 classes CarEntity and Cars.</p>\n<p>CarEntity class:</p>\n<pre><code>public abstract class CarEntity implements Serializable {\n\n    private Long id;\n    private String name;\n\n    public CarEntity (Long id, String name) {\n        this.id = id;\n        this.name= name;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    } \n</code></pre>\n<p>//+ get and set for name</p>\n<p>Class Cars extend CarEntity and I have no problem with nameOfCar in my table.</p>\n<pre><code>This is Controller:\n\n List&lt;Cars&gt; listOfCars;\n    @FXML\n    private TextField idOfCar;\n    @FXML\n    private TextField nameOfCar;\n    @FXML private  TableColumn &lt;Cars, Long&gt; colIfOfCar;\n    @FXML private TableColumn&lt;Cars, String&gt; colNameofCar;\n</code></pre>\n<p>In  initialize I have:;</p>\n<pre><code>    colIfOfCar.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id&quot;));\n\n    colNameofCar.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;name&quot;));\n</code></pre>\n<p>Error I get:</p>\n<blockquote>\n<p>WARNING: Can not retrieve property 'idOfCar' in PropertyValueFactory:\njavafx.scene.control.cell.PropertyValueFactory@43a5f6f with provided\nclass type: class  main.carstore.model.Cars\njava.lang.IllegalStateException: Cannot read from unreadable property\nidOfCar</p>\n</blockquote>\n"},{"tags":["java","cmd"],"comments":[{"owner":{"account_id":3892970,"reputation":11166,"user_id":3222695,"display_name":"nikis"},"score":3,"creation_date":1394802895,"post_id":22405999,"comment_id":34066052,"body_markdown":"and what&#39;s the difference?","body":"and what&#39;s the difference?"},{"owner":{"account_id":1228795,"reputation":8221,"user_id":1193808,"display_name":"Subir Kumar Sao"},"score":0,"creation_date":1394803025,"post_id":22405999,"comment_id":34066155,"body_markdown":"If you mean the files are created at different location then you might give absolute path.","body":"If you mean the files are created at different location then you might give absolute path."},{"owner":{"account_id":4172449,"reputation":5,"user_id":3419914,"display_name":"user3419914"},"score":0,"creation_date":1394803146,"post_id":22405999,"comment_id":34066250,"body_markdown":"no the path is same. but when executing from java we have the commands but from dos we have the details.","body":"no the path is same. but when executing from java we have the commands but from dos we have the details."}],"answers":[{"comments":[{"owner":{"account_id":4172449,"reputation":5,"user_id":3419914,"display_name":"user3419914"},"score":0,"creation_date":1394803646,"post_id":22406161,"comment_id":34066597,"body_markdown":"could you please help me with the snippet i am doing for the first time","body":"could you please help me with the snippet i am doing for the first time"}],"tags":[],"owner":{"account_id":1626397,"reputation":1201,"user_id":1501876,"accept_rate":71,"display_name":"endrigoantonini"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394803189,"creation_date":1394803189,"answer_id":22406161,"question_id":22405999,"body_markdown":"You need to get the ErrorStream and InputStream from the process instance and redirect it to your logger.\r\n\r\n    process.getErrorStream();\r\n    process.getInputStream();\r\n\r\n","title":"generate log for command line process from java","body":"<p>You need to get the ErrorStream and InputStream from the process instance and redirect it to your logger.</p>\n\n<pre><code>process.getErrorStream();\nprocess.getInputStream();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680964398,"creation_date":1680964398,"answer_id":75965824,"question_id":22405999,"body_markdown":"I used the following code and it&#39;s working for me,\r\n\r\nthe code tracing the jar file wokring\r\n\r\n      ProcessBuilder builder = new ProcessBuilder(\r\n                    &quot;cmd.exe&quot;, &quot;/c&quot;, &quot;cd \\&quot;D:\\\\myprojectpath\\\\target\\&quot; &amp;&amp; java -jar -Dspring.profiles.active=dev myjar-0.0.1.jar&quot;);\r\n            builder.redirectErrorStream(true);\r\n            Process p = builder.start();\r\n    \r\n           BufferedReader r = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n           String line;\r\n           while (true) {\r\n               line = r.readLine();\r\n               if (line == null) { break; }\r\n               System.out.println(line);\r\n           }\r\n            return true;","title":"generate log for command line process from java","body":"<p>I used the following code and it's working for me,</p>\n<p>the code tracing the jar file wokring</p>\n<pre><code>  ProcessBuilder builder = new ProcessBuilder(\n                &quot;cmd.exe&quot;, &quot;/c&quot;, &quot;cd \\&quot;D:\\\\myprojectpath\\\\target\\&quot; &amp;&amp; java -jar -Dspring.profiles.active=dev myjar-0.0.1.jar&quot;);\n        builder.redirectErrorStream(true);\n        Process p = builder.start();\n\n       BufferedReader r = new BufferedReader(new InputStreamReader(p.getInputStream()));\n       String line;\n       while (true) {\n           line = r.readLine();\n           if (line == null) { break; }\n           System.out.println(line);\n       }\n        return true;\n</code></pre>\n"}],"owner":{"account_id":4172449,"reputation":5,"user_id":3419914,"display_name":"user3419914"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1124,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":2,"score":-3,"last_activity_date":1680964398,"creation_date":1394802742,"question_id":22405999,"body_markdown":"    Process p1=Runtime.getRuntime().exec(command);\r\n    String command=&quot;cmd.exe /c B:\\\\BelkAnanlyticsExtract\\\\batFiles\\\\HHExtraction02.bat&gt;&gt; logs\\\\HHExtraction02.log&quot;;\r\n\r\n\r\nThe log file which is generated is different from the one that is generated when I run this command from the command line.\r\n\r\nI would like to generate the same log. Please help me with this.","title":"generate log for command line process from java","body":"<pre><code>Process p1=Runtime.getRuntime().exec(command);\nString command=\"cmd.exe /c B:\\\\BelkAnanlyticsExtract\\\\batFiles\\\\HHExtraction02.bat&gt;&gt; logs\\\\HHExtraction02.log\";\n</code></pre>\n\n<p>The log file which is generated is different from the one that is generated when I run this command from the command line.</p>\n\n<p>I would like to generate the same log. Please help me with this.</p>\n"},{"tags":["java","gradle","build.gradle"],"comments":[{"owner":{"account_id":9291622,"reputation":11361,"user_id":6899896,"display_name":"M.Ricciuti"},"score":0,"creation_date":1680975272,"post_id":75965802,"comment_id":133986290,"body_markdown":"&quot; export a jar &quot;  what does this mean?    the error you got means that `mainClassName ` is not a known property for Gradle: you are certainly missing some plugin declaration. plesase provide your plugins declaration script","body":"&quot; export a jar &quot;  what does this mean?    the error you got means that <code>mainClassName </code> is not a known property for Gradle: you are certainly missing some plugin declaration. plesase provide your plugins declaration script"}],"owner":{"account_id":26699507,"reputation":1,"user_id":20306792,"display_name":"VerifiedFemboy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680964327,"creation_date":1680964109,"question_id":75965802,"body_markdown":"I would like to export a jar using gradle but it says only errors\r\nGradle ver: 8.0.2\r\n\r\n    mainClassName = &quot;me.sussydeveloper.Bot&quot;\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes &quot;Main-Class&quot;: &quot;$mainClassName&quot;\r\n        }\r\n    \r\n        from {\r\n            configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n    }\r\n\r\n\r\n\r\nErrors: \r\n\r\n    Build file &#39;D:\\Java Projects\\transbot\\build.gradle&#39; line: 22\r\n    \r\n    A problem occurred evaluating root project &#39;transbot&#39;.\r\n    &gt; Could not set unknown property &#39;mainClassName&#39; for root project &#39;transbot&#39; of type org.gradle.api.Project.\r\n    \r\n    * Try:\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.GradleScriptException: A problem occurred evaluating root project &#39;transbot&#39;.\r\n    \tat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\r\n    \tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:135)\r\n    \tat org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\r\n    \tat org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:138)\r\n    \tat org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n    \tat org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\r\n    \tat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\r\n    \tat org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:388)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:406)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:387)\r\n    \tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\r\n    \tat org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\r\n    \tat org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\r\n    \tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:388)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$fromMutableState$1(DefaultProjectStateRegistry.java:411)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.withReplacedLocks(DefaultWorkerLeaseService.java:345)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:411)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:387)\r\n    \tat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n    \tat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\r\n    \tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:792)\r\n    \tat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:156)\r\n    \tat org.gradle.api.internal.project.ProjectLifecycleController.lambda$ensureSelfConfigured$2(ProjectLifecycleController.java:84)\r\n    \tat org.gradle.internal.model.StateTransitionController.lambda$doTransition$13(StateTransitionController.java:247)\r\n    \tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\r\n    \tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:246)\r\n    \tat org.gradle.internal.model.StateTransitionController.lambda$maybeTransitionIfNotCurrentlyTransitioning$10(StateTransitionController.java:207)\r\n    \tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n    \tat org.gradle.internal.model.StateTransitionController.maybeTransitionIfNotCurrentlyTransitioning(StateTransitionController.java:203)\r\n    \tat org.gradle.api.internal.project.ProjectLifecycleController.ensureSelfConfigured(ProjectLifecycleController.java:84)\r\n    \tat org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:362)\r\n    \tat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\r\n    \tat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:47)\r\n    \tat org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:42)\r\n    \tat org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\r\n    \tat org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n    \tat org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\r\n    \tat org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$2(VintageBuildModelController.java:84)\r\n    \tat org.gradle.internal.model.StateTransitionController.lambda$doTransition$13(StateTransitionController.java:247)\r\n    \tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\r\n    \tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:246)\r\n    \tat org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$11(StateTransitionController.java:221)\r\n    \tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\r\n    \tat org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:217)\r\n    \tat org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:84)\r\n    \tat org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\r\n    \tat org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:116)\r\n    \tat org.gradle.internal.model.StateTransitionController.lambda$notInState$4(StateTransitionController.java:154)\r\n    \tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n    \tat org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:150)\r\n    \tat org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:116)\r\n    \tat org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\r\n    \tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\r\n    \tat org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:185)\r\n    \tat org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:134)\r\n    \tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\r\n    \tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\r\n    \tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\r\n    \tat org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\r\n    \tat org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\r\n    \tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\r\n    \tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n    \tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\r\n    \tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n    \tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\r\n    \tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n    \tat org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\r\n    \tat org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\r\n    \tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:125)\r\n    \tat org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\r\n    \tat org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\r\n    \tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\r\n    \tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\r\n    \tat org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\r\n    \tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$2(DefaultBuildTreeLifecycleController.java:74)\r\n    \tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:98)\r\n    \tat org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:177)\r\n    \tat org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\r\n    \tat org.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:177)\r\n    \tat org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n    \tat org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:177)\r\n    \tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:95)\r\n    \tat org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:73)\r\n    \tat org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\r\n    \tat org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\r\n    \tat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n    \tat org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\r\n    \tat org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\r\n    \tat org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:140)\r\n    \tat org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n    \tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n    \tat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\r\n    \tat org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n    \tat org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n    \tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n    \tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n    \tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n    \tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n    \tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    \tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n    \tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\r\n    \tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\r\n    \tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n    \tat org.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\r\n    \tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n    \tat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n    \tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\r\n    \tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\r\n    \tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n    \tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\r\n    \tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\r\n    \tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n    \tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n    \tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:50)\r\n    \tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:38)\r\n    \tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n    \tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n    \tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n    \tat org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n    \tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:64)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n    \tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n    \tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n    \tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n    \tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\r\n    Caused by: groovy.lang.MissingPropertyException: Could not set unknown property &#39;mainClassName&#39; for root project &#39;transbot&#39; of type org.gradle.api.Project.\r\n    \tat org.gradle.internal.metaobject.AbstractDynamicObject.setMissingProperty(AbstractDynamicObject.java:118)\r\n    \tat org.gradle.groovy.scripts.BasicScript$ScriptDynamicObject.setMissingProperty(BasicScript.java:170)\r\n    \tat org.gradle.internal.metaobject.AbstractDynamicObject.setProperty(AbstractDynamicObject.java:76)\r\n    \tat org.gradle.api.internal.project.DefaultDynamicLookupRoutine.setProperty(DefaultDynamicLookupRoutine.java:42)\r\n    \tat org.gradle.groovy.scripts.BasicScript.setProperty(BasicScript.java:74)\r\n    \tat build_77jdszappoqteirkj99y38ute.run(D:\\Java Projects\\transbot\\build.gradle:22)\r\n    \tat org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:91)\r\n    \t... 177 more\r\n\r\nI tried all methods with it and I cannot solve it\r\n\r\n\r\n","title":"How to export a jar using Gradle?","body":"<p>I would like to export a jar using gradle but it says only errors\nGradle ver: 8.0.2</p>\n<pre><code>mainClassName = &quot;me.sussydeveloper.Bot&quot;\n\njar {\n    manifest {\n        attributes &quot;Main-Class&quot;: &quot;$mainClassName&quot;\n    }\n\n    from {\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n</code></pre>\n<p>Errors:</p>\n<pre><code>Build file 'D:\\Java Projects\\transbot\\build.gradle' line: 22\n\nA problem occurred evaluating root project 'transbot'.\n&gt; Could not set unknown property 'mainClassName' for root project 'transbot' of type org.gradle.api.Project.\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.GradleScriptException: A problem occurred evaluating root project 'transbot'.\n    at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:93)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.lambda$apply$0(DefaultScriptPluginFactory.java:135)\n    at org.gradle.configuration.ProjectScriptTarget.addConfiguration(ProjectScriptTarget.java:79)\n    at org.gradle.configuration.DefaultScriptPluginFactory$ScriptPluginImpl.apply(DefaultScriptPluginFactory.java:138)\n    at org.gradle.configuration.BuildOperationScriptPlugin$1.run(BuildOperationScriptPlugin.java:65)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationScriptPlugin.lambda$apply$0(BuildOperationScriptPlugin.java:62)\n    at org.gradle.configuration.internal.DefaultUserCodeApplicationContext.apply(DefaultUserCodeApplicationContext.java:44)\n    at org.gradle.configuration.BuildOperationScriptPlugin.apply(BuildOperationScriptPlugin.java:62)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:388)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:406)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:387)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:42)\n    at org.gradle.configuration.project.BuildScriptProcessor.execute(BuildScriptProcessor.java:26)\n    at org.gradle.configuration.project.ConfigureActionsProjectEvaluator.evaluate(ConfigureActionsProjectEvaluator.java:35)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.lambda$run$0(LifecycleProjectEvaluator.java:109)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$applyToMutableState$0(DefaultProjectStateRegistry.java:388)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.lambda$fromMutableState$1(DefaultProjectStateRegistry.java:411)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withReplacedLocks(DefaultWorkerLeaseService.java:345)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.fromMutableState(DefaultProjectStateRegistry.java:411)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.applyToMutableState(DefaultProjectStateRegistry.java:387)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:100)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:72)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:792)\n    at org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:156)\n    at org.gradle.api.internal.project.ProjectLifecycleController.lambda$ensureSelfConfigured$2(ProjectLifecycleController.java:84)\n    at org.gradle.internal.model.StateTransitionController.lambda$doTransition$13(StateTransitionController.java:247)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:246)\n    at org.gradle.internal.model.StateTransitionController.lambda$maybeTransitionIfNotCurrentlyTransitioning$10(StateTransitionController.java:207)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n    at org.gradle.internal.model.StateTransitionController.maybeTransitionIfNotCurrentlyTransitioning(StateTransitionController.java:203)\n    at org.gradle.api.internal.project.ProjectLifecycleController.ensureSelfConfigured(ProjectLifecycleController.java:84)\n    at org.gradle.api.internal.project.DefaultProjectStateRegistry$ProjectStateImpl.ensureConfigured(DefaultProjectStateRegistry.java:362)\n    at org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:33)\n    at org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:47)\n    at org.gradle.configuration.DefaultProjectsPreparer.prepareProjects(DefaultProjectsPreparer.java:42)\n    at org.gradle.configuration.BuildTreePreparingProjectsPreparer.prepareProjects(BuildTreePreparingProjectsPreparer.java:64)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer$ConfigureBuild.run(BuildOperationFiringProjectsPreparer.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.configuration.BuildOperationFiringProjectsPreparer.prepareProjects(BuildOperationFiringProjectsPreparer.java:40)\n    at org.gradle.initialization.VintageBuildModelController.lambda$prepareProjects$2(VintageBuildModelController.java:84)\n    at org.gradle.internal.model.StateTransitionController.lambda$doTransition$13(StateTransitionController.java:247)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:246)\n    at org.gradle.internal.model.StateTransitionController.lambda$transitionIfNotPreviously$11(StateTransitionController.java:221)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:34)\n    at org.gradle.internal.model.StateTransitionController.transitionIfNotPreviously(StateTransitionController.java:217)\n    at org.gradle.initialization.VintageBuildModelController.prepareProjects(VintageBuildModelController.java:84)\n    at org.gradle.initialization.VintageBuildModelController.getConfiguredModel(VintageBuildModelController.java:64)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.lambda$withProjectsConfigured$1(DefaultBuildLifecycleController.java:116)\n    at org.gradle.internal.model.StateTransitionController.lambda$notInState$4(StateTransitionController.java:154)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.notInState(StateTransitionController.java:150)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.withProjectsConfigured(DefaultBuildLifecycleController.java:116)\n    at org.gradle.internal.build.DefaultBuildToolingModelController.locateBuilderForTarget(DefaultBuildToolingModelController.java:57)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.lambda$locateBuilderForTarget$0(DefaultBuildTreeModelCreator.java:73)\n    at org.gradle.internal.build.DefaultBuildLifecycleController.withToolingModels(DefaultBuildLifecycleController.java:185)\n    at org.gradle.internal.build.AbstractBuildState.withToolingModels(AbstractBuildState.java:134)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForTarget(DefaultBuildTreeModelCreator.java:73)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator$DefaultBuildTreeModelController.locateBuilderForDefaultTarget(DefaultBuildTreeModelCreator.java:68)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getTarget(DefaultBuildController.java:157)\n    at org.gradle.tooling.internal.provider.runner.DefaultBuildController.getModel(DefaultBuildController.java:101)\n    at org.gradle.tooling.internal.consumer.connection.ParameterAwareBuildControllerAdapter.getModel(ParameterAwareBuildControllerAdapter.java:39)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.getModel(UnparameterizedBuildController.java:113)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.getModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:97)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:81)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.gradle.tooling.internal.consumer.connection.UnparameterizedBuildController.findModel(UnparameterizedBuildController.java:66)\n    at org.gradle.tooling.internal.consumer.connection.NestedActionAwareBuildControllerAdapter.findModel(NestedActionAwareBuildControllerAdapter.java:31)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:125)\n    at org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\n    at org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.beforeTasks(AbstractClientProvidedBuildActionRunner.java:99)\n    at org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.beforeTasks(DefaultBuildTreeModelCreator.java:52)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$2(DefaultBuildTreeLifecycleController.java:74)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:98)\n    at org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:177)\n    at org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\n    at org.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:177)\n    at org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\n    at org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:177)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:95)\n    at org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:73)\n    at org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\n    at org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\n    at org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\n    at org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:140)\n    at org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\n    at org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\n    at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\n    at org.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n    at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\n    at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:50)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:38)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:64)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\nCaused by: groovy.lang.MissingPropertyException: Could not set unknown property 'mainClassName' for root project 'transbot' of type org.gradle.api.Project.\n    at org.gradle.internal.metaobject.AbstractDynamicObject.setMissingProperty(AbstractDynamicObject.java:118)\n    at org.gradle.groovy.scripts.BasicScript$ScriptDynamicObject.setMissingProperty(BasicScript.java:170)\n    at org.gradle.internal.metaobject.AbstractDynamicObject.setProperty(AbstractDynamicObject.java:76)\n    at org.gradle.api.internal.project.DefaultDynamicLookupRoutine.setProperty(DefaultDynamicLookupRoutine.java:42)\n    at org.gradle.groovy.scripts.BasicScript.setProperty(BasicScript.java:74)\n    at build_77jdszappoqteirkj99y38ute.run(D:\\Java Projects\\transbot\\build.gradle:22)\n    at org.gradle.groovy.scripts.internal.DefaultScriptRunnerFactory$ScriptRunnerImpl.run(DefaultScriptRunnerFactory.java:91)\n    ... 177 more\n</code></pre>\n<p>I tried all methods with it and I cannot solve it</p>\n"},{"tags":["java","inner-classes"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":192,"creation_date":1385585119,"post_id":20252727,"comment_id":30208145,"body_markdown":"`new Shape().new ZShape();`. The class `ZShape` needs an enclosing instance to be instantiated.","body":"<code>new Shape().new ZShape();</code>. The class <code>ZShape</code> needs an enclosing instance to be instantiated."},{"owner":{"account_id":296211,"reputation":803,"user_id":601040,"accept_rate":56,"display_name":"Dimmduh"},"score":4,"creation_date":1488859588,"post_id":20252727,"comment_id":72407352,"body_markdown":"move inner class to separate file","body":"move inner class to separate file"},{"owner":{"account_id":316740,"reputation":488,"user_id":633062,"accept_rate":50,"display_name":"Jeremiah Adams"},"score":0,"creation_date":1490798419,"post_id":20252727,"comment_id":73274737,"body_markdown":"@Dimmduh comment should be the answer in this case. They should not be inner classes. Moving them would Identify the other issues with the Shape class that exist.","body":"@Dimmduh comment should be the answer in this case. They should not be inner classes. Moving them would Identify the other issues with the Shape class that exist."},{"owner":{"account_id":3228095,"reputation":596,"user_id":2723942,"accept_rate":43,"display_name":"Paramvir Singh Karwal"},"score":0,"creation_date":1570454971,"post_id":20252727,"comment_id":102908139,"body_markdown":"Not to answer the question here but can I suggest to use _inheritance_ here where `AShape` and `ZShape` extend the base class `Shapes`. Nesting classes is not a really good design for this problem.","body":"Not to answer the question here but can I suggest to use <i>inheritance</i> here where <code>AShape</code> and <code>ZShape</code> extend the base class <code>Shapes</code>. Nesting classes is not a really good design for this problem."}],"answers":[{"comments":[{"owner":{"account_id":1365627,"reputation":941,"user_id":1319631,"accept_rate":88,"display_name":"Cardano"},"score":16,"creation_date":1392429519,"post_id":20252797,"comment_id":32973970,"body_markdown":"Making `ZShape` `static` totally defeats the purpose of what he&#39;s trying to do, which is instantiate a copy of `ZShape`.","body":"Making <code>ZShape</code> <code>static</code> totally defeats the purpose of what he&#39;s trying to do, which is instantiate a copy of <code>ZShape</code>."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":18,"creation_date":1392467729,"post_id":20252797,"comment_id":32982610,"body_markdown":"@Cardano making it `static` makes it easier, not harder.","body":"@Cardano making it <code>static</code> makes it easier, not harder."},{"owner":{"account_id":1212966,"reputation":1590,"user_id":1181162,"accept_rate":75,"display_name":"Vince"},"score":13,"creation_date":1415590881,"post_id":20252797,"comment_id":42238456,"body_markdown":"another simple solution is to make the enclosing class instantiate the inner class, i.e. getting ZShape this way: `ZShape myShape = new Shape().instantiateZShape();`. It implies the ZShape you get does not exist without a Shape, which is the intent here.","body":"another simple solution is to make the enclosing class instantiate the inner class, i.e. getting ZShape this way: <code>ZShape myShape = new Shape().instantiateZShape();</code>. It implies the ZShape you get does not exist without a Shape, which is the intent here."},{"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"score":0,"creation_date":1498649225,"post_id":20252797,"comment_id":76582022,"body_markdown":"@Peter Lawrey How did you realize that all Shape instances have to use the same ZShape? I don&#39;t get it from his source.","body":"@Peter Lawrey How did you realize that all Shape instances have to use the same ZShape? I don&#39;t get it from his source."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1498661724,"post_id":20252797,"comment_id":76591982,"body_markdown":"@TheincredibleJan There is only one object created so I know they are all that object.","body":"@TheincredibleJan There is only one object created so I know they are all that object."},{"owner":{"account_id":4575088,"reputation":358,"user_id":3713731,"display_name":"Yogesh Chuahan"},"score":2,"creation_date":1523948891,"post_id":20252797,"comment_id":86758947,"body_markdown":"There are 2 cases if we want static or an instance. \nMaking it Static will not help always.","body":"There are 2 cases if we want static or an instance.  Making it Static will not help always."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1523950608,"post_id":20252797,"comment_id":86759882,"body_markdown":"@YogeshChuahan if it still compiles after adding `static` to a class, it is probably the right thing to do.","body":"@YogeshChuahan if it still compiles after adding <code>static</code> to a class, it is probably the right thing to do."},{"owner":{"account_id":4575088,"reputation":358,"user_id":3713731,"display_name":"Yogesh Chuahan"},"score":0,"creation_date":1523961985,"post_id":20252797,"comment_id":86767438,"body_markdown":"Your answer is correct and in this case it makes sense to declare them static. \nI am talking about the other case when we need different values for instances of the class. @PeterLawrey","body":"Your answer is correct and in this case it makes sense to declare them static.  I am talking about the other case when we need different values for instances of the class. @PeterLawrey"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1680964475,"post_id":20252797,"comment_id":133984786,"body_markdown":"The comments here seem to suggest that people don&#39;t understand what static nested classes are in Java. Making the class static does not mean that there will only be one instance, it just means that `ZShape` will not need an instance of `Shapes` to exist.","body":"The comments here seem to suggest that people don&#39;t understand what static nested classes are in Java. Making the class static does not mean that there will only be one instance, it just means that <code>ZShape</code> will not need an instance of <code>Shapes</code> to exist."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":9,"down_vote_count":3,"up_vote_count":531,"is_accepted":true,"score":528,"last_activity_date":1385585255,"creation_date":1385585255,"answer_id":20252797,"question_id":20252727,"body_markdown":"`ZShape` is not static so it requires an instance of the outer class.\r\n\r\nThe simplest solution is to make ZShape and any nested class `static` if you can.\r\n\r\nI would also make any fields `final` or `static final` that you can as well.","title":"Is not an enclosing class Java","body":"<p><code>ZShape</code> is not static so it requires an instance of the outer class.</p>\n\n<p>The simplest solution is to make ZShape and any nested class <code>static</code> if you can.</p>\n\n<p>I would also make any fields <code>final</code> or <code>static final</code> that you can as well.</p>\n"},{"comments":[{"owner":{"account_id":333285,"reputation":2127,"user_id":659077,"accept_rate":0,"display_name":"Mohsen Abasi"},"score":1,"creation_date":1497249241,"post_id":22348192,"comment_id":75979038,"body_markdown":"A wrong solution. Logical error. If the inner class (e.g. ZShape) requires any field to be set, in the outer class&#39;s constructor you must get it! public  Shape(String field1_innerClass, int field2_innerClass...){zShape = new ZShape(String field1_innerClass, int field2_innerClass...)...}}","body":"A wrong solution. Logical error. If the inner class (e.g. ZShape) requires any field to be set, in the outer class&#39;s constructor you must get it! public  Shape(String field1_innerClass, int field2_innerClass...){zShape = new ZShape(String field1_innerClass, int field2_innerClass...)...}}"}],"tags":[],"owner":{"display_name":"user655000"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1394620406,"creation_date":1394619200,"answer_id":22348192,"question_id":20252727,"body_markdown":"I have encountered the same problem.\r\nI solved by creating an instance for every inner public Class.\r\nas for you situation, i suggest you use inheritance other than inner classes.\r\n\r\n\r\n    public class Shape {\r\n\r\n        private String shape;\r\n    \r\n        public ZShape zShpae;\r\n        public SShape sShape;\r\n\r\n        public Shape(){\r\n          int[][] coords =  noShapeCoords;\r\n          shape = &quot;NoShape&quot;;\r\n          zShape = new ZShape();\r\n          sShape = new SShape();\r\n        }\r\n\r\n        class ZShape{\r\n          int[][] coords =  zShapeCoords;\r\n          String shape = &quot;ZShape&quot;;\r\n        }\r\n\r\n        class SShape{\r\n          int[][] coords = sShapeCoords;\r\n          String shape = &quot;SShape&quot;;\r\n        }\r\n\r\n     //etc\r\n    }\r\n\r\nthen you can new Shape();\r\nand visit ZShape through shape.zShape;\r\n\r\n","title":"Is not an enclosing class Java","body":"<p>I have encountered the same problem.\nI solved by creating an instance for every inner public Class.\nas for you situation, i suggest you use inheritance other than inner classes.</p>\n\n<pre><code>public class Shape {\n\n    private String shape;\n\n    public ZShape zShpae;\n    public SShape sShape;\n\n    public Shape(){\n      int[][] coords =  noShapeCoords;\n      shape = \"NoShape\";\n      zShape = new ZShape();\n      sShape = new SShape();\n    }\n\n    class ZShape{\n      int[][] coords =  zShapeCoords;\n      String shape = \"ZShape\";\n    }\n\n    class SShape{\n      int[][] coords = sShapeCoords;\n      String shape = \"SShape\";\n    }\n\n //etc\n}\n</code></pre>\n\n<p>then you can new Shape();\nand visit ZShape through shape.zShape;</p>\n"},{"comments":[{"owner":{"account_id":1840741,"reputation":2048,"user_id":1670183,"accept_rate":93,"display_name":"PaulBGD"},"score":45,"creation_date":1442105927,"post_id":32243637,"comment_id":52947462,"body_markdown":"This answer was really helpful, I never knew you could call new twice in a row (and I&#39;ve done java for 8+ years!)","body":"This answer was really helpful, I never knew you could call new twice in a row (and I&#39;ve done java for 8+ years!)"},{"owner":{"account_id":2693973,"reputation":4489,"user_id":2330860,"accept_rate":42,"display_name":"Vishal Kumar"},"score":1,"creation_date":1442398921,"post_id":32243637,"comment_id":53063024,"body_markdown":"You can surely call new operator any number of times until you do not want to keep a reference of that object.","body":"You can surely call new operator any number of times until you do not want to keep a reference of that object."},{"owner":{"account_id":3469388,"reputation":1297,"user_id":2904188,"display_name":"Alpha Huang"},"score":1,"creation_date":1442946007,"post_id":32243637,"comment_id":53290686,"body_markdown":"If an object of the inner class is create this way, how does it access the members of the outer class?","body":"If an object of the inner class is create this way, how does it access the members of the outer class?"},{"owner":{"account_id":2693973,"reputation":4489,"user_id":2330860,"accept_rate":42,"display_name":"Vishal Kumar"},"score":1,"creation_date":1445434002,"post_id":32243637,"comment_id":54322247,"body_markdown":"Within the inner class itself, you can use OuterClass.this.I don&#39;t think there&#39;s a way to get the instance from outside the code of the inner class though. Of course, you can always introduce your own property:\n\npublic OuterClass getOuter() {\n    return OuterClass.this;\n}","body":"Within the inner class itself, you can use OuterClass.this.I don&#39;t think there&#39;s a way to get the instance from outside the code of the inner class though. Of course, you can always introduce your own property:  public OuterClass getOuter() {     return OuterClass.this; }"},{"owner":{"account_id":1608256,"reputation":1159,"user_id":1487868,"display_name":"felvhage"},"score":0,"creation_date":1532680345,"post_id":32243637,"comment_id":90074711,"body_markdown":"Works for tests: `underTest = Mockito.mock(Outer.class).new InnerNonStaticClass();`","body":"Works for tests: <code>underTest = Mockito.mock(Outer.class).new InnerNonStaticClass();</code>"},{"owner":{"account_id":156734,"reputation":26707,"user_id":374198,"accept_rate":62,"display_name":"Josh M."},"score":3,"creation_date":1539267456,"post_id":32243637,"comment_id":92447683,"body_markdown":"While this syntax is pretty convoluted and makes me sad, this should be the accepted answer.","body":"While this syntax is pretty convoluted and makes me sad, this should be the accepted answer."},{"owner":{"account_id":10434357,"reputation":141,"user_id":7693164,"accept_rate":60,"display_name":"Jacob Chesley"},"score":0,"creation_date":1551011593,"post_id":32243637,"comment_id":96475708,"body_markdown":"I have a class i&#39;m using as a storage container for simple class objects (analogous to structs) and this was exactly what I was looking for. Thank you!","body":"I have a class i&#39;m using as a storage container for simple class objects (analogous to structs) and this was exactly what I was looking for. Thank you!"}],"tags":[],"owner":{"account_id":2693973,"reputation":4489,"user_id":2330860,"accept_rate":42,"display_name":"Vishal Kumar"},"comment_count":7,"down_vote_count":0,"up_vote_count":225,"is_accepted":false,"score":225,"last_activity_date":1571206631,"creation_date":1440662008,"answer_id":32243637,"question_id":20252727,"body_markdown":"Suppose RetailerProfileModel is your Main class and RetailerPaymentModel is an inner class within it. You can create an object of the Inner class outside the class as follows:\r\n\r\n    RetailerProfileModel.RetailerPaymentModel paymentModel\r\n            = new RetailerProfileModel().new RetailerPaymentModel();\r\n\r\n","title":"Is not an enclosing class Java","body":"<p>Suppose RetailerProfileModel is your Main class and RetailerPaymentModel is an inner class within it. You can create an object of the Inner class outside the class as follows:</p>\n\n<pre><code>RetailerProfileModel.RetailerPaymentModel paymentModel\n        = new RetailerProfileModel().new RetailerPaymentModel();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3396385,"reputation":51,"user_id":2849896,"display_name":"Younes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475465149,"creation_date":1475465149,"answer_id":39824180,"question_id":20252727,"body_markdown":"No need to make the nested class as static but it must be public\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            Shape shape = new Shape();\r\n            Shape s = shape.new Shape.ZShape();\r\n        }\r\n    }","title":"Is not an enclosing class Java","body":"<p>No need to make the nested class as static but it must be public</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        Shape shape = new Shape();\n        Shape s = shape.new Shape.ZShape();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":484789,"reputation":852,"user_id":900684,"accept_rate":17,"display_name":"Hussain KMR Behestee"},"score":1,"creation_date":1502886305,"post_id":41149791,"comment_id":78384883,"body_markdown":"What about Outer.Inner obj = (new Outer).new Inner();","body":"What about Outer.Inner obj = (new Outer).new Inner();"},{"owner":{"account_id":7069929,"reputation":7209,"user_id":5411888,"accept_rate":100,"display_name":"Amit Upadhyay"},"score":1,"creation_date":1502893788,"post_id":41149791,"comment_id":78390648,"body_markdown":"@HussainKMRBehestee, no that wouldn&#39;t work for sure. However, this would work `Outer.Inner obj = new Outer().new Inner(); `","body":"@HussainKMRBehestee, no that wouldn&#39;t work for sure. However, this would work <code>Outer.Inner obj = new Outer().new Inner(); </code>"},{"owner":{"account_id":484789,"reputation":852,"user_id":900684,"accept_rate":17,"display_name":"Hussain KMR Behestee"},"score":0,"creation_date":1503132036,"post_id":41149791,"comment_id":78497180,"body_markdown":"But Amit, it works for me. I would glad if you could explain why it should not work.","body":"But Amit, it works for me. I would glad if you could explain why it should not work."},{"owner":{"account_id":7069929,"reputation":7209,"user_id":5411888,"accept_rate":100,"display_name":"Amit Upadhyay"},"score":1,"creation_date":1503139981,"post_id":41149791,"comment_id":78499429,"body_markdown":"@HussainKMRBehestee, explanation: I can only guess that the grammar in Java says that to instantiate a class we need to call the constructor, and while calling the constructor `()` is compulsory. However, C, C++ it&#39;s not a must. [Here](https://ideone.com/QgDfMW) is an example which doesn&#39;t work. Moreover, I found this [post](https://stackoverflow.com/questions/16513210/calling-a-method-on-a-new-object-in-java-without-parentheses-order-of-operation). which is explaining more about grammar in Java and how they are parsed. I would love to see a sample case when this syntax is working for you.","body":"@HussainKMRBehestee, explanation: I can only guess that the grammar in Java says that to instantiate a class we need to call the constructor, and while calling the constructor <code>()</code> is compulsory. However, C, C++ it&#39;s not a must. <a href=\"https://ideone.com/QgDfMW\" rel=\"nofollow noreferrer\">Here</a> is an example which doesn&#39;t work. Moreover, I found this <a href=\"https://stackoverflow.com/questions/16513210/calling-a-method-on-a-new-object-in-java-without-parentheses-order-of-operation\">post</a>. which is explaining more about grammar in Java and how they are parsed. I would love to see a sample case when this syntax is working for you."},{"owner":{"account_id":484789,"reputation":852,"user_id":900684,"accept_rate":17,"display_name":"Hussain KMR Behestee"},"score":1,"creation_date":1503465367,"post_id":41149791,"comment_id":78619599,"body_markdown":"Oh, my bad, it was a typo, Outer.Inner obj = (new Outer()).new Inner(); hope this time it is ok and thanks for noticing that.","body":"Oh, my bad, it was a typo, Outer.Inner obj = (new Outer()).new Inner(); hope this time it is ok and thanks for noticing that."}],"tags":[],"owner":{"account_id":7069929,"reputation":7209,"user_id":5411888,"accept_rate":100,"display_name":"Amit Upadhyay"},"comment_count":5,"down_vote_count":1,"up_vote_count":59,"is_accepted":false,"score":58,"last_activity_date":1481740707,"creation_date":1481740707,"answer_id":41149791,"question_id":20252727,"body_markdown":"What I would suggest is not converting the non-static class to a static class because in that case, your inner class can&#39;t access the non-static members of outer class.\r\n\r\n\r\nExample :\r\n\r\n    class Outer\r\n    {\r\n        class Inner\r\n        {\r\n            //...\r\n        }\r\n    }\r\n\r\nSo, in such case, you can do something like:\r\n\r\n    Outer o = new Outer();\r\n    Outer.Inner obj = o.new Inner();","title":"Is not an enclosing class Java","body":"<p>What I would suggest is not converting the non-static class to a static class because in that case, your inner class can't access the non-static members of outer class.</p>\n\n<p>Example :</p>\n\n<pre><code>class Outer\n{\n    class Inner\n    {\n        //...\n    }\n}\n</code></pre>\n\n<p>So, in such case, you can do something like:</p>\n\n<pre><code>Outer o = new Outer();\nOuter.Inner obj = o.new Inner();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":134693,"reputation":11106,"user_id":2624806,"accept_rate":32,"display_name":"CoDe"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1549983770,"creation_date":1501319026,"answer_id":45387461,"question_id":20252727,"body_markdown":"In case if Parent class is singleton use following way:\r\n\r\n    Parent.Child childObject = (Parent.getInstance()).new Child();\r\n\r\nwhere `getInstance()` will return parent class singleton object.","title":"Is not an enclosing class Java","body":"<p>In case if Parent class is singleton use following way:</p>\n\n<pre><code>Parent.Child childObject = (Parent.getInstance()).new Child();\n</code></pre>\n\n<p>where <code>getInstance()</code> will return parent class singleton object.</p>\n"},{"tags":[],"owner":{"account_id":4531600,"reputation":491537,"user_id":3681880,"accept_rate":90,"display_name":"Suragch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509617098,"creation_date":1509617098,"answer_id":47072492,"question_id":20252727,"body_markdown":"One thing I didn&#39;t realize at first when reading the accepted answer was that making an inner class static is basically the same thing as moving it to its own separate class.\r\n\r\nThus, when getting the error\r\n\r\n&gt; xxx is not an enclosing class\r\n\r\nYou can solve it in either of the following ways:\r\n\r\n- Add the `static` keyword to the inner class, or\r\n- Move it out to its own separate class.","title":"Is not an enclosing class Java","body":"<p>One thing I didn't realize at first when reading the accepted answer was that making an inner class static is basically the same thing as moving it to its own separate class.</p>\n\n<p>Thus, when getting the error</p>\n\n<blockquote>\n  <p>xxx is not an enclosing class</p>\n</blockquote>\n\n<p>You can solve it in either of the following ways:</p>\n\n<ul>\n<li>Add the <code>static</code> keyword to the inner class, or</li>\n<li>Move it out to its own separate class.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":4600810,"reputation":23121,"user_id":3731614,"accept_rate":96,"display_name":"Muhammad Omer Aslam"},"score":0,"creation_date":1515546340,"post_id":48176676,"comment_id":83337877,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/low-quality-posts/18470483)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/low-quality-posts/18470483\">From Review</a>"},{"owner":{"account_id":5477892,"reputation":219,"user_id":4355380,"display_name":"Brennan Miller"},"score":0,"creation_date":1515635973,"post_id":48176676,"comment_id":83378783,"body_markdown":"Thanks! Just getting started.","body":"Thanks! Just getting started."}],"tags":[],"owner":{"account_id":5477892,"reputation":219,"user_id":4355380,"display_name":"Brennan Miller"},"comment_count":2,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1515551409,"creation_date":1515532165,"answer_id":48176676,"question_id":20252727,"body_markdown":"As stated in the [docs][1]:\r\n\r\n    OuterClass.InnerClass innerObject = outerObject.new InnerClass();\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html","title":"Is not an enclosing class Java","body":"<p>As stated in the <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"noreferrer\">docs</a>:</p>\n\n<pre><code>OuterClass.InnerClass innerObject = outerObject.new InnerClass();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6912215,"reputation":467,"user_id":5307634,"display_name":"MbPCM"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1521208641,"creation_date":1521206471,"answer_id":49321819,"question_id":20252727,"body_markdown":"Sometimes, we need to create a new instance of an inner class that can&#39;t be static because it depends on some global variables of the parent class. In that situation, if you try to create the instance of an inner class that is not static, a `not an enclosing class` error is thrown.\r\n\r\nTaking the example of the question, what if `ZShape` can&#39;t be static because it need global variable of `Shape` class? \r\n\r\nHow can you create new instance of `ZShape`? This is how:\r\n\r\nAdd a getter in the parent class:\r\n\r\n    public ZShape getNewZShape() {\r\n        return new ZShape();\r\n    }\r\n\r\nAccess it like this:\r\n\r\n    Shape ss = new Shape();\r\n    ZShape s = ss.getNewZShape();","title":"Is not an enclosing class Java","body":"<p>Sometimes, we need to create a new instance of an inner class that can't be static because it depends on some global variables of the parent class. In that situation, if you try to create the instance of an inner class that is not static, a <code>not an enclosing class</code> error is thrown.</p>\n\n<p>Taking the example of the question, what if <code>ZShape</code> can't be static because it need global variable of <code>Shape</code> class? </p>\n\n<p>How can you create new instance of <code>ZShape</code>? This is how:</p>\n\n<p>Add a getter in the parent class:</p>\n\n<pre><code>public ZShape getNewZShape() {\n    return new ZShape();\n}\n</code></pre>\n\n<p>Access it like this:</p>\n\n<pre><code>Shape ss = new Shape();\nZShape s = ss.getNewZShape();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9590392,"reputation":220,"user_id":9386125,"display_name":"Антон Лялин"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1536137933,"creation_date":1536137933,"answer_id":52181118,"question_id":20252727,"body_markdown":"    Shape shape = new Shape();\r\n    Shape.ZShape zshape = shape.new ZShape();","title":"Is not an enclosing class Java","body":"<pre><code>Shape shape = new Shape();\nShape.ZShape zshape = shape.new ZShape();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1264173,"reputation":1876,"user_id":1221842,"display_name":"Reishin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550814670,"creation_date":1550814670,"answer_id":54820831,"question_id":20252727,"body_markdown":"To achieve the requirement from the question, we can put classes into interface: \r\n\r\n\r\n    public interface Shapes {\r\n        class AShape{\r\n        }\r\n        class ZShape{\r\n        }\r\n    }\r\n\r\nand then use as author tried before: \r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            Shape s = new Shapes.ZShape();\r\n        }\r\n    }\r\n\r\nIf we looking for the proper &quot;logical&quot; solution, should be used `fabric` design pattern","title":"Is not an enclosing class Java","body":"<p>To achieve the requirement from the question, we can put classes into interface: </p>\n\n<pre><code>public interface Shapes {\n    class AShape{\n    }\n    class ZShape{\n    }\n}\n</code></pre>\n\n<p>and then use as author tried before: </p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        Shape s = new Shapes.ZShape();\n    }\n}\n</code></pre>\n\n<p>If we looking for the proper \"logical\" solution, should be used <code>fabric</code> design pattern</p>\n"},{"tags":[],"owner":{"account_id":4737130,"reputation":870,"user_id":3831201,"display_name":"mauronet"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1655162631,"creation_date":1655162631,"answer_id":72610026,"question_id":20252727,"body_markdown":"In case that someone has this issue trying to instance a third party component.\r\n\r\nIn my case was doing a unit test using this component: [ChannelSftp.LsEntry][1]\r\n\r\nDoing the usual instantiation give me the issue:\r\n[![enter image description here][2]][2]\r\n\r\nThe workaround was:\r\n\r\n        ChannelSftp channelSftp =  new ChannelSftp();\r\n        Constructor&lt;ChannelSftp.LsEntry&gt; constructor = (Constructor&lt;ChannelSftp.LsEntry&gt;) ChannelSftp.LsEntry.class.getDeclaredConstructors()[0];\r\n        constructor.setAccessible(true);\r\n        ChannelSftp.LsEntry lsEntry = constructor.newInstance(channelSftp, &quot;file1.txt&quot;, null);\r\n\r\nI found original code [here][3]\r\n\r\n\r\n  [1]: https://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/ChannelSftp.LsEntry.html\r\n  [2]: https://i.stack.imgur.com/1IajI.png\r\n  [3]: https://www.tabnine.com/code/java/methods/com.jcraft.jsch.ChannelSftp/%3Cinit%3E","title":"Is not an enclosing class Java","body":"<p>In case that someone has this issue trying to instance a third party component.</p>\n<p>In my case was doing a unit test using this component: <a href=\"https://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/ChannelSftp.LsEntry.html\" rel=\"nofollow noreferrer\">ChannelSftp.LsEntry</a></p>\n<p>Doing the usual instantiation give me the issue:\n<a href=\"https://i.stack.imgur.com/1IajI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1IajI.png\" alt=\"enter image description here\" /></a></p>\n<p>The workaround was:</p>\n<pre><code>    ChannelSftp channelSftp =  new ChannelSftp();\n    Constructor&lt;ChannelSftp.LsEntry&gt; constructor = (Constructor&lt;ChannelSftp.LsEntry&gt;) ChannelSftp.LsEntry.class.getDeclaredConstructors()[0];\n    constructor.setAccessible(true);\n    ChannelSftp.LsEntry lsEntry = constructor.newInstance(channelSftp, &quot;file1.txt&quot;, null);\n</code></pre>\n<p>I found original code <a href=\"https://www.tabnine.com/code/java/methods/com.jcraft.jsch.ChannelSftp/%3Cinit%3E\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":2438317,"reputation":4273,"user_id":2127592,"accept_rate":80,"display_name":"V Sebi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384242,"favorite_count":0,"down_vote_count":2,"up_vote_count":415,"accepted_answer_id":20252797,"answer_count":12,"score":413,"last_activity_date":1680964313,"creation_date":1385585056,"question_id":20252727,"body_markdown":"I&#39;m trying to make a Tetris game and I&#39;m getting the compiler error when I try to create an object\r\n\r\n&gt; Shape is not an enclosing class\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            Shape s = new Shapes.ZShape();\r\n        }\r\n    }\r\n\r\nI&#39;m using inner classes for each shape. Here&#39;s part of my code\r\n\r\n    public class Shapes {\r\n        class AShape {\r\n        }\r\n        class ZShape {\r\n        }\r\n    }\r\n\r\n\r\nWhat am I doing wrong?","title":"Is not an enclosing class Java","body":"<p>I'm trying to make a Tetris game and I'm getting the compiler error when I try to create an object</p>\n<blockquote>\n<p>Shape is not an enclosing class</p>\n</blockquote>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        Shape s = new Shapes.ZShape();\n    }\n}\n</code></pre>\n<p>I'm using inner classes for each shape. Here's part of my code</p>\n<pre><code>public class Shapes {\n    class AShape {\n    }\n    class ZShape {\n    }\n}\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","exception","filter","java-8","java-stream"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":5,"creation_date":1460470036,"post_id":36575679,"comment_id":60750252,"body_markdown":"Please make a [mcve]. Your code doesn&#39;t compile.","body":"Please make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Your code doesn&#39;t compile."},{"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"score":4,"creation_date":1460470122,"post_id":36575679,"comment_id":60750317,"body_markdown":"You can&#39;t operate on a stream twice. Presumably you already operated on `titleExclusions` in `//...`.","body":"You can&#39;t operate on a stream twice. Presumably you already operated on <code>titleExclusions</code> in <code>&#47;&#47;...</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1460470666,"post_id":36575679,"comment_id":60750763,"body_markdown":"By the way, you don’t need to collect into a `Set` all the time (otherwise, if you want to do your work with `Set`s, just do it without switching to the Stream API in-between). Since your elements are distinct already, `collect(Collectors.toSet()).size()` is just the same as `count()`, but `stream.filter(tittle::contains).collect(Collectors.toSet()).size() == 0` is the same as just `stream.noneMatch(tittle::contains)` anyway…","body":"By the way, you don’t need to collect into a <code>Set</code> all the time (otherwise, if you want to do your work with <code>Set</code>s, just do it without switching to the Stream API in-between). Since your elements are distinct already, <code>collect(Collectors.toSet()).size()</code> is just the same as <code>count()</code>, but <code>stream.filter(tittle::contains).collect(Collectors.toSet()).&zwnj;&#8203;size() == 0</code> is the same as just <code>stream.noneMatch(tittle::contains)</code> anyway…"},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":2,"creation_date":1460470685,"post_id":36575679,"comment_id":60750776,"body_markdown":"There is a lot of seemingly unnecessary complication in this code, but it should work, unless there is something important in the omitted part of the code.","body":"There is a lot of seemingly unnecessary complication in this code, but it should work, unless there is something important in the omitted part of the code."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1460470825,"post_id":36575679,"comment_id":60750888,"body_markdown":"Not storing stream instances in variables will greatly help avoiding the “stream has already been operated upon or closed” error.","body":"Not storing stream instances in variables will greatly help avoiding the “stream has already been operated upon or closed” error."}],"answers":[{"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1460471852,"post_id":36576155,"comment_id":60751757,"body_markdown":"`.filter(tittle::contains).findAny().isPresent()` is really `anyMatch(tittle::contains)`","body":"<code>.filter(tittle::contains).findAny().isPresent()</code> is really <code>anyMatch(tittle::contains)</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1460472259,"post_id":36576155,"comment_id":60752089,"body_markdown":"@Tunaki: …and `!(titleExclusions.stream().filter(tittle::contains).findAny() .isPresent())` is the same as `titleExclusions.stream().noneMatch(tittle::contains)`.","body":"@Tunaki: …and <code>!(titleExclusions.stream().filter(tittle::contains).findAny(&zwnj;&#8203;) .isPresent())</code> is the same as <code>titleExclusions.stream().noneMatch(tittle::contains)</code>."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1460476340,"creation_date":1460470994,"answer_id":36576155,"question_id":36575679,"body_markdown":"You can&#39;t operate on Streams more than once so you are better off using Collections as these can be used more than once.\r\n\r\n    Set&lt;String&gt; titleExclusions = ResourceUtility.contentToUtf8TreeSet(&quot;+.txt&quot;)\r\n                                                 .stream()\r\n                                                 .filter(item -&gt; !item.isEmpty())\r\n                                                 .collect(Collectors.toSet());\r\n    // uses titleExclusions \r\n    boolean noMatches = titleExclusions.stream()\r\n                                       .noneMatch(tittle::contains);\r\n    // uses titleExclusions again.\r\n\r\nNote: I assume you wanted the non-blank lines from your source file instead of the sets of blank ones. `filter` takes a `Predicate` of what is retained rather than what is discarded.\r\n\r\nThank you @Holger for simplifying the second statement.\r\n","title":"Stream has already been operated upon or closed - Java 8","body":"<p>You can't operate on Streams more than once so you are better off using Collections as these can be used more than once.</p>\n\n<pre><code>Set&lt;String&gt; titleExclusions = ResourceUtility.contentToUtf8TreeSet(\"+.txt\")\n                                             .stream()\n                                             .filter(item -&gt; !item.isEmpty())\n                                             .collect(Collectors.toSet());\n// uses titleExclusions \nboolean noMatches = titleExclusions.stream()\n                                   .noneMatch(tittle::contains);\n// uses titleExclusions again.\n</code></pre>\n\n<p>Note: I assume you wanted the non-blank lines from your source file instead of the sets of blank ones. <code>filter</code> takes a <code>Predicate</code> of what is retained rather than what is discarded.</p>\n\n<p>Thank you @Holger for simplifying the second statement.</p>\n"}],"owner":{"account_id":2704985,"reputation":1156,"user_id":2334771,"accept_rate":82,"display_name":"Arthur"},"comment_count":5,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6215,"favorite_count":0,"down_vote_count":3,"up_vote_count":4,"closed_date":1465582707,"accepted_answer_id":36576155,"answer_count":1,"score":1,"last_activity_date":1680964285,"creation_date":1460469911,"question_id":36575679,"body_markdown":"Why I have next exception?\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: stream has already been operated upon or closed\r\n\tat java.util.stream.AbstractPipeline.&lt;init&gt;(AbstractPipeline.java:203)...\r\n    com.search.offer.OffersSelector.isGood(OffersSelector.java:23)\r\n\r\nHow change the code to fix it?\r\n\r\n    Stream&lt;String&gt; titleExclusions = ResourceUtility.contentToUtf8TreeSet(&quot;+.txt&quot;).\r\n            stream().filter(item -&gt; item.length() == 0).collect(Collectors.toSet()).stream();\r\n    //...\r\n    titleExclusions.filter(tittle::contains).collect(Collectors.toSet()).size() == 0;//line 23","title":"Stream has already been operated upon or closed - Java 8","body":"<p>Why I have next exception?</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: stream has already been operated upon or closed\nat java.util.stream.AbstractPipeline.&lt;init&gt;(AbstractPipeline.java:203)...\ncom.search.offer.OffersSelector.isGood(OffersSelector.java:23)\n</code></pre>\n<p>How change the code to fix it?</p>\n<pre><code>Stream&lt;String&gt; titleExclusions = ResourceUtility.contentToUtf8TreeSet(&quot;+.txt&quot;).\n        stream().filter(item -&gt; item.length() == 0).collect(Collectors.toSet()).stream();\n//...\ntitleExclusions.filter(tittle::contains).collect(Collectors.toSet()).size() == 0;//line 23\n</code></pre>\n"},{"tags":["java","arrays","api"],"answers":[{"tags":[],"owner":{"account_id":9284974,"reputation":2973,"user_id":6895166,"accept_rate":40,"display_name":"SamHoque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680964166,"creation_date":1680884283,"answer_id":75960214,"question_id":75960205,"body_markdown":"Looks like a JSON String, you can use the Gson library to achieve this.\r\n\r\n    import com.google.gson.Gson;\r\n    import java.util.Arrays;\r\n    \r\n    Gson gson = new Gson();\r\n    Object[][] data = gson.fromJson(jsonString, Object[][].class);\r\n    \r\n    System.out.println(Arrays.deepToString(data));\r\n\r\nThe output should be:\r\n\r\n    [[1.6803738E12, 1.2786, 1.2821], [1.6803747E12, 1.2761, 1.28, 0.0]]\r\n\r\n","title":"String with [[ to array","body":"<p>Looks like a JSON String, you can use the Gson library to achieve this.</p>\n<pre><code>import com.google.gson.Gson;\nimport java.util.Arrays;\n\nGson gson = new Gson();\nObject[][] data = gson.fromJson(jsonString, Object[][].class);\n\nSystem.out.println(Arrays.deepToString(data));\n</code></pre>\n<p>The output should be:</p>\n<pre><code>[[1.6803738E12, 1.2786, 1.2821], [1.6803747E12, 1.2761, 1.28, 0.0]]\n</code></pre>\n"}],"owner":{"account_id":28242939,"reputation":1,"user_id":21590452,"display_name":"Julian Isaac"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1680969160,"accepted_answer_id":75960214,"answer_count":1,"score":-2,"last_activity_date":1680964166,"creation_date":1680884212,"question_id":75960205,"body_markdown":"I have the following String, that returns from API\r\n\r\n[\r\n\t[\r\n\t\t1680373800000,\r\n\t\t&quot;1.27860000&quot;,\r\n\t\t&quot;1.28210000&quot;,\r\n\t],\r\n\t[\r\n\t\t1680374700000,\r\n\t\t&quot;1.27610000&quot;,\r\n\t\t&quot;1.28000000&quot;,\r\n\t\t&quot;0&quot;\r\n\t]\r\n]\r\n\r\nHow to convert this to Java Arrays?\r\nThanks a lot :)\r\n\r\nI tried differents solutions but I can not reach the solution.","title":"String with [[ to array","body":"<p>I have the following String, that returns from API</p>\n<p>[\n[\n1680373800000,\n&quot;1.27860000&quot;,\n&quot;1.28210000&quot;,\n],\n[\n1680374700000,\n&quot;1.27610000&quot;,\n&quot;1.28000000&quot;,\n&quot;0&quot;\n]\n]</p>\n<p>How to convert this to Java Arrays?\nThanks a lot :)</p>\n<p>I tried differents solutions but I can not reach the solution.</p>\n"},{"tags":["java","inner-classes"],"comments":[{"owner":{"account_id":17823878,"reputation":1064,"user_id":12945569,"display_name":"Fr&#233;d&#233;ric LOYER"},"score":0,"creation_date":1680883701,"post_id":75960030,"comment_id":133975655,"body_markdown":"I have an error :  .\\example.java:6: error: Illegal static declaration in inner class Outer.Inner. You should really copy the text of your program instead of a screen copy. I had to type it again. See https://stackoverflow.com/questions/19481680/error-illegal-static-declaration-in-inner-class","body":"I have an error :  .\\example.java:6: error: Illegal static declaration in inner class Outer.Inner. You should really copy the text of your program instead of a screen copy. I had to type it again. See <a href=\"https://stackoverflow.com/questions/19481680/error-illegal-static-declaration-in-inner-class\" title=\"error illegal static declaration in inner class\">stackoverflow.com/questions/19481680/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680963297,"post_id":75960030,"comment_id":133984637,"body_markdown":"Which Java version are you using? Your code compiles and runs fine (producing _&quot;Inner class&quot;_ with Java 17).","body":"Which Java version are you using? Your code compiles and runs fine (producing <i>&quot;Inner class&quot;</i> with Java 17)."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680963797,"post_id":75960030,"comment_id":133984711,"body_markdown":"The second part of your question is related to the specific editor you&#39;re using. Please focus on only one question/problem per question.","body":"The second part of your question is related to the specific editor you&#39;re using. Please focus on only one question/problem per question."}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680963272,"post_id":75960193,"comment_id":133984635,"body_markdown":"Recent versions of Java allow static methods in inner classes (non-static nested classes). For example, the code posted in the question works fine in Java 17.","body":"Recent versions of Java allow static methods in inner classes (non-static nested classes). For example, the code posted in the question works fine in Java 17."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680963355,"post_id":75960193,"comment_id":133984642,"body_markdown":"The actual problem is solved by your solution at the end about PowerShell treating $ specially, so the OP should use `java &#39;inner$outer&#39;`","body":"The actual problem is solved by your solution at the end about PowerShell treating $ specially, so the OP should use <code>java &#39;inner$outer&#39;</code>"}],"tags":[],"owner":{"account_id":17823878,"reputation":1064,"user_id":12945569,"display_name":"Fr&#233;d&#233;ric LOYER"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680884755,"creation_date":1680884135,"answer_id":75960193,"question_id":75960030,"body_markdown":"I had a `Illegal static declaration in inner class Outer.Inner` error with your program.\r\n\r\nI had to change it to:\r\n\r\n```java\r\nclass Outer{\r\n  public static void main(String[] args) {\r\n     System.out.println(&quot;OUTER&quot;);\r\n  }\r\n  static class Inner{\r\n    public static void main(String[] args) {\r\n       System.out.println(&quot;INNER&quot;);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nSee the `static` class.\r\n\r\nThen, I can run the INNER class:\r\n\r\n```Powershell\r\nPS D:\\&gt; java &#39;Outer$Inner&#39;\r\nINNER\r\n```\r\n\r\nNote the quotes. If you omit them, Powershell will run `java Outer` (`$Inner` is replaced by nothing since the variable is not defined).\r\n\r\nCommon usages write class names with a capital like this example.","title":"My Inner class main function is not executing even when I tried java outter$inner","body":"<p>I had a <code>Illegal static declaration in inner class Outer.Inner</code> error with your program.</p>\n<p>I had to change it to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Outer{\n  public static void main(String[] args) {\n     System.out.println(&quot;OUTER&quot;);\n  }\n  static class Inner{\n    public static void main(String[] args) {\n       System.out.println(&quot;INNER&quot;);\n    }\n  }\n}\n</code></pre>\n<p>See the <code>static</code> class.</p>\n<p>Then, I can run the INNER class:</p>\n<pre><code>PS D:\\&gt; java 'Outer$Inner'\nINNER\n</code></pre>\n<p>Note the quotes. If you omit them, Powershell will run <code>java Outer</code> (<code>$Inner</code> is replaced by nothing since the variable is not defined).</p>\n<p>Common usages write class names with a capital like this example.</p>\n"}],"owner":{"account_id":26283301,"reputation":3,"user_id":21587289,"display_name":"MANOJ CHALLA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75960193,"answer_count":1,"score":-1,"last_activity_date":1680963743,"creation_date":1680882878,"question_id":75960030,"body_markdown":"I&#39;m facing difficulty in executing a main method in an inner class. The outer class main method is executing fine, and even other class main methods are executing fine. However, when I&#39;m trying to execute java Outer$Inner it executes the main method of Outer class rather than Inner class.\r\n\r\nHere is the code:\r\n```java\r\nclass outer{\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Outer class&quot;);\r\n    }\r\n    class inner{\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Inner class&quot;);   \r\n        }\r\n    }\r\n}\r\nclass c{\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Another class&quot;);\r\n    }\r\n}\r\n```\r\n```none\r\nOutput:\r\nPS C:\\Users\\MY_PROJECTS&gt; java outer\r\nOuter class\r\nPS C:\\Users\\MY_PROJECTS&gt; java outer$inner\r\nOuter class\r\nPS C:\\Users\\MY_PROJECTS&gt; java c\r\nAnother class\r\n```\r\nAll class files are generated in same directory.\r\nAlso what irritating me here is this\r\n[image](https://i.stack.imgur.com/s3hMe.png)\r\nthere is no option to run or debug main method in inner class.\r\n\r\nSo I&#39;m trying to find why this is happening.","title":"My Inner class main function is not executing even when I tried java outter$inner","body":"<p>I'm facing difficulty in executing a main method in an inner class. The outer class main method is executing fine, and even other class main methods are executing fine. However, when I'm trying to execute java Outer$Inner it executes the main method of Outer class rather than Inner class.</p>\n<p>Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class outer{\n    public static void main(String[] args) {\n        System.out.println(&quot;Outer class&quot;);\n    }\n    class inner{\n        public static void main(String[] args) {\n            System.out.println(&quot;Inner class&quot;);   \n        }\n    }\n}\nclass c{\n    public static void main(String[] args) {\n        System.out.println(&quot;Another class&quot;);\n    }\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Output:\nPS C:\\Users\\MY_PROJECTS&gt; java outer\nOuter class\nPS C:\\Users\\MY_PROJECTS&gt; java outer$inner\nOuter class\nPS C:\\Users\\MY_PROJECTS&gt; java c\nAnother class\n</code></pre>\n<p>All class files are generated in same directory.\nAlso what irritating me here is this\n<a href=\"https://i.stack.imgur.com/s3hMe.png\" rel=\"nofollow noreferrer\">image</a>\nthere is no option to run or debug main method in inner class.</p>\n<p>So I'm trying to find why this is happening.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1680958364,"post_id":75965305,"comment_id":133984006,"body_markdown":"`continue` would force loop to skip rest of code from current iteration. This means that `System.out.println(i)` will never be executed so it is &quot;dead code&quot;.","body":"<code>continue</code> would force loop to skip rest of code from current iteration. This means that <code>System.out.println(i)</code> will never be executed so it is &quot;dead code&quot;."}],"answers":[{"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1680959208,"post_id":75965319,"comment_id":133984103,"body_markdown":"OR in this case we can simply remove `continue;` since as last statement in the loop it is redundant.","body":"OR in this case we can simply remove <code>continue;</code> since as last statement in the loop it is redundant."},{"owner":{"account_id":3187436,"reputation":15604,"user_id":2692688,"display_name":"Tushar Gupta"},"score":0,"creation_date":1680959282,"post_id":75965319,"comment_id":133984110,"body_markdown":"yeah that is also true.","body":"yeah that is also true."}],"tags":[],"owner":{"account_id":3187436,"reputation":15604,"user_id":2692688,"display_name":"Tushar Gupta"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680963672,"creation_date":1680958381,"answer_id":75965319,"question_id":75965305,"body_markdown":"You need to put `System.out.println(i);` before `continue` statement. \r\n\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        System.out.println(i);\r\n        continue;\r\n    }\r\n\r\nContinue tells `for` loop to keep on and breaks the current iteration, so in your version `System.out.println(i)` is not reachable.\r\n\r\n***Option***: You can omit `continue` as it is redundant being last statement in the loop (@Pshemo)","title":"Error while running the code source_file.java:15: error: unreachable statement System.out.println(i);} ^ 1 error","body":"<p>You need to put <code>System.out.println(i);</code> before <code>continue</code> statement.</p>\n<pre><code>for (int i = 0; i &lt; 10; i++) {\n    System.out.println(i);\n    continue;\n}\n</code></pre>\n<p>Continue tells <code>for</code> loop to keep on and breaks the current iteration, so in your version <code>System.out.println(i)</code> is not reachable.</p>\n<p><em><strong>Option</strong></em>: You can omit <code>continue</code> as it is redundant being last statement in the loop (@Pshemo)</p>\n"},{"tags":[],"owner":{"account_id":21864716,"reputation":1,"user_id":16155068,"display_name":"RealGD AI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680962548,"creation_date":1680962548,"answer_id":75965663,"question_id":75965305,"body_markdown":"The keyword `continue` means to skip the rest of the code in the loop and re-iterate. That means `System.out.println(i)` will never be reached. So to fix it, you could either move that line before `continue` or you can just delete that line.","title":"Error while running the code source_file.java:15: error: unreachable statement System.out.println(i);} ^ 1 error","body":"<p>The keyword <code>continue</code> means to skip the rest of the code in the loop and re-iterate. That means <code>System.out.println(i)</code> will never be reached. So to fix it, you could either move that line before <code>continue</code> or you can just delete that line.</p>\n"}],"owner":{"account_id":28249450,"reputation":11,"user_id":21595937,"display_name":"Hazel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1680963672,"creation_date":1680958254,"question_id":75965305,"body_markdown":"    for (int i = 0; i &lt; 10; i++) {\r\n        continue;\r\n        System.out.println(i);\r\n    }\r\n\r\nI want to understand the logic behind the error.\r\n","title":"Error while running the code source_file.java:15: error: unreachable statement System.out.println(i);} ^ 1 error","body":"<pre><code>for (int i = 0; i &lt; 10; i++) {\n    continue;\n    System.out.println(i);\n}\n</code></pre>\n<p>I want to understand the logic behind the error.</p>\n"},{"tags":["java","plugins","nullpointerexception","weka","package-management"],"answers":[{"comments":[{"owner":{"account_id":5978100,"reputation":2493,"user_id":4698227,"display_name":"fracpete"},"score":0,"creation_date":1681707873,"post_id":75951439,"comment_id":134094118,"body_markdown":"Great spotting! We&#39;ve updated the [Weka wiki](https://waikato.github.io/weka-wiki/packages/structure/#the-description-file) and the LaTeX manuals accordingly.","body":"Great spotting! We&#39;ve updated the <a href=\"https://waikato.github.io/weka-wiki/packages/structure/#the-description-file\" rel=\"nofollow noreferrer\">Weka wiki</a> and the LaTeX manuals accordingly."}],"tags":[],"owner":{"account_id":23858477,"reputation":19,"user_id":17861732,"display_name":"PierreBls"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680796233,"creation_date":1680796233,"answer_id":75951439,"question_id":75950875,"body_markdown":"After reading Weka source code I realized that this error occur while Weka reading depencies needed by the package. In the template file `Descriptions.props` that mean the section &quot;**Dependencies**&quot; are required even if it&#39;s not mentioned.\r\n\r\nSo I add theses lines to fix the problems:\r\n\r\n```xml\r\n# Dependencies (format: packageName (equality/inequality version_number)\r\nDepends=weka (&gt;=3.7.12)\r\n```","title":"NullPointerException when importing a package in Weka","body":"<p>After reading Weka source code I realized that this error occur while Weka reading depencies needed by the package. In the template file <code>Descriptions.props</code> that mean the section &quot;<strong>Dependencies</strong>&quot; are required even if it's not mentioned.</p>\n<p>So I add theses lines to fix the problems:</p>\n<pre class=\"lang-xml prettyprint-override\"><code># Dependencies (format: packageName (equality/inequality version_number)\nDepends=weka (&gt;=3.7.12)\n</code></pre>\n"}],"owner":{"account_id":23858477,"reputation":19,"user_id":17861732,"display_name":"PierreBls"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680963125,"creation_date":1680792530,"question_id":75950875,"body_markdown":"I am developing a plugin for Weka in Java, and I&#39;m  using the [weka/packages/templates](https://github.com/bnjmn/weka/tree/master/packages/templates) to compile and create the package with `ant`. It look like Weka using the weka.core.packageManagement.DefaultPackage class while importing the packages from the GUI (Tools&gt;PacketManager&gt;File/URL) because when I try to import the resulting zip file in Weka 3.8.6 for Ubuntu, I get a NullPointerException with the following stack trace:\r\n\r\n```java\r\njava.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;weka.core.packageManagement.DefaultPackage.getPackageMetaDataElement(Object)&quot; is null\r\n\tat weka.core.packageManagement.DefaultPackage.getDependencies(DefaultPackage.java:252)\r\n\tat weka.core.WekaPackageLibIsolatingClassLoader.init(WekaPackageLibIsolatingClassLoader.java:147)\r\n\tat weka.core.WekaPackageLibIsolatingClassLoader.&lt;init&gt;(WekaPackageLibIsolatingClassLoader.java:126)\r\n\tat weka.core.WekaPackageClassLoaderManager.addPackageToClassLoader(WekaPackageClassLoaderManager.java:369)\r\n\tat weka.core.WekaPackageManager.initializeAndLoadUnofficialPackage(WekaPackageManager.java:2372)\r\n\tat weka.core.WekaPackageManager.installPackageFromArchive(WekaPackageManager.java:2359)\r\n\tat weka.gui.PackageManager$UnofficialInstallTask.doInBackground(PackageManager.java:780)\r\n\tat weka.gui.PackageManager$UnofficialInstallTask.doInBackground(PackageManager.java:724)\r\n\tat java.desktop/javax.swing.SwingWorker$1.call(Unknown Source)\r\n\tat java.base/java.util.concurrent.FutureTask.run(Unknown Source)\r\n\tat java.desktop/javax.swing.SwingWorker.run(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.base/java.lang.Thread.run(Unknown Source)\r\n```\r\n\r\n\r\nI am using OpenJDK 11.0.18 on Ubuntu. Can someone help me understand what is causing this error and how to fix it?\r\n\r\n","title":"NullPointerException when importing a package in Weka","body":"<p>I am developing a plugin for Weka in Java, and I'm  using the <a href=\"https://github.com/bnjmn/weka/tree/master/packages/templates\" rel=\"nofollow noreferrer\">weka/packages/templates</a> to compile and create the package with <code>ant</code>. It look like Weka using the weka.core.packageManagement.DefaultPackage class while importing the packages from the GUI (Tools&gt;PacketManager&gt;File/URL) because when I try to import the resulting zip file in Weka 3.8.6 for Ubuntu, I get a NullPointerException with the following stack trace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;weka.core.packageManagement.DefaultPackage.getPackageMetaDataElement(Object)&quot; is null\n    at weka.core.packageManagement.DefaultPackage.getDependencies(DefaultPackage.java:252)\n    at weka.core.WekaPackageLibIsolatingClassLoader.init(WekaPackageLibIsolatingClassLoader.java:147)\n    at weka.core.WekaPackageLibIsolatingClassLoader.&lt;init&gt;(WekaPackageLibIsolatingClassLoader.java:126)\n    at weka.core.WekaPackageClassLoaderManager.addPackageToClassLoader(WekaPackageClassLoaderManager.java:369)\n    at weka.core.WekaPackageManager.initializeAndLoadUnofficialPackage(WekaPackageManager.java:2372)\n    at weka.core.WekaPackageManager.installPackageFromArchive(WekaPackageManager.java:2359)\n    at weka.gui.PackageManager$UnofficialInstallTask.doInBackground(PackageManager.java:780)\n    at weka.gui.PackageManager$UnofficialInstallTask.doInBackground(PackageManager.java:724)\n    at java.desktop/javax.swing.SwingWorker$1.call(Unknown Source)\n    at java.base/java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.desktop/javax.swing.SwingWorker.run(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>I am using OpenJDK 11.0.18 on Ubuntu. Can someone help me understand what is causing this error and how to fix it?</p>\n"},{"tags":["java","javafx","java-module"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1680991742,"post_id":75965622,"comment_id":133988253,"body_markdown":"JavaFX media is at version 19 and other JavaFX modules are at version 18.0.2.  All JavaFX versions should be the same.","body":"JavaFX media is at version 19 and other JavaFX modules are at version 18.0.2.  All JavaFX versions should be the same."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681015012,"post_id":75965622,"comment_id":133989897,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":23341241,"reputation":1,"user_id":17416112,"display_name":"LICHG4E"},"score":0,"creation_date":1680963222,"post_id":75965680,"comment_id":133984627,"body_markdown":"still the same issue","body":"still the same issue"}],"tags":[],"owner":{"account_id":26147777,"reputation":24,"user_id":19836176,"display_name":"Chris Mwangi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680962843,"creation_date":1680962718,"answer_id":75965680,"question_id":75965622,"body_markdown":"You are initializing mvVideo before setting mpVideo with the media file you selected. To fix this, you can move the initialization of mvVideo after creating the MediaPlayer with the selected file.\r\n\r\nFor handleButtonAction method try this:\r\n```java\r\n@FXML\r\npublic void handleButtonAction() throws Exception{\r\n    FileChooser fc= new FileChooser();\r\n    FileChooser.ExtensionFilter extensionFilter= new FileChooser.ExtensionFilter(&quot;Video files with mp4 extension only.&quot;, &quot;*.mp4&quot;);\r\n    fc.getExtensionFilters().add(extensionFilter);\r\n\r\n    File file= fc.showOpenDialog(null);\r\n    String filePath = file.toURI().toString();\r\n\r\n    if(filePath!= null) {\r\n        System.out.println(&quot;FilePath is- &quot;+filePath);\r\n        Media media= new Media(filePath);\r\n        mpVideo= new MediaPlayer(media);\r\n\r\n        // move initialization of mvVideo after creating the MediaPlayer\r\n        mvVideo= new MediaView(mpVideo);\r\n        mvVideo.setFitWidth(DataHolder.WIDTH);\r\n        mvVideo.setFitHeight(DataHolder.HEIGHT);\r\n        mvVideo.setPreserveRatio(false);\r\n        mvVideo.setSmooth(true);\r\n\r\n        mpVideo.setAutoPlay(true);\r\n    }\r\n}\r\n```\r\n","title":"Could not create player! javafx","body":"<p>You are initializing mvVideo before setting mpVideo with the media file you selected. To fix this, you can move the initialization of mvVideo after creating the MediaPlayer with the selected file.</p>\n<p>For handleButtonAction method try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FXML\npublic void handleButtonAction() throws Exception{\n    FileChooser fc= new FileChooser();\n    FileChooser.ExtensionFilter extensionFilter= new FileChooser.ExtensionFilter(&quot;Video files with mp4 extension only.&quot;, &quot;*.mp4&quot;);\n    fc.getExtensionFilters().add(extensionFilter);\n\n    File file= fc.showOpenDialog(null);\n    String filePath = file.toURI().toString();\n\n    if(filePath!= null) {\n        System.out.println(&quot;FilePath is- &quot;+filePath);\n        Media media= new Media(filePath);\n        mpVideo= new MediaPlayer(media);\n\n        // move initialization of mvVideo after creating the MediaPlayer\n        mvVideo= new MediaView(mpVideo);\n        mvVideo.setFitWidth(DataHolder.WIDTH);\n        mvVideo.setFitHeight(DataHolder.HEIGHT);\n        mvVideo.setPreserveRatio(false);\n        mvVideo.setSmooth(true);\n\n        mpVideo.setAutoPlay(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23341241,"reputation":1,"user_id":17416112,"display_name":"LICHG4E"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680963081,"creation_date":1680962005,"question_id":75965622,"body_markdown":"I&#39;m trying to make a simple video player using JavaFX. I&#39;m using IntelliJ that has Maven with all plugins. I&#39;m running on Corretto SDK 18.0.2.\r\n\r\nBut when I build it and choose the file I get this error:\r\n```none\r\ncom.sun.media.jfxmedia.MediaException: Could not create player!\r\n```\r\nI&#39;m on Windows.\r\n```\r\nApr 08, 2023 2:37:26 PM javafx.fxml.FXMLLoader$ValueElement processValue\r\nWARNING: Loading FXML document with JavaFX API of version 19 by JavaFX runtime of version 18.0.2\r\nFilePath is- file:D:\\Java\\NetflixProject\\src\\main\\java\\Test\\VideoTest.mp4\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\r\n\tat javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base@18.0.2/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@18.0.2/javafx.scene.Node.fireEvent(Node.java:8797)\r\n\tat javafx.controls@18.0.2/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls@18.0.2/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\r\n\tat javafx.controls@18.0.2/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@18.0.2/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@18.0.2/javafx.scene.Scene$MouseHandler.process(Scene.java:3881)\r\n\tat javafx.graphics@18.0.2/javafx.scene.Scene.processMouseEvent(Scene.java:1874)\r\n\tat javafx.graphics@18.0.2/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2607)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@18.0.2/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@18.0.2/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@18.0.2/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@18.0.2/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat javafx.base@18.0.2/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml@18.0.2/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\r\n\t... 46 more\r\nCaused by: MediaException: UNKNOWN : com.sun.media.jfxmedia.MediaException: Could not create player! : com.sun.media.jfxmedia.MediaException: Could not create player!\r\n\tat javafx.media@19/javafx.scene.media.MediaException.exceptionToMediaException(MediaException.java:147)\r\n\tat javafx.media@19/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:519)\r\n\tat javafx.media@19/javafx.scene.media.MediaPlayer.&lt;init&gt;(MediaPlayer.java:422)\r\n\tat com.example.netflixproject/Controllers.VideoPlayerController.handleButtonAction(VideoPlayerController.java:61)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t... 53 more\r\nCaused by: com.sun.media.jfxmedia.MediaException: Could not create player!\r\n\tat javafx.media@19/com.sun.media.jfxmediaimpl.NativeMediaManager.getPlayer(NativeMediaManager.java:297)\r\n\tat javafx.media@19/com.sun.media.jfxmedia.MediaManager.getPlayer(MediaManager.java:118)\r\n\tat javafx.media@19/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:475)\r\n\t... 56 more\r\n```\r\nI made a file chooser and the GUI opens so after I choose the file the error appears and nothing displays in my media view:\r\n```java\r\npackage Controllers;\r\n\r\nimport DAO.EpisodeDAO2;\r\nimport Utils.DataHolder;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.Slider;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.media.Media;\r\nimport javafx.scene.media.MediaPlayer;\r\nimport javafx.scene.media.MediaView;\r\nimport javafx.stage.FileChooser;\r\n\r\nimport java.io.File;\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\npublic class VideoPlayerController implements Initializable {\r\n    public MediaView mvVideo;\r\n    @FXML\r\n    public MediaPlayer mpVideo;\r\n    @FXML\r\n    public Media mediaVideo;\r\n    public Slider SliderTime;\r\n    public Button ButtonPPR;\r\n    public HBox HboxVolume;\r\n    public Label LabelVolume;\r\n    public Slider SliderVolume;\r\n    public Label LabelCurrentTime;\r\n    public Label LabelTotalTime;\r\n    public Label LabelSpeed;\r\n    public Label LabelFullScreen;\r\n\r\n    private boolean atEndOfVideo = false;\r\n    private boolean isPalying = false;\r\n    private boolean isMuted = false;\r\n\r\n    private ImageView ivPlay;\r\n    private ImageView ivPause;\r\n    private ImageView ivRestart;\r\n    private ImageView ivVolume;\r\n    private ImageView ivMute;\r\n    private ImageView ivFullScreen;\r\n    @FXML\r\n    public void handleButtonAction() throws Exception{\r\n        FileChooser fc= new FileChooser();\r\n        FileChooser.ExtensionFilter extensionFilter= new FileChooser.ExtensionFilter(&quot;Video files with mp4 extension only.&quot;, &quot;*.mp4&quot;);\r\n        fc.getExtensionFilters().add(extensionFilter);\r\n\r\n        File file= fc.showOpenDialog(null);\r\n        String filePath = file.toURI().toString();\r\n\r\n        if(filePath!= null) {\r\n            System.out.println(&quot;FilePath is- &quot;+filePath);\r\n            Media media= new Media(filePath);\r\n            mpVideo= new MediaPlayer(media);\r\n            mvVideo.setMediaPlayer(mpVideo);\r\n\r\n            mpVideo.play();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n\r\n    }\r\n}\r\n```\r\n","title":"Could not create player! javafx","body":"<p>I'm trying to make a simple video player using JavaFX. I'm using IntelliJ that has Maven with all plugins. I'm running on Corretto SDK 18.0.2.</p>\n<p>But when I build it and choose the file I get this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>com.sun.media.jfxmedia.MediaException: Could not create player!\n</code></pre>\n<p>I'm on Windows.</p>\n<pre><code>Apr 08, 2023 2:37:26 PM javafx.fxml.FXMLLoader$ValueElement processValue\nWARNING: Loading FXML document with JavaFX API of version 19 by JavaFX runtime of version 18.0.2\nFilePath is- file:D:\\Java\\NetflixProject\\src\\main\\java\\Test\\VideoTest.mp4\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\n    at javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at javafx.base@18.0.2/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@18.0.2/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@18.0.2/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@18.0.2/javafx.scene.Node.fireEvent(Node.java:8797)\n    at javafx.controls@18.0.2/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@18.0.2/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\n    at javafx.controls@18.0.2/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@18.0.2/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@18.0.2/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@18.0.2/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18.0.2/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@18.0.2/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@18.0.2/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@18.0.2/javafx.scene.Scene$MouseHandler.process(Scene.java:3881)\n    at javafx.graphics@18.0.2/javafx.scene.Scene.processMouseEvent(Scene.java:1874)\n    at javafx.graphics@18.0.2/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2607)\n    at javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@18.0.2/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@18.0.2/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@18.0.2/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@18.0.2/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@18.0.2/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at javafx.base@18.0.2/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml@18.0.2/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@18.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\n    ... 46 more\nCaused by: MediaException: UNKNOWN : com.sun.media.jfxmedia.MediaException: Could not create player! : com.sun.media.jfxmedia.MediaException: Could not create player!\n    at javafx.media@19/javafx.scene.media.MediaException.exceptionToMediaException(MediaException.java:147)\n    at javafx.media@19/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:519)\n    at javafx.media@19/javafx.scene.media.MediaPlayer.&lt;init&gt;(MediaPlayer.java:422)\n    at com.example.netflixproject/Controllers.VideoPlayerController.handleButtonAction(VideoPlayerController.java:61)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 53 more\nCaused by: com.sun.media.jfxmedia.MediaException: Could not create player!\n    at javafx.media@19/com.sun.media.jfxmediaimpl.NativeMediaManager.getPlayer(NativeMediaManager.java:297)\n    at javafx.media@19/com.sun.media.jfxmedia.MediaManager.getPlayer(MediaManager.java:118)\n    at javafx.media@19/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:475)\n    ... 56 more\n</code></pre>\n<p>I made a file chooser and the GUI opens so after I choose the file the error appears and nothing displays in my media view:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Controllers;\n\nimport DAO.EpisodeDAO2;\nimport Utils.DataHolder;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.Slider;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.media.Media;\nimport javafx.scene.media.MediaPlayer;\nimport javafx.scene.media.MediaView;\nimport javafx.stage.FileChooser;\n\nimport java.io.File;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class VideoPlayerController implements Initializable {\n    public MediaView mvVideo;\n    @FXML\n    public MediaPlayer mpVideo;\n    @FXML\n    public Media mediaVideo;\n    public Slider SliderTime;\n    public Button ButtonPPR;\n    public HBox HboxVolume;\n    public Label LabelVolume;\n    public Slider SliderVolume;\n    public Label LabelCurrentTime;\n    public Label LabelTotalTime;\n    public Label LabelSpeed;\n    public Label LabelFullScreen;\n\n    private boolean atEndOfVideo = false;\n    private boolean isPalying = false;\n    private boolean isMuted = false;\n\n    private ImageView ivPlay;\n    private ImageView ivPause;\n    private ImageView ivRestart;\n    private ImageView ivVolume;\n    private ImageView ivMute;\n    private ImageView ivFullScreen;\n    @FXML\n    public void handleButtonAction() throws Exception{\n        FileChooser fc= new FileChooser();\n        FileChooser.ExtensionFilter extensionFilter= new FileChooser.ExtensionFilter(&quot;Video files with mp4 extension only.&quot;, &quot;*.mp4&quot;);\n        fc.getExtensionFilters().add(extensionFilter);\n\n        File file= fc.showOpenDialog(null);\n        String filePath = file.toURI().toString();\n\n        if(filePath!= null) {\n            System.out.println(&quot;FilePath is- &quot;+filePath);\n            Media media= new Media(filePath);\n            mpVideo= new MediaPlayer(media);\n            mvVideo.setMediaPlayer(mpVideo);\n\n            mpVideo.play();\n        }\n    }\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","csv","opencsv"],"comments":[{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1563173844,"post_id":57034570,"comment_id":100597597,"body_markdown":"have you tried with `opencsv`?","body":"have you tried with <code>opencsv</code>?"},{"owner":{"account_id":3664347,"reputation":724,"user_id":3053257,"accept_rate":60,"display_name":"Gal Sosin"},"score":0,"creation_date":1563173929,"post_id":57034570,"comment_id":100597629,"body_markdown":"I did, but I didn&#39;t see an option that handles unknown columns","body":"I did, but I didn&#39;t see an option that handles unknown columns"}],"answers":[{"comments":[{"owner":{"account_id":3664347,"reputation":724,"user_id":3053257,"accept_rate":60,"display_name":"Gal Sosin"},"score":0,"creation_date":1563277199,"post_id":57039727,"comment_id":100638571,"body_markdown":"Thanks, I will check it out and let you know","body":"Thanks, I will check it out and let you know"}],"tags":[],"owner":{"account_id":1461177,"reputation":2976,"user_id":1375470,"accept_rate":75,"display_name":"Timekiller"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1563193457,"creation_date":1563193457,"answer_id":57039727,"question_id":57034570,"body_markdown":"OpenCSV allows you to do something similar to this using `@CsvBindAndJoinByName` annotation. Taken from [the docs][1]:\r\n\r\n    public class Demonstration {\r\n\r\n       @CsvBindByName(column = &quot;index&quot;)\r\n       private String index;\r\n\r\n       @CsvBindAndJoinByName(column = &quot;.*&quot;, elementType = String.class)\r\n       private MultiValuedMap&lt;String, String&gt; theRest;\r\n    \r\n       // Getters and setters go here\r\n    }\r\n\r\nThe same docs mention a caveat: you have to be careful not to have overlapping patterns if you have multiple `@CsvBindAndJoinByName`, otherwise the result is undefined.\r\n\r\n  [1]: http://opencsv.sourceforge.net/#reading_into_beans","title":"Read CSV files with known and unknown columns in java","body":"<p>OpenCSV allows you to do something similar to this using <code>@CsvBindAndJoinByName</code> annotation. Taken from <a href=\"http://opencsv.sourceforge.net/#reading_into_beans\" rel=\"noreferrer\">the docs</a>:</p>\n\n<pre><code>public class Demonstration {\n\n   @CsvBindByName(column = \"index\")\n   private String index;\n\n   @CsvBindAndJoinByName(column = \".*\", elementType = String.class)\n   private MultiValuedMap&lt;String, String&gt; theRest;\n\n   // Getters and setters go here\n}\n</code></pre>\n\n<p>The same docs mention a caveat: you have to be careful not to have overlapping patterns if you have multiple <code>@CsvBindAndJoinByName</code>, otherwise the result is undefined.</p>\n"},{"tags":[],"owner":{"account_id":17737955,"reputation":1051,"user_id":12878982,"display_name":"CodingBee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680886194,"creation_date":1617968674,"answer_id":67020501,"question_id":57034570,"body_markdown":"Had the same situation, wanted to access the unknown column from a CSV file. Here is the solution\r\n\r\n    public class CSVFileDTO \r\n    {\r\n        @CsvBindByName\r\n        private String name;\r\n\r\n        @CsvBindAndJoinByName(column = &quot;.*&quot;, elementType = String.class)\r\n        private MultiValuedMap&lt;String, String&gt; theRest;\r\n    }\r\n\r\n\r\nWay to access theRest column\r\n\r\n        CSVReader csvReader = new CSVReader(Files.newBufferedReader(Paths.get(&quot;/tmp/data.csv&quot;)));\r\n\t    List&lt;CSVFileDTO&gt; resultData = new CsvToBeanBuilder(csvReader)\r\n                .withType(CSVFileDTO.class)\r\n                .build()\r\n                .parse();\r\n\r\n\t    MultiValuedMap&lt;String, String&gt; multivaluedMap = resultData.get(0).getTheRest();\r\n\t    for(Map.Entry&lt;String, String&gt; ent : multivaluedMap.entries())\r\n\t    {\r\n\t\t    System.out.println( ent.getKey() + &quot; : &quot; + ent.getValue() );\r\n\t    }\r\n","title":"Read CSV files with known and unknown columns in java","body":"<p>Had the same situation, wanted to access the unknown column from a CSV file. Here is the solution</p>\n<pre><code>public class CSVFileDTO \n{\n    @CsvBindByName\n    private String name;\n\n    @CsvBindAndJoinByName(column = &quot;.*&quot;, elementType = String.class)\n    private MultiValuedMap&lt;String, String&gt; theRest;\n}\n</code></pre>\n<p>Way to access theRest column</p>\n<pre><code>    CSVReader csvReader = new CSVReader(Files.newBufferedReader(Paths.get(&quot;/tmp/data.csv&quot;)));\n    List&lt;CSVFileDTO&gt; resultData = new CsvToBeanBuilder(csvReader)\n            .withType(CSVFileDTO.class)\n            .build()\n            .parse();\n\n    MultiValuedMap&lt;String, String&gt; multivaluedMap = resultData.get(0).getTheRest();\n    for(Map.Entry&lt;String, String&gt; ent : multivaluedMap.entries())\n    {\n        System.out.println( ent.getKey() + &quot; : &quot; + ent.getValue() );\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6579550,"reputation":524,"user_id":5084232,"display_name":"Tushar Wasson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617969086,"creation_date":1617969086,"answer_id":67020608,"question_id":57034570,"body_markdown":"Check feature 9 of this https://github.com/ozlerhakan/poiji API for reading excel files. \r\n\r\n    public class MusicTrack {\r\n\r\n    @ExcelCellName(&quot;ID&quot;)\r\n    private String employeeId;\r\n\r\n    @ExcelCellName(&quot;AUTHOR&quot;)\r\n    private String author;\r\n\r\n    @ExcelCellName(&quot;NAME&quot;)\r\n    private String name;\r\n\r\n    @ExcelUnknownCells\r\n    private Map&lt;String, String&gt; unknownCells;}","title":"Read CSV files with known and unknown columns in java","body":"<p>Check feature 9 of this <a href=\"https://github.com/ozlerhakan/poiji\" rel=\"nofollow noreferrer\">https://github.com/ozlerhakan/poiji</a> API for reading excel files.</p>\n<pre><code>public class MusicTrack {\n\n@ExcelCellName(&quot;ID&quot;)\nprivate String employeeId;\n\n@ExcelCellName(&quot;AUTHOR&quot;)\nprivate String author;\n\n@ExcelCellName(&quot;NAME&quot;)\nprivate String name;\n\n@ExcelUnknownCells\nprivate Map&lt;String, String&gt; unknownCells;}\n</code></pre>\n"}],"owner":{"account_id":3664347,"reputation":724,"user_id":3053257,"accept_rate":60,"display_name":"Gal Sosin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2731,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57039727,"answer_count":3,"score":3,"last_activity_date":1680963021,"creation_date":1563173614,"question_id":57034570,"body_markdown":"I&#39;m wondering if there is a way to read csv files with known and unknown columns. \r\n\r\nFor example, the column in the first csv file is:\r\n**id, firstname, lastname, city, country** the unknown columns are city and country\r\n\r\nthe second csv file is:\r\n\r\n**id, firstname, lastname, phone number** the unknown column is phone number\r\n\r\nThe Object that I want to parse into is:\r\n\r\n    public class Person {\r\n    \r\n        Long id;\r\n        String firstname;\r\n        String lastname;\r\n    \r\n        Map&lt;String,String&gt; additionalInfo;\r\n    \r\n    }\r\n\r\n\r\nThe additionalInfo map will contain as keys the &#39;unknown&#39; columns and the values will be the row value in that column. \r\n\r\nAny ideas? \r\n\r\nThanks.","title":"Read CSV files with known and unknown columns in java","body":"<p>I'm wondering if there is a way to read csv files with known and unknown columns.</p>\n<p>For example, the column in the first csv file is:\n<strong>id, firstname, lastname, city, country</strong> the unknown columns are city and country</p>\n<p>the second csv file is:</p>\n<p><strong>id, firstname, lastname, phone number</strong> the unknown column is phone number</p>\n<p>The Object that I want to parse into is:</p>\n<pre><code>public class Person {\n\n    Long id;\n    String firstname;\n    String lastname;\n\n    Map&lt;String,String&gt; additionalInfo;\n\n}\n</code></pre>\n<p>The additionalInfo map will contain as keys the 'unknown' columns and the values will be the row value in that column.</p>\n<p>Any ideas?</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-data-redis-reactive"],"owner":{"account_id":11429482,"reputation":425,"user_id":15768984,"display_name":"Haf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680962737,"creation_date":1680962737,"question_id":75965683,"body_markdown":"I&#39;ve seen [previous unanswered questions](https://stackoverflow.com/q/74485008/15768984) and I still don&#39;t know whether it&#39;s possible. Spring Data Redis (non-reactive) has `executePipelined` but is there a reactive equivalent? Specifically, are `executeInSession` or just `execute` capable of pipelining commands?","title":"Is Spring Data Redis Reactive capable of pipelining","body":"<p>I've seen <a href=\"https://stackoverflow.com/q/74485008/15768984\">previous unanswered questions</a> and I still don't know whether it's possible. Spring Data Redis (non-reactive) has <code>executePipelined</code> but is there a reactive equivalent? Specifically, are <code>executeInSession</code> or just <code>execute</code> capable of pipelining commands?</p>\n"},{"tags":["java","google-chrome","selenium-webdriver"],"owner":{"account_id":805239,"reputation":438,"user_id":898083,"accept_rate":22,"display_name":"ysnky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680962485,"creation_date":1680872713,"question_id":75958696,"body_markdown":"I am using Selenium with Chrome driver to collect data from the web. I have developed a Java application that uses selenium to achieve that. It works fine but after a while (It changes, an hour, a day, a few days, a few weeks, etc.) It gives that exception shown below and stops parsing data. In my application I never call driver.quit() or driver.close(), it is always active and listens to a queue, and if there is any new data start processing.\r\n\r\nWhy am I getting this exception, what am I doing wrong? Also, I am sharing the Chrome driver startup configuration below.\r\n\r\nThanks.\r\n\r\n\r\n\r\nlaunch code snippet\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, driverPathChrome);\r\n\tSystem.setProperty(ChromeDriverService.CHROME_DRIVER_SILENT_OUTPUT_PROPERTY, &quot;true&quot;);\r\n\tSystem.setProperty(ChromeDriverService.CHROME_DRIVER_LOG_PROPERTY, &quot;/dev/null&quot;);\r\n\t\r\n\tChromeOptions options = new ChromeOptions();\r\n\r\n\toptions.addArguments(&quot;disable-blink-features=AutomationControlled&quot;);\r\n\toptions.addArguments(\r\n\t\t\t&quot;user-agent=Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.29 Safari/537.36&quot;);\r\n\r\n\toptions.addArguments(&quot;--no-sandbox&quot;);\r\n\toptions.addArguments(&quot;--headless&quot;);\r\n\t\r\n\r\n\tif (!StringUtils.isEmpty(driverChromeOptions)) {\r\n\t\tString optionsArray[] = driverChromeOptions.split(&quot;&amp;&quot;);\r\n\t\toptions.addArguments(optionsArray);\r\n\t}\r\n\r\n\tMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n\tprefs.put(&quot;profile.managed_default_content_settings.images&quot;, 2);\r\n\toptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n\r\n\twebDriver = new ChromeDriver(options);\r\n\twebDriver.manage().window().maximize();\r\n\twebDriver.manage().timeouts().pageLoadTimeout(90, TimeUnit.SECONDS);\r\n\r\n\r\nchrome driver configuration params:\r\n\r\n*driver.chrome.options=--disable-extensions&amp;--disable-gpu&amp;--no-first-run&amp;--no-default-browser-check&amp;--ignore-certificate-errors&amp;--window-size=1920,1080&amp;--disable-dev-shm-usage&amp;--disable-infobars*\r\n\r\n\r\n\r\n\r\n\r\nexception taken after a while (sometimes after an hour, sometimes after a day, sometimes after two or tree weeks):\r\n\r\n*org.openqa.selenium.NoSuchSessionException: invalid session id\r\nBuild info: version: &#39;unknown&#39;, revision: &#39;unknown&#39;, time: &#39;unknown&#39;\r\nSystem info: host: &#39;xxx.host.secureserver.net&#39;, ip: &#39;xxxx&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;3.10.0-1160.76.1.el7.x86_64&#39;, java.version: &#39;1.8.0_342&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 105.0.5195.125, chrome: {chromedriverVersion: 105.0.5195.52 (412c95e51883..., userDataDir: /tmp/.com.google.Chrome.MSRzur}, goog:chromeOptions: {debuggerAddress: localhost:46595}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: LINUX, platformName: LINUX, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\nSession ID: 7c1194aaa8290c084d2b8534655de1e2\r\n\tat sun.reflect.GeneratedConstructorAccessor85.newInstance(Unknown Source)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.get(RemoteWebDriver.java:277)*","title":"org.openqa.selenium.NoSuchSessionException: invalid session id","body":"<p>I am using Selenium with Chrome driver to collect data from the web. I have developed a Java application that uses selenium to achieve that. It works fine but after a while (It changes, an hour, a day, a few days, a few weeks, etc.) It gives that exception shown below and stops parsing data. In my application I never call driver.quit() or driver.close(), it is always active and listens to a queue, and if there is any new data start processing.</p>\n<p>Why am I getting this exception, what am I doing wrong? Also, I am sharing the Chrome driver startup configuration below.</p>\n<p>Thanks.</p>\n<p>launch code snippet</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, driverPathChrome);\nSystem.setProperty(ChromeDriverService.CHROME_DRIVER_SILENT_OUTPUT_PROPERTY, &quot;true&quot;);\nSystem.setProperty(ChromeDriverService.CHROME_DRIVER_LOG_PROPERTY, &quot;/dev/null&quot;);\n\nChromeOptions options = new ChromeOptions();\n\noptions.addArguments(&quot;disable-blink-features=AutomationControlled&quot;);\noptions.addArguments(\n        &quot;user-agent=Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.29 Safari/537.36&quot;);\n\noptions.addArguments(&quot;--no-sandbox&quot;);\noptions.addArguments(&quot;--headless&quot;);\n\n\nif (!StringUtils.isEmpty(driverChromeOptions)) {\n    String optionsArray[] = driverChromeOptions.split(&quot;&amp;&quot;);\n    options.addArguments(optionsArray);\n}\n\nMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\nprefs.put(&quot;profile.managed_default_content_settings.images&quot;, 2);\noptions.setExperimentalOption(&quot;prefs&quot;, prefs);\n\nwebDriver = new ChromeDriver(options);\nwebDriver.manage().window().maximize();\nwebDriver.manage().timeouts().pageLoadTimeout(90, TimeUnit.SECONDS);\n</code></pre>\n<p>chrome driver configuration params:</p>\n<p><em>driver.chrome.options=--disable-extensions&amp;--disable-gpu&amp;--no-first-run&amp;--no-default-browser-check&amp;--ignore-certificate-errors&amp;--window-size=1920,1080&amp;--disable-dev-shm-usage&amp;--disable-infobars</em></p>\n<p>exception taken after a while (sometimes after an hour, sometimes after a day, sometimes after two or tree weeks):</p>\n<p><em>org.openqa.selenium.NoSuchSessionException: invalid session id\nBuild info: version: 'unknown', revision: 'unknown', time: 'unknown'\nSystem info: host: 'xxx.host.secureserver.net', ip: 'xxxx', os.name: 'Linux', os.arch: 'amd64', os.version: '3.10.0-1160.76.1.el7.x86_64', java.version: '1.8.0_342'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 105.0.5195.125, chrome: {chromedriverVersion: 105.0.5195.52 (412c95e51883..., userDataDir: /tmp/.com.google.Chrome.MSRzur}, goog:chromeOptions: {debuggerAddress: localhost:46595}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: LINUX, platformName: LINUX, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nSession ID: 7c1194aaa8290c084d2b8534655de1e2\nat sun.reflect.GeneratedConstructorAccessor85.newInstance(Unknown Source)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\nat org.openqa.selenium.remote.RemoteWebDriver.get(RemoteWebDriver.java:277)</em></p>\n"},{"tags":["java","automation","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1680969293,"post_id":75965284,"comment_id":133985489,"body_markdown":"If you know the position, then render the page and find out the color.","body":"If you know the position, then render the page and find out the color."},{"owner":{"account_id":25730124,"reputation":1,"user_id":19485832,"display_name":"Kiran"},"score":0,"creation_date":1681134294,"post_id":75965284,"comment_id":134003624,"body_markdown":"@TilmanHausherr Thanks for the suggestion.I tried rendering the pdf page to an image and then got a subimage from that by passing coordinates of the highlighted region. Then using getRGB function was able to validate the color of the highlighted region.","body":"@TilmanHausherr Thanks for the suggestion.I tried rendering the pdf page to an image and then got a subimage from that by passing coordinates of the highlighted region. Then using getRGB function was able to validate the color of the highlighted region."}],"owner":{"account_id":25730124,"reputation":1,"user_id":19485832,"display_name":"Kiran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680962210,"creation_date":1680957961,"question_id":75965284,"body_markdown":"As part of the api response I am getting returned certain pdf documents which are flattened and read only.\r\n\r\nI need to validate if certain sections in the pdf which contain signature are highlighted in yellow or not. Problem I am facing is I tried several ways to get the yellow region extracted for validation but it doesn&#39;t work.\r\n\r\nI tried using PDAnnotation but it doesn&#39;t work. it doesn&#39;t return any annotation. Also tried PDFTextStripper for checking using pattern for yellow color in extracted text, doesn&#39;t work. Tried using Tesseract class but it requires additional language data files which I may not be able to use.","title":"PDFBox- extract section from flattened PDF with yellow background","body":"<p>As part of the api response I am getting returned certain pdf documents which are flattened and read only.</p>\n<p>I need to validate if certain sections in the pdf which contain signature are highlighted in yellow or not. Problem I am facing is I tried several ways to get the yellow region extracted for validation but it doesn't work.</p>\n<p>I tried using PDAnnotation but it doesn't work. it doesn't return any annotation. Also tried PDFTextStripper for checking using pattern for yellow color in extracted text, doesn't work. Tried using Tesseract class but it requires additional language data files which I may not be able to use.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":14839195,"reputation":141,"user_id":10716398,"display_name":"Banjit Das"},"score":1,"creation_date":1544339327,"post_id":53690136,"comment_id":94236465,"body_markdown":"Now it is working after adding the dependencies &lt;dependency&gt;\n  &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n  &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;","body":"Now it is working after adding the dependencies &lt;dependency&gt;   &lt;groupId&gt;javax.annotation&lt;/groupId&gt;   &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;   &lt;version&gt;1.3.2&lt;/version&gt; &lt;/dependency&gt;"},{"owner":{"account_id":9880152,"reputation":915,"user_id":7316521,"display_name":"A_C"},"score":1,"creation_date":1544339329,"post_id":53690136,"comment_id":94236466,"body_markdown":"If you are getting this in eclipse, refer this https://stackoverflow.com/questions/51630397/import-javax-annotation-cannot-be-resolved-in-eclipses-java-10-compiler/51630783","body":"If you are getting this in eclipse, refer this <a href=\"https://stackoverflow.com/questions/51630397/import-javax-annotation-cannot-be-resolved-in-eclipses-java-10-compiler/51630783\" title=\"import javax annotation cannot be resolved in eclipses java 10 compiler\">stackoverflow.com/questions/51630397/&hellip;</a>"},{"owner":{"display_name":"user10713028"},"score":0,"creation_date":1544339398,"post_id":53690136,"comment_id":94236473,"body_markdown":"clean and build or you need to be aware if you have the dependency in your pom.","body":"clean and build or you need to be aware if you have the dependency in your pom."}],"answers":[{"comments":[{"owner":{"account_id":227148,"reputation":625,"user_id":488635,"display_name":"Vitaly Sazanovich"},"score":5,"creation_date":1679818845,"post_id":53690179,"comment_id":133786084,"body_markdown":"Also the package has been renamed to jakarta.annotation.","body":"Also the package has been renamed to jakarta.annotation."}],"tags":[],"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1544339671,"creation_date":1544339369,"answer_id":53690179,"question_id":53690136,"body_markdown":"If you are using spring-boot and below dependency then it should add `javax.annotation` automatically from parent starter.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor non spring boot starter data jpa add below dependency in pom.xml \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"The import javax.annotation.PostConstruct cannot be resolved","body":"<p>If you are using spring-boot and below dependency then it should add <code>javax.annotation</code> automatically from parent starter.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>For non spring boot starter data jpa add below dependency in pom.xml </p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n  &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14839195,"reputation":141,"user_id":10716398,"display_name":"Banjit Das"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60501,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"closed_date":1544347330,"answer_count":1,"score":14,"last_activity_date":1680962078,"creation_date":1544338969,"question_id":53690136,"body_markdown":"When i import the following packages:\r\n\r\n    import javax.annotation.PostConstruct;\r\n    import javax.annotation.PreDestroy;\r\n\r\nI got the following result: \r\n\r\n    The import javax.annotation.PostConstruct cannot be resolved","title":"The import javax.annotation.PostConstruct cannot be resolved","body":"<p>When i import the following packages:</p>\n<pre><code>import javax.annotation.PostConstruct;\nimport javax.annotation.PreDestroy;\n</code></pre>\n<p>I got the following result:</p>\n<pre><code>The import javax.annotation.PostConstruct cannot be resolved\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9710,"page":515,"page_size":100}
