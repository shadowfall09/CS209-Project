{"items":[{"tags":["java","javafx","jar","executable-jar","classnotfoundexception"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1661189425,"post_id":73448791,"comment_id":129707811,"body_markdown":"What build tool are you using?","body":"What build tool are you using?"},{"owner":{"account_id":23711524,"reputation":9,"user_id":17733319,"display_name":"Oleg Boldov"},"score":0,"creation_date":1661190668,"post_id":73448791,"comment_id":129708228,"body_markdown":"in intellij idea, in the project structure tab, I created a jar artifact, added everything I needed from javafx to it, and in the build tab, I just created it.\n\nI did everything according to this video\nhttps://www.youtube.com/watch?v=F8ahBtXkQzU\n@SedJ601","body":"in intellij idea, in the project structure tab, I created a jar artifact, added everything I needed from javafx to it, and in the build tab, I just created it.  I did everything according to this video <a href=\"https://www.youtube.com/watch?v=F8ahBtXkQzU\" rel=\"nofollow noreferrer\">youtube.com/watch?v=F8ahBtXkQzU</a> @SedJ601"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1661191585,"post_id":73448791,"comment_id":129708494,"body_markdown":"I&#39;m surprised it runs via the command line, as typically you need to specify the location of the JavaFX modules. Is that your default JDK? What happens if you just do `java -jar texter.jar`?","body":"I&#39;m surprised it runs via the command line, as typically you need to specify the location of the JavaFX modules. Is that your default JDK? What happens if you just do <code>java -jar texter.jar</code>?"},{"owner":{"account_id":23711524,"reputation":9,"user_id":17733319,"display_name":"Oleg Boldov"},"score":0,"creation_date":1661191689,"post_id":73448791,"comment_id":129708529,"body_markdown":"same thing, this is my default jdk @James_D","body":"same thing, this is my default jdk @James_D"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":2,"creation_date":1661194682,"post_id":73448791,"comment_id":129709511,"body_markdown":"Is windows configured to run the same command (java -jar) on double click? See https://stackoverflow.com/questions/8511063/how-to-run-jar-file-by-double-click-on-windows-7-64-bit","body":"Is windows configured to run the same command (java -jar) on double click? See <a href=\"https://stackoverflow.com/questions/8511063/how-to-run-jar-file-by-double-click-on-windows-7-64-bit\" title=\"how to run jar file by double click on windows 7 64 bit\">stackoverflow.com/questions/8511063/&hellip;</a>"},{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1661233643,"post_id":73448791,"comment_id":129716054,"body_markdown":"open the jar file you created and see (show) the contents of the manifest file (we are interested in whether the `Main-Class` attribute is specified correctly)","body":"open the jar file you created and see (show) the contents of the manifest file (we are interested in whether the <code>Main-Class</code> attribute is specified correctly)"},{"owner":{"account_id":23711524,"reputation":9,"user_id":17733319,"display_name":"Oleg Boldov"},"score":0,"creation_date":1661245282,"post_id":73448791,"comment_id":129719607,"body_markdown":"Main-Class: com.texter.Main @mrmcwolf","body":"Main-Class: com.texter.Main @mrmcwolf"},{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1661251416,"post_id":73448791,"comment_id":129721849,"body_markdown":"from what you have shown it is clear that the class is `HelloApplication` (package name is not visible), not `com.texter.Main`. specified the attribute correctly, and if everything else is fine the application will start normally.","body":"from what you have shown it is clear that the class is <code>HelloApplication</code> (package name is not visible), not <code>com.texter.Main</code>. specified the attribute correctly, and if everything else is fine the application will start normally."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1661277168,"post_id":73448791,"comment_id":129732339,"body_markdown":"@mrmcwolf My guess is they have a separate main class that doesn&#39;t extend `javafx.application.Application`. This is a necessary workaround/hack when creating a fat/uber JAR that includes JavaFX (JavaFX will refuse to start if the main class extends `Application` and JavaFX is on the class-path instead of the module-path, i.e., if `javafx.graphics` is not found in the boot layer, and everything in a fat/uber JAR ends up on the class-path).","body":"@mrmcwolf My guess is they have a separate main class that doesn&#39;t extend <code>javafx.application.Application</code>. This is a necessary workaround/hack when creating a fat/uber JAR that includes JavaFX (JavaFX will refuse to start if the main class extends <code>Application</code> and JavaFX is on the class-path instead of the module-path, i.e., if <code>javafx.graphics</code> is not found in the boot layer, and everything in a fat/uber JAR ends up on the class-path)."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1661277379,"post_id":73448791,"comment_id":129732403,"body_markdown":"@Oleg I would look up how Windows handles &quot;double-click to launch&quot; functionality, then see what is currently configured for JAR files. That `ClassNotFoundException` error you&#39;re getting is very strange indeed. It seems to think the file path to your JAR file is the name of the class, which doesn&#39;t make sense.","body":"@Oleg I would look up how Windows handles &quot;double-click to launch&quot; functionality, then see what is currently configured for JAR files. That <code>ClassNotFoundException</code> error you&#39;re getting is very strange indeed. It seems to think the file path to your JAR file is the name of the class, which doesn&#39;t make sense."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":1,"creation_date":1661412918,"post_id":73448791,"comment_id":129767444,"body_markdown":"@Slaw yes i think so as well. like i linked in my previous comment, it looks like the double click action for `.jar` is set to execute `java %` and not `java -jar %`. For example if i run the command `java bla.jar` on my machine the result is `Error: Could not find or load main class bla.jar`","body":"@Slaw yes i think so as well. like i linked in my previous comment, it looks like the double click action for <code>.jar</code> is set to execute <code>java %</code> and not <code>java -jar %</code>. For example if i run the command <code>java bla.jar</code> on my machine the result is <code>Error: Could not find or load main class bla.jar</code>"}],"answers":[{"tags":[],"owner":{"account_id":22886718,"reputation":32,"user_id":19704197,"display_name":"Albus_Percival"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1661789350,"creation_date":1661193372,"answer_id":73449630,"question_id":73448791,"body_markdown":"Compared to Swing applications where you can easily collect all artifacts in IDEA and make a runnable jar file, JavaFx applications work in another way. and you can make a runnable jar file but with difficulties because JavaFx uses [modules](https://www.baeldung.com/java-9-modularity).\r\n\r\nYou can use launch4j to create a `.exe` file. As for me, I prefer to use JPackage to create a native installer. To use it you can launch the cmd line and write a script, something like: \r\n\r\n```\r\njpackage -t exe --name (name of your application) --description &quot;(your own discription)&quot; --app-version 1.0 --input (location of jar file)--dest (destination of exe/msi file) --icon (path of icon) --main-jar(name of your jar file) --module-path (location of your jmode)--add-modules\r\n```\r\n\r\nhere is my example:\r\n\r\n```\r\njpackage -t exe --name calculatorFx --description &quot;Simple Calculator Author:Me&quot; --app-version 0.1 --input C:\\Users\\PC\\Desktop\\calculator_JAR --dest C:\\Users\\PC\\Desktop\\calculator_JAR --icon C:\\Users\\PC\\Desktop\\calculator_JAR\\Calculator.ico --main-jar calculatorFx.jar --module-path C:\\JavaFX\\javafx-jmods-11.0.2 --add-modules javafx.controls,javafx.fxml,java.desktop,javafx.base,javafx.graphics --win-shortcut --win-menu\r\n```\r\nhere is a useful video [https://www.youtube.com/watch?v=m31BxwXJiV8][1]\r\n\r\n\r\nIf you are using Windows you are required to download WiX Toolset from the official site [https://wixtoolset.org/releases/v3-11-1-2318][2] .\r\n\r\nAnd if you require additional modules for your project other than `java.desktop` (this module is included in the jdk), you must download `jmodules` from [gluonhq](https://download2.gluonhq.com/openjfx/11.0.2/openjfx-11_windows-x64_bin-jmods.zip) and put them in some folder, and in the script above you have to specify the location of this module.\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=m31BxwXJiV8\r\n  [2]: https://wixtoolset.org/releases/v3-11-1-2318","title":"The executable jar file opens via the command line, but does not open via a double click","body":"<p>Compared to Swing applications where you can easily collect all artifacts in IDEA and make a runnable jar file, JavaFx applications work in another way. and you can make a runnable jar file but with difficulties because JavaFx uses <a href=\"https://www.baeldung.com/java-9-modularity\" rel=\"nofollow noreferrer\">modules</a>.</p>\n<p>You can use launch4j to create a <code>.exe</code> file. As for me, I prefer to use JPackage to create a native installer. To use it you can launch the cmd line and write a script, something like:</p>\n<pre><code>jpackage -t exe --name (name of your application) --description &quot;(your own discription)&quot; --app-version 1.0 --input (location of jar file)--dest (destination of exe/msi file) --icon (path of icon) --main-jar(name of your jar file) --module-path (location of your jmode)--add-modules\n</code></pre>\n<p>here is my example:</p>\n<pre><code>jpackage -t exe --name calculatorFx --description &quot;Simple Calculator Author:Me&quot; --app-version 0.1 --input C:\\Users\\PC\\Desktop\\calculator_JAR --dest C:\\Users\\PC\\Desktop\\calculator_JAR --icon C:\\Users\\PC\\Desktop\\calculator_JAR\\Calculator.ico --main-jar calculatorFx.jar --module-path C:\\JavaFX\\javafx-jmods-11.0.2 --add-modules javafx.controls,javafx.fxml,java.desktop,javafx.base,javafx.graphics --win-shortcut --win-menu\n</code></pre>\n<p>here is a useful video <a href=\"https://www.youtube.com/watch?v=m31BxwXJiV8\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=m31BxwXJiV8</a></p>\n<p>If you are using Windows you are required to download WiX Toolset from the official site <a href=\"https://wixtoolset.org/releases/v3-11-1-2318\" rel=\"nofollow noreferrer\">https://wixtoolset.org/releases/v3-11-1-2318</a> .</p>\n<p>And if you require additional modules for your project other than <code>java.desktop</code> (this module is included in the jdk), you must download <code>jmodules</code> from <a href=\"https://download2.gluonhq.com/openjfx/11.0.2/openjfx-11_windows-x64_bin-jmods.zip\" rel=\"nofollow noreferrer\">gluonhq</a> and put them in some folder, and in the script above you have to specify the location of this module.</p>\n"}],"owner":{"account_id":23711524,"reputation":9,"user_id":17733319,"display_name":"Oleg Boldov"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":423,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73449630,"answer_count":1,"score":0,"last_activity_date":1661789350,"creation_date":1661188510,"question_id":73448791,"body_markdown":"I have created a new javafx project with a standard initial code.\r\n\r\n    public class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n\r\n Created a jar artifact and built it. After that, I checked this jar via the command line and it runs.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n If I run it through a double click, then it gives an error.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zbD8o.png\r\n  [2]: https://i.stack.imgur.com/o8Ya5.png","title":"The executable jar file opens via the command line, but does not open via a double click","body":"<p>I have created a new javafx project with a standard initial code.</p>\n<pre><code>public class HelloApplication extends Application {\n@Override\npublic void start(Stage stage) throws IOException {\n    FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n    Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n    stage.setTitle(&quot;Hello!&quot;);\n    stage.setScene(scene);\n    stage.show();\n}\n\npublic static void main(String[] args) {\n    launch();\n}\n</code></pre>\n<p>}</p>\n<p>Created a jar artifact and built it. After that, I checked this jar via the command line and it runs.</p>\n<p><a href=\"https://i.stack.imgur.com/zbD8o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zbD8o.png\" alt=\"enter image description here\" /></a></p>\n<p>If I run it through a double click, then it gives an error.</p>\n<p><a href=\"https://i.stack.imgur.com/o8Ya5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o8Ya5.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","timer","timertask"],"comments":[{"owner":{"account_id":2124262,"reputation":2634,"user_id":1886855,"display_name":"Marco Forberg"},"score":0,"creation_date":1625140092,"post_id":68209519,"comment_id":120551341,"body_markdown":"Could we please get some insight how you tried to solve your problem so far?","body":"Could we please get some insight how you tried to solve your problem so far?"},{"owner":{"display_name":"user13964799"},"score":0,"creation_date":1625140230,"post_id":68209519,"comment_id":120551392,"body_markdown":"I didn&#39;t try because I knew there must be a typical way to do it..","body":"I didn&#39;t try because I knew there must be a typical way to do it.."},{"owner":{"display_name":"user13964799"},"score":0,"creation_date":1625140790,"post_id":68209519,"comment_id":120551631,"body_markdown":"this might look stupid , but does it work ? I didn&#39;t test it because it&#39;s a long way ahead to run the project :\n\n`timer.scheduleAtFixedRate(new TimerTask(){\n@Override\npublic void run(){\nRun();\ntimer.schedule(new TimerTask(){\n@Override public void run(){\nStop();\n}   } ,50);\n}\n},0,200);`","body":"this might look stupid , but does it work ? I didn&#39;t test it because it&#39;s a long way ahead to run the project :  <code>timer.scheduleAtFixedRate(new TimerTask(){ @Override public void run(){ Run(); timer.schedule(new TimerTask(){ @Override public void run(){ Stop(); }   } ,50); } },0,200);</code>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1625158108,"post_id":68209519,"comment_id":120559623,"body_markdown":"By the way, the `Timer`/`TimerTask` classes have been supplanted by the Executors framework, as noted in their Javadoc.","body":"By the way, the <code>Timer</code>/<code>TimerTask</code> classes have been supplanted by the Executors framework, as noted in their Javadoc."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625142109,"creation_date":1625142109,"answer_id":68210106,"question_id":68209519,"body_markdown":"Computers aren&#39;t that accurate.\r\n\r\nThus, what you want is not clear (or if you prefer, not possible).\r\n\r\n&#39;wait 50msec&#39; is not quite possible but something close to it is. However, &#39;run for 200msec&#39;, that is weird and not really possible. Do you perhaps mean: &quot;I have some task and it takes about 200 msec&quot;? Or do you perhaps mean: I have a task that is very fast. I want to do it continuously with no interruptions for 200 msec and then stop doing it for a while? That&#39;s not possible either, but something close to it is possible. Or did you mean: I have a long-running job that takes many seconds. I would like the job to run for 200msec, then freeze in its tracks, then 50 msec later, unfreeze it and let it continue chugging, and so on and so forth? That is bizarre, and not really possible.\r\n\r\n&#39;wait 50msec&#39; in java or any other language on a modern OS is a hint. That will wait _about_ 50msec. Not quite exactly 50msec. You need to deal with the fact that you get &#39;drift&#39;. If you ask a computer to wait 50msec a few million times, you&#39;ll be nowhere near the time you&#39;d have expected that to take. It&#39;ll have been 51msec a few times, maybe a 52msec here and there.\r\n\r\nHere are the things you _can_ do:\r\n\r\n* Instead of &#39;wait 50msec&#39;, you can also &#39;wait until X&#39;. This is the right answer if you want to build a little GUI widget that shows a stopwatch: If you write that as, in pseudocode:\r\n\r\n```\r\nint time = 0;\r\nwhile (true) {\r\n    String formattedTime = formatTime(time);\r\n    renderToWidget(formattedTime);\r\n    time++;\r\n    Thread.sleep(1000L); // wait one second\r\n}\r\n```\r\n\r\nThe above is __completely wrong__. As the stopwatch runs it&#39;ll drift away further and further. Instead, you should do something like this:\r\n\r\n```\r\nprivate static final long NANOS_IN_SECOND = 1000000000;\r\n...\r\n\r\n\r\nlong start = System.nanoTime();\r\nwhile (true) {\r\n    long secondsPassed = (System.nanoTime() - start) / NANOS_IN_SECOND;\r\n    String formattedTime = formatTime(secondsPassed);\r\n    renderToWidget(formattedTime);\r\n    Thread.sleep(500L); // why not update a little more often?\r\n}\r\n```\r\n\r\nAnother important idea is instead of &#39;wait 50 msec&#39;, many problems are better served by the idea of &#39;calculate the next wakeup time then wait however long it will be until that moment has arrived&#39;. For example, if you want to write a &#39;framerate limiter&#39; for a game so that the game does not bother rendering frames at a rate higher than 60fps, you&#39;d do something like this:\r\n\r\n```\r\nprivate static final long NANOS_PER_FRAME = 1000000000 / 60; // 60 fps\r\n...\r\n\r\n\r\nlong now = System.nanoTime();\r\nlong done = now + NANOS_PER_FRAME;\r\n\r\nFrame frame = renderFrame();\r\nscreen.show(frame);\r\nlong toWait = System.nanoTime() - done;\r\nif (toWait &gt; 0) waitNanos(toWait);\r\n```\r\n\r\nIn other words, instead of &#39;wait a set amount of time&#39;, this model says that every x milliseconds, an event occurs, which inherently means that this event has 1/x time maximum to run, and you write the loop to wait however long it needs to wait to &#39;fill up the remainder&#39; if the event runs faster than that.\r\n\r\nWhich one is appropriate for you? No idea - your question didn&#39;t specify.\r\n\r\n* Interrupt a long running process\r\n\r\nJava doesn&#39;t have a &#39;just freeze the thread out&#39; feature. Instead, the code in the thread itself needs to check in from time to time and then you can freeze there. For example, if you have a bitcoin miner that needs to stop every roughly 200msec, that can work, as long as the code that needs to wait explicitly &#39;checks in&#39; (calls some method under the timing framework&#39;s control) very often. That code can use the above techniques to check if freezing should be done, and if it should be, just use `Thread.sleep(time)` to wait however long your calculations state you should wait. If the code that runs in the thread isn&#39;t written by you and can&#39;t be changed by you, a java thread is not the tool for the job.\r\n\r\nNB: Note that `System.currentTimeMillis()` is a tricky one. That value can drift and even go backwards if the user messes with the system clock. Most computers these days run time daemons that keep the clock in sync with some time server, but this too means that drift can occur. Thus, using System.cTM to measure passed time is a bad idea.","title":"Sychronized execution in java","body":"<p>Computers aren't that accurate.</p>\n<p>Thus, what you want is not clear (or if you prefer, not possible).</p>\n<p>'wait 50msec' is not quite possible but something close to it is. However, 'run for 200msec', that is weird and not really possible. Do you perhaps mean: &quot;I have some task and it takes about 200 msec&quot;? Or do you perhaps mean: I have a task that is very fast. I want to do it continuously with no interruptions for 200 msec and then stop doing it for a while? That's not possible either, but something close to it is possible. Or did you mean: I have a long-running job that takes many seconds. I would like the job to run for 200msec, then freeze in its tracks, then 50 msec later, unfreeze it and let it continue chugging, and so on and so forth? That is bizarre, and not really possible.</p>\n<p>'wait 50msec' in java or any other language on a modern OS is a hint. That will wait <em>about</em> 50msec. Not quite exactly 50msec. You need to deal with the fact that you get 'drift'. If you ask a computer to wait 50msec a few million times, you'll be nowhere near the time you'd have expected that to take. It'll have been 51msec a few times, maybe a 52msec here and there.</p>\n<p>Here are the things you <em>can</em> do:</p>\n<ul>\n<li>Instead of 'wait 50msec', you can also 'wait until X'. This is the right answer if you want to build a little GUI widget that shows a stopwatch: If you write that as, in pseudocode:</li>\n</ul>\n<pre><code>int time = 0;\nwhile (true) {\n    String formattedTime = formatTime(time);\n    renderToWidget(formattedTime);\n    time++;\n    Thread.sleep(1000L); // wait one second\n}\n</code></pre>\n<p>The above is <strong>completely wrong</strong>. As the stopwatch runs it'll drift away further and further. Instead, you should do something like this:</p>\n<pre><code>private static final long NANOS_IN_SECOND = 1000000000;\n...\n\n\nlong start = System.nanoTime();\nwhile (true) {\n    long secondsPassed = (System.nanoTime() - start) / NANOS_IN_SECOND;\n    String formattedTime = formatTime(secondsPassed);\n    renderToWidget(formattedTime);\n    Thread.sleep(500L); // why not update a little more often?\n}\n</code></pre>\n<p>Another important idea is instead of 'wait 50 msec', many problems are better served by the idea of 'calculate the next wakeup time then wait however long it will be until that moment has arrived'. For example, if you want to write a 'framerate limiter' for a game so that the game does not bother rendering frames at a rate higher than 60fps, you'd do something like this:</p>\n<pre><code>private static final long NANOS_PER_FRAME = 1000000000 / 60; // 60 fps\n...\n\n\nlong now = System.nanoTime();\nlong done = now + NANOS_PER_FRAME;\n\nFrame frame = renderFrame();\nscreen.show(frame);\nlong toWait = System.nanoTime() - done;\nif (toWait &gt; 0) waitNanos(toWait);\n</code></pre>\n<p>In other words, instead of 'wait a set amount of time', this model says that every x milliseconds, an event occurs, which inherently means that this event has 1/x time maximum to run, and you write the loop to wait however long it needs to wait to 'fill up the remainder' if the event runs faster than that.</p>\n<p>Which one is appropriate for you? No idea - your question didn't specify.</p>\n<ul>\n<li>Interrupt a long running process</li>\n</ul>\n<p>Java doesn't have a 'just freeze the thread out' feature. Instead, the code in the thread itself needs to check in from time to time and then you can freeze there. For example, if you have a bitcoin miner that needs to stop every roughly 200msec, that can work, as long as the code that needs to wait explicitly 'checks in' (calls some method under the timing framework's control) very often. That code can use the above techniques to check if freezing should be done, and if it should be, just use <code>Thread.sleep(time)</code> to wait however long your calculations state you should wait. If the code that runs in the thread isn't written by you and can't be changed by you, a java thread is not the tool for the job.</p>\n<p>NB: Note that <code>System.currentTimeMillis()</code> is a tricky one. That value can drift and even go backwards if the user messes with the system clock. Most computers these days run time daemons that keep the clock in sync with some time server, but this too means that drift can occur. Thus, using System.cTM to measure passed time is a bad idea.</p>\n"}],"owner":{"display_name":"user13964799"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661788816,"creation_date":1625139640,"question_id":68209519,"body_markdown":"I am looking for some `Timer()` that runs a process for a given time, then waits some time , then repeats ...\r\n\r\nThe `Timer.scheduleAtFixedRate()` does not wait-Stop- for sometime.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fEtDH.png","title":"Sychronized execution in java","body":"<p>I am looking for some <code>Timer()</code> that runs a process for a given time, then waits some time , then repeats ...</p>\n<p>The <code>Timer.scheduleAtFixedRate()</code> does not wait-Stop- for sometime.\n<a href=\"https://i.stack.imgur.com/fEtDH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fEtDH.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","maven","kotlin","pdf"],"answers":[{"tags":[],"owner":{"account_id":1477633,"reputation":2421,"user_id":1387666,"display_name":"johnwhitington"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661788782,"creation_date":1661788782,"answer_id":73531511,"question_id":73328875,"body_markdown":"You can use cpdf https://community.coherentpdf.com to losslessly squeeze the PDF files afterward. This will reconcile any identical object and common parts, and remove any unneeded parts.\r\n\r\nFrom the command line\r\n\r\n```\r\ncpdf -squeeze in.pdf -o out.pdf\r\n```\r\n\r\nOr, from Java:\r\n\r\n```\r\njcpdf.squeezeInMemory(pdf);\r\n```","title":"Compress PDF after merge, Kotlin Java Spring Boot","body":"<p>You can use cpdf <a href=\"https://community.coherentpdf.com\" rel=\"nofollow noreferrer\">https://community.coherentpdf.com</a> to losslessly squeeze the PDF files afterward. This will reconcile any identical object and common parts, and remove any unneeded parts.</p>\n<p>From the command line</p>\n<pre><code>cpdf -squeeze in.pdf -o out.pdf\n</code></pre>\n<p>Or, from Java:</p>\n<pre><code>jcpdf.squeezeInMemory(pdf);\n</code></pre>\n"}],"owner":{"account_id":3471602,"reputation":660,"user_id":2905762,"accept_rate":78,"display_name":"Hansen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661788782,"creation_date":1660273745,"question_id":73328875,"body_markdown":"I have a project that used to split a pdf file that uploaded by user, after split then get the same content inside pdf then merge the page base on pdf content using PDODocument and for merge pdf i use PDFMergerUtility, after marge i save the merge pdf to database using bytearray. \r\nand, after save to DB, user also can download the pdf that already split and merge base on content and reupload when needed.\r\n\r\nbut i have found a problem, after merge the size of pdf is bigger than pdf before split.\r\n\r\ni have try to found the solution, but not found that working to my problem, such us \r\n\r\nhttps://stackoverflow.com/questions/22805726/android-pdfdocument-file-size\r\n\r\nhttps://stackoverflow.com/questions/34851936/is-there-a-way-to-compress-pdf-to-small-size-using-java\r\n\r\nand another else solution\r\n\r\nis there any solution to solve my problem?\r\nI would be glad for any help.\r\n\r\nand here is my code\r\n\r\n\r\n    //file: MultipartFile -&gt; file is send from front-end using API\r\n\r\n    var inpStream: InputStream = file.getInputStream()\r\n    inpStream = file.getInputStream()\r\n    pdfDocument = PDDocument.load(inpStream)\r\n\r\n\r\n    // splitting the pages of a PDF document\r\n    pagesPdf = splitter.split(pdfDocument)\r\n    val n = pdfDocument.numberOfPages\r\n\r\n    val batchSize:Int = 200\r\n    val finalBatchSize: Int = n % batchSize\r\n    val numOfBatch: Int = (n - finalBatchSize) / batchSize\r\n    val batchFinal: Int = if (finalBatchSize == 0) numOfBatch else (numOfBatch + 1)\r\n    var batchNo: Int = 1\r\n    var startPage: Int\r\n    var endPage: Int = 0\r\n    while (batchNo &lt;= batchFinal) {\r\n        startPage = endPage + 1\r\n        if (batchNo &gt; numOfBatch) {\r\n    \t    endPage = endPage + finalBatchSize\r\n    \t} else {\r\n    \t    endPage = endPage + batchSize\r\n    \t}\r\n        val splitter:Splitter = Splitter()\r\n        splitter.setStartPage(startPage)\r\n        splitter.setEndPage(endPage)\r\n\r\n    \t// splitting the pages of a PDF document\r\n        pagesPdf = splitter.split(pdfDocument)\r\n\r\n        batchNo++\r\n        i = startPage\r\n        var groupPage: Int = i\r\n        var pageNo = 0\r\n        \r\n        \r\n        var pdfMerger: PDFMergerUtility = PDFMergerUtility()\r\n    \t\tvar mergedFileByteArrOut: ByteArrayOutputStream = ByteArrayOutputStream()\r\n    \t\tpdfMerger.setDestinationStream(mergedFileByteArrOut)\r\n        var fileObj:ByteArray? = null,\r\n        for (pd in pagesPdf) {\r\n    \t    pageNo++;\r\n    \t    if (!pd.isEncrypted) {\r\n            val stripper = PDFTextStripper()\r\n            //CODE TO GET CONTEN\r\n            \r\n            if(condition1 == true){\r\n              var fileByteArrOut: ByteArrayOutputStream = ByteArrayOutputStream()\r\n    \t\t      pd.save(fileByteArrOut)\r\n    \t\t      pd.close()\r\n    \t\t      var fileByteArrIn: ByteArrayInputStream = ByteArrayInputStream(fileByteArrOut.toByteArray())\r\n    \t\t      pdfMerger.addSource(fileByteArrIn)\r\n              fileObj = fileByteArrOut.toByteArray(),\r\n            } \r\n            if(condition2 == true){\r\n            \r\n                //I want to compress fileObj  first before save to DB\r\n                //code to save to DB\r\n                \r\n                fileObj = null\r\n                pdfMerger = PDFMergerUtility()\r\n    \t\t\t\t\t  mergedFileByteArrOut= ByteArrayOutputStream()\r\n    \t\t\t\t\t  pdfMerger.setDestinationStream(mergedFileByteArrOut)\r\n            }\r\n          }\r\n        }\r\n\r\n\r\n\r\n","title":"Compress PDF after merge, Kotlin Java Spring Boot","body":"<p>I have a project that used to split a pdf file that uploaded by user, after split then get the same content inside pdf then merge the page base on pdf content using PDODocument and for merge pdf i use PDFMergerUtility, after marge i save the merge pdf to database using bytearray.\nand, after save to DB, user also can download the pdf that already split and merge base on content and reupload when needed.</p>\n<p>but i have found a problem, after merge the size of pdf is bigger than pdf before split.</p>\n<p>i have try to found the solution, but not found that working to my problem, such us</p>\n<p><a href=\"https://stackoverflow.com/questions/22805726/android-pdfdocument-file-size\">Android PdfDocument file size</a></p>\n<p><a href=\"https://stackoverflow.com/questions/34851936/is-there-a-way-to-compress-pdf-to-small-size-using-java\">Is there a way to compress PDF to small size using Java?</a></p>\n<p>and another else solution</p>\n<p>is there any solution to solve my problem?\nI would be glad for any help.</p>\n<p>and here is my code</p>\n<pre><code>//file: MultipartFile -&gt; file is send from front-end using API\n\nvar inpStream: InputStream = file.getInputStream()\ninpStream = file.getInputStream()\npdfDocument = PDDocument.load(inpStream)\n\n\n// splitting the pages of a PDF document\npagesPdf = splitter.split(pdfDocument)\nval n = pdfDocument.numberOfPages\n\nval batchSize:Int = 200\nval finalBatchSize: Int = n % batchSize\nval numOfBatch: Int = (n - finalBatchSize) / batchSize\nval batchFinal: Int = if (finalBatchSize == 0) numOfBatch else (numOfBatch + 1)\nvar batchNo: Int = 1\nvar startPage: Int\nvar endPage: Int = 0\nwhile (batchNo &lt;= batchFinal) {\n    startPage = endPage + 1\n    if (batchNo &gt; numOfBatch) {\n        endPage = endPage + finalBatchSize\n    } else {\n        endPage = endPage + batchSize\n    }\n    val splitter:Splitter = Splitter()\n    splitter.setStartPage(startPage)\n    splitter.setEndPage(endPage)\n\n    // splitting the pages of a PDF document\n    pagesPdf = splitter.split(pdfDocument)\n\n    batchNo++\n    i = startPage\n    var groupPage: Int = i\n    var pageNo = 0\n    \n    \n    var pdfMerger: PDFMergerUtility = PDFMergerUtility()\n        var mergedFileByteArrOut: ByteArrayOutputStream = ByteArrayOutputStream()\n        pdfMerger.setDestinationStream(mergedFileByteArrOut)\n    var fileObj:ByteArray? = null,\n    for (pd in pagesPdf) {\n        pageNo++;\n        if (!pd.isEncrypted) {\n        val stripper = PDFTextStripper()\n        //CODE TO GET CONTEN\n        \n        if(condition1 == true){\n          var fileByteArrOut: ByteArrayOutputStream = ByteArrayOutputStream()\n              pd.save(fileByteArrOut)\n              pd.close()\n              var fileByteArrIn: ByteArrayInputStream = ByteArrayInputStream(fileByteArrOut.toByteArray())\n              pdfMerger.addSource(fileByteArrIn)\n          fileObj = fileByteArrOut.toByteArray(),\n        } \n        if(condition2 == true){\n        \n            //I want to compress fileObj  first before save to DB\n            //code to save to DB\n            \n            fileObj = null\n            pdfMerger = PDFMergerUtility()\n                      mergedFileByteArrOut= ByteArrayOutputStream()\n                      pdfMerger.setDestinationStream(mergedFileByteArrOut)\n        }\n      }\n    }\n</code></pre>\n"},{"tags":["java","linked-list","binary-tree","export-to-csv","word-count"],"comments":[{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":5,"creation_date":1661555467,"post_id":73507193,"comment_id":129808161,"body_markdown":"The problem is that you didn&#39;t ask a question. Please take the time to read https://stackoverflow.com/help/how-to-ask.","body":"The problem is that you didn&#39;t ask a question. Please take the time to read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>."},{"owner":{"account_id":11677761,"reputation":1140,"user_id":8550657,"display_name":"Jeffrey Ram"},"score":2,"creation_date":1661555547,"post_id":73507193,"comment_id":129808168,"body_markdown":"Hello, please consider reading this post: [Open letter to students with homework problems](https://softwareengineering.meta.stackexchange.com/q/6166) Then refer to this link: https://www.baeldung.com/java-binary-tree","body":"Hello, please consider reading this post: <a href=\"https://softwareengineering.meta.stackexchange.com/q/6166\">Open letter to students with homework problems</a> Then refer to this link: <a href=\"https://www.baeldung.com/java-binary-tree\" rel=\"nofollow noreferrer\">baeldung.com/java-binary-tree</a>"},{"owner":{"account_id":12404133,"reputation":208,"user_id":9039919,"display_name":"Luca Scarcia"},"score":2,"creation_date":1661556030,"post_id":73507193,"comment_id":129808228,"body_markdown":"Programming can be overwelmig at times. The big hint is that you need to tackle the problem one step at the time.\n\nStart with the linked list. A binary tree is a linked list with 2 references instead of just one. And, if your data is already in alphabetical order, without a balancing strategy, your tree will just behave like a linked list. The balancing is the third problem you&#39;ll have to face.\n\nIf you don&#39;t know where to start, just get a piece of paper and a pen, and try to put down a diagam with the operations you have to deal with. Paper and pen at times like that help you focus!","body":"Programming can be overwelmig at times. The big hint is that you need to tackle the problem one step at the time.  Start with the linked list. A binary tree is a linked list with 2 references instead of just one. And, if your data is already in alphabetical order, without a balancing strategy, your tree will just behave like a linked list. The balancing is the third problem you&#39;ll have to face.  If you don&#39;t know where to start, just get a piece of paper and a pen, and try to put down a diagam with the operations you have to deal with. Paper and pen at times like that help you focus!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1661561807,"post_id":73507193,"comment_id":129808883,"body_markdown":"@LucaScarcia I think the &quot;in alphabetical order&quot; refers to the output, not the input, and the question doesn&#39;t mention balancing the tree, so I would not introduce that complication.","body":"@LucaScarcia I think the &quot;in alphabetical order&quot; refers to the output, not the input, and the question doesn&#39;t mention balancing the tree, so I would not introduce that complication."},{"owner":{"account_id":12404133,"reputation":208,"user_id":9039919,"display_name":"Luca Scarcia"},"score":0,"creation_date":1661564856,"post_id":73507193,"comment_id":129809115,"body_markdown":"@tgdavies reading the question, in the very first line it says that the input file lists the words in alphabetical order. It&#39;s a classic to see if you understand how a binary tree works. He will need to balance the tree. That&#39;s just how homeworks work...","body":"@tgdavies reading the question, in the very first line it says that the input file lists the words in alphabetical order. It&#39;s a classic to see if you understand how a binary tree works. He will need to balance the tree. That&#39;s just how homeworks work..."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1661565040,"post_id":73507193,"comment_id":129809127,"body_markdown":"@LucaScarcia I&#39;m pretty sure that means &quot;a program, which when given a text file, lists the words in alphabetical order&quot;. Note that each word may occur many times, in different lines of the input.","body":"@LucaScarcia I&#39;m pretty sure that means &quot;a program, which when given a text file, lists the words in alphabetical order&quot;. Note that each word may occur many times, in different lines of the input."},{"owner":{"account_id":12404133,"reputation":208,"user_id":9039919,"display_name":"Luca Scarcia"},"score":0,"creation_date":1661569970,"post_id":73507193,"comment_id":129809488,"body_markdown":"@tgdavies we will need the OP to tell us how it works. No meaning arguing about this between us.","body":"@tgdavies we will need the OP to tell us how it works. No meaning arguing about this between us."},{"owner":{"account_id":25533450,"reputation":11,"user_id":19321013,"display_name":"juju"},"score":0,"creation_date":1661788553,"post_id":73507193,"comment_id":129849313,"body_markdown":"@tgdavies &quot;a program, which when given a text file, lists the words in alphabetical order&quot; is exactly what i meant! I think my main problem is that i don&#39;t know where to start and since i can&#39;t use Java Collections, all of the things i look up online only confuses me more..!","body":"@tgdavies &quot;a program, which when given a text file, lists the words in alphabetical order&quot; is exactly what i meant! I think my main problem is that i don&#39;t know where to start and since i can&#39;t use Java Collections, all of the things i look up online only confuses me more..!"},{"owner":{"account_id":25533450,"reputation":11,"user_id":19321013,"display_name":"juju"},"score":0,"creation_date":1661788641,"post_id":73507193,"comment_id":129849355,"body_markdown":"@Mihe My question is &quot;Can anyone help?&quot;","body":"@Mihe My question is &quot;Can anyone help?&quot;"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1661811448,"post_id":73507193,"comment_id":129855984,"body_markdown":"If you google &quot;java binary tree tutorial&quot; there are a lot of hits. For instance https://www.baeldung.com/java-binary-tree looks ok. Of course you&#39;ll be storing a `String` in the `Node` instead of an `int`, and you don&#39;t need all the operations they show, just insert and traverse.","body":"If you google &quot;java binary tree tutorial&quot; there are a lot of hits. For instance <a href=\"https://www.baeldung.com/java-binary-tree\" rel=\"nofollow noreferrer\">baeldung.com/java-binary-tree</a> looks ok. Of course you&#39;ll be storing a <code>String</code> in the <code>Node</code> instead of an <code>int</code>, and you don&#39;t need all the operations they show, just insert and traverse."}],"owner":{"account_id":25533450,"reputation":11,"user_id":19321013,"display_name":"juju"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1661788589,"creation_date":1661554957,"question_id":73507193,"body_markdown":"I need to develop a program in Java language to analyse a text file and lists the words in alphabetical order, indicating the number of occurrences of each one, its relative frequency *(number of occurrences / total number of words x 100)* and the respective lines in which it occurs as well as the total number of words. \r\n\r\nThe programme should use a binary tree as the main data structure. The lines where each word occurs will be maintained by linked lists. The program shall allow exporting the results to a file in csv format.\r\n\r\nThe problem is java collections **cannot** be used.\r\n\r\nI&#39;m very new to programming and I&#39;m having a really hard time completing this project.","title":"Binary tree in Java - Can&#39;t use java.collections","body":"<p>I need to develop a program in Java language to analyse a text file and lists the words in alphabetical order, indicating the number of occurrences of each one, its relative frequency <em>(number of occurrences / total number of words x 100)</em> and the respective lines in which it occurs as well as the total number of words.</p>\n<p>The programme should use a binary tree as the main data structure. The lines where each word occurs will be maintained by linked lists. The program shall allow exporting the results to a file in csv format.</p>\n<p>The problem is java collections <strong>cannot</strong> be used.</p>\n<p>I'm very new to programming and I'm having a really hard time completing this project.</p>\n"},{"tags":["java","oop","filewriter"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1570689087,"post_id":58316688,"comment_id":102993473,"body_markdown":"&quot;In general, what are the good practices or things to keep in mind while extending native core java class&quot; in general, don&#39;t, unless they are specifically designed for inheritance. Provide custom implementations of interfaces, and use composition, rather than inheritance, to reuse the behaviour of core classes.","body":"&quot;In general, what are the good practices or things to keep in mind while extending native core java class&quot; in general, don&#39;t, unless they are specifically designed for inheritance. Provide custom implementations of interfaces, and use composition, rather than inheritance, to reuse the behaviour of core classes."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1570689226,"post_id":58316688,"comment_id":102993542,"body_markdown":"What about all the other methods? And why would you do the file renaming after each `write`? Maybe on close would be better","body":"What about all the other methods? And why would you do the file renaming after each <code>write</code>? Maybe on close would be better"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1570689272,"post_id":58316688,"comment_id":102993565,"body_markdown":"Also never ignore Exceptions `catch(Exception e){\n\n        }`","body":"Also never ignore Exceptions <code>catch(Exception e){          }</code>"},{"owner":{"account_id":1919742,"reputation":1887,"user_id":1731553,"accept_rate":52,"display_name":"user1731553"},"score":0,"creation_date":1570689401,"post_id":58316688,"comment_id":102993622,"body_markdown":"@ScaryWombat... That is just a POC code that I am trying to do. I would never do that is production code.","body":"@ScaryWombat... That is just a POC code that I am trying to do. I would never do that is production code."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1570689449,"post_id":58316688,"comment_id":102993648,"body_markdown":"&quot;unless they are specifically designed for inheritance&quot; the lack of `final` on a class should not be interpreted that the class is designed for inheritance. Many old classes are non-final because they were designed prior to realising the importance of making them final where possible; and they cannot now be changed without breaking backward compatibility.","body":"&quot;unless they are specifically designed for inheritance&quot; the lack of <code>final</code> on a class should not be interpreted that the class is designed for inheritance. Many old classes are non-final because they were designed prior to realising the importance of making them final where possible; and they cannot now be changed without breaking backward compatibility."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1570690998,"post_id":58316688,"comment_id":102994285,"body_markdown":"A `FileWriter`&#39;s responsibility is to write character data to a file. It&#39;s pretty much the wrong place to make a secret backup.","body":"A <code>FileWriter</code>&#39;s responsibility is to write character data to a file. It&#39;s pretty much the wrong place to make a secret backup."}],"answers":[{"tags":[],"owner":{"account_id":17813818,"reputation":1473,"user_id":12937828,"display_name":"Aman Singh Rajpoot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661788364,"creation_date":1661788364,"answer_id":73531411,"question_id":58316688,"body_markdown":"Instead of Inheriting the FileWriter class. You can use compostion.\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.text.SimpleDateFormat;\r\n\r\npublic class MyFileWriter {\r\n\tprivate String fileName;\r\n\tprivate String backupFilePath;\r\n\tprivate FileWriter fw;\r\n\t\r\n\tpublic MyFileWriter(String file, String backupFilePath) throws IOException{\r\n        fw = new FileWriter(file);\r\n        this.fileName = file;\r\n        this.backupFilePath = backupFilePath;\r\n    }\r\n\r\n    public MyFileWriter(File file, boolean append, String backupFilePath) throws IOException{\r\n        this.fw = new FileWriter(file, append);\r\n        this.fileName = file.getName();\r\n        this.backupFilePath = backupFilePath;\r\n    }\r\n\r\n\tpublic void write(String str, int off, int len) throws IOException {\r\n        successBackupFile(this.fileName,this.backupFilePath);\r\n        try {\r\n        this.fw.write(str, off, len);}\r\n        catch(IOException e) {\r\n        \tSystem.out.println(e);\r\n        }\r\n        finally {\r\n        \tfw.close();\r\n        }\r\n\r\n    }\r\n\r\n    private static void successBackupFile(String fileToBackup,String backupFilePath) {\r\n    \t\r\n    \tString timeStamp = fileToBackup+&quot;_&quot;+ new SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new java.util.Date());\r\n\r\n        File f = new File(backupFilePath+&quot;\\\\&quot;+ timeStamp);\r\n        try\r\n        {\r\n            Files.copy(new File(fileToBackup).toPath(), f.toPath());\r\n        }\r\n        catch(IOException ioe){\r\n           System.out.println(ioe);\r\n        }\r\n\r\n\t}\r\n}\r\n```","title":"Things to keep in mind while extending core java class","body":"<p>Instead of Inheriting the FileWriter class. You can use compostion.</p>\n<pre><code>import java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.text.SimpleDateFormat;\n\npublic class MyFileWriter {\n    private String fileName;\n    private String backupFilePath;\n    private FileWriter fw;\n    \n    public MyFileWriter(String file, String backupFilePath) throws IOException{\n        fw = new FileWriter(file);\n        this.fileName = file;\n        this.backupFilePath = backupFilePath;\n    }\n\n    public MyFileWriter(File file, boolean append, String backupFilePath) throws IOException{\n        this.fw = new FileWriter(file, append);\n        this.fileName = file.getName();\n        this.backupFilePath = backupFilePath;\n    }\n\n    public void write(String str, int off, int len) throws IOException {\n        successBackupFile(this.fileName,this.backupFilePath);\n        try {\n        this.fw.write(str, off, len);}\n        catch(IOException e) {\n            System.out.println(e);\n        }\n        finally {\n            fw.close();\n        }\n\n    }\n\n    private static void successBackupFile(String fileToBackup,String backupFilePath) {\n        \n        String timeStamp = fileToBackup+&quot;_&quot;+ new SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new java.util.Date());\n\n        File f = new File(backupFilePath+&quot;\\\\&quot;+ timeStamp);\n        try\n        {\n            Files.copy(new File(fileToBackup).toPath(), f.toPath());\n        }\n        catch(IOException ioe){\n           System.out.println(ioe);\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1919742,"reputation":1887,"user_id":1731553,"accept_rate":52,"display_name":"user1731553"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661788364,"creation_date":1570688822,"question_id":58316688,"body_markdown":"I have a requirement where I need to extend the FileWriter java class so that I can override the &quot;Write&quot; method to do additional task of creating a copy of the file being modified.\r\nHere is my code:\r\n\r\n    public class MyFileWriter extends FileWriter {\r\n       String fileName;\r\n    \r\n        public MyFileWriter(String file) throws IOException{\r\n            super(file + &quot;.tmp&quot;);\r\n            this.fileName = file;\r\n        }\r\n    \r\n        public MyFileWriter(File file, boolean append) throws IOException{\r\n            super(File.createTempFile(file.getName(), &quot;tmp&quot;) , append);\r\n            this.fileName = file.getAbsolutePath();\r\n        }\r\n    \r\n        public void write(String str, int off, int len) throws IOException {\r\n            successBackupFile(this.fileName,this.backupFilePath);\r\n            super.write(str, off, len);\r\n            new File(this.fileName+ &quot;.tmp&quot;).renameTo(new File(this.fileName));\r\n    \r\n        }\r\n    \r\n        private static void successBackupFile(String fileToBackup,String backupFilePath) {\r\n    \r\n            String timeStamp = new SimpleDateFormat(&quot;yyyy.MM.dd.HH.mm.ss&quot;).format(new Date());\r\n            File f = new File(backupFilePath+ timeStamp);\r\n    \r\n            try\r\n            {\r\n                Files.copy(new File(fileToBackup).toPath(), f.toPath());\r\n            }\r\n            catch(IOException ioe){\r\n               //message\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nQ: In my code I am going to use only 2 of the constructor&#39;s of FileWriter class, Will it be a good practice to provide definition for all the 4 constructors.\r\nQ: In general, what are the good practices or things to keep in mind while extending native core java class\r\n\r\nIf anyone can point me to any good reads about things to keep in mind while extending native core java class it will be very helpful.\r\n","title":"Things to keep in mind while extending core java class","body":"<p>I have a requirement where I need to extend the FileWriter java class so that I can override the \"Write\" method to do additional task of creating a copy of the file being modified.\nHere is my code:</p>\n\n<pre><code>public class MyFileWriter extends FileWriter {\n   String fileName;\n\n    public MyFileWriter(String file) throws IOException{\n        super(file + \".tmp\");\n        this.fileName = file;\n    }\n\n    public MyFileWriter(File file, boolean append) throws IOException{\n        super(File.createTempFile(file.getName(), \"tmp\") , append);\n        this.fileName = file.getAbsolutePath();\n    }\n\n    public void write(String str, int off, int len) throws IOException {\n        successBackupFile(this.fileName,this.backupFilePath);\n        super.write(str, off, len);\n        new File(this.fileName+ \".tmp\").renameTo(new File(this.fileName));\n\n    }\n\n    private static void successBackupFile(String fileToBackup,String backupFilePath) {\n\n        String timeStamp = new SimpleDateFormat(\"yyyy.MM.dd.HH.mm.ss\").format(new Date());\n        File f = new File(backupFilePath+ timeStamp);\n\n        try\n        {\n            Files.copy(new File(fileToBackup).toPath(), f.toPath());\n        }\n        catch(IOException ioe){\n           //message\n        }\n    }\n\n}\n</code></pre>\n\n<p>Q: In my code I am going to use only 2 of the constructor's of FileWriter class, Will it be a good practice to provide definition for all the 4 constructors.\nQ: In general, what are the good practices or things to keep in mind while extending native core java class</p>\n\n<p>If anyone can point me to any good reads about things to keep in mind while extending native core java class it will be very helpful.</p>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1661660212,"post_id":73515944,"comment_id":129822576,"body_markdown":"`java -version` writes to STDERR, you need to use `getErrorStream()`","body":"<code>java -version</code> writes to STDERR, you need to use <code>getErrorStream()</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1661660292,"post_id":73515944,"comment_id":129822581,"body_markdown":"Or use `java --version`, which for some reason prints to stdout","body":"Or use <code>java --version</code>, which for some reason prints to stdout"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1661682011,"post_id":73515944,"comment_id":129825391,"body_markdown":"@tgdavies It is &#39;linux style&#39; to print version info to stdout, and `--version` is the linuxy style version. Changing `-version` now would not be backwards compatible (although all the command line tools aren&#39;t part of any official spec as far as I know, so this is as usual Oracle/team OpenJDK cherrypicking a little bit).","body":"@tgdavies It is &#39;linux style&#39; to print version info to stdout, and <code>--version</code> is the linuxy style version. Changing <code>-version</code> now would not be backwards compatible (although all the command line tools aren&#39;t part of any official spec as far as I know, so this is as usual Oracle/team OpenJDK cherrypicking a little bit)."},{"owner":{"account_id":115489,"reputation":3630,"user_id":303250,"accept_rate":67,"display_name":"yapkm01"},"score":0,"creation_date":1661698615,"post_id":73515944,"comment_id":129828800,"body_markdown":"@user207421 This topic is covered under multithreading in CoreJava vol 1 11Ed. If you think about it, yes. It should tag under multithreading because you&#39;re spinning off a process within your code.","body":"@user207421 This topic is covered under multithreading in CoreJava vol 1 11Ed. If you think about it, yes. It should tag under multithreading because you&#39;re spinning off a process within your code."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1661717298,"post_id":73515944,"comment_id":129832684,"body_markdown":"Note you can use [`redirectErrorStream(true)`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/ProcessBuilder.html#redirectErrorStream(boolean)) so that the process&#39;s error stream will be redirected to its standard output. That means you only have to worry about reading the one stream, which additionally means you don&#39;t have to worry about spawning threads to read the two streams, but it also means the standard and error outputs can longer be distinguished easily.","body":"Note you can use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/ProcessBuilder.html#redirectErrorStream(boolean)\" rel=\"nofollow noreferrer\"><code>redirectErrorStream(true)</code></a> so that the process&#39;s error stream will be redirected to its standard output. That means you only have to worry about reading the one stream, which additionally means you don&#39;t have to worry about spawning threads to read the two streams, but it also means the standard and error outputs can longer be distinguished easily."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1661762583,"post_id":73515944,"comment_id":129840224,"body_markdown":"@Slaw but even simpler is to use `inheritIO()` here, and remove the loops which do nothing but copy the output.","body":"@Slaw but even simpler is to use <code>inheritIO()</code> here, and remove the loops which do nothing but copy the output."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1661783931,"post_id":73515944,"comment_id":129847615,"body_markdown":"@Holger Depends on how you want to handle the output. Maybe you want to add the output to a GUI.","body":"@Holger Depends on how you want to handle the output. Maybe you want to add the output to a GUI."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1661840562,"post_id":73515944,"comment_id":129860159,"body_markdown":"@rzwitserloot For the specification for the tools, look at the [JDK Tool Specifications](https://docs.oracle.com/en/java/javase/18/docs/specs/man/index.html)","body":"@rzwitserloot For the specification for the tools, look at the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/man/index.html\" rel=\"nofollow noreferrer\">JDK Tool Specifications</a>"}],"answers":[{"tags":[],"owner":{"account_id":433754,"reputation":38773,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1661660548,"creation_date":1661660548,"answer_id":73515978,"question_id":73515944,"body_markdown":"```\r\n$ java --help | grep version\r\n    -version      print product version to the error stream and exit\r\n    --version     print product version to the output stream and exit\r\n    -showversion  print product version to the error stream and continue\r\n    --show-version\r\n                  print product version to the output stream and continue\r\n```\r\nAs you can see, `java -version` prints to stderr so obviously you won&#39;t see the output in stdout. You need to use `java --version` or capture stderr\r\n","title":"Java Process Class: Why command &quot;java -version&quot; does not produce outputstream while command &quot;ls -l&quot; does?","body":"<pre><code>$ java --help | grep version\n    -version      print product version to the error stream and exit\n    --version     print product version to the output stream and exit\n    -showversion  print product version to the error stream and continue\n    --show-version\n                  print product version to the output stream and continue\n</code></pre>\n<p>As you can see, <code>java -version</code> prints to stderr so obviously you won't see the output in stdout. You need to use <code>java --version</code> or capture stderr</p>\n"},{"tags":[],"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661690786,"creation_date":1661690786,"answer_id":73518785,"question_id":73515944,"body_markdown":"I think this question is really about learning about running subprocesses, based on the name &#39;ProcessExample&#39;.\r\n\r\nHowever, if what you really want is the version of Java your program is running (which is of course not necessarily the same version that an arbitrary &quot;java&quot; command line will use), then\r\n\r\n    String version = System.getProperty(&quot;java.version&quot;)\r\n\r\n","title":"Java Process Class: Why command &quot;java -version&quot; does not produce outputstream while command &quot;ls -l&quot; does?","body":"<p>I think this question is really about learning about running subprocesses, based on the name 'ProcessExample'.</p>\n<p>However, if what you really want is the version of Java your program is running (which is of course not necessarily the same version that an arbitrary &quot;java&quot; command line will use), then</p>\n<pre><code>String version = System.getProperty(&quot;java.version&quot;)\n</code></pre>\n"}],"owner":{"account_id":115489,"reputation":3630,"user_id":303250,"accept_rate":67,"display_name":"yapkm01"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73515978,"answer_count":2,"score":0,"last_activity_date":1661788352,"creation_date":1661659941,"question_id":73515944,"body_markdown":"Below program:    \r\n\r\n```\r\n\r\npublic class ProcessExample {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\r\n\t\tProcess process1 = new ProcessBuilder(&quot;/bin/ls&quot;, &quot;-l&quot;).directory(Path.of(&quot;/home/yapkm01&quot;).toFile()).start();\r\n\t\tSystem.out.println(&quot;ls command:&quot;);\r\n\t\ttry (var in = new Scanner(process1.getInputStream())) {\r\n\t\t\twhile (in.hasNextLine()) {\r\n\t\t\t\tSystem.out.println(in.nextLine());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tProcess process2 = new ProcessBuilder(&quot;/bin/java&quot;, &quot;-version&quot;).start();\r\n\t\tSystem.out.println(&quot;java command:&quot;);\r\n\t\ttry (var in = new Scanner(process2.getInputStream())) {\r\n\t\t\twhile (in.hasNextLine()) {\r\n\t\t\t\tSystem.out.println(in.nextLine());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```\r\nOutput:    \r\n```\r\nls command:\r\ntotal 424\r\ndrwxr-xr-x  2 yapkm01 yapkm01   4096 Dec 27  2021 Desktop\r\ndrwxr-xr-x  2 yapkm01 yapkm01   4096 Apr 30 01:09 Documents\r\ndrwxr-xr-x  2 yapkm01 yapkm01   4096 Jul  1 12:06 Downloads\r\n-rw-r--r--  1 yapkm01 yapkm01   8980 Aug  3  2018 examples.desktop\r\njava command:\r\n```\r\nNotice there is not output for process2 which is java -version. Of course when do i it manually i get below.    \r\n\r\n```\r\nyapkm01-/home/yapkm01):-$ java -version\r\nopenjdk version &quot;11.0.16&quot; 2022-07-19\r\nOpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu122.04)\r\nOpenJDK 64-Bit Server VM (build 11.0.16+8-post-Ubuntu-0ubuntu122.04, mixed mode, sharing)\r\n(yapkm01-/home/yapkm01):-$\r\n```\r\n\r\nQuestion: Why there is no output for java -version?\r\n","title":"Java Process Class: Why command &quot;java -version&quot; does not produce outputstream while command &quot;ls -l&quot; does?","body":"<p>Below program:</p>\n<pre><code>\npublic class ProcessExample {\n\n    public static void main(String[] args) throws IOException {\n\n        Process process1 = new ProcessBuilder(&quot;/bin/ls&quot;, &quot;-l&quot;).directory(Path.of(&quot;/home/yapkm01&quot;).toFile()).start();\n        System.out.println(&quot;ls command:&quot;);\n        try (var in = new Scanner(process1.getInputStream())) {\n            while (in.hasNextLine()) {\n                System.out.println(in.nextLine());\n            }\n        }\n\n        Process process2 = new ProcessBuilder(&quot;/bin/java&quot;, &quot;-version&quot;).start();\n        System.out.println(&quot;java command:&quot;);\n        try (var in = new Scanner(process2.getInputStream())) {\n            while (in.hasNextLine()) {\n                System.out.println(in.nextLine());\n            }\n        }\n\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>ls command:\ntotal 424\ndrwxr-xr-x  2 yapkm01 yapkm01   4096 Dec 27  2021 Desktop\ndrwxr-xr-x  2 yapkm01 yapkm01   4096 Apr 30 01:09 Documents\ndrwxr-xr-x  2 yapkm01 yapkm01   4096 Jul  1 12:06 Downloads\n-rw-r--r--  1 yapkm01 yapkm01   8980 Aug  3  2018 examples.desktop\njava command:\n</code></pre>\n<p>Notice there is not output for process2 which is java -version. Of course when do i it manually i get below.</p>\n<pre><code>yapkm01-/home/yapkm01):-$ java -version\nopenjdk version &quot;11.0.16&quot; 2022-07-19\nOpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu122.04)\nOpenJDK 64-Bit Server VM (build 11.0.16+8-post-Ubuntu-0ubuntu122.04, mixed mode, sharing)\n(yapkm01-/home/yapkm01):-$\n</code></pre>\n<p>Question: Why there is no output for java -version?</p>\n"},{"tags":["java","spring","jakarta-ee"],"comments":[{"owner":{"account_id":5520321,"reputation":6686,"user_id":4383512,"accept_rate":73,"display_name":"Trash Can"},"score":0,"creation_date":1661788018,"post_id":73531294,"comment_id":129849130,"body_markdown":"If I remember correctly, `@Produces` allows you to create beans from any values, if so, you can use `@Autowired` to define any values to be used as beans in Spring","body":"If I remember correctly, <code>@Produces</code> allows you to create beans from any values, if so, you can use <code>@Autowired</code> to define any values to be used as beans in Spring"},{"owner":{"account_id":107400,"reputation":558,"user_id":285608,"accept_rate":100,"display_name":"Daniel Rodr&#237;guez"},"score":0,"creation_date":1661788573,"post_id":73531294,"comment_id":129849323,"body_markdown":"But what I didn&#39;t find with `@Autowired` is how to get information on the Injection Point. With `@Produces` I can get the name of the configuration key, go to the DB and retrieve its value that will be what is injected.","body":"But what I didn&#39;t find with <code>@Autowired</code> is how to get information on the Injection Point. With <code>@Produces</code> I can get the name of the configuration key, go to the DB and retrieve its value that will be what is injected."},{"owner":{"account_id":5520321,"reputation":6686,"user_id":4383512,"accept_rate":73,"display_name":"Trash Can"},"score":0,"creation_date":1661788741,"post_id":73531294,"comment_id":129849396,"body_markdown":"Having a generic dependency that changes based on the injection point seems like a bad design to me","body":"Having a generic dependency that changes based on the injection point seems like a bad design to me"},{"owner":{"account_id":107400,"reputation":558,"user_id":285608,"accept_rate":100,"display_name":"Daniel Rodr&#237;guez"},"score":0,"creation_date":1661861604,"post_id":73531294,"comment_id":129867668,"body_markdown":"It is similar to the @Value annotation in Spring, but instead of picking up the value from a properties file, it goes to the DB. The configuration key we are looking for is always the same it was at injection point, what could change is the value, that could have been updated in the DB. It would be as having a properties file that can be updated and persisted.","body":"It is similar to the @Value annotation in Spring, but instead of picking up the value from a properties file, it goes to the DB. The configuration key we are looking for is always the same it was at injection point, what could change is the value, that could have been updated in the DB. It would be as having a properties file that can be updated and persisted."}],"owner":{"account_id":107400,"reputation":558,"user_id":285608,"accept_rate":100,"display_name":"Daniel Rodr&#237;guez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661787818,"creation_date":1661787818,"question_id":73531294,"body_markdown":"I&#39;m migrating a JEE project into Spring Boot. I didn&#39;t find an equivalent for `javax.enterprise.inject.Produces` as the JEE app uses it to inject configuration values that are written in the database:\r\n\r\nIn JEE we have a `Configurable` annotation:\r\n\r\n    @Target(ElementType.FIELD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface Configurable {\r\n    \r\n        String key() default &quot;&quot;;\r\n    \r\n        String defaultValue() default &quot;&quot;;\r\n    \r\n    }\r\n\r\nPlus an Stateless bean to produce the injected configuration. These function are the ones getting the configuration values from the database. \r\n\r\n    @Stateless\r\n    public class ConfigurationProducer {\r\n        @Produces\r\n        public String getString(InjectionPoint injectionPoint) {\r\n            String value = null;\r\n            Annotated annotated = injectionPoint.getAnnotated();\r\n            if (annotated.isAnnotationPresent(Configurable.class)) {\r\n                Configurable configurable = annotated.getAnnotation(Configurable.class);\r\n                String key = configurable.key();\r\n                if (&quot;&quot;.equals(key)) {\r\n                    key = injectionPoint.getMember().getDeclaringClass().getName() + &quot;.&quot;\r\n                            + injectionPoint.getMember().getName();\r\n                }\r\n                value = getValue(key, configurable.defaultValue());\r\n            }\r\n            return value;\r\n        }\r\n    \r\n        @Produces\r\n        public Integer getInteger(InjectionPoint injectionPoint) {\r\n            String value = getString(injectionPoint);\r\n            if (StringUtils.isNotEmpty(value)) {\r\n                return Integer.parseInt(value);\r\n            } else {\r\n                return 0;\r\n            }\r\n        }\r\n    \r\n        @Produces\r\n        public Boolean getBoolean(InjectionPoint injectionPoint) {\r\n            String value = getString(injectionPoint);\r\n            if (StringUtils.isNotEmpty(value)) {\r\n                return Boolean.parseBoolean(value);\r\n            } else {\r\n                return Boolean.FALSE;\r\n            }\r\n        }\r\n    \r\n        [...]\r\n    \r\n    }\r\n\r\nThen, each time we need a configuration value from the database, we inject it as follows:\r\n\r\n    @Inject\r\n    @Configurable(key = &quot;active-configuration-key&quot;)\r\n    private Instance&lt;Boolean&gt; active;\r\n    \r\n    @Inject\r\n    @Configurable(key = &quot;url-configuration-key&quot;)\r\n    private Instance&lt;String&gt; url;\r\n    \r\n    [...]\r\n    \r\n    if (active.get()) {\r\n        String target = url.get();\r\n        ...\r\n    }\r\n\r\n`@Instance` ensures we get the real DB value each time. This is very handy in the JEE application as we rely quite a lot on configuration that the user can update directly in the DB.\r\n\r\nI didn&#39;t find out so far how to accomplish this on Spring. Worst case we can call a `ConfigurationService` each time we need a configuration key value, but before going in this direction I wanted to try to keep this Configuration Injection process. Any ideas?","title":"Migrating JEE @Produces to Spring","body":"<p>I'm migrating a JEE project into Spring Boot. I didn't find an equivalent for <code>javax.enterprise.inject.Produces</code> as the JEE app uses it to inject configuration values that are written in the database:</p>\n<p>In JEE we have a <code>Configurable</code> annotation:</p>\n<pre><code>@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface Configurable {\n\n    String key() default &quot;&quot;;\n\n    String defaultValue() default &quot;&quot;;\n\n}\n</code></pre>\n<p>Plus an Stateless bean to produce the injected configuration. These function are the ones getting the configuration values from the database.</p>\n<pre><code>@Stateless\npublic class ConfigurationProducer {\n    @Produces\n    public String getString(InjectionPoint injectionPoint) {\n        String value = null;\n        Annotated annotated = injectionPoint.getAnnotated();\n        if (annotated.isAnnotationPresent(Configurable.class)) {\n            Configurable configurable = annotated.getAnnotation(Configurable.class);\n            String key = configurable.key();\n            if (&quot;&quot;.equals(key)) {\n                key = injectionPoint.getMember().getDeclaringClass().getName() + &quot;.&quot;\n                        + injectionPoint.getMember().getName();\n            }\n            value = getValue(key, configurable.defaultValue());\n        }\n        return value;\n    }\n\n    @Produces\n    public Integer getInteger(InjectionPoint injectionPoint) {\n        String value = getString(injectionPoint);\n        if (StringUtils.isNotEmpty(value)) {\n            return Integer.parseInt(value);\n        } else {\n            return 0;\n        }\n    }\n\n    @Produces\n    public Boolean getBoolean(InjectionPoint injectionPoint) {\n        String value = getString(injectionPoint);\n        if (StringUtils.isNotEmpty(value)) {\n            return Boolean.parseBoolean(value);\n        } else {\n            return Boolean.FALSE;\n        }\n    }\n\n    [...]\n\n}\n</code></pre>\n<p>Then, each time we need a configuration value from the database, we inject it as follows:</p>\n<pre><code>@Inject\n@Configurable(key = &quot;active-configuration-key&quot;)\nprivate Instance&lt;Boolean&gt; active;\n\n@Inject\n@Configurable(key = &quot;url-configuration-key&quot;)\nprivate Instance&lt;String&gt; url;\n\n[...]\n\nif (active.get()) {\n    String target = url.get();\n    ...\n}\n</code></pre>\n<p><code>@Instance</code> ensures we get the real DB value each time. This is very handy in the JEE application as we rely quite a lot on configuration that the user can update directly in the DB.</p>\n<p>I didn't find out so far how to accomplish this on Spring. Worst case we can call a <code>ConfigurationService</code> each time we need a configuration key value, but before going in this direction I wanted to try to keep this Configuration Injection process. Any ideas?</p>\n"},{"tags":["java","angular","spring-boot","cors"],"answers":[{"tags":[],"owner":{"account_id":13845937,"reputation":373,"user_id":9995087,"display_name":"Kaan Ateel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661435878,"creation_date":1661435878,"answer_id":73488869,"question_id":73488566,"body_markdown":"Can you try to give as array \r\n\r\n    configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:4200&quot;));","title":"&#39;http://localhost:8888/mydomain/path&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; is present","body":"<p>Can you try to give as array</p>\n<pre><code>configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:4200&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1459905,"reputation":170,"user_id":1374497,"accept_rate":80,"display_name":"j1s"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661436527,"creation_date":1661436527,"answer_id":73489028,"question_id":73488566,"body_markdown":"There might be some problem in the configuration in ur cors setting in the server. \r\n\r\nThere is a better solution to use the PROXY in Angular to overcome CORS.\r\n\r\n1. Add a proxy.config.js file in the root folder. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n    const PROXY_CONFIG = [\r\n      {\r\n        context: [\r\n          &quot;/api&quot;\r\n        ],\r\n        target: &quot;http://localhost:8888&quot;,\r\n        secure: false,\r\n        logLevel: &quot;debug&quot;,\r\n        changeOrigin: true\r\n      }\r\n    ];\r\n\r\n    module.exports = PROXY_CONFIG;\r\n\r\n 2. Add `&quot;proxyConfig&quot;: &quot;proxy.config.js&quot;` in the angular.json file under the serve: So when u run ng serve the poxy will be added to the angular node lite server.\r\n[![enter image description here][3]][3]\r\n\r\n 3. In your api call you have to call the api as `http://localhost:4200/api/mydomain/path` so from the browser it will be calling the apis in 4200, so the CORS err cannot come as now its calling the same domain.\r\nIn the node lite server it will change the url to `http://localhost:8888/mydomain/path` and call the api as a server to server call. You can see the &#39;api&#39; in the URL will be cut off by the proxy server and change the target as provided in the config.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BkSrx.png\r\n  [2]: https://i.stack.imgur.com/C5Tgd.png\r\n  [3]: https://i.stack.imgur.com/KgunL.png","title":"&#39;http://localhost:8888/mydomain/path&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; is present","body":"<p>There might be some problem in the configuration in ur cors setting in the server.</p>\n<p>There is a better solution to use the PROXY in Angular to overcome CORS.</p>\n<ol>\n<li>Add a proxy.config.js file in the root folder.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/BkSrx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BkSrx.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>const PROXY_CONFIG = [\n  {\n    context: [\n      &quot;/api&quot;\n    ],\n    target: &quot;http://localhost:8888&quot;,\n    secure: false,\n    logLevel: &quot;debug&quot;,\n    changeOrigin: true\n  }\n];\n\nmodule.exports = PROXY_CONFIG;\n</code></pre>\n<ol start=\"2\">\n<li><p>Add <code>&quot;proxyConfig&quot;: &quot;proxy.config.js&quot;</code> in the angular.json file under the serve: So when u run ng serve the poxy will be added to the angular node lite server.\n<a href=\"https://i.stack.imgur.com/KgunL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KgunL.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>In your api call you have to call the api as <code>http://localhost:4200/api/mydomain/path</code> so from the browser it will be calling the apis in 4200, so the CORS err cannot come as now its calling the same domain.\nIn the node lite server it will change the url to <code>http://localhost:8888/mydomain/path</code> and call the api as a server to server call. You can see the 'api' in the URL will be cut off by the proxy server and change the target as provided in the config.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661575014,"creation_date":1661436874,"answer_id":73489117,"question_id":73488566,"body_markdown":"\r\n\r\n&lt;s&gt;create a `@Component` bean implementing `WebMvcConfigurer`:&lt;/s&gt;\r\n\r\n**update**\r\n\r\nAccording to [this link][1] the annotations should be the ones bellow:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class CoreWebMvcConfigurer implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/**&quot;)\r\n                    .allowedOrigins(&quot;*&quot;)\r\n                    .allowedHeaders(&quot;Access-Control-Allow-Headers&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, &quot;Origin&quot;, &quot;Cache-Control&quot;, &quot;Content-Type&quot;, &quot;Authorization&quot;)\r\n                    .allowedMethods(&quot;HEAD&quot;, &quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;, &quot;OPTIONS&quot;);\r\n        }\r\n    }\r\n\r\ni hope it works this time\r\n\r\n**update 2** \r\n\r\nthis sample repository using [this branch][2] actually works fine using `WebMvcConfigurer` approach.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-cors#1-javaconfig\r\n  [2]: https://github.com/sombriks/exercicio-spring-angular/tree/config-alternativa-cors/backend/src/main/java/exercicio/java/angular/backend","title":"&#39;http://localhost:8888/mydomain/path&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; is present","body":"<p><s>create a <code>@Component</code> bean implementing <code>WebMvcConfigurer</code>:</s></p>\n<p><strong>update</strong></p>\n<p>According to <a href=\"https://www.baeldung.com/spring-cors#1-javaconfig\" rel=\"nofollow noreferrer\">this link</a> the annotations should be the ones bellow:</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class CoreWebMvcConfigurer implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;*&quot;)\n                .allowedHeaders(&quot;Access-Control-Allow-Headers&quot;, &quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, &quot;Origin&quot;, &quot;Cache-Control&quot;, &quot;Content-Type&quot;, &quot;Authorization&quot;)\n                .allowedMethods(&quot;HEAD&quot;, &quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;, &quot;OPTIONS&quot;);\n    }\n}\n</code></pre>\n<p>i hope it works this time</p>\n<p><strong>update 2</strong></p>\n<p>this sample repository using <a href=\"https://github.com/sombriks/exercicio-spring-angular/tree/config-alternativa-cors/backend/src/main/java/exercicio/java/angular/backend\" rel=\"nofollow noreferrer\">this branch</a> actually works fine using <code>WebMvcConfigurer</code> approach.</p>\n"},{"tags":[],"owner":{"account_id":4356073,"reputation":613,"user_id":3554659,"accept_rate":93,"display_name":"araraujo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1661787727,"creation_date":1661787727,"answer_id":73531271,"question_id":73488566,"body_markdown":"The solution described by @j1s solved my problem, I just had to make small changes to make it work in my case. \r\nI will describe below:\r\n\r\nI created the proxy.config.json file in the root of my project\r\n\r\n    {\r\n        &quot;/api&quot;: {\r\n            &quot;target&quot;: &quot;http://localhost:8888&quot;,\r\n            &quot;pathRewrite&quot;: {\r\n                &quot;^/api&quot;: &quot;/mydomain&quot;\r\n              },\r\n            &quot;secure&quot;: false,\r\n            &quot;logLevel&quot;: &quot;info&quot;\r\n        }\r\n    }\r\n\r\nI added the configuration in angular.json\r\n\r\n    &quot;serve&quot;: {\r\n              &quot;builder&quot;: &quot;@angular-devkit/build-angular:dev-server&quot;,\r\n              &quot;configurations&quot;: {\r\n                &quot;production&quot;: {\r\n                  &quot;browserTarget&quot;: &quot;myapp:build:production&quot;\r\n                },\r\n                &quot;development&quot;: {\r\n                  &quot;browserTarget&quot;: &quot;myapp:build:development&quot;,\r\n                  &quot;proxyConfig&quot;: &quot;proxy.config.json&quot;\r\n                }\r\n              },\r\n              &quot;defaultConfiguration&quot;: &quot;development&quot;\r\n\r\n\t\t  \r\nAnd finally my call to api needed to be \r\n\r\n    http://localhost:4200/api/path\r\n\r\nThat way everything worked perfectly fine.\r\nThanks to @j1s for the solution!\t\t \r\n\r\n","title":"&#39;http://localhost:8888/mydomain/path&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; is present","body":"<p>The solution described by @j1s solved my problem, I just had to make small changes to make it work in my case.\nI will describe below:</p>\n<p>I created the proxy.config.json file in the root of my project</p>\n<pre><code>{\n    &quot;/api&quot;: {\n        &quot;target&quot;: &quot;http://localhost:8888&quot;,\n        &quot;pathRewrite&quot;: {\n            &quot;^/api&quot;: &quot;/mydomain&quot;\n          },\n        &quot;secure&quot;: false,\n        &quot;logLevel&quot;: &quot;info&quot;\n    }\n}\n</code></pre>\n<p>I added the configuration in angular.json</p>\n<pre><code>&quot;serve&quot;: {\n          &quot;builder&quot;: &quot;@angular-devkit/build-angular:dev-server&quot;,\n          &quot;configurations&quot;: {\n            &quot;production&quot;: {\n              &quot;browserTarget&quot;: &quot;myapp:build:production&quot;\n            },\n            &quot;development&quot;: {\n              &quot;browserTarget&quot;: &quot;myapp:build:development&quot;,\n              &quot;proxyConfig&quot;: &quot;proxy.config.json&quot;\n            }\n          },\n          &quot;defaultConfiguration&quot;: &quot;development&quot;\n\n      \n</code></pre>\n<p>And finally my call to api needed to be</p>\n<pre><code>http://localhost:4200/api/path\n</code></pre>\n<p>That way everything worked perfectly fine.\nThanks to @j1s for the solution!</p>\n"}],"owner":{"account_id":4356073,"reputation":613,"user_id":3554659,"accept_rate":93,"display_name":"araraujo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73531271,"answer_count":4,"score":1,"last_activity_date":1661787727,"creation_date":1661434786,"question_id":73488566,"body_markdown":"My angular web application hosted at http://localhost:4200 makes a request http://localhost:8888/mydomain/path\r\nfor my spring boot java backend as described below:\r\n\r\nAngular frond-end:\r\n\r\n    const headers = new HttpHeaders();\r\n    headers.set(&#39;Content-Type&#39;, &#39;application/json&#39;);\r\n    headers.set(&#39;Access-Control-Allow-Origin&#39;, &#39;*&#39;);\r\n    headers.set(&#39;Access-Control-Allow-Methods&#39;, &#39;GET,POST,OPTIONS,DELETE,PUT&#39;);\r\n    this.http.get(&#39;http://localhost:8888/mydomain/path&#39;, { headers: headers })\r\n        .subscribe(result =&gt; console.log(result));\r\n\r\nSearching the internet I found a setting to solve the cors origin problem in the java/spring boot backend\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    public class SecurityConfigurations extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.authorizeRequests()\r\n                .antMatchers(HttpMethod.GET, &quot;/*&quot;).permitAll()\r\n                .antMatchers(HttpMethod.POST, &quot;/*&quot;).permitAll()\r\n                .antMatchers(HttpMethod.PUT, &quot;/*&quot;).permitAll()\r\n                .antMatchers(HttpMethod.DELETE, &quot;/*&quot;).permitAll()\r\n                .and().csrf().disable().cors().disable();\r\n        }\r\n    \t\r\n        @Bean\r\n        @Qualifier(&quot;corsFilter&quot;)\r\n        public CorsFilter corsFilter() {\r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            CorsConfiguration config = new CorsConfiguration();\r\n            config.setAllowCredentials(true);\r\n            config.addAllowedOrigin(&quot;http://localhost:4200&quot;);\r\n            config.addAllowedHeader(&quot;*&quot;);\r\n            config.addAllowedMethod(&quot;*&quot;);\r\n            source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n            return new CorsFilter(source);\r\n        }\r\n    \t\r\n    \r\n    }\r\n\r\nBut the get call is returning the below error. What would be the problem? What am I forgetting to do or doing wrong? ?Thanks a lot\r\n\r\n    &#39;http://localhost:8888/mydomain/path&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\n","title":"&#39;http://localhost:8888/mydomain/path&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; is present","body":"<p>My angular web application hosted at http://localhost:4200 makes a request http://localhost:8888/mydomain/path\nfor my spring boot java backend as described below:</p>\n<p>Angular frond-end:</p>\n<pre><code>const headers = new HttpHeaders();\nheaders.set('Content-Type', 'application/json');\nheaders.set('Access-Control-Allow-Origin', '*');\nheaders.set('Access-Control-Allow-Methods', 'GET,POST,OPTIONS,DELETE,PUT');\nthis.http.get('http://localhost:8888/mydomain/path', { headers: headers })\n    .subscribe(result =&gt; console.log(result));\n</code></pre>\n<p>Searching the internet I found a setting to solve the cors origin problem in the java/spring boot backend</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfigurations extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n            .antMatchers(HttpMethod.GET, &quot;/*&quot;).permitAll()\n            .antMatchers(HttpMethod.POST, &quot;/*&quot;).permitAll()\n            .antMatchers(HttpMethod.PUT, &quot;/*&quot;).permitAll()\n            .antMatchers(HttpMethod.DELETE, &quot;/*&quot;).permitAll()\n            .and().csrf().disable().cors().disable();\n    }\n    \n    @Bean\n    @Qualifier(&quot;corsFilter&quot;)\n    public CorsFilter corsFilter() {\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowCredentials(true);\n        config.addAllowedOrigin(&quot;http://localhost:4200&quot;);\n        config.addAllowedHeader(&quot;*&quot;);\n        config.addAllowedMethod(&quot;*&quot;);\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n        return new CorsFilter(source);\n    }\n    \n\n}\n</code></pre>\n<p>But the get call is returning the below error. What would be the problem? What am I forgetting to do or doing wrong? ?Thanks a lot</p>\n<pre><code>'http://localhost:8888/mydomain/path' from origin 'http://localhost:4200' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":11767634,"reputation":49,"user_id":8611667,"display_name":"Yasya El Hakim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661787624,"creation_date":1661787015,"question_id":73531128,"body_markdown":"According to Playstore ANR &amp; Crashes the app is throwing null pointer on SplashScreen. I&#39;ve checked the functioning and it looks good at my end. Not all phones are crashing however are.\r\n\r\nActivitySplash.java\r\n\r\n```\r\npublic class ActivitySplash extends AppCompatActivity {\r\n    public static final String TAG = &quot;SplashActivity&quot;;\r\n    Call&lt;CallbackConfig&gt; callbackConfigCall = null;\r\n    Call&lt;CallbackCategory&gt; callbackLabelCall = null;\r\n    UtilityAdsManager utilityAdsManager;\r\n    PreferenceShared preferenceShared;\r\n    PreferenceAds preferenceAds;\r\n    App app;\r\n    Blog blog;\r\n    Ads ads;\r\n    List&lt;Category&gt; labels = new ArrayList&lt;&gt;();\r\n    DatabaseCategory databaseCategory;\r\n    ImageView imageView;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        UtilityGlobal.getTheme(this);\r\n        setContentView(R.layout.activity_splash);\r\n\r\n        imageView = findViewById(R.id.idImageViewSplash);\r\n\r\n        databaseCategory = new DatabaseCategory(this);\r\n        utilityAdsManager = new UtilityAdsManager(this);\r\n\r\n        preferenceShared = new PreferenceShared(this);\r\n        if (preferenceShared.getThemeIsDark()) {\r\n            UtilityGlobal.themeDarkNavigation(this);\r\n        } else {\r\n            UtilityGlobal.themeLightNavigation(this);\r\n        }\r\n\r\n        preferenceAds = new PreferenceAds(this);\r\n        if (preferenceAds.getAdStatus().equals(AD_STATUS_ON)) {\r\n            Application application = getApplication();\r\n            if (preferenceAds.getAdType().equals(ADMOB)) {\r\n                if (!preferenceAds.getAdMobAppOpenAdId().equals(&quot;0&quot;)) {\r\n                    ((MyApplication) application).showAdIfAvailable(ActivitySplash.this, this::runRequestAPI);\r\n                } else {\r\n                    runRequestAPI();\r\n                }\r\n            } else if (preferenceAds.getAdType().equals(GOOGLE_AD_MANAGER)) {\r\n                if (!preferenceAds.getAdManagerAppOpenAdId().equals(&quot;0&quot;)) {\r\n                    ((MyApplication) application).showAdIfAvailable(ActivitySplash.this, this::runRequestAPI);\r\n                } else {\r\n                    runRequestAPI();\r\n                }\r\n            } else {\r\n                runRequestAPI();\r\n            }\r\n        } else {\r\n            runRequestAPI();\r\n        }\r\n    }\r\n\r\n    private void runRequestAPI() {\r\n        // Remote URL\r\n        String string = Config.ACCESS_KEY;\r\n        // Drive URL\r\n        String string1 = string.replace(&quot;https://&quot;, &quot;&quot;).replace(&quot;http://&quot;, &quot;&quot;);\r\n        // Data\r\n        List&lt;String&gt; list = Arrays.asList(string1.split(&quot;/&quot;));\r\n        // Drive ID\r\n        String string2 = list.get(3);\r\n        callbackConfigCall = RestAdapter.createApiGoogleDrive().getDriveJsonFileId(string2);\r\n        Log.d(TAG, &quot;Requesting API from Google Drive Share link&quot;);\r\n        Log.d(TAG, &quot;Google drive file id : &quot; + list.get(3));\r\n\r\n        callbackConfigCall.enqueue(new Callback&lt;CallbackConfig&gt;() {\r\n            public void onResponse(@NonNull Call&lt;CallbackConfig&gt; call, @NonNull Response&lt;CallbackConfig&gt; response) {\r\n                // Response\r\n                CallbackConfig callbackConfig = response.body();\r\n                runDisplayAPIResults(callbackConfig);\r\n            }\r\n\r\n            public void onFailure(@NonNull Call&lt;CallbackConfig&gt; call, @NonNull Throwable th) {\r\n                Log.e(TAG, &quot;initialize failed&quot;);\r\n                runActivityMain();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void runDisplayAPIResults(CallbackConfig resp) {\r\n        if (resp != null) {\r\n            app = resp.app;\r\n            ads = resp.ads;\r\n            blog = resp.blog;\r\n            labels = resp.labels;\r\n\r\n            if (app.status.equals(&quot;1&quot;)) {\r\n                preferenceShared.saveBlogCredentials(blog.blogger_id, blog.api_key);\r\n                utilityAdsManager.saveConfig(preferenceShared, app);\r\n                utilityAdsManager.saveAds(preferenceAds, ads);\r\n\r\n                if (app.custom_label_list.equals(&quot;true&quot;)) {\r\n                    databaseCategory.truncateTableCategory(DatabaseCategory.TABLE_LABEL);\r\n                    databaseCategory.addListCategory(labels, DatabaseCategory.TABLE_LABEL);\r\n                    runActivityMain();\r\n                } else {\r\n                    runRequestCategory();\r\n                }\r\n\r\n                Log.d(TAG, &quot;App status is live&quot;);\r\n            } else {\r\n                startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(app.redirect_url)));\r\n\r\n                finish();\r\n                Log.d(TAG, &quot;App status is suspended&quot;);\r\n            }\r\n            Log.d(TAG, &quot;initialize success&quot;);\r\n        } else {\r\n            Log.d(TAG, &quot;initialize failed&quot;);\r\n            runActivityMain();\r\n        }\r\n    }\r\n\r\n    private void runRequestCategory() {\r\n        this.callbackLabelCall = RestAdapter.createApiCategory(preferenceShared.getBloggerId()).getLabel();\r\n        this.callbackLabelCall.enqueue(new Callback&lt;CallbackCategory&gt;() {\r\n            public void onResponse(@NonNull Call&lt;CallbackCategory&gt; call, @NonNull Response&lt;CallbackCategory&gt; response) {\r\n                CallbackCategory resp = response.body();\r\n                if (resp == null) {\r\n                    runActivityMain();\r\n                    return;\r\n                }\r\n\r\n                databaseCategory.truncateTableCategory(DatabaseCategory.TABLE_LABEL);\r\n                databaseCategory.addListCategory(resp.feed.category, DatabaseCategory.TABLE_LABEL);\r\n                runActivityMain();\r\n\r\n                Log.d(TAG, &quot;Success initialize label with count &quot; + resp.feed.category.size() + &quot; items&quot;);\r\n            }\r\n\r\n            public void onFailure(@NonNull Call&lt;CallbackCategory&gt; call, @NonNull Throwable th) {\r\n                Log.e(&quot;onFailure&quot;, th.getMessage());\r\n                if (!call.isCanceled()) {\r\n                    runActivityMain();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private void runActivityMain() {\r\n        new Handler().postDelayed(() -&gt; {\r\n            this.finish();\r\n            Intent intent = new Intent(getApplicationContext(), ActivityMain.class);\r\n\r\n            startActivity(intent);\r\n        }, DELAY_SPLASH);\r\n    }\r\n}\r\n```\r\n\r\nThe playstore crashes report as following. java.lang.NullPointerException:\r\n\r\n&gt; FATAL EXCEPTION: main Process: com.xxx.xxx, PID: 19603\r\n&gt; java.lang.NullPointerException \tat\r\n&gt; com.xxx.xxx.activities.ActivitySplash$a.b(ActivitySplash.java:8)\r\n&gt; \tat com.google.android.exoplayer2.audio.i.run(R8$$SyntheticClass:8)\r\n&gt; \tat android.os.Handler.handleCallback(Handler.java:938) \tat\r\n&gt; android.os.Handler.dispatchMessage(Handler.java:99) \tat\r\n&gt; android.os.Looper.loopOnce(Looper.java:201) \tat\r\n&gt; android.os.Looper.loop(Looper.java:288) \tat\r\n&gt; android.app.ActivityThread.main(ActivityThread.java:7839) \tat\r\n&gt; java.lang.reflect.Method.invoke(Native Method) \tat\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n&gt; \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n\r\n","title":"Crashes on Splash Screen throwing java.lang.NullPointerException","body":"<p>According to Playstore ANR &amp; Crashes the app is throwing null pointer on SplashScreen. I've checked the functioning and it looks good at my end. Not all phones are crashing however are.</p>\n<p>ActivitySplash.java</p>\n<pre><code>public class ActivitySplash extends AppCompatActivity {\n    public static final String TAG = &quot;SplashActivity&quot;;\n    Call&lt;CallbackConfig&gt; callbackConfigCall = null;\n    Call&lt;CallbackCategory&gt; callbackLabelCall = null;\n    UtilityAdsManager utilityAdsManager;\n    PreferenceShared preferenceShared;\n    PreferenceAds preferenceAds;\n    App app;\n    Blog blog;\n    Ads ads;\n    List&lt;Category&gt; labels = new ArrayList&lt;&gt;();\n    DatabaseCategory databaseCategory;\n    ImageView imageView;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        UtilityGlobal.getTheme(this);\n        setContentView(R.layout.activity_splash);\n\n        imageView = findViewById(R.id.idImageViewSplash);\n\n        databaseCategory = new DatabaseCategory(this);\n        utilityAdsManager = new UtilityAdsManager(this);\n\n        preferenceShared = new PreferenceShared(this);\n        if (preferenceShared.getThemeIsDark()) {\n            UtilityGlobal.themeDarkNavigation(this);\n        } else {\n            UtilityGlobal.themeLightNavigation(this);\n        }\n\n        preferenceAds = new PreferenceAds(this);\n        if (preferenceAds.getAdStatus().equals(AD_STATUS_ON)) {\n            Application application = getApplication();\n            if (preferenceAds.getAdType().equals(ADMOB)) {\n                if (!preferenceAds.getAdMobAppOpenAdId().equals(&quot;0&quot;)) {\n                    ((MyApplication) application).showAdIfAvailable(ActivitySplash.this, this::runRequestAPI);\n                } else {\n                    runRequestAPI();\n                }\n            } else if (preferenceAds.getAdType().equals(GOOGLE_AD_MANAGER)) {\n                if (!preferenceAds.getAdManagerAppOpenAdId().equals(&quot;0&quot;)) {\n                    ((MyApplication) application).showAdIfAvailable(ActivitySplash.this, this::runRequestAPI);\n                } else {\n                    runRequestAPI();\n                }\n            } else {\n                runRequestAPI();\n            }\n        } else {\n            runRequestAPI();\n        }\n    }\n\n    private void runRequestAPI() {\n        // Remote URL\n        String string = Config.ACCESS_KEY;\n        // Drive URL\n        String string1 = string.replace(&quot;https://&quot;, &quot;&quot;).replace(&quot;http://&quot;, &quot;&quot;);\n        // Data\n        List&lt;String&gt; list = Arrays.asList(string1.split(&quot;/&quot;));\n        // Drive ID\n        String string2 = list.get(3);\n        callbackConfigCall = RestAdapter.createApiGoogleDrive().getDriveJsonFileId(string2);\n        Log.d(TAG, &quot;Requesting API from Google Drive Share link&quot;);\n        Log.d(TAG, &quot;Google drive file id : &quot; + list.get(3));\n\n        callbackConfigCall.enqueue(new Callback&lt;CallbackConfig&gt;() {\n            public void onResponse(@NonNull Call&lt;CallbackConfig&gt; call, @NonNull Response&lt;CallbackConfig&gt; response) {\n                // Response\n                CallbackConfig callbackConfig = response.body();\n                runDisplayAPIResults(callbackConfig);\n            }\n\n            public void onFailure(@NonNull Call&lt;CallbackConfig&gt; call, @NonNull Throwable th) {\n                Log.e(TAG, &quot;initialize failed&quot;);\n                runActivityMain();\n            }\n        });\n    }\n\n    private void runDisplayAPIResults(CallbackConfig resp) {\n        if (resp != null) {\n            app = resp.app;\n            ads = resp.ads;\n            blog = resp.blog;\n            labels = resp.labels;\n\n            if (app.status.equals(&quot;1&quot;)) {\n                preferenceShared.saveBlogCredentials(blog.blogger_id, blog.api_key);\n                utilityAdsManager.saveConfig(preferenceShared, app);\n                utilityAdsManager.saveAds(preferenceAds, ads);\n\n                if (app.custom_label_list.equals(&quot;true&quot;)) {\n                    databaseCategory.truncateTableCategory(DatabaseCategory.TABLE_LABEL);\n                    databaseCategory.addListCategory(labels, DatabaseCategory.TABLE_LABEL);\n                    runActivityMain();\n                } else {\n                    runRequestCategory();\n                }\n\n                Log.d(TAG, &quot;App status is live&quot;);\n            } else {\n                startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse(app.redirect_url)));\n\n                finish();\n                Log.d(TAG, &quot;App status is suspended&quot;);\n            }\n            Log.d(TAG, &quot;initialize success&quot;);\n        } else {\n            Log.d(TAG, &quot;initialize failed&quot;);\n            runActivityMain();\n        }\n    }\n\n    private void runRequestCategory() {\n        this.callbackLabelCall = RestAdapter.createApiCategory(preferenceShared.getBloggerId()).getLabel();\n        this.callbackLabelCall.enqueue(new Callback&lt;CallbackCategory&gt;() {\n            public void onResponse(@NonNull Call&lt;CallbackCategory&gt; call, @NonNull Response&lt;CallbackCategory&gt; response) {\n                CallbackCategory resp = response.body();\n                if (resp == null) {\n                    runActivityMain();\n                    return;\n                }\n\n                databaseCategory.truncateTableCategory(DatabaseCategory.TABLE_LABEL);\n                databaseCategory.addListCategory(resp.feed.category, DatabaseCategory.TABLE_LABEL);\n                runActivityMain();\n\n                Log.d(TAG, &quot;Success initialize label with count &quot; + resp.feed.category.size() + &quot; items&quot;);\n            }\n\n            public void onFailure(@NonNull Call&lt;CallbackCategory&gt; call, @NonNull Throwable th) {\n                Log.e(&quot;onFailure&quot;, th.getMessage());\n                if (!call.isCanceled()) {\n                    runActivityMain();\n                }\n            }\n        });\n    }\n\n    private void runActivityMain() {\n        new Handler().postDelayed(() -&gt; {\n            this.finish();\n            Intent intent = new Intent(getApplicationContext(), ActivityMain.class);\n\n            startActivity(intent);\n        }, DELAY_SPLASH);\n    }\n}\n</code></pre>\n<p>The playstore crashes report as following. java.lang.NullPointerException:</p>\n<blockquote>\n<p>FATAL EXCEPTION: main Process: com.xxx.xxx, PID: 19603\njava.lang.NullPointerException    at\ncom.xxx.xxx.activities.ActivitySplash$a.b(ActivitySplash.java:8)\nat com.google.android.exoplayer2.audio.i.run(R8$$SyntheticClass:8)\nat android.os.Handler.handleCallback(Handler.java:938)  at\nandroid.os.Handler.dispatchMessage(Handler.java:99)   at\nandroid.os.Looper.loopOnce(Looper.java:201)   at\nandroid.os.Looper.loop(Looper.java:288)   at\nandroid.app.ActivityThread.main(ActivityThread.java:7839)     at\njava.lang.reflect.Method.invoke(Native Method)    at\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)</p>\n</blockquote>\n"},{"tags":["java","android","webview","httprequest","httpurlconnection"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1661792683,"post_id":73531229,"comment_id":129850672,"body_markdown":"https://issuetracker.google.com/issues/36918490","body":"<a href=\"https://issuetracker.google.com/issues/36918490\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/36918490</a>"},{"owner":{"account_id":26190156,"reputation":1,"user_id":19872124,"display_name":"Mohamed Atia"},"score":0,"creation_date":1661845055,"post_id":73531229,"comment_id":129861560,"body_markdown":"@blackapps thats not my question","body":"@blackapps thats not my question"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1661853823,"post_id":73531229,"comment_id":129864864,"body_markdown":"Then please write better what you want. Especially now that you know that you were unclear.","body":"Then please write better what you want. Especially now that you know that you were unclear."}],"owner":{"account_id":26190156,"reputation":1,"user_id":19872124,"display_name":"Mohamed Atia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661787522,"creation_date":1661787522,"question_id":73531229,"body_markdown":"hello I&#39;m trying to make specific my own browser with my custom headers in web view\r\nso I&#39;m intercepting every request and handle it myself and getting response from \r\nshouldInterceptRequest method\r\n\r\nso some post requests need specific form data like websessionid and app id and user \r\nand i dont know where can i get this forms \r\n\r\nalthough the browser can handle this requests easily without any issues \r\n\r\nHere is what browser put in form data \r\n\r\n    ------WebKitFormBoundaryjmBjfkvn5nntGgAB\r\n    Content-Disposition: form-data; name=&quot;ts&quot;\r\n\r\n    1661786169771\r\n    ------WebKitFormBoundaryjmBjfkvn5nntGgAB\r\n    Content-Disposition: form-data; name=&quot;q&quot;\r\n\r\n    [{&quot;user&quot;:&quot;0&quot;,&quot;webSessionId&quot;:&quot;epufaw:xfhn5k:8jkn3p&quot;,&quot;app_id&quot;:&quot;412378670482&quot;,&quot;posts&quot;: \r\n    [[&quot;falco:ods_web_batch&quot;,{&quot;e&quot;:&quot;{\\&quot;batch\\&quot;:{\\&quot;1344\\&quot;:{\\&quot;falco.event.jstl_migration\\&quot;: \r\n    {\\&quot;js.use_banzai.log\\&quot;:[2,null],\\&quot;js.banzai.posting_event\\&quot;: \r\n    [2,null],\\&quot;js.event.write_to_queue\\&quot;:[2,null]},\\&quot;falco.fabric.www.C3\\&quot;: \r\n    {\\&quot;js.use_banzai.log\\&quot;:[2,null],\\&quot;js.banzai.post.log\\&quot;: \r\n    [2,null],\\&quot;planes.banzai.write_to_transport\\&quot;:[3,null],\\&quot;js.event.write_to_queue\\&quot;: \r\n    [3,null],\\&quot;js.use_banzai.log_immediately\\&quot;:[1,null],\\&quot;js.banzai.post.log_immediately\\&quot;: \r\n    [1,null]},\\&quot;falco.event.web_blue_time_spent_navigation\\&quot;:{\\&quot;js.use_banzai.log_immediately\\&quot;: \r\n    [1,null],\\&quot;js.banzai.posting_event\\&quot;:[1,null],\\&quot;js.event.write_to_queue\\&quot;:[1,null]}},\\&quot;2231\\&quot;: \r\n    {\\&quot;ChannelManager\\&quot;:{\\&quot;stateDelegate.exit.m.cleanup\\&quot;: \r\n    [1,null],\\&quot;stateDelegate.enter.m.cleanup\\&quot;:[1,null]}},\\&quot;2966\\&quot;:{\\&quot;mqtt_ws_client\\&quot;: \r\n    {\\&quot;219994525426954.protocol.debug.disconnect.internal\\&quot;: \r\n    [100,null],\\&quot;protocol.debug.disconnect.internal\\&quot;: \r\n    [100,null]}}}}&quot;,&quot;r&quot;:1,&quot;d&quot;:&quot;$^|AcYop9f0zQ7JJ5ZoEp8Vpbsxq7ok2SX-ewPFsyzr4OH1hlce-dQHRTvomrRSL-\r\ni dont know how and where can i get this forms \r\n\r\nany solution?","title":"How to get specific data from response in http","body":"<p>hello I'm trying to make specific my own browser with my custom headers in web view\nso I'm intercepting every request and handle it myself and getting response from\nshouldInterceptRequest method</p>\n<p>so some post requests need specific form data like websessionid and app id and user\nand i dont know where can i get this forms</p>\n<p>although the browser can handle this requests easily without any issues</p>\n<p>Here is what browser put in form data</p>\n<pre><code>------WebKitFormBoundaryjmBjfkvn5nntGgAB\nContent-Disposition: form-data; name=&quot;ts&quot;\n\n1661786169771\n------WebKitFormBoundaryjmBjfkvn5nntGgAB\nContent-Disposition: form-data; name=&quot;q&quot;\n\n[{&quot;user&quot;:&quot;0&quot;,&quot;webSessionId&quot;:&quot;epufaw:xfhn5k:8jkn3p&quot;,&quot;app_id&quot;:&quot;412378670482&quot;,&quot;posts&quot;: \n[[&quot;falco:ods_web_batch&quot;,{&quot;e&quot;:&quot;{\\&quot;batch\\&quot;:{\\&quot;1344\\&quot;:{\\&quot;falco.event.jstl_migration\\&quot;: \n{\\&quot;js.use_banzai.log\\&quot;:[2,null],\\&quot;js.banzai.posting_event\\&quot;: \n[2,null],\\&quot;js.event.write_to_queue\\&quot;:[2,null]},\\&quot;falco.fabric.www.C3\\&quot;: \n{\\&quot;js.use_banzai.log\\&quot;:[2,null],\\&quot;js.banzai.post.log\\&quot;: \n[2,null],\\&quot;planes.banzai.write_to_transport\\&quot;:[3,null],\\&quot;js.event.write_to_queue\\&quot;: \n[3,null],\\&quot;js.use_banzai.log_immediately\\&quot;:[1,null],\\&quot;js.banzai.post.log_immediately\\&quot;: \n[1,null]},\\&quot;falco.event.web_blue_time_spent_navigation\\&quot;:{\\&quot;js.use_banzai.log_immediately\\&quot;: \n[1,null],\\&quot;js.banzai.posting_event\\&quot;:[1,null],\\&quot;js.event.write_to_queue\\&quot;:[1,null]}},\\&quot;2231\\&quot;: \n{\\&quot;ChannelManager\\&quot;:{\\&quot;stateDelegate.exit.m.cleanup\\&quot;: \n[1,null],\\&quot;stateDelegate.enter.m.cleanup\\&quot;:[1,null]}},\\&quot;2966\\&quot;:{\\&quot;mqtt_ws_client\\&quot;: \n{\\&quot;219994525426954.protocol.debug.disconnect.internal\\&quot;: \n[100,null],\\&quot;protocol.debug.disconnect.internal\\&quot;: \n[100,null]}}}}&quot;,&quot;r&quot;:1,&quot;d&quot;:&quot;$^|AcYop9f0zQ7JJ5ZoEp8Vpbsxq7ok2SX-ewPFsyzr4OH1hlce-dQHRTvomrRSL-\n</code></pre>\n<p>i dont know how and where can i get this forms</p>\n<p>any solution?</p>\n"},{"tags":["java","pdf","itext"],"answers":[{"tags":[],"owner":{"account_id":226463,"reputation":16416,"user_id":487524,"accept_rate":88,"display_name":"epoch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1383125890,"creation_date":1383125890,"answer_id":19678628,"question_id":19678561,"body_markdown":"You can use: [`PdfStamper.setMoreInfo`][1]:\r\n\r\n    final HashMap&lt;String, String&gt; info = new HashMap&lt;&gt;();\r\n    if (title != null) {\r\n        info.put(&quot;Title&quot;, title);\r\n    }\r\n    if (subject != null) {\r\n        info.put(&quot;Subject&quot;, subject);\r\n    }\r\n    if (keywords != null) {\r\n        info.put(&quot;Keywords&quot;, keywords);\r\n    }\r\n    if (creator != null) {\r\n        info.put(&quot;Creator&quot;, creator);\r\n    }\r\n    if (author != null) {\r\n        info.put(&quot;Author&quot;, author);\r\n    }\r\n\r\n    stamper.setMoreInfo(info);\r\n\r\n\r\n  [1]: http://api.itextpdf.com/itext/com/itextpdf/text/pdf/PdfStamper.html#setMoreInfo%28java.util.Map%29","title":"Adding metaData to existng pdf file","body":"<p>You can use: <a href=\"http://api.itextpdf.com/itext/com/itextpdf/text/pdf/PdfStamper.html#setMoreInfo%28java.util.Map%29\" rel=\"nofollow\"><code>PdfStamper.setMoreInfo</code></a>:</p>\n\n<pre><code>final HashMap&lt;String, String&gt; info = new HashMap&lt;&gt;();\nif (title != null) {\n    info.put(\"Title\", title);\n}\nif (subject != null) {\n    info.put(\"Subject\", subject);\n}\nif (keywords != null) {\n    info.put(\"Keywords\", keywords);\n}\nif (creator != null) {\n    info.put(\"Creator\", creator);\n}\nif (author != null) {\n    info.put(\"Author\", author);\n}\n\nstamper.setMoreInfo(info);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19737459,"reputation":33,"user_id":14451605,"display_name":"ABDELRAHMAN Khaled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661787486,"creation_date":1661787486,"answer_id":73531216,"question_id":19678561,"body_markdown":"         \r\n             try {\r\n                    PdfReader reader = new PdfReader(pdfFile.getAbsolutePath());\r\n                    PdfStamper stamp = new PdfStamper(reader, new FileOutputStream(pdfFile));\r\n                    final HashMap&lt;String, String&gt; info = new HashMap&lt;&gt;();\r\n                    info.put(&quot;Title&quot;, &quot;your title&quot;);\r\n                    info.put(&quot;Subject&quot;, &quot;your subject&quot;);\r\n                    info.put(&quot;Author&quot;, &quot;author name&quot;);\r\n                    // ..\r\n                    stamp.setMoreInfo(info);\r\n                    // add this two lines\r\n                    stamp.flush();\r\n                    stamp.close();\r\n                }\r\n                catch (Exception e) {\r\n                    Log.i(&quot;TAG&quot; , &quot;failed to add metaData &quot; + e.getMessage());\r\n                }\r\n\r\n","title":"Adding metaData to existng pdf file","body":"<pre><code>         try {\n                PdfReader reader = new PdfReader(pdfFile.getAbsolutePath());\n                PdfStamper stamp = new PdfStamper(reader, new FileOutputStream(pdfFile));\n                final HashMap&lt;String, String&gt; info = new HashMap&lt;&gt;();\n                info.put(&quot;Title&quot;, &quot;your title&quot;);\n                info.put(&quot;Subject&quot;, &quot;your subject&quot;);\n                info.put(&quot;Author&quot;, &quot;author name&quot;);\n                // ..\n                stamp.setMoreInfo(info);\n                // add this two lines\n                stamp.flush();\n                stamp.close();\n            }\n            catch (Exception e) {\n                Log.i(&quot;TAG&quot; , &quot;failed to add metaData &quot; + e.getMessage());\n            }\n</code></pre>\n"}],"owner":{"account_id":233317,"reputation":5790,"user_id":498727,"accept_rate":63,"display_name":"Michael A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2014,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19678628,"answer_count":2,"score":2,"last_activity_date":1661787486,"creation_date":1383125698,"question_id":19678561,"body_markdown":"I am reading a pdf file using a path, and want to add meta data to it.\r\n\r\nI know the adding metadata methods:\r\n\r\n    Documnt.addAuthor and ext...\r\n\r\nBut how do i get the existing pdf into a Document object?\r\n\r\nI am reading the file like this:\r\n\r\n    PdfReader reader = new PdfReader(pdfFilePath);\r\n    FileOutputStream out = new FileOutputStream(outFile);\r\n    PdfStamper stamp = new PdfStamper(reader, out);","title":"Adding metaData to existng pdf file","body":"<p>I am reading a pdf file using a path, and want to add meta data to it.</p>\n\n<p>I know the adding metadata methods:</p>\n\n<pre><code>Documnt.addAuthor and ext...\n</code></pre>\n\n<p>But how do i get the existing pdf into a Document object?</p>\n\n<p>I am reading the file like this:</p>\n\n<pre><code>PdfReader reader = new PdfReader(pdfFilePath);\nFileOutputStream out = new FileOutputStream(outFile);\nPdfStamper stamp = new PdfStamper(reader, out);\n</code></pre>\n"},{"tags":["java","jax-rs","special-characters","urlencode","java-ee-7"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1661686824,"post_id":73517304,"comment_id":129826323,"body_markdown":"what I didn&#39;t unterstand in your question: did you try to use `curl` only to simulate an erroneous case of calling, or did you also try to use it to prove that the server accepts the requests as you wanted to send it with your client?","body":"what I didn&#39;t unterstand in your question: did you try to use <code>curl</code> only to simulate an erroneous case of calling, or did you also try to use it to prove that the server accepts the requests as you wanted to send it with your client?"},{"owner":{"account_id":26174233,"reputation":1,"user_id":19858674,"display_name":"Alexander Leonov"},"score":0,"creation_date":1661690524,"post_id":73517304,"comment_id":129827114,"body_markdown":"@cyberbrain, first, with the help of curl, I checked the correct operation of the server with the correct request and received the correct response, JSON with of the correct date (from query parameters).\nThen I made another request with an error in the parameter name filters5BTime%5D.Start(i just deleted % after word &#39;filters&#39;) and received a JSON response with a different date. So I realized that the problem is in the parameter name","body":"@cyberbrain, first, with the help of curl, I checked the correct operation of the server with the correct request and received the correct response, JSON with of the correct date (from query parameters). Then I made another request with an error in the parameter name filters5BTime%5D.Start(i just deleted % after word &#39;filters&#39;) and received a JSON response with a different date. So I realized that the problem is in the parameter name"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1661753515,"post_id":73517304,"comment_id":129837654,"body_markdown":"unfortunately I don&#39;t have the environment here to reproduce it, but did you also try to skip the URL encoding for key and/or value? You also could use a tool like Wireshark or https://mock-server.com to check what exactly happens to your parameters. (double encoding, skipping, etc.)","body":"unfortunately I don&#39;t have the environment here to reproduce it, but did you also try to skip the URL encoding for key and/or value? You also could use a tool like Wireshark or <a href=\"https://mock-server.com\" rel=\"nofollow noreferrer\">mock-server.com</a> to check what exactly happens to your parameters. (double encoding, skipping, etc.)"}],"answers":[{"tags":[],"owner":{"account_id":26174233,"reputation":1,"user_id":19858674,"display_name":"Alexander Leonov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661787131,"creation_date":1661787131,"answer_id":73531147,"question_id":73517304,"body_markdown":"By advise @cyberbrain, i did checked my request in server by help &#39;tcpdump&#39; utilite with key &#39;-A&#39;.\r\n\r\nI did request by curl and after by my java application and compare data.\r\n\r\nIn my case problems was in value parametrs, my value equels &quot;2022-08-27+17:00:00&quot;. After add in queryparametr this symbol &#39;+&#39; encoded to code &#39;%2B&#39; and this don&#39;t like my server. I just replaced symbol &#39;+&#39; to symbol space (code %20) in value (&quot;2022-08-27 17:00:00&quot;). After that i geted correct data from my server","title":"How add special characters in WebTarget.queryParam name in client JavaEE 7","body":"<p>By advise @cyberbrain, i did checked my request in server by help 'tcpdump' utilite with key '-A'.</p>\n<p>I did request by curl and after by my java application and compare data.</p>\n<p>In my case problems was in value parametrs, my value equels &quot;2022-08-27+17:00:00&quot;. After add in queryparametr this symbol '+' encoded to code '%2B' and this don't like my server. I just replaced symbol '+' to symbol space (code %20) in value (&quot;2022-08-27 17:00:00&quot;). After that i geted correct data from my server</p>\n"}],"owner":{"account_id":26174233,"reputation":1,"user_id":19858674,"display_name":"Alexander Leonov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73531147,"answer_count":1,"score":0,"last_activity_date":1661787131,"creation_date":1661676985,"question_id":73517304,"body_markdown":"I try make request using client library javax.ws.rs\r\n\r\nI&#39;m trying to add a parameter name containing characters [ and ] to query parameters, for encdoded special characters i am used URLEncoder.encode(). But after the request, the response contains data without this parameter, the server ignored this request parameter. I made a request on the command line using &quot;curl&quot; on purpose with an error in this parameter and got the same result as from the request in the application. The error is clearly in the encoded parameter name, but I dont understand how to correctly add parameters containing special characters. \r\n\r\nThe Code: \r\n\r\n        WebTarget webTarget = new Client().target(uri);\r\n        String key = &quot;filters[Time].Start&quot;;\r\n        key = URLEncoder.encode(key,StandardCharsets.UTF_8.toString());\r\n\r\n        String value = &quot;2022-08-27+17:00:00&quot;;\r\n        value = URLEncoder.encode(value,StandardCharsets.UTF_8.toString());\r\n        System.out.println(key + &quot; &quot; + value);\r\n        webTarget = webTarget.queryParam(&quot;per_page&quot;,&quot;10&quot;);\r\n        webTarget = webTarget.queryParam(key,value);\r\n        webTarget = webTarget.queryParam(&quot;order_by&quot;,&quot;time&quot;);\r\n\r\n        invocationBuilder = webTarget.request(MediaType.APPLICATION_JSON);\r\n        Response response = invocationBuilder.get();\r\n\r\nResult sout : filters%5BTime%5D.Start  2022-08-27%2B17%3A00%3A00","title":"How add special characters in WebTarget.queryParam name in client JavaEE 7","body":"<p>I try make request using client library javax.ws.rs</p>\n<p>I'm trying to add a parameter name containing characters [ and ] to query parameters, for encdoded special characters i am used URLEncoder.encode(). But after the request, the response contains data without this parameter, the server ignored this request parameter. I made a request on the command line using &quot;curl&quot; on purpose with an error in this parameter and got the same result as from the request in the application. The error is clearly in the encoded parameter name, but I dont understand how to correctly add parameters containing special characters.</p>\n<p>The Code:</p>\n<pre><code>    WebTarget webTarget = new Client().target(uri);\n    String key = &quot;filters[Time].Start&quot;;\n    key = URLEncoder.encode(key,StandardCharsets.UTF_8.toString());\n\n    String value = &quot;2022-08-27+17:00:00&quot;;\n    value = URLEncoder.encode(value,StandardCharsets.UTF_8.toString());\n    System.out.println(key + &quot; &quot; + value);\n    webTarget = webTarget.queryParam(&quot;per_page&quot;,&quot;10&quot;);\n    webTarget = webTarget.queryParam(key,value);\n    webTarget = webTarget.queryParam(&quot;order_by&quot;,&quot;time&quot;);\n\n    invocationBuilder = webTarget.request(MediaType.APPLICATION_JSON);\n    Response response = invocationBuilder.get();\n</code></pre>\n<p>Result sout : filters%5BTime%5D.Start  2022-08-27%2B17%3A00%3A00</p>\n"},{"tags":["java","android","flutter","android-manifest","flutter-dependencies"],"answers":[{"tags":[],"owner":{"account_id":25457076,"reputation":13,"user_id":19257529,"display_name":"Thomas Praun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656600986,"creation_date":1656600986,"answer_id":72817953,"question_id":72789497,"body_markdown":"I have solved the problem extending from **FlutterApplication** instead of **Application** ","title":"Changing the &lt;application android:name=${applicationName}&gt; attribute of a Flutter proyect (AndroidManifest.xml)","body":"<p>I have solved the problem extending from <strong>FlutterApplication</strong> instead of <strong>Application</strong></p>\n"}],"owner":{"account_id":25457076,"reputation":13,"user_id":19257529,"display_name":"Thomas Praun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":689,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661786998,"creation_date":1656430925,"question_id":72789497,"body_markdown":"The company where I work want to import devices from Tuya (An IoT devices provider). Tuya provides to their clients a native SDK to manage the devices. The company where I work is interested in using this SDK in a Flutter project. \r\n\r\nTo integrate this SDK I need to do it natively in Java/Kotlin and Objective-C/Swift inside the Flutter Project. [Tuya supplies a guide to do it in those languages](https://developer.tuya.com/en/docs/app-development/app-sdk-smart-home?id=Kaq6lep0vc16u). Unfortunately, Im having some complications adapting this guide to a Flutter Project. The main problem Im having is the initialization of the SDK. In the `AndroidManifest.xml` (`project\\android\\app\\src\\main\\AndroidManifest.xml`) the `&lt;application android:name=&gt;` attribute is already in use with `${applicationName}`. I need to modify it and I dont know how to.\r\n\r\nWorks properly:\r\n\r\n    public class TuyaSmartApp extends Application {\r\n      @Override\r\n      public void onCreate() {\r\n        super.onCreate();\r\n\r\n        TuyaHomeSdk.init(this);\r\n        TuyaHomeSdk.setDebugMode(true);\r\n      }\r\n    }\r\n\r\n```xml\r\n    &lt;application\r\n        android:name=&quot;.TuyaSmartApp&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyTuyaApplication&quot;\r\n        tools:targetApi=&quot;31&quot;\r\n        tools:replace=&quot;android:allowBackup,android:supportsRtl&quot;&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;TUYA_SMART_APPKEY&quot;\r\n            android:value=&quot;&quot; /&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;TUYA_SMART_SECRET&quot;\r\n            android:value=&quot;&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.HomeActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.RegistrationActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n```\r\n\r\nDonsent work:\r\n\r\n```xml\r\n    &lt;application\r\n        tools:replace=&quot;android:label&quot;\r\n        android:label=&quot;project&quot;\r\n        android:name=&quot;${applicationName}&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\r\n```\r\n\r\n","title":"Changing the &lt;application android:name=${applicationName}&gt; attribute of a Flutter proyect (AndroidManifest.xml)","body":"<p>The company where I work want to import devices from Tuya (An IoT devices provider). Tuya provides to their clients a native SDK to manage the devices. The company where I work is interested in using this SDK in a Flutter project.</p>\n<p>To integrate this SDK I need to do it natively in Java/Kotlin and Objective-C/Swift inside the Flutter Project. <a href=\"https://developer.tuya.com/en/docs/app-development/app-sdk-smart-home?id=Kaq6lep0vc16u\" rel=\"nofollow noreferrer\">Tuya supplies a guide to do it in those languages</a>. Unfortunately, Im having some complications adapting this guide to a Flutter Project. The main problem Im having is the initialization of the SDK. In the <code>AndroidManifest.xml</code> (<code>project\\android\\app\\src\\main\\AndroidManifest.xml</code>) the <code>&lt;application android:name=&gt;</code> attribute is already in use with <code>${applicationName}</code>. I need to modify it and I dont know how to.</p>\n<p>Works properly:</p>\n<pre><code>public class TuyaSmartApp extends Application {\n  @Override\n  public void onCreate() {\n    super.onCreate();\n\n    TuyaHomeSdk.init(this);\n    TuyaHomeSdk.setDebugMode(true);\n  }\n}\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;application\n        android:name=&quot;.TuyaSmartApp&quot;\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyTuyaApplication&quot;\n        tools:targetApi=&quot;31&quot;\n        tools:replace=&quot;android:allowBackup,android:supportsRtl&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;TUYA_SMART_APPKEY&quot;\n            android:value=&quot;&quot; /&gt;\n        &lt;meta-data\n            android:name=&quot;TUYA_SMART_SECRET&quot;\n            android:value=&quot;&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.HomeActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.RegistrationActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n</code></pre>\n<p>Donsent work:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;application\n        tools:replace=&quot;android:label&quot;\n        android:label=&quot;project&quot;\n        android:name=&quot;${applicationName}&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\n</code></pre>\n"},{"tags":["java","selenium","google-chrome"],"comments":[{"owner":{"account_id":10575026,"reputation":67,"user_id":7790584,"display_name":"Manu Gopinathan"},"score":1,"creation_date":1661785344,"post_id":73529631,"comment_id":129848148,"body_markdown":"Could you please add more details of your issue? When you say sendkeys is not working, what error are you getting?","body":"Could you please add more details of your issue? When you say sendkeys is not working, what error are you getting?"},{"owner":{"account_id":18390599,"reputation":1,"user_id":13396374,"display_name":"Magnus Thomsen"},"score":0,"creation_date":1661785930,"post_id":73529631,"comment_id":129848373,"body_markdown":"Yes of course, i am not getting any error, but when i am running the code, the website opens but nothing happens to the field. Seems i cannot access it, if it makes sense","body":"Yes of course, i am not getting any error, but when i am running the code, the website opens but nothing happens to the field. Seems i cannot access it, if it makes sense"},{"owner":{"account_id":10575026,"reputation":67,"user_id":7790584,"display_name":"Manu Gopinathan"},"score":0,"creation_date":1661838940,"post_id":73529631,"comment_id":129859786,"body_markdown":"In that case, could you please share a bit more of the source code for the page you are trying to work on? That may help the community to support you better. One thing worth checking on your page is that, whether your input field is inside an iframe. If yes, you may want to switch to it first before accessing the input field.","body":"In that case, could you please share a bit more of the source code for the page you are trying to work on? That may help the community to support you better. One thing worth checking on your page is that, whether your input field is inside an iframe. If yes, you may want to switch to it first before accessing the input field."},{"owner":{"account_id":18390599,"reputation":1,"user_id":13396374,"display_name":"Magnus Thomsen"},"score":0,"creation_date":1661871364,"post_id":73529631,"comment_id":129871899,"body_markdown":"The input is inside a fieldset. I just tried ctrl + F to find the element using the xpath and it does highlight the input field, so now i am certain i found the right path, but unsure as to why i can&#39;t use sendkeys on it.","body":"The input is inside a fieldset. I just tried ctrl + F to find the element using the xpath and it does highlight the input field, so now i am certain i found the right path, but unsure as to why i can&#39;t use sendkeys on it."},{"owner":{"account_id":10575026,"reputation":67,"user_id":7790584,"display_name":"Manu Gopinathan"},"score":0,"creation_date":1661880420,"post_id":73529631,"comment_id":129875494,"body_markdown":"Thank You @Magnus Thomsen for that. But I am not sure, if can be of any more help without seeing a bit more of the html page source","body":"Thank You @Magnus Thomsen for that. But I am not sure, if can be of any more help without seeing a bit more of the html page source"},{"owner":{"account_id":18390599,"reputation":1,"user_id":13396374,"display_name":"Magnus Thomsen"},"score":0,"creation_date":1661891236,"post_id":73529631,"comment_id":129878849,"body_markdown":"Thanks for helping! I ended up finding the error. I tried accessing the input before it loaded, so i fixed it using fluentWait.","body":"Thanks for helping! I ended up finding the error. I tried accessing the input before it loaded, so i fixed it using fluentWait."}],"answers":[{"tags":[],"owner":{"account_id":6155702,"reputation":61,"user_id":4798788,"display_name":"Nehra An"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661786452,"creation_date":1661786452,"answer_id":73531016,"question_id":73529631,"body_markdown":"I had similar issue once and adding a click to the element first and then send keys worked for me. ","title":"Sendkeys not working on search inputfield","body":"<p>I had similar issue once and adding a click to the element first and then send keys worked for me.</p>\n"}],"owner":{"account_id":18390599,"reputation":1,"user_id":13396374,"display_name":"Magnus Thomsen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661786452,"creation_date":1661779922,"question_id":73529631,"body_markdown":"I am trying to access an input field with a dynamically changing ID, and using other ways to find the element doesn&#39;t seem to work either.\r\n\r\nThis is the input field:\r\n\r\n```\r\n&lt;input data-v-44dd203d=&quot;&quot; type=&quot;search&quot; placeholder=&quot;Search users&quot; class=&quot;form-control form-control-md&quot; inputmode=&quot;search&quot; id=&quot;__BVID__27&quot;&gt;\r\n```\r\n\r\nThis is my current code in Java:\r\n```\r\ndriver.get(&quot;website&quot;);\r\n\r\ndriver.findElement(By.xpath(&quot;//input[@type=&#39;search&#39;]&quot;)).sendKeys(&quot;name&quot;);\r\n```\r\n\r\nI am not getting any error, but when i am running the code, the website opens but nothing happens to the field. Seems i cannot access it, if it makes sense.","title":"Sendkeys not working on search inputfield","body":"<p>I am trying to access an input field with a dynamically changing ID, and using other ways to find the element doesn't seem to work either.</p>\n<p>This is the input field:</p>\n<pre><code>&lt;input data-v-44dd203d=&quot;&quot; type=&quot;search&quot; placeholder=&quot;Search users&quot; class=&quot;form-control form-control-md&quot; inputmode=&quot;search&quot; id=&quot;__BVID__27&quot;&gt;\n</code></pre>\n<p>This is my current code in Java:</p>\n<pre><code>driver.get(&quot;website&quot;);\n\ndriver.findElement(By.xpath(&quot;//input[@type='search']&quot;)).sendKeys(&quot;name&quot;);\n</code></pre>\n<p>I am not getting any error, but when i am running the code, the website opens but nothing happens to the field. Seems i cannot access it, if it makes sense.</p>\n"},{"tags":["java","linux","memory","jvm","garbage-collection"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661782832,"post_id":73530222,"comment_id":129847233,"body_markdown":"You should create a bug rport at openjdk","body":"You should create a bug rport at openjdk"}],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661786062,"creation_date":1661786062,"answer_id":73530941,"question_id":73530222,"body_markdown":"&gt; What I see here is I get enough free memory to allocate (MemFree), right?\r\n\r\nNo, an application cannot utilize all physical memory; Linux reserves a certain amount of free RAM exclusively for kernel use. This can be configured by [`vm.min_free_kbytes`](https://www.kernel.org/doc/Documentation/sysctl/vm.txt) sysctl option, the default is typically 44-66 MB.\r\n\r\n```\r\n$ sudo sysctl vm.min_free_kbytes\r\nvm.min_free_kbytes = 45056\r\n```\r\n\r\nEven if there is enough free RAM, an allocation may fail because of other restrictions, like\r\n - `vm.max_map_count`\r\n - `vm.overcommit_memory`, `vm.overcommit_ratio`\r\n - `RLIMIT_AS`\r\n\r\nSee [this answer](https://stackoverflow.com/a/62360614/3448419) for details.","title":"JRE insufficient memory issue even though with enough memory?","body":"<blockquote>\n<p>What I see here is I get enough free memory to allocate (MemFree), right?</p>\n</blockquote>\n<p>No, an application cannot utilize all physical memory; Linux reserves a certain amount of free RAM exclusively for kernel use. This can be configured by <a href=\"https://www.kernel.org/doc/Documentation/sysctl/vm.txt\" rel=\"nofollow noreferrer\"><code>vm.min_free_kbytes</code></a> sysctl option, the default is typically 44-66 MB.</p>\n<pre><code>$ sudo sysctl vm.min_free_kbytes\nvm.min_free_kbytes = 45056\n</code></pre>\n<p>Even if there is enough free RAM, an allocation may fail because of other restrictions, like</p>\n<ul>\n<li><code>vm.max_map_count</code></li>\n<li><code>vm.overcommit_memory</code>, <code>vm.overcommit_ratio</code></li>\n<li><code>RLIMIT_AS</code></li>\n</ul>\n<p>See <a href=\"https://stackoverflow.com/a/62360614/3448419\">this answer</a> for details.</p>\n"}],"owner":{"account_id":6711055,"reputation":29,"user_id":5174489,"display_name":"Robin wong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661786062,"creation_date":1661782641,"question_id":73530222,"body_markdown":"I was running a JAVA program on a linux OS server and trying to push some information to RabbitMQ. \r\nSomehow the program was interrupted because of an *Out of Memory Error*. I&#39;m trying to investigate more and figure out the reason, but the content in the log file is very rich and I would like to seek some help because I&#39;m also new to Java. \r\n\r\nI won&#39;t expect I get the answer directly here (but I will be very happy if I can), just want to get the right direction so that I won&#39;t waste too much time. \r\nAny help will be highly appreciated! Thanks in advance!\r\n\r\n\r\nbelow is some valuable information\r\n```\r\n# There is insufficient memory for the Java Runtime Environment to continue.\r\n# Native memory allocation (mmap) failed to map 55574528 bytes for committing reserved memory.\r\n\r\n#  Out of Memory Error (os_linux.cpp:2795), pid=43653, tid=0x00007f46186b4700\r\n#\r\n# JRE version: OpenJDK Runtime Environment (8.0_332-b09) (build 1.8.0_332-b09)\r\n# Java VM: OpenJDK 64-Bit Server VM (25.332-b09 mixed mode linux-amd64 compressed oops)\r\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n#\r\n```\r\n\r\n```\r\n---------------  T H R E A D  ---------------\r\n\r\nCurrent thread (0x00007f46280ea000):  VMThread [stack: 0x00007f46185b5000,0x00007f46186b5000] [id=43657]\r\n\r\nStack: [0x00007f46185b5000,0x00007f46186b5000],  sp=0x00007f46186b3330,  free space=1016k\r\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nV  [libjvm.so+0xb65ecd]  VMError::report_and_die()+0x1cd\r\nV  [libjvm.so+0x5075aa]  report_vm_out_of_memory(char const*, int, unsigned long, VMErrorType, char const*)+0xaa\r\nV  [libjvm.so+0x941588]  os::pd_commit_memory(char*, unsigned long, unsigned long, bool)+0xd8\r\nV  [libjvm.so+0x938d9e]  os::commit_memory(char*, unsigned long, unsigned long, bool)+0x2e\r\nV  [libjvm.so+0x9b902b]  PSVirtualSpace::expand_by(unsigned long)+0x5b\r\nV  [libjvm.so+0x9a90ca]  PSOldGen::expand_by(unsigned long) [clone .part.113]+0x2a\r\nV  [libjvm.so+0x9a929b]  PSOldGen::expand(unsigned long) [clone .part.115]+0xdb\r\nV  [libjvm.so+0x9a9be8]  PSOldGen::resize(unsigned long)+0x198\r\nV  [libjvm.so+0x9af58c]  PSParallelCompact::invoke_no_policy(bool)+0x9dc\r\nV  [libjvm.so+0x9b6b7d]  PSScavenge::invoke()+0x17d\r\nV  [libjvm.so+0x968c73]  ParallelScavengeHeap::failed_mem_allocate(unsigned long)+0x63\r\nV  [libjvm.so+0xb67b23]  VM_ParallelGCFailedAllocation::doit()+0x93\r\nV  [libjvm.so+0xb6cfe5]  VM_Operation::evaluate()+0x55\r\nV  [libjvm.so+0xb6afaa]  VMThread::evaluate_operation(VM_Operation*)+0x11a\r\nV  [libjvm.so+0xb6b419]  VMThread::loop()+0x219\r\nV  [libjvm.so+0xb6b8d2]  VMThread::run()+0x92\r\nV  [libjvm.so+0x93e4f2]  java_start(Thread*)+0xf2\r\n\r\nVM_Operation (0x00007f463172d3e0): ParallelGCFailedAllocation, mode: safepoint, requested by thread 0x00007f4628063800\r\n```\r\n\r\nWhat I see here is I get enough free memory to allocate (MemFree), right? \r\n\r\n```\r\n---------------  S Y S T E M  ---------------\r\n\r\nOS:CentOS Linux release 7.8.2003 (Core)\r\n\r\nuname:Linux 3.10.0-1160.62.1.el7.x86_64 #1 SMP Tue Apr 5 16:57:59 UTC 2022 x86_64\r\nlibc:glibc 2.17 NPTL 2.17 \r\nrlimit: STACK 8192k, CORE 0k, NPROC 4096, NOFILE 4096, AS infinity\r\nload average:4.81 6.40 3.68\r\n\r\n/proc/meminfo:\r\nMemTotal:        3861256 kB\r\nMemFree:          108460 kB\r\nMemAvailable:      19104 kB\r\nBuffers:               0 kB\r\nCached:            22388 kB\r\nSwapCached:         7600 kB\r\nActive:          2577112 kB\r\nInactive:         971876 kB\r\nActive(anon):    2570780 kB\r\nInactive(anon):   957160 kB\r\nActive(file):       6332 kB\r\nInactive(file):    14716 kB\r\nUnevictable:           0 kB\r\nMlocked:               0 kB\r\nSwapTotal:       1048572 kB\r\nSwapFree:            780 kB\r\nDirty:                20 kB\r\nWriteback:             0 kB\r\nAnonPages:       3519584 kB\r\nMapped:             3356 kB\r\nShmem:              1184 kB\r\nSlab:              85128 kB\r\nSReclaimable:      40496 kB\r\nSUnreclaim:        44632 kB\r\nKernelStack:        7872 kB\r\nPageTables:        20908 kB\r\nNFS_Unstable:          0 kB\r\nBounce:                0 kB\r\nWritebackTmp:          0 kB\r\nCommitLimit:     2979200 kB\r\nCommitted_AS:    3444760 kB\r\nVmallocTotal:   34359738367 kB\r\nVmallocUsed:      183428 kB\r\nVmallocChunk:   34359310332 kB\r\nPercpu:            24064 kB\r\nHardwareCorrupted:     0 kB\r\nAnonHugePages:    448512 kB\r\nCmaTotal:              0 kB\r\nCmaFree:               0 kB\r\nHugePages_Total:       0\r\nHugePages_Free:        0\r\nHugePages_Rsvd:        0\r\nHugePages_Surp:        0\r\nHugepagesize:       2048 kB\r\nDirectMap4k:       94016 kB\r\nDirectMap2M:     4100096 kB\r\nDirectMap1G:     2097152 kB\r\n```","title":"JRE insufficient memory issue even though with enough memory?","body":"<p>I was running a JAVA program on a linux OS server and trying to push some information to RabbitMQ.\nSomehow the program was interrupted because of an <em>Out of Memory Error</em>. I'm trying to investigate more and figure out the reason, but the content in the log file is very rich and I would like to seek some help because I'm also new to Java.</p>\n<p>I won't expect I get the answer directly here (but I will be very happy if I can), just want to get the right direction so that I won't waste too much time.\nAny help will be highly appreciated! Thanks in advance!</p>\n<p>below is some valuable information</p>\n<pre><code># There is insufficient memory for the Java Runtime Environment to continue.\n# Native memory allocation (mmap) failed to map 55574528 bytes for committing reserved memory.\n\n#  Out of Memory Error (os_linux.cpp:2795), pid=43653, tid=0x00007f46186b4700\n#\n# JRE version: OpenJDK Runtime Environment (8.0_332-b09) (build 1.8.0_332-b09)\n# Java VM: OpenJDK 64-Bit Server VM (25.332-b09 mixed mode linux-amd64 compressed oops)\n# Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\n#\n</code></pre>\n<pre><code>---------------  T H R E A D  ---------------\n\nCurrent thread (0x00007f46280ea000):  VMThread [stack: 0x00007f46185b5000,0x00007f46186b5000] [id=43657]\n\nStack: [0x00007f46185b5000,0x00007f46186b5000],  sp=0x00007f46186b3330,  free space=1016k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nV  [libjvm.so+0xb65ecd]  VMError::report_and_die()+0x1cd\nV  [libjvm.so+0x5075aa]  report_vm_out_of_memory(char const*, int, unsigned long, VMErrorType, char const*)+0xaa\nV  [libjvm.so+0x941588]  os::pd_commit_memory(char*, unsigned long, unsigned long, bool)+0xd8\nV  [libjvm.so+0x938d9e]  os::commit_memory(char*, unsigned long, unsigned long, bool)+0x2e\nV  [libjvm.so+0x9b902b]  PSVirtualSpace::expand_by(unsigned long)+0x5b\nV  [libjvm.so+0x9a90ca]  PSOldGen::expand_by(unsigned long) [clone .part.113]+0x2a\nV  [libjvm.so+0x9a929b]  PSOldGen::expand(unsigned long) [clone .part.115]+0xdb\nV  [libjvm.so+0x9a9be8]  PSOldGen::resize(unsigned long)+0x198\nV  [libjvm.so+0x9af58c]  PSParallelCompact::invoke_no_policy(bool)+0x9dc\nV  [libjvm.so+0x9b6b7d]  PSScavenge::invoke()+0x17d\nV  [libjvm.so+0x968c73]  ParallelScavengeHeap::failed_mem_allocate(unsigned long)+0x63\nV  [libjvm.so+0xb67b23]  VM_ParallelGCFailedAllocation::doit()+0x93\nV  [libjvm.so+0xb6cfe5]  VM_Operation::evaluate()+0x55\nV  [libjvm.so+0xb6afaa]  VMThread::evaluate_operation(VM_Operation*)+0x11a\nV  [libjvm.so+0xb6b419]  VMThread::loop()+0x219\nV  [libjvm.so+0xb6b8d2]  VMThread::run()+0x92\nV  [libjvm.so+0x93e4f2]  java_start(Thread*)+0xf2\n\nVM_Operation (0x00007f463172d3e0): ParallelGCFailedAllocation, mode: safepoint, requested by thread 0x00007f4628063800\n</code></pre>\n<p>What I see here is I get enough free memory to allocate (MemFree), right?</p>\n<pre><code>---------------  S Y S T E M  ---------------\n\nOS:CentOS Linux release 7.8.2003 (Core)\n\nuname:Linux 3.10.0-1160.62.1.el7.x86_64 #1 SMP Tue Apr 5 16:57:59 UTC 2022 x86_64\nlibc:glibc 2.17 NPTL 2.17 \nrlimit: STACK 8192k, CORE 0k, NPROC 4096, NOFILE 4096, AS infinity\nload average:4.81 6.40 3.68\n\n/proc/meminfo:\nMemTotal:        3861256 kB\nMemFree:          108460 kB\nMemAvailable:      19104 kB\nBuffers:               0 kB\nCached:            22388 kB\nSwapCached:         7600 kB\nActive:          2577112 kB\nInactive:         971876 kB\nActive(anon):    2570780 kB\nInactive(anon):   957160 kB\nActive(file):       6332 kB\nInactive(file):    14716 kB\nUnevictable:           0 kB\nMlocked:               0 kB\nSwapTotal:       1048572 kB\nSwapFree:            780 kB\nDirty:                20 kB\nWriteback:             0 kB\nAnonPages:       3519584 kB\nMapped:             3356 kB\nShmem:              1184 kB\nSlab:              85128 kB\nSReclaimable:      40496 kB\nSUnreclaim:        44632 kB\nKernelStack:        7872 kB\nPageTables:        20908 kB\nNFS_Unstable:          0 kB\nBounce:                0 kB\nWritebackTmp:          0 kB\nCommitLimit:     2979200 kB\nCommitted_AS:    3444760 kB\nVmallocTotal:   34359738367 kB\nVmallocUsed:      183428 kB\nVmallocChunk:   34359310332 kB\nPercpu:            24064 kB\nHardwareCorrupted:     0 kB\nAnonHugePages:    448512 kB\nCmaTotal:              0 kB\nCmaFree:               0 kB\nHugePages_Total:       0\nHugePages_Free:        0\nHugePages_Rsvd:        0\nHugePages_Surp:        0\nHugepagesize:       2048 kB\nDirectMap4k:       94016 kB\nDirectMap2M:     4100096 kB\nDirectMap1G:     2097152 kB\n</code></pre>\n"},{"tags":["java","websocket"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1661191984,"post_id":73449358,"comment_id":129708617,"body_markdown":"`ProcessLifecycleOwner` does not use `ON_DESTROY` -- see [the docs](https://developer.android.com/reference/androidx/lifecycle/ProcessLifecycleOwner). Beyond that, you may need to close the websocket on a background thread.","body":"<code>ProcessLifecycleOwner</code> does not use <code>ON_DESTROY</code> -- see <a href=\"https://developer.android.com/reference/androidx/lifecycle/ProcessLifecycleOwner\" rel=\"nofollow noreferrer\">the docs</a>. Beyond that, you may need to close the websocket on a background thread."}],"answers":[{"tags":[],"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661193033,"creation_date":1661193033,"answer_id":73449578,"question_id":73449358,"body_markdown":"The answer might be `WebSocketActivity extends FragmentActivity implements WebSocketListener {}` because `Activity` would implement these lifecycle methods, therefore they can be overridden.","title":"How to close WebSockets properly from Application class?","body":"<p>The answer might be <code>WebSocketActivity extends FragmentActivity implements WebSocketListener {}</code> because <code>Activity</code> would implement these lifecycle methods, therefore they can be overridden.</p>\n"}],"owner":{"account_id":19066430,"reputation":143,"user_id":13921452,"display_name":"WebDiva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":1,"score":5,"last_activity_date":1661786035,"creation_date":1661191809,"question_id":73449358,"body_markdown":"I am using WebSockets for my chat app in android. For convenience, I am creating the connection in Application class so that it can be used by activities and fragments with one instance. Here is the code for my Application class:\r\n```\r\npublic class Main extends Application implements LifecycleObserver {\r\n\r\n    private static WeakReference&lt;Context&gt; context;\r\n    private WebSocket webSocket;\r\n    private final Request request;\r\n    private final OkHttpClient client;\r\n    public static final int SOCKET_CLOSE_CODE = 1000;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        context = new WeakReference&lt;&gt;(getApplicationContext());\r\n        ProcessLifecycleOwner.get().getLifecycle().addObserver(this);\r\n        this.client = new OkHttpClient();\r\n        this.request = new Request.Builder().url(&quot;ws://192.168.1.9:8080&quot;).build();\r\n    }\r\n\r\n    public void connect() {\r\n        webSocket = client.newWebSocket(request, new WebSocketListener() {\r\n            @Override\r\n            public void onOpen(WebSocket webSocket, Response response) {\r\n                super.onOpen(webSocket, response);\r\n            }\r\n\r\n            @Override\r\n            public void onMessage(WebSocket webSocket, String text) {\r\n                super.onMessage(webSocket, text);\r\n            }\r\n\r\n            @Override\r\n            public void onMessage(WebSocket webSocket, ByteString bytes) {\r\n                super.onMessage(webSocket, bytes);\r\n            }\r\n\r\n            @Override\r\n            public void onClosing(WebSocket webSocket, int code, String reason) {\r\n                super.onClosing(webSocket, code, reason);\r\n            }\r\n\r\n            @Override\r\n            public void onClosed(WebSocket webSocket, int code, String reason) {\r\n                super.onClosed(webSocket, code, reason);\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(WebSocket webSocket, Throwable t, Response response) {\r\n                super.onFailure(webSocket, t, response);\r\n            }\r\n        });\r\n    }\r\n\r\n    @OnLifecycleEvent(Lifecycle.Event.ON_RESUME)\r\n    public void onResume() {\r\n        if (webSocket == null) return;\r\n        connect();\r\n    }\r\n\r\n    @OnLifecycleEvent(Lifecycle.Event.ON_PAUSE)\r\n    public void onPause() {\r\n        if (webSocket == null) return;\r\n        disconnect();\r\n    }\r\n    \r\n    private void disconnect() {\r\n      webSocket.close(SOCKET_CLOSE_CODE, null);\r\n      webSocket = null;\r\n    }\r\n\r\n\r\n    @OnLifecycleEvent(Lifecycle.Event.ON_DESTROY)\r\n    public void onDestroy() {\r\n        if (client == null) return;\r\n        client.connectionPool().evictAll();\r\n        client.dispatcher().executorService().shutdown();\r\n    }\r\n}\r\n```\r\nFor some reason, the socket does not close in either onPause or onDestroy (tried both). I am using Ratchet in server side. What&#39;s wrong with this code? Note that I want to close the connection exactly from the Application class itself instead of closing from activities or fragments or any other components.","title":"How to close WebSockets properly from Application class?","body":"<p>I am using WebSockets for my chat app in android. For convenience, I am creating the connection in Application class so that it can be used by activities and fragments with one instance. Here is the code for my Application class:</p>\n<pre><code>public class Main extends Application implements LifecycleObserver {\n\n    private static WeakReference&lt;Context&gt; context;\n    private WebSocket webSocket;\n    private final Request request;\n    private final OkHttpClient client;\n    public static final int SOCKET_CLOSE_CODE = 1000;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        context = new WeakReference&lt;&gt;(getApplicationContext());\n        ProcessLifecycleOwner.get().getLifecycle().addObserver(this);\n        this.client = new OkHttpClient();\n        this.request = new Request.Builder().url(&quot;ws://192.168.1.9:8080&quot;).build();\n    }\n\n    public void connect() {\n        webSocket = client.newWebSocket(request, new WebSocketListener() {\n            @Override\n            public void onOpen(WebSocket webSocket, Response response) {\n                super.onOpen(webSocket, response);\n            }\n\n            @Override\n            public void onMessage(WebSocket webSocket, String text) {\n                super.onMessage(webSocket, text);\n            }\n\n            @Override\n            public void onMessage(WebSocket webSocket, ByteString bytes) {\n                super.onMessage(webSocket, bytes);\n            }\n\n            @Override\n            public void onClosing(WebSocket webSocket, int code, String reason) {\n                super.onClosing(webSocket, code, reason);\n            }\n\n            @Override\n            public void onClosed(WebSocket webSocket, int code, String reason) {\n                super.onClosed(webSocket, code, reason);\n            }\n\n            @Override\n            public void onFailure(WebSocket webSocket, Throwable t, Response response) {\n                super.onFailure(webSocket, t, response);\n            }\n        });\n    }\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_RESUME)\n    public void onResume() {\n        if (webSocket == null) return;\n        connect();\n    }\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_PAUSE)\n    public void onPause() {\n        if (webSocket == null) return;\n        disconnect();\n    }\n    \n    private void disconnect() {\n      webSocket.close(SOCKET_CLOSE_CODE, null);\n      webSocket = null;\n    }\n\n\n    @OnLifecycleEvent(Lifecycle.Event.ON_DESTROY)\n    public void onDestroy() {\n        if (client == null) return;\n        client.connectionPool().evictAll();\n        client.dispatcher().executorService().shutdown();\n    }\n}\n</code></pre>\n<p>For some reason, the socket does not close in either onPause or onDestroy (tried both). I am using Ratchet in server side. What's wrong with this code? Note that I want to close the connection exactly from the Application class itself instead of closing from activities or fragments or any other components.</p>\n"},{"tags":["java","ethereum","web3-java"],"answers":[{"tags":[],"owner":{"account_id":37811,"reputation":102303,"user_id":108205,"accept_rate":86,"display_name":"jsbueno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661786017,"creation_date":1510864965,"answer_id":47338693,"question_id":47322809,"body_markdown":"&gt; Is there any another approach to do this?\r\n\r\nNo.  \r\n\r\nThat is what blockchain transactions are all about.","title":"Can I consolidate all deposited ether to one wallet address without additional transactions?","body":"<blockquote>\n<p>Is there any another approach to do this?</p>\n</blockquote>\n<p>No.</p>\n<p>That is what blockchain transactions are all about.</p>\n"}],"owner":{"account_id":7027107,"reputation":517,"user_id":5384141,"accept_rate":36,"display_name":"Abhishek saini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1324,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1661786017,"creation_date":1510812696,"question_id":47322809,"body_markdown":"I am making an application in which I am creating a different Ethereum wallet address for a user in the Ethereum blockchain using web3J.\r\n\r\nI have also created one address say as my organisation wallet. When a user deposits some ether in their respective address, I want all the ether to be deposited into my organisation wallet. What I understand that to do this I have to do an another transaction from user account to organisation wallet, which leads to the deduction of transaction fee from user account and not all the ether will go to organisation wallet.\r\n\r\nIs there any another approach to do this?","title":"Can I consolidate all deposited ether to one wallet address without additional transactions?","body":"<p>I am making an application in which I am creating a different Ethereum wallet address for a user in the Ethereum blockchain using web3J.</p>\n<p>I have also created one address say as my organisation wallet. When a user deposits some ether in their respective address, I want all the ether to be deposited into my organisation wallet. What I understand that to do this I have to do an another transaction from user account to organisation wallet, which leads to the deduction of transaction fee from user account and not all the ether will go to organisation wallet.</p>\n<p>Is there any another approach to do this?</p>\n"},{"tags":["java","android","bottomnavigationview","android-bottomnav"],"comments":[{"owner":{"account_id":18159713,"reputation":12916,"user_id":13211263,"display_name":"lpizzinidev"},"score":0,"creation_date":1639411342,"post_id":70337063,"comment_id":124335786,"body_markdown":"You should initialize the bottom view with `mBottomNavigationView = view.findViewById(R.id.bottomNavigation);`&#160;since it is a fragment. If `bottomNavigation` is in the parent activity you should create a method in it to handle the visibility change.","body":"You should initialize the bottom view with <code>mBottomNavigationView = view.findViewById(R.id.bottomNavigation);</code> since it is a fragment. If <code>bottomNavigation</code> is in the parent activity you should create a method in it to handle the visibility change."},{"owner":{"account_id":23241223,"reputation":1,"user_id":17330515,"display_name":"lin"},"score":0,"creation_date":1639411789,"post_id":70337063,"comment_id":124335960,"body_markdown":"@LucaPizzini can you show an example how to hadle it ?","body":"@LucaPizzini can you show an example how to hadle it ?"},{"owner":{"account_id":18159713,"reputation":12916,"user_id":13211263,"display_name":"lpizzinidev"},"score":0,"creation_date":1639467835,"post_id":70337063,"comment_id":124349472,"body_markdown":"Can you post your parent activity code?","body":"Can you post your parent activity code?"},{"owner":{"account_id":23241223,"reputation":1,"user_id":17330515,"display_name":"lin"},"score":0,"creation_date":1639480611,"post_id":70337063,"comment_id":124353878,"body_markdown":"@LucaPizzini I&#39;ve added","body":"@LucaPizzini I&#39;ve added"}],"answers":[{"tags":[],"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639503674,"creation_date":1639415311,"answer_id":70338388,"question_id":70337063,"body_markdown":"Use `setVisibility(View.GONE)` instead.\r\n\r\nI had the same problem, for some reason it doesn&#39;t work, but [in the docs][1] they also use `View.GONE`.\r\n\r\n\r\n**EDIT:** Use the method shown in the docs to hide/show `BottomNavigationView` depending on the `Fragment`.\r\n\r\n```\r\nnavController.addOnDestinationChangedListener(new NavController.OnDestinationChangedListener() {\r\n   @Override\r\n   public void onDestinationChanged(@NonNull NavController controller,\r\n           @NonNull NavDestination destination, @Nullable Bundle arguments) {\r\n       if(destination.getId() == R.id.full_screen_destination) {\r\n           toolbar.setVisibility(View.GONE);\r\n           bottomNavigationView.setVisibility(View.GONE);\r\n       } else {\r\n           toolbar.setVisibility(View.VISIBLE);\r\n           bottomNavigationView.setVisibility(View.VISIBLE);\r\n       }\r\n   }\r\n});\r\n```\r\nUse Navigation component like in [this example][2].\r\n\r\n\r\n  [1]: https://developer.android.com/guide/navigation/navigation-ui#listen_for_navigation_events\r\n  [2]: https://stackoverflow.com/a/50626510/11880323","title":"BottomNavigation.setVisibility doesn&#39;t work","body":"<p>Use <code>setVisibility(View.GONE)</code> instead.</p>\n<p>I had the same problem, for some reason it doesn't work, but <a href=\"https://developer.android.com/guide/navigation/navigation-ui#listen_for_navigation_events\" rel=\"nofollow noreferrer\">in the docs</a> they also use <code>View.GONE</code>.</p>\n<p><strong>EDIT:</strong> Use the method shown in the docs to hide/show <code>BottomNavigationView</code> depending on the <code>Fragment</code>.</p>\n<pre><code>navController.addOnDestinationChangedListener(new NavController.OnDestinationChangedListener() {\n   @Override\n   public void onDestinationChanged(@NonNull NavController controller,\n           @NonNull NavDestination destination, @Nullable Bundle arguments) {\n       if(destination.getId() == R.id.full_screen_destination) {\n           toolbar.setVisibility(View.GONE);\n           bottomNavigationView.setVisibility(View.GONE);\n       } else {\n           toolbar.setVisibility(View.VISIBLE);\n           bottomNavigationView.setVisibility(View.VISIBLE);\n       }\n   }\n});\n</code></pre>\n<p>Use Navigation component like in <a href=\"https://stackoverflow.com/a/50626510/11880323\">this example</a>.</p>\n"},{"tags":[],"owner":{"account_id":6673766,"reputation":1,"user_id":5149165,"display_name":"Damjan Miloshevski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661785738,"creation_date":1661785738,"answer_id":73530880,"question_id":70337063,"body_markdown":"I fixed this by using DataBinding and ObservableField for the visibility, I don&#39;t why it didn&#39;t work through the normal onDestinationChangedListener on the NavController, it just bluntly ignored that command, everything else in that block worked fine but not the visibility. \r\n\r\nSo an ObservableField in the databinding did the trick\r\n\r\n    android:visibility=&quot;@{hideBottomNav ? View.GONE : View.VISIBLE}&quot;\r\n    \r\nAnd set the value to the observable field in the onDestinationChangedListener to your desired outcome \r\n\r\n     if(destination.id == R.id.navigation_your_notes){\r\n            hideBottomNav.set(true)\r\n        } else hideBottomNav.set(false)","title":"BottomNavigation.setVisibility doesn&#39;t work","body":"<p>I fixed this by using DataBinding and ObservableField for the visibility, I don't why it didn't work through the normal onDestinationChangedListener on the NavController, it just bluntly ignored that command, everything else in that block worked fine but not the visibility.</p>\n<p>So an ObservableField in the databinding did the trick</p>\n<pre><code>android:visibility=&quot;@{hideBottomNav ? View.GONE : View.VISIBLE}&quot;\n</code></pre>\n<p>And set the value to the observable field in the onDestinationChangedListener to your desired outcome</p>\n<pre><code> if(destination.id == R.id.navigation_your_notes){\n        hideBottomNav.set(true)\n    } else hideBottomNav.set(false)\n</code></pre>\n"}],"owner":{"account_id":23241223,"reputation":1,"user_id":17330515,"display_name":"lin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661785738,"creation_date":1639409258,"question_id":70337063,"body_markdown":"I create an application and use a BottomNavigationView in it and one of the fragments calls the other fragment through the adapter. I am trying to make the BottomNavigationView disappear when this fragment is called, for this I use setVisibility (). But the problem is that it doesnt disappear, maybe someone can tell me what Im doing wrong\r\n\r\nBottomNavigationView:\r\n\r\n    public class ProfileFragment extends Fragment {\r\n        private ImageView avatar;\r\n        private TextView nickname, bio, website;\r\n        private FirebaseMethods mFirebaseMethods;\r\n        private Context mContext;\r\n        private AppBarLayout mAppBarLayout;\r\n        private Menu mMenu;\r\n        private RecyclerView mRecyclerView;\r\n        private FirebaseUser mCurrentUser;\r\n        private TextView followers, followings;\r\n        private BottomNavigationView mBottomNavigationView;\r\n    \r\n    \r\n        private String[] permissions = {Manifest.permission.WRITE_EXTERNAL_STORAGE, Manifest.permission.READ_EXTERNAL_STORAGE};\r\n        private ActivityResultContracts.RequestMultiplePermissions mRequestMultiplePermissions= new ActivityResultContracts.RequestMultiplePermissions();\r\n    \r\n        private DatabaseReference mDatabaseReference;\r\n        private DatabaseReference followingRef;\r\n        private DatabaseReference followersRef;\r\n    \r\n        private ReadWritePermissions mReadWritePermissions;\r\n        private IntentFilter filter = new IntentFilter(DownloadManager.ACTION_DOWNLOAD_COMPLETE);\r\n    \r\n        private String mParam1;\r\n        private String mParam2;\r\n    \r\n        public ProfileFragment() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n        public static ProfileFragment newInstance(String param1, String param2) {\r\n            ProfileFragment fragment = new ProfileFragment();\r\n            Bundle args = new Bundle();\r\n    \r\n            fragment.setArguments(args);\r\n            return fragment;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            View view = inflater.inflate(R.layout.fragment_profile2, container, false);\r\n    \r\n            mContext = container.getContext();\r\n            mFirebaseMethods = new FirebaseMethods(mContext);\r\n            mCurrentUser = FirebaseAuth.getInstance().getCurrentUser();\r\n            mBottomNavigationView = getActivity().findViewById(R.id.bottomNavigation);\r\n    \r\n            followingRef = FirebaseDatabase.getInstance().getReference(&quot;Following&quot;);\r\n            followersRef = FirebaseDatabase.getInstance().getReference(&quot;Followers&quot;);\r\n    \r\n            Toolbar toolbar = view.findViewById(R.id.toolbar);\r\n            mAppBarLayout = view.findViewById(R.id.app_bar);\r\n            mRecyclerView = view.findViewById(R.id.posts_recycler);\r\n    \r\n            ((AppCompatActivity)getActivity()).setSupportActionBar(toolbar);\r\n            ((AppCompatActivity)getActivity()).getSupportActionBar().setDisplayShowTitleEnabled(false);\r\n    \r\n            setHasOptionsMenu(true);\r\n    \r\n            toolbar.setNavigationOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    getActivity().finish();\r\n                }\r\n            });\r\n    \r\n            loadPosts();\r\n    \r\n            avatar = view.findViewById(R.id.profile_avatar);\r\n            nickname = view.findViewById(R.id.profile_nickname);\r\n            bio = view.findViewById(R.id.profile_bio);\r\n            website = view.findViewById(R.id.profile_website);\r\n            followers = view.findViewById(R.id.followers_count);\r\n            followings = view.findViewById(R.id.following_count);\r\n    \r\n            setFollowingFollowers();\r\n    \r\n            followers.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    FollowersFollowingsFragment fragment = new FollowersFollowingsFragment();\r\n                    Bundle args = new Bundle();\r\n                    args.putString(&quot;uid&quot;, mCurrentUser.getUid());\r\n                    args.putString(&quot;followingsOrFollowers&quot;, &quot;followers&quot;);\r\n                    fragment.setArguments(args);\r\n    \r\n                    FragmentTransaction fragmentTransaction = getActivity().getSupportFragmentManager().beginTransaction();\r\n                    fragmentTransaction.add(R.id.frame_container,fragment);\r\n                    fragmentTransaction.addToBackStack(null);\r\n                    fragmentTransaction.commit();\r\n                }\r\n            });\r\n    \r\n            followings.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    FollowersFollowingsFragment fragment = new FollowersFollowingsFragment();\r\n                    Bundle args = new Bundle();\r\n                    args.putString(&quot;uid&quot;, mCurrentUser.getUid());\r\n                    args.putString(&quot;followingsOrFollowers&quot;, &quot;followers&quot;);\r\n                    fragment.setArguments(args);\r\n    \r\n                    FragmentTransaction fragmentTransaction = getActivity().getSupportFragmentManager().beginTransaction();\r\n                    fragmentTransaction.add(R.id.frame_container,fragment);\r\n                    fragmentTransaction.addToBackStack(null);\r\n                    fragmentTransaction.commit();\r\n                }\r\n            });\r\n    \r\n            avatar.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n    \r\n                }\r\n            });\r\n    \r\n            mFirebaseMethods.getUserDataProfile(avatar, nickname, bio);\r\n    \r\n            return view;\r\n        }\r\n    \r\n        private void loadPosts()\r\n        {\r\n            mReadWritePermissions = new ReadWritePermissions(getActivity().getLifecycle(), getActivity().getActivityResultRegistry());\r\n            getLifecycle().addObserver(mReadWritePermissions);\r\n    \r\n            mCurrentUser = FirebaseAuth.getInstance().getCurrentUser();\r\n            mDatabaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;Posts&quot;);\r\n            mRecyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n    \r\n            FirebaseRecyclerOptions&lt;Posts&gt; options\r\n                    = new FirebaseRecyclerOptions.Builder&lt;Posts&gt;()\r\n                    .setQuery(mDatabaseReference.orderByChild(&quot;uid&quot;).equalTo(mCurrentUser.getUid()), Posts.class)\r\n                    .build();\r\n    \r\n    \r\n            mReadWritePermissions = new ReadWritePermissions(getActivity().getLifecycle(), getActivity().getActivityResultRegistry());\r\n            getLifecycle().addObserver(mReadWritePermissions);\r\n    \r\n            PostAdapter adapter = new PostAdapter(options, mContext, mReadWritePermissions);\r\n            mRecyclerView.setAdapter(adapter);\r\n            adapter.startListening();\r\n        }\r\n    \r\n        private void setFollowingFollowers()\r\n        {\r\n            mCurrentUser = FirebaseAuth.getInstance().getCurrentUser();\r\n            followersRef.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    followers.setText(Integer.toString((int)snapshot.child(mCurrentUser.getUid()).getChildrenCount()));\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                }\r\n            });\r\n    \r\n            followingRef.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    followings.setText(Integer.toString((int)snapshot.child(mCurrentUser.getUid()).getChildrenCount()));\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onPause() {\r\n            super.onPause();\r\n        }\r\n    \r\n        @Override\r\n        public void onResume() {\r\n            super.onResume();\r\n        }\r\n    }\r\n\r\n","title":"BottomNavigation.setVisibility doesn&#39;t work","body":"<p>I create an application and use a BottomNavigationView in it and one of the fragments calls the other fragment through the adapter. I am trying to make the BottomNavigationView disappear when this fragment is called, for this I use setVisibility (). But the problem is that it doesnt disappear, maybe someone can tell me what Im doing wrong</p>\n<p>BottomNavigationView:</p>\n<pre><code>public class ProfileFragment extends Fragment {\n    private ImageView avatar;\n    private TextView nickname, bio, website;\n    private FirebaseMethods mFirebaseMethods;\n    private Context mContext;\n    private AppBarLayout mAppBarLayout;\n    private Menu mMenu;\n    private RecyclerView mRecyclerView;\n    private FirebaseUser mCurrentUser;\n    private TextView followers, followings;\n    private BottomNavigationView mBottomNavigationView;\n\n\n    private String[] permissions = {Manifest.permission.WRITE_EXTERNAL_STORAGE, Manifest.permission.READ_EXTERNAL_STORAGE};\n    private ActivityResultContracts.RequestMultiplePermissions mRequestMultiplePermissions= new ActivityResultContracts.RequestMultiplePermissions();\n\n    private DatabaseReference mDatabaseReference;\n    private DatabaseReference followingRef;\n    private DatabaseReference followersRef;\n\n    private ReadWritePermissions mReadWritePermissions;\n    private IntentFilter filter = new IntentFilter(DownloadManager.ACTION_DOWNLOAD_COMPLETE);\n\n    private String mParam1;\n    private String mParam2;\n\n    public ProfileFragment() {\n        // Required empty public constructor\n    }\n\n    public static ProfileFragment newInstance(String param1, String param2) {\n        ProfileFragment fragment = new ProfileFragment();\n        Bundle args = new Bundle();\n\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_profile2, container, false);\n\n        mContext = container.getContext();\n        mFirebaseMethods = new FirebaseMethods(mContext);\n        mCurrentUser = FirebaseAuth.getInstance().getCurrentUser();\n        mBottomNavigationView = getActivity().findViewById(R.id.bottomNavigation);\n\n        followingRef = FirebaseDatabase.getInstance().getReference(&quot;Following&quot;);\n        followersRef = FirebaseDatabase.getInstance().getReference(&quot;Followers&quot;);\n\n        Toolbar toolbar = view.findViewById(R.id.toolbar);\n        mAppBarLayout = view.findViewById(R.id.app_bar);\n        mRecyclerView = view.findViewById(R.id.posts_recycler);\n\n        ((AppCompatActivity)getActivity()).setSupportActionBar(toolbar);\n        ((AppCompatActivity)getActivity()).getSupportActionBar().setDisplayShowTitleEnabled(false);\n\n        setHasOptionsMenu(true);\n\n        toolbar.setNavigationOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                getActivity().finish();\n            }\n        });\n\n        loadPosts();\n\n        avatar = view.findViewById(R.id.profile_avatar);\n        nickname = view.findViewById(R.id.profile_nickname);\n        bio = view.findViewById(R.id.profile_bio);\n        website = view.findViewById(R.id.profile_website);\n        followers = view.findViewById(R.id.followers_count);\n        followings = view.findViewById(R.id.following_count);\n\n        setFollowingFollowers();\n\n        followers.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                FollowersFollowingsFragment fragment = new FollowersFollowingsFragment();\n                Bundle args = new Bundle();\n                args.putString(&quot;uid&quot;, mCurrentUser.getUid());\n                args.putString(&quot;followingsOrFollowers&quot;, &quot;followers&quot;);\n                fragment.setArguments(args);\n\n                FragmentTransaction fragmentTransaction = getActivity().getSupportFragmentManager().beginTransaction();\n                fragmentTransaction.add(R.id.frame_container,fragment);\n                fragmentTransaction.addToBackStack(null);\n                fragmentTransaction.commit();\n            }\n        });\n\n        followings.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                FollowersFollowingsFragment fragment = new FollowersFollowingsFragment();\n                Bundle args = new Bundle();\n                args.putString(&quot;uid&quot;, mCurrentUser.getUid());\n                args.putString(&quot;followingsOrFollowers&quot;, &quot;followers&quot;);\n                fragment.setArguments(args);\n\n                FragmentTransaction fragmentTransaction = getActivity().getSupportFragmentManager().beginTransaction();\n                fragmentTransaction.add(R.id.frame_container,fragment);\n                fragmentTransaction.addToBackStack(null);\n                fragmentTransaction.commit();\n            }\n        });\n\n        avatar.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n            }\n        });\n\n        mFirebaseMethods.getUserDataProfile(avatar, nickname, bio);\n\n        return view;\n    }\n\n    private void loadPosts()\n    {\n        mReadWritePermissions = new ReadWritePermissions(getActivity().getLifecycle(), getActivity().getActivityResultRegistry());\n        getLifecycle().addObserver(mReadWritePermissions);\n\n        mCurrentUser = FirebaseAuth.getInstance().getCurrentUser();\n        mDatabaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;Posts&quot;);\n        mRecyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n\n        FirebaseRecyclerOptions&lt;Posts&gt; options\n                = new FirebaseRecyclerOptions.Builder&lt;Posts&gt;()\n                .setQuery(mDatabaseReference.orderByChild(&quot;uid&quot;).equalTo(mCurrentUser.getUid()), Posts.class)\n                .build();\n\n\n        mReadWritePermissions = new ReadWritePermissions(getActivity().getLifecycle(), getActivity().getActivityResultRegistry());\n        getLifecycle().addObserver(mReadWritePermissions);\n\n        PostAdapter adapter = new PostAdapter(options, mContext, mReadWritePermissions);\n        mRecyclerView.setAdapter(adapter);\n        adapter.startListening();\n    }\n\n    private void setFollowingFollowers()\n    {\n        mCurrentUser = FirebaseAuth.getInstance().getCurrentUser();\n        followersRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                followers.setText(Integer.toString((int)snapshot.child(mCurrentUser.getUid()).getChildrenCount()));\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n        followingRef.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                followings.setText(Integer.toString((int)snapshot.child(mCurrentUser.getUid()).getChildrenCount()));\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n    }\n}\n</code></pre>\n"},{"tags":["java","database","spring-boot","blob","h2"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1661780519,"post_id":73529709,"comment_id":129846330,"body_markdown":"4 GB is the max size of a file of FAT/32. I doubt that there is any configuration for H2","body":"4 GB is the max size of a file of FAT/32. I doubt that there is any configuration for H2"}],"answers":[{"tags":[],"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661785392,"creation_date":1661785392,"answer_id":73530805,"question_id":73529709,"body_markdown":"H2 actually can handle LOBs larger than 4 GiB, there is no such limit in H2 and there is no global configuration for it.\r\n\r\nYou can only specify maximum length in definition of particular column:\r\n```lang-sql\r\nCREATE TABLE tableName(\r\n,\r\ncolumnName BLOB(1000000),\r\n);\r\n```\r\nhttps://h2database.com/html/datatypes.html#binary_large_object_type\r\n\r\nIf you use JPA with auto-generated schema, take a look on `columnDefinition` or `length` attributes of `@Column` annotation.\r\n\r\n","title":"How to set max_allowed_packet in h2 database for testing","body":"<p>H2 actually can handle LOBs larger than 4 GiB, there is no such limit in H2 and there is no global configuration for it.</p>\n<p>You can only specify maximum length in definition of particular column:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE tableName(\n,\ncolumnName BLOB(1000000),\n);\n</code></pre>\n<p><a href=\"https://h2database.com/html/datatypes.html#binary_large_object_type\" rel=\"nofollow noreferrer\">https://h2database.com/html/datatypes.html#binary_large_object_type</a></p>\n<p>If you use JPA with auto-generated schema, take a look on <code>columnDefinition</code> or <code>length</code> attributes of <code>@Column</code> annotation.</p>\n"}],"owner":{"account_id":1469313,"reputation":5983,"user_id":1381266,"accept_rate":46,"display_name":"Galet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661785392,"creation_date":1661780246,"question_id":73529709,"body_markdown":"I am using Spring Boot application. In **h2** database, I am using **BLOB** type to store the large data. Currently **BLOB** size is **4GB** in h2, I want to set the limit for BLOB type and do testing with multiple inputs (**lesser** size).\r\n\r\nAny help would be appreciated. ","title":"How to set max_allowed_packet in h2 database for testing","body":"<p>I am using Spring Boot application. In <strong>h2</strong> database, I am using <strong>BLOB</strong> type to store the large data. Currently <strong>BLOB</strong> size is <strong>4GB</strong> in h2, I want to set the limit for BLOB type and do testing with multiple inputs (<strong>lesser</strong> size).</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661785189,"creation_date":1661784462,"answer_id":73530615,"question_id":73530497,"body_markdown":"You never write to `out`. Here: \r\n\r\n    System.out.println(&quot;First Name: &quot; + first_name);\r\n    System.out.println(&quot;Last Name: &quot; + last_name);\r\n    System.out.println(&quot;Final Score: &quot; +  score);\r\n\r\nyou probably meant `out.println` instead of `System.out.println`.\r\n\r\n[`System.out`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#out) is a [`PrintStream`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html) that writes to standard output. `out`, on the other hand, is a [`PrintWriter`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintWriter.html) you declared and that writes to a file.\r\n\r\nAlso, you probably want to open the file before the loop and only close it afterwards, otherwise each iteration will overwrite the previous one.\r\n\r\nFinally, a couple of asides:\r\n\r\n1. that&#39;s a weird way of looping 5 times. You could use a `for` instead.\r\n2. You should strive to respect java naming convention. Class names Start with an upper-case letter and use CamelCase, not snake_case. Same for variables, but they start with lower-case letters.\r\n\r\nTo sum it up:\r\n\r\n    import java.util.Scanner;\r\n    import java.io.PrintWriter;\r\n    import java.io.IOException;\r\n    \r\n    \r\n    public class ProgrammingProject1 {\r\n        public static void main(String[] args) throws IOException\r\n        {    \r\n            Scanner scn = new Scanner(System.in);\r\n\r\n            PrintWriter out = new PrintWriter(&quot;grades.txt&quot;);\r\n    \r\n            for (int i = 0; i &lt; 5; i++) {\r\n    \r\n                System.out.println(&quot;First Name: &quot; );\r\n                String firstName = scn.next();\r\n    \r\n                System.out.println(&quot;Last Name: &quot; );\r\n                String lastName = scn.next();\r\n    \r\n                System.out.println(&quot;Final Score: &quot;);\r\n                int score = scn.nextInt();\r\n    \r\n                out.println(&quot;First Name: &quot; + firstName);\r\n                out.println(&quot;Last Name: &quot; + lastName);\r\n                out.println(&quot;Final Score: &quot; +  score);\r\n    \r\n            }\r\n            out.close();\r\n        }\r\n    }","title":"Saving Inputs to txt. file in Java","body":"<p>You never write to <code>out</code>. Here:</p>\n<pre><code>System.out.println(&quot;First Name: &quot; + first_name);\nSystem.out.println(&quot;Last Name: &quot; + last_name);\nSystem.out.println(&quot;Final Score: &quot; +  score);\n</code></pre>\n<p>you probably meant <code>out.println</code> instead of <code>System.out.println</code>.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#out\" rel=\"nofollow noreferrer\"><code>System.out</code></a> is a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html\" rel=\"nofollow noreferrer\"><code>PrintStream</code></a> that writes to standard output. <code>out</code>, on the other hand, is a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintWriter.html\" rel=\"nofollow noreferrer\"><code>PrintWriter</code></a> you declared and that writes to a file.</p>\n<p>Also, you probably want to open the file before the loop and only close it afterwards, otherwise each iteration will overwrite the previous one.</p>\n<p>Finally, a couple of asides:</p>\n<ol>\n<li>that's a weird way of looping 5 times. You could use a <code>for</code> instead.</li>\n<li>You should strive to respect java naming convention. Class names Start with an upper-case letter and use CamelCase, not snake_case. Same for variables, but they start with lower-case letters.</li>\n</ol>\n<p>To sum it up:</p>\n<pre><code>import java.util.Scanner;\nimport java.io.PrintWriter;\nimport java.io.IOException;\n\n\npublic class ProgrammingProject1 {\n    public static void main(String[] args) throws IOException\n    {    \n        Scanner scn = new Scanner(System.in);\n\n        PrintWriter out = new PrintWriter(&quot;grades.txt&quot;);\n\n        for (int i = 0; i &lt; 5; i++) {\n\n            System.out.println(&quot;First Name: &quot; );\n            String firstName = scn.next();\n\n            System.out.println(&quot;Last Name: &quot; );\n            String lastName = scn.next();\n\n            System.out.println(&quot;Final Score: &quot;);\n            int score = scn.nextInt();\n\n            out.println(&quot;First Name: &quot; + firstName);\n            out.println(&quot;Last Name: &quot; + lastName);\n            out.println(&quot;Final Score: &quot; +  score);\n\n        }\n        out.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25840634,"reputation":19,"user_id":19576227,"display_name":"Serdyna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73530615,"answer_count":1,"score":0,"last_activity_date":1661785189,"creation_date":1661783903,"question_id":73530497,"body_markdown":"I have been building program, where a. teacher is asked for information of 5. students and all the inputs should be saved after to a txt. file. Although my file is always created but is always empty...\r\nCould someone please help me find my mistake ?\r\n\r\n \r\n\r\n    import java.util.Scanner;\r\n    import java.io.PrintWriter;\r\n    import java.io.IOException;\r\n    \r\n    \r\n    public class programming_project_1 {\r\n    \tpublic static void main(String[] args) throws IOException\r\n    \t{    \r\n    \r\n    \r\n    \t\tint numbersOfLoops = 1;\r\n    \r\n    \t\tScanner scn = new Scanner(System.in);\r\n    \r\n    \t\twhile (true){\r\n    \t\t\tif (numbersOfLoops == 6){\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \r\n    \t\t\tSystem.out.println(&quot;First Name: &quot; );\r\n    \r\n    \t\t\tString first_name = scn.next();\r\n    \r\n    \t\t\tSystem.out.println(&quot;Last Name: &quot; );\r\n    \r\n    \t\t\tString last_name = scn.next();\r\n    \r\n    \t\t\tSystem.out.println(&quot;Final Score: &quot;);\r\n    \r\n    \t\t\tint score = scn.nextInt();\r\n    \r\n    \t\t\tnumbersOfLoops++ ;\r\n    \r\n    \t\t\tPrintWriter out = new PrintWriter(&quot;grades.txt&quot;);\r\n    \r\n    \t\t\tSystem.out.println(&quot;First Name: &quot; + first_name);\r\n    \t\t\tSystem.out.println(&quot;Last Name: &quot; + last_name);\r\n    \t\t\tSystem.out.println(&quot;Final Score: &quot; +  score);\r\n    \r\n    \t\t\tout.close();\r\n    \r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"Saving Inputs to txt. file in Java","body":"<p>I have been building program, where a. teacher is asked for information of 5. students and all the inputs should be saved after to a txt. file. Although my file is always created but is always empty...\nCould someone please help me find my mistake ?</p>\n<pre><code>import java.util.Scanner;\nimport java.io.PrintWriter;\nimport java.io.IOException;\n\n\npublic class programming_project_1 {\n    public static void main(String[] args) throws IOException\n    {    \n\n\n        int numbersOfLoops = 1;\n\n        Scanner scn = new Scanner(System.in);\n\n        while (true){\n            if (numbersOfLoops == 6){\n                break;\n            }\n\n            System.out.println(&quot;First Name: &quot; );\n\n            String first_name = scn.next();\n\n            System.out.println(&quot;Last Name: &quot; );\n\n            String last_name = scn.next();\n\n            System.out.println(&quot;Final Score: &quot;);\n\n            int score = scn.nextInt();\n\n            numbersOfLoops++ ;\n\n            PrintWriter out = new PrintWriter(&quot;grades.txt&quot;);\n\n            System.out.println(&quot;First Name: &quot; + first_name);\n            System.out.println(&quot;Last Name: &quot; + last_name);\n            System.out.println(&quot;Final Score: &quot; +  score);\n\n            out.close();\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","netbeans","graphics","paint"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1661784749,"post_id":73530538,"comment_id":129847924,"body_markdown":"Standard Cartesian coordinates are not used. Y zero is at the top and increases downwards. If you want standard coordinates, you have to do a  transform on the Y axis. Also, it&#39;s much better to do drawing in a dedicated ```JPanel``` . Override ```JPanel.paintComponent```","body":"Standard Cartesian coordinates are not used. Y zero is at the top and increases downwards. If you want standard coordinates, you have to do a  transform on the Y axis. Also, it&#39;s much better to do drawing in a dedicated <code>JPanel</code> . Override <code>JPanel.paintComponent</code>"}],"answers":[{"tags":[],"owner":{"account_id":26086726,"reputation":129,"user_id":19784153,"display_name":"ePortfel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661785181,"creation_date":1661785181,"answer_id":73530768,"question_id":73530538,"body_markdown":"It starts from (0,0) but it is covered by top bar of window frame.\r\nTo see this, put \r\n```\r\nthis.setUndecorated(true);\r\n```\r\nas the first line in constructor. It will show a window without top bar.","title":"JFrame Graphics2D.drawline() x-axis origin problem in Java","body":"<p>It starts from (0,0) but it is covered by top bar of window frame.\nTo see this, put</p>\n<pre><code>this.setUndecorated(true);\n</code></pre>\n<p>as the first line in constructor. It will show a window without top bar.</p>\n"}],"owner":{"account_id":18734871,"reputation":1,"user_id":13659446,"display_name":"ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661785181,"creation_date":1661784124,"question_id":73530538,"body_markdown":"I created a JFrame. And when I draw a line with x=0, y=0 starting point in the x and y axis with Graphics2D.drawline(), it does not start from the x=0 axis of the JFrame. What should I do? [enter image description here][1]\r\n\r\n    \r\n    import java.awt.BasicStroke;\r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import javax.swing.JFrame;\r\n    \r\n    \r\n    \r\n    public class MyGraphics extends JFrame{\r\n    \r\n    \r\n    MyGraphics(){\r\n       \r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setSize(500,500);\r\n        this.setVisible(true);\r\n        \r\n    }\r\n    public void paint(Graphics g){\r\n        \r\n        Graphics2D g2D = (Graphics2D)g;\r\n        \r\n        g2D.setPaint(Color.blue);\r\n        g2D.drawLine(0, 0, 500, 500);\r\n        g2D.setStroke(new BasicStroke(5));\r\n    }\r\n    }\r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5J8WG.png","title":"JFrame Graphics2D.drawline() x-axis origin problem in Java","body":"<p>I created a JFrame. And when I draw a line with x=0, y=0 starting point in the x and y axis with Graphics2D.drawline(), it does not start from the x=0 axis of the JFrame. What should I do? <a href=\"https://i.stack.imgur.com/5J8WG.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport javax.swing.JFrame;\n\n\n\npublic class MyGraphics extends JFrame{\n\n\nMyGraphics(){\n   \n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    this.setSize(500,500);\n    this.setVisible(true);\n    \n}\npublic void paint(Graphics g){\n    \n    Graphics2D g2D = (Graphics2D)g;\n    \n    g2D.setPaint(Color.blue);\n    g2D.drawLine(0, 0, 500, 500);\n    g2D.setStroke(new BasicStroke(5));\n}\n}\n</code></pre>\n"},{"tags":["java","object"],"comments":[{"owner":{"account_id":33515,"reputation":6921,"user_id":93910,"accept_rate":86,"display_name":"Sanjay Manohar"},"score":0,"creation_date":1284155040,"post_id":3688503,"comment_id":3886344,"body_markdown":"Just one thing: consider using `Object` as a placeholder for the dummy classname, because `Class` is the name of a class itself! It is rather uncommon to extend the class `Class`, especially anonymously!","body":"Just one thing: consider using <code>Object</code> as a placeholder for the dummy classname, because <code>Class</code> is the name of a class itself! It is rather uncommon to extend the class <code>Class</code>, especially anonymously!"}],"answers":[{"tags":[],"owner":{"account_id":12141,"reputation":11915,"user_id":23760,"accept_rate":90,"display_name":"ZeissS"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1319117277,"creation_date":1284154579,"answer_id":3688523,"question_id":3688503,"body_markdown":"This construct makes actually two things: 1) It declares an anonymous class which extends the class you use in the constructor and 2) creates an instance of this anonymous class. \r\n\r\nEdit: When using such a construct you can observe the anonymous class by looking at the generated `.class` files. There is the normal `MyClass.class` file and another one for each anonymous subclass: `MyClass$1.class` for the first and so on.","title":"new Object { } Construct","body":"<p>This construct makes actually two things: 1) It declares an anonymous class which extends the class you use in the constructor and 2) creates an instance of this anonymous class. </p>\n\n<p>Edit: When using such a construct you can observe the anonymous class by looking at the generated <code>.class</code> files. There is the normal <code>MyClass.class</code> file and another one for each anonymous subclass: <code>MyClass$1.class</code> for the first and so on.</p>\n"},{"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1284154648,"creation_date":1284154648,"answer_id":3688535,"question_id":3688503,"body_markdown":"Second construction creates an instance of anonymous class which is a subclass of `Class`.","title":"new Object { } Construct","body":"<p>Second construction creates an instance of anonymous class which is a subclass of <code>Class</code>.</p>\n"},{"tags":[],"owner":{"account_id":47115,"reputation":2503,"user_id":139417,"accept_rate":88,"display_name":"Carlos"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1284155082,"creation_date":1284155082,"answer_id":3688582,"question_id":3688503,"body_markdown":"As others have already said, it creates an instance of an anonymous class, subclassing `Class`. Here&#39;s an example how it is commonly used:\r\n\r\n    panel.addMouseListener(\r\n      new MouseAdapter () {\r\n        @Override\r\n        public void mouseEntered(MouseEvent e) {\r\n          System.out.println(e.toString());\r\n        }\r\n      }\r\n    );\r\n\r\nThe above code creates an instance of an anonymous class which extends MouseAdapter. In the anonymous class the method `mouseEntered` has been overridden to demonstrate that the anonymous class works basically as any other class. This is very convenient and common way to create (usually simple) listeners.","title":"new Object { } Construct","body":"<p>As others have already said, it creates an instance of an anonymous class, subclassing <code>Class</code>. Here's an example how it is commonly used:</p>\n\n<pre><code>panel.addMouseListener(\n  new MouseAdapter () {\n    @Override\n    public void mouseEntered(MouseEvent e) {\n      System.out.println(e.toString());\n    }\n  }\n);\n</code></pre>\n\n<p>The above code creates an instance of an anonymous class which extends MouseAdapter. In the anonymous class the method <code>mouseEntered</code> has been overridden to demonstrate that the anonymous class works basically as any other class. This is very convenient and common way to create (usually simple) listeners.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1661785107,"creation_date":1284155114,"answer_id":3688585,"question_id":3688503,"body_markdown":"You would use the second construct in the case that you want to make an anonymous class. if you have a method that takes a callback as an argument, you might want to specify the implementation of the callback inline as opposed to giving it a name and putting it in a separate file or declaring it elsewhere in the same file.\r\n\r\nThere&#39;s also a trick called [double brace initialization][1] where you can get around not having syntax for literal maps and lists by using anonymous classes, like this:\r\n\r\n    Map map = new HashMap() {{put(&quot;foo&quot;, 1); put(&quot;bar&quot;, 2);}};\r\n\r\nHere the nested braces create an instance initializer. The object bound to map is not a HashMap, its class is an anonymous class extending HashMap. (That means if you have a PMD rule about classes needing to declare serial uids then it will complain about this.)\r\n\r\nDouble-brace initialization is a fun trick to know but don&#39;t use it in real code. It&#39;s not safe to pass around the map created like this, because the inner object keeps a reference to the outer instance so if anything in the program holds onto a reference to the map it keeps the outer object from getting garbage-collected. There are also problems with serialization. \r\n\r\n\r\n  [1]: http://c2.com/cgi/wiki?DoubleBraceInitialization","title":"new Object { } Construct","body":"<p>You would use the second construct in the case that you want to make an anonymous class. if you have a method that takes a callback as an argument, you might want to specify the implementation of the callback inline as opposed to giving it a name and putting it in a separate file or declaring it elsewhere in the same file.</p>\n<p>There's also a trick called <a href=\"http://c2.com/cgi/wiki?DoubleBraceInitialization\" rel=\"nofollow noreferrer\">double brace initialization</a> where you can get around not having syntax for literal maps and lists by using anonymous classes, like this:</p>\n<pre><code>Map map = new HashMap() {{put(&quot;foo&quot;, 1); put(&quot;bar&quot;, 2);}};\n</code></pre>\n<p>Here the nested braces create an instance initializer. The object bound to map is not a HashMap, its class is an anonymous class extending HashMap. (That means if you have a PMD rule about classes needing to declare serial uids then it will complain about this.)</p>\n<p>Double-brace initialization is a fun trick to know but don't use it in real code. It's not safe to pass around the map created like this, because the inner object keeps a reference to the outer instance so if anything in the program holds onto a reference to the map it keeps the outer object from getting garbage-collected. There are also problems with serialization.</p>\n"},{"tags":[],"owner":{"account_id":14618717,"reputation":466,"user_id":10558088,"display_name":"ZDL-so"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556994627,"creation_date":1556992740,"answer_id":55985388,"question_id":3688503,"body_markdown":"If you want to new a object by a protect constructor from another package, you can use:\r\n\r\n    new Foo() {};\r\n\r\notherwise you will get an access error. It equals anonymous subclass inherited from Foo class.","title":"new Object { } Construct","body":"<p>If you want to new a object by a protect constructor from another package, you can use:</p>\n\n<pre><code>new Foo() {};\n</code></pre>\n\n<p>otherwise you will get an access error. It equals anonymous subclass inherited from Foo class.</p>\n"},{"tags":[],"owner":{"account_id":9814213,"reputation":829,"user_id":7271217,"display_name":"gprasadr8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557004650,"creation_date":1557004147,"answer_id":55986815,"question_id":3688503,"body_markdown":"From jdk8 onwards you may have seen different syntax seems like creating an objects while using lambda expressions.\r\n\r\n**NOTE:** Lambda expressions don&#39;t get translated into anonymous inner classes, they use [invoke dynamic][1] that was introduced in Java 7 to execute functional methods.\r\n\r\n**For Example:**\r\n\r\n```java\r\npublic class LambdaSample {\r\n\r\n\tpublic static void main(String[] args) {\r\n        //If implementation is only one statement then {} braces are optional\r\n        Runnable oneLineImplRunnable = ()-&gt;System.out.println(&quot;This is one line lambda expression&quot;);\r\n        //Multiple statements in the implementation then {} braces are mandatory\r\n\t\tComparator&lt;StudentTest&gt; stdComparator = (StudentTest s1,StudentTest s2)-&gt;{\r\n\t\t\tif(s1.getFirstName().equals(s2.getFirstName())) {\r\n\t\t\t\treturn s1.getLastName().compareTo(s2.getLastName());\r\n\t\t\t}else {\r\n\t\t\t\treturn s1.getFirstName().compareTo(s2.getFirstName());\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/vm/multiple-language-support.html","title":"new Object { } Construct","body":"<p>From jdk8 onwards you may have seen different syntax seems like creating an objects while using lambda expressions.</p>\n\n<p><strong>NOTE:</strong> Lambda expressions don't get translated into anonymous inner classes, they use <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/vm/multiple-language-support.html\" rel=\"nofollow noreferrer\">invoke dynamic</a> that was introduced in Java 7 to execute functional methods.</p>\n\n<p><strong>For Example:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class LambdaSample {\n\n    public static void main(String[] args) {\n        //If implementation is only one statement then {} braces are optional\n        Runnable oneLineImplRunnable = ()-&gt;System.out.println(\"This is one line lambda expression\");\n        //Multiple statements in the implementation then {} braces are mandatory\n        Comparator&lt;StudentTest&gt; stdComparator = (StudentTest s1,StudentTest s2)-&gt;{\n            if(s1.getFirstName().equals(s2.getFirstName())) {\n                return s1.getLastName().compareTo(s2.getLastName());\n            }else {\n                return s1.getFirstName().compareTo(s2.getFirstName());\n            }\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":43000,"reputation":788,"user_id":125496,"accept_rate":94,"display_name":"andrewheins"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41346,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":3688523,"answer_count":6,"score":29,"last_activity_date":1661785107,"creation_date":1284154387,"question_id":3688503,"body_markdown":"In Java, the standard way to create an object is using \r\n\r\n    MyClass name = new MyClass();\r\n\r\nI also often see the construct\r\n\r\n    new MyClass() { /*stuff goes in here*/ };\r\n\r\nI&#39;ve been looking online for a while and can&#39;t find a good explanation of what the second construct style does or how it does it.\r\n\r\nCan someone please explain how and why you would use the second construct?","title":"new Object { } Construct","body":"<p>In Java, the standard way to create an object is using </p>\n\n<pre><code>MyClass name = new MyClass();\n</code></pre>\n\n<p>I also often see the construct</p>\n\n<pre><code>new MyClass() { /*stuff goes in here*/ };\n</code></pre>\n\n<p>I've been looking online for a while and can't find a good explanation of what the second construct style does or how it does it.</p>\n\n<p>Can someone please explain how and why you would use the second construct?</p>\n"},{"tags":["java","maven-shade-plugin"],"answers":[{"tags":[],"owner":{"account_id":50828,"reputation":4740,"user_id":151682,"accept_rate":92,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1523945076,"creation_date":1523945076,"answer_id":49870949,"question_id":49870570,"body_markdown":"Have your checked whether the output jar file is the shaded one?\r\n\r\nThe Shade plugin is probably *replacing* the original file here, meaning overwriting it with the shaded version.\r\n\r\nIf you wish to get both jar files (shaded and unshaded) at the end, you probably need to set the `shadedArtifactAttached` property to `true`:\r\n\r\n&gt; Defines whether the shaded artifact should be attached as classifier to the original artifact. If false, the shaded jar will be the main artifact of the project\r\n\r\nSee [Maven Shade Mojo Documentation.][1]\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html","title":"NO shaded jar found in target after maven shade plugin packages the project","body":"<p>Have your checked whether the output jar file is the shaded one?</p>\n\n<p>The Shade plugin is probably <em>replacing</em> the original file here, meaning overwriting it with the shaded version.</p>\n\n<p>If you wish to get both jar files (shaded and unshaded) at the end, you probably need to set the <code>shadedArtifactAttached</code> property to <code>true</code>:</p>\n\n<blockquote>\n  <p>Defines whether the shaded artifact should be attached as classifier to the original artifact. If false, the shaded jar will be the main artifact of the project</p>\n</blockquote>\n\n<p>See <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html\" rel=\"nofollow noreferrer\">Maven Shade Mojo Documentation.</a></p>\n"}],"owner":{"account_id":13242063,"reputation":333,"user_id":9562227,"display_name":"Roma Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2322,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661785100,"creation_date":1523943282,"question_id":49870570,"body_markdown":"On running `mvn package:shade shade`, the log has entry which says:**Replacing XYZ.jar with XYZ-shaded.jar** \r\nbut in my target directory, I cannot find shaded jar\r\n[![enter image description here][1]][1]\r\n\r\nThis is my pom regarding maven shade\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mRZsI.png\r\n  [2]: https://i.stack.imgur.com/9iSBy.png\r\n\r\n\r\n\r\nAfter trying , this pom helped me\r\n```xml\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;filters&gt;\r\n\t\t\t\t&lt;filter&gt;\r\n\t\t\t\t\t&lt;artifact&gt;*:*&lt;/artifact&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/filter&gt;\r\n\t\t\t&lt;/filters&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n\t\t\t\t\t&lt;shadedClassifierName&gt;shaded&lt;/shadedClassifierName&gt;\r\n\t\t\t\t\t&lt;transformers&gt;\r\n\t\t\t\t\t\t&lt;transformer\r\n\t\t\t\t\t\t\timplementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;resource&gt;reference.conf&lt;/resource&gt;\r\n\t\t\t\t\t\t&lt;/transformer&gt;\r\n\t\t\t\t\t\t&lt;transformer\r\n\t\t\t\t\t\t\timplementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;manifestEntries&gt;\r\n\t\t\t\t\t\t\t\t&lt;Main-Class&gt;akkaexample.Akkmain&lt;/Main-Class&gt;\r\n\t\t\t\t\t\t\t&lt;/manifestEntries&gt;\r\n\t\t\t\t\t\t&lt;/transformer&gt;\r\n\t\t\t\t\t\t&lt;transformer\r\n\t\t\t\t\t\t\timplementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;akkaexample.Akkmain&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/transformer&gt;\r\n\t\t\t\t\t&lt;/transformers&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n```","title":"NO shaded jar found in target after maven shade plugin packages the project","body":"<p>On running <code>mvn package:shade shade</code>, the log has entry which says:<strong>Replacing XYZ.jar with XYZ-shaded.jar</strong>\nbut in my target directory, I cannot find shaded jar\n<a href=\"https://i.stack.imgur.com/mRZsI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mRZsI.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my pom regarding maven shade</p>\n<p><a href=\"https://i.stack.imgur.com/9iSBy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9iSBy.png\" alt=\"enter image description here\" /></a></p>\n<p>After trying , this pom helped me</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;filters&gt;\n                &lt;filter&gt;\n                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/filter&gt;\n            &lt;/filters&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;shade&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n                    &lt;shadedClassifierName&gt;shaded&lt;/shadedClassifierName&gt;\n                    &lt;transformers&gt;\n                        &lt;transformer\n                            implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\n                            &lt;resource&gt;reference.conf&lt;/resource&gt;\n                        &lt;/transformer&gt;\n                        &lt;transformer\n                            implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                            &lt;manifestEntries&gt;\n                                &lt;Main-Class&gt;akkaexample.Akkmain&lt;/Main-Class&gt;\n                            &lt;/manifestEntries&gt;\n                        &lt;/transformer&gt;\n                        &lt;transformer\n                            implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                            &lt;mainClass&gt;akkaexample.Akkmain&lt;/mainClass&gt;\n                        &lt;/transformer&gt;\n                    &lt;/transformers&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","websocket","quarkus"],"comments":[{"owner":{"account_id":1948345,"reputation":59,"user_id":1753001,"display_name":"OBY Trance"},"score":0,"creation_date":1661972160,"post_id":73530754,"comment_id":129901111,"body_markdown":"Are you behind a reverse proxy (ie nginx)?\nHave you tried setting the endpoint to wss://?","body":"Are you behind a reverse proxy (ie nginx)? Have you tried setting the endpoint to wss://?"},{"owner":{"account_id":26189710,"reputation":23,"user_id":19871743,"display_name":"vizete"},"score":0,"creation_date":1666264285,"post_id":73530754,"comment_id":130897539,"body_markdown":"I tried it with wss:// and failed at first. Then I tried a lots of different things found over the web and suddenly it worked. But I had no idea what made the difference. So I reverted the changes step by step and it is still working after all. Very strange, so I could not figure out what my initial problem was. After all it seems that using wss:// was all do to. Very strange.","body":"I tried it with wss:// and failed at first. Then I tried a lots of different things found over the web and suddenly it worked. But I had no idea what made the difference. So I reverted the changes step by step and it is still working after all. Very strange, so I could not figure out what my initial problem was. After all it seems that using wss:// was all do to. Very strange."},{"owner":{"account_id":924763,"reputation":1508,"user_id":955755,"accept_rate":71,"display_name":"Murrah"},"score":0,"creation_date":1673842647,"post_id":73530754,"comment_id":132580169,"body_markdown":"Did you find out how to do this? I have a non-secure Quarkus WS endpoint working but can find no example of securing it eg using Keycloak.","body":"Did you find out how to do this? I have a non-secure Quarkus WS endpoint working but can find no example of securing it eg using Keycloak."},{"owner":{"account_id":26189710,"reputation":23,"user_id":19871743,"display_name":"vizete"},"score":0,"creation_date":1679686900,"post_id":73530754,"comment_id":133771841,"body_markdown":"@Murrah: My intent was never to secure the websocket connection via a kind of token or user/password. All I wanted to do was to use wss over ws and this finally worked as described in one of my comments before.","body":"@Murrah: My intent was never to secure the websocket connection via a kind of token or user/password. All I wanted to do was to use wss over ws and this finally worked as described in one of my comments before."}],"owner":{"account_id":26189710,"reputation":23,"user_id":19871743,"display_name":"vizete"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661785088,"creation_date":1661785088,"question_id":73530754,"body_markdown":"I build a working websocket server with quarkus. Now, I have to switch from insecure websocket connection to websocket over TLS. But I have no idea how to configure this and can&#39;t find this topic within the quarkus docs or an appropriate answer in the questions here.\r\n\r\nI&#39;m using Quarkus 2.7.1-Final and imported the websocket-lib via maven:\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;quarkus-websockets&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn my dev environment everything works like intended. But now I have to switch to the cloud environment that uses https. This ends up with the following error on client side (angular):\r\n\r\n&gt; Mixed Content: The page at &#39;https://subdomainA-host/params...&#39; was loaded over HTTPS, but attempted to connect to the insecure WebSocket endpoint &#39;ws://subdomainB-host/params...&#39;. This request has been blocked; this endpoint must be available over WSS.\r\n\r\nI implemented the server using the annotations:\r\n\r\n@ServerEndpoint(value = &quot;/ws/...&quot;), @OnOpen, @OnClose, @OnError, @OnMessage\r\n\r\nThe only websocket related configuration within the application.properties is &#39;quarkus.websocket.max-frame-size&#39;. But I can&#39;t find similar keys to secure the websocket connection.\r\n\r\nDoes anybody has some hints, snippets or documentation?\r\n\r\nThanks!\r\n","title":"secure websockets with quarkus","body":"<p>I build a working websocket server with quarkus. Now, I have to switch from insecure websocket connection to websocket over TLS. But I have no idea how to configure this and can't find this topic within the quarkus docs or an appropriate answer in the questions here.</p>\n<p>I'm using Quarkus 2.7.1-Final and imported the websocket-lib via maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-websockets&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In my dev environment everything works like intended. But now I have to switch to the cloud environment that uses https. This ends up with the following error on client side (angular):</p>\n<blockquote>\n<p>Mixed Content: The page at 'https://subdomainA-host/params...' was loaded over HTTPS, but attempted to connect to the insecure WebSocket endpoint 'ws://subdomainB-host/params...'. This request has been blocked; this endpoint must be available over WSS.</p>\n</blockquote>\n<p>I implemented the server using the annotations:</p>\n<p>@ServerEndpoint(value = &quot;/ws/...&quot;), @OnOpen, @OnClose, @OnError, @OnMessage</p>\n<p>The only websocket related configuration within the application.properties is 'quarkus.websocket.max-frame-size'. But I can't find similar keys to secure the websocket connection.</p>\n<p>Does anybody has some hints, snippets or documentation?</p>\n<p>Thanks!</p>\n"},{"tags":["java","ssl","keystore","java-security"],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661784982,"creation_date":1661784982,"answer_id":73530732,"question_id":73530396,"body_markdown":"The [system properties can define a default][1] for the entire Java process. If you [get the default `SSLContext`,][2] the system properties are used to obtain key material. These setting can be ignored by creating your own `KeyStore` instances in code and initializing a new instance of `SSLContext`; this can be desirable if, for example, you have to connect to a server with a self-signed certificate.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-7D9F43B8-AABF-4C5B-93E6-3AFB18B66150\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/SSLContext.html#getDefault--","title":"What is the purpose of Java key store parameter (javax.net.ssl.keyStore), How to use it?","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-7D9F43B8-AABF-4C5B-93E6-3AFB18B66150\" rel=\"nofollow noreferrer\">system properties can define a default</a> for the entire Java process. If you <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/net/ssl/SSLContext.html#getDefault--\" rel=\"nofollow noreferrer\">get the default <code>SSLContext</code>,</a> the system properties are used to obtain key material. These setting can be ignored by creating your own <code>KeyStore</code> instances in code and initializing a new instance of <code>SSLContext</code>; this can be desirable if, for example, you have to connect to a server with a self-signed certificate.</p>\n"}],"owner":{"account_id":16447551,"reputation":105,"user_id":11881870,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":834,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73530732,"answer_count":1,"score":-1,"last_activity_date":1661784982,"creation_date":1661783485,"question_id":73530396,"body_markdown":"In order to documentations and samples to use key store in JAVA, we need to specify keystore file and password like below;\r\n\r\n    KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    keyStore.load(new FileInputStream(&quot;/path/cert.p12&quot;), properties.getTrustStorePassword().toCharArray());\r\n\r\nAnd there is also one parameter to specify keystore and password: \r\n\r\n`-Djavax.net.ssl.keyStore=/path/cert.p12; -Djavax.net.ssl.keyStorePassword=123456`\r\n\r\nif we have to specify keystore file path and password while loading it, what is the point of that system parameter?\r\n\r\nHow can we use the keystore that specified in system parameter?\r\n\r\nIam able to use it without specifying this system parameter,So what is the effect of it?\r\n\r\nWhat is the correct usage of this parameter?\r\n","title":"What is the purpose of Java key store parameter (javax.net.ssl.keyStore), How to use it?","body":"<p>In order to documentations and samples to use key store in JAVA, we need to specify keystore file and password like below;</p>\n<pre><code>KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\nkeyStore.load(new FileInputStream(&quot;/path/cert.p12&quot;), properties.getTrustStorePassword().toCharArray());\n</code></pre>\n<p>And there is also one parameter to specify keystore and password:</p>\n<p><code>-Djavax.net.ssl.keyStore=/path/cert.p12; -Djavax.net.ssl.keyStorePassword=123456</code></p>\n<p>if we have to specify keystore file path and password while loading it, what is the point of that system parameter?</p>\n<p>How can we use the keystore that specified in system parameter?</p>\n<p>Iam able to use it without specifying this system parameter,So what is the effect of it?</p>\n<p>What is the correct usage of this parameter?</p>\n"},{"tags":["java","intellij-idea","keyboard-shortcuts","intellij-idea-2018"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1661763731,"post_id":73526279,"comment_id":129840580,"body_markdown":"I have no concrete information, but a 4 year old IDEA version is unlikely to get fixes for a half-year old Mac OS version.","body":"I have no concrete information, but a 4 year old IDEA version is unlikely to get fixes for a half-year old Mac OS version."},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1661768531,"post_id":73526279,"comment_id":129842109,"body_markdown":"Are they detected in &quot;Preferences - Keymap - Find Action by shortcut&quot;?","body":"Are they detected in &quot;Preferences - Keymap - Find Action by shortcut&quot;?"}],"owner":{"account_id":26186820,"reputation":1,"user_id":19869247,"display_name":"Chandhana S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661784866,"creation_date":1661763022,"question_id":73526279,"body_markdown":"Keyboard shorts like &lt;kbd&gt;cmd&lt;/kbd&gt;+&lt;kbd&gt;C&lt;/kbd&gt; and &lt;kbd&gt;cmd&lt;/kbd&gt;+&lt;kbd&gt;F&lt;/kbd&gt; are not working on IntelliJ IDEA 2018.3 version in macOS Monterey. &lt;kbd&gt;cmd&lt;/kbd&gt;+&lt;kbd&gt;V&lt;/kbd&gt; and &lt;kbd&gt;cmd&lt;/kbd&gt;+&lt;kbd&gt;Z&lt;/kbd&gt; are working. Kindly help.\r\n","title":"Why is the keyboard shorts like cmd+C and cmd+F are not working on IntelliJ IDEA 2018.3 version in macOS Monterey?","body":"<p>Keyboard shorts like <kbd>cmd</kbd>+<kbd>C</kbd> and <kbd>cmd</kbd>+<kbd>F</kbd> are not working on IntelliJ IDEA 2018.3 version in macOS Monterey. <kbd>cmd</kbd>+<kbd>V</kbd> and <kbd>cmd</kbd>+<kbd>Z</kbd> are working. Kindly help.</p>\n"},{"tags":["java","spring","ssl","spring-security","x509"],"answers":[{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1395080491,"creation_date":1323879750,"answer_id":8507905,"question_id":8506661,"body_markdown":"I&#39;m not sure about the specifics of Spring-Security, but if it&#39;s based on the trustmanagers of the JRE (if if it&#39;s the Oracle/Sun JRE), you can activate CRL checks by setting these system properties to `true`: `com.sun.net.ssl.checkRevocation` and `com.sun.security.enableCRLDP`, and setting `Security.setProperty(&quot;ocsp.enable&quot;, &quot;true&quot;)` (thanks to @WillSargent for pointing out it&#39;s a `Security` property, not a system one).\r\n\r\nMore details here:\r\n\r\n  * http://docs.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#CERTPATH\r\n  * http://docs.oracle.com/javase/6/docs/technotes/guides/security/certpath/CertPathProgGuide.html#AppC\r\n  * http://blogs.oracle.com/xuelei/entry/enable_ocsp_checking","title":"Check X509 certificate revocation status in Spring-Security before authenticating","body":"<p>I'm not sure about the specifics of Spring-Security, but if it's based on the trustmanagers of the JRE (if if it's the Oracle/Sun JRE), you can activate CRL checks by setting these system properties to <code>true</code>: <code>com.sun.net.ssl.checkRevocation</code> and <code>com.sun.security.enableCRLDP</code>, and setting <code>Security.setProperty(\"ocsp.enable\", \"true\")</code> (thanks to @WillSargent for pointing out it's a <code>Security</code> property, not a system one).</p>\n\n<p>More details here:</p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#CERTPATH\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/technotes/guides/security/jsse/JSSERefGuide.html#CERTPATH</a></li>\n<li><a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/security/certpath/CertPathProgGuide.html#AppC\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/technotes/guides/security/certpath/CertPathProgGuide.html#AppC</a></li>\n<li><a href=\"http://blogs.oracle.com/xuelei/entry/enable_ocsp_checking\" rel=\"nofollow\">http://blogs.oracle.com/xuelei/entry/enable_ocsp_checking</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":87204,"reputation":22463,"user_id":241990,"accept_rate":100,"display_name":"Shaun the Sheep"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1661784703,"creation_date":1323974694,"answer_id":8525028,"question_id":8506661,"body_markdown":"The SSL handshake is performed by the servlet container, rather than Spring Security, so any CRL checking should probably occur at that point. Spring Security treats it as a &quot;pre-authentication&quot; scenario.\r\n\r\nSpring Security just reads the (already SSL-authenticated) certificate and allows you to link it to a local user account.","title":"Check X509 certificate revocation status in Spring-Security before authenticating","body":"<p>The SSL handshake is performed by the servlet container, rather than Spring Security, so any CRL checking should probably occur at that point. Spring Security treats it as a &quot;pre-authentication&quot; scenario.</p>\n<p>Spring Security just reads the (already SSL-authenticated) certificate and allows you to link it to a local user account.</p>\n"}],"owner":{"account_id":212997,"reputation":133,"user_id":466159,"accept_rate":17,"display_name":"Alan L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9098,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1661784703,"creation_date":1323874970,"question_id":8506661,"body_markdown":"Is it possible to check the revocation status of a x509 client certificate through the CRL in spring-security before authenticating it? I&#39;ve checked documentations (http://static.springsource.org/spring-security/site/docs/3.0.x/reference/x509.html) but it doesn&#39;t mention anything about CRL. \r\n\r\nImplementing UserService only gives you the username and not the X509Certificate. Any help would be appreciated!\r\n\r\nThanks!","title":"Check X509 certificate revocation status in Spring-Security before authenticating","body":"<p>Is it possible to check the revocation status of a x509 client certificate through the CRL in spring-security before authenticating it? I've checked documentations (http://static.springsource.org/spring-security/site/docs/3.0.x/reference/x509.html) but it doesn't mention anything about CRL. </p>\n\n<p>Implementing UserService only gives you the username and not the X509Certificate. Any help would be appreciated!</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","oracle","jdbc","struct","clob"],"answers":[{"tags":[],"owner":{"account_id":20632096,"reputation":1,"user_id":15146702,"display_name":"l0wlik34G6"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661784674,"creation_date":1661784674,"answer_id":73530673,"question_id":58227825,"body_markdown":"I know this is very old, but as I just came by:\r\n\r\nI solved this issue by simply skipping the descriptors and using:\r\n\r\n    cst.setArray(i, ((OracleConnection) connection).createOracleArray(&quot;TY_TABLE_DATA&quot;, shiftArrayOneUp(new Object[]{d.getDatId(),\r\n                                   d.getDatCode(),\r\n                                   d.getDatText()}));\r\n\r\nshiftArrayOneUp is just adding one empty value at the beginning (oracle array starts at 1, not at 0)\r\n\r\n    private Object[] shiftArrayOneUp(Object[] values) {\r\n      Object[] result = new Object[values.length + 1];\r\n      System.arraycopy(values, 0, result, 1, values.length);\r\n      return result;\r\n    }\r\n\r\n\r\n----------\r\n\r\nAs I had to adjust my code accordingly, I did not test what I was writing here.\\\r\nMaybe some small adjustments need to be done","title":"Oracle STRUCT use OBJECT TYPE with CLOB attribute","body":"<p>I know this is very old, but as I just came by:</p>\n<p>I solved this issue by simply skipping the descriptors and using:</p>\n<pre><code>cst.setArray(i, ((OracleConnection) connection).createOracleArray(&quot;TY_TABLE_DATA&quot;, shiftArrayOneUp(new Object[]{d.getDatId(),\n                               d.getDatCode(),\n                               d.getDatText()}));\n</code></pre>\n<p>shiftArrayOneUp is just adding one empty value at the beginning (oracle array starts at 1, not at 0)</p>\n<pre><code>private Object[] shiftArrayOneUp(Object[] values) {\n  Object[] result = new Object[values.length + 1];\n  System.arraycopy(values, 0, result, 1, values.length);\n  return result;\n}\n</code></pre>\n<hr />\n<p>As I had to adjust my code accordingly, I did not test what I was writing here.<br />\nMaybe some small adjustments need to be done</p>\n"}],"owner":{"account_id":11875387,"reputation":145,"user_id":8690573,"display_name":"Dagon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661784674,"creation_date":1570143002,"question_id":58227825,"body_markdown":"I am trying to use STRUCT for the insertion of massive data in my table DATA_TABLE, but generate error (java.sql.SQLException: Fail to convert to internal representation) with data type field CLOB and I can&#39;t find a solution to my problem, my code:\r\n\r\nMy table\r\n```\r\nCREATE TABLE DATA_TABLE (DAT_ID     NUMBER,\r\n                         DAT_CODE   VARCHAR2(10),\r\n                         DAT_TEXT   CLOB); \r\n```\r\n\r\nCreate type object\r\n```\r\nCREATE OR REPLACE TYPE TY_OBJ_DATA AS OBJECT (DAT_ID    NUMBER,\r\n                                              DAT_CODE  VARCHAR2(10),\r\n                                              DAT_TEXT  CLOB); \r\n```\r\ncreate type table from type object\r\n```\r\nCREATE OR REPLACE TYPE TY_TABLE_DATA AS TABLE OF SCHEMA.TY_OBJ_DATA;\r\n\r\n```\r\n\r\nMy simplified java method \r\n```\r\npublic static void bulkData(List&lt;DataTable&gt; listDataInfo) throws Exception {\r\n  DataSource ds = (DataSource) getEntityManager().getEntityManagerFactory().getProperties().get(&quot;javax.persistence.jtaDataSource&quot;);\r\n  OracleConnection connection = ds.getConnection().unwrap(OracleConnection.class);\r\n  try{       \r\n      StructDescriptor typeTableObject = StructDescriptor.createDescriptor(&quot;SCHEMA.TY_OBJ_DATA&quot;, conect);\r\n      STRUCT[] structData = new STRUCT[DataTable.size()];\r\n      int counter= 0;\r\n      for (DataTable d : listDataInfo) {\r\n           Clob clob = connection.createClob();\r\n           STRUCT m = new STRUCT(typeTableObject, connection,\r\n                      new Object[]{d.getDatId(),\r\n                                   d.getDatCode,\r\n                                   clob.setString(1, d.getDatText)});\r\n                structData [counter++] = m;\r\n           }\r\n           ArrayDescriptor tyTable = ArrayDescriptor.createDescriptor(&quot;SCHEMA.TY_TABLE_DATA&quot;, connection);\r\n           ARRAY array = new ARRAY(tyTable, connection, structData);\r\n           String sqlQuery = &quot;{ CALL PACKAGE_BULK.PL_BULK_DATA }&quot;;\r\n           CallableStatement cst = conect.prepareCall(sqlQuery);\r\n           cst.setArray(1, array );\r\n           cst.execute();\r\n     } catch (Exception e) {\r\n          throw new Exception(e);\r\n     } finally {\r\n       try {\r\n            connection.close();\r\n       } catch (SQLException e) {\r\n           throw new Exception(e);\r\n       }\r\n     }\r\n}\r\n```\r\nI omit the package code, because it is working correctly and is not my main problem. i Use ojdbc6 version 11.2.0, java 8 and Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit.\r\n\r\nIs it possible to use STRUCT with fields of type CLOB? I am doing something wrong? my DatText field when it is remapped is of the String type and that was the best conversion that I managed to do from String to a clob but I still have problems, any idea how I can solve this? Thank you.","title":"Oracle STRUCT use OBJECT TYPE with CLOB attribute","body":"<p>I am trying to use STRUCT for the insertion of massive data in my table DATA_TABLE, but generate error (java.sql.SQLException: Fail to convert to internal representation) with data type field CLOB and I can't find a solution to my problem, my code:</p>\n\n<p>My table</p>\n\n<pre><code>CREATE TABLE DATA_TABLE (DAT_ID     NUMBER,\n                         DAT_CODE   VARCHAR2(10),\n                         DAT_TEXT   CLOB); \n</code></pre>\n\n<p>Create type object</p>\n\n<pre><code>CREATE OR REPLACE TYPE TY_OBJ_DATA AS OBJECT (DAT_ID    NUMBER,\n                                              DAT_CODE  VARCHAR2(10),\n                                              DAT_TEXT  CLOB); \n</code></pre>\n\n<p>create type table from type object</p>\n\n<pre><code>CREATE OR REPLACE TYPE TY_TABLE_DATA AS TABLE OF SCHEMA.TY_OBJ_DATA;\n\n</code></pre>\n\n<p>My simplified java method </p>\n\n<pre><code>public static void bulkData(List&lt;DataTable&gt; listDataInfo) throws Exception {\n  DataSource ds = (DataSource) getEntityManager().getEntityManagerFactory().getProperties().get(\"javax.persistence.jtaDataSource\");\n  OracleConnection connection = ds.getConnection().unwrap(OracleConnection.class);\n  try{       \n      StructDescriptor typeTableObject = StructDescriptor.createDescriptor(\"SCHEMA.TY_OBJ_DATA\", conect);\n      STRUCT[] structData = new STRUCT[DataTable.size()];\n      int counter= 0;\n      for (DataTable d : listDataInfo) {\n           Clob clob = connection.createClob();\n           STRUCT m = new STRUCT(typeTableObject, connection,\n                      new Object[]{d.getDatId(),\n                                   d.getDatCode,\n                                   clob.setString(1, d.getDatText)});\n                structData [counter++] = m;\n           }\n           ArrayDescriptor tyTable = ArrayDescriptor.createDescriptor(\"SCHEMA.TY_TABLE_DATA\", connection);\n           ARRAY array = new ARRAY(tyTable, connection, structData);\n           String sqlQuery = \"{ CALL PACKAGE_BULK.PL_BULK_DATA }\";\n           CallableStatement cst = conect.prepareCall(sqlQuery);\n           cst.setArray(1, array );\n           cst.execute();\n     } catch (Exception e) {\n          throw new Exception(e);\n     } finally {\n       try {\n            connection.close();\n       } catch (SQLException e) {\n           throw new Exception(e);\n       }\n     }\n}\n</code></pre>\n\n<p>I omit the package code, because it is working correctly and is not my main problem. i Use ojdbc6 version 11.2.0, java 8 and Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit.</p>\n\n<p>Is it possible to use STRUCT with fields of type CLOB? I am doing something wrong? my DatText field when it is remapped is of the String type and that was the best conversion that I managed to do from String to a clob but I still have problems, any idea how I can solve this? Thank you.</p>\n"},{"tags":["java","ssl","apache-axis"],"answers":[{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1308929491,"creation_date":1308912141,"answer_id":6466672,"question_id":6465907,"body_markdown":"You may be interested in [this answer][1] to a similar question. In particular, Axis 2 seems to be using Apache HttpClient 3.x, according to [this document][2]:\r\n\r\n&gt; If you want to perform SSL client\r\n&gt; authentication (2-way SSL), you may\r\n&gt; use the Protocol.registerProtocol\r\n&gt; feature of HttpClient. You can\r\n&gt; overwrite the &quot;https&quot; protocol, or use\r\n&gt; a different protocol for your SSL\r\n&gt; client authentication communications\r\n&gt; if you don&#39;t want to mess with regular\r\n&gt; https. Find more information at\r\n&gt; http://jakarta.apache.org/commons/httpclient/sslguide.html\r\n\r\n(You can build your SSLContext from your existing keystore, and configure HttpClient 3.1 using [this socket factory][3].)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3712366/choosing-ssl-client-certificate-in-java/3713147#3713147\r\n  [2]: http://axis.apache.org/axis2/java/core/docs/http-transport.html#httpsupport\r\n  [3]: http://code.google.com/p/jsslutils/wiki/ApacheHttpClientUsage","title":"Creating SSL client with Axis2/Java","body":"<p>You may be interested in <a href=\"https://stackoverflow.com/questions/3712366/choosing-ssl-client-certificate-in-java/3713147#3713147\">this answer</a> to a similar question. In particular, Axis 2 seems to be using Apache HttpClient 3.x, according to <a href=\"http://axis.apache.org/axis2/java/core/docs/http-transport.html#httpsupport\" rel=\"nofollow noreferrer\">this document</a>:</p>\n\n<blockquote>\n  <p>If you want to perform SSL client\n  authentication (2-way SSL), you may\n  use the Protocol.registerProtocol\n  feature of HttpClient. You can\n  overwrite the \"https\" protocol, or use\n  a different protocol for your SSL\n  client authentication communications\n  if you don't want to mess with regular\n  https. Find more information at\n  <a href=\"http://jakarta.apache.org/commons/httpclient/sslguide.html\" rel=\"nofollow noreferrer\">http://jakarta.apache.org/commons/httpclient/sslguide.html</a></p>\n</blockquote>\n\n<p>(You can build your SSLContext from your existing keystore, and configure HttpClient 3.1 using <a href=\"http://code.google.com/p/jsslutils/wiki/ApacheHttpClientUsage\" rel=\"nofollow noreferrer\">this socket factory</a>.)</p>\n"},{"tags":[],"owner":{"account_id":419170,"reputation":2603,"user_id":796181,"accept_rate":75,"display_name":"helios"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1308924989,"creation_date":1308924989,"answer_id":6469073,"question_id":6465907,"body_markdown":"I initialized [EasySSLProtocolSocketFactory][1] and Protocol instances for different endpoints and register the protocol with unique key like this:\r\n\r\n\t/**\r\n\t * This method does the following:\r\n\t * 1. Creates a new and unique protocol for each SSL URL that is secured by client certificate\r\n\t * 2. Bind keyStore related information to this protocol\r\n\t * 3. Registers it with HTTP Protocol object \r\n\t * 4. Stores the local reference for this custom protocol for use during furture collect calls\r\n\t * \r\n\t *  @throws Exception\r\n\t */\r\n\tpublic void registerProtocolCertificate() throws Exception {\r\n\t\tEasySSLProtocolSocketFactory easySSLPSFactory = new EasySSLProtocolSocketFactory();\r\n\t\teasySSLPSFactory.setKeyMaterial(createKeyMaterial());\r\n\t\tmyProtocolPrefix = (HTTPS_PROTOCOL + uniqueCounter.incrementAndGet());\r\n\t\tProtocol httpsProtocol = new Protocol(myProtocolPrefix,(ProtocolSocketFactory) easySSLPSFactory, port);\r\n\t\tProtocol.registerProtocol(myProtocolPrefix, httpsProtocol);\r\n\t\tlog.trace(&quot;Protocol [ &quot;+myProtocolPrefix+&quot; ] registered for the first time&quot;);\r\n\t}\r\n\r\n\t/**\r\n\t * Load keystore for CLIENT-CERT protected endpoints\r\n\t */\r\n\tprivate KeyMaterial createKeyMaterial() throws GeneralSecurityException, Exception\t{\r\n\t\tKeyMaterial km = null;\r\n\t\tchar[] password = keyStorePassphrase.toCharArray();\r\n\t\tFile f = new File(keyStoreLocation);\r\n\t\tif (f.exists()) {\r\n\t\t\ttry {\r\n\t\t\t\tkm = new KeyMaterial(keyStoreLocation, password);\r\n\t\t\t\tlog.trace(&quot;Keystore location is: &quot; + keyStoreLocation + &quot;&quot;);\r\n\t\t\t} catch (GeneralSecurityException gse) {\r\n\t\t\t\tif (logErrors){\r\n\t\t\t\t\tlog.error(&quot;Exception occured while loading keystore from the following location: &quot;+keyStoreLocation, gse);\r\n\t\t\t\t\tthrow gse;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlog.error(&quot;Unable to load Keystore from the following location: &quot; + keyStoreLocation );\r\n\t\t\tthrow new CollectorInitException(&quot;Unable to load Keystore from the following location: &quot; + keyStoreLocation);\r\n\t\t}\r\n\t\treturn km;\r\n\t}\t\r\n\r\n\r\nWhen I have to invoke the web service, I do this (which basically replace &quot;https&quot; in the URL with https1, or https2 or something else depending on the Protocol you initialized for that particular endpoint):\r\n\r\n    httpClient.getHostConfiguration().setHost(host, port,Protocol.getProtocol(myProtocolPrefix));\r\n    initializeHttpMethod(this.url.toString().replace(HTTPS_PROTOCOL, myProtocolPrefix));\r\n\r\n\r\nIt works like a charm!\r\n\r\n\r\n  [1]: http://juliusdavies.ca/commons-ssl/javadocs/org/apache/commons/httpclient/contrib/ssl/EasySSLProtocolSocketFactory.html","title":"Creating SSL client with Axis2/Java","body":"<p>I initialized <a href=\"http://juliusdavies.ca/commons-ssl/javadocs/org/apache/commons/httpclient/contrib/ssl/EasySSLProtocolSocketFactory.html\" rel=\"nofollow\">EasySSLProtocolSocketFactory</a> and Protocol instances for different endpoints and register the protocol with unique key like this:</p>\n\n<pre><code>/**\n * This method does the following:\n * 1. Creates a new and unique protocol for each SSL URL that is secured by client certificate\n * 2. Bind keyStore related information to this protocol\n * 3. Registers it with HTTP Protocol object \n * 4. Stores the local reference for this custom protocol for use during furture collect calls\n * \n *  @throws Exception\n */\npublic void registerProtocolCertificate() throws Exception {\n    EasySSLProtocolSocketFactory easySSLPSFactory = new EasySSLProtocolSocketFactory();\n    easySSLPSFactory.setKeyMaterial(createKeyMaterial());\n    myProtocolPrefix = (HTTPS_PROTOCOL + uniqueCounter.incrementAndGet());\n    Protocol httpsProtocol = new Protocol(myProtocolPrefix,(ProtocolSocketFactory) easySSLPSFactory, port);\n    Protocol.registerProtocol(myProtocolPrefix, httpsProtocol);\n    log.trace(\"Protocol [ \"+myProtocolPrefix+\" ] registered for the first time\");\n}\n\n/**\n * Load keystore for CLIENT-CERT protected endpoints\n */\nprivate KeyMaterial createKeyMaterial() throws GeneralSecurityException, Exception  {\n    KeyMaterial km = null;\n    char[] password = keyStorePassphrase.toCharArray();\n    File f = new File(keyStoreLocation);\n    if (f.exists()) {\n        try {\n            km = new KeyMaterial(keyStoreLocation, password);\n            log.trace(\"Keystore location is: \" + keyStoreLocation + \"\");\n        } catch (GeneralSecurityException gse) {\n            if (logErrors){\n                log.error(\"Exception occured while loading keystore from the following location: \"+keyStoreLocation, gse);\n                throw gse;\n            }\n        }\n    } else {\n        log.error(\"Unable to load Keystore from the following location: \" + keyStoreLocation );\n        throw new CollectorInitException(\"Unable to load Keystore from the following location: \" + keyStoreLocation);\n    }\n    return km;\n}   \n</code></pre>\n\n<p>When I have to invoke the web service, I do this (which basically replace \"https\" in the URL with https1, or https2 or something else depending on the Protocol you initialized for that particular endpoint):</p>\n\n<pre><code>httpClient.getHostConfiguration().setHost(host, port,Protocol.getProtocol(myProtocolPrefix));\ninitializeHttpMethod(this.url.toString().replace(HTTPS_PROTOCOL, myProtocolPrefix));\n</code></pre>\n\n<p>It works like a charm!</p>\n"},{"tags":[],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660752825,"creation_date":1660752825,"answer_id":73391760,"question_id":6465907,"body_markdown":"Ok so it&#39;s &gt;10 years later, but anyways. This could have saved me some time today :)\r\n\r\n\r\nCreate a custom HttpClient with SSLContext:\r\n\r\n\r\n     public static HttpClient sslEnabledHttpClient(final URL ks, final char[] storePass,\r\n                                                      final URL ts, final char[] tsPass) {\r\n    \r\n            try {\r\n                //Minimalistic SSLContext.\r\n                final SSLContextBuilder builder = SSLContexts.custom()\r\n                        .loadKeyMaterial(ks, storePass, storePass); \r\n    \r\n                if (ts != null) {\r\n                    builder.loadTrustMaterial(ts, tsPass);\r\n                }\r\n                final SSLContext sslContext = builder.build();\r\n                return HttpClientBuilder.create().setSSLContext(sslContext).build();\r\n            } catch (final Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\n\r\nAnd use that:\r\n\r\n    // Out of the box Axis2 does not support SSL with client authentication.\r\n    // So we need a custom HttpClient.\r\n    final HttpClient client = Util.sslEnabledHttpClient(\r\n            this.keyStoreURL, this.keyStorePassword.toCharArray(),\r\n            this.trustStoreURL, this.trustStorePassword.toCharArray());\r\n\r\n\r\n    myStub._getServiceClient().getOptions().setProperty(HTTPConstants.CACHED_HTTP_CLIENT, client);","title":"Creating SSL client with Axis2/Java","body":"<p>Ok so it's &gt;10 years later, but anyways. This could have saved me some time today :)</p>\n<p>Create a custom HttpClient with SSLContext:</p>\n<pre><code> public static HttpClient sslEnabledHttpClient(final URL ks, final char[] storePass,\n                                                  final URL ts, final char[] tsPass) {\n\n        try {\n            //Minimalistic SSLContext.\n            final SSLContextBuilder builder = SSLContexts.custom()\n                    .loadKeyMaterial(ks, storePass, storePass); \n\n            if (ts != null) {\n                builder.loadTrustMaterial(ts, tsPass);\n            }\n            final SSLContext sslContext = builder.build();\n            return HttpClientBuilder.create().setSSLContext(sslContext).build();\n        } catch (final Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>And use that:</p>\n<pre><code>// Out of the box Axis2 does not support SSL with client authentication.\n// So we need a custom HttpClient.\nfinal HttpClient client = Util.sslEnabledHttpClient(\n        this.keyStoreURL, this.keyStorePassword.toCharArray(),\n        this.trustStoreURL, this.trustStorePassword.toCharArray());\n\n\nmyStub._getServiceClient().getOptions().setProperty(HTTPConstants.CACHED_HTTP_CLIENT, client);\n</code></pre>\n"}],"owner":{"account_id":230487,"reputation":205,"user_id":494124,"display_name":"avmatis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16194,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1661784576,"creation_date":1308907632,"question_id":6465907,"body_markdown":"I&#39;m trying to connect to the WebService that uses SSL but no success. I use Axis2, I found some usefull article: http://people.apache.org/~dumindu/docs/HowToConfigureSSL.html, but it is for C. In this article they set pathes to SERVER_CERT, KEY_FILE and SSL_PASSPHRASE using axis2.xml or C coding. I tried to change configuration file but this doesn&#39;t work for me. If somebody know how to set this parameters from within Java code, let me know.","title":"Creating SSL client with Axis2/Java","body":"<p>I'm trying to connect to the WebService that uses SSL but no success. I use Axis2, I found some usefull article: <a href=\"http://people.apache.org/~dumindu/docs/HowToConfigureSSL.html\" rel=\"nofollow\">http://people.apache.org/~dumindu/docs/HowToConfigureSSL.html</a>, but it is for C. In this article they set pathes to SERVER_CERT, KEY_FILE and SSL_PASSPHRASE using axis2.xml or C coding. I tried to change configuration file but this doesn't work for me. If somebody know how to set this parameters from within Java code, let me know.</p>\n"},{"tags":["java","json","serialization","kotlin","jackson"],"answers":[{"tags":[],"owner":{"account_id":6921,"reputation":9295,"user_id":11797,"accept_rate":81,"display_name":"Aleksandar Dimitrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552582570,"creation_date":1552582570,"answer_id":55168147,"question_id":55166379,"body_markdown":"I ended up implementing a different interface for my deserialiser.\r\n\r\n    class PatchableDeserializer(private val valueType: Class&lt;*&gt;?): JsonDeserializer&lt;Patchable&lt;*&gt;&gt;(), ContextualDeserializer {\r\n        override fun createContextual(ctxt: DeserializationContext?, property: BeanProperty?): JsonDeserializer&lt;*&gt; {\r\n            val wrapperType = property?.type\r\n    \r\n            val rawClass = wrapperType?.containedType(0)?.rawClass\r\n            return PatchableDeserializer(rawClass)\r\n        }\r\n    \r\n        override fun deserialize(p: JsonParser?, ctxt: DeserializationContext?): Patchable&lt;*&gt; =\r\n            Patchable.of(p!!.readValueAs(valueType))\r\n    \r\n        override fun getNullValue(ctxt: DeserializationContext?): Patchable&lt;Any&gt; =\r\n                if (ctxt?.parser?.currentToken == JsonToken.VALUE_NULL)\r\n                    Patchable.ofNull()\r\n                else\r\n                    Patchable.undefined()\r\n    }\r\n\r\nThis works as intended, but Jackson needs contextual information in the parser to make it work, i.e. the above test code does not work. It does work however, if you explicitly specify a DTO to deserialise to, if it has the correct type annotations.","title":"Deserialize Generic Type using ReferenceTypeDeserializer with Jackson &amp; Spring","body":"<p>I ended up implementing a different interface for my deserialiser.</p>\n\n<pre><code>class PatchableDeserializer(private val valueType: Class&lt;*&gt;?): JsonDeserializer&lt;Patchable&lt;*&gt;&gt;(), ContextualDeserializer {\n    override fun createContextual(ctxt: DeserializationContext?, property: BeanProperty?): JsonDeserializer&lt;*&gt; {\n        val wrapperType = property?.type\n\n        val rawClass = wrapperType?.containedType(0)?.rawClass\n        return PatchableDeserializer(rawClass)\n    }\n\n    override fun deserialize(p: JsonParser?, ctxt: DeserializationContext?): Patchable&lt;*&gt; =\n        Patchable.of(p!!.readValueAs(valueType))\n\n    override fun getNullValue(ctxt: DeserializationContext?): Patchable&lt;Any&gt; =\n            if (ctxt?.parser?.currentToken == JsonToken.VALUE_NULL)\n                Patchable.ofNull()\n            else\n                Patchable.undefined()\n}\n</code></pre>\n\n<p>This works as intended, but Jackson needs contextual information in the parser to make it work, i.e. the above test code does not work. It does work however, if you explicitly specify a DTO to deserialise to, if it has the correct type annotations.</p>\n"},{"tags":[],"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661784412,"creation_date":1661784412,"answer_id":73530598,"question_id":55166379,"body_markdown":"Deserializes of generic containers (those extends `com.fasterxml.jackson.databind.deser.std.ReferenceTypeDeserializer`) cannot be registered this way.\r\n\r\nYou need to register a custom implementation of `com.fasterxml.jackson.databind.deser.Deserializers` with overriding `findReferenceDeserializer` method. This method called to locate deserializer for value that is of referential type.\r\n\r\nYou also need to add `com.fasterxml.jackson.databind.type.TypeModifier` that will modify the type of your &quot;generic container&quot; type to be `com.fasterxml.jackson.databind.type.ReferenceType`, so your custom `ReferenceTypeDeserializer` will be called.\r\n\r\nThe easiest way to do this is to register a custom `com.fasterxml.jackson.databind.Module` that will `addDeserializers` and `addTypeModifier`. A good example of such module is [`Jdk8Module`](https://github.com/FasterXML/jackson-modules-java8/blob/f82c3af6eb968a9f02ab810be6562dd27d5a3d26/datatypes/src/main/java/com/fasterxml/jackson/datatype/jdk8/Jdk8Module.java) that does all the work for `java.util.Optional` and it&#39;s friends.\r\n\r\n### The full example to register deserializer for a custom generic container `MyRef`:\r\n\r\n`MyRefDeserializer` that does main work. This is just an example. The exact implementation of overridden methods (and what methods need to be overridden) will depend on your requirements.\r\n\r\n```java\r\npublic final class MyRefDeserializer extends ReferenceTypeDeserializer&lt;MyRef&lt;?&gt;&gt; {\r\n\r\n\tpublic MyRefDeserializer(JavaType fullType, ValueInstantiator vi,\r\n\t\t\tTypeDeserializer typeDeser, JsonDeserializer&lt;?&gt; deser) {\r\n\t\tsuper(fullType, vi, typeDeser, deser);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected MyRefDeserializer withResolved(TypeDeserializer typeDeser, JsonDeserializer&lt;?&gt; valueDeser) {\r\n\t\treturn new MyRefDeserializer(_fullType, _valueInstantiator, typeDeser, valueDeser);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic MyRef&lt;?&gt; getNullValue(DeserializationContext ctxt) throws JsonMappingException {\r\n\t\treturn MyRef.of(_valueDeserializer.getNullValue(ctxt));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getAbsentValue(DeserializationContext ctxt) throws JsonMappingException {\r\n\t\treturn MyRef.absent();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic MyRef&lt;?&gt; referenceValue(Object contents) {\r\n\t\treturn MyRef.of(contents);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getReferenced(MyRef&lt;?&gt; reference) {\r\n\t\treturn reference.orElse(null);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic NullableOptional&lt;?&gt; updateReference(MyRef&lt;?&gt; reference, Object contents) {\r\n\t\treturn referenceValue(contents);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nImplementation of `Deserializers` interface:\r\n\r\n```java\r\npublic class MyRefDeserializers extends Deserializers.Base {\r\n\r\n\t@Override\r\n\tpublic JsonDeserializer&lt;?&gt; findReferenceDeserializer(ReferenceType refType, DeserializationConfig config,\r\n\t\t\tBeanDescription beanDesc, TypeDeserializer contentTypeDeserializer, JsonDeserializer&lt;?&gt; contentDeserializer)\r\n\t\t\tthrows JsonMappingException {\r\n\r\n\t\tif (refType.hasRawClass(MyRef.class)) {\r\n\t\t\treturn new MyRefDeserializer(refType, null, contentTypeDeserializer, contentDeserializer);\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAn implementation of `TypeModifier` that allows Jackson to understand that `MyRef` is a `ReferenceType` type:\r\n\r\n```java\r\npublic class MyRefTypeModifier extends TypeModifier {\r\n\r\n\t@Override\r\n\tpublic JavaType modifyType(JavaType type, Type jdkType, TypeBindings context, TypeFactory typeFactory) {\r\n\t\tif (type.isReferenceType() || type.isContainerType()) {\r\n\t\t\treturn type;\r\n\t\t}\r\n\r\n\t\tif (type.getRawClass() == MyRef.class) {\r\n\t\t\treturn ReferenceType.upgradeFrom(type, type.containedTypeOrUnknown(0));\r\n\t\t} else {\r\n\t\t\treturn type;\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd, finally, the `Module` that will register the deserializer and the type modifier:\r\n\r\n```java\r\npublic class MyRefModule extends Module {\r\n\r\n\t@Override\r\n\tpublic String getModuleName() {\r\n\t\treturn &quot;MyRefModule&quot;;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Version version() {\r\n\t\treturn Version.unknownVersion();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setupModule(SetupContext context) {\r\n\t\tcontext.addDeserializers(new MyRefDeserializers());\r\n\t\tcontext.addTypeModifier(new MyRefTypeModifier());\r\n\t}\r\n\r\n}\r\n```\r\n\r\nYou then need to register this module with `ObjectMapper`. E.g.:\r\n\r\n```java\r\nObjectMapper = new ObjectMapper();\r\nobjectMapper.registerModule(new MyRefModule());\r\n```\r\n\r\nIf you use Spring Boot, you can just expose the module as a `@Bean` and it will be registered in the default `ObjectMapper` automatically.","title":"Deserialize Generic Type using ReferenceTypeDeserializer with Jackson &amp; Spring","body":"<p>Deserializes of generic containers (those extends <code>com.fasterxml.jackson.databind.deser.std.ReferenceTypeDeserializer</code>) cannot be registered this way.</p>\n<p>You need to register a custom implementation of <code>com.fasterxml.jackson.databind.deser.Deserializers</code> with overriding <code>findReferenceDeserializer</code> method. This method called to locate deserializer for value that is of referential type.</p>\n<p>You also need to add <code>com.fasterxml.jackson.databind.type.TypeModifier</code> that will modify the type of your &quot;generic container&quot; type to be <code>com.fasterxml.jackson.databind.type.ReferenceType</code>, so your custom <code>ReferenceTypeDeserializer</code> will be called.</p>\n<p>The easiest way to do this is to register a custom <code>com.fasterxml.jackson.databind.Module</code> that will <code>addDeserializers</code> and <code>addTypeModifier</code>. A good example of such module is <a href=\"https://github.com/FasterXML/jackson-modules-java8/blob/f82c3af6eb968a9f02ab810be6562dd27d5a3d26/datatypes/src/main/java/com/fasterxml/jackson/datatype/jdk8/Jdk8Module.java\" rel=\"nofollow noreferrer\"><code>Jdk8Module</code></a> that does all the work for <code>java.util.Optional</code> and it's friends.</p>\n<h3>The full example to register deserializer for a custom generic container <code>MyRef</code>:</h3>\n<p><code>MyRefDeserializer</code> that does main work. This is just an example. The exact implementation of overridden methods (and what methods need to be overridden) will depend on your requirements.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class MyRefDeserializer extends ReferenceTypeDeserializer&lt;MyRef&lt;?&gt;&gt; {\n\n    public MyRefDeserializer(JavaType fullType, ValueInstantiator vi,\n            TypeDeserializer typeDeser, JsonDeserializer&lt;?&gt; deser) {\n        super(fullType, vi, typeDeser, deser);\n    }\n\n    @Override\n    protected MyRefDeserializer withResolved(TypeDeserializer typeDeser, JsonDeserializer&lt;?&gt; valueDeser) {\n        return new MyRefDeserializer(_fullType, _valueInstantiator, typeDeser, valueDeser);\n    }\n\n    @Override\n    public MyRef&lt;?&gt; getNullValue(DeserializationContext ctxt) throws JsonMappingException {\n        return MyRef.of(_valueDeserializer.getNullValue(ctxt));\n    }\n\n    @Override\n    public Object getAbsentValue(DeserializationContext ctxt) throws JsonMappingException {\n        return MyRef.absent();\n    }\n\n    @Override\n    public MyRef&lt;?&gt; referenceValue(Object contents) {\n        return MyRef.of(contents);\n    }\n\n    @Override\n    public Object getReferenced(MyRef&lt;?&gt; reference) {\n        return reference.orElse(null);\n    }\n\n    @Override\n    public NullableOptional&lt;?&gt; updateReference(MyRef&lt;?&gt; reference, Object contents) {\n        return referenceValue(contents);\n    }\n\n}\n</code></pre>\n<p>Implementation of <code>Deserializers</code> interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyRefDeserializers extends Deserializers.Base {\n\n    @Override\n    public JsonDeserializer&lt;?&gt; findReferenceDeserializer(ReferenceType refType, DeserializationConfig config,\n            BeanDescription beanDesc, TypeDeserializer contentTypeDeserializer, JsonDeserializer&lt;?&gt; contentDeserializer)\n            throws JsonMappingException {\n\n        if (refType.hasRawClass(MyRef.class)) {\n            return new MyRefDeserializer(refType, null, contentTypeDeserializer, contentDeserializer);\n        }\n\n        return null;\n    }\n\n}\n</code></pre>\n<p>An implementation of <code>TypeModifier</code> that allows Jackson to understand that <code>MyRef</code> is a <code>ReferenceType</code> type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyRefTypeModifier extends TypeModifier {\n\n    @Override\n    public JavaType modifyType(JavaType type, Type jdkType, TypeBindings context, TypeFactory typeFactory) {\n        if (type.isReferenceType() || type.isContainerType()) {\n            return type;\n        }\n\n        if (type.getRawClass() == MyRef.class) {\n            return ReferenceType.upgradeFrom(type, type.containedTypeOrUnknown(0));\n        } else {\n            return type;\n        }\n\n    }\n\n}\n</code></pre>\n<p>And, finally, the <code>Module</code> that will register the deserializer and the type modifier:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyRefModule extends Module {\n\n    @Override\n    public String getModuleName() {\n        return &quot;MyRefModule&quot;;\n    }\n\n    @Override\n    public Version version() {\n        return Version.unknownVersion();\n    }\n\n    @Override\n    public void setupModule(SetupContext context) {\n        context.addDeserializers(new MyRefDeserializers());\n        context.addTypeModifier(new MyRefTypeModifier());\n    }\n\n}\n</code></pre>\n<p>You then need to register this module with <code>ObjectMapper</code>. E.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper = new ObjectMapper();\nobjectMapper.registerModule(new MyRefModule());\n</code></pre>\n<p>If you use Spring Boot, you can just expose the module as a <code>@Bean</code> and it will be registered in the default <code>ObjectMapper</code> automatically.</p>\n"}],"owner":{"account_id":6921,"reputation":9295,"user_id":11797,"accept_rate":81,"display_name":"Aleksandar Dimitrov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1199,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1661784412,"creation_date":1552577367,"question_id":55166379,"body_markdown":"I think I&#39;m missing something obvious here, but I can&#39;t seem to be able to deserialise a simple generic container using Spring/Kotlin/Jackson.\r\n\r\nThe data type in question is very simple:\r\n\r\n    @JsonDeserialize(using = PatchableDeserializer::class)\r\n    sealed class Patchable&lt;T&gt; {\r\n        class Undefined&lt;T&gt;: Patchable&lt;T&gt;()\r\n        class Null&lt;T&gt;: Patchable&lt;T&gt;()\r\n        data class Present&lt;T&gt;(val content: T): Patchable&lt;T&gt;()\r\n        // \r\n    }\r\n\r\nThe deserializer extends `ReferenceTypeDeserializer`, just as the jdk8-module&#39;s `OptionalDeserializer`.\r\n\r\n\r\n    class PatchableDeserializer(javaType: JavaType, vi: ValueInstantiator, typeDeser: TypeDeserializer, deser: JsonDeserializer&lt;*&gt; ):\r\n            ReferenceTypeDeserializer&lt;Patchable&lt;*&gt;&gt;(javaType, vi, typeDeser, deser) {\r\n        // \r\n    }\r\n\r\nI assumed that Jackson would fill in the constructor arguments for `PatchableDeserializer` here. However, that does not seem to be the case:\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;my.namespace.PatchableDeserializer&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.fasterxml.jackson.databind.JavaType&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\nI would assume that Jackson provides the value of `javaType` as I have no way of knowing it at compile time.\r\n\r\nHere&#39;s the code I&#39;m using to test, which generates the above exception:\r\n\r\n    @RunWith(SpringRunner::class)\r\n    @JsonTest\r\n    class PatchableTest {\r\n        @Autowired\r\n        lateinit var objectMapper: ObjectMapper\r\n    \r\n        @Test\r\n        fun patchableDeserialisesStringValue() {\r\n            val value: Patchable&lt;String&gt; = objectMapper.readValue(&quot;\\&quot;null\\&quot;&quot;, object: TypeReference&lt;Patchable&lt;String&gt;&gt;() {})\r\n            assertTrue(value.isPresent())\r\n            assertEquals(&quot;null&quot;, value.unsafeGetValue())\r\n        }\r\n    }\r\n\r\nWhat am I missing? Also, I had a really hard time looking online for some information on how to deserialize generic types at all, so if anybody has pointers to how to write custom deserialisers for generic types, I&#39;d be very appreciative.","title":"Deserialize Generic Type using ReferenceTypeDeserializer with Jackson &amp; Spring","body":"<p>I think I'm missing something obvious here, but I can't seem to be able to deserialise a simple generic container using Spring/Kotlin/Jackson.</p>\n\n<p>The data type in question is very simple:</p>\n\n<pre><code>@JsonDeserialize(using = PatchableDeserializer::class)\nsealed class Patchable&lt;T&gt; {\n    class Undefined&lt;T&gt;: Patchable&lt;T&gt;()\n    class Null&lt;T&gt;: Patchable&lt;T&gt;()\n    data class Present&lt;T&gt;(val content: T): Patchable&lt;T&gt;()\n    // \n}\n</code></pre>\n\n<p>The deserializer extends <code>ReferenceTypeDeserializer</code>, just as the jdk8-module's <code>OptionalDeserializer</code>.</p>\n\n<pre><code>class PatchableDeserializer(javaType: JavaType, vi: ValueInstantiator, typeDeser: TypeDeserializer, deser: JsonDeserializer&lt;*&gt; ):\n        ReferenceTypeDeserializer&lt;Patchable&lt;*&gt;&gt;(javaType, vi, typeDeser, deser) {\n    // \n}\n</code></pre>\n\n<p>I assumed that Jackson would fill in the constructor arguments for <code>PatchableDeserializer</code> here. However, that does not seem to be the case:</p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'my.namespace.PatchableDeserializer': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.fasterxml.jackson.databind.JavaType' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n</code></pre>\n\n<p>I would assume that Jackson provides the value of <code>javaType</code> as I have no way of knowing it at compile time.</p>\n\n<p>Here's the code I'm using to test, which generates the above exception:</p>\n\n<pre><code>@RunWith(SpringRunner::class)\n@JsonTest\nclass PatchableTest {\n    @Autowired\n    lateinit var objectMapper: ObjectMapper\n\n    @Test\n    fun patchableDeserialisesStringValue() {\n        val value: Patchable&lt;String&gt; = objectMapper.readValue(\"\\\"null\\\"\", object: TypeReference&lt;Patchable&lt;String&gt;&gt;() {})\n        assertTrue(value.isPresent())\n        assertEquals(\"null\", value.unsafeGetValue())\n    }\n}\n</code></pre>\n\n<p>What am I missing? Also, I had a really hard time looking online for some information on how to deserialize generic types at all, so if anybody has pointers to how to write custom deserialisers for generic types, I'd be very appreciative.</p>\n"},{"tags":["java","pdf","itext"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659376228,"post_id":73197611,"comment_id":129275175,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1659415585,"post_id":73197611,"comment_id":129283065,"body_markdown":"Indeed, please make clear what problem exactly you ran into. In general requirements like yours can be fulfilled by using `Document` to add content to and page events for footers and backgrounds.","body":"Indeed, please make clear what problem exactly you ran into. In general requirements like yours can be fulfilled by using <code>Document</code> to add content to and page events for footers and backgrounds."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1659430138,"post_id":73197611,"comment_id":129287011,"body_markdown":"*&quot;this appears to be only executed on the close of pages at the close of the document. This means I don&#39;t know if a page that shouldn&#39;t have a page number overflowed.&quot;* - No, by default page events are not executed that late (except for the last page - obviously - and probably the one before that); have you changed anything that might change the default behavior? Also don&#39;t forget to evaluate the properties of the page event.","body":"<i>&quot;this appears to be only executed on the close of pages at the close of the document. This means I don&#39;t know if a page that shouldn&#39;t have a page number overflowed.&quot;</i> - No, by default page events are not executed that late (except for the last page - obviously - and probably the one before that); have you changed anything that might change the default behavior? Also don&#39;t forget to evaluate the properties of the page event."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1659431083,"post_id":73197611,"comment_id":129287369,"body_markdown":"*&quot;I realize this is &quot;vague&quot;.&quot;* - Indeed, it is vague. To create a less vague question, you should try to implement your requirements. If you run into a problem, reduce your code to a simple program still illustrating the problem and post it here.","body":"<i>&quot;I realize this is &quot;vague&quot;.&quot;</i> - Indeed, it is vague. To create a less vague question, you should try to implement your requirements. If you run into a problem, reduce your code to a simple program still illustrating the problem and post it here."}],"answers":[{"tags":[],"owner":{"account_id":25950076,"reputation":1,"user_id":19668260,"display_name":"Evan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661784388,"creation_date":1661784388,"answer_id":73530592,"question_id":73197611,"body_markdown":"I was able to get this working with a combination of renderers and events.  In the renderer which dealt with custom data arrays, I added the current template page information to a variable and then triggered an event that was triggered at the end of pages.  Given I had disabled automatic flushing and manual flush, there was a bit of tweaking that had to go on there (I wish I kept the URL for it but wasn&#39;t sure if it work completely as I experienced some issues even after applying that recommendation).\r\n\r\n\r\nThis is a partial code set.  The full code set will be open-sourced when other components are completed:\r\n\r\n```\r\npublic class PDFReportGenerator implements ReportProcessor {\r\n   private  LayoutInfo info;\r\n\r\n   private generate() {\r\n        pdf.addEventHandler(PdfDocumentEvent.END_PAGE, new PageNumber(info, this));\r\n        pdf.addEventHandler(PdfDocumentEvent.END_PAGE, new Link(info, this));\r\n\r\n   }\r\n\r\n```\r\n\r\nThe LayoutInfo class:\r\n```\r\npublic class Link implements IEventHandler  {\r\n    private final LayoutInfo info;\r\n    private final PDFReportGenerator generator;\r\n\r\n    public Link(LayoutInfo info, PDFReportGenerator generator) {\r\n        this.info = info;\r\n        this.generator = generator;\r\n    }\r\n\r\n    @Override\r\n    public void handleEvent(Event event) {\r\n        HashMap&lt;Integer, ArrayList&lt;LinkDetails&gt;&gt; links = info.getLinks();\r\n\r\n        PdfPage page = ((PdfDocumentEvent) event).getPage();\r\n        int pageNumber = page.getDocument().getPageNumber(page);\r\n\r\n        if (links.containsKey(pageNumber)) {\r\n            ArrayList&lt;LinkDetails&gt; linkList = links.get(pageNumber);\r\n            for (LinkDetails link:linkList) {\r\n                Rectangle rectangle = new Rectangle(link.getLocation().getX(),link.getLocation().getY(),\r\n                        link.getSize().getWidth(),link.getSize().getHeight());\r\n                PdfLinkAnnotation annotation = new PdfLinkAnnotation(rectangle);\r\n                if (link.isBorder())\r\n                    annotation.setBorderStyle(PdfAnnotation.STYLE_SOLID);\r\n                PdfAction action = PdfAction.createURI(link.getUrl());\r\n                annotation.setAction(action);\r\n                page.addAnnotation(annotation);\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\npublic class Link implements IEventHandler  {\r\n    private final LayoutInfo info;\r\n    private final PDFReportGenerator generator;\r\n\r\n    public Link(LayoutInfo info, PDFReportGenerator generator) {\r\n        this.info = info;\r\n        this.generator = generator;\r\n    }\r\n\r\n    @Override\r\n    public void handleEvent(Event event) {\r\n        HashMap&lt;Integer, ArrayList&lt;LinkDetails&gt;&gt; links = info.getLinks();\r\n\r\n        PdfPage page = ((PdfDocumentEvent) event).getPage();\r\n        int pageNumber = page.getDocument().getPageNumber(page);\r\n\r\n        if (links.containsKey(pageNumber)) {\r\n            ArrayList&lt;LinkDetails&gt; linkList = links.get(pageNumber);\r\n            for (LinkDetails link:linkList) {\r\n                Rectangle rectangle = new Rectangle(link.getLocation().getX(),link.getLocation().getY(),\r\n                        link.getSize().getWidth(),link.getSize().getHeight());\r\n                PdfLinkAnnotation annotation = new PdfLinkAnnotation(rectangle);\r\n                if (link.isBorder())\r\n                    annotation.setBorderStyle(PdfAnnotation.STYLE_SOLID);\r\n                PdfAction action = PdfAction.createURI(link.getUrl());\r\n                annotation.setAction(action);\r\n                page.addAnnotation(annotation);\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"iText7: Variable Background images, footers, and possible growing content","body":"<p>I was able to get this working with a combination of renderers and events.  In the renderer which dealt with custom data arrays, I added the current template page information to a variable and then triggered an event that was triggered at the end of pages.  Given I had disabled automatic flushing and manual flush, there was a bit of tweaking that had to go on there (I wish I kept the URL for it but wasn't sure if it work completely as I experienced some issues even after applying that recommendation).</p>\n<p>This is a partial code set.  The full code set will be open-sourced when other components are completed:</p>\n<pre><code>public class PDFReportGenerator implements ReportProcessor {\n   private  LayoutInfo info;\n\n   private generate() {\n        pdf.addEventHandler(PdfDocumentEvent.END_PAGE, new PageNumber(info, this));\n        pdf.addEventHandler(PdfDocumentEvent.END_PAGE, new Link(info, this));\n\n   }\n\n</code></pre>\n<p>The LayoutInfo class:</p>\n<pre><code>public class Link implements IEventHandler  {\n    private final LayoutInfo info;\n    private final PDFReportGenerator generator;\n\n    public Link(LayoutInfo info, PDFReportGenerator generator) {\n        this.info = info;\n        this.generator = generator;\n    }\n\n    @Override\n    public void handleEvent(Event event) {\n        HashMap&lt;Integer, ArrayList&lt;LinkDetails&gt;&gt; links = info.getLinks();\n\n        PdfPage page = ((PdfDocumentEvent) event).getPage();\n        int pageNumber = page.getDocument().getPageNumber(page);\n\n        if (links.containsKey(pageNumber)) {\n            ArrayList&lt;LinkDetails&gt; linkList = links.get(pageNumber);\n            for (LinkDetails link:linkList) {\n                Rectangle rectangle = new Rectangle(link.getLocation().getX(),link.getLocation().getY(),\n                        link.getSize().getWidth(),link.getSize().getHeight());\n                PdfLinkAnnotation annotation = new PdfLinkAnnotation(rectangle);\n                if (link.isBorder())\n                    annotation.setBorderStyle(PdfAnnotation.STYLE_SOLID);\n                PdfAction action = PdfAction.createURI(link.getUrl());\n                annotation.setAction(action);\n                page.addAnnotation(annotation);\n            }\n\n        }\n    }\n}\n</code></pre>\n<pre><code>public class Link implements IEventHandler  {\n    private final LayoutInfo info;\n    private final PDFReportGenerator generator;\n\n    public Link(LayoutInfo info, PDFReportGenerator generator) {\n        this.info = info;\n        this.generator = generator;\n    }\n\n    @Override\n    public void handleEvent(Event event) {\n        HashMap&lt;Integer, ArrayList&lt;LinkDetails&gt;&gt; links = info.getLinks();\n\n        PdfPage page = ((PdfDocumentEvent) event).getPage();\n        int pageNumber = page.getDocument().getPageNumber(page);\n\n        if (links.containsKey(pageNumber)) {\n            ArrayList&lt;LinkDetails&gt; linkList = links.get(pageNumber);\n            for (LinkDetails link:linkList) {\n                Rectangle rectangle = new Rectangle(link.getLocation().getX(),link.getLocation().getY(),\n                        link.getSize().getWidth(),link.getSize().getHeight());\n                PdfLinkAnnotation annotation = new PdfLinkAnnotation(rectangle);\n                if (link.isBorder())\n                    annotation.setBorderStyle(PdfAnnotation.STYLE_SOLID);\n                PdfAction action = PdfAction.createURI(link.getUrl());\n                annotation.setAction(action);\n                page.addAnnotation(annotation);\n            }\n\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25950076,"reputation":1,"user_id":19668260,"display_name":"Evan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661784388,"creation_date":1659375865,"question_id":73197611,"body_markdown":"I am trying to dynamically build a PDF using iText 7.  The conditions for the PDF are:\r\n1) Some of the pages will have a footer.\r\n2) The background image on the pages will vary.\r\n3) The content on a given page may extend past one page.\r\n\r\nWhile I have been able to get these working individually, I have not been able to get them working in one straight pass of processing the data to be contained in the PDF.\r\n\r\nIs this possible to do in one pass of the data or do I need to stitch together various documents in order to make this work?  \r\n\r\nEdit: To add things that I have tried using the Document API:\r\n1) Events (Following the XofY example from iText). During tests, this appears to be only executed on the close of pages at the close of the document. This means I don&#39;t know if a page that shouldn&#39;t have a page number overflowed.\r\n\r\n2) Leveraging the ColumnRenderer.  However, this caused a problem with the background image, and given that not all pages have the same background image it was leading to a problem with identifying which background image goes on which page (I believe a custom renderer will be the direction that needs to be used, but I&#39;m not sure how to make it work in full detail - e.g. the overflow to next page must trigger the adding of the page number, the adding of the new background image, and additional work.  I tried using the BackgroundImage event tying to the JSON Templating I built, but again, when the content spanned multiple pages, there were issues.\r\n\r\n3) The tables that are used have different background pages given the type of data that will be shown and potentially other images throughout the page based on the data that is displayed. \r\n\r\nFinal thoughts: I realize this is &quot;vague&quot;.  And I wish I had code that provided any value.  The thing I&#39;m leaning toward doing (which I really don&#39;t) is making multiple PDF Documents with the appropriate characteristics and then merging them all.  This feels like it should be unnecessary. (as mkl noted). \r\n\r\nEdit 2: Removed the JSON template and here&#39;s a sample to demonstrate the end of page processing:\r\n\r\nEventHanlder:\r\n````\r\npublic class PageNumber implements IEventHandler {\r\n    @Override\r\n    public void handleEvent(Event event) {\r\n        System.out.println(&quot;[handleEvent]&quot;+ ((PdfDocumentEvent)event).getType());\r\n    }\r\n}\r\n````\r\n\r\nMain:\r\n````\r\n      document.setMargins(itsTemplate.getMargin().getTop(),\r\n                itsTemplate.getMargin().getRight(), itsTemplate.getMargin().getBottom(),\r\n                itsTemplate.getMargin().getLeft());\r\n\r\n        pdf.addEventHandler(PdfDocumentEvent.END_PAGE, new PageNumber());\r\n        ArrayList&lt;Page&gt; pages = itsTemplate.getPages();\r\n        for (Page page: pages) {\r\n           pdf.addNewPage(PageSize.LETTER);\r\n            System.out.println(&quot;[main]Adding paragraph&quot;);\r\n          //  processContent(page.getContainers());\r\n            Paragraph p = new Paragraph().add(&quot;this is a test&quot;)\r\n                            .setWidth(document.getPdfDocument().getLastPage().getPageSize().getWidth())\r\n                    .setHorizontalAlignment(HorizontalAlignment.CENTER);\r\n           document.add(p);\r\n            if (pages.indexOf(currentPage) &lt; (pages.size() - 1)) {\r\n                System.out.println(&quot;[main] Adding new page&quot;);\r\n                //pdf.addNewPage(PageSize.LETTER);\r\n                document.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\r\n                System.out.println(&quot;[main]  new page added&quot;);\r\n            }\r\n        }\r\ndocument.close()\r\n````\r\n\r\nBoth the system.out and walking through the debugger show that the end of page event is processed during the document close.\r\n\r\nSystem out:\r\n````\r\n[main]Adding paragraph\r\n[main] Adding new page\r\n[main]  new page added\r\n[handleEvent]EndPdfPage\r\n[handleEvent]EndPdfPage\r\n````","title":"iText7: Variable Background images, footers, and possible growing content","body":"<p>I am trying to dynamically build a PDF using iText 7.  The conditions for the PDF are:</p>\n<ol>\n<li>Some of the pages will have a footer.</li>\n<li>The background image on the pages will vary.</li>\n<li>The content on a given page may extend past one page.</li>\n</ol>\n<p>While I have been able to get these working individually, I have not been able to get them working in one straight pass of processing the data to be contained in the PDF.</p>\n<p>Is this possible to do in one pass of the data or do I need to stitch together various documents in order to make this work?</p>\n<p>Edit: To add things that I have tried using the Document API:</p>\n<ol>\n<li><p>Events (Following the XofY example from iText). During tests, this appears to be only executed on the close of pages at the close of the document. This means I don't know if a page that shouldn't have a page number overflowed.</p>\n</li>\n<li><p>Leveraging the ColumnRenderer.  However, this caused a problem with the background image, and given that not all pages have the same background image it was leading to a problem with identifying which background image goes on which page (I believe a custom renderer will be the direction that needs to be used, but I'm not sure how to make it work in full detail - e.g. the overflow to next page must trigger the adding of the page number, the adding of the new background image, and additional work.  I tried using the BackgroundImage event tying to the JSON Templating I built, but again, when the content spanned multiple pages, there were issues.</p>\n</li>\n<li><p>The tables that are used have different background pages given the type of data that will be shown and potentially other images throughout the page based on the data that is displayed.</p>\n</li>\n</ol>\n<p>Final thoughts: I realize this is &quot;vague&quot;.  And I wish I had code that provided any value.  The thing I'm leaning toward doing (which I really don't) is making multiple PDF Documents with the appropriate characteristics and then merging them all.  This feels like it should be unnecessary. (as mkl noted).</p>\n<p>Edit 2: Removed the JSON template and here's a sample to demonstrate the end of page processing:</p>\n<p>EventHanlder:</p>\n<pre><code>public class PageNumber implements IEventHandler {\n    @Override\n    public void handleEvent(Event event) {\n        System.out.println(&quot;[handleEvent]&quot;+ ((PdfDocumentEvent)event).getType());\n    }\n}\n</code></pre>\n<p>Main:</p>\n<pre><code>      document.setMargins(itsTemplate.getMargin().getTop(),\n                itsTemplate.getMargin().getRight(), itsTemplate.getMargin().getBottom(),\n                itsTemplate.getMargin().getLeft());\n\n        pdf.addEventHandler(PdfDocumentEvent.END_PAGE, new PageNumber());\n        ArrayList&lt;Page&gt; pages = itsTemplate.getPages();\n        for (Page page: pages) {\n           pdf.addNewPage(PageSize.LETTER);\n            System.out.println(&quot;[main]Adding paragraph&quot;);\n          //  processContent(page.getContainers());\n            Paragraph p = new Paragraph().add(&quot;this is a test&quot;)\n                            .setWidth(document.getPdfDocument().getLastPage().getPageSize().getWidth())\n                    .setHorizontalAlignment(HorizontalAlignment.CENTER);\n           document.add(p);\n            if (pages.indexOf(currentPage) &lt; (pages.size() - 1)) {\n                System.out.println(&quot;[main] Adding new page&quot;);\n                //pdf.addNewPage(PageSize.LETTER);\n                document.add(new AreaBreak(AreaBreakType.NEXT_PAGE));\n                System.out.println(&quot;[main]  new page added&quot;);\n            }\n        }\ndocument.close()\n</code></pre>\n<p>Both the system.out and walking through the debugger show that the end of page event is processed during the document close.</p>\n<p>System out:</p>\n<pre><code>[main]Adding paragraph\n[main] Adding new page\n[main]  new page added\n[handleEvent]EndPdfPage\n[handleEvent]EndPdfPage\n</code></pre>\n"},{"tags":["java","intellij-idea","suppress-warnings"],"comments":[{"owner":{"account_id":9126236,"reputation":6268,"user_id":6789816,"display_name":"Connor Low"},"score":1,"creation_date":1661524785,"post_id":73502715,"comment_id":129799912,"body_markdown":"What IDE are you using?","body":"What IDE are you using?"},{"owner":{"account_id":7007979,"reputation":15,"user_id":5419748,"display_name":"Zx binhjy xZ"},"score":0,"creation_date":1661609965,"post_id":73502715,"comment_id":129815305,"body_markdown":"@ConnorLow Intellij","body":"@ConnorLow Intellij"}],"answers":[{"tags":[],"owner":{"account_id":9126236,"reputation":6268,"user_id":6789816,"display_name":"Connor Low"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661782693,"creation_date":1661782693,"answer_id":73530234,"question_id":73502715,"body_markdown":"You want `//noinspection SwitchStatementWithTooFewBranches`:\r\n\r\n```java\r\n//noinspection SwitchStatementWithTooFewBranches\r\nswitch(text) {\r\n  // .. \r\n}\r\n```\r\n\r\nYou can disable most inspections for a given scope by hovering over an error, selecting &quot;**More actions...**&quot;, and then expanding the fix menu: \r\n[![Replace &#39;switch&#39; with &#39;if&#39; &gt; Suppress for statement][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nzCUM.png","title":"How to suppresswarnings for switch has only 1 case","body":"<p>You want <code>//noinspection SwitchStatementWithTooFewBranches</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//noinspection SwitchStatementWithTooFewBranches\nswitch(text) {\n  // .. \n}\n</code></pre>\n<p>You can disable most inspections for a given scope by hovering over an error, selecting &quot;<strong>More actions...</strong>&quot;, and then expanding the fix menu:\n<a href=\"https://i.stack.imgur.com/nzCUM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nzCUM.png\" alt=\"Replace 'switch' with 'if' &gt; Suppress for statement\" /></a></p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661784302,"creation_date":1661784302,"answer_id":73530573,"question_id":73502715,"body_markdown":"Either leave the warning - which is irritating,\r\nor create precursor code with a comment\r\n\r\n    //TODO When *text* can have alternatives, create a switch statement.\r\n\r\nTODO comments will normally be listed in the IDE.\r\n\r\nIn this way you will keep your code at the correct technical stage without\r\n(unfounded?) assumption that more cases will follow.\r\n\r\nOf course the **real problem** here is that a future alternative risks not to be covered. You hope that a future addition will give a future warning that not all cases are covered.\r\n\r\nThe solution could be made using OOP: instead a switch a method of the base class.\r\n\r\nFor instance with an enum:\r\n\r\n    public enum MyEnum { APP1;\r\n        public String getAppName() {\r\n            return &quot;app1&quot;;\r\n        }\r\n    }\r\n\r\n    MyEnum text = ...;\r\n    return text.getAppName();\r\n","title":"How to suppresswarnings for switch has only 1 case","body":"<p>Either leave the warning - which is irritating,\nor create precursor code with a comment</p>\n<pre><code>//TODO When *text* can have alternatives, create a switch statement.\n</code></pre>\n<p>TODO comments will normally be listed in the IDE.</p>\n<p>In this way you will keep your code at the correct technical stage without\n(unfounded?) assumption that more cases will follow.</p>\n<p>Of course the <strong>real problem</strong> here is that a future alternative risks not to be covered. You hope that a future addition will give a future warning that not all cases are covered.</p>\n<p>The solution could be made using OOP: instead a switch a method of the base class.</p>\n<p>For instance with an enum:</p>\n<pre><code>public enum MyEnum { APP1;\n    public String getAppName() {\n        return &quot;app1&quot;;\n    }\n}\n\nMyEnum text = ...;\nreturn text.getAppName();\n</code></pre>\n"}],"owner":{"account_id":7007979,"reputation":15,"user_id":5419748,"display_name":"Zx binhjy xZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":447,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1661784302,"creation_date":1661524696,"question_id":73502715,"body_markdown":"I init a switch has only 1 case atm and expect adding more later.\r\n\r\n```\r\nswitch(text) {\r\n   case app1:\r\n      return value\r\n   default:\r\n      return default value\r\n}\r\n```\r\nHow to suppress it? I&#39;ve tried so far @SuppressWarnings(&quot;all&quot;), @SuppressWarnings(&quot;incomplete-switch&quot;) but not working.\r\nThanks\r\n","title":"How to suppresswarnings for switch has only 1 case","body":"<p>I init a switch has only 1 case atm and expect adding more later.</p>\n<pre><code>switch(text) {\n   case app1:\n      return value\n   default:\n      return default value\n}\n</code></pre>\n<p>How to suppress it? I've tried so far @SuppressWarnings(&quot;all&quot;), @SuppressWarnings(&quot;incomplete-switch&quot;) but not working.\nThanks</p>\n"},{"tags":["java","mongodb","limit","spring-data"],"comments":[{"owner":{"account_id":1463667,"reputation":1506,"user_id":1377224,"accept_rate":50,"display_name":"philnate"},"score":0,"creation_date":1366407499,"post_id":16113479,"comment_id":23013025,"body_markdown":"This is a duplicate of http://stackoverflow.com/q/6590890/1377224 . The answer will show you that you can&#39;t have a limited update. Update does this either for all documents or only the first one matching. If you want to have something like batch updates you need to catch a number of documents and update them on your own.","body":"This is a duplicate of <a href=\"http://stackoverflow.com/q/6590890/1377224\">stackoverflow.com/q/6590890/1377224</a> . The answer will show you that you can&#39;t have a limited update. Update does this either for all documents or only the first one matching. If you want to have something like batch updates you need to catch a number of documents and update them on your own."},{"owner":{"account_id":432024,"reputation":130,"user_id":816495,"display_name":"sonnenhund"},"score":0,"creation_date":1366411254,"post_id":16113479,"comment_id":23014182,"body_markdown":"Unfortunate. I had hopes that MongoTemplate had some capability beyond that of the CLI to limit updates.","body":"Unfortunate. I had hopes that MongoTemplate had some capability beyond that of the CLI to limit updates."},{"owner":{"account_id":1463667,"reputation":1506,"user_id":1377224,"accept_rate":50,"display_name":"philnate"},"score":0,"creation_date":1366440395,"post_id":16113479,"comment_id":23019313,"body_markdown":"As you can see in the sources: https://github.com/SpringSource/spring-data-mongodb/blob/master/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java#L938 this is just a invocation of the drivers update function, and thus same constraints apply.","body":"As you can see in the sources: <a href=\"https://github.com/SpringSource/spring-data-mongodb/blob/master/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoTemplate.java#L938\" rel=\"nofollow noreferrer\">github.com/SpringSource/spring-data-mongodb/blob/master/&hellip;</a> this is just a invocation of the drivers update function, and thus same constraints apply."}],"answers":[{"tags":[],"owner":{"account_id":2047499,"reputation":1845,"user_id":1827276,"accept_rate":56,"display_name":"boly38"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661784269,"creation_date":1661782029,"answer_id":73530088,"question_id":16113479,"body_markdown":"you can&#39;t use an updateMulti with limit but how to make atomic update status on a limited set of documents?\r\n\r\nI used the following pattern to avoid concurrent write issue (concurrent change status more than one time on a given document):\r\n- `find` target document id&#39;s to update using limit and using status condition\r\n- `updateMulti` with target document id&#39;s and status as condition : target doc ids may have been already updated by concurrent thread so we need to set status as condition here again. This query sets also an updateTime in an update field\r\n- `find` updated document id&#39;s : rely on document id&#39;s + updateTime.\r\n\r\nPlease let me know if there is a better solution / pattern to do that.","title":"Spring MongoTemplate updateMulti with Limit?","body":"<p>you can't use an updateMulti with limit but how to make atomic update status on a limited set of documents?</p>\n<p>I used the following pattern to avoid concurrent write issue (concurrent change status more than one time on a given document):</p>\n<ul>\n<li><code>find</code> target document id's to update using limit and using status condition</li>\n<li><code>updateMulti</code> with target document id's and status as condition : target doc ids may have been already updated by concurrent thread so we need to set status as condition here again. This query sets also an updateTime in an update field</li>\n<li><code>find</code> updated document id's : rely on document id's + updateTime.</li>\n</ul>\n<p>Please let me know if there is a better solution / pattern to do that.</p>\n"}],"owner":{"account_id":432024,"reputation":130,"user_id":816495,"display_name":"sonnenhund"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7414,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661784269,"creation_date":1366405507,"question_id":16113479,"body_markdown":"I&#39;m using Spring Data&#39;s MongoTemplate to update multiple documents with a single query. I need to be able to limit the number of documents I update per call. For reasons unclear to me the limit isn&#39;t working:\r\n\r\n    Query query = new Query(\r\n        Criteria.where( &quot;foo&quot; ).is( bar )\r\n        .and( &quot;status&quot; ).is( 1 ) );\r\n    query.limit( 10 );\r\n    \r\n    Update update = new Update();\r\n    update.set( &quot;status&quot;, 2 );\r\n    \r\n    WriteResult result = mongoTemplate.updateMulti( query, update, &quot;bazCollection&quot; );\r\n    \r\n    logger.info( result.getN() + &quot; documents updated&quot; );\r\n\r\nresult.getN() always returns the total number of documents that meet the Criteria and is ignoring the limit, and all documents meeting the criteria are modified.\r\n\r\nIs there a reason this isn&#39;t working?\r\n\r\nIs there a better approach to accomplish the same thing?","title":"Spring MongoTemplate updateMulti with Limit?","body":"<p>I'm using Spring Data's MongoTemplate to update multiple documents with a single query. I need to be able to limit the number of documents I update per call. For reasons unclear to me the limit isn't working:</p>\n\n<pre><code>Query query = new Query(\n    Criteria.where( \"foo\" ).is( bar )\n    .and( \"status\" ).is( 1 ) );\nquery.limit( 10 );\n\nUpdate update = new Update();\nupdate.set( \"status\", 2 );\n\nWriteResult result = mongoTemplate.updateMulti( query, update, \"bazCollection\" );\n\nlogger.info( result.getN() + \" documents updated\" );\n</code></pre>\n\n<p>result.getN() always returns the total number of documents that meet the Criteria and is ignoring the limit, and all documents meeting the criteria are modified.</p>\n\n<p>Is there a reason this isn't working?</p>\n\n<p>Is there a better approach to accomplish the same thing?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":14705970,"reputation":474,"user_id":10620689,"display_name":"Andrian Soluk"},"score":1,"creation_date":1661779379,"post_id":73529398,"comment_id":129845881,"body_markdown":"Did you try to add javax.validation.constraints? For example annotation: `javax.validation.constraints.NotBlank` or `javax.validation.constraints.NotNull`","body":"Did you try to add javax.validation.constraints? For example annotation: <code>javax.validation.constraints.NotBlank</code> or <code>javax.validation.constraints.NotNull</code>"}],"answers":[{"tags":[],"owner":{"account_id":1295621,"reputation":111,"user_id":7403310,"display_name":"saadeez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661784067,"creation_date":1661784067,"answer_id":73530525,"question_id":73529398,"body_markdown":"If I understood it correctly, you can make use of Java Reflections to check if annotation is set to nullable or not. \r\n\r\nFor example:\r\n\r\n    Field declaredField = Player.class.getDeclaredField(&quot;name&quot;);\r\n    \t\t\r\n    Column annotation = declaredField.getAnnotation(Column.class);\r\n    \r\n    System.out.println(annotation.nullable());\r\n\r\n","title":"Springboot Get if field is nullable on runtime","body":"<p>If I understood it correctly, you can make use of Java Reflections to check if annotation is set to nullable or not.</p>\n<p>For example:</p>\n<pre><code>Field declaredField = Player.class.getDeclaredField(&quot;name&quot;);\n        \nColumn annotation = declaredField.getAnnotation(Column.class);\n\nSystem.out.println(annotation.nullable());\n</code></pre>\n"}],"owner":{"account_id":558943,"reputation":512,"user_id":921329,"accept_rate":50,"display_name":"I&#241;igo Gorosabel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73530525,"answer_count":1,"score":0,"last_activity_date":1661784067,"creation_date":1661778923,"question_id":73529398,"body_markdown":"I&#39;m making an application that presents different filters depending on the data you want to query. I&#39;m trying to set if a filter is required or not based on its entities &quot;nullable&quot; property.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;PLAYER&quot;)\r\npublic class Player {\r\n\t...\r\n\t@Column(name = &quot;NAME&quot;, nullable = false)\r\n\tprivate String name;\r\n\t...\r\n}\r\n```\r\n\r\nThen with an API call I get the fields and I want to check if a field is nullable or no, to mark it as required.\r\n\r\nI have looked the documentation, but it just says what are the fields, it&#39;s options, how to use them, but nothing about checking the properties on runtime.\r\n\r\nCan it be done?\r\n\r\n","title":"Springboot Get if field is nullable on runtime","body":"<p>I'm making an application that presents different filters depending on the data you want to query. I'm trying to set if a filter is required or not based on its entities &quot;nullable&quot; property.</p>\n<pre><code>@Entity\n@Table(name = &quot;PLAYER&quot;)\npublic class Player {\n    ...\n    @Column(name = &quot;NAME&quot;, nullable = false)\n    private String name;\n    ...\n}\n</code></pre>\n<p>Then with an API call I get the fields and I want to check if a field is nullable or no, to mark it as required.</p>\n<p>I have looked the documentation, but it just says what are the fields, it's options, how to use them, but nothing about checking the properties on runtime.</p>\n<p>Can it be done?</p>\n"},{"tags":["java","spring-boot","azure","sharepoint","storage-file-share"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1653306962,"post_id":72346596,"comment_id":127811814,"body_markdown":"https://learn.microsoft.com/en-us/azure/storage/files/storage-java-how-to-use-file-storage?tabs=java","body":"<a href=\"https://learn.microsoft.com/en-us/azure/storage/files/storage-java-how-to-use-file-storage?tabs=java\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/storage/files/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21648916,"reputation":2333,"user_id":15969833,"display_name":"SaiSakethGuduru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1654218196,"creation_date":1654218196,"answer_id":72483728,"question_id":72346596,"body_markdown":"- *Here is the Sample code where you can create an Azure file share using Java Application.*\r\n\r\n```\r\npublic static Boolean createFileShare(String connectStr, String shareName)\r\n{\r\n    try\r\n    {\r\n        ShareClient shareClient = new ShareClientBuilder()\r\n            .connectionString(connectStr).shareName(shareName)\r\n            .buildClient();\r\n\r\n        shareClient.create();\r\n        return true;\r\n    }\r\n    catch (Exception e)\r\n    {\r\n        System.out.println(&quot;createFileShare exception: &quot; + e.getMessage());\r\n        return false;\r\n    }\r\n}\r\n\r\n```\r\n- *Thanks [ pringi](https://stackoverflow.com/users/496038/pringi &quot;3,139 reputation&quot;) for referring the documentation, for more information you can refer the [Microsoft Documentation](https://learn.microsoft.com/en-us/azure/storage/files/storage-java-how-to-use-file-storage?tabs=java#create-a-file-share)* ","title":"Copy files from Azure File Shares to a specific OneDrive or SharePoint location with Java","body":"<ul>\n<li><em>Here is the Sample code where you can create an Azure file share using Java Application.</em></li>\n</ul>\n<pre><code>public static Boolean createFileShare(String connectStr, String shareName)\n{\n    try\n    {\n        ShareClient shareClient = new ShareClientBuilder()\n            .connectionString(connectStr).shareName(shareName)\n            .buildClient();\n\n        shareClient.create();\n        return true;\n    }\n    catch (Exception e)\n    {\n        System.out.println(&quot;createFileShare exception: &quot; + e.getMessage());\n        return false;\n    }\n}\n\n</code></pre>\n<ul>\n<li><em>Thanks <a href=\"https://stackoverflow.com/users/496038/pringi\" title=\"3,139 reputation\"> pringi</a> for referring the documentation, for more information you can refer the <a href=\"https://learn.microsoft.com/en-us/azure/storage/files/storage-java-how-to-use-file-storage?tabs=java#create-a-file-share\" rel=\"nofollow noreferrer\">Microsoft Documentation</a></em></li>\n</ul>\n"}],"owner":{"account_id":9885599,"reputation":3,"user_id":7320212,"display_name":"Harsha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72483728,"answer_count":1,"score":-1,"last_activity_date":1661783419,"creation_date":1653299783,"question_id":72346596,"body_markdown":"I have a scenario which we use a Azure File Share storage to store large files and need to copy those files to another location such as OneDrive or Share Point. Copying files will be selected based on some criteria and I need to start this in a Spring Boot application with a scheduled task.\r\n\r\nIs this task feasible with Java and other above mentioned Microsoft Products?  ","title":"Copy files from Azure File Shares to a specific OneDrive or SharePoint location with Java","body":"<p>I have a scenario which we use a Azure File Share storage to store large files and need to copy those files to another location such as OneDrive or Share Point. Copying files will be selected based on some criteria and I need to start this in a Spring Boot application with a scheduled task.</p>\n<p>Is this task feasible with Java and other above mentioned Microsoft Products?</p>\n"},{"tags":["java","spring-boot","controller","guava","multimap"],"answers":[{"tags":[],"owner":{"account_id":364193,"reputation":27495,"user_id":708434,"accept_rate":70,"display_name":"Grzegorz Roniecki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661767345,"creation_date":1661767345,"answer_id":73527147,"question_id":73526525,"body_markdown":"It seems that you&#39;ve successfully added [`GuavaModule`](https://fasterxml.github.io/jackson-datatypes-collections/javadoc/guava/2.12/com/fasterxml/jackson/datatype/guava/GuavaModule.html) to Jackson&#39;s configuration, so you&#39;re only missing an additional Spring [`HttpMessageConverter`][1] for Jackson as documented [here][1]. In your case it&#39;s [`MappingJackson2HttpMessageConverter`][2], ex.:\r\n\r\n```\r\n@Configuration(proxyBeanMethods = false)\r\npublic class MyHttpMessageConvertersConfiguration {\r\n    @Bean\r\n    public HttpMessageConverters customConverters() {\r\n        return new HttpMessageConverters(new MappingJackson2HttpMessageConverter());\r\n    }\r\n}\r\n```\r\n\r\n(Or use constructor with explicit `ObjectMapper` for the custom converter if necessary, please consult the documentation.)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.7.3/reference/html/web.html#web.servlet.spring-mvc.message-converters\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/json/MappingJackson2HttpMessageConverter.html","title":"Using a MultiMap on spring boot controller","body":"<p>It seems that you've successfully added <a href=\"https://fasterxml.github.io/jackson-datatypes-collections/javadoc/guava/2.12/com/fasterxml/jackson/datatype/guava/GuavaModule.html\" rel=\"nofollow noreferrer\"><code>GuavaModule</code></a> to Jackson's configuration, so you're only missing an additional Spring <a href=\"https://docs.spring.io/spring-boot/docs/2.7.3/reference/html/web.html#web.servlet.spring-mvc.message-converters\" rel=\"nofollow noreferrer\"><code>HttpMessageConverter</code></a> for Jackson as documented <a href=\"https://docs.spring.io/spring-boot/docs/2.7.3/reference/html/web.html#web.servlet.spring-mvc.message-converters\" rel=\"nofollow noreferrer\">here</a>. In your case it's <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/converter/json/MappingJackson2HttpMessageConverter.html\" rel=\"nofollow noreferrer\"><code>MappingJackson2HttpMessageConverter</code></a>, ex.:</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\npublic class MyHttpMessageConvertersConfiguration {\n    @Bean\n    public HttpMessageConverters customConverters() {\n        return new HttpMessageConverters(new MappingJackson2HttpMessageConverter());\n    }\n}\n</code></pre>\n<p>(Or use constructor with explicit <code>ObjectMapper</code> for the custom converter if necessary, please consult the documentation.)</p>\n"},{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661782993,"creation_date":1661777873,"answer_id":73529160,"question_id":73526525,"body_markdown":"    The problem is that I can&#39;t find how to make spring boot parse this map in the controller without reformatting the request\r\n\r\nI&#39;m not sure what you meant by this, but I assume that you are sending the request like this :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIf you want to use `com.google.common.collect.Multimap` \r\nthere is no other way to send a request.\r\n\r\nIf you want to send a request in the form you mentioned in the question (withot **[]** brackets), as far as I can see, you have two options:\r\n1. Use `org.apache.commons.collections4.MultiValuedMap` with custom deserilizer;\r\n\r\nHere is how your custom deserilizer should look like:\r\n\r\n    import com.example.demo.dto.MyDTO;\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonToken;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonDeserializer;\r\n    import org.apache.commons.collections4.MultiValuedMap;\r\n    import org.apache.commons.collections4.multimap.ArrayListValuedHashMap;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    class MultiValuedMapJsonDeerializer extends JsonDeserializer&lt;MultiValuedMap&gt; {\r\n    \r\n        @Override\r\n        public MultiValuedMap deserialize(JsonParser jp, DeserializationContext deserializationContext) throws IOException {\r\n            MultiValuedMap&lt;MyDTO, MyDTO&gt; myDTOMyDTOMultiValuedMap = new ArrayListValuedHashMap&lt;&gt;();\r\n            if (jp.getCurrentToken() != JsonToken.START_OBJECT) {\r\n                throw new IOException(&quot;invalid start marker&quot;);\r\n            }\r\n    \r\n            while (jp.nextToken() != JsonToken.END_OBJECT) {\r\n                String fieldname = jp.getCurrentName();\r\n                jp.nextToken();\r\n                String value = jp.getText();\r\n                MyDTO key = new MyDTO(fieldname);\r\n                MyDTO myDTO = new MyDTO(value);\r\n                myDTOMyDTOMultiValuedMap.put(key, myDTO);\r\n            }\r\n            jp.close();\r\n    \r\n            return myDTOMyDTOMultiValuedMap;\r\n        }\r\n    \r\n        @Override\r\n        public Class&lt;MultiValuedMap&gt; handledType() {\r\n            return MultiValuedMap.class;\r\n        }\r\n    }\r\nHere is how endpoint shoud look like:\r\n\r\n \r\n\r\n  \r\n\r\n    @PostMapping(&quot;/test&quot;)\r\n        public void createABC(@RequestBody final MultiValuedMap&lt;MyDTO, MyDTO&gt; map) {\r\n            System.out.println(map);\r\n        }\r\n\r\nWhen you hit this endpoint, you should see output like this:\r\n\r\n    {MyDTO(keyB)=[MyDTO(B)], MyDTO(keyC)=[MyDTO(C), MyDTO(D)], MyDTO(keyA)=[MyDTO(A)]}\r\n\r\n2. Use `org.springframework.util.MultiValueMap`\r\n\r\nIf you want to use this class, you shoud send your request body as `x-www-form-urlencoded`. Here is an example from Postman:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd finally, if you decide to use this option here is an example how controller method should look like:\r\n\r\n    @PostMapping(&quot;/multiValueMap&quot;)\r\n        public void multiValueMap(@RequestBody MultiValueMap&lt;MyDTO, MyDTO&gt; multiValueMap) {\r\n            System.out.println(multiValueMap);\r\n           \r\n        }\r\n\r\nUsing this approach, you should see output like this:\r\n\r\n    {KeyB=[b], KeyA=[a, c]}\r\n\r\n  [1]: https://i.stack.imgur.com/GRiKw.png\r\n  [2]: https://i.stack.imgur.com/hsQJE.png\r\n","title":"Using a MultiMap on spring boot controller","body":"<pre><code>The problem is that I can't find how to make spring boot parse this map in the controller without reformatting the request\n</code></pre>\n<p>I'm not sure what you meant by this, but I assume that you are sending the request like this :</p>\n<p><a href=\"https://i.stack.imgur.com/GRiKw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GRiKw.png\" alt=\"enter image description here\" /></a></p>\n<p>If you want to use <code>com.google.common.collect.Multimap</code>\nthere is no other way to send a request.</p>\n<p>If you want to send a request in the form you mentioned in the question (withot <strong>[]</strong> brackets), as far as I can see, you have two options:</p>\n<ol>\n<li>Use <code>org.apache.commons.collections4.MultiValuedMap</code> with custom deserilizer;</li>\n</ol>\n<p>Here is how your custom deserilizer should look like:</p>\n<pre><code>import com.example.demo.dto.MyDTO;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonToken;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport org.apache.commons.collections4.MultiValuedMap;\nimport org.apache.commons.collections4.multimap.ArrayListValuedHashMap;\n\nimport java.io.IOException;\n\nclass MultiValuedMapJsonDeerializer extends JsonDeserializer&lt;MultiValuedMap&gt; {\n\n    @Override\n    public MultiValuedMap deserialize(JsonParser jp, DeserializationContext deserializationContext) throws IOException {\n        MultiValuedMap&lt;MyDTO, MyDTO&gt; myDTOMyDTOMultiValuedMap = new ArrayListValuedHashMap&lt;&gt;();\n        if (jp.getCurrentToken() != JsonToken.START_OBJECT) {\n            throw new IOException(&quot;invalid start marker&quot;);\n        }\n\n        while (jp.nextToken() != JsonToken.END_OBJECT) {\n            String fieldname = jp.getCurrentName();\n            jp.nextToken();\n            String value = jp.getText();\n            MyDTO key = new MyDTO(fieldname);\n            MyDTO myDTO = new MyDTO(value);\n            myDTOMyDTOMultiValuedMap.put(key, myDTO);\n        }\n        jp.close();\n\n        return myDTOMyDTOMultiValuedMap;\n    }\n\n    @Override\n    public Class&lt;MultiValuedMap&gt; handledType() {\n        return MultiValuedMap.class;\n    }\n}\n</code></pre>\n<p>Here is how endpoint shoud look like:</p>\n<pre><code>@PostMapping(&quot;/test&quot;)\n    public void createABC(@RequestBody final MultiValuedMap&lt;MyDTO, MyDTO&gt; map) {\n        System.out.println(map);\n    }\n</code></pre>\n<p>When you hit this endpoint, you should see output like this:</p>\n<pre><code>{MyDTO(keyB)=[MyDTO(B)], MyDTO(keyC)=[MyDTO(C), MyDTO(D)], MyDTO(keyA)=[MyDTO(A)]}\n</code></pre>\n<ol start=\"2\">\n<li>Use <code>org.springframework.util.MultiValueMap</code></li>\n</ol>\n<p>If you want to use this class, you shoud send your request body as <code>x-www-form-urlencoded</code>. Here is an example from Postman:</p>\n<p><a href=\"https://i.stack.imgur.com/hsQJE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hsQJE.png\" alt=\"enter image description here\" /></a></p>\n<p>And finally, if you decide to use this option here is an example how controller method should look like:</p>\n<pre><code>@PostMapping(&quot;/multiValueMap&quot;)\n    public void multiValueMap(@RequestBody MultiValueMap&lt;MyDTO, MyDTO&gt; multiValueMap) {\n        System.out.println(multiValueMap);\n       \n    }\n</code></pre>\n<p>Using this approach, you should see output like this:</p>\n<pre><code>{KeyB=[b], KeyA=[a, c]}\n</code></pre>\n"}],"owner":{"account_id":323468,"reputation":341,"user_id":643503,"accept_rate":60,"display_name":"Neill Lima"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73529160,"answer_count":2,"score":0,"last_activity_date":1661782993,"creation_date":1661764238,"question_id":73526525,"body_markdown":"I have the following payload:\r\n\r\n```\r\n{\r\n    &quot;KeyA&quot;: &quot;ValueA&quot;,\r\n    &quot;KeyB&quot;: &quot;ValueB&quot;,\r\n    &quot;KeyC&quot;: &quot;ValueC&quot;\r\n    ...\r\n    &quot;KeyZ&quot;: &quot;ValueZ&quot;\r\n}\r\n```\r\n\r\nThat I am able to parse properly in a spring boot controller with:\r\n\r\n```\r\n@PostMapping\r\n  public ResponseEntity&lt;Object&gt; createABC(\r\n      @RequestBody final Map&lt;MyDTO, MyDTO&gt; map\r\n  ) {\r\n```\r\n\r\nFor the sake of brevity, consider `MyDTO` as:\r\n\r\n```\r\n@Data\r\n@ToString(includeFieldNames=false)\r\npublic class MyDTO implements Comparable&lt;MyDTO&gt; {\r\n  private final String name;\r\n```\r\n\r\nThe problem is:\r\n\r\nI can have duplicated keys on the input:\r\n\r\n```\r\n{\r\n    &quot;KeyA&quot;: &quot;ValueA&quot;,\r\n    &quot;KeyA&quot;: &quot;ValueA.1&quot;,\r\n    ...\r\n}\r\n```\r\n\r\nWhich then gets deduplicated by the native Java Map implementation - only the second key gets saved and I am okay with that. I found out [Guava Multimap](https://www.baeldung.com/guava-multimap) that would allow me to do it. This would allow me to accept a map with duplicates and let me execute the custom logic on the controller/service layer.\r\n\r\nThe problem is that I can&#39;t find how to make spring boot parse this map in the controller without reformatting the request, I would like to keep it as it is. I was able to add the [Object Mapper](https://stackoverflow.com/questions/30893215/enable-json-serialization-of-multimap-in-spring-boot-project) but I am failing to be able to receive this map from the request at the controller and use it. \r\n\r\nHas anyone faced this issue before?","title":"Using a MultiMap on spring boot controller","body":"<p>I have the following payload:</p>\n<pre><code>{\n    &quot;KeyA&quot;: &quot;ValueA&quot;,\n    &quot;KeyB&quot;: &quot;ValueB&quot;,\n    &quot;KeyC&quot;: &quot;ValueC&quot;\n    ...\n    &quot;KeyZ&quot;: &quot;ValueZ&quot;\n}\n</code></pre>\n<p>That I am able to parse properly in a spring boot controller with:</p>\n<pre><code>@PostMapping\n  public ResponseEntity&lt;Object&gt; createABC(\n      @RequestBody final Map&lt;MyDTO, MyDTO&gt; map\n  ) {\n</code></pre>\n<p>For the sake of brevity, consider <code>MyDTO</code> as:</p>\n<pre><code>@Data\n@ToString(includeFieldNames=false)\npublic class MyDTO implements Comparable&lt;MyDTO&gt; {\n  private final String name;\n</code></pre>\n<p>The problem is:</p>\n<p>I can have duplicated keys on the input:</p>\n<pre><code>{\n    &quot;KeyA&quot;: &quot;ValueA&quot;,\n    &quot;KeyA&quot;: &quot;ValueA.1&quot;,\n    ...\n}\n</code></pre>\n<p>Which then gets deduplicated by the native Java Map implementation - only the second key gets saved and I am okay with that. I found out <a href=\"https://www.baeldung.com/guava-multimap\" rel=\"nofollow noreferrer\">Guava Multimap</a> that would allow me to do it. This would allow me to accept a map with duplicates and let me execute the custom logic on the controller/service layer.</p>\n<p>The problem is that I can't find how to make spring boot parse this map in the controller without reformatting the request, I would like to keep it as it is. I was able to add the <a href=\"https://stackoverflow.com/questions/30893215/enable-json-serialization-of-multimap-in-spring-boot-project\">Object Mapper</a> but I am failing to be able to receive this map from the request at the controller and use it.</p>\n<p>Has anyone faced this issue before?</p>\n"},{"tags":["java","selenium","selenium-webdriver","junit","ui-testing"],"answers":[{"tags":[],"owner":{"account_id":4878863,"reputation":664,"user_id":3933184,"accept_rate":88,"display_name":"pr4bh4sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469274596,"creation_date":1469274596,"answer_id":38541460,"question_id":38541105,"body_markdown":"The feature you are looking for is called Soft Assertion, Try [assertj][1]\r\n\r\n        SoftAssertions soft = new SoftAssertions();\r\n        soft.assertThat(&lt;things&gt;).isEqualTo(&lt;other_thing&gt;);\r\n        soft.assertAll();\r\nSoft assert will allow execution to next step without throwing exception at failure. At the end ```assertAll()``` method with throw all collected error at onece.\r\n\r\n\r\n  [1]: http://joel-costigliola.github.io/assertj/","title":"Continuing execution even if assert statement fails in selenium using Junit 4 framework","body":"<p>The feature you are looking for is called Soft Assertion, Try <a href=\"http://joel-costigliola.github.io/assertj/\" rel=\"nofollow\">assertj</a></p>\n\n<pre><code>    SoftAssertions soft = new SoftAssertions();\n    soft.assertThat(&lt;things&gt;).isEqualTo(&lt;other_thing&gt;);\n    soft.assertAll();\n</code></pre>\n\n<p>Soft assert will allow execution to next step without throwing exception at failure. At the end <code>assertAll()</code> method with throw all collected error at onece.</p>\n"},{"tags":[],"owner":{"account_id":7062573,"reputation":1145,"user_id":5407189,"display_name":"Jeremiah"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1469275542,"creation_date":1469275219,"answer_id":38541553,"question_id":38541105,"body_markdown":"For a purely JUnit solution, use the **ErrorCollector** TestRule to handle your asserstions.\r\n\r\nThe **ErrorCollector** Rule does not report back until the test execution completes.\r\n\r\n\r\n    import org.hamcrest.core.IsEqual;\r\n    import org.hamcrest.core.IsNull;\r\n    import org.hamcrest.text.IsEmptyString;\r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    import org.junit.rules.ErrorCollector;\r\n    \r\n    public class ErrorCollectorTest {\r\n    \t@Rule\r\n    \tpublic ErrorCollector collector = new ErrorCollector();\r\n    \t\r\n    \t@Test\r\n    \tpublic void testMultiAssertFailure() {\r\n    \t\tcollector.checkThat(true, IsEqual.equalTo(false));\r\n    \t\tcollector.checkThat(&quot;notEmpty&quot;, IsEmptyString.isEmptyString());\r\n    \t\tcollector.checkThat(new Object(), IsNull.nullValue());\r\n    \t\tcollector.checkThat(null, IsNull.notNullValue());\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tthrow new RuntimeException(&quot;Exception&quot;);\r\n    \t\t} catch (Exception ex){\r\n    \t\t\tcollector.addError(ex);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nIn your specific example:\r\n\r\n    assertTrue(&quot;string on failure&quot;,condition1);\r\n    assertTrue(&quot;string on failure&quot;,condition2);\r\n    assertTrue(&quot;string on failure&quot;,condition3);\r\n    assertTrue(&quot;string on failure&quot;,condition4);\r\n    assertTrue(&quot;string on failure&quot;,condition5);\r\n\r\nwould become\r\n\r\n    Matcher&lt;Boolean&gt; matchesTrue = IsEqual.equalTo(true);\r\n    collector.checkThat(&quot;String on Failure&quot;, condition1, matchesTrue);\r\n    collector.checkThat(&quot;String on Failure&quot;, condition2, matchesTrue);\r\n    collector.checkThat(&quot;String on Failure&quot;, condition3, matchesTrue);\r\n    collector.checkThat(&quot;String on Failure&quot;, condition4, matchesTrue);\r\n    collector.checkThat(&quot;String on Failure&quot;, condition5, matchesTrue);","title":"Continuing execution even if assert statement fails in selenium using Junit 4 framework","body":"<p>For a purely JUnit solution, use the <strong>ErrorCollector</strong> TestRule to handle your asserstions.</p>\n\n<p>The <strong>ErrorCollector</strong> Rule does not report back until the test execution completes.</p>\n\n<pre><code>import org.hamcrest.core.IsEqual;\nimport org.hamcrest.core.IsNull;\nimport org.hamcrest.text.IsEmptyString;\nimport org.junit.Rule;\nimport org.junit.Test;\nimport org.junit.rules.ErrorCollector;\n\npublic class ErrorCollectorTest {\n    @Rule\n    public ErrorCollector collector = new ErrorCollector();\n\n    @Test\n    public void testMultiAssertFailure() {\n        collector.checkThat(true, IsEqual.equalTo(false));\n        collector.checkThat(\"notEmpty\", IsEmptyString.isEmptyString());\n        collector.checkThat(new Object(), IsNull.nullValue());\n        collector.checkThat(null, IsNull.notNullValue());\n\n        try {\n            throw new RuntimeException(\"Exception\");\n        } catch (Exception ex){\n            collector.addError(ex);\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>In your specific example:</p>\n\n<pre><code>assertTrue(\"string on failure\",condition1);\nassertTrue(\"string on failure\",condition2);\nassertTrue(\"string on failure\",condition3);\nassertTrue(\"string on failure\",condition4);\nassertTrue(\"string on failure\",condition5);\n</code></pre>\n\n<p>would become</p>\n\n<pre><code>Matcher&lt;Boolean&gt; matchesTrue = IsEqual.equalTo(true);\ncollector.checkThat(\"String on Failure\", condition1, matchesTrue);\ncollector.checkThat(\"String on Failure\", condition2, matchesTrue);\ncollector.checkThat(\"String on Failure\", condition3, matchesTrue);\ncollector.checkThat(\"String on Failure\", condition4, matchesTrue);\ncollector.checkThat(\"String on Failure\", condition5, matchesTrue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469278824,"creation_date":1469278824,"answer_id":38542082,"question_id":38541105,"body_markdown":"The other option here is a best practice that many people say you should be doing always anyway: only put **one** assert in each test case.\r\n\r\nBy doing so, each potential failure is somehow isolated from each other; and you directly get what you are looking for - as JUnit will tell you exactly, which tests failed and which passed. Without the need to introduce other concepts.\r\n\r\n( you see, even if those other concepts like ErrorCollector or SoftAssertions are pretty easy and straight forward to use - they add a little bit of complexity to your code; making it a bit harder to read and understand ) ","title":"Continuing execution even if assert statement fails in selenium using Junit 4 framework","body":"<p>The other option here is a best practice that many people say you should be doing always anyway: only put <strong>one</strong> assert in each test case.</p>\n\n<p>By doing so, each potential failure is somehow isolated from each other; and you directly get what you are looking for - as JUnit will tell you exactly, which tests failed and which passed. Without the need to introduce other concepts.</p>\n\n<p>( you see, even if those other concepts like ErrorCollector or SoftAssertions are pretty easy and straight forward to use - they add a little bit of complexity to your code; making it a bit harder to read and understand ) </p>\n"}],"owner":{"account_id":8559343,"reputation":61,"user_id":6413840,"display_name":"Pankaj Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6795,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1469830059,"answer_count":3,"score":0,"last_activity_date":1661782588,"creation_date":1469272315,"question_id":38541105,"body_markdown":"In my test case its compulsory to use multiple assertions. Problem is that if one assertion fails then execution stops. I want that test case continue to execute even after encountering assertion failure, and it shows all assertion failure after execution.\r\n\r\nFor example :\r\n\r\n    assertTrue(&quot;string on failure&quot;,condition1);\r\n    assertTrue(&quot;string on failure&quot;,condition2);\r\n    assertTrue(&quot;string on failure&quot;,condition3);\r\n    assertTrue(&quot;string on failure&quot;,condition4);\r\n    assertTrue(&quot;string on failure&quot;,condition5);\r\n\r\nHere in this example i want that if assert fails for condition2 , then it should continue to execute and show all failures after complete execution.\r\n\r\n ","title":"Continuing execution even if assert statement fails in selenium using Junit 4 framework","body":"<p>In my test case its compulsory to use multiple assertions. Problem is that if one assertion fails then execution stops. I want that test case continue to execute even after encountering assertion failure, and it shows all assertion failure after execution.</p>\n\n<p>For example :</p>\n\n<pre><code>assertTrue(\"string on failure\",condition1);\nassertTrue(\"string on failure\",condition2);\nassertTrue(\"string on failure\",condition3);\nassertTrue(\"string on failure\",condition4);\nassertTrue(\"string on failure\",condition5);\n</code></pre>\n\n<p>Here in this example i want that if assert fails for condition2 , then it should continue to execute and show all failures after complete execution.</p>\n"},{"tags":["java","android","android-studio","android-recyclerview","android-textwatcher"],"comments":[{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1661776050,"post_id":73521012,"comment_id":129844605,"body_markdown":"I don&#39;t understand what you mean. Please explain in detail and add an example image if required.","body":"I don&#39;t understand what you mean. Please explain in detail and add an example image if required."},{"owner":{"account_id":13255231,"reputation":1,"user_id":9571544,"display_name":"Emtenan YYC"},"score":0,"creation_date":1661782579,"post_id":73521012,"comment_id":129847141,"body_markdown":"i&#39;ve add a photo , hope you understand","body":"i&#39;ve add a photo , hope you understand"}],"owner":{"account_id":13255231,"reputation":1,"user_id":9571544,"display_name":"Emtenan YYC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661782528,"creation_date":1661709580,"question_id":73521012,"body_markdown":"I want to create a recipe application, I the user to add the ingredients by creating only one Edit text, and every time the user press enter I want to show the item above the Edit text horizontally. \r\nuser also can edit the item for example delete it. \r\n\r\nI tried to create a recycler view :\r\n\r\n\r\n\r\n\r\n\r\n\r\n    &lt;LinearLayout \r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:id=&quot;@+id/line1&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Ingrediants:&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:id=&quot;@+id/textviewtest&quot;/&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:layout_marginTop=&quot;23dp&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/recycletextitme&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        /&gt;\r\n\r\n    &lt;EditText\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;exe:3 tomatoes...&quot;\r\n        android:singleLine=&quot;true&quot;\r\n        android:id=&quot;@+id/edititem&quot;\r\n        /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\nwith adaper \r\n\r\n\r\n\r\n\r\n\r\n\r\n        public class RecycleIngAdapter extends RecyclerView.Adapter&lt;RecycleIngAdapter.IngHolder&gt;   {\r\n\r\n    String sitme;\r\n    Context context;\r\n\r\n    public RecycleIngAdapter ( String sitme , Context context){\r\n        this.context = context ;\r\n        this.sitme = sitme;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public IngHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item,parent,false);\r\n        //holder will take the info put it in the item layout\r\n        IngHolder holder = new IngHolder(view);\r\n        return holder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull IngHolder holder, int position) {\r\n        holder.item.setText(sitme);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return 0 ;\r\n    }\r\n\r\n\r\n    ///class holder\r\n\r\n    class IngHolder extends RecyclerView.ViewHolder {\r\n\r\n    TextView item;\r\n\r\n    public IngHolder(@NonNull View itemView) {\r\n        super(itemView);\r\n\r\n        item = (TextView) itemView.findViewById(R.id.textitem);\r\n        itemView.findViewById(R.id.bottomdelet).setOnClickListener(view -&gt;{\r\n\r\n        });\r\n\r\n\r\n    }\r\n    }//end holder class\r\n\r\n}\r\n\r\n\r\nlike this :\r\n[enter image description here][1] \r\n\r\n\r\n\r\nI tried also to use the text watcher but it doesn&#39;t work :(\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tTviE.png","title":"How to get value from user in recycler view and edit the value?","body":"<p>I want to create a recipe application, I the user to add the ingredients by creating only one Edit text, and every time the user press enter I want to show the item above the Edit text horizontally.\nuser also can edit the item for example delete it.</p>\n<p>I tried to create a recycler view :</p>\n<pre><code>&lt;LinearLayout \nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.MainActivity&quot;\nandroid:orientation=&quot;vertical&quot;\nandroid:id=&quot;@+id/line1&quot;&gt;\n\n&lt;TextView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Ingrediants:&quot;\n    android:textSize=&quot;20dp&quot;\n    android:id=&quot;@+id/textviewtest&quot;/&gt;\n\n&lt;androidx.recyclerview.widget.RecyclerView\n    android:layout_marginTop=&quot;23dp&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:id=&quot;@+id/recycletextitme&quot;\n    android:orientation=&quot;horizontal&quot;\n    /&gt;\n\n&lt;EditText\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:hint=&quot;exe:3 tomatoes...&quot;\n    android:singleLine=&quot;true&quot;\n    android:id=&quot;@+id/edititem&quot;\n    /&gt;\n</code></pre>\n\n<p>with adaper</p>\n<pre><code>    public class RecycleIngAdapter extends RecyclerView.Adapter&lt;RecycleIngAdapter.IngHolder&gt;   {\n\nString sitme;\nContext context;\n\npublic RecycleIngAdapter ( String sitme , Context context){\n    this.context = context ;\n    this.sitme = sitme;\n}\n\n\n@NonNull\n@Override\npublic IngHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item,parent,false);\n    //holder will take the info put it in the item layout\n    IngHolder holder = new IngHolder(view);\n    return holder;\n}\n\n@Override\npublic void onBindViewHolder(@NonNull IngHolder holder, int position) {\n    holder.item.setText(sitme);\n}\n\n@Override\npublic int getItemCount() {\n    return 0 ;\n}\n\n\n///class holder\n\nclass IngHolder extends RecyclerView.ViewHolder {\n\nTextView item;\n\npublic IngHolder(@NonNull View itemView) {\n    super(itemView);\n\n    item = (TextView) itemView.findViewById(R.id.textitem);\n    itemView.findViewById(R.id.bottomdelet).setOnClickListener(view -&gt;{\n\n    });\n\n\n}\n}//end holder class\n</code></pre>\n<p>}</p>\n<p>like this :\n<a href=\"https://i.stack.imgur.com/tTviE.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried also to use the text watcher but it doesn't work :(</p>\n"},{"tags":["java","android","libraries","crop","image-cropper"],"owner":{"account_id":12515593,"reputation":11,"user_id":9108926,"display_name":"Sun Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661782397,"creation_date":1661782304,"question_id":73530142,"body_markdown":"\r\n**i am adding these activity in menifestfile but showing red line and error unresolve**\r\n```\r\n\r\n    &lt;activity\r\n                android:name=&quot;com.theartofdev.edmodo.cropper.CropImageActivity&quot;     \r\n                android:theme=&quot;@style/Base.Theme.AppCompat&quot; /&gt;\r\n\r\n```\r\n**this is manifest.xml file I add an activity for image cropper but showing error**\r\n\r\n\r\n```\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            package=&quot;com.example.imagetest&quot;&gt;\r\n            &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n            &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n            &lt;application\r\n                android:allowBackup=&quot;true&quot;\r\n                android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n                android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n                android:icon=&quot;@mipmap/ic_launcher&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n                android:supportsRtl=&quot;true&quot;\r\n                android:theme=&quot;@style/Theme.Imagetest&quot;\r\n                tools:targetApi=&quot;31&quot;&gt;\r\n                &lt;activity\r\n                    android:name=&quot;.MainActivity&quot;\r\n                    android:exported=&quot;true&quot;&gt;\r\n                    &lt;intent-filter&gt;\r\n                        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;    \r\n                        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                    &lt;/intent-filter&gt;\r\n                &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;com.theartofdev.edmodo.cropper.CropImageActivity&quot;     \r\n            android:theme=&quot;@style/Base.Theme.AppCompat&quot; /&gt;\r\n        &lt;/application&gt;    \r\n        &lt;/manifest&gt;\r\n\r\n```\r\n**this is gradelfile in which crop library include**\r\n\r\n```\r\n \r\n\r\nplugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n    android {\r\n        compileSdk 32    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.imagetest&quot;\r\n            minSdk 21\r\n            targetSdk 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }    \r\n    dependencies {\r\n        implementation &#39;com.theartofdev.edmodo:android-image-cropper:2.6.0&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    }\r\n\r\n```\r\n**here is setting.gradlefile**\r\n```\r\npluginManagement {\r\n    repositories {\r\n        gradlePluginPortal()\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven { url &#39;https://jitpack.io&#39; }\r\n    }\r\n}\r\nrootProject.name = &quot;imagetest&quot;\r\ninclude &#39;:app&#39;\r\n\r\n```\r\nmore details of the question is ..................................................\r\n\r\n`i am getting get lines in menifestfile under activity for crop image. please someone help me`\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"I am unable to use cropper image library because while adding cropper activity it is showing error. my menifest.xml is here","body":"<p><strong>i am adding these activity in menifestfile but showing red line and error unresolve</strong></p>\n<pre><code>\n    &lt;activity\n                android:name=&quot;com.theartofdev.edmodo.cropper.CropImageActivity&quot;     \n                android:theme=&quot;@style/Base.Theme.AppCompat&quot; /&gt;\n\n</code></pre>\n<p><strong>this is manifest.xml file I add an activity for image cropper but showing error</strong></p>\n<pre><code>\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n        &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n            package=&quot;com.example.imagetest&quot;&gt;\n            &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n            &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n            &lt;application\n                android:allowBackup=&quot;true&quot;\n                android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n                android:fullBackupContent=&quot;@xml/backup_rules&quot;\n                android:icon=&quot;@mipmap/ic_launcher&quot;\n                android:label=&quot;@string/app_name&quot;\n                android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n                android:supportsRtl=&quot;true&quot;\n                android:theme=&quot;@style/Theme.Imagetest&quot;\n                tools:targetApi=&quot;31&quot;&gt;\n                &lt;activity\n                    android:name=&quot;.MainActivity&quot;\n                    android:exported=&quot;true&quot;&gt;\n                    &lt;intent-filter&gt;\n                        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;    \n                        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n                    &lt;/intent-filter&gt;\n                &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;com.theartofdev.edmodo.cropper.CropImageActivity&quot;     \n            android:theme=&quot;@style/Base.Theme.AppCompat&quot; /&gt;\n        &lt;/application&gt;    \n        &lt;/manifest&gt;\n\n</code></pre>\n<p><strong>this is gradelfile in which crop library include</strong></p>\n<pre><code> \n\nplugins {\n        id 'com.android.application'\n    }\n    android {\n        compileSdk 32    \n        defaultConfig {\n            applicationId &quot;com.example.imagetest&quot;\n            minSdk 21\n            targetSdk 32\n            versionCode 1\n            versionName &quot;1.0&quot;    \n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        }    \n        buildTypes {\n            release {\n                minifyEnabled false\n                proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n            }\n        }\n        compileOptions {\n            sourceCompatibility JavaVersion.VERSION_1_8\n            targetCompatibility JavaVersion.VERSION_1_8\n        }\n    }    \n    dependencies {\n        implementation 'com.theartofdev.edmodo:android-image-cropper:2.6.0'\n        implementation 'androidx.appcompat:appcompat:1.4.1'\n        implementation 'com.google.android.material:material:1.6.1'\n        implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n        testImplementation 'junit:junit:4.13.2'\n        androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n        androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    }\n\n</code></pre>\n<p><strong>here is setting.gradlefile</strong></p>\n<pre><code>pluginManagement {\n    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        maven { url 'https://jitpack.io' }\n    }\n}\nrootProject.name = &quot;imagetest&quot;\ninclude ':app'\n\n</code></pre>\n<p>more details of the question is ..................................................</p>\n<p><code>i am getting get lines in menifestfile under activity for crop image. please someone help me</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1661782522,"post_id":73530143,"comment_id":129847120,"body_markdown":"You first ask the user to enter the name, then the text, then you do `name = text;`, so you overwrite the value of the variable `name` with what&#39;s in `text`. Why? Remove that line, and change `fw.write(name);` into `fw.write(text);`","body":"You first ask the user to enter the name, then the text, then you do <code>name = text;</code>, so you overwrite the value of the variable <code>name</code> with what&#39;s in <code>text</code>. Why? Remove that line, and change <code>fw.write(name);</code> into <code>fw.write(text);</code>"}],"owner":{"account_id":26189364,"reputation":21,"user_id":19871448,"display_name":"Michael Oliva Tonilon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661782396,"creation_date":1661782306,"question_id":73530143,"body_markdown":"I am new to Java File Handling and I am planning to make a switch case in which the user will have to Press 1: to Create a File, Press 2: To Find the Created File and Write the File, and Press 3: To Display the file to the console. This is my practiced code, I am stuck with finding the file, I have no idea what to do anymore, here is my code. I am Stuck with Case 2.\r\n\r\nswitch(pickaNum) {\r\n     case 1: // Create a File\r\n     Scanner input = new Scanner(System.in);\r\n     System.out.println(&quot;Enter the Name of the File You Want to Create: &quot;); \r\n     String fileName;\r\n     fileName = input.nextLine();\r\n     fileName = fileName + &quot;.txt&quot;;\r\n     File file = new File(fileName);\r\n     file.createNewFile();\r\n     System.exit(0);\r\n\r\n     break;\r\n     case 2: // Find and Write Text\r\n     //String text;\r\n      Scanner sc1 = new Scanner(System.in);\r\n     System.out.println(&quot;Name of the File you Want to Write? &quot;);\r\n     String name = sc1.nextLine();\r\n    \r\n     \r\n     System.out.println(&quot;Please Write Text(s) Here: &quot;);\r\n     String text = sc1.nextLine();\r\n     name = text;\r\n     FileWriter fw = new FileWriter(name);\r\n     fw.write(name);\r\n     fw.close();\r\n     \r\n    break;\r\n    case 3:\r\n\r\n","title":"Find the File from user input","body":"<p>I am new to Java File Handling and I am planning to make a switch case in which the user will have to Press 1: to Create a File, Press 2: To Find the Created File and Write the File, and Press 3: To Display the file to the console. This is my practiced code, I am stuck with finding the file, I have no idea what to do anymore, here is my code. I am Stuck with Case 2.</p>\n<p>switch(pickaNum) {\ncase 1: // Create a File\nScanner input = new Scanner(System.in);\nSystem.out.println(&quot;Enter the Name of the File You Want to Create: &quot;);\nString fileName;\nfileName = input.nextLine();\nfileName = fileName + &quot;.txt&quot;;\nFile file = new File(fileName);\nfile.createNewFile();\nSystem.exit(0);</p>\n<pre><code> break;\n case 2: // Find and Write Text\n //String text;\n  Scanner sc1 = new Scanner(System.in);\n System.out.println(&quot;Name of the File you Want to Write? &quot;);\n String name = sc1.nextLine();\n\n \n System.out.println(&quot;Please Write Text(s) Here: &quot;);\n String text = sc1.nextLine();\n name = text;\n FileWriter fw = new FileWriter(name);\n fw.write(name);\n fw.close();\n \nbreak;\ncase 3:\n</code></pre>\n"},{"tags":["java","mongodb","mongodb-query","azure-cosmosdb-mongoapi"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1661781077,"post_id":73529619,"comment_id":129846542,"body_markdown":"What is the version of your Java driver? Check the API docs for your driver version.","body":"What is the version of your Java driver? Check the API docs for your driver version."},{"owner":{"account_id":515948,"reputation":1104,"user_id":1843591,"accept_rate":76,"display_name":"user1843591"},"score":0,"creation_date":1661781628,"post_id":73529619,"comment_id":129846774,"body_markdown":"it was 3.4.2, after your question I updated to 3.12.11 but the error remains","body":"it was 3.4.2, after your question I updated to 3.12.11 but the error remains"},{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":0,"creation_date":1661781721,"post_id":73529619,"comment_id":129846817,"body_markdown":"What do you intend to do with `forEach` loop?","body":"What do you intend to do with <code>forEach</code> loop?"},{"owner":{"account_id":515948,"reputation":1104,"user_id":1843591,"accept_rate":76,"display_name":"user1843591"},"score":0,"creation_date":1661781823,"post_id":73529619,"comment_id":129846858,"body_markdown":"collect all documents that match my filter and write them as a consolidated file to a file store","body":"collect all documents that match my filter and write them as a consolidated file to a file store"},{"owner":{"account_id":13989269,"reputation":1297,"user_id":10103607,"display_name":"akg179"},"score":0,"creation_date":1661782268,"post_id":73529619,"comment_id":129847022,"body_markdown":"@user1843591 Remove the left hand side of the assignment i.e. `final Document queryResult2 =`","body":"@user1843591 Remove the left hand side of the assignment i.e. <code>final Document queryResult2 =</code>"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1661783213,"post_id":73529619,"comment_id":129847366,"body_markdown":"For your driver version try this: `collection.find(filter).cursor()` returns a `MongoCursor` (you can use its methods for iteration).","body":"For your driver version try this: <code>collection.find(filter).cursor()</code> returns a <code>MongoCursor</code> (you can use its methods for iteration)."}],"answers":[{"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661782281,"creation_date":1661782281,"answer_id":73530135,"question_id":73529619,"body_markdown":"There are two errors here:\r\n    \r\n    Document queryResult2 = collection.find(filter).forEach((Block&lt;? super Document&gt;) doc -&gt; System.out.println(doc.toJson()));\r\n\r\n`forEach` has a return type of `void`, it doesn&#39;t return anything. So the assignment is wrong. That&#39;s why you get `cannot convert from void to document error`\r\n\r\nSecondly `Document`, represents a single document, not a collection of documents. So the assignment to simply a `Document` object is wrong as well.\r\n\r\nTry something like this:\r\n\r\n    List&lt;Document&gt; documents = collection.find(filter).map(doc -&gt; doc).into(new ArrayList&lt;Document&gt;());\r\n\r\nHere&#39;s the link to the `forach` and `map` Mongodb [documentation][1].\r\n\r\n\r\n  [1]: https://mongodb.github.io/mongo-java-driver/3.6/javadoc/?com/mongodb/client/MongoCollection.html","title":"Java and MongoDB: forEach(Block&lt;? super Document&gt;) is ambiguous","body":"<p>There are two errors here:</p>\n<pre><code>Document queryResult2 = collection.find(filter).forEach((Block&lt;? super Document&gt;) doc -&gt; System.out.println(doc.toJson()));\n</code></pre>\n<p><code>forEach</code> has a return type of <code>void</code>, it doesn't return anything. So the assignment is wrong. That's why you get <code>cannot convert from void to document error</code></p>\n<p>Secondly <code>Document</code>, represents a single document, not a collection of documents. So the assignment to simply a <code>Document</code> object is wrong as well.</p>\n<p>Try something like this:</p>\n<pre><code>List&lt;Document&gt; documents = collection.find(filter).map(doc -&gt; doc).into(new ArrayList&lt;Document&gt;());\n</code></pre>\n<p>Here's the link to the <code>forach</code> and <code>map</code> Mongodb <a href=\"https://mongodb.github.io/mongo-java-driver/3.6/javadoc/?com/mongodb/client/MongoCollection.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}],"owner":{"account_id":515948,"reputation":1104,"user_id":1843591,"accept_rate":76,"display_name":"user1843591"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73530135,"answer_count":1,"score":0,"last_activity_date":1661782281,"creation_date":1661779888,"question_id":73529619,"body_markdown":"I&#39;m trying to extend the Azure Java / MongoDB [simple example][1] with a filter from [mongodb docs][2] while getting my head around functional Java. The below code is throwing errors\r\n\r\n\r\n            MongoDatabase database = mongoClient.getDatabase(&quot;my-db&quot;);\r\n            Document queryResult = collection.find(Filters.eq(&quot;fruit&quot;, &quot;apple&quot;)).first();\r\n\r\n            Bson filter = Filters.and(Filters.eq(&quot;param&quot;, 2293), Filters.eq(&quot;param1&quot;, 202));\r\n            final Document queryResult2 = collection.find(filter).forEach(doc -&gt; \r\n            System.out.println(doc.toJson()));\r\n\r\nis giving me the following error\r\n\r\n    The method forEach(Block&lt;? super Document&gt;) is ambiguous for the type FindIterable&lt;Document&gt;&quot;,\r\n\r\nI have looked at this [answer][3] and tried various things including below but my lack of experience with `forEach` is obvious!\r\n\r\n               //cannot convert from void to document error\r\n                Document queryResult2 = collection.find(filter).forEach((Block&lt;? super Document&gt;) doc -&gt; System.out.println(doc.toJson()));\r\n    \r\n                //cannot convert from void to document error\r\n                final Document queryResult2 = collection.find(filter).forEach((Consumer&lt;? super Document&gt;) (Document document) -&gt; {\r\n                    System.out.println(document.toJson());\r\n                });\r\n\r\nAll help/tips appreciated\r\n\r\n\r\n  [1]: https://github.com/Azure-Samples/azure-cosmos-db-mongodb-java-getting-started\r\n  [2]: https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/crud/read-operations/retrieve/\r\n  [3]: https://stackoverflow.com/questions/47023751/java-mongodb-specify-which-foreach-to-use\r\n\r\n","title":"Java and MongoDB: forEach(Block&lt;? super Document&gt;) is ambiguous","body":"<p>I'm trying to extend the Azure Java / MongoDB <a href=\"https://github.com/Azure-Samples/azure-cosmos-db-mongodb-java-getting-started\" rel=\"nofollow noreferrer\">simple example</a> with a filter from <a href=\"https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/crud/read-operations/retrieve/\" rel=\"nofollow noreferrer\">mongodb docs</a> while getting my head around functional Java. The below code is throwing errors</p>\n<pre><code>        MongoDatabase database = mongoClient.getDatabase(&quot;my-db&quot;);\n        Document queryResult = collection.find(Filters.eq(&quot;fruit&quot;, &quot;apple&quot;)).first();\n\n        Bson filter = Filters.and(Filters.eq(&quot;param&quot;, 2293), Filters.eq(&quot;param1&quot;, 202));\n        final Document queryResult2 = collection.find(filter).forEach(doc -&gt; \n        System.out.println(doc.toJson()));\n</code></pre>\n<p>is giving me the following error</p>\n<pre><code>The method forEach(Block&lt;? super Document&gt;) is ambiguous for the type FindIterable&lt;Document&gt;&quot;,\n</code></pre>\n<p>I have looked at this <a href=\"https://stackoverflow.com/questions/47023751/java-mongodb-specify-which-foreach-to-use\">answer</a> and tried various things including below but my lack of experience with <code>forEach</code> is obvious!</p>\n<pre><code>           //cannot convert from void to document error\n            Document queryResult2 = collection.find(filter).forEach((Block&lt;? super Document&gt;) doc -&gt; System.out.println(doc.toJson()));\n\n            //cannot convert from void to document error\n            final Document queryResult2 = collection.find(filter).forEach((Consumer&lt;? super Document&gt;) (Document document) -&gt; {\n                System.out.println(document.toJson());\n            });\n</code></pre>\n<p>All help/tips appreciated</p>\n"},{"tags":["java","spring","lombok","dto","builder"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1661779844,"post_id":73529507,"comment_id":129846086,"body_markdown":"Isn&#39;t it just `parent.getChilds()`?","body":"Isn&#39;t it just <code>parent.getChilds()</code>?"},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1661779958,"post_id":73529507,"comment_id":129846121,"body_markdown":"@rzwitserloot it wont work either :)","body":"@rzwitserloot it wont work either :)"}],"answers":[{"tags":[],"owner":{"account_id":6034200,"reputation":158,"user_id":8285132,"display_name":"Vladimir Krylov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661780930,"creation_date":1661780930,"answer_id":73529867,"question_id":73529507,"body_markdown":" If I understand well the question it&#39;s should be like this.  \r\n    \r\n    import lombok.*;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @ToString\r\n    public class ParentDTO {\r\n        private String nameDTO;\r\n        private Integer ageDTO;\r\n        private AddressDTO addressDTO;\r\n        private List&lt;ChildDTO&gt; childsDTO;\r\n\r\n        public static ParentDTO convertParentDTO(Parent parent) {\r\n            return ParentDTO.builder()\r\n                .nameDTO(parent.getName())\r\n                .ageDTO(parent.getAge())\r\n                .addressDTO(\r\n                     AddressDTO.connerAddressDTO(\r\n                         parent.getAddress()))\r\n                .addressDTO(parent.getAddress())\r\n                .childsDTO(toChildrenDto(parent.getChilds()))\r\n             .build();\r\n        }\r\n\r\n        private static List&lt;ChildDTO&gt; toChildrenDto(List&lt;Child&gt; children) {\r\n            if (children == null || children.isEmpty()) {\r\n                return Collections.emptyList();\r\n            }\r\n            return children.stream()\r\n                    .map(c -&gt; \r\n                 ChildDTO.builder().ageDTO(c.getAge()).nameDTO(c.getName()).build())\r\n          .collect(Collectors.toList());\r\n        }\r\n    }","title":"Lombok @Builder Model Class with field class and List Class","body":"<p>If I understand well the question it's should be like this.</p>\n<pre><code>import lombok.*;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@ToString\npublic class ParentDTO {\n    private String nameDTO;\n    private Integer ageDTO;\n    private AddressDTO addressDTO;\n    private List&lt;ChildDTO&gt; childsDTO;\n\n    public static ParentDTO convertParentDTO(Parent parent) {\n        return ParentDTO.builder()\n            .nameDTO(parent.getName())\n            .ageDTO(parent.getAge())\n            .addressDTO(\n                 AddressDTO.connerAddressDTO(\n                     parent.getAddress()))\n            .addressDTO(parent.getAddress())\n            .childsDTO(toChildrenDto(parent.getChilds()))\n         .build();\n    }\n\n    private static List&lt;ChildDTO&gt; toChildrenDto(List&lt;Child&gt; children) {\n        if (children == null || children.isEmpty()) {\n            return Collections.emptyList();\n        }\n        return children.stream()\n                .map(c -&gt; \n             ChildDTO.builder().ageDTO(c.getAge()).nameDTO(c.getName()).build())\n      .collect(Collectors.toList());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17051110,"reputation":46,"user_id":12336723,"display_name":"Sergey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661781870,"creation_date":1661781870,"answer_id":73530054,"question_id":73529507,"body_markdown":"For .addressDTO it&#39;s probably `AddressDTO.connerAddressDTO(parent.getAddress())`.  \r\nFor .childsDTO `parent.getChilds().stream().map(ChildDTO::convertChildDTO).collect(Collectors.toList())` or change convertChildDTO parameter to receive List\\&lt;Child&gt;.\r\n\r\n\r\n","title":"Lombok @Builder Model Class with field class and List Class","body":"<p>For .addressDTO it's probably <code>AddressDTO.connerAddressDTO(parent.getAddress())</code>.<br />\nFor .childsDTO <code>parent.getChilds().stream().map(ChildDTO::convertChildDTO).collect(Collectors.toList())</code> or change convertChildDTO parameter to receive List&lt;Child&gt;.</p>\n"}],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":605,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73529867,"answer_count":2,"score":0,"last_activity_date":1661781870,"creation_date":1661779454,"question_id":73529507,"body_markdown":"Im new to Spring and Im trying to create DTO with Lombok @Builder.\r\nBut i having trouble set up the data from `field class` take a look at `addressDTO` and `childsDTO` in `ParentDTO` class.\r\n\r\n```\r\nimport java.util.List;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Parent {\r\n\t\r\n\tprivate String name;\r\n\tprivate Integer age;\r\n\tprivate Address address;\r\n\tprivate List&lt;Child&gt; childs;\r\n}\r\n\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Child {\r\n\t\r\n\tprivate String name;\r\n\tprivate Integer age;\r\n\r\n}\r\n\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Address {\r\n\t\r\n\tprivate Integer Zipcode;\r\n\tprivate String City;\r\n\r\n}\r\n\r\n\r\n```\r\nDTO class\r\n```\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@ToString\r\npublic class ParentDTO {\r\n\t\r\n\tprivate String nameDTO;\r\n\tprivate Integer ageDTO;\r\n\tprivate AddressDTO addressDTO;\r\n\tprivate List&lt;ChildDTO&gt; childsDTO;\r\n\t\r\n\tpublic static ParentDTO convertParentDTO(Parent parent) {\r\n\t\treturn ParentDTO.builder()\r\n\t\t\t\t.nameDTO(parent.getName())\r\n\t\t\t\t.ageDTO(parent.getAge())\r\n\t\t\t\t.addressDTO( null) // i try this wont work .addressDTO(parent.getAddress()) .addressDTO( AddressDTO::connerAddressDTO)) \r\n\t\t\t\t.childsDTO(null) // i try this .childsDTO(List.of()) then ?\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n}\r\n\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@ToString\r\npublic class ChildDTO {\r\n\t\r\n\tprivate String nameDTO;\r\n\tprivate Integer ageDTO;\r\n\t\r\n\tpublic static ChildDTO convertChildDTO(Child child) {\r\n\t\treturn ChildDTO.builder()\r\n\t\t\t\t.nameDTO(child.getName())\r\n\t\t\t\t.ageDTO(child.getAge())\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n}\r\n\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@ToString\r\npublic class AddressDTO {\r\n\t\r\n\tprivate Integer ZipcodeDTO;\r\n\tprivate String CityDTO;\r\n\t\r\n\tpublic static AddressDTO connerAddressDTO(Address address) {\r\n\t\treturn AddressDTO.builder()\r\n\t\t\t\t.ZipcodeDTO(address.getZipcode())\r\n\t\t\t\t.CityDTO(address.getCity())\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n}\r\n\r\n```","title":"Lombok @Builder Model Class with field class and List Class","body":"<p>Im new to Spring and Im trying to create DTO with Lombok @Builder.\nBut i having trouble set up the data from <code>field class</code> take a look at <code>addressDTO</code> and <code>childsDTO</code> in <code>ParentDTO</code> class.</p>\n<pre><code>import java.util.List;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Parent {\n    \n    private String name;\n    private Integer age;\n    private Address address;\n    private List&lt;Child&gt; childs;\n}\n\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Child {\n    \n    private String name;\n    private Integer age;\n\n}\n\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Address {\n    \n    private Integer Zipcode;\n    private String City;\n\n}\n\n\n</code></pre>\n<p>DTO class</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@ToString\npublic class ParentDTO {\n    \n    private String nameDTO;\n    private Integer ageDTO;\n    private AddressDTO addressDTO;\n    private List&lt;ChildDTO&gt; childsDTO;\n    \n    public static ParentDTO convertParentDTO(Parent parent) {\n        return ParentDTO.builder()\n                .nameDTO(parent.getName())\n                .ageDTO(parent.getAge())\n                .addressDTO( null) // i try this wont work .addressDTO(parent.getAddress()) .addressDTO( AddressDTO::connerAddressDTO)) \n                .childsDTO(null) // i try this .childsDTO(List.of()) then ?\n                .build();\n    }\n\n}\n\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@ToString\npublic class ChildDTO {\n    \n    private String nameDTO;\n    private Integer ageDTO;\n    \n    public static ChildDTO convertChildDTO(Child child) {\n        return ChildDTO.builder()\n                .nameDTO(child.getName())\n                .ageDTO(child.getAge())\n                .build();\n    }\n\n}\n\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@ToString\npublic class AddressDTO {\n    \n    private Integer ZipcodeDTO;\n    private String CityDTO;\n    \n    public static AddressDTO connerAddressDTO(Address address) {\n        return AddressDTO.builder()\n                .ZipcodeDTO(address.getZipcode())\n                .CityDTO(address.getCity())\n                .build();\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","vaadin"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":2,"creation_date":1661782394,"post_id":73530029,"comment_id":129847060,"body_markdown":"Why don&#39;t you create a composite component with a TextField and a Grid?","body":"Why don&#39;t you create a composite component with a TextField and a Grid?"},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1661790710,"post_id":73530029,"comment_id":129850083,"body_markdown":"It might also help to add, what your ultimate goal here is: do you want to create a new _field_ (e.g. `HasValue`) or just some display of values where the combobox acts as a filter?","body":"It might also help to add, what your ultimate goal here is: do you want to create a new <i>field</i> (e.g. <code>HasValue</code>) or just some display of values where the combobox acts as a filter?"},{"owner":{"account_id":1101211,"reputation":131,"user_id":1093568,"display_name":"rastafarra"},"score":0,"creation_date":1661804085,"post_id":73530029,"comment_id":129854270,"body_markdown":"@SimonMartinelli because i need combobox compoment as combobox with some my custom extensions","body":"@SimonMartinelli because i need combobox compoment as combobox with some my custom extensions"},{"owner":{"account_id":1101211,"reputation":131,"user_id":1093568,"display_name":"rastafarra"},"score":0,"creation_date":1661804342,"post_id":73530029,"comment_id":129854328,"body_markdown":"@cfrick you right, i want new field (combobox with custom grid-view selected item), but i want to use all combobox features without rewriting all 2k lines :(","body":"@cfrick you right, i want new field (combobox with custom grid-view selected item), but i want to use all combobox features without rewriting all 2k lines :("}],"owner":{"account_id":1101211,"reputation":131,"user_id":1093568,"display_name":"rastafarra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1661781675,"creation_date":1661781675,"question_id":73530029,"body_markdown":"i need create new component, extends combobox with grid below it (not custom render, \r\na separate grid). when i get click event, i should reload table.\r\n\r\ni want to get such a component so that it can be replaced with vaadin&#39;s, that&#39;s why i extends combobox out of the box.\r\n\r\nthe problem is i can&#39;t get layout from parent and can&#39;t add grid to &quot;this&quot;.\r\n\r\nif me implements hasCompoment interface, i can&#39;t add &quot;this&quot; on layout...\r\n\r\nso my question: how can i add some components to combobox? or i should use Component as parent class and implements all methods from interfaces?","title":"how can i can extends from combobox in vaadin 23+?","body":"<p>i need create new component, extends combobox with grid below it (not custom render,\na separate grid). when i get click event, i should reload table.</p>\n<p>i want to get such a component so that it can be replaced with vaadin's, that's why i extends combobox out of the box.</p>\n<p>the problem is i can't get layout from parent and can't add grid to &quot;this&quot;.</p>\n<p>if me implements hasCompoment interface, i can't add &quot;this&quot; on layout...</p>\n<p>so my question: how can i add some components to combobox? or i should use Component as parent class and implements all methods from interfaces?</p>\n"},{"tags":["java","hibernate","hibernate-envers","sprint"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1661759018,"post_id":73488684,"comment_id":129839180,"body_markdown":"Looks fine to me. I guess the `@Audited` annotation is from Hibernate and not the one from Spring data, right? Anyway, if you think this is a bug, please create an issue in the issue tracker(https://hibernate.atlassian.net) with a test case(https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-5/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java) that reproduces the issue.","body":"Looks fine to me. I guess the <code>@Audited</code> annotation is from Hibernate and not the one from Spring data, right? Anyway, if you think this is a bug, please create an issue in the issue tracker(<a href=\"https://hibernate.atlassian.net\" rel=\"nofollow noreferrer\">hibernate.atlassian.net</a>) with a test case(<a href=\"https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-5/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-test-case-templates/blob&zwnj;&#8203;/master/&hellip;</a>) that reproduces the issue."},{"owner":{"account_id":104174,"reputation":9524,"user_id":278659,"accept_rate":83,"display_name":"j3d"},"score":0,"creation_date":1661781550,"post_id":73488684,"comment_id":129846740,"body_markdown":"Thank you very much for your support... adding @Audited to the derived classes (even if they don&#39;t have any member fields) fixed the issue.","body":"Thank you very much for your support... adding @Audited to the derived classes (even if they don&#39;t have any member fields) fixed the issue."}],"answers":[{"tags":[],"owner":{"account_id":104174,"reputation":9524,"user_id":278659,"accept_rate":83,"display_name":"j3d"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661781451,"creation_date":1661781451,"answer_id":73529977,"question_id":73488684,"body_markdown":"In the end, annotating the derived classes with `@Audited` fixed the issue:\r\n\r\n```\r\n...\r\nimport org.hibernate.envers.Audited;\r\n\r\n@Audited\r\n@Entity(name = &quot;domestic_account&quot;)\r\n@DiscriminatorValue(&quot;DOMESTIC&quot;)\r\npublic DomesticAccount extends Account {\r\n}\r\n```\r\n\r\nAlso many thanks to [Christian Beikov][1] for his support.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/412446/christian-beikov","title":"Hibernate: Envers does not work with derived classes with no member fields","body":"<p>In the end, annotating the derived classes with <code>@Audited</code> fixed the issue:</p>\n<pre><code>...\nimport org.hibernate.envers.Audited;\n\n@Audited\n@Entity(name = &quot;domestic_account&quot;)\n@DiscriminatorValue(&quot;DOMESTIC&quot;)\npublic DomesticAccount extends Account {\n}\n</code></pre>\n<p>Also many thanks to <a href=\"https://stackoverflow.com/users/412446/christian-beikov\">Christian Beikov</a> for his support.</p>\n"}],"owner":{"account_id":104174,"reputation":9524,"user_id":278659,"accept_rate":83,"display_name":"j3d"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":650,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73529977,"answer_count":1,"score":0,"last_activity_date":1661781451,"creation_date":1661435245,"question_id":73488684,"body_markdown":"Given the following base class...\r\n\r\n```\r\n...\r\nimport org.hibernate.envers.Audited;\r\n\r\n@Audited\r\n@Entity\r\n@Table(\r\n    name = &quot;account&quot;,\r\n    indexes = {\r\n      @Index(name = &quot;account_currency_id_idx&quot;, columnList = &quot;currency_id&quot;)\r\n    })\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorColumn(name = &quot;account_type&quot;)\r\npublic class Account {\r\n\r\n  @Id\r\n  @GeneratedValue\r\n  @Setter(AccessLevel.NONE)\r\n  @NotNull\r\n  private Long id;\r\n\r\n  @Audited\r\n  @LastModifiedDate\r\n  @Column(name = &quot;last_modified_date_time&quot;)\r\n  @Setter(AccessLevel.NONE)\r\n  private LocalDateTime lastModifiedDateTime;\r\n\r\n  @Audited\r\n  @LastModifiedBy\r\n  @Setter(AccessLevel.NONE)\r\n  @ManyToOne(fetch = FetchType.LAZY)\r\n  @JoinColumn(name = &quot;last_modified_by_user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n  @Audited(targetAuditMode = NOT_AUDITED)\r\n  private User lastModifiedByUser;\r\n\r\n  @ManyToOne(fetch = FetchType.LAZY)\r\n  @JoinColumn(name = &quot;currency_id&quot;, referencedColumnName = &quot;id&quot;)\r\n  @ApiFieldMappingProperty(&quot;currencyId&quot;)\r\n  @Audited(targetAuditMode = NOT_AUDITED)\r\n  private Currency currency;\r\n\r\n  @NotNull\r\n  @Column(name = &quot;open_date&quot;, nullable = false)\r\n  private LocalDate openDate;\r\n\r\n  @Column(name = &quot;close_date&quot;)\r\n  private LocalDate closeDate;\r\n\r\n  ...\r\n}\r\n```\r\n\r\n... I defined two derived classes with no member fields but with a discriminator value that let me differentiate account types automatically. Here&#39;s the first derived class...\r\n\r\n```\r\n...\r\n@Entity(name = &quot;domestic_account&quot;)\r\n@DiscriminatorValue(&quot;DOMESTIC&quot;)\r\npublic DomesticAccount extends Account {\r\n}\r\n```\r\n\r\n... and here&#39;s the second one:\r\n\r\n\r\n```\r\n@Entity(name = &quot;offshore_account&quot;)\r\n@DiscriminatorValue(&quot;OFFSHORE&quot;)\r\npublic OffshoreAccount extends Account {\r\n}\r\n```\r\n\r\nIn the code I never use class `Account` directly; instead, I always instantiate (and save) either a `DomesticAccount` or a `OffshoreAccount`.\r\n\r\nThe problem is that even if I enabled auditing with `@Audited`, changes get never logged and table `ACCOUNT_AUD` remains empty.\r\n\r\nAm I missing something? Any help is really appreciated.","title":"Hibernate: Envers does not work with derived classes with no member fields","body":"<p>Given the following base class...</p>\n<pre><code>...\nimport org.hibernate.envers.Audited;\n\n@Audited\n@Entity\n@Table(\n    name = &quot;account&quot;,\n    indexes = {\n      @Index(name = &quot;account_currency_id_idx&quot;, columnList = &quot;currency_id&quot;)\n    })\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = &quot;account_type&quot;)\npublic class Account {\n\n  @Id\n  @GeneratedValue\n  @Setter(AccessLevel.NONE)\n  @NotNull\n  private Long id;\n\n  @Audited\n  @LastModifiedDate\n  @Column(name = &quot;last_modified_date_time&quot;)\n  @Setter(AccessLevel.NONE)\n  private LocalDateTime lastModifiedDateTime;\n\n  @Audited\n  @LastModifiedBy\n  @Setter(AccessLevel.NONE)\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;last_modified_by_user_id&quot;, referencedColumnName = &quot;id&quot;)\n  @Audited(targetAuditMode = NOT_AUDITED)\n  private User lastModifiedByUser;\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;currency_id&quot;, referencedColumnName = &quot;id&quot;)\n  @ApiFieldMappingProperty(&quot;currencyId&quot;)\n  @Audited(targetAuditMode = NOT_AUDITED)\n  private Currency currency;\n\n  @NotNull\n  @Column(name = &quot;open_date&quot;, nullable = false)\n  private LocalDate openDate;\n\n  @Column(name = &quot;close_date&quot;)\n  private LocalDate closeDate;\n\n  ...\n}\n</code></pre>\n<p>... I defined two derived classes with no member fields but with a discriminator value that let me differentiate account types automatically. Here's the first derived class...</p>\n<pre><code>...\n@Entity(name = &quot;domestic_account&quot;)\n@DiscriminatorValue(&quot;DOMESTIC&quot;)\npublic DomesticAccount extends Account {\n}\n</code></pre>\n<p>... and here's the second one:</p>\n<pre><code>@Entity(name = &quot;offshore_account&quot;)\n@DiscriminatorValue(&quot;OFFSHORE&quot;)\npublic OffshoreAccount extends Account {\n}\n</code></pre>\n<p>In the code I never use class <code>Account</code> directly; instead, I always instantiate (and save) either a <code>DomesticAccount</code> or a <code>OffshoreAccount</code>.</p>\n<p>The problem is that even if I enabled auditing with <code>@Audited</code>, changes get never logged and table <code>ACCOUNT_AUD</code> remains empty.</p>\n<p>Am I missing something? Any help is really appreciated.</p>\n"},{"tags":["java","stream"],"comments":[{"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"score":0,"creation_date":1661780119,"post_id":73529605,"comment_id":129846182,"body_markdown":"There is PECS principle and your function is a consumer, not a producer, if you change function like that Function&lt;? super T, Long&gt; it will work","body":"There is PECS principle and your function is a consumer, not a producer, if you change function like that Function&lt;? super T, Long&gt; it will work"},{"owner":{"account_id":26188979,"reputation":3,"user_id":19871119,"display_name":"kai kang"},"score":0,"creation_date":1661780469,"post_id":73529605,"comment_id":129846308,"body_markdown":"Alexander Ivanchenko and Dmitrii B, thank you very much! I fixed this problem using solution mentioned by Dmitrii B ^_^","body":"Alexander Ivanchenko and Dmitrii B, thank you very much! I fixed this problem using solution mentioned by Dmitrii B ^_^"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1661781744,"post_id":73529605,"comment_id":129846824,"body_markdown":"Imagine that `T` type has some subtypes `T1` and `T2`. The `Function&lt;? extends T, Long&gt;` lets us assign to it function like `Function&lt;T2, Long&gt;`. Now imagine that such function was written like `t -&gt; t.methodDeclaredInT2()`. Note that `methodDeclaredInT2` returns Long, but **doesn&#39;t exist in T1 nor T** since it was declared only in T2. BUT in your code the `List&lt;? extends T&gt; children = childrenMap.get(childId);` can hold `List&lt;T1&gt;` and/or `List&lt;T&gt;`. This means that function could try to call `methodDeclaredInT2` on instances of T or T1 which don&#39;t have such method. See the problem?","body":"Imagine that <code>T</code> type has some subtypes <code>T1</code> and <code>T2</code>. The <code>Function&lt;? extends T, Long&gt;</code> lets us assign to it function like <code>Function&lt;T2, Long&gt;</code>. Now imagine that such function was written like <code>t -&gt; t.methodDeclaredInT2()</code>. Note that <code>methodDeclaredInT2</code> returns Long, but <b>doesn&#39;t exist in T1 nor T</b> since it was declared only in T2. BUT in your code the <code>List&lt;? extends T&gt; children = childrenMap.get(childId);</code> can hold <code>List&lt;T1&gt;</code> and/or <code>List&lt;T&gt;</code>. This means that function could try to call <code>methodDeclaredInT2</code> on instances of T or T1 which don&#39;t have such method. See the problem?"},{"owner":{"account_id":26188979,"reputation":3,"user_id":19871119,"display_name":"kai kang"},"score":0,"creation_date":1661918838,"post_id":73529605,"comment_id":129883290,"body_markdown":"Pshemo,thank you,I got it","body":"Pshemo,thank you,I got it"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661781094,"creation_date":1661781094,"answer_id":73529896,"question_id":73529605,"body_markdown":"`Function&lt;? extends T, Long&gt;` means:\r\n\r\nAny function that converts some specific but unknown thing to a Long, where we do know that, whatever it is, it&#39;s either `T` or some subtype thereof.\r\n\r\nIt specifically __does not mean__: &quot;A function that can take any T and convert it to a Long&quot;. If you want that, you&#39;d need a `Function&lt;T, Long&gt;`.\r\n\r\n`List&lt;? extends T&gt;` means:\r\n\r\nA list whose elements are constrained; they must all be `instanceof` some type we don&#39;t know. We do know that, whatever type it is, it is at least T or some subtype of T.\r\n\r\nIt specifically __does not mean__: A list whose elements are constrained to be instanceof T. Because that&#39;d just be a `List&lt;T&gt;`.\r\n\r\nThe expression `list.get(0)`, if `list` is a `List&lt;T&gt;`, is itself T. Obviously. It&#39;s still T if the `list` is a `List&lt;? extends T&gt;` instead. The crucial difference is with `add`: you can call `list.add(someInstanceOfT)` just fine, _if_ the type of `list` is `List&lt;T&gt;`. However, `list.add(anything)` doesn&#39;t compile if `list`&#39;s type is `List&lt;? extends T&gt;`.\r\n\r\nThink about it:\r\n\r\n```java\r\nList&lt;Integer&gt; myList = new ArrayList&lt;Integer&gt;();\r\nList&lt;? extends Number&gt; numbers = myList;\r\nnumbers.add(someDouble);\r\n```\r\n\r\nThe above __does not compile__ - specifically, the third line (`numbers.add`) does not. And now it should be obvious why: The `numbers` variable is pointing at a list whose constraint is unknown. Maybe it is `Integer`, which would mean adding a double to it, is broken.\r\n\r\nThe key thing to keep in mind is PECS: Produce-Extends-Consume-Super. This is from the point of view of the object: a `list.get()` call &quot;produces&quot; a value, therefore, `extends` bounds are useful (a `List&lt;? extends Number&gt;` can be used for meaningful production, because PE: Produce-Extends: `.get()` call, which produces, gives you `Number`. Or flip it around, CS: a `List&lt;? super Number&gt;` can meaningfully consume: `list.add(someNumber)` is allowed on them. But `list.get(0)` on a `List&lt;? super Number&gt;` is not particularly useful (it gets you an object, because all lists can&#39;t store anything else, but nothing more specific).\r\n\r\nNow back to functions. The first typearg of a function is __solely used__ for _consumption_: The point of that first arg is that your function consumes these. The second argument is __solely used__ for _production_.\r\n\r\nThinking about PECS, `Function&lt;? extends Anything, _&gt;` __is completely useless__, given that `extends` means its useful only for production, and the first typearg of `Function` is solely used for consumption.\r\n\r\nJava is &#39;correct&#39;, your code is broken. What did you really mean?\r\n\r\nTwo options:\r\n\r\n## Option 1\r\n\r\nIf you intend to accept a function that can process any T, then it should be either a `Function&lt;T` or a `Function&lt;? super T`, as per PECS rules.\r\n\r\n## Option 2\r\n\r\nGenerics serve to link things, given that they are a figment of the compiler&#39;s imagination (`java` the VM doesn&#39;t know what they are, and most of the type args are erased entirely by `javac`). Perhaps you intended to link the type used in the first parameter with the type used in that function. Then.. make a type variable for that purpose, that is their job. You&#39;ve already done that, so, fix up your bounds so they align with PECS:\r\n\r\n```\r\npublic &lt;T&gt; List&lt;Long&gt; leafIds(Map&lt;Long, ? extends List&lt;? extends T&gt;&gt; childrenMap, Long parentId, Function&lt;? super T, Long&gt; idGetter) {\r\n```\r\n\r\nAll I did was swap `? extends` to `? super`. What that says is:\r\n\r\nThere is some specific type. No idea what it is, though. Let&#39;s call it T.\r\n\r\nThe first argument gives us a map that maps to a list of Xs, where X is either that unknown type T or some subtype of that.\r\n\r\nThe third argument is a mapping function that is capable of converting some unknown type to something else. The unknown type it can convert is, however, guaranteed to be either T or some supertype of it.\r\n\r\n\r\nThat paints a complete, type-wise consistent picture. Let&#39;s say the map gives out Integers and the function can convert any Object (so, T is Number, the list are a subtype of T: Integer, check, and the mapping function can convert any Object, that&#39;s a supertype of T, so, check). That works out.\r\n\r\nNow let&#39;s go in reverse:\r\n\r\nThe lists have Numbers in them, and the mapping function can only convert Doubles.\r\n\r\nSo what happens if one of the elements in the list is an Integer instead? Type safety broken.","title":"why a function like this idGetter can not be applied to Map function in java stream api?","body":"<p><code>Function&lt;? extends T, Long&gt;</code> means:</p>\n<p>Any function that converts some specific but unknown thing to a Long, where we do know that, whatever it is, it's either <code>T</code> or some subtype thereof.</p>\n<p>It specifically <strong>does not mean</strong>: &quot;A function that can take any T and convert it to a Long&quot;. If you want that, you'd need a <code>Function&lt;T, Long&gt;</code>.</p>\n<p><code>List&lt;? extends T&gt;</code> means:</p>\n<p>A list whose elements are constrained; they must all be <code>instanceof</code> some type we don't know. We do know that, whatever type it is, it is at least T or some subtype of T.</p>\n<p>It specifically <strong>does not mean</strong>: A list whose elements are constrained to be instanceof T. Because that'd just be a <code>List&lt;T&gt;</code>.</p>\n<p>The expression <code>list.get(0)</code>, if <code>list</code> is a <code>List&lt;T&gt;</code>, is itself T. Obviously. It's still T if the <code>list</code> is a <code>List&lt;? extends T&gt;</code> instead. The crucial difference is with <code>add</code>: you can call <code>list.add(someInstanceOfT)</code> just fine, <em>if</em> the type of <code>list</code> is <code>List&lt;T&gt;</code>. However, <code>list.add(anything)</code> doesn't compile if <code>list</code>'s type is <code>List&lt;? extends T&gt;</code>.</p>\n<p>Think about it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; myList = new ArrayList&lt;Integer&gt;();\nList&lt;? extends Number&gt; numbers = myList;\nnumbers.add(someDouble);\n</code></pre>\n<p>The above <strong>does not compile</strong> - specifically, the third line (<code>numbers.add</code>) does not. And now it should be obvious why: The <code>numbers</code> variable is pointing at a list whose constraint is unknown. Maybe it is <code>Integer</code>, which would mean adding a double to it, is broken.</p>\n<p>The key thing to keep in mind is PECS: Produce-Extends-Consume-Super. This is from the point of view of the object: a <code>list.get()</code> call &quot;produces&quot; a value, therefore, <code>extends</code> bounds are useful (a <code>List&lt;? extends Number&gt;</code> can be used for meaningful production, because PE: Produce-Extends: <code>.get()</code> call, which produces, gives you <code>Number</code>. Or flip it around, CS: a <code>List&lt;? super Number&gt;</code> can meaningfully consume: <code>list.add(someNumber)</code> is allowed on them. But <code>list.get(0)</code> on a <code>List&lt;? super Number&gt;</code> is not particularly useful (it gets you an object, because all lists can't store anything else, but nothing more specific).</p>\n<p>Now back to functions. The first typearg of a function is <strong>solely used</strong> for <em>consumption</em>: The point of that first arg is that your function consumes these. The second argument is <strong>solely used</strong> for <em>production</em>.</p>\n<p>Thinking about PECS, <code>Function&lt;? extends Anything, _&gt;</code> <strong>is completely useless</strong>, given that <code>extends</code> means its useful only for production, and the first typearg of <code>Function</code> is solely used for consumption.</p>\n<p>Java is 'correct', your code is broken. What did you really mean?</p>\n<p>Two options:</p>\n<h2>Option 1</h2>\n<p>If you intend to accept a function that can process any T, then it should be either a <code>Function&lt;T</code> or a <code>Function&lt;? super T</code>, as per PECS rules.</p>\n<h2>Option 2</h2>\n<p>Generics serve to link things, given that they are a figment of the compiler's imagination (<code>java</code> the VM doesn't know what they are, and most of the type args are erased entirely by <code>javac</code>). Perhaps you intended to link the type used in the first parameter with the type used in that function. Then.. make a type variable for that purpose, that is their job. You've already done that, so, fix up your bounds so they align with PECS:</p>\n<pre><code>public &lt;T&gt; List&lt;Long&gt; leafIds(Map&lt;Long, ? extends List&lt;? extends T&gt;&gt; childrenMap, Long parentId, Function&lt;? super T, Long&gt; idGetter) {\n</code></pre>\n<p>All I did was swap <code>? extends</code> to <code>? super</code>. What that says is:</p>\n<p>There is some specific type. No idea what it is, though. Let's call it T.</p>\n<p>The first argument gives us a map that maps to a list of Xs, where X is either that unknown type T or some subtype of that.</p>\n<p>The third argument is a mapping function that is capable of converting some unknown type to something else. The unknown type it can convert is, however, guaranteed to be either T or some supertype of it.</p>\n<p>That paints a complete, type-wise consistent picture. Let's say the map gives out Integers and the function can convert any Object (so, T is Number, the list are a subtype of T: Integer, check, and the mapping function can convert any Object, that's a supertype of T, so, check). That works out.</p>\n<p>Now let's go in reverse:</p>\n<p>The lists have Numbers in them, and the mapping function can only convert Doubles.</p>\n<p>So what happens if one of the elements in the list is an Integer instead? Type safety broken.</p>\n"}],"owner":{"account_id":26188979,"reputation":3,"user_id":19871119,"display_name":"kai kang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73529896,"answer_count":1,"score":0,"last_activity_date":1661781094,"creation_date":1661779836,"question_id":73529605,"body_markdown":"    public &lt;T&gt; List&lt;Long&gt; leafIds(Map&lt;Long, ? extends List&lt;? extends T&gt;&gt; childrenMap, Long parentId, Function&lt;? extends T, Long&gt; idGetter) {\r\n        if (!childrenMap.containsKey(parentId)) {\r\n            return Collections.singletonList(parentId);\r\n        }\r\n        List&lt;Long&gt; result = new ArrayList&lt;&gt;();\r\n        List&lt;Long&gt; childrenIds = new ArrayList&lt;&gt;();\r\n        childrenIds.add(parentId);\r\n        for (int i = 0; i &lt; childrenIds.size(); i++) {\r\n            Long childId = childrenIds.get(i);\r\n            List&lt;? extends T&gt; children = childrenMap.get(childId);\r\n            if (CollectionUtils.isNotEmpty(children)) {\r\n                childrenIds.addAll(children.stream().filter(Objects::nonNull).map(idGetter).collect(Collectors.toList()));\r\n                continue;\r\n            }\r\n            result.add(childId);\r\n\r\n        }\r\n        return result;\r\n    }\r\n[error mark][1]\r\n there is an error mark under line 12, the editor indicates that type of [idGetter] is wrong,how can I fix this?\r\nI&#39;ll be grateful for any help!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bsb5T.png","title":"why a function like this idGetter can not be applied to Map function in java stream api?","body":"<pre><code>public &lt;T&gt; List&lt;Long&gt; leafIds(Map&lt;Long, ? extends List&lt;? extends T&gt;&gt; childrenMap, Long parentId, Function&lt;? extends T, Long&gt; idGetter) {\n    if (!childrenMap.containsKey(parentId)) {\n        return Collections.singletonList(parentId);\n    }\n    List&lt;Long&gt; result = new ArrayList&lt;&gt;();\n    List&lt;Long&gt; childrenIds = new ArrayList&lt;&gt;();\n    childrenIds.add(parentId);\n    for (int i = 0; i &lt; childrenIds.size(); i++) {\n        Long childId = childrenIds.get(i);\n        List&lt;? extends T&gt; children = childrenMap.get(childId);\n        if (CollectionUtils.isNotEmpty(children)) {\n            childrenIds.addAll(children.stream().filter(Objects::nonNull).map(idGetter).collect(Collectors.toList()));\n            continue;\n        }\n        result.add(childId);\n\n    }\n    return result;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Bsb5T.png\" rel=\"nofollow noreferrer\">error mark</a>\nthere is an error mark under line 12, the editor indicates that type of [idGetter] is wrong,how can I fix this?\nI'll be grateful for any help!</p>\n"},{"tags":["java","android","tensorflow","machine-learning","yolov4"],"owner":{"account_id":16015282,"reputation":11,"user_id":19870565,"display_name":"Heshan Nammunige"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661780814,"creation_date":1661775293,"question_id":73528649,"body_markdown":"I&#39;m creating my first ML Android App. But I got this error\r\n\r\n    java.lang.IllegalArgumentException: The size of byte buffer and the shape do not match.\r\n\r\nThis is the code that I run on android studio.\r\n\r\n     predictBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                try {\r\n                    Yolov4Tiny416 model = Yolov4Tiny416.newInstance(MainActivity.this);\r\n\r\n                    // Creates inputs for reference.\r\n                    TensorBuffer inputFeature0 = TensorBuffer.createFixedSize(new int[]{1, 416, 416, 3}, DataType.FLOAT32);\r\n\r\n                    bitmap = Bitmap.createScaledBitmap(bitmap,416,416,true);\r\n\r\n                    inputFeature0.loadBuffer(TensorImage.fromBitmap(bitmap).getBuffer());\r\n\r\n                    // Runs model inference and gets result.\r\n                    Yolov4Tiny416.Outputs outputs = model.process(inputFeature0);\r\n                    TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\r\n                    TensorBuffer outputFeature1 = outputs.getOutputFeature1AsTensorBuffer();\r\n\r\n                    result.setText(getmax(outputFeature0.getFloatArray())+&quot;&quot;);\r\n\r\n                    // Releases model resources if no longer used.\r\n                    model.close();\r\n                } catch (IOException e) {\r\n                    // TODO Handle the exception\r\n                }\r\n\r\n            }\r\nI looked in to other answers for the same question. But nothing worked. What can be the problem and the solution for this?","title":"The size of byte buffer and the shape do not match. I&#39;m having a error while implementing a tensorflow.lite model in android","body":"<p>I'm creating my first ML Android App. But I got this error</p>\n<pre><code>java.lang.IllegalArgumentException: The size of byte buffer and the shape do not match.\n</code></pre>\n<p>This is the code that I run on android studio.</p>\n<pre><code> predictBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            try {\n                Yolov4Tiny416 model = Yolov4Tiny416.newInstance(MainActivity.this);\n\n                // Creates inputs for reference.\n                TensorBuffer inputFeature0 = TensorBuffer.createFixedSize(new int[]{1, 416, 416, 3}, DataType.FLOAT32);\n\n                bitmap = Bitmap.createScaledBitmap(bitmap,416,416,true);\n\n                inputFeature0.loadBuffer(TensorImage.fromBitmap(bitmap).getBuffer());\n\n                // Runs model inference and gets result.\n                Yolov4Tiny416.Outputs outputs = model.process(inputFeature0);\n                TensorBuffer outputFeature0 = outputs.getOutputFeature0AsTensorBuffer();\n                TensorBuffer outputFeature1 = outputs.getOutputFeature1AsTensorBuffer();\n\n                result.setText(getmax(outputFeature0.getFloatArray())+&quot;&quot;);\n\n                // Releases model resources if no longer used.\n                model.close();\n            } catch (IOException e) {\n                // TODO Handle the exception\n            }\n\n        }\n</code></pre>\n<p>I looked in to other answers for the same question. But nothing worked. What can be the problem and the solution for this?</p>\n"},{"tags":["java","authentication","smtp","passwords"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1661780659,"post_id":73529737,"comment_id":129846383,"body_markdown":"Can you clarify: The password for what? (And who are _They_?)","body":"Can you clarify: The password for what? (And who are <i>They</i>?)"},{"owner":{"account_id":25059079,"reputation":1,"user_id":18914141,"display_name":"IEK"},"score":0,"creation_date":1661784904,"post_id":73529737,"comment_id":129847975,"body_markdown":"The password for logging the user in. Apparently i cannot send emails outside our domain at our company without using authentication. They are people who are responsible for the exchange server and intern IT.","body":"The password for logging the user in. Apparently i cannot send emails outside our domain at our company without using authentication. They are people who are responsible for the exchange server and intern IT."}],"owner":{"account_id":25059079,"reputation":1,"user_id":18914141,"display_name":"IEK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661780728,"creation_date":1661780340,"question_id":73529737,"body_markdown":"I want to send an email using our Exchange server and I must use authentication to send it to an email address which is not in our domain. They do not want to give me the password because of security issues. \r\n\r\nMy question is: Can I use authentication without seeing the password that I need?","title":"Java SMTP send email with authentication but without seeing the password","body":"<p>I want to send an email using our Exchange server and I must use authentication to send it to an email address which is not in our domain. They do not want to give me the password because of security issues.</p>\n<p>My question is: Can I use authentication without seeing the password that I need?</p>\n"},{"tags":["javascript","java","groovy","graalvm","graaljs"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1661584272,"post_id":73501603,"comment_id":129810984,"body_markdown":"SecurityManager? https://stackoverflow.com/questions/50825335/information-hiding-in-groovy-using-closures-naming-conventions/50853784#50853784","body":"SecurityManager? <a href=\"https://stackoverflow.com/questions/50825335/information-hiding-in-groovy-using-closures-naming-conventions/50853784#50853784\" title=\"information hiding in groovy using closures naming conventions\">stackoverflow.com/questions/50825335/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3674304,"reputation":927,"user_id":3060725,"accept_rate":67,"display_name":"BoriS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661590901,"creation_date":1661590901,"answer_id":73509629,"question_id":73501603,"body_markdown":"You can configure host access when configuring the context. Namely \r\n\r\n    public Context.Builder allowHostAccess(HostAccess config)\r\n\r\nhttps://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/Context.Builder.html#allowHostAccess-org.graalvm.polyglot.HostAccess-\r\n\r\nWhere the host access can be \r\n\r\n    HostAccess.EXPLICIT - Java host methods or fields, must be public and be annotated with @Export to make them accessible to the guest language.\r\n \r\nhttps://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/HostAccess.html\r\n\r\nOr you can go into a lot more fine-grained control using the `HostAccess.Builder`\r\n\r\nhttps://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/HostAccess.Builder.html","title":"GraalVM: forbidding methods of certain classes to be called from scripts","body":"<p>You can configure host access when configuring the context. Namely</p>\n<pre><code>public Context.Builder allowHostAccess(HostAccess config)\n</code></pre>\n<p><a href=\"https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/Context.Builder.html#allowHostAccess-org.graalvm.polyglot.HostAccess-\" rel=\"nofollow noreferrer\">https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/Context.Builder.html#allowHostAccess-org.graalvm.polyglot.HostAccess-</a></p>\n<p>Where the host access can be</p>\n<pre><code>HostAccess.EXPLICIT - Java host methods or fields, must be public and be annotated with @Export to make them accessible to the guest language.\n</code></pre>\n<p><a href=\"https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/HostAccess.html\" rel=\"nofollow noreferrer\">https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/HostAccess.html</a></p>\n<p>Or you can go into a lot more fine-grained control using the <code>HostAccess.Builder</code></p>\n<p><a href=\"https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/HostAccess.Builder.html\" rel=\"nofollow noreferrer\">https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/HostAccess.Builder.html</a></p>\n"},{"tags":[],"owner":{"account_id":6718742,"reputation":321,"user_id":5179636,"display_name":"colouredmirrorball"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661780537,"creation_date":1661780537,"answer_id":73529783,"question_id":73501603,"body_markdown":"If you can&#39;t use HostAccess.EXPLICIT for some reason (eg. you want to keep access to java.util etc), then you can create custom wrapper classes that only expose the relevant methods. With allowHostClassLookup() you can limit which classes are exposed in the engine.\r\n\r\n    public class Example {\r\n        public static void main(String[] args) {\r\n            TestService service = new TestService();\r\n            Context.Builder builder = Context.newBuilder(&quot;js&quot;)\r\n                .allowHostAccess(HostAccess.ALL)\r\n                .allowHostClassLookup(path -&gt; path.endsWith(&quot;TestServiceScriptable&quot;));\r\n            GraalJSScriptEngine engine = GraalJSScriptEngine.create(null, builder);\r\n            engine.put(&quot;service&quot;, TestServiceScriptable.newInstance(service));\r\n        }\r\n    \r\n    }\r\n    \r\n    \r\n    public class TestService {\r\n        public void forbiddenJavaMethod() {\r\n            System.out.println(&quot;forbidden!&quot;);\r\n        }\r\n        public void allowedMethod() {\r\n            System.out.println(&quot;allowed&quot;);\r\n        }\r\n    }\r\n    \r\n    public class TestServiceScriptable {\r\n        private final TestService service;\r\n    \r\n        private TestServiceScriptable(TestService service) {\r\n            this.service = service;\r\n        }\r\n    \r\n        public static TestServiceScriptable newInstance(TestService service) {\r\n            return new TestServiceScriptable(service);\r\n        }\r\n    \r\n    \r\n        public void allowedMethod() {\r\n            service.allowedMethod();\r\n        }\r\n    }\r\n\r\n\r\nThen:\r\n\r\n    // Should work\r\n    service.allowedMethod();\r\n    \r\n    // Shouldn&#39;t work\r\n    service.forbiddenMethod();","title":"GraalVM: forbidding methods of certain classes to be called from scripts","body":"<p>If you can't use HostAccess.EXPLICIT for some reason (eg. you want to keep access to java.util etc), then you can create custom wrapper classes that only expose the relevant methods. With allowHostClassLookup() you can limit which classes are exposed in the engine.</p>\n<pre><code>public class Example {\n    public static void main(String[] args) {\n        TestService service = new TestService();\n        Context.Builder builder = Context.newBuilder(&quot;js&quot;)\n            .allowHostAccess(HostAccess.ALL)\n            .allowHostClassLookup(path -&gt; path.endsWith(&quot;TestServiceScriptable&quot;));\n        GraalJSScriptEngine engine = GraalJSScriptEngine.create(null, builder);\n        engine.put(&quot;service&quot;, TestServiceScriptable.newInstance(service));\n    }\n\n}\n\n\npublic class TestService {\n    public void forbiddenJavaMethod() {\n        System.out.println(&quot;forbidden!&quot;);\n    }\n    public void allowedMethod() {\n        System.out.println(&quot;allowed&quot;);\n    }\n}\n\npublic class TestServiceScriptable {\n    private final TestService service;\n\n    private TestServiceScriptable(TestService service) {\n        this.service = service;\n    }\n\n    public static TestServiceScriptable newInstance(TestService service) {\n        return new TestServiceScriptable(service);\n    }\n\n\n    public void allowedMethod() {\n        service.allowedMethod();\n    }\n}\n</code></pre>\n<p>Then:</p>\n<pre><code>// Should work\nservice.allowedMethod();\n\n// Shouldn't work\nservice.forbiddenMethod();\n</code></pre>\n"}],"owner":{"account_id":26166092,"reputation":21,"user_id":19851890,"display_name":"Sushen Sable"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1661780537,"creation_date":1661519670,"question_id":73501603,"body_markdown":"We are using GraalVM for some scripting requirements in our product. The version of the GraalVM is 21.2.0 We are using JavaScript and Groovy. We want to forbid some methods on certain classes from using in scripts. \r\nExample :\r\n\r\n**mytest.js**\r\n    \r\n\r\n    var testService=Java.type(&#39;mypackage.TestService&#39;);\r\n        new testService().forbiddenJavaMethod();  // this should not be called\r\n\r\n\r\n\r\n\r\n\r\n**TestService.java**\r\n\r\n\r\n    \r\n\r\n    package mypackage;\r\n        \r\n        public class TestService{\r\n        \t\r\n        \tpublic void forbiddenJavaMethod(){\r\n        \t\t// business logic\r\n        \t}\r\n        \r\n        }\r\n\r\n\r\n\r\n\r\n\r\nIs there a way to achieve this in Graal ? I could not find a way to do &quot;method&quot; filtering. Any other approach to solve this?\r\n\r\n\r\n","title":"GraalVM: forbidding methods of certain classes to be called from scripts","body":"<p>We are using GraalVM for some scripting requirements in our product. The version of the GraalVM is 21.2.0 We are using JavaScript and Groovy. We want to forbid some methods on certain classes from using in scripts.\nExample :</p>\n<p><strong>mytest.js</strong></p>\n<pre><code>var testService=Java.type('mypackage.TestService');\n    new testService().forbiddenJavaMethod();  // this should not be called\n</code></pre>\n<p><strong>TestService.java</strong></p>\n<pre><code>package mypackage;\n    \n    public class TestService{\n        \n        public void forbiddenJavaMethod(){\n            // business logic\n        }\n    \n    }\n</code></pre>\n<p>Is there a way to achieve this in Graal ? I could not find a way to do &quot;method&quot; filtering. Any other approach to solve this?</p>\n"},{"tags":["java","spring-boot","spring-webflux","junit5"],"answers":[{"tags":[],"owner":{"account_id":13056944,"reputation":145,"user_id":9435479,"display_name":"Jose Luiz Junior"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1661780423,"creation_date":1661651959,"answer_id":73515511,"question_id":73515157,"body_markdown":"I found my problem, in setup method I configure my webTestClient with my functional components ( my routes)\r\n\r\n```\r\n    void setup(){\r\n        var handler = new UserHandler(beanValidationService, userService, userQueryService, userMapper);\r\n        var routers = new UserRouter().userRoute(handler);\r\n        userResponseRequestBuilder = userResponseRequestBuilder(routers, &quot;/users/&quot;);\r\n        problemResponseRequestBuilder = problemResponseRequestBuilder(routers, &quot;/users/&quot;);\r\n    }\r\n```\r\n\r\n\r\nI replace this configurarion for this\r\n\r\n\r\n```\r\n    @BeforeEach\r\n    void setup(){\r\n        userResponseRequestBuilder = userResponseRequestBuilder(applicationContext, &quot;/users/&quot;);\r\n        problemResponseRequestBuilder = problemResponseRequestBuilder(applicationContext, &quot;/users/&quot;);\r\n    }\r\n```\r\n\r\n\r\nI inject in my test a ApplicationContext biuld with dependencies setted on @ContextConfiguration, now my tests using. my custom class\r\n\r\n[EDITED]\r\n\r\nTo explain more about my solution, my userResponseRequestBuilder and problemResponseRequestBuilder are utilities methods to make requests, follow more details about the code to explain more about solution:\r\n\r\n\r\nRequestBuilderInstances.java\r\n```\r\n/// new code\r\n    public static RequestBuilder&lt;UserSingleResponse&gt; userResponseRequestBuilder(final ApplicationContext applicationContext, final String baseUri){\r\n        return new RequestBuilder&lt;&gt;(applicationContext, baseUri, UserSingleResponse.class);\r\n    }\r\n\r\n    public static RequestBuilder&lt;ProblemResponse&gt; problemResponseRequestBuilder(final ApplicationContext applicationContext, final String baseUri){\r\n        return new RequestBuilder&lt;&gt;(applicationContext, baseUri, ProblemResponse.class);\r\n    }\r\n/// old code\r\n\r\n    public static RequestBuilder&lt;UserSingleResponse&gt; userResponseRequestBuilder(RouterFunction&lt;?&gt; routerFunction, final String baseUri){\r\n        return new RequestBuilder&lt;&gt;(routerFunction, baseUri, UserSingleResponse.class);\r\n    }\r\n\r\n    public static RequestBuilder&lt;ProblemResponse&gt; problemResponseRequestBuilder(RouterFunction&lt;?&gt; routerFunction, final String baseUri){\r\n        return new RequestBuilder&lt;&gt;(routerFunction, baseUri, ProblemResponse.class);\r\n    }\r\n\r\n```\r\n\r\nRequestBuilder.java\r\n```\r\n/// new code\r\n    public RequestBuilder(final ApplicationContext applicationContext, final String baseUri, final Class&lt;B&gt; responseClass){\r\n        this.responseClass = responseClass;\r\n        webTestClient = WebTestClient\r\n                .bindToApplicationContext(applicationContext)\r\n                .configureClient()\r\n                .baseUrl(baseUri)\r\n                .responseTimeout(Duration.ofDays(1))\r\n                .build();\r\n    }\r\n\r\n/// old code\r\n    public RequestBuilder(final RouterFunction&lt;?&gt; routerFunction, final String baseUri, final Class&lt;B&gt; responseClass){\r\n        this.responseClass = responseClass;\r\n        webTestClient = WebTestClient\r\n                .bindToRouterFunction(routerFunction)\r\n                .configureClient()\r\n                .baseUrl(baseUri)\r\n                .responseTimeout(Duration.ofDays(1))\r\n                .build();\r\n    }\r\n```\r\nto fix my problem I create my WebTestClient instance using applicationContext, for more details follow a commit with my fix:\r\n\r\nhttps://github.com/juniorjrjl/reactive-calendar/tree/4ccd3541b16b8486ecbf06db7e5af7252fb85266","title":"Handler exception using functional components in WebFlux test","body":"<p>I found my problem, in setup method I configure my webTestClient with my functional components ( my routes)</p>\n<pre><code>    void setup(){\n        var handler = new UserHandler(beanValidationService, userService, userQueryService, userMapper);\n        var routers = new UserRouter().userRoute(handler);\n        userResponseRequestBuilder = userResponseRequestBuilder(routers, &quot;/users/&quot;);\n        problemResponseRequestBuilder = problemResponseRequestBuilder(routers, &quot;/users/&quot;);\n    }\n</code></pre>\n<p>I replace this configurarion for this</p>\n<pre><code>    @BeforeEach\n    void setup(){\n        userResponseRequestBuilder = userResponseRequestBuilder(applicationContext, &quot;/users/&quot;);\n        problemResponseRequestBuilder = problemResponseRequestBuilder(applicationContext, &quot;/users/&quot;);\n    }\n</code></pre>\n<p>I inject in my test a ApplicationContext biuld with dependencies setted on @ContextConfiguration, now my tests using. my custom class</p>\n<p>[EDITED]</p>\n<p>To explain more about my solution, my userResponseRequestBuilder and problemResponseRequestBuilder are utilities methods to make requests, follow more details about the code to explain more about solution:</p>\n<p>RequestBuilderInstances.java</p>\n<pre><code>/// new code\n    public static RequestBuilder&lt;UserSingleResponse&gt; userResponseRequestBuilder(final ApplicationContext applicationContext, final String baseUri){\n        return new RequestBuilder&lt;&gt;(applicationContext, baseUri, UserSingleResponse.class);\n    }\n\n    public static RequestBuilder&lt;ProblemResponse&gt; problemResponseRequestBuilder(final ApplicationContext applicationContext, final String baseUri){\n        return new RequestBuilder&lt;&gt;(applicationContext, baseUri, ProblemResponse.class);\n    }\n/// old code\n\n    public static RequestBuilder&lt;UserSingleResponse&gt; userResponseRequestBuilder(RouterFunction&lt;?&gt; routerFunction, final String baseUri){\n        return new RequestBuilder&lt;&gt;(routerFunction, baseUri, UserSingleResponse.class);\n    }\n\n    public static RequestBuilder&lt;ProblemResponse&gt; problemResponseRequestBuilder(RouterFunction&lt;?&gt; routerFunction, final String baseUri){\n        return new RequestBuilder&lt;&gt;(routerFunction, baseUri, ProblemResponse.class);\n    }\n\n</code></pre>\n<p>RequestBuilder.java</p>\n<pre><code>/// new code\n    public RequestBuilder(final ApplicationContext applicationContext, final String baseUri, final Class&lt;B&gt; responseClass){\n        this.responseClass = responseClass;\n        webTestClient = WebTestClient\n                .bindToApplicationContext(applicationContext)\n                .configureClient()\n                .baseUrl(baseUri)\n                .responseTimeout(Duration.ofDays(1))\n                .build();\n    }\n\n/// old code\n    public RequestBuilder(final RouterFunction&lt;?&gt; routerFunction, final String baseUri, final Class&lt;B&gt; responseClass){\n        this.responseClass = responseClass;\n        webTestClient = WebTestClient\n                .bindToRouterFunction(routerFunction)\n                .configureClient()\n                .baseUrl(baseUri)\n                .responseTimeout(Duration.ofDays(1))\n                .build();\n    }\n</code></pre>\n<p>to fix my problem I create my WebTestClient instance using applicationContext, for more details follow a commit with my fix:</p>\n<p><a href=\"https://github.com/juniorjrjl/reactive-calendar/tree/4ccd3541b16b8486ecbf06db7e5af7252fb85266\" rel=\"nofollow noreferrer\">https://github.com/juniorjrjl/reactive-calendar/tree/4ccd3541b16b8486ecbf06db7e5af7252fb85266</a></p>\n"}],"owner":{"account_id":13056944,"reputation":145,"user_id":9435479,"display_name":"Jose Luiz Junior"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73515511,"answer_count":1,"score":-1,"last_activity_date":1661780423,"creation_date":1661645152,"question_id":73515157,"body_markdown":"Hi I try to create Tests in my Spring WebFlux application, follow my configs:\r\n\r\n```\r\n@Configuration\r\npublic class UserRouter implements IUserRouterDoc {\r\n\r\n    @Override\r\n    @Bean\r\n    public RouterFunction&lt;ServerResponse&gt; userRoute(final UserHandler handler){\r\n        return RouterFunctions.route(findByIdPredicate(), handler::findById)\r\n                .andRoute(updatePredicate(), handler::update)\r\n                .andRoute(deletePredicate(), handler::delete)\r\n                .andRoute(savePredicate(), handler::save);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n@Component\r\n@AllArgsConstructor\r\n@Slf4j\r\npublic class UserHandler {\r\n\r\n    private final BeanValidationService beanValidationService;\r\n    private final UserService userService;\r\n    private final UserQueryService userQueryService;\r\n    private final UserMapper userMapper;\r\n    public Mono&lt;ServerResponse&gt; findById(final ServerRequest request){\r\n        return getIdParam(request)\r\n                .flatMap(userQueryService::findById)\r\n                .map(userMapper::toResponse)\r\n                .flatMap(response -&gt; ok()\r\n                        .contentType(APPLICATION_JSON)\r\n                        .body(Mono.just(response), UserSingleResponse.class));\r\n    }\r\n\r\n    public Mono&lt;ServerResponse&gt; save(final ServerRequest request){\r\n        return request.bodyToMono(UserRequest.class)\r\n                .flatMap(user -&gt; beanValidationService.verifyConstraints(user, UserRequest.class.getSimpleName()).then(Mono.just(user)))\r\n                .flatMap(user -&gt; userService.save(userMapper.toDocument(user)))\r\n                .map(userMapper::toResponse)\r\n                .flatMap(response -&gt; created(UriComponentsBuilder.fromPath(&quot;/users&quot;)\r\n                        .pathSegment(&quot;{id}&quot;)\r\n                        .build(response.id()))\r\n                        .contentType(APPLICATION_JSON)\r\n                        .body(Mono.just(response), UserSingleResponse.class));\r\n    }\r\n\r\n    public Mono&lt;ServerResponse&gt; update(final ServerRequest request){\r\n        return request.bodyToMono(UserRequest.class)\r\n                .flatMap(user -&gt; beanValidationService.verifyConstraints(user, UserRequest.class.getSimpleName()).thenReturn(user))\r\n                .zipWhen(user -&gt; getIdParam(request))\r\n                .flatMap(tuple -&gt; userService.update(userMapper.toDocument(tuple.getT2(), tuple.getT1())))\r\n                .map(userMapper::toResponse)\r\n                .flatMap(response -&gt; ok()\r\n                        .contentType(APPLICATION_JSON)\r\n                        .body(Mono.just(response), UserSingleResponse.class));\r\n    }\r\n\r\n    public Mono&lt;ServerResponse&gt; delete(final ServerRequest request){\r\n        return getIdParam(request)\r\n                .flatMap(userService::delete)\r\n                .then(noContent().build());\r\n    }\r\n\r\n    private Mono&lt;String&gt; getIdParam(final ServerRequest request){\r\n        return Mono.just(new UserIdParam(request.pathVariable(&quot;id&quot;)))\r\n                .flatMap(param -&gt; beanValidationService.verifyConstraints(param, UserIdParam.class.getSimpleName()))\r\n                .thenReturn(request.pathVariable(&quot;id&quot;));\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n@Component\r\n@Order(-2)\r\n@Slf4j\r\n@AllArgsConstructor\r\npublic class ApiExceptionHandlerProcessor implements WebExceptionHandler {\r\n\r\n    // classes with code to deal with each exceptions\r\n    private final ConflictHandler conflictHandler;\r\n    private final MethodNotAllowHandler methodNotAllowHandler;\r\n    private final NotFoundHandler notFoundHandler;\r\n    private final ConstraintViolationHandler constraintViolationHandler;\r\n    private final BeanValidationHandler beanValidationHandler;\r\n    private final ResponseStatusHandler responseStatusHandler;\r\n    private final ReactiveCalenderHandler reactiveCalenderHandler;\r\n    private final GenericHandler genericHandler;\r\n    private final JsonProcessingHandler jsonProcessingHandler;\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; handle(final ServerWebExchange exchange, final Throwable ex) {\r\n        return Mono.error(ex)\r\n                .onErrorResume(ConflictException.class, e -&gt; conflictHandler.handlerException(exchange, e))\r\n                .onErrorResume(MethodNotAllowedException.class, e -&gt; methodNotAllowHandler.handlerException(exchange, e))\r\n                .onErrorResume(NotFoundException.class, e -&gt; notFoundHandler.handlerException(exchange, e))\r\n                .onErrorResume(ConstraintViolationException.class, e -&gt; constraintViolationHandler.handlerException(exchange, e))\r\n                .onErrorResume(BeanValidationException.class, e -&gt; beanValidationHandler.handlerException(exchange, e))\r\n                .onErrorResume(ResponseStatusException.class, e -&gt; responseStatusHandler.handlerException(exchange, e))\r\n                .onErrorResume(ReactiveCalendarException.class, e -&gt; reactiveCalenderHandler.handlerException(exchange, e))\r\n                .onErrorResume(Exception.class, e -&gt; genericHandler.handlerException(exchange, e))\r\n                .onErrorResume(JsonProcessingException.class, e -&gt; jsonProcessingHandler.handlerException(exchange, e))\r\n                .then();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis code worked fine when I start my application, but in tests my  ApiExceptionHandlerProcessor  is not loaded and errors is handler by spring default classes, this configuration worked if I create controllers using annotations (@RestController, etc), but not work in tests using functional componentes, follow a sample test:\r\n\r\n```\r\n@ActiveProfiles(&quot;test&quot;)\r\n@ExtendWith({SpringExtension.class, MockitoExtension.class})\r\n@ContextConfiguration(classes = {UserMapperImpl.class, LocalValidatorFactoryBean.class, ApiExceptionHandlerProcessor.class,\r\n        ConflictHandler.class, MethodNotAllowHandler.class, NotFoundHandler.class, ConstraintViolationHandler.class,\r\n        BeanValidationHandler.class, ResponseStatusHandler.class, ReactiveCalenderHandler.class, GenericHandler.class,\r\n        JsonProcessingHandler.class, JacksonConfigStub.class})\r\npublic class UserHandlerSaveTest  {\r\n\r\n    @Mock\r\n    private BeanValidationService beanValidationService;\r\n    @Mock\r\n    private UserService userService;\r\n    @Mock\r\n    private UserQueryService userQueryService;\r\n    @Autowired\r\n    private UserMapper userMapper;\r\n    @Autowired\r\n    private SmartValidator smartValidator;\r\n\r\n    private RequestBuilder&lt;UserSingleResponse&gt; userResponseRequestBuilder;\r\n    private RequestBuilder&lt;ProblemResponse&gt; problemResponseRequestBuilder;\r\n\r\n    @BeforeEach\r\n    void setup(){\r\n        var handler = new UserHandler(beanValidationService, userService, userQueryService, userMapper);\r\n        var routers = new UserRouter().userRoute(handler);\r\n        userResponseRequestBuilder = userResponseRequestBuilder(routers, &quot;/users/&quot;);\r\n        problemResponseRequestBuilder = problemResponseRequestBuilder(routers, &quot;/users/&quot;);\r\n    }\r\n\r\n    @Test\r\n    void saveTes(){\r\n        var request = UserRequestFactoryBot.builder().build();\r\n        when(beanValidationService.verifyConstraints(any(Object.class), anyString())).thenReturn(Mono.empty());\r\n        when(userService.save(any(UserDocument.class))).thenAnswer(invocation -&gt; {\r\n            var document = invocation.getArgument(0, UserDocument.class);\r\n            document = document.toBuilder()\r\n                    .id(ObjectId.get().toString())\r\n                    .createdAt(OffsetDateTime.now())\r\n                    .updatedAt(OffsetDateTime.now())\r\n                    .build();\r\n            return Mono.just(document);\r\n        });\r\n        userResponseRequestBuilder.withUri(UriBuilder::build)\r\n                .withBody(request)\r\n                .generateRequestWithSimpleBody()\r\n                .doPost()\r\n                .isHttpStatusIsCreated()\r\n                .assertBody(response -&gt;{\r\n                    assertThat(response).usingRecursiveComparison()\r\n                            .ignoringFields(&quot;id&quot;, &quot;createdAt&quot;, &quot;updatedAt&quot;)\r\n                            .isEqualTo(request);\r\n                });\r\n        verify(beanValidationService).verifyConstraints(any(Object.class), anyString());\r\n        verify(userService).save(any(UserDocument.class));\r\n    }\r\n\r\n    @Test\r\n    void whenRequestHasInvalidDataThenThrowError(){\r\n        var request = UserRequestFactoryBot.builder().withLargeEmail().build();\r\n        var bindingResult = new BeanPropertyBindingResult(request, UserRequest.class.getSimpleName());\r\n        smartValidator.validate(request, bindingResult);\r\n        when(beanValidationService.verifyConstraints(any(Object.class), anyString()))\r\n                .thenReturn(Mono.error(new BeanValidationException(null)));\r\n        problemResponseRequestBuilder.withUri(UriBuilder::build)\r\n                .withBody(request)\r\n                .generateRequestWithSimpleBody()\r\n                .doPost()\r\n                .isHttpStatusIsBadRequest();\r\n        verify(beanValidationService).verifyConstraints(any(Object.class), anyString());\r\n        verify(userService, times(0)).save(any(UserDocument.class));\r\n    }\r\n\r\n}\r\n```\r\n\r\nwhen I run my test my ApiExceptionHandlerProcessor not loaded and a spring class org.springframework.web.server.adapter.DefaultServerWebExchange handler my error.\r\n\r\nRemeber If I use this exception handler works fine using @RestController (tests and start application) but functional componentes don`t work in tests, but if I start my application a class ApiExceptionHandlerProcessor handler fine","title":"Handler exception using functional components in WebFlux test","body":"<p>Hi I try to create Tests in my Spring WebFlux application, follow my configs:</p>\n<pre><code>@Configuration\npublic class UserRouter implements IUserRouterDoc {\n\n    @Override\n    @Bean\n    public RouterFunction&lt;ServerResponse&gt; userRoute(final UserHandler handler){\n        return RouterFunctions.route(findByIdPredicate(), handler::findById)\n                .andRoute(updatePredicate(), handler::update)\n                .andRoute(deletePredicate(), handler::delete)\n                .andRoute(savePredicate(), handler::save);\n    }\n\n}\n</code></pre>\n<pre><code>@Component\n@AllArgsConstructor\n@Slf4j\npublic class UserHandler {\n\n    private final BeanValidationService beanValidationService;\n    private final UserService userService;\n    private final UserQueryService userQueryService;\n    private final UserMapper userMapper;\n    public Mono&lt;ServerResponse&gt; findById(final ServerRequest request){\n        return getIdParam(request)\n                .flatMap(userQueryService::findById)\n                .map(userMapper::toResponse)\n                .flatMap(response -&gt; ok()\n                        .contentType(APPLICATION_JSON)\n                        .body(Mono.just(response), UserSingleResponse.class));\n    }\n\n    public Mono&lt;ServerResponse&gt; save(final ServerRequest request){\n        return request.bodyToMono(UserRequest.class)\n                .flatMap(user -&gt; beanValidationService.verifyConstraints(user, UserRequest.class.getSimpleName()).then(Mono.just(user)))\n                .flatMap(user -&gt; userService.save(userMapper.toDocument(user)))\n                .map(userMapper::toResponse)\n                .flatMap(response -&gt; created(UriComponentsBuilder.fromPath(&quot;/users&quot;)\n                        .pathSegment(&quot;{id}&quot;)\n                        .build(response.id()))\n                        .contentType(APPLICATION_JSON)\n                        .body(Mono.just(response), UserSingleResponse.class));\n    }\n\n    public Mono&lt;ServerResponse&gt; update(final ServerRequest request){\n        return request.bodyToMono(UserRequest.class)\n                .flatMap(user -&gt; beanValidationService.verifyConstraints(user, UserRequest.class.getSimpleName()).thenReturn(user))\n                .zipWhen(user -&gt; getIdParam(request))\n                .flatMap(tuple -&gt; userService.update(userMapper.toDocument(tuple.getT2(), tuple.getT1())))\n                .map(userMapper::toResponse)\n                .flatMap(response -&gt; ok()\n                        .contentType(APPLICATION_JSON)\n                        .body(Mono.just(response), UserSingleResponse.class));\n    }\n\n    public Mono&lt;ServerResponse&gt; delete(final ServerRequest request){\n        return getIdParam(request)\n                .flatMap(userService::delete)\n                .then(noContent().build());\n    }\n\n    private Mono&lt;String&gt; getIdParam(final ServerRequest request){\n        return Mono.just(new UserIdParam(request.pathVariable(&quot;id&quot;)))\n                .flatMap(param -&gt; beanValidationService.verifyConstraints(param, UserIdParam.class.getSimpleName()))\n                .thenReturn(request.pathVariable(&quot;id&quot;));\n    }\n\n}\n</code></pre>\n<pre><code>@Component\n@Order(-2)\n@Slf4j\n@AllArgsConstructor\npublic class ApiExceptionHandlerProcessor implements WebExceptionHandler {\n\n    // classes with code to deal with each exceptions\n    private final ConflictHandler conflictHandler;\n    private final MethodNotAllowHandler methodNotAllowHandler;\n    private final NotFoundHandler notFoundHandler;\n    private final ConstraintViolationHandler constraintViolationHandler;\n    private final BeanValidationHandler beanValidationHandler;\n    private final ResponseStatusHandler responseStatusHandler;\n    private final ReactiveCalenderHandler reactiveCalenderHandler;\n    private final GenericHandler genericHandler;\n    private final JsonProcessingHandler jsonProcessingHandler;\n\n    @Override\n    public Mono&lt;Void&gt; handle(final ServerWebExchange exchange, final Throwable ex) {\n        return Mono.error(ex)\n                .onErrorResume(ConflictException.class, e -&gt; conflictHandler.handlerException(exchange, e))\n                .onErrorResume(MethodNotAllowedException.class, e -&gt; methodNotAllowHandler.handlerException(exchange, e))\n                .onErrorResume(NotFoundException.class, e -&gt; notFoundHandler.handlerException(exchange, e))\n                .onErrorResume(ConstraintViolationException.class, e -&gt; constraintViolationHandler.handlerException(exchange, e))\n                .onErrorResume(BeanValidationException.class, e -&gt; beanValidationHandler.handlerException(exchange, e))\n                .onErrorResume(ResponseStatusException.class, e -&gt; responseStatusHandler.handlerException(exchange, e))\n                .onErrorResume(ReactiveCalendarException.class, e -&gt; reactiveCalenderHandler.handlerException(exchange, e))\n                .onErrorResume(Exception.class, e -&gt; genericHandler.handlerException(exchange, e))\n                .onErrorResume(JsonProcessingException.class, e -&gt; jsonProcessingHandler.handlerException(exchange, e))\n                .then();\n    }\n\n}\n</code></pre>\n<p>This code worked fine when I start my application, but in tests my  ApiExceptionHandlerProcessor  is not loaded and errors is handler by spring default classes, this configuration worked if I create controllers using annotations (@RestController, etc), but not work in tests using functional componentes, follow a sample test:</p>\n<pre><code>@ActiveProfiles(&quot;test&quot;)\n@ExtendWith({SpringExtension.class, MockitoExtension.class})\n@ContextConfiguration(classes = {UserMapperImpl.class, LocalValidatorFactoryBean.class, ApiExceptionHandlerProcessor.class,\n        ConflictHandler.class, MethodNotAllowHandler.class, NotFoundHandler.class, ConstraintViolationHandler.class,\n        BeanValidationHandler.class, ResponseStatusHandler.class, ReactiveCalenderHandler.class, GenericHandler.class,\n        JsonProcessingHandler.class, JacksonConfigStub.class})\npublic class UserHandlerSaveTest  {\n\n    @Mock\n    private BeanValidationService beanValidationService;\n    @Mock\n    private UserService userService;\n    @Mock\n    private UserQueryService userQueryService;\n    @Autowired\n    private UserMapper userMapper;\n    @Autowired\n    private SmartValidator smartValidator;\n\n    private RequestBuilder&lt;UserSingleResponse&gt; userResponseRequestBuilder;\n    private RequestBuilder&lt;ProblemResponse&gt; problemResponseRequestBuilder;\n\n    @BeforeEach\n    void setup(){\n        var handler = new UserHandler(beanValidationService, userService, userQueryService, userMapper);\n        var routers = new UserRouter().userRoute(handler);\n        userResponseRequestBuilder = userResponseRequestBuilder(routers, &quot;/users/&quot;);\n        problemResponseRequestBuilder = problemResponseRequestBuilder(routers, &quot;/users/&quot;);\n    }\n\n    @Test\n    void saveTes(){\n        var request = UserRequestFactoryBot.builder().build();\n        when(beanValidationService.verifyConstraints(any(Object.class), anyString())).thenReturn(Mono.empty());\n        when(userService.save(any(UserDocument.class))).thenAnswer(invocation -&gt; {\n            var document = invocation.getArgument(0, UserDocument.class);\n            document = document.toBuilder()\n                    .id(ObjectId.get().toString())\n                    .createdAt(OffsetDateTime.now())\n                    .updatedAt(OffsetDateTime.now())\n                    .build();\n            return Mono.just(document);\n        });\n        userResponseRequestBuilder.withUri(UriBuilder::build)\n                .withBody(request)\n                .generateRequestWithSimpleBody()\n                .doPost()\n                .isHttpStatusIsCreated()\n                .assertBody(response -&gt;{\n                    assertThat(response).usingRecursiveComparison()\n                            .ignoringFields(&quot;id&quot;, &quot;createdAt&quot;, &quot;updatedAt&quot;)\n                            .isEqualTo(request);\n                });\n        verify(beanValidationService).verifyConstraints(any(Object.class), anyString());\n        verify(userService).save(any(UserDocument.class));\n    }\n\n    @Test\n    void whenRequestHasInvalidDataThenThrowError(){\n        var request = UserRequestFactoryBot.builder().withLargeEmail().build();\n        var bindingResult = new BeanPropertyBindingResult(request, UserRequest.class.getSimpleName());\n        smartValidator.validate(request, bindingResult);\n        when(beanValidationService.verifyConstraints(any(Object.class), anyString()))\n                .thenReturn(Mono.error(new BeanValidationException(null)));\n        problemResponseRequestBuilder.withUri(UriBuilder::build)\n                .withBody(request)\n                .generateRequestWithSimpleBody()\n                .doPost()\n                .isHttpStatusIsBadRequest();\n        verify(beanValidationService).verifyConstraints(any(Object.class), anyString());\n        verify(userService, times(0)).save(any(UserDocument.class));\n    }\n\n}\n</code></pre>\n<p>when I run my test my ApiExceptionHandlerProcessor not loaded and a spring class org.springframework.web.server.adapter.DefaultServerWebExchange handler my error.</p>\n<p>Remeber If I use this exception handler works fine using @RestController (tests and start application) but functional componentes don`t work in tests, but if I start my application a class ApiExceptionHandlerProcessor handler fine</p>\n"},{"tags":["java","static","postconstruct"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1661781465,"post_id":73529741,"comment_id":129846709,"body_markdown":"Every construction of a `B` will set the one and only global `aA1` (with the auto-wired `tA`) which first is `null`. _Throw away this design._ Make a singleton, whatever.","body":"Every construction of a <code>B</code> will set the one and only global <code>aA1</code> (with the auto-wired <code>tA</code>) which first is <code>null</code>. <i>Throw away this design.</i> Make a singleton, whatever."},{"owner":{"account_id":25845090,"reputation":11,"user_id":19580064,"display_name":"HinataDev"},"score":0,"creation_date":1661782211,"post_id":73529741,"comment_id":129847000,"body_markdown":"@JoopEggen how can I come up with a singleton  design, any reference that i could go through","body":"@JoopEggen how can I come up with a singleton  design, any reference that i could go through"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1661782731,"post_id":73529741,"comment_id":129847201,"body_markdown":"I assume this is spring. Logging to see what happens may in be enlightening (because of spring&#39;s magic). There are many blogs and such around spring. There should rarely be a need for a `static` with spring dependency injection. But I humbly admit that I cannot give any reference.","body":"I assume this is spring. Logging to see what happens may in be enlightening (because of spring&#39;s magic). There are many blogs and such around spring. There should rarely be a need for a <code>static</code> with spring dependency injection. But I humbly admit that I cannot give any reference."},{"owner":{"account_id":25845090,"reputation":11,"user_id":19580064,"display_name":"HinataDev"},"score":0,"creation_date":1661840998,"post_id":73529741,"comment_id":129860273,"body_markdown":"@JoopEggen can I make the init() a static, just to clear the sonar issue. ?","body":"@JoopEggen can I make the init() a static, just to clear the sonar issue. ?"}],"owner":{"account_id":25845090,"reputation":11,"user_id":19580064,"display_name":"HinataDev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661780355,"creation_date":1661780355,"question_id":73529741,"body_markdown":"I was trying to access the non static method from class A to a static method in class B\r\n```\r\n@Component\r\npublic class B{\r\nprivate static A aA1;\r\n@Autowired\r\nprivate A tA;\r\n\r\n@PostConstruct\r\npublic void init(){\r\n//&lt;&lt;&lt;Make the enclosed method Static or remove this set&gt;&gt;&gt;\r\nB.aA1=tA;\r\n}\r\n\r\npublic static void random method(){\r\naA1.doStuff();\r\n}\r\n}\r\n```\r\n\r\nIs it okay to make the init method static, as the sonar suggest \r\nOr is there another way i could solve this?","title":"Sonar: Make the enclosing method static or remove this set","body":"<p>I was trying to access the non static method from class A to a static method in class B</p>\n<pre><code>@Component\npublic class B{\nprivate static A aA1;\n@Autowired\nprivate A tA;\n\n@PostConstruct\npublic void init(){\n//&lt;&lt;&lt;Make the enclosed method Static or remove this set&gt;&gt;&gt;\nB.aA1=tA;\n}\n\npublic static void random method(){\naA1.doStuff();\n}\n}\n</code></pre>\n<p>Is it okay to make the init method static, as the sonar suggest\nOr is there another way i could solve this?</p>\n"},{"tags":["java","c#","amazon-web-services","amazon-dynamodb","aws-sdk-net"],"answers":[{"tags":[],"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661763788,"creation_date":1661763788,"answer_id":73526429,"question_id":73523037,"body_markdown":"[`generateCreateTableRequest`][4] is unique to the Java SDK with no equivalent (yet) for the .NET SDK.\r\n\r\nThe general .NET equivalent for Java&#39;s `DynamoDBMapper` is the `DynamoDBContext` class ([docs 1][1], [docs 2][2]). This class provides a high-level .NET [object persistence model][3] that enables you to map your client-side classes to Amazon DynamoDB tables.\r\n\r\nHowever, as per docs:\r\n\r\n&gt; The object persistence model **does not provide an API to create, update, or delete tables**. It provides only data operations. You can use only the AWS SDK for .NET low-level API to create, update, and delete tables.\r\n\r\nYou will have to use the low-level .NET API to create tables.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DotNetDynamoDBContext.html\r\n  [2]: https://docs.aws.amazon.com/sdkfornet/v3/apidocs/items/DynamoDBv2/TDynamoDBContext.html\r\n  [3]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DotNetSDKHighLevel.html\r\n  [4]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/AbstractDynamoDBMapper.html#generateCreateTableRequest-java.lang.Class-","title":"Is there a .NET equivalent of DynamoDBMapper?","body":"<p><a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/AbstractDynamoDBMapper.html#generateCreateTableRequest-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>generateCreateTableRequest</code></a> is unique to the Java SDK with no equivalent (yet) for the .NET SDK.</p>\n<p>The general .NET equivalent for Java's <code>DynamoDBMapper</code> is the <code>DynamoDBContext</code> class (<a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DotNetDynamoDBContext.html\" rel=\"nofollow noreferrer\">docs 1</a>, <a href=\"https://docs.aws.amazon.com/sdkfornet/v3/apidocs/items/DynamoDBv2/TDynamoDBContext.html\" rel=\"nofollow noreferrer\">docs 2</a>). This class provides a high-level .NET <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DotNetSDKHighLevel.html\" rel=\"nofollow noreferrer\">object persistence model</a> that enables you to map your client-side classes to Amazon DynamoDB tables.</p>\n<p>However, as per docs:</p>\n<blockquote>\n<p>The object persistence model <strong>does not provide an API to create, update, or delete tables</strong>. It provides only data operations. You can use only the AWS SDK for .NET low-level API to create, update, and delete tables.</p>\n</blockquote>\n<p>You will have to use the low-level .NET API to create tables.</p>\n"}],"owner":{"account_id":89261,"reputation":2485,"user_id":246392,"accept_rate":91,"display_name":"user246392"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73526429,"answer_count":1,"score":0,"last_activity_date":1661780032,"creation_date":1661730493,"question_id":73523037,"body_markdown":"I&#39;d like to construct a `CreateTableRequest` object from data annotations in a class. It looks like Amazon provides [`DynamoDBMapper`][1] in the Java SDK, which makes this process simple. \r\n\r\nHow can I do the same in .NET/C#? \r\n\r\n     AmazonDynamoDB dynamoDBClient = new AmazonDynamoDBClient();\r\n     DynamoDBMapper mapper = new DynamoDBMapper(dynamoDBClient);\r\n     CreateTableRequest req = mapper.generateCreateTableRequest(TestClass.class);\r\n     // Table provision throughput is still required since it cannot be specified in your POJO\r\n     req.setProvisionedThroughput(new ProvisionedThroughput(5L, 5L));\r\n     // Fire off the CreateTableRequest using the low-level client\r\n     dynamoDBClient.createTable(req);\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBMapper.html","title":"Is there a .NET equivalent of DynamoDBMapper?","body":"<p>I'd like to construct a <code>CreateTableRequest</code> object from data annotations in a class. It looks like Amazon provides <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBMapper.html\" rel=\"nofollow noreferrer\"><code>DynamoDBMapper</code></a> in the Java SDK, which makes this process simple.</p>\n<p>How can I do the same in .NET/C#?</p>\n<pre><code> AmazonDynamoDB dynamoDBClient = new AmazonDynamoDBClient();\n DynamoDBMapper mapper = new DynamoDBMapper(dynamoDBClient);\n CreateTableRequest req = mapper.generateCreateTableRequest(TestClass.class);\n // Table provision throughput is still required since it cannot be specified in your POJO\n req.setProvisionedThroughput(new ProvisionedThroughput(5L, 5L));\n // Fire off the CreateTableRequest using the low-level client\n dynamoDBClient.createTable(req);\n</code></pre>\n"},{"tags":["java","javafx","hyperlink","controller","fxml"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1658996748,"post_id":73149085,"comment_id":129192013,"body_markdown":"[mcve] please .. mind the __M__! f.i. hard-code a static text with a single Hyperlink to demonstrate what you are trying to do and how it doesn&#39;t work. Note that the example has to be runnable as-is","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. mind the <b>M</b>! f.i. hard-code a static text with a single Hyperlink to demonstrate what you are trying to do and how it doesn&#39;t work. Note that the example has to be runnable as-is"},{"owner":{"account_id":25748434,"reputation":21,"user_id":19501341,"display_name":"Katapa"},"score":0,"creation_date":1658997457,"post_id":73149085,"comment_id":129192296,"body_markdown":"@kleopatra Sorry, I don&#39;t really understand that. You mean to write a more simple example?","body":"@kleopatra Sorry, I don&#39;t really understand that. You mean to write a more simple example?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1658997774,"post_id":73149085,"comment_id":129192415,"body_markdown":"exactly - you don&#39;t need to parse a real text, just use a simple list or something (that removes the external dependency to jsoup) forgot: add the complete stacktrace (best formatted as code)","body":"exactly - you don&#39;t need to parse a real text, just use a simple list or something (that removes the external dependency to jsoup) forgot: add the complete stacktrace (best formatted as code)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1658998113,"post_id":73149085,"comment_id":129192527,"body_markdown":"to be honest: I don&#39;t understand what you are after - you seem to create a new controller and a new scene on every click on any hyperlink?","body":"to be honest: I don&#39;t understand what you are after - you seem to create a new controller and a new scene on every click on any hyperlink?"},{"owner":{"account_id":25748434,"reputation":21,"user_id":19501341,"display_name":"Katapa"},"score":0,"creation_date":1658998447,"post_id":73149085,"comment_id":129192637,"body_markdown":"@kleopatra Ah okay, so should I edit this page or should I make a new one? Regarding the next question: Basically I want to clink on a maven-repository hyperlink and I want the content of that hyperlink (i.e. the snapshots) displayed on the same &quot;window&quot;. These are also hyperlinks and they should work the same","body":"@kleopatra Ah okay, so should I edit this page or should I make a new one? Regarding the next question: Basically I want to clink on a maven-repository hyperlink and I want the content of that hyperlink (i.e. the snapshots) displayed on the same &quot;window&quot;. These are also hyperlinks and they should work the same"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1658998594,"post_id":73149085,"comment_id":129192685,"body_markdown":"edit this (and make sure the fxmls are complete, including headers and imports :) But why create a new controller/scene? you will have as many of them as you have hyperlinks.. or what am I missing .. but then: waiting for the example, that&#39;s better then words :)","body":"edit this (and make sure the fxmls are complete, including headers and imports :) But why create a new controller/scene? you will have as many of them as you have hyperlinks.. or what am I missing .. but then: waiting for the example, that&#39;s better then words :)"},{"owner":{"account_id":25748434,"reputation":21,"user_id":19501341,"display_name":"Katapa"},"score":0,"creation_date":1658999153,"post_id":73149085,"comment_id":129192909,"body_markdown":"You are missing nothing, I am sure :P I am a beginner and I just tried to get something to work. There is a lot of redundant or not working code^^ So, it took me some time to work on the code at the top, so I have to see how I can simplify the code without the jsoup","body":"You are missing nothing, I am sure :P I am a beginner and I just tried to get something to work. There is a lot of redundant or not working code^^ So, it took me some time to work on the code at the top, so I have to see how I can simplify the code without the jsoup"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1658999172,"post_id":73149085,"comment_id":129192916,"body_markdown":"I don&#39;t know how to reset the txtFlow -&gt; `txtFlow.getChildren().clear()`?","body":"I don&#39;t know how to reset the txtFlow -&gt; <code>txtFlow.getChildren().clear()</code>?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1658999290,"post_id":73149085,"comment_id":129192958,"body_markdown":"Can you load the maven url into a WebView instead of doing what you are doing?","body":"Can you load the maven url into a WebView instead of doing what you are doing?"},{"owner":{"account_id":25748434,"reputation":21,"user_id":19501341,"display_name":"Katapa"},"score":0,"creation_date":1658999675,"post_id":73149085,"comment_id":129193114,"body_markdown":"@jewelsea I read about it and maybe it is something I can do, but I have chosen the other way. Maybe I will do it with a WebView if I can&#39;t get it to work the other way","body":"@jewelsea I read about it and maybe it is something I can do, but I have chosen the other way. Maybe I will do it with a WebView if I can&#39;t get it to work the other way"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1659004942,"post_id":73149085,"comment_id":129194998,"body_markdown":"darn, that took me a while to detect ;) Technically, the NPE is thrown because you pass around the event received by the _fetch button_ (vs. the event received by the hyperlink) - when clicking the hyperlink after having moved it into a new scene and replaced the original&#39;s scene with it, the fetch button no longer has a window .. voting to close as typo. To really fix, it&#39;s probably best to re-think your design (there is no need to replace the scene if all you want is to reset source page of the references and re-fill the list of contained references)","body":"darn, that took me a while to detect ;) Technically, the NPE is thrown because you pass around the event received by the <i>fetch button</i> (vs. the event received by the hyperlink) - when clicking the hyperlink after having moved it into a new scene and replaced the original&#39;s scene with it, the fetch button no longer has a window .. voting to close as typo. To really fix, it&#39;s probably best to re-think your design (there is no need to replace the scene if all you want is to reset source page of the references and re-fill the list of contained references)"},{"owner":{"account_id":25748434,"reputation":21,"user_id":19501341,"display_name":"Katapa"},"score":0,"creation_date":1659010102,"post_id":73149085,"comment_id":129196805,"body_markdown":"@kleopatra Thank you for your effort! For hours I am trying to re-think my design and I managed to get my code working with hard-code but not with my &quot;jsoup-way&quot;. With hard-code I simply created a String and Hyperlink for each URL and gave every Hyperlink a setOnAction(), where I added the correct Hyperlink to the txtFlow. But to do this dynamically with changing URLs is hard^^ Till now, I didn&#39;t manage to get a minimal reproducible example of this to post it here without jsoup. Because with jsoup it gives me a headache^^","body":"@kleopatra Thank you for your effort! For hours I am trying to re-think my design and I managed to get my code working with hard-code but not with my &quot;jsoup-way&quot;. With hard-code I simply created a String and Hyperlink for each URL and gave every Hyperlink a setOnAction(), where I added the correct Hyperlink to the txtFlow. But to do this dynamically with changing URLs is hard^^ Till now, I didn&#39;t manage to get a minimal reproducible example of this to post it here without jsoup. Because with jsoup it gives me a headache^^"},{"owner":{"account_id":25748434,"reputation":21,"user_id":19501341,"display_name":"Katapa"},"score":0,"creation_date":1659010335,"post_id":73149085,"comment_id":129196892,"body_markdown":"PS (becauce no more space): The new code hast just 1 controller and 1 fxml, where the content is displayed on 1 TextFlow","body":"PS (becauce no more space): The new code hast just 1 controller and 1 fxml, where the content is displayed on 1 TextFlow"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1661513987,"post_id":73149085,"comment_id":129795991,"body_markdown":"This `WebView` [example](https://stackoverflow.com/a/33824164/230513) works well with your repository link.","body":"This <code>WebView</code> <a href=\"https://stackoverflow.com/a/33824164/230513\">example</a> works well with your repository link."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661779525,"creation_date":1659058630,"answer_id":73160763,"question_id":73149085,"body_markdown":"Here is some code that may help you get going.\r\n\r\nI altered the code from https://stackoverflow.com/questions/49134914/jsoup-printing-out-info-from-html-element-span-not-working/49135616#49135616\r\n\r\n\r\n----------\r\n\r\n\r\n**Main**\r\n```\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javafx.application.Application;\r\nimport javafx.beans.property.SimpleStringProperty;\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.concurrent.Task;\r\nimport javafx.concurrent.WorkerStateEvent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\nimport org.jsoup.Jsoup;\r\nimport org.jsoup.nodes.Document;\r\nimport org.jsoup.nodes.Element;\r\nimport org.jsoup.select.Elements;\r\n\r\n/**\r\n * JavaFX App\r\n */\r\npublic class App extends Application\r\n{\r\n\r\n    String rootDirectory = &quot;https://repo.maven.apache.org/maven2/avalon/&quot;;\r\n    \r\n    @Override\r\n    public void start(Stage primaryStage)\r\n    {\r\n        TableView&lt;JSoupData&gt; tvMain = new TableView();\r\n        ObservableList&lt;JSoupData&gt; tableItems = FXCollections.observableArrayList();\r\n        tvMain.setItems(tableItems);\r\n\r\n        TableColumn&lt;JSoupData, String&gt; tcTagName = new TableColumn&lt;&gt;(&quot;Tag Name&quot;);\r\n        tcTagName.setCellValueFactory(cdf -&gt; new SimpleStringProperty(cdf.getValue().getTagName()));\r\n        TableColumn&lt;JSoupData, String&gt; tcText = new TableColumn&lt;&gt;(&quot;Text&quot;);\r\n        tcText.setCellValueFactory(cdf -&gt; new SimpleStringProperty(cdf.getValue().getText()));\r\n        tvMain.getColumns().add(tcTagName);\r\n        tvMain.getColumns().add(tcText);\r\n        tcTagName.prefWidthProperty().bind(tvMain.widthProperty().multiply(0.3));\r\n        tcText.prefWidthProperty().bind(tvMain.widthProperty().multiply(0.7));\r\n\r\n        \r\n        TextField tfUrl = new TextField(rootDirectory);\r\n        tfUrl.setPromptText(&quot;Enter URL Here!&quot;);\r\n\r\n        Button btnProcess = new Button(&quot;Process URL&quot;);\r\n        btnProcess.setOnAction((t) -&gt; {\r\n            btnProcess.setDisable(true);\r\n            tvMain.setDisable(true);\r\n            \r\n            Task&lt;List&lt;JSoupData&gt;&gt; task = scrapper(tfUrl.getText());\r\n            task.setOnSucceeded((WorkerStateEvent t1) -&gt; {\r\n                List&lt;JSoupData&gt; tempList = task.getValue();\r\n                tableItems.setAll(tempList);\r\n                btnProcess.setDisable(false);\r\n                tvMain.setDisable(false);\r\n            });\r\n            Thread thread = new Thread(task);\r\n            thread.setDaemon(true);\r\n            thread.start();\r\n        });\r\n        \r\n        \r\n        tvMain.getSelectionModel().selectedItemProperty().addListener((ov, oldSelection, newSelection) -&gt; {\r\n            if(newSelection != null)\r\n            {\r\n                rootDirectory = rootDirectory + newSelection.getText();\r\n                System.out.println(&quot;New Selection: &quot; + rootDirectory);\r\n                tfUrl.setText(rootDirectory);\r\n                \r\n                btnProcess.setDisable(true);\r\n                tvMain.setDisable(true);\r\n            \r\n                Task&lt;List&lt;JSoupData&gt;&gt; task = scrapper(rootDirectory);\r\n                task.setOnSucceeded((WorkerStateEvent t1) -&gt; {\r\n                    List&lt;JSoupData&gt; tempList = task.getValue();\r\n                    tableItems.setAll(tempList);\r\n                    btnProcess.setDisable(false);\r\n                    tvMain.setDisable(false);\r\n                });\r\n                Thread thread = new Thread(task);\r\n                thread.setDaemon(true);\r\n                thread.start();\r\n            }\r\n        });        \r\n    \r\n        VBox root = new VBox(tvMain, tfUrl, btnProcess);\r\n\r\n        Scene scene = new Scene(root);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        launch();\r\n    }\r\n\r\n    public Task&lt;List&lt;JSoupData&gt;&gt; scrapper(String url)\r\n    {\r\n        Task&lt;List&lt;JSoupData&gt;&gt; scrapperTask = new Task&lt;List&lt;JSoupData&gt;&gt;()\r\n        {\r\n            @Override\r\n            protected List&lt;JSoupData&gt; call()\r\n            {\r\n                List&lt;JSoupData&gt; jSoupDatas = new ArrayList();\r\n                try {\r\n                    System.out.println(&quot;url: &quot; + url);\r\n                    Document document = Jsoup.connect(url).get();\r\n                    System.out.println(&quot;Title: &quot; + document.title());\r\n                    Elements gamesNames = document.select(&quot;a[href]&quot;);\r\n                    System.out.println(&quot;a[href]&quot;);\r\n                    for (Element element : gamesNames) {\r\n                        jSoupDatas.add(new JSoupData(element.tagName(), element.text()));\r\n                        System.out.println(&quot;Tag Name: &quot; + element.tagName() + &quot; - Text: &quot; + element.text());\r\n                    }\r\n                }\r\n                catch (IOException e) {\r\n                    System.out.println(e.toString());\r\n                }\r\n\r\n                return jSoupDatas;\r\n            }\r\n        };\r\n\r\n        return scrapperTask;\r\n    }\r\n}\r\n```\r\n\r\n\r\n----------\r\n**JSoupData**\r\n```\r\n/*\r\n * @author sedrick (sedj601)\r\n */\r\n\r\npublic class JSoupData\r\n{\r\n\r\n    private String tagName;\r\n    private String text;\r\n\r\n    public JSoupData(String tagName, String text)\r\n    {\r\n        this.tagName = tagName;\r\n        this.text = text;\r\n    }\r\n\r\n    public String getText()\r\n    {\r\n        return text;\r\n    }\r\n\r\n    public void setText(String text)\r\n    {\r\n        this.text = text;\r\n    }\r\n\r\n    public String getTagName()\r\n    {\r\n        return tagName;\r\n    }\r\n\r\n    public void setTagName(String tagName)\r\n    {\r\n        this.tagName = tagName;\r\n    }\r\n\r\n    @Override\r\n    public String toString()\r\n    {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;JSoupData{tagName=&quot;).append(tagName);\r\n        sb.append(&quot;, text=&quot;).append(text);\r\n        sb.append(&#39;}&#39;);\r\n        return sb.toString();\r\n    }\r\n}\r\n```\r\n\r\n----------\r\n**Output**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n----------\r\n\r\n\r\n**Note: This does not account for moving up the directory structure.**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jYYKv.gif","title":"JavaFX - Click on Hyperlink and staying in the same window","body":"<p>Here is some code that may help you get going.</p>\n<p>I altered the code from <a href=\"https://stackoverflow.com/questions/49134914/jsoup-printing-out-info-from-html-element-span-not-working/49135616#49135616\">Jsoup - Printing out info from HTML element SPAN not working?</a></p>\n<hr />\n<p><strong>Main</strong></p>\n<pre><code>import java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javafx.application.Application;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.concurrent.Task;\nimport javafx.concurrent.WorkerStateEvent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.nodes.Element;\nimport org.jsoup.select.Elements;\n\n/**\n * JavaFX App\n */\npublic class App extends Application\n{\n\n    String rootDirectory = &quot;https://repo.maven.apache.org/maven2/avalon/&quot;;\n    \n    @Override\n    public void start(Stage primaryStage)\n    {\n        TableView&lt;JSoupData&gt; tvMain = new TableView();\n        ObservableList&lt;JSoupData&gt; tableItems = FXCollections.observableArrayList();\n        tvMain.setItems(tableItems);\n\n        TableColumn&lt;JSoupData, String&gt; tcTagName = new TableColumn&lt;&gt;(&quot;Tag Name&quot;);\n        tcTagName.setCellValueFactory(cdf -&gt; new SimpleStringProperty(cdf.getValue().getTagName()));\n        TableColumn&lt;JSoupData, String&gt; tcText = new TableColumn&lt;&gt;(&quot;Text&quot;);\n        tcText.setCellValueFactory(cdf -&gt; new SimpleStringProperty(cdf.getValue().getText()));\n        tvMain.getColumns().add(tcTagName);\n        tvMain.getColumns().add(tcText);\n        tcTagName.prefWidthProperty().bind(tvMain.widthProperty().multiply(0.3));\n        tcText.prefWidthProperty().bind(tvMain.widthProperty().multiply(0.7));\n\n        \n        TextField tfUrl = new TextField(rootDirectory);\n        tfUrl.setPromptText(&quot;Enter URL Here!&quot;);\n\n        Button btnProcess = new Button(&quot;Process URL&quot;);\n        btnProcess.setOnAction((t) -&gt; {\n            btnProcess.setDisable(true);\n            tvMain.setDisable(true);\n            \n            Task&lt;List&lt;JSoupData&gt;&gt; task = scrapper(tfUrl.getText());\n            task.setOnSucceeded((WorkerStateEvent t1) -&gt; {\n                List&lt;JSoupData&gt; tempList = task.getValue();\n                tableItems.setAll(tempList);\n                btnProcess.setDisable(false);\n                tvMain.setDisable(false);\n            });\n            Thread thread = new Thread(task);\n            thread.setDaemon(true);\n            thread.start();\n        });\n        \n        \n        tvMain.getSelectionModel().selectedItemProperty().addListener((ov, oldSelection, newSelection) -&gt; {\n            if(newSelection != null)\n            {\n                rootDirectory = rootDirectory + newSelection.getText();\n                System.out.println(&quot;New Selection: &quot; + rootDirectory);\n                tfUrl.setText(rootDirectory);\n                \n                btnProcess.setDisable(true);\n                tvMain.setDisable(true);\n            \n                Task&lt;List&lt;JSoupData&gt;&gt; task = scrapper(rootDirectory);\n                task.setOnSucceeded((WorkerStateEvent t1) -&gt; {\n                    List&lt;JSoupData&gt; tempList = task.getValue();\n                    tableItems.setAll(tempList);\n                    btnProcess.setDisable(false);\n                    tvMain.setDisable(false);\n                });\n                Thread thread = new Thread(task);\n                thread.setDaemon(true);\n                thread.start();\n            }\n        });        \n    \n        VBox root = new VBox(tvMain, tfUrl, btnProcess);\n\n        Scene scene = new Scene(root);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args)\n    {\n        launch();\n    }\n\n    public Task&lt;List&lt;JSoupData&gt;&gt; scrapper(String url)\n    {\n        Task&lt;List&lt;JSoupData&gt;&gt; scrapperTask = new Task&lt;List&lt;JSoupData&gt;&gt;()\n        {\n            @Override\n            protected List&lt;JSoupData&gt; call()\n            {\n                List&lt;JSoupData&gt; jSoupDatas = new ArrayList();\n                try {\n                    System.out.println(&quot;url: &quot; + url);\n                    Document document = Jsoup.connect(url).get();\n                    System.out.println(&quot;Title: &quot; + document.title());\n                    Elements gamesNames = document.select(&quot;a[href]&quot;);\n                    System.out.println(&quot;a[href]&quot;);\n                    for (Element element : gamesNames) {\n                        jSoupDatas.add(new JSoupData(element.tagName(), element.text()));\n                        System.out.println(&quot;Tag Name: &quot; + element.tagName() + &quot; - Text: &quot; + element.text());\n                    }\n                }\n                catch (IOException e) {\n                    System.out.println(e.toString());\n                }\n\n                return jSoupDatas;\n            }\n        };\n\n        return scrapperTask;\n    }\n}\n</code></pre>\n<hr />\n<p><strong>JSoupData</strong></p>\n<pre><code>/*\n * @author sedrick (sedj601)\n */\n\npublic class JSoupData\n{\n\n    private String tagName;\n    private String text;\n\n    public JSoupData(String tagName, String text)\n    {\n        this.tagName = tagName;\n        this.text = text;\n    }\n\n    public String getText()\n    {\n        return text;\n    }\n\n    public void setText(String text)\n    {\n        this.text = text;\n    }\n\n    public String getTagName()\n    {\n        return tagName;\n    }\n\n    public void setTagName(String tagName)\n    {\n        this.tagName = tagName;\n    }\n\n    @Override\n    public String toString()\n    {\n        StringBuilder sb = new StringBuilder();\n        sb.append(&quot;JSoupData{tagName=&quot;).append(tagName);\n        sb.append(&quot;, text=&quot;).append(text);\n        sb.append('}');\n        return sb.toString();\n    }\n}\n</code></pre>\n<hr />\n<p><strong>Output</strong></p>\n<p><a href=\"https://i.stack.imgur.com/jYYKv.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jYYKv.gif\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><strong>Note: This does not account for moving up the directory structure.</strong></p>\n"}],"owner":{"account_id":25748434,"reputation":21,"user_id":19501341,"display_name":"Katapa"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661779525,"creation_date":1658994448,"question_id":73149085,"body_markdown":"In short, I have a ScrollPane with a TextFlow that contains hyperlinks (maven repository). When I click on a hyperlink, I want to see the a-tags that the link contains on the same ScrollPane in the same window (or even in a new window). JavaFX is really new to me and I am struggling. \r\n\r\nI am using jsoup to extract a-tags from a url.\r\n\r\nMore detailed:\r\nHere is my **Main**: \r\n```lang-java\r\npublic class Main extends Application {\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) {\r\n\t\ttry {\r\n\t\t\tParent root = FXMLLoader.load(getClass().getResource(&quot;TestFetch.fxml&quot;));\r\n\t\t\tScene scene = new Scene(root);\r\n\t\t\tscene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n\t\t\tprimaryStage.setScene(scene);\r\n\t\t\tprimaryStage.show();\r\n\t\t} catch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\nThere I call the **TestFetch.fxml**: \r\n\r\n```\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;575.0&quot; prefWidth=&quot;787.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.TestFetch1Controller&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Button fx:id=&quot;btnFetchData&quot; layoutX=&quot;368.0&quot; layoutY=&quot;54.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#fetchData&quot; text=&quot;Fetch Data&quot; /&gt;\r\n      &lt;ScrollPane fx:id=&quot;scrollPane&quot; layoutX=&quot;46.0&quot; layoutY=&quot;131.0&quot; prefHeight=&quot;384.0&quot; prefWidth=&quot;682.0&quot;&gt;\r\n         &lt;content&gt;\r\n            &lt;TextFlow fx:id=&quot;txtFlow&quot; prefHeight=&quot;381.0&quot; prefWidth=&quot;680.0&quot; /&gt;\r\n         &lt;/content&gt;\r\n      &lt;/ScrollPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nThis contains a Button (btnFetchData), a ScrollPane and a TextFlow (txtFlow).&lt;br /&gt;&lt;br /&gt;\r\n  \r\n\r\nThe controller is **TestFetch1Controller**: \r\n```lang-java\r\npublic class TestFetch1Controller {\r\n\t\r\n\t@FXML\r\n\tprivate Button btnFetchData;\r\n\t\r\n\t@FXML\r\n\tprivate ScrollPane scrollPane;\r\n\t\r\n\t@FXML\r\n\tprivate TextFlow txtFlow;\r\n\t\r\n\tpublic void fetchData(ActionEvent event) throws IOException {\r\n\t\tfinal String url = &quot;https://repo.maven.apache.org/maven2/avalon/&quot;;\r\n\t\t\r\n\t\tDocument docConnect = Jsoup.connect(url).get();\r\n\t\t\r\n\t\tElements links = docConnect.getElementsByTag(&quot;a&quot;);\r\n\t\t\r\n\t\tfor (Element link : links) {\r\n\t\t\tString linkString = link.attr(&quot;href&quot;).toString();\r\n\t\t\tSystem.out.println(linkString);\r\n\t\t\t\r\n\t\t\tHyperlink hyperlink = new Hyperlink(linkString);\r\n\t\t\thyperlink.setOnAction(e -&gt; {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tgoToLink(event, hyperlink.getText());\r\n\t\t\t\t} catch (IOException e1) {\r\n\t\t\t\t\te1.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\ttxtFlow.getChildren().add(hyperlink);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void goToLink(ActionEvent event, String hyperlinkURL) throws IOException {\r\n\t\tFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;TestFetch2.fxml&quot;));\r\n\t\tParent root2 = loader.load();\r\n\t\tTestFetch2Controller testFetch2Controller = loader.getController();\r\n\t\ttestFetch2Controller.addHyperlinksToScrollPane(txtFlow);\r\n\t\t\r\n\t\t\r\n\t\tStage stage2 = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n\t\tScene scene2 = new Scene(root2);\r\n\t\tstage2.setScene(scene2);\r\n\t\tstage2.show();\r\n\t}\r\n}\r\n```\r\n\r\nHere I grabbed a public Maven repository, which I filter by a-tags. These then become &quot;hyperlink&quot; which are all added to txtFlow.\r\nNow I would like to have the same process again when I click on one of the hyperlinks. So that the a-tags of the hyperlink, which was clicked, are shown to me in the txtFlow. \r\n\r\nSince I don&#39;t know how to reset the txtFlow, I created a new FXML, the **TestFetch2.fxml**:\r\n```\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;476.0&quot; prefWidth=&quot;778.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.TestFetch2Controller&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;ScrollPane fx:id=&quot;scrollPane2&quot; layoutX=&quot;68.0&quot; layoutY=&quot;22.0&quot; prefHeight=&quot;432.0&quot; prefWidth=&quot;642.0&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nHere I have only one ScrollPane &quot;scrollPane2&quot;. Using &quot;setOnAction&quot; [&quot;goToLink()&quot; in TestFetch1Controller] on hyperlink I wanted to tell each hyperlink to open the &quot;TestFetch2.fxml&quot; when clicked. This works once and then there is a NullPointerException (&quot;stage2&quot; is null). For your information, this is the **TestFetch2Controller**:\r\n```lang-java\r\npublic class TestFetch2Controller {\r\n\r\n\t@FXML\r\n\tprivate ScrollPane scrollPane2;\r\n\t\r\n\tpublic void addHyperlinksToScrollPane(TextFlow textFlow) {\r\n\t\tscrollPane2.setContent(textFlow);\r\n\t}\r\n}\r\n```\r\nSo basically my problem is that I don&#39;t know how to extract the data (a-tags) of the hyperlink to the next window. I want to be able to keep clicking on the hyperlinks till I came to the .jar.\r\n\r\nPlease ask any question if something is unclear.","title":"JavaFX - Click on Hyperlink and staying in the same window","body":"<p>In short, I have a ScrollPane with a TextFlow that contains hyperlinks (maven repository). When I click on a hyperlink, I want to see the a-tags that the link contains on the same ScrollPane in the same window (or even in a new window). JavaFX is really new to me and I am struggling.</p>\n<p>I am using jsoup to extract a-tags from a url.</p>\n<p>More detailed:\nHere is my <strong>Main</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        try {\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;TestFetch.fxml&quot;));\n            Scene scene = new Scene(root);\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\n            primaryStage.setScene(scene);\n            primaryStage.show();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>There I call the <strong>TestFetch.fxml</strong>:</p>\n<pre><code>&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;575.0&quot; prefWidth=&quot;787.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.TestFetch1Controller&quot;&gt;\n   &lt;children&gt;\n      &lt;Button fx:id=&quot;btnFetchData&quot; layoutX=&quot;368.0&quot; layoutY=&quot;54.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#fetchData&quot; text=&quot;Fetch Data&quot; /&gt;\n      &lt;ScrollPane fx:id=&quot;scrollPane&quot; layoutX=&quot;46.0&quot; layoutY=&quot;131.0&quot; prefHeight=&quot;384.0&quot; prefWidth=&quot;682.0&quot;&gt;\n         &lt;content&gt;\n            &lt;TextFlow fx:id=&quot;txtFlow&quot; prefHeight=&quot;381.0&quot; prefWidth=&quot;680.0&quot; /&gt;\n         &lt;/content&gt;\n      &lt;/ScrollPane&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>This contains a Button (btnFetchData), a ScrollPane and a TextFlow (txtFlow).<br /><br /></p>\n<p>The controller is <strong>TestFetch1Controller</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestFetch1Controller {\n    \n    @FXML\n    private Button btnFetchData;\n    \n    @FXML\n    private ScrollPane scrollPane;\n    \n    @FXML\n    private TextFlow txtFlow;\n    \n    public void fetchData(ActionEvent event) throws IOException {\n        final String url = &quot;https://repo.maven.apache.org/maven2/avalon/&quot;;\n        \n        Document docConnect = Jsoup.connect(url).get();\n        \n        Elements links = docConnect.getElementsByTag(&quot;a&quot;);\n        \n        for (Element link : links) {\n            String linkString = link.attr(&quot;href&quot;).toString();\n            System.out.println(linkString);\n            \n            Hyperlink hyperlink = new Hyperlink(linkString);\n            hyperlink.setOnAction(e -&gt; {\n                try {\n                    goToLink(event, hyperlink.getText());\n                } catch (IOException e1) {\n                    e1.printStackTrace();\n                }\n            });\n            txtFlow.getChildren().add(hyperlink);\n        }\n    }\n\n    public void goToLink(ActionEvent event, String hyperlinkURL) throws IOException {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;TestFetch2.fxml&quot;));\n        Parent root2 = loader.load();\n        TestFetch2Controller testFetch2Controller = loader.getController();\n        testFetch2Controller.addHyperlinksToScrollPane(txtFlow);\n        \n        \n        Stage stage2 = (Stage) ((Node) event.getSource()).getScene().getWindow();\n        Scene scene2 = new Scene(root2);\n        stage2.setScene(scene2);\n        stage2.show();\n    }\n}\n</code></pre>\n<p>Here I grabbed a public Maven repository, which I filter by a-tags. These then become &quot;hyperlink&quot; which are all added to txtFlow.\nNow I would like to have the same process again when I click on one of the hyperlinks. So that the a-tags of the hyperlink, which was clicked, are shown to me in the txtFlow.</p>\n<p>Since I don't know how to reset the txtFlow, I created a new FXML, the <strong>TestFetch2.fxml</strong>:</p>\n<pre><code>&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;476.0&quot; prefWidth=&quot;778.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;application.TestFetch2Controller&quot;&gt;\n   &lt;children&gt;\n      &lt;ScrollPane fx:id=&quot;scrollPane2&quot; layoutX=&quot;68.0&quot; layoutY=&quot;22.0&quot; prefHeight=&quot;432.0&quot; prefWidth=&quot;642.0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Here I have only one ScrollPane &quot;scrollPane2&quot;. Using &quot;setOnAction&quot; [&quot;goToLink()&quot; in TestFetch1Controller] on hyperlink I wanted to tell each hyperlink to open the &quot;TestFetch2.fxml&quot; when clicked. This works once and then there is a NullPointerException (&quot;stage2&quot; is null). For your information, this is the <strong>TestFetch2Controller</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestFetch2Controller {\n\n    @FXML\n    private ScrollPane scrollPane2;\n    \n    public void addHyperlinksToScrollPane(TextFlow textFlow) {\n        scrollPane2.setContent(textFlow);\n    }\n}\n</code></pre>\n<p>So basically my problem is that I don't know how to extract the data (a-tags) of the hyperlink to the next window. I want to be able to keep clicking on the hyperlinks till I came to the .jar.</p>\n<p>Please ask any question if something is unclear.</p>\n"},{"tags":["java","spring-boot","kotlin","bean-validation","jsr380"],"comments":[{"owner":{"account_id":13732063,"reputation":4892,"user_id":9909365,"display_name":"Ashvin solanki"},"score":0,"creation_date":1537293011,"post_id":52345291,"comment_id":91729200,"body_markdown":"before \\@NotEmpty just ad \\@NotNull in class user and Try","body":"before \\@NotEmpty just ad \\@NotNull in class user and Try"},{"owner":{"account_id":8476590,"reputation":1212,"user_id":6357653,"display_name":"DarkAtra"},"score":0,"creation_date":1537293522,"post_id":52345291,"comment_id":91729440,"body_markdown":"still fails with `java.lang.AssertionError: No errors for field &#39;roles[]&#39; of attribute &#39;userDto&#39;` and it actually makes sense in this case as adding `@NotNull` to roles will only ensure that `roles` is never null. However i want to validate the items inside of `roles`.","body":"still fails with <code>java.lang.AssertionError: No errors for field &#39;roles[]&#39; of attribute &#39;userDto&#39;</code> and it actually makes sense in this case as adding <code>@NotNull</code> to roles will only ensure that <code>roles</code> is never null. However i want to validate the items inside of <code>roles</code>."},{"owner":{"account_id":386122,"reputation":4332,"user_id":743716,"accept_rate":40,"display_name":"Rafal G."},"score":1,"creation_date":1537549695,"post_id":52345291,"comment_id":91839485,"body_markdown":"Yeah, I have the same problem. I think I will have to create custom validators for the time being. https://twitter.com/GlowinskiRafal/status/1043183121796083718","body":"Yeah, I have the same problem. I think I will have to create custom validators for the time being. <a href=\"https://twitter.com/GlowinskiRafal/status/1043183121796083718\" rel=\"nofollow noreferrer\">twitter.com/GlowinskiRafal/status/1043183121796083718</a>"},{"owner":{"account_id":386122,"reputation":4332,"user_id":743716,"accept_rate":40,"display_name":"Rafal G."},"score":2,"creation_date":1537606538,"post_id":52345291,"comment_id":91852625,"body_markdown":"@TommySchmidt I have created a Kotlin issue using all the details you have provided: https://youtrack.jetbrains.com/issue/KT-27049 - I hope you don&#39;t mind :)","body":"@TommySchmidt I have created a Kotlin issue using all the details you have provided: <a href=\"https://youtrack.jetbrains.com/issue/KT-27049\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-27049</a> - I hope you don&#39;t mind :)"},{"owner":{"account_id":8476590,"reputation":1212,"user_id":6357653,"display_name":"DarkAtra"},"score":0,"creation_date":1537617352,"post_id":52345291,"comment_id":91855161,"body_markdown":"@RafalG. i dont mid at all. thanks for posting it!","body":"@RafalG. i dont mid at all. thanks for posting it!"}],"answers":[{"tags":[],"owner":{"account_id":325616,"reputation":596,"user_id":646901,"display_name":"StevieB"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1537923239,"creation_date":1537896043,"answer_id":52503641,"question_id":52345291,"body_markdown":"Try adding `?` like this:\r\n\r\n    data class User(\r\n        @field:Valid\r\n        @field:NotEmpty\r\n        var roles: MutableSet&lt;@NotNull Role?&gt; = HashSet()\r\n    )\r\n\r\nThen the kotlin compiler should realise roles could be `null`, and it might honor the validation, I know little about JSR380 so i&#39;m just guessing though.","title":"bean validation not working with kotlin (JSR 380)","body":"<p>Try adding <code>?</code> like this:</p>\n\n<pre><code>data class User(\n    @field:Valid\n    @field:NotEmpty\n    var roles: MutableSet&lt;@NotNull Role?&gt; = HashSet()\n)\n</code></pre>\n\n<p>Then the kotlin compiler should realise roles could be <code>null</code>, and it might honor the validation, I know little about JSR380 so i'm just guessing though.</p>\n"},{"tags":[],"owner":{"account_id":8476590,"reputation":1212,"user_id":6357653,"display_name":"DarkAtra"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1622752043,"creation_date":1537902492,"answer_id":52505224,"question_id":52345291,"body_markdown":"## Answer (Kotlin 1.3.70)\r\n\r\nMake sure to compile the kotlin code with jvm target 1.8 or greater and enable this feature by providing the `-Xemit-jvm-type-annotations` when compiling.\r\n\r\nFor Spring Boot projects you only have to do the following changes (tested with Spring Boot 2.3.3 and Kotlin 1.4.0):\r\n\r\n1. In your pom set the following property:\r\n    ```\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;kotlin.version&gt;1.4.0&lt;/kotlin.version&gt;\r\n    &lt;/properties&gt;\r\n    ```\r\n2. Add `&lt;arg&gt;-Xemit-jvm-type-annotations&lt;/arg&gt;` to the `kotlin-maven-plugin`:\r\n    ```\r\n    &lt;build&gt;\r\n        &lt;plugin&gt;\r\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;args&gt;\r\n                    &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\r\n                    &lt;arg&gt;-Xemit-jvm-type-annotations&lt;/arg&gt;\r\n                &lt;/args&gt;\r\n                &lt;compilerPlugins&gt;\r\n                    &lt;plugin&gt;spring&lt;/plugin&gt;\r\n                &lt;/compilerPlugins&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\r\n                    &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/build&gt;\r\n    ```\r\n\r\n[Sample Project][1]\r\n\r\n[Jetbrains Release Notes][5]\r\n\r\n----------\r\n\r\n\r\n## Workaround (pre Kotlin 1.3.70)\r\n\r\n[Rafal G.][2] already pointed out that we could use a custom validator as a workaround. So here&#39;s some code:\r\n\r\n**The Annotation:**\r\n\r\n    import javax.validation.Constraint\r\n    import javax.validation.Payload\r\n    import kotlin.annotation.AnnotationTarget.ANNOTATION_CLASS\r\n    import kotlin.annotation.AnnotationTarget.CONSTRUCTOR\r\n    import kotlin.annotation.AnnotationTarget.FIELD\r\n    import kotlin.annotation.AnnotationTarget.FUNCTION\r\n    import kotlin.annotation.AnnotationTarget.TYPE_PARAMETER\r\n    import kotlin.annotation.AnnotationTarget.VALUE_PARAMETER\r\n    import kotlin.reflect.KClass\r\n    \r\n    @MustBeDocumented\r\n    @Constraint(validatedBy = [NoNullElementsValidator::class])\r\n    @Target(allowedTargets = [FUNCTION, FIELD, ANNOTATION_CLASS, CONSTRUCTOR, VALUE_PARAMETER, TYPE_PARAMETER])\r\n    @Retention(AnnotationRetention.RUNTIME)\r\n    annotation class NoNullElements(\r\n\t    val message: String = &quot;must not contain null elements&quot;,\r\n\t    val groups: Array&lt;KClass&lt;out Any&gt;&gt; = [],\r\n\t    val payload: Array&lt;KClass&lt;out Payload&gt;&gt; = []\r\n    )\r\n\r\n**The ConstraintValidator:**\r\n\r\n    import javax.validation.ConstraintValidator\r\n    import javax.validation.ConstraintValidatorContext\r\n\r\n    class NoNullElementsValidator : ConstraintValidator&lt;NoNullElements, Collection&lt;Any&gt;&gt; {\r\n\t    override fun isValid(value: Collection&lt;Any&gt;?, context: ConstraintValidatorContext): Boolean {\r\n\t\t    // null values are valid\r\n\t\t    if (value == null) {\r\n\t\t\t    return true\r\n\t\t    }\r\n\t\t    return value.stream().noneMatch { it == null }\r\n\t    }\r\n    }\r\n\r\n**And finally the updated User class:**\r\n\r\n    data class User(\r\n\t    @field:NotEmpty\r\n\t    @field:NoNullElements\r\n\t    var roles: MutableSet&lt;Role&gt; = HashSet()\r\n    )\r\n\r\n\r\n----------\r\n\r\n\r\nAltough validation works now, the resulting ConstrainViolation is slightly different. For example the `elementType` and `propertyPath` differs as you can see below.\r\n\r\n**Java:**\r\n\r\n[![The Java Version][3]][3]\r\n\r\n**Kotlin:**\r\n\r\n[![The Kotlin Version][4]][4]\r\n\r\nSource is available here: https://github.com/DarkAtra/jsr380-kotlin-issue/tree/workaround\r\n\r\nThanks again for your help [Rafal G.][2]\r\n\r\n\r\n  [1]: https://github.com/DarkAtra/jsr380-kotlin-issue\r\n  [2]: https://stackoverflow.com/users/743716/rafal-g\r\n  [3]: https://i.stack.imgur.com/tQKbQ.png\r\n  [4]: https://i.stack.imgur.com/GYVdv.png\r\n  [5]: https://kotlinlang.org/docs/whatsnew14.html#type-annotations-in-the-jvm-bytecode","title":"bean validation not working with kotlin (JSR 380)","body":"<h2>Answer (Kotlin 1.3.70)</h2>\n<p>Make sure to compile the kotlin code with jvm target 1.8 or greater and enable this feature by providing the <code>-Xemit-jvm-type-annotations</code> when compiling.</p>\n<p>For Spring Boot projects you only have to do the following changes (tested with Spring Boot 2.3.3 and Kotlin 1.4.0):</p>\n<ol>\n<li>In your pom set the following property:\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;kotlin.version&gt;1.4.0&lt;/kotlin.version&gt;\n&lt;/properties&gt;\n</code></pre>\n</li>\n<li>Add <code>&lt;arg&gt;-Xemit-jvm-type-annotations&lt;/arg&gt;</code> to the <code>kotlin-maven-plugin</code>:\n<pre><code>&lt;build&gt;\n    &lt;plugin&gt;\n        &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;configuration&gt;\n            &lt;args&gt;\n                &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                &lt;arg&gt;-Xemit-jvm-type-annotations&lt;/arg&gt;\n            &lt;/args&gt;\n            &lt;compilerPlugins&gt;\n                &lt;plugin&gt;spring&lt;/plugin&gt;\n            &lt;/compilerPlugins&gt;\n        &lt;/configuration&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/plugin&gt;\n&lt;/build&gt;\n</code></pre>\n</li>\n</ol>\n<p><a href=\"https://github.com/DarkAtra/jsr380-kotlin-issue\" rel=\"nofollow noreferrer\">Sample Project</a></p>\n<p><a href=\"https://kotlinlang.org/docs/whatsnew14.html#type-annotations-in-the-jvm-bytecode\" rel=\"nofollow noreferrer\">Jetbrains Release Notes</a></p>\n<hr />\n<h2>Workaround (pre Kotlin 1.3.70)</h2>\n<p><a href=\"https://stackoverflow.com/users/743716/rafal-g\">Rafal G.</a> already pointed out that we could use a custom validator as a workaround. So here's some code:</p>\n<p><strong>The Annotation:</strong></p>\n<pre><code>import javax.validation.Constraint\nimport javax.validation.Payload\nimport kotlin.annotation.AnnotationTarget.ANNOTATION_CLASS\nimport kotlin.annotation.AnnotationTarget.CONSTRUCTOR\nimport kotlin.annotation.AnnotationTarget.FIELD\nimport kotlin.annotation.AnnotationTarget.FUNCTION\nimport kotlin.annotation.AnnotationTarget.TYPE_PARAMETER\nimport kotlin.annotation.AnnotationTarget.VALUE_PARAMETER\nimport kotlin.reflect.KClass\n\n@MustBeDocumented\n@Constraint(validatedBy = [NoNullElementsValidator::class])\n@Target(allowedTargets = [FUNCTION, FIELD, ANNOTATION_CLASS, CONSTRUCTOR, VALUE_PARAMETER, TYPE_PARAMETER])\n@Retention(AnnotationRetention.RUNTIME)\nannotation class NoNullElements(\n    val message: String = &quot;must not contain null elements&quot;,\n    val groups: Array&lt;KClass&lt;out Any&gt;&gt; = [],\n    val payload: Array&lt;KClass&lt;out Payload&gt;&gt; = []\n)\n</code></pre>\n<p><strong>The ConstraintValidator:</strong></p>\n<pre><code>import javax.validation.ConstraintValidator\nimport javax.validation.ConstraintValidatorContext\n\nclass NoNullElementsValidator : ConstraintValidator&lt;NoNullElements, Collection&lt;Any&gt;&gt; {\n    override fun isValid(value: Collection&lt;Any&gt;?, context: ConstraintValidatorContext): Boolean {\n        // null values are valid\n        if (value == null) {\n            return true\n        }\n        return value.stream().noneMatch { it == null }\n    }\n}\n</code></pre>\n<p><strong>And finally the updated User class:</strong></p>\n<pre><code>data class User(\n    @field:NotEmpty\n    @field:NoNullElements\n    var roles: MutableSet&lt;Role&gt; = HashSet()\n)\n</code></pre>\n<hr />\n<p>Altough validation works now, the resulting ConstrainViolation is slightly different. For example the <code>elementType</code> and <code>propertyPath</code> differs as you can see below.</p>\n<p><strong>Java:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/tQKbQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tQKbQ.png\" alt=\"The Java Version\" /></a></p>\n<p><strong>Kotlin:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/GYVdv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GYVdv.png\" alt=\"The Kotlin Version\" /></a></p>\n<p>Source is available here: <a href=\"https://github.com/DarkAtra/jsr380-kotlin-issue/tree/workaround\" rel=\"nofollow noreferrer\">https://github.com/DarkAtra/jsr380-kotlin-issue/tree/workaround</a></p>\n<p>Thanks again for your help <a href=\"https://stackoverflow.com/users/743716/rafal-g\">Rafal G.</a></p>\n"},{"tags":[],"owner":{"account_id":123192,"reputation":13668,"user_id":317522,"accept_rate":11,"display_name":"Paulo Merson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661779484,"creation_date":1661779484,"answer_id":73529519,"question_id":52345291,"body_markdown":"I had a similar problem. The solution was to add this dependency:\r\n```\r\n implementation &quot;org.springframework.boot:spring-boot-starter-validation&quot;\r\n```\r\n\r\nWithout this dependency, the REST controller was working but no exception was thrown when the `javax.validation` bean constraints were not honored. Now it throws `MethodArgumentNotValidException`. \r\n","title":"bean validation not working with kotlin (JSR 380)","body":"<p>I had a similar problem. The solution was to add this dependency:</p>\n<pre><code> implementation &quot;org.springframework.boot:spring-boot-starter-validation&quot;\n</code></pre>\n<p>Without this dependency, the REST controller was working but no exception was thrown when the <code>javax.validation</code> bean constraints were not honored. Now it throws <code>MethodArgumentNotValidException</code>.</p>\n"}],"owner":{"account_id":8476590,"reputation":1212,"user_id":6357653,"display_name":"DarkAtra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16289,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"accepted_answer_id":52505224,"answer_count":3,"score":24,"last_activity_date":1661779484,"creation_date":1537019231,"question_id":52345291,"body_markdown":"so first of all i could not think of a better title for this question so i&#39;m open for changes.\r\n\r\nI am trying to validate a bean using the bean validation mechanism (JSR-380) with spring boot.\r\n\r\nSo i got a controller like this:\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/users&quot;)\r\n    class UserController {\r\n\t    @PostMapping\r\n\t    fun createUser(@Valid user: User, bindingResult: BindingResult): ModelAndView {\r\n\t\t    return ModelAndView(&quot;someview&quot;, &quot;user&quot;, user)\r\n\t    }\r\n    }\r\n\r\nwith this being the User class written in kotlin:\r\n\r\n    data class User(\r\n        @field:NotEmpty\r\n\t    var roles: MutableSet&lt;@NotNull Role&gt; = HashSet()\r\n    )\r\n\r\nand this being the test:\r\n\r\n    @Test\r\n    internal fun shouldNotCreateNewTestWithInvalidParams() {\r\n        mockMvc.perform(post(&quot;/users&quot;)\r\n\t        .param(&quot;roles&quot;, &quot;invalid role&quot;))\r\n\t        .andExpect(model().attributeHasFieldErrors(&quot;user&quot;,  &quot;roles[]&quot;))\r\n    }\r\n\r\n**Invalid Roles are mapped to null.**\r\n\r\nAs you can see i want `roles` to contain at least one item with none of the items being null. \r\nHowever when testing the above code no binding errors are reported if `roles` contains null values. It does report an error if the set is empty though.\r\nI was thinking that this might be an issue with how kotlin code compiles as the same code works just fine when the User class is written in java. Like this:\r\n\r\n\t@Data // just lombok...\r\n    public class User {\r\n\t\t@NotEmpty\r\n\t\tprivate Set&lt;@NotNull Role&gt; roles = new HashSet&lt;&gt;();\r\n\t}\r\n\r\nSame Controller, same test.\r\n\r\nAfter checking the bytecode i noticed that the kotlin version is not including the nested `@NotNull` annotation (see below). \r\n\r\nJava:\r\n\r\n    private Ljava/util/Set; roles\r\n    @Ljavax/validation/constraints/NotEmpty;()\r\n    @Ljavax/validation/constraints/NotNull;() : FIELD, 0;\r\n    @Ljavax/validation/constraints/NotEmpty;() : FIELD, null\r\n\r\nKotlin:\r\n\r\n    private Ljava/util/Set; roles\r\n    @Ljavax/validation/constraints/NotEmpty;()\r\n    @Lorg/jetbrains/annotations/NotNull;() // added because roles is not nullable in kotlin. this does not affect validation\r\n\r\nNow the question is why?\r\n\r\n**Here&#39;s a [sample project][1] in case you want to try some stuff.**\r\n\r\n\r\n  [1]: https://github.com/DarkAtra/jsr380-kotlin-issue","title":"bean validation not working with kotlin (JSR 380)","body":"<p>so first of all i could not think of a better title for this question so i'm open for changes.</p>\n\n<p>I am trying to validate a bean using the bean validation mechanism (JSR-380) with spring boot.</p>\n\n<p>So i got a controller like this:</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/users\")\nclass UserController {\n    @PostMapping\n    fun createUser(@Valid user: User, bindingResult: BindingResult): ModelAndView {\n        return ModelAndView(\"someview\", \"user\", user)\n    }\n}\n</code></pre>\n\n<p>with this being the User class written in kotlin:</p>\n\n<pre><code>data class User(\n    @field:NotEmpty\n    var roles: MutableSet&lt;@NotNull Role&gt; = HashSet()\n)\n</code></pre>\n\n<p>and this being the test:</p>\n\n<pre><code>@Test\ninternal fun shouldNotCreateNewTestWithInvalidParams() {\n    mockMvc.perform(post(\"/users\")\n        .param(\"roles\", \"invalid role\"))\n        .andExpect(model().attributeHasFieldErrors(\"user\",  \"roles[]\"))\n}\n</code></pre>\n\n<p><strong>Invalid Roles are mapped to null.</strong></p>\n\n<p>As you can see i want <code>roles</code> to contain at least one item with none of the items being null. \nHowever when testing the above code no binding errors are reported if <code>roles</code> contains null values. It does report an error if the set is empty though.\nI was thinking that this might be an issue with how kotlin code compiles as the same code works just fine when the User class is written in java. Like this:</p>\n\n<pre><code>@Data // just lombok...\npublic class User {\n    @NotEmpty\n    private Set&lt;@NotNull Role&gt; roles = new HashSet&lt;&gt;();\n}\n</code></pre>\n\n<p>Same Controller, same test.</p>\n\n<p>After checking the bytecode i noticed that the kotlin version is not including the nested <code>@NotNull</code> annotation (see below). </p>\n\n<p>Java:</p>\n\n<pre><code>private Ljava/util/Set; roles\n@Ljavax/validation/constraints/NotEmpty;()\n@Ljavax/validation/constraints/NotNull;() : FIELD, 0;\n@Ljavax/validation/constraints/NotEmpty;() : FIELD, null\n</code></pre>\n\n<p>Kotlin:</p>\n\n<pre><code>private Ljava/util/Set; roles\n@Ljavax/validation/constraints/NotEmpty;()\n@Lorg/jetbrains/annotations/NotNull;() // added because roles is not nullable in kotlin. this does not affect validation\n</code></pre>\n\n<p>Now the question is why?</p>\n\n<p><strong>Here's a <a href=\"https://github.com/DarkAtra/jsr380-kotlin-issue\" rel=\"noreferrer\">sample project</a> in case you want to try some stuff.</strong></p>\n"},{"tags":["java","jaxb","unmarshalling"],"owner":{"account_id":13229306,"reputation":11,"user_id":9553481,"display_name":"Midovsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661779426,"creation_date":1661765197,"question_id":73526719,"body_markdown":"I want to unmarshal an xml to a final class (a library class that can&#39;t be modified to add jaxb annotation) using JAXB.\r\n\r\nI tried recreating the class and adding the annotations, but I get null for elements. \r\n\r\n[null result pojo][1]\r\n\r\nI tried using Document Builder Factory and I always get null for the root element too.\r\n\r\n[null root node][2]\r\n\r\nHere is the xml that I want to unmarshal.\r\n\r\n    &lt;AssumeRoleWithWebIdentityResponse xmlns=&quot;https://sts.amazonaws.com/doc/2011-06-15/&quot;&gt;\r\n      &lt;AssumeRoleWithWebIdentityResult&gt;\r\n        &lt;Audience&gt;xxxx&lt;/Audience&gt;\r\n        &lt;AssumedRoleUser&gt;\r\n          &lt;AssumedRoleId&gt;xxxxx&lt;/AssumedRoleId&gt;\r\n          &lt;Arn&gt;xxxx&lt;/Arn&gt;\r\n        &lt;/AssumedRoleUser&gt;\r\n        &lt;Providerxxxx&lt;/Provider&gt;\r\n        &lt;Credentials&gt;\r\n          &lt;AccessKeyId&gt;xxxxx&lt;/AccessKeyId&gt;\r\n          &lt;SecretAccessKey&gt;xxxxxx&lt;/SecretAccessKey&gt;\r\n          &lt;SessionToken&gt;xxxxxx&lt;/SessionToken&gt;\r\n          &lt;Expiration&gt;2022-08-29T09:26:47Z&lt;/Expiration&gt;\r\n        &lt;/Credentials&gt;\r\n        &lt;SubjectFromWebIdentityToken&gt;xxxx&lt;/SubjectFromWebIdentityToken&gt;\r\n      &lt;/AssumeRoleWithWebIdentityResult&gt;\r\n      &lt;ResponseMetadata&gt;\r\n        &lt;RequestId&gt;xxxxxx&lt;/RequestId&gt;\r\n      &lt;/ResponseMetadata&gt;\r\n    &lt;/AssumeRoleWithWebIdentityResponse&gt;\r\n\r\nI think that the problem is the namespace, I tried adding namespace to the XmlRootElement and nothing happened.\r\n\r\n\r\n    @XmlRootElement(name = &quot;AssumeRoleWithWebIdentityResponse&quot;,\r\n        namespace = &quot;https://sts.amazonaws.com/doc/2011-06-15/&quot;)\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BeMuN.png\r\n  [2]: https://i.stack.imgur.com/UrCE8.png\r\n\r\n\r\n\r\n**UPDATE:** I tried deleting the namespace &quot;xmlns=&quot;https://sts.amazonaws.com/doc/2011-06-15/&quot; manually from  from the xml input and the unmarshalling succeeded\r\n\r\nHow can I do that(ignore the xml namespace) when reading the xml in java ? ","title":"JAXB: Unmarshal xml to a final class","body":"<p>I want to unmarshal an xml to a final class (a library class that can't be modified to add jaxb annotation) using JAXB.</p>\n<p>I tried recreating the class and adding the annotations, but I get null for elements.</p>\n<p><a href=\"https://i.stack.imgur.com/BeMuN.png\" rel=\"nofollow noreferrer\">null result pojo</a></p>\n<p>I tried using Document Builder Factory and I always get null for the root element too.</p>\n<p><a href=\"https://i.stack.imgur.com/UrCE8.png\" rel=\"nofollow noreferrer\">null root node</a></p>\n<p>Here is the xml that I want to unmarshal.</p>\n<pre><code>&lt;AssumeRoleWithWebIdentityResponse xmlns=&quot;https://sts.amazonaws.com/doc/2011-06-15/&quot;&gt;\n  &lt;AssumeRoleWithWebIdentityResult&gt;\n    &lt;Audience&gt;xxxx&lt;/Audience&gt;\n    &lt;AssumedRoleUser&gt;\n      &lt;AssumedRoleId&gt;xxxxx&lt;/AssumedRoleId&gt;\n      &lt;Arn&gt;xxxx&lt;/Arn&gt;\n    &lt;/AssumedRoleUser&gt;\n    &lt;Providerxxxx&lt;/Provider&gt;\n    &lt;Credentials&gt;\n      &lt;AccessKeyId&gt;xxxxx&lt;/AccessKeyId&gt;\n      &lt;SecretAccessKey&gt;xxxxxx&lt;/SecretAccessKey&gt;\n      &lt;SessionToken&gt;xxxxxx&lt;/SessionToken&gt;\n      &lt;Expiration&gt;2022-08-29T09:26:47Z&lt;/Expiration&gt;\n    &lt;/Credentials&gt;\n    &lt;SubjectFromWebIdentityToken&gt;xxxx&lt;/SubjectFromWebIdentityToken&gt;\n  &lt;/AssumeRoleWithWebIdentityResult&gt;\n  &lt;ResponseMetadata&gt;\n    &lt;RequestId&gt;xxxxxx&lt;/RequestId&gt;\n  &lt;/ResponseMetadata&gt;\n&lt;/AssumeRoleWithWebIdentityResponse&gt;\n</code></pre>\n<p>I think that the problem is the namespace, I tried adding namespace to the XmlRootElement and nothing happened.</p>\n<pre><code>@XmlRootElement(name = &quot;AssumeRoleWithWebIdentityResponse&quot;,\n    namespace = &quot;https://sts.amazonaws.com/doc/2011-06-15/&quot;)\n</code></pre>\n<p><strong>UPDATE:</strong> I tried deleting the namespace &quot;xmlns=&quot;https://sts.amazonaws.com/doc/2011-06-15/&quot; manually from  from the xml input and the unmarshalling succeeded</p>\n<p>How can I do that(ignore the xml namespace) when reading the xml in java ?</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"score":0,"creation_date":1662397571,"post_id":73529354,"comment_id":129991898,"body_markdown":"Does your system producer instantly flushes the message out? If not, it could be sitting in buffer for some time before actually getting transferred to kafka. Also, what is the poll duration of your test consumer?","body":"Does your system producer instantly flushes the message out? If not, it could be sitting in buffer for some time before actually getting transferred to kafka. Also, what is the poll duration of your test consumer?"},{"owner":{"account_id":26156723,"reputation":11,"user_id":19843877,"display_name":"Dmitry Prokin"},"score":0,"creation_date":1663853272,"post_id":73529354,"comment_id":130340666,"body_markdown":"@RishabhSharma If you look at the logs that I provided, then the producer  sends a request immediately. The duration of the consumer poll is 1 second.","body":"@RishabhSharma If you look at the logs that I provided, then the producer  sends a request immediately. The duration of the consumer poll is 1 second."}],"owner":{"account_id":26156723,"reputation":11,"user_id":19843877,"display_name":"Dmitry Prokin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661779172,"creation_date":1661778738,"question_id":73529354,"body_markdown":"I wrote function test for my system on Java\r\n\r\n**Test scenario**&lt;br&gt;\r\nIn test I create two topics: &quot;topicFunc1&quot;, &quot;2_1&quot;.&lt;br&gt;\r\nThe producer from the test sends a message to the topic &quot;topicFunc1&quot;, the consumer from my system receives a message, some actions are performed and the producer of the system sends a message to the topic &quot;2_1&quot;. The consumer in the test tries to get messages from the topic &quot;2_1&quot; and this happens only after 3-4 seconds. But when I send a message to the topic &quot;topicFunc1&quot; it is performed instantly.&lt;br&gt;\r\n\r\nMy problem is that the consumer from the test cannot quickly get the message from the topic.&lt;br&gt;\r\nFor analysis, I used the test log, as well as the wireshark utility\r\n\r\n**Log from test:**\r\n\r\n```\r\n[2022.08.29 10:55:48.094] [DEBUG] [main] [httpApi.utils.kafka.KafkaProducerUtils.publishMessagesString() at line 47]\t\tSend message &quot;{&quot;subsId&quot;:3}&quot; to kafka topic: topicFunc1\r\n[2022.08.29 10:55:48.156] [DEBUG] [main] [httpApi.utils.kafka.KafkaConsumerUtilsWithConstructor.getMessages() at line 43]\t\texecute poll())\r\n[2022.08.29 10:55:48.156] [DEBUG] [System_Processor] [kafkaApi.KafkaStringConsumer.processRecord() at line 24]\t\tReceived message: value = {&quot;subsId&quot;:3}, topic = topicFunc1\r\n[2022.08.29 10:55:48.235] [DEBUG] [System_Processor] [kafkaApi.KafkaSimpleProducer.produce() at line 46]\t\tsent record( message={&quot;result&quot;:&quot;1_1&quot;}) meta(partition=0, offset=0) to topic = 2_1\r\n[2022.08.29 10:55:48.235] [DEBUG] [System] [kafkaApi.EpmKafkaConsumer.commitOffsets() at line 182]\t\tConsumer : epm.1, committing the offsets : {topicFunc1-0=OffsetAndMetadata{offset=1, leaderEpoch=null, metadata=&#39;&#39;}}\r\n[2022.08.29 10:55:49.156] [DEBUG] [main] [httpApi.utils.kafka.KafkaConsumerUtilsWithConstructor.getMessages() at line 45]\t\tlook at list messages!)\r\n[2022.08.29 10:55:49.156] [DEBUG] [main] [httpApi.utils.kafka.KafkaConsumerUtilsWithConstructor.getMessages() at line 43]\t\texecute poll())\r\n[2022.08.29 10:55:50.172] [DEBUG] [main] [httpApi.utils.kafka.KafkaConsumerUtilsWithConstructor.getMessages() at line 45]\t\tlook at list messages!)\r\n[2022.08.29 10:55:50.172] [DEBUG] [main] [httpApi.utils.kafka.KafkaConsumerUtilsWithConstructor.getMessages() at line 43]\t\texecute poll())\r\n[2022.08.29 10:55:51.187] [DEBUG] [main] [httpApi.utils.kafka.KafkaConsumerUtilsWithConstructor.getMessages() at line 45]\t\tlook at list messages!)\r\n[2022.08.29 10:55:51.187] [DEBUG] [main] [httpApi.utils.kafka.KafkaConsumerUtilsWithConstructor.getMessages() at line 43]\t\texecute poll())\r\n[2022.08.29 10:55:51.218] [DEBUG] [main] [httpApi.utils.kafka.KafkaConsumerUtilsWithConstructor.getMessages() at line 45]\t\tlook at list messages!)\r\n[2022.08.29 10:55:51.218] [DEBUG] [main] [httpApi.utils.kafka.KafkaConsumerUtilsWithConstructor.lambda$getMessages$0() at line 49]\t\trecord.value() = {&quot;result&quot;:&quot;1_1&quot;})\r\n\r\n```\r\nThe message from my system was sent at 10:55:48.235.&lt;br&gt;\r\nThe consumer received the message at 10:55:51.218\r\n\r\n**WireShark log**\r\n\r\n```\r\n        Source           Destination   Protocol     length         info                          time utc\r\n2638\tipMyServer\t    ipKafkaServer\tKafka\t     238\t    Kafka Produce v7 Request\t    2022-08-29 10:55:48,233929\r\n2639\tipKafkaServer\tipMyServer\t    Kafka\t     109\t    Kafka Produce v7 Response\t    2022-08-29 10:55:48,238583\r\n2891\tipMyServer\t    ipKafkaServer\tKafka\t     101\t    Kafka OffsetFetch v5 Request\t2022-08-29 10:55:51,197174\r\n2892\tipKafkaServer\tipMyServer\t    Kafka\t     101\t    Kafka OffsetFetch v5 Response\t2022-08-29 10:55:51,201233\r\n2903\tipMyServer\t    ipKafkaServer\tKafka\t     109\t    Kafka Offsets v5 Request\t    2022-08-29 10:55:51,210409\r\n2904\tipKafkaServer\tipMyServer\t    Kafka\t     105\t    Kafka Offsets v5 Response\t    2022-08-29 10:55:51,213951\r\n2905\tipMyServer\t    ipKafkaServer\tKafka\t     147\t    Kafka Fetch v11 Request\t        2022-08-29 10:55:51,214318\r\n2907\tipKafkaServer\tipMyServer\t    Kafka\t     190\t    Kafka Fetch v11 Response\t    2022-08-29 10:55:51,218333\r\n```\r\nThe Kafka producer send Request at 10:55:48,233929. &lt;br&gt;\r\nKafka Fetch Request was sent at 10:55:51,214318. &lt;br&gt;&lt;br&gt;\r\nIf we look at the &quot;Log from the test&quot;, we will see that the first poll() was executed at 10:55:48.156, then at 10:55:49.156, 10:55:50.172, 10:55:51.187. But in &quot;Wireshark Log&quot; the request was sent only at 10:55:51.&lt;br&gt;\r\n**Why is this happening? What could be the reason for the delay?**\r\n","title":"Kafka consumer takes a long time to get the message","body":"<p>I wrote function test for my system on Java</p>\n<p><strong>Test scenario</strong><br>\nIn test I create two topics: &quot;topicFunc1&quot;, &quot;2_1&quot;.<br>\nThe producer from the test sends a message to the topic &quot;topicFunc1&quot;, the consumer from my system receives a message, some actions are performed and the producer of the system sends a message to the topic &quot;2_1&quot;. The consumer in the test tries to get messages from the topic &quot;2_1&quot; and this happens only after 3-4 seconds. But when I send a message to the topic &quot;topicFunc1&quot; it is performed instantly.<br></p>\n<p>My problem is that the consumer from the test cannot quickly get the message from the topic.<br>\nFor analysis, I used the test log, as well as the wireshark utility</p>\n<p><strong>Log from test:</strong></p>\n<pre><code>[2022.08.29 10:55:48.094] [DEBUG] [main] [httpApi.utils.kafka.KafkaProducerUtils.publishMessagesString() at line 47]        Send message &quot;{&quot;subsId&quot;:3}&quot; to kafka topic: topicFunc1\n[2022.08.29 10:55:48.156] [DEBUG] [main] [httpApi.utils.kafka.KafkaConsumerUtilsWithConstructor.getMessages() at line 43]       execute poll())\n[2022.08.29 10:55:48.156] [DEBUG] [System_Processor] [kafkaApi.KafkaStringConsumer.processRecord() at line 24]      Received message: value = {&quot;subsId&quot;:3}, topic = topicFunc1\n[2022.08.29 10:55:48.235] [DEBUG] [System_Processor] [kafkaApi.KafkaSimpleProducer.produce() at line 46]        sent record( message={&quot;result&quot;:&quot;1_1&quot;}) meta(partition=0, offset=0) to topic = 2_1\n[2022.08.29 10:55:48.235] [DEBUG] [System] [kafkaApi.EpmKafkaConsumer.commitOffsets() at line 182]      Consumer : epm.1, committing the offsets : {topicFunc1-0=OffsetAndMetadata{offset=1, leaderEpoch=null, metadata=''}}\n[2022.08.29 10:55:49.156] [DEBUG] [main] [httpApi.utils.kafka.KafkaConsumerUtilsWithConstructor.getMessages() at line 45]       look at list messages!)\n[2022.08.29 10:55:49.156] [DEBUG] [main] [httpApi.utils.kafka.KafkaConsumerUtilsWithConstructor.getMessages() at line 43]       execute poll())\n[2022.08.29 10:55:50.172] [DEBUG] [main] [httpApi.utils.kafka.KafkaConsumerUtilsWithConstructor.getMessages() at line 45]       look at list messages!)\n[2022.08.29 10:55:50.172] [DEBUG] [main] [httpApi.utils.kafka.KafkaConsumerUtilsWithConstructor.getMessages() at line 43]       execute poll())\n[2022.08.29 10:55:51.187] [DEBUG] [main] [httpApi.utils.kafka.KafkaConsumerUtilsWithConstructor.getMessages() at line 45]       look at list messages!)\n[2022.08.29 10:55:51.187] [DEBUG] [main] [httpApi.utils.kafka.KafkaConsumerUtilsWithConstructor.getMessages() at line 43]       execute poll())\n[2022.08.29 10:55:51.218] [DEBUG] [main] [httpApi.utils.kafka.KafkaConsumerUtilsWithConstructor.getMessages() at line 45]       look at list messages!)\n[2022.08.29 10:55:51.218] [DEBUG] [main] [httpApi.utils.kafka.KafkaConsumerUtilsWithConstructor.lambda$getMessages$0() at line 49]      record.value() = {&quot;result&quot;:&quot;1_1&quot;})\n\n</code></pre>\n<p>The message from my system was sent at 10:55:48.235.<br>\nThe consumer received the message at 10:55:51.218</p>\n<p><strong>WireShark log</strong></p>\n<pre><code>        Source           Destination   Protocol     length         info                          time utc\n2638    ipMyServer      ipKafkaServer   Kafka        238        Kafka Produce v7 Request        2022-08-29 10:55:48,233929\n2639    ipKafkaServer   ipMyServer      Kafka        109        Kafka Produce v7 Response       2022-08-29 10:55:48,238583\n2891    ipMyServer      ipKafkaServer   Kafka        101        Kafka OffsetFetch v5 Request    2022-08-29 10:55:51,197174\n2892    ipKafkaServer   ipMyServer      Kafka        101        Kafka OffsetFetch v5 Response   2022-08-29 10:55:51,201233\n2903    ipMyServer      ipKafkaServer   Kafka        109        Kafka Offsets v5 Request        2022-08-29 10:55:51,210409\n2904    ipKafkaServer   ipMyServer      Kafka        105        Kafka Offsets v5 Response       2022-08-29 10:55:51,213951\n2905    ipMyServer      ipKafkaServer   Kafka        147        Kafka Fetch v11 Request         2022-08-29 10:55:51,214318\n2907    ipKafkaServer   ipMyServer      Kafka        190        Kafka Fetch v11 Response        2022-08-29 10:55:51,218333\n</code></pre>\n<p>The Kafka producer send Request at 10:55:48,233929. <br>\nKafka Fetch Request was sent at 10:55:51,214318. <br><br>\nIf we look at the &quot;Log from the test&quot;, we will see that the first poll() was executed at 10:55:48.156, then at 10:55:49.156, 10:55:50.172, 10:55:51.187. But in &quot;Wireshark Log&quot; the request was sent only at 10:55:51.<br>\n<strong>Why is this happening? What could be the reason for the delay?</strong></p>\n"},{"tags":["java","plpgsql","pgadmin-4"],"comments":[{"owner":{"account_id":19638455,"reputation":71,"user_id":14375184,"display_name":"Liran_T"},"score":0,"creation_date":1661780962,"post_id":73529222,"comment_id":129846502,"body_markdown":"Apparently, what I needed was to follow this question: https://stackoverflow.com/questions/13474207/sql-query-if-parameter-is-null-select-all","body":"Apparently, what I needed was to follow this question: <a href=\"https://stackoverflow.com/questions/13474207/sql-query-if-parameter-is-null-select-all\" title=\"sql query if parameter is null select all\">stackoverflow.com/questions/13474207/&hellip;</a>"}],"owner":{"account_id":19638455,"reputation":71,"user_id":14375184,"display_name":"Liran_T"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661778906,"creation_date":1661778159,"question_id":73529222,"body_markdown":"I have a java method calling postgresql procedure like so:\r\n\r\n```\r\npublic void cleanupCustomFields(String keyField, String keyFieldValue, String[] fieldsToCleanup)\r\n\t\t\tthrows ServiceWareException {\r\n\t\tConnection conn = null;\r\n\t\tCallableStatement cleanupFields = null;\r\n\r\n\t\ttry {\r\n\t\t\tconn = getConnection();\r\n\r\n\t\t\tcleanupFields = conn.prepareCall(&quot;{call cleanup_custom_tags(?, ?, ?)}&quot;);\r\n\t\t\tcleanupFields.setString(1, keyField);\r\n\t\t\tcleanupFields.setString(2, keyFieldValue);\r\n\t\t\tcleanupFields.setArray(3, conn.createArrayOf(&quot;varchar&quot;, fieldsToCleanup));\r\n\t\t\tcleanupFields.execute();\r\n\t\t} catch (SQLException ex) {\r\n\t\t\tthrow new ServiceWareException(Messages.DATABASE_GENERAL_FAILURE, ex);\r\n\t\t} finally {\r\n\t\t\tcloseConnection(conn, null, cleanupFields);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nand so:\r\n```\r\nCREATE OR REPLACE FUNCTION public.cleanup_custom_tags(\r\n\t_tag_name character varying,\r\n\t_tag_value character varying,\r\n\t_tags_list character varying[])\r\n    RETURNS void\r\n    LANGUAGE &#39;plpgsql&#39;\r\n    COST 100\r\n    VOLATILE SECURITY DEFINER PARALLEL UNSAFE\r\nAS $BODY$\r\nDECLARE\r\ntag_id_list int[];\r\nBEGIN\r\nSELECT ARRAY_AGG(id) INTO tag_id_list FROM tbl_custom_tags WHERE tag_name = ANY(_tags_list);\r\n\r\nDELETE\t\r\nFROM\ttbl_custom_tag_values\r\nWHERE\ttag_id = ANY(tag_id_list) AND\r\n\tentity_id IN\t(SELECT\ts.id\r\n\t\t\tFROM\ttbl_servers s INNER JOIN\r\n\t\t\t\ttbl_custom_tag_values ctv ON s.id = ctv.entity_id INNER JOIN\r\n\t\t\t\ttbl_custom_tags ct ON ct.id = ctv.tag_id\r\n\t\t\tWHERE\tct.tag_name = _tag_name AND ctv.value = _tag_value);\r\nEND; \r\n$BODY$;\r\n```\r\nI wish to give the var keyFieldValue (coresponding to _tag_value in pgAdmin) a value that will match everything in ctv.value (like the regex .*). \r\nwhat is the syntax needed?\r\n\r\nI could not make it work after reading the docs.\r\n\r\nThanks.","title":"regex as argument in Java and pgAdmin 4","body":"<p>I have a java method calling postgresql procedure like so:</p>\n<pre><code>public void cleanupCustomFields(String keyField, String keyFieldValue, String[] fieldsToCleanup)\n            throws ServiceWareException {\n        Connection conn = null;\n        CallableStatement cleanupFields = null;\n\n        try {\n            conn = getConnection();\n\n            cleanupFields = conn.prepareCall(&quot;{call cleanup_custom_tags(?, ?, ?)}&quot;);\n            cleanupFields.setString(1, keyField);\n            cleanupFields.setString(2, keyFieldValue);\n            cleanupFields.setArray(3, conn.createArrayOf(&quot;varchar&quot;, fieldsToCleanup));\n            cleanupFields.execute();\n        } catch (SQLException ex) {\n            throw new ServiceWareException(Messages.DATABASE_GENERAL_FAILURE, ex);\n        } finally {\n            closeConnection(conn, null, cleanupFields);\n        }\n    }\n</code></pre>\n<p>and so:</p>\n<pre><code>CREATE OR REPLACE FUNCTION public.cleanup_custom_tags(\n    _tag_name character varying,\n    _tag_value character varying,\n    _tags_list character varying[])\n    RETURNS void\n    LANGUAGE 'plpgsql'\n    COST 100\n    VOLATILE SECURITY DEFINER PARALLEL UNSAFE\nAS $BODY$\nDECLARE\ntag_id_list int[];\nBEGIN\nSELECT ARRAY_AGG(id) INTO tag_id_list FROM tbl_custom_tags WHERE tag_name = ANY(_tags_list);\n\nDELETE  \nFROM    tbl_custom_tag_values\nWHERE   tag_id = ANY(tag_id_list) AND\n    entity_id IN    (SELECT s.id\n            FROM    tbl_servers s INNER JOIN\n                tbl_custom_tag_values ctv ON s.id = ctv.entity_id INNER JOIN\n                tbl_custom_tags ct ON ct.id = ctv.tag_id\n            WHERE   ct.tag_name = _tag_name AND ctv.value = _tag_value);\nEND; \n$BODY$;\n</code></pre>\n<p>I wish to give the var keyFieldValue (coresponding to _tag_value in pgAdmin) a value that will match everything in ctv.value (like the regex .*).\nwhat is the syntax needed?</p>\n<p>I could not make it work after reading the docs.</p>\n<p>Thanks.</p>\n"},{"tags":["java","arrays","matrix","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":24430255,"reputation":88,"user_id":18355295,"display_name":"Stefan Billmaier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661778852,"creation_date":1661778852,"answer_id":73529384,"question_id":73510179,"body_markdown":"Spring MVC limits the number of parameters processed in the DataBinder to 256. See Javadoc of org/springframework/validation/DataBinder.java.\r\nThat may cause your exception (I didn&#39;t tried it out). Give it a try to configure your data binder with a higher value for autoGrowCollectionLimit as shown for example in this article: https://dzone.com/articles/spring-initbinder-for-handling-large-list-of-java","title":"Thymeleaf dynamic array save","body":"<p>Spring MVC limits the number of parameters processed in the DataBinder to 256. See Javadoc of org/springframework/validation/DataBinder.java.\nThat may cause your exception (I didn't tried it out). Give it a try to configure your data binder with a higher value for autoGrowCollectionLimit as shown for example in this article: <a href=\"https://dzone.com/articles/spring-initbinder-for-handling-large-list-of-java\" rel=\"nofollow noreferrer\">https://dzone.com/articles/spring-initbinder-for-handling-large-list-of-java</a></p>\n"}],"owner":{"account_id":16960756,"reputation":47,"user_id":12267966,"display_name":"rocketcrafter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73529384,"answer_count":1,"score":1,"last_activity_date":1661778852,"creation_date":1661595946,"question_id":73510179,"body_markdown":"I&#39;m trying to save a dynamic matrix as a string array in thymeleaf, while the displaying of the array works fine, the saving throws an error. The array I want to save is 1600 long (or 1599 if you start counting from 0). The `index.index` starts at 0 and the final number is 1599 (as it should be). Not sure what the issue is, so any help would be appreciated. And one more thing, I found out, that if I used a number below 256 it seems to generally work, but the problem is, that I need the matrix to be able to work with numbers up to 4000 so using lower numbers isn&#39;t an option sadly.\r\n\r\nHere is my code for the html:\r\n\r\n     &lt;form th:object=&quot;${projectData}&quot; method=&quot;post&quot; class=&quot;card&quot;&gt;\r\n        &lt;div class=&quot;card-content&quot;&gt;\r\n            &lt;div class=&quot;content&quot;&gt;\r\n                &lt;div class=&quot;columns is-gapless is-multiline is-mobile&quot;&gt;\r\n                    &lt;tr th:each=&quot;_, index: ${projectData.matrixData}&quot;&gt;\r\n                        &lt;div th:if=&quot;${index.index % matrixSize == 0}&quot; class=&quot;break column is-desktop&quot;&gt;\r\n                        &lt;/div&gt;\r\n\r\n                        &lt;input th:field=&quot;*{matrixData[__${index.index}__]}&quot;\r\n                               class=&quot;column&quot;\r\n                               type=&quot;text&quot;\r\n                               th:if=&quot;${#arrays.contains(matrixDisabledFields, index.index)}&quot;\r\n                               th:id=&quot;${index.index}&quot;\r\n                               disabled&gt;\r\n\r\n                        &lt;input th:field=&quot;*{matrixData[__${index.index}__]}&quot;\r\n                               class=&quot;column&quot;\r\n                               type=&quot;text&quot;\r\n                               th:unless=&quot;${#arrays.contains(matrixDisabledFields, index.index)}&quot;\r\n                               th:id=&quot;${index.index}&quot;&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/div&gt;\r\n                &lt;input type=&quot;submit&quot; class=&quot;button is-light is-pulled-right&quot; value=&quot;Save&quot;&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/form&gt;\r\n\r\nAnd here is my code for the controller:\r\n\r\n    @GetMapping(&quot;/matrix/{id}&quot;)\r\n    String getMatrix(Model model, @PathVariable Integer id) {\r\n        ProjectData projectData = JsonConverter.getProjectDataWithID(id);\r\n\r\n        if (projectData == null) {\r\n            model.addAttribute(&quot;error&quot;, &quot;Invalid id&quot;);\r\n            return &quot;error&quot;;\r\n        }\r\n\r\n        String[] matrix;\r\n        if (projectData.getMatrixData() == null) {\r\n            matrix = new String[(int) \r\n            Math.pow(projectData.getProjectOptions().getMatrixSize(),2)];\r\n        } else {\r\n            matrix = projectData.getMatrixData();\r\n        }\r\n\r\n        int matrixLength = (int) Math.sqrt(matrix.length);\r\n\r\n        Integer[] matrixDisabledFieldIds = new Integer[matrixLength];\r\n\r\n        Integer pastIndex = -matrixLength - 1;\r\n        for (int i = 0; i &lt; matrixLength; i++) {\r\n            matrixDisabledFieldIds[i] = pastIndex + matrixLength + 1;\r\n            pastIndex = matrixDisabledFieldIds[i];\r\n            matrix[pastIndex] = &quot;X&quot;;\r\n        }\r\n\r\n        projectData = new ProjectData();\r\n        projectData.setMatrixData(matrix);\r\n\r\n        model.addAttribute(&quot;matrixSize&quot;, matrixLength);\r\n        model.addAttribute(&quot;matrixDisabledFields&quot;, matrixDisabledFieldIds);\r\n        model.addAttribute(&quot;projectData&quot;, projectData);\r\n\r\n        return &quot;matrix&quot;;\r\n    }\r\n\r\n\r\nThe error that is thrown on saving is this one:\r\n\r\n    2022-08-27 12:13:56.630 ERROR 21000 --- [nio-8080-exec-4] o.a.c.c.C.[.[.[/]. \r\n    [dispatcherServlet]    : \r\n    Servlet.service() for servlet [dispatcherServlet] in context with \r\n    path [] threw exception [Request processing failed; nested exception is \r\n    org.springframework.beans.InvalidPropertyException: Invalid property &#39;matrixData[1000]&#39; of \r\n    bean class [com.tribus.tribusspring.entities.objects.project.ProjectData]: Invalid array index \r\n    in property path &#39;matrixData[1000]&#39;; nested exception is \r\n    java.lang.ArrayIndexOutOfBoundsException] with root cause\r\n\r\n    java.lang.ArrayIndexOutOfBoundsException: null\r\n\tat java.base/java.lang.reflect.Array.set(Native Method) ~[na:na]\r\n    at \r\n    org.springframework.beans.AbstractNestablePropertyAccessor.processKeyedProperty \r\n    (AbstractNestablePr \r\n    opertyAccessor.java:313) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.setPropertyValue \r\n    (AbstractNestableProper \r\n    tyAccessor.java:275) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.AbstractNestablePropertyAccessor.setPropertyValue \r\n    (AbstractNestablePropertyAccessor.java:266) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.beans.AbstractPropertyAccessor.setPropertyValues \r\n    (AbstractPropertyAccessor.java:104) ~[spring-beans-5.3.22.jar:5.3.22]\r\n\tat org.springframework.validation.DataBinder.applyPropertyValues(DataBinder.java:889) ~ \r\n    [spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.validation.DataBinder.doBind(DataBinder.java:780) ~[spring-context- \r\n    5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.bind.WebDataBinder.doBind(WebDataBinder.java:207) ~[spring-web- \r\n    5.3.22.jar:5.3.22]","title":"Thymeleaf dynamic array save","body":"<p>I'm trying to save a dynamic matrix as a string array in thymeleaf, while the displaying of the array works fine, the saving throws an error. The array I want to save is 1600 long (or 1599 if you start counting from 0). The <code>index.index</code> starts at 0 and the final number is 1599 (as it should be). Not sure what the issue is, so any help would be appreciated. And one more thing, I found out, that if I used a number below 256 it seems to generally work, but the problem is, that I need the matrix to be able to work with numbers up to 4000 so using lower numbers isn't an option sadly.</p>\n<p>Here is my code for the html:</p>\n<pre><code> &lt;form th:object=&quot;${projectData}&quot; method=&quot;post&quot; class=&quot;card&quot;&gt;\n    &lt;div class=&quot;card-content&quot;&gt;\n        &lt;div class=&quot;content&quot;&gt;\n            &lt;div class=&quot;columns is-gapless is-multiline is-mobile&quot;&gt;\n                &lt;tr th:each=&quot;_, index: ${projectData.matrixData}&quot;&gt;\n                    &lt;div th:if=&quot;${index.index % matrixSize == 0}&quot; class=&quot;break column is-desktop&quot;&gt;\n                    &lt;/div&gt;\n\n                    &lt;input th:field=&quot;*{matrixData[__${index.index}__]}&quot;\n                           class=&quot;column&quot;\n                           type=&quot;text&quot;\n                           th:if=&quot;${#arrays.contains(matrixDisabledFields, index.index)}&quot;\n                           th:id=&quot;${index.index}&quot;\n                           disabled&gt;\n\n                    &lt;input th:field=&quot;*{matrixData[__${index.index}__]}&quot;\n                           class=&quot;column&quot;\n                           type=&quot;text&quot;\n                           th:unless=&quot;${#arrays.contains(matrixDisabledFields, index.index)}&quot;\n                           th:id=&quot;${index.index}&quot;&gt;\n                &lt;/tr&gt;\n            &lt;/div&gt;\n            &lt;input type=&quot;submit&quot; class=&quot;button is-light is-pulled-right&quot; value=&quot;Save&quot;&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n<p>And here is my code for the controller:</p>\n<pre><code>@GetMapping(&quot;/matrix/{id}&quot;)\nString getMatrix(Model model, @PathVariable Integer id) {\n    ProjectData projectData = JsonConverter.getProjectDataWithID(id);\n\n    if (projectData == null) {\n        model.addAttribute(&quot;error&quot;, &quot;Invalid id&quot;);\n        return &quot;error&quot;;\n    }\n\n    String[] matrix;\n    if (projectData.getMatrixData() == null) {\n        matrix = new String[(int) \n        Math.pow(projectData.getProjectOptions().getMatrixSize(),2)];\n    } else {\n        matrix = projectData.getMatrixData();\n    }\n\n    int matrixLength = (int) Math.sqrt(matrix.length);\n\n    Integer[] matrixDisabledFieldIds = new Integer[matrixLength];\n\n    Integer pastIndex = -matrixLength - 1;\n    for (int i = 0; i &lt; matrixLength; i++) {\n        matrixDisabledFieldIds[i] = pastIndex + matrixLength + 1;\n        pastIndex = matrixDisabledFieldIds[i];\n        matrix[pastIndex] = &quot;X&quot;;\n    }\n\n    projectData = new ProjectData();\n    projectData.setMatrixData(matrix);\n\n    model.addAttribute(&quot;matrixSize&quot;, matrixLength);\n    model.addAttribute(&quot;matrixDisabledFields&quot;, matrixDisabledFieldIds);\n    model.addAttribute(&quot;projectData&quot;, projectData);\n\n    return &quot;matrix&quot;;\n}\n</code></pre>\n<p>The error that is thrown on saving is this one:</p>\n<pre><code>2022-08-27 12:13:56.630 ERROR 21000 --- [nio-8080-exec-4] o.a.c.c.C.[.[.[/]. \n[dispatcherServlet]    : \nServlet.service() for servlet [dispatcherServlet] in context with \npath [] threw exception [Request processing failed; nested exception is \norg.springframework.beans.InvalidPropertyException: Invalid property 'matrixData[1000]' of \nbean class [com.tribus.tribusspring.entities.objects.project.ProjectData]: Invalid array index \nin property path 'matrixData[1000]'; nested exception is \njava.lang.ArrayIndexOutOfBoundsException] with root cause\n\njava.lang.ArrayIndexOutOfBoundsException: null\nat java.base/java.lang.reflect.Array.set(Native Method) ~[na:na]\nat \norg.springframework.beans.AbstractNestablePropertyAccessor.processKeyedProperty \n(AbstractNestablePr \nopertyAccessor.java:313) ~[spring-beans-5.3.22.jar:5.3.22]\nat org.springframework.beans.AbstractNestablePropertyAccessor.setPropertyValue \n(AbstractNestableProper \ntyAccessor.java:275) ~[spring-beans-5.3.22.jar:5.3.22]\nat org.springframework.beans.AbstractNestablePropertyAccessor.setPropertyValue \n(AbstractNestablePropertyAccessor.java:266) ~[spring-beans-5.3.22.jar:5.3.22]\nat org.springframework.beans.AbstractPropertyAccessor.setPropertyValues \n(AbstractPropertyAccessor.java:104) ~[spring-beans-5.3.22.jar:5.3.22]\nat org.springframework.validation.DataBinder.applyPropertyValues(DataBinder.java:889) ~ \n[spring-context-5.3.22.jar:5.3.22]\nat org.springframework.validation.DataBinder.doBind(DataBinder.java:780) ~[spring-context- \n5.3.22.jar:5.3.22]\nat org.springframework.web.bind.WebDataBinder.doBind(WebDataBinder.java:207) ~[spring-web- \n5.3.22.jar:5.3.22]\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4624410,"reputation":76,"user_id":3748627,"display_name":"Vinay"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1523174604,"creation_date":1523174604,"answer_id":49715754,"question_id":49715639,"body_markdown":"Try removing quotes\r\n\r\n    ---\r\n    server:\r\n      port: 8888\r\n    \r\n    spring:\r\n      cloud:\r\n        config:\r\n          server:\r\n            git:\r\n              uri: https://github.com/rseroter/pluralsight-spring-cloudconfig-wa-tolls\r\n    \r\n              search-paths:\r\n              - &#39;station*&#39;\r\n              repos:\r\n                perf:\r\n                  pattern: \r\n                    - */perf ##as it was trying to match the whole pattern\r\n                    uri: https://github.com/rseroter/pluralsight-spring-cloudconfig-wa-tolls-perf\r\n    \r\n                    search-paths:\r\n                    - &#39;station*&#39;\r\n\r\nIf still not works, please try the below\r\n\r\n    repos:\r\n      perf:\r\n        pattern: xx*/perf, */pref ##as the fist character can&#39;t be a wild card but it can accept multiple value.\r\n        uri: https://github.com/rseroter/pluralsight-spring-cloudconfig-wa-tolls-perf\r\n\r\nAlso it is important to look for correct indentation while working with yml files.","title":"java.lang.IllegalStateException: Failed to load property source from location &#39;classpath:/application.yml&#39;","body":"<p>Try removing quotes</p>\n\n<pre><code>---\nserver:\n  port: 8888\n\nspring:\n  cloud:\n    config:\n      server:\n        git:\n          uri: https://github.com/rseroter/pluralsight-spring-cloudconfig-wa-tolls\n\n          search-paths:\n          - 'station*'\n          repos:\n            perf:\n              pattern: \n                - */perf ##as it was trying to match the whole pattern\n                uri: https://github.com/rseroter/pluralsight-spring-cloudconfig-wa-tolls-perf\n\n                search-paths:\n                - 'station*'\n</code></pre>\n\n<p>If still not works, please try the below</p>\n\n<pre><code>repos:\n  perf:\n    pattern: xx*/perf, */pref ##as the fist character can't be a wild card but it can accept multiple value.\n    uri: https://github.com/rseroter/pluralsight-spring-cloudconfig-wa-tolls-perf\n</code></pre>\n\n<p>Also it is important to look for correct indentation while working with yml files.</p>\n"},{"tags":[],"owner":{"account_id":6532090,"reputation":541,"user_id":5052928,"display_name":"Muji"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1532095507,"creation_date":1532095507,"answer_id":51444342,"question_id":49715639,"body_markdown":"This error indicates an issue with the formatting of the application.yml\r\nYou can validate your yml file online:\r\n[http://www.yamllint.com/][1]\r\n\r\n\r\n  [1]: http://www.yamllint.com/","title":"java.lang.IllegalStateException: Failed to load property source from location &#39;classpath:/application.yml&#39;","body":"<p>This error indicates an issue with the formatting of the application.yml\nYou can validate your yml file online:\n<a href=\"http://www.yamllint.com/\" rel=\"noreferrer\">http://www.yamllint.com/</a></p>\n"},{"tags":[],"owner":{"account_id":14434712,"reputation":1,"user_id":10426994,"display_name":"Veter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538098169,"creation_date":1538098169,"answer_id":52547097,"question_id":49715639,"body_markdown":"I have the same problem and fix it already. If the application.yml file is well done, you can try to empty your maven repository(at Maven/repository).then do maven update at your project and run it again.\r\n","title":"java.lang.IllegalStateException: Failed to load property source from location &#39;classpath:/application.yml&#39;","body":"<p>I have the same problem and fix it already. If the application.yml file is well done, you can try to empty your maven repository(at Maven/repository).then do maven update at your project and run it again.</p>\n"},{"tags":[],"owner":{"account_id":3674632,"reputation":1057,"user_id":3060992,"display_name":"DanDan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558018836,"creation_date":1558018836,"answer_id":56171499,"question_id":49715639,"body_markdown":"I&#39;m not sure about the second ``search-paths``, I think you put that in there by mistake. But for the error messages in line 17 &amp; 18, that&#39;s an easy fix:\r\n\r\nAdd another dash to the line containing the uri, so that it looks like that:\r\n\r\n    repos:\r\n            perf:\r\n              pattern: \r\n                - */perf ##as it was trying to match the whole pattern\r\n                - uri: https://github.com/rseroter/pluralsight-spring-cloudconfig-wa-tolls-perf\r\n\r\nWhat comes after ``pattern:`` is supposed to be a list and you need to prefix the items with ``-``.","title":"java.lang.IllegalStateException: Failed to load property source from location &#39;classpath:/application.yml&#39;","body":"<p>I'm not sure about the second <code>search-paths</code>, I think you put that in there by mistake. But for the error messages in line 17 &amp; 18, that's an easy fix:</p>\n\n<p>Add another dash to the line containing the uri, so that it looks like that:</p>\n\n<pre><code>repos:\n        perf:\n          pattern: \n            - */perf ##as it was trying to match the whole pattern\n            - uri: https://github.com/rseroter/pluralsight-spring-cloudconfig-wa-tolls-perf\n</code></pre>\n\n<p>What comes after <code>pattern:</code> is supposed to be a list and you need to prefix the items with <code>-</code>.</p>\n"},{"tags":[],"owner":{"account_id":16219790,"reputation":597,"user_id":11711605,"display_name":"atul sachan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584604975,"creation_date":1584604975,"answer_id":60753040,"question_id":49715639,"body_markdown":"I was facing the similar issue... the one of the reason is not giving proper spacing in yaml file. I have resolved as below -\r\n\r\nExample -\r\n\r\n```\r\nincorrect one -&gt;\r\n    RESERVATION:\r\n      registerHealthIndicator: true\r\n        slidingWindowSize: 100   --&gt; this parameter have unnecessary spaces at beginning\r\n\r\nthe correct one is -&gt;\r\n\r\n    RESERVATION:\r\n      registerHealthIndicator: true\r\n      slidingWindowSize: 100      --&gt; correct as spaces at beginning removed\r\n\r\n```\r\n\r\nRefer below image -\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9yPka.png","title":"java.lang.IllegalStateException: Failed to load property source from location &#39;classpath:/application.yml&#39;","body":"<p>I was facing the similar issue... the one of the reason is not giving proper spacing in yaml file. I have resolved as below -</p>\n\n<p>Example -</p>\n\n<pre><code>incorrect one -&gt;\n    RESERVATION:\n      registerHealthIndicator: true\n        slidingWindowSize: 100   --&gt; this parameter have unnecessary spaces at beginning\n\nthe correct one is -&gt;\n\n    RESERVATION:\n      registerHealthIndicator: true\n      slidingWindowSize: 100      --&gt; correct as spaces at beginning removed\n\n</code></pre>\n\n<p>Refer below image -</p>\n\n<p><a href=\"https://i.stack.imgur.com/9yPka.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9yPka.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":534369,"reputation":123,"user_id":904392,"display_name":"spritus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584644528,"creation_date":1584644528,"answer_id":60763518,"question_id":49715639,"body_markdown":"I got that error today, and I didn&#39;t understand at first because the indentation of my conf was good. Then I realized that was because the encoding of my `application.yml` was &quot;*Microsoft something*&quot; (suggested by IntelliJ, don&#39;t remember exactly). I just copied my conf, pasted it in SublimeText, deleted my `application.yml`, then recreated a new file with the same name (so `application.yml`), copied what was in SublimeText, then pasted it in my new file.\r\nApparently the default encoding fixed the problem.\r\n","title":"java.lang.IllegalStateException: Failed to load property source from location &#39;classpath:/application.yml&#39;","body":"<p>I got that error today, and I didn't understand at first because the indentation of my conf was good. Then I realized that was because the encoding of my <code>application.yml</code> was \"<em>Microsoft something</em>\" (suggested by IntelliJ, don't remember exactly). I just copied my conf, pasted it in SublimeText, deleted my <code>application.yml</code>, then recreated a new file with the same name (so <code>application.yml</code>), copied what was in SublimeText, then pasted it in my new file.\nApparently the default encoding fixed the problem.</p>\n"},{"tags":[],"owner":{"account_id":17809710,"reputation":146,"user_id":12934609,"display_name":"artin2"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1611259540,"creation_date":1611259540,"answer_id":65834981,"question_id":49715639,"body_markdown":"In case the other answers didn&#39;t help and you are using IntelliJ like me, try reloading the Gradle project, that fixed it for me.","title":"java.lang.IllegalStateException: Failed to load property source from location &#39;classpath:/application.yml&#39;","body":"<p>In case the other answers didn't help and you are using IntelliJ like me, try reloading the Gradle project, that fixed it for me.</p>\n"},{"tags":[],"owner":{"account_id":12984311,"reputation":422,"user_id":9386625,"display_name":"Andr&#233; Rodrigues de Sousa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661778779,"creation_date":1661778779,"answer_id":73529368,"question_id":49715639,"body_markdown":"If, in the future, anyone else has a problem with the coding, I ask you to check the comments in the application.yml\r\n\r\nI have a grails application that runs normally with grails run-app, but the .war file was not running.\r\n\r\nI found that a link, in a comment, was causing the exception below, even with yml without errors.\r\n\r\n\r\n    java.lang.IllegalStateException: Failed to load property source from location &#39;classpath:/application.yml&#39;\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:524)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadForFileExtension(ConfigFileApplicationListener.java:473)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:443)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$null$6(ConfigFileApplicationListener.java:425)\r\n            at java.lang.Iterable.forEach(Iterable.java:75)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$load$7(ConfigFileApplicationListener.java:425)\r\n            at java.lang.Iterable.forEach(Iterable.java:75)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:422)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:321)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener.addPropertySources(ConfigFileApplicationListener.java:202)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener.postProcessEnvironment(ConfigFileApplicationListener.java:186)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:176)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:164)\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\r\n            at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:75)\r\n            at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\r\n            at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:340)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:304)\r\n            at grails.boot.GrailsApp.run(GrailsApp.groovy:97)\r\n            at grails.boot.GrailsApp.run(GrailsApp.groovy:458)\r\n            at grails.boot.GrailsApp.run(GrailsApp.groovy:445)\r\n            at transporteLegal.Application.main(Application.groovy:11)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:47)\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:86)\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n            at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:57)\r\n    Caused by: org.yaml.snakeyaml.error.YAMLException: java.nio.charset.MalformedInputException: Input length = 1\r\n            at org.yaml.snakeyaml.reader.StreamReader.update(StreamReader.java:218)\r\n            at org.yaml.snakeyaml.reader.StreamReader.ensureEnoughData(StreamReader.java:176)\r\n            at org.yaml.snakeyaml.reader.StreamReader.peek(StreamReader.java:136)\r\n            at org.yaml.snakeyaml.scanner.ScannerImpl.scanFlowScalarNonSpaces(ScannerImpl.java:1861)\r\n            at org.yaml.snakeyaml.scanner.ScannerImpl.scanFlowScalar(ScannerImpl.java:1841)\r\n            at org.yaml.snakeyaml.scanner.ScannerImpl.fetchFlowScalar(ScannerImpl.java:1027)\r\n            at org.yaml.snakeyaml.scanner.ScannerImpl.fetchDouble(ScannerImpl.java:1009)\r\n            at org.yaml.snakeyaml.scanner.ScannerImpl.fetchMoreTokens(ScannerImpl.java:394)\r\n            at org.yaml.snakeyaml.scanner.ScannerImpl.checkToken(ScannerImpl.java:227)\r\n            at org.yaml.snakeyaml.parser.ParserImpl$ParseBlockMappingValue.produce(ParserImpl.java:586)\r\n            at org.yaml.snakeyaml.parser.ParserImpl.peekEvent(ParserImpl.java:158)\r\n            at org.yaml.snakeyaml.parser.ParserImpl.checkEvent(ParserImpl.java:148)\r\n            at org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:124)\r\n            at org.yaml.snakeyaml.composer.Composer.composeValueNode(Composer.java:236)\r\n            at org.yaml.snakeyaml.composer.Composer.composeMappingChildren(Composer.java:227)\r\n            at org.yaml.snakeyaml.composer.Composer.composeMappingNode(Composer.java:215)\r\n            at org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:144)\r\n            at org.yaml.snakeyaml.composer.Composer.composeValueNode(Composer.java:236)\r\n            at org.yaml.snakeyaml.composer.Composer.composeMappingChildren(Composer.java:227)\r\n            at org.yaml.snakeyaml.composer.Composer.composeMappingNode(Composer.java:215)\r\n            at org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:144)\r\n            at org.yaml.snakeyaml.composer.Composer.getNode(Composer.java:85)\r\n            at org.yaml.snakeyaml.constructor.BaseConstructor.getData(BaseConstructor.java:123)\r\n            at org.yaml.snakeyaml.Yaml$1.next(Yaml.java:547)\r\n            at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:160)\r\n            at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:134)\r\n            at org.grails.config.yaml.YamlPropertySourceLoader.load(YamlPropertySourceLoader.java:94)\r\n            at org.grails.config.yaml.YamlPropertySourceLoader.load(YamlPropertySourceLoader.java:59)\r\n            at org.grails.config.yaml.YamlPropertySourceLoader.load(YamlPropertySourceLoader.java:50)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadDocuments(ConfigFileApplicationListener.java:542)\r\n            at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:497)\r\n            ... 32 common frames omitted\r\n    Caused by: java.nio.charset.MalformedInputException: Input length = 1\r\n            at java.nio.charset.CoderResult.throwException(CoderResult.java:281)\r\n            at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:339)\r\n            at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\r\n            at java.io.InputStreamReader.read(InputStreamReader.java:184)\r\n            at org.yaml.snakeyaml.reader.UnicodeReader.read(UnicodeReader.java:125)\r\n            at org.yaml.snakeyaml.reader.StreamReader.update(StreamReader.java:183)\r\n            ... 62 common frames omitted","title":"java.lang.IllegalStateException: Failed to load property source from location &#39;classpath:/application.yml&#39;","body":"<p>If, in the future, anyone else has a problem with the coding, I ask you to check the comments in the application.yml</p>\n<p>I have a grails application that runs normally with grails run-app, but the .war file was not running.</p>\n<p>I found that a link, in a comment, was causing the exception below, even with yml without errors.</p>\n<pre><code>java.lang.IllegalStateException: Failed to load property source from location 'classpath:/application.yml'\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:524)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadForFileExtension(ConfigFileApplicationListener.java:473)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:443)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$null$6(ConfigFileApplicationListener.java:425)\n        at java.lang.Iterable.forEach(Iterable.java:75)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$load$7(ConfigFileApplicationListener.java:425)\n        at java.lang.Iterable.forEach(Iterable.java:75)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:422)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:321)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener.addPropertySources(ConfigFileApplicationListener.java:202)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener.postProcessEnvironment(ConfigFileApplicationListener.java:186)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:176)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:164)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127)\n        at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:75)\n        at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:53)\n        at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:340)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:304)\n        at grails.boot.GrailsApp.run(GrailsApp.groovy:97)\n        at grails.boot.GrailsApp.run(GrailsApp.groovy:458)\n        at grails.boot.GrailsApp.run(GrailsApp.groovy:445)\n        at transporteLegal.Application.main(Application.groovy:11)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:47)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:86)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\n        at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:57)\nCaused by: org.yaml.snakeyaml.error.YAMLException: java.nio.charset.MalformedInputException: Input length = 1\n        at org.yaml.snakeyaml.reader.StreamReader.update(StreamReader.java:218)\n        at org.yaml.snakeyaml.reader.StreamReader.ensureEnoughData(StreamReader.java:176)\n        at org.yaml.snakeyaml.reader.StreamReader.peek(StreamReader.java:136)\n        at org.yaml.snakeyaml.scanner.ScannerImpl.scanFlowScalarNonSpaces(ScannerImpl.java:1861)\n        at org.yaml.snakeyaml.scanner.ScannerImpl.scanFlowScalar(ScannerImpl.java:1841)\n        at org.yaml.snakeyaml.scanner.ScannerImpl.fetchFlowScalar(ScannerImpl.java:1027)\n        at org.yaml.snakeyaml.scanner.ScannerImpl.fetchDouble(ScannerImpl.java:1009)\n        at org.yaml.snakeyaml.scanner.ScannerImpl.fetchMoreTokens(ScannerImpl.java:394)\n        at org.yaml.snakeyaml.scanner.ScannerImpl.checkToken(ScannerImpl.java:227)\n        at org.yaml.snakeyaml.parser.ParserImpl$ParseBlockMappingValue.produce(ParserImpl.java:586)\n        at org.yaml.snakeyaml.parser.ParserImpl.peekEvent(ParserImpl.java:158)\n        at org.yaml.snakeyaml.parser.ParserImpl.checkEvent(ParserImpl.java:148)\n        at org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:124)\n        at org.yaml.snakeyaml.composer.Composer.composeValueNode(Composer.java:236)\n        at org.yaml.snakeyaml.composer.Composer.composeMappingChildren(Composer.java:227)\n        at org.yaml.snakeyaml.composer.Composer.composeMappingNode(Composer.java:215)\n        at org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:144)\n        at org.yaml.snakeyaml.composer.Composer.composeValueNode(Composer.java:236)\n        at org.yaml.snakeyaml.composer.Composer.composeMappingChildren(Composer.java:227)\n        at org.yaml.snakeyaml.composer.Composer.composeMappingNode(Composer.java:215)\n        at org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:144)\n        at org.yaml.snakeyaml.composer.Composer.getNode(Composer.java:85)\n        at org.yaml.snakeyaml.constructor.BaseConstructor.getData(BaseConstructor.java:123)\n        at org.yaml.snakeyaml.Yaml$1.next(Yaml.java:547)\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:160)\n        at org.springframework.beans.factory.config.YamlProcessor.process(YamlProcessor.java:134)\n        at org.grails.config.yaml.YamlPropertySourceLoader.load(YamlPropertySourceLoader.java:94)\n        at org.grails.config.yaml.YamlPropertySourceLoader.load(YamlPropertySourceLoader.java:59)\n        at org.grails.config.yaml.YamlPropertySourceLoader.load(YamlPropertySourceLoader.java:50)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadDocuments(ConfigFileApplicationListener.java:542)\n        at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:497)\n        ... 32 common frames omitted\nCaused by: java.nio.charset.MalformedInputException: Input length = 1\n        at java.nio.charset.CoderResult.throwException(CoderResult.java:281)\n        at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:339)\n        at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\n        at java.io.InputStreamReader.read(InputStreamReader.java:184)\n        at org.yaml.snakeyaml.reader.UnicodeReader.read(UnicodeReader.java:125)\n        at org.yaml.snakeyaml.reader.StreamReader.update(StreamReader.java:183)\n        ... 62 common frames omitted\n</code></pre>\n"}],"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67862,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":49715754,"answer_count":8,"score":18,"last_activity_date":1661778779,"creation_date":1523173560,"question_id":49715639,"body_markdown":"I am getting below error for the **Spring Cloud** project. In this project I am not doing anything special other than reading the .properties files from the GIT.\r\n\r\nPlease guide on what else need to be corrected out here ?\r\n\r\n\r\n    java.lang.IllegalStateException: Failed to load property source from location &#39;classpath:/application.yml&#39;\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:535) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadForFileExtension(ConfigFileApplicationListener.java:494) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:462) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$null$4(ConfigFileApplicationListener.java:444) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat java.lang.Iterable.forEach(Unknown Source) ~[na:1.8.0_151]\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$load$5(ConfigFileApplicationListener.java:443) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat java.lang.Iterable.forEach(Unknown Source) ~[na:1.8.0_151]\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:440) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:331) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener.addPropertySources(ConfigFileApplicationListener.java:213) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener.postProcessEnvironment(ConfigFileApplicationListener.java:196) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:183) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:169) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:74) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:54) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:358) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:317) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\r\n    \tat pluralsight.demo.PluralsightSpringcloudM2ConfigserverGitApplication.main(PluralsightSpringcloudM2ConfigserverGitApplication.java:12) [classes/:na]\r\n    Caused by: org.yaml.snakeyaml.parser.ParserException: while parsing a block collection\r\n     in &#39;reader&#39;, line 17, column 17:\r\n                        - &quot;*/perf&quot;\r\n                        ^\r\n    expected &lt;block end&gt;, but found Key\r\n     in &#39;reader&#39;, line 18, column 17:\r\n                        uri: https://github.com/rseroter ... \r\n                        ^\r\n\r\nHow we can solved the below error ?\r\n**application.yml**\r\n\r\n    ---\r\n    server:\r\n      port: 8888\r\n      \r\n    spring:\r\n      cloud:\r\n        config:\r\n          server:\r\n            git:\r\n              uri: https://github.com/rseroter/pluralsight-spring-cloudconfig-wa-tolls\r\n              \r\n              search-paths:\r\n              - &#39;station*&#39;\r\n              repos:\r\n                perf:\r\n                  pattern: \r\n                    - &quot;*/perf&quot;\r\n                    uri: https://github.com/rseroter/pluralsight-spring-cloudconfig-wa-tolls-perf\r\n                    \r\n                    search-paths:\r\n                    - &#39;station*&#39;\r\n     ","title":"java.lang.IllegalStateException: Failed to load property source from location &#39;classpath:/application.yml&#39;","body":"<p>I am getting below error for the <strong>Spring Cloud</strong> project. In this project I am not doing anything special other than reading the .properties files from the GIT.</p>\n\n<p>Please guide on what else need to be corrected out here ?</p>\n\n<pre><code>java.lang.IllegalStateException: Failed to load property source from location 'classpath:/application.yml'\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:535) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.loadForFileExtension(ConfigFileApplicationListener.java:494) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:462) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$null$4(ConfigFileApplicationListener.java:444) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at java.lang.Iterable.forEach(Unknown Source) ~[na:1.8.0_151]\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.lambda$load$5(ConfigFileApplicationListener.java:443) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at java.lang.Iterable.forEach(Unknown Source) ~[na:1.8.0_151]\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:440) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.context.config.ConfigFileApplicationListener$Loader.load(ConfigFileApplicationListener.java:331) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.context.config.ConfigFileApplicationListener.addPropertySources(ConfigFileApplicationListener.java:213) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.context.config.ConfigFileApplicationListener.postProcessEnvironment(ConfigFileApplicationListener.java:196) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEnvironmentPreparedEvent(ConfigFileApplicationListener.java:183) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.context.config.ConfigFileApplicationListener.onApplicationEvent(ConfigFileApplicationListener.java:169) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127) ~[spring-context-5.0.5.RELEASE.jar:5.0.5.RELEASE]\n    at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:74) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:54) ~[spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:358) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:317) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1255) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1243) [spring-boot-2.0.1.RELEASE.jar:2.0.1.RELEASE]\n    at pluralsight.demo.PluralsightSpringcloudM2ConfigserverGitApplication.main(PluralsightSpringcloudM2ConfigserverGitApplication.java:12) [classes/:na]\nCaused by: org.yaml.snakeyaml.parser.ParserException: while parsing a block collection\n in 'reader', line 17, column 17:\n                    - \"*/perf\"\n                    ^\nexpected &lt;block end&gt;, but found Key\n in 'reader', line 18, column 17:\n                    uri: https://github.com/rseroter ... \n                    ^\n</code></pre>\n\n<p>How we can solved the below error ?\n<strong>application.yml</strong></p>\n\n<pre><code>---\nserver:\n  port: 8888\n\nspring:\n  cloud:\n    config:\n      server:\n        git:\n          uri: https://github.com/rseroter/pluralsight-spring-cloudconfig-wa-tolls\n\n          search-paths:\n          - 'station*'\n          repos:\n            perf:\n              pattern: \n                - \"*/perf\"\n                uri: https://github.com/rseroter/pluralsight-spring-cloudconfig-wa-tolls-perf\n\n                search-paths:\n                - 'station*'\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1123823,"reputation":10881,"user_id":1111544,"accept_rate":79,"display_name":"Luigi Cortese"},"score":0,"creation_date":1436025739,"post_id":31222531,"comment_id":50444997,"body_markdown":"Novice to java? No problems at all, try pseudocode, we will help you to translate that in java","body":"Novice to java? No problems at all, try pseudocode, we will help you to translate that in java"}],"answers":[{"tags":[],"owner":{"account_id":5727952,"reputation":394,"user_id":4524421,"accept_rate":33,"display_name":"bane19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436026949,"creation_date":1436026949,"answer_id":31222803,"question_id":31222531,"body_markdown":"Hope this helps :)\r\n\r\n       import java.util.HashSet;\r\n       import java.util.Scanner;\r\n       import java.util.Set;\r\n \r\n       public class MyLongestSubstr {\r\n \r\n       static Set&lt;String&gt; SubStringList = new HashSet&lt;String&gt;();\r\n       static int Size = 0;\r\n     \r\n        public static  Set&lt;String&gt; getLongestSubstr(String input){\r\n        SubStringList.clear();\r\n    \tSize = 0;\r\n        boolean[] flag = new boolean[256];\r\n        int j = 0;\r\n        char[] inputCharArr = input.toCharArray();\r\n        for (int i = 0; i &lt; inputCharArr.length; i++) {\r\n            char c = inputCharArr[i];\r\n            if (flag[c]) {\r\n                extractSubString(inputCharArr,j,i);\r\n                for (int k = j; k &lt; i; k++) {\r\n                    if (inputCharArr[k] == c) {\r\n                        j = k + 1;\r\n                        break;\r\n                    }\r\n                    flag[inputCharArr[k]] = false;\r\n                }  \r\n            } else {\r\n                flag[c] = true;\r\n            }\r\n        }\r\n        extractSubString(inputCharArr,j,inputCharArr.length);\r\n        return SubStringList;\r\n    }\r\n     \r\n    private static String extractSubString(char[] inputArr, int start, int end){\r\n         \r\n        StringBuilder sb = new StringBuilder();\r\n        for(int i=start;i&lt;end;i++){\r\n            sb.append(inputArr[i]);\r\n        }\r\n        String subStr = sb.toString();\r\n        if(subStr.length() &gt; Size){\r\n            Size = subStr.length();\r\n            SubStringList.clear();\r\n            SubStringList.add(subStr);\r\n        } else if(subStr.length() == Size){\r\n            SubStringList.add(subStr);\r\n        }\r\n         \r\n        return sb.toString();\r\n    }\r\n \r\n    public static void main(String a[]){\r\n        Scanner sc = new Scanner(System.in);\r\n        String str = sc.next();\r\n        System.out.println(getLongestSubstr(str));\r\n        \r\n    }\r\n    }  \r\n\r\nThis solution prints out such possible sub-strings with maximum length and no repeating characters.  ","title":"Find out the substring from String which has maximum length and character should not be repeated","body":"<p>Hope this helps :)</p>\n\n<pre><code>   import java.util.HashSet;\n   import java.util.Scanner;\n   import java.util.Set;\n\n   public class MyLongestSubstr {\n\n   static Set&lt;String&gt; SubStringList = new HashSet&lt;String&gt;();\n   static int Size = 0;\n\n    public static  Set&lt;String&gt; getLongestSubstr(String input){\n    SubStringList.clear();\n    Size = 0;\n    boolean[] flag = new boolean[256];\n    int j = 0;\n    char[] inputCharArr = input.toCharArray();\n    for (int i = 0; i &lt; inputCharArr.length; i++) {\n        char c = inputCharArr[i];\n        if (flag[c]) {\n            extractSubString(inputCharArr,j,i);\n            for (int k = j; k &lt; i; k++) {\n                if (inputCharArr[k] == c) {\n                    j = k + 1;\n                    break;\n                }\n                flag[inputCharArr[k]] = false;\n            }  \n        } else {\n            flag[c] = true;\n        }\n    }\n    extractSubString(inputCharArr,j,inputCharArr.length);\n    return SubStringList;\n}\n\nprivate static String extractSubString(char[] inputArr, int start, int end){\n\n    StringBuilder sb = new StringBuilder();\n    for(int i=start;i&lt;end;i++){\n        sb.append(inputArr[i]);\n    }\n    String subStr = sb.toString();\n    if(subStr.length() &gt; Size){\n        Size = subStr.length();\n        SubStringList.clear();\n        SubStringList.add(subStr);\n    } else if(subStr.length() == Size){\n        SubStringList.add(subStr);\n    }\n\n    return sb.toString();\n}\n\npublic static void main(String a[]){\n    Scanner sc = new Scanner(System.in);\n    String str = sc.next();\n    System.out.println(getLongestSubstr(str));\n\n}\n}  \n</code></pre>\n\n<p>This solution prints out such possible sub-strings with maximum length and no repeating characters.  </p>\n"},{"tags":[],"owner":{"account_id":4170568,"reputation":2810,"user_id":3418420,"accept_rate":78,"display_name":"AnkeyNigam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436031051,"creation_date":1436031051,"answer_id":31223378,"question_id":31222531,"body_markdown":"Try this :-\r\n\r\n\t/**\r\n\t * Method to get List of all possible non-repetitive String from input String\r\n\t */\r\n\tpublic ArrayList&lt;String&gt; getUniqueSubstring(String input) {\r\n\t\tArrayList&lt;String&gt; matchingString = new ArrayList&lt;String&gt;();\r\n\t\tfor (int i = 0; i &lt; input.length(); i++) {\r\n\t\t\tString s = String.valueOf(input.charAt(i));\r\n\t\t\tfor (int j = i + 1; j &lt; input.length(); j++)\r\n\t\t\t\tif (!s.contains(String.valueOf(input.charAt(j))))\r\n\t\t\t\t\ts += String.valueOf(input.charAt(j));\r\n\t\t\t\telse\r\n\t\t\t\t\tbreak;\r\n\t\t\tmatchingString.add(s);\r\n\t\t\tif (s.length() == input.length())\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn matchingString;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Method to get longest String out of List\r\n\t */\r\n\t\r\n\t\r\n\tpublic String getLongestString(List&lt;String&gt; list) {\r\n\t      int maxLength = 0;\r\n\t      String longestString = null;\r\n\t      for (String s : list) {\r\n\t          if (s.length() &gt; maxLength) {\r\n\t              maxLength = s.length();\r\n\t              longestString = s;\r\n\t          }\r\n\t      }\r\n\t      return longestString;\r\n\t  }\r\n\t\r\n\t/**\r\n\t * Main method to test &amp; print the longest string\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tStringPattern s = new StringPattern();\r\n\t\tSystem.out.println(s.getLongestString(s.getUniqueSubstring(&quot;CHARACTERSTIC&quot;)));\r\n\t}\r\n\r\n**Output** :- `ACTERS` \r\n\r\nPS:- Please try to create logic on your own &amp; ask for help here if you are stuck somewhere, not for ready baked code. If you are novice start your leaning from Oracle Docs [here][1] Hope this helps.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/","title":"Find out the substring from String which has maximum length and character should not be repeated","body":"<p>Try this :-</p>\n\n<pre><code>/**\n * Method to get List of all possible non-repetitive String from input String\n */\npublic ArrayList&lt;String&gt; getUniqueSubstring(String input) {\n    ArrayList&lt;String&gt; matchingString = new ArrayList&lt;String&gt;();\n    for (int i = 0; i &lt; input.length(); i++) {\n        String s = String.valueOf(input.charAt(i));\n        for (int j = i + 1; j &lt; input.length(); j++)\n            if (!s.contains(String.valueOf(input.charAt(j))))\n                s += String.valueOf(input.charAt(j));\n            else\n                break;\n        matchingString.add(s);\n        if (s.length() == input.length())\n            break;\n    }\n\n    return matchingString;\n}\n\n/**\n * Method to get longest String out of List\n */\n\n\npublic String getLongestString(List&lt;String&gt; list) {\n      int maxLength = 0;\n      String longestString = null;\n      for (String s : list) {\n          if (s.length() &gt; maxLength) {\n              maxLength = s.length();\n              longestString = s;\n          }\n      }\n      return longestString;\n  }\n\n/**\n * Main method to test &amp; print the longest string\n */\npublic static void main(String[] args) {\n    StringPattern s = new StringPattern();\n    System.out.println(s.getLongestString(s.getUniqueSubstring(\"CHARACTERSTIC\")));\n}\n</code></pre>\n\n<p><strong>Output</strong> :- <code>ACTERS</code> </p>\n\n<p>PS:- Please try to create logic on your own &amp; ask for help here if you are stuck somewhere, not for ready baked code. If you are novice start your leaning from Oracle Docs <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow\">here</a> Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1318923,"reputation":9011,"user_id":1265182,"accept_rate":100,"display_name":"Shar1er80"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436153577,"creation_date":1436153577,"answer_id":31237403,"question_id":31222531,"body_markdown":"You would want to append each character from your original `String` to another `String` or `StringBuilder` until you&#39;re appending a character that is already in your new `String`.  Once you&#39;ve reached either the end of your original `String` or come to a duplicate character, check if the new `String` is the longest and keep it if it is.\r\n\r\nSample:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String s = &quot;CHARACTERSTIC&quot;;\r\n        StringBuilder sb = new StringBuilder();\r\n        \r\n        String maxString = &quot;&quot;;\r\n        int maxStringLength = 0;\r\n        int index = 0;\r\n        while (index &lt; s.length()) {\r\n            String c = String.valueOf(s.charAt(index));\r\n            if (sb.indexOf(c) == -1) {\r\n                sb.append(c);\r\n                index++; // Go to the next character\r\n            } \r\n            \r\n            // Check if we&#39;re at the end of the string of if the next character is duplicate\r\n            if (index == s.length() || sb.indexOf(String.valueOf(s.charAt(index))) &gt; -1) {\r\n                System.out.println(&quot;Possible substring: &quot; + sb);\r\n                \r\n                // Have to check the last substring\r\n                if (sb.length() &gt; maxStringLength) {\r\n                    maxString = sb.toString();\r\n                    maxStringLength = maxString.length();\r\n                    sb.setLength(0);\r\n                }\r\n            }\r\n        }\r\n        \r\n        System.out.println(&quot;Max String: &quot; + maxString);\r\n        System.out.println(&quot;Max Length: &quot; + maxStringLength);\r\n    }\r\n\r\nResults:\r\n\r\n    Possible substring: CHAR\r\n    Possible substring: ACTERS\r\n    Possible substring: TIC\r\n    Max String: ACTERS\r\n    Max Length: 6","title":"Find out the substring from String which has maximum length and character should not be repeated","body":"<p>You would want to append each character from your original <code>String</code> to another <code>String</code> or <code>StringBuilder</code> until you're appending a character that is already in your new <code>String</code>.  Once you've reached either the end of your original <code>String</code> or come to a duplicate character, check if the new <code>String</code> is the longest and keep it if it is.</p>\n\n<p>Sample:</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    String s = \"CHARACTERSTIC\";\n    StringBuilder sb = new StringBuilder();\n\n    String maxString = \"\";\n    int maxStringLength = 0;\n    int index = 0;\n    while (index &lt; s.length()) {\n        String c = String.valueOf(s.charAt(index));\n        if (sb.indexOf(c) == -1) {\n            sb.append(c);\n            index++; // Go to the next character\n        } \n\n        // Check if we're at the end of the string of if the next character is duplicate\n        if (index == s.length() || sb.indexOf(String.valueOf(s.charAt(index))) &gt; -1) {\n            System.out.println(\"Possible substring: \" + sb);\n\n            // Have to check the last substring\n            if (sb.length() &gt; maxStringLength) {\n                maxString = sb.toString();\n                maxStringLength = maxString.length();\n                sb.setLength(0);\n            }\n        }\n    }\n\n    System.out.println(\"Max String: \" + maxString);\n    System.out.println(\"Max Length: \" + maxStringLength);\n}\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>Possible substring: CHAR\nPossible substring: ACTERS\nPossible substring: TIC\nMax String: ACTERS\nMax Length: 6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":380094,"reputation":598,"user_id":733894,"display_name":"Gil Beyruth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508096661,"creation_date":1508096661,"answer_id":46759270,"question_id":31222531,"body_markdown":"This has a fix for @Shar1er80 code for a String like &quot;abcan&quot; where max string might be &quot;bcan&quot;:\r\n\r\n\r\n\r\n    public String getMaxSubstring(String s) {\r\n        StringBuilder currentString = new StringBuilder();\r\n        String maxString = &quot;&quot;;\r\n        int index = 0;\r\n        while(index &lt; s.length()) {\r\n        \t\tif(currentString.indexOf(String.valueOf(s.toCharArray()[index])) == -1) {\r\n        \t\t\tcurrentString.append(s.toCharArray()[index]);\r\n        \t\t\t\r\n        \t\t}else {\r\n                    // this will take care of already skipped substrings\r\n        \t\t\tString ns = currentString.substring(currentString.indexOf(String.valueOf(s.toCharArray()[index]))+1) + String.valueOf(s.toCharArray()[index]);\r\n        \t\t\tcurrentString = new StringBuilder(ns);\r\n        \t\t\tcurrentString.setLength(ns.length());\r\n        \t\t}        \t\t\r\n        \t\tif(currentString.length() &gt; maxString.length()) {\r\n    \t\t\t\tmaxString = currentString.toString();\r\n    \t\t\t}    \t\t\t\r\n        \t\tindex++;\r\n        }        \r\n        return maxString;\r\n    }","title":"Find out the substring from String which has maximum length and character should not be repeated","body":"<p>This has a fix for @Shar1er80 code for a String like \"abcan\" where max string might be \"bcan\":</p>\n\n<pre><code>public String getMaxSubstring(String s) {\n    StringBuilder currentString = new StringBuilder();\n    String maxString = \"\";\n    int index = 0;\n    while(index &lt; s.length()) {\n            if(currentString.indexOf(String.valueOf(s.toCharArray()[index])) == -1) {\n                currentString.append(s.toCharArray()[index]);\n\n            }else {\n                // this will take care of already skipped substrings\n                String ns = currentString.substring(currentString.indexOf(String.valueOf(s.toCharArray()[index]))+1) + String.valueOf(s.toCharArray()[index]);\n                currentString = new StringBuilder(ns);\n                currentString.setLength(ns.length());\n            }               \n            if(currentString.length() &gt; maxString.length()) {\n                maxString = currentString.toString();\n            }               \n            index++;\n    }        \n    return maxString;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25665558,"reputation":1,"user_id":19430595,"display_name":"Aaron Gezai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661778757,"creation_date":1661778757,"answer_id":73529363,"question_id":31222531,"body_markdown":"    private static void highestSubString(String str) {\r\n        String longestSubString =null;\r\n        int longestSubStringLength =0;\r\n        Map&lt;Character,Integer&gt; characterSet = new HashMap&lt;&gt;();\r\n        char[] arr = str.toCharArray();\r\n        for (int i =0;i&lt;arr.length;i++){\r\n\r\n            char ch = arr[i];\r\n            if(!characterSet.containsKey(ch)){\r\n                characterSet.put(ch,i);\r\n\r\n            }else {\r\n\r\n                characterSet.clear();\r\n            }\r\n\r\n            if(characterSet.size() &gt; longestSubStringLength){\r\n                longestSubStringLength = characterSet.size();\r\n                longestSubString = characterSet.keySet().toString();\r\n            }\r\n\r\n        }\r\n        System.out.println(longestSubStringLength);\r\n        System.out.println(longestSubString);\r\n    }","title":"Find out the substring from String which has maximum length and character should not be repeated","body":"<pre><code>private static void highestSubString(String str) {\n    String longestSubString =null;\n    int longestSubStringLength =0;\n    Map&lt;Character,Integer&gt; characterSet = new HashMap&lt;&gt;();\n    char[] arr = str.toCharArray();\n    for (int i =0;i&lt;arr.length;i++){\n\n        char ch = arr[i];\n        if(!characterSet.containsKey(ch)){\n            characterSet.put(ch,i);\n\n        }else {\n\n            characterSet.clear();\n        }\n\n        if(characterSet.size() &gt; longestSubStringLength){\n            longestSubStringLength = characterSet.size();\n            longestSubString = characterSet.keySet().toString();\n        }\n\n    }\n    System.out.println(longestSubStringLength);\n    System.out.println(longestSubString);\n}\n</code></pre>\n"}],"owner":{"account_id":5412247,"reputation":11,"user_id":4308611,"display_name":"Chandresh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1630,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":5,"score":-4,"last_activity_date":1661778757,"creation_date":1436025216,"question_id":31222531,"body_markdown":"I want to find the the substring from String s = &quot;CHARACTERSTIC&quot;.\r\nRequirement is that substring should not contain repeated characters as well as substring should have maximum length. How to achive this in core java?\r\nPlease help me as i am quite novice to java.","title":"Find out the substring from String which has maximum length and character should not be repeated","body":"<p>I want to find the the substring from String s = \"CHARACTERSTIC\".\nRequirement is that substring should not contain repeated characters as well as substring should have maximum length. How to achive this in core java?\nPlease help me as i am quite novice to java.</p>\n"},{"tags":["java","json","jackson","jackson-databind","jackson-annotations"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1661775225,"post_id":73528012,"comment_id":129844300,"body_markdown":"I don&#39;t think Jackson can do this out of the box. `@JsonProperty` as used will probably result in a JSON object as `{ &quot;options.string.prefix&quot;: &quot;test_pref&quot;, ... }`(not what you want). There is an annotation, `@JsonUnwrapped` that does the *opposite* of what you want. You will probably have to resort to custom `JsonDeserializer`/`JsonSerializer` implementations.","body":"I don&#39;t think Jackson can do this out of the box. <code>@JsonProperty</code> as used will probably result in a JSON object as <code>{ &quot;options.string.prefix&quot;: &quot;test_pref&quot;, ... }</code>(not what you want). There is an annotation, <code>@JsonUnwrapped</code> that does the <i>opposite</i> of what you want. You will probably have to resort to custom <code>JsonDeserializer</code>/<code>JsonSerializer</code> implementations."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661778456,"creation_date":1661778456,"answer_id":73529286,"question_id":73528012,"body_markdown":"The is `@JsonGetter` which is an alternative to  `@JsonProperty` You can read a very nice article on the topic here: [Jackson Annotation Examples][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-annotations","title":"Inner object deserialization with Jackson","body":"<p>The is <code>@JsonGetter</code> which is an alternative to  <code>@JsonProperty</code> You can read a very nice article on the topic here: <a href=\"https://www.baeldung.com/jackson-annotations\" rel=\"nofollow noreferrer\">Jackson Annotation Examples</a></p>\n"}],"owner":{"account_id":20274915,"reputation":1,"user_id":14870203,"display_name":"grav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661778456,"creation_date":1661772058,"question_id":73528012,"body_markdown":"I have a json\r\n\r\n    {\r\n    &quot;params&quot;: [\r\n        {\r\n            &quot;key&quot;: &quot;path&quot;,\r\n            &quot;options&quot;: {\r\n                &quot;string&quot;: {\r\n                    &quot;prefix&quot;: &quot;test_pref&quot;\r\n                }\r\n            },\r\n            &quot;default&quot;: {\r\n                &quot;url&quot;: &quot;&quot;\r\n            }\r\n        }\r\n    ]}\r\n\r\nI have the following POJO class, where i want to map inner objects like option.string.prefix in json to prefix in Params POJO class.\r\n\r\n    @Data\r\n    @Accessors(chain = true)\r\n    public class Data {\r\n        private List&lt;Params&gt; params;\r\n    }\r\n    \r\n    @Data\r\n    @Accessors(chain = true)\r\n    public class Params {\r\n    \r\n        private String key;\r\n    \r\n        @JsonProperty(&quot;options.string.prefix&quot;)\r\n        private String prefix;\r\n    \r\n        @JsonProperty(&quot;default.url&quot;)\r\n        private String url;\r\n    }\r\n\r\nIs there any Jackson annotation that helps me do this without @JsonProperty?","title":"Inner object deserialization with Jackson","body":"<p>I have a json</p>\n<pre><code>{\n&quot;params&quot;: [\n    {\n        &quot;key&quot;: &quot;path&quot;,\n        &quot;options&quot;: {\n            &quot;string&quot;: {\n                &quot;prefix&quot;: &quot;test_pref&quot;\n            }\n        },\n        &quot;default&quot;: {\n            &quot;url&quot;: &quot;&quot;\n        }\n    }\n]}\n</code></pre>\n<p>I have the following POJO class, where i want to map inner objects like option.string.prefix in json to prefix in Params POJO class.</p>\n<pre><code>@Data\n@Accessors(chain = true)\npublic class Data {\n    private List&lt;Params&gt; params;\n}\n\n@Data\n@Accessors(chain = true)\npublic class Params {\n\n    private String key;\n\n    @JsonProperty(&quot;options.string.prefix&quot;)\n    private String prefix;\n\n    @JsonProperty(&quot;default.url&quot;)\n    private String url;\n}\n</code></pre>\n<p>Is there any Jackson annotation that helps me do this without @JsonProperty?</p>\n"},{"tags":["java","spring-boot","sockets","junit5"],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661777924,"creation_date":1661777924,"answer_id":73529171,"question_id":73528899,"body_markdown":"Your code is not designed for testing (at least not the stuff you want to test). `new` operator always is a sign that you can&#39;t test this invocation.\r\n\r\nTry to redesign your code so it uses an injected `Socket` instead of creating it with `new`, so you can inject a mock there instead and your test does not rely on the `.connect` to acually work.\r\n\r\nYou also can try to inject a factory for `Socket` if direct injection doesn&#39;t work because you need the socket more than once per instance of your class. For the test you can then inject a mock factory that returns a mock `Socket`.","title":"Mock ServerSocket in Spring Boot JUnit5","body":"<p>Your code is not designed for testing (at least not the stuff you want to test). <code>new</code> operator always is a sign that you can't test this invocation.</p>\n<p>Try to redesign your code so it uses an injected <code>Socket</code> instead of creating it with <code>new</code>, so you can inject a mock there instead and your test does not rely on the <code>.connect</code> to acually work.</p>\n<p>You also can try to inject a factory for <code>Socket</code> if direct injection doesn't work because you need the socket more than once per instance of your class. For the test you can then inject a mock factory that returns a mock <code>Socket</code>.</p>\n"}],"owner":{"account_id":10916551,"reputation":815,"user_id":8024192,"accept_rate":57,"display_name":"Claim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661777924,"creation_date":1661776558,"question_id":73528899,"body_markdown":"I&#39;m trying to mock a socket connection and just verify if the order of the called methods is correct.\r\n\r\nHere&#39;s my client:\r\n\r\n```\r\n@Component\r\npublic class Communicator extends Thread {\r\n\r\npublic void startTCPConnection() {\r\n\r\n\t\tlogger.debug(&quot;Trying to connect...&quot;);\r\n\r\n\t\ttry {\r\n\t\t\tclient = new Socket();\r\n\t\t\tclient.connect(new InetSocketAddress(ip, port), reconnectTimeout);\r\n\t\t\tclientConnected = true;\r\n\t\t\tstartListener(); // FIRST METHOD TO VERIFY\r\n\t\t\tout = new PrintWriter(client.getOutputStream(), true);\r\n\t\t\tin = new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n\t\t\tlogin(); // SECOND METHOD TO VERIFY\r\n\t\t} catch (Exception e) {\r\n\t\t\tclientConnected = false;\r\n\t\t\tisLoggedIn = false;\r\n\t\t\tutility.sleep(reconnectTimeout);\r\n\t\t\tstartTCPConnection();\r\n\t\t}\r\n\t}\r\n\r\n    public void startListener() {\r\n\t\tlistener.start();\r\n\t}\r\n\r\n    public void login() {\r\n\t\tString loginSequence = &quot;asdf&quot;;\r\n\t\tsend(loginSequence); // THIRD METHOD TO VERIFY\r\n    }\r\n\r\n    public void send(String message) {...}\r\n\r\n    // FOURTH METHOD TO VERIFY\r\n    public void handleMessageFromServer(String message) {\r\n\t\t\r\n\t\tif (!isLoggedIn) {\r\n\t\t\thandleLoginResult(message);\r\n\t\t} else {\r\n\t\t\thandleMessageAfterLogin(message);\r\n\t\t}\r\n\t}\r\n    \r\n    // FIFTH METHOD TO VERIFY\r\n    public void handleLoginResult(String message) {\r\n\t\r\n\t\tif (isLoginSuccessful(message)) {\r\n\t\t\tisLoggedIn = true;\r\n\t\t\tstartHeartBeatSender();\r\n\t\t}\r\n\t}\r\n   \r\n    public void startHeartBeatSender() {...}\r\n\r\n}\r\n\r\n\r\n```\r\nAnd my unit test:\r\n\r\n```\r\n\r\n@Spy\r\n\tprivate Communicator communicator;\r\n\r\n@Test\r\n\tpublic void testStartTCPConnection() throws IOException {\r\n\t\tsetupProperties();\r\n\t\tcommunicator.start();\t\t\r\n\t\tverify(communicator).startListener();\r\n\t\tverify(communicator).login();\r\n\t\tverify(communicator).send(correctLoginString);\r\n    \tverify(communicator).handleMessageFromServer(correctLoginResultString);\r\n\t\tverify(communicator).handleLoginResult(correctLoginResultString);\r\n\t\tverify(communicator).startHeartBeatSender();\r\n\r\n```\r\n\r\nSo basically I want to have this order:\r\n\r\n 1. start thread (startTCPConnection)\r\n 2. startListener\r\n 3. login\r\n 4. send\r\n 5. handleMessageFromServer // receive OK from server\r\n 6. handleLoginResult // interpret the response from server as Login OK\r\n 7. startHeartBeatSender // start another thread\r\n\r\nAt the moment it dies at `logger.debug(&quot;Trying to connect...&quot;);` I am getting a &quot;Wanted but not invoked&quot; exception.\r\n\r\nThe usual usage is having a third party server running and then just launching my own spring boot service that connects to the mentioned server.\r\n\r\nAny help or direction is appreciated.","title":"Mock ServerSocket in Spring Boot JUnit5","body":"<p>I'm trying to mock a socket connection and just verify if the order of the called methods is correct.</p>\n<p>Here's my client:</p>\n<pre><code>@Component\npublic class Communicator extends Thread {\n\npublic void startTCPConnection() {\n\n        logger.debug(&quot;Trying to connect...&quot;);\n\n        try {\n            client = new Socket();\n            client.connect(new InetSocketAddress(ip, port), reconnectTimeout);\n            clientConnected = true;\n            startListener(); // FIRST METHOD TO VERIFY\n            out = new PrintWriter(client.getOutputStream(), true);\n            in = new BufferedReader(new InputStreamReader(client.getInputStream()));\n            login(); // SECOND METHOD TO VERIFY\n        } catch (Exception e) {\n            clientConnected = false;\n            isLoggedIn = false;\n            utility.sleep(reconnectTimeout);\n            startTCPConnection();\n        }\n    }\n\n    public void startListener() {\n        listener.start();\n    }\n\n    public void login() {\n        String loginSequence = &quot;asdf&quot;;\n        send(loginSequence); // THIRD METHOD TO VERIFY\n    }\n\n    public void send(String message) {...}\n\n    // FOURTH METHOD TO VERIFY\n    public void handleMessageFromServer(String message) {\n        \n        if (!isLoggedIn) {\n            handleLoginResult(message);\n        } else {\n            handleMessageAfterLogin(message);\n        }\n    }\n    \n    // FIFTH METHOD TO VERIFY\n    public void handleLoginResult(String message) {\n    \n        if (isLoginSuccessful(message)) {\n            isLoggedIn = true;\n            startHeartBeatSender();\n        }\n    }\n   \n    public void startHeartBeatSender() {...}\n\n}\n\n\n</code></pre>\n<p>And my unit test:</p>\n<pre><code>\n@Spy\n    private Communicator communicator;\n\n@Test\n    public void testStartTCPConnection() throws IOException {\n        setupProperties();\n        communicator.start();       \n        verify(communicator).startListener();\n        verify(communicator).login();\n        verify(communicator).send(correctLoginString);\n        verify(communicator).handleMessageFromServer(correctLoginResultString);\n        verify(communicator).handleLoginResult(correctLoginResultString);\n        verify(communicator).startHeartBeatSender();\n\n</code></pre>\n<p>So basically I want to have this order:</p>\n<ol>\n<li>start thread (startTCPConnection)</li>\n<li>startListener</li>\n<li>login</li>\n<li>send</li>\n<li>handleMessageFromServer // receive OK from server</li>\n<li>handleLoginResult // interpret the response from server as Login OK</li>\n<li>startHeartBeatSender // start another thread</li>\n</ol>\n<p>At the moment it dies at <code>logger.debug(&quot;Trying to connect...&quot;);</code> I am getting a &quot;Wanted but not invoked&quot; exception.</p>\n<p>The usual usage is having a third party server running and then just launching my own spring boot service that connects to the mentioned server.</p>\n<p>Any help or direction is appreciated.</p>\n"},{"tags":["java","data-structures","kdtree"],"comments":[{"owner":{"account_id":13086826,"reputation":45,"user_id":9848484,"display_name":"recouer"},"score":0,"creation_date":1661769600,"post_id":73527205,"comment_id":129842450,"body_markdown":"You need to provide a reproducible example if you want people to understand what your problem is and help you.","body":"You need to provide a reproducible example if you want people to understand what your problem is and help you."},{"owner":{"account_id":26187363,"reputation":3,"user_id":19869728,"display_name":""},"score":0,"creation_date":1661771033,"post_id":73527205,"comment_id":129842869,"body_markdown":"Added a couple of examples","body":"Added a couple of examples"}],"answers":[{"tags":[],"owner":{"account_id":9364593,"reputation":101,"user_id":6949935,"display_name":"Jairo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661777440,"creation_date":1661777440,"answer_id":73529083,"question_id":73527205,"body_markdown":"Short answer\r\n============\r\nThe Wikipedia k-d tree page contains a nice explanation on how to implement a k-nearest-neighbours search: https://en.wikipedia.org/wiki/K-d_tree.\r\n\r\nLong answer\r\n===========\r\nPlease, do not alter the k-d tree when doing search operations such as searching for the k-nearest-neighbours. \r\n\r\nThe critical thing to remember is that indexing is costly, especially when preventing the data structure from degradation. We want that the data structure remains unaltered to be able to do several search operations on it. Otherwise, if we have to re-index upon each search, we lose many of the nice features such as the efficient searches that we enjoy with these tree-like structures.\r\n\r\n\r\nAdditional ideas\r\n----------------\r\n\r\n - As you have two-dimensional points, why not consider something like a Quadtree (https://en.wikipedia.org/wiki/Quadtree)\r\n - In general, it is always useful to think about how the data is arranged, the kind of searching we want to do with it and take a look at the differences between several data structures (some are more suitable for some specific searches than others). The Wikipedia page for Geometric data structures is a nice entry point. See https://en.wikipedia.org/wiki/Category:Geometric_data_structures\r\n\r\n\r\n  ","title":"KD-Tree how to delete node/Why is my code not working well","body":"<h1>Short answer</h1>\n<p>The Wikipedia k-d tree page contains a nice explanation on how to implement a k-nearest-neighbours search: <a href=\"https://en.wikipedia.org/wiki/K-d_tree\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/K-d_tree</a>.</p>\n<h1>Long answer</h1>\n<p>Please, do not alter the k-d tree when doing search operations such as searching for the k-nearest-neighbours.</p>\n<p>The critical thing to remember is that indexing is costly, especially when preventing the data structure from degradation. We want that the data structure remains unaltered to be able to do several search operations on it. Otherwise, if we have to re-index upon each search, we lose many of the nice features such as the efficient searches that we enjoy with these tree-like structures.</p>\n<h2>Additional ideas</h2>\n<ul>\n<li>As you have two-dimensional points, why not consider something like a Quadtree (<a href=\"https://en.wikipedia.org/wiki/Quadtree\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Quadtree</a>)</li>\n<li>In general, it is always useful to think about how the data is arranged, the kind of searching we want to do with it and take a look at the differences between several data structures (some are more suitable for some specific searches than others). The Wikipedia page for Geometric data structures is a nice entry point. See <a href=\"https://en.wikipedia.org/wiki/Category:Geometric_data_structures\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Category:Geometric_data_structures</a></li>\n</ul>\n"}],"owner":{"account_id":26187363,"reputation":3,"user_id":19869728,"display_name":""},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661777440,"creation_date":1661767706,"question_id":73527205,"body_markdown":"I was solving a task to find the five nearest neighbors to a point. I was advised to use kd tree. \r\nBut there is something wrong with my implementation. I implemented a Kd tree and the only option to search for K neighbors that came to my mind was to find the nearest neighbor, then delete this node and search again. But delete method does not work as expected and removes only part of the values. Class Airport just like a point and have (double) latitude and longitude.\r\nMy add methods to build a tree:\r\n\r\n    public void add(Airport airport) { //need to start recursive\r\n        root = addRecursive(root, airport, 0); \r\n    }\r\n    private KDNode addRecursive(KDNode current, Airport airport, int depth) {\r\n        if (current == null)\r\n            return new KDNode(airport);\r\n        if (depth % 2 == 0) //Every odd depth we change the axis from x to y\r\n        {\r\n            if (airport.getLatitude() &lt; current.a.getLatitude()) // Compare by x\r\n            {\r\n                current.left = addRecursive(current.left, airport, depth + 1); \r\n            } else if (airport.getLatitude() &gt; current.a.getLatitude()) \r\n            {\r\n                current.right = addRecursive(current.right, airport, depth + 1);\r\n            } else {\r\n                return current;\r\n            }\r\n        } else {\r\n            if (airport.getLongitude() &lt; current.a.getLongitude()) // Compare by y\r\n            {\r\n                current.left = addRecursive(current.left, airport, depth + 1); \r\n            } else if (airport.getLongitude() &gt; current.a.getLongitude()) \r\n            {\r\n                current.right = addRecursive(current.right, airport, depth + 1);\r\n            } else {\r\n                return current;\r\n            }\r\n        }\r\n        return current;\r\n    }\r\n   My delete methods:\r\n\r\n  \r\n\r\n        private Airport findSmallestValue(KDNode root) {\r\n            return root.left == null ? root.a : findSmallestValue(root.left);\r\n        }\r\n    \r\n    \r\n       private KDNode deleteRecursive(KDNode current, Airport airport, int depth) {\r\n            if (current == null)\r\n                return null;\r\n    \r\n            if (airport == current.a)\r\n            {\r\n                if (current.left == null &amp;&amp; current.right == null) {\r\n                    return null;\r\n                }\r\n                if (current.right == null)\r\n                    return current.left;\r\n                if (current.left == null)\r\n                    return current.right;\r\n                Airport smallestAirport = findSmallestValue(current.right);\r\n                current.a = smallestAirport;\r\n                current.right = deleteRecursive(current.right, smallestAirport, depth+1);\r\n                return current;\r\n            }\r\n    \r\n            if (depth % 2 == 0)\r\n            {\r\n                if (airport.getLatitude() &lt; current.a.getLatitude())\r\n                {\r\n                    current.left = deleteRecursive(current.left, airport, depth+1);\r\n                    return current;\r\n                }\r\n            }\r\n            else\r\n            {\r\n                if (airport.getLongitude() &lt; current.a.getLongitude())\r\n                {\r\n                    current.left = deleteRecursive(current.left, airport, depth+1);\r\n                    return current;\r\n                }\r\n            }\r\n            current.right = deleteRecursive(current.right, airport, depth+1);\r\n            return current;\r\n        }\r\n    \r\n        public void delete(Airport airport) {\r\n            root = deleteRecursive(root, airport, 0);\r\n        }\r\n\r\nSome examples:\r\n[code main][1]\r\n[results][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mvsmB.png\r\n  [2]: https://i.stack.imgur.com/5r2Sg.png","title":"KD-Tree how to delete node/Why is my code not working well","body":"<p>I was solving a task to find the five nearest neighbors to a point. I was advised to use kd tree.\nBut there is something wrong with my implementation. I implemented a Kd tree and the only option to search for K neighbors that came to my mind was to find the nearest neighbor, then delete this node and search again. But delete method does not work as expected and removes only part of the values. Class Airport just like a point and have (double) latitude and longitude.\nMy add methods to build a tree:</p>\n<pre><code>public void add(Airport airport) { //need to start recursive\n    root = addRecursive(root, airport, 0); \n}\nprivate KDNode addRecursive(KDNode current, Airport airport, int depth) {\n    if (current == null)\n        return new KDNode(airport);\n    if (depth % 2 == 0) //Every odd depth we change the axis from x to y\n    {\n        if (airport.getLatitude() &lt; current.a.getLatitude()) // Compare by x\n        {\n            current.left = addRecursive(current.left, airport, depth + 1); \n        } else if (airport.getLatitude() &gt; current.a.getLatitude()) \n        {\n            current.right = addRecursive(current.right, airport, depth + 1);\n        } else {\n            return current;\n        }\n    } else {\n        if (airport.getLongitude() &lt; current.a.getLongitude()) // Compare by y\n        {\n            current.left = addRecursive(current.left, airport, depth + 1); \n        } else if (airport.getLongitude() &gt; current.a.getLongitude()) \n        {\n            current.right = addRecursive(current.right, airport, depth + 1);\n        } else {\n            return current;\n        }\n    }\n    return current;\n}\n</code></pre>\n<p>My delete methods:</p>\n<pre><code>    private Airport findSmallestValue(KDNode root) {\n        return root.left == null ? root.a : findSmallestValue(root.left);\n    }\n\n\n   private KDNode deleteRecursive(KDNode current, Airport airport, int depth) {\n        if (current == null)\n            return null;\n\n        if (airport == current.a)\n        {\n            if (current.left == null &amp;&amp; current.right == null) {\n                return null;\n            }\n            if (current.right == null)\n                return current.left;\n            if (current.left == null)\n                return current.right;\n            Airport smallestAirport = findSmallestValue(current.right);\n            current.a = smallestAirport;\n            current.right = deleteRecursive(current.right, smallestAirport, depth+1);\n            return current;\n        }\n\n        if (depth % 2 == 0)\n        {\n            if (airport.getLatitude() &lt; current.a.getLatitude())\n            {\n                current.left = deleteRecursive(current.left, airport, depth+1);\n                return current;\n            }\n        }\n        else\n        {\n            if (airport.getLongitude() &lt; current.a.getLongitude())\n            {\n                current.left = deleteRecursive(current.left, airport, depth+1);\n                return current;\n            }\n        }\n        current.right = deleteRecursive(current.right, airport, depth+1);\n        return current;\n    }\n\n    public void delete(Airport airport) {\n        root = deleteRecursive(root, airport, 0);\n    }\n</code></pre>\n<p>Some examples:\n<a href=\"https://i.stack.imgur.com/mvsmB.png\" rel=\"nofollow noreferrer\">code main</a>\n<a href=\"https://i.stack.imgur.com/5r2Sg.png\" rel=\"nofollow noreferrer\">results</a></p>\n"},{"tags":["java","spring","spring-boot","cassandra"],"comments":[{"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"score":0,"creation_date":1661778620,"post_id":73529053,"comment_id":129845575,"body_markdown":"Can please you post the link to the tutorial as well?","body":"Can please you post the link to the tutorial as well?"},{"owner":{"account_id":23805295,"reputation":11,"user_id":17814927,"display_name":"kusai elamir"},"score":0,"creation_date":1661779289,"post_id":73529053,"comment_id":129845841,"body_markdown":"It&#39;s a YouTube series, and this is the part where I&#39;m getting the error https://www.youtube.com/watch?v=24NrLl8EhDM&amp;list=PLJ5_m4Y8xLkkxfo2Z1Lb0qjXnAZqIWCCZ&amp;index=9. And here is the github repo: https://github.com/koushikkothagal/betterreads-webapp. but there, he created a controller class, while I&#39;m still working with the main method.","body":"It&#39;s a YouTube series, and this is the part where I&#39;m getting the error <a href=\"https://www.youtube.com/watch?v=24NrLl8EhDM&amp;list=PLJ5_m4Y8xLkkxfo2Z1Lb0qjXnAZqIWCCZ&amp;index=9\" rel=\"nofollow noreferrer\">youtube.com/&hellip;</a>. And here is the github repo: <a href=\"https://github.com/koushikkothagal/betterreads-webapp\" rel=\"nofollow noreferrer\">github.com/koushikkothagal/betterreads-webapp</a>. but there, he created a controller class, while I&#39;m still working with the main method."}],"owner":{"account_id":23805295,"reputation":11,"user_id":17814927,"display_name":"kusai elamir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661777302,"creation_date":1661777302,"question_id":73529053,"body_markdown":"I know that this question is a duplicate, but I have tried many of the suggestions that I found with no effect. \r\nI am a beginner to spring boot, and I am following a tutorial using Spring boot and Cassandra. I get this error once *SpringApplication.run(ReadstrackerDataLoaderApplication.class, args)* is executed.\r\n\r\nReadstrackerDataLoaderApplication.java\r\n```\r\npackage com.readstracker.demo;\r\n\r\n@SpringBootApplication(scanBasePackages = {&quot;com.readstracker.repositories&quot;, &quot;com.readstracker.entities&quot;})\r\n//@ComponentScan(&quot;repositories.AuthorRepository&quot;)\r\n@EnableConfigurationProperties(DataStaxAstraProperties.class)\r\n@EnableCassandraRepositories(&quot;com.readstracker.repositories&quot;)\r\n@ComponentScan(&quot;com.readstracker.entities&quot;)\r\n\r\n@Service\r\npublic class ReadstrackerDataLoaderApplication {\r\n\r\n    @Autowired\r\n    private AuthorRepository authorRepository;\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ReadstrackerDataLoaderApplication.class, args);\r\n    }\r\n\r\n    @PostConstruct\r\n    public void start() {\r\n        Author author = new Author();\r\n        author.setId(&quot;id&quot;);\r\n        author.setName(&quot;name&quot;);\r\n        author.setPersonalName(&quot;personalName&quot;);\r\n        authorRepository.save(author);\r\n    }\r\n\r\n    @Bean\r\n    public CqlSessionBuilderCustomizer sessionBuilderCustomizer(DataStaxAstraProperties astraProperties) {\r\n        Path bundle = astraProperties.getSecureConnectBundle().toPath();\r\n        return builder -&gt; builder.withCloudSecureConnectBundle(bundle);\r\n    }\r\n}\r\n```\r\n\r\nAuthorRepository.java\r\n\r\n```\r\npackage com.readstracker.repositories;\r\n\r\nimport org.springframework.data.cassandra.repository.CassandraRepository;\r\nimport org.springframework.stereotype.Repository;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.readstracker.entities.Author;\r\n@Repository\r\npublic interface AuthorRepository extends CassandraRepository&lt;Author, String&gt; {\r\n\r\n}\r\n```\r\n\r\nAuthor.java\r\n\r\n```\r\npackage com.readstracker.entities;\r\n\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.cassandra.core.cql.PrimaryKeyType;\r\nimport org.springframework.data.cassandra.core.mapping.CassandraType;\r\nimport org.springframework.data.cassandra.core.mapping.CassandraType.Name;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.data.cassandra.core.mapping.Column;\r\nimport org.springframework.data.cassandra.core.mapping.PrimaryKeyColumn;\r\nimport org.springframework.data.cassandra.core.mapping.Table;\r\n\r\n@Table(value = &quot;author_by_id&quot;)\r\n@Component\r\npublic class Author {\r\n\r\n    @Id\r\n    @PrimaryKeyColumn(name = &quot;author_id&quot;, ordinal = 0, type = PrimaryKeyType.PARTITIONED)\r\n    private String id;\r\n\r\n    @Column(&quot;author_name&quot;)\r\n    @CassandraType(type = Name.TEXT)\r\n    private String name;\r\n\r\n    @Column(&quot;personal_name&quot;)\r\n    @CassandraType(type = Name.TEXT)\r\n    private String personalName;\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getPersonalName() {\r\n        return personalName;\r\n    }\r\n\r\n    public void setPersonalName(String personalName) {\r\n        this.personalName = personalName;\r\n    }\r\n\r\n}\r\n```\r\nHere is my project directory\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lvh1L.png","title":"Error creating bean with name &#39;readstrackerDataLoaderApplication&#39;: Unsatisfied dependency expressed through field &#39;authorRepository&#39;","body":"<p>I know that this question is a duplicate, but I have tried many of the suggestions that I found with no effect.\nI am a beginner to spring boot, and I am following a tutorial using Spring boot and Cassandra. I get this error once <em>SpringApplication.run(ReadstrackerDataLoaderApplication.class, args)</em> is executed.</p>\n<p>ReadstrackerDataLoaderApplication.java</p>\n<pre><code>package com.readstracker.demo;\n\n@SpringBootApplication(scanBasePackages = {&quot;com.readstracker.repositories&quot;, &quot;com.readstracker.entities&quot;})\n//@ComponentScan(&quot;repositories.AuthorRepository&quot;)\n@EnableConfigurationProperties(DataStaxAstraProperties.class)\n@EnableCassandraRepositories(&quot;com.readstracker.repositories&quot;)\n@ComponentScan(&quot;com.readstracker.entities&quot;)\n\n@Service\npublic class ReadstrackerDataLoaderApplication {\n\n    @Autowired\n    private AuthorRepository authorRepository;\n\n    public static void main(String[] args) {\n        SpringApplication.run(ReadstrackerDataLoaderApplication.class, args);\n    }\n\n    @PostConstruct\n    public void start() {\n        Author author = new Author();\n        author.setId(&quot;id&quot;);\n        author.setName(&quot;name&quot;);\n        author.setPersonalName(&quot;personalName&quot;);\n        authorRepository.save(author);\n    }\n\n    @Bean\n    public CqlSessionBuilderCustomizer sessionBuilderCustomizer(DataStaxAstraProperties astraProperties) {\n        Path bundle = astraProperties.getSecureConnectBundle().toPath();\n        return builder -&gt; builder.withCloudSecureConnectBundle(bundle);\n    }\n}\n</code></pre>\n<p>AuthorRepository.java</p>\n<pre><code>package com.readstracker.repositories;\n\nimport org.springframework.data.cassandra.repository.CassandraRepository;\nimport org.springframework.stereotype.Repository;\nimport org.springframework.stereotype.Service;\n\nimport com.readstracker.entities.Author;\n@Repository\npublic interface AuthorRepository extends CassandraRepository&lt;Author, String&gt; {\n\n}\n</code></pre>\n<p>Author.java</p>\n<pre><code>package com.readstracker.entities;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.cassandra.core.cql.PrimaryKeyType;\nimport org.springframework.data.cassandra.core.mapping.CassandraType;\nimport org.springframework.data.cassandra.core.mapping.CassandraType.Name;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Service;\nimport org.springframework.data.cassandra.core.mapping.Column;\nimport org.springframework.data.cassandra.core.mapping.PrimaryKeyColumn;\nimport org.springframework.data.cassandra.core.mapping.Table;\n\n@Table(value = &quot;author_by_id&quot;)\n@Component\npublic class Author {\n\n    @Id\n    @PrimaryKeyColumn(name = &quot;author_id&quot;, ordinal = 0, type = PrimaryKeyType.PARTITIONED)\n    private String id;\n\n    @Column(&quot;author_name&quot;)\n    @CassandraType(type = Name.TEXT)\n    private String name;\n\n    @Column(&quot;personal_name&quot;)\n    @CassandraType(type = Name.TEXT)\n    private String personalName;\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getPersonalName() {\n        return personalName;\n    }\n\n    public void setPersonalName(String personalName) {\n        this.personalName = personalName;\n    }\n\n}\n</code></pre>\n<p>Here is my project directory</p>\n<p><a href=\"https://i.stack.imgur.com/lvh1L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lvh1L.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661326779,"creation_date":1661326779,"answer_id":73469199,"question_id":73464862,"body_markdown":"Your input data might be inconsistent.\r\n\r\nFor example with A.b as the inverse relation of B.a: `a1.b = b1`, but `b1.a = a2`.\r\n\r\n**Please turn on enviromnentMode `FULL_ASSERT` temporarily.** It will verify the input data (at great performance expense). If the input data is the cause of the problem, it will fail fast with a better error message. Do let us know if that is indeed the case, because then we &#39;ll add a &quot;Maybe&quot; line in your original error message to ask you do that.","title":"Optaplanner: The supply is corrupted, because the entity for sourceVariable cannot be inserted: another entity already has that value","body":"<p>Your input data might be inconsistent.</p>\n<p>For example with A.b as the inverse relation of B.a: <code>a1.b = b1</code>, but <code>b1.a = a2</code>.</p>\n<p><strong>Please turn on enviromnentMode <code>FULL_ASSERT</code> temporarily.</strong> It will verify the input data (at great performance expense). If the input data is the cause of the problem, it will fail fast with a better error message. Do let us know if that is indeed the case, because then we 'll add a &quot;Maybe&quot; line in your original error message to ask you do that.</p>\n"},{"tags":[],"owner":{"account_id":26143041,"reputation":21,"user_id":19832136,"display_name":"score_corruption_hurts2"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661776094,"creation_date":1661373859,"answer_id":73479273,"question_id":73464862,"body_markdown":"`ActivityOrActor` class was not annotated as a planning entity. \r\nThis class handles the `next` links in the linked list (`@InverseRelationShadowVariable`) as well as the planning id (`@PlanningId`). \r\n\r\nOnce `ActivityOrActor` was annotated and added to the `solverConfig` as a planning entity, the error has been resolved.\r\n\r\nSetting log level to `TRACE` via `logback.xml` was helpful when tracking this down as it&#39;s possible to see the domain that optaplanner has parsed from the annotations.","title":"Optaplanner: The supply is corrupted, because the entity for sourceVariable cannot be inserted: another entity already has that value","body":"<p><code>ActivityOrActor</code> class was not annotated as a planning entity.\nThis class handles the <code>next</code> links in the linked list (<code>@InverseRelationShadowVariable</code>) as well as the planning id (<code>@PlanningId</code>).</p>\n<p>Once <code>ActivityOrActor</code> was annotated and added to the <code>solverConfig</code> as a planning entity, the error has been resolved.</p>\n<p>Setting log level to <code>TRACE</code> via <code>logback.xml</code> was helpful when tracking this down as it's possible to see the domain that optaplanner has parsed from the annotations.</p>\n"}],"owner":{"account_id":26143041,"reputation":21,"user_id":19832136,"display_name":"score_corruption_hurts2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73479273,"answer_count":2,"score":1,"last_activity_date":1661776094,"creation_date":1661287469,"question_id":73464862,"body_markdown":"I am trying to solve a variation of Optaplanner&#39;s Task Assigning example, [here][1], but I am running into an error that I suspect is due to the domain modifications. \r\n\r\nThe domain varies from the example because there are many different task types, each with a unique set of planning variables. As a result, I have modeled these tasks as multiple planning entities, each extending from an abstract class &quot;Activity&quot; which in turn extends ActivityOrActor as the root class. \r\n\r\nOnce the solution has been constructed (internal construction method), I am met with the following error:\r\n\r\n```\r\nINFO  [15:37:33] DefaultSolver |  Solving started: time spent (98), best score (0hard/0soft), environment mode (FULL_ASSERT), move thread count (4), random (JDK with seed 1).\r\nINFO  [15:37:33] DefaultConstructionHeuristicPhase |  Construction Heuristic phase (0) ended: time spent (130), best score (0hard/0soft), score calculation speed (200/sec), step total (0).\r\nINFO  [15:37:33] DefaultConstructionHeuristicPhase |  Construction Heuristic phase (1) ended: time spent (152), best score (0hard/0soft), score calculation speed (294/sec), step total (0).\r\n Exception in thread &quot;main&quot; java.lang.IllegalStateException: The move thread with moveThreadIndex (0) has thrown an exception. Relayed here in the parent thread.\r\n        at org.optaplanner.core.impl.heuristic.thread.OrderByMoveIndexBlockingQueue.take(OrderByMoveIndexBlockingQueue.java:131)\r\n        at org.optaplanner.core.impl.localsearch.decider.MultiThreadedLocalSearchDecider.forageResult(MultiThreadedLocalSearchDecider.java:185)\r\n        at org.optaplanner.core.impl.localsearch.decider.MultiThreadedLocalSearchDecider.decideNextStep(MultiThreadedLocalSearchDecider.java:150)\r\n        at org.optaplanner.core.impl.localsearch.DefaultLocalSearchPhase.solve(DefaultLocalSearchPhase.java:72)\r\n        at org.optaplanner.core.impl.solver.AbstractSolver.runPhases(AbstractSolver.java:83)\r\n        at org.optaplanner.core.impl.solver.DefaultSolver.solve(DefaultSolver.java:193)\r\n        at com.macro_optimizer.domain.solution.solver.MacroSolutionSolver.solve(MacroSolutionSolver.java:38)\r\n        at com.macro_optimizer.PlannerApp.main(PlannerApp.java:27)\r\nCaused by: java.lang.IllegalStateException: The supply (ExternalizedSingletonInverseVariableSupply(previousActivityOrActor)) is corrupted, because the entity (com.macro_optimizer.domain.activity.Deploy@418aaae1) for sourceVariable (previousActivityOrActor) cannot be inserted: another entity (com.macro_optimizer.domain.activity.Deploy@63aaede0) already has that value (com.macro_optimizer.domain.activity.Deploy@3585120c).\r\n        at org.optaplanner.core.impl.domain.variable.inverserelation.ExternalizedSingletonInverseVariableSupply.insert(ExternalizedSingletonInverseVariableSupply.java:83)\r\n        at org.optaplanner.core.impl.domain.variable.inverserelation.ExternalizedSingletonInverseVariableSupply.afterVariableChanged(ExternalizedSingletonInverseVariableSupply.java:61)\r\n        at org.optaplanner.core.impl.domain.variable.listener.support.VariableChangedNotification.triggerAfter(VariableChangedNotification.java:20)\r\n        at org.optaplanner.core.impl.domain.variable.listener.support.VariableChangedNotification.triggerAfter(VariableChangedNotification.java:6)\r\n        at org.optaplanner.core.impl.domain.variable.listener.support.AbstractNotifiable.triggerAllNotifications(AbstractNotifiable.java:84)\r\n        at org.optaplanner.core.impl.domain.variable.listener.support.VariableListenerSupport.triggerVariableListenersInNotificationQueues(VariableListenerSupport.java:180)\r\n        at org.optaplanner.core.impl.score.director.AbstractScoreDirector.triggerVariableListeners(AbstractScoreDirector.java:261)\r\n        at org.optaplanner.core.impl.heuristic.move.AbstractMove.doMoveOnly(AbstractMove.java:27)\r\n        at org.optaplanner.core.impl.heuristic.move.AbstractMove.doMove(AbstractMove.java:20)\r\n        at org.optaplanner.core.impl.heuristic.move.AbstractMove.doMove(AbstractMove.java:15)\r\n        at org.optaplanner.core.impl.score.director.AbstractScoreDirector.doAndProcessMove(AbstractScoreDirector.java:195)\r\n        at org.optaplanner.core.impl.heuristic.thread.MoveThreadRunner.run(MoveThreadRunner.java:131)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\n\r\nIs there any advice on this error?\r\nIs there a better way to model the domain to limit the number of planning entities?\r\n\r\nLet me know if you&#39;d like to see any code snippets and I&#39;ll get them cleaned up and posted. Thank you for your help!\r\n\r\nEdit 2022-08-24:\r\nI shifted all planning variables off the abstract activity class and onto the activities themselves. I then attempted to optimize a scenario with a single activity type to limit the number of planning entities to 1. This produces the same error as above.\r\n\r\n  [1]: https://docs.optaplanner.org/latestFinal/optaplanner-docs/html_single/index.html#taskAssigning","title":"Optaplanner: The supply is corrupted, because the entity for sourceVariable cannot be inserted: another entity already has that value","body":"<p>I am trying to solve a variation of Optaplanner's Task Assigning example, <a href=\"https://docs.optaplanner.org/latestFinal/optaplanner-docs/html_single/index.html#taskAssigning\" rel=\"nofollow noreferrer\">here</a>, but I am running into an error that I suspect is due to the domain modifications.</p>\n<p>The domain varies from the example because there are many different task types, each with a unique set of planning variables. As a result, I have modeled these tasks as multiple planning entities, each extending from an abstract class &quot;Activity&quot; which in turn extends ActivityOrActor as the root class.</p>\n<p>Once the solution has been constructed (internal construction method), I am met with the following error:</p>\n<pre><code>INFO  [15:37:33] DefaultSolver |  Solving started: time spent (98), best score (0hard/0soft), environment mode (FULL_ASSERT), move thread count (4), random (JDK with seed 1).\nINFO  [15:37:33] DefaultConstructionHeuristicPhase |  Construction Heuristic phase (0) ended: time spent (130), best score (0hard/0soft), score calculation speed (200/sec), step total (0).\nINFO  [15:37:33] DefaultConstructionHeuristicPhase |  Construction Heuristic phase (1) ended: time spent (152), best score (0hard/0soft), score calculation speed (294/sec), step total (0).\n Exception in thread &quot;main&quot; java.lang.IllegalStateException: The move thread with moveThreadIndex (0) has thrown an exception. Relayed here in the parent thread.\n        at org.optaplanner.core.impl.heuristic.thread.OrderByMoveIndexBlockingQueue.take(OrderByMoveIndexBlockingQueue.java:131)\n        at org.optaplanner.core.impl.localsearch.decider.MultiThreadedLocalSearchDecider.forageResult(MultiThreadedLocalSearchDecider.java:185)\n        at org.optaplanner.core.impl.localsearch.decider.MultiThreadedLocalSearchDecider.decideNextStep(MultiThreadedLocalSearchDecider.java:150)\n        at org.optaplanner.core.impl.localsearch.DefaultLocalSearchPhase.solve(DefaultLocalSearchPhase.java:72)\n        at org.optaplanner.core.impl.solver.AbstractSolver.runPhases(AbstractSolver.java:83)\n        at org.optaplanner.core.impl.solver.DefaultSolver.solve(DefaultSolver.java:193)\n        at com.macro_optimizer.domain.solution.solver.MacroSolutionSolver.solve(MacroSolutionSolver.java:38)\n        at com.macro_optimizer.PlannerApp.main(PlannerApp.java:27)\nCaused by: java.lang.IllegalStateException: The supply (ExternalizedSingletonInverseVariableSupply(previousActivityOrActor)) is corrupted, because the entity (com.macro_optimizer.domain.activity.Deploy@418aaae1) for sourceVariable (previousActivityOrActor) cannot be inserted: another entity (com.macro_optimizer.domain.activity.Deploy@63aaede0) already has that value (com.macro_optimizer.domain.activity.Deploy@3585120c).\n        at org.optaplanner.core.impl.domain.variable.inverserelation.ExternalizedSingletonInverseVariableSupply.insert(ExternalizedSingletonInverseVariableSupply.java:83)\n        at org.optaplanner.core.impl.domain.variable.inverserelation.ExternalizedSingletonInverseVariableSupply.afterVariableChanged(ExternalizedSingletonInverseVariableSupply.java:61)\n        at org.optaplanner.core.impl.domain.variable.listener.support.VariableChangedNotification.triggerAfter(VariableChangedNotification.java:20)\n        at org.optaplanner.core.impl.domain.variable.listener.support.VariableChangedNotification.triggerAfter(VariableChangedNotification.java:6)\n        at org.optaplanner.core.impl.domain.variable.listener.support.AbstractNotifiable.triggerAllNotifications(AbstractNotifiable.java:84)\n        at org.optaplanner.core.impl.domain.variable.listener.support.VariableListenerSupport.triggerVariableListenersInNotificationQueues(VariableListenerSupport.java:180)\n        at org.optaplanner.core.impl.score.director.AbstractScoreDirector.triggerVariableListeners(AbstractScoreDirector.java:261)\n        at org.optaplanner.core.impl.heuristic.move.AbstractMove.doMoveOnly(AbstractMove.java:27)\n        at org.optaplanner.core.impl.heuristic.move.AbstractMove.doMove(AbstractMove.java:20)\n        at org.optaplanner.core.impl.heuristic.move.AbstractMove.doMove(AbstractMove.java:15)\n        at org.optaplanner.core.impl.score.director.AbstractScoreDirector.doAndProcessMove(AbstractScoreDirector.java:195)\n        at org.optaplanner.core.impl.heuristic.thread.MoveThreadRunner.run(MoveThreadRunner.java:131)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>Is there any advice on this error?\nIs there a better way to model the domain to limit the number of planning entities?</p>\n<p>Let me know if you'd like to see any code snippets and I'll get them cleaned up and posted. Thank you for your help!</p>\n<p>Edit 2022-08-24:\nI shifted all planning variables off the abstract activity class and onto the activities themselves. I then attempted to optimize a scenario with a single activity type to limit the number of planning entities to 1. This produces the same error as above.</p>\n"},{"tags":["java","digits"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1661774368,"post_id":73528412,"comment_id":129844012,"body_markdown":"This is a bit tricky. I think, because you&#39;re using the ternary operator, both clauses of your statement are being treated as `int` there is a dup for this lying around that will be more clear.","body":"This is a bit tricky. I think, because you&#39;re using the ternary operator, both clauses of your statement are being treated as <code>int</code> there is a dup for this lying around that will be more clear."},{"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"score":0,"creation_date":1661774638,"post_id":73528412,"comment_id":129844106,"body_markdown":"[Also](https://stackoverflow.com/questions/66615473/char-conversion-in-ternary-operator-in-java-prints-int-value-instead-of-char-va) related.","body":"<a href=\"https://stackoverflow.com/questions/66615473/char-conversion-in-ternary-operator-in-java-prints-int-value-instead-of-char-va\">Also</a> related."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661774826,"post_id":73528412,"comment_id":129844165,"body_markdown":"*digitSB.append(Character.getNumericValue(chr));* In what way would it be useful to append a binary 1 (or other number) to a ```String``` /```StringBuilder``` ?","body":"<i>digitSB.append(Character.getNumericValue(chr));</i> In what way would it be useful to append a binary 1 (or other number) to a <code>String</code> /<code>StringBuilder</code> ?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":2,"creation_date":1661775030,"post_id":73528412,"comment_id":129844245,"body_markdown":"@g00se It converts it to a string. `StringBuilder` has a method specifically for adding Integers. Why is it crazy for somebody to use it?","body":"@g00se It converts it to a string. <code>StringBuilder</code> has a method specifically for adding Integers. Why is it crazy for somebody to use it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661775206,"post_id":73528412,"comment_id":129844289,"body_markdown":"@matt Thank you. I don&#39;t know how I managed to miss the existence of that method in all these years ;)","body":"@matt Thank you. I don&#39;t know how I managed to miss the existence of that method in all these years ;)"},{"owner":{"account_id":3129364,"reputation":11,"user_id":2647556,"display_name":"rbh135"},"score":0,"creation_date":1661775211,"post_id":73528412,"comment_id":129844291,"body_markdown":"@matt you have the right answer. They&#39;re treated as int as you said.","body":"@matt you have the right answer. They&#39;re treated as int as you said."}],"answers":[{"tags":[],"owner":{"account_id":268201,"reputation":419,"user_id":1573368,"display_name":"Sheel Prabhakar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661774844,"creation_date":1661774844,"answer_id":73528566,"question_id":73528412,"body_markdown":"Return type treated as int in case of ternary operator. Use like this \r\n```\r\nCharacter.isDigit(chr) ? chr : &quot;&quot;+ Character.getNumericValue(chr);\r\n\r\n```\r\n\r\nor\r\n\r\n```\r\nCharacter.isDigit(chr) ? &quot;&quot;+chr :  Character.getNumericValue(chr);\r\n\r\n```","title":"Character.isDigit is returning different results in conditional operator","body":"<p>Return type treated as int in case of ternary operator. Use like this</p>\n<pre><code>Character.isDigit(chr) ? chr : &quot;&quot;+ Character.getNumericValue(chr);\n\n</code></pre>\n<p>or</p>\n<pre><code>Character.isDigit(chr) ? &quot;&quot;+chr :  Character.getNumericValue(chr);\n\n</code></pre>\n"}],"owner":{"account_id":3129364,"reputation":11,"user_id":2647556,"display_name":"rbh135"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1661777312,"accepted_answer_id":73528566,"answer_count":1,"score":0,"last_activity_date":1661775868,"creation_date":1661774107,"question_id":73528412,"body_markdown":"Code 1 returns 1.\r\n\r\nCode 2 returns 49.\r\n\r\nShouldn&#39;t they return the same result?\r\n\r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n            String code = &quot;1&quot;;\r\n            StringBuilder digitSB = new StringBuilder();\r\n            for(int i = 0; i &lt; code.length(); i++){\r\n                char chr = code.charAt(i);\r\n                //Code 1\r\n                if(Character.isDigit(chr)){\r\n                    digitSB.append(chr);\r\n                }\r\n                else{\r\n                    digitSB.append(Character.getNumericValue(chr));\r\n                }\r\n                System.out.println(&quot;Code 1 result: &quot; + digitSB);\r\n                //Code 2\r\n                digitSB = new StringBuilder();\r\n                digitSB.append(Character.isDigit(chr) ? chr : Character.getNumericValue(chr));\r\n                System.out.println(&quot;Code 2 result: &quot; + digitSB);\r\n            }\r\n        }\r\n    }\r\n\r\nNote that 49 is the ASCII code of 1.\r\n\r\n\r\n**Edit:** It&#39;s as @matt said in the comments. When you use the ternary operator, both sides of the &quot;:&quot; are considered the same type. Since getNumericValue assumes it&#39;s an int, both sides are an int. The condition is true, so it takes the left side, which is chr, but considers it an int.","title":"Character.isDigit is returning different results in conditional operator","body":"<p>Code 1 returns 1.</p>\n<p>Code 2 returns 49.</p>\n<p>Shouldn't they return the same result?</p>\n<pre><code>public class MyClass {\n    public static void main(String args[]) {\n        String code = &quot;1&quot;;\n        StringBuilder digitSB = new StringBuilder();\n        for(int i = 0; i &lt; code.length(); i++){\n            char chr = code.charAt(i);\n            //Code 1\n            if(Character.isDigit(chr)){\n                digitSB.append(chr);\n            }\n            else{\n                digitSB.append(Character.getNumericValue(chr));\n            }\n            System.out.println(&quot;Code 1 result: &quot; + digitSB);\n            //Code 2\n            digitSB = new StringBuilder();\n            digitSB.append(Character.isDigit(chr) ? chr : Character.getNumericValue(chr));\n            System.out.println(&quot;Code 2 result: &quot; + digitSB);\n        }\n    }\n}\n</code></pre>\n<p>Note that 49 is the ASCII code of 1.</p>\n<p><strong>Edit:</strong> It's as @matt said in the comments. When you use the ternary operator, both sides of the &quot;:&quot; are considered the same type. Since getNumericValue assumes it's an int, both sides are an int. The condition is true, so it takes the left side, which is chr, but considers it an int.</p>\n"},{"tags":["java","selenium","image-comparison"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1661237113,"post_id":73451720,"comment_id":129716893,"body_markdown":"Hard to tell without seeing the page and knowing the `visibleImage` value. Make sure you have the right locator of the image not some parrent div. Check if there is some loading element you have to wait until it is gone. Try some different `ExpectedConditions` as well.","body":"Hard to tell without seeing the page and knowing the <code>visibleImage</code> value. Make sure you have the right locator of the image not some parrent div. Check if there is some loading element you have to wait until it is gone. Try some different <code>ExpectedConditions</code> as well."},{"owner":{"account_id":20516225,"reputation":21,"user_id":15056808,"display_name":"Alex"},"score":1,"creation_date":1661265153,"post_id":73451720,"comment_id":129727854,"body_markdown":"The webpage is https://www.saucedemo.com/ . It is one of those practice pages on the web. \n\nI tried implicit wait and fluent wait too. So each time I took screen shot, I get the pictures half loaded or not at all. \n\nPictures are also clickable or selectable. So tried them as expected condition too.\n\nIt looks like they become clickable or/and selectable before pictures become all visible.\n\nYou can see my project on https://github.com/abnerAlexis/SauceDemoProject","body":"The webpage is <a href=\"https://www.saucedemo.com/\" rel=\"nofollow noreferrer\">saucedemo.com</a> . It is one of those practice pages on the web.   I tried implicit wait and fluent wait too. So each time I took screen shot, I get the pictures half loaded or not at all.   Pictures are also clickable or selectable. So tried them as expected condition too.  It looks like they become clickable or/and selectable before pictures become all visible.  You can see my project on <a href=\"https://github.com/abnerAlexis/SauceDemoProject\" rel=\"nofollow noreferrer\">github.com/abnerAlexis/SauceDemoProject</a>"}],"answers":[{"tags":[],"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661775394,"creation_date":1661775394,"answer_id":73528660,"question_id":73451720,"body_markdown":"I&#39;ve managed to create a wait method, but it fails on fifth image.\r\nPerforming the render check take some time and I&#39;m unable to simulate slow rendering.\r\n\r\n**Code:**\r\n\r\n    package tests;\r\n    \r\n    import java.awt.Graphics2D;\r\n    import java.awt.Image;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    import java.util.List;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.function.Function;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    \r\n    import org.apache.commons.io.FileUtils;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.Point;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    \r\n    public class Saucedemo {\r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tWebDriver driver = startChromeDriver();\r\n    \t\tdriver.get(&quot;https://www.saucedemo.com/&quot;);\r\n    \t\t\r\n    \t\tlogIn(driver, &quot;standard_user&quot;);\r\n    \t\tList&lt;WebElement&gt; inventoryContainerImages = inventoryContainerImages(driver);\r\n    \t\twaitForRenderingImages(driver, inventoryContainerImages, 4);\r\n    \t\tsaveScreenShotAs(driver, &quot;standard_user&quot;);\r\n    \t\tlogOut(driver);\r\n    \t\t\r\n    \t\tlogIn(driver, &quot;problem_user&quot;);\r\n    \t\tinventoryContainerImages = inventoryContainerImages(driver);\r\n    \t\twaitForRenderingImages(driver, inventoryContainerImages, 4);\r\n    \t\tsaveScreenShotAs(driver, &quot;problem_user&quot;);\r\n    \t\tlogOut(driver);\r\n    \t\t\r\n    \t\tdriver.quit();\r\n    \t}\t\r\n    \r\n    \tpublic static WebDriver startChromeDriver() {\r\n    \t\tString chromedriverPath = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\resources\\\\chromedriver.exe&quot;;\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, chromedriverPath);\r\n    \t\tChromeOptions options = new ChromeOptions();\r\n    \t\toptions.addArguments(&quot;--ignore-certificate-errors&quot;);\r\n    \t\toptions.addArguments(&quot;--start-maximized&quot;);\r\n    \t\toptions.addArguments(&quot;--disable-notifications&quot;);\r\n    \t\tWebDriver driver = new ChromeDriver(options);\r\n    \t\tdriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n    \t\treturn driver;\r\n    \t}\r\n    \t\r\n    \tpublic static void logIn(WebDriver driver, String userName) {\r\n    \t\tSystem.out.println(&quot;Login as user: &quot; + userName);\r\n    \t\tdriver.findElement(By.id(&quot;user-name&quot;)).sendKeys(userName);\r\n    \t\tdriver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;secret_sauce&quot;);\r\n    \t\tdriver.findElement(By.id(&quot;login-button&quot;)).click();\r\n    \t}\r\n    \t\r\n    \tpublic static void saveScreenShotAs(WebDriver driver, String fileName) {\r\n    \t    TakesScreenshot screenshot = (TakesScreenshot) driver;\r\n    \t    File file = screenshot.getScreenshotAs(OutputType.FILE);\r\n    \t    File path = new File(fileName + &quot;.png&quot;);\r\n            try {\r\n    \t\t\tFileUtils.copyFile(file, path);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void logOut(WebDriver driver) {\r\n    \t\tSystem.out.println(&quot;Logout&quot;);\r\n    \t\tdriver.findElement(By.id(&quot;react-burger-menu-btn&quot;)).click();\r\n    \t\tdriver.findElement(By.id(&quot;logout_sidebar_link&quot;)).click();\r\n    \t}\r\n    \t\r\n    \tpublic static BufferedImage getBufferedImageOfElement(WebDriver driver, WebElement element) {\r\n    \t\tBufferedImage elementImage = null;\r\n    \t\tBufferedImage fullImage = null;\t    \r\n    \t\tTakesScreenshot screenshot = (TakesScreenshot) driver;\r\n    \t    File file = screenshot.getScreenshotAs(OutputType.FILE);\r\n    \t    try {\r\n    \t    \tfullImage = ImageIO.read(file);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t    Point point = element.getLocation();\r\n    \t    int width = element.getSize().getWidth();\r\n    \t    int height = element.getSize().getHeight();\r\n    \t    elementImage = fullImage.getSubimage(point.getX(), point.getY(), width, height);\r\n    \t    return elementImage;\r\n    \t}\r\n    \t\r\n    \tpublic static BufferedImage getBufferedImageFromUrl(String imgSrc) {\r\n    \t\tBufferedImage image = null;\r\n    \t\tHttpURLConnection connection = null;\r\n    \t\ttry {\r\n    \t\t    connection = (HttpURLConnection) new URL(imgSrc).openConnection();\r\n    \t\t    connection.connect();\r\n    \t\t    image = ImageIO.read(connection.getInputStream());\r\n    \t\t    connection.disconnect();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn image;\r\n    \t}\r\n    \t\r\n    \tpublic static Boolean imagesAreEqual(BufferedImage source, BufferedImage target) {\r\n    \t\tBoolean samePixelColors = true;\r\n    \t\tint sourceWidth = source.getWidth();\r\n    \t\tint sourceHeight = source.getHeight();\r\n    \t\tBufferedImage resizedTarget = resizeBufferedImage(source, sourceWidth, sourceHeight);\r\n    \t\tfor (int x = 0; x &lt; sourceWidth; x++) {\r\n    \t\t\tfor (int y = 0; y &lt; sourceHeight; y++) {\r\n    \t\t\t\tint sourceRgb = source.getRGB(x, y);\r\n    \t\t\t\tint resizedTargetRgb = resizedTarget.getRGB(x, y);\r\n    \t\t\t\tif (sourceRgb != resizedTargetRgb) {\r\n    \t\t\t\t\tsamePixelColors = false;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (samePixelColors) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static Boolean elementsImageEqualSrcImage(WebDriver driver, WebElement element) {\r\n    \t\tBufferedImage imageOfElement = getBufferedImageOfElement(driver, element);\r\n    \t\tString src = element.getAttribute(&quot;src&quot;);\r\n    \t\tBufferedImage imageFromUrl = getBufferedImageFromUrl(src);\r\n    \t\treturn imagesAreEqual(imageFromUrl, imageOfElement);\r\n    \t}\r\n    \t\r\n    \tpublic static void waitForRenderingImages(WebDriver driver, List&lt;WebElement&gt; images, int maxImages) {\r\n    \t\tint maxIndex = maxImages - 1;\r\n    \t\tif (maxIndex &lt;= images.size()) {\r\n    \t\t\tWebDriverWait wait10s = new WebDriverWait(driver, 10);\r\n    \t\t\tfor (int i = 0; i &lt;= maxIndex; i++) {\r\n    \t\t\t\tWebElement image = images.get(i);\r\n    \t\t\t\tif (!elementsImageEqualSrcImage(driver, image)) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Image &quot; + (i + 1) + &quot; of &quot; + images.size() + &quot; not equal with its URL source, waiting 100 ms.&quot;);\r\n    \t\t\t\t\twait10s.until(new Function&lt;WebDriver, Boolean&gt; () {\r\n    \t\t\t\t\t\tpublic Boolean apply(WebDriver driver) {\r\n    \t\t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\t\tThread.sleep(100);\r\n    \t\t\t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\treturn elementsImageEqualSrcImage(driver, image);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t});\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tSystem.out.println(&quot;Image &quot; + (i + 1) + &quot; of &quot; + images.size() + &quot; equal with its URL source, no waiting.&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tSystem.out.println(&quot;Error - argument maxImames is greater than images.size()&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static List&lt;WebElement&gt; inventoryContainerImages(WebDriver driver) {\r\n    \t\tWebElement inventoryContainer = driver.findElement(By.id(&quot;inventory_container&quot;));\r\n    \t\treturn inventoryContainer.findElements(By.tagName(&quot;img&quot;));\r\n    \t}\r\n    \t\r\n    \tpublic static BufferedImage resizeBufferedImage(BufferedImage sourceImage, int width, int height) { \r\n    \t    Image image = sourceImage.getScaledInstance(width, height, Image.SCALE_SMOOTH);\r\n    \t    BufferedImage resizedImage = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n    \t    Graphics2D g2d = resizedImage.createGraphics();\r\n    \t    g2d.drawImage(image, 0, 0, null);\r\n    \t    g2d.dispose();\r\n    \t    return resizedImage;\r\n    \t} \r\n    \t\r\n    }\r\n\r\n**Output:**\r\n\r\n    Starting ChromeDriver 104.0.5112.79 (3cf3e8c8a07d104b9e1260c910efb8f383285dc5-refs/branch-heads/5112@{#1307}) on port 22424\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    Srp 29, 2022 2:12:39 ODP. org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected dialect: W3C\r\n    Login as user: standard_user\r\n    Image 1 of 6 equal with its URL source, no waiting.\r\n    Image 2 of 6 equal with its URL source, no waiting.\r\n    Image 3 of 6 equal with its URL source, no waiting.\r\n    Image 4 of 6 equal with its URL source, no waiting.\r\n    Logout\r\n    Login as user: problem_user\r\n    Image 1 of 6 equal with its URL source, no waiting.\r\n    Image 2 of 6 equal with its URL source, no waiting.\r\n    Image 3 of 6 equal with its URL source, no waiting.\r\n    Image 4 of 6 equal with its URL source, no waiting.\r\n    Logout\r\n\r\n","title":"Selenium Java image comparison","body":"<p>I've managed to create a wait method, but it fails on fifth image.\nPerforming the render check take some time and I'm unable to simulate slow rendering.</p>\n<p><strong>Code:</strong></p>\n<pre><code>package tests;\n\nimport java.awt.Graphics2D;\nimport java.awt.Image;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.List;\nimport java.util.concurrent.TimeUnit;\nimport java.util.function.Function;\n\nimport javax.imageio.ImageIO;\n\nimport org.apache.commons.io.FileUtils;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.Point;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\npublic class Saucedemo {\n\n    \n    public static void main(String[] args) {\n        WebDriver driver = startChromeDriver();\n        driver.get(&quot;https://www.saucedemo.com/&quot;);\n        \n        logIn(driver, &quot;standard_user&quot;);\n        List&lt;WebElement&gt; inventoryContainerImages = inventoryContainerImages(driver);\n        waitForRenderingImages(driver, inventoryContainerImages, 4);\n        saveScreenShotAs(driver, &quot;standard_user&quot;);\n        logOut(driver);\n        \n        logIn(driver, &quot;problem_user&quot;);\n        inventoryContainerImages = inventoryContainerImages(driver);\n        waitForRenderingImages(driver, inventoryContainerImages, 4);\n        saveScreenShotAs(driver, &quot;problem_user&quot;);\n        logOut(driver);\n        \n        driver.quit();\n    }   \n\n    public static WebDriver startChromeDriver() {\n        String chromedriverPath = System.getProperty(&quot;user.dir&quot;) + &quot;\\\\resources\\\\chromedriver.exe&quot;;\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, chromedriverPath);\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--ignore-certificate-errors&quot;);\n        options.addArguments(&quot;--start-maximized&quot;);\n        options.addArguments(&quot;--disable-notifications&quot;);\n        WebDriver driver = new ChromeDriver(options);\n        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n        return driver;\n    }\n    \n    public static void logIn(WebDriver driver, String userName) {\n        System.out.println(&quot;Login as user: &quot; + userName);\n        driver.findElement(By.id(&quot;user-name&quot;)).sendKeys(userName);\n        driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;secret_sauce&quot;);\n        driver.findElement(By.id(&quot;login-button&quot;)).click();\n    }\n    \n    public static void saveScreenShotAs(WebDriver driver, String fileName) {\n        TakesScreenshot screenshot = (TakesScreenshot) driver;\n        File file = screenshot.getScreenshotAs(OutputType.FILE);\n        File path = new File(fileName + &quot;.png&quot;);\n        try {\n            FileUtils.copyFile(file, path);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void logOut(WebDriver driver) {\n        System.out.println(&quot;Logout&quot;);\n        driver.findElement(By.id(&quot;react-burger-menu-btn&quot;)).click();\n        driver.findElement(By.id(&quot;logout_sidebar_link&quot;)).click();\n    }\n    \n    public static BufferedImage getBufferedImageOfElement(WebDriver driver, WebElement element) {\n        BufferedImage elementImage = null;\n        BufferedImage fullImage = null;     \n        TakesScreenshot screenshot = (TakesScreenshot) driver;\n        File file = screenshot.getScreenshotAs(OutputType.FILE);\n        try {\n            fullImage = ImageIO.read(file);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        Point point = element.getLocation();\n        int width = element.getSize().getWidth();\n        int height = element.getSize().getHeight();\n        elementImage = fullImage.getSubimage(point.getX(), point.getY(), width, height);\n        return elementImage;\n    }\n    \n    public static BufferedImage getBufferedImageFromUrl(String imgSrc) {\n        BufferedImage image = null;\n        HttpURLConnection connection = null;\n        try {\n            connection = (HttpURLConnection) new URL(imgSrc).openConnection();\n            connection.connect();\n            image = ImageIO.read(connection.getInputStream());\n            connection.disconnect();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return image;\n    }\n    \n    public static Boolean imagesAreEqual(BufferedImage source, BufferedImage target) {\n        Boolean samePixelColors = true;\n        int sourceWidth = source.getWidth();\n        int sourceHeight = source.getHeight();\n        BufferedImage resizedTarget = resizeBufferedImage(source, sourceWidth, sourceHeight);\n        for (int x = 0; x &lt; sourceWidth; x++) {\n            for (int y = 0; y &lt; sourceHeight; y++) {\n                int sourceRgb = source.getRGB(x, y);\n                int resizedTargetRgb = resizedTarget.getRGB(x, y);\n                if (sourceRgb != resizedTargetRgb) {\n                    samePixelColors = false;\n                    break;\n                }\n            }\n        }\n        if (samePixelColors) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    \n    public static Boolean elementsImageEqualSrcImage(WebDriver driver, WebElement element) {\n        BufferedImage imageOfElement = getBufferedImageOfElement(driver, element);\n        String src = element.getAttribute(&quot;src&quot;);\n        BufferedImage imageFromUrl = getBufferedImageFromUrl(src);\n        return imagesAreEqual(imageFromUrl, imageOfElement);\n    }\n    \n    public static void waitForRenderingImages(WebDriver driver, List&lt;WebElement&gt; images, int maxImages) {\n        int maxIndex = maxImages - 1;\n        if (maxIndex &lt;= images.size()) {\n            WebDriverWait wait10s = new WebDriverWait(driver, 10);\n            for (int i = 0; i &lt;= maxIndex; i++) {\n                WebElement image = images.get(i);\n                if (!elementsImageEqualSrcImage(driver, image)) {\n                    System.out.println(&quot;Image &quot; + (i + 1) + &quot; of &quot; + images.size() + &quot; not equal with its URL source, waiting 100 ms.&quot;);\n                    wait10s.until(new Function&lt;WebDriver, Boolean&gt; () {\n                        public Boolean apply(WebDriver driver) {\n                            try {\n                                Thread.sleep(100);\n                            } catch (InterruptedException e) {\n                                \n                            }\n                            return elementsImageEqualSrcImage(driver, image);\n                        }\n                    });\n                }\n                else {\n                    System.out.println(&quot;Image &quot; + (i + 1) + &quot; of &quot; + images.size() + &quot; equal with its URL source, no waiting.&quot;);\n                }\n            }\n        }\n        else {\n            System.out.println(&quot;Error - argument maxImames is greater than images.size()&quot;);\n        }\n    }\n    \n    public static List&lt;WebElement&gt; inventoryContainerImages(WebDriver driver) {\n        WebElement inventoryContainer = driver.findElement(By.id(&quot;inventory_container&quot;));\n        return inventoryContainer.findElements(By.tagName(&quot;img&quot;));\n    }\n    \n    public static BufferedImage resizeBufferedImage(BufferedImage sourceImage, int width, int height) { \n        Image image = sourceImage.getScaledInstance(width, height, Image.SCALE_SMOOTH);\n        BufferedImage resizedImage = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n        Graphics2D g2d = resizedImage.createGraphics();\n        g2d.drawImage(image, 0, 0, null);\n        g2d.dispose();\n        return resizedImage;\n    } \n    \n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Starting ChromeDriver 104.0.5112.79 (3cf3e8c8a07d104b9e1260c910efb8f383285dc5-refs/branch-heads/5112@{#1307}) on port 22424\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nSrp 29, 2022 2:12:39 ODP. org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\nLogin as user: standard_user\nImage 1 of 6 equal with its URL source, no waiting.\nImage 2 of 6 equal with its URL source, no waiting.\nImage 3 of 6 equal with its URL source, no waiting.\nImage 4 of 6 equal with its URL source, no waiting.\nLogout\nLogin as user: problem_user\nImage 1 of 6 equal with its URL source, no waiting.\nImage 2 of 6 equal with its URL source, no waiting.\nImage 3 of 6 equal with its URL source, no waiting.\nImage 4 of 6 equal with its URL source, no waiting.\nLogout\n</code></pre>\n"}],"owner":{"account_id":20516225,"reputation":21,"user_id":15056808,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661775394,"creation_date":1661208558,"question_id":73451720,"body_markdown":"I am trying to compare two screen shots on a webpage. It is a practice page on saucelab. When you login as a standart_user and click the login button, it takes you to the products page. Then you see the pictures of products. (Backpacks, t-shirts etc.)\r\n\r\nWhen you login as a problem_user, you see puppy pictures instead of products&#39; picture. I want to screen shot the both pages and compare them. I took the shots by using WebdriverWait. \r\n\r\nBut the shots are taken before the pictures were loaded fully. What should I use to wait until the pictures on products page are fully loaded?\r\n\r\nBelow is my code.\r\n\r\n    public void waitElementVisibility(By visibleImage) {\r\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(40));\r\n        wait.until(ExpectedConditions.visibilityOfElementLocated(visibleImage));\r\n    }\r\n\r\n    public void captureSuccesfulPageScreenShot() {\r\n        waitElementVisibility(visibleImage);\r\n        TakesScreenshot screenshot = (TakesScreenshot) driver;\r\n        File file = screenshot.getScreenshotAs(OutputType.FILE);\r\n        File path = new File(&quot;images/screenshot.png&quot;);\r\n        try {\r\n            FileUtils.copyFile(file, path);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public void captureProblemUserScreenShot() {\r\n        waitElementVisibility(visibleImage);\r\n        TakesScreenshot screenshot = (TakesScreenshot) driver;\r\n        File file = screenshot.getScreenshotAs(OutputType.FILE);\r\n        File path = new File(&quot;images/problemUserScrSh.png&quot;);\r\n        try {\r\n            FileUtils.copyFile(file, path);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }","title":"Selenium Java image comparison","body":"<p>I am trying to compare two screen shots on a webpage. It is a practice page on saucelab. When you login as a standart_user and click the login button, it takes you to the products page. Then you see the pictures of products. (Backpacks, t-shirts etc.)</p>\n<p>When you login as a problem_user, you see puppy pictures instead of products' picture. I want to screen shot the both pages and compare them. I took the shots by using WebdriverWait.</p>\n<p>But the shots are taken before the pictures were loaded fully. What should I use to wait until the pictures on products page are fully loaded?</p>\n<p>Below is my code.</p>\n<pre><code>public void waitElementVisibility(By visibleImage) {\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(40));\n    wait.until(ExpectedConditions.visibilityOfElementLocated(visibleImage));\n}\n\npublic void captureSuccesfulPageScreenShot() {\n    waitElementVisibility(visibleImage);\n    TakesScreenshot screenshot = (TakesScreenshot) driver;\n    File file = screenshot.getScreenshotAs(OutputType.FILE);\n    File path = new File(&quot;images/screenshot.png&quot;);\n    try {\n        FileUtils.copyFile(file, path);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n\npublic void captureProblemUserScreenShot() {\n    waitElementVisibility(visibleImage);\n    TakesScreenshot screenshot = (TakesScreenshot) driver;\n    File file = screenshot.getScreenshotAs(OutputType.FILE);\n    File path = new File(&quot;images/problemUserScrSh.png&quot;);\n    try {\n        FileUtils.copyFile(file, path);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-softkeyboard"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1661762265,"post_id":73525934,"comment_id":129840135,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":16572489,"reputation":85,"user_id":11975204,"display_name":"Rahul Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661775317,"creation_date":1661775317,"answer_id":73528653,"question_id":73525934,"body_markdown":"You will have to add the permission in the manifest.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_USER_DICTIONARY&quot;/&gt;\r\n\r\nThen you will have to add the words, here locale is the main key. Locale can be selected as hindi, if you want to save the word in hindi.\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN) {\r\n      UserDictionary.Words.addWord(this, &quot;MadeUpWord&quot;, 10, &quot;Mad&quot;, \r\n      Locale.getDefault());\r\n    }else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.CUPCAKE) {\r\n      UserDictionary.Words.addWord(this, &quot;MadeUpWord&quot;, 10, \r\n      UserDictionary.Words.LOCALE_TYPE_CURRENT);\r\n     }","title":"Where do i store and add Hindi/Devanagari Suggestions in Android Custom Keyboard","body":"<p>You will have to add the permission in the manifest.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_USER_DICTIONARY&quot;/&gt;\n</code></pre>\n<p>Then you will have to add the words, here locale is the main key. Locale can be selected as hindi, if you want to save the word in hindi.</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.JELLY_BEAN) {\n  UserDictionary.Words.addWord(this, &quot;MadeUpWord&quot;, 10, &quot;Mad&quot;, \n  Locale.getDefault());\n}else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.CUPCAKE) {\n  UserDictionary.Words.addWord(this, &quot;MadeUpWord&quot;, 10, \n  UserDictionary.Words.LOCALE_TYPE_CURRENT);\n }\n</code></pre>\n"}],"owner":{"account_id":24173177,"reputation":1,"user_id":18134961,"display_name":"SUDEM S DAIMARI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661775317,"creation_date":1661761048,"question_id":73525934,"body_markdown":"&gt;As i have mentioned above  in the Title. \r\n&gt;I have created the Layout and design but iam confused where to store and how to implement the sugesstions part in Hindi language in my custom keyboard\r\n&gt;any help and helpful materials i would appreciate.","title":"Where do i store and add Hindi/Devanagari Suggestions in Android Custom Keyboard","body":"<blockquote>\n<p>As i have mentioned above  in the Title.\nI have created the Layout and design but iam confused where to store and how to implement the sugesstions part in Hindi language in my custom keyboard\nany help and helpful materials i would appreciate.</p>\n</blockquote>\n"},{"tags":["java","api","google-ad-manager"],"comments":[{"owner":{"account_id":24437311,"reputation":11,"user_id":18361426,"display_name":"Lakshmi_N"},"score":0,"creation_date":1661759187,"post_id":73332869,"comment_id":129839234,"body_markdown":"@rabsom Here we get the id of Custom trageting values. What I&#39;m looking for is a custom field , which appears in Admin-&gt;GlobalSettings-&gt;Custom Fields.","body":"@rabsom Here we get the id of Custom trageting values. What I&#39;m looking for is a custom field , which appears in Admin-&gt;GlobalSettings-&gt;Custom Fields."}],"answers":[{"tags":[],"owner":{"account_id":11526366,"reputation":807,"user_id":8446708,"display_name":"rabsom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661775313,"creation_date":1660913897,"answer_id":73417151,"question_id":73332869,"body_markdown":"You should be able to retrieve its id through the Google Ad Manager user interface : \r\n\r\n 1. log in\r\n 2. go to admin &gt; global settings &gt; custom fields\r\n 3. select an entry\r\n 4. get the id from the URL\r\n\r\nHere is a screenshot [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cGbKj.png","title":"How to find the CUSTOM_DIMENSION_KEY_ID in GAM API","body":"<p>You should be able to retrieve its id through the Google Ad Manager user interface :</p>\n<ol>\n<li>log in</li>\n<li>go to admin &gt; global settings &gt; custom fields</li>\n<li>select an entry</li>\n<li>get the id from the URL</li>\n</ol>\n<p>Here is a screenshot <a href=\"https://i.stack.imgur.com/cGbKj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cGbKj.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24437311,"reputation":11,"user_id":18361426,"display_name":"Lakshmi_N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661775313,"creation_date":1660300807,"question_id":73332869,"body_markdown":"I&#39;m trying to run a report with custom fields. For that I need to provide Custom field id and Custom dimension key id in the code. I got the custom field id by running the custom field service. But I&#39;m not sure how will I get the Custom dimension key id. \r\n\r\nBelow is the code snippet :\r\n\r\n    public class Report_CustomFields {\r\n    \r\n      private static class RunReportWithCustomFieldsParams extends CodeSampleParams {\r\n        @Parameter(\r\n            names = ArgumentNames.CUSTOM_FIELD_ID,\r\n            required = true,\r\n            description = &quot;The ID of the custom field to include in the report.&quot;)\r\n        private Long customFieldId;\r\n    \r\n        @Parameter(\r\n            names = ArgumentNames.CUSTOM_DIMENSION_KEY_ID,\r\n            required = true,\r\n            description = &quot;The ID of the custom key field to include as a Dimension in the report.&quot;)\r\n        private Long customDimensionKeyId;\r\n      }\r\n\r\nI have checked the documentation , I could find something like this . \r\n\r\n&gt; customDimensionKeyIds xsd:long[]\r\n&gt; \r\n&gt; The list of custom dimension custom targeting key IDs being requested\r\n&gt; in this report. This will include dimensions in the form of\r\n&gt; TOP_LEVEL_DIMENSION_KEY[id]_ID and TOP_LEVEL_DIMENSION_KEY[id]_VALUE\r\n&gt; where ID is the ID of the custom targeting value and VALUE is the\r\n&gt; name.\r\n&gt; \r\n&gt; To add IDs, you must include Dimension.CUSTOM_DIMENSION in dimensions,\r\n&gt; and specify a non-empty list of custom targeting key IDs. The order of\r\n&gt; cusotm dimension columns in the report correspond to the place of\r\n&gt; Dimension.CUSTOM_DIMENSION in dimensions. For example, if dimensions\r\n&gt; contains the following dimensions in the order:\r\n&gt; Dimension.ADVERTISER_NAME, Dimension.CUSTOM_DIMENSION and\r\n&gt; Dimension.COUNTRY_NAME, and customCriteriaCustomTargetingKeyIds\r\n&gt; contains the following IDs in the order: 1001 and 1002. The order of\r\n&gt; dimensions in the report will be: Dimension.ADVERTISER_NAME,\r\n&gt; Dimension.TOP_LEVEL_DIMENSION_KEY[1001]_VALUE,\r\n&gt; Dimension.TOP_LEVEL_DIMENSION_KEY[1002]_VALUE, Dimension.COUNTRY_NAME,\r\n&gt; Dimension.ADVERTISER_ID, Dimension.TOP_LEVEL_DIMENSION_KEY[1001]_ID,\r\n&gt; Dimension.TOP_LEVEL_DIMENSION_KEY[1002]_ID,\r\n&gt; Dimension.COUNTRY_CRITERIA_ID.\r\n\r\nBut I dont understand from where can I get the dimension key id , I could find only the field id so far. Can some one help please .\r\n\r\n","title":"How to find the CUSTOM_DIMENSION_KEY_ID in GAM API","body":"<p>I'm trying to run a report with custom fields. For that I need to provide Custom field id and Custom dimension key id in the code. I got the custom field id by running the custom field service. But I'm not sure how will I get the Custom dimension key id.</p>\n<p>Below is the code snippet :</p>\n<pre><code>public class Report_CustomFields {\n\n  private static class RunReportWithCustomFieldsParams extends CodeSampleParams {\n    @Parameter(\n        names = ArgumentNames.CUSTOM_FIELD_ID,\n        required = true,\n        description = &quot;The ID of the custom field to include in the report.&quot;)\n    private Long customFieldId;\n\n    @Parameter(\n        names = ArgumentNames.CUSTOM_DIMENSION_KEY_ID,\n        required = true,\n        description = &quot;The ID of the custom key field to include as a Dimension in the report.&quot;)\n    private Long customDimensionKeyId;\n  }\n</code></pre>\n<p>I have checked the documentation , I could find something like this .</p>\n<blockquote>\n<p>customDimensionKeyIds xsd:long[]</p>\n<p>The list of custom dimension custom targeting key IDs being requested\nin this report. This will include dimensions in the form of\nTOP_LEVEL_DIMENSION_KEY[id]_ID and TOP_LEVEL_DIMENSION_KEY[id]_VALUE\nwhere ID is the ID of the custom targeting value and VALUE is the\nname.</p>\n<p>To add IDs, you must include Dimension.CUSTOM_DIMENSION in dimensions,\nand specify a non-empty list of custom targeting key IDs. The order of\ncusotm dimension columns in the report correspond to the place of\nDimension.CUSTOM_DIMENSION in dimensions. For example, if dimensions\ncontains the following dimensions in the order:\nDimension.ADVERTISER_NAME, Dimension.CUSTOM_DIMENSION and\nDimension.COUNTRY_NAME, and customCriteriaCustomTargetingKeyIds\ncontains the following IDs in the order: 1001 and 1002. The order of\ndimensions in the report will be: Dimension.ADVERTISER_NAME,\nDimension.TOP_LEVEL_DIMENSION_KEY[1001]_VALUE,\nDimension.TOP_LEVEL_DIMENSION_KEY[1002]_VALUE, Dimension.COUNTRY_NAME,\nDimension.ADVERTISER_ID, Dimension.TOP_LEVEL_DIMENSION_KEY[1001]_ID,\nDimension.TOP_LEVEL_DIMENSION_KEY[1002]_ID,\nDimension.COUNTRY_CRITERIA_ID.</p>\n</blockquote>\n<p>But I dont understand from where can I get the dimension key id , I could find only the field id so far. Can some one help please .</p>\n"},{"tags":["java","integer","literals"],"comments":[{"owner":{"display_name":"user166390"},"score":2,"creation_date":1360032262,"post_id":14699067,"comment_id":20556550,"body_markdown":"**tldr; Because this is how the Java languages (per the JLS) defines it.** In C#, this exact same syntax, &quot;*automatically promotes*&quot; the type of the literal - why do they differ? Ask the people who designed each respective language: as such, this sort of &quot;*why*&quot; speculation is generally Not Constructive. It is what it is.","body":"<b>tldr; Because this is how the Java languages (per the JLS) defines it.</b> In C#, this exact same syntax, &quot;<i>automatically promotes</i>&quot; the type of the literal - why do they differ? Ask the people who designed each respective language: as such, this sort of &quot;<i>why</i>&quot; speculation is generally Not Constructive. It is what it is."},{"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"score":0,"creation_date":1360033055,"post_id":14699067,"comment_id":20556736,"body_markdown":"@pst - java, being an older language, probably thought that promoting int to long is an expensive operation, so it shouldn&#39;t be done unless programmer explicitly requests it. c#, being a newer language, probably didn&#39;t think it&#39;s a big deal. This kind of reasoning *is* constructive to programmers, who are also designers at various levels.","body":"@pst - java, being an older language, probably thought that promoting int to long is an expensive operation, so it shouldn&#39;t be done unless programmer explicitly requests it. c#, being a newer language, probably didn&#39;t think it&#39;s a big deal. This kind of reasoning <i>is</i> constructive to programmers, who are also designers at various levels."},{"owner":{"display_name":"user166390"},"score":4,"creation_date":1360033174,"post_id":14699067,"comment_id":20556761,"body_markdown":"@irreputable The promotion of a *literal integral* is a *compile time operation*. There is no &quot;expense&quot; here.","body":"@irreputable The promotion of a <i>literal integral</i> is a <i>compile time operation</i>. There is no &quot;expense&quot; here."},{"owner":{"account_id":1714638,"reputation":450,"user_id":1571992,"display_name":"Cameron Christensen"},"score":0,"creation_date":1360033695,"post_id":14699067,"comment_id":20556915,"body_markdown":"@pst, would you mind just submitting your own answer to the question?","body":"@pst, would you mind just submitting your own answer to the question?"},{"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"score":1,"creation_date":1360033703,"post_id":14699067,"comment_id":20556917,"body_markdown":"@pst - this example is too simple. in general, the question is whether java should deduce the type of a literal based on context. that is achievable but more complex. java doesn&#39;t do that, so the type of a literal is fixed. java then adds some limited implicit conversions when it seems safe to do so. such conversions are runtime conversions.","body":"@pst - this example is too simple. in general, the question is whether java should deduce the type of a literal based on context. that is achievable but more complex. java doesn&#39;t do that, so the type of a literal is fixed. java then adds some limited implicit conversions when it seems safe to do so. such conversions are runtime conversions."},{"owner":{"display_name":"user166390"},"score":1,"creation_date":1360034764,"post_id":14699067,"comment_id":20557196,"body_markdown":"@irreputable It&#39;s actually a good example and shows how Java treats int literals. It has nothing to do with context in this case  - type checking would have caught that (and type widening is actually used in the first declaration). In the case of &quot;ambiguous&quot; type widening such as overloads, this could have been well defined (as is done in C#). Granted, sometimes it *can* lead to tricky situations in C# (where it matters if the `short` or `int` overloads are called, for instance), but either approach is valid and can be argued for - there are worse things in modern languages, like `null` :D","body":"@irreputable It&#39;s actually a good example and shows how Java treats int literals. It has nothing to do with context in this case  - type checking would have caught that (and type widening is actually used in the first declaration). In the case of &quot;ambiguous&quot; type widening such as overloads, this could have been well defined (as is done in C#). Granted, sometimes it <i>can</i> lead to tricky situations in C# (where it matters if the <code>short</code> or <code>int</code> overloads are called, for instance), but either approach is valid and can be argued for - there are worse things in modern languages, like <code>null</code> :D"},{"owner":{"display_name":"user166390"},"score":0,"creation_date":1360035081,"post_id":14699067,"comment_id":20557274,"body_markdown":"@irreputable (Also, it is need *not* be a runtime conversion: for instance, the type of a literal - even that without a suffix - in C# is always fixed.)","body":"@irreputable (Also, it is need <i>not</i> be a runtime conversion: for instance, the type of a literal - even that without a suffix - in C# is always fixed.)"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1415510237,"post_id":14699067,"comment_id":42219127,"body_markdown":"I know this is a bit old but the answers below don&#39;t mention it. I wanted to point out that the language would be more difficult to parse if this were the case, because &quot;int literal&quot; vs &quot;long literal&quot; could no longer be easily defined by a simple grammar construct, the value would have to be calculated and checked by the parser which would then have to decide to promote the token from an int literal to a long literal. Implementing this is a bit of a kludge in a classic lex/parse parser. If I were designing a language I would make the same decision the Java designers did for this reason alone.","body":"I know this is a bit old but the answers below don&#39;t mention it. I wanted to point out that the language would be more difficult to parse if this were the case, because &quot;int literal&quot; vs &quot;long literal&quot; could no longer be easily defined by a simple grammar construct, the value would have to be calculated and checked by the parser which would then have to decide to promote the token from an int literal to a long literal. Implementing this is a bit of a kludge in a classic lex/parse parser. If I were designing a language I would make the same decision the Java designers did for this reason alone."}],"answers":[{"tags":[],"owner":{"display_name":"user1181445"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360030636,"creation_date":1360030636,"answer_id":14699098,"question_id":14699067,"body_markdown":"For the\r\n\r\n    Long x = 250;\r\n\r\nThat won&#39;t work. Java uses Autoboxing, which casts automatically from the Object representative class to the primitive type. As for the other ones, int&#39;s are just the primary number type used. Longs, well at least for what I use them most often for, are used for dates and times only. Integers on the other hand are used by default for everything else. \r\n\r\nIf you really want to get into specifics, I&#39;m sure this will rustle your jimmies more:\r\n\r\n    float pi = 3.14; // Does not compile.\r\n    float pi = 3.14F; // Compiles\r\n\r\nIn this case as well, double takes the priority when there is a decimal involved. \r\n","title":"Why is the default type of Java integer literals int instead of long?","body":"<p>For the</p>\n\n<pre><code>Long x = 250;\n</code></pre>\n\n<p>That won't work. Java uses Autoboxing, which casts automatically from the Object representative class to the primitive type. As for the other ones, int's are just the primary number type used. Longs, well at least for what I use them most often for, are used for dates and times only. Integers on the other hand are used by default for everything else. </p>\n\n<p>If you really want to get into specifics, I'm sure this will rustle your jimmies more:</p>\n\n<pre><code>float pi = 3.14; // Does not compile.\nfloat pi = 3.14F; // Compiles\n</code></pre>\n\n<p>In this case as well, double takes the priority when there is a decimal involved. </p>\n"},{"tags":[],"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360030951,"creation_date":1360030951,"answer_id":14699141,"question_id":14699067,"body_markdown":"I think the reason for making int literals the ones that don&#39;t need a type indication is that int is intended to be the normal integer type. Similarly, double is the normal floating point type. The idea seems to be to limit the number of literals that need a type indication by defaulting to the commonest type.","title":"Why is the default type of Java integer literals int instead of long?","body":"<p>I think the reason for making int literals the ones that don't need a type indication is that int is intended to be the normal integer type. Similarly, double is the normal floating point type. The idea seems to be to limit the number of literals that need a type indication by defaulting to the commonest type.</p>\n"},{"tags":[],"owner":{"account_id":76511,"reputation":44893,"user_id":218978,"accept_rate":100,"display_name":"irreputable"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1360031961,"creation_date":1360031222,"answer_id":14699188,"question_id":14699067,"body_markdown":"I think you are right, `long` would be a better default today. Back in 1995, `long` was probably too long to be the default.","title":"Why is the default type of Java integer literals int instead of long?","body":"<p>I think you are right, <code>long</code> would be a better default today. Back in 1995, <code>long</code> was probably too long to be the default.</p>\n"},{"tags":[],"owner":{"account_id":194695,"reputation":1470,"user_id":437190,"accept_rate":100,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1360031416,"creation_date":1360031416,"answer_id":14699212,"question_id":14699067,"body_markdown":"Speed\r\n\r\nYou have efficiency gains by only using the size that you need. An int is fine for numbers from -2^31 to 2^31. If you use a long where an int would suffice, you slow down your code. For example, this code runs at 7.116 seconds on my machine. By switching it to using int, I decrease the running time to 3.74 seconds on my machine:\r\n\r\n    public class Problem005 {\r\n    \r\n      private static boolean isDivisibleByAll(long n, long ceiling) {\r\n        for (long i = 1; i &lt; ceiling; i++)\r\n          if (n % i != 0)\r\n            return false;\r\n        return true;\r\n      }\r\n    \r\n      public static long findSmallestMultiple (long ceiling) {\r\n        long number = 1;\r\n        while (!isDivisibleByAll(number, ceiling))\r\n          number++;\r\n        return number;\r\n      }\r\n    \r\n    }\r\n    \r\n    public class Stopwatch {\r\n      private final long start;\r\n    \r\n      public Stopwatch() {\r\n        start = System.currentTimeMillis();\r\n      }\r\n    \r\n      public double elapsedTime() {\r\n        long now = System.currentTimeMillis();\r\n        return (now - start) / 1000.0;\r\n      }\r\n    \r\n    }\r\n    \r\n    public class Main {\r\n    \r\n      public static void main(String[] args) {\r\n\r\n        Stopwatch stopwatch005 = new Stopwatch();\r\n\r\n        long highestMultiple = 20;\r\n        long findSmallestMultipleOutput = findSmallestMultiple(highestMultiple);\r\n        double findSmallestMultipleTime = stopwatch005.elapsedTime();\r\n        System.out.println(&quot;Problem #005&quot;);\r\n        System.out.println(&quot;============&quot;);\r\n        System.out.print(&quot;The multiple of the numbers 1-&quot; + highestMultiple + &quot; is = &quot;);\r\n        System.out.print(findSmallestMultipleOutput);\r\n        System.out.println(&quot; with a time of &quot; + findSmallestMultipleTime + &quot; seconds.\\n &quot;);\r\n      }   \r\n    }\r\n\r\n\r\nChanged to use int:\r\n-------------------\r\n\r\n\r\n    public class Problem005 {\r\n    \r\n      private static boolean isDivisibleByAll(int n, int ceiling) {\r\n        for (int i = 1; i &lt; ceiling; i++)\r\n          if (n % i != 0)\r\n            return false;\r\n        return true;\r\n      }\r\n    \r\n      public static int findSmallestMultiple (int ceiling) {\r\n        int number = 1;\r\n        while (!isDivisibleByAll(number, ceiling))\r\n          number++;\r\n        return number;\r\n      }\r\n    \r\n    }\r\n\r\n","title":"Why is the default type of Java integer literals int instead of long?","body":"<p>Speed</p>\n\n<p>You have efficiency gains by only using the size that you need. An int is fine for numbers from -2^31 to 2^31. If you use a long where an int would suffice, you slow down your code. For example, this code runs at 7.116 seconds on my machine. By switching it to using int, I decrease the running time to 3.74 seconds on my machine:</p>\n\n<pre><code>public class Problem005 {\n\n  private static boolean isDivisibleByAll(long n, long ceiling) {\n    for (long i = 1; i &lt; ceiling; i++)\n      if (n % i != 0)\n        return false;\n    return true;\n  }\n\n  public static long findSmallestMultiple (long ceiling) {\n    long number = 1;\n    while (!isDivisibleByAll(number, ceiling))\n      number++;\n    return number;\n  }\n\n}\n\npublic class Stopwatch {\n  private final long start;\n\n  public Stopwatch() {\n    start = System.currentTimeMillis();\n  }\n\n  public double elapsedTime() {\n    long now = System.currentTimeMillis();\n    return (now - start) / 1000.0;\n  }\n\n}\n\npublic class Main {\n\n  public static void main(String[] args) {\n\n    Stopwatch stopwatch005 = new Stopwatch();\n\n    long highestMultiple = 20;\n    long findSmallestMultipleOutput = findSmallestMultiple(highestMultiple);\n    double findSmallestMultipleTime = stopwatch005.elapsedTime();\n    System.out.println(\"Problem #005\");\n    System.out.println(\"============\");\n    System.out.print(\"The multiple of the numbers 1-\" + highestMultiple + \" is = \");\n    System.out.print(findSmallestMultipleOutput);\n    System.out.println(\" with a time of \" + findSmallestMultipleTime + \" seconds.\\n \");\n  }   \n}\n</code></pre>\n\n<h2>Changed to use int:</h2>\n\n<pre><code>public class Problem005 {\n\n  private static boolean isDivisibleByAll(int n, int ceiling) {\n    for (int i = 1; i &lt; ceiling; i++)\n      if (n % i != 0)\n        return false;\n    return true;\n  }\n\n  public static int findSmallestMultiple (int ceiling) {\n    int number = 1;\n    while (!isDivisibleByAll(number, ceiling))\n      number++;\n    return number;\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661775204,"creation_date":1360033795,"answer_id":14699562,"question_id":14699067,"body_markdown":"One of the possible reasons that `int` is default literal is that using `long` could cause hard to detect errors in multi-threading application, as specified in [JLS 17.7 Non-atomic Treatment of double and long](http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.7).\r\n\r\n&gt;For the purposes of the Java programming language memory model, a single write to a **non-volatile** long or double value is treated as two separate writes: one to each 32-bit half. This can result in a situation where a thread sees the first 32 bits of a 64-bit value from one write, and the second 32 bits from another write.","title":"Why is the default type of Java integer literals int instead of long?","body":"<p>One of the possible reasons that <code>int</code> is default literal is that using <code>long</code> could cause hard to detect errors in multi-threading application, as specified in <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.7\" rel=\"nofollow noreferrer\">JLS 17.7 Non-atomic Treatment of double and long</a>.</p>\n<blockquote>\n<p>For the purposes of the Java programming language memory model, a single write to a <strong>non-volatile</strong> long or double value is treated as two separate writes: one to each 32-bit half. This can result in a situation where a thread sees the first 32 bits of a 64-bit value from one write, and the second 32 bits from another write.</p>\n</blockquote>\n"},{"tags":[],"owner":{"display_name":"user166390"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1360034430,"creation_date":1360034068,"answer_id":14699599,"question_id":14699067,"body_markdown":"This behavior is by design&lt;sup&gt;1&lt;/sup&gt; and is codified in the [JLS: Java Language Specification](http://docs.oracle.com/javase/specs/jls/se7/html/index.html).\r\n\r\nFirst, note that this is *not* related to [widening](http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.2) which is why the (valid) integer-literal is promoted to a long value. Instead, this is related to the very specification of the [int literal](http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.2):\r\n\r\n&gt; It is a compile-time error if a hexadecimal, octal, or binary int literal does not fit in 32 bits.\r\n\r\nThe smallest and largest signed 32-bit integer values are -2147483648 and 2147483647, respectively.\r\n\r\n---\r\n\r\n&lt;sup&gt;1&lt;/sup&gt;I care not speculate on *why* it works this way, and languages like C# have different rules.","title":"Why is the default type of Java integer literals int instead of long?","body":"<p>This behavior is by design<sup>1</sup> and is codified in the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/index.html\" rel=\"noreferrer\">JLS: Java Language Specification</a>.</p>\n\n<p>First, note that this is <em>not</em> related to <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.2\" rel=\"noreferrer\">widening</a> which is why the (valid) integer-literal is promoted to a long value. Instead, this is related to the very specification of the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.1.2\" rel=\"noreferrer\">int literal</a>:</p>\n\n<blockquote>\n  <p>It is a compile-time error if a hexadecimal, octal, or binary int literal does not fit in 32 bits.</p>\n</blockquote>\n\n<p>The smallest and largest signed 32-bit integer values are -2147483648 and 2147483647, respectively.</p>\n\n<hr>\n\n<p><sup>1</sup>I care not speculate on <em>why</em> it works this way, and languages like C# have different rules.</p>\n"},{"tags":[],"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360036473,"creation_date":1360036473,"answer_id":14699934,"question_id":14699067,"body_markdown":"It would be possible for a language to require that all integer arithmetic which would not overflow if intermediate results were computed with the longest integral type, as though they were.  In such a language, if variables starting with L are 64 bits, those with W are 32-bits, and those with H are 16 bits, expressions like\r\n\r\n    L1 = W1*W2;\r\n    W3 = (W1+W2) &gt;&gt; 1\r\n\r\nwill be evaluated in such fashion as to avoid overflow, but an expression like\r\n\r\n    W4 = W1+W2\r\n\r\nwill be evaluated using 32-bit math (since any overflow that would occur then would occur with the assignment to W4 even if the intermediate result were evaluated as 32 bits), and an expression like\r\n\r\n    W5 = (H1*H2) &gt;&gt; 1\r\n\r\ncould be evaluated as 32 bits since the result couldn&#39;t overflow a 32-bit value.\r\n\r\nSuch a language could be quite efficient in most scenarios, since it would generally not hard for a compiler to determine the maximum relevant integer size for each subexpression.  In such a language, it wouldn&#39;t matter whether a numeric literal was a &quot;long&quot; or an &quot;int&quot;, since the compiler would be more interested in its numeric value.\r\n\r\nIn Java, however, numeric literals of different sizes have different semantics.  If one multiplies an `int` by the constant 128, the `int` must be no larger than 16,777,215 or else an overflow will occur.  If one multiplies the `int` by a constant `128L`, the result may only be stored someplace that can accept a `long`.  ","title":"Why is the default type of Java integer literals int instead of long?","body":"<p>It would be possible for a language to require that all integer arithmetic which would not overflow if intermediate results were computed with the longest integral type, as though they were.  In such a language, if variables starting with L are 64 bits, those with W are 32-bits, and those with H are 16 bits, expressions like</p>\n\n<pre><code>L1 = W1*W2;\nW3 = (W1+W2) &gt;&gt; 1\n</code></pre>\n\n<p>will be evaluated in such fashion as to avoid overflow, but an expression like</p>\n\n<pre><code>W4 = W1+W2\n</code></pre>\n\n<p>will be evaluated using 32-bit math (since any overflow that would occur then would occur with the assignment to W4 even if the intermediate result were evaluated as 32 bits), and an expression like</p>\n\n<pre><code>W5 = (H1*H2) &gt;&gt; 1\n</code></pre>\n\n<p>could be evaluated as 32 bits since the result couldn't overflow a 32-bit value.</p>\n\n<p>Such a language could be quite efficient in most scenarios, since it would generally not hard for a compiler to determine the maximum relevant integer size for each subexpression.  In such a language, it wouldn't matter whether a numeric literal was a \"long\" or an \"int\", since the compiler would be more interested in its numeric value.</p>\n\n<p>In Java, however, numeric literals of different sizes have different semantics.  If one multiplies an <code>int</code> by the constant 128, the <code>int</code> must be no larger than 16,777,215 or else an overflow will occur.  If one multiplies the <code>int</code> by a constant <code>128L</code>, the result may only be stored someplace that can accept a <code>long</code>.  </p>\n"}],"owner":{"account_id":1714638,"reputation":450,"user_id":1571992,"display_name":"Cameron Christensen"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7030,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"closed_date":1360039562,"accepted_answer_id":14699599,"answer_count":7,"score":16,"last_activity_date":1661775204,"creation_date":1360030430,"question_id":14699067,"body_markdown":"I&#39;m confused why Java integer literals default to `int` instead of `long`. This seems to cause unnecessary confusion.\r\n\r\nFirst, it requires the programmer to adopt a special syntax (append &quot;L&quot; to literals) when assigning a value to a `long` that exceeds the maximum `int` size (2147483647).\r\n\r\n    long x = 2147483647; // Compiles\r\n    long y = 2147483648; // Does not compile\r\n    long z = 2147483648L; // Compiles\r\n\r\nSecond, when using the `Long` wrapper class, the programmer must always use the `long` literal notation as explained in [this SO question](https://stackoverflow.com/questions/14425606/java-wrapper-classes-why-integer-literals-fail-for-long-but-work-for-smaller).\r\n\r\n    Long x = 250; // Does not compile\r\n    Long y = 250L; // Compiles\r\n\r\nThird, considering that implicit conversion from `int` literals to the &quot;narrower&quot; data types (`short` and `byte`) works just fine in all situations (that I know of), it seems that simply making all integer literals type `long` would have been the obvious solution... right? Wouldn&#39;t this completely remove the need for this odd system of appending &quot;L&quot; to integer literals in special cases?","title":"Why is the default type of Java integer literals int instead of long?","body":"<p>I'm confused why Java integer literals default to <code>int</code> instead of <code>long</code>. This seems to cause unnecessary confusion.</p>\n\n<p>First, it requires the programmer to adopt a special syntax (append \"L\" to literals) when assigning a value to a <code>long</code> that exceeds the maximum <code>int</code> size (2147483647).</p>\n\n<pre><code>long x = 2147483647; // Compiles\nlong y = 2147483648; // Does not compile\nlong z = 2147483648L; // Compiles\n</code></pre>\n\n<p>Second, when using the <code>Long</code> wrapper class, the programmer must always use the <code>long</code> literal notation as explained in <a href=\"https://stackoverflow.com/questions/14425606/java-wrapper-classes-why-integer-literals-fail-for-long-but-work-for-smaller\">this SO question</a>.</p>\n\n<pre><code>Long x = 250; // Does not compile\nLong y = 250L; // Compiles\n</code></pre>\n\n<p>Third, considering that implicit conversion from <code>int</code> literals to the \"narrower\" data types (<code>short</code> and <code>byte</code>) works just fine in all situations (that I know of), it seems that simply making all integer literals type <code>long</code> would have been the obvious solution... right? Wouldn't this completely remove the need for this odd system of appending \"L\" to integer literals in special cases?</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":10263065,"reputation":2310,"user_id":7573818,"display_name":"Jeremy Grand"},"score":6,"creation_date":1496138256,"post_id":44258987,"comment_id":75526132,"body_markdown":"`stream()` is defined as a default method in `Collection&lt;E&gt;`","body":"<code>stream()</code> is defined as a default method in <code>Collection&lt;E&gt;</code>"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1496232987,"post_id":44258987,"comment_id":75575745,"body_markdown":"Possible duplicate of [Why can I call the stream() method on objects of a class that don&#39;t have the stream()-method?](https://stackoverflow.com/questions/30343726/why-can-i-call-the-stream-method-on-objects-of-a-class-that-dont-have-the-str)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/30343726/why-can-i-call-the-stream-method-on-objects-of-a-class-that-dont-have-the-str\">Why can I call the stream() method on objects of a class that don&#39;t have the stream()-method?</a>"}],"answers":[{"tags":[],"owner":{"account_id":10263065,"reputation":2310,"user_id":7573818,"display_name":"Jeremy Grand"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1496159065,"creation_date":1496138417,"answer_id":44259115,"question_id":44258987,"body_markdown":"Java 8 allows the definition of [default methods][1] in interfaces.\r\n\r\n`Collection&lt;E&gt;` then [defines][2] :\r\n\r\n    default Stream&lt;E&gt; stream() {\r\n        return StreamSupport.stream(spliterator(), false);\r\n    }\r\n\r\nThat&#39;s how they added it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#stream--","title":"Implementation of Collection.stream()","body":"<p>Java 8 allows the definition of <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"noreferrer\">default methods</a> in interfaces.</p>\n\n<p><code>Collection&lt;E&gt;</code> then <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#stream--\" rel=\"noreferrer\">defines</a> :</p>\n\n<pre><code>default Stream&lt;E&gt; stream() {\n    return StreamSupport.stream(spliterator(), false);\n}\n</code></pre>\n\n<p>That's how they added it.</p>\n"},{"tags":[],"owner":{"account_id":1212844,"reputation":6042,"user_id":1181063,"display_name":"Florian Sesser"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1496138550,"creation_date":1496138550,"answer_id":44259173,"question_id":44258987,"body_markdown":"It&#39;s a [default method](https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html) (another Java 8 feature) in the Collection interface definition. See [Collection.java Line 580](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/util/Collection.java#Collection.stream%28%29) for the code:\r\n\r\n    default Stream&lt;E&gt; stream() {\r\n       return StreamSupport.stream(spliterator(), false);\r\n    }\r\n\r\n","title":"Implementation of Collection.stream()","body":"<p>It's a <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"noreferrer\">default method</a> (another Java 8 feature) in the Collection interface definition. See <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/util/Collection.java#Collection.stream%28%29\" rel=\"noreferrer\">Collection.java Line 580</a> for the code:</p>\n\n<pre><code>default Stream&lt;E&gt; stream() {\n   return StreamSupport.stream(spliterator(), false);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6614711,"reputation":29121,"user_id":5108418,"accept_rate":72,"display_name":"Tamas Hegedus"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1496139989,"creation_date":1496139989,"answer_id":44259689,"question_id":44258987,"body_markdown":"As others pointed out, the `.stream()` method is implemented as a [default method][1] in the `Collection` interface itself, as you can see it in the method signature in the [official documentation][2]:\r\n\r\n    default Stream&lt;E&gt; stream()\r\n\r\nHow the stream interface is implemented is an implementation detail of the collection. However, implementing the same heavy `Stream` interface for every collection would be a lot of work and duplication, so they use an intermediate abstraction called [Spliterator][3].\r\n\r\n[This SO thread on `.stream()`][4] might be worth reading as well.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#stream--\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\r\n  [4]: https://stackoverflow.com/questions/24196082/what-is-the-default-implementation-of-stream-in-java-8","title":"Implementation of Collection.stream()","body":"<p>As others pointed out, the <code>.stream()</code> method is implemented as a <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"noreferrer\">default method</a> in the <code>Collection</code> interface itself, as you can see it in the method signature in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#stream--\" rel=\"noreferrer\">official documentation</a>:</p>\n\n<pre><code>default Stream&lt;E&gt; stream()\n</code></pre>\n\n<p>How the stream interface is implemented is an implementation detail of the collection. However, implementing the same heavy <code>Stream</code> interface for every collection would be a lot of work and duplication, so they use an intermediate abstraction called <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\" rel=\"noreferrer\">Spliterator</a>.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24196082/what-is-the-default-implementation-of-stream-in-java-8\">This SO thread on <code>.stream()</code></a> might be worth reading as well.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1496141212,"creation_date":1496141212,"answer_id":44260104,"question_id":44258987,"body_markdown":"You did not see it in `ArrayList` because it is defined in `Collection` as a default method (you have probably got that this already). *But* it could have been defined in `ArrayList` or any other Collection, thus overriding it. For example it is defined in `CopiesList` as :\r\n\r\n        @Override\r\n        public Stream&lt;E&gt; stream() {\r\n            return IntStream.range(0, n).mapToObj(i -&gt; element);\r\n        }\r\n\r\nThus overriding the one from `Collection`; this means it is not *always* the one from the super class.","title":"Implementation of Collection.stream()","body":"<p>You did not see it in <code>ArrayList</code> because it is defined in <code>Collection</code> as a default method (you have probably got that this already). <em>But</em> it could have been defined in <code>ArrayList</code> or any other Collection, thus overriding it. For example it is defined in <code>CopiesList</code> as :</p>\n\n<pre><code>    @Override\n    public Stream&lt;E&gt; stream() {\n        return IntStream.range(0, n).mapToObj(i -&gt; element);\n    }\n</code></pre>\n\n<p>Thus overriding the one from <code>Collection</code>; this means it is not <em>always</em> the one from the super class.</p>\n"},{"tags":[],"owner":{"account_id":10834162,"reputation":1,"user_id":7967604,"display_name":"Junior Mbe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616414393,"creation_date":1616414393,"answer_id":66745624,"question_id":44258987,"body_markdown":"&quot;stream&quot; is just a name to group the functional aspect behind. The real implementation is in the `java.util.stream.ReferencePipeline` class. \r\n\r\nThis is where you can see the code applied during intermediate and final operations. To go from a Collection to a Stream for example, you can follow the path \r\n\r\n    Collection::stream() -&gt; StreamSupport::stream() -&gt; ReferencePipeline.Head","title":"Implementation of Collection.stream()","body":"<p>&quot;stream&quot; is just a name to group the functional aspect behind. The real implementation is in the <code>java.util.stream.ReferencePipeline</code> class.</p>\n<p>This is where you can see the code applied during intermediate and final operations. To go from a Collection to a Stream for example, you can follow the path</p>\n<pre><code>Collection::stream() -&gt; StreamSupport::stream() -&gt; ReferencePipeline.Head\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10515762,"reputation":447,"user_id":7749907,"display_name":"Mahadev Mandale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661775175,"creation_date":1661775175,"answer_id":73528631,"question_id":44258987,"body_markdown":"We will get `java.util.stream.Stream` object from the Collection interface&#39;s default method `stream();` and it is possible because of default methods which is introduced in Java 8.\r\n\r\nBefore java 8 we could only declare methods in an interface. From Java 8 we can also define methods or default methods in an interface. \r\n\r\nIn our case `stream()` is a default method from the interface Collection. For example in below case when you do `list.stream()` the default method `stream()` of Collection will get called and it will convert list of objects to Stream and return it back so that you can process it further as per your need using operations such as filter, map, flatMap etc.\r\n\r\n    List&lt;String&gt; list = Arrays.asList(&quot;abc&quot;,&quot;pqr&quot;,&quot;xyz&quot;);\r\n    Stream&lt;String&gt; stream = list.stream();","title":"Implementation of Collection.stream()","body":"<p>We will get <code>java.util.stream.Stream</code> object from the Collection interface's default method <code>stream();</code> and it is possible because of default methods which is introduced in Java 8.</p>\n<p>Before java 8 we could only declare methods in an interface. From Java 8 we can also define methods or default methods in an interface.</p>\n<p>In our case <code>stream()</code> is a default method from the interface Collection. For example in below case when you do <code>list.stream()</code> the default method <code>stream()</code> of Collection will get called and it will convert list of objects to Stream and return it back so that you can process it further as per your need using operations such as filter, map, flatMap etc.</p>\n<pre><code>List&lt;String&gt; list = Arrays.asList(&quot;abc&quot;,&quot;pqr&quot;,&quot;xyz&quot;);\nStream&lt;String&gt; stream = list.stream();\n</code></pre>\n"}],"owner":{"account_id":6163309,"reputation":657,"user_id":4804146,"accept_rate":89,"display_name":"Adit A. Pillai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3357,"favorite_count":0,"down_vote_count":2,"up_vote_count":19,"accepted_answer_id":44259115,"answer_count":6,"score":17,"last_activity_date":1661775175,"creation_date":1496138022,"question_id":44258987,"body_markdown":"I have been working on JDK 1.8 for a few days now where I came across some piece of code which was similar to this: \r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(1,2,3,4,5);\r\n    list.stream();\r\n\r\nNow, easy and clean as it may appear to the people who have been working with streams (`java.util.stream`), I could not find the the actual class that implements the `java.util.Collection.stream()` method.\r\n\r\nI have the following questions, when I say `list.stream()`: \r\n\r\n 1. Where do I get the `java.util.stream.Stream` from?\r\n 2. How did they implement it without actually &quot;disturbing&quot; the existing collections?(*assuming that they did not touch them*)\r\n\r\nI did try to look through the documentations of `java.util.AbstractCollection` and `java.util.AbstractList` but was unable to find it.","title":"Implementation of Collection.stream()","body":"<p>I have been working on JDK 1.8 for a few days now where I came across some piece of code which was similar to this: </p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(1,2,3,4,5);\nlist.stream();\n</code></pre>\n\n<p>Now, easy and clean as it may appear to the people who have been working with streams (<code>java.util.stream</code>), I could not find the the actual class that implements the <code>java.util.Collection.stream()</code> method.</p>\n\n<p>I have the following questions, when I say <code>list.stream()</code>: </p>\n\n<ol>\n<li>Where do I get the <code>java.util.stream.Stream</code> from?</li>\n<li>How did they implement it without actually \"disturbing\" the existing collections?(<em>assuming that they did not touch them</em>)</li>\n</ol>\n\n<p>I did try to look through the documentations of <code>java.util.AbstractCollection</code> and <code>java.util.AbstractList</code> but was unable to find it.</p>\n"},{"tags":["java","mysql","hibernate","jpa","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1661775474,"post_id":73528619,"comment_id":129844398,"body_markdown":"This is absolutely normal and expected behaviour. Consider what happens when multiple inserts would be executed in concurrent transactions...","body":"This is absolutely normal and expected behaviour. Consider what happens when multiple inserts would be executed in concurrent transactions..."},{"owner":{"account_id":20453332,"reputation":305,"user_id":15007593,"display_name":"Fotis Kolytoumpas"},"score":0,"creation_date":1661775837,"post_id":73528619,"comment_id":129844534,"body_markdown":"Thank you! I didn&#39;t know that insertions can happen concurrently.","body":"Thank you! I didn&#39;t know that insertions can happen concurrently."}],"owner":{"account_id":20453332,"reputation":305,"user_id":15007593,"display_name":"Fotis Kolytoumpas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661775325,"answer_count":0,"score":0,"last_activity_date":1661775124,"creation_date":1661775124,"question_id":73528619,"body_markdown":"I have a simple Department Entity with one attribute `name` which I set to be unique.\r\n\r\n    @Entity\r\n    @XmlRootElement\r\n    public class Department {\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private int id;\r\n\r\n        @Basic\r\n        @Column(name = &quot;name&quot;, unique = true)\r\n        private String name;\r\n    \r\n        @ManyToMany(mappedBy = &quot;departments&quot;)\r\n        @JsonbTransient\r\n        @XmlTransient\r\n        private Set&lt;Employee&gt; employees = new HashSet&lt;Employee&gt;();\r\n\r\n    ...\r\n\r\n        methods\r\n\r\n    }\r\n\r\nAnd the following code to insert a new Department entry in my DB.\r\n\r\n    ...\r\n\r\n    transaction.begin();\r\n    \r\n    entityManager.createNativeQuery(&quot;insert into mydb.department (department.name)&quot; +\r\n                            &quot;values (:deptName)&quot;, Department.class)\r\n                            .setParameter(&quot;deptName&quot;, department.getName())\r\n                            .executeUpdate();\r\n                    \r\n    \r\n    transaction.commit();\r\n\r\n    ...\r\n\r\nNow after I run a few tests on Postman, I realized that even after trying to insert a duplicate Department and get the `&quot;message&quot;:&quot;org.hibernate.exception.ConstraintViolationException: could not execute statement&quot;` exception, the ID of the next entry will be increased.\r\n\r\n[![postman console output][1]][1]\r\n\r\nI don&#39;t understand, what (MySQL, jdbc, javax.persistence, Hibernate) causes this?\r\n\r\nIs this a normal behavior, or is there a way to fix this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MZofI.png","title":"Why is the row id increased by one (or more) even after one (or more) ConstraintViolationException?","body":"<p>I have a simple Department Entity with one attribute <code>name</code> which I set to be unique.</p>\n<pre><code>@Entity\n@XmlRootElement\npublic class Department {\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @Basic\n    @Column(name = &quot;name&quot;, unique = true)\n    private String name;\n\n    @ManyToMany(mappedBy = &quot;departments&quot;)\n    @JsonbTransient\n    @XmlTransient\n    private Set&lt;Employee&gt; employees = new HashSet&lt;Employee&gt;();\n\n...\n\n    methods\n\n}\n</code></pre>\n<p>And the following code to insert a new Department entry in my DB.</p>\n<pre><code>...\n\ntransaction.begin();\n\nentityManager.createNativeQuery(&quot;insert into mydb.department (department.name)&quot; +\n                        &quot;values (:deptName)&quot;, Department.class)\n                        .setParameter(&quot;deptName&quot;, department.getName())\n                        .executeUpdate();\n                \n\ntransaction.commit();\n\n...\n</code></pre>\n<p>Now after I run a few tests on Postman, I realized that even after trying to insert a duplicate Department and get the <code>&quot;message&quot;:&quot;org.hibernate.exception.ConstraintViolationException: could not execute statement&quot;</code> exception, the ID of the next entry will be increased.</p>\n<p><a href=\"https://i.stack.imgur.com/MZofI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MZofI.png\" alt=\"postman console output\" /></a></p>\n<p>I don't understand, what (MySQL, jdbc, javax.persistence, Hibernate) causes this?</p>\n<p>Is this a normal behavior, or is there a way to fix this?</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":7394006,"reputation":5031,"user_id":5626568,"display_name":"&#230;"},"score":0,"creation_date":1661768255,"post_id":73527274,"comment_id":129842030,"body_markdown":"Did you add @Valid before @RequestBody?","body":"Did you add @Valid before @RequestBody?"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1661768680,"post_id":73527274,"comment_id":129842152,"body_markdown":"you can define it like this `List&lt;String&gt; list = Arrays.asList(new String[10])`","body":"you can define it like this <code>List&lt;String&gt; list = Arrays.asList(new String[10])</code>"}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661768610,"creation_date":1661768610,"answer_id":73527375,"question_id":73527274,"body_markdown":"You must use the [`@size`][1] annotation as follow `@size(max = 10)`  because it is the right annotation to check size of lists as reported in the [javadoc][1]:\r\n\r\n&gt; Size range for Arrays, Collections or Maps\r\n\r\nInstead the annotation [@max][2] must be used to restrict range of numeric values, not sizes of item containers: \r\n\r\n&gt; max restriction on a numeric annotated element\r\n\r\n\r\n  [1]: https://docs.jboss.org/ejb3/app-server/HibernateAnnotations/api/org/hibernate/validator/Size.html\r\n  [2]: https://docs.jboss.org/ejb3/app-server/HibernateAnnotations/api/org/hibernate/validator/Max.html","title":"spring boot controller layer Using annotations to verify the length of the list of entries","body":"<p>You must use the <a href=\"https://docs.jboss.org/ejb3/app-server/HibernateAnnotations/api/org/hibernate/validator/Size.html\" rel=\"nofollow noreferrer\"><code>@size</code></a> annotation as follow <code>@size(max = 10)</code>  because it is the right annotation to check size of lists as reported in the <a href=\"https://docs.jboss.org/ejb3/app-server/HibernateAnnotations/api/org/hibernate/validator/Size.html\" rel=\"nofollow noreferrer\">javadoc</a>:</p>\n<blockquote>\n<p>Size range for Arrays, Collections or Maps</p>\n</blockquote>\n<p>Instead the annotation <a href=\"https://docs.jboss.org/ejb3/app-server/HibernateAnnotations/api/org/hibernate/validator/Max.html\" rel=\"nofollow noreferrer\">@max</a> must be used to restrict range of numeric values, not sizes of item containers:</p>\n<blockquote>\n<p>max restriction on a numeric annotated element</p>\n</blockquote>\n"}],"owner":{"account_id":26074932,"reputation":9,"user_id":19774005,"display_name":"user19774005"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1661775187,"answer_count":1,"score":1,"last_activity_date":1661775121,"creation_date":1661768075,"question_id":73527274,"body_markdown":"I want to use an annotation to limit the maximum length of the list to 10. I&#39;m using the `@Max` annotation, but it doesn&#39;t work. Is there any way to do this?\r\n\r\n```java\r\n@Max(value = 10)\r\nprivate List&lt;String&gt; ipRange;\r\n```","title":"spring boot controller layer Using annotations to verify the length of the list of entries","body":"<p>I want to use an annotation to limit the maximum length of the list to 10. I'm using the <code>@Max</code> annotation, but it doesn't work. Is there any way to do this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Max(value = 10)\nprivate List&lt;String&gt; ipRange;\n</code></pre>\n"},{"tags":["java","serialization","jackson","gson","httpclient"],"answers":[{"tags":[],"owner":{"account_id":24350641,"reputation":125,"user_id":18286518,"display_name":"Find Bugs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661774967,"creation_date":1661774967,"answer_id":73528587,"question_id":73528477,"body_markdown":"- The first question is ``` com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.example.Student` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n``` shows that `org.example.Student` class should declared a default constructor. So what is the default constructor? Okay, its just a non-args constructer.\r\n\r\n- Java Memory Analyze to analysis the JVM memory usage.","title":"How to serialize &amp; deserialize response object of Httpclient into byte array","body":"<ul>\n<li><p>The first question is <code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.example.Student` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)</code> shows that <code>org.example.Student</code> class should declared a default constructor. So what is the default constructor? Okay, its just a non-args constructer.</p>\n</li>\n<li><p>Java Memory Analyze to analysis the JVM memory usage.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":15325054,"reputation":33,"user_id":11056427,"display_name":"GOURAV KUMAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661774967,"creation_date":1661774436,"question_id":73528477,"body_markdown":"I want to serialize and deserialize http response object of Apache, okhttp client etc.\r\n\r\nI am unable to use -&gt; \r\n1. Java **Serializable** as response objects of both the clients don&#39;t implement serializable interface.\r\n2. **Jackson** because response object doesn&#39;t have no-arg constructor hence shows below error while deserialization.\r\n\r\n```java\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.example.Student` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n```\r\n3. **Gson** due to out of memory error:\r\n\r\n(ApacheClient is used below)\r\n\r\n**Serialization:**\r\n```java\r\n       Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n       ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n       OutputStreamWriter writer = new OutputStreamWriter(outputStream);\r\n       gson.toJson(httpResponse, writer);\r\n       writer.flush();\r\n```\r\n**Deserialization:**\r\n```java\r\n       byte[] data = outputStream.toByteArray();\r\n       ByteArrayInputStream inputStream = new ByteArrayInputStream(data);\r\n       InputStreamReader reader = new InputStreamReader(inputStream);\r\n       HttpResponse res = gson.fromJson(reader, HttpResponse.class);\r\n       System.out.println(&quot;HttpResponse-&gt; &quot; + EntityUtils.toString(res.getEntity()));\r\n```\r\n**Error:**\r\n```shell\r\n\r\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n\tat java.util.Arrays.copyOf(Arrays.java:3332)\r\n\tat java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:124)\r\n\tat java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:448)\r\n\tat java.lang.StringBuffer.append(StringBuffer.java:276)\r\n\tat java.io.StringWriter.write(StringWriter.java:101)\r\n\tat com.google.gson.stream.JsonWriter.newline(JsonWriter.java:602)\r\n\tat com.google.gson.stream.JsonWriter.beforeValue(JsonWriter.java:646)\r\n\tat com.google.gson.stream.JsonWriter.value(JsonWriter.java:532)\r\n\tat com.google.gson.internal.bind.TypeAdapters$5.write(TypeAdapters.java:189)\r\n\tat com.google.gson.internal.bind.TypeAdapters$5.write(TypeAdapters.java:173)\r\n\tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\r\n\tat com.google.gson.internal.bind.ArrayTypeAdapter.write(ArrayTypeAdapter.java:95)\r\n\tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:127)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:245)\r\n\tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:127)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:245)\r\n\tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:127)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:245)\r\n\tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:127)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:245)\r\n\tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\r\n\tat com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:97)\r\n\tat com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:61)\r\n\tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:127)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:245)\r\n\tat com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:127)\r\n\r\n\r\n```\r\n\r\n","title":"How to serialize &amp; deserialize response object of Httpclient into byte array","body":"<p>I want to serialize and deserialize http response object of Apache, okhttp client etc.</p>\n<p>I am unable to use -&gt;</p>\n<ol>\n<li>Java <strong>Serializable</strong> as response objects of both the clients don't implement serializable interface.</li>\n<li><strong>Jackson</strong> because response object doesn't have no-arg constructor hence shows below error while deserialization.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `org.example.Student` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n</code></pre>\n<ol start=\"3\">\n<li><strong>Gson</strong> due to out of memory error:</li>\n</ol>\n<p>(ApacheClient is used below)</p>\n<p><strong>Serialization:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>       Gson gson = new GsonBuilder().setPrettyPrinting().create();\n       ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n       OutputStreamWriter writer = new OutputStreamWriter(outputStream);\n       gson.toJson(httpResponse, writer);\n       writer.flush();\n</code></pre>\n<p><strong>Deserialization:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>       byte[] data = outputStream.toByteArray();\n       ByteArrayInputStream inputStream = new ByteArrayInputStream(data);\n       InputStreamReader reader = new InputStreamReader(inputStream);\n       HttpResponse res = gson.fromJson(reader, HttpResponse.class);\n       System.out.println(&quot;HttpResponse-&gt; &quot; + EntityUtils.toString(res.getEntity()));\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>\nException in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\n    at java.util.Arrays.copyOf(Arrays.java:3332)\n    at java.lang.AbstractStringBuilder.ensureCapacityInternal(AbstractStringBuilder.java:124)\n    at java.lang.AbstractStringBuilder.append(AbstractStringBuilder.java:448)\n    at java.lang.StringBuffer.append(StringBuffer.java:276)\n    at java.io.StringWriter.write(StringWriter.java:101)\n    at com.google.gson.stream.JsonWriter.newline(JsonWriter.java:602)\n    at com.google.gson.stream.JsonWriter.beforeValue(JsonWriter.java:646)\n    at com.google.gson.stream.JsonWriter.value(JsonWriter.java:532)\n    at com.google.gson.internal.bind.TypeAdapters$5.write(TypeAdapters.java:189)\n    at com.google.gson.internal.bind.TypeAdapters$5.write(TypeAdapters.java:173)\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\n    at com.google.gson.internal.bind.ArrayTypeAdapter.write(ArrayTypeAdapter.java:95)\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:127)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:245)\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:127)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:245)\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:127)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:245)\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:127)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:245)\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\n    at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:97)\n    at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.write(CollectionTypeAdapterFactory.java:61)\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:127)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.write(ReflectiveTypeAdapterFactory.java:245)\n    at com.google.gson.internal.bind.TypeAdapterRuntimeTypeWrapper.write(TypeAdapterRuntimeTypeWrapper.java:69)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.write(ReflectiveTypeAdapterFactory.java:127)\n\n\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":13084338,"reputation":356,"user_id":9453823,"display_name":"Eric"},"score":1,"creation_date":1661764131,"post_id":73526416,"comment_id":129840697,"body_markdown":"share your code snippet, plz.","body":"share your code snippet, plz."}],"answers":[{"tags":[],"owner":{"account_id":7140064,"reputation":340,"user_id":5458108,"display_name":"Lathesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661774694,"creation_date":1661774694,"answer_id":73528533,"question_id":73526416,"body_markdown":"Create a public method in the activity to change set the option menu and call it from the fragment like below.\r\n\r\n    HomeActivity homeActivity=(HomeActivity) getActivity();\r\n    assert homeActivity!=null;\r\n    homeActivity.yourPublicMethod();","title":"how Set OptionsMenu when certain fragment is shown","body":"<p>Create a public method in the activity to change set the option menu and call it from the fragment like below.</p>\n<pre><code>HomeActivity homeActivity=(HomeActivity) getActivity();\nassert homeActivity!=null;\nhomeActivity.yourPublicMethod();\n</code></pre>\n"}],"owner":{"account_id":23331518,"reputation":29,"user_id":17407846,"display_name":"Manu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73528533,"answer_count":1,"score":0,"last_activity_date":1661774694,"creation_date":1661763723,"question_id":73526416,"body_markdown":"In my main Activity, I have a fragmentContainerView in which I am changing the fragments by using bottomNavigationbar which has 2 navigation Items (home &amp; profile).\r\nNow I want to show OptionsMenu the &quot;profile&quot; fragment is shown and then again remove it when the &quot;home&quot; fragment is shown.\r\n\r\nHow can I do it? or is there an alternative?\r\n","title":"how Set OptionsMenu when certain fragment is shown","body":"<p>In my main Activity, I have a fragmentContainerView in which I am changing the fragments by using bottomNavigationbar which has 2 navigation Items (home &amp; profile).\nNow I want to show OptionsMenu the &quot;profile&quot; fragment is shown and then again remove it when the &quot;home&quot; fragment is shown.</p>\n<p>How can I do it? or is there an alternative?</p>\n"},{"tags":["java","oracle","spring-boot","jpa","stored-procedures"],"answers":[{"tags":[],"owner":{"account_id":3338723,"reputation":384,"user_id":2805479,"display_name":"Guru_Clef"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1640839493,"creation_date":1640839493,"answer_id":70527558,"question_id":70526371,"body_markdown":"Spring boot JPA starter calls `StoredProcedureJpaQuery` class on initialization. \r\nThat class contains a property called `useNamedParameters`. \r\n\r\nCalling your stored procedure like this ... \r\n\r\n    @Procedure(name = &quot;MyPackage.spName&quot;)\r\n    Map&lt;String, Object&gt; spName();\r\n\r\nmeans that spring JPA will map your IN and OUT parameters by **position**\r\nTo avoid this, you have to use the annotation **@Param** in your repository, like this ... \r\n\r\n    @Procedure(name = &quot;MyPackage.spName&quot;)\r\n    Map&lt;String, Object&gt; spName(@Param(&quot;PO_VALUE1&quot;) String value1);\r\n\r\nusing the **@Param** annotation will set the `useNamedParameters` property to **true** and Spring JPA will not start looking by **position** instead by **name**. But, I don&#39;t have any IN parameters in my query. So I changed the method to **INOUT** like this ... \r\n\r\n    @StoredProcedureParameter(mode = ParameterMode.INOUT, name = &quot;PO_VALUE1&quot;, type = String.class)\r\n\r\nand passing an empty string when I call the repository ... \r\n\r\n    Map&lt;String, Object&gt; spNameMap = tableNameRepository.spName(&quot;&quot;);\r\n\r\nThat solution works for me, but I&#39;m open to see a better solution for this. ","title":"Call Oracle StoredProcedure with multiple output parameters","body":"<p>Spring boot JPA starter calls <code>StoredProcedureJpaQuery</code> class on initialization.\nThat class contains a property called <code>useNamedParameters</code>.</p>\n<p>Calling your stored procedure like this ...</p>\n<pre><code>@Procedure(name = &quot;MyPackage.spName&quot;)\nMap&lt;String, Object&gt; spName();\n</code></pre>\n<p>means that spring JPA will map your IN and OUT parameters by <strong>position</strong>\nTo avoid this, you have to use the annotation <strong>@Param</strong> in your repository, like this ...</p>\n<pre><code>@Procedure(name = &quot;MyPackage.spName&quot;)\nMap&lt;String, Object&gt; spName(@Param(&quot;PO_VALUE1&quot;) String value1);\n</code></pre>\n<p>using the <strong>@Param</strong> annotation will set the <code>useNamedParameters</code> property to <strong>true</strong> and Spring JPA will not start looking by <strong>position</strong> instead by <strong>name</strong>. But, I don't have any IN parameters in my query. So I changed the method to <strong>INOUT</strong> like this ...</p>\n<pre><code>@StoredProcedureParameter(mode = ParameterMode.INOUT, name = &quot;PO_VALUE1&quot;, type = String.class)\n</code></pre>\n<p>and passing an empty string when I call the repository ...</p>\n<pre><code>Map&lt;String, Object&gt; spNameMap = tableNameRepository.spName(&quot;&quot;);\n</code></pre>\n<p>That solution works for me, but I'm open to see a better solution for this.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661774626,"creation_date":1661774626,"answer_id":73528515,"question_id":70526371,"body_markdown":"I can&#39;t really answer your *specific* question about how to do these things with JPA and Spring Data, although maybe, you don&#39;t have to? \r\n\r\n### Using JDBC for this, directly\r\n\r\nJPA and Spring Data don&#39;t really offer too much value on top of JDBC for ordinary stored procedures. It&#39;s just a different way to manually configure the bindings. So, in JDBC, you&#39;d write this:\r\n\r\n```java\r\ntry (CallableStatement s = c.prepareCall(\r\n    &quot;{ call mypackage.spname(?, ?, ?, ?) }&quot;\r\n)) {\r\n    s.registerOutParameter(1, Types.VARCHAR);\r\n    s.registerOutParameter(2, Types.VARCHAR);\r\n    s.registerOutParameter(3, Types.VARCHAR);\r\n    s.registerOutParameter(4, Types.VARCHAR);\r\n    s.executeUpdate();\r\n    String value1 = s.getString(1);\r\n    String value2 = s.getString(2);\r\n}\r\n```\r\n\r\nI can empathise with the idea that once you use Spring Data JPA and JPA in some areas, you want to use it everywhere. But I just want to remind folks that Spring Data just wraps JDBC, and in the case of stored procedure calls (unless the procedure returns a set of entities), it doesn&#39;t really simplify anything, it just consolidates the programming model.\r\n\r\n### Using a third party library for stored procedure calls\r\n\r\nIf using another third party library is an option for you, why not try [jOOQ, which has a code generator][1] to represent your entire schema, including packages, functions, procedures, UDTs, etc as Java code. With jOOQ, you can just write:\r\n\r\n```java\r\nConfiguration configuration = // Wrapping your JDBC Connection;\r\nSpname result = Mypackage.spname(configuration);\r\nString value1 = result.getPoValue1();\r\nString value2 = result.getPoValue2();\r\n```\r\n\r\nThanks to code generation, everything is type safe, just like when you use XJC to generate stubs for your WSDL endpoints. When you modify the procedure signature, your Java code stops compiling and you can refactor your call code.\r\n\r\nDisclaimer: I work for the company behind jOOQ.\r\n\r\n\r\n  [1]: https://blog.jooq.org/the-best-way-to-call-stored-procedures-from-java-with-jooq/","title":"Call Oracle StoredProcedure with multiple output parameters","body":"<p>I can't really answer your <em>specific</em> question about how to do these things with JPA and Spring Data, although maybe, you don't have to?</p>\n<h3>Using JDBC for this, directly</h3>\n<p>JPA and Spring Data don't really offer too much value on top of JDBC for ordinary stored procedures. It's just a different way to manually configure the bindings. So, in JDBC, you'd write this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (CallableStatement s = c.prepareCall(\n    &quot;{ call mypackage.spname(?, ?, ?, ?) }&quot;\n)) {\n    s.registerOutParameter(1, Types.VARCHAR);\n    s.registerOutParameter(2, Types.VARCHAR);\n    s.registerOutParameter(3, Types.VARCHAR);\n    s.registerOutParameter(4, Types.VARCHAR);\n    s.executeUpdate();\n    String value1 = s.getString(1);\n    String value2 = s.getString(2);\n}\n</code></pre>\n<p>I can empathise with the idea that once you use Spring Data JPA and JPA in some areas, you want to use it everywhere. But I just want to remind folks that Spring Data just wraps JDBC, and in the case of stored procedure calls (unless the procedure returns a set of entities), it doesn't really simplify anything, it just consolidates the programming model.</p>\n<h3>Using a third party library for stored procedure calls</h3>\n<p>If using another third party library is an option for you, why not try <a href=\"https://blog.jooq.org/the-best-way-to-call-stored-procedures-from-java-with-jooq/\" rel=\"nofollow noreferrer\">jOOQ, which has a code generator</a> to represent your entire schema, including packages, functions, procedures, UDTs, etc as Java code. With jOOQ, you can just write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Configuration configuration = // Wrapping your JDBC Connection;\nSpname result = Mypackage.spname(configuration);\nString value1 = result.getPoValue1();\nString value2 = result.getPoValue2();\n</code></pre>\n<p>Thanks to code generation, everything is type safe, just like when you use XJC to generate stubs for your WSDL endpoints. When you modify the procedure signature, your Java code stops compiling and you can refactor your call code.</p>\n<p>Disclaimer: I work for the company behind jOOQ.</p>\n"}],"owner":{"account_id":3338723,"reputation":384,"user_id":2805479,"display_name":"Guru_Clef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6037,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70527558,"answer_count":2,"score":2,"last_activity_date":1661774626,"creation_date":1640824598,"question_id":70526371,"body_markdown":"I have this special case. I have an Oracle stored-procedure that doesn&#39;t receive IN parameters but returns 4 OUT parameters. \r\n\r\nMy entity class is this ... \r\n\r\n        @Entity\r\n        @Table(name = &quot;TABLE_NAME&quot;)\r\n        @NamedStoredProcedureQueries({\r\n          @NamedStoredProcedureQuery(\r\n            name = &quot;MyPackage.spName&quot;,\r\n            procedureName = &quot;MYPACKAGE.SPNAME&quot;,\r\n            parameters = {\r\n              @StoredProcedureParameter(mode = ParameterMode.OUT, name = &quot;PO_VALUE1&quot;, type = String.class),\r\n              @StoredProcedureParameter(mode = ParameterMode.OUT, name = &quot;PO_VALUE2&quot;, type = String.class),\r\n              @StoredProcedureParameter(mode = ParameterMode.OUT, name = &quot;PO_VALUE3&quot;, type = String.class),\r\n              @StoredProcedureParameter(mode = ParameterMode.OUT, name = &quot;PO_VALUE4&quot;, type = String.class)\r\n            })\r\n        \r\n        })\r\n        public class Tablename {    \r\n            // omitted properties ...    \r\n        }\r\n\r\nMy Repository class is this ...\r\n\r\n    @Repository\r\n    public interface TableNameRepository extends JpaRepository&lt;TableName, Long&gt; {\r\n    \r\n      @Procedure(name = &quot;MyPackage.spName&quot;)\r\n      Map&lt;String, Object&gt; spName();\r\n    \r\n    }\r\n\r\nAnd I&#39;m calling the stored procedure like this ... \r\n\r\n      Map&lt;String, Object&gt; spNameMap = tableNameRepository.spName();\r\n      String value1 = spNameMap.get(&quot;PO_VALUE1&quot;).toString();\r\n      String value2 = spNameMap.get(&quot;PO_VALUE2&quot;).toString();\r\n      // more values ... \r\n\r\n\r\nBut it throws this exception ... \r\n\r\n&gt; Positional parameter [1] is not registered with this procedure call;\r\n\r\n    2021-12-29 18:55:13,630 ERROR [http-nio-3000-exec-1] pe.gob.onpe.wsonpe.service.VersionService: InvalidDataAccessApiUsageException: Positional parameter [1] is not registered with this procedure call; nested exception is java.lang.IllegalArgumentException: Positional parameter [1] is not registered with this procedure call\r\n    2021-12-29 18:55:13,633 ERROR [http-nio-3000-exec-1] pe.gob.onpe.wsonpe.service.VersionService: org.springframework.dao.InvalidDataAccessApiUsageException: Positional parameter [1] is not registered with this procedure call; nested exception is java.lang.IllegalArgumentException: Positional parameter [1] is not registered with this procedure call\r\n    \tat org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\r\n    \tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n    \tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n    \tat com.sun.proxy.$Proxy123.spFecha(Unknown Source)\r\n    \tat pe.gob.onpe.wsonpe.service.VersionService.verificarVersion(VersionService.java:32)\r\n    \tat pe.gob.onpe.wsonpe.controller.VersionController.userLogin(VersionController.java:44)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.IllegalArgumentException: Positional parameter [1] is not registered with this procedure call\r\n    \tat org.hibernate.query.procedure.internal.ProcedureParameterMetadata.getQueryParameter(ProcedureParameterMetadata.java:141)\r\n    \tat org.hibernate.procedure.internal.ProcedureCallImpl.getParameterRegistration(ProcedureCallImpl.java:311)\r\n    \tat org.hibernate.procedure.internal.ProcedureOutputsImpl.getOutputParameterValue(ProcedureOutputsImpl.java:53)\r\n    \tat org.hibernate.procedure.internal.ProcedureCallImpl.getOutputParameterValue(ProcedureCallImpl.java:656)\r\n    \tat org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.extractOutputParameterValue(StoredProcedureJpaQuery.java:158)\r\n    \tat org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.extractOutputValue(StoredProcedureJpaQuery.java:142)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$ProcedureExecution.doExecute(JpaQueryExecution.java:335)\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159)\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n    \t... 61 more\r\n\r\nIt seems that JPA is trying to map parameters by **order** instead by **name**. This behaviour is weird, since I&#39;m using parameter names with the annotation **@StoredProcedureParameter**\r\n\r\nPlease internet, help me with this. \r\n\r\n","title":"Call Oracle StoredProcedure with multiple output parameters","body":"<p>I have this special case. I have an Oracle stored-procedure that doesn't receive IN parameters but returns 4 OUT parameters.</p>\n<p>My entity class is this ...</p>\n<pre><code>    @Entity\n    @Table(name = &quot;TABLE_NAME&quot;)\n    @NamedStoredProcedureQueries({\n      @NamedStoredProcedureQuery(\n        name = &quot;MyPackage.spName&quot;,\n        procedureName = &quot;MYPACKAGE.SPNAME&quot;,\n        parameters = {\n          @StoredProcedureParameter(mode = ParameterMode.OUT, name = &quot;PO_VALUE1&quot;, type = String.class),\n          @StoredProcedureParameter(mode = ParameterMode.OUT, name = &quot;PO_VALUE2&quot;, type = String.class),\n          @StoredProcedureParameter(mode = ParameterMode.OUT, name = &quot;PO_VALUE3&quot;, type = String.class),\n          @StoredProcedureParameter(mode = ParameterMode.OUT, name = &quot;PO_VALUE4&quot;, type = String.class)\n        })\n    \n    })\n    public class Tablename {    \n        // omitted properties ...    \n    }\n</code></pre>\n<p>My Repository class is this ...</p>\n<pre><code>@Repository\npublic interface TableNameRepository extends JpaRepository&lt;TableName, Long&gt; {\n\n  @Procedure(name = &quot;MyPackage.spName&quot;)\n  Map&lt;String, Object&gt; spName();\n\n}\n</code></pre>\n<p>And I'm calling the stored procedure like this ...</p>\n<pre><code>  Map&lt;String, Object&gt; spNameMap = tableNameRepository.spName();\n  String value1 = spNameMap.get(&quot;PO_VALUE1&quot;).toString();\n  String value2 = spNameMap.get(&quot;PO_VALUE2&quot;).toString();\n  // more values ... \n</code></pre>\n<p>But it throws this exception ...</p>\n<blockquote>\n<p>Positional parameter [1] is not registered with this procedure call;</p>\n</blockquote>\n<pre><code>2021-12-29 18:55:13,630 ERROR [http-nio-3000-exec-1] pe.gob.onpe.wsonpe.service.VersionService: InvalidDataAccessApiUsageException: Positional parameter [1] is not registered with this procedure call; nested exception is java.lang.IllegalArgumentException: Positional parameter [1] is not registered with this procedure call\n2021-12-29 18:55:13,633 ERROR [http-nio-3000-exec-1] pe.gob.onpe.wsonpe.service.VersionService: org.springframework.dao.InvalidDataAccessApiUsageException: Positional parameter [1] is not registered with this procedure call; nested exception is java.lang.IllegalArgumentException: Positional parameter [1] is not registered with this procedure call\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy123.spFecha(Unknown Source)\n    at pe.gob.onpe.wsonpe.service.VersionService.verificarVersion(VersionService.java:32)\n    at pe.gob.onpe.wsonpe.controller.VersionController.userLogin(VersionController.java:44)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1722)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.IllegalArgumentException: Positional parameter [1] is not registered with this procedure call\n    at org.hibernate.query.procedure.internal.ProcedureParameterMetadata.getQueryParameter(ProcedureParameterMetadata.java:141)\n    at org.hibernate.procedure.internal.ProcedureCallImpl.getParameterRegistration(ProcedureCallImpl.java:311)\n    at org.hibernate.procedure.internal.ProcedureOutputsImpl.getOutputParameterValue(ProcedureOutputsImpl.java:53)\n    at org.hibernate.procedure.internal.ProcedureCallImpl.getOutputParameterValue(ProcedureCallImpl.java:656)\n    at org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.extractOutputParameterValue(StoredProcedureJpaQuery.java:158)\n    at org.springframework.data.jpa.repository.query.StoredProcedureJpaQuery.extractOutputValue(StoredProcedureJpaQuery.java:142)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$ProcedureExecution.doExecute(JpaQueryExecution.java:335)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 61 more\n</code></pre>\n<p>It seems that JPA is trying to map parameters by <strong>order</strong> instead by <strong>name</strong>. This behaviour is weird, since I'm using parameter names with the annotation <strong>@StoredProcedureParameter</strong></p>\n<p>Please internet, help me with this.</p>\n"},{"tags":["java","maven","jar","nexus"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1661103069,"post_id":73436546,"comment_id":129686694,"body_markdown":"This would need to be a function of either your source version control system, or nexus as this needs metadata that is not collected by default. If you use a build server you may be able to configure it to tell you.","body":"This would need to be a function of either your source version control system, or nexus as this needs metadata that is not collected by default. If you use a build server you may be able to configure it to tell you."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1661109698,"post_id":73436546,"comment_id":129688247,"body_markdown":"In Maven as well as other build tools are using groupId/artifactId/version to identify an artifact (in other words a JAR file) which contains packages. But there is no mechanism to search/find a project by using a package name.","body":"In Maven as well as other build tools are using groupId/artifactId/version to identify an artifact (in other words a JAR file) which contains packages. But there is no mechanism to search/find a project by using a package name."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":1,"creation_date":1661353891,"post_id":73436546,"comment_id":129753509,"body_markdown":"Sites like `mvnrepository.com` and `github.com` show usages/counts of packages as dependencies in other projects. I assume they do this by parsing all pom/gradle/etc build files they have on their system. If there is no existing solution/plugin for that, you would have to write something on your own.","body":"Sites like <code>mvnrepository.com</code> and <code>github.com</code> show usages/counts of packages as dependencies in other projects. I assume they do this by parsing all pom/gradle/etc build files they have on their system. If there is no existing solution/plugin for that, you would have to write something on your own."},{"owner":{"account_id":13520273,"reputation":756,"user_id":10422932,"display_name":"Hoshani"},"score":0,"creation_date":1661421455,"post_id":73436546,"comment_id":129770626,"body_markdown":"@slindenau surely it does exist somewhere, and surely I am not the first person to come up with such an idea. writing my own solution is the last I want to do, as I would like to know all available solutions first.","body":"@slindenau surely it does exist somewhere, and surely I am not the first person to come up with such an idea. writing my own solution is the last I want to do, as I would like to know all available solutions first."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1661426320,"post_id":73436546,"comment_id":129772378,"body_markdown":"Just stumbled upon this answer: https://stackoverflow.com/a/34066648/2846138 - it&#39;s talking about a tool for building a dependency graph, and although the answer is old, the tool seems to be still in active development: https://github.com/ltearno/pom-explorer Maybe the other answers on that question also help you a bit?","body":"Just stumbled upon this answer: <a href=\"https://stackoverflow.com/a/34066648/2846138\">stackoverflow.com/a/34066648/2846138</a> - it&#39;s talking about a tool for building a dependency graph, and although the answer is old, the tool seems to be still in active development: <a href=\"https://github.com/ltearno/pom-explorer\" rel=\"nofollow noreferrer\">github.com/ltearno/pom-explorer</a> Maybe the other answers on that question also help you a bit?"},{"owner":{"account_id":13520273,"reputation":756,"user_id":10422932,"display_name":"Hoshani"},"score":0,"creation_date":1661686098,"post_id":73436546,"comment_id":129826157,"body_markdown":"@cyberbrain this looks promising! However, it depends on projects loaded on local machine while what I want is something that integrates with git.","body":"@cyberbrain this looks promising! However, it depends on projects loaded on local machine while what I want is something that integrates with git."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1661687023,"post_id":73436546,"comment_id":129826363,"body_markdown":"so your projects &quot;ACC&quot; and &quot;HR&quot; do _not_ have their build results published to a (even local) maven repository server?","body":"so your projects &quot;ACC&quot; and &quot;HR&quot; do <i>not</i> have their build results published to a (even local) maven repository server?"},{"owner":{"account_id":13520273,"reputation":756,"user_id":10422932,"display_name":"Hoshani"},"score":0,"creation_date":1661770294,"post_id":73436546,"comment_id":129842637,"body_markdown":"@cyberbrain if by build result you are referring to `jar` files then these are published only to gitlab. If this is not what you mean this please explain it further.","body":"@cyberbrain if by build result you are referring to <code>jar</code> files then these are published only to gitlab. If this is not what you mean this please explain it further."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1661772002,"post_id":73436546,"comment_id":129843197,"body_markdown":"Yes, I meant exactly that. GitLab also has a feature called &quot;Package Registry&quot; to put packages with the `mvn deploy` command (see https://docs.gitlab.com/ee/user/packages/maven_repository/), do you use that, or just commit and push the jar-files into the regular source repository? The GitLab version I got here for comparison has this as feature &quot;Packages&quot; in the General settings.","body":"Yes, I meant exactly that. GitLab also has a feature called &quot;Package Registry&quot; to put packages with the <code>mvn deploy</code> command (see <a href=\"https://docs.gitlab.com/ee/user/packages/maven_repository/\" rel=\"nofollow noreferrer\">docs.gitlab.com/ee/user/packages/maven_repository</a>), do you use that, or just commit and push the jar-files into the regular source repository? The GitLab version I got here for comparison has this as feature &quot;Packages&quot; in the General settings."},{"owner":{"account_id":13520273,"reputation":756,"user_id":10422932,"display_name":"Hoshani"},"score":0,"creation_date":1661860330,"post_id":73436546,"comment_id":129867124,"body_markdown":"@cyberbrain so what you are proposing is to stop using nexus and go to gitlab, from there after registering packages I can search for their usage?","body":"@cyberbrain so what you are proposing is to stop using nexus and go to gitlab, from there after registering packages I can search for their usage?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1661860613,"post_id":73436546,"comment_id":129867254,"body_markdown":"no, if you use Nexus already and publish your jars (of ACC and HR) with `mvn deploy` there, all maven based solutions should work - even without having the sourcecode available on the local machine. Maybe metadata will be cached on your local machine, but that should happen automatically in the background.","body":"no, if you use Nexus already and publish your jars (of ACC and HR) with <code>mvn deploy</code> there, all maven based solutions should work - even without having the sourcecode available on the local machine. Maybe metadata will be cached on your local machine, but that should happen automatically in the background."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661109390,"creation_date":1661109390,"answer_id":73437528,"question_id":73436546,"body_markdown":"I am not sure how to calculate dependencies through package names. But:\r\n\r\n- If you have access to the source you can scan your projects for pom.xml and find the dependencies\r\n- If you have access to the runtime libraries you can scan these jars for `/META-INF/maven/*/*/pom.xml` and check the dependencies\r\n\r\nEither way you should be able to find jar files making use of `Calc`.\r\nThere is no way to ask `Calc` where it got used from.","title":"Is there a way to list projects using a specific maven package?","body":"<p>I am not sure how to calculate dependencies through package names. But:</p>\n<ul>\n<li>If you have access to the source you can scan your projects for pom.xml and find the dependencies</li>\n<li>If you have access to the runtime libraries you can scan these jars for <code>/META-INF/maven/*/*/pom.xml</code> and check the dependencies</li>\n</ul>\n<p>Either way you should be able to find jar files making use of <code>Calc</code>.\nThere is no way to ask <code>Calc</code> where it got used from.</p>\n"},{"tags":[],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1661774612,"creation_date":1661774612,"answer_id":73528512,"question_id":73436546,"body_markdown":"If you have the projects that you want checked out locally, you could find the dependency-tree for each project:\r\n\r\n`mvn depedency:tree`\r\n\r\nThis gives you all the (transitive) dependencies that are used the projects. If you do this for each project and then grep your package-name, this should find you all projects that use it, or at least have a dependency on it.\r\n\r\n ","title":"Is there a way to list projects using a specific maven package?","body":"<p>If you have the projects that you want checked out locally, you could find the dependency-tree for each project:</p>\n<p><code>mvn depedency:tree</code></p>\n<p>This gives you all the (transitive) dependencies that are used the projects. If you do this for each project and then grep your package-name, this should find you all projects that use it, or at least have a dependency on it.</p>\n"}],"owner":{"account_id":13520273,"reputation":756,"user_id":10422932,"display_name":"Hoshani"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":2,"score":4,"last_activity_date":1661774612,"creation_date":1661101299,"question_id":73436546,"body_markdown":"**Background:**\r\n\r\nI have multiple projects that utilize the same logic across their business so I decided to split the shared part and reference it in both projects.\r\n\r\n**Example:**\r\n\r\nSuppose there is an HR application and an Accounting application that require a shared business in this case let&#39;s say `count hours` which is part of calculations class (let&#39;s call it `calc`).\r\n\r\nBoth applications (HR &amp; Accounting) have their own repository on gitlab. Also have independent deployment and utilize the `calc` package which is uploaded on nexus repository.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Question:**\r\n\r\nI would like to know if there is a way to find projects using `calc` package through the package name across the repositories. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gWM2I.png","title":"Is there a way to list projects using a specific maven package?","body":"<p><strong>Background:</strong></p>\n<p>I have multiple projects that utilize the same logic across their business so I decided to split the shared part and reference it in both projects.</p>\n<p><strong>Example:</strong></p>\n<p>Suppose there is an HR application and an Accounting application that require a shared business in this case let's say <code>count hours</code> which is part of calculations class (let's call it <code>calc</code>).</p>\n<p>Both applications (HR &amp; Accounting) have their own repository on gitlab. Also have independent deployment and utilize the <code>calc</code> package which is uploaded on nexus repository.</p>\n<p><a href=\"https://i.stack.imgur.com/gWM2I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gWM2I.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Question:</strong></p>\n<p>I would like to know if there is a way to find projects using <code>calc</code> package through the package name across the repositories.</p>\n"},{"tags":["java","long-integer","primitive-types"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":6,"creation_date":1661772967,"post_id":73528147,"comment_id":129843532,"body_markdown":"*&quot;...problem is that I am getting this from a network call and if I declare my field as long and value will come simply as 20118998631 then it will break&quot;* -- can you tell the details about this, since this may be where the problem should be attacked.","body":"<i>&quot;...problem is that I am getting this from a network call and if I declare my field as long and value will come simply as 20118998631 then it will break&quot;</i> -- can you tell the details about this, since this may be where the problem should be attacked."},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1661772972,"post_id":73528147,"comment_id":129843534,"body_markdown":"If you are getting the value from a call then I don&#39;t see how the above literal declarations have anything to do with that. Consider showing an example that actually shows how you get that number and what error happens. As it currently stands all we can tell you is that in the above you are trying to declare invalid int literals, but that won&#39;t really help you solve your actual problem.","body":"If you are getting the value from a call then I don&#39;t see how the above literal declarations have anything to do with that. Consider showing an example that actually shows how you get that number and what error happens. As it currently stands all we can tell you is that in the above you are trying to declare invalid int literals, but that won&#39;t really help you solve your actual problem."},{"owner":{"account_id":6619055,"reputation":2065,"user_id":5111394,"accept_rate":53,"display_name":"pjj"},"score":0,"creation_date":1661773459,"post_id":73528147,"comment_id":129843697,"body_markdown":"@HovercraftFullOfEels It is simply a REST call and I am de-serializing the result and where this particular field is deserialized is currenlty declared as INT, so I thought changing it to long will help but that is also compilation error, so I am sure that at runtime again I will get deserialization exception when 20118998631 will come in the result.","body":"@HovercraftFullOfEels It is simply a REST call and I am de-serializing the result and where this particular field is deserialized is currenlty declared as INT, so I thought changing it to long will help but that is also compilation error, so I am sure that at runtime again I will get deserialization exception when 20118998631 will come in the result."},{"owner":{"account_id":6619055,"reputation":2065,"user_id":5111394,"accept_rate":53,"display_name":"pjj"},"score":0,"creation_date":1661773525,"post_id":73528147,"comment_id":129843717,"body_markdown":"@OHGODSPIDERS if I have to hold this 20118998631 value in some primitive then how will I hold?","body":"@OHGODSPIDERS if I have to hold this 20118998631 value in some primitive then how will I hold?"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1661774348,"post_id":73528147,"comment_id":129844002,"body_markdown":"It&#39;s not clear what your problem is as you mention network calls, but show assignments. `Long.MAX_VALUE` is set to `9223372036854775807` and `Long.MAX_VALUE &gt; 20118998631L` is `true`. It can be stored as a long.","body":"It&#39;s not clear what your problem is as you mention network calls, but show assignments. <code>Long.MAX_VALUE</code> is set to <code>9223372036854775807</code> and <code>Long.MAX_VALUE &gt; 20118998631L</code> is <code>true</code>. It can be stored as a long."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661773484,"creation_date":1661773484,"answer_id":73528292,"question_id":73528147,"body_markdown":"&gt; I know that max value for int and long are very high\r\n\r\nThe definition of &#39;very&#39; is in the eye of the beholder, isn&#39;t it?\r\n\r\nThe max value of an int is `Integer.MAX_VALUE`, which is 2147483647. Specifically, that&#39;s 2, to the 31st power, minus 1. Because computers use bits, `int` uses 32 bits, and about half of all the numbers an int can represent are used to represent _negative_ numbers, hence why you end up with 2^31-1 as max int.\r\n\r\nFor longs, its 2^63-1 for the same reason: `long` uses 64 bit, and half of all representable values are negative.\r\n\r\nIf you have numbers that are larger than this, you need to use `BigInteger` (a class in the standard library for integers of arbitrary size) or `byte[]` or something else.\r\n\r\n&gt; but problem is that I am getting this from a network call and if I declare my field as long and value will come simply as 20118998631 then it will break.\r\n\r\nThis doesn&#39;t make sense. Are you getting stuff from the network, shoving what you get into a file with a prefix and suffix, and then that file is something you compile with `javac`? That sounds bonkers, but if you are, just.. add that `L`. Or, add `&quot;` before and after the number and pass that to `new BigInteger` instead, now the number can be thousands of digits large if you want it to be.\r\n\r\nOtherwise, you&#39;re getting a bytes which either represent the number directly (and the `L` aspect is not relevant to this conversation), or you&#39;re getting a string in, which again, isn&#39;t relevant to this conversation: That L is _just_ for writing literal numbers inside `.java` files, it doesn&#39;t come up _anywhere else_. Turning a string containing digits, such as `&quot;20118998631&quot;` into e.g. a long is done with `Long.parseLong(&quot;20118998631&quot;)` which works fine, and does not require the L (in fact, it won&#39;t work if you include it).\r\n","title":"Not able to handle number whose length is more than 10","body":"<blockquote>\n<p>I know that max value for int and long are very high</p>\n</blockquote>\n<p>The definition of 'very' is in the eye of the beholder, isn't it?</p>\n<p>The max value of an int is <code>Integer.MAX_VALUE</code>, which is 2147483647. Specifically, that's 2, to the 31st power, minus 1. Because computers use bits, <code>int</code> uses 32 bits, and about half of all the numbers an int can represent are used to represent <em>negative</em> numbers, hence why you end up with 2^31-1 as max int.</p>\n<p>For longs, its 2^63-1 for the same reason: <code>long</code> uses 64 bit, and half of all representable values are negative.</p>\n<p>If you have numbers that are larger than this, you need to use <code>BigInteger</code> (a class in the standard library for integers of arbitrary size) or <code>byte[]</code> or something else.</p>\n<blockquote>\n<p>but problem is that I am getting this from a network call and if I declare my field as long and value will come simply as 20118998631 then it will break.</p>\n</blockquote>\n<p>This doesn't make sense. Are you getting stuff from the network, shoving what you get into a file with a prefix and suffix, and then that file is something you compile with <code>javac</code>? That sounds bonkers, but if you are, just.. add that <code>L</code>. Or, add <code>&quot;</code> before and after the number and pass that to <code>new BigInteger</code> instead, now the number can be thousands of digits large if you want it to be.</p>\n<p>Otherwise, you're getting a bytes which either represent the number directly (and the <code>L</code> aspect is not relevant to this conversation), or you're getting a string in, which again, isn't relevant to this conversation: That L is <em>just</em> for writing literal numbers inside <code>.java</code> files, it doesn't come up <em>anywhere else</em>. Turning a string containing digits, such as <code>&quot;20118998631&quot;</code> into e.g. a long is done with <code>Long.parseLong(&quot;20118998631&quot;)</code> which works fine, and does not require the L (in fact, it won't work if you include it).</p>\n"},{"tags":[],"owner":{"account_id":13177851,"reputation":557,"user_id":9518232,"display_name":"Euklios"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661773874,"creation_date":1661773874,"answer_id":73528357,"question_id":73528147,"body_markdown":"As people have already mentioned in the comments, we need more details about your networking in order to answer the question in full.\r\n\r\nIn general:\r\n\r\nYour respons will be in form of a string (or byte array to be exact) and you will have to convert this to your representation.\r\nYou will have to use a function to convert the string to your desired representation, for example, `Long.valueOf(&quot;20118998631&quot;)` would do it.\r\nBut depending on the setup in use you might need to configure your networking to interpret the incoming number as long.\r\n\r\nIn general, most developers tend to use int for most things, so you might have code in your networking that tries to convert all numbers to int, which will not work with numbers larger than 2147483647, no matter what. The StackTrace should help in this case.\r\n\r\nFor the examples provided in your question:\r\n\r\n```java\r\nint x = 20118998631;\r\n/*\r\ncompilation error, the number doesn&#39;t fit within an integer and never will.\r\nTherefore expected.\r\n*/\r\n\r\nlong l = 20118998631;\r\n/*\r\ncompilation error, you assign to the variable l the integer constant 20118998631;\r\nthis will not work as the given integer is larger than max int.\r\nUse 20118998631L (not the L) to use a long\r\n*/\r\n\r\ndouble d = 20118998631; \r\n/*\r\ncompilation error, same as with long above, use a capital D to interpret the number as double\r\n*/\r\n\r\nLong l1 = new Long(20118998631);\r\n/*\r\ncompilation error\r\nSame as with long above, you declare an integer constant larger than max int and box it within long.\r\nAdd a trailing L for long and preferably remove the boxing (java will auto-box if necessary)\r\n*/\r\n```\r\n","title":"Not able to handle number whose length is more than 10","body":"<p>As people have already mentioned in the comments, we need more details about your networking in order to answer the question in full.</p>\n<p>In general:</p>\n<p>Your respons will be in form of a string (or byte array to be exact) and you will have to convert this to your representation.\nYou will have to use a function to convert the string to your desired representation, for example, <code>Long.valueOf(&quot;20118998631&quot;)</code> would do it.\nBut depending on the setup in use you might need to configure your networking to interpret the incoming number as long.</p>\n<p>In general, most developers tend to use int for most things, so you might have code in your networking that tries to convert all numbers to int, which will not work with numbers larger than 2147483647, no matter what. The StackTrace should help in this case.</p>\n<p>For the examples provided in your question:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int x = 20118998631;\n/*\ncompilation error, the number doesn't fit within an integer and never will.\nTherefore expected.\n*/\n\nlong l = 20118998631;\n/*\ncompilation error, you assign to the variable l the integer constant 20118998631;\nthis will not work as the given integer is larger than max int.\nUse 20118998631L (not the L) to use a long\n*/\n\ndouble d = 20118998631; \n/*\ncompilation error, same as with long above, use a capital D to interpret the number as double\n*/\n\nLong l1 = new Long(20118998631);\n/*\ncompilation error\nSame as with long above, you declare an integer constant larger than max int and box it within long.\nAdd a trailing L for long and preferably remove the boxing (java will auto-box if necessary)\n*/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661774498,"creation_date":1661774498,"answer_id":73528494,"question_id":73528147,"body_markdown":"So 20118998631L = 0x4_AF2F_8E67L which does not fit in a java `int` of 4 bytes, only in a `long`.\r\n\r\nThe REST API defines an INT and indeed in an SQL INT this might fit.\r\n\r\nGetting the &quot;INT&quot; as String s you must do `Long.parseLong(s)`.\r\n\r\nGetting the &quot;INT&quot; as bytes, then 04 might be a size (4 bytes), of 2939129447.\r\n\r\n","title":"Not able to handle number whose length is more than 10","body":"<p>So 20118998631L = 0x4_AF2F_8E67L which does not fit in a java <code>int</code> of 4 bytes, only in a <code>long</code>.</p>\n<p>The REST API defines an INT and indeed in an SQL INT this might fit.</p>\n<p>Getting the &quot;INT&quot; as String s you must do <code>Long.parseLong(s)</code>.</p>\n<p>Getting the &quot;INT&quot; as bytes, then 04 might be a size (4 bytes), of 2939129447.</p>\n"}],"owner":{"account_id":6619055,"reputation":2065,"user_id":5111394,"accept_rate":53,"display_name":"pjj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1661774793,"accepted_answer_id":73528292,"answer_count":3,"score":-1,"last_activity_date":1661774498,"creation_date":1661772742,"question_id":73528147,"body_markdown":"I know that max value for `int` and `long` are very high but somehow I am not able to handle them in my code. I am getting compilation error in all the scenarios below. Could someone please suggest how I can handle `20118998631` value.\r\n\r\nI know that if I put `l` after this value `20118998631l` then declaring it as long will work but problem is that I am getting this from a network call and if I declare my field as long and value will come simply as `20118998631` then it will break.\r\n\r\n\t\tint x = 20118998631; // compilation error\r\n\t\tlong l = 20118998631; // compilation error\r\n\t\tdouble d = 20118998631; // compilation error\r\n\t\tLong l1 = new Long(20118998631); // compilation error","title":"Not able to handle number whose length is more than 10","body":"<p>I know that max value for <code>int</code> and <code>long</code> are very high but somehow I am not able to handle them in my code. I am getting compilation error in all the scenarios below. Could someone please suggest how I can handle <code>20118998631</code> value.</p>\n<p>I know that if I put <code>l</code> after this value <code>20118998631l</code> then declaring it as long will work but problem is that I am getting this from a network call and if I declare my field as long and value will come simply as <code>20118998631</code> then it will break.</p>\n<pre><code>    int x = 20118998631; // compilation error\n    long l = 20118998631; // compilation error\n    double d = 20118998631; // compilation error\n    Long l1 = new Long(20118998631); // compilation error\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","hibernate-validator"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661774832,"post_id":73528080,"comment_id":129844169,"body_markdown":"They are different as they serve different purposes. The Spring MVC support for validation is mainly for validating form/request objects and not method parameters. Method parameter validation is mainly intended to validate the user input on services etc. They work differently and also report different errors to the user.","body":"They are different as they serve different purposes. The Spring MVC support for validation is mainly for validating form/request objects and not method parameters. Method parameter validation is mainly intended to validate the user input on services etc. They work differently and also report different errors to the user."},{"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"score":0,"creation_date":1661775370,"post_id":73528080,"comment_id":129844358,"body_markdown":"As I understood, the validation in MVC is interested in requested object&#39;s integrety itself(which means, doesn&#39;t expect the object to contain proper value complying with my domain logic), so when `List` is given, it only cares about the size of list or something else. is this thought right ?","body":"As I understood, the validation in MVC is interested in requested object&#39;s integrety itself(which means, doesn&#39;t expect the object to contain proper value complying with my domain logic), so when <code>List</code> is given, it only cares about the size of list or something else. is this thought right ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661777265,"post_id":73528080,"comment_id":129845061,"body_markdown":"The first part is correct, the second isn&#39;t.","body":"The first part is correct, the second isn&#39;t."}],"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661774482,"creation_date":1661772382,"question_id":73528080,"body_markdown":"&gt; I know there are several questions related this subject. This question is about &quot;why&quot;\r\n\r\nWhen resolving argument in controller, validation not works as expected.\r\n\r\nboth of codes below not working\r\n\r\n```java\r\npublic void foo(@RequestBody @Valid List&lt;MyDTO&gt; requests) {\r\n ...\r\n}\r\n```\r\n\r\n```java\r\npublic void foo(@RequestBody List&lt;@Valid MyDTO&gt; requests) {\r\n ...\r\n}\r\n```\r\n\r\nHowever, when I add `@Validated` annotation to my controller, then it works.\r\n\r\nAfter I digged into the code, I found that the argument resolver just finds annotations by `getParameterAnnotation` in java.lang.reflect and this doesn&#39;t extract `@Valid` annotation in type like `List&lt;@Valid MyDTO&gt;`.\r\n\r\nHowever, proxy handler of `@Validated` can extract it through `ParameterizedType` in java.lang.reflect. (this may be wrong `cause I&#39;m not good at debugging)\r\n\r\n\r\nWhy are they different ? Is this just mistake ? or Is there any reason?\r\n","title":"Why Spring MVC doesn&#39;t validate parameter with generic type","body":"<blockquote>\n<p>I know there are several questions related this subject. This question is about &quot;why&quot;</p>\n</blockquote>\n<p>When resolving argument in controller, validation not works as expected.</p>\n<p>both of codes below not working</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void foo(@RequestBody @Valid List&lt;MyDTO&gt; requests) {\n ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public void foo(@RequestBody List&lt;@Valid MyDTO&gt; requests) {\n ...\n}\n</code></pre>\n<p>However, when I add <code>@Validated</code> annotation to my controller, then it works.</p>\n<p>After I digged into the code, I found that the argument resolver just finds annotations by <code>getParameterAnnotation</code> in java.lang.reflect and this doesn't extract <code>@Valid</code> annotation in type like <code>List&lt;@Valid MyDTO&gt;</code>.</p>\n<p>However, proxy handler of <code>@Validated</code> can extract it through <code>ParameterizedType</code> in java.lang.reflect. (this may be wrong `cause I'm not good at debugging)</p>\n<p>Why are they different ? Is this just mistake ? or Is there any reason?</p>\n"},{"tags":["java","list","collections"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":6,"creation_date":1661773354,"post_id":73528122,"comment_id":129843661,"body_markdown":"Do you know what an [*array*](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html) is?","body":"Do you know what an <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\"><i>array</i></a> is?"},{"owner":{"account_id":1674243,"reputation":10043,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":3,"creation_date":1661774197,"post_id":73528122,"comment_id":129843949,"body_markdown":"[`ArrayList&lt;E&gt;`](https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/tip/src/share/classes/java/util/ArrayList.java).","body":"<a href=\"https://hg.openjdk.java.net/jdk8/jdk8/jdk/file/tip/src/share/classes/java/util/ArrayList.java\" rel=\"nofollow noreferrer\"><code>ArrayList&lt;E&gt;</code></a>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1661775708,"post_id":73528122,"comment_id":129844486,"body_markdown":"You need to get familiar with the notion of [*Data structure*](https://en.wikipedia.org/wiki/Data_structure), then learn about [*Array*](https://en.wikipedia.org/wiki/Array_data_structure) and [*Dynamic array*](https://en.wikipedia.org/wiki/Dynamic_array). At that point, you will understand that `ArrayList` is an implementation of the Dynamic array data structure offered by the JDK. Your current question *&quot;Where are the elements of a collection stored&quot;* is too broad.","body":"You need to get familiar with the notion of <a href=\"https://en.wikipedia.org/wiki/Data_structure\" rel=\"nofollow noreferrer\"><i>Data structure</i></a>, then learn about <a href=\"https://en.wikipedia.org/wiki/Array_data_structure\" rel=\"nofollow noreferrer\"><i>Array</i></a> and <a href=\"https://en.wikipedia.org/wiki/Dynamic_array\" rel=\"nofollow noreferrer\"><i>Dynamic array</i></a>. At that point, you will understand that <code>ArrayList</code> is an implementation of the Dynamic array data structure offered by the JDK. Your current question <i>&quot;Where are the elements of a collection stored&quot;</i> is too broad."}],"answers":[{"tags":[],"owner":{"account_id":24350641,"reputation":125,"user_id":18286518,"display_name":"Find Bugs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661774097,"creation_date":1661774039,"answer_id":73528393,"question_id":73528122,"body_markdown":" - First of all, ``` Collection ``` is just an interface, the implementation is ``` ArrayList ```. So we just focus on the detail of ``` ArrayList ```\r\n\r\n- ``` ArrayList ``` is implemented with an array internal. So ``` add(3) ``` means set the ``` arr[index] = 3; ``` The index is from zero.\r\n\r\n- View the source code, you will see the ``` iterator(); ``` is a wrapper for the array visitor. Some key variables is ``` cursor ```, ``` lastRet ```, ``` expectedModCount ```.\r\n\r\n- Finally as a new beginner, view source code maybe resolve all your problems. ","title":"Where are the elements of a collection stored in java?","body":"<ul>\n<li><p>First of all, <code>Collection</code> is just an interface, the implementation is <code>ArrayList</code>. So we just focus on the detail of <code>ArrayList</code></p>\n</li>\n<li><p><code>ArrayList</code> is implemented with an array internal. So <code>add(3)</code> means set the <code>arr[index] = 3;</code> The index is from zero.</p>\n</li>\n<li><p>View the source code, you will see the <code>iterator();</code> is a wrapper for the array visitor. Some key variables is <code>cursor</code>, <code>lastRet</code>, <code>expectedModCount</code>.</p>\n</li>\n<li><p>Finally as a new beginner, view source code maybe resolve all your problems.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661774233,"creation_date":1661774233,"answer_id":73528438,"question_id":73528122,"body_markdown":"&gt; ```\r\n&gt; Collection&lt;Integer&gt; intList= new ArrayList();\r\n&gt; ```\r\n\r\nThis is syntax sugar. So lets desugar it, to understand what happens. Specifically, this code does 3 mostly unrelated things:\r\n\r\n1. Declare a new typed variable, named `intList`.\r\n2. Create a new ArrayList object. Objects do not have names.\r\n3. Copy over the _reference_ to this object into the `intList` variable.\r\n\r\nIn java, all variables (so also all parameters, and all fields) are either &quot;primitive&quot; or &quot;reference&quot;. That&#39;s exhaustive: Those are the only 2 options. Primitives are all variables whose type is one of the primitive types. The primitive types are hardcoded into the java lang spec. They are `int`, `long`, `double`, `float`, `short`, `byte`, `char`, and `boolean` - and that&#39;s it. Those are the 8. Note that `String` is not amongst them.\r\n\r\nFor the primitives, a variable just stores the value. This is simple: _all_ the primitives have the property that their size is fixed and small. At most they are 64 bits, and all CPUs built in the last decade pretty much operate on 64-bit units so that lines up nicely.\r\n\r\nFor the refs, not so much. A string, for example, can be incredibly large. So, instead, the variable __does not contain the data__. It instead contains __a reference to the data__ - a pointer. Except we don&#39;t like to call it that because the term &#39;pointer&#39; has baggage, but make no mistake: It&#39;s a pointer.\r\n\r\nHere, `intList` is the variable that can only hold _references_ (because its type is _not_ primitive). `new ArrayList()` creates an entire object and the expression resolves to _a reference_, which is then assigned to the `intList` variable.\r\n\r\nThink of it like a gigantic beach. `new ArrayList()` creates a new treasure chest out of thin air, and buries it in the sand. `intList` is not the treasure chest. No, it&#39;s a __map__ to the treasure chest. The `.` operator is java-ese for: Follow the map and dig up the chest. `intList.add(5)` means: Take your treasure map called `intList`, and walk to the X. Now dig. Now open the treasure chest. Now yell `add(5)` at it. Which does.. whatever the docs say it does. Could be anything, that&#39;s the joy of programming.\r\n\r\nIf you then say `intList = null`, you&#39;re not destroying the treasure chest. Nope, you merely erase out your treasure map. The treasure chest is still buried in the sand. However, java has automatic garbage collection: Any treasure with the property that no maps exist anymore that could let you find it, are &#39;garbage&#39; and will eventually be dug up and tossed out by the garbage collector. In C and some other languages, you can go on arbitrary digging sprees. Not so in java - you __cannot dig__, the language will not let you, unless you have a treasure map to lead the way.\r\n\r\nThat beach is &#39;the heap&#39; and it is huge - by default gigabytes or so large, it grows as needed and the garbage collector tosses out the garbage whenever it is neccessary to make some room.\r\n\r\nSo how does ArrayList work, what is in that treasure chest? Simple: Every non-static field as defined in the `class ArrayList` along with every field in the class mentioned in the extends clause (ArrayList is defined as `class ArrayList extends AbstractList`, so every field AbstractList has too, and so on). Of course, fields are primitive or treasure maps too, so really those treasure chests aren&#39;t as large as you might imagine. They really just store numbers and maps, that&#39;s all.\r\n\r\nSo how _does_ arraylist work internally? With arrays, hence the name. ArrayList makes an array of 10 and tracks how many slots are actually &#39;used&#39; (initially, arraylists are empty, so 0 slots used). As you call `.add`, it just fills the array at the current &#39;used&#39; slot and then increments &#39;used&#39; by 1. Of course, once you try to add an 11th element that can&#39;t be done, so what arraylist&#39;s code does is make a new array (poof! a new treasure chest springs into existence, with 20 blank treasure maps inside, as well as a note with room to write down a single number), copies over the 10 existing maps, and then updates its one map that points at &#39;the treasure chest with all the maps in it&#39; (it&#39;s a lot of maps that lead to treasure chests with maps that lead to more chests, and so on!). This means the old treasure chest (the old array) is still around, but garbage. (No map exists that could get you there). Eventually it&#39;ll get collected.\r\n\r\nIf you try to add the 21st element, again this copy thing happens. ArrayList&#39;s implementation multiplies by 1.5, I think, every time it needs to grow (so, from 10, to 15, to 23, to 35, etcetera).\r\n\r\n","title":"Where are the elements of a collection stored in java?","body":"<blockquote>\n<pre><code>Collection&lt;Integer&gt; intList= new ArrayList();\n</code></pre>\n</blockquote>\n<p>This is syntax sugar. So lets desugar it, to understand what happens. Specifically, this code does 3 mostly unrelated things:</p>\n<ol>\n<li>Declare a new typed variable, named <code>intList</code>.</li>\n<li>Create a new ArrayList object. Objects do not have names.</li>\n<li>Copy over the <em>reference</em> to this object into the <code>intList</code> variable.</li>\n</ol>\n<p>In java, all variables (so also all parameters, and all fields) are either &quot;primitive&quot; or &quot;reference&quot;. That's exhaustive: Those are the only 2 options. Primitives are all variables whose type is one of the primitive types. The primitive types are hardcoded into the java lang spec. They are <code>int</code>, <code>long</code>, <code>double</code>, <code>float</code>, <code>short</code>, <code>byte</code>, <code>char</code>, and <code>boolean</code> - and that's it. Those are the 8. Note that <code>String</code> is not amongst them.</p>\n<p>For the primitives, a variable just stores the value. This is simple: <em>all</em> the primitives have the property that their size is fixed and small. At most they are 64 bits, and all CPUs built in the last decade pretty much operate on 64-bit units so that lines up nicely.</p>\n<p>For the refs, not so much. A string, for example, can be incredibly large. So, instead, the variable <strong>does not contain the data</strong>. It instead contains <strong>a reference to the data</strong> - a pointer. Except we don't like to call it that because the term 'pointer' has baggage, but make no mistake: It's a pointer.</p>\n<p>Here, <code>intList</code> is the variable that can only hold <em>references</em> (because its type is <em>not</em> primitive). <code>new ArrayList()</code> creates an entire object and the expression resolves to <em>a reference</em>, which is then assigned to the <code>intList</code> variable.</p>\n<p>Think of it like a gigantic beach. <code>new ArrayList()</code> creates a new treasure chest out of thin air, and buries it in the sand. <code>intList</code> is not the treasure chest. No, it's a <strong>map</strong> to the treasure chest. The <code>.</code> operator is java-ese for: Follow the map and dig up the chest. <code>intList.add(5)</code> means: Take your treasure map called <code>intList</code>, and walk to the X. Now dig. Now open the treasure chest. Now yell <code>add(5)</code> at it. Which does.. whatever the docs say it does. Could be anything, that's the joy of programming.</p>\n<p>If you then say <code>intList = null</code>, you're not destroying the treasure chest. Nope, you merely erase out your treasure map. The treasure chest is still buried in the sand. However, java has automatic garbage collection: Any treasure with the property that no maps exist anymore that could let you find it, are 'garbage' and will eventually be dug up and tossed out by the garbage collector. In C and some other languages, you can go on arbitrary digging sprees. Not so in java - you <strong>cannot dig</strong>, the language will not let you, unless you have a treasure map to lead the way.</p>\n<p>That beach is 'the heap' and it is huge - by default gigabytes or so large, it grows as needed and the garbage collector tosses out the garbage whenever it is neccessary to make some room.</p>\n<p>So how does ArrayList work, what is in that treasure chest? Simple: Every non-static field as defined in the <code>class ArrayList</code> along with every field in the class mentioned in the extends clause (ArrayList is defined as <code>class ArrayList extends AbstractList</code>, so every field AbstractList has too, and so on). Of course, fields are primitive or treasure maps too, so really those treasure chests aren't as large as you might imagine. They really just store numbers and maps, that's all.</p>\n<p>So how <em>does</em> arraylist work internally? With arrays, hence the name. ArrayList makes an array of 10 and tracks how many slots are actually 'used' (initially, arraylists are empty, so 0 slots used). As you call <code>.add</code>, it just fills the array at the current 'used' slot and then increments 'used' by 1. Of course, once you try to add an 11th element that can't be done, so what arraylist's code does is make a new array (poof! a new treasure chest springs into existence, with 20 blank treasure maps inside, as well as a note with room to write down a single number), copies over the 10 existing maps, and then updates its one map that points at 'the treasure chest with all the maps in it' (it's a lot of maps that lead to treasure chests with maps that lead to more chests, and so on!). This means the old treasure chest (the old array) is still around, but garbage. (No map exists that could get you there). Eventually it'll get collected.</p>\n<p>If you try to add the 21st element, again this copy thing happens. ArrayList's implementation multiplies by 1.5, I think, every time it needs to grow (so, from 10, to 15, to 23, to 35, etcetera).</p>\n"}],"owner":{"account_id":20240920,"reputation":23,"user_id":14844819,"display_name":"hijit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1661782809,"answer_count":2,"score":-1,"last_activity_date":1661774233,"creation_date":1661772615,"question_id":73528122,"body_markdown":"I&#39;m new to java and trying to understand where implementations of the Collection interface are storing the elements I add to it. I understand how to work with collections using the various methods, but what I don&#39;t understand is what is happening under the hood when I write for example:\r\n``` \r\nCollection&lt;Integer&gt; intList= new ArrayList();\r\nintList.add(3);\r\n```\r\nIs a new field created in the class for the element 3? If so how are these various fields linked to one another when I create the iterator?\r\n```\r\nIterator&lt;Integer&gt; intIter = intList.iterator();\r\nboolean test = intIter.hasNext();\r\n```\r\nOr how are the various elements attached to indices when working with a less general interface like a List?\r\n","title":"Where are the elements of a collection stored in java?","body":"<p>I'm new to java and trying to understand where implementations of the Collection interface are storing the elements I add to it. I understand how to work with collections using the various methods, but what I don't understand is what is happening under the hood when I write for example:</p>\n<pre><code>Collection&lt;Integer&gt; intList= new ArrayList();\nintList.add(3);\n</code></pre>\n<p>Is a new field created in the class for the element 3? If so how are these various fields linked to one another when I create the iterator?</p>\n<pre><code>Iterator&lt;Integer&gt; intIter = intList.iterator();\nboolean test = intIter.hasNext();\n</code></pre>\n<p>Or how are the various elements attached to indices when working with a less general interface like a List?</p>\n"},{"tags":["java","multithreading","reactive-programming","project-reactor"],"comments":[{"owner":{"account_id":1257651,"reputation":12773,"user_id":1216776,"display_name":"stark"},"score":0,"creation_date":1661684656,"post_id":73518088,"comment_id":129825873,"body_markdown":"Why do you need to run a new process every 5 mins since it is clear the previous one hasn&#39;t ended? Why not have one process?","body":"Why do you need to run a new process every 5 mins since it is clear the previous one hasn&#39;t ended? Why not have one process?"},{"owner":{"account_id":25505086,"reputation":49,"user_id":19297684,"display_name":"MKRabbit"},"score":0,"creation_date":1661685196,"post_id":73518088,"comment_id":129825968,"body_markdown":"I&#39;m sorry, I don&#39;t understand the question? Let&#39;s say the ***getAllMachines*** returns 20 machine names. For each of those machines, I run 2 processes (Each process executes a bash script on the machine). I guess I could simply have 1 process and one bash scirpt instead of two. But that still doesn&#39;t solve the problem that every polling session, a new thread is created?","body":"I&#39;m sorry, I don&#39;t understand the question? Let&#39;s say the <b><i>getAllMachines</i></b> returns 20 machine names. For each of those machines, I run 2 processes (Each process executes a bash script on the machine). I guess I could simply have 1 process and one bash scirpt instead of two. But that still doesn&#39;t solve the problem that every polling session, a new thread is created?"},{"owner":{"account_id":25505086,"reputation":49,"user_id":19297684,"display_name":"MKRabbit"},"score":0,"creation_date":1661687049,"post_id":73518088,"comment_id":129826370,"body_markdown":"@stark I removed 1 process. Assume I&#39;m only doing 2 processes per machine","body":"@stark I removed 1 process. Assume I&#39;m only doing 2 processes per machine"},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1661709296,"post_id":73518088,"comment_id":129831082,"body_markdown":"By default, Flux.flatMap allows 256 concurrent executions. You cab specify an optional `concurrency` parameter to reduce allowed simultaneous operations. Note also, 256 concurrent ops does **not** mean 256 threads. Are you manually creating threads in process1 or process2 functions ? Or are you using an elastic scheduler in the calling code ?","body":"By default, Flux.flatMap allows 256 concurrent executions. You cab specify an optional <code>concurrency</code> parameter to reduce allowed simultaneous operations. Note also, 256 concurrent ops does <b>not</b> mean 256 threads. Are you manually creating threads in process1 or process2 functions ? Or are you using an elastic scheduler in the calling code ?"},{"owner":{"account_id":25505086,"reputation":49,"user_id":19297684,"display_name":"MKRabbit"},"score":0,"creation_date":1661753077,"post_id":73518088,"comment_id":129837522,"body_markdown":"@amanin No, I&#39;m not creating any threads in either processes. This time I ran it, the exception occured again but it was not 256 but 310.\n ```[io-executor-thread-310] ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped\nreactor.core.Exceptions$ErrorCallbackNotImplemented: java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\nCaused by: java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\n```","body":"@amanin No, I&#39;m not creating any threads in either processes. This time I ran it, the exception occured again but it was not 256 but 310.  <code>[io-executor-thread-310] ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped reactor.core.Exceptions$ErrorCallbackNotImplemented: java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process&#47;resource limits reached Caused by: java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process&#47;resource limits reached </code>"},{"owner":{"account_id":25505086,"reputation":49,"user_id":19297684,"display_name":"MKRabbit"},"score":0,"creation_date":1661757873,"post_id":73518088,"comment_id":129838851,"body_markdown":"@amanin - yes, I&#39;m using an elastic scheduler. Edited the code in the original question to show that","body":"@amanin - yes, I&#39;m using an elastic scheduler. Edited the code in the original question to show that"},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1661758001,"post_id":73518088,"comment_id":129838897,"body_markdown":"By analysing the stack trace, I wonder if the `io-executor` is not managed by micronaut itself, and maybe it is micronaut that starts too many threads. But anyway, try to force flatMap concurrency parameter to a low value (let&#39;s say 10 to test). I think it could be enough to lower the overall backpressure.","body":"By analysing the stack trace, I wonder if the <code>io-executor</code> is not managed by micronaut itself, and maybe it is micronaut that starts too many threads. But anyway, try to force flatMap concurrency parameter to a low value (let&#39;s say 10 to test). I think it could be enough to lower the overall backpressure."}],"answers":[{"tags":[],"owner":{"account_id":24350641,"reputation":125,"user_id":18286518,"display_name":"Find Bugs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661773480,"creation_date":1661761285,"answer_id":73525977,"question_id":73518088,"body_markdown":"- The thread count is too much, use thread pool instead\r\n- The vm argument: -Xss is set a a large value?\r\n- The memory of JVM is too small, set bigger if neccessary","title":"Caused by: java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached","body":"<ul>\n<li>The thread count is too much, use thread pool instead</li>\n<li>The vm argument: -Xss is set a a large value?</li>\n<li>The memory of JVM is too small, set bigger if neccessary</li>\n</ul>\n"}],"owner":{"account_id":25505086,"reputation":49,"user_id":19297684,"display_name":"MKRabbit"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661773480,"creation_date":1661684329,"question_id":73518088,"body_markdown":"New to reactor so I apologize if it isn&#39;t clear. I have a class which runs a repetitive process every 5 minutes (using: ```Flux.interval(Duration.ofMinutes(5))```). Every 5 minutes, I ssh into some of our on prem linux machines and execute a bash script and record the output. Then I save that output to a DB. This works fine for a while but then I get:\r\n```java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached```. \r\n\r\nThe java program is running on a docker container and when I look at the logs, I see ```io-executor-thread-&lt;some-thread-number&gt;```. This ```some-thread-number``` goes to about 250 before I get the OOM error. Here is my code for reference:\r\n\r\n```\r\n@PostConstruct\r\n    private void pollMachines() {\r\n        Flux.interval(Duration.ofMinutes(5))\r\n                .map(this::getAllMachines)\r\n                .flatMap(name -&gt; process1(name)\r\n                        .map(this::process2)                                                \r\n                        .doOnError(throwable -&gt; LOGGER.info(&quot;Some error happened with {}&quot;, name))\r\n                        .onErrorResume(throwable -&gt; setOfflineStatus(name))\r\n                )\r\n                .subscribeOn(Schedulers.boundedElastic())\r\n                .subscribe();\r\n    }\r\n```\r\nHere is the exception:\r\n```\r\n 07:03:49.854 [io-executor-thread-256] ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped\r\nbackend     | reactor.core.Exceptions$ErrorCallbackNotImplemented: java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\r\nbackend     | Caused by: java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\r\nbackend     | \tat java.base/java.lang.Thread.start0(Native Method)\r\nbackend     | \tat java.base/java.lang.Thread.start(Thread.java:798)\r\nbackend     | \tat java.base/java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:937)\r\nbackend     | \tat java.base/java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1354)\r\nbackend     | \tat io.micronaut.scheduling.instrument.InstrumentedExecutor.execute(InstrumentedExecutor.java:42)\r\nbackend     | \tat java.base/java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1714)\r\nbackend     | \tat java.base/java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1931)\r\nbackend     | \tat io.micronaut.data.runtime.operations.ExecutorAsyncOperations.update(ExecutorAsyncOperations.java:152)\r\nbackend     | \tat io.micronaut.data.runtime.operations.ExecutorReactiveOperations.lambda$update$12(ExecutorReactiveOperations.java:194)\r\nbackend     | \tat io.micronaut.core.async.publisher.CompletableFuturePublisher$CompletableFutureSubscription.request(CompletableFuturePublisher.java:78)\r\nbackend     | \tat reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108)\r\nbackend     | \tat reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108)\r\nbackend     | \tat reactor.core.publisher.MonoFlatMap$FlatMapInner.onSubscribe(MonoFlatMap.java:238)\r\nbackend     | \tat reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70)\r\nbackend     | \tat reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70)\r\nbackend     | \tat io.micronaut.core.async.publisher.CompletableFuturePublisher.subscribe(CompletableFuturePublisher.java:49)\r\nbackend     | \tat reactor.core.publisher.MonoFromPublisher.subscribe(MonoFromPublisher.java:63)\r\nbackend     | \tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\r\nbackend     | \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)\r\nbackend     | \tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\r\nbackend     | \tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\r\nbackend     | \tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\r\nbackend     | \tat io.micronaut.core.async.publisher.Publishers$1.doOnNext(Publishers.java:248)\r\nbackend     | \tat io.micronaut.core.async.subscriber.CompletionAwareSubscriber.onNext(CompletionAwareSubscriber.java:56)\r\nbackend     | \tat io.micronaut.core.async.publisher.CompletableFuturePublisher$CompletableFutureSubscription.lambda$request$0(CompletableFuturePublisher.java:89)\r\nbackend     | \tat java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\r\nbackend     | \tat java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\r\nbackend     | \tat java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\r\nbackend     | \tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1705)\r\nbackend     | \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\nbackend     | \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\nbackend     | \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\nIs there a way I can avoid this? \r\n\r\nEdit: After it is done polling the 20 or so machines on 1 thread, the next polling session starts on another thread.\r\nEdit: removed process3. Assume I&#39;m only doing 2 processes per machine\r\n\r\nEdit3: If I can re-phrase the question: Is there a way I can do the above processes every 5 minutes without running into the OOM exception","title":"Caused by: java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached","body":"<p>New to reactor so I apologize if it isn't clear. I have a class which runs a repetitive process every 5 minutes (using: <code>Flux.interval(Duration.ofMinutes(5))</code>). Every 5 minutes, I ssh into some of our on prem linux machines and execute a bash script and record the output. Then I save that output to a DB. This works fine for a while but then I get:\n<code>java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached</code>.</p>\n<p>The java program is running on a docker container and when I look at the logs, I see <code>io-executor-thread-&lt;some-thread-number&gt;</code>. This <code>some-thread-number</code> goes to about 250 before I get the OOM error. Here is my code for reference:</p>\n<pre><code>@PostConstruct\n    private void pollMachines() {\n        Flux.interval(Duration.ofMinutes(5))\n                .map(this::getAllMachines)\n                .flatMap(name -&gt; process1(name)\n                        .map(this::process2)                                                \n                        .doOnError(throwable -&gt; LOGGER.info(&quot;Some error happened with {}&quot;, name))\n                        .onErrorResume(throwable -&gt; setOfflineStatus(name))\n                )\n                .subscribeOn(Schedulers.boundedElastic())\n                .subscribe();\n    }\n</code></pre>\n<p>Here is the exception:</p>\n<pre><code> 07:03:49.854 [io-executor-thread-256] ERROR reactor.core.publisher.Operators - Operator called default onErrorDropped\nbackend     | reactor.core.Exceptions$ErrorCallbackNotImplemented: java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\nbackend     | Caused by: java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\nbackend     |   at java.base/java.lang.Thread.start0(Native Method)\nbackend     |   at java.base/java.lang.Thread.start(Thread.java:798)\nbackend     |   at java.base/java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:937)\nbackend     |   at java.base/java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1354)\nbackend     |   at io.micronaut.scheduling.instrument.InstrumentedExecutor.execute(InstrumentedExecutor.java:42)\nbackend     |   at java.base/java.util.concurrent.CompletableFuture.asyncSupplyStage(CompletableFuture.java:1714)\nbackend     |   at java.base/java.util.concurrent.CompletableFuture.supplyAsync(CompletableFuture.java:1931)\nbackend     |   at io.micronaut.data.runtime.operations.ExecutorAsyncOperations.update(ExecutorAsyncOperations.java:152)\nbackend     |   at io.micronaut.data.runtime.operations.ExecutorReactiveOperations.lambda$update$12(ExecutorReactiveOperations.java:194)\nbackend     |   at io.micronaut.core.async.publisher.CompletableFuturePublisher$CompletableFutureSubscription.request(CompletableFuturePublisher.java:78)\nbackend     |   at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108)\nbackend     |   at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108)\nbackend     |   at reactor.core.publisher.MonoFlatMap$FlatMapInner.onSubscribe(MonoFlatMap.java:238)\nbackend     |   at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70)\nbackend     |   at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70)\nbackend     |   at io.micronaut.core.async.publisher.CompletableFuturePublisher.subscribe(CompletableFuturePublisher.java:49)\nbackend     |   at reactor.core.publisher.MonoFromPublisher.subscribe(MonoFromPublisher.java:63)\nbackend     |   at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)\nbackend     |   at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)\nbackend     |   at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122)\nbackend     |   at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\nbackend     |   at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\nbackend     |   at io.micronaut.core.async.publisher.Publishers$1.doOnNext(Publishers.java:248)\nbackend     |   at io.micronaut.core.async.subscriber.CompletionAwareSubscriber.onNext(CompletionAwareSubscriber.java:56)\nbackend     |   at io.micronaut.core.async.publisher.CompletableFuturePublisher$CompletableFutureSubscription.lambda$request$0(CompletableFuturePublisher.java:89)\nbackend     |   at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:859)\nbackend     |   at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:837)\nbackend     |   at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:506)\nbackend     |   at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1705)\nbackend     |   at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\nbackend     |   at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\nbackend     |   at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>Is there a way I can avoid this?</p>\n<p>Edit: After it is done polling the 20 or so machines on 1 thread, the next polling session starts on another thread.\nEdit: removed process3. Assume I'm only doing 2 processes per machine</p>\n<p>Edit3: If I can re-phrase the question: Is there a way I can do the above processes every 5 minutes without running into the OOM exception</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26184924,"reputation":25,"user_id":19867619,"display_name":"JYX"},"score":0,"creation_date":1661746640,"post_id":73524001,"comment_id":129836522,"body_markdown":"Based on your question suggestion, I changed `s.nextLine()` to `s.next()`, but it still show `Error in read`","body":"Based on your question suggestion, I changed <code>s.nextLine()</code> to <code>s.next()</code>, but it still show <code>Error in read</code>"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661773318,"creation_date":1661748626,"answer_id":73524241,"question_id":73524001,"body_markdown":"I suggest that you read the file line by line and call method [split][1] to separate it into fields.\r\n```java\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class Customer {\r\n    private String userName;\r\n    private String fullName;\r\n    private String password;\r\n    private String gender;\r\n    private String birthyear;\r\n    private String phone;\r\n    private String email;\r\n    private String address;\r\n\r\n    public Customer(String userName,\r\n                    String fullName,\r\n                    String password,\r\n                    String gender,\r\n                    String birthyear,\r\n                    String phone,\r\n                    String email,\r\n                    String address) {\r\n        this.userName = userName;\r\n        this.fullName = fullName;\r\n        this.password = password;\r\n        this.gender = gender;\r\n        this.birthyear = birthyear;\r\n        this.phone = phone;\r\n        this.email = email;\r\n        this.address = address;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Customer&gt; allCustomer = new ArrayList&lt;&gt;();\r\n        try (Scanner s = new Scanner(new File(&quot;Customer.txt&quot;))) {\r\n            while (s.hasNextLine()) {\r\n                String line = s.nextLine();\r\n                String[] fields = line.split(&quot;\\t&quot;);\r\n                String userName = fields[0];\r\n                String fullName = fields[1];\r\n                String password = fields[2];\r\n                String gender = fields[3];\r\n                String birthyear = fields[4];\r\n                String phone = fields[5];\r\n                String email = fields[6];\r\n                String address = fields[7];\r\n                allCustomer.add(new Customer(userName,\r\n                                             fullName,\r\n                                             password,\r\n                                             gender,\r\n                                             birthyear,\r\n                                             phone,\r\n                                             email,\r\n                                             address));\r\n            }\r\n        }\r\n        catch (IOException xIo) {\r\n            xIo.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nNote that the above code uses [try-with-resources][2] to ensure that the file **Customer.txt** is closed.\r\n\r\nEdit\r\n----\r\nHere is an alternative solution that uses [records][3], [streams][4], [method references][5] and [NIO.2][6]\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic record Customer(String userName,\r\n                       String fullName,\r\n                       String password,\r\n                       String gender,\r\n                       String birthyear,\r\n                       String phone,\r\n                       String email,\r\n                       String address) {\r\n    private static final String DELIMITER = &quot;\\t&quot;;\r\n\r\n    private static Customer parseLine(String line) {\r\n        String[] fields = line.split(DELIMITER);\r\n        return new Customer(fields[0],\r\n                            fields[1],\r\n                            fields[2],\r\n                            fields[3],\r\n                            fields[4],\r\n                            fields[5],\r\n                            fields[6],\r\n                            fields[7]);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try (Stream&lt;String&gt; lines = Files.lines(Paths.get(&quot;Customer.txt&quot;))) {\r\n            List&lt;Customer&gt; allCustomer = lines.map(Customer::parseLine)\r\n                                              .collect(Collectors.toList());\r\n            allCustomer.forEach(System.out::println);\r\n        }\r\n        catch (IOException xIo) {\r\n            xIo.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nRunning the above code produces the following output:\r\n```none\r\nCustomer[userName=yx, fullName=Yong, password=123, gender=Male, birthyear=2002, phone=999, email=jay@, address=NO234]\r\nCustomer[userName=paul, fullName=Paul Tan, password=123, gender=Male, birthyear=2002, phone=999, email=kkk, address=nnn]\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#split(java.lang.String)\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [3]: https://openjdk.org/jeps/395\r\n  [4]: https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\r\n  [5]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [6]: https://docs.oracle.com/javase/tutorial/essential/io/fileio.html","title":"How to read text file by tab delimit with Scanner and store the data into ArrayList","body":"<p>I suggest that you read the file line by line and call method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">split</a> to separate it into fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Customer {\n    private String userName;\n    private String fullName;\n    private String password;\n    private String gender;\n    private String birthyear;\n    private String phone;\n    private String email;\n    private String address;\n\n    public Customer(String userName,\n                    String fullName,\n                    String password,\n                    String gender,\n                    String birthyear,\n                    String phone,\n                    String email,\n                    String address) {\n        this.userName = userName;\n        this.fullName = fullName;\n        this.password = password;\n        this.gender = gender;\n        this.birthyear = birthyear;\n        this.phone = phone;\n        this.email = email;\n        this.address = address;\n    }\n\n    public static void main(String[] args) {\n        List&lt;Customer&gt; allCustomer = new ArrayList&lt;&gt;();\n        try (Scanner s = new Scanner(new File(&quot;Customer.txt&quot;))) {\n            while (s.hasNextLine()) {\n                String line = s.nextLine();\n                String[] fields = line.split(&quot;\\t&quot;);\n                String userName = fields[0];\n                String fullName = fields[1];\n                String password = fields[2];\n                String gender = fields[3];\n                String birthyear = fields[4];\n                String phone = fields[5];\n                String email = fields[6];\n                String address = fields[7];\n                allCustomer.add(new Customer(userName,\n                                             fullName,\n                                             password,\n                                             gender,\n                                             birthyear,\n                                             phone,\n                                             email,\n                                             address));\n            }\n        }\n        catch (IOException xIo) {\n            xIo.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Note that the above code uses <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> to ensure that the file <strong>Customer.txt</strong> is closed.</p>\n<h2>Edit</h2>\n<p>Here is an alternative solution that uses <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">records</a>, <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">streams</a>, <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method references</a> and <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"nofollow noreferrer\">NIO.2</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic record Customer(String userName,\n                       String fullName,\n                       String password,\n                       String gender,\n                       String birthyear,\n                       String phone,\n                       String email,\n                       String address) {\n    private static final String DELIMITER = &quot;\\t&quot;;\n\n    private static Customer parseLine(String line) {\n        String[] fields = line.split(DELIMITER);\n        return new Customer(fields[0],\n                            fields[1],\n                            fields[2],\n                            fields[3],\n                            fields[4],\n                            fields[5],\n                            fields[6],\n                            fields[7]);\n    }\n\n    public static void main(String[] args) {\n        try (Stream&lt;String&gt; lines = Files.lines(Paths.get(&quot;Customer.txt&quot;))) {\n            List&lt;Customer&gt; allCustomer = lines.map(Customer::parseLine)\n                                              .collect(Collectors.toList());\n            allCustomer.forEach(System.out::println);\n        }\n        catch (IOException xIo) {\n            xIo.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Running the above code produces the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Customer[userName=yx, fullName=Yong, password=123, gender=Male, birthyear=2002, phone=999, email=jay@, address=NO234]\nCustomer[userName=paul, fullName=Paul Tan, password=123, gender=Male, birthyear=2002, phone=999, email=kkk, address=nnn]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661751705,"creation_date":1661751705,"answer_id":73524517,"question_id":73524001,"body_markdown":"for some reason `\\t` isn&#39;t working as a delimiter with `scanner` , but you know that `&lt;TAB&gt;` is actually is 4 white spaces . so you can use that information to make a new regex with this information . so here is the text file containing data:\r\n\r\n    yx    Yong    123    Male    2002    999    jay@    NO234\r\n    paul    Paul Tan    123    Male    2002    999    kkk    nnn\r\n\r\nwhere every data is separated by 4 white spaces which is equivalent to **TAB** , \r\n\r\n\r\n----------\r\n\r\n\r\nalso this is the new regex I used : `&quot;[\\\\s]{4}|\\r\\n&quot;` where\r\n\r\n - `|` means or\r\n - `[\\\\s]{4}` means 4 white spaces\r\n - `\\r\\n` means a newline with Carriage return\r\n\r\nwhich means delimit if you find 4 white spaces or a new line with Carriage return.\r\n\r\nand here is the new code edited :\r\n\r\n\r\n        import javax.swing.*;\r\n        import java.io.File;\r\n        import java.util.ArrayList;\r\n        import java.util.List;\r\n        import java.util.Scanner;\r\n    \r\n        public class Main {\r\n    \r\n            public static void main(String[] args) {\r\n                readCustomer();\r\n            }\r\n    \r\n            static List&lt;Customer&gt; allCustomer = new ArrayList&lt;&gt;();\r\n            public static void readCustomer() {\r\n                try {\r\n                    Scanner s = new Scanner(new File(&quot;Customer.txt&quot;));\r\n                    s.useDelimiter(&quot;[\\\\s]{4}|\\r\\n&quot;);\r\n                    while (s.hasNextLine()) {\r\n                        String userName = s.next();\r\n                        String fullName = s.next();\r\n                        String password = s.next();\r\n                        String gender = s.next();\r\n                        String birthyear = s.next();\r\n                        String phone = s.next();\r\n                        String email = s.next();\r\n                        String address = s.next();\r\n                        allCustomer.add(new Customer(userName, fullName, password, gender, birthyear, phone, email, address));\r\n                    }\r\n                    for (Customer c : allCustomer)\r\n                        System.out.println(c.toString());\r\n                } catch (Exception e) {\r\n                    JOptionPane.showMessageDialog(null, &quot;Error in read&quot;);\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n        class Customer\r\n        {\r\n            private String userName;\r\n            private String fullName;\r\n            private String password;\r\n            private String gender;\r\n            private String birthyear;\r\n            private String phone;\r\n            private String email;\r\n            private String address;\r\n    \r\n            public Customer(String userName, String fullName, String password, String gender, String birthyear, String phone, String email, String address) {\r\n                this.userName = userName;\r\n                this.fullName = fullName;\r\n                this.password = password;\r\n                this.gender = gender;\r\n                this.birthyear = birthyear;\r\n                this.phone = phone;\r\n                this.email = email;\r\n                this.address = address;\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return &quot;Customer{&quot; +\r\n                        &quot;userName=&#39;&quot; + userName + &#39;\\&#39;&#39; +\r\n                        &quot;, fullName=&#39;&quot; + fullName + &#39;\\&#39;&#39; +\r\n                        &quot;, password=&#39;&quot; + password + &#39;\\&#39;&#39; +\r\n                        &quot;, gender=&#39;&quot; + gender + &#39;\\&#39;&#39; +\r\n                        &quot;, birthyear=&#39;&quot; + birthyear + &#39;\\&#39;&#39; +\r\n                        &quot;, phone=&#39;&quot; + phone + &#39;\\&#39;&#39; +\r\n                        &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                        &quot;, address=&#39;&quot; + address + &#39;\\&#39;&#39; +\r\n                        &#39;}&#39;;\r\n            }\r\n        }\r\n\r\n\r\nand here is a picture of the result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/miwbt.png","title":"How to read text file by tab delimit with Scanner and store the data into ArrayList","body":"<p>for some reason <code>\\t</code> isn't working as a delimiter with <code>scanner</code> , but you know that <code>&lt;TAB&gt;</code> is actually is 4 white spaces . so you can use that information to make a new regex with this information . so here is the text file containing data:</p>\n<pre><code>yx    Yong    123    Male    2002    999    jay@    NO234\npaul    Paul Tan    123    Male    2002    999    kkk    nnn\n</code></pre>\n<p>where every data is separated by 4 white spaces which is equivalent to <strong>TAB</strong> ,</p>\n<hr />\n<p>also this is the new regex I used : <code>&quot;[\\\\s]{4}|\\r\\n&quot;</code> where</p>\n<ul>\n<li><code>|</code> means or</li>\n<li><code>[\\\\s]{4}</code> means 4 white spaces</li>\n<li><code>\\r\\n</code> means a newline with Carriage return</li>\n</ul>\n<p>which means delimit if you find 4 white spaces or a new line with Carriage return.</p>\n<p>and here is the new code edited :</p>\n<pre><code>    import javax.swing.*;\n    import java.io.File;\n    import java.util.ArrayList;\n    import java.util.List;\n    import java.util.Scanner;\n\n    public class Main {\n\n        public static void main(String[] args) {\n            readCustomer();\n        }\n\n        static List&lt;Customer&gt; allCustomer = new ArrayList&lt;&gt;();\n        public static void readCustomer() {\n            try {\n                Scanner s = new Scanner(new File(&quot;Customer.txt&quot;));\n                s.useDelimiter(&quot;[\\\\s]{4}|\\r\\n&quot;);\n                while (s.hasNextLine()) {\n                    String userName = s.next();\n                    String fullName = s.next();\n                    String password = s.next();\n                    String gender = s.next();\n                    String birthyear = s.next();\n                    String phone = s.next();\n                    String email = s.next();\n                    String address = s.next();\n                    allCustomer.add(new Customer(userName, fullName, password, gender, birthyear, phone, email, address));\n                }\n                for (Customer c : allCustomer)\n                    System.out.println(c.toString());\n            } catch (Exception e) {\n                JOptionPane.showMessageDialog(null, &quot;Error in read&quot;);\n            }\n        }\n\n    }\n\n    class Customer\n    {\n        private String userName;\n        private String fullName;\n        private String password;\n        private String gender;\n        private String birthyear;\n        private String phone;\n        private String email;\n        private String address;\n\n        public Customer(String userName, String fullName, String password, String gender, String birthyear, String phone, String email, String address) {\n            this.userName = userName;\n            this.fullName = fullName;\n            this.password = password;\n            this.gender = gender;\n            this.birthyear = birthyear;\n            this.phone = phone;\n            this.email = email;\n            this.address = address;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Customer{&quot; +\n                    &quot;userName='&quot; + userName + '\\'' +\n                    &quot;, fullName='&quot; + fullName + '\\'' +\n                    &quot;, password='&quot; + password + '\\'' +\n                    &quot;, gender='&quot; + gender + '\\'' +\n                    &quot;, birthyear='&quot; + birthyear + '\\'' +\n                    &quot;, phone='&quot; + phone + '\\'' +\n                    &quot;, email='&quot; + email + '\\'' +\n                    &quot;, address='&quot; + address + '\\'' +\n                    '}';\n        }\n    }\n</code></pre>\n<p>and here is a picture of the result:</p>\n<p><a href=\"https://i.stack.imgur.com/miwbt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/miwbt.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26184924,"reputation":25,"user_id":19867619,"display_name":"JYX"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1661766052,"answer_count":2,"score":1,"last_activity_date":1661773318,"creation_date":1661745715,"question_id":73524001,"body_markdown":"I would like to read the text file (**Customer.txt**) just like below. Note that `&lt;TAB&gt;` indicates the &lt;kbd&gt;TAB&lt;/kbd&gt; character, i.e. [U+0009](https://unicode-table.com/en/0009/)\r\n```none\r\nyx&lt;TAB&gt;Yong&lt;TAB&gt;123&lt;TAB&gt;Male&lt;TAB&gt;2002&lt;TAB&gt;999&lt;TAB&gt;jay@&lt;TAB&gt;NO234\r\npaul&lt;TAB&gt;Paul Tan&lt;TAB&gt;123&lt;TAB&gt;Male&lt;TAB&gt;2002&lt;TAB&gt;999&lt;TAB&gt;kkk&lt;TAB&gt;nnn\r\n```\r\nAnd below is the code that I wrote to store in the `ArrayList`. Is that correct?\r\n\r\n    public static void readCustomer() throws Exception {\r\n        try {\r\n            Scanner s = new Scanner(new File(&quot;Customer.txt&quot;)).useDelimiter(&quot;\\t&quot;);\r\n            while (s.hasNext()) {\r\n                String userName = s.nextLine();\r\n                String fullName = s.nextLine();\r\n                String password = s.nextLine();\r\n                String gender = s.nextLine();\r\n                String birthyear = s.nextLine();\r\n                String phone = s.nextLine();\r\n                String email = s.nextLine();\r\n                String address = s.nextLine();\r\n                s.nextLine();\r\n                allCustomer.add(new Customer(userName, fullName, password, gender, birthyear, phone, email, address));\r\n            }\r\n        } catch (Exception e) {\r\n            JOptionPane.showMessageDialog(null, &quot;Error in read&quot;);\r\n        }\r\n    }","title":"How to read text file by tab delimit with Scanner and store the data into ArrayList","body":"<p>I would like to read the text file (<strong>Customer.txt</strong>) just like below. Note that <code>&lt;TAB&gt;</code> indicates the <kbd>TAB</kbd> character, i.e. <a href=\"https://unicode-table.com/en/0009/\" rel=\"nofollow noreferrer\">U+0009</a></p>\n<pre class=\"lang-none prettyprint-override\"><code>yx&lt;TAB&gt;Yong&lt;TAB&gt;123&lt;TAB&gt;Male&lt;TAB&gt;2002&lt;TAB&gt;999&lt;TAB&gt;jay@&lt;TAB&gt;NO234\npaul&lt;TAB&gt;Paul Tan&lt;TAB&gt;123&lt;TAB&gt;Male&lt;TAB&gt;2002&lt;TAB&gt;999&lt;TAB&gt;kkk&lt;TAB&gt;nnn\n</code></pre>\n<p>And below is the code that I wrote to store in the <code>ArrayList</code>. Is that correct?</p>\n<pre><code>public static void readCustomer() throws Exception {\n    try {\n        Scanner s = new Scanner(new File(&quot;Customer.txt&quot;)).useDelimiter(&quot;\\t&quot;);\n        while (s.hasNext()) {\n            String userName = s.nextLine();\n            String fullName = s.nextLine();\n            String password = s.nextLine();\n            String gender = s.nextLine();\n            String birthyear = s.nextLine();\n            String phone = s.nextLine();\n            String email = s.nextLine();\n            String address = s.nextLine();\n            s.nextLine();\n            allCustomer.add(new Customer(userName, fullName, password, gender, birthyear, phone, email, address));\n        }\n    } catch (Exception e) {\n        JOptionPane.showMessageDialog(null, &quot;Error in read&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","mongodb","spring-data-mongodb"],"comments":[{"owner":{"account_id":2677968,"reputation":148907,"user_id":2313887,"accept_rate":82,"display_name":"Neil Lunn"},"score":1,"creation_date":1497010783,"post_id":44457578,"comment_id":75911537,"body_markdown":"Don&#39;t call `main.setSubDoc(new SubDoc());` You are setting it to empty. If you don&#39;t call that then it will not be there.","body":"Don&#39;t call <code>main.setSubDoc(new SubDoc());</code> You are setting it to empty. If you don&#39;t call that then it will not be there."},{"owner":{"account_id":4646437,"reputation":1612,"user_id":3764592,"accept_rate":55,"display_name":"CounterFlame"},"score":0,"creation_date":1497010846,"post_id":44457578,"comment_id":75911571,"body_markdown":"Yes, but in my actual use-case I can&#39;t control that part. I really need it to be done during mapping. Sorry, should&#39;ve been more clear about that.","body":"Yes, but in my actual use-case I can&#39;t control that part. I really need it to be done during mapping. Sorry, should&#39;ve been more clear about that."},{"owner":{"account_id":2677968,"reputation":148907,"user_id":2313887,"accept_rate":82,"display_name":"Neil Lunn"},"score":0,"creation_date":1497010923,"post_id":44457578,"comment_id":75911625,"body_markdown":"Can you be more specific in your question then? It seems to me that if there is no data to put in there you simply do not make the call. Perhaps you need an `if` in your code.","body":"Can you be more specific in your question then? It seems to me that if there is no data to put in there you simply do not make the call. Perhaps you need an <code>if</code> in your code."},{"owner":{"account_id":4646437,"reputation":1612,"user_id":3764592,"accept_rate":55,"display_name":"CounterFlame"},"score":0,"creation_date":1497011028,"post_id":44457578,"comment_id":75911688,"body_markdown":"The thing is that in reality, my object is built from a ton of nested queries to a relational database and then to be saved to a mongo DB.\nHaving to check everytime if the nested object that is used is empty, would mean a ton of checks. That&#39;s why I would prefer to let the mapping do the job for me.","body":"The thing is that in reality, my object is built from a ton of nested queries to a relational database and then to be saved to a mongo DB. Having to check everytime if the nested object that is used is empty, would mean a ton of checks. That&#39;s why I would prefer to let the mapping do the job for me."},{"owner":{"account_id":2677968,"reputation":148907,"user_id":2313887,"accept_rate":82,"display_name":"Neil Lunn"},"score":0,"creation_date":1497011077,"post_id":44457578,"comment_id":75911723,"body_markdown":"The place for detail is **in your question**. [Edit Your Question](https://stackoverflow.com/posts/44457578/edit) and don&#39;t post long comments.","body":"The place for detail is <b>in your question</b>. <a href=\"https://stackoverflow.com/posts/44457578/edit\">Edit Your Question</a> and don&#39;t post long comments."},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1497011166,"post_id":44457578,"comment_id":75911783,"body_markdown":"also include how are  you saving the document. Are you using Mongotemplate or Mongorepository?","body":"also include how are  you saving the document. Are you using Mongotemplate or Mongorepository?"},{"owner":{"account_id":4646437,"reputation":1612,"user_id":3764592,"accept_rate":55,"display_name":"CounterFlame"},"score":0,"creation_date":1497011585,"post_id":44457578,"comment_id":75912097,"body_markdown":"Added: using a repository","body":"Added: using a repository"},{"owner":{"account_id":1122347,"reputation":35187,"user_id":1110423,"accept_rate":70,"display_name":"Alex Blex"},"score":0,"creation_date":1497011863,"post_id":44457578,"comment_id":75912285,"body_markdown":"Why not to check in the setter `setSubDoc` and ignore the empty ones?","body":"Why not to check in the setter <code>setSubDoc</code> and ignore the empty ones?"}],"answers":[{"tags":[],"owner":{"account_id":2345470,"reputation":6598,"user_id":2055854,"accept_rate":44,"display_name":"Orest"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1497264430,"creation_date":1497128364,"answer_id":44478025,"question_id":44457578,"body_markdown":"One thing you can do here is to write your custom converter for `MainDoc`:\r\n\r\n    public class MainDocConverter implements Converter&lt;MainDoc, DBObject&gt; {\r\n        @Override\r\n        public DBObject convert(final MainDoc source) {\r\n            final BasicDbObject dbObject = new BasicDBObject();\r\n            ...\r\n            if(/* validate is subdoc is not null and not empty */) {\r\n                dbOject.put(&quot;subDoc&quot;, source.getSubDoc());\r\n            }\r\n        }\r\n    }\r\n\r\nYou can register it in `@Configuration` file for example:\r\n\r\n    @Configuration\r\n    @EnableMongoRepositories(basePackages = {&quot;package&quot;})\r\n    public class MongoConfig {\r\n    \r\n        private final MongoDbFactory mongoDbFactory;\r\n    \r\n        public MongoConfig(final MongoDbFactory mongoDbFactory) {\r\n            this.mongoDbFactory = mongoDbFactory;\r\n        }\r\n    \r\n        @Bean\r\n        public MongoTemplate mongoTemplate() throws Exception {\r\n    \r\n            final MongoTemplate mongoTemplate = new MongoTemplate(mongoDbFactory, getDefaultMongoConverter());\r\n            return mongoTemplate;\r\n    \r\n        }\r\n    \r\n        @Bean\r\n        public MappingMongoConverter getDefaultMongoConverter() throws Exception {\r\n    \r\n            final MappingMongoConverter converter = new MappingMongoConverter(\r\n                    new DefaultDbRefResolver(mongoDbFactory), new MongoMappingContext());\r\n            converter.setCustomConversions(new CustomConversions(Arrays.asList(new MainDocConverter())));\r\n    \r\n            return converter;\r\n        }\r\n    \r\n    }\r\n\r\nIf you don&#39;t want to write a custom converter for your object toy can use default one and and modify it a bit.\r\n\r\n    final Document document = (Document) getDefaultMongoConverter().convertToMongoType(mainDoc);\r\n    \r\n    if(/* validate is null or is empty */) {\r\n        document .remove(&quot;subDoc&quot;);\r\n    }\r\n\r\n    mongoTemplate().save(document);\r\n\r\nActually it&#39;s not the best way. As guys wrote empty object should be stored as `{}`, but converter can help you with your case.","title":"Spring Data MongoDB - ignore empty objects","body":"<p>One thing you can do here is to write your custom converter for <code>MainDoc</code>:</p>\n\n<pre><code>public class MainDocConverter implements Converter&lt;MainDoc, DBObject&gt; {\n    @Override\n    public DBObject convert(final MainDoc source) {\n        final BasicDbObject dbObject = new BasicDBObject();\n        ...\n        if(/* validate is subdoc is not null and not empty */) {\n            dbOject.put(\"subDoc\", source.getSubDoc());\n        }\n    }\n}\n</code></pre>\n\n<p>You can register it in <code>@Configuration</code> file for example:</p>\n\n<pre><code>@Configuration\n@EnableMongoRepositories(basePackages = {\"package\"})\npublic class MongoConfig {\n\n    private final MongoDbFactory mongoDbFactory;\n\n    public MongoConfig(final MongoDbFactory mongoDbFactory) {\n        this.mongoDbFactory = mongoDbFactory;\n    }\n\n    @Bean\n    public MongoTemplate mongoTemplate() throws Exception {\n\n        final MongoTemplate mongoTemplate = new MongoTemplate(mongoDbFactory, getDefaultMongoConverter());\n        return mongoTemplate;\n\n    }\n\n    @Bean\n    public MappingMongoConverter getDefaultMongoConverter() throws Exception {\n\n        final MappingMongoConverter converter = new MappingMongoConverter(\n                new DefaultDbRefResolver(mongoDbFactory), new MongoMappingContext());\n        converter.setCustomConversions(new CustomConversions(Arrays.asList(new MainDocConverter())));\n\n        return converter;\n    }\n\n}\n</code></pre>\n\n<p>If you don't want to write a custom converter for your object toy can use default one and and modify it a bit.</p>\n\n<pre><code>final Document document = (Document) getDefaultMongoConverter().convertToMongoType(mainDoc);\n\nif(/* validate is null or is empty */) {\n    document .remove(\"subDoc\");\n}\n\nmongoTemplate().save(document);\n</code></pre>\n\n<p>Actually it's not the best way. As guys wrote empty object should be stored as <code>{}</code>, but converter can help you with your case.</p>\n"}],"owner":{"account_id":4646437,"reputation":1612,"user_id":3764592,"accept_rate":55,"display_name":"CounterFlame"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5810,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44478025,"answer_count":1,"score":2,"last_activity_date":1661772981,"creation_date":1497010457,"question_id":44457578,"body_markdown":"I&#39;m using Spring Data with a MongoDB to save some documents. When saving documents, I would like that Mongo does not contain empty objects. (How) can this be achieved?\r\n\r\nSay I have the following main class:\r\n\r\n    @Document(collection = &quot;main_doc&quot;)\r\n    public class MainDoc {\r\n        @Id\r\n        private String id;\r\n\r\n        private String title;\r\n        private SubDoc subDoc;\r\n    }\r\n\r\nthat contains an object of the following class: \r\n\r\n    public class SubDoc {\r\n\r\n        private String title;\r\n        private String info;\r\n\r\n    }\r\n\r\nNow if I would try to save the following object:\r\n\r\n    MainDoc main = new MainDoc();\r\n    main.setTitle(&quot;someTitle&quot;);\r\n    main.setSubDoc(new SubDoc());\r\n\r\nNote: in reality I do not control the fact that the SubDoc is set like this. It can either be empty or filled in. What I want is that if an element&#39;s properties/fields are all NULL, it will not be stored in mongo at all.\r\nThis results in something like this in mongo:\r\n\r\n    {\r\n        &quot;_id&quot; : &quot;5a328f9a-6118-403b-a3a0-a55ce52099f3&quot;,\r\n        &quot;title&quot;: &quot;someTitle&quot;,\r\n        &quot;subDoc&quot;: {}\r\n    }\r\n    \r\nWhat I would like is that if an element contains only null properties, they aren&#39;t saved at all, so for the above example I would want the following result:\r\n\r\n    {\r\n        &quot;_id&quot; : &quot;5a328f9a-6118-403b-a3a0-a55ce52099f3&quot;,\r\n        &quot;title&quot;: &quot;someTitle&quot;\r\n    }\r\n\r\n\r\nSaving of documents is done with the help of a repository as following:\r\n\r\n    @NoRepositoryBean\r\n    public interface MainRepo extends CrudRepository&lt;MainDoc, String&gt; {\r\n        \r\n        // save inherited\r\n        \r\n    }\r\n\r\n\r\nThanks in advance.","title":"Spring Data MongoDB - ignore empty objects","body":"<p>I'm using Spring Data with a MongoDB to save some documents. When saving documents, I would like that Mongo does not contain empty objects. (How) can this be achieved?</p>\n\n<p>Say I have the following main class:</p>\n\n<pre><code>@Document(collection = \"main_doc\")\npublic class MainDoc {\n    @Id\n    private String id;\n\n    private String title;\n    private SubDoc subDoc;\n}\n</code></pre>\n\n<p>that contains an object of the following class: </p>\n\n<pre><code>public class SubDoc {\n\n    private String title;\n    private String info;\n\n}\n</code></pre>\n\n<p>Now if I would try to save the following object:</p>\n\n<pre><code>MainDoc main = new MainDoc();\nmain.setTitle(\"someTitle\");\nmain.setSubDoc(new SubDoc());\n</code></pre>\n\n<p>Note: in reality I do not control the fact that the SubDoc is set like this. It can either be empty or filled in. What I want is that if an element's properties/fields are all NULL, it will not be stored in mongo at all.\nThis results in something like this in mongo:</p>\n\n<pre><code>{\n    \"_id\" : \"5a328f9a-6118-403b-a3a0-a55ce52099f3\",\n    \"title\": \"someTitle\",\n    \"subDoc\": {}\n}\n</code></pre>\n\n<p>What I would like is that if an element contains only null properties, they aren't saved at all, so for the above example I would want the following result:</p>\n\n<pre><code>{\n    \"_id\" : \"5a328f9a-6118-403b-a3a0-a55ce52099f3\",\n    \"title\": \"someTitle\"\n}\n</code></pre>\n\n<p>Saving of documents is done with the help of a repository as following:</p>\n\n<pre><code>@NoRepositoryBean\npublic interface MainRepo extends CrudRepository&lt;MainDoc, String&gt; {\n\n    // save inherited\n\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","exception","design-patterns","architecture","bigdata"],"comments":[{"owner":{"account_id":18229672,"reputation":18798,"user_id":13268855,"display_name":"Peter Csala"},"score":0,"creation_date":1661682187,"post_id":73516428,"comment_id":129825424,"body_markdown":"Do you need to know which ones failed or all you need to know is the success failure ratio like: 98%","body":"Do you need to know which ones failed or all you need to know is the success failure ratio like: 98%"},{"owner":{"account_id":5255198,"reputation":85,"user_id":4198302,"display_name":"sweety"},"score":0,"creation_date":1661683824,"post_id":73516428,"comment_id":129825713,"body_markdown":"@PeterCsala Need to know the failed records. To reprocess them later","body":"@PeterCsala Need to know the failed records. To reprocess them later"},{"owner":{"account_id":18229672,"reputation":18798,"user_id":13268855,"display_name":"Peter Csala"},"score":0,"creation_date":1661684508,"post_id":73516428,"comment_id":129825841,"body_markdown":"So, basically do need a dead letter queue?","body":"So, basically do need a dead letter queue?"},{"owner":{"account_id":5255198,"reputation":85,"user_id":4198302,"display_name":"sweety"},"score":1,"creation_date":1661684624,"post_id":73516428,"comment_id":129825863,"body_markdown":"Yes, kind of dead letter queue, But I am not using any queuing mechanism here","body":"Yes, kind of dead letter queue, But I am not using any queuing mechanism here"},{"owner":{"account_id":18229672,"reputation":18798,"user_id":13268855,"display_name":"Peter Csala"},"score":0,"creation_date":1661690222,"post_id":73516428,"comment_id":129827045,"body_markdown":"2 more questions: Do you determine the failure by not having an end timestamp after a grace period? In case of retry the record id will be the same but the event id different, right?","body":"2 more questions: Do you determine the failure by not having an end timestamp after a grace period? In case of retry the record id will be the same but the event id different, right?"},{"owner":{"account_id":5255198,"reputation":85,"user_id":4198302,"display_name":"sweety"},"score":0,"creation_date":1661691778,"post_id":73516428,"comment_id":129827399,"body_markdown":"In the first approach, the end timestamp will not be written to the file if an exception occurs, So without an end i will consider it as failure","body":"In the first approach, the end timestamp will not be written to the file if an exception occurs, So without an end i will consider it as failure"},{"owner":{"account_id":5255198,"reputation":85,"user_id":4198302,"display_name":"sweety"},"score":0,"creation_date":1661691801,"post_id":73516428,"comment_id":129827404,"body_markdown":"&quot; In case of retry the record id will be the same but the event id different, right&quot; &gt;&gt; Yes","body":"&quot; In case of retry the record id will be the same but the event id different, right&quot; &gt;&gt; Yes"},{"owner":{"account_id":5255198,"reputation":85,"user_id":4198302,"display_name":"sweety"},"score":0,"creation_date":1661691883,"post_id":73516428,"comment_id":129827431,"body_markdown":"I have added event id to identify which batch failed i.e. which all records failed of a batch failed","body":"I have added event id to identify which batch failed i.e. which all records failed of a batch failed"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1661705739,"post_id":73516428,"comment_id":129830351,"body_markdown":"With approach # 1, did you mean write to the database from which you source your records?","body":"With approach # 1, did you mean write to the database from which you source your records?"},{"owner":{"account_id":5255198,"reputation":85,"user_id":4198302,"display_name":"sweety"},"score":0,"creation_date":1661708591,"post_id":73516428,"comment_id":129830934,"body_markdown":"@BasilBourque write to a file","body":"@BasilBourque write to a file"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1661711623,"post_id":73516428,"comment_id":129831543,"body_markdown":"(A) Do you have a database? You said table? If so, why not write results in that database? (B) What volume of data? 1000k is a million, but 10*200 is only 2,000.","body":"(A) Do you have a database? You said table? If so, why not write results in that database? (B) What volume of data? 1000k is a million, but 10*200 is only 2,000."},{"owner":{"account_id":5255198,"reputation":85,"user_id":4198302,"display_name":"sweety"},"score":0,"creation_date":1661742511,"post_id":73516428,"comment_id":129836009,"body_markdown":"I meant in 10 threads it will run 10*200 (1 event has 200 records) at a time","body":"I meant in 10 threads it will run 10*200 (1 event has 200 records) at a time"}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661770271,"creation_date":1661770271,"answer_id":73527688,"question_id":73516428,"body_markdown":"In my view, if you want to process items parallelly, then it is better to create a log file by your amount of records. Why? Because one file is a bottleneck for multithreading, because you need to lock file to prevent [conditon race][1]. If you will decide to lock file, then each thread should wait when log file will be released and waiting of file will nullify all multithreading processing.\r\n\r\nSo one batch should have one log file.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/34550/","title":"Maintain the status of events in multithreading","body":"<p>In my view, if you want to process items parallelly, then it is better to create a log file by your amount of records. Why? Because one file is a bottleneck for multithreading, because you need to lock file to prevent <a href=\"https://stackoverflow.com/a/34550/\">conditon race</a>. If you will decide to lock file, then each thread should wait when log file will be released and waiting of file will nullify all multithreading processing.</p>\n<p>So one batch should have one log file.</p>\n"},{"tags":[],"owner":{"account_id":26087882,"reputation":61,"user_id":19785192,"display_name":"ovoschnoi salat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661772821,"creation_date":1661772821,"answer_id":73528160,"question_id":73516428,"body_markdown":"Create an array and start threads with the passed id so they can write to the array cell by their id.  \r\nThe main thread will read this array and print it.  \r\nYou can use ReadWriteLock (threads will hold the read lock to write and the main thread will hold the write lock while reading the entire array).  \r\nYou can store anything in this array, it can be very useful.","title":"Maintain the status of events in multithreading","body":"<p>Create an array and start threads with the passed id so they can write to the array cell by their id.<br />\nThe main thread will read this array and print it.<br />\nYou can use ReadWriteLock (threads will hold the read lock to write and the main thread will hold the write lock while reading the entire array).<br />\nYou can store anything in this array, it can be very useful.</p>\n"}],"owner":{"account_id":5255198,"reputation":85,"user_id":4198302,"display_name":"sweety"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1661772821,"creation_date":1661667169,"question_id":73516428,"body_markdown":"I want to read records (1000k) from 1 table and push them to some service.\r\n\r\nSo I have clubbed 200 records(based on the service limitations) in 1 event and used the executor framework and have created 10 executors. 10 events will be processed (i.e. 10*200 records) parallelly.\r\n\r\nNow I want to maintain the status of these events, like statistics on how many were processed successfully and how many failed.\r\n\r\nSo I was thinking of \r\n\r\n**Approach 1:**\r\nBefore starting the execution, \r\nwriting each event id + record id with status \r\n\r\n    event1 + record1 -&gt; start\r\n\r\nand on completion\r\n\r\n    event1 + record1-&gt; end\r\n\r\nAnd later will check how many have both start and end in the file and how many do not have end.\r\n\r\n**Approach 2 :**\r\nWrite all record ids in one file with status pending and\r\nwriting all successful records in another file\r\n\r\nAnd then check for the missing in the successful file by using pivot\r\n\r\nIs there a better way to maintain the status of the records?","title":"Maintain the status of events in multithreading","body":"<p>I want to read records (1000k) from 1 table and push them to some service.</p>\n<p>So I have clubbed 200 records(based on the service limitations) in 1 event and used the executor framework and have created 10 executors. 10 events will be processed (i.e. 10*200 records) parallelly.</p>\n<p>Now I want to maintain the status of these events, like statistics on how many were processed successfully and how many failed.</p>\n<p>So I was thinking of</p>\n<p><strong>Approach 1:</strong>\nBefore starting the execution,\nwriting each event id + record id with status</p>\n<pre><code>event1 + record1 -&gt; start\n</code></pre>\n<p>and on completion</p>\n<pre><code>event1 + record1-&gt; end\n</code></pre>\n<p>And later will check how many have both start and end in the file and how many do not have end.</p>\n<p><strong>Approach 2 :</strong>\nWrite all record ids in one file with status pending and\nwriting all successful records in another file</p>\n<p>And then check for the missing in the successful file by using pivot</p>\n<p>Is there a better way to maintain the status of the records?</p>\n"},{"tags":["java","android","kotlin","camera","android-emulator"],"comments":[{"owner":{"account_id":23340523,"reputation":305,"user_id":17415483,"display_name":"Krahmal"},"score":0,"creation_date":1647583834,"post_id":71415423,"comment_id":126412314,"body_markdown":"Me too. Only on Android 12 emulator. What is your cameraX version?","body":"Me too. Only on Android 12 emulator. What is your cameraX version?"},{"owner":{"account_id":21373830,"reputation":595,"user_id":15740938,"display_name":"ladytoky0"},"score":0,"creation_date":1647603953,"post_id":71415423,"comment_id":126418110,"body_markdown":"Hi! the version is 1.0.2 and yours?","body":"Hi! the version is 1.0.2 and yours?"},{"owner":{"account_id":21373830,"reputation":595,"user_id":15740938,"display_name":"ladytoky0"},"score":0,"creation_date":1647604009,"post_id":71415423,"comment_id":126418121,"body_markdown":"If you have the same question, can you give un up to the post? so more people can see it, and maybe answer it? @Krahmal","body":"If you have the same question, can you give un up to the post? so more people can see it, and maybe answer it? @Krahmal"},{"owner":{"account_id":23340523,"reputation":305,"user_id":17415483,"display_name":"Krahmal"},"score":1,"creation_date":1647823821,"post_id":71415423,"comment_id":126461029,"body_markdown":"I voted. Mine is 1.1.0-alpha04. I think this may caused by emulator bug...","body":"I voted. Mine is 1.1.0-alpha04. I think this may caused by emulator bug..."},{"owner":{"account_id":23340523,"reputation":305,"user_id":17415483,"display_name":"Krahmal"},"score":8,"creation_date":1647827983,"post_id":71415423,"comment_id":126461578,"body_markdown":"Device Manager&gt;Edit&gt;Show Advanced Settings&gt;Camera&gt;Back, change it from virtual scene to emulated, and the emulator can take picture now for me.","body":"Device Manager&gt;Edit&gt;Show Advanced Settings&gt;Camera&gt;Back, change it from virtual scene to emulated, and the emulator can take picture now for me."},{"owner":{"account_id":21373830,"reputation":595,"user_id":15740938,"display_name":"ladytoky0"},"score":0,"creation_date":1647907490,"post_id":71415423,"comment_id":126484844,"body_markdown":"yes but I need to take a real picture :/","body":"yes but I need to take a real picture :/"},{"owner":{"account_id":3116741,"reputation":1030,"user_id":2637343,"accept_rate":79,"display_name":"Lahiru Prasanna"},"score":0,"creation_date":1661272659,"post_id":71415423,"comment_id":129730883,"body_markdown":"I have Samsung A32 phone with android 12 , my code working on it and when i am using pixel 2 xl with api level 33 emulator it gives this error","body":"I have Samsung A32 phone with android 12 , my code working on it and when i am using pixel 2 xl with api level 33 emulator it gives this error"},{"owner":{"account_id":12418721,"reputation":849,"user_id":9362683,"display_name":"SVG"},"score":0,"creation_date":1664436481,"post_id":71415423,"comment_id":130472342,"body_markdown":"@ladytoky0 did u find any solution. I am also facing the same issue.","body":"@ladytoky0 did u find any solution. I am also facing the same issue."},{"owner":{"account_id":21373830,"reputation":595,"user_id":15740938,"display_name":"ladytoky0"},"score":0,"creation_date":1664490405,"post_id":71415423,"comment_id":130490365,"body_markdown":"@SVG I did not find any solution, only that apparently it&#39;s impossible lol","body":"@SVG I did not find any solution, only that apparently it&#39;s impossible lol"}],"answers":[{"tags":[],"owner":{"account_id":14352030,"reputation":710,"user_id":10367178,"display_name":"Md Adilur Rashid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661772194,"creation_date":1661772194,"answer_id":73528042,"question_id":71415423,"body_markdown":"I&#39;ve also faced this same problem in pixel 3 (sdk 31). This was indeed the problem with the emulator.\r\n\r\nThanks to #Krahmal (Topic&#39;s main comment section) helped to fixed a part of the  problem but not 100% \r\n\r\nFor my case pixel 4 with android 10 (sdk 29) working fine(which may not in your case).\r\nAlthough it works with physical device. \r\n\r\nThanks","title":"AndroidStudio emulator cannot take photo: The camera device has encountered a serious error","body":"<p>I've also faced this same problem in pixel 3 (sdk 31). This was indeed the problem with the emulator.</p>\n<p>Thanks to #Krahmal (Topic's main comment section) helped to fixed a part of the  problem but not 100%</p>\n<p>For my case pixel 4 with android 10 (sdk 29) working fine(which may not in your case).\nAlthough it works with physical device.</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":21373830,"reputation":595,"user_id":15740938,"display_name":"ladytoky0"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3469,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1661772194,"creation_date":1646856523,"question_id":71415423,"body_markdown":"I&#39;m working with an Android emulator (api 29) and when I try to capture a photo like this:\r\n\r\n```\r\nimageCapture?.takePicture(cameraExecutor, object : ImageCapture.OnImageCapturedCallback() {\r\n...\r\n  override fun onCaptureSuccess(image: ImageProxy) {\r\n   ....\r\n   // should show a preview before sending the picture to the web service\r\n  }\r\n\r\n}\r\n```\r\nit freezes. This only happens with an emulator!\r\n\r\n\r\nI have the following error:\r\n\r\n```\r\nD/Camera2CameraImpl: {Camera@683e74c[id=0]} Resetting Capture Session\r\nE/CameraCaptureSession: Session 0: Exception while stopping repeating: \r\n    android.hardware.camera2.CameraAccessException: CAMERA_ERROR (3): The camera device has encountered a serious error\r\n        at android.hardware.camera2.impl.CameraDeviceImpl.checkIfCameraClosedOrInError(CameraDeviceImpl.java:2521)\r\n        at android.hardware.camera2.impl.CameraDeviceImpl.stopRepeating(CameraDeviceImpl.java:1128)\r\n        at android.hardware.camera2.impl.CameraCaptureSessionImpl.close(CameraCaptureSessionImpl.java:526)\r\n```","title":"AndroidStudio emulator cannot take photo: The camera device has encountered a serious error","body":"<p>I'm working with an Android emulator (api 29) and when I try to capture a photo like this:</p>\n<pre><code>imageCapture?.takePicture(cameraExecutor, object : ImageCapture.OnImageCapturedCallback() {\n...\n  override fun onCaptureSuccess(image: ImageProxy) {\n   ....\n   // should show a preview before sending the picture to the web service\n  }\n\n}\n</code></pre>\n<p>it freezes. This only happens with an emulator!</p>\n<p>I have the following error:</p>\n<pre><code>D/Camera2CameraImpl: {Camera@683e74c[id=0]} Resetting Capture Session\nE/CameraCaptureSession: Session 0: Exception while stopping repeating: \n    android.hardware.camera2.CameraAccessException: CAMERA_ERROR (3): The camera device has encountered a serious error\n        at android.hardware.camera2.impl.CameraDeviceImpl.checkIfCameraClosedOrInError(CameraDeviceImpl.java:2521)\n        at android.hardware.camera2.impl.CameraDeviceImpl.stopRepeating(CameraDeviceImpl.java:1128)\n        at android.hardware.camera2.impl.CameraCaptureSessionImpl.close(CameraCaptureSessionImpl.java:526)\n</code></pre>\n"},{"tags":["java","ios","appium"],"answers":[{"tags":[],"owner":{"account_id":4292069,"reputation":3097,"user_id":3622606,"accept_rate":83,"display_name":"Jess"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405970697,"creation_date":1405963994,"answer_id":24871200,"question_id":24858987,"body_markdown":"**You should not use send_keys on iOS. It is notoriously unreliable.** ([read more about that here][1])\r\n\r\nHere&#39;s my implementation in python:\r\n\r\n    textfield = driver.find_element_by_class_name(&#39;UIATextField&#39;)\r\n    text = &#39;ABCDEF&#39;\r\n    driver.execute_script(&quot;au.getElement(&#39;%s&#39;).setValue(&#39;%s&#39;)&quot; % (textfield.id, text))\r\n    driver.hide_keyboard(&#39;return&#39;) # Close the keyboard with the return button\r\n\r\nSo what you need to do is:\r\n\r\n* Get the webelement/textfield\r\n* On the driver, call ExecuteScript\r\n* Pass in the the webelement&#39;s id and the value you want to set the textfield to\r\n* Optional: Hide the keyboard afterward\r\n\r\n[1]: https://groups.google.com/forum/#!topic/appium-discuss/Rxo8WNA1oGg","title":"Appium ios app in JAVA : How to open a keyboard view in appium for ios app","body":"<p><strong>You should not use send_keys on iOS. It is notoriously unreliable.</strong> (<a href=\"https://groups.google.com/forum/#!topic/appium-discuss/Rxo8WNA1oGg\" rel=\"nofollow\">read more about that here</a>)</p>\n\n<p>Here's my implementation in python:</p>\n\n<pre><code>textfield = driver.find_element_by_class_name('UIATextField')\ntext = 'ABCDEF'\ndriver.execute_script(\"au.getElement('%s').setValue('%s')\" % (textfield.id, text))\ndriver.hide_keyboard('return') # Close the keyboard with the return button\n</code></pre>\n\n<p>So what you need to do is:</p>\n\n<ul>\n<li>Get the webelement/textfield</li>\n<li>On the driver, call ExecuteScript</li>\n<li>Pass in the the webelement's id and the value you want to set the textfield to</li>\n<li>Optional: Hide the keyboard afterward</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2377507,"reputation":389,"user_id":3894496,"display_name":"SthQA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406795195,"creation_date":1406795195,"answer_id":25054142,"question_id":24858987,"body_markdown":"To add some clarity: \r\nWhen you use sendkeys, do the textfield appear clicked? \r\nWhat is the response from the server regarding the request of the sendkeys action?\r\nCan you show the line where you do the inputing part?\r\n\r\nThis may be caused by a) Appium doesn&#39;t see the UItextbox b) The action is called before the textbox is usable(init phase) c)there is sth completely wrong with your line of code :)\r\n\r\nAwaiting your answer","title":"Appium ios app in JAVA : How to open a keyboard view in appium for ios app","body":"<p>To add some clarity: \nWhen you use sendkeys, do the textfield appear clicked? \nWhat is the response from the server regarding the request of the sendkeys action?\nCan you show the line where you do the inputing part?</p>\n\n<p>This may be caused by a) Appium doesn't see the UItextbox b) The action is called before the textbox is usable(init phase) c)there is sth completely wrong with your line of code :)</p>\n\n<p>Awaiting your answer</p>\n"}],"owner":{"account_id":2463872,"reputation":4439,"user_id":2147409,"display_name":"Amit Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2518,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661772077,"creation_date":1405924699,"question_id":24858987,"body_markdown":"We are automating an iOS app using Appium and JAVA\r\n\r\nWe stuck at below point \r\n\r\nHow to open a keyboard view in appium to type in UIAtextbox field as sendkeys of webdriver is not working without it ?\r\n\r\nPlease help ....","title":"Appium ios app in JAVA : How to open a keyboard view in appium for ios app","body":"<p>We are automating an iOS app using Appium and JAVA</p>\n\n<p>We stuck at below point </p>\n\n<p>How to open a keyboard view in appium to type in UIAtextbox field as sendkeys of webdriver is not working without it ?</p>\n\n<p>Please help ....</p>\n"},{"tags":["java","eclipse","maven","installation","build"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1661772019,"creation_date":1661720210,"answer_id":73522219,"question_id":73521848,"body_markdown":"com.sun.tools.jar is not sufficiently properly licensed to be capable of even being in the mavencentral repo. It&#39;s also.. 20 years old. Presumably someone in the project either adding that to their local clone of mavencentral or otherwise modified things so that it does exist, or, someone at some point added it to mavencentral, and since then it has been removed due to licensing issues.\r\n\r\ncom.sun.tools is, primarily, `javac`. Most likely you&#39;re using JSP (another 23 year old obsolete tech you really don&#39;t want to be using in 2022) which needs this. Upgrade things, from the context of your question it&#39;s not clear what, but it&#39;s 20 years out of date, whatever it is.\r\n\r\nNB: More recent versions of java _are_ sufficiently licensed, I believe, also, java has a built in way to get a compiler which doesn&#39;t require a separate dep. So it&#39;s not just a matter of &#39;okay which maven group/artefact/version DO I use&#39;. Whatever code needs this needs some slight reworking.\r\n","title":"Missing artifact com.sun:tools:jar:1.4.2","body":"<p>com.sun.tools.jar is not sufficiently properly licensed to be capable of even being in the mavencentral repo. It's also.. 20 years old. Presumably someone in the project either adding that to their local clone of mavencentral or otherwise modified things so that it does exist, or, someone at some point added it to mavencentral, and since then it has been removed due to licensing issues.</p>\n<p>com.sun.tools is, primarily, <code>javac</code>. Most likely you're using JSP (another 23 year old obsolete tech you really don't want to be using in 2022) which needs this. Upgrade things, from the context of your question it's not clear what, but it's 20 years out of date, whatever it is.</p>\n<p>NB: More recent versions of java <em>are</em> sufficiently licensed, I believe, also, java has a built in way to get a compiler which doesn't require a separate dep. So it's not just a matter of 'okay which maven group/artefact/version DO I use'. Whatever code needs this needs some slight reworking.</p>\n"}],"owner":{"account_id":8542902,"reputation":1,"user_id":6402329,"display_name":"Raveendra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661721938,"answer_count":1,"score":0,"last_activity_date":1661772019,"creation_date":1661716916,"question_id":73521848,"body_markdown":"While building java project in eclipse, I am seeing error &quot;Missing artifact com.sun:tools:jar:1.4.2&quot;\r\nAnd I am unable to proceed mvn clean install of the project.\r\nDoes anybody resolved this issue before?","title":"Missing artifact com.sun:tools:jar:1.4.2","body":"<p>While building java project in eclipse, I am seeing error &quot;Missing artifact com.sun:tools:jar:1.4.2&quot;\nAnd I am unable to proceed mvn clean install of the project.\nDoes anybody resolved this issue before?</p>\n"},{"tags":["java","appium","appium-android","browserstack","browserstack-app-automate"],"answers":[{"tags":[],"owner":{"account_id":26188010,"reputation":1,"user_id":19870281,"display_name":"Sachin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661771883,"creation_date":1661771883,"answer_id":73527984,"question_id":73527604,"body_markdown":"You can refer: https://www.browserstack.com/docs/app-automate/appium/advanced-features/appium-gestures for using swipe gestures on BrowserStack.\r\n\r\nAlso, try using different Appium versions including the one that you are using at your end to run your test locally. Take help from: https://www.browserstack.com/app-automate/capabilities","title":"swipeGesture not supported by BrowserStack - Automation using Appium - Android","body":"<p>You can refer: <a href=\"https://www.browserstack.com/docs/app-automate/appium/advanced-features/appium-gestures\" rel=\"nofollow noreferrer\">https://www.browserstack.com/docs/app-automate/appium/advanced-features/appium-gestures</a> for using swipe gestures on BrowserStack.</p>\n<p>Also, try using different Appium versions including the one that you are using at your end to run your test locally. Take help from: <a href=\"https://www.browserstack.com/app-automate/capabilities\" rel=\"nofollow noreferrer\">https://www.browserstack.com/app-automate/capabilities</a></p>\n"}],"owner":{"account_id":914075,"reputation":365,"user_id":947280,"accept_rate":64,"display_name":"figuedmundo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":419,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661771883,"creation_date":1661769794,"question_id":73527604,"body_markdown":"Testing Mobile native app with Appium using BroswerStack (Android device) and it throws an UnsupportedCommandException (please see below) when trying to execute the swipeGesture to perform a swipe up. Btw, it is working in a local execution using real devices or Emulators.\r\n\r\n    org.openqa.selenium.UnsupportedCommandException: Unknown mobile command &quot;swipeGesture&quot;. \r\n    Only shell,scrollBackTo,viewportScreenshot,deepLink,startLogsBroadcast,stopLogsBroadcast, \r\n    acceptAlert,dismissAlert,batteryInfo,deviceInfo,changePermissions,getPermissions, \r\n    performEditorAction,startScreenStreaming,stopScreenStreaming,getNotifications,listSms, \r\n    type commands are supported.\r\n\r\nMy code is as follows\r\n\r\n```\r\n            ((JavascriptExecutor) driver).executeScript(&quot;mobile: swipeGesture&quot;, Map.of(\r\n                    &quot;left&quot;, location.x, &quot;top&quot;, location.y - swipeBoxHigh,\r\n                    &quot;width&quot;, 100, &quot;height&quot;, swipeBoxHigh,\r\n                    &quot;direction&quot;, &quot;up&quot;,\r\n                    &quot;percent&quot;, 1,\r\n                    &quot;speed&quot;, 1500\r\n            ));\r\n```\r\n\r\nAny idea why I am getting this Exception in browswerStack?\r\n\r\nAny suggestion how to perform a swipe gesture in android using browserStack? ","title":"swipeGesture not supported by BrowserStack - Automation using Appium - Android","body":"<p>Testing Mobile native app with Appium using BroswerStack (Android device) and it throws an UnsupportedCommandException (please see below) when trying to execute the swipeGesture to perform a swipe up. Btw, it is working in a local execution using real devices or Emulators.</p>\n<pre><code>org.openqa.selenium.UnsupportedCommandException: Unknown mobile command &quot;swipeGesture&quot;. \nOnly shell,scrollBackTo,viewportScreenshot,deepLink,startLogsBroadcast,stopLogsBroadcast, \nacceptAlert,dismissAlert,batteryInfo,deviceInfo,changePermissions,getPermissions, \nperformEditorAction,startScreenStreaming,stopScreenStreaming,getNotifications,listSms, \ntype commands are supported.\n</code></pre>\n<p>My code is as follows</p>\n<pre><code>            ((JavascriptExecutor) driver).executeScript(&quot;mobile: swipeGesture&quot;, Map.of(\n                    &quot;left&quot;, location.x, &quot;top&quot;, location.y - swipeBoxHigh,\n                    &quot;width&quot;, 100, &quot;height&quot;, swipeBoxHigh,\n                    &quot;direction&quot;, &quot;up&quot;,\n                    &quot;percent&quot;, 1,\n                    &quot;speed&quot;, 1500\n            ));\n</code></pre>\n<p>Any idea why I am getting this Exception in browswerStack?</p>\n<p>Any suggestion how to perform a swipe gesture in android using browserStack?</p>\n"},{"tags":["java","html","selenium"],"comments":[{"owner":{"account_id":7669964,"reputation":169,"user_id":5812557,"display_name":"Frederick Jaime"},"score":0,"creation_date":1463025834,"post_id":37176903,"comment_id":61888415,"body_markdown":"do you have a demo to view, i am a little unclear on what you are asking. Do you mean click Programmatically?","body":"do you have a demo to view, i am a little unclear on what you are asking. Do you mean click Programmatically?"},{"owner":{"account_id":8051881,"reputation":21,"user_id":6070138,"display_name":"Harihara"},"score":0,"creation_date":1463029851,"post_id":37176903,"comment_id":61889643,"body_markdown":"Yes, i want to click programmatically only(Automation).  I use Selenium and Java for Scripting. I used    &quot;WebElement element = driver.findElement(By.xpath(&quot;//a[contains(@href,&#39;#Init_Get_Grid&#39;)]&quot;)).findElement(By.linkText(&quot;Get&quot;));      &quot; for getting the xpath and clicked the element. But control is not clicking the Tab. Is there any other way to click the Tab.","body":"Yes, i want to click programmatically only(Automation).  I use Selenium and Java for Scripting. I used    &quot;WebElement element = driver.findElement(By.xpath(&quot;//a[contains(@href,&#39;#Init_Get_G&zwnj;&#8203;rid&#39;)]&quot;)).findElemen&zwnj;&#8203;t(By.linkText(&quot;Get&quot;)&zwnj;&#8203;);      &quot; for getting the xpath and clicked the element. But control is not clicking the Tab. Is there any other way to click the Tab."},{"owner":{"account_id":26115396,"reputation":66,"user_id":19808625,"display_name":"Xyu"},"score":0,"creation_date":1661561478,"post_id":37176903,"comment_id":129808841,"body_markdown":"Please show us what you&#39;ve tried so far.","body":"Please show us what you&#39;ve tried so far."},{"owner":{"account_id":10575026,"reputation":67,"user_id":7790584,"display_name":"Manu Gopinathan"},"score":0,"creation_date":1661838677,"post_id":37176903,"comment_id":129859727,"body_markdown":"Have you tried the below option? If yes, what issue/error did you got?\n\n    WebElement element = driver.findElement(By.linkText(&quot;Get&quot;));","body":"Have you tried the below option? If yes, what issue/error did you got?      WebElement element = driver.findElement(By.linkText(&quot;Get&quot;));"}],"answers":[{"tags":[],"owner":{"account_id":10817194,"reputation":373,"user_id":7955728,"accept_rate":33,"display_name":"Syed Sarek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661771454,"creation_date":1661771454,"answer_id":73527908,"question_id":37176903,"body_markdown":"You can try this:\r\n\r\n    WebElement element = driver.findElement(By.xpath(&quot;//a[contains(@href,&#39;#Init_Get_Grid&#39;)]&quot;)).findElement(By.linkText(&quot;Get&quot;)); \r\n    element.click();","title":"How to Click the Tab","body":"<p>You can try this:</p>\n<pre><code>WebElement element = driver.findElement(By.xpath(&quot;//a[contains(@href,'#Init_Get_Grid')]&quot;)).findElement(By.linkText(&quot;Get&quot;)); \nelement.click();\n</code></pre>\n"}],"owner":{"account_id":8051881,"reputation":21,"user_id":6070138,"display_name":"Harihara"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661771454,"creation_date":1463024936,"question_id":37176903,"body_markdown":"I want to click the &quot;Get&quot; tab illustrated in [this screenshot][1]. But unable to click. Can someone please help me?\r\n\r\n[1]: http://i.stack.imgur.com/8R8VO.png\r\n\r\nHTML is:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     &lt;div id=&quot;schemeSlabTab&quot; class=&quot;ui-tabs ui-widget ui-widget-content ui-corner-all&quot;&gt;\r\n        &lt;ul class=&quot;ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all&quot;&gt;\r\n        &lt;li class=&quot;ui-state-default ui-corner-top&quot;&gt;\r\n        &lt;a href=&quot;#Init_Buy_Grid&quot;&gt;Buy&lt;/a&gt;\r\n        &lt;/li&gt;\r\n        &lt;li class=&quot;ui-state-default ui-corner-top ui-tabs-selected ui-state-active&quot;&gt;\r\n        &lt;a href=&quot;#Init_Get_Grid&quot; style=&quot;background-color: transparent;&quot;&gt;Get&lt;/a&gt;\r\n        &lt;/li&gt;\r\n        &lt;/ul&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to Click the Tab","body":"<p>I want to click the &quot;Get&quot; tab illustrated in <a href=\"https://i.stack.imgur.com/8R8VO.png\" rel=\"nofollow noreferrer\">this screenshot</a>. But unable to click. Can someone please help me?</p>\n<p>HTML is:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;div id=\"schemeSlabTab\" class=\"ui-tabs ui-widget ui-widget-content ui-corner-all\"&gt;\n    &lt;ul class=\"ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all\"&gt;\n    &lt;li class=\"ui-state-default ui-corner-top\"&gt;\n    &lt;a href=\"#Init_Buy_Grid\"&gt;Buy&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"ui-state-default ui-corner-top ui-tabs-selected ui-state-active\"&gt;\n    &lt;a href=\"#Init_Get_Grid\" style=\"background-color: transparent;\"&gt;Get&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1661771469,"post_id":73527855,"comment_id":129842992,"body_markdown":"use absolute path to smbclient.","body":"use absolute path to smbclient."},{"owner":{"account_id":15316038,"reputation":1,"user_id":11049912,"display_name":"sai"},"score":0,"creation_date":1661771678,"post_id":73527855,"comment_id":129843065,"body_markdown":"Sorry din&#39;t get, you mean /usr/bin/smbclient?","body":"Sorry din&#39;t get, you mean /usr/bin/smbclient?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1661771693,"post_id":73527855,"comment_id":129843078,"body_markdown":"for example, yes","body":"for example, yes"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661771724,"post_id":73527855,"comment_id":129843087,"body_markdown":"```-L``` ? That&#39;s a listing command is it not? Does that command actually work at the command line?","body":"<code>-L</code> ? That&#39;s a listing command is it not? Does that command actually work at the command line?"},{"owner":{"account_id":15316038,"reputation":1,"user_id":11049912,"display_name":"sai"},"score":0,"creation_date":1661771769,"post_id":73527855,"comment_id":129843110,"body_markdown":"Tried that, but didn&#39;t work. Moreover when we deploy the code on servers, we would not have smbclient and absolute path","body":"Tried that, but didn&#39;t work. Moreover when we deploy the code on servers, we would not have smbclient and absolute path"},{"owner":{"account_id":15316038,"reputation":1,"user_id":11049912,"display_name":"sai"},"score":0,"creation_date":1661771892,"post_id":73527855,"comment_id":129843164,"body_markdown":"@goose tried to install SmbClient on command line to check this but don&#39;t have permissions to install, downloaded samba-4.16.4 tar file and extracted but can&#39;t move further","body":"@goose tried to install SmbClient on command line to check this but don&#39;t have permissions to install, downloaded samba-4.16.4 tar file and extracted but can&#39;t move further"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661774013,"post_id":73527855,"comment_id":129843887,"body_markdown":"*Tried that, but didn&#39;t work. Moreover when we deploy the code on servers, we would not have smbclient and absolute path*. Baffling. How do you hope to execute smbclient if it&#39;s not even installed?","body":"<i>Tried that, but didn&#39;t work. Moreover when we deploy the code on servers, we would not have smbclient and absolute path</i>. Baffling. How do you hope to execute smbclient if it&#39;s not even installed?"},{"owner":{"account_id":15316038,"reputation":1,"user_id":11049912,"display_name":"sai"},"score":0,"creation_date":1661775427,"post_id":73527855,"comment_id":129844381,"body_markdown":"Is there any other way to make more than 100k images of more than 90GB to copy faster from one folder to another folder through java in remote server? currently it&#39;s working using jcifs.smb.SmbFile .copyTo method inside forEach but it is taking more than 2 days to copy","body":"Is there any other way to make more than 100k images of more than 90GB to copy faster from one folder to another folder through java in remote server? currently it&#39;s working using jcifs.smb.SmbFile .copyTo method inside forEach but it is taking more than 2 days to copy"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661794308,"post_id":73527855,"comment_id":129851202,"body_markdown":"It might be worth posting that code - there could be something wrong with it","body":"It might be worth posting that code - there could be something wrong with it"},{"owner":{"account_id":15316038,"reputation":1,"user_id":11049912,"display_name":"sai"},"score":0,"creation_date":1661846236,"post_id":73527855,"comment_id":129861971,"body_markdown":"@g00se private void copy(List&lt;String&gt; fileList) {\nNtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(nasDomain, nasUsername, nasPassword);\nfileList.parallelStream().forEach((filepath) -&gt; {\n\t\t\tString sourcePath = new StringBuilder(&quot;//naiy83e00txe2/Pay_NP/&quot;).append(&quot;Sai/testPay/&quot;).append(filepath)\n\t\t\t\t\t.toString();\n\t\t\tString targetPath = new StringBuilder(&quot;//naiy83e00txe2/Pay_NP/&quot;).append(&quot;Sai/job/&quot;).toString();\n\t\t\ttry {\n\t\t\t\tSmbFile targetSMBPath = new SmbFile(&quot;smb:&quot; + targetPath, auth);\n\t\t\t\tif (!targetSMBPath.exists()) {\n\t\t\t\t\ttargetSMBPath.mkdir();\n\t\t\t\t}","body":"@g00se private void copy(List&lt;String&gt; fileList) { NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(nasDomain, nasUsername, nasPassword); fileList.parallelStream().forEach((filepath) -&gt; { \t\t\tString sourcePath = new StringBuilder(&quot;//naiy83e00txe2/Pay_NP/&quot;).append(&quot;Sai/testPay&zwnj;&#8203;/&quot;).append(filepath) \t\t\t\t\t.toString(); \t\t\tString targetPath = new StringBuilder(&quot;//naiy83e00txe2/Pay_NP/&quot;).append(&quot;Sai/job/&quot;).&zwnj;&#8203;toString(); \t\t\ttry { \t\t\t\tSmbFile targetSMBPath = new SmbFile(&quot;smb:&quot; + targetPath, auth); \t\t\t\tif (!targetSMBPath.exists()) { \t\t\t\t\ttargetSMBPath.mkdir(); \t\t\t\t}"},{"owner":{"account_id":15316038,"reputation":1,"user_id":11049912,"display_name":"sai"},"score":0,"creation_date":1661846245,"post_id":73527855,"comment_id":129861976,"body_markdown":"SmbFile imageSMBpath = new SmbFile(&quot;smb:&quot; + actualPathToSearch, auth);\ndestPathToSearch = new StringBuilder(&quot;//naiy83e00txe2/Pay_NP/&quot;).append(&quot;Sai/job/&quot;).append(filepath).toString(); SmbFile destSMBPathFile = new SmbFile(&quot;smb:&quot; + destPathToSearch, auth);\n\t\t\t\tif (!targetSMBPath.exists()) {\n\t\t\t\t\timageSMBpath.copyTo(targetSMBPath);\n\t\t\t\t}\n\t\t\t} catch (MalformedURLException | SmbException e) {\n\t\t\t\te.printStacktrace();\n\t\t\t}\n\t\t});\n}","body":"SmbFile imageSMBpath = new SmbFile(&quot;smb:&quot; + actualPathToSearch, auth); destPathToSearch = new StringBuilder(&quot;//naiy83e00txe2/Pay_NP/&quot;).append(&quot;Sai/job/&quot;).&zwnj;&#8203;append(filepath).toS&zwnj;&#8203;tring(); SmbFile destSMBPathFile = new SmbFile(&quot;smb:&quot; + destPathToSearch, auth); \t\t\t\tif (!targetSMBPath.exists()) { \t\t\t\t\timageSMBpath.copyTo(targetSMBPath); \t\t\t\t} \t\t\t} catch (MalformedURLException | SmbException e) { \t\t\t\te.printStacktrace(); \t\t\t} \t\t}); }"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661848207,"post_id":73527855,"comment_id":129862773,"body_markdown":"I think it would be better for you to delete those comments and put the code in your actual question","body":"I think it would be better for you to delete those comments and put the code in your actual question"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661850480,"post_id":73527855,"comment_id":129863629,"body_markdown":"I don&#39;t see anything immediately wrong there. I was looking for repeated authentication but fortunately that&#39;s absent. I don&#39;t know JCIFS but afaik it&#39;s a very professional thing. My best guess is that the &#39;default&#39; environment settings in it are different from smbclient. You might need to dig into the API docs more. Maybe stuff like default copy buffer sizes(?) And, if they&#39;ve got logging right, you ought to be able to turn on log debug for the API and find out something about bottlenecks. Of course a JCIFS user group could be informative","body":"I don&#39;t see anything immediately wrong there. I was looking for repeated authentication but fortunately that&#39;s absent. I don&#39;t know JCIFS but afaik it&#39;s a very professional thing. My best guess is that the &#39;default&#39; environment settings in it are different from smbclient. You might need to dig into the API docs more. Maybe stuff like default copy buffer sizes(?) And, if they&#39;ve got logging right, you ought to be able to turn on log debug for the API and find out something about bottlenecks. Of course a JCIFS user group could be informative"}],"owner":{"account_id":15316038,"reputation":1,"user_id":11049912,"display_name":"sai"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661771174,"creation_date":1661771174,"question_id":73527855,"body_markdown":"I wanted to copy 100k images(90 GB) from one folder to another folder in server using SMBClient in Java. So tried one file(index.xlsx) first, but I am getting the following error\r\n\r\nSource location : //naiy83e00txe2/Pay_NP/Sai/testPay/index.xlsx \r\n\r\nTargetr location : //naiy83e00txe2/Pay_NP/Sai/job/index.xlsx\r\nException in thread &quot;main&quot; java.io.IOException: Cannot run program &quot;smbclient&quot;: CreateProcess error=2, The system cannot find the file specified\r\n\tat java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\r\n\tat java.lang.Runtime.exec(Runtime.java:621)\r\n\r\nFollowing is the program\r\n\r\npublic static void main(String[] args) throws IOException {\r\n\t\r\n\tStringBuilder str = new StringBuilder(\r\n\t\t\t&quot;smbclient Image2 &quot;\r\n\t\t\t+ &quot;-L naiy83e00txe2 -M naiy83e00txe2 -W RTX1 -U PaySupport -c &quot;\r\n\t\t\t+ &quot;\\&quot;put //naiy83e00txe2/Pay_NP/Sai/testPay/index.xlsx //naiy83e00txe2/Pay_NP/Sai/job/index.xlsx\\&quot; -m SMB2&quot;);\r\n\t\t\r\n\t\tString dest = str.toString();\r\n\t\tSystem.out.println(&quot;Smbclinet command:&quot; + dest);\r\n\t\t  try {\r\n\t    Process p = Runtime.getRuntime().exec(dest);\r\n\t  \r\n\t\t\tint waitFor = p.waitFor();\r\n\t\t\tSystem.out.println(waitFor);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nActually I was using jcifs.smb.SmbFile copyTo method in forEach stream to do this but it was taking more than 3 days to copy 100k images, moreover it is getting truncated in the middle.\r\n\r\nSo thought of runninng SMbclient command instead of jcifs.smbfile.copyTO, but I was getting above error.\r\n\r\nCan somebody help me with these Smbcommands to run with ProcessBuilder in java to achieve 100kImages copied faster?","title":"When I try to run SmbClient command to copy image under one folder to another folder over server using Java Process it is giving FileNotFound","body":"<p>I wanted to copy 100k images(90 GB) from one folder to another folder in server using SMBClient in Java. So tried one file(index.xlsx) first, but I am getting the following error</p>\n<p>Source location : //naiy83e00txe2/Pay_NP/Sai/testPay/index.xlsx</p>\n<p>Targetr location : //naiy83e00txe2/Pay_NP/Sai/job/index.xlsx\nException in thread &quot;main&quot; java.io.IOException: Cannot run program &quot;smbclient&quot;: CreateProcess error=2, The system cannot find the file specified\nat java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)\nat java.lang.Runtime.exec(Runtime.java:621)</p>\n<p>Following is the program</p>\n<p>public static void main(String[] args) throws IOException {</p>\n<pre><code>StringBuilder str = new StringBuilder(\n        &quot;smbclient Image2 &quot;\n        + &quot;-L naiy83e00txe2 -M naiy83e00txe2 -W RTX1 -U PaySupport -c &quot;\n        + &quot;\\&quot;put //naiy83e00txe2/Pay_NP/Sai/testPay/index.xlsx //naiy83e00txe2/Pay_NP/Sai/job/index.xlsx\\&quot; -m SMB2&quot;);\n    \n    String dest = str.toString();\n    System.out.println(&quot;Smbclinet command:&quot; + dest);\n      try {\n    Process p = Runtime.getRuntime().exec(dest);\n  \n        int waitFor = p.waitFor();\n        System.out.println(waitFor);\n    } catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Actually I was using jcifs.smb.SmbFile copyTo method in forEach stream to do this but it was taking more than 3 days to copy 100k images, moreover it is getting truncated in the middle.</p>\n<p>So thought of runninng SMbclient command instead of jcifs.smbfile.copyTO, but I was getting above error.</p>\n<p>Can somebody help me with these Smbcommands to run with ProcessBuilder in java to achieve 100kImages copied faster?</p>\n"},{"tags":["java","performance","dictionary","collections","hashmap"],"answers":[{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1525533288,"creation_date":1525533288,"answer_id":50190954,"question_id":50190877,"body_markdown":"Below is the copied implementation of `Map.values()` in `java.util.HashMap`:\r\n\r\n    public Collection&lt;V&gt; values() {\r\n        Collection&lt;V&gt; vs = values;\r\n        if (vs == null) {\r\n            vs = new Values();\r\n            values = vs;\r\n        }\r\n        return vs;\r\n    }\r\n\r\nThis clearly shows that the value collection isn&#39;t created unless necessary. So, there should not be additional overhead caused by calls to `values()`\r\n","title":"java.util.Map values() method performance","body":"<p>Below is the copied implementation of <code>Map.values()</code> in <code>java.util.HashMap</code>:</p>\n\n<pre><code>public Collection&lt;V&gt; values() {\n    Collection&lt;V&gt; vs = values;\n    if (vs == null) {\n        vs = new Values();\n        values = vs;\n    }\n    return vs;\n}\n</code></pre>\n\n<p>This clearly shows that the value collection isn't created unless necessary. So, there should not be additional overhead caused by calls to <code>values()</code></p>\n"},{"tags":[],"owner":{"account_id":2331623,"reputation":25,"user_id":2044911,"display_name":"Daryl Handley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525534729,"creation_date":1525534729,"answer_id":50191184,"question_id":50190877,"body_markdown":"As others have mentioned you can see this by looking at the code. You can also code up a quick example to prove it to yourself. The code below will print true 10 times as the object identity will always be the same for values. \r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, String&gt; myMap = new HashMap();\r\n        Collection&lt;String&gt; lastValues = myMap.values();\r\n        for (int i=0; i &lt; 10; i++) {\r\n            System.out.println(lastValues == myMap.values());\r\n            lastValues = myMap.values();\r\n        }\r\n    }\r\n\r\nThe following code will print true the first time and then false the next 9 times. \r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, String&gt; myMap = new HashMap();\r\n        Collection&lt;String&gt; lastValues = myMap.values();\r\n        for (int i=0; i &lt; 10; i++) {\r\n            System.out.println(lastValues == myMap.values());\r\n            lastValues = myMap.values();\r\n            myMap = new HashMap();\r\n        }\r\n    }","title":"java.util.Map values() method performance","body":"<p>As others have mentioned you can see this by looking at the code. You can also code up a quick example to prove it to yourself. The code below will print true 10 times as the object identity will always be the same for values. </p>\n\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, String&gt; myMap = new HashMap();\n    Collection&lt;String&gt; lastValues = myMap.values();\n    for (int i=0; i &lt; 10; i++) {\n        System.out.println(lastValues == myMap.values());\n        lastValues = myMap.values();\n    }\n}\n</code></pre>\n\n<p>The following code will print true the first time and then false the next 9 times. </p>\n\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, String&gt; myMap = new HashMap();\n    Collection&lt;String&gt; lastValues = myMap.values();\n    for (int i=0; i &lt; 10; i++) {\n        System.out.println(lastValues == myMap.values());\n        lastValues = myMap.values();\n        myMap = new HashMap();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525536300,"creation_date":1525536300,"answer_id":50191429,"question_id":50190877,"body_markdown":"One important point here may be: **It does not matter!**\r\n\r\n---\r\n\r\nBut first, referring to the other answers so far: The collection that is returned there is usually &quot;cached&quot;, in that it is lazily created, and afterwards, the same instance will be returned. For example, considering the implementation in the `HashMap` class:\r\n\r\n    public Collection&lt;V&gt; values() {\r\n        Collection&lt;V&gt; vs;\r\n        return (vs = values) == null ? (values = new Values()) : vs;\r\n    }\r\n\r\nThis is even specified (as part of the contract, as an implementation specification) in the [documentation of the `AbstractMap` class](https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html#values--) (which most `Map` implementations are based on) :\r\n\r\n&gt; The collection is created the first time this method is called, and returned in response to all subsequent calls. No synchronization is performed, so there is a slight chance that multiple calls to this method will not all return the same collection.\r\n\r\n---\r\n\r\nBut now, one could argue that the implementation might change later. The implementation of the `HashMap` class could change, or one might switch to another `Map` implementation that does not extend `AbstractMap`, and which is implemented differently. The fact that it is *currently* implemented like this is (for itself) no guarantee that it will *always* be implemented like this.\r\n\r\nSo the more important point (and the reason why **it does not matter**) is that the `values()` method is indeed supposed to return a **collection view**. As stated in the [documentation of the `Map` interface](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html) :\r\n\r\n&gt; The Map interface provides three *collection views*, which allow a map&#39;s contents to be viewed as a set of keys, collection of values, or set of key-value mappings. \r\n\r\nand specifically, the [documentation of the `Map#values()` method](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#values--) :\r\n\r\n&gt; Returns a Collection view of the values contained in this map. The collection is backed by the map, so changes to the map are reflected in the collection, and vice-versa. \r\n\r\nI cannot imagine a reasonable way of implementing such a *view* that involves processing all values of the `Map`. \r\n\r\n---\r\n\r\nSo for example, imagine the implementation in `HashMap` was like this:\r\n\r\n    public Collection&lt;V&gt; values() {\r\n        return new Values();\r\n    }\r\n\r\nThen it would return a **new** collection each time that it was called. But creating this collection does **not** involve processing the values at all. \r\n\r\nOr to put it that way: The cost of calling this method is *independent* of the size of the map. It basically has the cost of a single object creation, regardless of whether the map contains 10 or 10000 elements.\r\n","title":"java.util.Map values() method performance","body":"<p>One important point here may be: <strong>It does not matter!</strong></p>\n\n<hr>\n\n<p>But first, referring to the other answers so far: The collection that is returned there is usually \"cached\", in that it is lazily created, and afterwards, the same instance will be returned. For example, considering the implementation in the <code>HashMap</code> class:</p>\n\n<pre><code>public Collection&lt;V&gt; values() {\n    Collection&lt;V&gt; vs;\n    return (vs = values) == null ? (values = new Values()) : vs;\n}\n</code></pre>\n\n<p>This is even specified (as part of the contract, as an implementation specification) in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/AbstractMap.html#values--\" rel=\"nofollow noreferrer\">documentation of the <code>AbstractMap</code> class</a> (which most <code>Map</code> implementations are based on) :</p>\n\n<blockquote>\n  <p>The collection is created the first time this method is called, and returned in response to all subsequent calls. No synchronization is performed, so there is a slight chance that multiple calls to this method will not all return the same collection.</p>\n</blockquote>\n\n<hr>\n\n<p>But now, one could argue that the implementation might change later. The implementation of the <code>HashMap</code> class could change, or one might switch to another <code>Map</code> implementation that does not extend <code>AbstractMap</code>, and which is implemented differently. The fact that it is <em>currently</em> implemented like this is (for itself) no guarantee that it will <em>always</em> be implemented like this.</p>\n\n<p>So the more important point (and the reason why <strong>it does not matter</strong>) is that the <code>values()</code> method is indeed supposed to return a <strong>collection view</strong>. As stated in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">documentation of the <code>Map</code> interface</a> :</p>\n\n<blockquote>\n  <p>The Map interface provides three <em>collection views</em>, which allow a map's contents to be viewed as a set of keys, collection of values, or set of key-value mappings. </p>\n</blockquote>\n\n<p>and specifically, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#values--\" rel=\"nofollow noreferrer\">documentation of the <code>Map#values()</code> method</a> :</p>\n\n<blockquote>\n  <p>Returns a Collection view of the values contained in this map. The collection is backed by the map, so changes to the map are reflected in the collection, and vice-versa. </p>\n</blockquote>\n\n<p>I cannot imagine a reasonable way of implementing such a <em>view</em> that involves processing all values of the <code>Map</code>. </p>\n\n<hr>\n\n<p>So for example, imagine the implementation in <code>HashMap</code> was like this:</p>\n\n<pre><code>public Collection&lt;V&gt; values() {\n    return new Values();\n}\n</code></pre>\n\n<p>Then it would return a <strong>new</strong> collection each time that it was called. But creating this collection does <strong>not</strong> involve processing the values at all. </p>\n\n<p>Or to put it that way: The cost of calling this method is <em>independent</em> of the size of the map. It basically has the cost of a single object creation, regardless of whether the map contains 10 or 10000 elements.</p>\n"},{"tags":[],"owner":{"account_id":4495291,"reputation":21,"user_id":3655220,"display_name":"ashish gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525561295,"creation_date":1525561295,"answer_id":50194761,"question_id":50190877,"body_markdown":"One more suggestion after reading this thread, if the Map&lt;String, SomeItem&gt; tops declared contents are not changed - you could use google guava ImmutableMap object. For more info- https://stackoverflow.com/questions/22636575/unmodifiablemap-java-collections-vs-immutablemap-google\r\n\r\n","title":"java.util.Map values() method performance","body":"<p>One more suggestion after reading this thread, if the Map tops declared contents are not changed - you could use google guava ImmutableMap object. For more info- <a href=\"https://stackoverflow.com/questions/22636575/unmodifiablemap-java-collections-vs-immutablemap-google\">UnmodifiableMap (Java Collections) vs ImmutableMap (Google)</a></p>\n"}],"owner":{"account_id":9927857,"reputation":1692,"user_id":7348815,"accept_rate":73,"display_name":"Aliaksei Stadnik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2183,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50190954,"answer_count":4,"score":3,"last_activity_date":1661771009,"creation_date":1525532849,"question_id":50190877,"body_markdown":"I have a map like this with several million entries: \r\n\r\n    private final Map&lt;String, SomeItem&gt; tops = new HashMap&lt;&gt;();\r\n\r\nI need to get list of values, which could be done by calling  `java.util.Map values()` method.\r\n\r\n\r\nIs `Collection` of values created every time I call `values()` method or is it pre-computed from performance perspective? \r\n\r\nAs my `Map` has several millions elements, I do not want to create new list object every time `values()` is called. ","title":"java.util.Map values() method performance","body":"<p>I have a map like this with several million entries:</p>\n<pre><code>private final Map&lt;String, SomeItem&gt; tops = new HashMap&lt;&gt;();\n</code></pre>\n<p>I need to get list of values, which could be done by calling  <code>java.util.Map values()</code> method.</p>\n<p>Is <code>Collection</code> of values created every time I call <code>values()</code> method or is it pre-computed from performance perspective?</p>\n<p>As my <code>Map</code> has several millions elements, I do not want to create new list object every time <code>values()</code> is called.</p>\n"},{"tags":["java","php","encryption","3des"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661770754,"creation_date":1661770754,"answer_id":73527766,"question_id":73524060,"body_markdown":"The `build3DesKey()` function expands a too short 3DES key to 24 bytes by padding the end with 0x00 values, for too long keys the end is simply truncated. `build3DesKey()` can be implemented in PHP as follows:\r\n\r\n```php\r\n$key = substr(str_pad($key, 24, &quot;\\0&quot;), 0, 24);\r\n```\r\n\r\nAlthough the `str2ByteArray()` function is missing, its functionality can be deduced. Since in your example the ciphertext is hexadecimal encoded, this function seems to simply perform a hex decoding. In PHP, the analog to `str2ByteArray()` is `hex2bin()`. \r\n\r\nThus, a possible implementation for decryption is (using PHP/OpenSSL): \r\n\r\n```php\r\n$key = &quot;12345&quot;;\r\n$ciphertext = &quot;84b24172c57752385251d142abadbed1d9945301a3aee429ce00c1e291a605c30ad18c5e00007f6db394fc6138a2ee4c&quot;;\r\n$key = substr(str_pad($key, 24, &quot;\\0&quot;), 0, 24);\r\n$plaintext = openssl_decrypt(hex2bin($ciphertext), &quot;des-ede3&quot;, $key, OPENSSL_RAW_DATA);\r\nprint($plaintext. PHP_EOL); // The quick brown fox jumps over the lazy dog\r\n```\r\n\r\nThe Java code returns the same plain text for these input data!\r\n\r\n--------------\r\n\r\nDifferences to your code:&lt;br&gt;\r\nYour code uses the deprecated `mcrypt`. This should not be applied nowadays for security reasons. A better alternative is PHP/OpenSSL, which is used in the code above. Also, the implemented key derivation is wrong, e.g. it applies the digest MD5, which is not used in the Java code at all.\r\n\r\n-------------\r\n\r\nSecurity:&lt;br&gt;\r\nEven though this is probably a legacy application, a few words about security:\r\n- The key derivation `build3DesKey()` is insecure. If the key material is a string, it is generally not a key, but a password. Therefore a reliable key derivation function should be used, e.g. Argon2 or PBKDF2.\r\n- des-ede3 applies ECB mode, which is also insecure. Nowadays authenticated encryption, e.g. AES-GCM should be used.\r\n- 3DES/TripleDES is outdated and the only not yet deprecated variant, triple-length keys or 3TDEA will be soon, and is comparatively slow. Today&#39;s standard AES should be applied here.\r\n","title":"How to decrypt a string in PHP that was encrypted in Java?","body":"<p>The <code>build3DesKey()</code> function expands a too short 3DES key to 24 bytes by padding the end with 0x00 values, for too long keys the end is simply truncated. <code>build3DesKey()</code> can be implemented in PHP as follows:</p>\n<pre class=\"lang-php prettyprint-override\"><code>$key = substr(str_pad($key, 24, &quot;\\0&quot;), 0, 24);\n</code></pre>\n<p>Although the <code>str2ByteArray()</code> function is missing, its functionality can be deduced. Since in your example the ciphertext is hexadecimal encoded, this function seems to simply perform a hex decoding. In PHP, the analog to <code>str2ByteArray()</code> is <code>hex2bin()</code>.</p>\n<p>Thus, a possible implementation for decryption is (using PHP/OpenSSL):</p>\n<pre class=\"lang-php prettyprint-override\"><code>$key = &quot;12345&quot;;\n$ciphertext = &quot;84b24172c57752385251d142abadbed1d9945301a3aee429ce00c1e291a605c30ad18c5e00007f6db394fc6138a2ee4c&quot;;\n$key = substr(str_pad($key, 24, &quot;\\0&quot;), 0, 24);\n$plaintext = openssl_decrypt(hex2bin($ciphertext), &quot;des-ede3&quot;, $key, OPENSSL_RAW_DATA);\nprint($plaintext. PHP_EOL); // The quick brown fox jumps over the lazy dog\n</code></pre>\n<p>The Java code returns the same plain text for these input data!</p>\n<hr />\n<p>Differences to your code:<br>\nYour code uses the deprecated <code>mcrypt</code>. This should not be applied nowadays for security reasons. A better alternative is PHP/OpenSSL, which is used in the code above. Also, the implemented key derivation is wrong, e.g. it applies the digest MD5, which is not used in the Java code at all.</p>\n<hr />\n<p>Security:<br>\nEven though this is probably a legacy application, a few words about security:</p>\n<ul>\n<li>The key derivation <code>build3DesKey()</code> is insecure. If the key material is a string, it is generally not a key, but a password. Therefore a reliable key derivation function should be used, e.g. Argon2 or PBKDF2.</li>\n<li>des-ede3 applies ECB mode, which is also insecure. Nowadays authenticated encryption, e.g. AES-GCM should be used.</li>\n<li>3DES/TripleDES is outdated and the only not yet deprecated variant, triple-length keys or 3TDEA will be soon, and is comparatively slow. Today's standard AES should be applied here.</li>\n</ul>\n"}],"owner":{"account_id":16172701,"reputation":103,"user_id":11676138,"display_name":"Naruto Saitama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73527766,"answer_count":1,"score":1,"last_activity_date":1661770917,"creation_date":1661746469,"question_id":73524060,"body_markdown":"I tried to decrypt en encrypted string in JAVA with to code below.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    SecretKey secretKey = new SecretKeySpec(build3DesKey(key), &quot;DESede&quot;);\r\n    Cipher cipher = Cipher.getInstance(&quot;DESede&quot;);\r\n    cipher.init(Cipher.DECRYPT_MODE, secretKey);\r\n    byte[] b = cipher.doFinal(str2ByteArray(dest));\r\n    String decoder = new String(b, &quot;utf-8&quot;);\r\n\r\n&lt;!-- language: lang-java --&gt;    \r\n    private static byte[] build3DesKey(String keyStr) throws Exception {\r\n        byte[] key = new byte[24];\r\n        byte[] temp = keyStr.getBytes(&quot;utf-8&quot;);\r\n        if (key.length &gt; temp.length) {\r\n            System.arraycopy(temp, 0, key, 0, temp.length);\r\n        } else {\r\n            System.arraycopy(temp, 0, key, 0, key.length);\r\n        }\r\n        return key;\r\n    }\r\n\r\n\r\nHow can I get the same result with PHP version? I tried to write in PHP and It outputs with wrong result.\r\n\r\n&lt;!-- language: lang-php--&gt;    \r\n    $data = &#39;69C16E8142F2BDDE7569842BB0D68A3176624264E...&#39;;\r\n    $key = &#39;rpwdvbppnrvr56m123+#&#39;;\r\n    function decrypt($data, $secret)\r\n    {\r\n        //Generate a key from a hash\r\n        $key = md5(utf8_encode($secret), true);\r\n        //Take first 8 bytes of $key and append them to the end of $key.\r\n        $key .= substr($key, 0, 8);\r\n        $data = base64_decode($data);\r\n        $data = mcrypt_decrypt(&#39;tripledes&#39;, $key, $data, &#39;ecb&#39;);\r\n        $block = mcrypt_get_block_size(&#39;tripledes&#39;, &#39;ecb&#39;);\r\n        $len = strlen($data);\r\n        $pad = ord($data[$len-1]);\r\n        return substr($data, 0, strlen($data) - $pad);\r\n    }\r\n    \r\n    var_dump(utf8_encode(Decrypt($data, $key)));\r\n\r\n","title":"How to decrypt a string in PHP that was encrypted in Java?","body":"<p>I tried to decrypt en encrypted string in JAVA with to code below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SecretKey secretKey = new SecretKeySpec(build3DesKey(key), &quot;DESede&quot;);\nCipher cipher = Cipher.getInstance(&quot;DESede&quot;);\ncipher.init(Cipher.DECRYPT_MODE, secretKey);\nbyte[] b = cipher.doFinal(str2ByteArray(dest));\nString decoder = new String(b, &quot;utf-8&quot;);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private static byte[] build3DesKey(String keyStr) throws Exception {\n    byte[] key = new byte[24];\n    byte[] temp = keyStr.getBytes(&quot;utf-8&quot;);\n    if (key.length &gt; temp.length) {\n        System.arraycopy(temp, 0, key, 0, temp.length);\n    } else {\n        System.arraycopy(temp, 0, key, 0, key.length);\n    }\n    return key;\n}\n</code></pre>\n<p>How can I get the same result with PHP version? I tried to write in PHP and It outputs with wrong result.</p>\n    \n<pre><code>$data = '69C16E8142F2BDDE7569842BB0D68A3176624264E...';\n$key = 'rpwdvbppnrvr56m123+#';\nfunction decrypt($data, $secret)\n{\n    //Generate a key from a hash\n    $key = md5(utf8_encode($secret), true);\n    //Take first 8 bytes of $key and append them to the end of $key.\n    $key .= substr($key, 0, 8);\n    $data = base64_decode($data);\n    $data = mcrypt_decrypt('tripledes', $key, $data, 'ecb');\n    $block = mcrypt_get_block_size('tripledes', 'ecb');\n    $len = strlen($data);\n    $pad = ord($data[$len-1]);\n    return substr($data, 0, strlen($data) - $pad);\n}\n\nvar_dump(utf8_encode(Decrypt($data, $key)));\n</code></pre>\n"},{"tags":["java","multithreading","sockets","runnable"],"comments":[{"owner":{"account_id":26158037,"reputation":1,"user_id":19845021,"display_name":"Ljonja2107"},"score":0,"creation_date":1661766151,"post_id":73525828,"comment_id":129841327,"body_markdown":"there is a mistake in ClientHorcher. datenRein.readUTF(datenReinn); is the correct line.","body":"there is a mistake in ClientHorcher. datenRein.readUTF(datenReinn); is the correct line."}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661770043,"creation_date":1661765800,"answer_id":73526823,"question_id":73525828,"body_markdown":"Multiple possibilities.\r\n\r\n1) Use static variables. Normally you would not do that, but because your code is all-static, you could\r\n\r\n2) Use member variables in an OO-style code.\r\n\r\n3) If you wanted to do it properly, you&#39;d split the server into two parts:  \r\n   1) The ServerSocket listener that only listens to connections (`Socket connectionToClient = ss.accept`), and whenever a connection comes in, creates a new   \r\n   2) ClientHandler, passes in the Socket, and the ClientHandler then starts its own thread internally\r\n\r\nThis way, the ClientHandler has all the data it needs (again as member variables) and can work on its own concerns (aka &#39;separation of concerns).\r\n\r\nUpdate\r\n--\r\n\r\nThis is what I created. Really simple.\r\n1) Start Server\r\n2) Start 1st client\r\n3) Start 2nd client\r\n4) In any client, type message\r\n5) Other client receives it\r\n\r\n\r\nClasses:\r\n\r\nSimpleServer\r\n\r\n\r\n    package stackoverflow.simplemtserver;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.util.concurrent.LinkedBlockingDeque;\r\n    \r\n    public class SimpleServer { // make it closeable and close sockets if this is not standalone\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) throws IOException {\r\n    \t\tfinal int port = 7623;\r\n    \t\tnew SimpleServer(port);\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tfinal LinkedBlockingDeque&lt;SimpleServerClientHandler&gt; clientHandlers = new LinkedBlockingDeque&lt;&gt;();\r\n    \r\n    \tprivate final ServerSocket mServerSocket;\r\n    \r\n    \tpublic SimpleServer(final int pPort) throws IOException {\r\n    \t\tmServerSocket = new ServerSocket(pPort);\r\n    \r\n    \t\tfinal Thread m = new Thread(() -&gt; runLoop(), getClass().getSimpleName() + &quot; Main Loop&quot;);\r\n    \t\tm.start();\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tprivate void runLoop() {\r\n    \t\twhile (true) {\r\n    \t\t\ttry {\r\n    \t\t\t\tSystem.out.println(&quot;Server waiting for connection...&quot;);\r\n    \t\t\t\t@SuppressWarnings(&quot;resource&quot;) final Socket cs = mServerSocket.accept(); // do NOT close the socket here, no try-resource, will interrupt threaded communication!\r\n    \t\t\t\tfinal SimpleServerClientHandler ch = new SimpleServerClientHandler(this, cs);\r\n    \t\t\t\tclientHandlers.add(ch);\r\n    \t\t\t\tSystem.out.println(&quot;Connection accepted, handler started. Handlers active: &quot; + clientHandlers.size());\r\n    \r\n    \t\t\t} catch (final IOException e) {\r\n    \t\t\t\t// handle this how you need it\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic void signOffClientHandler(final SimpleServerClientHandler pClientHandler) {\r\n    \t\tclientHandlers.remove(pClientHandler); // we could also accommplish this using stack trace to avoid access from outside, but this is the easier solution\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic void spreadMessageToClients(final String pMessageFromClient, final SimpleServerClientHandler pSimpleServerClientHandler) {\r\n    \t\tfor (final SimpleServerClientHandler ch : clientHandlers) {\r\n    \t\t\tif (ch != pSimpleServerClientHandler) ch.relayMessageToClient(pMessageFromClient); // we can work with identity == and != here\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n    \r\n\r\nSimpleServerClientHandler\r\n\r\n    \r\n    package stackoverflow.simplemtserver;\r\n    \r\n    import java.io.DataInputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.net.Socket;\r\n    \r\n    public class SimpleServerClientHandler {\r\n    \r\n    \r\n    \r\n    \tprivate final SimpleServer\t\tmParentServer;\r\n    \tprivate final Socket\t\t\tmClientSocket;\r\n    \tprivate final DataInputStream\tmDIS;\r\n    \tprivate final DataOutputStream\tmDOS;\r\n    \r\n    \tpublic SimpleServerClientHandler(final SimpleServer pSimpleServer, final Socket pCS) throws IOException {\r\n    \t\tmParentServer = pSimpleServer;\r\n    \t\tmClientSocket = pCS;\r\n    \r\n    \t\tmDIS = new DataInputStream(mClientSocket.getInputStream());\r\n    \t\tmDOS = new DataOutputStream(mClientSocket.getOutputStream());\r\n    \t\tfinal Thread t = new Thread(() -&gt; runComms(), getClass().getSimpleName() + &quot; Comms Loop&quot;);\r\n    \t\tt.setDaemon(true); // threads now stop once server stops. this is NOT a soft exit\r\n    \t\tt.start();\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tprivate void runComms() {\r\n    \t\ttry {\r\n    \t\t\ttry {\r\n    \t\t\t\twhile (true) {\r\n    \t\t\t\t\t// do all your logic here, work with DIS and DOS\r\n    \r\n    \t\t\t\t\tfinal String messageFromClient = mDIS.readUTF();\r\n    \t\t\t\t\tif (messageFromClient == null) break;\r\n    \r\n    \t\t\t\t\tif (!messageFromClient.startsWith(&quot;*&quot;)) mParentServer.spreadMessageToClients(messageFromClient, this);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t} catch (final Exception e) {\r\n    \t\t\t\t// TODO: handle exception\r\n    \t\t\t}\r\n    \r\n    \t\t} finally {\r\n    \t\t\ttry {\r\n    \t\t\t\tmClientSocket.close(); // also closes DataIn/Out\r\n    \t\t\t} catch (final IOException e) { /* ignore */ }\r\n    \t\t\tmParentServer.signOffClientHandler(this);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic void relayMessageToClient(final String pMessageFromClient) {\r\n    \t\ttry {\r\n    \t\t\tmDOS.writeUTF(&quot;*&quot; + pMessageFromClient);\r\n    \t\t} catch (final IOException e) {\r\n    \t\t\t// ignore unless needed otherwise\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n    \r\n    \r\nSimpleClient\r\n    \r\n    \r\n    package stackoverflow.simplemtserver;\r\n    \r\n    import java.io.DataInputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.net.Socket;\r\n    import java.net.SocketException;\r\n    import java.net.UnknownHostException;\r\n    import java.util.Scanner;\r\n    \r\n    public class SimpleClient {\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) throws UnknownHostException, IOException {\r\n    \t\tfinal String hostname = &quot;localhost&quot;;\r\n    \t\tfinal int port = 7623;\r\n    \r\n    \t\ttry (final Socket s = new Socket(hostname, port);\r\n    \t\t\t\tfinal DataInputStream dis = new DataInputStream(s.getInputStream());\r\n    \t\t\t\tfinal DataOutputStream dos = new DataOutputStream(s.getOutputStream());\r\n    \t\t\t\tfinal Scanner scanner = new Scanner(System.in);) {\r\n    \r\n    \t\t\tfinal Thread t = new Thread(() -&gt; runListenerLoop(dis), SimpleClient.class.getSimpleName() + &quot; Reader Thread&quot;);\r\n    \t\t\tt.setDaemon(true);\r\n    \t\t\tt.start();\r\n    \r\n    \t\t\twhile (true) {\r\n    \t\t\t\tSystem.out.println(&quot;Enter message:&quot;);\r\n    \t\t\t\tSystem.out.flush();\r\n    \t\t\t\tfinal String msg = scanner.nextLine();\r\n    \t\t\t\tif (msg == null) break;\r\n    \r\n    \t\t\t\tSystem.out.println(&quot;Spreading message: &quot; + msg);\r\n    \t\t\t\tdos.writeUTF(msg);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void runListenerLoop(final DataInputStream pDis) {\r\n    \t\twhile (true) {\r\n    \t\t\ttry {\r\n    \t\t\t\tSystem.out.println(&quot;Waiting for incoming messages...&quot;);\r\n    \t\t\t\tfinal String msg = pDis.readUTF();\r\n    \t\t\t\tSystem.out.println(&quot;Received: &quot; + msg);\r\n    \r\n    \t\t\t} catch (final SocketException e) {\r\n    \t\t\t\t//\t\t\t\tif (&quot;java.net.SocketException: Connection reset&quot;.equals(e.getMessage())) \r\n    \t\t\t\tbreak;\r\n    \t\t\t} catch (final IOException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\nFrom here on, there&#39;s now more ways you can extend this client/server communication:\r\n - use opcodes (read/write int constants or enums before data) to distinguish for special operations and/or messages (like this here puts an asterisk in front of the string to prevent re-re-laying the same message indefinitely over the network)\r\n - read multiple strings for user, message, additional options\r\n - implement this is a user friendly UI so you dont have to use console I/O\r\n\r\n\r\nUpdate 2\r\n--\r\n\r\nThe pure peer-to-peer solution is this one.\r\n\r\n- If the app is run without params, it goes into listening mode, waiting for a connection.\r\n- If the app is run with one arguments, it interprets it as listening port and also goes into listening mode.\r\n- If the app is un with [hostname] [port] arguments, it will try to connect there\r\n\r\nExample:\r\n- start first app without arguments (listening)\r\n- start second app with arguments &quot;localhost 7642&quot; (connecting)\r\n- both apps will now \r\n - - connect, \r\n - - then set up I/O resources, \r\n - - then start the listening thread for incoming messages\r\n - - then go into the read-keyboard-and-write-to-socket loop\r\n- now you can type a message in one of the apps, the other one will receive it\r\n\r\n\r\np2p code:\r\n\r\n    package stackoverflow.simplemtserver;\r\n    \r\n    import java.io.DataInputStream;\r\n    import java.io.DataOutputStream;\r\n    import java.io.IOException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.net.SocketException;\r\n    import java.net.UnknownHostException;\r\n    import java.util.Scanner;\r\n    \r\n    public class SimplePeerToPeerClient {\r\n    \r\n    \r\n    \r\n    \tstatic public final int DEFAULT_PORT = 7642;\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) throws UnknownHostException, IOException {\r\n    \t\tif (args.length == 0) {\r\n    \t\t\tSystem.out.println(&quot;Waiting on default port &quot; + DEFAULT_PORT);\r\n    \t\t\twaitForConnection(DEFAULT_PORT);\r\n    \t\t} else if (args.length == 1) {\r\n    \t\t\tfinal int port = Integer.parseInt(args[0]);\r\n    \t\t\tSystem.out.println(&quot;Waiting on port &quot; + port);\r\n    \t\t\twaitForConnection(port);\r\n    \t\t} else if (args.length == 2) {\r\n    \t\t\tfinal String hostName = args[0];\r\n    \t\t\tfinal int port = Integer.parseInt(args[1]);\r\n    \t\t\tSystem.out.println(&quot;Connecting to &quot; + hostName + &quot; on port &quot; + port);\r\n    \t\t\tconnectToOtherSide(hostName, port);\r\n    \t\t} else throw new IllegalArgumentException(&quot;Invalid amount of argument! Need none (listen) or 2: [hostname] [port] (connect)&quot;);\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tprivate static void waitForConnection(final int pPort) throws IOException {\r\n    \t\ttry (final ServerSocket ss = new ServerSocket(pPort);) {\r\n    \t\t\t@SuppressWarnings(&quot;resource&quot;) final Socket socket = ss.accept(); // will get closed later\r\n    \t\t\tstartComms(socket);\r\n    \t\t} // closes ServerSocket after 1st connection\r\n    \t}\r\n    \tprivate static void connectToOtherSide(final String pHostName, final int pPort) throws UnknownHostException, IOException {\r\n    \t\t@SuppressWarnings(&quot;resource&quot;) final Socket socket = new Socket(pHostName, pPort); // will get closed later\r\n    \t\tstartComms(socket);\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tprivate static void startComms(final Socket pSocket) throws IOException {\r\n    \t\ttry (\r\n    \t\t\t\tfinal DataInputStream dis = new DataInputStream(pSocket.getInputStream());\r\n    \t\t\t\tfinal DataOutputStream dos = new DataOutputStream(pSocket.getOutputStream());\r\n    \t\t\t\tfinal Scanner scanner = new Scanner(System.in);) {\r\n    \r\n    \t\t\t// run the listener loop\r\n    \t\t\tfinal Thread t = new Thread(() -&gt; runListenerLoop(dis), SimpleClient.class.getSimpleName() + &quot; Reader Thread&quot;);\r\n    \t\t\tt.setDaemon(true);\r\n    \t\t\tt.start();\r\n    \r\n    \t\t\t// run my keyboard-input-send loop\r\n    \t\t\twhile (true) {\r\n    \t\t\t\tSystem.out.println(&quot;Enter message:&quot;);\r\n    \t\t\t\tSystem.out.flush();\r\n    \t\t\t\tfinal String msg = scanner.nextLine();\r\n    \t\t\t\tif (msg == null) break; // empty input ends client\r\n    \r\n    \t\t\t\tSystem.out.println(&quot;Spreading message: &quot; + msg);\r\n    \t\t\t\tdos.writeUTF(msg);\r\n    \t\t\t}\r\n    \r\n    \t\t} finally {\r\n    \t\t\ttry {\r\n    \t\t\t\tpSocket.close();\r\n    \t\t\t} catch (final IOException e) { /* ignore */ }\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tprivate static void runListenerLoop(final DataInputStream pDis) {\r\n    \t\twhile (true) {\r\n    \t\t\ttry {\r\n    \t\t\t\tSystem.out.println(&quot;Waiting for incoming messages...&quot;);\r\n    \t\t\t\tfinal String msg = pDis.readUTF();\r\n    \t\t\t\tSystem.out.println(&quot;Received: &quot; + msg);\r\n    \r\n    \t\t\t} catch (final SocketException e) {\r\n    \t\t\t\t//\t\t\t\tif (&quot;java.net.SocketException: Connection reset&quot;.equals(e.getMessage()))\r\n    \t\t\t\tbreak;\r\n    \t\t\t} catch (final IOException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n","title":"How to use existing Objects in an overwritten run() Method?","body":"<p>Multiple possibilities.</p>\n<ol>\n<li><p>Use static variables. Normally you would not do that, but because your code is all-static, you could</p>\n</li>\n<li><p>Use member variables in an OO-style code.</p>\n</li>\n<li><p>If you wanted to do it properly, you'd split the server into two parts:</p>\n<ol>\n<li>The ServerSocket listener that only listens to connections (<code>Socket connectionToClient = ss.accept</code>), and whenever a connection comes in, creates a new</li>\n<li>ClientHandler, passes in the Socket, and the ClientHandler then starts its own thread internally</li>\n</ol>\n</li>\n</ol>\n<p>This way, the ClientHandler has all the data it needs (again as member variables) and can work on its own concerns (aka 'separation of concerns).</p>\n<h2>Update</h2>\n<p>This is what I created. Really simple.</p>\n<ol>\n<li>Start Server</li>\n<li>Start 1st client</li>\n<li>Start 2nd client</li>\n<li>In any client, type message</li>\n<li>Other client receives it</li>\n</ol>\n<p>Classes:</p>\n<p>SimpleServer</p>\n<pre><code>package stackoverflow.simplemtserver;\n\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.concurrent.LinkedBlockingDeque;\n\npublic class SimpleServer { // make it closeable and close sockets if this is not standalone\n\n\n\n    public static void main(final String[] args) throws IOException {\n        final int port = 7623;\n        new SimpleServer(port);\n    }\n\n\n\n    final LinkedBlockingDeque&lt;SimpleServerClientHandler&gt; clientHandlers = new LinkedBlockingDeque&lt;&gt;();\n\n    private final ServerSocket mServerSocket;\n\n    public SimpleServer(final int pPort) throws IOException {\n        mServerSocket = new ServerSocket(pPort);\n\n        final Thread m = new Thread(() -&gt; runLoop(), getClass().getSimpleName() + &quot; Main Loop&quot;);\n        m.start();\n    }\n\n\n\n    private void runLoop() {\n        while (true) {\n            try {\n                System.out.println(&quot;Server waiting for connection...&quot;);\n                @SuppressWarnings(&quot;resource&quot;) final Socket cs = mServerSocket.accept(); // do NOT close the socket here, no try-resource, will interrupt threaded communication!\n                final SimpleServerClientHandler ch = new SimpleServerClientHandler(this, cs);\n                clientHandlers.add(ch);\n                System.out.println(&quot;Connection accepted, handler started. Handlers active: &quot; + clientHandlers.size());\n\n            } catch (final IOException e) {\n                // handle this how you need it\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n\n    public void signOffClientHandler(final SimpleServerClientHandler pClientHandler) {\n        clientHandlers.remove(pClientHandler); // we could also accommplish this using stack trace to avoid access from outside, but this is the easier solution\n    }\n\n\n\n    public void spreadMessageToClients(final String pMessageFromClient, final SimpleServerClientHandler pSimpleServerClientHandler) {\n        for (final SimpleServerClientHandler ch : clientHandlers) {\n            if (ch != pSimpleServerClientHandler) ch.relayMessageToClient(pMessageFromClient); // we can work with identity == and != here\n        }\n    }\n\n\n\n}\n</code></pre>\n<p>SimpleServerClientHandler</p>\n<pre><code>package stackoverflow.simplemtserver;\n\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.net.Socket;\n\npublic class SimpleServerClientHandler {\n\n\n\n    private final SimpleServer      mParentServer;\n    private final Socket            mClientSocket;\n    private final DataInputStream   mDIS;\n    private final DataOutputStream  mDOS;\n\n    public SimpleServerClientHandler(final SimpleServer pSimpleServer, final Socket pCS) throws IOException {\n        mParentServer = pSimpleServer;\n        mClientSocket = pCS;\n\n        mDIS = new DataInputStream(mClientSocket.getInputStream());\n        mDOS = new DataOutputStream(mClientSocket.getOutputStream());\n        final Thread t = new Thread(() -&gt; runComms(), getClass().getSimpleName() + &quot; Comms Loop&quot;);\n        t.setDaemon(true); // threads now stop once server stops. this is NOT a soft exit\n        t.start();\n    }\n\n\n\n    private void runComms() {\n        try {\n            try {\n                while (true) {\n                    // do all your logic here, work with DIS and DOS\n\n                    final String messageFromClient = mDIS.readUTF();\n                    if (messageFromClient == null) break;\n\n                    if (!messageFromClient.startsWith(&quot;*&quot;)) mParentServer.spreadMessageToClients(messageFromClient, this);\n                }\n\n            } catch (final Exception e) {\n                // TODO: handle exception\n            }\n\n        } finally {\n            try {\n                mClientSocket.close(); // also closes DataIn/Out\n            } catch (final IOException e) { /* ignore */ }\n            mParentServer.signOffClientHandler(this);\n        }\n    }\n\n\n\n    public void relayMessageToClient(final String pMessageFromClient) {\n        try {\n            mDOS.writeUTF(&quot;*&quot; + pMessageFromClient);\n        } catch (final IOException e) {\n            // ignore unless needed otherwise\n        }\n    }\n\n\n\n}\n</code></pre>\n<p>SimpleClient</p>\n<pre><code>package stackoverflow.simplemtserver;\n\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.net.Socket;\nimport java.net.SocketException;\nimport java.net.UnknownHostException;\nimport java.util.Scanner;\n\npublic class SimpleClient {\n\n\n\n    public static void main(final String[] args) throws UnknownHostException, IOException {\n        final String hostname = &quot;localhost&quot;;\n        final int port = 7623;\n\n        try (final Socket s = new Socket(hostname, port);\n                final DataInputStream dis = new DataInputStream(s.getInputStream());\n                final DataOutputStream dos = new DataOutputStream(s.getOutputStream());\n                final Scanner scanner = new Scanner(System.in);) {\n\n            final Thread t = new Thread(() -&gt; runListenerLoop(dis), SimpleClient.class.getSimpleName() + &quot; Reader Thread&quot;);\n            t.setDaemon(true);\n            t.start();\n\n            while (true) {\n                System.out.println(&quot;Enter message:&quot;);\n                System.out.flush();\n                final String msg = scanner.nextLine();\n                if (msg == null) break;\n\n                System.out.println(&quot;Spreading message: &quot; + msg);\n                dos.writeUTF(msg);\n            }\n        }\n    }\n\n    private static void runListenerLoop(final DataInputStream pDis) {\n        while (true) {\n            try {\n                System.out.println(&quot;Waiting for incoming messages...&quot;);\n                final String msg = pDis.readUTF();\n                System.out.println(&quot;Received: &quot; + msg);\n\n            } catch (final SocketException e) {\n                //              if (&quot;java.net.SocketException: Connection reset&quot;.equals(e.getMessage())) \n                break;\n            } catch (final IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n\n}\n</code></pre>\n<p>From here on, there's now more ways you can extend this client/server communication:</p>\n<ul>\n<li>use opcodes (read/write int constants or enums before data) to distinguish for special operations and/or messages (like this here puts an asterisk in front of the string to prevent re-re-laying the same message indefinitely over the network)</li>\n<li>read multiple strings for user, message, additional options</li>\n<li>implement this is a user friendly UI so you dont have to use console I/O</li>\n</ul>\n<h2>Update 2</h2>\n<p>The pure peer-to-peer solution is this one.</p>\n<ul>\n<li>If the app is run without params, it goes into listening mode, waiting for a connection.</li>\n<li>If the app is run with one arguments, it interprets it as listening port and also goes into listening mode.</li>\n<li>If the app is un with [hostname] [port] arguments, it will try to connect there</li>\n</ul>\n<p>Example:</p>\n<ul>\n<li>start first app without arguments (listening)</li>\n<li>start second app with arguments &quot;localhost 7642&quot; (connecting)</li>\n<li>both apps will now</li>\n<li>\n<ul>\n<li>connect,</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>then set up I/O resources,</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>then start the listening thread for incoming messages</li>\n</ul>\n</li>\n<li>\n<ul>\n<li>then go into the read-keyboard-and-write-to-socket loop</li>\n</ul>\n</li>\n<li>now you can type a message in one of the apps, the other one will receive it</li>\n</ul>\n<p>p2p code:</p>\n<pre><code>package stackoverflow.simplemtserver;\n\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.net.SocketException;\nimport java.net.UnknownHostException;\nimport java.util.Scanner;\n\npublic class SimplePeerToPeerClient {\n\n\n\n    static public final int DEFAULT_PORT = 7642;\n\n\n\n    public static void main(final String[] args) throws UnknownHostException, IOException {\n        if (args.length == 0) {\n            System.out.println(&quot;Waiting on default port &quot; + DEFAULT_PORT);\n            waitForConnection(DEFAULT_PORT);\n        } else if (args.length == 1) {\n            final int port = Integer.parseInt(args[0]);\n            System.out.println(&quot;Waiting on port &quot; + port);\n            waitForConnection(port);\n        } else if (args.length == 2) {\n            final String hostName = args[0];\n            final int port = Integer.parseInt(args[1]);\n            System.out.println(&quot;Connecting to &quot; + hostName + &quot; on port &quot; + port);\n            connectToOtherSide(hostName, port);\n        } else throw new IllegalArgumentException(&quot;Invalid amount of argument! Need none (listen) or 2: [hostname] [port] (connect)&quot;);\n    }\n\n\n\n    private static void waitForConnection(final int pPort) throws IOException {\n        try (final ServerSocket ss = new ServerSocket(pPort);) {\n            @SuppressWarnings(&quot;resource&quot;) final Socket socket = ss.accept(); // will get closed later\n            startComms(socket);\n        } // closes ServerSocket after 1st connection\n    }\n    private static void connectToOtherSide(final String pHostName, final int pPort) throws UnknownHostException, IOException {\n        @SuppressWarnings(&quot;resource&quot;) final Socket socket = new Socket(pHostName, pPort); // will get closed later\n        startComms(socket);\n    }\n\n\n\n    private static void startComms(final Socket pSocket) throws IOException {\n        try (\n                final DataInputStream dis = new DataInputStream(pSocket.getInputStream());\n                final DataOutputStream dos = new DataOutputStream(pSocket.getOutputStream());\n                final Scanner scanner = new Scanner(System.in);) {\n\n            // run the listener loop\n            final Thread t = new Thread(() -&gt; runListenerLoop(dis), SimpleClient.class.getSimpleName() + &quot; Reader Thread&quot;);\n            t.setDaemon(true);\n            t.start();\n\n            // run my keyboard-input-send loop\n            while (true) {\n                System.out.println(&quot;Enter message:&quot;);\n                System.out.flush();\n                final String msg = scanner.nextLine();\n                if (msg == null) break; // empty input ends client\n\n                System.out.println(&quot;Spreading message: &quot; + msg);\n                dos.writeUTF(msg);\n            }\n\n        } finally {\n            try {\n                pSocket.close();\n            } catch (final IOException e) { /* ignore */ }\n        }\n    }\n\n\n\n    private static void runListenerLoop(final DataInputStream pDis) {\n        while (true) {\n            try {\n                System.out.println(&quot;Waiting for incoming messages...&quot;);\n                final String msg = pDis.readUTF();\n                System.out.println(&quot;Received: &quot; + msg);\n\n            } catch (final SocketException e) {\n                //              if (&quot;java.net.SocketException: Connection reset&quot;.equals(e.getMessage()))\n                break;\n            } catch (final IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":26158037,"reputation":1,"user_id":19845021,"display_name":"Ljonja2107"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661770043,"creation_date":1661760468,"question_id":73525828,"body_markdown":"I&#39;m a beginner in programming and do strugle a bit.\r\nSo I&#39;m building a TCP peer to peer Chat and that requires me to divide the tasks -&gt; Threads.\r\nSo I want to built a Thread for the &quot;writing&quot; part of that connection (Scanner, DataOutputStream etc.) In order to do that i implemented Runnable and that forces me to write my Thread in the overwritten run() method. \r\nNow I have a bit of a problem, because in Order to send my messages out to the &quot;other end (another client) I need the &quot;socket.getOutputStream&quot; but I cant use it in the run() method and i dont know how to fix this problem, sitting already a week on this problem. Any ideas ?\r\n\r\n    public class ClientHorcher implements Runnable {\r\n    \r\n        public static void main(String[] args) {\r\n            \r\n            try {\r\n                ServerSocket serverSocket = new ServerSocket(11111);\r\n                System.out.println(&quot;Waiting For Connection:-&quot;);\r\n                Socket socket = serverSocket.accept();\r\n                Scanner scanner = new Scanner(System.in);\r\n                DataInputStream datenRein = new DataInputStream(socket.getInputStream());\r\n                DataOutputStream datenRaus = new DataOutputStream(socket.getOutputStream());\r\n                String nickname;\r\n                System.out.print(&quot;Gib einen Nickname ein: &quot;);\r\n                nickname = scanner.nextLine();\r\n                while (true) {\r\n                    String vonMsg = datenRein.readUTF(in);\r\n                    System.out.println(&quot;Client:-&quot; + vonMsg);\r\n                    if (vonMsg.equals(&quot;exit&quot;)) {\r\n                        System.out.println(&quot;Beenden!!!&quot;);\r\n                        datenRein.close();\r\n                        datenRaus.close();\r\n                        scanner.close();\r\n                        socket.close();\r\n                        serverSocket.close();\r\n                        System.exit(0);\r\n                    }\r\n    \r\n                    System.out.print(nickname + &quot;:-&quot;);\r\n                    String zuMsg = scanner.nextLine();\r\n                    datenRaus.writeUTF(zuMsg);\r\n                    if (zuMsg.equals(&quot;exit&quot;)) {\r\n                        System.out.println(&quot;Quiting!!!&quot;);\r\n                        datenRein.close();\r\n                        datenRaus.close();\r\n                        scanner.close();\r\n                        socket.close();\r\n                        serverSocket.close();\r\n                        System.exit(0);\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n            \r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n           \r\n            \r\n        }\r\n    \r\n    }`\r\n    `public class ClientVerbinder implements Runnable  {\r\n        \r\n    \r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            try {\r\n                Socket socket = new Socket(&quot;Localhost&quot;, 11111);\r\n                System.out.println(&quot;Connected&quot;);\r\n                Scanner scanner = new Scanner(System.in);\r\n                DataInputStream datenRein = new DataInputStream(socket.getInputStream());\r\n                DataOutputStream datenRaus = new DataOutputStream(socket.getOutputStream());\r\n                String nickname;\r\n                System.out.print(&quot;Gib einen Nickname ein: &quot;);\r\n                nickname = scanner.nextLine();\r\n    \r\n                while (true) {\r\n                    System.out.print(nickname+&quot;:-&quot;);\r\n                    String zuMsg = scanner.nextLine();\r\n                    datenRaus.writeUTF(zuMsg);\r\n                    if (zuMsg.equals(&quot;exit&quot;)) {\r\n                        System.out.println(&quot;Beenden!!!&quot;);\r\n                        datenRein.close();\r\n                        datenRaus.close();\r\n                        scanner.close();\r\n                        socket.close();\r\n                        System.exit(0);\r\n                    }\r\n                    String vonMsg = datenRein.readUTF();\r\n                    System.out.println(&quot;CLient&quot;+&quot;:-&quot; + vonMsg);\r\n                    if (vonMsg.equals(&quot;exit&quot;)) {\r\n                        System.out.println(&quot;Quiting!!!&quot;);\r\n                        datenRein.close();\r\n                        datenRaus.close();\r\n                        scanner.close();\r\n                        socket.close();\r\n                        System.exit(0);\r\n                    }\r\n                }\r\n            } catch (UnknownHostException e) {\r\n                \r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                \r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n        @Override\r\n        public void run() {\r\n           \r\n            \r\n        \r\n        }\r\n    \r\n    }","title":"How to use existing Objects in an overwritten run() Method?","body":"<p>I'm a beginner in programming and do strugle a bit.\nSo I'm building a TCP peer to peer Chat and that requires me to divide the tasks -&gt; Threads.\nSo I want to built a Thread for the &quot;writing&quot; part of that connection (Scanner, DataOutputStream etc.) In order to do that i implemented Runnable and that forces me to write my Thread in the overwritten run() method.\nNow I have a bit of a problem, because in Order to send my messages out to the &quot;other end (another client) I need the &quot;socket.getOutputStream&quot; but I cant use it in the run() method and i dont know how to fix this problem, sitting already a week on this problem. Any ideas ?</p>\n<pre><code>public class ClientHorcher implements Runnable {\n\n    public static void main(String[] args) {\n        \n        try {\n            ServerSocket serverSocket = new ServerSocket(11111);\n            System.out.println(&quot;Waiting For Connection:-&quot;);\n            Socket socket = serverSocket.accept();\n            Scanner scanner = new Scanner(System.in);\n            DataInputStream datenRein = new DataInputStream(socket.getInputStream());\n            DataOutputStream datenRaus = new DataOutputStream(socket.getOutputStream());\n            String nickname;\n            System.out.print(&quot;Gib einen Nickname ein: &quot;);\n            nickname = scanner.nextLine();\n            while (true) {\n                String vonMsg = datenRein.readUTF(in);\n                System.out.println(&quot;Client:-&quot; + vonMsg);\n                if (vonMsg.equals(&quot;exit&quot;)) {\n                    System.out.println(&quot;Beenden!!!&quot;);\n                    datenRein.close();\n                    datenRaus.close();\n                    scanner.close();\n                    socket.close();\n                    serverSocket.close();\n                    System.exit(0);\n                }\n\n                System.out.print(nickname + &quot;:-&quot;);\n                String zuMsg = scanner.nextLine();\n                datenRaus.writeUTF(zuMsg);\n                if (zuMsg.equals(&quot;exit&quot;)) {\n                    System.out.println(&quot;Quiting!!!&quot;);\n                    datenRein.close();\n                    datenRaus.close();\n                    scanner.close();\n                    socket.close();\n                    serverSocket.close();\n                    System.exit(0);\n                }\n            }\n        } catch (IOException e) {\n        \n            e.printStackTrace();\n        }\n\n    }\n\n    @Override\n    public void run() {\n       \n        \n    }\n\n}`\n`public class ClientVerbinder implements Runnable  {\n    \n\n\n    public static void main(String[] args) {\n\n        try {\n            Socket socket = new Socket(&quot;Localhost&quot;, 11111);\n            System.out.println(&quot;Connected&quot;);\n            Scanner scanner = new Scanner(System.in);\n            DataInputStream datenRein = new DataInputStream(socket.getInputStream());\n            DataOutputStream datenRaus = new DataOutputStream(socket.getOutputStream());\n            String nickname;\n            System.out.print(&quot;Gib einen Nickname ein: &quot;);\n            nickname = scanner.nextLine();\n\n            while (true) {\n                System.out.print(nickname+&quot;:-&quot;);\n                String zuMsg = scanner.nextLine();\n                datenRaus.writeUTF(zuMsg);\n                if (zuMsg.equals(&quot;exit&quot;)) {\n                    System.out.println(&quot;Beenden!!!&quot;);\n                    datenRein.close();\n                    datenRaus.close();\n                    scanner.close();\n                    socket.close();\n                    System.exit(0);\n                }\n                String vonMsg = datenRein.readUTF();\n                System.out.println(&quot;CLient&quot;+&quot;:-&quot; + vonMsg);\n                if (vonMsg.equals(&quot;exit&quot;)) {\n                    System.out.println(&quot;Quiting!!!&quot;);\n                    datenRein.close();\n                    datenRaus.close();\n                    scanner.close();\n                    socket.close();\n                    System.exit(0);\n                }\n            }\n        } catch (UnknownHostException e) {\n            \n            e.printStackTrace();\n        } catch (IOException e) {\n            \n            e.printStackTrace();\n        }\n\n    }\n    @Override\n    public void run() {\n       \n        \n    \n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1655277254,"creation_date":1533482577,"answer_id":51695630,"question_id":51688924,"body_markdown":"See [the documentation](https://docs.spring.io/spring-kafka/reference/html/#json-serde).\r\n\r\n&gt;Starting with version 2.1, type information can be conveyed in record Headers, allowing the handling of multiple types. In addition, the serializer/deserializer can be configured using Kafka properties.\r\n&gt;\r\n&gt;JsonSerializer.ADD_TYPE_INFO_HEADERS (default true); set to false to disable this feature on the JsonSerializer (sets the addTypeInfo property).\r\n&gt;\r\n&gt;JsonDeserializer.KEY_DEFAULT_TYPE; fallback type for deserialization of keys if no header information is present.\r\n&gt;\r\n&gt;JsonDeserializer.VALUE_DEFAULT_TYPE; fallback type for deserialization of values if no header information is present.\r\n&gt;\r\n&gt;JsonDeserializer.TRUSTED_PACKAGES (default java.util, java.lang); comma-delimited list of package patterns allowed for deserialization; * means deserialize all.\r\n\r\nBy default, the serializer will add type information to the headers.\r\n\r\nsee [the boot documentation](https://docs.spring.io/spring-boot/docs/2.0.4.RELEASE/reference/htmlsingle/#boot-features-kafka-extra-props).\r\n\r\n&gt;Similarly, you can disable the JsonSerializer default behavior of sending type information in headers:\r\n&gt;\r\n&gt;``` java\r\n&gt;spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\r\n&gt;spring.kafka.producer.properties.spring.json.add.type.headers=false\r\n&gt;```\r\n\r\n\r\nOr you can add type mapping to the inbound message converter to map the source type to the destination type.\r\n\r\n__EDIT__\r\n\r\nHaving said that, what version are you using? ","title":"Spring Kafka The class is not in the trusted packages","body":"<p>See <a href=\"https://docs.spring.io/spring-kafka/reference/html/#json-serde\" rel=\"noreferrer\">the documentation</a>.</p>\n<blockquote>\n<p>Starting with version 2.1, type information can be conveyed in record Headers, allowing the handling of multiple types. In addition, the serializer/deserializer can be configured using Kafka properties.</p>\n<p>JsonSerializer.ADD_TYPE_INFO_HEADERS (default true); set to false to disable this feature on the JsonSerializer (sets the addTypeInfo property).</p>\n<p>JsonDeserializer.KEY_DEFAULT_TYPE; fallback type for deserialization of keys if no header information is present.</p>\n<p>JsonDeserializer.VALUE_DEFAULT_TYPE; fallback type for deserialization of values if no header information is present.</p>\n<p>JsonDeserializer.TRUSTED_PACKAGES (default java.util, java.lang); comma-delimited list of package patterns allowed for deserialization; * means deserialize all.</p>\n</blockquote>\n<p>By default, the serializer will add type information to the headers.</p>\n<p>see <a href=\"https://docs.spring.io/spring-boot/docs/2.0.4.RELEASE/reference/htmlsingle/#boot-features-kafka-extra-props\" rel=\"noreferrer\">the boot documentation</a>.</p>\n<blockquote>\n<p>Similarly, you can disable the JsonSerializer default behavior of sending type information in headers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\nspring.kafka.producer.properties.spring.json.add.type.headers=false\n</code></pre>\n</blockquote>\n<p>Or you can add type mapping to the inbound message converter to map the source type to the destination type.</p>\n<p><strong>EDIT</strong></p>\n<p>Having said that, what version are you using?</p>\n"},{"tags":[],"owner":{"account_id":6947123,"reputation":349,"user_id":5331149,"display_name":"Iroshan"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1553747091,"creation_date":1553747091,"answer_id":55390144,"question_id":51688924,"body_markdown":"There are two key points should be mentioned.\r\n\r\n 1. There are two separated project for Producer and Consumer.\r\n 2. Then sending message(value) is an Object type rather primitive type.\r\n\r\nThe problem is that the producing message object is not available in consumer side because those are two separate projects.\r\n\r\nTwo overcome this issue please follow below mention steps in Spring boot Producer and Consumer applications.\r\n\r\n----Producer App -------------\r\n\r\n** Producer Configuration Class **\r\n\r\n    import com.kafka.producer.models.Container;    \r\n    import org.apache.kafka.clients.producer.ProducerConfig;\r\n    import org.apache.kafka.common.serialization.StringSerializer;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.kafka.core.DefaultKafkaProducerFactory;\r\n    import org.springframework.kafka.core.KafkaTemplate;\r\n    import org.springframework.kafka.core.ProducerFactory;\r\n    import org.springframework.kafka.support.serializer.JsonSerializer;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    @Configuration\r\n    public class KafkaProducerConfig {\r\n    \r\n    @Bean\r\n    public ProducerFactory&lt;String, Container&gt; producerFactory(){\r\n    \r\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n    \r\n    config.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n    config.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n    config.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n    \r\n        return new DefaultKafkaProducerFactory(config);\r\n    }\r\n    \r\n    @Bean\r\n    public KafkaTemplate&lt;String, Container&gt; kafkaTemplate(){\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n    }\r\n\r\nNote : Container is the custom Object to be posted in a kafka topic.\r\n\r\n---------------------------------------------------------------------\r\n** Producer Class **\r\n\r\n    import com.kafka.producer.models.Container;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.kafka.core.KafkaTemplate;\r\n    import org.springframework.kafka.support.KafkaHeaders;\r\n    import org.springframework.messaging.Message;\r\n    import org.springframework.messaging.support.MessageBuilder;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class Producer {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(Producer.class);\r\n    private static final String TOPIC = &quot;final-topic&quot;;\r\n\r\n    @Autowired\r\n    private KafkaTemplate&lt;String, Container&gt; kafkaTemplate;\r\n\r\n    public void sendUserMessage(Container msg) {\r\n        LOGGER.info(String.format(&quot;\\n ===== Producing message in JSON ===== \\n&quot;+msg));\r\n        Message&lt;Container&gt; message = MessageBuilder\r\n                .withPayload(msg)\r\n                .setHeader(KafkaHeaders.TOPIC, TOPIC)\r\n                .build();\r\n        this.kafkaTemplate.send(message);\r\n    }\r\n    }\r\n\r\n-------------------------------------------------------------------------------\r\n** Producer Controller **\r\n\r\n    import com.kafka.producer.models.Container;\r\n    import com.kafka.producer.services.Producer;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/message&quot;)\r\n    public class MessageController {\r\n\r\n    @Autowired\r\n    private Producer producer;\r\n\r\n    @PostMapping(value = &quot;/publish&quot;)\r\n    public String sendMessageToKafkaTopic(@RequestBody Container containerMsg) {\r\n        this.producer.sendUserMessage(containerMsg);\r\n        return &quot;Successfully Published !!&quot;;\r\n    }\r\n    }\r\n\r\nNote: The message with type Container will be published to the kafka topic name :final-topic as JSON message.\r\n\r\n\r\n===============================================================================\r\n\r\n-- Consumer App --\r\n\r\n** Configuration Class **\r\n\r\n    import com.kafka.consumer.models.Container;\r\n    import org.apache.kafka.clients.consumer.ConsumerConfig;\r\n    import org.apache.kafka.common.serialization.StringDeserializer;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.kafka.annotation.EnableKafka;\r\n    import org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\n    import org.springframework.kafka.core.ConsumerFactory;\r\n    import org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\n    import org.springframework.kafka.support.serializer.JsonDeserializer;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    @Configuration\r\n    @EnableKafka\r\n    public class KafkaConsumerOneConfig {\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, Container&gt; consumerFactory(){\r\n        JsonDeserializer&lt;Container&gt; deserializer = new JsonDeserializer&lt;&gt;(Container.class);\r\n        deserializer.setRemoveTypeHeaders(false);\r\n        deserializer.addTrustedPackages(&quot;*&quot;);\r\n        deserializer.setUseTypeMapperForKey(true);\r\n\r\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n\r\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        config.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;group_one&quot;);\r\n        config.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        config.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, deserializer);\r\n\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(config, new StringDeserializer(), deserializer);\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Container&gt; kafkaListenerContainerFactory(){\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, Container&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n\r\n    }\r\n    }\r\n\r\nNote: Here you can see, instead of using default JsonDeserializer() we have to use custom JsonDeserializer to consume Container object type Json Messages from final-topic(topic name). \r\n\r\n----------------------------------------------------------------------------------\r\n** Consumer Service **\r\n\r\n    import com.kafka.consumer.models.Container;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.kafka.annotation.KafkaListener;\r\n    import org.springframework.messaging.MessageHeaders;\r\n    import org.springframework.messaging.handler.annotation.Headers;\r\n    import org.springframework.messaging.handler.annotation.Payload;\r\n    import org.springframework.stereotype.Service;\r\n    import java.io.IOException;\r\n    \r\n    @Service\r\n    public class ConsumerOne {\r\n\r\n    private final Logger LOGGER = LoggerFactory.getLogger(ConsumerOne.class);\r\n\r\n    @KafkaListener(topics = &quot;final-topic&quot;, groupId = &quot;group_one&quot;, containerFactory = &quot;kafkaListenerContainerFactory&quot;)\r\n    public void consumeUserMessage(@Payload Container msg, @Headers MessageHeaders headers) throws IOException {\r\n        System.out.println(&quot;received data in Consumer One =&quot;+ msg.getMessageTypes());\r\n    }\r\n    }","title":"Spring Kafka The class is not in the trusted packages","body":"<p>There are two key points should be mentioned.</p>\n\n<ol>\n<li>There are two separated project for Producer and Consumer.</li>\n<li>Then sending message(value) is an Object type rather primitive type.</li>\n</ol>\n\n<p>The problem is that the producing message object is not available in consumer side because those are two separate projects.</p>\n\n<p>Two overcome this issue please follow below mention steps in Spring boot Producer and Consumer applications.</p>\n\n<p>----Producer App -------------</p>\n\n<p>** Producer Configuration Class **</p>\n\n<pre><code>import com.kafka.producer.models.Container;    \nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.common.serialization.StringSerializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.core.DefaultKafkaProducerFactory;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.core.ProducerFactory;\nimport org.springframework.kafka.support.serializer.JsonSerializer;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Configuration\npublic class KafkaProducerConfig {\n\n@Bean\npublic ProducerFactory&lt;String, Container&gt; producerFactory(){\n\n    Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n\nconfig.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, \"localhost:9092\");\nconfig.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\nconfig.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n\n    return new DefaultKafkaProducerFactory(config);\n}\n\n@Bean\npublic KafkaTemplate&lt;String, Container&gt; kafkaTemplate(){\n    return new KafkaTemplate&lt;&gt;(producerFactory());\n}\n}\n</code></pre>\n\n<p>Note : Container is the custom Object to be posted in a kafka topic.</p>\n\n<hr>\n\n<p>** Producer Class **</p>\n\n<pre><code>import com.kafka.producer.models.Container;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.kafka.support.KafkaHeaders;\nimport org.springframework.messaging.Message;\nimport org.springframework.messaging.support.MessageBuilder;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class Producer {\n\nprivate static final Logger LOGGER = LoggerFactory.getLogger(Producer.class);\nprivate static final String TOPIC = \"final-topic\";\n\n@Autowired\nprivate KafkaTemplate&lt;String, Container&gt; kafkaTemplate;\n\npublic void sendUserMessage(Container msg) {\n    LOGGER.info(String.format(\"\\n ===== Producing message in JSON ===== \\n\"+msg));\n    Message&lt;Container&gt; message = MessageBuilder\n            .withPayload(msg)\n            .setHeader(KafkaHeaders.TOPIC, TOPIC)\n            .build();\n    this.kafkaTemplate.send(message);\n}\n}\n</code></pre>\n\n<hr>\n\n<p>** Producer Controller **</p>\n\n<pre><code>import com.kafka.producer.models.Container;\nimport com.kafka.producer.services.Producer;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\n@RequestMapping(\"/message\")\npublic class MessageController {\n\n@Autowired\nprivate Producer producer;\n\n@PostMapping(value = \"/publish\")\npublic String sendMessageToKafkaTopic(@RequestBody Container containerMsg) {\n    this.producer.sendUserMessage(containerMsg);\n    return \"Successfully Published !!\";\n}\n}\n</code></pre>\n\n<p>Note: The message with type Container will be published to the kafka topic name :final-topic as JSON message.</p>\n\n<p>===============================================================================</p>\n\n<p>-- Consumer App --</p>\n\n<p>** Configuration Class **</p>\n\n<pre><code>import com.kafka.consumer.models.Container;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\nimport org.springframework.kafka.support.serializer.JsonDeserializer;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Configuration\n@EnableKafka\npublic class KafkaConsumerOneConfig {\n\n@Bean\npublic ConsumerFactory&lt;String, Container&gt; consumerFactory(){\n    JsonDeserializer&lt;Container&gt; deserializer = new JsonDeserializer&lt;&gt;(Container.class);\n    deserializer.setRemoveTypeHeaders(false);\n    deserializer.addTrustedPackages(\"*\");\n    deserializer.setUseTypeMapperForKey(true);\n\n    Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n\n    config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, \"localhost:9092\");\n    config.put(ConsumerConfig.GROUP_ID_CONFIG, \"group_one\");\n    config.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, \"earliest\");\n    config.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n    config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, deserializer);\n\n    return new DefaultKafkaConsumerFactory&lt;&gt;(config, new StringDeserializer(), deserializer);\n}\n\n@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, Container&gt; kafkaListenerContainerFactory(){\n    ConcurrentKafkaListenerContainerFactory&lt;String, Container&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory());\n    return factory;\n\n}\n}\n</code></pre>\n\n<p>Note: Here you can see, instead of using default JsonDeserializer() we have to use custom JsonDeserializer to consume Container object type Json Messages from final-topic(topic name). </p>\n\n<hr>\n\n<p>** Consumer Service **</p>\n\n<pre><code>import com.kafka.consumer.models.Container;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.kafka.annotation.KafkaListener;\nimport org.springframework.messaging.MessageHeaders;\nimport org.springframework.messaging.handler.annotation.Headers;\nimport org.springframework.messaging.handler.annotation.Payload;\nimport org.springframework.stereotype.Service;\nimport java.io.IOException;\n\n@Service\npublic class ConsumerOne {\n\nprivate final Logger LOGGER = LoggerFactory.getLogger(ConsumerOne.class);\n\n@KafkaListener(topics = \"final-topic\", groupId = \"group_one\", containerFactory = \"kafkaListenerContainerFactory\")\npublic void consumeUserMessage(@Payload Container msg, @Headers MessageHeaders headers) throws IOException {\n    System.out.println(\"received data in Consumer One =\"+ msg.getMessageTypes());\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1607664488,"creation_date":1569831672,"answer_id":58164006,"question_id":51688924,"body_markdown":"````\r\njsonDeserializer.addTrustedPackages(&quot;*&quot;);\r\n````\r\nsolved my issue for spring-kafka-2.2.8.\r\n\r\n&lt;br&gt;\r\n\r\nTo add it in `application.properties`:\r\n\r\n    spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\r\n    spring.kafka.consumer.properties.spring.json.trusted.packages=*\r\n\r\n**IMPORTANT NOTE:**\r\n\r\n&gt; They have no effect if you have provided Serializer and Deserializer\r\n&gt; instances for KafkaConsumer and KafkaProducer, respectively.\r\n\r\n\r\nReferences:&lt;br&gt;\r\n[1] https://docs.spring.io/spring-kafka/reference/html/#json-serde&lt;br&gt;\r\n[2] https://github.com/spring-projects/spring-kafka/issues/535","title":"Spring Kafka The class is not in the trusted packages","body":"<pre><code>jsonDeserializer.addTrustedPackages(&quot;*&quot;);\n</code></pre>\n<p>solved my issue for spring-kafka-2.2.8.</p>\n<br>\n<p>To add it in <code>application.properties</code>:</p>\n<pre><code>spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer\nspring.kafka.consumer.properties.spring.json.trusted.packages=*\n</code></pre>\n<p><strong>IMPORTANT NOTE:</strong></p>\n<blockquote>\n<p>They have no effect if you have provided Serializer and Deserializer\ninstances for KafkaConsumer and KafkaProducer, respectively.</p>\n</blockquote>\n<p>References:<br>\n[1] <a href=\"https://docs.spring.io/spring-kafka/reference/html/#json-serde\" rel=\"noreferrer\">https://docs.spring.io/spring-kafka/reference/html/#json-serde</a><br>\n[2] <a href=\"https://github.com/spring-projects/spring-kafka/issues/535\" rel=\"noreferrer\">https://github.com/spring-projects/spring-kafka/issues/535</a></p>\n"},{"tags":[],"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1595519603,"creation_date":1590181536,"answer_id":61963869,"question_id":51688924,"body_markdown":"For this one there are two ways of doing it, either in your deserializer or in your application.yml.\r\n\r\n\r\n### Either in your deserializer\r\nIn your deserializer, that you use within your `DefaultKafkaConsumerFactory` (to create your consumer factory). \r\nLet&#39;s say you want to make a `ConsumerFactory&lt;String, Foo&gt; ` with `Foo` being the model/POJO you want to use for your kafka messages.\r\n\r\n\r\nYou need to `addTrustedPackages` from `JsonDeserializer` I have an example in Kotlin, but it&#39;s almost the same syntax in java:\r\n\r\n```kotlin\r\n val deserializer = JsonDeserializer&lt;Foo&gt;()\r\n deserializer.addTrustedPackages(&quot;com.example.entity.Foo&quot;) // Adding Foo to our trusted packages\r\n\r\n val consumerFactory = DefaultKafkaConsumerFactory(\r\n      consumerConfigs(),  // your consumer config\r\n      StringDeserializer(), \r\n      deserializer // Using our newly created deserializer\r\n )\r\n```\r\n\r\n\r\n### Or in your application.yml\r\nIn your application.yml file following [spring-kafka](https://github.com/spring-projects/spring-kafka/issues/535) instructions. We add the Foo class from _com.example.entity.Foo_ package in the trusted store using:\r\n\r\n```yml\r\nspring:\r\n  kafka:\r\n    consumer:\r\n      properties:\r\n        spring.json.trusted.packages: &quot;com.example.entity.Foo&quot;\r\n```\r\n\r\nWith `spring.json.trusted.packages` accepting an array of packages. You can specify a class package, or use `*` for any packages. In that case you don&#39;t need to pass your `deserializer` in `DefaultKafkaConsumerFactory()` only in the consumer config.","title":"Spring Kafka The class is not in the trusted packages","body":"<p>For this one there are two ways of doing it, either in your deserializer or in your application.yml.</p>\n<h3>Either in your deserializer</h3>\n<p>In your deserializer, that you use within your <code>DefaultKafkaConsumerFactory</code> (to create your consumer factory).\nLet's say you want to make a <code>ConsumerFactory&lt;String, Foo&gt; </code> with <code>Foo</code> being the model/POJO you want to use for your kafka messages.</p>\n<p>You need to <code>addTrustedPackages</code> from <code>JsonDeserializer</code> I have an example in Kotlin, but it's almost the same syntax in java:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code> val deserializer = JsonDeserializer&lt;Foo&gt;()\n deserializer.addTrustedPackages(&quot;com.example.entity.Foo&quot;) // Adding Foo to our trusted packages\n\n val consumerFactory = DefaultKafkaConsumerFactory(\n      consumerConfigs(),  // your consumer config\n      StringDeserializer(), \n      deserializer // Using our newly created deserializer\n )\n</code></pre>\n<h3>Or in your application.yml</h3>\n<p>In your application.yml file following <a href=\"https://github.com/spring-projects/spring-kafka/issues/535\" rel=\"noreferrer\">spring-kafka</a> instructions. We add the Foo class from <em>com.example.entity.Foo</em> package in the trusted store using:</p>\n<pre><code>spring:\n  kafka:\n    consumer:\n      properties:\n        spring.json.trusted.packages: &quot;com.example.entity.Foo&quot;\n</code></pre>\n<p>With <code>spring.json.trusted.packages</code> accepting an array of packages. You can specify a class package, or use <code>*</code> for any packages. In that case you don't need to pass your <code>deserializer</code> in <code>DefaultKafkaConsumerFactory()</code> only in the consumer config.</p>\n"},{"tags":[],"owner":{"account_id":6369472,"reputation":517,"user_id":4942371,"display_name":"mareck_ste"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1595057544,"creation_date":1594224178,"answer_id":62798842,"question_id":51688924,"body_markdown":"I have also faced this issue, however solutions above did not work for me. What did the trick, though, was configuring kafka consumer factory as follows:\r\n\r\n    props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;your.package.name&quot;);","title":"Spring Kafka The class is not in the trusted packages","body":"<p>I have also faced this issue, however solutions above did not work for me. What did the trick, though, was configuring kafka consumer factory as follows:</p>\n<pre><code>props.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;your.package.name&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5272541,"reputation":151,"user_id":4210386,"display_name":"davidleongz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605276106,"creation_date":1605276106,"answer_id":64822282,"question_id":51688924,"body_markdown":"My version of spring-kafka is 2.2.11 and also I had this error.\r\n\r\nI got this error because I had configurated two consumers in the same kafta topic with diferent configuration. One of them had ConsumerFactory&lt;String, OrderDTO&gt; and other had ConsumerFactory&lt;String, String&gt;.\r\n\r\nI solved the error changing the configuration of one Consumer because was wrong.\r\n\r\nSimply you check the consumers of the topic","title":"Spring Kafka The class is not in the trusted packages","body":"<p>My version of spring-kafka is 2.2.11 and also I had this error.</p>\n<p>I got this error because I had configurated two consumers in the same kafta topic with diferent configuration. One of them had ConsumerFactory&lt;String, OrderDTO&gt; and other had ConsumerFactory&lt;String, String&gt;.</p>\n<p>I solved the error changing the configuration of one Consumer because was wrong.</p>\n<p>Simply you check the consumers of the topic</p>\n"},{"tags":[],"owner":{"account_id":8714272,"reputation":158,"user_id":6519469,"display_name":"mi_mo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1659596564,"creation_date":1632552521,"answer_id":69323796,"question_id":51688924,"body_markdown":"i had a similar problem when i wanted to consume messages in a consumer app I getting 2 errors :\r\n\r\n1-`The class &#39;someClass&#39; is not in the trusted packages: [java.util, java.lang,If you believe this class is safe to deserialize, please provide its name. If the serialization is only done by a trusted source, you can also enable trust all (*)`\r\n\r\n2-`org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition partion at offset 9902. If needed, please seek past the record to continue consumption.`\r\n\r\nI could solve that with add this properties (JsonDeserializer.TRUSTED_PACKAGE) into kafka consumer config generator method(makeConfig) at the KafkaConfig class for consuming configs with this approach my problem has been solved:\r\n\r\n    private Map&lt;String, Object&gt; makeConfig(ServiceMessagePriority input)\r\n    {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n        configProps.put(ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS, ErrorHandlingDeserializer.class);\r\n        configProps.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, ErrorHandlingDeserializer.class);\r\n        configProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        configProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n        configProps.put(JsonDeserializer.VALUE_DEFAULT_TYPE, &quot;com.core.model.ServiceMsgDTO&quot;);\r\n        configProps.put(JsonDeserializer.USE_TYPE_INFO_HEADERS,false);\r\n        configProps.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;);\r\n    return configProps;\r\n    }\r\n\r\n","title":"Spring Kafka The class is not in the trusted packages","body":"<p>i had a similar problem when i wanted to consume messages in a consumer app I getting 2 errors :</p>\n<p>1-<code>The class 'someClass' is not in the trusted packages: [java.util, java.lang,If you believe this class is safe to deserialize, please provide its name. If the serialization is only done by a trusted source, you can also enable trust all (*)</code></p>\n<p>2-<code>org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition partion at offset 9902. If needed, please seek past the record to continue consumption.</code></p>\n<p>I could solve that with add this properties (JsonDeserializer.TRUSTED_PACKAGE) into kafka consumer config generator method(makeConfig) at the KafkaConfig class for consuming configs with this approach my problem has been solved:</p>\n<pre><code>private Map&lt;String, Object&gt; makeConfig(ServiceMessagePriority input)\n{\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n    configProps.put(ErrorHandlingDeserializer.KEY_DESERIALIZER_CLASS, ErrorHandlingDeserializer.class);\n    configProps.put(ErrorHandlingDeserializer.VALUE_DESERIALIZER_CLASS, ErrorHandlingDeserializer.class);\n    configProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    configProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n    configProps.put(JsonDeserializer.VALUE_DEFAULT_TYPE, &quot;com.core.model.ServiceMsgDTO&quot;);\n    configProps.put(JsonDeserializer.USE_TYPE_INFO_HEADERS,false);\n    configProps.put(JsonDeserializer.TRUSTED_PACKAGES, &quot;*&quot;);\nreturn configProps;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2392124,"reputation":1068,"user_id":2091779,"display_name":"alban maillere"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1637508101,"creation_date":1637508101,"answer_id":70055851,"question_id":51688924,"body_markdown":"For those facing this when working with **streams**, you have to specify trusted packages for both consumer and streams, as Kafka initializes 2 different deserializers\r\n\r\n    spring:\r\n      kafka:\r\n        bootstrap-servers: localhost:9092\r\n      producer:\r\n        value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\n\r\n      consumer:\r\n    ...\r\n        properties:\r\n           spring.json.trusted.packages:  &quot;YOUR ENTTIES PACKAGE&quot;\r\n      streams:\r\n    ...\r\n        properties:\r\n          spring.json.trusted.packages: &quot;YOUR ENTTIES PACKAGE&quot;\r\n\r\n","title":"Spring Kafka The class is not in the trusted packages","body":"<p>For those facing this when working with <strong>streams</strong>, you have to specify trusted packages for both consumer and streams, as Kafka initializes 2 different deserializers</p>\n<pre><code>spring:\n  kafka:\n    bootstrap-servers: localhost:9092\n  producer:\n    value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\n\n  consumer:\n...\n    properties:\n       spring.json.trusted.packages:  &quot;YOUR ENTTIES PACKAGE&quot;\n  streams:\n...\n    properties:\n      spring.json.trusted.packages: &quot;YOUR ENTTIES PACKAGE&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2042719,"reputation":1361,"user_id":1823512,"accept_rate":71,"display_name":"Awn Ali"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643119289,"creation_date":1643118960,"answer_id":70849871,"question_id":51688924,"body_markdown":"There&#39;re two ways to solve the problem:\r\n\r\n 1. Disable type headers in the producer\r\n 2. Add a list of trusted producers in the consumer\r\n \r\n\r\n**Disable type headers in the producer**\r\n\r\nYour producer properties files should look like following,\r\n\r\n    spring:\r\n      profiles: dev\r\n      kafka:\r\n        producer:\r\n          bootstrap-servers: localhost:9092, localhost:9093\r\n          key-serializer: org.apache.kafka.common.serialization.IntegerSerializer\r\n          value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\n          properties:\r\n            acks: 1\r\n            spring:\r\n              json:\r\n                add:\r\n                  type:\r\n                    headers: false\r\n\r\nAnd your consumer properties files should be as follows,\r\n\r\n    spring:\r\n      profiles: dev\r\n      kafka:\r\n        consumer:\r\n          bootstrap-servers: localhost:9092\r\n          key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n          value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\r\n          group-id: consumer-group-1\r\n          properties:\r\n            spring:\r\n              json:\r\n                value:\r\n                  default:\r\n                    type: &#39;com.kafka.consumer.Message&#39;\r\n\r\n**Add a list of trusted producers in the consumer**\r\n\r\nIf you don&#39;t want to change anything in the producer properties file, then update your consumer properties file as follows,\r\n\r\n    spring:\r\n      profiles: dev\r\n      kafka:\r\n        consumer:\r\n          bootstrap-servers: localhost:9092\r\n          key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n          value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\r\n          group-id: consumer-group-1\r\n          properties:\r\n            spring:\r\n              json:\r\n                value:\r\n                  default:\r\n                    type: &#39;com.kafka.consumer.Message&#39;\r\n                type:\r\n                  mapping: &#39;com.kafka.producer.Message:com.kafka.consumer.Message&#39;\r\n                trusted:\r\n                  packages: &#39;com.kafka.producer&#39;\r\n\r\nIn my `Message` class, make sure you have the setters and getters along with NoArgsConstructor, otherwise, it won&#39;t work.\r\n\r\n    @AllArgsConstructor\r\n    @Setter\r\n    @Getter\r\n    @NoArgsConstructor\r\n    public\r\n    class Message {\r\n    \r\n        Integer id;\r\n    \r\n        String name;\r\n    \r\n        String address;\r\n    \r\n        String phone;\r\n    \r\n        boolean isActive;\r\n    }\r\n\r\nConsumer Listener:\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class KafkaMessageListener {\r\n    \r\n        @KafkaListener(topics = {&quot;test_json&quot;})\r\n        public void OnMessage(Message rc){\r\n            log.info(rc.getName());\r\n        }\r\n    }\r\n\r\nNote: My Producer and Consumers are two different projects and their package names as these,\r\n\r\nProducer: `com.kafka.producer.Message`\r\n\r\nConsumer: `com.kafka.consumer.Message`","title":"Spring Kafka The class is not in the trusted packages","body":"<p>There're two ways to solve the problem:</p>\n<ol>\n<li>Disable type headers in the producer</li>\n<li>Add a list of trusted producers in the consumer</li>\n</ol>\n<p><strong>Disable type headers in the producer</strong></p>\n<p>Your producer properties files should look like following,</p>\n<pre><code>spring:\n  profiles: dev\n  kafka:\n    producer:\n      bootstrap-servers: localhost:9092, localhost:9093\n      key-serializer: org.apache.kafka.common.serialization.IntegerSerializer\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\n      properties:\n        acks: 1\n        spring:\n          json:\n            add:\n              type:\n                headers: false\n</code></pre>\n<p>And your consumer properties files should be as follows,</p>\n<pre><code>spring:\n  profiles: dev\n  kafka:\n    consumer:\n      bootstrap-servers: localhost:9092\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\n      group-id: consumer-group-1\n      properties:\n        spring:\n          json:\n            value:\n              default:\n                type: 'com.kafka.consumer.Message'\n</code></pre>\n<p><strong>Add a list of trusted producers in the consumer</strong></p>\n<p>If you don't want to change anything in the producer properties file, then update your consumer properties file as follows,</p>\n<pre><code>spring:\n  profiles: dev\n  kafka:\n    consumer:\n      bootstrap-servers: localhost:9092\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\n      group-id: consumer-group-1\n      properties:\n        spring:\n          json:\n            value:\n              default:\n                type: 'com.kafka.consumer.Message'\n            type:\n              mapping: 'com.kafka.producer.Message:com.kafka.consumer.Message'\n            trusted:\n              packages: 'com.kafka.producer'\n</code></pre>\n<p>In my <code>Message</code> class, make sure you have the setters and getters along with NoArgsConstructor, otherwise, it won't work.</p>\n<pre><code>@AllArgsConstructor\n@Setter\n@Getter\n@NoArgsConstructor\npublic\nclass Message {\n\n    Integer id;\n\n    String name;\n\n    String address;\n\n    String phone;\n\n    boolean isActive;\n}\n</code></pre>\n<p>Consumer Listener:</p>\n<pre><code>@Component\n@Slf4j\npublic class KafkaMessageListener {\n\n    @KafkaListener(topics = {&quot;test_json&quot;})\n    public void OnMessage(Message rc){\n        log.info(rc.getName());\n    }\n}\n</code></pre>\n<p>Note: My Producer and Consumers are two different projects and their package names as these,</p>\n<p>Producer: <code>com.kafka.producer.Message</code></p>\n<p>Consumer: <code>com.kafka.consumer.Message</code></p>\n"},{"tags":[],"owner":{"account_id":17469533,"reputation":1,"user_id":12665608,"display_name":"HelloChamith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652465959,"creation_date":1652465959,"answer_id":72233924,"question_id":51688924,"body_markdown":"Use same package name for both consumer and producer , It solved my error ","title":"Spring Kafka The class is not in the trusted packages","body":"<p>Use same package name for both consumer and producer , It solved my error</p>\n"},{"tags":[],"owner":{"account_id":9622365,"reputation":490,"user_id":7143156,"display_name":"Rami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661770000,"creation_date":1661770000,"answer_id":73527642,"question_id":51688924,"body_markdown":"I had the same problem and it turned out I had one too many indentations in my application.yml file. I am completely new to Springboot.\r\n\r\n\r\nBefore:\r\n\r\n```server:\r\n  port: 5000\r\n\r\nspring:\r\n  data:\r\n    mongodb:\r\n      host: localhost\r\n      port: 27017\r\n      database: bankaccount\r\n    kafka:\r\n      producer:\r\n        bootstrap-servers: localhost:9092\r\n        key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n        value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\n```\r\n\r\nAfter:\r\n\r\n```server:\r\n  port: 5000\r\n\r\nspring:\r\n  data:\r\n    mongodb:\r\n      host: localhost\r\n      port: 27017\r\n      database: bankaccount\r\n  kafka:\r\n    producer:\r\n      bootstrap-servers: localhost:9092\r\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\n```","title":"Spring Kafka The class is not in the trusted packages","body":"<p>I had the same problem and it turned out I had one too many indentations in my application.yml file. I am completely new to Springboot.</p>\n<p>Before:</p>\n<pre><code>  port: 5000\n\nspring:\n  data:\n    mongodb:\n      host: localhost\n      port: 27017\n      database: bankaccount\n    kafka:\n      producer:\n        bootstrap-servers: localhost:9092\n        key-serializer: org.apache.kafka.common.serialization.StringSerializer\n        value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\n</code></pre>\n<p>After:</p>\n<pre><code>  port: 5000\n\nspring:\n  data:\n    mongodb:\n      host: localhost\n      port: 27017\n      database: bankaccount\n  kafka:\n    producer:\n      bootstrap-servers: localhost:9092\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\n</code></pre>\n"}],"owner":{"account_id":1261634,"reputation":24551,"user_id":1219755,"accept_rate":84,"display_name":"alexanoid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85615,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":51695630,"answer_count":11,"score":48,"last_activity_date":1661770000,"creation_date":1533410828,"question_id":51688924,"body_markdown":"In my Spring Boot/Kafka application before the library update, I used the following class `org.telegram.telegrambots.api.objects.Update` in order to post messages to the Kafka topic. Right now I use the following `org.telegram.telegrambots.meta.api.objects.Update`. As you may see - they have different packages.\r\n\r\nAfter application restart I ran into the following issue:\r\n\r\n    [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.kafka.listener.LoggingErrorHandler : Error while processing: null\r\n    \r\n    org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition telegram.fenix.bot.update-0 at offset 4223. If needed, please seek past the record to continue consumption.\r\n    Caused by: java.lang.IllegalArgumentException: The class &#39;org.telegram.telegrambots.api.objects.Update&#39; is not in the trusted packages: [java.util, java.lang, org.telegram.telegrambots.meta.api.objects]. If you believe this class is safe to deserialize, please provide its name. If the serialization is only done by a trusted source, you can also enable trust all (*).\r\n    at org.springframework.kafka.support.converter.DefaultJackson2JavaTypeMapper.getClassIdType(DefaultJackson2JavaTypeMapper.java:139) ~[spring-kafka-2.1.8.RELEASE.jar!/:2.1.8.RELEASE]\r\n    at org.springframework.kafka.support.converter.DefaultJackson2JavaTypeMapper.toJavaType(DefaultJackson2JavaTypeMapper.java:113) ~[spring-kafka-2.1.8.RELEASE.jar!/:2.1.8.RELEASE]\r\n    at org.springframework.kafka.support.serializer.JsonDeserializer.deserialize(JsonDeserializer.java:221) ~[spring-kafka-2.1.8.RELEASE.jar!/:2.1.8.RELEASE]\r\n    at org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:967) ~[kafka-clients-1.1.0.jar!/:na]\r\n    at org.apache.kafka.clients.consumer.internals.Fetcher.access$3300(Fetcher.java:93) ~[kafka-clients-1.1.0.jar!/:na]\r\n    at org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.fetchRecords(Fetcher.java:1144) ~[kafka-clients-1.1.0.jar!/:na]\r\n    at org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.access$1400(Fetcher.java:993) ~[kafka-clients-1.1.0.jar!/:na]\r\n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:527) ~[kafka-clients-1.1.0.jar!/:na]\r\n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:488) ~[kafka-clients-1.1.0.jar!/:na]\r\n    at org.apache.kafka.clients.consumer.KafkaConsumer.pollOnce(KafkaConsumer.java:1155) ~[kafka-clients-1.1.0.jar!/:na]\r\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1115) ~[kafka-clients-1.1.0.jar!/:na]\r\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:699) ~[spring-kafka-2.1.8.RELEASE.jar!/:2.1.8.RELEASE]\r\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_171]\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_171]\r\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_171]\r\n\r\nThis is my config:\r\n\r\n    @EnableAsync\r\n    @Configuration\r\n    public class ApplicationConfig {\r\n    \r\n        @Bean\r\n        public StringJsonMessageConverter jsonConverter() {\r\n            return new StringJsonMessageConverter();\r\n        }\r\n    \r\n    }\r\n    \r\n    @Configuration\r\n    public class KafkaProducerConfig {\r\n    \r\n    \t@Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n    \tprivate String bootstrapServers;\r\n    \r\n    \t@Bean\r\n    \tpublic Map&lt;String, Object&gt; producerConfigs() {\r\n    \r\n    \t\tMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n    \r\n    \t\tprops.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n    \t\tprops.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n    \t\tprops.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n    \t\tprops.put(ProducerConfig.MAX_REQUEST_SIZE_CONFIG, 15000000);\r\n    \r\n    \t\treturn props;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ProducerFactory&lt;String, Update&gt; updateProducerFactory() {\r\n    \t\treturn new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic KafkaTemplate&lt;String, Update&gt; updateKafkaTemplate() {\r\n    \t\treturn new KafkaTemplate&lt;&gt;(updateProducerFactory());\r\n    \t}\r\n    \r\n    }\r\n    \r\n    @Configuration\r\n    public class KafkaConsumerConfig {\r\n    \t\r\n    \t@Value(&quot;${kafka.consumer.max.poll.interval.ms}&quot;)\r\n    \tprivate String kafkaConsumerMaxPollIntervalMs;\r\n    \t\r\n    \t@Value(&quot;${kafka.consumer.max.poll.records}&quot;)\r\n    \tprivate String kafkaConsumerMaxPollRecords;\r\n    \t\r\n    \t@Value(&quot;${kafka.topic.telegram.fenix.bot.update.consumer.concurrency}&quot;)\r\n    \tprivate Integer updateConsumerConcurrency;\r\n    \r\n    \t@Bean\r\n    \tpublic ConsumerFactory&lt;String, String&gt; consumerFactory(KafkaProperties kafkaProperties) {\r\n    \t\treturn new DefaultKafkaConsumerFactory&lt;&gt;(kafkaProperties.buildConsumerProperties(), new StringDeserializer(), new JsonDeserializer&lt;&gt;(String.class));\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory(KafkaProperties kafkaProperties) {\r\n    \t\t\r\n    \t\tkafkaProperties.getProperties().put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, kafkaConsumerMaxPollIntervalMs);\r\n    \t\tkafkaProperties.getProperties().put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, kafkaConsumerMaxPollRecords);\r\n    \r\n    \t\tConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n    \t\tfactory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\r\n    \t\tfactory.setConsumerFactory(consumerFactory(kafkaProperties));\r\n    \r\n    \t\treturn factory;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ConsumerFactory&lt;String, Update&gt; updateConsumerFactory(KafkaProperties kafkaProperties) {\r\n    \t\treturn new DefaultKafkaConsumerFactory&lt;&gt;(kafkaProperties.buildConsumerProperties(), new StringDeserializer(), new JsonDeserializer&lt;&gt;(Update.class));\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ConcurrentKafkaListenerContainerFactory&lt;String, Update&gt; updateKafkaListenerContainerFactory(KafkaProperties kafkaProperties) {\r\n    \t\t\r\n    \t\tkafkaProperties.getProperties().put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, kafkaConsumerMaxPollIntervalMs);\r\n    \t\tkafkaProperties.getProperties().put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, kafkaConsumerMaxPollRecords);\r\n    \r\n    \t\tConcurrentKafkaListenerContainerFactory&lt;String, Update&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n    \t\tfactory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\r\n    \t\tfactory.setConsumerFactory(updateConsumerFactory(kafkaProperties));\r\n    \t\tfactory.setConcurrency(updateConsumerConcurrency);\r\n    \r\n    \t\treturn factory;\r\n    \t}\r\n    \r\n    }\r\n\r\napplication.properties\r\n\r\n    spring.kafka.bootstrap-servers=${kafka.host}:${kafka.port}\r\n    spring.kafka.consumer.auto-offset-reset=earliest\r\n    spring.kafka.consumer.group-id=postfenix\r\n    spring.kafka.consumer.enable-auto-commit=false\r\n    spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\r\n\r\nHow to solve this issue and let Kafka deserialize old messages into the new ones ?\r\n\r\n**UPDATED**\r\n\r\nThis is my listener\r\n\r\n    @Component\r\n    public class UpdateConsumer {\r\n    \r\n    \t@KafkaListener(topics = &quot;${kafka.topic.update}&quot;, containerFactory = &quot;updateKafkaListenerContainerFactory&quot;)\r\n    \tpublic void onUpdateReceived(ConsumerRecord&lt;String, Update&gt; consumerRecord, Acknowledgment ack) {\r\n    \t\t\t\r\n    \t\t//do some logic here\r\n    \r\n    \t\tack.acknowledge();\r\n    \t}\r\n    \r\n    }","title":"Spring Kafka The class is not in the trusted packages","body":"<p>In my Spring Boot/Kafka application before the library update, I used the following class <code>org.telegram.telegrambots.api.objects.Update</code> in order to post messages to the Kafka topic. Right now I use the following <code>org.telegram.telegrambots.meta.api.objects.Update</code>. As you may see - they have different packages.</p>\n\n<p>After application restart I ran into the following issue:</p>\n\n<pre><code>[org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] o.s.kafka.listener.LoggingErrorHandler : Error while processing: null\n\norg.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition telegram.fenix.bot.update-0 at offset 4223. If needed, please seek past the record to continue consumption.\nCaused by: java.lang.IllegalArgumentException: The class 'org.telegram.telegrambots.api.objects.Update' is not in the trusted packages: [java.util, java.lang, org.telegram.telegrambots.meta.api.objects]. If you believe this class is safe to deserialize, please provide its name. If the serialization is only done by a trusted source, you can also enable trust all (*).\nat org.springframework.kafka.support.converter.DefaultJackson2JavaTypeMapper.getClassIdType(DefaultJackson2JavaTypeMapper.java:139) ~[spring-kafka-2.1.8.RELEASE.jar!/:2.1.8.RELEASE]\nat org.springframework.kafka.support.converter.DefaultJackson2JavaTypeMapper.toJavaType(DefaultJackson2JavaTypeMapper.java:113) ~[spring-kafka-2.1.8.RELEASE.jar!/:2.1.8.RELEASE]\nat org.springframework.kafka.support.serializer.JsonDeserializer.deserialize(JsonDeserializer.java:221) ~[spring-kafka-2.1.8.RELEASE.jar!/:2.1.8.RELEASE]\nat org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:967) ~[kafka-clients-1.1.0.jar!/:na]\nat org.apache.kafka.clients.consumer.internals.Fetcher.access$3300(Fetcher.java:93) ~[kafka-clients-1.1.0.jar!/:na]\nat org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.fetchRecords(Fetcher.java:1144) ~[kafka-clients-1.1.0.jar!/:na]\nat org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.access$1400(Fetcher.java:993) ~[kafka-clients-1.1.0.jar!/:na]\nat org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:527) ~[kafka-clients-1.1.0.jar!/:na]\nat org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:488) ~[kafka-clients-1.1.0.jar!/:na]\nat org.apache.kafka.clients.consumer.KafkaConsumer.pollOnce(KafkaConsumer.java:1155) ~[kafka-clients-1.1.0.jar!/:na]\nat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1115) ~[kafka-clients-1.1.0.jar!/:na]\nat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:699) ~[spring-kafka-2.1.8.RELEASE.jar!/:2.1.8.RELEASE]\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_171]\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_171]\nat java.lang.Thread.run(Thread.java:748) [na:1.8.0_171]\n</code></pre>\n\n<p>This is my config:</p>\n\n<pre><code>@EnableAsync\n@Configuration\npublic class ApplicationConfig {\n\n    @Bean\n    public StringJsonMessageConverter jsonConverter() {\n        return new StringJsonMessageConverter();\n    }\n\n}\n\n@Configuration\npublic class KafkaProducerConfig {\n\n    @Value(\"${spring.kafka.bootstrap-servers}\")\n    private String bootstrapServers;\n\n    @Bean\n    public Map&lt;String, Object&gt; producerConfigs() {\n\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n        props.put(ProducerConfig.MAX_REQUEST_SIZE_CONFIG, 15000000);\n\n        return props;\n    }\n\n    @Bean\n    public ProducerFactory&lt;String, Update&gt; updateProducerFactory() {\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, Update&gt; updateKafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(updateProducerFactory());\n    }\n\n}\n\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Value(\"${kafka.consumer.max.poll.interval.ms}\")\n    private String kafkaConsumerMaxPollIntervalMs;\n\n    @Value(\"${kafka.consumer.max.poll.records}\")\n    private String kafkaConsumerMaxPollRecords;\n\n    @Value(\"${kafka.topic.telegram.fenix.bot.update.consumer.concurrency}\")\n    private Integer updateConsumerConcurrency;\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory(KafkaProperties kafkaProperties) {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(kafkaProperties.buildConsumerProperties(), new StringDeserializer(), new JsonDeserializer&lt;&gt;(String.class));\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory(KafkaProperties kafkaProperties) {\n\n        kafkaProperties.getProperties().put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, kafkaConsumerMaxPollIntervalMs);\n        kafkaProperties.getProperties().put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, kafkaConsumerMaxPollRecords);\n\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\n        factory.setConsumerFactory(consumerFactory(kafkaProperties));\n\n        return factory;\n    }\n\n    @Bean\n    public ConsumerFactory&lt;String, Update&gt; updateConsumerFactory(KafkaProperties kafkaProperties) {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(kafkaProperties.buildConsumerProperties(), new StringDeserializer(), new JsonDeserializer&lt;&gt;(Update.class));\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Update&gt; updateKafkaListenerContainerFactory(KafkaProperties kafkaProperties) {\n\n        kafkaProperties.getProperties().put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, kafkaConsumerMaxPollIntervalMs);\n        kafkaProperties.getProperties().put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, kafkaConsumerMaxPollRecords);\n\n        ConcurrentKafkaListenerContainerFactory&lt;String, Update&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.getContainerProperties().setAckMode(AckMode.MANUAL_IMMEDIATE);\n        factory.setConsumerFactory(updateConsumerFactory(kafkaProperties));\n        factory.setConcurrency(updateConsumerConcurrency);\n\n        return factory;\n    }\n\n}\n</code></pre>\n\n<p>application.properties</p>\n\n<pre><code>spring.kafka.bootstrap-servers=${kafka.host}:${kafka.port}\nspring.kafka.consumer.auto-offset-reset=earliest\nspring.kafka.consumer.group-id=postfenix\nspring.kafka.consumer.enable-auto-commit=false\nspring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\n</code></pre>\n\n<p>How to solve this issue and let Kafka deserialize old messages into the new ones ?</p>\n\n<p><strong>UPDATED</strong></p>\n\n<p>This is my listener</p>\n\n<pre><code>@Component\npublic class UpdateConsumer {\n\n    @KafkaListener(topics = \"${kafka.topic.update}\", containerFactory = \"updateKafkaListenerContainerFactory\")\n    public void onUpdateReceived(ConsumerRecord&lt;String, Update&gt; consumerRecord, Acknowledgment ack) {\n\n        //do some logic here\n\n        ack.acknowledge();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jackson","objectmapper","spring-cloud-feign","feign"],"answers":[{"tags":[],"owner":{"account_id":14670164,"reputation":1217,"user_id":10594845,"display_name":"aratata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661769677,"creation_date":1661769677,"answer_id":73527577,"question_id":73467179,"body_markdown":"Try using \r\n\r\n    @QueryMap Map&lt;String, Object&gt; \r\n\r\nparams instead of \r\n\r\n    @RequestParam Map&lt;String, Object&gt; params)","title":"Feign client doesnt encode request param correctly","body":"<p>Try using</p>\n<pre><code>@QueryMap Map&lt;String, Object&gt; \n</code></pre>\n<p>params instead of</p>\n<pre><code>@RequestParam Map&lt;String, Object&gt; params)\n</code></pre>\n"}],"owner":{"account_id":7552947,"reputation":491,"user_id":5735224,"display_name":"user5735224"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661769677,"creation_date":1661312555,"question_id":73467179,"body_markdown":"I have a feign client with the following structure \r\n\r\n   \r\n\r\n    Result getResult(@RequestParam String id, @RequestParam Map&lt;String, Object&gt; params)\r\n\r\nWhere the value in the map in the second argument can be of any primitive type (int, long) or object (String, BigDecimal).\r\n\r\nUnfortunately, the values in the client request dont seem to be deserialized correctly on the server side. For instance, sending a `Map.of(userId, 1234567893L)` is parsed as userId-&gt;1234567893L, instead of userId-&gt;1234567893L. Is there a way to tell the objectmapper to parse Long values as expected?","title":"Feign client doesnt encode request param correctly","body":"<p>I have a feign client with the following structure</p>\n<pre><code>Result getResult(@RequestParam String id, @RequestParam Map&lt;String, Object&gt; params)\n</code></pre>\n<p>Where the value in the map in the second argument can be of any primitive type (int, long) or object (String, BigDecimal).</p>\n<p>Unfortunately, the values in the client request dont seem to be deserialized correctly on the server side. For instance, sending a <code>Map.of(userId, 1234567893L)</code> is parsed as userId-&gt;1234567893L, instead of userId-&gt;1234567893L. Is there a way to tell the objectmapper to parse Long values as expected?</p>\n"},{"tags":["java","mapping"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1661768914,"post_id":73527412,"comment_id":129842225,"body_markdown":"I&#39;d say manually, one field at a time. Or you could make a `Map` that maps one field of A to a field of `B` and use it to copy values from one class to the other. At which point you basically created a bug-ridden library and you were better off using [mapstruct](https://mapstruct.org) (which is a library, not a framework, btw) from the start...","body":"I&#39;d say manually, one field at a time. Or you could make a <code>Map</code> that maps one field of A to a field of <code>B</code> and use it to copy values from one class to the other. At which point you basically created a bug-ridden library and you were better off using <a href=\"https://mapstruct.org\" rel=\"nofollow noreferrer\">mapstruct</a> (which is a library, not a framework, btw) from the start..."},{"owner":{"account_id":26127260,"reputation":1,"user_id":19818498,"display_name":"nah"},"score":0,"creation_date":1661772234,"post_id":73527412,"comment_id":129843281,"body_markdown":"just like `public static A mapToA() { b.name = a.firstName?; ... }` ?","body":"just like <code>public static A mapToA() { b.name = a.firstName?; ... }</code> ?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1661772890,"post_id":73527412,"comment_id":129843502,"body_markdown":"Except for that `?` which I guess is a typo, yes, basically. But as I said, that&#39;s error-prone and is basically what mapstruct already does. Except it also generates null checks for intermediate operations in case you have other objects as instance members instead of strings or primitives.","body":"Except for that <code>?</code> which I guess is a typo, yes, basically. But as I said, that&#39;s error-prone and is basically what mapstruct already does. Except it also generates null checks for intermediate operations in case you have other objects as instance members instead of strings or primitives."}],"owner":{"account_id":26127260,"reputation":1,"user_id":19818498,"display_name":"nah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661769277,"creation_date":1661768789,"question_id":73527412,"body_markdown":"The question is trivial, but I couldn&#39;t find an example.\r\nI have to map one data model to another data model (common data model). How to do it without using any frameworks? These are very simple models, so frameworks are unnecessary. \r\n\r\n\r\n```\r\npublic class A {\r\nString name;\r\nString lastName;\r\nint age;\r\n}\r\n```\r\n\r\n```\r\npublic class B {\r\nString firstName;\r\nString lastName;\r\n}\r\n```","title":"Map one data model to another","body":"<p>The question is trivial, but I couldn't find an example.\nI have to map one data model to another data model (common data model). How to do it without using any frameworks? These are very simple models, so frameworks are unnecessary.</p>\n<pre><code>public class A {\nString name;\nString lastName;\nint age;\n}\n</code></pre>\n<pre><code>public class B {\nString firstName;\nString lastName;\n}\n</code></pre>\n"},{"tags":["java","animation","javafx","mouseevent","effect"],"answers":[{"tags":[],"owner":{"account_id":26183044,"reputation":3,"user_id":19866075,"display_name":"skver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661769143,"creation_date":1661763644,"answer_id":73526396,"question_id":73526243,"body_markdown":"I brought the function to this form, and for some reason the problem was solved.\r\n\r\n    ColorAdjust effect= (ColorAdjust) group.getEffect();\r\n    group.setOnMouseEntered(mouseEvent -&gt; effect.setBrightness(effect.getBrightness()+0.5));\r\n    group.setOnMouseExited(mouseEvent -&gt; effect.setBrightness(effect.getBrightness()-0.5));\r\n    group.setOnMousePressed(mouseEvent -&gt; effect.setBrightness(effect.getBrightness()-0.3));\r\n    group.setOnMouseReleased(mouseEvent -&gt; effect.setBrightness(effect.getBrightness()+0.3));","title":"mouseEntered and mouseExited are triggered simultaneously","body":"<p>I brought the function to this form, and for some reason the problem was solved.</p>\n<pre><code>ColorAdjust effect= (ColorAdjust) group.getEffect();\ngroup.setOnMouseEntered(mouseEvent -&gt; effect.setBrightness(effect.getBrightness()+0.5));\ngroup.setOnMouseExited(mouseEvent -&gt; effect.setBrightness(effect.getBrightness()-0.5));\ngroup.setOnMousePressed(mouseEvent -&gt; effect.setBrightness(effect.getBrightness()-0.3));\ngroup.setOnMouseReleased(mouseEvent -&gt; effect.setBrightness(effect.getBrightness()+0.3));\n</code></pre>\n"}],"owner":{"account_id":26183044,"reputation":3,"user_id":19866075,"display_name":"skver"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73526396,"answer_count":1,"score":0,"last_activity_date":1661769143,"creation_date":1661762830,"question_id":73526243,"body_markdown":"I have created a function that will highlight the image when you hover over it.\r\n\r\n\r\n    public class HelloController {\r\n\r\n        @FXML\r\n        private ImageView exitButton;\r\n\r\n        public static void mouseWork(ImageView group){\r\n            Effect effect=group.getEffect();\r\n            group.setOnMouseEntered(mouseEvent -&gt; {\r\n                ColorAdjust colorAdjust=new ColorAdjust(0,0,0.05,0);\r\n                group.setEffect(colorAdjust);\r\n            });\r\n            group.setOnMouseExited(mouseEvent -&gt; group.setEffect(effect));\r\n        }\r\n\r\n        @FXML\r\n        void initialize() {\r\n            mouseWork(exitButton);\r\n        }\r\n    }\r\n\r\n   \r\n\r\nEverything works fine, but if I hover the cursor over the edge of the picture, then the image starts flashing, then adding a glow, then removing it.\r\nWhy is this happening and how to fix it?","title":"mouseEntered and mouseExited are triggered simultaneously","body":"<p>I have created a function that will highlight the image when you hover over it.</p>\n<pre><code>public class HelloController {\n\n    @FXML\n    private ImageView exitButton;\n\n    public static void mouseWork(ImageView group){\n        Effect effect=group.getEffect();\n        group.setOnMouseEntered(mouseEvent -&gt; {\n            ColorAdjust colorAdjust=new ColorAdjust(0,0,0.05,0);\n            group.setEffect(colorAdjust);\n        });\n        group.setOnMouseExited(mouseEvent -&gt; group.setEffect(effect));\n    }\n\n    @FXML\n    void initialize() {\n        mouseWork(exitButton);\n    }\n}\n</code></pre>\n<p>Everything works fine, but if I hover the cursor over the edge of the picture, then the image starts flashing, then adding a glow, then removing it.\nWhy is this happening and how to fix it?</p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":1203347,"reputation":2104,"user_id":1173560,"display_name":"K.C."},"score":0,"creation_date":1359539125,"post_id":14596242,"comment_id":20384713,"body_markdown":"Can you clarify your question please? It&#39;s too abstract. Maybe some code of what you are trying to do? thanks","body":"Can you clarify your question please? It&#39;s too abstract. Maybe some code of what you are trying to do? thanks"}],"answers":[{"tags":[],"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495188384,"creation_date":1495188384,"answer_id":44067175,"question_id":14596242,"body_markdown":"Since Java Persistence 2.0 you can use [`Metamodel`](http://docs.oracle.com/javaee/7/api/javax/persistence/metamodel/Metamodel.html) to do so:\r\n\r\n    public Class&lt;?&gt; getTypeForTableName(String tableName) {\r\n      for (EntityType&lt;?&gt; entityType : getEntityManager().getMetamodel().getEntities()) {\r\n        if (entityType.getJavaType().getAnnotation(Table.class).name().equals(tableName)) {\r\n          return entityType.getJavaType();\r\n        }\r\n      }\r\n      return null;\r\n    }\r\n","title":"How to get entity class by database table name?","body":"<p>Since Java Persistence 2.0 you can use <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/metamodel/Metamodel.html\" rel=\"nofollow noreferrer\"><code>Metamodel</code></a> to do so:</p>\n\n<pre><code>public Class&lt;?&gt; getTypeForTableName(String tableName) {\n  for (EntityType&lt;?&gt; entityType : getEntityManager().getMetamodel().getEntities()) {\n    if (entityType.getJavaType().getAnnotation(Table.class).name().equals(tableName)) {\n      return entityType.getJavaType();\n    }\n  }\n  return null;\n}\n</code></pre>\n"}],"owner":{"account_id":2160168,"reputation":43,"user_id":1914500,"display_name":"JavaDeveloper1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661769081,"creation_date":1359516908,"question_id":14596242,"body_markdown":"Is it possible to get the Entity class Name from table Name? I am using JPA. \r\n\r\nI have the table name. I am able to get the primary keys of the table. Now i want to retrieve a tuple from the table. I need the tuple in the form of entity object or in the form of string array. \r\n\r\nThanks in advance.","title":"How to get entity class by database table name?","body":"<p>Is it possible to get the Entity class Name from table Name? I am using JPA. </p>\n\n<p>I have the table name. I am able to get the primary keys of the table. Now i want to retrieve a tuple from the table. I need the tuple in the form of entity object or in the form of string array. </p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","selenium","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":10575026,"reputation":67,"user_id":7790584,"display_name":"Manu Gopinathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661765029,"creation_date":1661765029,"answer_id":73526682,"question_id":73526227,"body_markdown":"Your wait statement is not working because even during the loading time of half a second the element you used to wait for visibility is visible. For proper wait delays, I would suggest you use any option that was not available during the load time. \r\n\r\nFor example, in your case, the highlighted &#39;SAMSUNG&#39; text in the Filter section was not available during the load time. So if you wait for the visibility of that element, it may work.\r\n\r\n[![Flipkart filter][1]][1]\r\n\r\nPlease give the below statement a try:\r\n\r\n wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[text()=&#39;Filters&#39;]/ancestor::section//*[text()=&#39;SAMSUNG&#39;]&quot;)));\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IV2Zg.png","title":"Perform the task using WebDriverWait and not thread.sleep()","body":"<p>Your wait statement is not working because even during the loading time of half a second the element you used to wait for visibility is visible. For proper wait delays, I would suggest you use any option that was not available during the load time.</p>\n<p>For example, in your case, the highlighted 'SAMSUNG' text in the Filter section was not available during the load time. So if you wait for the visibility of that element, it may work.</p>\n<p><a href=\"https://i.stack.imgur.com/IV2Zg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IV2Zg.png\" alt=\"Flipkart filter\" /></a></p>\n<p>Please give the below statement a try:</p>\n<p>wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//span[text()='Filters']/ancestor::section//*[text()='SAMSUNG']&quot;)));</p>\n"},{"tags":[],"owner":{"account_id":10001672,"reputation":511,"user_id":7397403,"display_name":"ketanvj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661768716,"creation_date":1661768716,"answer_id":73527396,"question_id":73526227,"body_markdown":"@Codeception See the following code. I have given the explanation within my code as comments. \r\n\r\n\tWebDriverWait wait = (new WebDriverWait(driver, Duration.ofSeconds(10)));\r\n\r\n\tdriver.get(\r\n\t\t\t&quot;https://www.flipkart.com/search?q=fridge&amp;otracker=search&amp;otracker1=search&amp;marketplace=FLIPKART&amp;as-show=on&amp;as=off&amp;as-pos=1&amp;as-type=HISTORY&quot;);\r\n\r\n\t// Waiting for the visibility of Samsung Brand before clicking it.\r\n\tWebElement samsung = wait.until(ExpectedConditions.visibilityOfElementLocated(\r\n\t\t\tBy.xpath(&quot;//div[text()=&#39;Brand&#39;]/parent::div//following-sibling::div//div[@title=&#39;SAMSUNG&#39;]&quot;)));\r\n\tsamsung.click();\r\n\t\r\n\t// Since the page is getting refreshed after above action, to avoid the\r\n\t// StaleElemenetReferenceException,\r\n\t// waiting for Samsung checkbox to be selected.\r\n\twait.until(ExpectedConditions.elementSelectionStateToBe(\r\n\t\t\tBy.xpath(&quot;//div[text()=&#39;Brand&#39;]/parent::div//following-sibling::div//div[@title=&#39;SAMSUNG&#39;]//input&quot;),\r\n\t\t\ttrue));\r\n\r\n\t// By the time above action happens, Capacity is already available so not\r\n\t// waiting it.\r\n\tWebElement capacity = driver.findElement(By.xpath(&quot;//div[text()=&#39;Capacity&#39;]/parent::div&quot;));\r\n\tcapacity.click();\r\n\r\n\t// Waiting for the visibility of a particular option to be visible.\r\n\t// In the below case waiting for visibility of &quot;251 - 300 L&quot; option\r\n\tWebElement specificCapacity = wait.until(ExpectedConditions.visibilityOfElementLocated(\r\n\t\t\tBy.xpath(&quot;//div[text()=&#39;Capacity&#39;]/parent::div//following-sibling::div//div[@title=&#39;251 - 300 L&#39;]&quot;)));\r\n\tspecificCapacity.click();","title":"Perform the task using WebDriverWait and not thread.sleep()","body":"<p>@Codeception See the following code. I have given the explanation within my code as comments.</p>\n<pre><code>WebDriverWait wait = (new WebDriverWait(driver, Duration.ofSeconds(10)));\n\ndriver.get(\n        &quot;https://www.flipkart.com/search?q=fridge&amp;otracker=search&amp;otracker1=search&amp;marketplace=FLIPKART&amp;as-show=on&amp;as=off&amp;as-pos=1&amp;as-type=HISTORY&quot;);\n\n// Waiting for the visibility of Samsung Brand before clicking it.\nWebElement samsung = wait.until(ExpectedConditions.visibilityOfElementLocated(\n        By.xpath(&quot;//div[text()='Brand']/parent::div//following-sibling::div//div[@title='SAMSUNG']&quot;)));\nsamsung.click();\n\n// Since the page is getting refreshed after above action, to avoid the\n// StaleElemenetReferenceException,\n// waiting for Samsung checkbox to be selected.\nwait.until(ExpectedConditions.elementSelectionStateToBe(\n        By.xpath(&quot;//div[text()='Brand']/parent::div//following-sibling::div//div[@title='SAMSUNG']//input&quot;),\n        true));\n\n// By the time above action happens, Capacity is already available so not\n// waiting it.\nWebElement capacity = driver.findElement(By.xpath(&quot;//div[text()='Capacity']/parent::div&quot;));\ncapacity.click();\n\n// Waiting for the visibility of a particular option to be visible.\n// In the below case waiting for visibility of &quot;251 - 300 L&quot; option\nWebElement specificCapacity = wait.until(ExpectedConditions.visibilityOfElementLocated(\n        By.xpath(&quot;//div[text()='Capacity']/parent::div//following-sibling::div//div[@title='251 - 300 L']&quot;)));\nspecificCapacity.click();\n</code></pre>\n"}],"owner":{"account_id":26164049,"reputation":25,"user_id":19850106,"display_name":"Codeception"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73526682,"answer_count":2,"score":0,"last_activity_date":1661768716,"creation_date":1661762742,"question_id":73526227,"body_markdown":"URL : https://www.flipkart.com/search?q=fridge&amp;otracker=search&amp;otracker1=search&amp;marketplace=FLIPKART&amp;as-show=on&amp;as=off&amp;as-pos=1&amp;as-type=HISTORY\r\n\r\nMy scenario is that when I clicked on Samsung checkbox it loads for half a sec. Then after I have to click on Capacity and click on one of the options(checkbox).\r\n\r\nI need to perform the task using WebDriverWait and not thread.sleep().\r\n\r\nWhen i use this statement it does nothing\r\n```\r\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[contains(text(),&#39;Whirlpool&#39;)]&quot;)));\r\n```\r\n\r\n```\r\nList&lt;WebElement&gt; filterOnProduct = driver.findElements(By.xpath(&quot;(//div[@class=&#39;_3FPh42&#39;])[1]/div/div&quot;));\r\n\t\t\r\n\t\t\r\n\t\tfor(int i=0; i&lt;filterOnProduct.size();i++) {\r\n\t\t\tSystem.out.println(filterOnProduct.get(i).getText());\r\n\t\t\tString fridge = filterOnProduct.get(i).getText();\r\n\t\t\tif(fridge.contains(&quot;SAMSUNG&quot;)) {\r\n\t\t\t\tfilterOnProduct.get(i).click();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// Thread.sleep(1000);\r\n\t\t\r\n\t\twait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[contains(text(),&#39;Whirlpool&#39;)]&quot;)));\r\n\t\t\r\n\t\tJavascriptExecutor js = (JavascriptExecutor) driver;\r\n\t\tjs.executeScript(&quot;window.scrollBy(0,250)&quot;);\r\n\t\t\r\n\t\tWebElement capacity = driver.findElement(By.xpath(&quot;//div[contains(text(),&#39;Capacity&#39;)]&quot;));\r\n\t\taction = new Actions(driver);\r\n\t\taction.moveToElement(capacity).click().build().perform();\r\n```","title":"Perform the task using WebDriverWait and not thread.sleep()","body":"<p>URL : <a href=\"https://www.flipkart.com/search?q=fridge&amp;otracker=search&amp;otracker1=search&amp;marketplace=FLIPKART&amp;as-show=on&amp;as=off&amp;as-pos=1&amp;as-type=HISTORY\" rel=\"nofollow noreferrer\">https://www.flipkart.com/search?q=fridge&amp;otracker=search&amp;otracker1=search&amp;marketplace=FLIPKART&amp;as-show=on&amp;as=off&amp;as-pos=1&amp;as-type=HISTORY</a></p>\n<p>My scenario is that when I clicked on Samsung checkbox it loads for half a sec. Then after I have to click on Capacity and click on one of the options(checkbox).</p>\n<p>I need to perform the task using WebDriverWait and not thread.sleep().</p>\n<p>When i use this statement it does nothing</p>\n<pre><code>wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[contains(text(),'Whirlpool')]&quot;)));\n</code></pre>\n<pre><code>List&lt;WebElement&gt; filterOnProduct = driver.findElements(By.xpath(&quot;(//div[@class='_3FPh42'])[1]/div/div&quot;));\n        \n        \n        for(int i=0; i&lt;filterOnProduct.size();i++) {\n            System.out.println(filterOnProduct.get(i).getText());\n            String fridge = filterOnProduct.get(i).getText();\n            if(fridge.contains(&quot;SAMSUNG&quot;)) {\n                filterOnProduct.get(i).click();\n                break;\n            }\n        }\n        \n        // Thread.sleep(1000);\n        \n        wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[contains(text(),'Whirlpool')]&quot;)));\n        \n        JavascriptExecutor js = (JavascriptExecutor) driver;\n        js.executeScript(&quot;window.scrollBy(0,250)&quot;);\n        \n        WebElement capacity = driver.findElement(By.xpath(&quot;//div[contains(text(),'Capacity')]&quot;));\n        action = new Actions(driver);\n        action.moveToElement(capacity).click().build().perform();\n</code></pre>\n"},{"tags":["java","android","reactjs","react-native","gradle"],"comments":[{"owner":{"account_id":4523707,"reputation":6025,"user_id":3676184,"accept_rate":17,"display_name":"Pavya"},"score":0,"creation_date":1661769659,"post_id":73527387,"comment_id":129842473,"body_markdown":"have you added  plugins: [\n    &#39;react-native-reanimated/plugin&#39;,\n  ],\n in babel.config.js file","body":"have you added  plugins: [     &#39;react-native-reanimated/plugin&#39;,   ],  in babel.config.js file"},{"owner":{"account_id":13970408,"reputation":145,"user_id":10089156,"display_name":"Sai Jeevan Balla"},"score":0,"creation_date":1661771263,"post_id":73527387,"comment_id":129842934,"body_markdown":"yes added in babel.config.js","body":"yes added in babel.config.js"}],"owner":{"account_id":13970408,"reputation":145,"user_id":10089156,"display_name":"Sai Jeevan Balla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661768694,"creation_date":1661768694,"question_id":73527387,"body_markdown":"I just clone a new React Native project. And though I tried many stack overflow solutions, even though those weren&#39;t helpful to me, I am still receiving this error while executing this.\r\n\r\nfollowed these solution but those not helpful from stack overflow\r\n 1. npx jetify\r\n 2. cd android &amp;&amp; ./gradlew clean\r\n 3. rm -rf node_modules &amp;&amp; yarn install &amp;&amp; react-native run-android\r\n\r\nnode version\r\n```\r\n$ node --version\r\nv14.17.0\r\n```\r\njava version\r\n```\r\njava version &quot;1.8.0_202&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_202-b08)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.202-b08, mixed mode)\r\n```\r\n\r\ngradle version\r\n```\r\n------------------------------------------------------------\r\nGradle 6.7.1\r\n------------------------------------------------------------\r\n\r\nBuild time:   2020-11-16 17:09:24 UTC\r\nRevision:     2972ff02f3210d2ceed2f1ea880f026acfbab5c0\r\n\r\nKotlin:       1.3.72\r\nGroovy:       2.5.12\r\nAnt:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020\r\nJVM:          1.8.0_202 (Oracle Corporation 25.202-b08)\r\nOS:           Windows 10 10.0 amd64\r\n```\r\n\r\npackage.json versions\r\n```\r\n&quot;react&quot;: &quot;16.13.1&quot;,\r\n&quot;react-native&quot;: &quot;0.63.4&quot;,\r\n&quot;react-native-reanimated&quot;: &quot;2.9.1&quot;,\r\n```\r\n\r\n\r\n\r\nHere i paste error message\r\n```\r\n\r\n&gt; Configure project :react-native-reanimated\r\nNo AAR for react-native-reanimated found. Attempting to build from source.\r\nNative libs debug enabled: false\r\nAndroid gradle plugin: 4.1.1\r\nGradle: 6.7.1\r\nbuilding Reanimated2\r\n\r\nThe Kotlin Gradle plugin was loaded multiple times in different subprojects, which is not supported and may break the build.\r\nThis might happen in subprojects that apply the Kotlin plugins with the Gradle &#39;plugins { ... }&#39; DSL if they specify explicit versions, even if the versions are equal.\r\nPlease add the Kotlin plugin to the common parent project or the root project, then remove the versions in the subprojects.\r\nIf the parent project does not need the plugin, add &#39;apply false&#39; to the plugin line.\r\nSee: https://docs.gradle.org/current/userguide/plugins.html#sec:subprojects_plugins_dsl\r\nThe Kotlin plugin was loaded in the following projects: &#39;:react-native-pager-view&#39;, &#39;:react-native-webview&#39;\r\n\r\n&gt; Task :react-native-reanimated:compileDebugJavaWithJavac FAILED\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\r\nUse &#39;--warning-mode all&#39; to show the individual deprecation warnings.\r\nSee https://docs.gradle.org/6.7.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n341 actionable tasks: 2 executed, 339 up-to-date\r\nC:\\Users\\demo\\Desktop\\project\\node_modules\\react-native-reanimated\\android\\src\\main\\java\\com\\swmansion\\reanimated\\layoutReanimation\\ReanimatedUIImplementation.java:13: error: cannot find symbol\r\n      ViewManagerResolver viewManagerResolver,\r\n      ^\r\n  symbol:   class ViewManagerResolver\r\n  location: class ReanimatedUIImplementation\r\nC:\\Users\\demo\\Desktop\\project\\node_modules\\react-native-reanimated\\android\\src\\main\\java\\com\\swmansion\\reanimated\\layoutReanimation\\ReanimatedUIImplementation.java:11: error: recursive constructor invocation\r\n  public ReanimatedUIImplementation(\r\n         ^\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\nNote: Some input files use unchecked or unsafe operations.\r\nNote: Recompile with -Xlint:unchecked for details.\r\n2 errors\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:react-native-reanimated:compileDebugJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 12s\r\n\r\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\r\n```","title":"React Native - react-native-reanimated:compileDebugJavaWithJavac FAILED","body":"<p>I just clone a new React Native project. And though I tried many stack overflow solutions, even though those weren't helpful to me, I am still receiving this error while executing this.</p>\n<p>followed these solution but those not helpful from stack overflow</p>\n<ol>\n<li>npx jetify</li>\n<li>cd android &amp;&amp; ./gradlew clean</li>\n<li>rm -rf node_modules &amp;&amp; yarn install &amp;&amp; react-native run-android</li>\n</ol>\n<p>node version</p>\n<pre><code>$ node --version\nv14.17.0\n</code></pre>\n<p>java version</p>\n<pre><code>java version &quot;1.8.0_202&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_202-b08)\nJava HotSpot(TM) 64-Bit Server VM (build 25.202-b08, mixed mode)\n</code></pre>\n<p>gradle version</p>\n<pre><code>------------------------------------------------------------\nGradle 6.7.1\n------------------------------------------------------------\n\nBuild time:   2020-11-16 17:09:24 UTC\nRevision:     2972ff02f3210d2ceed2f1ea880f026acfbab5c0\n\nKotlin:       1.3.72\nGroovy:       2.5.12\nAnt:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020\nJVM:          1.8.0_202 (Oracle Corporation 25.202-b08)\nOS:           Windows 10 10.0 amd64\n</code></pre>\n<p>package.json versions</p>\n<pre><code>&quot;react&quot;: &quot;16.13.1&quot;,\n&quot;react-native&quot;: &quot;0.63.4&quot;,\n&quot;react-native-reanimated&quot;: &quot;2.9.1&quot;,\n</code></pre>\n<p>Here i paste error message</p>\n<pre><code>\n&gt; Configure project :react-native-reanimated\nNo AAR for react-native-reanimated found. Attempting to build from source.\nNative libs debug enabled: false\nAndroid gradle plugin: 4.1.1\nGradle: 6.7.1\nbuilding Reanimated2\n\nThe Kotlin Gradle plugin was loaded multiple times in different subprojects, which is not supported and may break the build.\nThis might happen in subprojects that apply the Kotlin plugins with the Gradle 'plugins { ... }' DSL if they specify explicit versions, even if the versions are equal.\nPlease add the Kotlin plugin to the common parent project or the root project, then remove the versions in the subprojects.\nIf the parent project does not need the plugin, add 'apply false' to the plugin line.\nSee: https://docs.gradle.org/current/userguide/plugins.html#sec:subprojects_plugins_dsl\nThe Kotlin plugin was loaded in the following projects: ':react-native-pager-view', ':react-native-webview'\n\n&gt; Task :react-native-reanimated:compileDebugJavaWithJavac FAILED\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 7.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee https://docs.gradle.org/6.7.1/userguide/command_line_interface.html#sec:command_line_warnings\n341 actionable tasks: 2 executed, 339 up-to-date\nC:\\Users\\demo\\Desktop\\project\\node_modules\\react-native-reanimated\\android\\src\\main\\java\\com\\swmansion\\reanimated\\layoutReanimation\\ReanimatedUIImplementation.java:13: error: cannot find symbol\n      ViewManagerResolver viewManagerResolver,\n      ^\n  symbol:   class ViewManagerResolver\n  location: class ReanimatedUIImplementation\nC:\\Users\\demo\\Desktop\\project\\node_modules\\react-native-reanimated\\android\\src\\main\\java\\com\\swmansion\\reanimated\\layoutReanimation\\ReanimatedUIImplementation.java:11: error: recursive constructor invocation\n  public ReanimatedUIImplementation(\n         ^\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n2 errors\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':react-native-reanimated:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 12s\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661768569,"post_id":73527327,"comment_id":129842122,"body_markdown":"remove the directory from your local m2 repository and try to build again","body":"remove the directory from your local m2 repository and try to build again"},{"owner":{"account_id":25180581,"reputation":47,"user_id":19022141,"display_name":"54V4G3208"},"score":0,"creation_date":1661768803,"post_id":73527327,"comment_id":129842188,"body_markdown":"Sorry, Which directory are you reffering to","body":"Sorry, Which directory are you reffering to"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661769015,"post_id":73527327,"comment_id":129842247,"body_markdown":"in your user home directory should be a .m2 folder in this a repository and there the `org/spring-framework-boot/2.7.3","body":"in your user home directory should be a .m2 folder in this a repository and there the `org/spring-framework-boot/2.7.3"}],"owner":{"account_id":25180581,"reputation":47,"user_id":19022141,"display_name":"54V4G3208"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":485,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1661768621,"creation_date":1661768357,"question_id":73527327,"body_markdown":"I&#39;ve created a new springboot project using spring Initializer. When i view it in vs code i get an error in `pom.xml` on the `Parent` tag saying \r\n\r\n&gt; Project build error: Non-resolvable parent POM for\r\n&gt; com.example:demo:0.0.1-SNAPSHOT:\r\n&gt; org.springframework.boot:spring-boot-starter-parent:pom:2.7.3 failed\r\n&gt; to transfer from https://repo.maven.apache.org/maven2 during a\r\n&gt; previous attempt. This failure was cached in the local repository and\r\n&gt; resolution is not reattempted until the update interval of central has\r\n&gt; elapsed or updates are forced. Original error: Could not transfer\r\n&gt; artifact org.springframework.boot:spring-boot-starter-parent:pom:2.7.3\r\n&gt; from/to central (https://repo.maven.apache.org/maven2):\r\n&gt; repo.maven.apache.org and &#39;parent.relativePath&#39; points at no local\r\n&gt; POM`\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n      https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t   &lt;/parent&gt;\r\n\t   &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t   &lt;name&gt;demo&lt;/name&gt;\r\n\t   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t  &lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t  &lt;/properties&gt;\r\n\t  &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t  &lt;/dependencies&gt;\r\n\r\n\t  &lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t   &lt;/build&gt;\r\n\r\n       &lt;/project&gt;\r\n\r\nCan somebody help please.\r\n","title":"org.springframework.boot:spring-boot-starter-parent:pom:2.7.3 failed to transfer from https://repo.maven.apache.org/maven2 during a previous attempt","body":"<p>I've created a new springboot project using spring Initializer. When i view it in vs code i get an error in <code>pom.xml</code> on the <code>Parent</code> tag saying</p>\n<blockquote>\n<p>Project build error: Non-resolvable parent POM for\ncom.example:demo:0.0.1-SNAPSHOT:\norg.springframework.boot:spring-boot-starter-parent:pom:2.7.3 failed\nto transfer from <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a> during a\nprevious attempt. This failure was cached in the local repository and\nresolution is not reattempted until the update interval of central has\nelapsed or updates are forced. Original error: Could not transfer\nartifact org.springframework.boot:spring-boot-starter-parent:pom:2.7.3\nfrom/to central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>):\nrepo.maven.apache.org and 'parent.relativePath' points at no local\nPOM`</p>\n</blockquote>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n  https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.3&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n   &lt;/parent&gt;\n   &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;demo&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n   &lt;name&gt;demo&lt;/name&gt;\n   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n  &lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n   &lt;/build&gt;\n\n   &lt;/project&gt;\n</code></pre>\n<p>Can somebody help please.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8917,"page":1075,"page_size":100}
