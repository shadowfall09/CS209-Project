{"items":[{"tags":["java","docker","apache-spark","bitnami"],"owner":{"account_id":7860912,"reputation":400,"user_id":5941365,"display_name":"adesai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668003076,"creation_date":1668003076,"question_id":74376255,"body_markdown":"I am trying to upgrade Java and Scala versions on Bitnami Spark image by updating the Dockerfile:\r\nhttps://github.com/bitnami/bitnami-docker-spark/blob/master/3.3/debian-11/Dockerfile\r\n\r\nGoing through the rest of the code it looks like it uses below repository URL to download the installation tar files:\r\nhttps://downloads.bitnami.com/files/stacksmith\r\n\r\nI need to find the correct package name with Java 17 and Spark 3.3.0 with Scala 2.13.\r\nHow can I view the available packages? Above URL redirect it back to bitnami.com!","title":"What are the available packages on Bitnami&#39;s stacksmith repository?","body":"<p>I am trying to upgrade Java and Scala versions on Bitnami Spark image by updating the Dockerfile:\n<a href=\"https://github.com/bitnami/bitnami-docker-spark/blob/master/3.3/debian-11/Dockerfile\" rel=\"nofollow noreferrer\">https://github.com/bitnami/bitnami-docker-spark/blob/master/3.3/debian-11/Dockerfile</a></p>\n<p>Going through the rest of the code it looks like it uses below repository URL to download the installation tar files:\n<a href=\"https://downloads.bitnami.com/files/stacksmith\" rel=\"nofollow noreferrer\">https://downloads.bitnami.com/files/stacksmith</a></p>\n<p>I need to find the correct package name with Java 17 and Spark 3.3.0 with Scala 2.13.\nHow can I view the available packages? Above URL redirect it back to bitnami.com!</p>\n"},{"tags":["java","log4j","slf4j"],"answers":[{"tags":[],"owner":{"account_id":929022,"reputation":2540,"user_id":959251,"accept_rate":75,"display_name":"Filipe Fedalto"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1428613876,"creation_date":1362569815,"answer_id":15246337,"question_id":15246157,"body_markdown":"You should also include `log4j` library as `slf4j-log4j` is just a static binder.","title":"How to fix exception: Failed to instantiate SLF4J LoggerFactory?","body":"<p>You should also include <code>log4j</code> library as <code>slf4j-log4j</code> is just a static binder.</p>\n"},{"tags":[],"owner":{"account_id":3708844,"reputation":91,"user_id":3221492,"display_name":"prodigy4440"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1428613892,"creation_date":1390349977,"answer_id":21271817,"question_id":15246157,"body_markdown":"You should include `slf4j-api-x.x.x.jar` and `slf4j-simple-x.x.x.jar` in your classpath.","title":"How to fix exception: Failed to instantiate SLF4J LoggerFactory?","body":"<p>You should include <code>slf4j-api-x.x.x.jar</code> and <code>slf4j-simple-x.x.x.jar</code> in your classpath.</p>\n"},{"tags":[],"owner":{"account_id":22370,"reputation":158143,"user_id":55075,"accept_rate":76,"display_name":"kenorb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428615456,"creation_date":1428614682,"answer_id":29549322,"question_id":15246157,"body_markdown":"As error suggested:\r\n\r\n&gt; Failed to instantiate [SLF4J][1] [LoggerFactory][2]\r\n\r\nyou need to place your corresponding `slf4j-*-*.jar` binding files into your [classpath][3] folder.\r\n\r\nYou can locate them by `locate slf4j` if present.\r\n\r\n&gt; As of SLF4J version 1.6.0, if no binding is found on the class path, then slf4j-api will default to a no-operation implementation discarding all log requests.\r\n\r\n### Tomcat\r\n\r\nIf using Tomcat, these files you can copy either into `/usr/share/tomcat7/lib` or your webapp folder `/var/lib/tomcat7/webapps/*/WEB-INF/lib`.\r\n\r\n### Solr\r\n\r\nIf you&#39;re using Solr or you want use the files from there (which are included by default), you can find them in `dist/solrj-lib` and `example/lib/ext`.\r\n\r\n\r\n----------\r\n\r\nSee: [The Simple Logging Facade for Java (SLF4J) user manual][4]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/SLF4J\r\n  [2]: http://www.slf4j.org/api/org/slf4j/LoggerFactory.html\r\n  [3]: http://en.wikipedia.org/wiki/Classpath_%28Java%29\r\n  [4]: http://www.slf4j.org/manual.html","title":"How to fix exception: Failed to instantiate SLF4J LoggerFactory?","body":"<p>As error suggested:</p>\n\n<blockquote>\n  <p>Failed to instantiate <a href=\"http://en.wikipedia.org/wiki/SLF4J\" rel=\"nofollow\">SLF4J</a> <a href=\"http://www.slf4j.org/api/org/slf4j/LoggerFactory.html\" rel=\"nofollow\">LoggerFactory</a></p>\n</blockquote>\n\n<p>you need to place your corresponding <code>slf4j-*-*.jar</code> binding files into your <a href=\"http://en.wikipedia.org/wiki/Classpath_%28Java%29\" rel=\"nofollow\">classpath</a> folder.</p>\n\n<p>You can locate them by <code>locate slf4j</code> if present.</p>\n\n<blockquote>\n  <p>As of SLF4J version 1.6.0, if no binding is found on the class path, then slf4j-api will default to a no-operation implementation discarding all log requests.</p>\n</blockquote>\n\n<h3>Tomcat</h3>\n\n<p>If using Tomcat, these files you can copy either into <code>/usr/share/tomcat7/lib</code> or your webapp folder <code>/var/lib/tomcat7/webapps/*/WEB-INF/lib</code>.</p>\n\n<h3>Solr</h3>\n\n<p>If you're using Solr or you want use the files from there (which are included by default), you can find them in <code>dist/solrj-lib</code> and <code>example/lib/ext</code>.</p>\n\n<hr>\n\n<p>See: <a href=\"http://www.slf4j.org/manual.html\" rel=\"nofollow\">The Simple Logging Facade for Java (SLF4J) user manual</a></p>\n"},{"tags":[],"owner":{"account_id":3886705,"reputation":39,"user_id":3217881,"accept_rate":14,"display_name":"nikhil bangar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450211432,"creation_date":1450211432,"answer_id":34298829,"question_id":15246157,"body_markdown":"I tried all permutation and combination but finally **slf4j-api-*** and **slf4j-simple-*** worked well.","title":"How to fix exception: Failed to instantiate SLF4J LoggerFactory?","body":"<p>I tried all permutation and combination but finally <strong>slf4j-api-<em></strong> and <strong>slf4j-simple-</em></strong> worked well.</p>\n"}],"owner":{"account_id":427988,"reputation":1525,"user_id":810031,"accept_rate":21,"display_name":"Prannoy Mittal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58901,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":15246337,"answer_count":4,"score":6,"last_activity_date":1668002925,"creation_date":1362569311,"question_id":15246157,"body_markdown":"I am trying to write a java web crawler for semantic web using jena library. I have build project using Netbeans. I am receiving two errors:\r\n\r\n1. Failed to instantiate SLF4J LoggerFactory\r\nReported exception:\r\njava.lang.NoClassDefFoundError: org/apache/log4j/Level\r\n\r\n2. Could not initialize class com.hp.hpl.jena.rdf.model.impl.ModelCom\r\n\tat org.slf4j.LoggerFactory.bind(LoggerFactory.java:128)\r\n\r\nI have included `slf4j-api` and `slf4j-log` both libraries.","title":"How to fix exception: Failed to instantiate SLF4J LoggerFactory?","body":"<p>I am trying to write a java web crawler for semantic web using jena library. I have build project using Netbeans. I am receiving two errors:</p>\n\n<ol>\n<li><p>Failed to instantiate SLF4J LoggerFactory\nReported exception:\njava.lang.NoClassDefFoundError: org/apache/log4j/Level</p></li>\n<li><p>Could not initialize class com.hp.hpl.jena.rdf.model.impl.ModelCom\nat org.slf4j.LoggerFactory.bind(LoggerFactory.java:128)</p></li>\n</ol>\n\n<p>I have included <code>slf4j-api</code> and <code>slf4j-log</code> both libraries.</p>\n"},{"tags":["java","neo4j"],"owner":{"account_id":26878752,"reputation":1,"user_id":20459565,"display_name":"Benny_157"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668002842,"creation_date":1668002842,"question_id":74376194,"body_markdown":"I&#180;m devolopping a Java application with neo4j embedded. I don&#180;t know why but it is not possible to build a Database. When I call the the build()-Method in the DatabaseManagementServiceBuilder class I get the following warnings and exeption:\r\n\r\n\r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access using Lookup on org.neo4j.internal.unsafe.UnsafeUtil (file:/C:/Users/Benny_Uni/eclipse-workspace/BSc_cocitation_coauthor_graph_B_Birner_9719989/libs/neo4j-community-4.4.13-windows/neo4j-community-4.4.13/lib/neo4j-unsafe-4.4.13.jar) to class java.nio.Buffer\r\nWARNING: Please consider reporting this to the maintainers of org.neo4j.internal.unsafe.UnsafeUtil\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: scala.Product.$init$(Lscala/Product;)V\r\n\tat org.neo4j.cypher.internal.options.CypherVersion$.&lt;init&gt;(CypherQueryOptions.scala:131)\r\n\tat org.neo4j.cypher.internal.options.CypherVersion$.&lt;clinit&gt;(CypherQueryOptions.scala)\r\n\tat org.neo4j.cypher.internal.config.CypherConfiguration.&lt;init&gt;(CypherConfiguration.scala:60)\r\n\tat org.neo4j.cypher.internal.config.CypherConfiguration$.fromConfig(CypherConfiguration.scala:40)\r\n\tat org.neo4j.cypher.internal.config.CypherConfiguration.fromConfig(CypherConfiguration.scala)\r\n\tat org.neo4j.fabric.bootstrap.FabricServicesBootstrap.bootstrapServices(FabricServicesBootstrap.java:144)\r\n\tat org.neo4j.graphdb.factory.module.edition.CommunityEditionModule.bootstrapFabricServices(CommunityEditionModule.java:401)\r\n\tat org.neo4j.graphdb.facade.DatabaseManagementServiceFactory.build(DatabaseManagementServiceFactory.java:148)\r\n\tat org.neo4j.dbms.api.DatabaseManagementServiceBuilder.newDatabaseManagementService(DatabaseManagementServiceBuilder.java:101)\r\n\tat org.neo4j.dbms.api.DatabaseManagementServiceBuilder.build(DatabaseManagementServiceBuilder.java:94)\r\n\tat HeaderEx.getHeader(HeaderEx.java:37)\r\n\tat PdfParser.main(PdfParser.java:46)\r\n\r\n```\r\n\r\n\r\n\r\n\r\nBy this code:\r\n\r\n\r\n\r\n```\r\nString db_path = System.getProperty(&quot;user.dir&quot;) + File.separator + &quot;author_database&quot;;\r\n  \t\t    File database = new File(db_path);\r\n  \t\t    Path paths =  Paths.get(db_path);\r\n\r\n\t    \tmanagementService = new DatabaseManagementServiceBuilder(paths).build();\r\n\t    \tgraphDb = managementService.database( &quot;DEFAULT_DATABASE_NAME&quot; );\r\n```\r\n\r\n\r\nI don&#180;t know, what the problem is. It would be very nice if someone can help me.\r\n\r\nI tried to clean the project. I changed the neo4j version. I checkt the configurations rgarding the JDK and JVM. I&#180;m using JDK 11. However, nothing works. ","title":"NoSuchMethodError in neo4j when calling the DatabaseManagementServiceBuilder( path ).build() method","body":"<p>I´m devolopping a Java application with neo4j embedded. I don´t know why but it is not possible to build a Database. When I call the the build()-Method in the DatabaseManagementServiceBuilder class I get the following warnings and exeption:</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access using Lookup on org.neo4j.internal.unsafe.UnsafeUtil (file:/C:/Users/Benny_Uni/eclipse-workspace/BSc_cocitation_coauthor_graph_B_Birner_9719989/libs/neo4j-community-4.4.13-windows/neo4j-community-4.4.13/lib/neo4j-unsafe-4.4.13.jar) to class java.nio.Buffer\nWARNING: Please consider reporting this to the maintainers of org.neo4j.internal.unsafe.UnsafeUtil\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: scala.Product.$init$(Lscala/Product;)V\n    at org.neo4j.cypher.internal.options.CypherVersion$.&lt;init&gt;(CypherQueryOptions.scala:131)\n    at org.neo4j.cypher.internal.options.CypherVersion$.&lt;clinit&gt;(CypherQueryOptions.scala)\n    at org.neo4j.cypher.internal.config.CypherConfiguration.&lt;init&gt;(CypherConfiguration.scala:60)\n    at org.neo4j.cypher.internal.config.CypherConfiguration$.fromConfig(CypherConfiguration.scala:40)\n    at org.neo4j.cypher.internal.config.CypherConfiguration.fromConfig(CypherConfiguration.scala)\n    at org.neo4j.fabric.bootstrap.FabricServicesBootstrap.bootstrapServices(FabricServicesBootstrap.java:144)\n    at org.neo4j.graphdb.factory.module.edition.CommunityEditionModule.bootstrapFabricServices(CommunityEditionModule.java:401)\n    at org.neo4j.graphdb.facade.DatabaseManagementServiceFactory.build(DatabaseManagementServiceFactory.java:148)\n    at org.neo4j.dbms.api.DatabaseManagementServiceBuilder.newDatabaseManagementService(DatabaseManagementServiceBuilder.java:101)\n    at org.neo4j.dbms.api.DatabaseManagementServiceBuilder.build(DatabaseManagementServiceBuilder.java:94)\n    at HeaderEx.getHeader(HeaderEx.java:37)\n    at PdfParser.main(PdfParser.java:46)\n\n</code></pre>\n<p>By this code:</p>\n<pre><code>String db_path = System.getProperty(&quot;user.dir&quot;) + File.separator + &quot;author_database&quot;;\n            File database = new File(db_path);\n            Path paths =  Paths.get(db_path);\n\n            managementService = new DatabaseManagementServiceBuilder(paths).build();\n            graphDb = managementService.database( &quot;DEFAULT_DATABASE_NAME&quot; );\n</code></pre>\n<p>I don´t know, what the problem is. It would be very nice if someone can help me.</p>\n<p>I tried to clean the project. I changed the neo4j version. I checkt the configurations rgarding the JDK and JVM. I´m using JDK 11. However, nothing works.</p>\n"},{"tags":["java","arrays","sorting"],"answers":[{"tags":[],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667546144,"creation_date":1667545732,"answer_id":74313338,"question_id":74313246,"body_markdown":"Simple mistake: Remove the `;` after the if-statement. \r\n\r\nThe semicolon after if means there is nothing to do if the if case is true.\r\n\r\nThe part in the curly brackets to swap the elements will then always be executed. That is because you can add curly brackets at any point in your code to structure it. It&#39;s not effected by the if because that statement was already ended by the semicolon. \r\n\r\nTo further explain it, you can write a perfectly fine if without any curly brackets. That means only the first following row is supposed to be included in the if statement:\r\n\r\n    if (condition)\r\n        do()\r\n    doA()\r\n\r\nIn this code do is only executed if the condition is true, doAlways() on the other hand is always executed.\r\n\r\nNow if you change it like this:\r\n\r\n    if (condition)\r\n        do()\r\n    {\r\n        doAlways()\r\n    {\r\n\r\nit still does exactly the same. The curly brackets don&#39;t change anything because the do not directly follow the if statement. So only the first row after is included and get&#39;s conditionally executed. doAlways() always get&#39;s executed again.\r\n\r\nNow to change it like you had:\r\n\r\n    if (condition)\r\n        ; &lt;-- this is an empty statement\r\n    {\r\n        doAlways()\r\n    {\r\n\r\nagain only the first row after the if is affected by it. This time it&#39;s an empty statement. So basically the condition decides if you should do nothing or execute the empty statement and .. do nothing. doAlways() still get&#39;s executed regardless of the condition.","title":"I wanted to sort the elements in my array but this doesn&#39;t work it always prints the same array in the same order?","body":"<p>Simple mistake: Remove the <code>;</code> after the if-statement.</p>\n<p>The semicolon after if means there is nothing to do if the if case is true.</p>\n<p>The part in the curly brackets to swap the elements will then always be executed. That is because you can add curly brackets at any point in your code to structure it. It's not effected by the if because that statement was already ended by the semicolon.</p>\n<p>To further explain it, you can write a perfectly fine if without any curly brackets. That means only the first following row is supposed to be included in the if statement:</p>\n<pre><code>if (condition)\n    do()\ndoA()\n</code></pre>\n<p>In this code do is only executed if the condition is true, doAlways() on the other hand is always executed.</p>\n<p>Now if you change it like this:</p>\n<pre><code>if (condition)\n    do()\n{\n    doAlways()\n{\n</code></pre>\n<p>it still does exactly the same. The curly brackets don't change anything because the do not directly follow the if statement. So only the first row after is included and get's conditionally executed. doAlways() always get's executed again.</p>\n<p>Now to change it like you had:</p>\n<pre><code>if (condition)\n    ; &lt;-- this is an empty statement\n{\n    doAlways()\n{\n</code></pre>\n<p>again only the first row after the if is affected by it. This time it's an empty statement. So basically the condition decides if you should do nothing or execute the empty statement and .. do nothing. doAlways() still get's executed regardless of the condition.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667876126,"post_id":74313633,"comment_id":131266983,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74313633/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20470885,"reputation":15,"user_id":15021356,"display_name":"mohamed"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668002485,"creation_date":1667547634,"answer_id":74313633,"question_id":74313246,"body_markdown":"the outer loop must stop in the element that comes before the last one in the array  (length-1) so that the algorithme compares it with the last element (j=i+1), then you should put `(int i=0; i &lt; nameArray.length-1; i++) `  instead of `(int i=0; i &lt; nameArray.length; i++)`","title":"I wanted to sort the elements in my array but this doesn&#39;t work it always prints the same array in the same order?","body":"<p>the outer loop must stop in the element that comes before the last one in the array  (length-1) so that the algorithme compares it with the last element (j=i+1), then you should put <code>(int i=0; i &lt; nameArray.length-1; i++) </code>  instead of <code>(int i=0; i &lt; nameArray.length; i++)</code></p>\n"}],"owner":{"account_id":26826264,"reputation":1,"user_id":20414861,"display_name":"Newbie Coder "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1668002485,"creation_date":1667545162,"question_id":74313246,"body_markdown":"I tried changing the i and j variables but it doesn&#39;t seem to work.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n   \r\n    double[] nameArray = {20.0,30.2,25.2,75.23,20.0,2.0,25.22};\r\n    double tempElement;\r\n    \r\n    for (int i=0; i &lt; nameArray.length; i++)    \r\n    {\r\n        // This inner loop selects and compares each remaining values to the selected element by the outer for loop.\r\n        for (int j=i+1; j &lt; nameArray.length; j++)\r\n        {\r\n            // This if loop compares the elements.\r\n            if (nameArray[i] &gt; nameArray[j]);\r\n            {\r\n                // This if loop will only run if the next array element is smaller than\r\n                // the previous array element being compared.\r\n                \r\n                // This tempElement is used for proper assigning of the variables.\r\n                tempElement = nameArray[i];\r\n                nameArray[i] = nameArray[j];\r\n                nameArray[j] = tempElement;    \r\n            }\r\n   \r\n        }\r\n    }\r\n    \r\n    // This for loop assigns the sorted elements in the descending order to the other array.\r\n    for (int i = 0; i&lt;nameArray.length; i++)\r\n    {\r\n       \r\n        System.out.println(nameArray[i]);\r\n            \r\n    }\r\n}\r\n```","title":"I wanted to sort the elements in my array but this doesn&#39;t work it always prints the same array in the same order?","body":"<p>I tried changing the i and j variables but it doesn't seem to work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n   \n    double[] nameArray = {20.0,30.2,25.2,75.23,20.0,2.0,25.22};\n    double tempElement;\n    \n    for (int i=0; i &lt; nameArray.length; i++)    \n    {\n        // This inner loop selects and compares each remaining values to the selected element by the outer for loop.\n        for (int j=i+1; j &lt; nameArray.length; j++)\n        {\n            // This if loop compares the elements.\n            if (nameArray[i] &gt; nameArray[j]);\n            {\n                // This if loop will only run if the next array element is smaller than\n                // the previous array element being compared.\n                \n                // This tempElement is used for proper assigning of the variables.\n                tempElement = nameArray[i];\n                nameArray[i] = nameArray[j];\n                nameArray[j] = tempElement;    \n            }\n   \n        }\n    }\n    \n    // This for loop assigns the sorted elements in the descending order to the other array.\n    for (int i = 0; i&lt;nameArray.length; i++)\n    {\n       \n        System.out.println(nameArray[i]);\n            \n    }\n}\n</code></pre>\n"},{"tags":["java","spring-jdbc"],"answers":[{"tags":[],"owner":{"account_id":4189620,"reputation":1266,"user_id":3432525,"accept_rate":75,"display_name":"kwisatz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668002469,"creation_date":1667983522,"answer_id":74372051,"question_id":73932643,"body_markdown":"The solution was to turn the BeanPropertySqlParameterSource into a MapSqlParameterSource to be able to add new param\r\n\r\n```java\r\n      Request  request = getRequest();\r\n      BeanPropertySqlParameterSource beanParams = new BeanPropertySqlParameterSource(request);\r\n      MapSqlParameterSource params = new MapSqlParameterSource();\r\n      for (String paramName : beanParams.getReadablePropertyNames()) {\r\n        Object value = beanParams.getValue(paramName);\r\n        params.addValue(paramName, value);\r\n      }\r\n      StringBuilder query = new StringBuilder();\r\n      query.append(&quot;SELECT * FROM TABLE&quot;);\r\n      List&lt;String&gt; clauses = new ArrayList&lt;&gt;();\r\n      List&lt;Entity&gt; entities = request.getEntities();\r\n      if (CollectionUtils.isNotEmpty(entities)) {\r\n        List&lt;String&gt; entityClauses = new ArrayList&lt;&gt;();\r\n        Map&lt;String, List&lt;Entity&gt;&gt; entityByType = entities.stream().collect(Collectors.groupingBy(Entity::getType));\r\n        for(Map.Entry&lt;String, List&lt;Entity&gt;&gt; entry: entityByType.entrySet()) {\r\n          String type = entry.getKey();\r\n          List&lt;String&gt; ids = entry.getValue();\r\n          String paramNameType = &quot;Entity&quot; + type + &quot;_type&quot;;\r\n          String paramNameIds = &quot;Entity&quot; + type + &quot;_ids&quot;;\r\n          entityClauses.add(&quot;(ENTITY_TYPE = :&quot; + paramNameType + &quot; AND ENTITY_ID IN (:&quot; + paramNameIds + &quot;))&quot;);\r\n          params.addValue(paramNameType, type);\r\n          params.addValue(paramNameIds, ids);    \r\n        }\r\n        clauses.add(entityClauses.stream().collect(Collectors.joining(&quot; OR &quot;, &quot;(&quot;, &quot;)&quot;)));\r\n      }\r\n      // Others clauses...\r\n      if (!clauses.isEmpty()) {\r\n        query.append(clauses.stream().collect(Collectors.joining(&quot; AND &quot;, &quot; WHERE &quot;, &quot;&quot;)));\r\n      }\r\n      return getNamedParameterJdbcTemplate().query(query.toString(), params, getRowMapper());\r\n```","title":"Accessing map values in a NamedParameterJdbcTemplate","body":"<p>The solution was to turn the BeanPropertySqlParameterSource into a MapSqlParameterSource to be able to add new param</p>\n<pre class=\"lang-java prettyprint-override\"><code>      Request  request = getRequest();\n      BeanPropertySqlParameterSource beanParams = new BeanPropertySqlParameterSource(request);\n      MapSqlParameterSource params = new MapSqlParameterSource();\n      for (String paramName : beanParams.getReadablePropertyNames()) {\n        Object value = beanParams.getValue(paramName);\n        params.addValue(paramName, value);\n      }\n      StringBuilder query = new StringBuilder();\n      query.append(&quot;SELECT * FROM TABLE&quot;);\n      List&lt;String&gt; clauses = new ArrayList&lt;&gt;();\n      List&lt;Entity&gt; entities = request.getEntities();\n      if (CollectionUtils.isNotEmpty(entities)) {\n        List&lt;String&gt; entityClauses = new ArrayList&lt;&gt;();\n        Map&lt;String, List&lt;Entity&gt;&gt; entityByType = entities.stream().collect(Collectors.groupingBy(Entity::getType));\n        for(Map.Entry&lt;String, List&lt;Entity&gt;&gt; entry: entityByType.entrySet()) {\n          String type = entry.getKey();\n          List&lt;String&gt; ids = entry.getValue();\n          String paramNameType = &quot;Entity&quot; + type + &quot;_type&quot;;\n          String paramNameIds = &quot;Entity&quot; + type + &quot;_ids&quot;;\n          entityClauses.add(&quot;(ENTITY_TYPE = :&quot; + paramNameType + &quot; AND ENTITY_ID IN (:&quot; + paramNameIds + &quot;))&quot;);\n          params.addValue(paramNameType, type);\n          params.addValue(paramNameIds, ids);    \n        }\n        clauses.add(entityClauses.stream().collect(Collectors.joining(&quot; OR &quot;, &quot;(&quot;, &quot;)&quot;)));\n      }\n      // Others clauses...\n      if (!clauses.isEmpty()) {\n        query.append(clauses.stream().collect(Collectors.joining(&quot; AND &quot;, &quot; WHERE &quot;, &quot;&quot;)));\n      }\n      return getNamedParameterJdbcTemplate().query(query.toString(), params, getRowMapper());\n</code></pre>\n"}],"owner":{"account_id":4189620,"reputation":1266,"user_id":3432525,"accept_rate":75,"display_name":"kwisatz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74372051,"answer_count":1,"score":0,"last_activity_date":1668002469,"creation_date":1664784434,"question_id":73932643,"body_markdown":"I have a table with an *entity_type* and *entity_id* *VARCHAR* columns.\r\nI want to get all rows that match a list of *entity_type* and *entity_id*. I successfully manage to do that: \r\n\r\n```sql\r\nWHERE (entity_type = &#39;type1&#39; AND entity_id = &#39;id1&#39;) OR (entity_type = &#39;type1&#39; AND entity_id = &#39;id2&#39;) OR (entity_type = &#39;type2&#39; AND entity_id = &#39;id3&#39;)\r\n```\r\n\r\nWith this solution:\r\n\r\n```java\r\npublic class Entity {\r\n  private String type;\r\n  private String id;\r\n  // Getters setters\r\n}\r\n\r\npublic class Request {\r\n  private List&lt;Entity&gt; entities = new ArrayList&lt;&gt;();\r\n  // Other ctriteria\r\n  // getters setters\r\n}\r\n\r\n  Request  request = getRequest();\r\n  SqlParameterSource params = new BeanPropertySqlParameterSource(request);\r\n  StringBuilder query = new StringBuilder();\r\n  query.append(&quot;SELECT * FROM TABLE&quot;);\r\n  List&lt;String&gt; clauses = new ArrayList&lt;&gt;();\r\n  List&lt;Entity&gt; entities = request.getEntities();\r\n  if (CollectionUtils.isNotEmpty(entities)) {\r\n    List&lt;String&gt; entityClauses = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; entities.size(); i++) {\r\n      String entity = String.format(&quot;:entities[%s]&quot;, i);\r\n      entityClauses.add(&quot;(ENTITY_ID = &quot; + entity + &quot;.identifier AND ENTITY_TYPE = &quot; + entity + &quot;.type)&quot;);\r\n    }\r\n    clauses.add(entityClauses.stream().collect(Collectors.joining(&quot; OR &quot;, &quot;(&quot;, &quot;)&quot;)));\r\n  }\r\n  // Others clauses...\r\n  if (!clauses.isEmpty()) {\r\n    query.append(clauses.stream().collect(Collectors.joining(&quot; AND &quot;, &quot; WHERE &quot;, &quot;&quot;)));\r\n  }\r\n  return getNamedParameterJdbcTemplate().query(query.toString(), params, getRowMapper());\r\n```\r\n\r\nI would like to group by types like that:\r\n```sql\r\nWHERE  (entity_type = &#39;type1&#39; AND entity_id  IN(&#39;id1&#39;, &#39;id2&#39;)) OR (entity_type = &#39;type2&#39; AND entity_id IN(&#39;id3&#39;))\r\n```\r\nWith a `Map&lt;String, Set&lt;String&gt;&gt;` instead of a `List&lt;Entity&gt;`\r\n\r\n```java\r\npublic class Request {\r\n  private Map&lt;String,Set&lt;String&gt;&gt; entities = new HashMap&lt;&gt;();\r\n  // Other ctriteria\r\n  // getters setters\r\n}\r\n``` \r\n\r\nHowever, then I don&#39;t know how to access the map values in the request.\r\n\r\nHow do I write the Spring JDBC request to achieve that? Is it even possible?","title":"Accessing map values in a NamedParameterJdbcTemplate","body":"<p>I have a table with an <em>entity_type</em> and <em>entity_id</em> <em>VARCHAR</em> columns.\nI want to get all rows that match a list of <em>entity_type</em> and <em>entity_id</em>. I successfully manage to do that:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>WHERE (entity_type = 'type1' AND entity_id = 'id1') OR (entity_type = 'type1' AND entity_id = 'id2') OR (entity_type = 'type2' AND entity_id = 'id3')\n</code></pre>\n<p>With this solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Entity {\n  private String type;\n  private String id;\n  // Getters setters\n}\n\npublic class Request {\n  private List&lt;Entity&gt; entities = new ArrayList&lt;&gt;();\n  // Other ctriteria\n  // getters setters\n}\n\n  Request  request = getRequest();\n  SqlParameterSource params = new BeanPropertySqlParameterSource(request);\n  StringBuilder query = new StringBuilder();\n  query.append(&quot;SELECT * FROM TABLE&quot;);\n  List&lt;String&gt; clauses = new ArrayList&lt;&gt;();\n  List&lt;Entity&gt; entities = request.getEntities();\n  if (CollectionUtils.isNotEmpty(entities)) {\n    List&lt;String&gt; entityClauses = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; entities.size(); i++) {\n      String entity = String.format(&quot;:entities[%s]&quot;, i);\n      entityClauses.add(&quot;(ENTITY_ID = &quot; + entity + &quot;.identifier AND ENTITY_TYPE = &quot; + entity + &quot;.type)&quot;);\n    }\n    clauses.add(entityClauses.stream().collect(Collectors.joining(&quot; OR &quot;, &quot;(&quot;, &quot;)&quot;)));\n  }\n  // Others clauses...\n  if (!clauses.isEmpty()) {\n    query.append(clauses.stream().collect(Collectors.joining(&quot; AND &quot;, &quot; WHERE &quot;, &quot;&quot;)));\n  }\n  return getNamedParameterJdbcTemplate().query(query.toString(), params, getRowMapper());\n</code></pre>\n<p>I would like to group by types like that:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>WHERE  (entity_type = 'type1' AND entity_id  IN('id1', 'id2')) OR (entity_type = 'type2' AND entity_id IN('id3'))\n</code></pre>\n<p>With a <code>Map&lt;String, Set&lt;String&gt;&gt;</code> instead of a <code>List&lt;Entity&gt;</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Request {\n  private Map&lt;String,Set&lt;String&gt;&gt; entities = new HashMap&lt;&gt;();\n  // Other ctriteria\n  // getters setters\n}\n</code></pre>\n<p>However, then I don't know how to access the map values in the request.</p>\n<p>How do I write the Spring JDBC request to achieve that? Is it even possible?</p>\n"},{"tags":["javascript","java","cryptography","sha","webcrypto"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668002391,"creation_date":1668000702,"answer_id":74375674,"question_id":74368718,"body_markdown":"The JavaScript code you posted needs to be modified as follows to derive the same hexadecimal encoded key as the Java code:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function deriveAKey(password, salt, iterations, hash) {\r\n        // Import password\r\n        window.crypto.subtle.importKey(\r\n            &quot;raw&quot;,\r\n            new TextEncoder().encode(password),\r\n            {name: &quot;PBKDF2&quot;},\r\n            false,\r\n            [&quot;deriveKey&quot;])\r\n        .then(function(baseKey){\r\n            // Derive key from password\r\n            window.crypto.subtle.deriveKey(\r\n                {name: &quot;PBKDF2&quot;, salt: hex2ab(salt), iterations: iterations, hash: hash},\r\n                baseKey,\r\n                {name:&quot;HMAC&quot;, hash: hash, length: 256}, \r\n                true,                               \r\n                [&quot;sign&quot;, &quot;verify&quot;])\r\n            .then(function(aesKey) {\r\n                // Export key\r\n                window.crypto.subtle.exportKey(&quot;raw&quot;, aesKey)\r\n                .then(function(keyBytes) {\r\n                    // Display key \r\n                    console.log(ab2hex(keyBytes).toUpperCase());\r\n                });\r\n            }).catch(function(err) {\r\n                alert(&quot;Key export failed: &quot; + err.message);\r\n            });   \r\n        }).catch(function(err) {\r\n            alert(&quot;Key derivation failed: &quot; + err.message);\r\n        });\r\n    }\r\n\r\n    const hex2ab = hex =&gt; new Uint8Array(hex.match(/[\\da-f]{2}/gi).map((x) =&gt; parseInt(x, 16)));    \r\n    const ab2hex = ab =&gt; Array.prototype.map.call(new Uint8Array(ab), x =&gt; (&#39;00&#39; + x.toString(16)).slice(-2)).join(&#39;&#39;);\r\n\r\n    deriveAKey(&quot;my passphrase&quot;, &quot;01020304abacadae&quot;, 10000, &quot;SHA-1&quot;);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n----------\r\n\r\nTest:  \r\nIf the passphrase `my passphrase` and the hex encoded salt `01020304abacadae` from the JavaScript code are used in the Java code,  `85CE92FBA21475DF45CB742576A3356A9E2B0011AC084611814E4E282880245E` is derived as hex encoded key and the Java code returns `true` for: \r\n\r\n```java\r\nnew SecurityPasswordEncoder().matches(&quot;my passphrase&quot;, &quot;85CE92FBA21475DF45CB742576A3356A9E2B0011AC084611814E4E282880245E&quot;, &quot;01020304abacadae&quot;)\r\n```\r\n\r\n---------\r\n\r\nNote: If no `CryptoKey` instance is needed, but only the binary data, then `deriveBits()` is more efficient than `deriveKey()`.","title":"Convert Java code to Frontend Javascript code","body":"<p>The JavaScript code you posted needs to be modified as follows to derive the same hexadecimal encoded key as the Java code:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function deriveAKey(password, salt, iterations, hash) {\n    // Import password\n    window.crypto.subtle.importKey(\n        \"raw\",\n        new TextEncoder().encode(password),\n        {name: \"PBKDF2\"},\n        false,\n        [\"deriveKey\"])\n    .then(function(baseKey){\n        // Derive key from password\n        window.crypto.subtle.deriveKey(\n            {name: \"PBKDF2\", salt: hex2ab(salt), iterations: iterations, hash: hash},\n            baseKey,\n            {name:\"HMAC\", hash: hash, length: 256}, \n            true,                               \n            [\"sign\", \"verify\"])\n        .then(function(aesKey) {\n            // Export key\n            window.crypto.subtle.exportKey(\"raw\", aesKey)\n            .then(function(keyBytes) {\n                // Display key \n                console.log(ab2hex(keyBytes).toUpperCase());\n            });\n        }).catch(function(err) {\n            alert(\"Key export failed: \" + err.message);\n        });   \n    }).catch(function(err) {\n        alert(\"Key derivation failed: \" + err.message);\n    });\n}\n\nconst hex2ab = hex =&gt; new Uint8Array(hex.match(/[\\da-f]{2}/gi).map((x) =&gt; parseInt(x, 16)));    \nconst ab2hex = ab =&gt; Array.prototype.map.call(new Uint8Array(ab), x =&gt; ('00' + x.toString(16)).slice(-2)).join('');\n\nderiveAKey(\"my passphrase\", \"01020304abacadae\", 10000, \"SHA-1\");</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<hr />\n<p>Test:<br />\nIf the passphrase <code>my passphrase</code> and the hex encoded salt <code>01020304abacadae</code> from the JavaScript code are used in the Java code,  <code>85CE92FBA21475DF45CB742576A3356A9E2B0011AC084611814E4E282880245E</code> is derived as hex encoded key and the Java code returns <code>true</code> for:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new SecurityPasswordEncoder().matches(&quot;my passphrase&quot;, &quot;85CE92FBA21475DF45CB742576A3356A9E2B0011AC084611814E4E282880245E&quot;, &quot;01020304abacadae&quot;)\n</code></pre>\n<hr />\n<p>Note: If no <code>CryptoKey</code> instance is needed, but only the binary data, then <code>deriveBits()</code> is more efficient than <code>deriveKey()</code>.</p>\n"}],"owner":{"account_id":3689554,"reputation":1642,"user_id":3072490,"accept_rate":100,"display_name":"Chan Yoong Hon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668004022,"accepted_answer_id":74375674,"answer_count":1,"score":0,"last_activity_date":1668002391,"creation_date":1667954364,"question_id":74368718,"body_markdown":"I&#39;m having following java code, but I need to convert into javascript using   `window.crypto.subtle.importKey` But the outcome is seems like different for Java outcome and Javascript outcome. \r\n\r\nThe following is my Java code\r\n\r\n    import java.security.Key;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    \r\n    import javax.crypto.SecretKeyFactory;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    import javax.enterprise.inject.Default;\r\n    \r\n    @Default\r\n    public class SecurityPasswordEncoder  {\r\n    \r\n    \tprivate SecretKeyFactory factory;\r\n    \r\n    \tpublic SecurityPasswordEncoder() throws NoSuchAlgorithmException {\r\n    \t\tthis.factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\r\n    \t}\r\n    \r\n    \tpublic String encode(CharSequence rawPassword) {\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \r\n    \tpublic boolean matches(CharSequence rawPassword, String encodedPassword) {\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tpublic boolean matches(String rawPassword, String encodedPassword, String salt) throws InvalidKeySpecException {\r\n    \t\tbyte[] osalt = hexStringToByteArray(salt);\r\n    \t\tbyte[] oValidate = new byte[32];\r\n    \t\tString sValidate;\r\n    \r\n    \t\tPBEKeySpec pbeKeySpec = new PBEKeySpec(rawPassword.toCharArray(), osalt, 10000, 384);\r\n    \t\tKey secretKey = this.factory.generateSecret(pbeKeySpec);\r\n    \t\tSystem.arraycopy(secretKey.getEncoded(), 0, oValidate, 0, 32);\r\n    \t\tsValidate = byteArrayToHexString(oValidate);\r\n    \t\treturn (sValidate.equals(encodedPassword));\r\n    \t}\r\n    \r\n    \tprivate byte[] hexStringToByteArray(String s) {\r\n    \r\n    \t\tbyte[] b = new byte[s.length() / 2];\r\n    \t\tfor (int i = 0; i &lt; b.length; i++) {\r\n    \t\t\tint index = i * 2;\r\n    \t\t\tint v = Integer.parseInt(s.substring(index, index + 2), 16);\r\n    \t\t\tb[i] = (byte) v;\r\n    \t\t}\r\n    \t\treturn b;\r\n    \t}\r\n    \r\n    \tprivate String byteArrayToHexString(byte[] bytes) {\r\n    \t\tchar[] hexChars = new char[bytes.length * 2];\r\n    \t\tfor (int j = 0; j &lt; bytes.length; j++) {\r\n    \t\t\tint v = bytes[j] &amp; 0xFF;\r\n    \t\t\thexChars[j * 2] = hexArray[v &gt;&gt;&gt; 4];\r\n    \t\t\thexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];\r\n    \t\t}\r\n    \t\treturn new String(hexChars);\r\n    \t}\r\n    \r\n    \tprivate char[] hexArray = &quot;0123456789ABCDEF&quot;.toCharArray();\r\n    }\r\n\r\nThe following is my javascript code. \r\n\r\n\r\n    function deriveAKey(password, salt, iterations, hash) {\r\n        // First, create a PBKDF2 &quot;key&quot; containing the password\r\n        window.crypto.subtle.importKey(\r\n            &quot;raw&quot;,\r\n            stringToArrayBuffer(password),\r\n            {&quot;name&quot;: &quot;PBKDF2&quot;},\r\n            false,\r\n            [&quot;deriveKey&quot;]).\r\n        then(function(baseKey){\r\n            // Derive a key from the password\r\n            return window.crypto.subtle.deriveKey(\r\n                {\r\n                    &quot;name&quot;: &quot;PBKDF2&quot;,\r\n                    &quot;salt&quot;: stringToArrayBuffer(salt),\r\n                    &quot;iterations&quot;: iterations,\r\n                    &quot;hash&quot;: hash\r\n                },\r\n                baseKey,\r\n                 {name:&quot;HMAC&quot;,&quot;hash&quot;:&quot;SHA-1&quot;}, // Key we want.Can be any AES algorithm (&quot;AES-CTR&quot;, &quot;AES-CBC&quot;, &quot;AES-CMAC&quot;, &quot;AES-GCM&quot;, &quot;AES-CFB&quot;, &quot;AES-KW&quot;, &quot;ECDH&quot;, &quot;DH&quot;, or &quot;HMAC&quot;)\r\n                true,                               // Extractable\r\n                [&quot;sign&quot;, &quot;verify&quot;]              // For new key\r\n                );\r\n        }).then(function(aesKey) {\r\n            // Export it so we can display it\r\n            return window.crypto.subtle.exportKey(&quot;raw&quot;, aesKey);\r\n        }).then(function(keyBytes) {\r\n            // Display key in Base64 format\r\n            var keyS = arrayBufferToString(keyBytes);\r\n            var keyB64 = btoa (keyS);\r\n            console.log(keyB64);\r\n        }).catch(function(err) {\r\n            alert(&quot;Key derivation failed: &quot; + err.message);\r\n        });\r\n    }\r\n    \r\n    //Utility functions\r\n    \r\n    function stringToArrayBuffer(byteString){\r\n        var byteArray = new Uint8Array(byteString.length/2);\r\n        for (let i = 0; i &lt; byteArray.length; i++) {\r\n    \t\tconst index = i * 2;\r\n    \t\tbyteArray[i]  = parseInt(byteString.substring(index, index + 2), 16);\r\n    \t}\r\n        return byteArray;\r\n    }\r\n    \r\n    function  arrayBufferToString(buffer){\r\n        var byteArray = new Uint8Array(buffer.length * 2);\r\n        var byteString = &#39;&#39;;\r\n        var hexArray = &quot;0123456789ABCDEF&quot;.split(&quot;&quot;);\r\n        for (let j = 0; j &lt; buffer.length; j++) {\r\n    \t\tlet v = bytes[j] &amp; 0xFF;\r\n    \t\tbyteString[j * 2] = hexArray[v &gt;&gt;&gt; 4];\r\n    \t\tbyteString[j * 2 + 1] = hexArray[v &amp; 0x0F];\r\n    \t}\r\n        return String.fromCodePoint(byteString);\r\n    }","title":"Convert Java code to Frontend Javascript code","body":"<p>I'm having following java code, but I need to convert into javascript using   <code>window.crypto.subtle.importKey</code> But the outcome is seems like different for Java outcome and Javascript outcome.</p>\n<p>The following is my Java code</p>\n<pre><code>import java.security.Key;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.spec.InvalidKeySpecException;\n\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.enterprise.inject.Default;\n\n@Default\npublic class SecurityPasswordEncoder  {\n\n    private SecretKeyFactory factory;\n\n    public SecurityPasswordEncoder() throws NoSuchAlgorithmException {\n        this.factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA1&quot;);\n    }\n\n    public String encode(CharSequence rawPassword) {\n        return null;\n    }\n\n\n    public boolean matches(CharSequence rawPassword, String encodedPassword) {\n        return false;\n    }\n\n    public boolean matches(String rawPassword, String encodedPassword, String salt) throws InvalidKeySpecException {\n        byte[] osalt = hexStringToByteArray(salt);\n        byte[] oValidate = new byte[32];\n        String sValidate;\n\n        PBEKeySpec pbeKeySpec = new PBEKeySpec(rawPassword.toCharArray(), osalt, 10000, 384);\n        Key secretKey = this.factory.generateSecret(pbeKeySpec);\n        System.arraycopy(secretKey.getEncoded(), 0, oValidate, 0, 32);\n        sValidate = byteArrayToHexString(oValidate);\n        return (sValidate.equals(encodedPassword));\n    }\n\n    private byte[] hexStringToByteArray(String s) {\n\n        byte[] b = new byte[s.length() / 2];\n        for (int i = 0; i &lt; b.length; i++) {\n            int index = i * 2;\n            int v = Integer.parseInt(s.substring(index, index + 2), 16);\n            b[i] = (byte) v;\n        }\n        return b;\n    }\n\n    private String byteArrayToHexString(byte[] bytes) {\n        char[] hexChars = new char[bytes.length * 2];\n        for (int j = 0; j &lt; bytes.length; j++) {\n            int v = bytes[j] &amp; 0xFF;\n            hexChars[j * 2] = hexArray[v &gt;&gt;&gt; 4];\n            hexChars[j * 2 + 1] = hexArray[v &amp; 0x0F];\n        }\n        return new String(hexChars);\n    }\n\n    private char[] hexArray = &quot;0123456789ABCDEF&quot;.toCharArray();\n}\n</code></pre>\n<p>The following is my javascript code.</p>\n<pre><code>function deriveAKey(password, salt, iterations, hash) {\n    // First, create a PBKDF2 &quot;key&quot; containing the password\n    window.crypto.subtle.importKey(\n        &quot;raw&quot;,\n        stringToArrayBuffer(password),\n        {&quot;name&quot;: &quot;PBKDF2&quot;},\n        false,\n        [&quot;deriveKey&quot;]).\n    then(function(baseKey){\n        // Derive a key from the password\n        return window.crypto.subtle.deriveKey(\n            {\n                &quot;name&quot;: &quot;PBKDF2&quot;,\n                &quot;salt&quot;: stringToArrayBuffer(salt),\n                &quot;iterations&quot;: iterations,\n                &quot;hash&quot;: hash\n            },\n            baseKey,\n             {name:&quot;HMAC&quot;,&quot;hash&quot;:&quot;SHA-1&quot;}, // Key we want.Can be any AES algorithm (&quot;AES-CTR&quot;, &quot;AES-CBC&quot;, &quot;AES-CMAC&quot;, &quot;AES-GCM&quot;, &quot;AES-CFB&quot;, &quot;AES-KW&quot;, &quot;ECDH&quot;, &quot;DH&quot;, or &quot;HMAC&quot;)\n            true,                               // Extractable\n            [&quot;sign&quot;, &quot;verify&quot;]              // For new key\n            );\n    }).then(function(aesKey) {\n        // Export it so we can display it\n        return window.crypto.subtle.exportKey(&quot;raw&quot;, aesKey);\n    }).then(function(keyBytes) {\n        // Display key in Base64 format\n        var keyS = arrayBufferToString(keyBytes);\n        var keyB64 = btoa (keyS);\n        console.log(keyB64);\n    }).catch(function(err) {\n        alert(&quot;Key derivation failed: &quot; + err.message);\n    });\n}\n\n//Utility functions\n\nfunction stringToArrayBuffer(byteString){\n    var byteArray = new Uint8Array(byteString.length/2);\n    for (let i = 0; i &lt; byteArray.length; i++) {\n        const index = i * 2;\n        byteArray[i]  = parseInt(byteString.substring(index, index + 2), 16);\n    }\n    return byteArray;\n}\n\nfunction  arrayBufferToString(buffer){\n    var byteArray = new Uint8Array(buffer.length * 2);\n    var byteString = '';\n    var hexArray = &quot;0123456789ABCDEF&quot;.split(&quot;&quot;);\n    for (let j = 0; j &lt; buffer.length; j++) {\n        let v = bytes[j] &amp; 0xFF;\n        byteString[j * 2] = hexArray[v &gt;&gt;&gt; 4];\n        byteString[j * 2 + 1] = hexArray[v &amp; 0x0F];\n    }\n    return String.fromCodePoint(byteString);\n}\n</code></pre>\n"},{"tags":["java","node.js","angular","spring-boot","postman"],"answers":[{"tags":[],"owner":{"account_id":22734729,"reputation":26,"user_id":16897082,"display_name":"prxxkippfmg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668002291,"creation_date":1668002291,"answer_id":74376056,"question_id":74364625,"body_markdown":"If you want to use multipart/form-data, you need to change your input parameter from `@RequestBody ImageOpenLayer imageOpenLayer` to         `@RequestParam(value=&quot;file&quot;,required = false) MultipartFile file`\r\n \r\n\r\n","title":"Unsupported Media Type -- Spring boot","body":"<p>If you want to use multipart/form-data, you need to change your input parameter from <code>@RequestBody ImageOpenLayer imageOpenLayer</code> to         <code>@RequestParam(value=&quot;file&quot;,required = false) MultipartFile file</code></p>\n"}],"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668002291,"creation_date":1667927385,"question_id":74364625,"body_markdown":"I am created one service in spring boot to receive and send one image, but when i am trying to send the image with postman, i am receiving the next error\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2022-11-08T17:01:58.015+00:00&quot;,\r\n        &quot;status&quot;: 415,\r\n        &quot;error&quot;: &quot;Unsupported Media Type&quot;,\r\n        &quot;message&quot;: &quot;&quot;,\r\n        &quot;path&quot;: &quot;/reto/getImage&quot;\r\n    }\r\n\r\nThe spring code is \r\n\r\n    @ApiOperation(value = &quot;/getImage&quot;)\r\n    @RequestMapping(value = &quot;getImage&quot;, method = RequestMethod.POST, produces = MediaType.ALL_VALUE, consumes = MediaType.ALL_VALUE)\r\n    public ResponseEntity&lt;Resource&gt; getImage(@RequestBody ImageOpenLayer imageOpenLayer) throws IOException {\r\n        this.servicio.getImage(imageOpenLayer);\r\n        InputStream in = new BufferedInputStream(new FileInputStream(new File(&quot;MicrosoftTeams-image.png&quot;)));\r\n        InputStreamResource file = new InputStreamResource(in);\r\n        return ResponseEntity\r\n                .ok()\r\n                .contentType(MediaType.valueOf(&quot;image/png&quot;))\r\n                .body(file);\r\n    }\r\n\r\n\r\n\r\n    public class ImageOpenLayer {\r\n        private MultipartFile file;\r\n    \r\n        public MultipartFile getFile() {\r\n            return file;\r\n        }\r\n    \r\n        public void setFile(MultipartFile file) {\r\n            this.file = file;\r\n        }\r\n    }\r\n\r\nThe postman \r\n\r\n[![postman][1]][1]\r\n\r\n\r\nIf i change the body from MultipartFile  to toher variable, the service responds ok\r\n\r\n    public class ImageOpenLayer {\r\n        private String file;\r\n    \r\n        public String  getFile() {\r\n            return file;\r\n        }\r\n    \r\n        public void setFile(String file) {\r\n            this.file = file;\r\n        }\r\n    }\r\n\r\nIn postman\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HpSJS.png\r\n  [2]: https://i.stack.imgur.com/AjLFh.png","title":"Unsupported Media Type -- Spring boot","body":"<p>I am created one service in spring boot to receive and send one image, but when i am trying to send the image with postman, i am receiving the next error</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-11-08T17:01:58.015+00:00&quot;,\n    &quot;status&quot;: 415,\n    &quot;error&quot;: &quot;Unsupported Media Type&quot;,\n    &quot;message&quot;: &quot;&quot;,\n    &quot;path&quot;: &quot;/reto/getImage&quot;\n}\n</code></pre>\n<p>The spring code is</p>\n<pre><code>@ApiOperation(value = &quot;/getImage&quot;)\n@RequestMapping(value = &quot;getImage&quot;, method = RequestMethod.POST, produces = MediaType.ALL_VALUE, consumes = MediaType.ALL_VALUE)\npublic ResponseEntity&lt;Resource&gt; getImage(@RequestBody ImageOpenLayer imageOpenLayer) throws IOException {\n    this.servicio.getImage(imageOpenLayer);\n    InputStream in = new BufferedInputStream(new FileInputStream(new File(&quot;MicrosoftTeams-image.png&quot;)));\n    InputStreamResource file = new InputStreamResource(in);\n    return ResponseEntity\n            .ok()\n            .contentType(MediaType.valueOf(&quot;image/png&quot;))\n            .body(file);\n}\n\n\n\npublic class ImageOpenLayer {\n    private MultipartFile file;\n\n    public MultipartFile getFile() {\n        return file;\n    }\n\n    public void setFile(MultipartFile file) {\n        this.file = file;\n    }\n}\n</code></pre>\n<p>The postman</p>\n<p><a href=\"https://i.stack.imgur.com/HpSJS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HpSJS.png\" alt=\"postman\" /></a></p>\n<p>If i change the body from MultipartFile  to toher variable, the service responds ok</p>\n<pre><code>public class ImageOpenLayer {\n    private String file;\n\n    public String  getFile() {\n        return file;\n    }\n\n    public void setFile(String file) {\n        this.file = file;\n    }\n}\n</code></pre>\n<p>In postman</p>\n<p><a href=\"https://i.stack.imgur.com/AjLFh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AjLFh.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1668001813,"post_id":74375894,"comment_id":131301841,"body_markdown":"What output did you expect? Why did you expect it? What output did you get instead?","body":"What output did you expect? Why did you expect it? What output did you get instead?"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1668002185,"post_id":74375894,"comment_id":131302028,"body_markdown":"You are not thinking of cases where the difference might be a negative number. Either use some method to turn your calculated subtractions s1Level etc. into absolut values, or change your if conditions to `if (s1Level &gt;= -2 &amp;&amp; s1Level &lt;= 2)`","body":"You are not thinking of cases where the difference might be a negative number. Either use some method to turn your calculated subtractions s1Level etc. into absolut values, or change your if conditions to <code>if (s1Level &gt;= -2 &amp;&amp; s1Level &lt;= 2)</code>"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1668002473,"post_id":74375894,"comment_id":131302154,"body_markdown":"Also, using `else if` won&#39;t help if all the deltas are within the range.  Which one do you want?  The smallest? Largest?  All of them?","body":"Also, using <code>else if</code> won&#39;t help if all the deltas are within the range.  Which one do you want?  The smallest? Largest?  All of them?"}],"answers":[{"tags":[],"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668002151,"creation_date":1668002151,"answer_id":74376019,"question_id":74375894,"body_markdown":"You are subtracting a larger number from a smaller number, so you are getting a negative value for `s1Level` which of course will always be lower than 2.  This means you will never reach the `else if` for `s2Level` since `s1Level &lt;= 2` is true.\r\n\r\nIf you want to compare the absolute values of the subtraction, simply use `Math.abs(yourValue)` which will always return the positive value of the number.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tdouble ltp = 15.45;\r\n\r\n\t\tdouble s1 = 18.34;\r\n\t\tdouble s2 = 16.34;\r\n\t\tdouble s3 = 10.34;\r\n\r\n\t\tdouble s1Level = Math.abs(ltp - s1);\r\n\t\tdouble s2Level = Math.abs(ltp - s2);\r\n\t\tdouble s3Level = Math.abs(ltp - s3);\r\n\r\n\t\tif (s1Level &lt;= 2) {\r\n\t\t\tSystem.out.println(&quot;S1&quot;);\r\n\t\t}\r\n\t\telse if (s2Level &lt;= 2) {\r\n\t\t\tSystem.out.println(&quot;S2&quot;);\r\n\r\n\t\t}\r\n\t\telse if (s3Level &lt;= 2) {\r\n\t\t\tSystem.out.println(&quot;S3&quot;);\r\n\t\t}\r\n\t}","title":"Compare Values and return String","body":"<p>You are subtracting a larger number from a smaller number, so you are getting a negative value for <code>s1Level</code> which of course will always be lower than 2.  This means you will never reach the <code>else if</code> for <code>s2Level</code> since <code>s1Level &lt;= 2</code> is true.</p>\n<p>If you want to compare the absolute values of the subtraction, simply use <code>Math.abs(yourValue)</code> which will always return the positive value of the number.</p>\n<pre><code>public static void main(String[] args) {\n    double ltp = 15.45;\n\n    double s1 = 18.34;\n    double s2 = 16.34;\n    double s3 = 10.34;\n\n    double s1Level = Math.abs(ltp - s1);\n    double s2Level = Math.abs(ltp - s2);\n    double s3Level = Math.abs(ltp - s3);\n\n    if (s1Level &lt;= 2) {\n        System.out.println(&quot;S1&quot;);\n    }\n    else if (s2Level &lt;= 2) {\n        System.out.println(&quot;S2&quot;);\n\n    }\n    else if (s3Level &lt;= 2) {\n        System.out.println(&quot;S3&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user19471184"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1668002151,"creation_date":1668001668,"question_id":74375894,"body_markdown":"\r\nI have **ltp** and **s1** , **s2** and **s3** values \r\n\r\n(s1 , s2 , s3 denotes suppourt1 , suppourt2 , suppourt3 )\r\n\r\nWhat I am trying to achieve is that , \r\n\r\nIf the ltp is 2 points near S1 , display S1\r\n\r\nIf the ltp is 2 points near S2 , display S2\r\n\r\nIf the ltp is 2 points near S3 , display S3\r\n\r\nI have tried using this \r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tdouble ltp = 15.45;\r\n    \r\n    \t\tdouble s1 = 18.34;\r\n    \r\n    \t\tdouble s2 = 16.34;\r\n    \r\n    \t\tdouble s3 = 10.34;\r\n    \r\n    \t\tdouble s1Level = ltp - s1;\r\n    \r\n    \t\tdouble s2Level = ltp - s2;\r\n    \r\n    \t\tdouble s3Level = ltp - s3;\r\n    \t\t\r\n    \t\t\r\n    \r\n    \t\tif (s1Level &lt;= 2) {\r\n    \t\t\tSystem.out.println(&quot;S1&quot;);\r\n    \t\t}\r\n    \r\n    \t\telse if (s2Level &lt;= 2) {\r\n    \t\t\tSystem.out.println(&quot;S2&quot;);\r\n    \r\n    \t\t}\r\n    \r\n    \t\telse if (s3Level &lt;= 2) {\r\n    \t\t\tSystem.out.println(&quot;S3&quot;);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nHere **ltp** is 15.45 and its near **s2** 16.34 , I was expecting S2.","title":"Compare Values and return String","body":"<p>I have <strong>ltp</strong> and <strong>s1</strong> , <strong>s2</strong> and <strong>s3</strong> values</p>\n<p>(s1 , s2 , s3 denotes suppourt1 , suppourt2 , suppourt3 )</p>\n<p>What I am trying to achieve is that ,</p>\n<p>If the ltp is 2 points near S1 , display S1</p>\n<p>If the ltp is 2 points near S2 , display S2</p>\n<p>If the ltp is 2 points near S3 , display S3</p>\n<p>I have tried using this</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n\n        double ltp = 15.45;\n\n        double s1 = 18.34;\n\n        double s2 = 16.34;\n\n        double s3 = 10.34;\n\n        double s1Level = ltp - s1;\n\n        double s2Level = ltp - s2;\n\n        double s3Level = ltp - s3;\n        \n        \n\n        if (s1Level &lt;= 2) {\n            System.out.println(&quot;S1&quot;);\n        }\n\n        else if (s2Level &lt;= 2) {\n            System.out.println(&quot;S2&quot;);\n\n        }\n\n        else if (s3Level &lt;= 2) {\n            System.out.println(&quot;S3&quot;);\n        }\n\n    }\n\n}\n</code></pre>\n<p>Here <strong>ltp</strong> is 15.45 and its near <strong>s2</strong> 16.34 , I was expecting S2.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":2,"creation_date":1516045360,"post_id":48269147,"comment_id":83522733,"body_markdown":"I think that sticking to absolute, arbitrary design principles works... until it fails. Just do what is needed in the way you judge is the better.","body":"I think that sticking to absolute, arbitrary design principles works... until it fails. Just do what is needed in the way you judge is the better."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1516052425,"post_id":48269147,"comment_id":83525741,"body_markdown":"Even though this might be an interesting question to ask, it&#39;s not suitable for Stack Overflow. Make sure to read [What topics can I ask about here?](https://stackoverflow.com/help/on-topic).","body":"Even though this might be an interesting question to ask, it&#39;s not suitable for Stack Overflow. Make sure to read <a href=\"https://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a>."}],"answers":[{"tags":[],"owner":{"account_id":3795830,"reputation":6437,"user_id":3150948,"accept_rate":70,"display_name":"Amer Qarabsa"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1516043206,"creation_date":1516043206,"answer_id":48269258,"question_id":48269147,"body_markdown":"Its not a catastrophic structure to autowire service inside another service but in that way you will end up coupling your services which could lead to maintenance problems.\r\n\r\ninstead of coupling your services you can create a util with the common functionality and make both of the service use it.","title":"Using repositories in services, and services in controllers","body":"<p>Its not a catastrophic structure to autowire service inside another service but in that way you will end up coupling your services which could lead to maintenance problems.</p>\n\n<p>instead of coupling your services you can create a util with the common functionality and make both of the service use it.</p>\n"},{"tags":[],"owner":{"account_id":26869989,"reputation":26,"user_id":20452144,"display_name":"Rajesh Gurusamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668002080,"creation_date":1668002080,"answer_id":74375995,"question_id":48269147,"body_markdown":"It is design principal how you want to follow in your application, \r\n1) You could have dependencies of other services in the service class\r\n2) You could use only next layer of classes which is repositories in your case.\r\n\r\nIf you go by option 1, please keep in mind that you could end up having circular reference in your spring boot application. \r\nFor example,  You may end up something like \r\n\r\nService A -&gt; Service B -&gt; Service A\r\n\r\nStarting from spring boot 2.6.0 circular reference is prohibited, [Spring Circular reference is Prohibited by Default.][1] \r\n\r\nSo it is better to have a common service class to avoid circular reference, or else keep the correct hierarchy of services when using other service reference.  \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6.0-M2-Release-Notes#circular-references-prohibited-by-default","title":"Using repositories in services, and services in controllers","body":"<p>It is design principal how you want to follow in your application,</p>\n<ol>\n<li>You could have dependencies of other services in the service class</li>\n<li>You could use only next layer of classes which is repositories in your case.</li>\n</ol>\n<p>If you go by option 1, please keep in mind that you could end up having circular reference in your spring boot application.\nFor example,  You may end up something like</p>\n<p>Service A -&gt; Service B -&gt; Service A</p>\n<p>Starting from spring boot 2.6.0 circular reference is prohibited, <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6.0-M2-Release-Notes#circular-references-prohibited-by-default\" rel=\"nofollow noreferrer\">Spring Circular reference is Prohibited by Default.</a></p>\n<p>So it is better to have a common service class to avoid circular reference, or else keep the correct hierarchy of services when using other service reference.</p>\n"}],"owner":{"account_id":12688903,"reputation":9,"user_id":9219753,"display_name":"afgdrfhg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1668002080,"creation_date":1516042616,"question_id":48269147,"body_markdown":"I program in such a way that I avoid using services in other services https://github.com/JonkiPro/REST-Web-Services/tree/master/core/src/main/java/com/core/jpa/service. I try to use only repositories on services. I am currently writing a controller that uses two services. One to save files in the cloud, and the other to save from the entity with the file identifier in the cloud.\r\n\r\n        @PutMapping(value = &quot;/contributions/{id}/photos&quot;)\r\n    @ResponseStatus(HttpStatus.NO_CONTENT)\r\n    public\r\n    void updatePhotoContribution(\r\n            @PathVariable(&quot;id&quot;) final Long id,\r\n            @RequestParam(required = false) Set&lt;Long&gt; elementIdsToAdd,\r\n            @RequestPart(required = false) List&lt;MultipartFile&gt; elementsToAdd,\r\n            @RequestPart(required = false) List&lt;MultipartFile&gt; newElementsToAdd,\r\n            @RequestParam(required = false) Set&lt;Long&gt; idsToUpdate,\r\n            @RequestPart(required = false) List&lt;MultipartFile&gt; elementsToUpdate,\r\n            @RequestParam(required = false) Set&lt;Long&gt; idsToDelete,\r\n            @RequestParam final Set&lt;String&gt; sources,\r\n            @RequestParam(required = false) final String comment\r\n    ) {\r\n        Set&lt;String&gt; ids = new HashSet&lt;&gt;();\r\n\r\n        for(files) {\r\n            String id = this.storageService.save(...); // Save the file in the cloud with file identifiers stored in the cloud\r\n            ids.add(id);\r\n        }\r\n\r\n        Contribution contribution = //create contribution\r\n\r\n        try {\r\n            this.movieContributionPersistenceService.updateReviewContribution(contribution, id, this.authorizationService.getUserId());\r\n        } catch(ResourceNotFoundException e) {\r\n            //  remove the file from the cloud\r\n            throw new ResourceNotFoundException(e.getMessage());\r\n        } catch(ResourceConflictException e) {\r\n            //  remove the file from the cloud\r\n            throw new ResourceConflictException(e.getMessage());\r\n        }\r\n    }\r\nThis is the only solution to the problem that occurred to me. If I used storageService in movieContributionPersistenceService, it would look better, but I stick to the fact that I use only repositories on services. What do you think about it?\r\n\r\nThat&#39;s the other controller that I created earlier on the same principle: https://pastebin.com/Ry1gcYdL","title":"Using repositories in services, and services in controllers","body":"<p>I program in such a way that I avoid using services in other services <a href=\"https://github.com/JonkiPro/REST-Web-Services/tree/master/core/src/main/java/com/core/jpa/service\" rel=\"nofollow noreferrer\">https://github.com/JonkiPro/REST-Web-Services/tree/master/core/src/main/java/com/core/jpa/service</a>. I try to use only repositories on services. I am currently writing a controller that uses two services. One to save files in the cloud, and the other to save from the entity with the file identifier in the cloud.</p>\n\n<pre><code>    @PutMapping(value = \"/contributions/{id}/photos\")\n@ResponseStatus(HttpStatus.NO_CONTENT)\npublic\nvoid updatePhotoContribution(\n        @PathVariable(\"id\") final Long id,\n        @RequestParam(required = false) Set&lt;Long&gt; elementIdsToAdd,\n        @RequestPart(required = false) List&lt;MultipartFile&gt; elementsToAdd,\n        @RequestPart(required = false) List&lt;MultipartFile&gt; newElementsToAdd,\n        @RequestParam(required = false) Set&lt;Long&gt; idsToUpdate,\n        @RequestPart(required = false) List&lt;MultipartFile&gt; elementsToUpdate,\n        @RequestParam(required = false) Set&lt;Long&gt; idsToDelete,\n        @RequestParam final Set&lt;String&gt; sources,\n        @RequestParam(required = false) final String comment\n) {\n    Set&lt;String&gt; ids = new HashSet&lt;&gt;();\n\n    for(files) {\n        String id = this.storageService.save(...); // Save the file in the cloud with file identifiers stored in the cloud\n        ids.add(id);\n    }\n\n    Contribution contribution = //create contribution\n\n    try {\n        this.movieContributionPersistenceService.updateReviewContribution(contribution, id, this.authorizationService.getUserId());\n    } catch(ResourceNotFoundException e) {\n        //  remove the file from the cloud\n        throw new ResourceNotFoundException(e.getMessage());\n    } catch(ResourceConflictException e) {\n        //  remove the file from the cloud\n        throw new ResourceConflictException(e.getMessage());\n    }\n}\n</code></pre>\n\n<p>This is the only solution to the problem that occurred to me. If I used storageService in movieContributionPersistenceService, it would look better, but I stick to the fact that I use only repositories on services. What do you think about it?</p>\n\n<p>That's the other controller that I created earlier on the same principle: <a href=\"https://pastebin.com/Ry1gcYdL\" rel=\"nofollow noreferrer\">https://pastebin.com/Ry1gcYdL</a></p>\n"},{"tags":["java","spring-boot","mockito","spring-webflux"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1668002830,"post_id":74375988,"comment_id":131302274,"body_markdown":"1. Why do you `@MockBean` `MockMvc`? (2. Why ExcelService?;)","body":"1. Why do you <code>@MockBean</code> <code>MockMvc</code>? (2. Why ExcelService?;)"},{"owner":{"account_id":21166933,"reputation":57,"user_id":15564069,"display_name":"WorkWork"},"score":0,"creation_date":1668015382,"post_id":74375988,"comment_id":131307207,"body_markdown":"@xerx593 &gt;&gt; ExcelService is here because is needed for another test method that&#39;s not included here. `@MockBean MockMvc` is an error, thank you for pointing it out. I&#39;m still unable to get rid of NPE, though.","body":"@xerx593 &gt;&gt; ExcelService is here because is needed for another test method that&#39;s not included here. <code>@MockBean MockMvc</code> is an error, thank you for pointing it out. I&#39;m still unable to get rid of NPE, though."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1668015765,"post_id":74375988,"comment_id":131307348,"body_markdown":"(excelService is &quot;private, unmanaged&quot; object in controller..this won&#39;t work as a &quot;mock bean&quot;) ..to the NPE: why there are no other (spring test) annotations except `@AutoConfigureMockMvc`? (`@MockBean` needs &quot;at least&quot; a `SpringRunner`)","body":"(excelService is &quot;private, unmanaged&quot; object in controller..this won&#39;t work as a &quot;mock bean&quot;) ..to the NPE: why there are no other (spring test) annotations except <code>@AutoConfigureMockMvc</code>? (<code>@MockBean</code> needs &quot;at least&quot; a <code>SpringRunner</code>)"},{"owner":{"account_id":21166933,"reputation":57,"user_id":15564069,"display_name":"WorkWork"},"score":0,"creation_date":1668016189,"post_id":74375988,"comment_id":131307513,"body_markdown":"Well I tried with `@WebMvcTest(controllers = ProductController.class)` but I&#39;m getting `InitializationError` (`java.lang.NoClassDefFoundError`)","body":"Well I tried with <code>@WebMvcTest(controllers = ProductController.class)</code> but I&#39;m getting <code>InitializationError</code> (<code>java.lang.NoClassDefFoundError</code>)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668016333,"post_id":74375988,"comment_id":131307562,"body_markdown":"..ok,some &quot;progress&quot;/change :)","body":"..ok,some &quot;progress&quot;/change :)"},{"owner":{"account_id":21166933,"reputation":57,"user_id":15564069,"display_name":"WorkWork"},"score":1,"creation_date":1668017195,"post_id":74375988,"comment_id":131307883,"body_markdown":"You were right, there was an annotation missing. I&#39;ve added `@ExtendWith(SpringExtension.class)`, and that solved the problem. I got `java.lang.NoClassDefFoundError` now at `.get(&quot;/products/excel&quot;)`, but that&#39;s unrelated to this thread. Thank you very much! Can you please add an answer instead of a comment, so I can accept it as an answer to my original post/question?","body":"You were right, there was an annotation missing. I&#39;ve added <code>@ExtendWith(SpringExtension.class)</code>, and that solved the problem. I got <code>java.lang.NoClassDefFoundError</code> now at <code>.get(&quot;&#47;products&#47;excel&quot;)</code>, but that&#39;s unrelated to this thread. Thank you very much! Can you please add an answer instead of a comment, so I can accept it as an answer to my original post/question?"}],"owner":{"account_id":21166933,"reputation":57,"user_id":15564069,"display_name":"WorkWork"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668002063,"creation_date":1668002063,"question_id":74375988,"body_markdown":"I&#39;m writing Unit tests with WebFlux and Mockito, and as a result, I&#39;m getting a NullPointerException. Here&#39;s my code:\r\n\r\nController class\r\n\r\n    @CrossOrigin\r\n    @RestController\r\n    public class ProductController {\r\n\r\n    @Autowired\r\n    private ProductRepository productRepository;\r\n\r\n    ExcelService excelService = new ExcelService();\r\n\r\n    @GetMapping(path = &quot;/products/excel&quot;, produces = APPLICATION_OCTET_STREAM_VALUE)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;Resource&gt; getAllProductInExcel() throws IOException, ExecutionException, InterruptedException {\r\n\r\n        LocalDateTime dateTime = LocalDateTime.now();\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;Content-Disposition&quot;, String.format(&quot;attachment; filename=star-products-%s.xlsx&quot;, dateTime));\r\n\r\n        Flux&lt;ProductData&gt; pd = productRepository.findAll();\r\n\r\n        Resource r = new ByteArrayResource(excelService.productsToExcel(pd).get().toByteArray());\r\n\r\n        return ResponseEntity\r\n                .ok().cacheControl(CacheControl.noCache())\r\n                .headers(headers).body(r);\r\n\r\n    }\r\n\r\nHere&#39;s a repository\r\n\r\n    @Repository\r\n    public interface ProductRepository extends ReactiveMongoRepository&lt;ProductData, String&gt; {\r\n\r\n    @Override\r\n    @Query(value = &quot;{ lifecycleState: { $not: { $eq: inactive_state__c } } }&quot;)\r\n    Flux&lt;ProductData&gt; findAll();\r\n\r\n    @Query(value = &quot;{ lifecycleState: { $not: { $eq: inactive_state__c } } }&quot;, fields = &quot;{ &#39;productName&#39; : 1 , &#39;epaRegNumber&#39; : 1 }&quot;)\r\n    Flux&lt;ProductDataDTO&gt; returnOnlyIdAndName();\r\n    }\r\n\r\nAnd here&#39;s a test that&#39;s failing with NPE\r\n\r\n    @AutoConfigureMockMvc\r\n    class ProductControllerTest {\r\n\r\n    @MockBean\r\n    MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    ProductRepository productRepository;\r\n\r\n    @MockBean\r\n    ExcelService excelService;\r\n\r\n    @BeforeEach\r\n    void setup() {\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n    @Test\r\n    void should_get_products_in_Excel() throws Exception {\r\n        ProductData productData = new ProductData();\r\n        productData.setTimestamp(1L);\r\n        productData.setProductId(&quot;id&quot;);\r\n        productData.setProductName(&quot;name&quot;);\r\n        productData.setRegistrationDetails(new ArrayList&lt;&gt;());\r\n        productData.setEpaRegNumber(&quot;&quot;);\r\n        productData.setLifecycleState(&quot;&quot;);\r\n\r\n        Flux&lt;ProductData&gt; flux = Flux.just(productData);\r\n\r\n        StepVerifier.create(flux)\r\n                .expectNext(productData)\r\n                .verifyComplete();\r\n\r\n        when(productRepository.findAll())\r\n                .thenReturn(flux);\r\n\r\n        RequestBuilder builder = MockMvcRequestBuilders\r\n                .get(&quot;/products/excel&quot;)\r\n                .headers(HttpHeaders.EMPTY)\r\n                .contentType(MediaType.APPLICATION_OCTET_STREAM_VALUE)\r\n                .content(String.valueOf(flux));\r\n\r\n        mockMvc.perform(builder)\r\n                .andReturn().getResponse();\r\n\r\n    }\r\n\r\nThe test fails with the message `java.lang.NullPointerException` when it comes to the     \r\n\r\n    when(productRepository.findAll())\r\n                .thenReturn(flux);\r\n\r\nIn the debugging mode, `productRepository` is null. Do you have any suggestions on how to fix this?","title":"NullPointerException with WebFlux and Mockito in SpringBoot","body":"<p>I'm writing Unit tests with WebFlux and Mockito, and as a result, I'm getting a NullPointerException. Here's my code:</p>\n<p>Controller class</p>\n<pre><code>@CrossOrigin\n@RestController\npublic class ProductController {\n\n@Autowired\nprivate ProductRepository productRepository;\n\nExcelService excelService = new ExcelService();\n\n@GetMapping(path = &quot;/products/excel&quot;, produces = APPLICATION_OCTET_STREAM_VALUE)\n@ResponseBody\npublic ResponseEntity&lt;Resource&gt; getAllProductInExcel() throws IOException, ExecutionException, InterruptedException {\n\n    LocalDateTime dateTime = LocalDateTime.now();\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(&quot;Content-Disposition&quot;, String.format(&quot;attachment; filename=star-products-%s.xlsx&quot;, dateTime));\n\n    Flux&lt;ProductData&gt; pd = productRepository.findAll();\n\n    Resource r = new ByteArrayResource(excelService.productsToExcel(pd).get().toByteArray());\n\n    return ResponseEntity\n            .ok().cacheControl(CacheControl.noCache())\n            .headers(headers).body(r);\n\n}\n</code></pre>\n<p>Here's a repository</p>\n<pre><code>@Repository\npublic interface ProductRepository extends ReactiveMongoRepository&lt;ProductData, String&gt; {\n\n@Override\n@Query(value = &quot;{ lifecycleState: { $not: { $eq: inactive_state__c } } }&quot;)\nFlux&lt;ProductData&gt; findAll();\n\n@Query(value = &quot;{ lifecycleState: { $not: { $eq: inactive_state__c } } }&quot;, fields = &quot;{ 'productName' : 1 , 'epaRegNumber' : 1 }&quot;)\nFlux&lt;ProductDataDTO&gt; returnOnlyIdAndName();\n}\n</code></pre>\n<p>And here's a test that's failing with NPE</p>\n<pre><code>@AutoConfigureMockMvc\nclass ProductControllerTest {\n\n@MockBean\nMockMvc mockMvc;\n\n@MockBean\nProductRepository productRepository;\n\n@MockBean\nExcelService excelService;\n\n@BeforeEach\nvoid setup() {\n    MockitoAnnotations.openMocks(this);\n}\n@Test\nvoid should_get_products_in_Excel() throws Exception {\n    ProductData productData = new ProductData();\n    productData.setTimestamp(1L);\n    productData.setProductId(&quot;id&quot;);\n    productData.setProductName(&quot;name&quot;);\n    productData.setRegistrationDetails(new ArrayList&lt;&gt;());\n    productData.setEpaRegNumber(&quot;&quot;);\n    productData.setLifecycleState(&quot;&quot;);\n\n    Flux&lt;ProductData&gt; flux = Flux.just(productData);\n\n    StepVerifier.create(flux)\n            .expectNext(productData)\n            .verifyComplete();\n\n    when(productRepository.findAll())\n            .thenReturn(flux);\n\n    RequestBuilder builder = MockMvcRequestBuilders\n            .get(&quot;/products/excel&quot;)\n            .headers(HttpHeaders.EMPTY)\n            .contentType(MediaType.APPLICATION_OCTET_STREAM_VALUE)\n            .content(String.valueOf(flux));\n\n    mockMvc.perform(builder)\n            .andReturn().getResponse();\n\n}\n</code></pre>\n<p>The test fails with the message <code>java.lang.NullPointerException</code> when it comes to the</p>\n<pre><code>when(productRepository.findAll())\n            .thenReturn(flux);\n</code></pre>\n<p>In the debugging mode, <code>productRepository</code> is null. Do you have any suggestions on how to fix this?</p>\n"},{"tags":["java","database","jetty","hl7-fhir","hapi-fhir"],"answers":[{"comments":[{"owner":{"account_id":15654309,"reputation":325,"user_id":12637092,"display_name":"xgeek652"},"score":0,"creation_date":1593280970,"post_id":62613110,"comment_id":110726925,"body_markdown":"Can you please check my EDIT","body":"Can you please check my EDIT"}],"tags":[],"owner":{"account_id":2766933,"reputation":6533,"user_id":2382420,"display_name":"Lloyd McKenzie"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593277750,"creation_date":1593277750,"answer_id":62613110,"question_id":62612211,"body_markdown":" 1. This s a question of opinion and isn&#39;t really an appropriate question to ask on this site.  However, there certainly are many systems that *do* use HAPI in production.\r\n 2. It depends on which server.  As per the documentation [here](https://hapifhir.io/hapi-fhir/docs), you can either use the &#39;plain&#39; server and provide your own persistence layer or use the JPA server which uses JPA 2.0 with Derby as the default data store.  Details about the database and its structure are defined in the aforementioned documentation\r\n3. If you&#39;re not sure what to do and don&#39;t have an existing database you must use, it&#39;s probably simplest/wisest to stick with the JPA database as it&#39;s already properly configured and works pretty well.","title":"After installing a HAPI FHIR server, what database to use?","body":"<ol>\n<li>This s a question of opinion and isn't really an appropriate question to ask on this site.  However, there certainly are many systems that <em>do</em> use HAPI in production.</li>\n<li>It depends on which server.  As per the documentation <a href=\"https://hapifhir.io/hapi-fhir/docs\" rel=\"nofollow noreferrer\">here</a>, you can either use the 'plain' server and provide your own persistence layer or use the JPA server which uses JPA 2.0 with Derby as the default data store.  Details about the database and its structure are defined in the aforementioned documentation</li>\n<li>If you're not sure what to do and don't have an existing database you must use, it's probably simplest/wisest to stick with the JPA database as it's already properly configured and works pretty well.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668002054,"creation_date":1595338982,"answer_id":63015872,"question_id":62612211,"body_markdown":"1.  This is an opinion question, so there is not a true right answer.\r\n\r\n2.  Having said that, I would stick with &quot;known&quot; setups.\r\n\r\nhttps://smilecdr.com/docs/database_administration/database_design.html\r\n\r\n[![smilecdr database list][1]][1]\r\n\r\nRelationship between smilecdr and hapi\r\n\r\nhttps://smilecdr.com/open-source.html\r\n\r\nI am partial to Sql Server or Postgres.\r\n\r\nI would not go with Oracle, unless my company is already heavily invested.  See image later in this post.\r\n\r\n\r\n\r\n\r\n\r\nhttps://docs.oracle.com/cd/B19306_01/server.102/b14200/statements_6014.htm\r\n\r\nThe command “Create Schema” ‘does not actually create a schema’.  #makesPerfectSense  But you automatically get a schema when you create a user.  \r\n\r\nDo what??  I am not a fan of Oracle.  Some of it is historical, which is why I think MySql may be the ripped off bandaid.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PO7kk.png\r\n  [2]: https://i.stack.imgur.com/XFjCx.png\r\n\r\n=========================\r\n\r\n2022 UPDATE.\r\n\r\n\r\nSmileCDR has &quot;discouraged&quot; MySql.\r\n\r\nhttps://smilecdr.com/docs/database_administration/setting_up_mysql.html\r\n\r\n&gt;  Note that as of 2021.11.R01, MySQL is discouraged for production use\r\n&gt; due to performance limitations of the database. SmileCDR will continue\r\n&gt; to support customers on this database, but if serious performance\r\n&gt; issues arise, we will suggest migrating to a more performant database.","title":"After installing a HAPI FHIR server, what database to use?","body":"<ol>\n<li><p>This is an opinion question, so there is not a true right answer.</p>\n</li>\n<li><p>Having said that, I would stick with &quot;known&quot; setups.</p>\n</li>\n</ol>\n<p><a href=\"https://smilecdr.com/docs/database_administration/database_design.html\" rel=\"nofollow noreferrer\">https://smilecdr.com/docs/database_administration/database_design.html</a></p>\n<p><a href=\"https://i.stack.imgur.com/PO7kk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PO7kk.png\" alt=\"smilecdr database list\" /></a></p>\n<p>Relationship between smilecdr and hapi</p>\n<p><a href=\"https://smilecdr.com/open-source.html\" rel=\"nofollow noreferrer\">https://smilecdr.com/open-source.html</a></p>\n<p>I am partial to Sql Server or Postgres.</p>\n<p>I would not go with Oracle, unless my company is already heavily invested.  See image later in this post.</p>\n<p><a href=\"https://docs.oracle.com/cd/B19306_01/server.102/b14200/statements_6014.htm\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/B19306_01/server.102/b14200/statements_6014.htm</a></p>\n<p>The command “Create Schema” ‘does not actually create a schema’.  #makesPerfectSense  But you automatically get a schema when you create a user.</p>\n<p>Do what??  I am not a fan of Oracle.  Some of it is historical, which is why I think MySql may be the ripped off bandaid.</p>\n<p><a href=\"https://i.stack.imgur.com/XFjCx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XFjCx.png\" alt=\"enter image description here\" /></a></p>\n<p>=========================</p>\n<p>2022 UPDATE.</p>\n<p>SmileCDR has &quot;discouraged&quot; MySql.</p>\n<p><a href=\"https://smilecdr.com/docs/database_administration/setting_up_mysql.html\" rel=\"nofollow noreferrer\">https://smilecdr.com/docs/database_administration/setting_up_mysql.html</a></p>\n<blockquote>\n<p>Note that as of 2021.11.R01, MySQL is discouraged for production use\ndue to performance limitations of the database. SmileCDR will continue\nto support customers on this database, but if serious performance\nissues arise, we will suggest migrating to a more performant database.</p>\n</blockquote>\n"}],"owner":{"account_id":15654309,"reputation":325,"user_id":12637092,"display_name":"xgeek652"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668002054,"creation_date":1593273210,"question_id":62612211,"body_markdown":"I&#39;m new to HAPI FHIR, I created a google cloud compute engine VM, installed java and maven, cloned the [hapi-fhir-jpaserver-starter][1] and installed it with : \r\n**mvn install**\r\nThen runned it to test in my server with : \r\n**mvn jetty:run**\r\n\r\nNow I access it using : http://IP:8080/hapi-fhir-jpaserver\r\nand I get this page : \r\n\r\n[![Main Page][2]][2]\r\n\r\nNow all the resources are empty (patients etc..) , I need to know : \r\n\r\n1) Is this a good server for production ?\r\n2) What Database the server is actually using and how to access it ? \r\n3) What type of Database I must set up and how ? \r\n\r\nThanks\r\n\r\n**EDIT :** \r\nI tried to install the hapi server using docker compose, I built the app with mvn clean install and ran the command *docker-compose up -d --build* but when the installation was finished I get the basic HAPI SERVER (the fresh one) not the version I edited and built.\r\n\r\nAny ideas why ?\r\n\r\n  [1]: https://github.com/hapifhir/hapi-fhir-jpaserver-starter\r\n  [2]: https://i.stack.imgur.com/wyZ4a.png","title":"After installing a HAPI FHIR server, what database to use?","body":"<p>I'm new to HAPI FHIR, I created a google cloud compute engine VM, installed java and maven, cloned the <a href=\"https://github.com/hapifhir/hapi-fhir-jpaserver-starter\" rel=\"nofollow noreferrer\">hapi-fhir-jpaserver-starter</a> and installed it with :\n<strong>mvn install</strong>\nThen runned it to test in my server with :\n<strong>mvn jetty:run</strong></p>\n<p>Now I access it using : http://IP:8080/hapi-fhir-jpaserver\nand I get this page :</p>\n<p><a href=\"https://i.stack.imgur.com/wyZ4a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wyZ4a.png\" alt=\"Main Page\" /></a></p>\n<p>Now all the resources are empty (patients etc..) , I need to know :</p>\n<ol>\n<li>Is this a good server for production ?</li>\n<li>What Database the server is actually using and how to access it ?</li>\n<li>What type of Database I must set up and how ?</li>\n</ol>\n<p>Thanks</p>\n<p><strong>EDIT :</strong>\nI tried to install the hapi server using docker compose, I built the app with mvn clean install and ran the command <em>docker-compose up -d --build</em> but when the installation was finished I get the basic HAPI SERVER (the fresh one) not the version I edited and built.</p>\n<p>Any ideas why ?</p>\n"},{"tags":["java","eclipse","jar","executable-jar"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1668002251,"post_id":74375939,"comment_id":131302052,"body_markdown":"The jar is smaller because it leaves out all the other jars you are using. When you run the code you have to tell java where to find those jars using the classpath `-cp` command line option. The person you email will also have to find all those jars.","body":"The jar is smaller because it leaves out all the other jars you are using. When you run the code you have to tell java where to find those jars using the classpath <code>-cp</code> command line option. The person you email will also have to find all those jars."},{"owner":{"account_id":10290358,"reputation":137,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":0,"creation_date":1668007465,"post_id":74375939,"comment_id":131304174,"body_markdown":"@greg-449 possible to do it such I just have to double click the jar file?","body":"@greg-449 possible to do it such I just have to double click the jar file?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1668008566,"post_id":74375939,"comment_id":131304622,"body_markdown":"That is what the Runnable Jar is for, it is larger because it contains all the jars necessary. Being able to double click the jar depends on which operating system you are using.","body":"That is what the Runnable Jar is for, it is larger because it contains all the jars necessary. Being able to double click the jar depends on which operating system you are using."}],"owner":{"account_id":10290358,"reputation":137,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668001838,"creation_date":1668001838,"question_id":74375939,"body_markdown":"I already have org.apache.commons.lang3.jar in my project\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nBut after i export to .jar, i cannot run it\r\n\r\n[![enter image description here][5]][5]\r\n\r\nI can run it in my IDE(Eclipse). I can run it if i export using the &quot;Runnable JAR File&quot; option, but i want to export using the &quot;JAR File&quot; option, as it is smaller in MB, so that i can send to my colleague through email.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pllBx.png\r\n  [2]: https://i.stack.imgur.com/6fGTE.png\r\n  [3]: https://i.stack.imgur.com/k5b7U.png\r\n  [4]: https://i.stack.imgur.com/GJUex.png\r\n  [5]: https://i.stack.imgur.com/7YgDi.png","title":"Cannot run jar file. Cannot find org.apache.commons.lang3.StringUtils","body":"<p>I already have org.apache.commons.lang3.jar in my project</p>\n<p><a href=\"https://i.stack.imgur.com/pllBx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pllBx.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/6fGTE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6fGTE.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/k5b7U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k5b7U.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/GJUex.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GJUex.png\" alt=\"enter image description here\" /></a></p>\n<p>But after i export to .jar, i cannot run it</p>\n<p><a href=\"https://i.stack.imgur.com/7YgDi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7YgDi.png\" alt=\"enter image description here\" /></a></p>\n<p>I can run it in my IDE(Eclipse). I can run it if i export using the &quot;Runnable JAR File&quot; option, but i want to export using the &quot;JAR File&quot; option, as it is smaller in MB, so that i can send to my colleague through email.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":1,"creation_date":1664807503,"post_id":73936880,"comment_id":130549808,"body_markdown":"How do you initialize `protected EntityClass entity;`","body":"How do you initialize <code>protected EntityClass entity;</code>"},{"owner":{"account_id":1811021,"reputation":1567,"user_id":1647098,"accept_rate":45,"display_name":"eimmer"},"score":0,"creation_date":1664807966,"post_id":73936880,"comment_id":130549984,"body_markdown":"FYI - for larger projects you would most likely want to inject an instance of EntityClass.  That would allow you to inject a mock instance of the class, and the method execute.","body":"FYI - for larger projects you would most likely want to inject an instance of EntityClass.  That would allow you to inject a mock instance of the class, and the method execute."}],"answers":[{"tags":[],"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668001725,"creation_date":1664808798,"answer_id":73937229,"question_id":73936880,"body_markdown":"Simplest solution, define one more child class on test level, i.e. inside the test case it self, and inject mock or spy in constructor. Then you can perform your testing, for example:\r\n\r\n    public static class EntityClass {\r\n    \tpublic String execute(String input) {\r\n    \t\treturn &quot;execute&quot;;\r\n    \t}\r\n    }\r\n    \r\n    public static class ClassA {\r\n    \tprotected EntityClass entity;\r\n    \tpublic ClassA(EntityClass entity) {\r\n    \t\tthis.entity = entity;\r\n    \t}\r\n    \tpublic ClassA() {\r\n    \t\tthis( new EntityClass() );\r\n    \t}\r\n    }\r\n    \r\n    public static class ClassB extends ClassA {\r\n    \t\r\n    \tpublic String someMethod(String input) {\r\n    \t\treturn entity.execute(input);\r\n    \t}\r\n    }\r\n    \r\n    public static class ClassBSpyed extends ClassB {\r\n    \tprivate ClassBSpyed() {\r\n    \t\tsuper( Mockito.mock(EntityClass.class) );\r\n    \t\tMockito.doReturn(&quot;SpyedResult&quot;).when(this.entity).execute(Mockito.anyString());\r\n    \t}\r\n    }\r\n    \r\n    @Test\r\n    public void shouldCallMocked() throws Exception {\r\n    \tClassBSpyed spy = new ClassBSpyed();\r\n    \tassertEquals(&quot;SpyedResult&quot;,  spy.someMethod(&quot;LoremIpsum&quot;));\r\n    }\r\n\r\n","title":"How to mock protected variable in super class using Mockito","body":"<p>Simplest solution, define one more child class on test level, i.e. inside the test case it self, and inject mock or spy in constructor. Then you can perform your testing, for example:</p>\n<pre><code>public static class EntityClass {\n    public String execute(String input) {\n        return &quot;execute&quot;;\n    }\n}\n\npublic static class ClassA {\n    protected EntityClass entity;\n    public ClassA(EntityClass entity) {\n        this.entity = entity;\n    }\n    public ClassA() {\n        this( new EntityClass() );\n    }\n}\n\npublic static class ClassB extends ClassA {\n    \n    public String someMethod(String input) {\n        return entity.execute(input);\n    }\n}\n\npublic static class ClassBSpyed extends ClassB {\n    private ClassBSpyed() {\n        super( Mockito.mock(EntityClass.class) );\n        Mockito.doReturn(&quot;SpyedResult&quot;).when(this.entity).execute(Mockito.anyString());\n    }\n}\n\n@Test\npublic void shouldCallMocked() throws Exception {\n    ClassBSpyed spy = new ClassBSpyed();\n    assertEquals(&quot;SpyedResult&quot;,  spy.someMethod(&quot;LoremIpsum&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":14090110,"reputation":109,"user_id":10178725,"display_name":"Usman Mohammed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73937229,"answer_count":1,"score":2,"last_activity_date":1668001725,"creation_date":1664807086,"question_id":73936880,"body_markdown":"I have a parent class ClassA.\r\n\r\n    public class ClassA{\r\n      protected EntityClass entity;\r\n    }\r\n\r\nThis is my child class ClassB.\r\n\r\n    public class ClassB extends ClassA {\r\n       public String someMethod(String input) {\r\n          return entity.execute(input);\r\n       }\r\n    }\r\n\r\nEntityClass is -\r\n\r\n    public class EntityClass {\r\n      public String execute(String input) {\r\n         return &quot;execute&quot;;\r\n      }\r\n    }\r\n\r\nIn Test class I want to test someMethod(input) method in ClassB. For that I would like to mock method call entity.execute(input).\r\n\r\nI am completely beginner in TestNG and Mockito. Can anyone help me with how to do that?\r\n\r\n","title":"How to mock protected variable in super class using Mockito","body":"<p>I have a parent class ClassA.</p>\n<pre><code>public class ClassA{\n  protected EntityClass entity;\n}\n</code></pre>\n<p>This is my child class ClassB.</p>\n<pre><code>public class ClassB extends ClassA {\n   public String someMethod(String input) {\n      return entity.execute(input);\n   }\n}\n</code></pre>\n<p>EntityClass is -</p>\n<pre><code>public class EntityClass {\n  public String execute(String input) {\n     return &quot;execute&quot;;\n  }\n}\n</code></pre>\n<p>In Test class I want to test someMethod(input) method in ClassB. For that I would like to mock method call entity.execute(input).</p>\n<p>I am completely beginner in TestNG and Mockito. Can anyone help me with how to do that?</p>\n"},{"tags":["java","scheduler"],"comments":[{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1668006640,"post_id":74375814,"comment_id":131303830,"body_markdown":"are the customers the entity that doing the work? are they `thread`? this discussion on [multi-threading](https://stackoverflow.com/questions/2865315/threads-in-java) seems to be a good start. you can make list of `Jobs` to be finished and [distribute them](https://stackoverflow.com/questions/2041718/round-robin-scheduling-java-iterators) among your &quot;customers.&quot; anyway, in regard to the *&quot;it is kind of a stream where jobs keep coming&quot;* you have to be specific how the jobs are coming in.","body":"are the customers the entity that doing the work? are they <code>thread</code>? this discussion on <a href=\"https://stackoverflow.com/questions/2865315/threads-in-java\">multi-threading</a> seems to be a good start. you can make list of <code>Jobs</code> to be finished and <a href=\"https://stackoverflow.com/questions/2041718/round-robin-scheduling-java-iterators\">distribute them</a> among your &quot;customers.&quot; anyway, in regard to the <i>&quot;it is kind of a stream where jobs keep coming&quot;</i> you have to be specific how the jobs are coming in."},{"owner":{"account_id":6645369,"reputation":11,"user_id":5129681,"display_name":"Himanshu Goyal"},"score":0,"creation_date":1668057364,"post_id":74375814,"comment_id":131316154,"body_markdown":"@BagusTesa No, customers are not doing the work. The work means the task has a category that belongs to per customer. And the pain point for me is to get fairness for each customer instead of hogging all the resources only for executing all jobs for 1 customer. \n\nIf I sleep my main thread, say for 1000 ms, there are 100 customers having 1000 jobs each. Each job takes around 1ms then. I want my system to execute one job for each customer instead of using all 1000ms for running all 1000 jobs for customer 1.","body":"@BagusTesa No, customers are not doing the work. The work means the task has a category that belongs to per customer. And the pain point for me is to get fairness for each customer instead of hogging all the resources only for executing all jobs for 1 customer.   If I sleep my main thread, say for 1000 ms, there are 100 customers having 1000 jobs each. Each job takes around 1ms then. I want my system to execute one job for each customer instead of using all 1000ms for running all 1000 jobs for customer 1."},{"owner":{"account_id":6645369,"reputation":11,"user_id":5129681,"display_name":"Himanshu Goyal"},"score":0,"creation_date":1668057643,"post_id":74375814,"comment_id":131316188,"body_markdown":"Also, at the start, I filled my queue with the job List as declared in the example. Now queue can accept more jobs and the system will not terminate until the shutdown is called.","body":"Also, at the start, I filled my queue with the job List as declared in the example. Now queue can accept more jobs and the system will not terminate until the shutdown is called."}],"owner":{"account_id":6645369,"reputation":11,"user_id":5129681,"display_name":"Himanshu Goyal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668001322,"creation_date":1668001322,"question_id":74375814,"body_markdown":"I am trying to create a kind of scheduler, which works fine for simple tasks in a queue. \r\n\r\n    For Example:\r\n    If my queue has 100 jobs for 100 customers means 1 job for each customer. \r\n\r\nBut now I want to add multiple jobs for each customer.\r\n\r\n    for(int i = 1; i &lt;= 100; i++) {\r\n      customerIds.add(i);\r\n    }\r\n    List&lt;Job&gt; jobs = new ArrayList&lt;&gt;();\r\n    for(Integer customerId: customerIds) {\r\n      for(int i = 1; i &lt;= 10000; i++) {\r\n        jobs.add(new MyJob(customerId, 100));\r\n      }\r\n    }\r\n\r\nNow I want to execute 1 job at a time for every customer instead of blocking the program to execute all jobs for 1 customer.\r\n\r\nCan someone lead me in some direction? I am new to multithreading and not sure how can I make use of that here.\r\n\r\nAlso, the queue is not only for a predefined collection of jobs. It is kind of a stream where jobs will keep coming and gets executed.\r\n","title":"Execution Of tasks by fairness","body":"<p>I am trying to create a kind of scheduler, which works fine for simple tasks in a queue.</p>\n<pre><code>For Example:\nIf my queue has 100 jobs for 100 customers means 1 job for each customer. \n</code></pre>\n<p>But now I want to add multiple jobs for each customer.</p>\n<pre><code>for(int i = 1; i &lt;= 100; i++) {\n  customerIds.add(i);\n}\nList&lt;Job&gt; jobs = new ArrayList&lt;&gt;();\nfor(Integer customerId: customerIds) {\n  for(int i = 1; i &lt;= 10000; i++) {\n    jobs.add(new MyJob(customerId, 100));\n  }\n}\n</code></pre>\n<p>Now I want to execute 1 job at a time for every customer instead of blocking the program to execute all jobs for 1 customer.</p>\n<p>Can someone lead me in some direction? I am new to multithreading and not sure how can I make use of that here.</p>\n<p>Also, the queue is not only for a predefined collection of jobs. It is kind of a stream where jobs will keep coming and gets executed.</p>\n"},{"tags":["java","scala","akka","future"],"answers":[{"tags":[],"owner":{"account_id":10391539,"reputation":26838,"user_id":7662670,"display_name":"Tim"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1620047259,"creation_date":1620047259,"answer_id":67369464,"question_id":67369120,"body_markdown":"Put the `ActorRef` of the sending actor in the message. You will have to do this when you move to Akka Typed so it is good practice not to rely on `sender()` even when using Akka Classic.","title":"Akka ask work around the ignore of the sender","body":"<p>Put the <code>ActorRef</code> of the sending actor in the message. You will have to do this when you move to Akka Typed so it is good practice not to rely on <code>sender()</code> even when using Akka Classic.</p>\n"},{"tags":[],"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1620047466,"creation_date":1620047466,"answer_id":67369512,"question_id":67369120,"body_markdown":"There&#39;s no workaround that doesn&#39;t use `tell`, because there&#39;s nothing in Akka that doesn&#39;t use `tell` (the Akka provided ask pattern is a pattern based on `tell`s).\r\n\r\nThe ask pattern implementation has to use a temporary actor in order to encapsulate the timeout logic and not leak that functionality into the actor requesting the ask.\r\n\r\nThis leaves two options for giving the receiver access to the &quot;real&quot; sender:\r\n\r\n1.  You can add an `onBehalfOf` `ActorRef` field to the message you&#39;re sending as an ask (you may want to make it optional for the case where the ask is originating outside of an actor whose `receive` you control), and have the receiver use that instead of `sender`.\r\n\r\n2.  You can implement the ask pattern yourself in the sending actor: this is just a `tell`, scheduling a message to the sending actor after the timeout expires, and then having some means in your message protocol (the requests and responses) to determine which ask a given response is for).","title":"Akka ask work around the ignore of the sender","body":"<p>There's no workaround that doesn't use <code>tell</code>, because there's nothing in Akka that doesn't use <code>tell</code> (the Akka provided ask pattern is a pattern based on <code>tell</code>s).</p>\n<p>The ask pattern implementation has to use a temporary actor in order to encapsulate the timeout logic and not leak that functionality into the actor requesting the ask.</p>\n<p>This leaves two options for giving the receiver access to the &quot;real&quot; sender:</p>\n<ol>\n<li><p>You can add an <code>onBehalfOf</code> <code>ActorRef</code> field to the message you're sending as an ask (you may want to make it optional for the case where the ask is originating outside of an actor whose <code>receive</code> you control), and have the receiver use that instead of <code>sender</code>.</p>\n</li>\n<li><p>You can implement the ask pattern yourself in the sending actor: this is just a <code>tell</code>, scheduling a message to the sending actor after the timeout expires, and then having some means in your message protocol (the requests and responses) to determine which ask a given response is for).</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":31167,"reputation":10848,"user_id":85381,"accept_rate":80,"display_name":"iain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620210392,"creation_date":1620210392,"answer_id":67399496,"question_id":67369120,"body_markdown":"This is an interesting question and as Tim and Levi point out there is no clean way to do this. Even in akka typed the is no straight forward way. Because while the sender is explicit it is very common to require adaptors to map between protocols of different actors.\r\n\r\nIf you want to track the source of your messages in an actor, I suggest you make that explicit in the protocol of the actor and use an opaque type to represent the source in messages where it is tracked. Then it is obvious to the client what you are doing. It also makes bugs harder where one ActorRef to reply to and one used as the source get mixed up.\r\n\r\nOverloading the ActorRef for this could lead to confusion esp after moving to akka typed, where you would need one ActorRef as sender and another as source/identity.\r\n\r\nHere is an actor typed example (I didn&#39;t have a classic akka project to hand).\r\n\r\n    /** Opaque value to represent a unique actor as the source of messages */\r\n    final case class ActorSource private (ref: ActorRef[_])\r\n    \r\n    object ActorSource {\r\n      /** Constructing ActorSource from the context ensures actor is who it says it is */\r\n      def apply[T](context: ActorContext[T]): ActorSource = new ActorSource(context.self)\r\n    }\r\n\r\n    final case class TrackedMessage(data: String, source: ActorSource, sender[ActorRef[ReplyProtocol]])\r\n","title":"Akka ask work around the ignore of the sender","body":"<p>This is an interesting question and as Tim and Levi point out there is no clean way to do this. Even in akka typed the is no straight forward way. Because while the sender is explicit it is very common to require adaptors to map between protocols of different actors.</p>\n<p>If you want to track the source of your messages in an actor, I suggest you make that explicit in the protocol of the actor and use an opaque type to represent the source in messages where it is tracked. Then it is obvious to the client what you are doing. It also makes bugs harder where one ActorRef to reply to and one used as the source get mixed up.</p>\n<p>Overloading the ActorRef for this could lead to confusion esp after moving to akka typed, where you would need one ActorRef as sender and another as source/identity.</p>\n<p>Here is an actor typed example (I didn't have a classic akka project to hand).</p>\n<pre><code>/** Opaque value to represent a unique actor as the source of messages */\nfinal case class ActorSource private (ref: ActorRef[_])\n\nobject ActorSource {\n  /** Constructing ActorSource from the context ensures actor is who it says it is */\n  def apply[T](context: ActorContext[T]): ActorSource = new ActorSource(context.self)\n}\n\nfinal case class TrackedMessage(data: String, source: ActorSource, sender[ActorRef[ReplyProtocol]])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10081405,"reputation":3033,"user_id":7451566,"display_name":"senjin.hajrulahovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668001272,"creation_date":1668001272,"answer_id":74375800,"question_id":67369120,"body_markdown":"You can achieve this by using the `ExplicitAskSupport` trait which adds additional overloads of the `ask` method which allows you to pass the reference of the actor which gets implicitly created by akka when using the ask pattern:\r\n\r\n    def ask(message: ActorRef =&gt; Any)(implicit timeout: Timeout, sender: ActorRef = Actor.noSender): Future[Any]","title":"Akka ask work around the ignore of the sender","body":"<p>You can achieve this by using the <code>ExplicitAskSupport</code> trait which adds additional overloads of the <code>ask</code> method which allows you to pass the reference of the actor which gets implicitly created by akka when using the ask pattern:</p>\n<pre><code>def ask(message: ActorRef =&gt; Any)(implicit timeout: Timeout, sender: ActorRef = Actor.noSender): Future[Any]\n</code></pre>\n"}],"owner":{"account_id":20810677,"reputation":25,"user_id":15284688,"display_name":"Dirac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1668001272,"creation_date":1620045836,"question_id":67369120,"body_markdown":"I am trying to store the sender of a certain message so I can check in the future if it was the same sender that has sent the operation as before. Now this is not working and I read it is because the Akka ask ignores the actual sender and makes its own temporary actor which is used as sender until the future is resolved. Is there a way to work around this problem so you can access the real sender of the message without using the tell operation?","title":"Akka ask work around the ignore of the sender","body":"<p>I am trying to store the sender of a certain message so I can check in the future if it was the same sender that has sent the operation as before. Now this is not working and I read it is because the Akka ask ignores the actual sender and makes its own temporary actor which is used as sender until the future is resolved. Is there a way to work around this problem so you can access the real sender of the message without using the tell operation?</p>\n"},{"tags":["java","spring","lombok"],"answers":[{"tags":[],"owner":{"account_id":23134509,"reputation":91,"user_id":17238919,"display_name":"Nirmal Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668001269,"creation_date":1635475959,"answer_id":69763071,"question_id":69757605,"body_markdown":"Since you have used @Delegate annotation in id then you should be able to set/get TheId fields directly from BaseEntity Class.\r\n\r\nYou can read more about it at [Project Lombok][1]. \r\n\r\n\r\n  [1]: https://projectlombok.org/features/experimental/Delegate","title":"Lombok - expose @EmbeddedId fields to @SuperBuilder","body":"<p>Since you have used @Delegate annotation in id then you should be able to set/get TheId fields directly from BaseEntity Class.</p>\n<p>You can read more about it at <a href=\"https://projectlombok.org/features/experimental/Delegate\" rel=\"nofollow noreferrer\">Project Lombok</a>.</p>\n"},{"comments":[{"owner":{"account_id":5221319,"reputation":718,"user_id":4174701,"accept_rate":27,"display_name":"michelson"},"score":0,"creation_date":1635707272,"post_id":69774870,"comment_id":123361339,"body_markdown":"Yep, it feels like custom implementation like that is not worth the effort. I thought there is some in-built feature in Lombok I failed to find.","body":"Yep, it feels like custom implementation like that is not worth the effort. I thought there is some in-built feature in Lombok I failed to find."}],"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635542303,"creation_date":1635542303,"answer_id":69774870,"question_id":69757605,"body_markdown":"There is no automatic way to insert delegates into a `@(Super)Builder`.\r\nHowever, if your delegatee class (`TheId` in this case) does not contain too many fields, you can manually add the corresponding setter methods to the builder class. Just add the correct builder class header, put your code in it, and Lombok will add all the remaining code that you do not manually write.\r\n\r\nAdmittedly, it&#39;s a bit tricky. The code `@SuperBuilder` generates is quite complex, and you do not want to add too much manual stuff, because you want to keep the advantages of Lombok: If you change something in your annotated class, you wouldn&#39;t want to rewrite all your manual methods. So this solution tries to keep most of the automation at the cost of a little bit of performance/memory waste.\r\n\r\n\t@SuperBuilder(builderMethodName = &quot;having&quot;)\r\n\tpublic class BaseEntity {\r\n\t\t@Delegate\r\n\t\tprivate TheId id;\r\n\t\r\n\t\tprivate String longDescription;\r\n\t\r\n\t\tpublic static abstract class BaseEntityBuilder&lt;C extends BaseEntity, B extends BaseEntityBuilder&lt;C, B&gt;&gt; {\r\n\t\t\tprivate TheId.TheIdBuilder theIdBuilder = TheId.having();\r\n\t\t\t\r\n\t\t\t// Manually implement all delegations.\r\n\t\t\tpublic B name(String name) {\r\n\t\t\t\ttheIdBuilder.name(name);\r\n\t\t\t\t// Instantiating every time you call the setter is not optimal, \r\n\t\t\t\t// but better than manually writing the constructor.\r\n\t\t\t\tid = theIdBuilder.build();\r\n\t\t\t\treturn self();\r\n\t\t\t}\r\n\t\t\tpublic B description(String description) {\r\n\t\t\t\ttheIdBuilder.description(description);\r\n\t\t\t\tid = theIdBuilder.build();\r\n\t\t\t\treturn self();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Make this method invisible. \r\n\t\t\t@SuppressWarnings(&quot;unused&quot;)\r\n\t\t\tprivate B id() {\r\n\t\t\t\treturn self();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nIs it worth it? That&#39;s a matter of taste and how much it improves the applicability/usability/readability of the builder in your case.","title":"Lombok - expose @EmbeddedId fields to @SuperBuilder","body":"<p>There is no automatic way to insert delegates into a <code>@(Super)Builder</code>.\nHowever, if your delegatee class (<code>TheId</code> in this case) does not contain too many fields, you can manually add the corresponding setter methods to the builder class. Just add the correct builder class header, put your code in it, and Lombok will add all the remaining code that you do not manually write.</p>\n<p>Admittedly, it's a bit tricky. The code <code>@SuperBuilder</code> generates is quite complex, and you do not want to add too much manual stuff, because you want to keep the advantages of Lombok: If you change something in your annotated class, you wouldn't want to rewrite all your manual methods. So this solution tries to keep most of the automation at the cost of a little bit of performance/memory waste.</p>\n<pre><code>@SuperBuilder(builderMethodName = &quot;having&quot;)\npublic class BaseEntity {\n    @Delegate\n    private TheId id;\n\n    private String longDescription;\n\n    public static abstract class BaseEntityBuilder&lt;C extends BaseEntity, B extends BaseEntityBuilder&lt;C, B&gt;&gt; {\n        private TheId.TheIdBuilder theIdBuilder = TheId.having();\n        \n        // Manually implement all delegations.\n        public B name(String name) {\n            theIdBuilder.name(name);\n            // Instantiating every time you call the setter is not optimal, \n            // but better than manually writing the constructor.\n            id = theIdBuilder.build();\n            return self();\n        }\n        public B description(String description) {\n            theIdBuilder.description(description);\n            id = theIdBuilder.build();\n            return self();\n        }\n        \n        // Make this method invisible. \n        @SuppressWarnings(&quot;unused&quot;)\n        private B id() {\n            return self();\n        }\n    }\n}\n</code></pre>\n<p>Is it worth it? That's a matter of taste and how much it improves the applicability/usability/readability of the builder in your case.</p>\n"}],"owner":{"account_id":5221319,"reputation":718,"user_id":4174701,"accept_rate":27,"display_name":"michelson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69774870,"answer_count":2,"score":1,"last_activity_date":1668001269,"creation_date":1635437782,"question_id":69757605,"body_markdown":"is there a way to expose properties defined in `@EmbeddedId` to `@SuperBuilder`?\r\n\r\n\r\n```java\r\n// Composite id class\r\n@Data\r\n@Builder(builderMethodName = &quot;having&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Embeddable\r\npublic class TheId {\r\n    @Column(name = &quot;name&quot;, insertable = false)\r\n    private String name;\r\n\r\n    @Column(name = &quot;description&quot;, insertable = false)\r\n    private String description;\r\n}\r\n\r\n// Base entity class\r\n@SuperBuilder \r\n@Getter\r\n@Immutable\r\n@MappedSuperclass\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class BaseEntity implements Serializable {\r\n    @Delegate\r\n    @EmbeddedId\r\n    private TheId id;\r\n\r\n    @Column(name = &quot;long_description&quot;, insertable = false)\r\n    private String longDescription;\r\n}\r\n\r\n// Concreate entity over database view\r\n@Entity\r\n@Table(name = &quot;view_number_1&quot;)\r\n@Getter\r\n@Setter\r\n@Immutable\r\n@AllArgsConstructor(staticName = &quot;of&quot;)\r\n@SuperBuilder(builderMethodName = &quot;having&quot;)\r\npublic class ConcreteEntity1 extends BaseEntity {}\r\n```\r\n\r\nI&#39;d like to be able to write code like that:\r\n```java\r\nConcreateEntity1.having()\r\n    .name(&quot;the name&quot;)\r\n    .description(&quot;something&quot;)\r\n    .longDescription(&quot;akjsbdkasbd&quot;)\r\n    .build();\r\n```\r\ninstead of\r\n```java\r\nConcreateEntity1.having()\r\n    .id(TheId.having()\r\n        .name(&quot;the name&quot;)\r\n        .description(&quot;something&quot;)\r\n        .build())\r\n    .longDescription(&quot;akjsbdkasbd&quot;)\r\n    .build();\r\n```\r\nReason behinds whole concept: \r\nsame-named columns are present across several views so it&#39;s kind of logical to have one base class for them all. Although entities themselves are immutable (db view based) I&#39;d like using `builder` in tests that&#39;s why I&#39;d like to have them as above. \r\n\r\n","title":"Lombok - expose @EmbeddedId fields to @SuperBuilder","body":"<p>is there a way to expose properties defined in <code>@EmbeddedId</code> to <code>@SuperBuilder</code>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Composite id class\n@Data\n@Builder(builderMethodName = &quot;having&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Embeddable\npublic class TheId {\n    @Column(name = &quot;name&quot;, insertable = false)\n    private String name;\n\n    @Column(name = &quot;description&quot;, insertable = false)\n    private String description;\n}\n\n// Base entity class\n@SuperBuilder \n@Getter\n@Immutable\n@MappedSuperclass\n@AllArgsConstructor\n@NoArgsConstructor\npublic class BaseEntity implements Serializable {\n    @Delegate\n    @EmbeddedId\n    private TheId id;\n\n    @Column(name = &quot;long_description&quot;, insertable = false)\n    private String longDescription;\n}\n\n// Concreate entity over database view\n@Entity\n@Table(name = &quot;view_number_1&quot;)\n@Getter\n@Setter\n@Immutable\n@AllArgsConstructor(staticName = &quot;of&quot;)\n@SuperBuilder(builderMethodName = &quot;having&quot;)\npublic class ConcreteEntity1 extends BaseEntity {}\n</code></pre>\n<p>I'd like to be able to write code like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConcreateEntity1.having()\n    .name(&quot;the name&quot;)\n    .description(&quot;something&quot;)\n    .longDescription(&quot;akjsbdkasbd&quot;)\n    .build();\n</code></pre>\n<p>instead of</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConcreateEntity1.having()\n    .id(TheId.having()\n        .name(&quot;the name&quot;)\n        .description(&quot;something&quot;)\n        .build())\n    .longDescription(&quot;akjsbdkasbd&quot;)\n    .build();\n</code></pre>\n<p>Reason behinds whole concept:\nsame-named columns are present across several views so it's kind of logical to have one base class for them all. Although entities themselves are immutable (db view based) I'd like using <code>builder</code> in tests that's why I'd like to have them as above.</p>\n"},{"tags":["java","junit5","assertj","exceptionhandler"],"answers":[{"comments":[{"owner":{"account_id":21012101,"reputation":13,"user_id":15440478,"display_name":"Dan Lee"},"score":0,"creation_date":1667999494,"post_id":74374350,"comment_id":131300947,"body_markdown":"Thank you!! your answer solved my problem!\nit&#39;s so hard to decide or even to know what Assertion method to use under difference circumstance. I&#39;ll keep digging. \nOnce again i appreciate it","body":"Thank you!! your answer solved my problem! it&#39;s so hard to decide or even to know what Assertion method to use under difference circumstance. I&#39;ll keep digging.  Once again i appreciate it"},{"owner":{"account_id":12849899,"reputation":996,"user_id":9295125,"display_name":"Daniel Rafael Wosch"},"score":1,"creation_date":1668003359,"post_id":74374350,"comment_id":131302466,"body_markdown":"You could also make it more readable\n\n`assertThatExceptionOfType(IllegalArgumentException.class)\n                .isThrownBy(() -&gt; Application.enterTheAmount());`","body":"You could also make it more readable  <code>assertThatExceptionOfType(IllegalArgumentException.class)                 .isThrownBy(() -&gt; Application.enterTheAmount());</code>"}],"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667994309,"creation_date":1667994309,"answer_id":74374350,"question_id":74374294,"body_markdown":"You should use `assertThrows` to check this.\r\n\r\n```Java\r\nassertThrows(IllegalArgumentException.class, () -&gt; Application.enterTheAmount());\r\n```\r\n\r\nThis will assert that the method throws an exception. If it doesn&#39;t, the test will be considered as failed.","title":"AssertJ exception handling (feat.assertThat+isInstanceOf)","body":"<p>You should use <code>assertThrows</code> to check this.</p>\n<pre><code>assertThrows(IllegalArgumentException.class, () -&gt; Application.enterTheAmount());\n</code></pre>\n<p>This will assert that the method throws an exception. If it doesn't, the test will be considered as failed.</p>\n"},{"tags":[],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1668001086,"creation_date":1667995074,"answer_id":74374516,"question_id":74374294,"body_markdown":"In the same situation I added a variable with `Class` type :\r\n\r\n    private Class exceptionClass;\r\n\r\nAnd I will initialize it in a `catch` block as below:\r\n    \r\n\r\n    public void updateBalance() {\r\n            try {\r\n                Account account = accountRepository.findById(id).get();\r\n                account.setBalance(balance);\r\n                accountRepository.save(account);\r\n            } catch (Exception e) {\r\n                exceptionClass = e.getClass();\r\n            } \r\n        }\r\n\r\nAnd I wrote a method for my class that will check the result like below:\r\n\r\n\r\n    boolean hasObjectOptimisticLockingFailure() {\r\n        return this.exceptionClass == ObjectOptimisticLockingFailureException.class;\r\n     }\r\n\r\nThen in my test method I checked it with below assertion statement:\r\n\r\n    assertTrue(account1.hasObjectOptimisticLockingFailure() \r\n    || account2.hasObjectOptimisticLockingFailure());\r\n\r\nI think you can do the same for your codes!!\r\n\r\n","title":"AssertJ exception handling (feat.assertThat+isInstanceOf)","body":"<p>In the same situation I added a variable with <code>Class</code> type :</p>\n<pre><code>private Class exceptionClass;\n</code></pre>\n<p>And I will initialize it in a <code>catch</code> block as below:</p>\n<pre><code>public void updateBalance() {\n        try {\n            Account account = accountRepository.findById(id).get();\n            account.setBalance(balance);\n            accountRepository.save(account);\n        } catch (Exception e) {\n            exceptionClass = e.getClass();\n        } \n    }\n</code></pre>\n<p>And I wrote a method for my class that will check the result like below:</p>\n<pre><code>boolean hasObjectOptimisticLockingFailure() {\n    return this.exceptionClass == ObjectOptimisticLockingFailureException.class;\n }\n</code></pre>\n<p>Then in my test method I checked it with below assertion statement:</p>\n<pre><code>assertTrue(account1.hasObjectOptimisticLockingFailure() \n|| account2.hasObjectOptimisticLockingFailure());\n</code></pre>\n<p>I think you can do the same for your codes!!</p>\n"}],"owner":{"account_id":21012101,"reputation":13,"user_id":15440478,"display_name":"Dan Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74374516,"answer_count":2,"score":1,"last_activity_date":1668001086,"creation_date":1667994057,"question_id":74374294,"body_markdown":"I have been on this problem for hours but couldn&#39;t get close to solution.\r\nAny help will be appreciated.\r\n\r\n\r\n```\r\npublic static int enterTheAmount(){\r\n    int final LOTTO_PRICE = 1000;\r\n    int amount = Integer.parseInt(Console.readLine());\r\n    if(amount%LOTTO_PRICE!=0) throw new IllegalArgumentException();\r\n\r\n    return amount/LOTTO_PRICE;\r\n}\r\n```\r\n\r\nHere, a user is going to enter a number, and if the number is not divisible by 1000, it throws an exception. \r\n\r\n\r\n```\r\nvoid validateTheEnteredAmount(){\r\n    final String INVALID_NUMBER = &quot;1234&quot;;\r\n    InputStream in = new ByteArrayInputStream(INVALID_NUMBER.getBytes());\r\n    System.setIn(in);\r\n    assertThat(Application.enterTheAmount()).\r\n            isInstanceOf(IllegalArgumentException.class);\r\n}\r\n```\r\nAnd I want to know when invalid number is entered, illegalArgumentException is thrown. \r\nI used assertThat method &amp; isInstanceOf methods to validate. \r\nbut for some reason, the test keeps failing..\r\nAnyone with clues, please help\r\n\r\ni used inputStream to store the number into the scanner. \r\nOn the console, it shows that illegalargumentexception is thrown, but the test fails..","title":"AssertJ exception handling (feat.assertThat+isInstanceOf)","body":"<p>I have been on this problem for hours but couldn't get close to solution.\nAny help will be appreciated.</p>\n<pre><code>public static int enterTheAmount(){\n    int final LOTTO_PRICE = 1000;\n    int amount = Integer.parseInt(Console.readLine());\n    if(amount%LOTTO_PRICE!=0) throw new IllegalArgumentException();\n\n    return amount/LOTTO_PRICE;\n}\n</code></pre>\n<p>Here, a user is going to enter a number, and if the number is not divisible by 1000, it throws an exception.</p>\n<pre><code>void validateTheEnteredAmount(){\n    final String INVALID_NUMBER = &quot;1234&quot;;\n    InputStream in = new ByteArrayInputStream(INVALID_NUMBER.getBytes());\n    System.setIn(in);\n    assertThat(Application.enterTheAmount()).\n            isInstanceOf(IllegalArgumentException.class);\n}\n</code></pre>\n<p>And I want to know when invalid number is entered, illegalArgumentException is thrown.\nI used assertThat method &amp; isInstanceOf methods to validate.\nbut for some reason, the test keeps failing..\nAnyone with clues, please help</p>\n<p>i used inputStream to store the number into the scanner.\nOn the console, it shows that illegalargumentexception is thrown, but the test fails..</p>\n"},{"tags":["java","jdbc","database-metadata"],"answers":[{"comments":[{"owner":{"account_id":275569,"reputation":17036,"user_id":568508,"accept_rate":74,"display_name":"Kevin Parker"},"score":3,"creation_date":1329110303,"post_id":2780375,"comment_id":11663905,"body_markdown":"If this fails for you (like it did me) you need to make sure the database user can actually show tables on the database.","body":"If this fails for you (like it did me) you need to make sure the database user can actually show tables on the database."},{"owner":{"account_id":1681423,"reputation":1788,"user_id":1545579,"accept_rate":75,"display_name":"Mahdi"},"score":4,"creation_date":1467190356,"post_id":2780375,"comment_id":63624382,"body_markdown":"It shows all tables in all databases. You can pass the database name as the first parameter to shows tables only in that db.","body":"It shows all tables in all databases. You can pass the database name as the first parameter to shows tables only in that db."},{"owner":{"account_id":103073,"reputation":9057,"user_id":276263,"accept_rate":58,"display_name":"krishnakumarp"},"score":2,"creation_date":1561443009,"post_id":2780375,"comment_id":100053632,"body_markdown":"For mysql, ResultSet rs = md.getTables(connection.getCatalog(), null, &quot;%&quot;, new String [] {&quot;TABLE&quot;}); gives you only tables of your current schema.","body":"For mysql, ResultSet rs = md.getTables(connection.getCatalog(), null, &quot;%&quot;, new String [] {&quot;TABLE&quot;}); gives you only tables of your current schema."},{"owner":{"account_id":7584258,"reputation":5985,"user_id":5753968,"display_name":"Pardhu"},"score":0,"creation_date":1589404064,"post_id":2780375,"comment_id":109285100,"body_markdown":"Why are we giving a % here? Shouldn&#39;t we use something like &quot;.*&quot;?","body":"Why are we giving a % here? Shouldn&#39;t we use something like &quot;.*&quot;?"},{"owner":{"account_id":9400,"reputation":54564,"user_id":17343,"accept_rate":81,"display_name":"Peter Lang"},"score":1,"creation_date":1589433661,"post_id":2780375,"comment_id":109293524,"body_markdown":"@Pardhu: This is not a regex, `%` is used as wildcard in SQL.","body":"@Pardhu: This is not a regex, <code>%</code> is used as wildcard in SQL."}],"tags":[],"owner":{"account_id":9400,"reputation":54564,"user_id":17343,"accept_rate":81,"display_name":"Peter Lang"},"comment_count":5,"down_vote_count":0,"up_vote_count":145,"is_accepted":true,"score":145,"last_activity_date":1490073064,"creation_date":1273142291,"answer_id":2780375,"question_id":2780284,"body_markdown":"You need to iterate over your ResultSet calling `next()`.\r\n\r\nThis is an example from [java2s.com][1]:\r\n\r\n    DatabaseMetaData md = conn.getMetaData();\r\n    ResultSet rs = md.getTables(null, null, &quot;%&quot;, null);\r\n    while (rs.next()) {\r\n      System.out.println(rs.getString(3));\r\n    }\r\n\r\nColumn **3** is the `TABLE_NAME` (see documentation of [`DatabaseMetaData::getTables`][2]).\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/JavaAPI/java.sql/DatabaseMetaDatagetTablesStringcatalogStringschemaPatternStringtableNamePatternStringtypes.htm\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/sql/DatabaseMetaData.html#getTables-java.lang.String-java.lang.String-java.lang.String-java.lang.String:A-","title":"How to get all table names from a database?","body":"<p>You need to iterate over your ResultSet calling <code>next()</code>.</p>\n\n<p>This is an example from <a href=\"http://www.java2s.com/Code/JavaAPI/java.sql/DatabaseMetaDatagetTablesStringcatalogStringschemaPatternStringtableNamePatternStringtypes.htm\" rel=\"noreferrer\">java2s.com</a>:</p>\n\n<pre><code>DatabaseMetaData md = conn.getMetaData();\nResultSet rs = md.getTables(null, null, \"%\", null);\nwhile (rs.next()) {\n  System.out.println(rs.getString(3));\n}\n</code></pre>\n\n<p>Column <strong>3</strong> is the <code>TABLE_NAME</code> (see documentation of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/DatabaseMetaData.html#getTables-java.lang.String-java.lang.String-java.lang.String-java.lang.String:A-\" rel=\"noreferrer\"><code>DatabaseMetaData::getTables</code></a>).</p>\n"},{"tags":[],"owner":{"account_id":35592,"reputation":4710,"user_id":100856,"display_name":"Sualeh Fatehi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1273175957,"creation_date":1273175957,"answer_id":2784046,"question_id":2780284,"body_markdown":"If you want to use a high-level API, that hides a lot of the JDBC complexity around database schema metadata, take a look at this article: http://www.devx.com/Java/Article/32443/1954","title":"How to get all table names from a database?","body":"<p>If you want to use a high-level API, that hides a lot of the JDBC complexity around database schema metadata, take a look at this article: <a href=\"http://www.devx.com/Java/Article/32443/1954\" rel=\"nofollow noreferrer\">http://www.devx.com/Java/Article/32443/1954</a></p>\n"},{"comments":[{"owner":{"account_id":1681423,"reputation":1788,"user_id":1545579,"accept_rate":75,"display_name":"Mahdi"},"score":2,"creation_date":1467190377,"post_id":16580430,"comment_id":63624395,"body_markdown":"It shows all tables in all databases. You can pass the database name as the first parameter to shows tables only in that db.","body":"It shows all tables in all databases. You can pass the database name as the first parameter to shows tables only in that db."},{"owner":{"account_id":1604214,"reputation":4524,"user_id":1484621,"accept_rate":70,"display_name":"Yu Jiaao"},"score":0,"creation_date":1612281972,"post_id":16580430,"comment_id":116715172,"body_markdown":"Start with driver mysql-connector-java 8.0.22 metaData.getTables return all user visible tables from all databases, ignore parameter &#39;schema&#39;","body":"Start with driver mysql-connector-java 8.0.22 metaData.getTables return all user visible tables from all databases, ignore parameter &#39;schema&#39;"}],"tags":[],"owner":{"account_id":2774895,"reputation":311,"user_id":2388658,"display_name":"Rohit"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1368685720,"creation_date":1368685720,"answer_id":16580430,"question_id":2780284,"body_markdown":"     public void getDatabaseMetaData()\r\n        {\r\n            try {\r\n    \r\n                DatabaseMetaData dbmd = conn.getMetaData();\r\n                String[] types = {&quot;TABLE&quot;};\r\n                ResultSet rs = dbmd.getTables(null, null, &quot;%&quot;, types);\r\n                while (rs.next()) {\r\n                    System.out.println(rs.getString(&quot;TABLE_NAME&quot;));\r\n                }\r\n            } \r\n                catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }","title":"How to get all table names from a database?","body":"<pre><code> public void getDatabaseMetaData()\n    {\n        try {\n\n            DatabaseMetaData dbmd = conn.getMetaData();\n            String[] types = {\"TABLE\"};\n            ResultSet rs = dbmd.getTables(null, null, \"%\", types);\n            while (rs.next()) {\n                System.out.println(rs.getString(\"TABLE_NAME\"));\n            }\n        } \n            catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2081624,"reputation":911,"user_id":1853505,"accept_rate":67,"display_name":"Punit Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1395381042,"creation_date":1395381042,"answer_id":22551227,"question_id":2780284,"body_markdown":"In your example problem is passed table name pattern in getTables function of DatabaseMetaData. \r\n\r\nSome database supports Uppercase identifier, some support lower case identifiers. For example oracle fetches the table name in upper case, while postgreSQL fetch it in lower case. \r\n\r\nDatabaseMetaDeta provides a method to determine how the database stores identifiers, can be mixed case, uppercase, lowercase see:http://docs.oracle.com/javase/7/docs/api/java/sql/DatabaseMetaData.html#storesMixedCaseIdentifiers() \r\n\r\nFrom below example, you can get all tables and view of providing table name pattern, if you want only tables then remove &quot;VIEW&quot; from TYPES array.\r\n\r\n\r\n    public class DBUtility {\r\n    \tprivate static final String[] TYPES = {&quot;TABLE&quot;, &quot;VIEW&quot;};\r\n    \tpublic static void getTableMetadata(Connection jdbcConnection, String tableNamePattern, String schema, String catalog, boolean isQuoted) throws HibernateException {\r\n    \t\t\ttry {\r\n    \t\t\t\tDatabaseMetaData meta = jdbcConnection.getMetaData();\r\n    \t\t\t\tResultSet rs = null;\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tif ( (isQuoted &amp;&amp; meta.storesMixedCaseQuotedIdentifiers())) {\r\n    \t\t\t\t\t\trs = meta.getTables(catalog, schema, tableNamePattern, TYPES);\r\n    \t\t\t\t\t} else if ( (isQuoted &amp;&amp; meta.storesUpperCaseQuotedIdentifiers())\r\n    \t\t\t\t\t\t|| (!isQuoted &amp;&amp; meta.storesUpperCaseIdentifiers() )) {\r\n    \t\t\t\t\t\trs = meta.getTables(\r\n    \t\t\t\t\t\t\t\tStringHelper.toUpperCase(catalog),\r\n    \t\t\t\t\t\t\t\tStringHelper.toUpperCase(schema),\r\n    \t\t\t\t\t\t\t\tStringHelper.toUpperCase(tableNamePattern),\r\n    \t\t\t\t\t\t\t\tTYPES\r\n    \t\t\t\t\t\t\t);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse if ( (isQuoted &amp;&amp; meta.storesLowerCaseQuotedIdentifiers())\r\n    \t\t\t\t\t\t\t|| (!isQuoted &amp;&amp; meta.storesLowerCaseIdentifiers() )) {\r\n    \t\t\t\t\t\trs = meta.getTables( \r\n    \t\t\t\t\t\t\t\tStringHelper.toLowerCase( catalog ),\r\n    \t\t\t\t\t\t\t\tStringHelper.toLowerCase(schema), \r\n    \t\t\t\t\t\t\t\tStringHelper.toLowerCase(tableNamePattern), \r\n    \t\t\t\t\t\t\t\tTYPES \r\n    \t\t\t\t\t\t\t);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse {\r\n    \t\t\t\t\t\trs = meta.getTables(catalog, schema, tableNamePattern, TYPES);\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\twhile ( rs.next() ) {\r\n    \t\t\t\t\t\tString tableName = rs.getString(&quot;TABLE_NAME&quot;);\r\n    \t\t\t\t\t\tSystem.out.println(&quot;table = &quot; + tableName);\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t\tfinally {\r\n    \t\t\t\t\tif (rs!=null) rs.close();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tcatch (SQLException sqlException) {\r\n    \t\t\t\t// TODO \r\n    \t\t\t\tsqlException.printStackTrace();\r\n    \t\t\t}\r\n    \r\n    \t}\r\n    \t \r\n    \tpublic static void main(String[] args) {\r\n    \t\tConnection jdbcConnection;\r\n    \t\ttry {\r\n    \t\t\tjdbcConnection = DriverManager.getConnection(&quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n    \t\t\tgetTableMetadata(jdbcConnection, &quot;tbl%&quot;, null, null, false);\r\n    \t\t} catch (SQLException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How to get all table names from a database?","body":"<p>In your example problem is passed table name pattern in getTables function of DatabaseMetaData. </p>\n\n<p>Some database supports Uppercase identifier, some support lower case identifiers. For example oracle fetches the table name in upper case, while postgreSQL fetch it in lower case. </p>\n\n<p>DatabaseMetaDeta provides a method to determine how the database stores identifiers, can be mixed case, uppercase, lowercase see:<a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/DatabaseMetaData.html#storesMixedCaseIdentifiers()\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/sql/DatabaseMetaData.html#storesMixedCaseIdentifiers()</a> </p>\n\n<p>From below example, you can get all tables and view of providing table name pattern, if you want only tables then remove \"VIEW\" from TYPES array.</p>\n\n<pre><code>public class DBUtility {\n    private static final String[] TYPES = {\"TABLE\", \"VIEW\"};\n    public static void getTableMetadata(Connection jdbcConnection, String tableNamePattern, String schema, String catalog, boolean isQuoted) throws HibernateException {\n            try {\n                DatabaseMetaData meta = jdbcConnection.getMetaData();\n                ResultSet rs = null;\n                try {\n                    if ( (isQuoted &amp;&amp; meta.storesMixedCaseQuotedIdentifiers())) {\n                        rs = meta.getTables(catalog, schema, tableNamePattern, TYPES);\n                    } else if ( (isQuoted &amp;&amp; meta.storesUpperCaseQuotedIdentifiers())\n                        || (!isQuoted &amp;&amp; meta.storesUpperCaseIdentifiers() )) {\n                        rs = meta.getTables(\n                                StringHelper.toUpperCase(catalog),\n                                StringHelper.toUpperCase(schema),\n                                StringHelper.toUpperCase(tableNamePattern),\n                                TYPES\n                            );\n                    }\n                    else if ( (isQuoted &amp;&amp; meta.storesLowerCaseQuotedIdentifiers())\n                            || (!isQuoted &amp;&amp; meta.storesLowerCaseIdentifiers() )) {\n                        rs = meta.getTables( \n                                StringHelper.toLowerCase( catalog ),\n                                StringHelper.toLowerCase(schema), \n                                StringHelper.toLowerCase(tableNamePattern), \n                                TYPES \n                            );\n                    }\n                    else {\n                        rs = meta.getTables(catalog, schema, tableNamePattern, TYPES);\n                    }\n\n                    while ( rs.next() ) {\n                        String tableName = rs.getString(\"TABLE_NAME\");\n                        System.out.println(\"table = \" + tableName);\n                    }\n\n\n\n                }\n                finally {\n                    if (rs!=null) rs.close();\n                }\n            }\n            catch (SQLException sqlException) {\n                // TODO \n                sqlException.printStackTrace();\n            }\n\n    }\n\n    public static void main(String[] args) {\n        Connection jdbcConnection;\n        try {\n            jdbcConnection = DriverManager.getConnection(\"\", \"\", \"\");\n            getTableMetadata(jdbcConnection, \"tbl%\", null, null, false);\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10105868,"reputation":31,"user_id":7468469,"display_name":"Krishna Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668000835,"creation_date":1485340309,"answer_id":41849227,"question_id":2780284,"body_markdown":"```java\r\npublic static ArrayList&lt;String&gt; getTablesList(Connection conn) throws SQLException {\r\n    \r\n    ArrayList&lt;String&gt; listofTable = new ArrayList&lt;String&gt;();\r\n    \r\n    DatabaseMetaData md = conn.getMetaData();\r\n    \r\n    ResultSet rs = md.getTables(null, null, &quot;%&quot;, null);\r\n    \r\n    while (rs.next()) {\r\n        if (rs.getString(4).equalsIgnoreCase(&quot;TABLE&quot;)) {\r\n            listofTable.add(rs.getString(3));\r\n        }\r\n    }\r\n    return listofTable;\r\n}\r\n```","title":"How to get all table names from a database?","body":"<pre class=\"lang-java prettyprint-override\"><code>public static ArrayList&lt;String&gt; getTablesList(Connection conn) throws SQLException {\n    \n    ArrayList&lt;String&gt; listofTable = new ArrayList&lt;String&gt;();\n    \n    DatabaseMetaData md = conn.getMetaData();\n    \n    ResultSet rs = md.getTables(null, null, &quot;%&quot;, null);\n    \n    while (rs.next()) {\n        if (rs.getString(4).equalsIgnoreCase(&quot;TABLE&quot;)) {\n            listofTable.add(rs.getString(3));\n        }\n    }\n    return listofTable;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15009582,"reputation":1,"user_id":10834482,"display_name":"Ravi kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1559737604,"creation_date":1559737604,"answer_id":56460483,"question_id":2780284,"body_markdown":"    @Transactional\r\n\t@RequestMapping(value = { &quot;/getDatabaseTables&quot; }, method = RequestMethod.GET)\r\n\tpublic @ResponseBody String getDatabaseTables() throws Exception{ \r\n\r\n\t\tConnection con = ((SessionImpl) sessionFactory.getCurrentSession()).connection();\r\n\t\tDatabaseMetaData md = con.getMetaData();\r\n\t\tResultSet rs = md.getTables(null, null, &quot;%&quot;, null);\r\n\t\tHashMap&lt;String,List&lt;String&gt;&gt; databaseTables = new HashMap&lt;String,List&lt;String&gt;&gt;();\r\n\t\tList&lt;String&gt; tables = new ArrayList&lt;String&gt;();\r\n\t\tString db = &quot;&quot;;\r\n\t\twhile (rs.next()) {\r\n\t\t\ttables.add(rs.getString(3));\r\n\t\t\tdb = rs.getString(1);\r\n\t\t}\r\n\t\tList&lt;String&gt; database = new ArrayList&lt;String&gt;();\r\n\t\tdatabase.add(db);\r\n\t\tdatabaseTables.put(&quot;database&quot;, database);\r\n\t\tCollections.reverse(tables);\r\n\t\tdatabaseTables.put(&quot;tables&quot;, tables);\r\n\t\treturn new ObjectMapper().writeValueAsString(databaseTables);\r\n\t}\r\n\t\r\n\t@Transactional\r\n\t@RequestMapping(value = { &quot;/getTableDetails&quot; }, method = RequestMethod.GET)\r\n\tpublic @ResponseBody String getTableDetails(@RequestParam(value=&quot;tablename&quot;)String tablename) throws Exception{ \r\n\t\tSystem.out.println(&quot;...tablename......&quot;+tablename);\r\n\t\tConnection con = ((SessionImpl) sessionFactory.getCurrentSession()).connection();\t\t\r\n\t\t Statement st = con.createStatement();\r\n         String sql = &quot;select * from &quot;+tablename;\r\n         ResultSet rs = st.executeQuery(sql);\r\n         ResultSetMetaData metaData = rs.getMetaData();\r\n         int rowCount = metaData.getColumnCount();    \r\n         List&lt;HashMap&lt;String,String&gt;&gt; databaseColumns = new ArrayList&lt;HashMap&lt;String,String&gt;&gt;();\r\n         HashMap&lt;String,String&gt; columnDetails = new HashMap&lt;String,String&gt;();\r\n         for (int i = 0; i &lt; rowCount; i++) {\r\n        \t columnDetails = new HashMap&lt;String,String&gt;();\r\n        \t Method method = com.mysql.jdbc.ResultSetMetaData.class.getDeclaredMethod(&quot;getField&quot;, int.class);\r\n             method.setAccessible(true);\r\n             com.mysql.jdbc.Field field = (com.mysql.jdbc.Field) method.invoke(metaData, i+1);\r\n             columnDetails.put(&quot;columnName&quot;, field.getName());//metaData.getColumnName(i + 1));\r\n             columnDetails.put(&quot;columnType&quot;, metaData.getColumnTypeName(i + 1));\r\n             columnDetails.put(&quot;columnSize&quot;, field.getLength()+&quot;&quot;);//metaData.getColumnDisplaySize(i + 1)+&quot;&quot;);\r\n             columnDetails.put(&quot;columnColl&quot;, field.getCollation());\r\n             columnDetails.put(&quot;columnNull&quot;, ((metaData.isNullable(i + 1)==0)?&quot;NO&quot;:&quot;YES&quot;));\r\n             if (field.isPrimaryKey()) {\r\n            \t columnDetails.put(&quot;columnKEY&quot;, &quot;PRI&quot;);\r\n             } else if(field.isMultipleKey()) {\r\n            \t columnDetails.put(&quot;columnKEY&quot;, &quot;MUL&quot;);\r\n             } else if(field.isUniqueKey()) {\r\n            \t columnDetails.put(&quot;columnKEY&quot;, &quot;UNI&quot;);\r\n\t         } else {\r\n\t        \t columnDetails.put(&quot;columnKEY&quot;, &quot;&quot;);\r\n\t         }\r\n             columnDetails.put(&quot;columnAINC&quot;, (field.isAutoIncrement()?&quot;AUTO_INC&quot;:&quot;&quot;));\r\n             databaseColumns.add(columnDetails);\r\n         }\r\n\t\tHashMap&lt;String,List&lt;HashMap&lt;String,String&gt;&gt;&gt; tableColumns = new HashMap&lt;String,List&lt;HashMap&lt;String,String&gt;&gt;&gt;();\r\n\t\tCollections.reverse(databaseColumns);\r\n\t\ttableColumns.put(&quot;columns&quot;, databaseColumns);\r\n\t\treturn new ObjectMapper().writeValueAsString(tableColumns);\r\n\t}","title":"How to get all table names from a database?","body":"<pre><code>@Transactional\n@RequestMapping(value = { \"/getDatabaseTables\" }, method = RequestMethod.GET)\npublic @ResponseBody String getDatabaseTables() throws Exception{ \n\n    Connection con = ((SessionImpl) sessionFactory.getCurrentSession()).connection();\n    DatabaseMetaData md = con.getMetaData();\n    ResultSet rs = md.getTables(null, null, \"%\", null);\n    HashMap&lt;String,List&lt;String&gt;&gt; databaseTables = new HashMap&lt;String,List&lt;String&gt;&gt;();\n    List&lt;String&gt; tables = new ArrayList&lt;String&gt;();\n    String db = \"\";\n    while (rs.next()) {\n        tables.add(rs.getString(3));\n        db = rs.getString(1);\n    }\n    List&lt;String&gt; database = new ArrayList&lt;String&gt;();\n    database.add(db);\n    databaseTables.put(\"database\", database);\n    Collections.reverse(tables);\n    databaseTables.put(\"tables\", tables);\n    return new ObjectMapper().writeValueAsString(databaseTables);\n}\n\n@Transactional\n@RequestMapping(value = { \"/getTableDetails\" }, method = RequestMethod.GET)\npublic @ResponseBody String getTableDetails(@RequestParam(value=\"tablename\")String tablename) throws Exception{ \n    System.out.println(\"...tablename......\"+tablename);\n    Connection con = ((SessionImpl) sessionFactory.getCurrentSession()).connection();       \n     Statement st = con.createStatement();\n     String sql = \"select * from \"+tablename;\n     ResultSet rs = st.executeQuery(sql);\n     ResultSetMetaData metaData = rs.getMetaData();\n     int rowCount = metaData.getColumnCount();    \n     List&lt;HashMap&lt;String,String&gt;&gt; databaseColumns = new ArrayList&lt;HashMap&lt;String,String&gt;&gt;();\n     HashMap&lt;String,String&gt; columnDetails = new HashMap&lt;String,String&gt;();\n     for (int i = 0; i &lt; rowCount; i++) {\n         columnDetails = new HashMap&lt;String,String&gt;();\n         Method method = com.mysql.jdbc.ResultSetMetaData.class.getDeclaredMethod(\"getField\", int.class);\n         method.setAccessible(true);\n         com.mysql.jdbc.Field field = (com.mysql.jdbc.Field) method.invoke(metaData, i+1);\n         columnDetails.put(\"columnName\", field.getName());//metaData.getColumnName(i + 1));\n         columnDetails.put(\"columnType\", metaData.getColumnTypeName(i + 1));\n         columnDetails.put(\"columnSize\", field.getLength()+\"\");//metaData.getColumnDisplaySize(i + 1)+\"\");\n         columnDetails.put(\"columnColl\", field.getCollation());\n         columnDetails.put(\"columnNull\", ((metaData.isNullable(i + 1)==0)?\"NO\":\"YES\"));\n         if (field.isPrimaryKey()) {\n             columnDetails.put(\"columnKEY\", \"PRI\");\n         } else if(field.isMultipleKey()) {\n             columnDetails.put(\"columnKEY\", \"MUL\");\n         } else if(field.isUniqueKey()) {\n             columnDetails.put(\"columnKEY\", \"UNI\");\n         } else {\n             columnDetails.put(\"columnKEY\", \"\");\n         }\n         columnDetails.put(\"columnAINC\", (field.isAutoIncrement()?\"AUTO_INC\":\"\"));\n         databaseColumns.add(columnDetails);\n     }\n    HashMap&lt;String,List&lt;HashMap&lt;String,String&gt;&gt;&gt; tableColumns = new HashMap&lt;String,List&lt;HashMap&lt;String,String&gt;&gt;&gt;();\n    Collections.reverse(databaseColumns);\n    tableColumns.put(\"columns\", databaseColumns);\n    return new ObjectMapper().writeValueAsString(tableColumns);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5689399,"reputation":43,"user_id":4497887,"display_name":"Siva Kumar S A"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668000748,"creation_date":1580814779,"answer_id":60056134,"question_id":2780284,"body_markdown":"In newer versions of MySQL connectors the default tables are also listed if catalog is not passed\r\n\r\n```\r\nDatabaseMetaData dbMeta = con.getMetaData();\r\n//con.getCatalog() returns database name\r\nResultSet rs = dbMeta.getTables(con.getCatalog(), &quot;&quot;, null, new String[]{&quot;TABLE&quot;});\r\nArrayList&lt;String&gt; tables = new ArrayList&lt;String&gt;();\r\nwhile(rs.next()) {\r\n    String tableName = rs.getString(&quot;TABLE_NAME&quot;);\r\n\ttables.add(tableName);\r\n}\r\nreturn tables;\r\n```","title":"How to get all table names from a database?","body":"<p>In newer versions of MySQL connectors the default tables are also listed if catalog is not passed</p>\n<pre><code>DatabaseMetaData dbMeta = con.getMetaData();\n//con.getCatalog() returns database name\nResultSet rs = dbMeta.getTables(con.getCatalog(), &quot;&quot;, null, new String[]{&quot;TABLE&quot;});\nArrayList&lt;String&gt; tables = new ArrayList&lt;String&gt;();\nwhile(rs.next()) {\n    String tableName = rs.getString(&quot;TABLE_NAME&quot;);\n    tables.add(tableName);\n}\nreturn tables;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13634624,"reputation":13,"user_id":9835963,"display_name":"virak seam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632886269,"creation_date":1632886269,"answer_id":69370042,"question_id":2780284,"body_markdown":"    DatabaseMetaData md = conn.getMetaData();\r\n    String[] types = {&quot;TABLE&quot;};\r\n    ResultSet rs = md.getTables(&quot;Your_DB_Name&quot;, null, &quot;%&quot;, types);\r\n    while (rs.next()) {\r\n        System.out.println(rs.getString(&quot;TABLE_NAME&quot;));\r\n    }","title":"How to get all table names from a database?","body":"<pre><code>DatabaseMetaData md = conn.getMetaData();\nString[] types = {&quot;TABLE&quot;};\nResultSet rs = md.getTables(&quot;Your_DB_Name&quot;, null, &quot;%&quot;, types);\nwhile (rs.next()) {\n    System.out.println(rs.getString(&quot;TABLE_NAME&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":70652,"reputation":5274,"user_id":204682,"accept_rate":75,"display_name":"Maxime ARNSTAMM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172733,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":2780375,"answer_count":8,"score":70,"last_activity_date":1668001019,"creation_date":1273141285,"question_id":2780284,"body_markdown":"I&#39;d like to retrieve all table names from a database schema, and, if possible, get all table starting with a specified prefix. \r\n\r\nI tried using JDBC&#39;s `connection.getMetaData().getTables()` but it didn&#39;t work at all.\r\n\r\n    Connection jdbcConnection = DriverManager.getConnection(&quot;&quot;, &quot;&quot;, &quot;&quot;);\r\n    DatabaseMetaData m = jdbcConnection.getMetaData();\r\n    ResultSet tables = m.getTables(jdbcConnection.getCatalog(), null, &quot;TAB_%&quot;, null);\r\n    for (int i = 0; i &lt; tables.getMetaData().getColumnCount(); i++) {\r\n       System.out.println(&quot;table = &quot; + tables.getMetaData().getTableName(i));\r\n    }\r\n\r\nCould someone help me on this?","title":"How to get all table names from a database?","body":"<p>I'd like to retrieve all table names from a database schema, and, if possible, get all table starting with a specified prefix. </p>\n\n<p>I tried using JDBC's <code>connection.getMetaData().getTables()</code> but it didn't work at all.</p>\n\n<pre><code>Connection jdbcConnection = DriverManager.getConnection(\"\", \"\", \"\");\nDatabaseMetaData m = jdbcConnection.getMetaData();\nResultSet tables = m.getTables(jdbcConnection.getCatalog(), null, \"TAB_%\", null);\nfor (int i = 0; i &lt; tables.getMetaData().getColumnCount(); i++) {\n   System.out.println(\"table = \" + tables.getMetaData().getTableName(i));\n}\n</code></pre>\n\n<p>Could someone help me on this?</p>\n"},{"tags":["java","api","class","wso2"],"comments":[{"owner":{"account_id":12802108,"reputation":2965,"user_id":9263083,"display_name":"sanoJ"},"score":0,"creation_date":1667985970,"post_id":74372159,"comment_id":131296247,"body_markdown":"Have a look at https://stackoverflow.com/questions/58128125/wso2-ei-integration-studio-custom-mediator-inside-carbon-application","body":"Have a look at <a href=\"https://stackoverflow.com/questions/58128125/wso2-ei-integration-studio-custom-mediator-inside-carbon-application\" title=\"wso2 ei integration studio custom mediator inside carbon application\">stackoverflow.com/questions/58128125/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":25751269,"reputation":129,"user_id":19503782,"display_name":"Wajih Haider"},"score":0,"creation_date":1670024987,"post_id":74375682,"comment_id":131784367,"body_markdown":"Can you please guide me how to find the jar file which you are telling me to paste it in &lt;MI_HOME&gt;/lib ?","body":"Can you please guide me how to find the jar file which you are telling me to paste it in &lt;MI_HOME&gt;/lib ?"}],"tags":[],"owner":{"account_id":3103561,"reputation":13351,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668000760,"creation_date":1668000760,"answer_id":74375682,"question_id":74372159,"body_markdown":"What&#39;s happening here is you haven&#39;t added the Class mediator to the MI run time. So runtime is unable to find the Class mediator. There are two ways to add a Class mediator to the MI runtime.\r\n\r\n1. Build the Class Mediator Project using Maven and copy the Jar to `&lt;MI_HOME&gt;/lib` directory and restart the server.\r\n2. Pack the ClassMediator into a Carbon Application and deploy it to MI. You can use this [blog][1] as a reference. \r\n\r\n\r\n  [1]: https://medium.com/think-integration/developing-and-debugging-custom-mediators-using-wso2-integration-studio-a3d974d1a2cf","title":"Error showing when calling class from sequence","body":"<p>What's happening here is you haven't added the Class mediator to the MI run time. So runtime is unable to find the Class mediator. There are two ways to add a Class mediator to the MI runtime.</p>\n<ol>\n<li>Build the Class Mediator Project using Maven and copy the Jar to <code>&lt;MI_HOME&gt;/lib</code> directory and restart the server.</li>\n<li>Pack the ClassMediator into a Carbon Application and deploy it to MI. You can use this <a href=\"https://medium.com/think-integration/developing-and-debugging-custom-mediators-using-wso2-integration-studio-a3d974d1a2cf\" rel=\"nofollow noreferrer\">blog</a> as a reference.</li>\n</ol>\n"}],"owner":{"account_id":25751269,"reputation":129,"user_id":19503782,"display_name":"Wajih Haider"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74375682,"answer_count":1,"score":0,"last_activity_date":1668000760,"creation_date":1667984039,"question_id":74372159,"body_markdown":"I am trying to call class from a wso2 sequence However, I am getting this error: \r\n\r\n     Error loading class : com.test.mediator.ChangeValue - Class not found java.lang.ClassNotFoundException: com.test.mediator.ChangeValue cannot be found by synapse-core_2.1.7.wso2v182\r\n\r\nFor a little better understanding calling class in sequence is as follows:\r\n\r\n     &lt;class name=&quot;com.test.mediator.ChangeValue&quot;/&gt;\r\n    &lt;log level=&quot;custom&quot;&gt;\r\n    \t&lt;property name=&quot;After CLASS&quot; value=&quot;in Seq&quot;/&gt;\r\n        &lt;property expression=&quot;$ctx:NameN&quot; name=&quot;NameClass&quot;/&gt;\r\n    &lt;/log&gt;\r\n   \r\n\r\nFor class, the class definition is as follows:\r\n\r\n    package com.test.mediator;\r\n\r\n    import org.apache.synapse.MessageContext; \r\n    import org.apache.synapse.mediators.AbstractMediator;\r\n\r\n    public class ChangeValue extends AbstractMediator {\r\n\r\n\tpublic boolean mediate(MessageContext context) { \r\n\t\t// TODO Implement your mediation logic here \r\n\t\tchangeVal(context);\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\tpublic void changeVal(MessageContext context) {\r\n\t\tString Namem = (String) context.getProperty(&quot;NAMEE&quot;);\r\n\t\tString Namen = &quot;Ali&quot;;\r\n\t\tcontext.setProperty(&quot;NameN&quot;, Namen);\r\n\t  }\r\n    }\r\n\r\n\r\nAny help why this error would be showing up would mean a lot please thanks\r\n\r\n","title":"Error showing when calling class from sequence","body":"<p>I am trying to call class from a wso2 sequence However, I am getting this error:</p>\n<pre><code> Error loading class : com.test.mediator.ChangeValue - Class not found java.lang.ClassNotFoundException: com.test.mediator.ChangeValue cannot be found by synapse-core_2.1.7.wso2v182\n</code></pre>\n<p>For a little better understanding calling class in sequence is as follows:</p>\n<pre><code> &lt;class name=&quot;com.test.mediator.ChangeValue&quot;/&gt;\n&lt;log level=&quot;custom&quot;&gt;\n    &lt;property name=&quot;After CLASS&quot; value=&quot;in Seq&quot;/&gt;\n    &lt;property expression=&quot;$ctx:NameN&quot; name=&quot;NameClass&quot;/&gt;\n&lt;/log&gt;\n</code></pre>\n<p>For class, the class definition is as follows:</p>\n<pre><code>package com.test.mediator;\n\nimport org.apache.synapse.MessageContext; \nimport org.apache.synapse.mediators.AbstractMediator;\n\npublic class ChangeValue extends AbstractMediator {\n\npublic boolean mediate(MessageContext context) { \n    // TODO Implement your mediation logic here \n    changeVal(context);\n    return true;\n}\n\npublic void changeVal(MessageContext context) {\n    String Namem = (String) context.getProperty(&quot;NAMEE&quot;);\n    String Namen = &quot;Ali&quot;;\n    context.setProperty(&quot;NameN&quot;, Namen);\n  }\n}\n</code></pre>\n<p>Any help why this error would be showing up would mean a lot please thanks</p>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":1,"creation_date":1298388633,"post_id":5080000,"comment_id":5690937,"body_markdown":"Look into the myBatis @Results and @Result annotations.","body":"Look into the myBatis @Results and @Result annotations."}],"answers":[{"comments":[{"owner":{"account_id":39617,"reputation":6179,"user_id":114340,"display_name":"AngerClown"},"score":3,"creation_date":1298478217,"post_id":5087937,"comment_id":5708242,"body_markdown":"I think you can mix xml config and annotations. Leave the @Selects in code for the actual SQL but put the &lt;resultMap&gt; part in an xml config file. The result map should be applied the object / class level (based on the namespace) so you wouldn&#39;t have to specify @Results on each method.","body":"I think you can mix xml config and annotations. Leave the @Selects in code for the actual SQL but put the &lt;resultMap&gt; part in an xml config file. The result map should be applied the object / class level (based on the namespace) so you wouldn&#39;t have to specify @Results on each method."},{"owner":{"account_id":1068603,"reputation":4580,"user_id":1068443,"accept_rate":86,"display_name":"lsoliveira"},"score":4,"creation_date":1339690287,"post_id":5087937,"comment_id":14433741,"body_markdown":"This question is now a bit old but, for future reference, maybe take a look at auto-mapping: http://www.mybatis.org/core/sqlmap-xml.html#Auto-mapping.","body":"This question is now a bit old but, for future reference, maybe take a look at auto-mapping: <a href=\"http://www.mybatis.org/core/sqlmap-xml.html#Auto-mapping\" rel=\"nofollow noreferrer\">mybatis.org/core/sqlmap-xml.html#Auto-mapping</a>."},{"owner":{"display_name":"user452425"},"score":1,"creation_date":1381955271,"post_id":5087937,"comment_id":28777675,"body_markdown":"You can also use mapUnderscoreToCamelCase setting to convert underscore naming to camelcase, ref: http://mybatis.github.io/mybatis-3/configuration.html","body":"You can also use mapUnderscoreToCamelCase setting to convert underscore naming to camelcase, ref: <a href=\"http://mybatis.github.io/mybatis-3/configuration.html\" rel=\"nofollow noreferrer\">mybatis.github.io/mybatis-3/configuration.html</a>"}],"tags":[],"owner":{"account_id":9410,"reputation":9391,"user_id":17375,"accept_rate":84,"display_name":"unorsk"},"comment_count":3,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1298444781,"creation_date":1298444781,"answer_id":5087937,"question_id":5080000,"body_markdown":"Thanks to DwB. That helped:\r\n\r\n\r\n        @Select(&quot;SELECT * FROM users&quot;)\r\n        @Results({\r\n            @Result(property = &quot;firstName&quot;, column = &quot;first_name&quot;),\r\n            @Result(property = &quot;lastName&quot;, column = &quot;last_name&quot;)\r\n        })\r\n        List&lt;User&gt; findUsers();\r\n\r\nps But in case of multiple queries I need to boilerplate @Results/@Result code for each method where entity User is returned. In my case there will be a very few places so it isn&#39;t a problem, but in general I would still like to find more general solution.","title":"MyBatis columns mapping","body":"<p>Thanks to DwB. That helped:</p>\n\n<pre><code>    @Select(\"SELECT * FROM users\")\n    @Results({\n        @Result(property = \"firstName\", column = \"first_name\"),\n        @Result(property = \"lastName\", column = \"last_name\")\n    })\n    List&lt;User&gt; findUsers();\n</code></pre>\n\n<p>ps But in case of multiple queries I need to boilerplate @Results/@Result code for each method where entity User is returned. In my case there will be a very few places so it isn't a problem, but in general I would still like to find more general solution.</p>\n"},{"tags":[],"owner":{"account_id":2491366,"reputation":321,"user_id":2168746,"display_name":"user2168746"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1374043317,"creation_date":1374043317,"answer_id":17692875,"question_id":5080000,"body_markdown":"Define a `ResultMap` in the `UserMapper.xml` file, and add these lines:\r\n\r\n    &lt;resultMap id=&quot;BaseResultMap&quot; type=&quot;package.for.User&quot;&gt;\r\n      &lt;result column=&quot;user_name&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;userName&quot; /&gt;\r\n      &lt;!--  other columns --&gt;\r\n    &lt;/resultMap&gt;\r\n\r\nIn your Java code, add`@ResultMap` annotation:\r\n\r\n    public interface UserDao {\r\n      @Select(&quot;SELECT * FROM users&quot;)\r\n      @ResultMap(&quot;BaseResultMap&quot;)\r\n      List&lt;User&gt; findAllUsers();\r\n    }\r\n\r\nYou can use [MyBatis Generator][1] to generate these base codes automatically.\r\n\r\n\r\n  [1]: http://mybatis.org/generator/","title":"MyBatis columns mapping","body":"<p>Define a <code>ResultMap</code> in the <code>UserMapper.xml</code> file, and add these lines:</p>\n\n<pre><code>&lt;resultMap id=\"BaseResultMap\" type=\"package.for.User\"&gt;\n  &lt;result column=\"user_name\" jdbcType=\"VARCHAR\" property=\"userName\" /&gt;\n  &lt;!--  other columns --&gt;\n&lt;/resultMap&gt;\n</code></pre>\n\n<p>In your Java code, add<code>@ResultMap</code> annotation:</p>\n\n<pre><code>public interface UserDao {\n  @Select(\"SELECT * FROM users\")\n  @ResultMap(\"BaseResultMap\")\n  List&lt;User&gt; findAllUsers();\n}\n</code></pre>\n\n<p>You can use <a href=\"http://mybatis.org/generator/\">MyBatis Generator</a> to generate these base codes automatically.</p>\n"},{"comments":[{"owner":{"account_id":1672993,"reputation":1097,"user_id":1539076,"display_name":"Jerin Joseph"},"score":0,"creation_date":1478198675,"post_id":23936667,"comment_id":68068151,"body_markdown":"The accepted answer was right when it was answered in 2011.  But for the  sake of anyone viewing it in the future, this answer would be the right approach.","body":"The accepted answer was right when it was answered in 2011.  But for the  sake of anyone viewing it in the future, this answer would be the right approach."}],"tags":[],"owner":{"account_id":188210,"reputation":7241,"user_id":426812,"display_name":"Ernesto Campohermoso"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1407959984,"creation_date":1401376425,"answer_id":23936667,"question_id":5080000,"body_markdown":"Eduardo Macarron has suggested this feature on the following issue:\r\n\r\nhttps://code.google.com/p/mybatis/issues/detail?id=43\r\n\r\nAccording to the documentation of MyBatis 3, now is possible through a setting described in:\r\n\r\nhttp://mybatis.github.io/mybatis-3/configuration.html#settings\r\n\r\nBasically you must configure:\r\n\r\n    &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot;/&gt;\r\n\r\nWhich means:\r\n\r\n&gt; Enables automatic mapping from classic database column names A_COLUMN to camel case classic Java property names aColumn.\r\n\r\n","title":"MyBatis columns mapping","body":"<p>Eduardo Macarron has suggested this feature on the following issue:</p>\n\n<p><a href=\"https://code.google.com/p/mybatis/issues/detail?id=43\" rel=\"noreferrer\">https://code.google.com/p/mybatis/issues/detail?id=43</a></p>\n\n<p>According to the documentation of MyBatis 3, now is possible through a setting described in:</p>\n\n<p><a href=\"http://mybatis.github.io/mybatis-3/configuration.html#settings\" rel=\"noreferrer\">http://mybatis.github.io/mybatis-3/configuration.html#settings</a></p>\n\n<p>Basically you must configure:</p>\n\n<pre><code>&lt;setting name=\"mapUnderscoreToCamelCase\" value=\"true\"/&gt;\n</code></pre>\n\n<p>Which means:</p>\n\n<blockquote>\n  <p>Enables automatic mapping from classic database column names A_COLUMN to camel case classic Java property names aColumn.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3341297,"reputation":1417,"user_id":2807537,"display_name":"Lukino"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1405691101,"creation_date":1405691101,"answer_id":24826529,"question_id":5080000,"body_markdown":"If there is not so much columns you can do it this way and avoid ResultMap.\r\n\r\n    @Select(&quot;SELECT first_name as firstName, last_name as lastName FROM users&quot;)\r\n    List&lt;User&gt; findUsers();\r\n\r\nto make it more readable you can use array of strings, which MyBatis concanate with extra space\r\n\r\n    @Select({\r\n         &quot;SELECT&quot;,\r\n         &quot;  first_name as firstName,&quot;,\r\n         &quot;  last_name as lastName&quot;,\r\n         &quot;FROM users&quot;})\r\n    List&lt;User&gt; findUsers();","title":"MyBatis columns mapping","body":"<p>If there is not so much columns you can do it this way and avoid ResultMap.</p>\n\n<pre><code>@Select(\"SELECT first_name as firstName, last_name as lastName FROM users\")\nList&lt;User&gt; findUsers();\n</code></pre>\n\n<p>to make it more readable you can use array of strings, which MyBatis concanate with extra space</p>\n\n<pre><code>@Select({\n     \"SELECT\",\n     \"  first_name as firstName,\",\n     \"  last_name as lastName\",\n     \"FROM users\"})\nList&lt;User&gt; findUsers();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2222583,"reputation":21731,"user_id":1961634,"accept_rate":81,"display_name":"Dariusz"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1464933440,"creation_date":1464933440,"answer_id":37606908,"question_id":5080000,"body_markdown":"In spring annotation-based configuration underscore to camel case mapping can be enabled through a customizable SqlSessionFactory, like that:\r\n\r\n\t@Bean\r\n\t@Primary\r\n\tpublic SqlSessionFactory sqlSessionFactory() throws Exception {\r\n\t\tSqlSessionFactory factory = sessionFactoryBuilder().build();\r\n\t\tfactory.getConfiguration().setMapUnderscoreToCamelCase(true);\r\n        // other configurations\r\n\t\treturn factory;\r\n\t}","title":"MyBatis columns mapping","body":"<p>In spring annotation-based configuration underscore to camel case mapping can be enabled through a customizable SqlSessionFactory, like that:</p>\n\n<pre><code>@Bean\n@Primary\npublic SqlSessionFactory sqlSessionFactory() throws Exception {\n    SqlSessionFactory factory = sessionFactoryBuilder().build();\n    factory.getConfiguration().setMapUnderscoreToCamelCase(true);\n    // other configurations\n    return factory;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2482082,"reputation":219,"user_id":2164335,"display_name":"Karthik Rao"},"score":0,"creation_date":1590047285,"post_id":45862254,"comment_id":109533737,"body_markdown":"This worked in Spring-Boot project when using `mybatis-spring-boot-starter` maven dependency (Reference:  https://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/ )","body":"This worked in Spring-Boot project when using <code>mybatis-spring-boot-starter</code> maven dependency (Reference:  <a href=\"https://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/\" rel=\"nofollow noreferrer\">mybatis.org/spring-boot-starter/&hellip;</a> )"}],"tags":[],"owner":{"account_id":9229976,"reputation":101,"user_id":6856394,"display_name":"FreyaZ"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1503579379,"creation_date":1503579379,"answer_id":45862254,"question_id":5080000,"body_markdown":"use MyBatis&#39;s Auto-mapping in your config file (sth like application.properties or application.yml), \r\nhere like: \r\n\r\n    mybatis.configuration.map-underscore-to-camel-case=true\r\n\r\n\r\n\r\nReference: http://www.mybatis.org/mybatis-3/sqlmap-xml.html#Auto-mapping\r\n\r\nChinese Reference:\r\nhttp://www.mybatis.org/mybatis-3/zh/sqlmap-xml.html#Auto-mapping","title":"MyBatis columns mapping","body":"<p>use MyBatis's Auto-mapping in your config file (sth like application.properties or application.yml), \nhere like: </p>\n\n<pre><code>mybatis.configuration.map-underscore-to-camel-case=true\n</code></pre>\n\n<p>Reference: <a href=\"http://www.mybatis.org/mybatis-3/sqlmap-xml.html#Auto-mapping\" rel=\"noreferrer\">http://www.mybatis.org/mybatis-3/sqlmap-xml.html#Auto-mapping</a></p>\n\n<p>Chinese Reference:\n<a href=\"http://www.mybatis.org/mybatis-3/zh/sqlmap-xml.html#Auto-mapping\" rel=\"noreferrer\">http://www.mybatis.org/mybatis-3/zh/sqlmap-xml.html#Auto-mapping</a></p>\n"},{"tags":[],"owner":{"account_id":13782778,"reputation":935,"user_id":9947525,"display_name":"Fazal Haroon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667999986,"creation_date":1667999986,"answer_id":74375510,"question_id":5080000,"body_markdown":"My entity of account\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Setter\r\n    public class Account {\r\n        private Integer id;\r\n        private String accountType;\r\n        private String accountNumber;\r\n    \r\n        public Integer getid() {\r\n            return id;\r\n        }\r\n    \r\n        public String getAccountType() {\r\n            return accountType;\r\n        }\r\n    \r\n        /**\r\n         * It takes the account number, hashes it, and returns the hash\r\n         *\r\n         * @return The account number is being returned.\r\n         */\r\n        public String getAccountNumber() throws NoSuchAlgorithmException {\r\n            String plaintext = this.accountNumber;\r\n            MessageDigest m = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            m.reset();\r\n            m.update(plaintext.getBytes());\r\n            byte[] digest = m.digest();\r\n            BigInteger bigInt = new BigInteger(1,digest);\r\n            String hashtext = bigInt.toString(16);\r\n            // Now we need to zero pad it if you actually want the full 32 chars.\r\n            while(hashtext.length() &lt; 32 ){\r\n                hashtext = &quot;0&quot;+hashtext;\r\n            }\r\n            return hashtext;\r\n        }\r\n    \r\n        /**\r\n         * The toString() method returns a string representation of the object\r\n         *\r\n         * @return The account id, account type, and account number.\r\n         */\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Account{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, accountType=&#39;&quot; + accountType + &#39;\\&#39;&#39; +\r\n                    &quot;, accountNumber=&#39;&quot; + accountNumber + &#39;\\&#39;&#39; +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nMy Database has column names **ID**, **account_number**, and **account_type**\r\n\r\nIn my mapper class, i used @Results annotation of ibatis\r\n\r\n    @Mapper\r\n    public interface AccountMapper {\r\n        /**\r\n         * Get all accounts from the database.\r\n         *\r\n         * @return A list of all the accounts in the database.\r\n         */\r\n        @Select(&quot;SELECT * FROM account&quot;)\r\n        @Results({\r\n                @Result(property = &quot;id&quot;, column = &quot;ID&quot;),\r\n                @Result(property = &quot;accountNumber&quot;, column = &quot;account_number&quot;),\r\n                @Result(property = &quot;accountType&quot;, column = &quot;account_type&quot;)\r\n        })\r\n        List&lt;Account&gt; getAllAccounts();\r\n    }","title":"MyBatis columns mapping","body":"<p>My entity of account</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Setter\npublic class Account {\n    private Integer id;\n    private String accountType;\n    private String accountNumber;\n\n    public Integer getid() {\n        return id;\n    }\n\n    public String getAccountType() {\n        return accountType;\n    }\n\n    /**\n     * It takes the account number, hashes it, and returns the hash\n     *\n     * @return The account number is being returned.\n     */\n    public String getAccountNumber() throws NoSuchAlgorithmException {\n        String plaintext = this.accountNumber;\n        MessageDigest m = MessageDigest.getInstance(&quot;MD5&quot;);\n        m.reset();\n        m.update(plaintext.getBytes());\n        byte[] digest = m.digest();\n        BigInteger bigInt = new BigInteger(1,digest);\n        String hashtext = bigInt.toString(16);\n        // Now we need to zero pad it if you actually want the full 32 chars.\n        while(hashtext.length() &lt; 32 ){\n            hashtext = &quot;0&quot;+hashtext;\n        }\n        return hashtext;\n    }\n\n    /**\n     * The toString() method returns a string representation of the object\n     *\n     * @return The account id, account type, and account number.\n     */\n    @Override\n    public String toString() {\n        return &quot;Account{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, accountType='&quot; + accountType + '\\'' +\n                &quot;, accountNumber='&quot; + accountNumber + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>My Database has column names <strong>ID</strong>, <strong>account_number</strong>, and <strong>account_type</strong></p>\n<p>In my mapper class, i used @Results annotation of ibatis</p>\n<pre><code>@Mapper\npublic interface AccountMapper {\n    /**\n     * Get all accounts from the database.\n     *\n     * @return A list of all the accounts in the database.\n     */\n    @Select(&quot;SELECT * FROM account&quot;)\n    @Results({\n            @Result(property = &quot;id&quot;, column = &quot;ID&quot;),\n            @Result(property = &quot;accountNumber&quot;, column = &quot;account_number&quot;),\n            @Result(property = &quot;accountType&quot;, column = &quot;account_type&quot;)\n    })\n    List&lt;Account&gt; getAllAccounts();\n}\n</code></pre>\n"}],"owner":{"account_id":9410,"reputation":9391,"user_id":17375,"accept_rate":84,"display_name":"unorsk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39055,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":5087937,"answer_count":7,"score":17,"last_activity_date":1667999986,"creation_date":1298387896,"question_id":5080000,"body_markdown":"I am using MyBatis 3.0.3 and have problem: some columns in database have names with underscores and these columns should be mapped to the entity properties (that are of course in camelCase)\r\n\r\n    class User {\r\n      private String first_name;\r\n      ...\r\n    }\r\n\r\n    public interface UserDao {\r\n      @Select(&quot;SELECT * FROM users&quot;)\r\n      List&lt;User&gt; findAllUsers();\r\n    }\r\n\r\nUnfortunately I can&#39;t see any way to solve that declaretively (like it is done in JPA - @Column(name = &quot;first_name&quot;)).\r\nI could make aliases in select-clause for such columns (sush as first_name as firstName and etc.), but that also looks lame.\r\n\r\nAny ideas? Thanks.","title":"MyBatis columns mapping","body":"<p>I am using MyBatis 3.0.3 and have problem: some columns in database have names with underscores and these columns should be mapped to the entity properties (that are of course in camelCase)</p>\n\n<pre><code>class User {\n  private String first_name;\n  ...\n}\n\npublic interface UserDao {\n  @Select(\"SELECT * FROM users\")\n  List&lt;User&gt; findAllUsers();\n}\n</code></pre>\n\n<p>Unfortunately I can't see any way to solve that declaretively (like it is done in JPA - @Column(name = \"first_name\")).\nI could make aliases in select-clause for such columns (sush as first_name as firstName and etc.), but that also looks lame.</p>\n\n<p>Any ideas? Thanks.</p>\n"},{"tags":["java","json","gwt"],"comments":[{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1394829174,"post_id":22414614,"comment_id":34083115,"body_markdown":"[Using Gson library in GWT client code](http://stackoverflow.com/questions/2213734/using-gson-library-in-gwt-client-code) you can solve this problem","body":"<a href=\"http://stackoverflow.com/questions/2213734/using-gson-library-in-gwt-client-code\">Using Gson library in GWT client code</a> you can solve this problem"},{"owner":{"account_id":83369,"reputation":15900,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"score":1,"creation_date":1394832268,"post_id":22414614,"comment_id":34084519,"body_markdown":"GSON will not work in Clientcode. (If it is not changed in the last months)","body":"GSON will not work in Clientcode. (If it is not changed in the last months)"},{"owner":{"account_id":3825659,"reputation":528,"user_id":3172529,"accept_rate":19,"display_name":"user123"},"score":0,"creation_date":1394884663,"post_id":22414614,"comment_id":34097303,"body_markdown":"@Braj As ChristianKuetbach has already mentioned GSon will not work there is a library though bGWTGson https://github.com/heroandtn3/bGwtGson\nThis is also Using RPC architecture at backend.","body":"@Braj As ChristianKuetbach has already mentioned GSon will not work there is a library though bGWTGson <a href=\"https://github.com/heroandtn3/bGwtGson\" rel=\"nofollow noreferrer\">github.com/heroandtn3/bGwtGson</a> This is also Using RPC architecture at backend."},{"owner":{"account_id":83369,"reputation":15900,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"score":0,"creation_date":1394932303,"post_id":22414614,"comment_id":34112185,"body_markdown":"But this will create a client server communication for serialization.","body":"But this will create a client server communication for serialization."},{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1668001335,"post_id":22414614,"comment_id":131301636,"body_markdown":"did you try a custom jsni method? `private native String stringfy(Object obj) /*-{ return JSON.stringify(obj); }-*/;`","body":"did you try a custom jsni method? <code>private native String stringfy(Object obj) &#47;*-{ return JSON.stringify(obj); }-*&#47;;</code>"}],"answers":[{"comments":[{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":0,"creation_date":1394840918,"post_id":22416176,"comment_id":34087508,"body_markdown":"Technically, AutoBeans also generates code at compile time and uses reflection to work out what is reachable/makes sense, but this further means that neither rpc nor autobeans can handle arbitrary objects that they haven&#39;t been informed of. Without compiling in all possible types and all field metadata, you can&#39;t teach a gwt project to serialize any arbitrary Object subclass. You *could* compile in all of that, but it would potentially seriously bloat the compiled app size.","body":"Technically, AutoBeans also generates code at compile time and uses reflection to work out what is reachable/makes sense, but this further means that neither rpc nor autobeans can handle arbitrary objects that they haven&#39;t been informed of. Without compiling in all possible types and all field metadata, you can&#39;t teach a gwt project to serialize any arbitrary Object subclass. You <i>could</i> compile in all of that, but it would potentially seriously bloat the compiled app size."}],"tags":[],"owner":{"account_id":83369,"reputation":15900,"user_id":233792,"accept_rate":72,"display_name":"Christian Kuetbach"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394833028,"creation_date":1394833028,"answer_id":22416176,"question_id":22414614,"body_markdown":"AutoBean can serialize Lists and Maps, **BUT** only if you have a top level interface you know. \r\n\r\nSimply serializing all kind of serializable is not possible with JSON and GWT (as far as I Know).\r\n\r\nGWT-RPC can do this job, because it will generate code at compile time and has access to the Java-Reflection API.\r\n\r\nI don&#39;t know any GWT clientcode compatible JSON serializer which is able to serialize every `Serializable` Object.","title":"GWT client side : Java object to json string and vice versa","body":"<p>AutoBean can serialize Lists and Maps, <strong>BUT</strong> only if you have a top level interface you know. </p>\n\n<p>Simply serializing all kind of serializable is not possible with JSON and GWT (as far as I Know).</p>\n\n<p>GWT-RPC can do this job, because it will generate code at compile time and has access to the Java-Reflection API.</p>\n\n<p>I don't know any GWT clientcode compatible JSON serializer which is able to serialize every <code>Serializable</code> Object.</p>\n"},{"tags":[],"owner":{"account_id":3825659,"reputation":528,"user_id":3172529,"accept_rate":19,"display_name":"user123"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394885044,"creation_date":1394885044,"answer_id":22423546,"question_id":22414614,"body_markdown":"After working on this for some time\r\nThe solution that I had finally thought of.\r\nI used GWT RPC proxy to call rest services.\r\nIn my impl class I am using jackson to Serialize Objects than using Jersey client API I am consuming rest services than again deserialize response and pass it to client. This is the best solution that I can think of till now. Jackson and jersey are production ready libraries.\r\nThis way I have two advantages.\r\n1. I dont have to mess with the client side code.\r\n2. Cross domain rest call is possible (SOP limitation ).\r\n\r\nAny suggestions are welcome.\r\n\r\nHope this helps","title":"GWT client side : Java object to json string and vice versa","body":"<p>After working on this for some time\nThe solution that I had finally thought of.\nI used GWT RPC proxy to call rest services.\nIn my impl class I am using jackson to Serialize Objects than using Jersey client API I am consuming rest services than again deserialize response and pass it to client. This is the best solution that I can think of till now. Jackson and jersey are production ready libraries.\nThis way I have two advantages.\n1. I dont have to mess with the client side code.\n2. Cross domain rest call is possible (SOP limitation ).</p>\n\n<p>Any suggestions are welcome.</p>\n\n<p>Hope this helps</p>\n"},{"comments":[{"owner":{"account_id":3480449,"reputation":9549,"user_id":2912665,"accept_rate":62,"display_name":"CinCout"},"score":0,"creation_date":1427860543,"post_id":29382539,"comment_id":46944257,"body_markdown":"Just posting the link to the library won&#39;t help! Try giving an example which uses it.","body":"Just posting the link to the library won&#39;t help! Try giving an example which uses it."}],"tags":[],"owner":{"account_id":2440840,"reputation":536,"user_id":2129418,"accept_rate":58,"display_name":"Jason Washo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427880638,"creation_date":1427860224,"answer_id":29382539,"question_id":22414614,"body_markdown":"I&#39;ve seen the most success and least amount of code using this library:\r\n\r\nhttps://code.google.com/p/gwtprojsonserializer/\r\n\r\nAlong with the standard toString() you should have for all Object classes, I also have what&#39;s called a toJsonString() inside of each class I want &quot;JSONable&quot;. Note, each class must extend JsonSerializable, which comes with the library:\r\n\r\n    public String toJsonString()\r\n    {\r\n        Serializer serializer = (Serializer) GWT.create(Serializer.class);\r\n\t\t\r\n        return serializer.serializeToJson(this).toString();\r\n    }\r\n\r\nTo turn the JSON string back into an object, I put a static method inside of the same class, that recreates the class itself:\r\n\r\n    public static ClassName recreateClassViaJson(String json)\r\n    {\r\n        Serializer serializer = (Serializer) GWT.create(Serializer.class);\r\n\t\t\r\n        return (ClassName) serializer.deSerialize(json, &quot;full.package.name.ClassName&quot;);\r\n\t}\r\n\r\nVery simple!","title":"GWT client side : Java object to json string and vice versa","body":"<p>I've seen the most success and least amount of code using this library:</p>\n\n<p><a href=\"https://code.google.com/p/gwtprojsonserializer/\" rel=\"nofollow\">https://code.google.com/p/gwtprojsonserializer/</a></p>\n\n<p>Along with the standard toString() you should have for all Object classes, I also have what's called a toJsonString() inside of each class I want \"JSONable\". Note, each class must extend JsonSerializable, which comes with the library:</p>\n\n<pre><code>public String toJsonString()\n{\n    Serializer serializer = (Serializer) GWT.create(Serializer.class);\n\n    return serializer.serializeToJson(this).toString();\n}\n</code></pre>\n\n<p>To turn the JSON string back into an object, I put a static method inside of the same class, that recreates the class itself:</p>\n\n<pre><code>public static ClassName recreateClassViaJson(String json)\n{\n    Serializer serializer = (Serializer) GWT.create(Serializer.class);\n\n    return (ClassName) serializer.deSerialize(json, \"full.package.name.ClassName\");\n}\n</code></pre>\n\n<p>Very simple!</p>\n"}],"owner":{"account_id":3825659,"reputation":528,"user_id":3172529,"accept_rate":19,"display_name":"user123"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4204,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1667999723,"creation_date":1394827095,"question_id":22414614,"body_markdown":"This may be a repeat question but I haven&#39;t been able to find a solution.\r\nI have some complex java object and I want to serialize it to json string and then I want to pass it to Rest web services from GWT client. For calling rest web services I am using RequestBuilder class or RPC proxy.\r\nThe problem is I haven&#39;t been able to find a solution to convert Object to json\r\nI tried using AutoBean framework but I have read on somewhere on stack overflow that it is very buggy. The Object that I want to convert can be any inbuilt Java serialize able object String, HashMap, ArrayList or it can be custom POJO object. The project that I am working on is very large and I want a robust solution.\r\nI tried this    \r\n    \r\n    AutoBean&lt;HashMap&gt; bean = AutoBeanUtils.getAutoBean(myMap);\r\n    return AutoBeanCodex.encode(bean).getPayload();\r\n\r\nThis is returning null string\r\n\r\n  \r\n","title":"GWT client side : Java object to json string and vice versa","body":"<p>This may be a repeat question but I haven't been able to find a solution.\nI have some complex java object and I want to serialize it to json string and then I want to pass it to Rest web services from GWT client. For calling rest web services I am using RequestBuilder class or RPC proxy.\nThe problem is I haven't been able to find a solution to convert Object to json\nI tried using AutoBean framework but I have read on somewhere on stack overflow that it is very buggy. The Object that I want to convert can be any inbuilt Java serialize able object String, HashMap, ArrayList or it can be custom POJO object. The project that I am working on is very large and I want a robust solution.\nI tried this    </p>\n\n<pre><code>AutoBean&lt;HashMap&gt; bean = AutoBeanUtils.getAutoBean(myMap);\nreturn AutoBeanCodex.encode(bean).getPayload();\n</code></pre>\n\n<p>This is returning null string</p>\n"},{"tags":["java","algorithm","linked-list","traversal"],"comments":[{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1667991394,"post_id":74373638,"comment_id":131298099,"body_markdown":"In method 1, if the subscript to be accessed is in the first half, it will be traversed from the beginning, and if it is in the second half, it will be traversed from the end.","body":"In method 1, if the subscript to be accessed is in the first half, it will be traversed from the beginning, and if it is in the second half, it will be traversed from the end."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":1,"creation_date":1667991509,"post_id":74373638,"comment_id":131298137,"body_markdown":"LinkedList is a doubly linked list - getLast() is O(1), but method 2 is wrong - it fails if there is a duplicate of the last item. Are you familiar with Iterators? Hint: Look at AbstractCollection.toString() implementation: https://github.com/openjdk/jdk/blob/739769c8fc4b496f08a92225a12d07414537b6c0/src/java.base/share/classes/java/util/AbstractCollection.java#L448","body":"LinkedList is a doubly linked list - getLast() is O(1), but method 2 is wrong - it fails if there is a duplicate of the last item. Are you familiar with Iterators? Hint: Look at AbstractCollection.toString() implementation: <a href=\"https://github.com/openjdk/jdk/blob/739769c8fc4b496f08a92225a12d07414537b6c0/src/java.base/share/classes/java/util/AbstractCollection.java#L448\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a>"},{"owner":{"account_id":20028751,"reputation":83,"user_id":17944655,"display_name":"Miles"},"score":0,"creation_date":1667991697,"post_id":74373638,"comment_id":131298201,"body_markdown":"@Lesiak The problem I&#39;m working on assumes there are no duplicates, adding that to the question now. Thanks for the warning","body":"@Lesiak The problem I&#39;m working on assumes there are no duplicates, adding that to the question now. Thanks for the warning"}],"answers":[{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667998479,"creation_date":1667998167,"answer_id":74375160,"question_id":74373638,"body_markdown":"In a linked list, get-by-index (`get(i)`) is slow and can require iterating through much of the list if the index isn&#39;t near the ends.  You ask if it just moves &quot;the pointer&quot;, but there is no such pointer.  Method 1 is therefore a bad idea.\r\n\r\nMethod 2 is the right idea.  The `for(var: list)` will use an iterator, which is exactly the kind of pointer you are talking about.\r\n\r\nChecking the last element is bad form, though, even though it *is* a double-linked list.  You should do it something like this, instead of writing code that behaves oddly if the no-duplicates rule is broken:\r\n\r\n```lang-java\r\nString sep = &quot;&quot;;\r\nfor (int courseIndex : pres) {\r\n    System.out.print(sep + courseIndex);\r\n    sep = &quot;,&quot;;\r\n}\r\nSystem.out.println();\r\n```\r\n\r\nActually, I/O calls should usually be considered slow, so it&#39;s best to make just one per line:\r\n\r\n```lang-java\r\nStringBuilder buf = new StringBuilder();\r\nfor (int courseIndex : pres) {\r\n    if (buf.length() &gt; 0) {\r\n        buf.append(&quot;,&quot;);\r\n    }\r\n    buf.append(courseIndex);\r\n}\r\nSystem.out.println(buf.toString());\r\n```\r\n","title":"What is the least complex way to iterate a LinkedList in Java?","body":"<p>In a linked list, get-by-index (<code>get(i)</code>) is slow and can require iterating through much of the list if the index isn't near the ends.  You ask if it just moves &quot;the pointer&quot;, but there is no such pointer.  Method 1 is therefore a bad idea.</p>\n<p>Method 2 is the right idea.  The <code>for(var: list)</code> will use an iterator, which is exactly the kind of pointer you are talking about.</p>\n<p>Checking the last element is bad form, though, even though it <em>is</em> a double-linked list.  You should do it something like this, instead of writing code that behaves oddly if the no-duplicates rule is broken:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sep = &quot;&quot;;\nfor (int courseIndex : pres) {\n    System.out.print(sep + courseIndex);\n    sep = &quot;,&quot;;\n}\nSystem.out.println();\n</code></pre>\n<p>Actually, I/O calls should usually be considered slow, so it's best to make just one per line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder buf = new StringBuilder();\nfor (int courseIndex : pres) {\n    if (buf.length() &gt; 0) {\n        buf.append(&quot;,&quot;);\n    }\n    buf.append(courseIndex);\n}\nSystem.out.println(buf.toString());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1667998933,"post_id":74375277,"comment_id":131300743,"body_markdown":"@Miles this is the idiomatic Java way these days.  You&#39;ll get to streams later.","body":"@Miles this is the idiomatic Java way these days.  You&#39;ll get to streams later."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1667999178,"post_id":74375277,"comment_id":131300840,"body_markdown":"@MattTimmermans thanks. Indeed there are so many additions to java, it might be a bit overwhelming. Miles: But stream usage as above is very expressive. You could for instance have added `.sorted()` in the call chain to order the values.","body":"@MattTimmermans thanks. Indeed there are so many additions to java, it might be a bit overwhelming. Miles: But stream usage as above is very expressive. You could for instance have added <code>.sorted()</code> in the call chain to order the values."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667998995,"creation_date":1667998747,"answer_id":74375277,"question_id":74373638,"body_markdown":"    String s = pres.stream()\r\n        .map(Integer::toString)\r\n        .collect(Collectors.joining(&quot;, &quot;));\r\n\r\nBy the way:\r\n\r\n        List&lt;Integer&gt; pres = new LinkedList&lt;&gt;();\r\n        Collections.addAll(pres,\r\n            112, 114, 326, 433, 119);\r\n\r\nor\r\n\r\n        List&lt;Integer&gt; pres = List.of(112, 114, 326, 433, 119);\r\n\r\nYou then later might change to an other implementation:\r\n\r\n        List&lt;Integer&gt; pres = new ArrayList&lt;&gt;();\r\n","title":"What is the least complex way to iterate a LinkedList in Java?","body":"<pre><code>String s = pres.stream()\n    .map(Integer::toString)\n    .collect(Collectors.joining(&quot;, &quot;));\n</code></pre>\n<p>By the way:</p>\n<pre><code>    List&lt;Integer&gt; pres = new LinkedList&lt;&gt;();\n    Collections.addAll(pres,\n        112, 114, 326, 433, 119);\n</code></pre>\n<p>or</p>\n<pre><code>    List&lt;Integer&gt; pres = List.of(112, 114, 326, 433, 119);\n</code></pre>\n<p>You then later might change to an other implementation:</p>\n<pre><code>    List&lt;Integer&gt; pres = new ArrayList&lt;&gt;();\n</code></pre>\n"}],"owner":{"account_id":20028751,"reputation":83,"user_id":17944655,"display_name":"Miles"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1667998995,"creation_date":1667990929,"question_id":74373638,"body_markdown":"I have the simple task to print elements inside a LinkedList that has no duplicates with commas in between, but I have come up with two ways to do it and I&#39;m unsure about how LinkedList iteration works so I don&#39;t know which way is best. I have some assumptions about both ways.\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        LinkedList&lt;Integer&gt; pres = new LinkedList&lt;Integer&gt;();\r\n        pres.add(112);\r\n        pres.add(114);\r\n        pres.add(326);\r\n        pres.add(433);\r\n        pres.add(119);\r\n// ---------------------------------- METHOD 1 ---------------------------------\r\n        for (int i = 0; i &lt; pres.size(); i++) {\r\n            System.out.print(pres.get(i) + (i == pres.size() - 1 ? &quot;&quot; : &quot;,&quot;));\r\n        }\r\n\r\n// ---------------------------------- METHOD 2 ---------------------------------\r\n        for (int courseIndex : pres) {\r\n            System.out.print(courseIndex + (courseIndex == pres.getLast() ? &quot;&quot; : &quot;,&quot;));\r\n        }\r\n    }\r\n\r\n```\r\n\r\nFor Method 1, I&#39;m wondering if calling `pres.get(i)` in every iteration traverses the list from the beginning each time: (112) - (112 -&gt; 114) - (112 -&gt; 114 -&gt; 326)...\r\nOr does the pointer stay where it last was and just move to the next element?\r\n\r\nFor Method 2, it seems like the foreach loop avoids the possible problem that I&#39;m assuming in Method 1, but I&#39;m calling `getLast` on every iteration as well. Is it a doubly linked list? Is get last an O(1) operation? If not, is calling `getLast` on each iteration even worse than Method 1, since it traverses the list all the way down each time?","title":"What is the least complex way to iterate a LinkedList in Java?","body":"<p>I have the simple task to print elements inside a LinkedList that has no duplicates with commas in between, but I have come up with two ways to do it and I'm unsure about how LinkedList iteration works so I don't know which way is best. I have some assumptions about both ways.</p>\n<pre><code>    public static void main(String[] args) {\n        LinkedList&lt;Integer&gt; pres = new LinkedList&lt;Integer&gt;();\n        pres.add(112);\n        pres.add(114);\n        pres.add(326);\n        pres.add(433);\n        pres.add(119);\n// ---------------------------------- METHOD 1 ---------------------------------\n        for (int i = 0; i &lt; pres.size(); i++) {\n            System.out.print(pres.get(i) + (i == pres.size() - 1 ? &quot;&quot; : &quot;,&quot;));\n        }\n\n// ---------------------------------- METHOD 2 ---------------------------------\n        for (int courseIndex : pres) {\n            System.out.print(courseIndex + (courseIndex == pres.getLast() ? &quot;&quot; : &quot;,&quot;));\n        }\n    }\n\n</code></pre>\n<p>For Method 1, I'm wondering if calling <code>pres.get(i)</code> in every iteration traverses the list from the beginning each time: (112) - (112 -&gt; 114) - (112 -&gt; 114 -&gt; 326)...\nOr does the pointer stay where it last was and just move to the next element?</p>\n<p>For Method 2, it seems like the foreach loop avoids the possible problem that I'm assuming in Method 1, but I'm calling <code>getLast</code> on every iteration as well. Is it a doubly linked list? Is get last an O(1) operation? If not, is calling <code>getLast</code> on each iteration even worse than Method 1, since it traverses the list all the way down each time?</p>\n"},{"tags":["java","android","view"],"comments":[{"owner":{"account_id":20088979,"reputation":339,"user_id":14729932,"display_name":"Sunbey13"},"score":0,"creation_date":1667998608,"post_id":74375143,"comment_id":131300639,"body_markdown":"@TheLibrarian In question i add xml of my LinearLayout .-.","body":"@TheLibrarian In question i add xml of my LinearLayout .-."},{"owner":{"account_id":20088979,"reputation":339,"user_id":14729932,"display_name":"Sunbey13"},"score":0,"creation_date":1667998828,"post_id":74375143,"comment_id":131300709,"body_markdown":"picture is displays how the element is cropped. My fragment has this linearLayout and i add other view in LL programmaticaly. In this case LL is crop last view","body":"picture is displays how the element is cropped. My fragment has this linearLayout and i add other view in LL programmaticaly. In this case LL is crop last view"},{"owner":{"account_id":20088979,"reputation":339,"user_id":14729932,"display_name":"Sunbey13"},"score":0,"creation_date":1667999087,"post_id":74375143,"comment_id":131300798,"body_markdown":"@TheLibrarian looks strange, because if i add 3/5/10 more elements - all except the last one are displayed correctly","body":"@TheLibrarian looks strange, because if i add 3/5/10 more elements - all except the last one are displayed correctly"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1667999154,"post_id":74375143,"comment_id":131300827,"body_markdown":"Well, that looks like padding issue, but first element is not cropped the same way?","body":"Well, that looks like padding issue, but first element is not cropped the same way?"},{"owner":{"account_id":20088979,"reputation":339,"user_id":14729932,"display_name":"Sunbey13"},"score":0,"creation_date":1667999237,"post_id":74375143,"comment_id":131300858,"body_markdown":"no, first element is displayed correctly","body":"no, first element is displayed correctly"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1667999503,"post_id":74375143,"comment_id":131300953,"body_markdown":"Is the linear layout in a scroll view since you can add 10 more elements?","body":"Is the linear layout in a scroll view since you can add 10 more elements?"},{"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1668004852,"post_id":74375143,"comment_id":131303053,"body_markdown":"Looks like the `LinearLayout` is full and needs to scroll, but you aren&#39;t using a `ScrollView`.","body":"Looks like the <code>LinearLayout</code> is full and needs to scroll, but you aren&#39;t using a <code>ScrollView</code>."}],"owner":{"account_id":20088979,"reputation":339,"user_id":14729932,"display_name":"Sunbey13"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667998898,"creation_date":1667998096,"question_id":74375143,"body_markdown":"I have `LinearLayout` in which i programmaticaly add some view. But last view which i add in `LinearLayout` is cut or small.\r\n```\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:id=&quot;@+id/inner_task_llContent&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:paddingLeft=&quot;@dimen/margin_m&quot;\r\n    android:paddingRight=&quot;@dimen/margin_l&quot;\r\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\nAdding view: \r\n```\r\nllContent.addView(TaskUtils.createTextFieldComponent(requireContext(), task, llBottomSheet))\r\n```\r\n\r\n```\r\npublic static View createTextFieldComponent(Context mContext, ItemTaskDetail task, LinearLayout llBottomSheet) {\r\n    LayoutInflater inflater = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n    View view;\r\n    if (task.getType() != TaskType.TXT) {\r\n        view = inflater.inflate(R.layout.layout_control_lable, null);\r\n    } else {\r\n        view = inflater.inflate(R.layout.layout_control_text_area, null);\r\n    }\r\n    return view;\r\n}\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E2kPd.jpg","title":"AddView programmaticaly crop last view","body":"<p>I have <code>LinearLayout</code> in which i programmaticaly add some view. But last view which i add in <code>LinearLayout</code> is cut or small.</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/inner_task_llContent&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:paddingLeft=&quot;@dimen/margin_m&quot;\n    android:paddingRight=&quot;@dimen/margin_l&quot;\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Adding view:</p>\n<pre><code>llContent.addView(TaskUtils.createTextFieldComponent(requireContext(), task, llBottomSheet))\n</code></pre>\n<pre><code>public static View createTextFieldComponent(Context mContext, ItemTaskDetail task, LinearLayout llBottomSheet) {\n    LayoutInflater inflater = (LayoutInflater) mContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n    View view;\n    if (task.getType() != TaskType.TXT) {\n        view = inflater.inflate(R.layout.layout_control_lable, null);\n    } else {\n        view = inflater.inflate(R.layout.layout_control_text_area, null);\n    }\n    return view;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/E2kPd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E2kPd.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jackson"],"answers":[{"comments":[{"owner":{"account_id":14384814,"reputation":473,"user_id":10391111,"display_name":"lovrodoe"},"score":0,"creation_date":1668000163,"post_id":74375014,"comment_id":131301186,"body_markdown":"Thank you for an extensive answer, but what I&#39;ve meant by not being able to check buffer length prior to invoking readValue is that I cannot change the part of the code where readValue is invoked. It will be invoked regardless of value that needs to be parsed.","body":"Thank you for an extensive answer, but what I&#39;ve meant by not being able to check buffer length prior to invoking readValue is that I cannot change the part of the code where readValue is invoked. It will be invoked regardless of value that needs to be parsed."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1668001981,"post_id":74375014,"comment_id":131301915,"body_markdown":"@lovrodoe I doubt if there&#39;s a workaround that would allow to `ObjectMapper` directly. I&#39;ve checked the [documented issues](https://github.com/briandilley/jsonrpc4j/issues), a case when `MismatchedInputException` is cause by an empty stream or an empty byte array is not described yet. You can try to open a new issue.","body":"@lovrodoe I doubt if there&#39;s a workaround that would allow to <code>ObjectMapper</code> directly. I&#39;ve checked the <a href=\"https://github.com/briandilley/jsonrpc4j/issues\" rel=\"nofollow noreferrer\">documented issues</a>, a case when <code>MismatchedInputException</code> is cause by an empty stream or an empty byte array is not described yet. You can try to open a new issue."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667998734,"creation_date":1667997535,"answer_id":74375014,"question_id":74373863,"body_markdown":"&gt; Is it possible to somehow have Jackson ignore empty values and just return null?\r\n\r\nYou can successfully dial with an empty byte array, or an empty input stream, by using a more low-level streaming API.\r\n\r\nThat&#39;s the core idea of how you can ensure that there&#39;s some to parse by employing a `JsonParser` before feeding the data into an `ObjectMapper`:\r\n\r\n```\r\nbyte[] jsonBytes1 = {};\r\n        \r\nObjectMapper mapper = new ObjectMapper();\r\nJsonParser parser = mapper.getFactory().createParser(jsonBytes1);\r\n\r\nJsonNode node = parser.readValueAsTree();\r\n        \r\nMyPojo myPojo = null;\r\n        \r\nif (node != null) {\r\n    myPojo = mapper.treeToValue(node, MyPojo.class);\r\n}\r\n```\r\nSo we&#39;re parsing the input into a `JsonNode` and checking it manually, only if it&#39;s not null `ObjectMapper` comes into play.\r\n\r\nIf we extract this logic into a separate method, that&#39;s it might look like (Java 8 `Optional` might be handy in this case a return type):\r\n\r\n    public static &lt;T&gt; Optional&lt;T&gt; convertBytes(byte[] arr,\r\n                                               Class&lt;T&gt; pojoClass,\r\n                                               ObjectMapper mapper) throws IOException {\r\n        \r\n        JsonParser parser = mapper.getFactory().createParser(arr);\r\n        JsonNode node = parser.readValueAsTree();\r\n        \r\n        return node != null ? Optional.of(mapper.treeToValue(node, pojoClass)) : Optional.empty();\r\n    }\r\n\r\n&lt;h3&gt;Usage example&lt;/h3&gt;\r\n\r\nConsider a simple POJO:\r\n\r\n    public class MyPojo {\r\n        private String name;\r\n        \r\n        // getter, setters and toString\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        String source = &quot;&quot;&quot;\r\n            {\r\n                &quot;name&quot; : &quot;Alice&quot;\r\n            }\r\n            &quot;&quot;&quot;;\r\n        \r\n        byte[] jsonBytes1 = {};\r\n        byte[] jsonBytes2 = source.getBytes(StandardCharsets.UTF_8);\r\n        \r\n        ObjectMapper mapper = new ObjectMapper();\r\n        \r\n        System.out.println(convertBytes(jsonBytes1, MyPojo.class, mapper));\r\n        System.out.println(convertBytes(jsonBytes2, MyPojo.class, mapper));\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\nOptional.empty\r\nOptional[Test.MyPojo(name=Alice)]\r\n```","title":"Jackson cannot deserialize empty byte array/stream","body":"<blockquote>\n<p>Is it possible to somehow have Jackson ignore empty values and just return null?</p>\n</blockquote>\n<p>You can successfully dial with an empty byte array, or an empty input stream, by using a more low-level streaming API.</p>\n<p>That's the core idea of how you can ensure that there's some to parse by employing a <code>JsonParser</code> before feeding the data into an <code>ObjectMapper</code>:</p>\n<pre><code>byte[] jsonBytes1 = {};\n        \nObjectMapper mapper = new ObjectMapper();\nJsonParser parser = mapper.getFactory().createParser(jsonBytes1);\n\nJsonNode node = parser.readValueAsTree();\n        \nMyPojo myPojo = null;\n        \nif (node != null) {\n    myPojo = mapper.treeToValue(node, MyPojo.class);\n}\n</code></pre>\n<p>So we're parsing the input into a <code>JsonNode</code> and checking it manually, only if it's not null <code>ObjectMapper</code> comes into play.</p>\n<p>If we extract this logic into a separate method, that's it might look like (Java 8 <code>Optional</code> might be handy in this case a return type):</p>\n<pre><code>public static &lt;T&gt; Optional&lt;T&gt; convertBytes(byte[] arr,\n                                           Class&lt;T&gt; pojoClass,\n                                           ObjectMapper mapper) throws IOException {\n    \n    JsonParser parser = mapper.getFactory().createParser(arr);\n    JsonNode node = parser.readValueAsTree();\n    \n    return node != null ? Optional.of(mapper.treeToValue(node, pojoClass)) : Optional.empty();\n}\n</code></pre>\n<h3>Usage example</h3>\n<p>Consider a simple POJO:</p>\n<pre><code>public class MyPojo {\n    private String name;\n    \n    // getter, setters and toString\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) throws IOException {\n\n    String source = &quot;&quot;&quot;\n        {\n            &quot;name&quot; : &quot;Alice&quot;\n        }\n        &quot;&quot;&quot;;\n    \n    byte[] jsonBytes1 = {};\n    byte[] jsonBytes2 = source.getBytes(StandardCharsets.UTF_8);\n    \n    ObjectMapper mapper = new ObjectMapper();\n    \n    System.out.println(convertBytes(jsonBytes1, MyPojo.class, mapper));\n    System.out.println(convertBytes(jsonBytes2, MyPojo.class, mapper));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Optional.empty\nOptional[Test.MyPojo(name=Alice)]\n</code></pre>\n"}],"owner":{"account_id":14384814,"reputation":473,"user_id":10391111,"display_name":"lovrodoe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667998734,"creation_date":1667991942,"question_id":74373863,"body_markdown":"Can I somehow alter ObjectMapper to be able to handle null and empty values?\r\n\r\nLet&#39;s say that my value is read as\r\n\r\n    objectMapper.readValue(val, new TypeReference&lt;Object&gt;() {});\r\n\r\nWhere val is\r\n\r\n    val = new ByteArrayInputStream(new byte[] {});\r\n\r\nI don&#39;t have control over value that is passed and I cannot check for buffer length prior to executing `readValue`.\r\n\r\nI&#39;ve tried configuring mapper with `DeserializationFeature.ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT` such as:\r\n\r\n    mapper.configure(DeserializationFeature.ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT, true);\r\n\r\nBut I still get the `com.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input` error. Is it possible to somehow have Jackson ignore empty values and just return null?","title":"Jackson cannot deserialize empty byte array/stream","body":"<p>Can I somehow alter ObjectMapper to be able to handle null and empty values?</p>\n<p>Let's say that my value is read as</p>\n<pre><code>objectMapper.readValue(val, new TypeReference&lt;Object&gt;() {});\n</code></pre>\n<p>Where val is</p>\n<pre><code>val = new ByteArrayInputStream(new byte[] {});\n</code></pre>\n<p>I don't have control over value that is passed and I cannot check for buffer length prior to executing <code>readValue</code>.</p>\n<p>I've tried configuring mapper with <code>DeserializationFeature.ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT</code> such as:</p>\n<pre><code>mapper.configure(DeserializationFeature.ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT, true);\n</code></pre>\n<p>But I still get the <code>com.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input</code> error. Is it possible to somehow have Jackson ignore empty values and just return null?</p>\n"},{"tags":["java","postgresql","spring-boot","connection-pooling","hikaricp"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1667998043,"post_id":74375027,"comment_id":131300413,"body_markdown":"Database connection pool handling is at a far lower level than user-session handling. If a database connection is revoked, this will generally result in a database error when the session tries to use the connection anyway, what happens next depends on how you implemented things. That said, user sessions should not hold on to database connections at all, you should obtain a connection for a unit of work, and return it as soon as possible.","body":"Database connection pool handling is at a far lower level than user-session handling. If a database connection is revoked, this will generally result in a database error when the session tries to use the connection anyway, what happens next depends on how you implemented things. That said, user sessions should not hold on to database connections at all, you should obtain a connection for a unit of work, and return it as soon as possible."},{"owner":{"account_id":26094259,"reputation":3,"user_id":19790607,"display_name":"iridescence"},"score":0,"creation_date":1667999438,"post_id":74375027,"comment_id":131300925,"body_markdown":"@MarkRotteveel so if the user/application session hasn’t timed out will they still have connection to the database based on the configuration set?","body":"@MarkRotteveel so if the user/application session hasn’t timed out will they still have connection to the database based on the configuration set?"},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1667999679,"post_id":74375027,"comment_id":131301008,"body_markdown":"This is impossible to answer by looking at the pool configuration. It all depends on how your application code works with the connections obtained from the pool.","body":"This is impossible to answer by looking at the pool configuration. It all depends on how your application code works with the connections obtained from the pool."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1667999768,"post_id":74375027,"comment_id":131301044,"body_markdown":"@iridescence It might still have a connection object, but that connection object will have been invalidated (behaving as a closed connection).","body":"@iridescence It might still have a connection object, but that connection object will have been invalidated (behaving as a closed connection)."}],"owner":{"account_id":26094259,"reputation":3,"user_id":19790607,"display_name":"iridescence"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667997972,"creation_date":1667997619,"question_id":74375027,"body_markdown":"I have this configuration set in my spring boot application.\r\n\r\n```\r\nspring.datasource.hikari.connectionTimeout=600000 \r\nspring.datasource.hikari.idle-timeout=600000\r\nspring.datasource.hikari.max-connections=10\r\nspring.datasource.hikari.minimum-idle=2\r\nspring.datasource.hikari.max-lifetime=1800000\r\n```\r\n\r\nI’m wondering what happens to a user when idle-timeout is triggered.\r\nDo they get sent back to the homepage of the application.\r\n\r\nThe database I’m using is PostgreSQL\r\n\r\nExample scenario:\r\n\r\nA user is entering customer’s information and stepped away for 20 mins. When they come back they want to continue where they left off.\r\n\r\nI tried setting the configuration variables to the above.","title":"Hikari connection pooling","body":"<p>I have this configuration set in my spring boot application.</p>\n<pre><code>spring.datasource.hikari.connectionTimeout=600000 \nspring.datasource.hikari.idle-timeout=600000\nspring.datasource.hikari.max-connections=10\nspring.datasource.hikari.minimum-idle=2\nspring.datasource.hikari.max-lifetime=1800000\n</code></pre>\n<p>I’m wondering what happens to a user when idle-timeout is triggered.\nDo they get sent back to the homepage of the application.</p>\n<p>The database I’m using is PostgreSQL</p>\n<p>Example scenario:</p>\n<p>A user is entering customer’s information and stepped away for 20 mins. When they come back they want to continue where they left off.</p>\n<p>I tried setting the configuration variables to the above.</p>\n"},{"tags":["java","maven","gradle","android-gradle-plugin","build.gradle"],"comments":[{"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"score":0,"creation_date":1667946245,"post_id":74367732,"comment_id":131288742,"body_markdown":"Does this answer your question? [Using Gradle to find dependency tree](https://stackoverflow.com/questions/21645071/using-gradle-to-find-dependency-tree)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21645071/using-gradle-to-find-dependency-tree\">Using Gradle to find dependency tree</a>"},{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1667971517,"post_id":74367732,"comment_id":131292612,"body_markdown":"@Nick no not really, me I don&#39;t even have any project, I just want to dependancy tree of com.google.firebase:firebase-firestore:24.4.0 and i don&#39;t know how to do.","body":"@Nick no not really, me I don&#39;t even have any project, I just want to dependancy tree of com.google.firebase:firebase-firestore:24.4.0 and i don&#39;t know how to do."},{"owner":{"account_id":5862834,"reputation":3736,"user_id":6066470,"display_name":"Nick"},"score":0,"creation_date":1667977750,"post_id":74367732,"comment_id":131293763,"body_markdown":"I already wrote to you that you can use the website https://stackoverflow.com/a/74235627/6066470","body":"I already wrote to you that you can use the website <a href=\"https://stackoverflow.com/a/74235627/6066470\">stackoverflow.com/a/74235627/6066470</a>"}],"answers":[{"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667945836,"creation_date":1667945836,"answer_id":74367766,"question_id":74367732,"body_markdown":"If it is a dependency of your project you should be able to run \r\n\r\n```\r\ngradle dependencies\r\n```\r\n\r\nand see the dependency tree for your whole project (including the subtree for this artifact)\r\n\r\nThere are more details in the answer(s) to this question:\r\nhttps://stackoverflow.com/questions/21645071/using-gradle-to-find-dependency-tree\r\n","title":"With gradle how to get the dependency tree of a library?","body":"<p>If it is a dependency of your project you should be able to run</p>\n<pre><code>gradle dependencies\n</code></pre>\n<p>and see the dependency tree for your whole project (including the subtree for this artifact)</p>\n<p>There are more details in the answer(s) to this question:\n<a href=\"https://stackoverflow.com/questions/21645071/using-gradle-to-find-dependency-tree\">Using Gradle to find dependency tree</a></p>\n"},{"comments":[{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1667996722,"post_id":74373137,"comment_id":131299978,"body_markdown":"Is it possible to createan empty project with just my dependency to run on it gradle dependencies? if yes how to do ?","body":"Is it possible to createan empty project with just my dependency to run on it gradle dependencies? if yes how to do ?"},{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":1,"creation_date":1667997410,"post_id":74373137,"comment_id":131300215,"body_markdown":"yes, And i believe its pretty simple, I will update my answer now.","body":"yes, And i believe its pretty simple, I will update my answer now."},{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1668723448,"post_id":74373137,"comment_id":131482496,"body_markdown":"I have a strange problem with your solution, I open a new SO with this problem here: https://stackoverflow.com/questions/74482724/gradle-dependencies-failed-for-an-unknown-reason","body":"I have a strange problem with your solution, I open a new SO with this problem here: <a href=\"https://stackoverflow.com/questions/74482724/gradle-dependencies-failed-for-an-unknown-reason\" title=\"gradle dependencies failed for an unknown reason\">stackoverflow.com/questions/74482724/&hellip;</a>"},{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":1,"creation_date":1669051330,"post_id":74373137,"comment_id":131550164,"body_markdown":"I have added an answer to your question, It should work fine now.","body":"I have added an answer to your question, It should work fine now."}],"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667997853,"creation_date":1667988913,"answer_id":74373137,"question_id":74367732,"body_markdown":"You can&#39;t do that, An aar does not contain any dependency information by itself.\r\n\r\nAll the information of this aar is stored in pom.xml which can be found [here](https://dl.google.com/dl/android/maven2/com/google/firebase/firebase-firestore/24.4.0/firebase-firestore-24.4.0.pom) over google maven repo.\r\n\r\nAnd this will only show you what `Gradle dependencies` command will do, and those are the [transitive dependencies](https://docs.gradle.org/current/userguide/dependency_management_terminology.html#sub:terminology_transitive_dependency) meaning the direct dependencies for this aar, Which By default, Gradle resolves them automatically.\r\n\r\nthe `pom.xml` for `com.google.firebase:firebase-firestore:24.4.0`\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n  &lt;artifactId&gt;firebase-firestore&lt;/artifactId&gt;\r\n  &lt;version&gt;24.4.0&lt;/version&gt;\r\n  &lt;packaging&gt;aar&lt;/packaging&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;androidx.annotation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;annotation&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.0&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;type&gt;jar&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.android.gms&lt;/groupId&gt;\r\n      &lt;artifactId&gt;play-services-base&lt;/artifactId&gt;\r\n      &lt;version&gt;18.0.1&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;type&gt;aar&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;name&gt;firebase-firestore&lt;/name&gt;\r\n  &lt;licenses&gt;\r\n    &lt;license&gt;\r\n      &lt;name&gt;The Apache Software License, Version 2.0&lt;/name&gt;\r\n      &lt;url&gt;http://www.apache.org/licenses/LICENSE-2.0.txt&lt;/url&gt;\r\n      &lt;distribution&gt;repo&lt;/distribution&gt;\r\n    &lt;/license&gt;\r\n  &lt;/licenses&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nThis `pom.xml` include `com.google.android.gms` which has its own `pom.xml`\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.google.android.gms&lt;/groupId&gt;\r\n  &lt;artifactId&gt;play-services-basement&lt;/artifactId&gt;\r\n  &lt;version&gt;18.1.0&lt;/version&gt;\r\n  &lt;packaging&gt;aar&lt;/packaging&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;androidx.collection&lt;/groupId&gt;\r\n      &lt;artifactId&gt;collection&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;type&gt;jar&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;androidx.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.0&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;type&gt;aar&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;androidx.fragment&lt;/groupId&gt;\r\n      &lt;artifactId&gt;fragment&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;type&gt;aar&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;name&gt;play-services-basement&lt;/name&gt;\r\n  &lt;licenses&gt;\r\n    &lt;license&gt;\r\n      &lt;name&gt;Android Software Development Kit License&lt;/name&gt;\r\n      &lt;url&gt;https://developer.android.com/studio/terms.html&lt;/url&gt;\r\n      &lt;distribution&gt;repo&lt;/distribution&gt;\r\n    &lt;/license&gt;\r\n  &lt;/licenses&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nWhat I am trying to say, Is that unless you iterate the process and fetch the POM files of the dependencies yourself, with a custom task, All you can use is `gradle dependencies` command to check the transitive dependencies used by your project or module.\r\n\r\nUPDATE:\r\n\r\nYou can easily start a new gradle project by following these simple steps.\r\n\r\n 1. `mkdir gradleExp`\r\n 2. ` cd gradleExp`\r\n 3. `gradle init`  # 1.basic 1.groovy random name\r\n 4. update the empty `build.gradle` with the following \r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n}\r\nrepositories {\r\n\tgoogle()\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &quot;com.google.firebase:firebase-firestore:24.4.0&quot;\r\n}\r\n```\r\n\r\n 5. `gradle dependencies` # to list all \r\n 6. `gradle dependencies --configuration compileClasspath`  # reduce output to show only Compile classpath for source set &#39;main&#39;\r\n\r\nNOTE: missing either `google()` or `mavenCentral()` will show some failure in the result shown.","title":"With gradle how to get the dependency tree of a library?","body":"<p>You can't do that, An aar does not contain any dependency information by itself.</p>\n<p>All the information of this aar is stored in pom.xml which can be found <a href=\"https://dl.google.com/dl/android/maven2/com/google/firebase/firebase-firestore/24.4.0/firebase-firestore-24.4.0.pom\" rel=\"nofollow noreferrer\">here</a> over google maven repo.</p>\n<p>And this will only show you what <code>Gradle dependencies</code> command will do, and those are the <a href=\"https://docs.gradle.org/current/userguide/dependency_management_terminology.html#sub:terminology_transitive_dependency\" rel=\"nofollow noreferrer\">transitive dependencies</a> meaning the direct dependencies for this aar, Which By default, Gradle resolves them automatically.</p>\n<p>the <code>pom.xml</code> for <code>com.google.firebase:firebase-firestore:24.4.0</code></p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n  &lt;artifactId&gt;firebase-firestore&lt;/artifactId&gt;\n  &lt;version&gt;24.4.0&lt;/version&gt;\n  &lt;packaging&gt;aar&lt;/packaging&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;androidx.annotation&lt;/groupId&gt;\n      &lt;artifactId&gt;annotation&lt;/artifactId&gt;\n      &lt;version&gt;1.1.0&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n      &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.android.gms&lt;/groupId&gt;\n      &lt;artifactId&gt;play-services-base&lt;/artifactId&gt;\n      &lt;version&gt;18.0.1&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n      &lt;type&gt;aar&lt;/type&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;name&gt;firebase-firestore&lt;/name&gt;\n  &lt;licenses&gt;\n    &lt;license&gt;\n      &lt;name&gt;The Apache Software License, Version 2.0&lt;/name&gt;\n      &lt;url&gt;http://www.apache.org/licenses/LICENSE-2.0.txt&lt;/url&gt;\n      &lt;distribution&gt;repo&lt;/distribution&gt;\n    &lt;/license&gt;\n  &lt;/licenses&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>This <code>pom.xml</code> include <code>com.google.android.gms</code> which has its own <code>pom.xml</code></p>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.google.android.gms&lt;/groupId&gt;\n  &lt;artifactId&gt;play-services-basement&lt;/artifactId&gt;\n  &lt;version&gt;18.1.0&lt;/version&gt;\n  &lt;packaging&gt;aar&lt;/packaging&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;androidx.collection&lt;/groupId&gt;\n      &lt;artifactId&gt;collection&lt;/artifactId&gt;\n      &lt;version&gt;1.0.0&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n      &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;androidx.core&lt;/groupId&gt;\n      &lt;artifactId&gt;core&lt;/artifactId&gt;\n      &lt;version&gt;1.2.0&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n      &lt;type&gt;aar&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;androidx.fragment&lt;/groupId&gt;\n      &lt;artifactId&gt;fragment&lt;/artifactId&gt;\n      &lt;version&gt;1.0.0&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n      &lt;type&gt;aar&lt;/type&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;name&gt;play-services-basement&lt;/name&gt;\n  &lt;licenses&gt;\n    &lt;license&gt;\n      &lt;name&gt;Android Software Development Kit License&lt;/name&gt;\n      &lt;url&gt;https://developer.android.com/studio/terms.html&lt;/url&gt;\n      &lt;distribution&gt;repo&lt;/distribution&gt;\n    &lt;/license&gt;\n  &lt;/licenses&gt;\n&lt;/project&gt;\n</code></pre>\n<p>What I am trying to say, Is that unless you iterate the process and fetch the POM files of the dependencies yourself, with a custom task, All you can use is <code>gradle dependencies</code> command to check the transitive dependencies used by your project or module.</p>\n<p>UPDATE:</p>\n<p>You can easily start a new gradle project by following these simple steps.</p>\n<ol>\n<li><code>mkdir gradleExp</code></li>\n<li><code> cd gradleExp</code></li>\n<li><code>gradle init</code>  # 1.basic 1.groovy random name</li>\n<li>update the empty <code>build.gradle</code> with the following</li>\n</ol>\n<pre><code>plugins {\n    id 'java'\n}\nrepositories {\n    google()\n    mavenCentral()\n}\n\ndependencies {\n    implementation &quot;com.google.firebase:firebase-firestore:24.4.0&quot;\n}\n</code></pre>\n<ol start=\"5\">\n<li><code>gradle dependencies</code> # to list all</li>\n<li><code>gradle dependencies --configuration compileClasspath</code>  # reduce output to show only Compile classpath for source set 'main'</li>\n</ol>\n<p>NOTE: missing either <code>google()</code> or <code>mavenCentral()</code> will show some failure in the result shown.</p>\n"}],"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74373137,"answer_count":2,"score":1,"last_activity_date":1667997853,"creation_date":1667945559,"question_id":74367732,"body_markdown":"Say I want to retrieve with graddle the dependancy tree of this artifact : `com.google.firebase:firebase-firestore:24.4.0`\r\n\r\nHow can I do ? ","title":"With gradle how to get the dependency tree of a library?","body":"<p>Say I want to retrieve with graddle the dependancy tree of this artifact : <code>com.google.firebase:firebase-firestore:24.4.0</code></p>\n<p>How can I do ?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1666251985,"post_id":74113104,"comment_id":130892952,"body_markdown":"Somewhere in your pom&#39;s or in partens the expression is being used which is long time deprecated and should be replaced...the question is why it&#39;s being used anyway...","body":"Somewhere in your pom&#39;s or in partens the expression is being used which is long time deprecated and should be replaced...the question is why it&#39;s being used anyway..."},{"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"score":0,"creation_date":1666266189,"post_id":74113104,"comment_id":130898187,"body_markdown":"The question is more what kind of expression is used... no clue which expression, which xml tag am I looking for? @khmarbaise","body":"The question is more what kind of expression is used... no clue which expression, which xml tag am I looking for? @khmarbaise"}],"answers":[{"tags":[],"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667997798,"creation_date":1667997798,"answer_id":74375073,"question_id":74113104,"body_markdown":"Into the maven-jar-plugin I had that issue, changed \r\n\r\n    &lt;Service-Component&gt;${name}&lt;/Service-Component&gt;\r\n\r\nto\r\n\r\n    &lt;Service-Component&gt;${project.name}&lt;/Service-Component&gt;\r\n\r\nFor a bit more context\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;**/*.java,**/*Test.class,**/*TestCase.class,**/.keep&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifestEntries&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;my-project-name-${project.version}&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;Service-Component&gt;${project.name}&lt;/Service-Component&gt;\r\n\t\t\t\t\t\t&lt;/manifestEntries&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n","title":"maven The expression ${name} is deprecated. Please use ${project.name} instead","body":"<p>Into the maven-jar-plugin I had that issue, changed</p>\n<pre><code>&lt;Service-Component&gt;${name}&lt;/Service-Component&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;Service-Component&gt;${project.name}&lt;/Service-Component&gt;\n</code></pre>\n<p>For a bit more context</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.java,**/*Test.class,**/*TestCase.class,**/.keep&lt;/exclude&gt;\n                &lt;/excludes&gt;\n                &lt;archive&gt;\n                    &lt;manifestEntries&gt;\n                        &lt;version&gt;my-project-name-${project.version}&lt;/version&gt;\n                        &lt;Service-Component&gt;${project.name}&lt;/Service-Component&gt;\n                    &lt;/manifestEntries&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":715,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667997798,"creation_date":1666104850,"question_id":74113104,"body_markdown":"Having some issues detecting the source of this error message and its resolution, sorry hard to share the pom as its something from the company\r\n\r\n`The expression ${name} is deprecated. Please use ${project.name} instead.\r\nIt is highly recommended to fix these problems because they threaten the stability of your build.\r\nFor this reason, future Maven versions might no longer support building such malformed projects.`","title":"maven The expression ${name} is deprecated. Please use ${project.name} instead","body":"<p>Having some issues detecting the source of this error message and its resolution, sorry hard to share the pom as its something from the company</p>\n<p><code>The expression ${name} is deprecated. Please use ${project.name} instead. It is highly recommended to fix these problems because they threaten the stability of your build. For this reason, future Maven versions might no longer support building such malformed projects.</code></p>\n"},{"tags":["java","arraylist","game-development"],"answers":[{"tags":[],"owner":{"account_id":10242,"reputation":12230,"user_id":19246,"accept_rate":82,"display_name":"Martin C."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667997481,"creation_date":1667997481,"answer_id":74375000,"question_id":74374939,"body_markdown":"Instead of directly adding the player to the array list, check with `.contains()` first. If not, ask for re-input. You will not be able to do this directly with a `for` loop, you will need to restructure your code.\r\n\r\nPS: This sounds very much like homework in a programming course.","title":"How to ensure two players or more inputted player names in an arraylist are not the same (java)","body":"<p>Instead of directly adding the player to the array list, check with <code>.contains()</code> first. If not, ask for re-input. You will not be able to do this directly with a <code>for</code> loop, you will need to restructure your code.</p>\n<p>PS: This sounds very much like homework in a programming course.</p>\n"},{"comments":[{"owner":{"account_id":10242,"reputation":12230,"user_id":19246,"accept_rate":82,"display_name":"Martin C."},"score":0,"creation_date":1667998017,"post_id":74375058,"comment_id":131300400,"body_markdown":"Unlike the contains method, using the stream API generates a lot of internal objects. You will not care at this scale, but you will care at larger scales where GC becomes an issue. You should not get into the habit to use overly complex APIs when doing easy stuff :-)","body":"Unlike the contains method, using the stream API generates a lot of internal objects. You will not care at this scale, but you will care at larger scales where GC becomes an issue. You should not get into the habit to use overly complex APIs when doing easy stuff :-)"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1668000351,"post_id":74375058,"comment_id":131301265,"body_markdown":"“FindAny … isPresent” can be reduced to  `anyMatch`. https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-","body":"“FindAny … isPresent” can be reduced to  <code>anyMatch</code>. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/&hellip;</a>"}],"tags":[],"owner":{"account_id":24832553,"reputation":1,"user_id":18711585,"display_name":"emir"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667997729,"creation_date":1667997729,"answer_id":74375058,"question_id":74374939,"body_markdown":"you can save the input from the user into a variable and check if the name already exists in the list:\r\n\r\n```\r\nString input = Input.read();\r\nif(!list.stream().findAny(s -&gt; s.getName().equals(input)).isPresent()({\r\n   players.add(new Player(input));\r\n}\r\n```\r\n\r\nStream API were used to check if name already exists in the list, but you could also use the `.contains` method, but first you need to override the `equals` method in your `Player` class.\r\n\r\n","title":"How to ensure two players or more inputted player names in an arraylist are not the same (java)","body":"<p>you can save the input from the user into a variable and check if the name already exists in the list:</p>\n<pre><code>String input = Input.read();\nif(!list.stream().findAny(s -&gt; s.getName().equals(input)).isPresent()({\n   players.add(new Player(input));\n}\n</code></pre>\n<p>Stream API were used to check if name already exists in the list, but you could also use the <code>.contains</code> method, but first you need to override the <code>equals</code> method in your <code>Player</code> class.</p>\n"}],"owner":{"account_id":23433600,"reputation":1,"user_id":17492033,"display_name":"Jarmatron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667997729,"creation_date":1667997164,"question_id":74374939,"body_markdown":"Hello in my monopoly game i need to make sure no inputted player names are the same to avoid confusion using an arraylist in java any way how to do it so only one player can have one name\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\npublic class Player {\r\n    private ArrayList&lt;Property&gt; properties = new ArrayList&lt;Property&gt;();\r\n    private final String name;\r\n    private int position;\r\n    private int money = 0;\r\n    public boolean inJail = false;\r\n    public int outOfJailCards = 0;\r\n    public int turnsInJail = 0;\r\n    public Player(String name){\r\n        this.name = name;\r\n        position = 0;\r\n    }\r\n    public String getName() { \r\n    \treturn name;\r\n    \t }\r\n\r\n```\r\n\r\n```\r\n// in monopoly.java\r\nstatic ArrayList&lt;Player&gt; createPlayers(int numPlayers){\r\n        ArrayList&lt;Player&gt; players = new ArrayList&lt;&gt;();\r\n\r\n        for(int i = 1; i &lt;= numPlayers; i++){\r\n            System.out.print(&quot;Player &quot; + i + &quot; name: &quot;);\r\n            \r\n            players.add(new Player(Input.read()));\r\n        }\r\n\r\n        return players;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\npublic class Input {\r\n    public static String read(){\r\n        Scanner scanner = new Scanner(System.in);\r\n        return scanner.nextLine();\r\n    }\r\n\r\n```\r\n[![enter image description here](https://i.stack.imgur.com/dA2OL.png)](https://i.stack.imgur.com/dA2OL.png)\r\n\r\n\r\n\r\n\r\n","title":"How to ensure two players or more inputted player names in an arraylist are not the same (java)","body":"<p>Hello in my monopoly game i need to make sure no inputted player names are the same to avoid confusion using an arraylist in java any way how to do it so only one player can have one name</p>\n<pre><code>public class Player {\n    private ArrayList&lt;Property&gt; properties = new ArrayList&lt;Property&gt;();\n    private final String name;\n    private int position;\n    private int money = 0;\n    public boolean inJail = false;\n    public int outOfJailCards = 0;\n    public int turnsInJail = 0;\n    public Player(String name){\n        this.name = name;\n        position = 0;\n    }\n    public String getName() { \n        return name;\n         }\n\n</code></pre>\n<pre><code>// in monopoly.java\nstatic ArrayList&lt;Player&gt; createPlayers(int numPlayers){\n        ArrayList&lt;Player&gt; players = new ArrayList&lt;&gt;();\n\n        for(int i = 1; i &lt;= numPlayers; i++){\n            System.out.print(&quot;Player &quot; + i + &quot; name: &quot;);\n            \n            players.add(new Player(Input.read()));\n        }\n\n        return players;\n    }\n}\n</code></pre>\n<pre><code>\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Input {\n    public static String read(){\n        Scanner scanner = new Scanner(System.in);\n        return scanner.nextLine();\n    }\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dA2OL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dA2OL.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","postman","rest"],"answers":[{"comments":[{"owner":{"account_id":22507442,"reputation":1,"user_id":16702828,"display_name":"sam"},"score":1,"creation_date":1631599888,"post_id":69172545,"comment_id":122258396,"body_markdown":"Thank you so much for your response, Actually I am learning these concepts now. Can you please explain in detail, how to create this wrapper method? @ Navaneeth Sen","body":"Thank you so much for your response, Actually I am learning these concepts now. Can you please explain in detail, how to create this wrapper method? @ Navaneeth Sen"},{"owner":{"account_id":202356,"reputation":6380,"user_id":449378,"accept_rate":62,"display_name":"Navaneeth Sen"},"score":0,"creation_date":1631600011,"post_id":69172545,"comment_id":122258431,"body_markdown":"Actually this wrapper method was a generic way of saying it, but in fact your doStock method is the wrapper code that compose this new return object for you.","body":"Actually this wrapper method was a generic way of saying it, but in fact your doStock method is the wrapper code that compose this new return object for you."},{"owner":{"account_id":22507442,"reputation":1,"user_id":16702828,"display_name":"sam"},"score":0,"creation_date":1631601064,"post_id":69172545,"comment_id":122258752,"body_markdown":"I edited my code, but I got, [\n    {\n        &quot;escapeForwardSlashAlways&quot;: true\n    },\n    {\n        &quot;escapeForwardSlashAlways&quot;: true\n    }\n]   @Navaneeth Sen","body":"I edited my code, but I got, [     {         &quot;escapeForwardSlashAlways&quot;: true     },     {         &quot;escapeForwardSlashAlways&quot;: true     } ]   @Navaneeth Sen"},{"owner":{"account_id":202356,"reputation":6380,"user_id":449378,"accept_rate":62,"display_name":"Navaneeth Sen"},"score":0,"creation_date":1631609093,"post_id":69172545,"comment_id":122261909,"body_markdown":"could you please print your obj3?","body":"could you please print your obj3?"},{"owner":{"account_id":22507442,"reputation":1,"user_id":16702828,"display_name":"sam"},"score":0,"creation_date":1631690366,"post_id":69172545,"comment_id":122287028,"body_markdown":"Actually it is solved today, I just added returnlist.tostring() , Thank you so much for your help. @Navaneeth Sen","body":"Actually it is solved today, I just added returnlist.tostring() , Thank you so much for your help. @Navaneeth Sen"}],"tags":[],"owner":{"account_id":202356,"reputation":6380,"user_id":449378,"accept_rate":62,"display_name":"Navaneeth Sen"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1631599764,"creation_date":1631599455,"answer_id":69172545,"question_id":69172426,"body_markdown":"The issue is not with PostMan, but with your response object.\r\n\r\nYou will need to create a wrapper method which will compose the different &quot;SymbolName&quot; return objects into a new object.   \r\n\r\n\r\nBased on the code you have shown, I understand that you need to iterate through each of your symbolname using a method named doStock(), inside which you run the checkStock(symbolname) method for each symbolname, append the return object of the checkStock method into an array/List and finally when all the symbolnames are processed, return the array/List.   \r\n\r\nThis array will have all your json objects.  \r\n\r\nIn your code obj3 is getting over written in the loop and that is why you only get to see one object in postman, which will be the last obj3 you return.   \r\n\r\nPlease see the modified code below:\r\n\r\n    public List doStock(JsonObject SymbolName) throws Exception {\r\n            JSONObject obj2 = new JSONObject(SymbolName);\r\n            JSONArray jsonArray = (JSONArray) obj2.get(&quot;SymbolName&quot;);\r\n            \r\n            JSONObject obj3 = new JSONObject();\r\n            List returnList = new ArrayList()\r\n            Object obj = null;\r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;Symbol Name: &quot;);\r\n            //Iterating the contents of the array\r\n            for(int i = 0; i &lt; jsonArray.length(); i++){\r\n                obj = jsonArray.get(i);  \r\n                System.out.println(obj);\r\n                obj3=checkStock(obj);\r\n                returnList.add(obj3)\r\n            }\r\n        \r\n            return returnList;\r\n         \r\n        }","title":"How to display multiple JSON Object simultaneously in postman?","body":"<p>The issue is not with PostMan, but with your response object.</p>\n<p>You will need to create a wrapper method which will compose the different &quot;SymbolName&quot; return objects into a new object.</p>\n<p>Based on the code you have shown, I understand that you need to iterate through each of your symbolname using a method named doStock(), inside which you run the checkStock(symbolname) method for each symbolname, append the return object of the checkStock method into an array/List and finally when all the symbolnames are processed, return the array/List.</p>\n<p>This array will have all your json objects.</p>\n<p>In your code obj3 is getting over written in the loop and that is why you only get to see one object in postman, which will be the last obj3 you return.</p>\n<p>Please see the modified code below:</p>\n<pre><code>public List doStock(JsonObject SymbolName) throws Exception {\n        JSONObject obj2 = new JSONObject(SymbolName);\n        JSONArray jsonArray = (JSONArray) obj2.get(&quot;SymbolName&quot;);\n        \n        JSONObject obj3 = new JSONObject();\n        List returnList = new ArrayList()\n        Object obj = null;\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Symbol Name: &quot;);\n        //Iterating the contents of the array\n        for(int i = 0; i &lt; jsonArray.length(); i++){\n            obj = jsonArray.get(i);  \n            System.out.println(obj);\n            obj3=checkStock(obj);\n            returnList.add(obj3)\n        }\n    \n        return returnList;\n     \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13094240,"reputation":1,"user_id":9460621,"display_name":"Hedyeh Geranmayeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667997538,"creation_date":1667997500,"answer_id":74375005,"question_id":69172426,"body_markdown":"I had this issue this morning. the reason was inconsistent type of JSON classes we&#39;ve used throughout our app.","title":"How to display multiple JSON Object simultaneously in postman?","body":"<p>I had this issue this morning. the reason was inconsistent type of JSON classes we've used throughout our app.</p>\n"}],"owner":{"account_id":22507442,"reputation":1,"user_id":16702828,"display_name":"sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69172545,"answer_count":2,"score":0,"last_activity_date":1667997538,"creation_date":1631598721,"question_id":69172426,"body_markdown":"````\r\n\r\npublic String doStock(JsonObject SymbolName) throws Exception {\r\n\t\tJSONObject obj2 = new JSONObject(SymbolName);\r\n\t\tJSONArray jsonArray = (JSONArray) obj2.get(&quot;SymbolName&quot;);\r\n\t\t\r\n\t\tJSONObject obj3 = new JSONObject();\r\n\t\tObject obj = null;\r\n\t\tSystem.out.println(&quot;&quot;);\r\n        System.out.println(&quot;Symbol Name: &quot;);\r\n        //Iterating the contents of the array\r\n        for(int i = 0; i &lt; jsonArray.length(); i++){\r\n            obj = jsonArray.get(i);  \r\n            System.out.println(obj);\r\n            obj3=checkStock(obj.toString());\r\n          \r\n        }\r\n\t\r\n        return obj3.toString();\r\n     \r\n\t}\r\n````\r\n\r\n\r\nmy post request : {&quot;SymbolName&quot;:[&quot;ODP&quot;,&quot;ACC&quot;]} in this only the details regarding ACC is returning to postman but in console both are showing, I want to display the json object regarding both ODP ans ACC. How to do this? \r\n\r\n\r\n\r\n ","title":"How to display multiple JSON Object simultaneously in postman?","body":"<pre><code>\npublic String doStock(JsonObject SymbolName) throws Exception {\n        JSONObject obj2 = new JSONObject(SymbolName);\n        JSONArray jsonArray = (JSONArray) obj2.get(&quot;SymbolName&quot;);\n        \n        JSONObject obj3 = new JSONObject();\n        Object obj = null;\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Symbol Name: &quot;);\n        //Iterating the contents of the array\n        for(int i = 0; i &lt; jsonArray.length(); i++){\n            obj = jsonArray.get(i);  \n            System.out.println(obj);\n            obj3=checkStock(obj.toString());\n          \n        }\n    \n        return obj3.toString();\n     \n    }\n</code></pre>\n<p>my post request : {&quot;SymbolName&quot;:[&quot;ODP&quot;,&quot;ACC&quot;]} in this only the details regarding ACC is returning to postman but in console both are showing, I want to display the json object regarding both ODP ans ACC. How to do this?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1667912620,"post_id":74360104,"comment_id":131276646,"body_markdown":"You are using Spring WebServices **not** Spring MVC. So it tries to get SOAP and it gets JSON.","body":"You are using Spring WebServices <b>not</b> Spring MVC. So it tries to get SOAP and it gets JSON."},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1667927954,"post_id":74360104,"comment_id":131283061,"body_markdown":"I&#39;m actually haven&#39;t configured /services controller to do that. Note the main condition of the question, /service works fine with the rest json and it has the same configuration. So what is the magic intersepts /services call without xplicit controller configuration for that?","body":"I&#39;m actually haven&#39;t configured /services controller to do that. Note the main condition of the question, /service works fine with the rest json and it has the same configuration. So what is the magic intersepts /services call without xplicit controller configuration for that?"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":1,"creation_date":1667941966,"post_id":74360104,"comment_id":131287628,"body_markdown":"In the Java code you have &quot;/service&quot; and &quot;/services&quot; in the @RequestMapping but in the stacktrace we see &quot;/billing/service/services&quot;, are you sure you don&#39;t have some confusion in the URL paths of your testing ?","body":"In the Java code you have &quot;/service&quot; and &quot;/services&quot; in the @RequestMapping but in the stacktrace we see &quot;/billing/service/services&quot;, are you sure you don&#39;t have some confusion in the URL paths of your testing ?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1667978458,"post_id":74360104,"comment_id":131293917,"body_markdown":"Your stacktrace clearly indicates the request is handled by the `MessageDispatcherServlet` not the `DispatcherServlet`. No matter how many annotation changes you are going to make on yoru controllers it still will go to the `MessgeDispatcherServlet` (which is for Spring WS and SOAP WebServices).","body":"Your stacktrace clearly indicates the request is handled by the <code>MessageDispatcherServlet</code> not the <code>DispatcherServlet</code>. No matter how many annotation changes you are going to make on yoru controllers it still will go to the <code>MessgeDispatcherServlet</code> (which is for Spring WS and SOAP WebServices)."},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1667987497,"post_id":74360104,"comment_id":131296757,"body_markdown":"@M.Deinum why MessageDispatcherServlet can intercept that?","body":"@M.Deinum why MessageDispatcherServlet can intercept that?"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1667987613,"post_id":74360104,"comment_id":131296799,"body_markdown":"@p3consulting there is a context-path configuration, added the detail to the question","body":"@p3consulting there is a context-path configuration, added the detail to the question"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1667995454,"post_id":74360104,"comment_id":131299524,"body_markdown":"Because you configured it like that.. The `MessageDispatcherServlet` by default listens to `/services/*` if IIRC. Not sure why you even have that, do you do anything with SOAP in your project? If not why is then `spring-boot-starter-web-services` on your path? Als your path mapping is weird as well as it will lead to a path of `/billing/service/billing/service` to be able to access the `DispatcherServlet`.","body":"Because you configured it like that.. The <code>MessageDispatcherServlet</code> by default listens to <code>&#47;services&#47;*</code> if IIRC. Not sure why you even have that, do you do anything with SOAP in your project? If not why is then <code>spring-boot-starter-web-services</code> on your path? Als your path mapping is weird as well as it will lead to a path of <code>&#47;billing&#47;service&#47;billing&#47;service</code> to be able to access the <code>DispatcherServlet</code>."},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1667997420,"post_id":74360104,"comment_id":131300221,"body_markdown":"@M.Deinum probably it was introduced with the starter in depedency, but I actually don&#39;t have it as the explicit dependency and never configured that. I have added the dependencies to the question.","body":"@M.Deinum probably it was introduced with the starter in depedency, but I actually don&#39;t have it as the explicit dependency and never configured that. I have added the dependencies to the question."},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1667997507,"post_id":74360104,"comment_id":131300252,"body_markdown":"@M.Deinum is `server.servlet.context-path` setting is applied to `MessageDispatcherServlet` too?","body":"@M.Deinum is <code>server.servlet.context-path</code> setting is applied to <code>MessageDispatcherServlet</code> too?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668019071,"post_id":74360104,"comment_id":131308477,"body_markdown":"Not sure if that is applied, nonetheless the stacktace is pretty clear and there is the `MessageDispatcherServlet` so something must be pulling it in. Something is also weird in your dependencies as you both have web and webflux as a dependency.","body":"Not sure if that is applied, nonetheless the stacktace is pretty clear and there is the <code>MessageDispatcherServlet</code> so something must be pulling it in. Something is also weird in your dependencies as you both have web and webflux as a dependency."}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667997448,"creation_date":1667907538,"question_id":74360104,"body_markdown":"I have 2 controllers that accept the same parameters and return the same type value like that:\r\n\r\n    @Slf4j\r\n    @Getter\r\n    @RestController\r\n    @RequestMapping(value = &quot;/services&quot;)\r\n    public class ServicesController {\r\n    \r\n        @PostMapping\r\n        @ResponseStatus(HttpStatus.CREATED)\r\n        public ServiceDTO create(@RequestBody ServiceCreateDTO vo) throws BaseException {\r\n            return serviceService.create(vo, true);\r\n        }\r\n\r\nand \r\n\r\n    @Slf4j\r\n    @Getter\r\n    @RestController\r\n    @RequestMapping(value = &quot;/service&quot;)\r\n    public class ServiceController {\r\n    \r\n        @PostMapping\r\n        @ResponseStatus(HttpStatus.CREATED)\r\n        public ServiceDTO create(@RequestBody ServiceCreateDTO vo) throws BaseException {\r\n            return serviceService.create(vo, false);\r\n        }\r\n\r\nso in the next layer they just use the same service and have just one parameter different to be passed into the service call. The service initialization is the same on both controllers:\r\n\r\n     private ServiceService serviceService;\r\n    \r\n     private ServiceOptionService serviceOptionService;\r\n    \r\n     @Autowired\r\n     public ServiceController(ServiceService serviceService, ServiceOptionService serviceOptionService) {\r\n            this.serviceService = serviceService;\r\n            this.serviceOptionService = serviceOptionService;\r\n        }\r\n\r\nso, when requesting `/service` I&#39;m getting the expected result, while when requesting `/services`, I&#39;m getting this error. It is uneasy to explain, as all the settings are all the same for the both controllers.\r\n\r\n     ERROR io.undertow.request - UT005023: Exception handling request to /billing/service/services\r\n    org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.ws.soap.SoapMessageCreationException: Could not create message from InputStream: Invalid Content-Type:application/json. Is this an error message instead of a SOAP response?; nested exception is com.sun.xml.messaging.saaj.SOAPExceptionImpl: Invalid Content-Type:application/json. Is this an error message instead of a SOAP response?\r\n            at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1013)\r\n            at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\r\n            at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\r\n            at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n            at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:262)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n            at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n            at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\r\n            at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\r\n            at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n            at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n            at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\r\n            at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n            at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n            at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\r\n            at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\r\n            at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\r\n            at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\r\n            at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\r\n            at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n            at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n            at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n            at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n            at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n            at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n            at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n            at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\r\n            at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n            at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n            at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\r\n            at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n            at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n            at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n            at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n            at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n            at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n            at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n            at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\r\n            at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n            at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n            at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n            at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n            at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n            at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n            at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n            at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n            at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n            at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\r\n            at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n            at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n            at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n            at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n            at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n            at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n            at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n            at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n            at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\r\n            at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n            at java.base/java.lang.Thread.run(Thread.java:829)\r\n    Caused by: org.springframework.ws.soap.SoapMessageCreationException: Could not create message from InputStream: Invalid Content-Type:application/json. Is this an error message instead of a SOAP response?; nested exception is com.sun.xml.messaging.saaj.SOAPExceptionImpl: Invalid Content-Type:application/json. Is this an error message instead of a SOAP response?\r\n            at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:218)\r\n            at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:62)\r\n            at org.springframework.ws.transport.AbstractWebServiceConnection.receive(AbstractWebServiceConnection.java:92)\r\n            at org.springframework.ws.transport.support.WebServiceMessageReceiverObjectSupport.handleConnection(WebServiceMessageReceiverObjectSupport.java:87)\r\n            at org.springframework.ws.transport.http.WebServiceMessageReceiverHandlerAdapter.handle(WebServiceMessageReceiverHandlerAdapter.java:61)\r\n            at org.springframework.ws.transport.http.MessageDispatcherServlet.doService(MessageDispatcherServlet.java:293)\r\n            at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n            ... 98 common frames omitted\r\n    Caused by: com.sun.xml.messaging.saaj.SOAPExceptionImpl: Invalid Content-Type:application/json. Is this an error message instead of a SOAP response?\r\n            at com.sun.xml.messaging.saaj.soap.MessageImpl.identifyContentType(MessageImpl.java:740)\r\n            at com.sun.xml.messaging.saaj.soap.MessageImpl.&lt;init&gt;(MessageImpl.java:331)\r\n            at com.sun.xml.messaging.saaj.soap.ver1_1.Message1_1Impl.&lt;init&gt;(Message1_1Impl.java:81)\r\n            at com.sun.xml.messaging.saaj.soap.ver1_1.SOAPMessageFactory1_1Impl.createMessage(SOAPMessageFactory1_1Impl.java:81)\r\n            at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:190)\r\n            ... 104 common frames omitted\r\n\r\nWhat could be the difference of the different behavior? I believe, it is ok to have the same method signature except the url in the different controllers, so what else may be the cause?\r\n\r\nIf I replace `/services` with `/servics` in my controller it starts working, while `/services` still accepting the query and gives the same output to the stacktrace. But it isn&#39;t actually configured in my controllers elsewhere, probably comes with some library, how to find that sort of &quot;effective controllers&quot;?\r\n\r\nThere is also context-path configuration:\r\n\r\n\r\n    server:\r\n      port: 8072\r\n      servlet:\r\n        context-path: /billing/service\r\n        path: /billing/service\r\n\r\nGradle dependencies:\r\n\r\n\r\n    dependencies {\r\n        compile &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        compile &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n        compile &#39;org.springframework.boot:spring-boot-starter-data-rest&#39;\r\n        compile &#39;org.springframework.boot:spring-boot-starter-mail&#39;\r\n        compile(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;) {\r\n            exclude group: &#39;org.hibernate&#39;, module: &#39;hibernate-entitymanager&#39;\r\n        }\r\n        compile &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n        compile &#39;org.springframework.boot:spring-boot-starter-undertow&#39;\r\n        compile &#39;org.springframework.boot:spring-boot-starter-oauth2-resource-server&#39;\r\n        compile &#39;org.springframework.security:spring-security-oauth2-jose:5.2.1.RELEASE&#39;\r\n        compile &#39;org.springframework.security:spring-security-oauth2-core:5.2.1.RELEASE&#39;\r\n    \r\n        compile &#39;org.springframework.kafka:spring-kafka:2.2.7.RELEASE&#39;\r\n    \r\n        compile &#39;io.projectreactor:reactor-core:3.2.12.RELEASE&#39;\r\n    \r\n        compileOnly &#39;org.projectlombok:lombok:1.18.10+&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok:1.18.10+&#39;\r\n        testAnnotationProcessor &#39;org.projectlombok:lombok:1.18.10+&#39;\r\n    \r\n        compile &#39;org.postgresql:postgresql:42.2.8&#39;\r\n        compile &#39;com.zaxxer:HikariCP:3.4.0&#39;\r\n        //compile &#39;org.flywaydb:flyway-core:5.2.4&#39;\r\n    \r\n        compile &#39;org.hibernate:hibernate-core:5.4.10.Final&#39;\r\n        compile &#39;org.hibernate:hibernate-ehcache:5.4.10.Final&#39;\r\n        compile &#39;org.hibernate.javax.persistence:hibernate-jpa-2.2-api:1.0.0.Beta2&#39;\r\n    \r\n        //compile &#39;net.bull.javamelody:javamelody-core:1.76.0&#39;\r\n        compile &#39;net.bull.javamelody:javamelody-spring-boot-starter:1.79.0&#39;\r\n    \r\n        compile &#39;org.apache.commons:commons-lang3:3.9&#39;\r\n        compile &quot;org.apache.commons:commons-compress:1.19&quot;\r\n        compile &#39;org.apache.commons:commons-collections4:4.4&#39;\r\n    \r\n        compile (&#39;io.springfox:springfox-swagger2:2.9.2&#39;) {\r\n            exclude module: &#39;swagger-annotations&#39;\r\n            exclude module: &#39;swagger-models&#39;\r\n        }\r\n        compile &#39;io.swagger:swagger-annotations:1.5.23&#39;\r\n        compile &#39;io.swagger:swagger-models:1.5.23&#39;\r\n        compile &#39;io.springfox:springfox-swagger-ui:2.9.2&#39;\r\n    \r\n        compile &#39;rf.dom.billing:billing-model:RELEASE.2.2.3&#39;\r\n        compile &#39;rf.dom.billing:billing-common:RELEASE.1.0.6&#39;\r\n        compile &#39;rf.dom.billing:billing-tracking:RELEASE.1.1.8&#39;\r\n        compile &#39;rf.dom.billing:billing-1c-integration:RELEASE.0.0.3&#39;\r\n        compile &#39;rf.dom.billing:billing-docstore-integration:1.0.3&#39;\r\n    \r\n        /*Cloud start*/\r\n        compile &#39;org.springframework.cloud:spring-cloud-starter-config:2.1+&#39;\r\n        compile &#39;org.springframework.cloud:spring-cloud-starter:2.1+&#39;\r\n        /*compile &#39;org.springframework.cloud:spring-cloud-starter-netflix-eureka-client:2+&#39;*/\r\n        compile &#39;org.springframework.cloud:spring-cloud-config-client:2.1+&#39;\r\n        /*Cloud end*/\r\n    \r\n        // https://mvnrepository.com/artifact/jcifs/jcifs\r\n    //    compile group: &#39;jcifs&#39;, name: &#39;jcifs&#39;, version: &#39;1.3.17&#39;\r\n        // https://mvnrepository.com/artifact/org.codelibs/jcifs\r\n        compile group: &#39;org.codelibs&#39;, name: &#39;jcifs&#39;, version: &#39;2.1.13&#39;\r\n        compile &#39;com.ibm.icu:icu4j:66.1&#39;\r\n    \r\n        testCompile &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        testCompile &#39;org.springframework.boot:spring-boot-starter-undertow&#39;\r\n        testCompile &#39;org.testng:testng:6.14.3&#39;\r\n        testCompile &#39;org.powermock:powermock-api-mockito2:2.0.2&#39;\r\n        testCompile &#39;com.opentable.components:otj-pg-embedded:0.13.1&#39;\r\n        testCompile &#39;org.flywaydb:flyway-core:5.2.4&#39;\r\n    }\r\n\r\n","title":"Could not create message from InputStream: Invalid Content-Type:application/json. for the Rest webservice in Spring Boot application","body":"<p>I have 2 controllers that accept the same parameters and return the same type value like that:</p>\n<pre><code>@Slf4j\n@Getter\n@RestController\n@RequestMapping(value = &quot;/services&quot;)\npublic class ServicesController {\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public ServiceDTO create(@RequestBody ServiceCreateDTO vo) throws BaseException {\n        return serviceService.create(vo, true);\n    }\n</code></pre>\n<p>and</p>\n<pre><code>@Slf4j\n@Getter\n@RestController\n@RequestMapping(value = &quot;/service&quot;)\npublic class ServiceController {\n\n    @PostMapping\n    @ResponseStatus(HttpStatus.CREATED)\n    public ServiceDTO create(@RequestBody ServiceCreateDTO vo) throws BaseException {\n        return serviceService.create(vo, false);\n    }\n</code></pre>\n<p>so in the next layer they just use the same service and have just one parameter different to be passed into the service call. The service initialization is the same on both controllers:</p>\n<pre><code> private ServiceService serviceService;\n\n private ServiceOptionService serviceOptionService;\n\n @Autowired\n public ServiceController(ServiceService serviceService, ServiceOptionService serviceOptionService) {\n        this.serviceService = serviceService;\n        this.serviceOptionService = serviceOptionService;\n    }\n</code></pre>\n<p>so, when requesting <code>/service</code> I'm getting the expected result, while when requesting <code>/services</code>, I'm getting this error. It is uneasy to explain, as all the settings are all the same for the both controllers.</p>\n<pre><code> ERROR io.undertow.request - UT005023: Exception handling request to /billing/service/services\norg.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.ws.soap.SoapMessageCreationException: Could not create message from InputStream: Invalid Content-Type:application/json. Is this an error message instead of a SOAP response?; nested exception is com.sun.xml.messaging.saaj.SOAPExceptionImpl: Invalid Content-Type:application/json. Is this an error message instead of a SOAP response?\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1013)\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:908)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)\n        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n        at org.springframework.web.filter.AbstractRequestLoggingFilter.doFilterInternal(AbstractRequestLoggingFilter.java:262)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\n        at net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.boot.actuate.web.trace.servlet.HttpTraceFilter.doFilterInternal(HttpTraceFilter.java:88)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.filterAndRecordMetrics(WebMvcMetricsFilter.java:114)\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:104)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n        at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n        at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\n        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:376)\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:830)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: org.springframework.ws.soap.SoapMessageCreationException: Could not create message from InputStream: Invalid Content-Type:application/json. Is this an error message instead of a SOAP response?; nested exception is com.sun.xml.messaging.saaj.SOAPExceptionImpl: Invalid Content-Type:application/json. Is this an error message instead of a SOAP response?\n        at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:218)\n        at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:62)\n        at org.springframework.ws.transport.AbstractWebServiceConnection.receive(AbstractWebServiceConnection.java:92)\n        at org.springframework.ws.transport.support.WebServiceMessageReceiverObjectSupport.handleConnection(WebServiceMessageReceiverObjectSupport.java:87)\n        at org.springframework.ws.transport.http.WebServiceMessageReceiverHandlerAdapter.handle(WebServiceMessageReceiverHandlerAdapter.java:61)\n        at org.springframework.ws.transport.http.MessageDispatcherServlet.doService(MessageDispatcherServlet.java:293)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n        ... 98 common frames omitted\nCaused by: com.sun.xml.messaging.saaj.SOAPExceptionImpl: Invalid Content-Type:application/json. Is this an error message instead of a SOAP response?\n        at com.sun.xml.messaging.saaj.soap.MessageImpl.identifyContentType(MessageImpl.java:740)\n        at com.sun.xml.messaging.saaj.soap.MessageImpl.&lt;init&gt;(MessageImpl.java:331)\n        at com.sun.xml.messaging.saaj.soap.ver1_1.Message1_1Impl.&lt;init&gt;(Message1_1Impl.java:81)\n        at com.sun.xml.messaging.saaj.soap.ver1_1.SOAPMessageFactory1_1Impl.createMessage(SOAPMessageFactory1_1Impl.java:81)\n        at org.springframework.ws.soap.saaj.SaajSoapMessageFactory.createWebServiceMessage(SaajSoapMessageFactory.java:190)\n        ... 104 common frames omitted\n</code></pre>\n<p>What could be the difference of the different behavior? I believe, it is ok to have the same method signature except the url in the different controllers, so what else may be the cause?</p>\n<p>If I replace <code>/services</code> with <code>/servics</code> in my controller it starts working, while <code>/services</code> still accepting the query and gives the same output to the stacktrace. But it isn't actually configured in my controllers elsewhere, probably comes with some library, how to find that sort of &quot;effective controllers&quot;?</p>\n<p>There is also context-path configuration:</p>\n<pre><code>server:\n  port: 8072\n  servlet:\n    context-path: /billing/service\n    path: /billing/service\n</code></pre>\n<p>Gradle dependencies:</p>\n<pre><code>dependencies {\n    compile 'org.springframework.boot:spring-boot-starter-web'\n    compile 'org.springframework.boot:spring-boot-starter-webflux'\n    compile 'org.springframework.boot:spring-boot-starter-data-rest'\n    compile 'org.springframework.boot:spring-boot-starter-mail'\n    compile('org.springframework.boot:spring-boot-starter-data-jpa') {\n        exclude group: 'org.hibernate', module: 'hibernate-entitymanager'\n    }\n    compile 'org.springframework.boot:spring-boot-starter-actuator'\n    compile 'org.springframework.boot:spring-boot-starter-undertow'\n    compile 'org.springframework.boot:spring-boot-starter-oauth2-resource-server'\n    compile 'org.springframework.security:spring-security-oauth2-jose:5.2.1.RELEASE'\n    compile 'org.springframework.security:spring-security-oauth2-core:5.2.1.RELEASE'\n\n    compile 'org.springframework.kafka:spring-kafka:2.2.7.RELEASE'\n\n    compile 'io.projectreactor:reactor-core:3.2.12.RELEASE'\n\n    compileOnly 'org.projectlombok:lombok:1.18.10+'\n    annotationProcessor 'org.projectlombok:lombok:1.18.10+'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.10+'\n\n    compile 'org.postgresql:postgresql:42.2.8'\n    compile 'com.zaxxer:HikariCP:3.4.0'\n    //compile 'org.flywaydb:flyway-core:5.2.4'\n\n    compile 'org.hibernate:hibernate-core:5.4.10.Final'\n    compile 'org.hibernate:hibernate-ehcache:5.4.10.Final'\n    compile 'org.hibernate.javax.persistence:hibernate-jpa-2.2-api:1.0.0.Beta2'\n\n    //compile 'net.bull.javamelody:javamelody-core:1.76.0'\n    compile 'net.bull.javamelody:javamelody-spring-boot-starter:1.79.0'\n\n    compile 'org.apache.commons:commons-lang3:3.9'\n    compile &quot;org.apache.commons:commons-compress:1.19&quot;\n    compile 'org.apache.commons:commons-collections4:4.4'\n\n    compile ('io.springfox:springfox-swagger2:2.9.2') {\n        exclude module: 'swagger-annotations'\n        exclude module: 'swagger-models'\n    }\n    compile 'io.swagger:swagger-annotations:1.5.23'\n    compile 'io.swagger:swagger-models:1.5.23'\n    compile 'io.springfox:springfox-swagger-ui:2.9.2'\n\n    compile 'rf.dom.billing:billing-model:RELEASE.2.2.3'\n    compile 'rf.dom.billing:billing-common:RELEASE.1.0.6'\n    compile 'rf.dom.billing:billing-tracking:RELEASE.1.1.8'\n    compile 'rf.dom.billing:billing-1c-integration:RELEASE.0.0.3'\n    compile 'rf.dom.billing:billing-docstore-integration:1.0.3'\n\n    /*Cloud start*/\n    compile 'org.springframework.cloud:spring-cloud-starter-config:2.1+'\n    compile 'org.springframework.cloud:spring-cloud-starter:2.1+'\n    /*compile 'org.springframework.cloud:spring-cloud-starter-netflix-eureka-client:2+'*/\n    compile 'org.springframework.cloud:spring-cloud-config-client:2.1+'\n    /*Cloud end*/\n\n    // https://mvnrepository.com/artifact/jcifs/jcifs\n//    compile group: 'jcifs', name: 'jcifs', version: '1.3.17'\n    // https://mvnrepository.com/artifact/org.codelibs/jcifs\n    compile group: 'org.codelibs', name: 'jcifs', version: '2.1.13'\n    compile 'com.ibm.icu:icu4j:66.1'\n\n    testCompile 'org.springframework.boot:spring-boot-starter-test'\n    testCompile 'org.springframework.boot:spring-boot-starter-undertow'\n    testCompile 'org.testng:testng:6.14.3'\n    testCompile 'org.powermock:powermock-api-mockito2:2.0.2'\n    testCompile 'com.opentable.components:otj-pg-embedded:0.13.1'\n    testCompile 'org.flywaydb:flyway-core:5.2.4'\n}\n</code></pre>\n"},{"tags":["java","cassandra","hbase","key-value-store"],"comments":[{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1359559621,"post_id":14607400,"comment_id":20395853,"body_markdown":"I use [ehcache](http://ehcache.org/).","body":"I use <a href=\"http://ehcache.org/\" rel=\"nofollow noreferrer\">ehcache</a>."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":1,"creation_date":1359560842,"post_id":14607400,"comment_id":20396628,"body_markdown":"Wouldn&#39;t replication of Ehcache disk cache need the Enterprise version? (hence it breaks requirement #9). Or have I misunderstood ?","body":"Wouldn&#39;t replication of Ehcache disk cache need the Enterprise version? (hence it breaks requirement #9). Or have I misunderstood ?"},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1359561815,"post_id":14607400,"comment_id":20397261,"body_markdown":"You may well be right. I missed that requirement.","body":"You may well be right. I missed that requirement."},{"owner":{"account_id":990966,"reputation":2149,"user_id":1008310,"accept_rate":20,"display_name":"moodywoody"},"score":0,"creation_date":1359955212,"post_id":14607400,"comment_id":20524531,"body_markdown":"Have you looked at Hazelcast?","body":"Have you looked at Hazelcast?"}],"answers":[{"comments":[{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":1,"creation_date":1359561107,"post_id":14607777,"comment_id":20396803,"body_markdown":"Thx. My bad that I had never heard about neo4j. Wouldn&#39;t I require the Enterprise license if I need replication ?  (and hence break my requirement #9). Caveat: I&#39;ve only looked briefly at their website.","body":"Thx. My bad that I had never heard about neo4j. Wouldn&#39;t I require the Enterprise license if I need replication ?  (and hence break my requirement #9). Caveat: I&#39;ve only looked briefly at their website."}],"tags":[],"owner":{"account_id":1244019,"reputation":4059,"user_id":1205867,"display_name":"mikeslattery"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359560831,"creation_date":1359560235,"answer_id":14607777,"question_id":14607400,"body_markdown":"There are several options, but [neo4j][1] seems to match what you want.  [HBase][2] and [Cassandra][3] are also options, but more than you probably need.\r\n\r\n\r\n  [1]: http://www.neo4j.org/learn/neo4j\r\n  [2]: http://hbase.apache.org/\r\n  [3]: http://cassandra.apache.org/","title":"Java persistent key-value store","body":"<p>There are several options, but <a href=\"http://www.neo4j.org/learn/neo4j\" rel=\"nofollow\">neo4j</a> seems to match what you want.  <a href=\"http://hbase.apache.org/\" rel=\"nofollow\">HBase</a> and <a href=\"http://cassandra.apache.org/\" rel=\"nofollow\">Cassandra</a> are also options, but more than you probably need.</p>\n"},{"comments":[{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1359711057,"post_id":14637084,"comment_id":20458275,"body_markdown":"How does Redis play with req #1 or req #3 above  ??","body":"How does Redis play with req #1 or req #3 above  ??"},{"owner":{"account_id":1198382,"reputation":9291,"user_id":1203129,"accept_rate":100,"display_name":"Suman"},"score":0,"creation_date":1359732124,"post_id":14637084,"comment_id":20468850,"body_markdown":"My apologies - I thought you were asking for a Java solution ... missed the pure Java one. Redis has a Java library, but I guess that&#39;s not what you are looking for.","body":"My apologies - I thought you were asking for a Java solution ... missed the pure Java one. Redis has a Java library, but I guess that&#39;s not what you are looking for."}],"tags":[],"owner":{"account_id":1198382,"reputation":9291,"user_id":1203129,"accept_rate":100,"display_name":"Suman"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359675032,"creation_date":1359675032,"answer_id":14637084,"question_id":14607400,"body_markdown":"Have you looked at [Redis][1]? Its an in-memory &quot;database&quot; (key-value store) that, IMHO, meets all your needs.\r\n\r\n\r\n  [1]: http://redis.io/","title":"Java persistent key-value store","body":"<p>Have you looked at <a href=\"http://redis.io/\" rel=\"nofollow\">Redis</a>? Its an in-memory \"database\" (key-value store) that, IMHO, meets all your needs.</p>\n"},{"tags":[],"owner":{"account_id":2201151,"reputation":147,"user_id":1945527,"accept_rate":45,"display_name":"Suresh_Hadoop"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362585999,"creation_date":1362585999,"answer_id":15252281,"question_id":14607400,"body_markdown":"Have a look at `HazelCast`. It meets most of your requirements, except that it&#39;s distributed.","title":"Java persistent key-value store","body":"<p>Have a look at <code>HazelCast</code>. It meets most of your requirements, except that it's distributed.</p>\n"},{"tags":[],"owner":{"account_id":326925,"reputation":14868,"user_id":648955,"accept_rate":62,"display_name":"leventov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467999057,"creation_date":1467999057,"answer_id":38272412,"question_id":14607400,"body_markdown":"I think [Chronicle Map](https://github.com/OpenHFT/Chronicle-Map) is a good match for your case\r\n\r\n - pure Java, embeddable key-value store\r\n - In-memory, optionally persisted to disk\r\n - [Supports 1M writes per second from a single thread](http://vanillajava.blogspot.com/2014/10/chronicle-map-and-yahoo-cloud-service.html)\r\n - Has non-blocking, eventually-consistent replication, optimized for high update rates\r\n - LPGLv3 license","title":"Java persistent key-value store","body":"<p>I think <a href=\"https://github.com/OpenHFT/Chronicle-Map\" rel=\"nofollow\">Chronicle Map</a> is a good match for your case</p>\n\n<ul>\n<li>pure Java, embeddable key-value store</li>\n<li>In-memory, optionally persisted to disk</li>\n<li><a href=\"http://vanillajava.blogspot.com/2014/10/chronicle-map-and-yahoo-cloud-service.html\" rel=\"nofollow\">Supports 1M writes per second from a single thread</a></li>\n<li>Has non-blocking, eventually-consistent replication, optimized for high update rates</li>\n<li>LPGLv3 license</li>\n</ul>\n"}],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3465,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1667997370,"creation_date":1359559231,"question_id":14607400,"body_markdown":"I know this may have been asked a zillion times before but I cannot seem to find the golden solution for my exact use case.\r\n\r\nI only have one data structure, a map where the key is a string. The objects of the map are maps themselves but this time the values are simple objects/primitives such as string, int, double, etc. So a map of maps. The keys of the innermost map is constant, i.e. no entries are ever added/removed from the innermost map except when created. So it is kind of like a traditional table, albeit each row may have arbitrary columns.\r\n\r\nI need this data structure to be persistent and replicated.\r\n\r\nHere are my requirements:\r\n\r\n1. Pure Java solution \r\n1. The disk map is only used in case of re-start. Hence there are never any reads from disk and all the writing is only done by one application)\r\n1. Embedded.\r\n1. Performance. It is the UPDATE performance of existing records that is important. UPDATEs will happen potentially 100k times per second (but more likely 20-50k per second). As for INSERTs/DELETEs they do of course happen but probably only a few times per day. Hence I do not worry too much about INSERT/DELETE performance. \r\n1. Replicated. For resilience I need the disk copy of the map to be replicated. The replication from master to slave does not need to be part of the original transaction, i.e. I can sacrifice some ACIDness for performance.\r\n1. Number of records is expected to be 100k-200k, but not much higher. The size of each record is probably 100-200 KBytes so really not that much data in total. I&#39;m guessing the total size of the data file will be below 100 MBytes and that is probably an estimate on the high side.\r\n1. The total amount of data is not more than it can always fit in memory. (this is why I can guarantee that there will be no disk reads, except during startup)\r\n1. My application is not distributed. At any given point in time there&#39;s only one active process that writes to disk.\r\n1. Liberal open source license. (Apache, BSD, LGPL, should be fine)\r\n\r\n\r\nThe application in question never needs to store anything but the above data structure, i.e. it will not have a future uncovered need for other persistent data structures. Hence it sounds fair to optimize based on this particular data structure.\r\n\r\nI&#39;ve looked at Berkeley DB Java edition but it fails on requirement #6. I&#39;ve looked at TokyoCabinet/KoyotoCabinet but it fails on requirement #1.\r\n\r\nSo what would you recommend? \r\n\r\n\r\n\r\n","title":"Java persistent key-value store","body":"<p>I know this may have been asked a zillion times before but I cannot seem to find the golden solution for my exact use case.</p>\n\n<p>I only have one data structure, a map where the key is a string. The objects of the map are maps themselves but this time the values are simple objects/primitives such as string, int, double, etc. So a map of maps. The keys of the innermost map is constant, i.e. no entries are ever added/removed from the innermost map except when created. So it is kind of like a traditional table, albeit each row may have arbitrary columns.</p>\n\n<p>I need this data structure to be persistent and replicated.</p>\n\n<p>Here are my requirements:</p>\n\n<ol>\n<li>Pure Java solution </li>\n<li>The disk map is only used in case of re-start. Hence there are never any reads from disk and all the writing is only done by one application)</li>\n<li>Embedded.</li>\n<li>Performance. It is the UPDATE performance of existing records that is important. UPDATEs will happen potentially 100k times per second (but more likely 20-50k per second). As for INSERTs/DELETEs they do of course happen but probably only a few times per day. Hence I do not worry too much about INSERT/DELETE performance. </li>\n<li>Replicated. For resilience I need the disk copy of the map to be replicated. The replication from master to slave does not need to be part of the original transaction, i.e. I can sacrifice some ACIDness for performance.</li>\n<li>Number of records is expected to be 100k-200k, but not much higher. The size of each record is probably 100-200 KBytes so really not that much data in total. I'm guessing the total size of the data file will be below 100 MBytes and that is probably an estimate on the high side.</li>\n<li>The total amount of data is not more than it can always fit in memory. (this is why I can guarantee that there will be no disk reads, except during startup)</li>\n<li>My application is not distributed. At any given point in time there's only one active process that writes to disk.</li>\n<li>Liberal open source license. (Apache, BSD, LGPL, should be fine)</li>\n</ol>\n\n<p>The application in question never needs to store anything but the above data structure, i.e. it will not have a future uncovered need for other persistent data structures. Hence it sounds fair to optimize based on this particular data structure.</p>\n\n<p>I've looked at Berkeley DB Java edition but it fails on requirement #6. I've looked at TokyoCabinet/KoyotoCabinet but it fails on requirement #1.</p>\n\n<p>So what would you recommend? </p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":1,"creation_date":1667989165,"post_id":74373116,"comment_id":131297320,"body_markdown":"Do you have an error message, I&#39;m pretty sure you have one... Pls provide it.","body":"Do you have an error message, I&#39;m pretty sure you have one... Pls provide it."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667997361,"post_id":74373116,"comment_id":131300198,"body_markdown":"Remove everything from the `dependencyManagement` section, except the `spring-cloud-dependencies`. Then add the `spring-boot-starter-mail` to the regular dependency section (if you need the `spring-integration-mail` one also add that).","body":"Remove everything from the <code>dependencyManagement</code> section, except the <code>spring-cloud-dependencies</code>. Then add the <code>spring-boot-starter-mail</code> to the regular dependency section (if you need the <code>spring-integration-mail</code> one also add that)."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667997468,"post_id":74373116,"comment_id":131300237,"body_markdown":"You don&#39;t have `spring-boot-starter-mail` in the `dependencies` section, only in the `dependencyManagement`, where you should not have listed it, as the version should be controlled by Spring Boot.","body":"You don&#39;t have <code>spring-boot-starter-mail</code> in the <code>dependencies</code> section, only in the <code>dependencyManagement</code>, where you should not have listed it, as the version should be controlled by Spring Boot."}],"answers":[{"comments":[{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1667989510,"post_id":74373207,"comment_id":131297437,"body_markdown":"I already wrote these dependencies in my pom.xml, but I still don&#39;t see\nMaybe something else I missed?","body":"I already wrote these dependencies in my pom.xml, but I still don&#39;t see Maybe something else I missed?"},{"owner":{"account_id":26877006,"reputation":1,"user_id":20458097,"display_name":"Ivan Dong"},"score":0,"creation_date":1667990496,"post_id":74373207,"comment_id":131297769,"body_markdown":"reload/reimport the maven project, and use IDE or mvn dependency tree to check if the pom file is worked. also may check the local repository folder, if the target jar was downloaded successfully, sometimes network failure leads a problem, if no jar in folder, just delete it, let is download again","body":"reload/reimport the maven project, and use IDE or mvn dependency tree to check if the pom file is worked. also may check the local repository folder, if the target jar was downloaded successfully, sometimes network failure leads a problem, if no jar in folder, just delete it, let is download again"}],"tags":[],"owner":{"account_id":26877006,"reputation":1,"user_id":20458097,"display_name":"Ivan Dong"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667989184,"creation_date":1667989184,"answer_id":74373207,"question_id":74373116,"body_markdown":"if you work with maven, try add this to the pom\r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"org.springframework.mail.javamail.JavaMailSender dependency","body":"<p>if you work with maven, try add this to the pom</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;version&gt;2.7.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667997276,"creation_date":1667988786,"question_id":74373116,"body_markdown":"I am writing a project with authorization and sending confirmation (token) by email. I want to declare an object of type JavaMailSender, but the project does not see this dependency. Where can I find her?\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt; &lt;/groupId&gt;\r\n    &lt;artifactId&gt; &lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt; &lt;/name&gt;\r\n    &lt;description&gt; &lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;email.version&gt;1.6.2&lt;/email.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-api-services-jobs&lt;/artifactId&gt;\r\n            &lt;version&gt;v3-rev20210211-1.31.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.4.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.4.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;2021.0.4&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.23&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.integration/spring-integration-mail --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-integration-mail&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.5.3.Final&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;compilerArg&gt;\r\n                            -Amapstruct.defaultComponentModel=spring\r\n                        &lt;/compilerArg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"org.springframework.mail.javamail.JavaMailSender dependency","body":"<p>I am writing a project with authorization and sending confirmation (token) by email. I want to declare an object of type JavaMailSender, but the project does not see this dependency. Where can I find her?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt; &lt;/groupId&gt;\n    &lt;artifactId&gt; &lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt; &lt;/name&gt;\n    &lt;description&gt; &lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;email.version&gt;1.6.2&lt;/email.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;1.5.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n            &lt;artifactId&gt;google-api-services-jobs&lt;/artifactId&gt;\n            &lt;version&gt;v3-rev20210211-1.31.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n            &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n            &lt;version&gt;1.12.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-client&lt;/artifactId&gt;\n            &lt;version&gt;5.3.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n            &lt;version&gt;5.3.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2021.0.4&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n                &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n                &lt;version&gt;5.3.23&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n                &lt;version&gt;2.5.5&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.integration/spring-integration-mail --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-integration-mail&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n                &lt;version&gt;2.7.5&lt;/version&gt;\n            &lt;/dependency&gt;\n\n\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;1.5.3.Final&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;compilerArg&gt;\n                            -Amapstruct.defaultComponentModel=spring\n                        &lt;/compilerArg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","python","jython","pythoninterpreter"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1544784837,"post_id":53778300,"comment_id":94407766,"body_markdown":"Possible duplicate of [Importing python modules in jython](https://stackoverflow.com/questions/3256135/importing-python-modules-in-jython)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/3256135/importing-python-modules-in-jython\">Importing python modules in jython</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1544784889,"post_id":53778300,"comment_id":94407785,"body_markdown":"Also https://stackoverflow.com/questions/18975613/jython-configuring-modules-path-into-a-jython-script","body":"Also <a href=\"https://stackoverflow.com/questions/18975613/jython-configuring-modules-path-into-a-jython-script\" title=\"jython configuring modules path into a jython script\">stackoverflow.com/questions/18975613/&hellip;</a>"}],"owner":{"account_id":13596758,"reputation":113,"user_id":9808582,"display_name":"Alfonso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667997271,"creation_date":1544784766,"question_id":53778300,"body_markdown":"i need to run a python script in java, (using jython standalone jar) but when i run the script i got this error:\r\n\r\n**ImportError: No module named pytesseract**\r\n\r\nhow can import python library, to run this script??\r\n\r\n    public class SimpleEmbedded {\r\n    public static void main(String []args){\r\n\t    \r\n      PythonInterpreter interp = new PythonInterpreter();\r\n      System.out.println(&quot;Hello, world from Java&quot;);\r\n      interp.execfile(&quot;text_rec.py&quot;);\r\n      System.out.println(&quot;Goodbye &quot;);\r\n      }\r\n    }\r\n\r\nI add also this piece of code:\r\n\r\n    interp = new PythonInterpreter(null, new PySystemState());\r\n    PySystemState sys = Py.getSystemState();\r\n    sys.path.append(new PyString(rootPath));\r\n    sys.path.append(new PyString(modulesDir));\r\n\r\n\r\nwhat&#39;s *rootPath* and *ModulesDir*?\r\n    \r\nCan u help me??","title":"jython java PythonInterpreter","body":"<p>i need to run a python script in java, (using jython standalone jar) but when i run the script i got this error:</p>\n\n<p><strong>ImportError: No module named pytesseract</strong></p>\n\n<p>how can import python library, to run this script??</p>\n\n<pre><code>public class SimpleEmbedded {\npublic static void main(String []args){\n\n  PythonInterpreter interp = new PythonInterpreter();\n  System.out.println(\"Hello, world from Java\");\n  interp.execfile(\"text_rec.py\");\n  System.out.println(\"Goodbye \");\n  }\n}\n</code></pre>\n\n<p>I add also this piece of code:</p>\n\n<pre><code>interp = new PythonInterpreter(null, new PySystemState());\nPySystemState sys = Py.getSystemState();\nsys.path.append(new PyString(rootPath));\nsys.path.append(new PyString(modulesDir));\n</code></pre>\n\n<p>what's <em>rootPath</em> and <em>ModulesDir</em>?</p>\n\n<p>Can u help me??</p>\n"},{"tags":["java","database","data-structures","key-value"],"comments":[{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":4,"creation_date":1441018277,"post_id":32309497,"comment_id":52494021,"body_markdown":"4-5 MB is not too much for me. `HashMap` with 5000 entries should work","body":"4-5 MB is not too much for me. <code>HashMap</code> with 5000 entries should work"},{"owner":{"account_id":5964527,"reputation":1821,"user_id":4688606,"accept_rate":87,"display_name":"tobloef"},"score":1,"creation_date":1441018591,"post_id":32309497,"comment_id":52494170,"body_markdown":"So, can i just store this, load it into memory and effectively search it? I had thought I needed some kind of database, like SQLite, Java DB or  whatever it most appropriate for my situation.","body":"So, can i just store this, load it into memory and effectively search it? I had thought I needed some kind of database, like SQLite, Java DB or  whatever it most appropriate for my situation."},{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":1,"creation_date":1441018741,"post_id":32309497,"comment_id":52494249,"body_markdown":"Of course, if you have enough memory, 5MB is not a problem and you can retrieve your pair by key. `Map` search algorithm  by hash is really fast. For me, is no problem, but that is my opinion ;)","body":"Of course, if you have enough memory, 5MB is not a problem and you can retrieve your pair by key. <code>Map</code> search algorithm  by hash is really fast. For me, is no problem, but that is my opinion ;)"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1441018804,"post_id":32309497,"comment_id":52494281,"body_markdown":"@TobLoef If you only need a key-value store, a `Map` is more than suitable. Small amounts in the thousands or tens of thousands don&#39;t require a database, unless you really want one, or you need to query the data in more ways than just a simple retrieval by key.","body":"@TobLoef If you only need a key-value store, a <code>Map</code> is more than suitable. Small amounts in the thousands or tens of thousands don&#39;t require a database, unless you really want one, or you need to query the data in more ways than just a simple retrieval by key."},{"owner":{"account_id":5964527,"reputation":1821,"user_id":4688606,"accept_rate":87,"display_name":"tobloef"},"score":0,"creation_date":1441019032,"post_id":32309497,"comment_id":52494417,"body_markdown":"Great guys, thanks a bunch. I will proceed with a map. If someone writes it as an answer, I will accept it.","body":"Great guys, thanks a bunch. I will proceed with a map. If someone writes it as an answer, I will accept it."},{"owner":{"account_id":1363991,"reputation":10122,"user_id":1300817,"accept_rate":100,"display_name":"Raul Rene"},"score":0,"creation_date":1441022395,"post_id":32309497,"comment_id":52496443,"body_markdown":"Also, consider persisting data in a no-sql storage. That is, if you need the data to be persisted. Properly indexed noSQL storages such as Mongo or whatever will run extremely fast (not as fast as memory &quot;queries&quot;, but close enough).","body":"Also, consider persisting data in a no-sql storage. That is, if you need the data to be persisted. Properly indexed noSQL storages such as Mongo or whatever will run extremely fast (not as fast as memory &quot;queries&quot;, but close enough)."}],"answers":[{"tags":[],"owner":{"account_id":1165206,"reputation":637,"user_id":1143792,"display_name":"Andrey Lomakin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667997071,"creation_date":1667997071,"answer_id":74374921,"question_id":32309497,"body_markdown":"You can use [Xodus KV][1]. That is a key-value store used in production by JetBrains in the [YouTrack][2] product. It provides snapshot isolation with readers not competing with writers. JetBrains actively supports it.\r\n\r\nXodus also has an [entity store][3] solution which, along with [ORM][4] implemented in Kotlin, can be used as a primary database in your project. It also has support for [blobs][5].\r\n\r\n  [1]: https://github.com/JetBrains/xodus\r\n  [2]: https://youtrack.jetbrains.com/\r\n  [3]: https://github.com/JetBrains/xodus/wiki/Entity-Stores\r\n  [4]: https://jetbrains.github.io/xodus-dnq/\r\n  [5]: https://github.com/JetBrains/xodus/wiki/Entity-Stores#blobs","title":"Large local key-value storage, what should i use?","body":"<p>You can use <a href=\"https://github.com/JetBrains/xodus\" rel=\"nofollow noreferrer\">Xodus KV</a>. That is a key-value store used in production by JetBrains in the <a href=\"https://youtrack.jetbrains.com/\" rel=\"nofollow noreferrer\">YouTrack</a> product. It provides snapshot isolation with readers not competing with writers. JetBrains actively supports it.</p>\n<p>Xodus also has an <a href=\"https://github.com/JetBrains/xodus/wiki/Entity-Stores\" rel=\"nofollow noreferrer\">entity store</a> solution which, along with <a href=\"https://jetbrains.github.io/xodus-dnq/\" rel=\"nofollow noreferrer\">ORM</a> implemented in Kotlin, can be used as a primary database in your project. It also has support for <a href=\"https://github.com/JetBrains/xodus/wiki/Entity-Stores#blobs\" rel=\"nofollow noreferrer\">blobs</a>.</p>\n"}],"owner":{"account_id":5964527,"reputation":1821,"user_id":4688606,"accept_rate":87,"display_name":"tobloef"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1667997071,"creation_date":1441018097,"question_id":32309497,"body_markdown":"I have a bunch of key-value pairs, the key being an id and the value an array or list. I want to be able to store these values on the disk, so I can access them later, but probably also have the database in memory, if that increase performance. The database will contain around 5000 pairs, around 4-5 megabytes worth of data. What&#39;s the best system for me to use in this situation? It has to be something I can ship with java code, and I have to be able to effectively search the the database for a specific key and do something with the value.\r\n\r\nI have searched around for a similar question, but found nothing that asked the same question as me, which I find strange because surely I&#39;m not the first one to wonder about this. So if this is a duplicate, please link me the other question.\r\n\r\nI honestly have no idea where to start, but if someone could just recommend me a system that fits my needs, I&#39;ll probably figure it out.\r\n\r\nThanks!","title":"Large local key-value storage, what should i use?","body":"<p>I have a bunch of key-value pairs, the key being an id and the value an array or list. I want to be able to store these values on the disk, so I can access them later, but probably also have the database in memory, if that increase performance. The database will contain around 5000 pairs, around 4-5 megabytes worth of data. What's the best system for me to use in this situation? It has to be something I can ship with java code, and I have to be able to effectively search the the database for a specific key and do something with the value.</p>\n\n<p>I have searched around for a similar question, but found nothing that asked the same question as me, which I find strange because surely I'm not the first one to wonder about this. So if this is a duplicate, please link me the other question.</p>\n\n<p>I honestly have no idea where to start, but if someone could just recommend me a system that fits my needs, I'll probably figure it out.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","arrays","arraylist"],"comments":[{"owner":{"account_id":341169,"reputation":30706,"user_id":671619,"accept_rate":86,"display_name":"Firo"},"score":1,"creation_date":1667996168,"post_id":74374451,"comment_id":131299798,"body_markdown":"using stream api `Pessoal[] result = lista_de_docentes.stream().flatMap(ArrayList::stream).toArray(Pessoal[]::new);`","body":"using stream api <code>Pessoal[] result = lista_de_docentes.stream().flatMap(ArrayList::stream).toArra&zwnj;&#8203;y(Pessoal[]::new);</code>"}],"answers":[{"comments":[{"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"score":0,"creation_date":1667997622,"post_id":74374755,"comment_id":131300286,"body_markdown":"I have tried all solutions in this post so far, and yours also works, so thanks.","body":"I have tried all solutions in this post so far, and yours also works, so thanks."}],"tags":[],"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667996218,"creation_date":1667996218,"answer_id":74374755,"question_id":74374451,"body_markdown":"You can collect all your &quot;Pessoal&quot; elements into a single arraylist and then move the elements to your array\r\n\r\n    List&lt;Pessoal&gt; all= lista_de_docentes.stream()\r\n\t\t.flatMap(List::stream)\r\n\t\t.collect(Collectors.toList());\r\n\r\n    for (int i =0; i &lt; all.size(); i++)\r\n\t\tteste[i] = all.get(i);\r\n\r\nOr you can directly create the array (in case you don&#39;t care about the size)\r\n\r\n    Pessoal[] teste = lista_de_docentes.stream()\r\n\t\t.flatMap(List::stream)\r\n\t\t.collect(Collectors.toList())\r\n\t\t.toArray(Pessoal[]::new);","title":"How to iterate arraylists within an arraylist, and insert their data onto an array","body":"<p>You can collect all your &quot;Pessoal&quot; elements into a single arraylist and then move the elements to your array</p>\n<pre><code>List&lt;Pessoal&gt; all= lista_de_docentes.stream()\n    .flatMap(List::stream)\n    .collect(Collectors.toList());\n\nfor (int i =0; i &lt; all.size(); i++)\n    teste[i] = all.get(i);\n</code></pre>\n<p>Or you can directly create the array (in case you don't care about the size)</p>\n<pre><code>Pessoal[] teste = lista_de_docentes.stream()\n    .flatMap(List::stream)\n    .collect(Collectors.toList())\n    .toArray(Pessoal[]::new);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"score":0,"creation_date":1667997354,"post_id":74374800,"comment_id":131300196,"body_markdown":"Hey, your answer worked as well, so thanks.\n\nAnd thanks for the naming convesntions link.","body":"Hey, your answer worked as well, so thanks.  And thanks for the naming convesntions link."}],"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667996874,"creation_date":1667996423,"answer_id":74374800,"question_id":74374451,"body_markdown":"You can do this with the [stream API](https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html).\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Pessoal {\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Pessoal&gt; lista_de_profs = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;Pessoal&gt; lista_de_infos = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;ArrayList&lt;Pessoal&gt;&gt; lista_de_docentes = new ArrayList&lt;&gt;();\r\n        lista_de_docentes.add(lista_de_profs); \r\n        lista_de_docentes.add(lista_de_infos);\r\n        Pessoal[] teste = lista_de_docentes.stream()\r\n                                           .flatMap(l -&gt; l.stream())\r\n                                           .collect(Collectors.toList())\r\n                                           .toArray(new Pessoal[0]);\r\n        System.out.println(Arrays.toString(teste));\r\n    }\r\n}\r\n```\r\n- `lista_de_docentes.stream()` creates a stream where every element has type `ArrayList&lt;Pessoal&gt;`.\r\n- `flatMap` returns a stream where every element has type `Pessoal`.\r\n- All the stream [`Pessoal`] elements are collected and put into a [List][1].\r\n- Method [toArray][2] (of interface `List`) converts the `List` to an array.\r\n\r\nAlternatively, if you don&#39;t want to use streams:\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\n\r\npublic class Pessoal {\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Pessoal&gt; lista_de_profs = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;Pessoal&gt; lista_de_infos = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;ArrayList&lt;Pessoal&gt;&gt; lista_de_docentes = new ArrayList&lt;&gt;();\r\n        lista_de_docentes.add(lista_de_profs); \r\n        lista_de_docentes.add(lista_de_infos);\r\n        ArrayList&lt;Pessoal&gt; temp = new ArrayList&lt;&gt;();\r\n        for (ArrayList&lt;Pessoal&gt; list : lista_de_docentes) {\r\n            for (Pessoal p : list) {\r\n                temp.add(p);\r\n            }\r\n        }\r\n        Pessoal[] teste = new Pessoal[temp.size()];\r\n        temp.toArray(teste);\r\n        System.out.println(Arrays.toString(teste));\r\n    }\r\n}\r\n```\r\nBy the way, you should consider adopting [Java naming conventions][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#toArray(T%5B%5D)\r\n  [3]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"How to iterate arraylists within an arraylist, and insert their data onto an array","body":"<p>You can do this with the <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">stream API</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.stream.Collectors;\n\npublic class Pessoal {\n\n    public static void main(String[] args) {\n        ArrayList&lt;Pessoal&gt; lista_de_profs = new ArrayList&lt;&gt;();\n        ArrayList&lt;Pessoal&gt; lista_de_infos = new ArrayList&lt;&gt;();\n        ArrayList&lt;ArrayList&lt;Pessoal&gt;&gt; lista_de_docentes = new ArrayList&lt;&gt;();\n        lista_de_docentes.add(lista_de_profs); \n        lista_de_docentes.add(lista_de_infos);\n        Pessoal[] teste = lista_de_docentes.stream()\n                                           .flatMap(l -&gt; l.stream())\n                                           .collect(Collectors.toList())\n                                           .toArray(new Pessoal[0]);\n        System.out.println(Arrays.toString(teste));\n    }\n}\n</code></pre>\n<ul>\n<li><code>lista_de_docentes.stream()</code> creates a stream where every element has type <code>ArrayList&lt;Pessoal&gt;</code>.</li>\n<li><code>flatMap</code> returns a stream where every element has type <code>Pessoal</code>.</li>\n<li>All the stream [<code>Pessoal</code>] elements are collected and put into a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a>.</li>\n<li>Method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#toArray(T%5B%5D)\" rel=\"nofollow noreferrer\">toArray</a> (of interface <code>List</code>) converts the <code>List</code> to an array.</li>\n</ul>\n<p>Alternatively, if you don't want to use streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class Pessoal {\n\n    public static void main(String[] args) {\n        ArrayList&lt;Pessoal&gt; lista_de_profs = new ArrayList&lt;&gt;();\n        ArrayList&lt;Pessoal&gt; lista_de_infos = new ArrayList&lt;&gt;();\n        ArrayList&lt;ArrayList&lt;Pessoal&gt;&gt; lista_de_docentes = new ArrayList&lt;&gt;();\n        lista_de_docentes.add(lista_de_profs); \n        lista_de_docentes.add(lista_de_infos);\n        ArrayList&lt;Pessoal&gt; temp = new ArrayList&lt;&gt;();\n        for (ArrayList&lt;Pessoal&gt; list : lista_de_docentes) {\n            for (Pessoal p : list) {\n                temp.add(p);\n            }\n        }\n        Pessoal[] teste = new Pessoal[temp.size()];\n        temp.toArray(teste);\n        System.out.println(Arrays.toString(teste));\n    }\n}\n</code></pre>\n<p>By the way, you should consider adopting <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a>.</p>\n"}],"owner":{"account_id":23677584,"reputation":89,"user_id":17703613,"display_name":"OrlandoVSilva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74374800,"answer_count":2,"score":0,"last_activity_date":1667996874,"creation_date":1667994783,"question_id":74374451,"body_markdown":"Let&#39;s say I have an array that takes instances of the type &quot;Pessoal&quot;:\r\n\r\n```\r\nPessoal[] teste = new Pessoal[6];\r\n```\r\n\r\nNow let&#39;s say I have 2 arraylists that are inside of an arraylist:\r\n\r\n```\r\nstatic ArrayList&lt;Pessoal&gt; lista_de_profs; // This one has 4\r\n\r\nstatic ArrayList&lt;Pessoal&gt; lista_de_infos; // And this one has 2, matching the 6 on &quot;teste&quot;\r\n\r\n// these arrayslists have instances of the type &quot;Pessoal&quot;\r\n```\r\n\r\n```\r\nArrayList&lt;ArrayList&lt;Pessoal&gt;&gt; lista_de_docentes = new ArrayList&lt;&gt;();\r\n \r\nlista_de_docentes.add(lista_de_profs); \r\nlista_de_docentes.add(lista_de_infos);\r\n```\r\n------------------------------------------------\r\n\r\nHow do I iterate through the arraylist (lista_de_docentes) that contains more arraylists (lista_de_profs &amp; lista_de_infos), and get their instances, so I can put them inside the array?\r\n\r\nThis works if teste&#39;s length is 4\r\n\r\n```\r\nfor (int i = 0; i &lt; teste.length; i++){\r\n     teste[i] = lista_de_profs.get(i);\r\n}\r\n```\r\nBut this only covers one arraylist, and I want all of the ones inside &quot;lista_de_docentes&quot;, which are: &quot;lista_de_profs&quot; and &quot;lista_de_infos&quot;\r\n\r\n*Some code in here, the language is in Portuguese, but I can change it to english, if it becomes confusing.\r\n\r\nI hope I was clear, and thanks.","title":"How to iterate arraylists within an arraylist, and insert their data onto an array","body":"<p>Let's say I have an array that takes instances of the type &quot;Pessoal&quot;:</p>\n<pre><code>Pessoal[] teste = new Pessoal[6];\n</code></pre>\n<p>Now let's say I have 2 arraylists that are inside of an arraylist:</p>\n<pre><code>static ArrayList&lt;Pessoal&gt; lista_de_profs; // This one has 4\n\nstatic ArrayList&lt;Pessoal&gt; lista_de_infos; // And this one has 2, matching the 6 on &quot;teste&quot;\n\n// these arrayslists have instances of the type &quot;Pessoal&quot;\n</code></pre>\n<pre><code>ArrayList&lt;ArrayList&lt;Pessoal&gt;&gt; lista_de_docentes = new ArrayList&lt;&gt;();\n \nlista_de_docentes.add(lista_de_profs); \nlista_de_docentes.add(lista_de_infos);\n</code></pre>\n<hr />\n<p>How do I iterate through the arraylist (lista_de_docentes) that contains more arraylists (lista_de_profs &amp; lista_de_infos), and get their instances, so I can put them inside the array?</p>\n<p>This works if teste's length is 4</p>\n<pre><code>for (int i = 0; i &lt; teste.length; i++){\n     teste[i] = lista_de_profs.get(i);\n}\n</code></pre>\n<p>But this only covers one arraylist, and I want all of the ones inside &quot;lista_de_docentes&quot;, which are: &quot;lista_de_profs&quot; and &quot;lista_de_infos&quot;</p>\n<p>*Some code in here, the language is in Portuguese, but I can change it to english, if it becomes confusing.</p>\n<p>I hope I was clear, and thanks.</p>\n"},{"tags":["java","json","protocol-buffers"],"owner":{"account_id":10585662,"reputation":816,"user_id":7798109,"display_name":"Kshitij Dhakal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667996824,"creation_date":1667982452,"question_id":74371837,"body_markdown":"I am trying to implement FieldMask in my APIs. When I tried it in spring boot it worked without any bug after I added following bean.\r\n```java\r\n@Bean\r\npublic ProtobufHttpMessageConverter protobufHttpMessageConverter() {\r\n    return new ProtobufHttpMessageConverter();\r\n}\r\n```\r\n\r\nBut in one of the older projects, we are using `JsonFormat.parser()` to parse Json. In this case,it is returning FieldMask in snake case.\r\n\r\nSo even though in API I am passing\r\n```json\r\n{\r\n    &quot;user&quot;: {\r\n        &quot;fullName&quot;: &quot;Abc&quot;\r\n    },\r\n    &quot;mask&quot;: &quot;fullName&quot;\r\n}\r\n```\r\n\r\nI am getting `full_name` instead of `fullName` as the mask after parsing the JSON. So the field mask is not working properly as I am expecting.\r\n\r\n```java\r\nUser byId = userRepo.getById(id);\r\nif (byId == null) {\r\n    throw new NotFoundException(&quot;User not found&quot;);\r\n}\r\nUser.Builder destination = byId.toBuilder();\r\nFieldMaskUtil.merge(updateUserRequest.getMask(), updateUserRequest.getUser(), destination);\r\n```","title":"Why is JsonFormat.parser() not properly parsing FieldMask?","body":"<p>I am trying to implement FieldMask in my APIs. When I tried it in spring boot it worked without any bug after I added following bean.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ProtobufHttpMessageConverter protobufHttpMessageConverter() {\n    return new ProtobufHttpMessageConverter();\n}\n</code></pre>\n<p>But in one of the older projects, we are using <code>JsonFormat.parser()</code> to parse Json. In this case,it is returning FieldMask in snake case.</p>\n<p>So even though in API I am passing</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;user&quot;: {\n        &quot;fullName&quot;: &quot;Abc&quot;\n    },\n    &quot;mask&quot;: &quot;fullName&quot;\n}\n</code></pre>\n<p>I am getting <code>full_name</code> instead of <code>fullName</code> as the mask after parsing the JSON. So the field mask is not working properly as I am expecting.</p>\n<pre class=\"lang-java prettyprint-override\"><code>User byId = userRepo.getById(id);\nif (byId == null) {\n    throw new NotFoundException(&quot;User not found&quot;);\n}\nUser.Builder destination = byId.toBuilder();\nFieldMaskUtil.merge(updateUserRequest.getMask(), updateUserRequest.getUser(), destination);\n</code></pre>\n"},{"tags":["java","nosql"],"comments":[{"owner":{"account_id":114151,"reputation":32353,"user_id":300311,"accept_rate":88,"display_name":"Erick Robertson"},"score":0,"creation_date":1310270945,"post_id":6639080,"comment_id":7843372,"body_markdown":"Just wanted to comment that I&#39;ve been using Trove for some time and they seem to be quite reliable.  I use them anytime I need a primitive key and/or value.","body":"Just wanted to comment that I&#39;ve been using Trove for some time and they seem to be quite reliable.  I use them anytime I need a primitive key and/or value."},{"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"score":0,"creation_date":1310271050,"post_id":6639080,"comment_id":7843376,"body_markdown":"ehCache?  Has automatic overflow to disk and is hashmap-like performance wise for what&#39;s in memory.  No idea how it would cope with 20 million entries going to disk though.","body":"ehCache?  Has automatic overflow to disk and is hashmap-like performance wise for what&#39;s in memory.  No idea how it would cope with 20 million entries going to disk though."},{"owner":{"account_id":297024,"reputation":25001,"user_id":602323,"accept_rate":80,"display_name":"Kevin"},"score":0,"creation_date":1310271214,"post_id":6639080,"comment_id":7843384,"body_markdown":"Do you know what kind of space savings I can expect over HashMap for Trove?","body":"Do you know what kind of space savings I can expect over HashMap for Trove?"}],"answers":[{"comments":[{"owner":{"account_id":297024,"reputation":25001,"user_id":602323,"accept_rate":80,"display_name":"Kevin"},"score":0,"creation_date":1310271666,"post_id":6639114,"comment_id":7843411,"body_markdown":"I&#39;ve heard that there are licensing issues with this, is there truth to that?","body":"I&#39;ve heard that there are licensing issues with this, is there truth to that?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1310272225,"post_id":6639114,"comment_id":7843448,"body_markdown":"@Kevin - that depends on what would be an issue for you / your product / your company.  You can read about the licensing options at http://www.oracle.com/technetwork/database/berkeleydb/downloads/licensing-098979.html ... and make your own judgement.","body":"@Kevin - that depends on what would be an issue for you / your product / your company.  You can read about the licensing options at <a href=\"http://www.oracle.com/technetwork/database/berkeleydb/downloads/licensing-098979.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/database/berkeleydb/downloads/&hellip;</a> ... and make your own judgement."},{"owner":{"account_id":124994,"reputation":8846,"user_id":320471,"display_name":"hayesgm"},"score":2,"creation_date":1310272379,"post_id":6639114,"comment_id":7843457,"body_markdown":"tl;dr: You can use it free if 1) your project is open-source or 2) it&#39;s for internal use (non-redistributed).  Otherwise, you need to obtain a license from Oracle (and they give no indication of the potential costs).","body":"tl;dr: You can use it free if 1) your project is open-source or 2) it&#39;s for internal use (non-redistributed).  Otherwise, you need to obtain a license from Oracle (and they give no indication of the potential costs)."},{"owner":{"account_id":297024,"reputation":25001,"user_id":602323,"accept_rate":80,"display_name":"Kevin"},"score":1,"creation_date":1310272408,"post_id":6639114,"comment_id":7843460,"body_markdown":"Ah, thanks. The open source license can be used for non-open source apps that are not distributed to 3rd parties. Perfect.","body":"Ah, thanks. The open source license can be used for non-open source apps that are not distributed to 3rd parties. Perfect."},{"owner":{"account_id":315081,"reputation":1411,"user_id":630657,"accept_rate":62,"display_name":"Mike Hedman"},"score":1,"creation_date":1373318784,"post_id":6639114,"comment_id":25503856,"body_markdown":"Just a note, Oracle has recently changed their open source license to the Affero license:\nhttp://www.oracle.com/technetwork/products/berkeleydb/downloads/oslicense-093458.html","body":"Just a note, Oracle has recently changed their open source license to the Affero license: <a href=\"http://www.oracle.com/technetwork/products/berkeleydb/downloads/oslicense-093458.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/products/berkeleydb/downloads/&hellip;</a>"}],"tags":[],"owner":{"account_id":124994,"reputation":8846,"user_id":320471,"display_name":"hayesgm"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1310271179,"creation_date":1310271179,"answer_id":6639114,"question_id":6639080,"body_markdown":"**Use [Berkeley DB][1]**. \r\n\r\n&gt; Berkeley DB stores object graphs, objects in collections, or **simple binary key/value data directly in an a btree on disk**. This simple, highly efficient approach removes all the unnecessary overhead in ORM solutions. Using the Direct Persistence Layer (DPL) Java developers annotate classes with storage information, much like JPA. This approach is familiar, efficient, and fast. The DPL reduces the complexity of data storage while not sacrificing speed.\r\n\r\nThis should definitely give you huge gains in memory and speed, while not increasing the complexity of your application.  Enjoy!\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/database/berkeleydb/overview/index-093405.html","title":"key-value store suggestion","body":"<p><strong>Use <a href=\"http://www.oracle.com/technetwork/database/berkeleydb/overview/index-093405.html\" rel=\"noreferrer\">Berkeley DB</a></strong>. </p>\n\n<blockquote>\n  <p>Berkeley DB stores object graphs, objects in collections, or <strong>simple binary key/value data directly in an a btree on disk</strong>. This simple, highly efficient approach removes all the unnecessary overhead in ORM solutions. Using the Direct Persistence Layer (DPL) Java developers annotate classes with storage information, much like JPA. This approach is familiar, efficient, and fast. The DPL reduces the complexity of data storage while not sacrificing speed.</p>\n</blockquote>\n\n<p>This should definitely give you huge gains in memory and speed, while not increasing the complexity of your application.  Enjoy!</p>\n"},{"comments":[{"owner":{"account_id":297024,"reputation":25001,"user_id":602323,"accept_rate":80,"display_name":"Kevin"},"score":1,"creation_date":1310271989,"post_id":6639147,"comment_id":7843434,"body_markdown":"TIntObjectHashMap is not a Map in the sense that it doesn&#39;t implement java.util.Map, but it does support put/get for primitives, which is what I care about. If I read correctly it uses an open-addressing hash map implementation. Or did you mean something else when you said TIntObjectHashMap is not a Map?","body":"TIntObjectHashMap is not a Map in the sense that it doesn&#39;t implement java.util.Map, but it does support put/get for primitives, which is what I care about. If I read correctly it uses an open-addressing hash map implementation. Or did you mean something else when you said TIntObjectHashMap is not a Map?"},{"owner":{"account_id":66307,"reputation":17195,"user_id":194609,"accept_rate":73,"display_name":"Karussell"},"score":0,"creation_date":1326318680,"post_id":6639147,"comment_id":11019601,"body_markdown":"@Stephen How did you calculate the memory for HashMap? BTW: trove would require 5 bytes, using 4 for int and one for the state.","body":"@Stephen How did you calculate the memory for HashMap? BTW: trove would require 5 bytes, using 4 for int and one for the state."},{"owner":{"account_id":66307,"reputation":17195,"user_id":194609,"accept_rate":73,"display_name":"Karussell"},"score":0,"creation_date":1326320500,"post_id":6639147,"comment_id":11020231,"body_markdown":"oh, trove would require 9 bytes! using 4 for the index (int[]), one for the state (byte[]) and 4 for the reference (Object[]).","body":"oh, trove would require 9 bytes! using 4 for the index (int[]), one for the state (byte[]) and 4 for the reference (Object[])."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1326320519,"post_id":6639147,"comment_id":11020238,"body_markdown":"@Karussell - I didn&#39;t calculate the memory for HashMap.  I *estimated* and compared the size of the keys; i.e. `Integer` instances versus `int`s.  If you want to add your own Answer, please feel free to do so.","body":"@Karussell - I didn&#39;t calculate the memory for HashMap.  I <i>estimated</i> and compared the size of the keys; i.e. <code>Integer</code> instances versus <code>int</code>s.  If you want to add your own Answer, please feel free to do so."},{"owner":{"account_id":66307,"reputation":17195,"user_id":194609,"accept_rate":73,"display_name":"Karussell"},"score":0,"creation_date":1326375249,"post_id":6639147,"comment_id":11032507,"body_markdown":"@StephenC ah, ok. (No, I was just wondering how one could calculate that)","body":"@StephenC ah, ok. (No, I was just wondering how one could calculate that)"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310274576,"creation_date":1310271759,"answer_id":6639147,"question_id":6639080,"body_markdown":"&gt; The map is Map, and so I&#39;m considering using GNU Trove TIntObjectHashMap, and storing the map value as an ascii byte array rather than String.\r\n\r\nThis doesn&#39;t entirely make sense because a `TIntObjectHashMap` is not a `Map`.  However, the approach is sound.\r\n\r\n--------\r\n\r\n&gt; Do you know what kind of space savings I can expect over HashMap for Trove?\r\n\r\nThe best answer is to try it out. \r\n\r\nBut here are some rough estimates (assuming a 32bit JVM):\r\n\r\n  - HashMap keys would need to be Integer instances.  They will occupy ~18bytes per instance + 4 bytes per reference.  Total 24 bytes.\r\n\r\n  - Trove keys would be 4 byte `int` values.\r\n\r\n  - String values would be 20 bytes + 12 bytes + 2 * number of &quot;characters&quot;.\r\n\r\n  - Byte array values would be 12 bytes + 1 * number of &quot;characters&quot;.\r\n\r\n  - I haven&#39;t examined the details of the respective hash table internal data structures.\r\n\r\nThat probably amounts to around 50% memory saving, though it depends critically on the average length of the value &quot;strings&quot;.  (The longer they are, the more they will dominate the space usage.)\r\n\r\nFWIW, Trove publish their own benchmarks [here][1].  They don&#39;t look very convincing, but you should be able to dig out their benchmark code and modify it to better match your use-case.\r\n\r\n\r\n  [1]: http://trove4j.sourceforge.net/html/benchmarks.shtml","title":"key-value store suggestion","body":"<blockquote>\n  <p>The map is Map, and so I'm considering using GNU Trove TIntObjectHashMap, and storing the map value as an ascii byte array rather than String.</p>\n</blockquote>\n\n<p>This doesn't entirely make sense because a <code>TIntObjectHashMap</code> is not a <code>Map</code>.  However, the approach is sound.</p>\n\n<hr>\n\n<blockquote>\n  <p>Do you know what kind of space savings I can expect over HashMap for Trove?</p>\n</blockquote>\n\n<p>The best answer is to try it out. </p>\n\n<p>But here are some rough estimates (assuming a 32bit JVM):</p>\n\n<ul>\n<li><p>HashMap keys would need to be Integer instances.  They will occupy ~18bytes per instance + 4 bytes per reference.  Total 24 bytes.</p></li>\n<li><p>Trove keys would be 4 byte <code>int</code> values.</p></li>\n<li><p>String values would be 20 bytes + 12 bytes + 2 * number of \"characters\".</p></li>\n<li><p>Byte array values would be 12 bytes + 1 * number of \"characters\".</p></li>\n<li><p>I haven't examined the details of the respective hash table internal data structures.</p></li>\n</ul>\n\n<p>That probably amounts to around 50% memory saving, though it depends critically on the average length of the value \"strings\".  (The longer they are, the more they will dominate the space usage.)</p>\n\n<p>FWIW, Trove publish their own benchmarks <a href=\"http://trove4j.sourceforge.net/html/benchmarks.shtml\" rel=\"nofollow\">here</a>.  They don't look very convincing, but you should be able to dig out their benchmark code and modify it to better match your use-case.</p>\n"},{"comments":[{"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"score":0,"creation_date":1470237653,"post_id":13506162,"comment_id":64869094,"body_markdown":"BabuDB looks great, but I&#39;m still looking for some Getting Started docs (asked the devs about it).","body":"BabuDB looks great, but I&#39;m still looking for some Getting Started docs (asked the devs about it)."},{"owner":{"account_id":100393,"reputation":6688,"user_id":270662,"accept_rate":67,"display_name":"mxro"},"score":0,"creation_date":1472017013,"post_id":13506162,"comment_id":65577070,"body_markdown":"Any luck getting those docs? I had an implementation for [this interface](https://github.com/javadelight/delight-keyvalue) in Babu DB but cannot find it at the moment ...","body":"Any luck getting those docs? I had an implementation for <a href=\"https://github.com/javadelight/delight-keyvalue\" rel=\"nofollow noreferrer\">this interface</a> in Babu DB but cannot find it at the moment ..."}],"tags":[],"owner":{"account_id":100393,"reputation":6688,"user_id":270662,"accept_rate":67,"display_name":"mxro"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1472016860,"creation_date":1353560447,"answer_id":13506162,"question_id":6639080,"body_markdown":"**[BabuDB](https://github.com/xtreemfs/babudb)**\r\n\r\n&gt; BabuDB is an embedded non-relational database system. Its lean and simple design allows it to persistently store large amounts of key-value pairs without the overhead and complexity of similar approaches such as BerkeleyDB.\r\n\r\nLicense: New BSD license, Language: Java\r\n\r\n**[JDBM2](http://code.google.com/p/jdbm2/)**\r\n\r\n&gt; JDBM2 provides HashMap and TreeMap which are backed by disk storage.\r\n\r\nLicense: Apache License 2.0, Language: Java\r\n\r\n**[Banana DB](http://people.apache.org/~kalle/bananadb/)**\r\n\r\n&gt; Banana DB is a self-contained key/value pair database implemented in Java.\r\n\r\nLicense: Apache License 2.0, Language: Java\r\n\r\n-----\r\n\r\nI&#39;ve tried BabuDB and JDBM2 and they work fine. BabuDB is a little bit more difficult to set up, but potentially delivers higher performance than JDBM2.\r\n\r\nThese all all databases, which allow to *persist* data on disk. There are also solutions to hold a large map in memory ([ehcache](http://ehcache.org/), [hazelcast](http://www.hazelcast.com/), ...).","title":"key-value store suggestion","body":"<p><strong><a href=\"https://github.com/xtreemfs/babudb\" rel=\"nofollow\">BabuDB</a></strong></p>\n\n<blockquote>\n  <p>BabuDB is an embedded non-relational database system. Its lean and simple design allows it to persistently store large amounts of key-value pairs without the overhead and complexity of similar approaches such as BerkeleyDB.</p>\n</blockquote>\n\n<p>License: New BSD license, Language: Java</p>\n\n<p><strong><a href=\"http://code.google.com/p/jdbm2/\" rel=\"nofollow\">JDBM2</a></strong></p>\n\n<blockquote>\n  <p>JDBM2 provides HashMap and TreeMap which are backed by disk storage.</p>\n</blockquote>\n\n<p>License: Apache License 2.0, Language: Java</p>\n\n<p><strong><a href=\"http://people.apache.org/~kalle/bananadb/\" rel=\"nofollow\">Banana DB</a></strong></p>\n\n<blockquote>\n  <p>Banana DB is a self-contained key/value pair database implemented in Java.</p>\n</blockquote>\n\n<p>License: Apache License 2.0, Language: Java</p>\n\n<hr>\n\n<p>I've tried BabuDB and JDBM2 and they work fine. BabuDB is a little bit more difficult to set up, but potentially delivers higher performance than JDBM2.</p>\n\n<p>These all all databases, which allow to <em>persist</em> data on disk. There are also solutions to hold a large map in memory (<a href=\"http://ehcache.org/\" rel=\"nofollow\">ehcache</a>, <a href=\"http://www.hazelcast.com/\" rel=\"nofollow\">hazelcast</a>, ...).</p>\n"},{"comments":[{"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"score":0,"creation_date":1470236866,"post_id":25801830,"comment_id":64868499,"body_markdown":"I don&#39;t like how many dependent jars you need for this one. And MapDB itself is pretty big already (700k).","body":"I don&#39;t like how many dependent jars you need for this one. And MapDB itself is pretty big already (700k)."}],"tags":[],"owner":{"account_id":4007848,"reputation":101,"user_id":3302084,"display_name":"thmarx"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1410502209,"creation_date":1410502209,"answer_id":25801830,"question_id":6639080,"body_markdown":"http://www.mapdb.org/ is what you are looking for. It&#39;s a rocking fast persistent implementation of java.util.Map.\n\n## Features ##\n## Concurrent ##\nMapDB has record level locking and state-of-art concurrent engine. Its performance scales nearly linearly with number of cores. Data can be written by multiple parallel threads.\n\n## Fast ##\nMapDB has outstanding performance rivaled only by native DBs. It is result of more than a decade of optimizations and rewrites.\n\n## ACID ##\nMapDB optionally supports ACID transactions with full MVCC isolation. MapDB uses write-ahead-log or append-only store for great write durability.\n\n## Flexible ##\nMapDB can be used everywhere from in-memory cache to multi-terabyte database. It also has number of options to trade durability for write performance. This makes it very easy to configure MapDB to exactly fit your needs.\n\n## Hackable ##\nMapDB is component based, most features (instance cache, async writes, compression) are just class wrappers. It is very easy to introduce new functionality or component into MapDB.\n\n## SQL Like ##\nMapDB was developed as faster alternative to SQL engine. It has number of features which makes transition from relational database easier: secondary indexes/collections, autoincremental sequential ID, joins, triggers, composite keys…\n\n## Low disk-space usage ##\nMapDB has number of features (serialization, delta key packing…) to minimize disk used by its store. It also has very fast compression and custom serializers. We take disk-usage seriously and do not waste single byte.\n\n","title":"key-value store suggestion","body":"<p><a href=\"http://www.mapdb.org/\" rel=\"nofollow noreferrer\">http://www.mapdb.org/</a> is what you are looking for. It's a rocking fast persistent implementation of java.util.Map.</p>\n<h2>Features</h2>\n<h2>Concurrent</h2>\n<p>MapDB has record level locking and state-of-art concurrent engine. Its performance scales nearly linearly with number of cores. Data can be written by multiple parallel threads.</p>\n<h2>Fast</h2>\n<p>MapDB has outstanding performance rivaled only by native DBs. It is result of more than a decade of optimizations and rewrites.</p>\n<h2>ACID</h2>\n<p>MapDB optionally supports ACID transactions with full MVCC isolation. MapDB uses write-ahead-log or append-only store for great write durability.</p>\n<h2>Flexible</h2>\n<p>MapDB can be used everywhere from in-memory cache to multi-terabyte database. It also has number of options to trade durability for write performance. This makes it very easy to configure MapDB to exactly fit your needs.</p>\n<h2>Hackable</h2>\n<p>MapDB is component based, most features (instance cache, async writes, compression) are just class wrappers. It is very easy to introduce new functionality or component into MapDB.</p>\n<h2>SQL Like</h2>\n<p>MapDB was developed as faster alternative to SQL engine. It has number of features which makes transition from relational database easier: secondary indexes/collections, autoincremental sequential ID, joins, triggers, composite keys…</p>\n<h2>Low disk-space usage</h2>\n<p>MapDB has number of features (serialization, delta key packing…) to minimize disk used by its store. It also has very fast compression and custom serializers. We take disk-usage seriously and do not waste single byte.</p>\n"},{"tags":[],"owner":{"account_id":326925,"reputation":14868,"user_id":648955,"accept_rate":62,"display_name":"leventov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1417854696,"creation_date":1417854696,"answer_id":27329809,"question_id":6639080,"body_markdown":"Consider [Koloboke Collections](https://github.com/OpenHFT/Koloboke), which is up to 2 times faster than Trove according to various tests:\r\n\r\n - [Time - memory tradeoff with the example of Java Maps](http://java.dzone.com/articles/time-memory-tradeoff-example)\r\n - [Large HashMap overview: JDK, FastUtil, Goldman Sachs, HPPC, Koloboke, Trove](http://java-performance.info/large-hashmap-overview-jdk-fastutil-goldman-sachs-hppc-koloboke-trove)\r\n\r\nif configured to consume the same memory as Trove. Or alternatively, you can think it consumes considerably lesser memory if configured to be equally fast to Trove.\r\n\r\n---\r\nIf you want to persist the map between JVM runs with very quick bootstrap, you might also be interested in [Chronicle-Map](https://github.com/OpenHFT/Chronicle-Map) which stores `String`s in UTF-8 by default (so you shouldn&#39;t bother with conversions `String` &lt;-&gt; `byte[]` as with Koloboke/Trove). Chronicle-Map is ultra fast for persisted key-value store, but a bit slower that Koloboke and even Trove.","title":"key-value store suggestion","body":"<p>Consider <a href=\"https://github.com/OpenHFT/Koloboke\" rel=\"nofollow\">Koloboke Collections</a>, which is up to 2 times faster than Trove according to various tests:</p>\n\n<ul>\n<li><a href=\"http://java.dzone.com/articles/time-memory-tradeoff-example\" rel=\"nofollow\">Time - memory tradeoff with the example of Java Maps</a></li>\n<li><a href=\"http://java-performance.info/large-hashmap-overview-jdk-fastutil-goldman-sachs-hppc-koloboke-trove\" rel=\"nofollow\">Large HashMap overview: JDK, FastUtil, Goldman Sachs, HPPC, Koloboke, Trove</a></li>\n</ul>\n\n<p>if configured to consume the same memory as Trove. Or alternatively, you can think it consumes considerably lesser memory if configured to be equally fast to Trove.</p>\n\n<hr>\n\n<p>If you want to persist the map between JVM runs with very quick bootstrap, you might also be interested in <a href=\"https://github.com/OpenHFT/Chronicle-Map\" rel=\"nofollow\">Chronicle-Map</a> which stores <code>String</code>s in UTF-8 by default (so you shouldn't bother with conversions <code>String</code> &lt;-> <code>byte[]</code> as with Koloboke/Trove). Chronicle-Map is ultra fast for persisted key-value store, but a bit slower that Koloboke and even Trove.</p>\n"},{"tags":[],"owner":{"account_id":95634,"reputation":1154,"user_id":260329,"display_name":"Dieter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486166064,"creation_date":1486166064,"answer_id":42034858,"question_id":6639080,"body_markdown":"Just wanted to reference some more open source options that became available over time since this question was first asked.\r\n\r\nApache 2, BTree, Apache Directory Project JDBM replacement effort:\r\n\r\nhttp://directory.apache.org/mavibot/\r\n\r\nMPL2/EPL1, RTree, MVStore, H2 Storage Engine:\r\n\r\nhttp://www.h2database.com/html/mvstore.html\r\n\r\nApache 2, Xodus Environments, JetBrains YouTrack and Hub storage engine: \r\n\r\nhttps://github.com/JetBrains/xodus\r\n","title":"key-value store suggestion","body":"<p>Just wanted to reference some more open source options that became available over time since this question was first asked.</p>\n\n<p>Apache 2, BTree, Apache Directory Project JDBM replacement effort:</p>\n\n<p><a href=\"http://directory.apache.org/mavibot/\" rel=\"nofollow noreferrer\">http://directory.apache.org/mavibot/</a></p>\n\n<p>MPL2/EPL1, RTree, MVStore, H2 Storage Engine:</p>\n\n<p><a href=\"http://www.h2database.com/html/mvstore.html\" rel=\"nofollow noreferrer\">http://www.h2database.com/html/mvstore.html</a></p>\n\n<p>Apache 2, Xodus Environments, JetBrains YouTrack and Hub storage engine: </p>\n\n<p><a href=\"https://github.com/JetBrains/xodus\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/xodus</a></p>\n"},{"tags":[],"owner":{"account_id":1165206,"reputation":637,"user_id":1143792,"display_name":"Andrey Lomakin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667996700,"creation_date":1667996700,"answer_id":74374853,"question_id":6639080,"body_markdown":"You can use [Xodus KV][1]. \r\nThat is a key-value store used in production by JetBrains in the YouTrack product.\r\nIt provides snapshot isolation with readers not competing with writers.\r\nJetBrains actively supports it.\r\n\r\nXodus also has an [entity store][2] solution which, along with [ORM][3] implemented in Kotlin, can be used as a primary database in your project.\r\n\r\nThere are [plans][4] to implement SQL language, which will allow using Xodus as the primary database for projects written in other languages.\r\n\r\n  [1]: https://github.com/JetBrains/xodus\r\n  [2]: https://github.com/JetBrains/xodus/wiki/Entity-Stores\r\n  [3]: https://jetbrains.github.io/xodus-dnq/\r\n  [4]: https://twitter.com/Andrey_Lomakin/status/1583796911609630720","title":"key-value store suggestion","body":"<p>You can use <a href=\"https://github.com/JetBrains/xodus\" rel=\"nofollow noreferrer\">Xodus KV</a>.\nThat is a key-value store used in production by JetBrains in the YouTrack product.\nIt provides snapshot isolation with readers not competing with writers.\nJetBrains actively supports it.</p>\n<p>Xodus also has an <a href=\"https://github.com/JetBrains/xodus/wiki/Entity-Stores\" rel=\"nofollow noreferrer\">entity store</a> solution which, along with <a href=\"https://jetbrains.github.io/xodus-dnq/\" rel=\"nofollow noreferrer\">ORM</a> implemented in Kotlin, can be used as a primary database in your project.</p>\n<p>There are <a href=\"https://twitter.com/Andrey_Lomakin/status/1583796911609630720\" rel=\"nofollow noreferrer\">plans</a> to implement SQL language, which will allow using Xodus as the primary database for projects written in other languages.</p>\n"}],"owner":{"account_id":297024,"reputation":25001,"user_id":602323,"accept_rate":80,"display_name":"Kevin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12980,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":6639114,"answer_count":7,"score":12,"last_activity_date":1667996700,"creation_date":1310270512,"question_id":6639080,"body_markdown":"I need a very basic key-value store for java. I started with a HashMap but it seems that HashMap is somewhat space inefficient (I&#39;m storing ~20 million records, and seems to require ~6GB RAM). \r\n\r\nThe map is `Map&lt;Integer,String&gt;`, and so I&#39;m considering using GNU Trove `TIntObjectHashMap&lt;byte[]&gt;`, and storing the map value as an ascii byte array rather than String. \r\n\r\nAs an alternative to that, is there a key-value store that only requires adding jar files, does not hold the entire map in RAM at once, and is still reasonably fast?","title":"key-value store suggestion","body":"<p>I need a very basic key-value store for java. I started with a HashMap but it seems that HashMap is somewhat space inefficient (I'm storing ~20 million records, and seems to require ~6GB RAM). </p>\n\n<p>The map is <code>Map&lt;Integer,String&gt;</code>, and so I'm considering using GNU Trove <code>TIntObjectHashMap&lt;byte[]&gt;</code>, and storing the map value as an ascii byte array rather than String. </p>\n\n<p>As an alternative to that, is there a key-value store that only requires adding jar files, does not hold the entire map in RAM at once, and is still reasonably fast?</p>\n"},{"tags":["java","spring-boot","executable-jar","embedded-resource"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667989373,"post_id":74373144,"comment_id":131297393,"body_markdown":"Please don&#39;t forget to `clean` ..and this: https://www.baeldung.com/spring-boot-repackage-vs-mvn-package","body":"Please don&#39;t forget to <code>clean</code> ..and this: <a href=\"https://www.baeldung.com/spring-boot-repackage-vs-mvn-package\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-repackage-vs-mvn-package</a>"},{"owner":{"account_id":82592,"reputation":355,"user_id":232115,"display_name":"Mike"},"score":0,"creation_date":1667996141,"post_id":74373144,"comment_id":131299791,"body_markdown":"does not work, spring repackage is ok, but the result is the same. I mean, the file exists in the jar file, and in the right position! more over I&#39;ve tried to put @Value(&quot;classpath*:Graphic.xlsx&quot;)\n    private Resource excelTemplateFile; \nBut still not work. I suppose it is a problem with the JVM  (build 17.0.2+8-LTS-86) because I can remember that with very old JVMs , this approach has always worked very well.","body":"does not work, spring repackage is ok, but the result is the same. I mean, the file exists in the jar file, and in the right position! more over I&#39;ve tried to put @Value(&quot;classpath*:Graphic.xlsx&quot;)     private Resource excelTemplateFile;  But still not work. I suppose it is a problem with the JVM  (build 17.0.2+8-LTS-86) because I can remember that with very old JVMs , this approach has always worked very well."},{"owner":{"account_id":13692927,"reputation":944,"user_id":9880276,"display_name":"Rasika Weragoda"},"score":0,"creation_date":1677498935,"post_id":74373144,"comment_id":133343118,"body_markdown":"Did you exclude.xlsx extensions in the maven jar plugin when you were building the jar?","body":"Did you exclude.xlsx extensions in the maven jar plugin when you were building the jar?"},{"owner":{"account_id":82592,"reputation":355,"user_id":232115,"display_name":"Mike"},"score":0,"creation_date":1683360879,"post_id":74373144,"comment_id":134357811,"body_markdown":"Hi Rasika, I checked the content of the jar file and It Is correct.","body":"Hi Rasika, I checked the content of the jar file and It Is correct."}],"owner":{"account_id":82592,"reputation":355,"user_id":232115,"display_name":"Mike"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667996501,"creation_date":1667988937,"question_id":74373144,"body_markdown":"I can&#39;t read a resource file inside spring flat file.\r\nI&#39;ve put my resource file inside \r\n`src/main/resources`\r\nfolder, and then in my `@Component` class:\r\n`\r\n    @Value(&quot;classpath:Graphic.xlsx&quot;)\r\n    private Resource excelTemplateFile;\r\n`\r\n\r\nIt works if I run my app using:\r\n`\r\nmvn spring-boot:run\r\n`\r\nbut if I build my flat jar:\r\n`\r\nmvn package\r\n`\r\n\r\n`\r\njava -jar target\\myapp-0.0.2-SNAPSHOT.jar\r\n`\r\n\r\nand I run it, IT does not work!\r\n\r\n\r\n\r\n\r\nThe result is surprising:\r\n`\r\n11:07:18.894 ERROR - class path resource [Graphic.xlsx] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/C:/Users/hp/Projects/myApp/target/myapp-0.0.2-SNAPSHOT.jar!/BOOT-INF/classes!/Graphic.xlsx\r\n`\r\n\r\nIt is surprising because the file is exactly included in the jar file in that position (myapp-0.0.2-SNAPSHOT.jar!/BOOT-INF/classes!/Graphic.xlsx)\r\n\r\nSo, why?\r\nI&#39;m trying to use ResourceUtils, or read it in other ways, but the result is the same.\r\nHow can I solve it?\r\nthx.\r\n\r\nEnvironment:\r\nwindows 64 bit.\r\n\r\njava 17.0.2 2022-01-18 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)\r\n\r\nSpring boot:\r\nPom parent : spring-boot-starter-parent 2.6.7\r\nspring dependencies:  spring-shell-starter 2.1.0 and spring-boot-starter-data-jpa  \r\n\r\n","title":"spring boot: cannot read resource inside flat jar","body":"<p>I can't read a resource file inside spring flat file.\nI've put my resource file inside\n<code>src/main/resources</code>\nfolder, and then in my <code>@Component</code> class:\n<code>@Value(&quot;classpath:Graphic.xlsx&quot;) private Resource excelTemplateFile;</code></p>\n<p>It works if I run my app using:\n<code>mvn spring-boot:run</code>\nbut if I build my flat jar:\n<code>mvn package</code></p>\n<p><code>java -jar target\\myapp-0.0.2-SNAPSHOT.jar</code></p>\n<p>and I run it, IT does not work!</p>\n<p>The result is surprising:\n<code>11:07:18.894 ERROR - class path resource [Graphic.xlsx] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/C:/Users/hp/Projects/myApp/target/myapp-0.0.2-SNAPSHOT.jar!/BOOT-INF/classes!/Graphic.xlsx</code></p>\n<p>It is surprising because the file is exactly included in the jar file in that position (myapp-0.0.2-SNAPSHOT.jar!/BOOT-INF/classes!/Graphic.xlsx)</p>\n<p>So, why?\nI'm trying to use ResourceUtils, or read it in other ways, but the result is the same.\nHow can I solve it?\nthx.</p>\n<p>Environment:\nwindows 64 bit.</p>\n<p>java 17.0.2 2022-01-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.2+8-LTS-86)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.2+8-LTS-86, mixed mode, sharing)</p>\n<p>Spring boot:\nPom parent : spring-boot-starter-parent 2.6.7\nspring dependencies:  spring-shell-starter 2.1.0 and spring-boot-starter-data-jpa</p>\n"},{"tags":["java","facebook","facebook-graph-api","facebook-marketing-api"],"answers":[{"comments":[{"owner":{"account_id":429057,"reputation":1624,"user_id":811750,"accept_rate":59,"display_name":"Faisal Basra"},"score":0,"creation_date":1449486652,"post_id":34094900,"comment_id":56012020,"body_markdown":"I did not find any support for ads management in restFB or in graph api? do you know and point to ti ? Thanks","body":"I did not find any support for ads management in restFB or in graph api? do you know and point to ti ? Thanks"}],"tags":[],"owner":{"account_id":2907723,"reputation":1350,"user_id":2492620,"accept_rate":94,"display_name":"Michael Queue"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1449813606,"creation_date":1449253164,"answer_id":34094900,"question_id":34094253,"body_markdown":"You can use \r\n\r\n   [RestFB](http://restfb.com/)\r\n\r\n&gt; The Marketing API support is currently in a beta state and you may use\r\n&gt; it at your own risk. We would like to hear your feedback and hope you\r\n&gt; open any issue at Github or write a message to Google Groups.\r\n\r\nHere are the Java Docs &lt;br&gt;\r\nhttp://restfb.com/javadoc/index.html&lt;br&gt;\r\nhttp://restfb.com/javadoc/com/restfb/types/ads/AdCampaignGroup.html\r\nhttp://restfb.com/javadoc/com/restfb/types/ads/class-use/AdCampaignGroup.html\r\n\r\nBesides RestFB, Spring Social seems to be the best contender:\r\n\r\n\r\n* [Java (Spring) by Spring Social](http://www.springsource.org/spring-social/) - Looks like there is a pull request to integrate the ads management api, but, it hasn&#39;t been merged. https://github.com/spring-projects/spring-social-facebook/pull/155/files\r\n\r\n\r\nAdditionally, there is also Facebook4j\r\nhttp://facebook4j.org/en/index.html","title":"Accessing Facebook Marketing API from Java","body":"<p>You can use </p>\n\n<p><a href=\"http://restfb.com/\" rel=\"nofollow\">RestFB</a></p>\n\n<blockquote>\n  <p>The Marketing API support is currently in a beta state and you may use\n  it at your own risk. We would like to hear your feedback and hope you\n  open any issue at Github or write a message to Google Groups.</p>\n</blockquote>\n\n<p>Here are the Java Docs <br>\n<a href=\"http://restfb.com/javadoc/index.html\" rel=\"nofollow\">http://restfb.com/javadoc/index.html</a><br>\n<a href=\"http://restfb.com/javadoc/com/restfb/types/ads/AdCampaignGroup.html\" rel=\"nofollow\">http://restfb.com/javadoc/com/restfb/types/ads/AdCampaignGroup.html</a>\n<a href=\"http://restfb.com/javadoc/com/restfb/types/ads/class-use/AdCampaignGroup.html\" rel=\"nofollow\">http://restfb.com/javadoc/com/restfb/types/ads/class-use/AdCampaignGroup.html</a></p>\n\n<p>Besides RestFB, Spring Social seems to be the best contender:</p>\n\n<ul>\n<li><a href=\"http://www.springsource.org/spring-social/\" rel=\"nofollow\">Java (Spring) by Spring Social</a> - Looks like there is a pull request to integrate the ads management api, but, it hasn't been merged. <a href=\"https://github.com/spring-projects/spring-social-facebook/pull/155/files\" rel=\"nofollow\">https://github.com/spring-projects/spring-social-facebook/pull/155/files</a></li>\n</ul>\n\n<p>Additionally, there is also Facebook4j\n<a href=\"http://facebook4j.org/en/index.html\" rel=\"nofollow\">http://facebook4j.org/en/index.html</a></p>\n"},{"comments":[{"owner":{"account_id":1755126,"reputation":31445,"user_id":1603357,"accept_rate":59,"display_name":"Tobi"},"score":0,"creation_date":1449845509,"post_id":34225554,"comment_id":56196410,"body_markdown":"Well, look at the HttpComponents docs, the only thing you have to fill in is the actual request, which you can abstract from the Marketing API docs.","body":"Well, look at the HttpComponents docs, the only thing you have to fill in is the actual request, which you can abstract from the Marketing API docs."}],"tags":[],"owner":{"account_id":1755126,"reputation":31445,"user_id":1603357,"accept_rate":59,"display_name":"Tobi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449843246,"creation_date":1449843246,"answer_id":34225554,"question_id":34094253,"body_markdown":"Well, the Marketing API docs are here:\r\n\r\n* https://developers.facebook.com/docs/marketing-apis\r\n\r\nThe quickstart is here:\r\n\r\n* https://developers.facebook.com/docs/marketing-api/quickstart\r\n\r\nThe reference is here:\r\n\r\n* https://developers.facebook.com/docs/marketing-api/reference/v2.5\r\n\r\nEven if maybe RestFb does not support this, you can always use direct HTTP calls to the Marketing API (for example via [Apache HttpComponents](https://hc.apache.org/)).","title":"Accessing Facebook Marketing API from Java","body":"<p>Well, the Marketing API docs are here:</p>\n\n<ul>\n<li><a href=\"https://developers.facebook.com/docs/marketing-apis\" rel=\"nofollow\">https://developers.facebook.com/docs/marketing-apis</a></li>\n</ul>\n\n<p>The quickstart is here:</p>\n\n<ul>\n<li><a href=\"https://developers.facebook.com/docs/marketing-api/quickstart\" rel=\"nofollow\">https://developers.facebook.com/docs/marketing-api/quickstart</a></li>\n</ul>\n\n<p>The reference is here:</p>\n\n<ul>\n<li><a href=\"https://developers.facebook.com/docs/marketing-api/reference/v2.5\" rel=\"nofollow\">https://developers.facebook.com/docs/marketing-api/reference/v2.5</a></li>\n</ul>\n\n<p>Even if maybe RestFb does not support this, you can always use direct HTTP calls to the Marketing API (for example via <a href=\"https://hc.apache.org/\" rel=\"nofollow\">Apache HttpComponents</a>).</p>\n"},{"comments":[{"owner":{"account_id":429057,"reputation":1624,"user_id":811750,"accept_rate":59,"display_name":"Faisal Basra"},"score":0,"creation_date":1450691649,"post_id":34328547,"comment_id":56526926,"body_markdown":"Thank You very much. I will be testing it out.","body":"Thank You very much. I will be testing it out."},{"owner":{"account_id":429057,"reputation":1624,"user_id":811750,"accept_rate":59,"display_name":"Faisal Basra"},"score":0,"creation_date":1450693259,"post_id":34328547,"comment_id":56527939,"body_markdown":"Jiaming, need little more help. I need guide how to create custom audience and use it in campaign via java sdk? Will be very thankful","body":"Jiaming, need little more help. I need guide how to create custom audience and use it in campaign via java sdk? Will be very thankful"}],"tags":[],"owner":{"account_id":2450305,"reputation":121,"user_id":2136763,"display_name":"Jiaming"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1450335833,"creation_date":1450335833,"answer_id":34328547,"question_id":34094253,"body_markdown":"There is newly released Java SDK (beta) for Marketing API: https://github.com/facebook/facebook-java-ads-sdk. You can give a try.\r\n\r\n","title":"Accessing Facebook Marketing API from Java","body":"<p>There is newly released Java SDK (beta) for Marketing API: <a href=\"https://github.com/facebook/facebook-java-ads-sdk\" rel=\"nofollow\">https://github.com/facebook/facebook-java-ads-sdk</a>. You can give a try.</p>\n"}],"owner":{"account_id":429057,"reputation":1624,"user_id":811750,"accept_rate":59,"display_name":"Faisal Basra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3953,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":34328547,"answer_count":3,"score":2,"last_activity_date":1667996486,"creation_date":1449250795,"question_id":34094253,"body_markdown":"We have Java based CRM and want to integrate facebook campaign management. I checked facebook marketing api and they provide PHP and Python based SDKs. I&#39;m wondering how we can access/consume facebook marketing api in Java, there should be some rest interface which I could not find. \r\n\r\nAnyone have idea? ","title":"Accessing Facebook Marketing API from Java","body":"<p>We have Java based CRM and want to integrate facebook campaign management. I checked facebook marketing api and they provide PHP and Python based SDKs. I'm wondering how we can access/consume facebook marketing api in Java, there should be some rest interface which I could not find. </p>\n\n<p>Anyone have idea? </p>\n"},{"tags":["java","annotations"],"answers":[{"tags":[],"owner":{"account_id":8306034,"reputation":5283,"user_id":6243024,"display_name":"ck1"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1466266993,"creation_date":1466266523,"answer_id":37899074,"question_id":37898797,"body_markdown":"Type annotations in Java 8 are mainly around to support stronger type checking.\r\n\r\nFrom https://docs.oracle.com/javase/tutorial/java/annotations/type_annotations.html:\r\n\r\n&gt; Type annotations were created to support improved analysis of Java\r\n&gt; programs way of ensuring stronger type checking. The Java SE 8 release\r\n&gt; does not provide a type checking framework, but it allows you to write\r\n&gt; (or download) a type checking framework that is implemented as one or\r\n&gt; more pluggable modules that are used in conjunction with the Java\r\n&gt; compiler.\r\n\r\nFrom your above example, you should use the `@EmailField` field annotation, and you should also add `@Retention(RetentionPolicy.RUNTIME)` so that you can use reflection to check for this annotation at runtime as follows:\r\n\r\n    @Target(ElementType.FIELD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @interface EmailField {}\r\n\r\n","title":"`ElementType.FIELD` vs `ElementType.TYPE_USE`","body":"<p>Type annotations in Java 8 are mainly around to support stronger type checking.</p>\n\n<p>From <a href=\"https://docs.oracle.com/javase/tutorial/java/annotations/type_annotations.html\" rel=\"nofollow\">https://docs.oracle.com/javase/tutorial/java/annotations/type_annotations.html</a>:</p>\n\n<blockquote>\n  <p>Type annotations were created to support improved analysis of Java\n  programs way of ensuring stronger type checking. The Java SE 8 release\n  does not provide a type checking framework, but it allows you to write\n  (or download) a type checking framework that is implemented as one or\n  more pluggable modules that are used in conjunction with the Java\n  compiler.</p>\n</blockquote>\n\n<p>From your above example, you should use the <code>@EmailField</code> field annotation, and you should also add <code>@Retention(RetentionPolicy.RUNTIME)</code> so that you can use reflection to check for this annotation at runtime as follows:</p>\n\n<pre><code>@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\n@interface EmailField {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466295394,"creation_date":1466295394,"answer_id":37902773,"question_id":37898797,"body_markdown":"Here is the difference between declaration annotations and type annotations:\r\n\r\n * A declaration annotation on a field gives information about the *variable*, such as that the field is deprecated and clients should use a getter method instead.\r\n * A type annotation gives information about the *value*, such as that an integer value is greater than zero.\r\n\r\nYour annotation gives information about the values:  the string should be a legal email address.  Therefore, you should use a type annotation, `@EmailType` (though I would just name it `@Email`).\r\n\r\nYou can validate a type annotation at compile time, run time, or both.\r\n","title":"`ElementType.FIELD` vs `ElementType.TYPE_USE`","body":"<p>Here is the difference between declaration annotations and type annotations:</p>\n\n<ul>\n<li>A declaration annotation on a field gives information about the <em>variable</em>, such as that the field is deprecated and clients should use a getter method instead.</li>\n<li>A type annotation gives information about the <em>value</em>, such as that an integer value is greater than zero.</li>\n</ul>\n\n<p>Your annotation gives information about the values:  the string should be a legal email address.  Therefore, you should use a type annotation, <code>@EmailType</code> (though I would just name it <code>@Email</code>).</p>\n\n<p>You can validate a type annotation at compile time, run time, or both.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668361309,"post_id":74374779,"comment_id":131381142,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74374779/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":19723983,"reputation":1,"user_id":14440951,"display_name":"vobino"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667996315,"creation_date":1667996315,"answer_id":74374779,"question_id":37898797,"body_markdown":"Simple example is still much easier to understand than many explanations.\r\n\r\nTYPE_USE is use for this purpose :\r\n\r\nprivate List&lt;**@ValidEmail** String&gt; emails;","title":"`ElementType.FIELD` vs `ElementType.TYPE_USE`","body":"<p>Simple example is still much easier to understand than many explanations.</p>\n<p>TYPE_USE is use for this purpose :</p>\n<p>private List&lt;<strong>@ValidEmail</strong> String&gt; emails;</p>\n"}],"owner":{"account_id":1503831,"reputation":1088,"user_id":1407698,"accept_rate":57,"display_name":"ieXcept"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3046,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":37899074,"answer_count":3,"score":2,"last_activity_date":1667996315,"creation_date":1466264657,"question_id":37898797,"body_markdown":"I not fully understand the difference between annotating variable and annotating its type. \r\nShould I prefer type annotation over declaration annotation in this scenario?\r\n\r\n    @EmailField // can be used on String or Array/Collection of String-s\r\n    private String email;\r\n    private @EmailType String email2;\r\n    @EmailField\r\n    private List&lt;@EmailType String&gt; emails;\r\n\r\n    @Target(ElementType.TYPE_USE)\r\n    @interface EmailType {}\r\n\r\n    @Target(ElementType.FIELD)\r\n    @interface EmailField {}","title":"`ElementType.FIELD` vs `ElementType.TYPE_USE`","body":"<p>I not fully understand the difference between annotating variable and annotating its type. \nShould I prefer type annotation over declaration annotation in this scenario?</p>\n\n<pre><code>@EmailField // can be used on String or Array/Collection of String-s\nprivate String email;\nprivate @EmailType String email2;\n@EmailField\nprivate List&lt;@EmailType String&gt; emails;\n\n@Target(ElementType.TYPE_USE)\n@interface EmailType {}\n\n@Target(ElementType.FIELD)\n@interface EmailField {}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":1,"creation_date":1602810073,"post_id":64381510,"comment_id":113844523,"body_markdown":"When you create and share a pre-signed URL, *you* dictate the object&#39;s bucket and key (nothing else would be sensible). If you want to give the client the opportunity to propose a key then have them send you that in advance, validate it, and include it in your pre-signed calculation.","body":"When you create and share a pre-signed URL, <i>you</i> dictate the object&#39;s bucket and key (nothing else would be sensible). If you want to give the client the opportunity to propose a key then have them send you that in advance, validate it, and include it in your pre-signed calculation."}],"answers":[{"comments":[{"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"score":0,"creation_date":1667921348,"post_id":64381596,"comment_id":131280467,"body_markdown":"That&#39;s not completely true -- AWS have added special handling to allow the user supplied filename to be used, see https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPOST.html","body":"That&#39;s not completely true -- AWS have added special handling to allow the user supplied filename to be used, see <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPOST.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPOST.html</a>"}],"tags":[],"owner":{"account_id":90365,"reputation":222506,"user_id":248823,"accept_rate":100,"display_name":"Marcin"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1602810315,"creation_date":1602810315,"answer_id":64381596,"question_id":64381510,"body_markdown":"Object key is integral part of the pre-signed url and is required by the algorithm which generates the url:\r\n\r\n - [Authenticating Requests: Using Query Parameters (AWS Signature Version 4)](https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-query-string-auth.html)\r\n\r\nThus, you **can&#39;t change** the key.","title":"AWS S3 Presigned URL file upload - Retain file name in bucket","body":"<p>Object key is integral part of the pre-signed url and is required by the algorithm which generates the url:</p>\n<ul>\n<li><a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-query-string-auth.html\" rel=\"nofollow noreferrer\">Authenticating Requests: Using Query Parameters (AWS Signature Version 4)</a></li>\n</ul>\n<p>Thus, you <strong>can't change</strong> the key.</p>\n"},{"comments":[{"owner":{"account_id":421740,"reputation":643,"user_id":3749776,"display_name":"dwilli"},"score":0,"creation_date":1667940169,"post_id":74363244,"comment_id":131287130,"body_markdown":"Can you provide an example for this?","body":"Can you provide an example for this?"},{"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"score":1,"creation_date":1667996202,"post_id":74363244,"comment_id":131299811,"body_markdown":"Amazon have published a worked example; I have added a link","body":"Amazon have published a worked example; I have added a link"}],"tags":[],"owner":{"account_id":5203,"reputation":15153,"user_id":8261,"accept_rate":78,"display_name":"Rich"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667996191,"creation_date":1667921285,"answer_id":74363244,"question_id":64381510,"body_markdown":"S3 can use the user-provided filename if you put `${filename}` in the signed key.\r\n\r\nDocs are at https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPOST.html\r\n\r\nPerhaps your problem is PUT vs POST?\r\n\r\nThere is a worked example here that uses this in an HTML form with `${filename}` in the `key`: https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-post-example.html","title":"AWS S3 Presigned URL file upload - Retain file name in bucket","body":"<p>S3 can use the user-provided filename if you put <code>${filename}</code> in the signed key.</p>\n<p>Docs are at <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPOST.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPOST.html</a></p>\n<p>Perhaps your problem is PUT vs POST?</p>\n<p>There is a worked example here that uses this in an HTML form with <code>${filename}</code> in the <code>key</code>: <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-post-example.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/API/sigv4-post-example.html</a></p>\n"}],"owner":{"account_id":4901543,"reputation":956,"user_id":4903440,"display_name":"Praveen E"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3281,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667996191,"creation_date":1602809442,"question_id":64381510,"body_markdown":"I am trying to upload files into S3 bucket using presigned PUT URL like below\r\n\r\n    String tempFileKey = UUID.randomUUID().toString();\r\n        GeneratePresignedUrlRequest generatePresignedUrlRequest =\r\n                        new GeneratePresignedUrlRequest(tempBucketName, tempFileKey)\r\n                                .withMethod(HttpMethod.PUT)\r\n                                .withExpiration(expiration);\r\n        URL fileUrl = s3Client.generatePresignedUrl(generatePresignedUrlRequest);\r\n\r\nThe problem with above approach is if the user uploads a file named &#39;xyz.jpg&#39;, I am not able to retain the file name (or extension) in the s3 bucket. The file gets saved with the tempFileKey as name. I won&#39;t be knowing the file name or extension while creating the presigned url.\r\n\r\nI tried using ${filename} as tempFilekey as suggested in https://stackoverflow.com/questions/26386520/sending-file-direct-from-browser-to-s3-but-changing-file-name but it is just getting saved under the name ${filename} (literally)","title":"AWS S3 Presigned URL file upload - Retain file name in bucket","body":"<p>I am trying to upload files into S3 bucket using presigned PUT URL like below</p>\n<pre><code>String tempFileKey = UUID.randomUUID().toString();\n    GeneratePresignedUrlRequest generatePresignedUrlRequest =\n                    new GeneratePresignedUrlRequest(tempBucketName, tempFileKey)\n                            .withMethod(HttpMethod.PUT)\n                            .withExpiration(expiration);\n    URL fileUrl = s3Client.generatePresignedUrl(generatePresignedUrlRequest);\n</code></pre>\n<p>The problem with above approach is if the user uploads a file named 'xyz.jpg', I am not able to retain the file name (or extension) in the s3 bucket. The file gets saved with the tempFileKey as name. I won't be knowing the file name or extension while creating the presigned url.</p>\n<p>I tried using ${filename} as tempFilekey as suggested in <a href=\"https://stackoverflow.com/questions/26386520/sending-file-direct-from-browser-to-s3-but-changing-file-name\">Sending file direct from browser to S3 but changing file name</a> but it is just getting saved under the name ${filename} (literally)</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667997274,"post_id":74374546,"comment_id":131300166,"body_markdown":"Yes and no. The date in your database hasn’t got a format, only an internal binary format that we don’t want to know about. So it depends on your RDBMS (database engine/brand) how it prints the date when you retrieve it, but I would suppose that if you use data type `date` instead of `timestamp without time zone`, then it will print exactly `2022-11-09`.","body":"Yes and no. The date in your database hasn’t got a format, only an internal binary format that we don’t want to know about. So it depends on your RDBMS (database engine/brand) how it prints the date when you retrieve it, but I would suppose that if you use data type <code>date</code> instead of <code>timestamp without time zone</code>, then it will print exactly <code>2022-11-09</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1667997389,"post_id":74374546,"comment_id":131300208,"body_markdown":"In Java I strongly recommend that you don’t use any of the two `Date` classes nor `SimpleDateFormat` since they are all troublesome and outdated. Use `LocalDate` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). And a `DateTimeFormatter` in case you need to format or parse dates. Hibernate supports java.time at least since version 5.","body":"In Java I strongly recommend that you don’t use any of the two <code>Date</code> classes nor <code>SimpleDateFormat</code> since they are all troublesome and outdated. Use <code>LocalDate</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. And a <code>DateTimeFormatter</code> in case you need to format or parse dates. Hibernate supports java.time at least since version 5."}],"owner":{"account_id":20705572,"reputation":401,"user_id":17565149,"display_name":"DJ Freeman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667996130,"creation_date":1667995233,"question_id":74374546,"body_markdown":"I have a Date object like 2022-11-09 in my Reservation class, but whenever it gets added to the database and I run the query select * from reservations. I get an output like:\r\n2022-11-09 01:00:00\r\n\r\nNow this causes a lot of problems since I would like to return all objects that have date 2022-11-09 . Every time no objects are returned since JPARepo doesn&#39;t return anything probably because my Date object doesn&#39;t match the SQL&#39;s Date (with time).\r\n\r\nTo give you more information I will add some screenshots and code:\r\n```\r\n\r\n@Entity(name = &quot;reservations&quot;)\r\npublic class Reservation {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private Date date;\r\n\r\n    private Boolean voormiddag;\r\n    private Boolean namiddag;\r\n\r\n    private Long roomId;\r\n    private String username;\r\n```\r\nselect * from reservations returns: \r\n[![enter image description here][1]][1]\r\n\r\n\r\nIs there a way to just store the java Date-Object (yyyy-MM-dd) as the same format (so without time) in the database?\r\n\r\nI found these solutions, but they change my Date object to type String and this is NOT what I want:\r\n[![https://stackoverflow.com/questions/67794434/spring-boot-insert-date-in-database-in-dd-mm-yyyy-format8][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NcuaZ.png\r\n  [2]: https://i.stack.imgur.com/1k3ZT.png","title":"Springboot add yyyy-MM-dd to database using hibernate","body":"<p>I have a Date object like 2022-11-09 in my Reservation class, but whenever it gets added to the database and I run the query select * from reservations. I get an output like:\n2022-11-09 01:00:00</p>\n<p>Now this causes a lot of problems since I would like to return all objects that have date 2022-11-09 . Every time no objects are returned since JPARepo doesn't return anything probably because my Date object doesn't match the SQL's Date (with time).</p>\n<p>To give you more information I will add some screenshots and code:</p>\n<pre><code>\n@Entity(name = &quot;reservations&quot;)\npublic class Reservation {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private Date date;\n\n    private Boolean voormiddag;\n    private Boolean namiddag;\n\n    private Long roomId;\n    private String username;\n</code></pre>\n<p>select * from reservations returns:\n<a href=\"https://i.stack.imgur.com/NcuaZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NcuaZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Is there a way to just store the java Date-Object (yyyy-MM-dd) as the same format (so without time) in the database?</p>\n<p>I found these solutions, but they change my Date object to type String and this is NOT what I want:\n<a href=\"https://i.stack.imgur.com/1k3ZT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1k3ZT.png\" alt=\"https://stackoverflow.com/questions/67794434/spring-boot-insert-date-in-database-in-dd-mm-yyyy-format8\" /></a></p>\n"},{"tags":["java","types"],"comments":[{"owner":{"account_id":3164780,"reputation":79,"user_id":2675040,"accept_rate":43,"display_name":"user2675040"},"score":1,"creation_date":1433741721,"post_id":30701852,"comment_id":49461605,"body_markdown":"I haven&#39;t added the code for beyond long because it always end up in error so please suggest me something.","body":"I haven&#39;t added the code for beyond long because it always end up in error so please suggest me something."},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":1,"creation_date":1433741869,"post_id":30701852,"comment_id":49461662,"body_markdown":"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html</a>"}],"answers":[{"comments":[{"owner":{"account_id":3164780,"reputation":79,"user_id":2675040,"accept_rate":43,"display_name":"user2675040"},"score":0,"creation_date":1433742619,"post_id":30701904,"comment_id":49461918,"body_markdown":"Thank you very much i added try and catch and now it works without any errors.","body":"Thank you very much i added try and catch and now it works without any errors."},{"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"score":0,"creation_date":1667996052,"post_id":30701904,"comment_id":131299763,"body_markdown":"Double.parseDouble(&quot;179769313486231570814527423731704356798070567525844996598917476803157260780028538760589558632766878171540458953514382464234321326889464182768467546703537516986049910576551282076245490090389328944075868508455133942304583236903222948165808559332123348274797826204144723168738177180919299881250404026184124858371&quot;); wont works as it not throws any exception","body":"Double.parseDouble(&quot;1797693134862315708145274237317043567980&zwnj;&#8203;70567525844996598917&zwnj;&#8203;47680315726078002853&zwnj;&#8203;87605895586327668781&zwnj;&#8203;71540458953514382464&zwnj;&#8203;23432132688946418276&zwnj;&#8203;84675467035375169860&zwnj;&#8203;49910576551282076245&zwnj;&#8203;49009038932894407586&zwnj;&#8203;85084551339423045832&zwnj;&#8203;36903222948165808559&zwnj;&#8203;33212334827479782620&zwnj;&#8203;41447231687381771809&zwnj;&#8203;19299881250404026184&zwnj;&#8203;124858371&quot;); wont works as it not throws any exception"}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1433742526,"creation_date":1433741922,"answer_id":30701904,"question_id":30701852,"body_markdown":"`Long.parseLong` throws a `NumberFormatException` if you pass to it a number that can&#39;t be parsed as long. You can catch that exception and try to parse it as a `BigInteger`. If you succeed, you&#39;ll know that the input is a valid number that simply doesn&#39;t fit as long.\r\n\r\nFor example :\r\n\r\n        try {\r\n          System.out.println(&quot;Valid Long: &quot; + Long.parseLong(&quot;1234567890123456789012345&quot;));\r\n        } catch (NumberFormatException n) {\r\n          System.out.println(&quot;Valid Big Integer: &quot; + new BigInteger (&quot;1234567890123456789012345&quot;).toString());\r\n        }\r\n\r\nThis prints :\r\n\r\n    Valid Big Integer: 1234567890123456789012345\r\n\r\nwhich means 1234567890123456789012345 is not a valid long.\r\n\r\nIf the `BigInteger` constructor also throws a `NumberFormatException`, you know that the input can&#39;t be parsed as a valid number (this will happen, for example, if the parsed `String` contains non-numeric characters).","title":"How to check the range that exists beyond Long range in Java?","body":"<p><code>Long.parseLong</code> throws a <code>NumberFormatException</code> if you pass to it a number that can't be parsed as long. You can catch that exception and try to parse it as a <code>BigInteger</code>. If you succeed, you'll know that the input is a valid number that simply doesn't fit as long.</p>\n\n<p>For example :</p>\n\n<pre><code>    try {\n      System.out.println(\"Valid Long: \" + Long.parseLong(\"1234567890123456789012345\"));\n    } catch (NumberFormatException n) {\n      System.out.println(\"Valid Big Integer: \" + new BigInteger (\"1234567890123456789012345\").toString());\n    }\n</code></pre>\n\n<p>This prints :</p>\n\n<pre><code>Valid Big Integer: 1234567890123456789012345\n</code></pre>\n\n<p>which means 1234567890123456789012345 is not a valid long.</p>\n\n<p>If the <code>BigInteger</code> constructor also throws a <code>NumberFormatException</code>, you know that the input can't be parsed as a valid number (this will happen, for example, if the parsed <code>String</code> contains non-numeric characters).</p>\n"},{"comments":[{"owner":{"account_id":5438949,"reputation":1699,"user_id":4327527,"accept_rate":86,"display_name":"Milkmaid"},"score":0,"creation_date":1433742313,"post_id":30701913,"comment_id":49461814,"body_markdown":"Theoretically doesn&#39;t have limit, practically is limited by memory given to JVM. Even better [BigInteger bound](http://stackoverflow.com/a/12693333/4327527)","body":"Theoretically doesn&#39;t have limit, practically is limited by memory given to JVM. Even better <a href=\"http://stackoverflow.com/a/12693333/4327527\">BigInteger bound</a>"}],"tags":[],"owner":{"account_id":6407271,"reputation":1338,"user_id":4968030,"accept_rate":100,"display_name":"Kalyan Chavali"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433742428,"creation_date":1433741984,"answer_id":30701913,"question_id":30701852,"body_markdown":"Use BigInteger and compare it with Long.MAX_VALUE . Practically BigInteger doesn&#39;t have any limit.","title":"How to check the range that exists beyond Long range in Java?","body":"<p>Use BigInteger and compare it with Long.MAX_VALUE . Practically BigInteger doesn't have any limit.</p>\n"},{"tags":[],"owner":{"account_id":6376905,"reputation":4709,"user_id":4947520,"accept_rate":0,"display_name":"Paraneetharan Saravanaperumal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433743710,"creation_date":1433743710,"answer_id":30702230,"question_id":30701852,"body_markdown":"when number exceed Long.MAX_VALUE, Long.parseLong  throws a NumberFormatException [issue][1]\r\nyou can assign variable as BigInteger and compare with Long.MAX_VALUE. \r\n \r\n\r\n    public void check(String data){\r\n\tdata = &quot;1234567890123456789012345&quot;;\r\n\tBigInteger bg = new BigInteger (data);\r\n    \r\n    try{\r\n     //check number is in long.MAX_VALUE\r\n     System.out.println(bg.compareTo(new BigInteger (String.valueOf(Long.MAX_VALUE))));\r\n    }catch (NumberFormatException n) {\r\n        System.out.println(&quot;not a valid number&quot;);\r\n    }}\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25922439/java-long-parselong-throwing-number-format-exception","title":"How to check the range that exists beyond Long range in Java?","body":"<p>when number exceed Long.MAX_VALUE, Long.parseLong  throws a NumberFormatException <a href=\"https://stackoverflow.com/questions/25922439/java-long-parselong-throwing-number-format-exception\">issue</a>\nyou can assign variable as BigInteger and compare with Long.MAX_VALUE. </p>\n\n<pre><code>public void check(String data){\ndata = \"1234567890123456789012345\";\nBigInteger bg = new BigInteger (data);\n\ntry{\n //check number is in long.MAX_VALUE\n System.out.println(bg.compareTo(new BigInteger (String.valueOf(Long.MAX_VALUE))));\n}catch (NumberFormatException n) {\n    System.out.println(\"not a valid number\");\n}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667996109,"creation_date":1667986027,"answer_id":74372562,"question_id":30701852,"body_markdown":"I used as   \r\n\r\n    public  static boolean isNumberLargerThan(Number a, double maxValue) {\r\n            return new BigDecimal(String.valueOf(a.toString())).compareTo(new BigDecimal(maxValue))==1 ? true : false;\r\n        } \r\nOn a note this way is expensive","title":"How to check the range that exists beyond Long range in Java?","body":"<p>I used as</p>\n<pre><code>public  static boolean isNumberLargerThan(Number a, double maxValue) {\n        return new BigDecimal(String.valueOf(a.toString())).compareTo(new BigDecimal(maxValue))==1 ? true : false;\n    } \n</code></pre>\n<p>On a note this way is expensive</p>\n"}],"owner":{"account_id":3164780,"reputation":79,"user_id":2675040,"accept_rate":43,"display_name":"user2675040"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6637,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":30701904,"answer_count":4,"score":6,"last_activity_date":1667996109,"creation_date":1433741643,"question_id":30701852,"body_markdown":"So I want to check the number that is beyond the range of Long Datatype in Java. I have written some code but it does not go beyond the range of Long . What if I have given the number more than range of Long and it is supposed to be print that it is beyond long range or something.\r\nhere is my code :\r\n\r\n\timport java.math.BigInteger;\r\n\timport java.util.Scanner;\r\n\t\r\n\tpublic class Solution {\r\n\t\r\n\t\tpublic void check(String data) {\r\n\t\t\tSystem.out.println(data + &quot; can be fitted in:&quot;);\r\n\t\t\tLong bInt = Long.parseLong(data);\r\n\t\t\tif (bInt &gt;= Byte.MIN_VALUE &amp;&amp; bInt &lt;= Byte.MAX_VALUE) {\r\n\t\t\t\tSystem.out.println(&quot;* byte&quot;);\r\n\t\t\t}\r\n\t\t\tif (bInt &gt;= Short.MIN_VALUE &amp;&amp; bInt &lt;= Short.MAX_VALUE) {\r\n\t\t\t\tSystem.out.println(&quot;* short &quot;);\r\n\t\t\t}\r\n\t\t\tif (bInt &gt;= Integer.MIN_VALUE &amp;&amp; bInt &lt;= Integer.MAX_VALUE) {\r\n\t\t\t\tSystem.out.println(&quot;* int &quot;);\r\n\t\t\t}\r\n\t\t\tif (bInt &gt;= Long.MIN_VALUE &amp;&amp; bInt &lt;= Long.MAX_VALUE) {\r\n\t\t\t\tSystem.out.println(&quot;* long &quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String args[]) {\r\n\t\t\tSolution solution = new Solution();\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\tint data = Integer.parseInt(sc.nextLine());\r\n\t\t\tString[] array = new String[data];\r\n\t\r\n\t\t\tScanner sc1 = new Scanner(System.in);\r\n\t\r\n\t\t\tfor (int i = 0; i &lt; data; i++) {\r\n\t\t\t\tarray[i] = sc1.nextLine();\r\n\t\t\t}\r\n\t\r\n\t\t\tfor (int j = 0; j &lt; array.length; j++) {\r\n\t\t\t\tsolution.check(array[j]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nwith the help of `Eran` i changed the code slightly and it works.\r\n\r\n**Updated code :**\r\n\r\n\timport java.math.BigInteger;\r\n\timport java.util.Scanner;\r\n\t\r\n\t/**\r\n\t * \r\n\t * @author pez\r\n\t */\r\n\tpublic class Solution {\r\n\t\r\n\t\tpublic void check(String data) {\r\n\t\t\ttry {\r\n\t\t\t\tLong bInt = Long.parseLong(data);\r\n\t\t\t\tSystem.out.println(data + &quot; can be fitted in:&quot;);\r\n\t\t\t\tif (bInt &gt;= Byte.MIN_VALUE &amp;&amp; bInt &lt;= Byte.MAX_VALUE) {\r\n\t\t\t\t\tSystem.out.println(&quot;* byte&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tif (bInt &gt;= Short.MIN_VALUE &amp;&amp; bInt &lt;= Short.MAX_VALUE) {\r\n\t\t\t\t\tSystem.out.println(&quot;* short &quot;);\r\n\t\t\t\t}\r\n\t\t\t\tif (bInt &gt;= Integer.MIN_VALUE &amp;&amp; bInt &lt;= Integer.MAX_VALUE) {\r\n\t\t\t\t\tSystem.out.println(&quot;* int &quot;);\r\n\t\t\t\t}\r\n\t\t\t\tif (bInt &gt;= Long.MIN_VALUE &amp;&amp; bInt &lt;= Long.MAX_VALUE) {\r\n\t\t\t\t\tSystem.out.println(&quot;* long &quot;);\r\n\t\t\t\t}\r\n\t\t\t} catch (NumberFormatException e) {\r\n\t\t\t\tSystem.out.println(data + &quot; can&#39;t be fitted anywhere beyond long &quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String args[]) {\r\n\t\t\tSolution solution = new Solution();\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\tint data = Integer.parseInt(sc.nextLine());\r\n\t\t\tString[] array = new String[data];\r\n\t\r\n\t\t\tScanner sc1 = new Scanner(System.in);\r\n\t\r\n\t\t\tfor (int i = 0; i &lt; data; i++) {\r\n\t\t\t\tarray[i] = sc1.nextLine();\r\n\t\t\t}\r\n\t\r\n\t\t\tfor (int j = 0; j &lt; array.length; j++) {\r\n\t\t\t\tsolution.check(array[j]);\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"How to check the range that exists beyond Long range in Java?","body":"<p>So I want to check the number that is beyond the range of Long Datatype in Java. I have written some code but it does not go beyond the range of Long . What if I have given the number more than range of Long and it is supposed to be print that it is beyond long range or something.\nhere is my code :</p>\n\n<pre><code>import java.math.BigInteger;\nimport java.util.Scanner;\n\npublic class Solution {\n\n    public void check(String data) {\n        System.out.println(data + \" can be fitted in:\");\n        Long bInt = Long.parseLong(data);\n        if (bInt &gt;= Byte.MIN_VALUE &amp;&amp; bInt &lt;= Byte.MAX_VALUE) {\n            System.out.println(\"* byte\");\n        }\n        if (bInt &gt;= Short.MIN_VALUE &amp;&amp; bInt &lt;= Short.MAX_VALUE) {\n            System.out.println(\"* short \");\n        }\n        if (bInt &gt;= Integer.MIN_VALUE &amp;&amp; bInt &lt;= Integer.MAX_VALUE) {\n            System.out.println(\"* int \");\n        }\n        if (bInt &gt;= Long.MIN_VALUE &amp;&amp; bInt &lt;= Long.MAX_VALUE) {\n            System.out.println(\"* long \");\n        }\n    }\n\n    public static void main(String args[]) {\n        Solution solution = new Solution();\n        Scanner sc = new Scanner(System.in);\n        int data = Integer.parseInt(sc.nextLine());\n        String[] array = new String[data];\n\n        Scanner sc1 = new Scanner(System.in);\n\n        for (int i = 0; i &lt; data; i++) {\n            array[i] = sc1.nextLine();\n        }\n\n        for (int j = 0; j &lt; array.length; j++) {\n            solution.check(array[j]);\n        }\n    }\n}\n</code></pre>\n\n<p>with the help of <code>Eran</code> i changed the code slightly and it works.</p>\n\n<p><strong>Updated code :</strong></p>\n\n<pre><code>import java.math.BigInteger;\nimport java.util.Scanner;\n\n/**\n * \n * @author pez\n */\npublic class Solution {\n\n    public void check(String data) {\n        try {\n            Long bInt = Long.parseLong(data);\n            System.out.println(data + \" can be fitted in:\");\n            if (bInt &gt;= Byte.MIN_VALUE &amp;&amp; bInt &lt;= Byte.MAX_VALUE) {\n                System.out.println(\"* byte\");\n            }\n            if (bInt &gt;= Short.MIN_VALUE &amp;&amp; bInt &lt;= Short.MAX_VALUE) {\n                System.out.println(\"* short \");\n            }\n            if (bInt &gt;= Integer.MIN_VALUE &amp;&amp; bInt &lt;= Integer.MAX_VALUE) {\n                System.out.println(\"* int \");\n            }\n            if (bInt &gt;= Long.MIN_VALUE &amp;&amp; bInt &lt;= Long.MAX_VALUE) {\n                System.out.println(\"* long \");\n            }\n        } catch (NumberFormatException e) {\n            System.out.println(data + \" can't be fitted anywhere beyond long \");\n        }\n    }\n\n    public static void main(String args[]) {\n        Solution solution = new Solution();\n        Scanner sc = new Scanner(System.in);\n        int data = Integer.parseInt(sc.nextLine());\n        String[] array = new String[data];\n\n        Scanner sc1 = new Scanner(System.in);\n\n        for (int i = 0; i &lt; data; i++) {\n            array[i] = sc1.nextLine();\n        }\n\n        for (int j = 0; j &lt; array.length; j++) {\n            solution.check(array[j]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","camera","android-camera"],"answers":[{"tags":[],"owner":{"account_id":16816589,"reputation":13,"user_id":12158252,"display_name":"Furkan Meydan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667996037,"creation_date":1667996037,"answer_id":74374707,"question_id":74374384,"body_markdown":"background service is not recommended. You can use foreground service for this job.\r\n\r\nYou need to give media and camera access permission in the code. Then you can run the capture function with n second delay and while loop as many times as you want.\r\n\r\nthere are some examples, i don&#39;t want to repeat them.\r\n[capture, save and show example][1]\r\n[take photo without ui][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5991319/capture-image-from-camera-and-display-in-activity\r\n  [2]: https://stackoverflow.com/questions/17859777/how-to-take-pictures-in-android-application-without-the-user-interface/17859926#17859926","title":"Looking for an easy way to capture images on an Android phone as a background service","body":"<p>background service is not recommended. You can use foreground service for this job.</p>\n<p>You need to give media and camera access permission in the code. Then you can run the capture function with n second delay and while loop as many times as you want.</p>\n<p>there are some examples, i don't want to repeat them.\n<a href=\"https://stackoverflow.com/questions/5991319/capture-image-from-camera-and-display-in-activity\">capture, save and show example</a>\n<a href=\"https://stackoverflow.com/questions/17859777/how-to-take-pictures-in-android-application-without-the-user-interface/17859926#17859926\">take photo without ui</a></p>\n"}],"owner":{"account_id":18857531,"reputation":9,"user_id":13757734,"display_name":"Selfish Stoic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667996037,"creation_date":1667994419,"question_id":74374384,"body_markdown":"I&#39;m trying to create an application that automatically clicks pictures as you carry your phone around, the point is that it clicks pictures as you do your own business.\r\n\r\n[This question][1] is basically what I&#39;m looking for with the added functionality of taking pictures every n seconds. I wanted to know if there was something more efficient than this method (shrinking the preview window to 1x1).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2386025/taking-picture-from-camera-without-preview?noredirect=1&amp;lq=1","title":"Looking for an easy way to capture images on an Android phone as a background service","body":"<p>I'm trying to create an application that automatically clicks pictures as you carry your phone around, the point is that it clicks pictures as you do your own business.</p>\n<p><a href=\"https://stackoverflow.com/questions/2386025/taking-picture-from-camera-without-preview?noredirect=1&amp;lq=1\">This question</a> is basically what I'm looking for with the added functionality of taking pictures every n seconds. I wanted to know if there was something more efficient than this method (shrinking the preview window to 1x1).</p>\n"},{"tags":["java","android","android-developer-api","android-mediaprojection","image-reader"],"owner":{"account_id":26824694,"reputation":11,"user_id":20413479,"display_name":"Subham Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667995745,"creation_date":1667969552,"question_id":74370062,"body_markdown":"I am trying to take multiple images but the ImageAvailabeListener function is not moving forward. I guess it is waiting for next image. I tried aquireNextImage() but it is also not working.\r\n\r\nI&#39;m taking images while MediaProjection.\r\n\r\n\r\n    class ImageAvailableListener implements ImageReader.OnImageAvailableListener {\r\n        @Override\r\n        public void onImageAvailable(ImageReader reader) {\r\n            Image image = null;\r\n            FileOutputStream fos = null;\r\n            bitmap = null;\r\n            try {\r\n                image = mImageReader.acquireLatestImage();\r\n                Log.d(&quot;servicecheck&quot;, &quot;image&quot; + image);\r\n                Log.d(&quot;imagecheck&quot;, &quot;&quot; + image);\r\n                if (image != null) {\r\n                   \r\n\r\n                    Image.Plane[] planes = image.getPlanes();\r\n                    ByteBuffer buffer = planes[2].getBuffer();\r\n                    int pixelStride = planes[2].getPixelStride();\r\n                    int rowStride = planes[2].getRowStride();\r\n                    int rowPadding = rowStride - pixelStride * mWidth;\r\n\r\n                    // create bitmap\r\n                    bitmap = Bitmap.createBitmap(mWidth + rowPadding / pixelStride, mHeight, Bitmap.Config.ARGB_8888);\r\n                    \r\n                    bitmap.copyPixelsFromBuffer(buffer);\r\n                   \r\n                    // fix the extra width from Image\r\n                    Bitmap croppedBitmap;\r\n                    try {\r\n                        croppedBitmap = Bitmap.createBitmap(bitmap, 0, 0, mWidth, mHeight);\r\n                    } catch (OutOfMemoryError e) {\r\n                       \r\n                        croppedBitmap = bitmap;\r\n                    }\r\n                    if (croppedBitmap != bitmap) {\r\n                        bitmap.recycle();\r\n                    }\r\n\r\n                    // write bitmap to a file\r\n                   \r\n                    storeDirectory = new File(mStoreDir);\r\n                    storeDirectory.mkdir();\r\n                 \r\n\r\n                    fos = new FileOutputStream(storeDirectory.getAbsolutePath() + &quot;/myscreen_&quot; + Calendar.getInstance().getTime() + &quot;.png&quot;);\r\n                    croppedBitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos);\r\n                \r\n\r\n                    //IMAGES_PRODUCED++;\r\n                    fos.flush();\r\n                    fos.close();\r\n                    \r\n                    stopProjection();\r\n                    stopSelf();\r\n                    scanFile(getApplicationContext(), Uri.fromFile(storeDirectory));\r\n                    Log.d(&quot;stoptaskcheck&quot;, &quot;stopSelf&quot;);\r\n\r\n                } else {\r\n                    Log.d(&quot;servicecheck&quot;, &quot;null image&quot; + image);\r\n\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                if (bitmap != null) {\r\n                    bitmap.recycle();\r\n                }\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n//In the below function I have created set maxImages to 20(more than 1)\r\n\r\n    @SuppressLint(&quot;WrongConstant&quot;)\r\n    private void createVirtualDisplay() {\r\n\r\n        // start capture reader\r\n\r\n        mImageReader = ImageReader.newInstance(mWidth, mHeight, PixelFormat.RGBA_8888, 20);\r\n        mVirtualDisplay = mMediaProjection.createVirtualDisplay(SCREENCAP_NAME, mWidth, mHeight,\r\n                mDensity, getVirtualDisplayFlags(), mImageReader.getSurface(), null, null);\r\n        mImageReader.setOnImageAvailableListener(new ImageAvailableListener(), null);\r\n    }\r\n\r\n","title":"In Android how can I take multiple images using ImageReader class","body":"<p>I am trying to take multiple images but the ImageAvailabeListener function is not moving forward. I guess it is waiting for next image. I tried aquireNextImage() but it is also not working.</p>\n<p>I'm taking images while MediaProjection.</p>\n<pre><code>class ImageAvailableListener implements ImageReader.OnImageAvailableListener {\n    @Override\n    public void onImageAvailable(ImageReader reader) {\n        Image image = null;\n        FileOutputStream fos = null;\n        bitmap = null;\n        try {\n            image = mImageReader.acquireLatestImage();\n            Log.d(&quot;servicecheck&quot;, &quot;image&quot; + image);\n            Log.d(&quot;imagecheck&quot;, &quot;&quot; + image);\n            if (image != null) {\n               \n\n                Image.Plane[] planes = image.getPlanes();\n                ByteBuffer buffer = planes[2].getBuffer();\n                int pixelStride = planes[2].getPixelStride();\n                int rowStride = planes[2].getRowStride();\n                int rowPadding = rowStride - pixelStride * mWidth;\n\n                // create bitmap\n                bitmap = Bitmap.createBitmap(mWidth + rowPadding / pixelStride, mHeight, Bitmap.Config.ARGB_8888);\n                \n                bitmap.copyPixelsFromBuffer(buffer);\n               \n                // fix the extra width from Image\n                Bitmap croppedBitmap;\n                try {\n                    croppedBitmap = Bitmap.createBitmap(bitmap, 0, 0, mWidth, mHeight);\n                } catch (OutOfMemoryError e) {\n                   \n                    croppedBitmap = bitmap;\n                }\n                if (croppedBitmap != bitmap) {\n                    bitmap.recycle();\n                }\n\n                // write bitmap to a file\n               \n                storeDirectory = new File(mStoreDir);\n                storeDirectory.mkdir();\n             \n\n                fos = new FileOutputStream(storeDirectory.getAbsolutePath() + &quot;/myscreen_&quot; + Calendar.getInstance().getTime() + &quot;.png&quot;);\n                croppedBitmap.compress(Bitmap.CompressFormat.JPEG, 100, fos);\n            \n\n                //IMAGES_PRODUCED++;\n                fos.flush();\n                fos.close();\n                \n                stopProjection();\n                stopSelf();\n                scanFile(getApplicationContext(), Uri.fromFile(storeDirectory));\n                Log.d(&quot;stoptaskcheck&quot;, &quot;stopSelf&quot;);\n\n            } else {\n                Log.d(&quot;servicecheck&quot;, &quot;null image&quot; + image);\n\n            }\n\n        } catch (Exception e) {\n            if (bitmap != null) {\n                bitmap.recycle();\n            }\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n<p>//In the below function I have created set maxImages to 20(more than 1)</p>\n<pre><code>@SuppressLint(&quot;WrongConstant&quot;)\nprivate void createVirtualDisplay() {\n\n    // start capture reader\n\n    mImageReader = ImageReader.newInstance(mWidth, mHeight, PixelFormat.RGBA_8888, 20);\n    mVirtualDisplay = mMediaProjection.createVirtualDisplay(SCREENCAP_NAME, mWidth, mHeight,\n            mDensity, getVirtualDisplayFlags(), mImageReader.getSurface(), null, null);\n    mImageReader.setOnImageAvailableListener(new ImageAvailableListener(), null);\n}\n</code></pre>\n"},{"tags":["java","junit","jetty","embedded-jetty"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1668010058,"post_id":74373306,"comment_id":131305242,"body_markdown":"The answer depends on ... who is using this runtime configuration? (Jetty? your webapp? your 3rd party deps?) and how? (via `System.getProperty()`? or servlet APIs? or other?)","body":"The answer depends on ... who is using this runtime configuration? (Jetty? your webapp? your 3rd party deps?) and how? (via <code>System.getProperty()</code>? or servlet APIs? or other?)"}],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667995571,"creation_date":1667989604,"question_id":74373306,"body_markdown":"I&#39;m using Jetty server to test my app in junit tests. I need to set some properties in tests which my app use. I&#39;m using some standart configuration for Jetty server:\r\n```\r\nServer server = new Server(0);\r\nWebAppContext webAppContext = new WebAppContext();\r\nwebAppContext.setResourceBase(&quot;some path&quot;);\r\nserver.setHandler(webAppContext);\r\n```\r\nIn my tests I just add required properties to System.property as:\r\n\r\n    System.setProperty(&quot;myProperty&quot;, &quot;propertyValue&quot;);\r\n\r\nAnd my app in jetty server use it. But I want don&#39;t add these props to System properties. How I can configure jetty server to use these props from another source? I tried to add props as :\r\n\r\n```\r\nwebAppContext.getInitParams().putAll(Map.of(&quot;...&quot;,&quot;...&quot;,....);\r\n```\r\n\r\nBut it doesn&#39;t work.","title":"How to set temporary System.property for Jetty server in test","body":"<p>I'm using Jetty server to test my app in junit tests. I need to set some properties in tests which my app use. I'm using some standart configuration for Jetty server:</p>\n<pre><code>Server server = new Server(0);\nWebAppContext webAppContext = new WebAppContext();\nwebAppContext.setResourceBase(&quot;some path&quot;);\nserver.setHandler(webAppContext);\n</code></pre>\n<p>In my tests I just add required properties to System.property as:</p>\n<pre><code>System.setProperty(&quot;myProperty&quot;, &quot;propertyValue&quot;);\n</code></pre>\n<p>And my app in jetty server use it. But I want don't add these props to System properties. How I can configure jetty server to use these props from another source? I tried to add props as :</p>\n<pre><code>webAppContext.getInitParams().putAll(Map.of(&quot;...&quot;,&quot;...&quot;,....);\n</code></pre>\n<p>But it doesn't work.</p>\n"},{"tags":["java","spring","spring-boot","ssl"],"comments":[{"owner":{"account_id":5559956,"reputation":13829,"user_id":9840318,"display_name":"Madhu Bhat"},"score":4,"creation_date":1565271649,"post_id":57411516,"comment_id":101308100,"body_markdown":"Replace `server.ssl.key-password` with `server.ssl.key-store-password`","body":"Replace <code>server.ssl.key-password</code> with <code>server.ssl.key-store-password</code>"},{"owner":{"account_id":15615151,"reputation":2202,"user_id":11265540,"display_name":"Tenusha Guruge"},"score":0,"creation_date":1565272987,"post_id":57411516,"comment_id":101308945,"body_markdown":"@MadhuBhat Thanks for the help, after changing property as you said the server get started but I&#39; getting error `The client and server don&#39;t support a common SSL protocol version or cipher suite.` in the browser. I think it&#39;s some issue with the certificate signin. Anyway thanks for the help.","body":"@MadhuBhat Thanks for the help, after changing property as you said the server get started but I&#39; getting error <code>The client and server don&#39;t support a common SSL protocol version or cipher suite.</code> in the browser. I think it&#39;s some issue with the certificate signin. Anyway thanks for the help."},{"owner":{"account_id":5559956,"reputation":13829,"user_id":9840318,"display_name":"Madhu Bhat"},"score":0,"creation_date":1565281647,"post_id":57411516,"comment_id":101313831,"body_markdown":"cheers happy to help :)","body":"cheers happy to help :)"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668288891,"post_id":74374582,"comment_id":131370429,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74374582/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26877896,"reputation":1,"user_id":20458836,"display_name":"Akshay Khandagale"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667995417,"creation_date":1667995417,"answer_id":74374582,"question_id":57411516,"body_markdown":"Please check certificate format, some time format is not properly arrange. Open certificate in Notepad and check it properly arranged or not.if not arrange it properly and then try.","title":"Configure SSL certificate in JKS Format - Spring Boot","body":"<p>Please check certificate format, some time format is not properly arrange. Open certificate in Notepad and check it properly arranged or not.if not arrange it properly and then try.</p>\n"}],"owner":{"account_id":15615151,"reputation":2202,"user_id":11265540,"display_name":"Tenusha Guruge"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667995417,"creation_date":1565263681,"question_id":57411516,"body_markdown":"I have created a keystore using following command\r\n```\r\nkeytool -keystore clientkeystore -genkey -alias client\r\n```\r\nThe I created CSR as follows,\r\n```\r\nkeytool -keystore clientkeystore -certreq -alias client -keyalg rsa -file client.csr\r\n```\r\nThen I have signed that `csr` from https://getacert.com/signacert.html and added the `cer` to the keystore\r\n```\r\nkeytool -import -keystore clientkeystore -file CARoot.cer -alias theCARoot\r\nkeytool -import -keystore clientkeystore -file client.cer -alias client\r\n```\r\nIn my spring `application.properties` I have following configurations,\r\n```\r\nserver.port=8443\r\n\r\nserver.ssl.enabled=true\r\nserver.ssl.key-alias=client\r\nserver.ssl.key-store-type=JKS\r\nserver.ssl.key-password=********\r\nserver.ssl.key-store=classpath:clientkeystore\r\n```\r\nI&#39;m getting the following error when running the spring boot application\r\n```\r\norg.apache.catalina.LifecycleException: Protocol handler start failed\r\n\tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1008) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) [tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:263) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:195) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:297) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:163) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:552) [spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:743) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:390) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1214) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1203) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\r\n\tat com.example.demo.HttpsDemoApplication.main(HttpsDemoApplication.java:10) [classes/:na]\r\nCaused by: java.lang.IllegalArgumentException: Private key must be accompanied by certificate chain\r\n\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:218) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1124) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1210) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:585) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.catalina.connector.Connector.startInternal(Connector.java:1005) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\t... 14 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Private key must be accompanied by certificate chain\r\n\tat java.security.KeyStore.setKeyEntry(KeyStore.java:1136) ~[na:1.8.0_144]\r\n\tat org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:354) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\tat org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\r\n\t... 20 common frames omitted\r\n\r\n2019-08-08 16:35:53.004  INFO 21040 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2019-08-08 16:35:53.011  INFO 21040 --- [           main] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2019-08-08 16:35:53.014 ERROR 21040 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nThe Tomcat connector configured to listen on port 8443 failed to start. The port may already be in use or the connector may be misconfigured.\r\n\r\nAction:\r\n\r\nVerify the connector&#39;s configuration, identify and stop any process that&#39;s listening on port 8443, or configure this application to listen on another port.\r\n\r\n2019-08-08 16:35:53.017  INFO 21040 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService &#39;applicationTaskExecutor&#39;\r\n```\r\nNOTE: once I remove properties from `application.properties` the application will start normally (there is no problem in the port)","title":"Configure SSL certificate in JKS Format - Spring Boot","body":"<p>I have created a keystore using following command</p>\n\n<pre><code>keytool -keystore clientkeystore -genkey -alias client\n</code></pre>\n\n<p>The I created CSR as follows,</p>\n\n<pre><code>keytool -keystore clientkeystore -certreq -alias client -keyalg rsa -file client.csr\n</code></pre>\n\n<p>Then I have signed that <code>csr</code> from <a href=\"https://getacert.com/signacert.html\" rel=\"nofollow noreferrer\">https://getacert.com/signacert.html</a> and added the <code>cer</code> to the keystore</p>\n\n<pre><code>keytool -import -keystore clientkeystore -file CARoot.cer -alias theCARoot\nkeytool -import -keystore clientkeystore -file client.cer -alias client\n</code></pre>\n\n<p>In my spring <code>application.properties</code> I have following configurations,</p>\n\n<pre><code>server.port=8443\n\nserver.ssl.enabled=true\nserver.ssl.key-alias=client\nserver.ssl.key-store-type=JKS\nserver.ssl.key-password=********\nserver.ssl.key-store=classpath:clientkeystore\n</code></pre>\n\n<p>I'm getting the following error when running the spring boot application</p>\n\n<pre><code>org.apache.catalina.LifecycleException: Protocol handler start failed\n    at org.apache.catalina.connector.Connector.startInternal(Connector.java:1008) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.core.StandardService.addConnector(StandardService.java:227) [tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.addPreviouslyRemovedConnectors(TomcatWebServer.java:263) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.start(TomcatWebServer.java:195) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.startWebServer(ServletWebServerApplicationContext.java:297) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.finishRefresh(ServletWebServerApplicationContext.java:163) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:552) [spring-context-5.1.9.RELEASE.jar:5.1.9.RELEASE]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:743) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:390) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1214) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1203) [spring-boot-2.1.7.RELEASE.jar:2.1.7.RELEASE]\n    at com.example.demo.HttpsDemoApplication.main(HttpsDemoApplication.java:10) [classes/:na]\nCaused by: java.lang.IllegalArgumentException: Private key must be accompanied by certificate chain\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:99) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.initialiseSsl(AbstractJsseEndpoint.java:71) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.util.net.NioEndpoint.bind(NioEndpoint.java:218) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.util.net.AbstractEndpoint.bindWithCleanup(AbstractEndpoint.java:1124) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:1210) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:585) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.catalina.connector.Connector.startInternal(Connector.java:1005) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    ... 14 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Private key must be accompanied by certificate chain\n    at java.security.KeyStore.setKeyEntry(KeyStore.java:1136) ~[na:1.8.0_144]\n    at org.apache.tomcat.util.net.SSLUtilBase.getKeyManagers(SSLUtilBase.java:354) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.util.net.SSLUtilBase.createSSLContext(SSLUtilBase.java:247) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    at org.apache.tomcat.util.net.AbstractJsseEndpoint.createSSLContext(AbstractJsseEndpoint.java:97) ~[tomcat-embed-core-9.0.22.jar:9.0.22]\n    ... 20 common frames omitted\n\n2019-08-08 16:35:53.004  INFO 21040 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2019-08-08 16:35:53.011  INFO 21040 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2019-08-08 16:35:53.014 ERROR 21040 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe Tomcat connector configured to listen on port 8443 failed to start. The port may already be in use or the connector may be misconfigured.\n\nAction:\n\nVerify the connector's configuration, identify and stop any process that's listening on port 8443, or configure this application to listen on another port.\n\n2019-08-08 16:35:53.017  INFO 21040 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'\n</code></pre>\n\n<p>NOTE: once I remove properties from <code>application.properties</code> the application will start normally (there is no problem in the port)</p>\n"},{"tags":["java","oop","caching","dependency-injection"],"answers":[{"comments":[{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":0,"creation_date":1670266597,"post_id":74374579,"comment_id":131832066,"body_markdown":"This solution will not work because if &#39;longRunningMethod()&#39; is called by A, &#39;wasCalled&#39; value is still &#39;false&#39; and if the method is called by B while &#39;longRunningMethod&#39; is still &quot;running&quot;,  the &#39;longRunningMethod&#39; will be executed also","body":"This solution will not work because if &#39;longRunningMethod()&#39; is called by A, &#39;wasCalled&#39; value is still &#39;false&#39; and if the method is called by B while &#39;longRunningMethod&#39; is still &quot;running&quot;,  the &#39;longRunningMethod&#39; will be executed also"}],"tags":[],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667995398,"creation_date":1667995398,"answer_id":74374579,"question_id":74373311,"body_markdown":"```\r\npublic class C{\r\n    private boolean wasCalled = false;\r\n    private int cachedValue;\r\n\r\n    public int longRunningMethod(){\r\n        if (!wasCalled) {\r\n            // do your long running job here and set result to cachedValue\r\n            wasCalled = true;\r\n        }\r\n        return cachedValue;\r\n    }\r\n}\r\n```\r\n","title":"Caching techniques for objects","body":"<pre><code>public class C{\n    private boolean wasCalled = false;\n    private int cachedValue;\n\n    public int longRunningMethod(){\n        if (!wasCalled) {\n            // do your long running job here and set result to cachedValue\n            wasCalled = true;\n        }\n        return cachedValue;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8385212,"reputation":257,"user_id":6537259,"display_name":"peer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667995398,"creation_date":1667989650,"question_id":74373311,"body_markdown":"Suppose i have classes `A`,`B`,`C`. `C` has a method `longRunningMethod`, which takes a long time to run and returns an `int`. Classes `A` and `B` both have `C` as a dependency and need to call method `longRunningMethod`: \r\n```\r\npublic class A{\r\n\tprivate C c;\r\n\tpublic A(C c){\r\n\t\tthis.c = c;\r\n\t}\r\n\t\r\n\tpublic void method1(){\r\n\t\tthis.c.longRunningMethod();\r\n\t}\r\n}\r\n```\r\n```\r\npublic class B{\r\n\tprivate C c;\r\n\tpublic A(C c){\r\n\t\tthis.c = c;\r\n\t}\r\n\t\r\n\tpublic void method2(){\r\n\t\tthis.c.longRunningMethod();\r\n\t}\r\n}\r\n```\r\n```\r\npublic class C{\r\n\t\r\n\tpublic int longRunningMethod(){\r\n\t\t...\r\n\t}\r\n}\r\n```\r\n```\r\npublic class MyProgram{\r\n\r\n\tpublic static void main(String[] args){\r\n\t\tC c = new C();\r\n\t\tA a = new A(c);\r\n\t\tB b = new B(c);\r\n\t\ta.method1();\r\n\t\tb.method2()//avoid calling c.longRunningMethod();\r\n\t}\r\n}\r\n```\r\nWhat approaches can be taken to avoid calling `longRunningMethod` twice? Of course, the simple approach is to change the constructor argument of `A` and `B` to `int` and call `longRunningMethod` once in `MyProgram`. But then, it is not that obvious to what to pass to `A` and `B` (which `int`s are allowed?). ","title":"Caching techniques for objects","body":"<p>Suppose i have classes <code>A</code>,<code>B</code>,<code>C</code>. <code>C</code> has a method <code>longRunningMethod</code>, which takes a long time to run and returns an <code>int</code>. Classes <code>A</code> and <code>B</code> both have <code>C</code> as a dependency and need to call method <code>longRunningMethod</code>:</p>\n<pre><code>public class A{\n    private C c;\n    public A(C c){\n        this.c = c;\n    }\n    \n    public void method1(){\n        this.c.longRunningMethod();\n    }\n}\n</code></pre>\n<pre><code>public class B{\n    private C c;\n    public A(C c){\n        this.c = c;\n    }\n    \n    public void method2(){\n        this.c.longRunningMethod();\n    }\n}\n</code></pre>\n<pre><code>public class C{\n    \n    public int longRunningMethod(){\n        ...\n    }\n}\n</code></pre>\n<pre><code>public class MyProgram{\n\n    public static void main(String[] args){\n        C c = new C();\n        A a = new A(c);\n        B b = new B(c);\n        a.method1();\n        b.method2()//avoid calling c.longRunningMethod();\n    }\n}\n</code></pre>\n<p>What approaches can be taken to avoid calling <code>longRunningMethod</code> twice? Of course, the simple approach is to change the constructor argument of <code>A</code> and <code>B</code> to <code>int</code> and call <code>longRunningMethod</code> once in <code>MyProgram</code>. But then, it is not that obvious to what to pass to <code>A</code> and <code>B</code> (which <code>int</code>s are allowed?).</p>\n"},{"tags":["java","database","spring-boot","loops","arraylist"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1667479404,"post_id":74301768,"comment_id":131179223,"body_markdown":"1. the description is too long and meandering. please edit the question and specify expected result. 2, post should contain only one question","body":"1. the description is too long and meandering. please edit the question and specify expected result. 2, post should contain only one question"},{"owner":{"account_id":25464408,"reputation":81,"user_id":19263679,"display_name":"Kayd Anderson"},"score":0,"creation_date":1667491221,"post_id":74301768,"comment_id":131184175,"body_markdown":"My apologies but I&#39;ve seen much longer descriptions on here, I&#39;ve added a question.","body":"My apologies but I&#39;ve seen much longer descriptions on here, I&#39;ve added a question."}],"answers":[{"comments":[{"owner":{"account_id":25464408,"reputation":81,"user_id":19263679,"display_name":"Kayd Anderson"},"score":0,"creation_date":1667552010,"post_id":74311230,"comment_id":131197594,"body_markdown":"In that line I save an EmployeeProejct, so before the loop I save a new Employee, then there is existing Project (with a checkbox) and next to the checkbox is a textfield to add employeeBookedMonths. So I thought if there is a list of months and a list of projects I could loop through and add them to the EmployeeProject. I&#39;ve added the html if that helps. I open to a better way.","body":"In that line I save an EmployeeProejct, so before the loop I save a new Employee, then there is existing Project (with a checkbox) and next to the checkbox is a textfield to add employeeBookedMonths. So I thought if there is a list of months and a list of projects I could loop through and add them to the EmployeeProject. I&#39;ve added the html if that helps. I open to a better way."}],"tags":[],"owner":{"account_id":17094621,"reputation":114,"user_id":12369894,"display_name":"Lucas Favaro Borsatto"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667525442,"creation_date":1667525442,"answer_id":74311230,"question_id":74301768,"body_markdown":"In this line:\r\n```\r\nemployeeProjectService.saveEmployeeProject(employee, ids, month);\r\n```\r\nit was supposed to save ```employee``` or ```employeeProject```?\r\nBecause in the code you didn&#39;t use the variable ```employeeProject``` explicitly. Where it was supposed to be saved?","title":"For loop on 2 lists and add to an object","body":"<p>In this line:</p>\n<pre><code>employeeProjectService.saveEmployeeProject(employee, ids, month);\n</code></pre>\n<p>it was supposed to save <code>employee</code> or <code>employeeProject</code>?\nBecause in the code you didn't use the variable <code>employeeProject</code> explicitly. Where it was supposed to be saved?</p>\n"},{"comments":[{"owner":{"account_id":25464408,"reputation":81,"user_id":19263679,"display_name":"Kayd Anderson"},"score":0,"creation_date":1667672265,"post_id":74324661,"comment_id":131224166,"body_markdown":"Thanks for replying. I added the Employee, Project and EmployeeProject entities. I tried what you said and it just prints out a listOfEmployeeProjects with 3 x EmployeeProjects all the same with the last employeeBooked months entered (in this case) 5.5. Here is one: ```listOfEmployeeProjects[EmployeeProject{id=null, employee=Employee{id=5, name=&#39;Test Employee&#39;, contractedFrom=&#39;2022-11-20&#39;, contractedTo=&#39;2022-12-10&#39;, employeeProjects=[]}, project=null, employeeBookedMonths=5.5}]```","body":"Thanks for replying. I added the Employee, Project and EmployeeProject entities. I tried what you said and it just prints out a listOfEmployeeProjects with 3 x EmployeeProjects all the same with the last employeeBooked months entered (in this case) 5.5. Here is one: <code>listOfEmployeeProjects[EmployeeProject{id=null, employee=Employee{id=5, name=&#39;Test Employee&#39;, contractedFrom=&#39;2022-11-20&#39;, contractedTo=&#39;2022-12-10&#39;, employeeProjects=[]}, project=null, employeeBookedMonths=5.5}]</code>"},{"owner":{"account_id":17094621,"reputation":114,"user_id":12369894,"display_name":"Lucas Favaro Borsatto"},"score":0,"creation_date":1667858287,"post_id":74324661,"comment_id":131263966,"body_markdown":"Maybe it&#39;s because you used:  ```private Set&lt;EmployeeProject&gt; employeeProjects = new HashSet&lt;&gt;(); ``` . Try to use just: ```private Set&lt;EmployeeProject&gt; employeeProjects;``` either in classes ```Project``` and ```Employee```. Inside the class ```EmployeeProject```  implement the ```equals()``` and  ```hashCode()``` methods based in all fields of this class - it&#39;s necessary in order to java differentiate the EmployeeProject objects.","body":"Maybe it&#39;s because you used:  <code>private Set&lt;EmployeeProject&gt; employeeProjects = new HashSet&lt;&gt;(); </code> . Try to use just: <code>private Set&lt;EmployeeProject&gt; employeeProjects;</code> either in classes <code>Project</code> and <code>Employee</code>. Inside the class <code>EmployeeProject</code>  implement the <code>equals()</code> and  <code>hashCode()</code> methods based in all fields of this class - it&#39;s necessary in order to java differentiate the EmployeeProject objects."}],"tags":[],"owner":{"account_id":17094621,"reputation":114,"user_id":12369894,"display_name":"Lucas Favaro Borsatto"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667615430,"creation_date":1667615430,"answer_id":74324661,"question_id":74301768,"body_markdown":"Did you consider that you&#39;re declaring ``` EmployeeProject employeeProject = new EmployeeProject(employee);``` inside  ``` if (projectIds != null) {``` scope, so if you do println in the ```employeeProject```, right above ```return &quot;redirect:/ines/employees&quot;;``` (outside the scope) you won&#39;t see it? In order to don&#39;t loose the data you need to declare ```employeeProject``` at the beginning of the method.\r\n\r\nThe follow code could correct this:\r\n```java\r\n    public String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee,\r\n                               @RequestParam(&quot;projectId&quot;) List&lt;Project&gt; projectIds,\r\n                               @RequestParam(&quot;employeeProjectMonths&quot;) List&lt;Double&gt; months) {\r\n        List&lt;EmployeeProject&gt; listOfEmployeeProjects = ArrayList&lt;&gt;();\r\n        List&lt;Double&gt; monthList = new ArrayList&lt;&gt;();\r\n        for (Double month : months) {\r\n            if (month != null) {\r\n                monthList.add(month);\r\n                System.out.println(&quot;Month:&quot; + month);\r\n            }\r\n        }\r\n        employeeService.saveEmployee(employee);\r\n        if (projectIds != null) {\r\n            EmployeeProject employeeProject = new EmployeeProject(employee);\r\n            for (Project ids : projectIds) {\r\n                for (Double month : monthList) {\r\n                    employeeProject.setEmployeeBookedMonths(month);\r\n                    System.out.println(&quot;Months: &quot; + employeeProject.getEmployeeBookedMonths());\r\n                    employeeProjectService.saveEmployeeProject(employee, ids, month);\r\n                }\r\n            }\r\n\t    listOfEmployeeProjects.add(employeeProject);\r\n        }\r\n\t//Here you might see the data inside listOfEmployeeProjects, once it was declared in a outter scope\r\n   //Maybe do a assign of your data to other field, for example: \r\n   // mainData.setAllOfTheEmployeeProjects(listOfEmployeeProjects);\r\n        return &quot;redirect:/ines/employees&quot;;\r\n    }\r\n```\r\nDid it help? If didn&#39;t please post the rest of your code.","title":"For loop on 2 lists and add to an object","body":"<p>Did you consider that you're declaring <code> EmployeeProject employeeProject = new EmployeeProject(employee);</code> inside  <code> if (projectIds != null) {</code> scope, so if you do println in the <code>employeeProject</code>, right above <code>return &quot;redirect:/ines/employees&quot;;</code> (outside the scope) you won't see it? In order to don't loose the data you need to declare <code>employeeProject</code> at the beginning of the method.</p>\n<p>The follow code could correct this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee,\n                               @RequestParam(&quot;projectId&quot;) List&lt;Project&gt; projectIds,\n                               @RequestParam(&quot;employeeProjectMonths&quot;) List&lt;Double&gt; months) {\n        List&lt;EmployeeProject&gt; listOfEmployeeProjects = ArrayList&lt;&gt;();\n        List&lt;Double&gt; monthList = new ArrayList&lt;&gt;();\n        for (Double month : months) {\n            if (month != null) {\n                monthList.add(month);\n                System.out.println(&quot;Month:&quot; + month);\n            }\n        }\n        employeeService.saveEmployee(employee);\n        if (projectIds != null) {\n            EmployeeProject employeeProject = new EmployeeProject(employee);\n            for (Project ids : projectIds) {\n                for (Double month : monthList) {\n                    employeeProject.setEmployeeBookedMonths(month);\n                    System.out.println(&quot;Months: &quot; + employeeProject.getEmployeeBookedMonths());\n                    employeeProjectService.saveEmployeeProject(employee, ids, month);\n                }\n            }\n        listOfEmployeeProjects.add(employeeProject);\n        }\n    //Here you might see the data inside listOfEmployeeProjects, once it was declared in a outter scope\n   //Maybe do a assign of your data to other field, for example: \n   // mainData.setAllOfTheEmployeeProjects(listOfEmployeeProjects);\n        return &quot;redirect:/ines/employees&quot;;\n    }\n</code></pre>\n<p>Did it help? If didn't please post the rest of your code.</p>\n"},{"tags":[],"owner":{"account_id":25464408,"reputation":81,"user_id":19263679,"display_name":"Kayd Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667995314,"creation_date":1667995314,"answer_id":74374561,"question_id":74301768,"body_markdown":"Its not the prettiest but it works, I feel a bit dumb after this one but if anyone has a more elegant approach I&#39;m happy to see it.\r\n```\r\n@PostMapping(&quot;/saveEmployee&quot;)\r\n\tpublic String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee,\r\n\t\t\t\t\t\t\t   @RequestParam(&quot;projectId&quot;) List&lt;Project&gt; projectIds,\r\n\t\t\t\t\t\t\t   @RequestParam(&quot;employeeProjectMonths&quot;) List&lt;Double&gt; months) {\r\n\r\n\t\tList&lt;Double&gt; monthList = new ArrayList&lt;&gt;();\r\n\t\tfor (Double month : months) {\r\n\t\t\tif (month != null) {\r\n\t\t\t\tmonthList.add(month);\r\n\t\t\t\tSystem.out.println(&quot;Month:&quot; + month);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tList&lt;Project&gt; projectList = new ArrayList&lt;&gt;();\r\n\t\tfor (Project project : projectIds) {\r\n\t\t\tif (project != null) {\r\n\t\t\t\tprojectList.add(project);\r\n\t\t\t\tSystem.out.println(&quot;Project:&quot; + project);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\temployeeService.saveEmployee(employee);\r\n\t\tfor (int i=0; i&lt;= monthList.size(); i++) {\r\n\t\t\tEmployeeProject employeeProject = new EmployeeProject(employee);\r\n\t\t\temployeeProject.setEmployeeBookedMonths(monthList.get(i));\r\n\t\t\temployeeProject.setProject(new Project(projectList.get(i).getId()));\r\n\t\t\temployeeProjectService.saveEmployeeProjectEmployeeOnly(employeeProject);\r\n\t\t}\r\n\t\treturn &quot;redirect:/ines/employees&quot;;\r\n\t}\r\n```\r\n\r\nThe problem was I was getting the list of projectIds which also had the null values (not selected ones), so I had to create a list of the projects then use the i loop to set each Project and employeeProjectMonths.","title":"For loop on 2 lists and add to an object","body":"<p>Its not the prettiest but it works, I feel a bit dumb after this one but if anyone has a more elegant approach I'm happy to see it.</p>\n<pre><code>@PostMapping(&quot;/saveEmployee&quot;)\n    public String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee,\n                               @RequestParam(&quot;projectId&quot;) List&lt;Project&gt; projectIds,\n                               @RequestParam(&quot;employeeProjectMonths&quot;) List&lt;Double&gt; months) {\n\n        List&lt;Double&gt; monthList = new ArrayList&lt;&gt;();\n        for (Double month : months) {\n            if (month != null) {\n                monthList.add(month);\n                System.out.println(&quot;Month:&quot; + month);\n            }\n        }\n\n        List&lt;Project&gt; projectList = new ArrayList&lt;&gt;();\n        for (Project project : projectIds) {\n            if (project != null) {\n                projectList.add(project);\n                System.out.println(&quot;Project:&quot; + project);\n            }\n        }\n\n        employeeService.saveEmployee(employee);\n        for (int i=0; i&lt;= monthList.size(); i++) {\n            EmployeeProject employeeProject = new EmployeeProject(employee);\n            employeeProject.setEmployeeBookedMonths(monthList.get(i));\n            employeeProject.setProject(new Project(projectList.get(i).getId()));\n            employeeProjectService.saveEmployeeProjectEmployeeOnly(employeeProject);\n        }\n        return &quot;redirect:/ines/employees&quot;;\n    }\n</code></pre>\n<p>The problem was I was getting the list of projectIds which also had the null values (not selected ones), so I had to create a list of the projects then use the i loop to set each Project and employeeProjectMonths.</p>\n"}],"owner":{"account_id":25464408,"reputation":81,"user_id":19263679,"display_name":"Kayd Anderson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74374561,"answer_count":3,"score":1,"last_activity_date":1667995314,"creation_date":1667472267,"question_id":74301768,"body_markdown":"Im looping over two lists and want to add the objects to a custom object. So Im getting an ```Employee``` a list of ```Projects``` and a list of ```Doubles``` from Thymeleaf and save them to a database. I want to save them to the object ```EmployeeProject``` which takes an Employee, a Project and a double (employeeBookedMonths). My problem is I either get the multiple projects saved to the EmployeeProject but all the project months are the same (the last double value one in the list) or I save the multiple projects to the employeeProject with correct employeeBookedMonths but there is dupicates, for example if I save 3 projects with 3 employeeBookedMonths, I get 3 times each saved (so 9 saved). I&#39;ve tried moving the ```employeeProjectService.saveEmployeeProject``` but can&#39;t make it work plus many other variations but I need some help. \r\n\r\nQuestion: how can I loop through the 2 lists and add and them to the EmployeeProject object? Without getting multiples or only getting the last employeeBookedMonths.\r\n\r\nThanks in advance.\r\n\r\nAlso the ```System.println``` prints the wanted values, they just don&#39;t save.\r\n\r\n```@PostMapping(&quot;/saveEmployee&quot;)\r\n\tpublic String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee,\r\n\t\t\t\t\t\t\t   @RequestParam(&quot;projectId&quot;) List&lt;Project&gt; projectIds,\r\n\t\t\t\t\t\t\t   @RequestParam(&quot;employeeProjectMonths&quot;) List&lt;Double&gt; months) {\r\n\t\tList&lt;Double&gt; monthList = new ArrayList&lt;&gt;();\r\n\t\tfor (Double month : months) {\r\n\t\t\tif (month != null) {\r\n\t\t\t\tmonthList.add(month);\r\n\t\t\t\tSystem.out.println(&quot;Month:&quot; + month);\r\n\t\t\t}\r\n\t\t}\r\n\t\temployeeService.saveEmployee(employee);\r\n\t\tif (projectIds != null) {\r\n\t\t\tEmployeeProject employeeProject = new EmployeeProject(employee);\r\n\t\t\tfor (Project ids : projectIds) {\r\n\t\t\t\tfor (Double month : monthList) {\r\n\t\t\t\t\temployeeProject.setEmployeeBookedMonths(month);\r\n\t\t\t\t\tSystem.out.println(&quot;Months: &quot; + employeeProject.getEmployeeBookedMonths());\r\n\t\t\t\t\temployeeProjectService.saveEmployeeProject(employee, ids, month);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn &quot;redirect:/ines/employees&quot;;\r\n\t}\r\n```\r\nNew Employee form\r\n```\r\n&lt;form action=&quot;#&quot; th:action=&quot;@{/ines/saveEmployeeMeeting}&quot; th:object=&quot;${employee}&quot;\r\n\t\t\tmethod=&quot;POST&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t\t\t&lt;label&gt;Email:&lt;/label&gt;\r\n\t\t\t\t&lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;\r\n\t\t\t\t\t   placeholder=&quot;Employee Name&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;th:block th:object=&quot;${meetingInfo}&quot;&gt;\r\n\t\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t\t\t\t&lt;label&gt;Start Time:&lt;/label&gt;\r\n\t\t\t\t\t&lt;div class=&quot;input-group date&quot; id=&quot;datetimepicker1&quot; data-target-input=&quot;nearest&quot;&gt;\r\n\t\t\t\t\t\t&lt;input type=&quot;text&quot; class=&quot;form-control datetimepicker-input&quot;\r\n\t\t\t\t\t\t\t   th:field=&quot;*{meetingStartDateTime}&quot; id=&quot;meetingStartDateTime&quot;/&gt;\r\n\t\t\t\t\t\t&lt;span class=&quot;input-group-addon&quot;&gt;\r\n                            &lt;span class=&quot;glyphicon glyphicon-calendar&quot;&gt;&lt;/span&gt;\r\n                    &lt;/span&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t\t\t\t&lt;label&gt;End Time:&lt;/label&gt;\r\n\t\t\t\t\t&lt;div class=&quot;input-group date&quot; id=&quot;datetimepicker2&quot; data-target-input=&quot;nearest&quot;&gt;\r\n\t\t\t\t\t\t&lt;input type=&quot;text&quot; class=&quot;form-control datetimepicker-input&quot; data-target=&quot;#datetimepicker1&quot;\r\n\t\t\t\t\t\t\t   th:field=&quot;*{meetingEndDateTime}&quot; id=&quot;meetingEndDateTime&quot; placeholder=&quot;Date&quot;/&gt;\r\n\t\t\t\t\t\t&lt;span class=&quot;input-group-addon&quot;&gt;\r\n                            &lt;span class=&quot;glyphicon glyphicon-calendar&quot;&gt;&lt;/span&gt;\r\n                    &lt;/span&gt;\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t\t\t&lt;input type=&quot;text&quot; th:field=&quot;*{message}&quot;\r\n\t\t\t\t\t   placeholder=&quot;Message&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/th:block&gt;\r\n\r\n\t\t\t&lt;button type=&quot;submit&quot; class=&quot;btn btn-info col-2&quot;&gt;Save Employee/Meeting&lt;/button&gt;\r\n\t\t&lt;/form&gt;\r\n```\r\nEmployee\r\n```\r\n@Entity\r\n@Table(name = &quot;employees&quot;)\r\npublic class Employee {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;employee_id&quot;)\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\r\n\t@Column(nullable = false)\r\n\tprivate String name;\r\n\r\n\t@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\r\n\t@Column(name = &quot;contracted_from&quot;)\r\n\tprivate String contractedFrom;\r\n\r\n\t@JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\r\n\t@Column(name = &quot;contracted_to&quot;)\r\n\tprivate String contractedTo;\r\n\r\n\t@OneToMany(mappedBy = &quot;employee&quot;,\r\n\t\t\tcascade = CascadeType.ALL\r\n//\t\t\tfetch=FetchType.EAGER\r\n\t)\r\n\tprivate Set&lt;EmployeeProject&gt; employeeProjects = new HashSet&lt;&gt;();\r\n// constructores getters and setters\r\n```\r\nProject\r\n```\r\n@Entity\r\n@Table(name = &quot;projects&quot;)\r\npublic class Project implements Serializable {\r\n    @Id\r\n    @Column(name = &quot;project_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private Long projectNumber;\r\n\r\n    @Column(nullable = false, length = 45)\r\n    private String name;\r\n\r\n\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\r\n    @Column(name = &quot;start_date&quot;, nullable = false)\r\n    private String startDate;\r\n\r\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\r\n    @Column(name = &quot;end_date&quot;, nullable = false)\r\n    private String endDate;\r\n\r\n    @Column(name = &quot;project_length_months&quot;)\r\n    private double projectLengthInMonths;\r\n\r\n    @Column(name = &quot;project_booked_months&quot;)\r\n    private double currentBookedMonths;\r\n\r\n    @Column(name = &quot;remaining_booked_months&quot;)\r\n    private double remainingBookedMonths;\r\n\r\n    private int numberOfEmployees;\r\n    \r\n    @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL)\r\n    private Set&lt;EmployeeProject&gt; employeeProjects = new HashSet&lt;&gt;();\r\n// constructores getters and setters\r\n```\r\nEmployeeProject\r\n```\r\n@Entity\r\n@Table(name = &quot;employee_projects&quot;)\r\npublic class EmployeeProject implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;employee_project_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;employee_id&quot;)\r\n    private Employee employee;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;project_id&quot;)\r\n    private Project project;\r\n\r\n    @Column(name = &quot;employee_booked_months&quot;)\r\n    private double employeeBookedMonths;\r\n// constructores getters and setters\r\n```\r\n","title":"For loop on 2 lists and add to an object","body":"<p>Im looping over two lists and want to add the objects to a custom object. So Im getting an <code>Employee</code> a list of <code>Projects</code> and a list of <code>Doubles</code> from Thymeleaf and save them to a database. I want to save them to the object <code>EmployeeProject</code> which takes an Employee, a Project and a double (employeeBookedMonths). My problem is I either get the multiple projects saved to the EmployeeProject but all the project months are the same (the last double value one in the list) or I save the multiple projects to the employeeProject with correct employeeBookedMonths but there is dupicates, for example if I save 3 projects with 3 employeeBookedMonths, I get 3 times each saved (so 9 saved). I've tried moving the <code>employeeProjectService.saveEmployeeProject</code> but can't make it work plus many other variations but I need some help.</p>\n<p>Question: how can I loop through the 2 lists and add and them to the EmployeeProject object? Without getting multiples or only getting the last employeeBookedMonths.</p>\n<p>Thanks in advance.</p>\n<p>Also the <code>System.println</code> prints the wanted values, they just don't save.</p>\n<pre><code>    public String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee,\n                               @RequestParam(&quot;projectId&quot;) List&lt;Project&gt; projectIds,\n                               @RequestParam(&quot;employeeProjectMonths&quot;) List&lt;Double&gt; months) {\n        List&lt;Double&gt; monthList = new ArrayList&lt;&gt;();\n        for (Double month : months) {\n            if (month != null) {\n                monthList.add(month);\n                System.out.println(&quot;Month:&quot; + month);\n            }\n        }\n        employeeService.saveEmployee(employee);\n        if (projectIds != null) {\n            EmployeeProject employeeProject = new EmployeeProject(employee);\n            for (Project ids : projectIds) {\n                for (Double month : monthList) {\n                    employeeProject.setEmployeeBookedMonths(month);\n                    System.out.println(&quot;Months: &quot; + employeeProject.getEmployeeBookedMonths());\n                    employeeProjectService.saveEmployeeProject(employee, ids, month);\n                }\n            }\n        }\n        return &quot;redirect:/ines/employees&quot;;\n    }\n</code></pre>\n<p>New Employee form</p>\n<pre><code>&lt;form action=&quot;#&quot; th:action=&quot;@{/ines/saveEmployeeMeeting}&quot; th:object=&quot;${employee}&quot;\n            method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot;&gt;\n            &lt;div class=&quot;form-group&quot;&gt;\n                &lt;label&gt;Email:&lt;/label&gt;\n                &lt;input type=&quot;text&quot; th:field=&quot;*{name}&quot;\n                       placeholder=&quot;Employee Name&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\n            &lt;/div&gt;\n            &lt;th:block th:object=&quot;${meetingInfo}&quot;&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label&gt;Start Time:&lt;/label&gt;\n                    &lt;div class=&quot;input-group date&quot; id=&quot;datetimepicker1&quot; data-target-input=&quot;nearest&quot;&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control datetimepicker-input&quot;\n                               th:field=&quot;*{meetingStartDateTime}&quot; id=&quot;meetingStartDateTime&quot;/&gt;\n                        &lt;span class=&quot;input-group-addon&quot;&gt;\n                            &lt;span class=&quot;glyphicon glyphicon-calendar&quot;&gt;&lt;/span&gt;\n                    &lt;/span&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label&gt;End Time:&lt;/label&gt;\n                    &lt;div class=&quot;input-group date&quot; id=&quot;datetimepicker2&quot; data-target-input=&quot;nearest&quot;&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control datetimepicker-input&quot; data-target=&quot;#datetimepicker1&quot;\n                               th:field=&quot;*{meetingEndDateTime}&quot; id=&quot;meetingEndDateTime&quot; placeholder=&quot;Date&quot;/&gt;\n                        &lt;span class=&quot;input-group-addon&quot;&gt;\n                            &lt;span class=&quot;glyphicon glyphicon-calendar&quot;&gt;&lt;/span&gt;\n                    &lt;/span&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;div class=&quot;form-group&quot;&gt;\n                &lt;input type=&quot;text&quot; th:field=&quot;*{message}&quot;\n                       placeholder=&quot;Message&quot; class=&quot;form-control mb-4 col-4&quot;&gt;\n            &lt;/div&gt;\n            &lt;/th:block&gt;\n\n            &lt;button type=&quot;submit&quot; class=&quot;btn btn-info col-2&quot;&gt;Save Employee/Meeting&lt;/button&gt;\n        &lt;/form&gt;\n</code></pre>\n<p>Employee</p>\n<pre><code>@Entity\n@Table(name = &quot;employees&quot;)\npublic class Employee {\n\n    @Id\n    @Column(name = &quot;employee_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\n    @Column(name = &quot;contracted_from&quot;)\n    private String contractedFrom;\n\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\n    @Column(name = &quot;contracted_to&quot;)\n    private String contractedTo;\n\n    @OneToMany(mappedBy = &quot;employee&quot;,\n            cascade = CascadeType.ALL\n//          fetch=FetchType.EAGER\n    )\n    private Set&lt;EmployeeProject&gt; employeeProjects = new HashSet&lt;&gt;();\n// constructores getters and setters\n</code></pre>\n<p>Project</p>\n<pre><code>@Entity\n@Table(name = &quot;projects&quot;)\npublic class Project implements Serializable {\n    @Id\n    @Column(name = &quot;project_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private Long projectNumber;\n\n    @Column(nullable = false, length = 45)\n    private String name;\n\n\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\n    @Column(name = &quot;start_date&quot;, nullable = false)\n    private String startDate;\n\n    @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;, shape = JsonFormat.Shape.STRING)\n    @Column(name = &quot;end_date&quot;, nullable = false)\n    private String endDate;\n\n    @Column(name = &quot;project_length_months&quot;)\n    private double projectLengthInMonths;\n\n    @Column(name = &quot;project_booked_months&quot;)\n    private double currentBookedMonths;\n\n    @Column(name = &quot;remaining_booked_months&quot;)\n    private double remainingBookedMonths;\n\n    private int numberOfEmployees;\n    \n    @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL)\n    private Set&lt;EmployeeProject&gt; employeeProjects = new HashSet&lt;&gt;();\n// constructores getters and setters\n</code></pre>\n<p>EmployeeProject</p>\n<pre><code>@Entity\n@Table(name = &quot;employee_projects&quot;)\npublic class EmployeeProject implements Serializable {\n\n    @Id\n    @Column(name = &quot;employee_project_id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;employee_id&quot;)\n    private Employee employee;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;project_id&quot;)\n    private Project project;\n\n    @Column(name = &quot;employee_booked_months&quot;)\n    private double employeeBookedMonths;\n// constructores getters and setters\n</code></pre>\n"},{"tags":["java","spring-mvc","junit","mockmvc"],"answers":[{"comments":[{"owner":{"account_id":1473199,"reputation":370,"user_id":1384237,"accept_rate":69,"display_name":"RASMiranda"},"score":0,"creation_date":1615887945,"post_id":66642383,"comment_id":117824562,"body_markdown":"No way to render the view in the unit test?","body":"No way to render the view in the unit test?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1615897852,"post_id":66642383,"comment_id":117829163,"body_markdown":"Not with a JSP based view and MockMvc.","body":"Not with a JSP based view and MockMvc."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1667995215,"creation_date":1615827732,"answer_id":66642383,"question_id":66641634,"body_markdown":"The key word in `MockMvc` is _mock_. This framework does not set up a full Servlet container with a JSP engine. As such, it doesn&#39;t render the view that your controller returns and the `MockHttpServletResponse` does not contain a body (for this use case).\r\n\r\nYou can use [`MockHttpServletResponse#getForwardedUrl()`][1] to get the url of the JSP that the Servlet container would&#39;ve forwarded the request to, constructed from your view name and the prefix and suffix of your `InternalResourceViewResolver`.\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mock/web/MockHttpServletResponse.html#getForwardedUrl--","title":"Spring Controller ModelAndView test MockMvc empty Response","body":"<p>The key word in <code>MockMvc</code> is <em>mock</em>. This framework does not set up a full Servlet container with a JSP engine. As such, it doesn't render the view that your controller returns and the <code>MockHttpServletResponse</code> does not contain a body (for this use case).</p>\n<p>You can use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/mock/web/MockHttpServletResponse.html#getForwardedUrl--\" rel=\"nofollow noreferrer\"><code>MockHttpServletResponse#getForwardedUrl()</code></a> to get the url of the JSP that the Servlet container would've forwarded the request to, constructed from your view name and the prefix and suffix of your <code>InternalResourceViewResolver</code>.</p>\n"}],"owner":{"account_id":1473199,"reputation":370,"user_id":1384237,"accept_rate":69,"display_name":"RASMiranda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":860,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66642383,"answer_count":1,"score":0,"last_activity_date":1667995215,"creation_date":1615824737,"question_id":66641634,"body_markdown":"I have this simple example setup to unit test spring Controller ModelAndView with MockMvc, but the response is always empty, even though in debug I can see that the controller code is executed.\r\n\r\nHere&#39;s the code:\r\n\r\n**/src/main/java/controller/MvcController.java**\r\n```\r\npackage controller;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.servlet.ModelAndView;\r\n\r\n@Controller\r\npublic class MvcController {\r\n\r\n    @RequestMapping(&quot;/hello/{id}&quot;)\r\n    public ModelAndView hello(@PathVariable(&quot;id&quot;) String id) {\r\n        Map&lt;String, String&gt; model = new HashMap&lt;&gt;();\r\n        ModelAndView modelAndView = new ModelAndView(&quot;hello&quot;, model);\r\n        return modelAndView;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**/src/main/webapp/WEB-INF/jsp/hello.jsp**\r\n```\r\n&lt;%@ taglib prefix=&quot;spring&quot; uri=&quot;http://www.springframework.org/tags&quot;%&gt;\r\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\r\n&lt;%@ taglib prefix=&quot;e&quot;\r\n\turi=&quot;https://www.owasp.org/index.php/OWASP_Java_Encoder_Project&quot;%&gt;\r\n&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\t&lt;head&gt;\r\n\t&lt;/head&gt;\r\n\t&lt;body&gt;HELLO WORLD\r\n\t&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n**/src/test/java/controller/MvcControllerTest.java**\r\n```\r\npackage controller;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\n\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.mock.web.MockHttpServletResponse;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.MvcResult;\r\nimport org.springframework.test.web.servlet.RequestBuilder;\r\nimport org.springframework.test.web.servlet.ResultActions;\r\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\r\n\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = { MvcController.class })\r\npublic class MvcControllerTest {\r\n\r\n    @Autowired\r\n    private MvcController mvcController;\r\n\r\n    private MockMvc mockMvc;\r\n\r\n    @Before\r\n    public void init() {\r\n        InternalResourceViewResolver resolver = new InternalResourceViewResolver();\r\n        resolver.setPrefix(&quot;/WEB-INF/jsp/&quot;);\r\n        resolver.setSuffix(&quot;.jsp&quot;);\r\n        this.mockMvc = MockMvcBuilders.standaloneSetup(mvcController).setViewResolvers(resolver).build();\r\n    }\r\n\r\n    @Test\r\n    public void testHello() throws Exception {\r\n        RequestBuilder requestBuilder = MockMvcRequestBuilders.get(&quot;/hello/XWQHEDg9e72t&quot;);\r\n        ResultActions result = mockMvc.perform(requestBuilder);\r\n        MvcResult mvcResult = result.andReturn();\r\n        MockHttpServletResponse mockHttpServletResponse = mvcResult.getResponse();\r\n        String response = mockHttpServletResponse.getContentAsString();\r\n        assertThat(response).contains(&quot;HELLO WORLD&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"Spring Controller ModelAndView test MockMvc empty Response","body":"<p>I have this simple example setup to unit test spring Controller ModelAndView with MockMvc, but the response is always empty, even though in debug I can see that the controller code is executed.</p>\n<p>Here's the code:</p>\n<p><strong>/src/main/java/controller/MvcController.java</strong></p>\n<pre><code>package controller;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Controller\npublic class MvcController {\n\n    @RequestMapping(&quot;/hello/{id}&quot;)\n    public ModelAndView hello(@PathVariable(&quot;id&quot;) String id) {\n        Map&lt;String, String&gt; model = new HashMap&lt;&gt;();\n        ModelAndView modelAndView = new ModelAndView(&quot;hello&quot;, model);\n        return modelAndView;\n    }\n\n}\n</code></pre>\n<p><strong>/src/main/webapp/WEB-INF/jsp/hello.jsp</strong></p>\n<pre><code>&lt;%@ taglib prefix=&quot;spring&quot; uri=&quot;http://www.springframework.org/tags&quot;%&gt;\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;\n&lt;%@ taglib prefix=&quot;e&quot;\n    uri=&quot;https://www.owasp.org/index.php/OWASP_Java_Encoder_Project&quot;%&gt;\n&lt;%@ page contentType=&quot;text/html; charset=UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n    &lt;/head&gt;\n    &lt;body&gt;HELLO WORLD\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>/src/test/java/controller/MvcControllerTest.java</strong></p>\n<pre><code>package controller;\n\nimport static org.assertj.core.api.Assertions.assertThat;\n\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.mock.web.MockHttpServletResponse;\nimport org.springframework.test.context.junit4.SpringRunner;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.MvcResult;\nimport org.springframework.test.web.servlet.RequestBuilder;\nimport org.springframework.test.web.servlet.ResultActions;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest(classes = { MvcController.class })\npublic class MvcControllerTest {\n\n    @Autowired\n    private MvcController mvcController;\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void init() {\n        InternalResourceViewResolver resolver = new InternalResourceViewResolver();\n        resolver.setPrefix(&quot;/WEB-INF/jsp/&quot;);\n        resolver.setSuffix(&quot;.jsp&quot;);\n        this.mockMvc = MockMvcBuilders.standaloneSetup(mvcController).setViewResolvers(resolver).build();\n    }\n\n    @Test\n    public void testHello() throws Exception {\n        RequestBuilder requestBuilder = MockMvcRequestBuilders.get(&quot;/hello/XWQHEDg9e72t&quot;);\n        ResultActions result = mockMvc.perform(requestBuilder);\n        MvcResult mvcResult = result.andReturn();\n        MockHttpServletResponse mockHttpServletResponse = mvcResult.getResponse();\n        String response = mockHttpServletResponse.getContentAsString();\n        assertThat(response).contains(&quot;HELLO WORLD&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","json","parsing","yaml"],"comments":[{"owner":{"account_id":6009045,"reputation":12396,"user_id":4720018,"accept_rate":75,"display_name":"djvg"},"score":0,"creation_date":1604074725,"post_id":26235350,"comment_id":114245516,"body_markdown":"According to the [YAML spec (section 1.3)](https://yaml.org/spec/1.2/spec.html), &quot;YAML can therefore be viewed as a natural superset of JSON ...&quot;, and &quot;... every JSON file is also a valid YAML file.&quot;","body":"According to the <a href=\"https://yaml.org/spec/1.2/spec.html\" rel=\"nofollow noreferrer\">YAML spec (section 1.3)</a>, &quot;YAML can therefore be viewed as a natural superset of JSON ...&quot;, and &quot;... every JSON file is also a valid YAML file.&quot;"}],"answers":[{"comments":[{"owner":{"account_id":4773319,"reputation":487,"user_id":3857278,"display_name":"PasinduJay"},"score":4,"creation_date":1516016950,"post_id":26236102,"comment_id":83507557,"body_markdown":"I&#39;m against down-voting this. No where in the question it is mentioned as to provide &quot;programmatical way&quot; So this answer also valid.","body":"I&#39;m against down-voting this. No where in the question it is mentioned as to provide &quot;programmatical way&quot; So this answer also valid."},{"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"score":0,"creation_date":1605531878,"post_id":26236102,"comment_id":114670290,"body_markdown":"@PasinduJay The tags provide the necessary context - question is tagged Java.","body":"@PasinduJay The tags provide the necessary context - question is tagged Java."}],"tags":[],"owner":{"account_id":399491,"reputation":551,"user_id":764869,"display_name":"bystander"},"comment_count":2,"down_vote_count":5,"up_vote_count":7,"is_accepted":false,"score":2,"last_activity_date":1412685148,"creation_date":1412685148,"answer_id":26236102,"question_id":26235350,"body_markdown":"[http://jsontoyaml.com/][1]\r\n\r\nthis website may can help you. It can be used in\r\nBash,\r\nJavaScript,\r\nJavaScript (browser only),\r\nRuby,\r\nPython,\r\nPerl,\r\nJava..\r\n\r\n\r\n  [1]: http://jsontoyaml.com/","title":"Convert JSON to YAML. Parsing JSON to YAML","body":"<p><a href=\"http://jsontoyaml.com/\" rel=\"nofollow\">http://jsontoyaml.com/</a></p>\n\n<p>this website may can help you. It can be used in\nBash,\nJavaScript,\nJavaScript (browser only),\nRuby,\nPython,\nPerl,\nJava..</p>\n"},{"comments":[{"owner":{"account_id":3970450,"reputation":335,"user_id":3275186,"accept_rate":78,"display_name":"Murugesan Era"},"score":2,"creation_date":1433574895,"post_id":26424373,"comment_id":49420962,"body_markdown":"could you explain your answer briefly? Where you declare &quot;jsonPrettyPrintString&quot;","body":"could you explain your answer briefly? Where you declare &quot;jsonPrettyPrintString&quot;"},{"owner":{"account_id":4243843,"reputation":703,"user_id":3473071,"accept_rate":62,"display_name":"eabyshev"},"score":0,"creation_date":1458049767,"post_id":26424373,"comment_id":59677702,"body_markdown":"I&#39;m really sorry for late response, I edited answer. @MurugesanEra","body":"I&#39;m really sorry for late response, I edited answer. @MurugesanEra"},{"owner":{"account_id":7759591,"reputation":3166,"user_id":5872782,"display_name":"Jinu P C"},"score":3,"creation_date":1524035461,"post_id":26424373,"comment_id":86802164,"body_markdown":"Please explain the yaml variable.","body":"Please explain the yaml variable."},{"owner":{"account_id":9010593,"reputation":2151,"user_id":6715384,"display_name":"HMT"},"score":0,"creation_date":1566278683,"post_id":26424373,"comment_id":101595212,"body_markdown":"Which map should I pass here ? How to convert the json string to map .","body":"Which map should I pass here ? How to convert the json string to map ."}],"tags":[],"owner":{"account_id":4243843,"reputation":703,"user_id":3473071,"accept_rate":62,"display_name":"eabyshev"},"comment_count":4,"down_vote_count":5,"up_vote_count":1,"is_accepted":true,"score":-4,"last_activity_date":1458049723,"creation_date":1413546512,"answer_id":26424373,"question_id":26235350,"body_markdown":"If you need convert JSONobject to yaml (string). you need. Firstly get json string, then map, after that you can convert to yaml.\r\nHere the code:\r\n\r\n      // this is your json object\r\n      JSONObject jsonobject = new JSONObject(map);\r\n      // get json string\r\n      String prettyJSONString = jsonobject.toString(4);\r\n      // mapping\r\n      Map&lt;String,Object&gt; map = (Map&lt;String, Object&gt;) yaml.load(prettyJSONString);\r\n      // convert to yaml string (yaml formatted string)\r\n      String output = yaml.dump(map2);\r\n","title":"Convert JSON to YAML. Parsing JSON to YAML","body":"<p>If you need convert JSONobject to yaml (string). you need. Firstly get json string, then map, after that you can convert to yaml.\nHere the code:</p>\n\n<pre><code>  // this is your json object\n  JSONObject jsonobject = new JSONObject(map);\n  // get json string\n  String prettyJSONString = jsonobject.toString(4);\n  // mapping\n  Map&lt;String,Object&gt; map = (Map&lt;String, Object&gt;) yaml.load(prettyJSONString);\n  // convert to yaml string (yaml formatted string)\n  String output = yaml.dump(map2);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":100048,"reputation":2925,"user_id":269884,"display_name":"PlunkettBoy"},"score":1,"creation_date":1582312681,"post_id":41899647,"comment_id":106747654,"body_markdown":"Saved me a ton of trouble. Great answer.","body":"Saved me a ton of trouble. Great answer."},{"owner":{"account_id":8256277,"reputation":418,"user_id":6209355,"display_name":"Yauheni Leaniuk"},"score":0,"creation_date":1667209483,"post_id":41899647,"comment_id":131108067,"body_markdown":"to get rid of | --- in first lines of output yaml, you can convert JSON to HashMap and write this HashMap as yaml file","body":"to get rid of | --- in first lines of output yaml, you can convert JSON to HashMap and write this HashMap as yaml file"}],"tags":[],"owner":{"account_id":2362309,"reputation":666,"user_id":2068744,"display_name":"Tanya"},"comment_count":2,"down_vote_count":1,"up_vote_count":56,"is_accepted":false,"score":55,"last_activity_date":1583525789,"creation_date":1485537865,"answer_id":41899647,"question_id":26235350,"body_markdown":"You can convert JSON to YAML with two lines of code in [Jackson][1]:\r\n\r\n    import java.io.IOException;\r\n    \r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.dataformat.yaml.YAMLMapper;\r\n    \r\n    public class Library {\r\n    \r\n        public String asYaml(String jsonString) throws JsonProcessingException, IOException {\r\n            // parse JSON\r\n            JsonNode jsonNodeTree = new ObjectMapper().readTree(jsonString);\r\n            // save it as YAML\r\n            String jsonAsYaml = new YAMLMapper().writeValueAsString(jsonNodeTree);\r\n            return jsonAsYaml;\r\n        }\r\n    \r\n    }\r\n\r\nYou will need to add dependencies to Jackson Core, DataBind and DataFormat YAML. Below is a snippet for Gradle:\r\n\r\n    compile &#39;com.fasterxml.jackson.core:jackson-core:2.8.6&#39;\r\n    compile &#39;com.fasterxml.jackson.core:jackson-databind:2.8.6&#39;\r\n    compile &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.8.6&#39;\r\n\r\n  [1]: https://github.com/FasterXML/jackson","title":"Convert JSON to YAML. Parsing JSON to YAML","body":"<p>You can convert JSON to YAML with two lines of code in <a href=\"https://github.com/FasterXML/jackson\" rel=\"noreferrer\">Jackson</a>:</p>\n\n<pre><code>import java.io.IOException;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.dataformat.yaml.YAMLMapper;\n\npublic class Library {\n\n    public String asYaml(String jsonString) throws JsonProcessingException, IOException {\n        // parse JSON\n        JsonNode jsonNodeTree = new ObjectMapper().readTree(jsonString);\n        // save it as YAML\n        String jsonAsYaml = new YAMLMapper().writeValueAsString(jsonNodeTree);\n        return jsonAsYaml;\n    }\n\n}\n</code></pre>\n\n<p>You will need to add dependencies to Jackson Core, DataBind and DataFormat YAML. Below is a snippet for Gradle:</p>\n\n<pre><code>compile 'com.fasterxml.jackson.core:jackson-core:2.8.6'\ncompile 'com.fasterxml.jackson.core:jackson-databind:2.8.6'\ncompile 'com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:2.8.6'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":142789,"reputation":6126,"user_id":350713,"accept_rate":69,"display_name":"Faheem Mitha"},"score":0,"creation_date":1596318399,"post_id":55924692,"comment_id":111775549,"body_markdown":"This recipe works, but writing it to a file would be better.","body":"This recipe works, but writing it to a file would be better."}],"tags":[],"owner":{"account_id":312775,"reputation":11845,"user_id":627042,"accept_rate":0,"display_name":"Erik Aronesty"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1588154496,"creation_date":1556639682,"answer_id":55924692,"question_id":26235350,"body_markdown":"Here&#39;s a one liner for a file, suitable for sticking in a bash script.  This should work on most default pythons on most systems:\r\n\r\n```\r\npython -c &#39;import json; import yaml; print(yaml.dump(json.load(open(&quot;inputfile&quot;))))&#39;\r\n```","title":"Convert JSON to YAML. Parsing JSON to YAML","body":"<p>Here's a one liner for a file, suitable for sticking in a bash script.  This should work on most default pythons on most systems:</p>\n\n<pre><code>python -c 'import json; import yaml; print(yaml.dump(json.load(open(\"inputfile\"))))'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15560523,"reputation":101,"user_id":11225766,"display_name":"Geo Systems"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578716250,"creation_date":1578716250,"answer_id":59691591,"question_id":26235350,"body_markdown":"I&#39;d suggest you consider [Data Transformer][1] (disclaimer - I&#39;m its developer). It converts between JSON, YML, and other formats.\r\n\r\nYou can get it from the [Mac App Store][2] or the [Microsoft Store][3].\r\n\r\n\r\n  [1]: https://geosystemsdev.com/products/data-transformer/\r\n  [2]: https://apps.apple.com/us/app/data-transformer/id1490843070\r\n  [3]: https://www.microsoft.com/en-au/p/data-transformer/9p2xp6nt2pv2\r\n","title":"Convert JSON to YAML. Parsing JSON to YAML","body":"<p>I'd suggest you consider <a href=\"https://geosystemsdev.com/products/data-transformer/\" rel=\"nofollow noreferrer\">Data Transformer</a> (disclaimer - I'm its developer). It converts between JSON, YML, and other formats.</p>\n\n<p>You can get it from the <a href=\"https://apps.apple.com/us/app/data-transformer/id1490843070\" rel=\"nofollow noreferrer\">Mac App Store</a> or the <a href=\"https://www.microsoft.com/en-au/p/data-transformer/9p2xp6nt2pv2\" rel=\"nofollow noreferrer\">Microsoft Store</a>.</p>\n"},{"tags":[],"owner":{"account_id":24437,"reputation":5745,"user_id":62131,"accept_rate":82,"display_name":"Richard Gomes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583908442,"creation_date":1583908442,"answer_id":60630422,"question_id":26235350,"body_markdown":"```bash\r\nfunction yaml_validate {\r\n  python -c &#39;import sys, yaml, json; yaml.safe_load(sys.stdin.read())&#39;\r\n}\r\n\r\nfunction yaml2json {\r\n  python -c &#39;import sys, yaml, json; print(json.dumps(yaml.safe_load(sys.stdin.read())))&#39;\r\n}\r\n\r\nfunction yaml2json_pretty {\r\n  python -c &#39;import sys, yaml, json; print(json.dumps(yaml.safe_load(sys.stdin.read()), indent=2, sort_keys=False))&#39;\r\n}\r\n\r\nfunction json_validate {\r\n  python -c &#39;import sys, yaml, json; json.loads(sys.stdin.read())&#39;\r\n}\r\n\r\nfunction json2yaml {\r\n  python -c &#39;import sys, yaml, json; print(yaml.dump(json.loads(sys.stdin.read())))&#39;\r\n}\r\n```\r\n\r\nMore Bash tricks at http://github.com/frgomes/bash-scripts\r\n","title":"Convert JSON to YAML. Parsing JSON to YAML","body":"<pre class=\"lang-sh prettyprint-override\"><code>function yaml_validate {\n  python -c 'import sys, yaml, json; yaml.safe_load(sys.stdin.read())'\n}\n\nfunction yaml2json {\n  python -c 'import sys, yaml, json; print(json.dumps(yaml.safe_load(sys.stdin.read())))'\n}\n\nfunction yaml2json_pretty {\n  python -c 'import sys, yaml, json; print(json.dumps(yaml.safe_load(sys.stdin.read()), indent=2, sort_keys=False))'\n}\n\nfunction json_validate {\n  python -c 'import sys, yaml, json; json.loads(sys.stdin.read())'\n}\n\nfunction json2yaml {\n  python -c 'import sys, yaml, json; print(yaml.dump(json.loads(sys.stdin.read())))'\n}\n</code></pre>\n\n<p>More Bash tricks at <a href=\"http://github.com/frgomes/bash-scripts\" rel=\"nofollow noreferrer\">http://github.com/frgomes/bash-scripts</a></p>\n"},{"tags":[],"owner":{"account_id":22071747,"reputation":1728,"user_id":16332641,"display_name":"jpseng"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667995151,"creation_date":1667995151,"answer_id":74374534,"question_id":26235350,"body_markdown":"[yq](https://mikefarah.gitbook.io/yq/) can be used to convert between JSON and YAML\r\n\r\n```bash\r\nyq -o yaml --indent 2 --prettyPrint --colors\r\n```\r\n\r\n```yaml\r\nfoo: bar\r\nbaz:\r\n  - qux\r\n  - quxx\r\ncorge: null\r\ngrault: 1\r\ngarply: true\r\nwaldo: &quot;false&quot;\r\nfred: undefined\r\nemptyArray: []\r\nemptyObject: {}\r\nemptyString: &quot;&quot;\r\n```\r\n\r\n(XML and property files can also be transformed using `yq`)","title":"Convert JSON to YAML. Parsing JSON to YAML","body":"<p><a href=\"https://mikefarah.gitbook.io/yq/\" rel=\"nofollow noreferrer\">yq</a> can be used to convert between JSON and YAML</p>\n<pre class=\"lang-bash prettyprint-override\"><code>yq -o yaml --indent 2 --prettyPrint --colors\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>foo: bar\nbaz:\n  - qux\n  - quxx\ncorge: null\ngrault: 1\ngarply: true\nwaldo: &quot;false&quot;\nfred: undefined\nemptyArray: []\nemptyObject: {}\nemptyString: &quot;&quot;\n</code></pre>\n<p>(XML and property files can also be transformed using <code>yq</code>)</p>\n"}],"owner":{"account_id":4243843,"reputation":703,"user_id":3473071,"accept_rate":62,"display_name":"eabyshev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41760,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":26424373,"answer_count":7,"score":21,"last_activity_date":1667995151,"creation_date":1412682678,"question_id":26235350,"body_markdown":"I&#39;m working with configuration files so I need to convert JSON to YAML.\r\nFor example I have this JSON file:\r\n\r\n    {\r\n      &quot;foo&quot;: &quot;bar&quot;,\r\n      &quot;baz&quot;: [ &quot;qux&quot;,&quot;quxx&quot;],\r\n      &quot;corge&quot;: null,\r\n      &quot;grault&quot;: 1,\r\n      &quot;garply&quot;: true,\r\n      &quot;waldo&quot;: &quot;false&quot;,\r\n      &quot;fred&quot;: &quot;undefined&quot;,\r\n      &quot;emptyArray&quot;: [],\r\n      &quot;emptyObject&quot;: {},\r\n      &quot;emptyString&quot;: &quot;&quot;\r\n    }\r\n\r\nThe result should be YAML:\r\n\r\n    foo: &quot;bar&quot;\r\n    baz: \r\n      - &quot;qux&quot;\r\n      - &quot;quxx&quot;\r\n    corge: null\r\n    grault: 1\r\n    garply: true\r\n    waldo: &quot;false&quot;\r\n    fred: &quot;undefined&quot;\r\n    emptyArray: []\r\n    emptyObject: {}\r\n    emptyString: &quot;&quot;\r\n\r\nCould you help me?","title":"Convert JSON to YAML. Parsing JSON to YAML","body":"<p>I'm working with configuration files so I need to convert JSON to YAML.\nFor example I have this JSON file:</p>\n<pre><code>{\n  &quot;foo&quot;: &quot;bar&quot;,\n  &quot;baz&quot;: [ &quot;qux&quot;,&quot;quxx&quot;],\n  &quot;corge&quot;: null,\n  &quot;grault&quot;: 1,\n  &quot;garply&quot;: true,\n  &quot;waldo&quot;: &quot;false&quot;,\n  &quot;fred&quot;: &quot;undefined&quot;,\n  &quot;emptyArray&quot;: [],\n  &quot;emptyObject&quot;: {},\n  &quot;emptyString&quot;: &quot;&quot;\n}\n</code></pre>\n<p>The result should be YAML:</p>\n<pre><code>foo: &quot;bar&quot;\nbaz: \n  - &quot;qux&quot;\n  - &quot;quxx&quot;\ncorge: null\ngrault: 1\ngarply: true\nwaldo: &quot;false&quot;\nfred: &quot;undefined&quot;\nemptyArray: []\nemptyObject: {}\nemptyString: &quot;&quot;\n</code></pre>\n<p>Could you help me?</p>\n"},{"tags":["javascript","java","jquery","google-chrome","webrtc"],"answers":[{"tags":[],"owner":{"account_id":2569702,"reputation":16087,"user_id":4352772,"display_name":"Philipp Hancke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667995135,"creation_date":1667995135,"answer_id":74374531,"question_id":74370665,"body_markdown":"You can not. This is behind a flag because it is an experimental feature that is not yet ready for production and end users.\r\nYou can star the chrome issue for updates: https://bugs.chromium.org/p/chromium/issues/detail?id=1215049","title":"Update Chrome flag programatically using javascript","body":"<p>You can not. This is behind a flag because it is an experimental feature that is not yet ready for production and end users.\nYou can star the chrome issue for updates: <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=1215049\" rel=\"nofollow noreferrer\">https://bugs.chromium.org/p/chromium/issues/detail?id=1215049</a></p>\n"}],"owner":{"account_id":26856298,"reputation":1,"user_id":20440551,"display_name":"Manish Deshmukh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667995135,"creation_date":1667974945,"question_id":74370665,"body_markdown":"I want to enable &quot;chrome-wide-echo-cancellation&quot; flag of Google Chrome programmatically. Can we do it programmatically and how?\r\n","title":"Update Chrome flag programatically using javascript","body":"<p>I want to enable &quot;chrome-wide-echo-cancellation&quot; flag of Google Chrome programmatically. Can we do it programmatically and how?</p>\n"},{"tags":["java","ebcdic"],"comments":[{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":0,"creation_date":1667990989,"post_id":74373623,"comment_id":131297977,"body_markdown":"Just to clearify your question, you&#39;re not asking how to check if a character is EBCDIC encoded, because Java uses Unicode, you&#39;re asking if the Unicode character also existing in the EBCDIC character encoding?","body":"Just to clearify your question, you&#39;re not asking how to check if a character is EBCDIC encoded, because Java uses Unicode, you&#39;re asking if the Unicode character also existing in the EBCDIC character encoding?"},{"owner":{"account_id":23247288,"reputation":63,"user_id":17335689,"display_name":"Daniel Brunner"},"score":0,"creation_date":1667993862,"post_id":74373623,"comment_id":131298959,"body_markdown":"yes exactly, checking if the Unicode character also exists in the EBCDIC encoding","body":"yes exactly, checking if the Unicode character also exists in the EBCDIC encoding"}],"answers":[{"comments":[{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":0,"creation_date":1667991624,"post_id":74373709,"comment_id":131298177,"body_markdown":"Are you sure that this is working? Not your code but the encoding you&#39;ve to load. I&#39;ve to use a specific EBCDIC code page like `Cp1047` as encoding. `EBCDIC` doesn&#39;t work for me.","body":"Are you sure that this is working? Not your code but the encoding you&#39;ve to load. I&#39;ve to use a specific EBCDIC code page like <code>Cp1047</code> as encoding. <code>EBCDIC</code> doesn&#39;t work for me."},{"owner":{"account_id":325503,"reputation":10378,"user_id":646723,"display_name":"Bruce Martin"},"score":2,"creation_date":1667992972,"post_id":74373709,"comment_id":131298662,"body_markdown":"You will have to specify a specific EBCDIC encoding e.g. cp037 (US EBCDIC). Characters supported will vary between the various EBCDIC flavors","body":"You will have to specify a specific EBCDIC encoding e.g. cp037 (US EBCDIC). Characters supported will vary between the various EBCDIC flavors"},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1667997055,"post_id":74373709,"comment_id":131300079,"body_markdown":"As mentioned by @Bruce there are [quite some variations](https://www.ibm.com/docs/en/i/7.3?topic=as400toolboxjarmaker-ccsid-encoding-values-supported-by-toolbox-java) available. IBM even open sourced the Toolbox code where mappings to and from Unicode can be found (i.e. [IBM273](https://sourceforge.net/p/jt400/svn/HEAD/tree/trunk/src/com/ibm/as400/access/ConvTable273.java)). As applying the wrong CP to the bytes most likely will result in garbage, probing through all possible charsets and then selecting the one that produces the highest density of &quot;human-readable&quot; characters could be an option","body":"As mentioned by @Bruce there are <a href=\"https://www.ibm.com/docs/en/i/7.3?topic=as400toolboxjarmaker-ccsid-encoding-values-supported-by-toolbox-java\" rel=\"nofollow noreferrer\">quite some variations</a> available. IBM even open sourced the Toolbox code where mappings to and from Unicode can be found (i.e. <a href=\"https://sourceforge.net/p/jt400/svn/HEAD/tree/trunk/src/com/ibm/as400/access/ConvTable273.java\" rel=\"nofollow noreferrer\">IBM273</a>). As applying the wrong CP to the bytes most likely will result in garbage, probing through all possible charsets and then selecting the one that produces the highest density of &quot;human-readable&quot; characters could be an option"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1667998540,"post_id":74373709,"comment_id":131300615,"body_markdown":"@RomanVottner One has to compare the special characters on both side: java Unicode and system to detect the correct encoding. One might also list for every character, code point, the `Character.getName(codePoint)`. And then one might use the list of available charsets maybe. Everything not very straightforward.","body":"@RomanVottner One has to compare the special characters on both side: java Unicode and system to detect the correct encoding. One might also list for every character, code point, the <code>Character.getName(codePoint)</code>. And then one might use the list of available charsets maybe. Everything not very straightforward."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1667995073,"creation_date":1667991266,"answer_id":74373709,"question_id":74373623,"body_markdown":"    boolean canEncode(char ch) {\r\n        Charset charset = Charset.forName(&quot;EBCDIC&quot;);\r\n        return charset.newEncoder().canEncode(ch);\r\n    }\r\n\r\nThe [`CharsetEncoder`][1] can also check entire Strings.\r\n\r\nAnd there is more conversion support around Charset.\r\n\r\n-----------------\r\nThanks to @BruceMartin and @0x1C1B\r\n\r\nNote that there are more than one EBCDIC variants, just like 8 bit ASCII ((US) ASCII being 7 bits). Pick the right code page:\r\n`&quot;Cp037&quot; for US EBCDIC, &quot;Cp1047&quot;, ...\r\n\r\nYou will need the Charset to convert to EBCDIC bytes.\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/nio/charset/CharsetEncoder.html","title":"Simple Way in Java to check if char is in EBCDIC","body":"<pre><code>boolean canEncode(char ch) {\n    Charset charset = Charset.forName(&quot;EBCDIC&quot;);\n    return charset.newEncoder().canEncode(ch);\n}\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/javase/10/docs/api/java/nio/charset/CharsetEncoder.html\" rel=\"nofollow noreferrer\"><code>CharsetEncoder</code></a> can also check entire Strings.</p>\n<p>And there is more conversion support around Charset.</p>\n<hr />\n<p>Thanks to @BruceMartin and @0x1C1B</p>\n<p>Note that there are more than one EBCDIC variants, just like 8 bit ASCII ((US) ASCII being 7 bits). Pick the right code page:\n`&quot;Cp037&quot; for US EBCDIC, &quot;Cp1047&quot;, ...</p>\n<p>You will need the Charset to convert to EBCDIC bytes.</p>\n"}],"owner":{"account_id":23247288,"reputation":63,"user_id":17335689,"display_name":"Daniel Brunner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74373709,"answer_count":1,"score":1,"last_activity_date":1667995073,"creation_date":1667990868,"question_id":74373623,"body_markdown":"I&#39;m trying to figure out how to check if a char is in EBCDIC. \r\n\r\nOne approach would be to have a predefined array with all possible EBCDIC signs, and check if the character can be found in that array. \r\n\r\nIs there a better/cleaner way?","title":"Simple Way in Java to check if char is in EBCDIC","body":"<p>I'm trying to figure out how to check if a char is in EBCDIC.</p>\n<p>One approach would be to have a predefined array with all possible EBCDIC signs, and check if the character can be found in that array.</p>\n<p>Is there a better/cleaner way?</p>\n"},{"tags":["java","profiling","jmx","visualvm","jmxmp"],"comments":[{"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"score":6,"creation_date":1341920512,"post_id":11412560,"comment_id":15050007,"body_markdown":"Anyone else think this is a sorry state? Surely remote profiling on a firewalled server shouldn&#39;t be this hard?","body":"Anyone else think this is a sorry state? Surely remote profiling on a firewalled server shouldn&#39;t be this hard?"},{"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"score":0,"creation_date":1341920663,"post_id":11412560,"comment_id":15050074,"body_markdown":"http://www.java2s.com/Code/Jar/j/Downloadjmxremoteoptionaljar.htm","body":"<a href=\"http://www.java2s.com/Code/Jar/j/Downloadjmxremoteoptionaljar.htm\" rel=\"nofollow noreferrer\">java2s.com/Code/Jar/j/Downloadjmxremoteoptionaljar.htm</a>"},{"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"score":1,"creation_date":1341920839,"post_id":11412560,"comment_id":15050150,"body_markdown":"@BorisPavlović Thanks, I&#39;ll try it, but there should be an official download somewhere too, or Oracle/Sun has dropped the ball.","body":"@BorisPavlović Thanks, I&#39;ll try it, but there should be an official download somewhere too, or Oracle/Sun has dropped the ball."}],"answers":[{"tags":[],"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1341924252,"creation_date":1341924252,"answer_id":11413595,"question_id":11412560,"body_markdown":"http://www.oracle.com/technetwork/java/javase/tech/download-jsp-141676.html\r\n\r\n...has a download button for **JMX Remote API 1.0.1_04 Reference Implementation**. This links to...\r\n\r\nhttp://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-java-plat-419418.html\r\n\r\n... which only offers **Java Management Extensions (JMX) Remote API Reference Implementation 1.0.1_03**. So still a bit flaky.\r\n","title":"Where to download JMXMP?","body":"<p><a href=\"http://www.oracle.com/technetwork/java/javase/tech/download-jsp-141676.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javase/tech/download-jsp-141676.html</a></p>\n\n<p>...has a download button for <strong>JMX Remote API 1.0.1_04 Reference Implementation</strong>. This links to...</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-java-plat-419418.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-java-plat-419418.html</a></p>\n\n<p>... which only offers <strong>Java Management Extensions (JMX) Remote API Reference Implementation 1.0.1_03</strong>. So still a bit flaky.</p>\n"},{"tags":[],"owner":{"account_id":18897,"reputation":15976,"user_id":43786,"accept_rate":83,"display_name":"Nicholas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341924327,"creation_date":1341924327,"answer_id":11413613,"question_id":11412560,"body_markdown":"See OpenDMK at https://github.com/nickman/OpenDMK.\r\nIt&#39;s a maven build. You need the jmx-optional module.","title":"Where to download JMXMP?","body":"<p>See OpenDMK at <a href=\"https://github.com/nickman/OpenDMK\" rel=\"nofollow\">https://github.com/nickman/OpenDMK</a>.\nIt's a maven build. You need the jmx-optional module.</p>\n"},{"tags":[],"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1342622253,"creation_date":1342622253,"answer_id":11543910,"question_id":11412560,"body_markdown":"The easiest solution would to create socks proxy with `ssh -D`. See [this post][1] for more details. Than start VisualVM and set this proxy in Tools-&gt;Options-&gt;Network. You don&#39;t need to use `-J-Dnetbeans.system_socks_proxy -J-Djava.net.useSystemProxies` on VisualVM command line.\r\n\r\n\r\n  [1]: https://bowerstudios.com/node/731","title":"Where to download JMXMP?","body":"<p>The easiest solution would to create socks proxy with <code>ssh -D</code>. See <a href=\"https://bowerstudios.com/node/731\" rel=\"nofollow\">this post</a> for more details. Than start VisualVM and set this proxy in Tools->Options->Network. You don't need to use <code>-J-Dnetbeans.system_socks_proxy -J-Djava.net.useSystemProxies</code> on VisualVM command line.</p>\n"},{"tags":[],"owner":{"account_id":38079,"reputation":6558,"user_id":109079,"display_name":"Partly Cloudy"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1667995048,"creation_date":1351601230,"answer_id":13139299,"question_id":11412560,"body_markdown":"\r\nThe canonical javax.management:jmxremote_optional appears to have been removed from Maven Central [1].  (I wonder why... legions of Larry&#39;s lawyers?)\r\n\r\nFortunately the following appears to be a drop-in replacement which *is* on Maven Central [2]:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.external&lt;/groupId&gt;\r\n        &lt;artifactId&gt;opendmk_jmxremote_optional_jar&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-b01-ea&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMy JMXMP/TLS code continues to work with this, secured and with authentication on both sides.  May your mileage be equally good. :)\r\n\r\n[1] https://repo1.maven.org/maven2/javax/management/jmxremote_optional/1.0.1_04/\r\n\r\n[2] https://repo1.maven.org/maven2/org/glassfish/external/opendmk_jmxremote_optional_jar/1.0-b01-ea/","title":"Where to download JMXMP?","body":"<p>The canonical javax.management:jmxremote_optional appears to have been removed from Maven Central [1].  (I wonder why... legions of Larry's lawyers?)</p>\n<p>Fortunately the following appears to be a drop-in replacement which <em>is</em> on Maven Central [2]:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.external&lt;/groupId&gt;\n    &lt;artifactId&gt;opendmk_jmxremote_optional_jar&lt;/artifactId&gt;\n    &lt;version&gt;1.0-b01-ea&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My JMXMP/TLS code continues to work with this, secured and with authentication on both sides.  May your mileage be equally good. :)</p>\n<p>[1] <a href=\"https://repo1.maven.org/maven2/javax/management/jmxremote_optional/1.0.1_04/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/javax/management/jmxremote_optional/1.0.1_04/</a></p>\n<p>[2] <a href=\"https://repo1.maven.org/maven2/org/glassfish/external/opendmk_jmxremote_optional_jar/1.0-b01-ea/\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/glassfish/external/opendmk_jmxremote_optional_jar/1.0-b01-ea/</a></p>\n"},{"tags":[],"owner":{"account_id":4022363,"reputation":1071,"user_id":3736560,"accept_rate":22,"display_name":"Andrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407422357,"creation_date":1407422357,"answer_id":25185360,"question_id":11412560,"body_markdown":"v4.0 came out in May 2013\r\n\r\n[jmxremote_optional-repackaged jar][1]\r\n\r\n\r\n  [1]: http://mvnrepository.com/artifact/org.glassfish.main.external/jmxremote_optional-repackaged\r\n\r\n","title":"Where to download JMXMP?","body":"<p>v4.0 came out in May 2013</p>\n\n<p><a href=\"http://mvnrepository.com/artifact/org.glassfish.main.external/jmxremote_optional-repackaged\" rel=\"nofollow\">jmxremote_optional-repackaged jar</a></p>\n"}],"owner":{"account_id":31293,"reputation":43494,"user_id":85821,"accept_rate":73,"display_name":"Bart van Heukelom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7491,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":5,"score":7,"last_activity_date":1667995048,"creation_date":1341920453,"question_id":11412560,"body_markdown":"I want to profile a Java application with VisualVM, remotely via JMX. Because it&#39;s a NAT&#39;ted and firewalled EC2 instance, I can&#39;t use the default RMI approach and need to use the optional JMXMP extensions, which I must first download.\r\n\r\n&gt; NOTE – IF YOU WANT TO USE A JMXMP CONNECTOR, DOWNLOAD THE JSR 160\r\n&gt; REFERENCE IMPLEMENTATION FROM\r\n&gt; HTTP://JAVA.SUN.COM/PRODUCTS/JAVAMANAGEMENT/DOWNLOAD.HTML, AND ADD THE\r\n&gt; JMXREMOTE_OPTIONAL.JAR FILE TO YOUR CLASSPATH. YOU WILL FIND EXAMPLES\r\n&gt; OF USE OF THE JMXMP CONNECTORS IN THE JMX REMOTE API TUTORIAL INCLUDED\r\n&gt; WITH THE JSR 160 REFERENCE IMPLEMENTATION.\r\n\r\nhttp://docs.oracle.com/javase/6/docs/technotes/guides/jmx/overview/connectors.html\r\n\r\nBut when I go to that page, I cannot find the download. In fact, Google cannot find the download. Where can I get these extensions?","title":"Where to download JMXMP?","body":"<p>I want to profile a Java application with VisualVM, remotely via JMX. Because it's a NAT'ted and firewalled EC2 instance, I can't use the default RMI approach and need to use the optional JMXMP extensions, which I must first download.</p>\n\n<blockquote>\n  <p>NOTE – IF YOU WANT TO USE A JMXMP CONNECTOR, DOWNLOAD THE JSR 160\n  REFERENCE IMPLEMENTATION FROM\n  , AND ADD THE\n  JMXREMOTE_OPTIONAL.JAR FILE TO YOUR CLASSPATH. YOU WILL FIND EXAMPLES\n  OF USE OF THE JMXMP CONNECTORS IN THE JMX REMOTE API TUTORIAL INCLUDED\n  WITH THE JSR 160 REFERENCE IMPLEMENTATION.</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/jmx/overview/connectors.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/6/docs/technotes/guides/jmx/overview/connectors.html</a></p>\n\n<p>But when I go to that page, I cannot find the download. In fact, Google cannot find the download. Where can I get these extensions?</p>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667891269,"post_id":74356718,"comment_id":131269250,"body_markdown":"add full log4j file content","body":"add full log4j file content"},{"owner":{"account_id":23791468,"reputation":11,"user_id":17802855,"display_name":"Harish Algat"},"score":0,"creation_date":1667891423,"post_id":74356718,"comment_id":131269287,"body_markdown":"check now added","body":"check now added"},{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1667891506,"post_id":74356718,"comment_id":131269307,"body_markdown":"Use `${sys:logFilePath}` instead of `${logFilePath}`.","body":"Use <code>${sys:logFilePath}</code> instead of <code>${logFilePath}</code>."},{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":1,"creation_date":1667892466,"post_id":74356718,"comment_id":131269596,"body_markdown":"Does this answer your question? [Use system properties OR variables in log4j](https://stackoverflow.com/questions/14332525/use-system-properties-or-variables-in-log4j)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14332525/use-system-properties-or-variables-in-log4j\">Use system properties OR variables in log4j</a>"}],"owner":{"account_id":23791468,"reputation":11,"user_id":17802855,"display_name":"Harish Algat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667994797,"creation_date":1667890601,"question_id":74356718,"body_markdown":"I am trying to generate log file at a location using Java code, but it is not getting generated where it should get generated.\r\n\r\nSnippet:\r\n\r\n```java\r\nstatic {\r\n    try {\r\n        System.setProperty(&quot;logFilePath&quot;, System.getProperty(&quot;user.dir&quot;)+&quot;/app.log&quot;);\r\n        configLevelData = HelperMethods.getGlobalVarsFromConfig(configFilePath);\r\n        log = LogManager.getLogger(Runner.class);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\n\r\nlog4j2.xml \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;DEBUG&quot;&gt;\r\n    &lt;Appenders&gt;\r\n\r\n        &lt;RollingFile name=&quot;LogToFile&quot;\r\n                     fileName=&quot;${logFilePath}&quot;\r\n                     filePattern=&quot;{DEFAULT}&quot; append=&quot;false&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d{DEFAULT} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot;/&gt;\r\n            &lt;/Policies&gt;\r\n        &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;com.vodafone.tv.runner&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Logger name=&quot;com.vodafone.tv.utils.CollectFiles&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\n","title":"Log file is not getting generated at a desired location","body":"<p>I am trying to generate log file at a location using Java code, but it is not getting generated where it should get generated.</p>\n<p>Snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static {\n    try {\n        System.setProperty(&quot;logFilePath&quot;, System.getProperty(&quot;user.dir&quot;)+&quot;/app.log&quot;);\n        configLevelData = HelperMethods.getGlobalVarsFromConfig(configFilePath);\n        log = LogManager.getLogger(Runner.class);\n    } catch (Exception e) {\n        e.printStackTrace();\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>log4j2.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;DEBUG&quot;&gt;\n    &lt;Appenders&gt;\n\n        &lt;RollingFile name=&quot;LogToFile&quot;\n                     fileName=&quot;${logFilePath}&quot;\n                     filePattern=&quot;{DEFAULT}&quot; append=&quot;false&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d{DEFAULT} [%t] %-5level %logger{36} - %msg%n&quot;/&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;19500KB&quot;/&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;com.vodafone.tv.runner&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=&quot;com.vodafone.tv.utils.CollectFiles&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;LogToFile&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":["java","multithreading","interrupt","parallelstream"],"owner":{"account_id":26876537,"reputation":1,"user_id":20457708,"display_name":"Fr&#233;d&#233;ric Lartigo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667994542,"answer_count":0,"score":0,"last_activity_date":1667994533,"creation_date":1667988251,"question_id":74373005,"body_markdown":"I would like to interrupt all threads (“substreams”) of a Java **parallelStream**  according to a condition verified by one of them.\r\n\r\nExemple : a little piece of code to assess time needed to find a six characters password. I iterate from 1 to \\~19 billion (a to Z =\\&gt; pow(52,6)) and convert the long toward a string with my function ln.toAString(long), &quot;passwd&quot;=\\&gt;5705641243).\r\n\r\n```\r\nlong limit = 19_770_609_664L;\r\nLongStream.range(0, limit)\t\t\t\t\t\r\n\t\t\t.parallel()\r\n\t\t\t.mapToObj(i -&gt; ln.toAString(i))\r\n\t\t\t.filter(s -&gt; s.equals(&quot;passwd&quot;))\r\n\t\t\t.findFirst();\r\n```\r\n\r\nWhen one of the “substream = thread-worker” find the password the others continue to run even if they have no chance to succeed : such a pity ! \r\na way to stop all of the threads workers of the parallelStream when one of them has **completed the global goal** ?\r\n\r\nI tried using a global variable (flag) to consult before continuing or using a Future or a CompletableFuture but :\r\n1) I know how global variable, side effects ...   are bad so I look for an other way\r\n2) I didn’t really found the way to do this.\r\n\r\nI expect that the parallelStream stop as soon as one fork (one the threads workers of the parallelStream) finds the password.\r\n","title":"Stop all threads of a parallelStream","body":"<p>I would like to interrupt all threads (“substreams”) of a Java <strong>parallelStream</strong>  according to a condition verified by one of them.</p>\n<p>Exemple : a little piece of code to assess time needed to find a six characters password. I iterate from 1 to ~19 billion (a to Z =&gt; pow(52,6)) and convert the long toward a string with my function ln.toAString(long), &quot;passwd&quot;=&gt;5705641243).</p>\n<pre><code>long limit = 19_770_609_664L;\nLongStream.range(0, limit)                  \n            .parallel()\n            .mapToObj(i -&gt; ln.toAString(i))\n            .filter(s -&gt; s.equals(&quot;passwd&quot;))\n            .findFirst();\n</code></pre>\n<p>When one of the “substream = thread-worker” find the password the others continue to run even if they have no chance to succeed : such a pity !\na way to stop all of the threads workers of the parallelStream when one of them has <strong>completed the global goal</strong> ?</p>\n<p>I tried using a global variable (flag) to consult before continuing or using a Future or a CompletableFuture but :</p>\n<ol>\n<li>I know how global variable, side effects ...   are bad so I look for an other way</li>\n<li>I didn’t really found the way to do this.</li>\n</ol>\n<p>I expect that the parallelStream stop as soon as one fork (one the threads workers of the parallelStream) finds the password.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":78500,"reputation":149064,"user_id":223386,"accept_rate":99,"display_name":"hsz"},"score":5,"creation_date":1411470092,"post_id":25993225,"comment_id":40705284,"body_markdown":"http://bugs.java.com/view_bug.do?bug_id=6587184","body":"<a href=\"http://bugs.java.com/view_bug.do?bug_id=6587184\" rel=\"nofollow noreferrer\">bugs.java.com/view_bug.do?bug_id=6587184</a>"},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1411470401,"post_id":25993225,"comment_id":40705448,"body_markdown":"@hsz I just tried it on Linux too with JDK 1.6.0_15. I can reproduce it there too.","body":"@hsz I just tried it on Linux too with JDK 1.6.0_15. I can reproduce it there too."},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1411470431,"post_id":25993225,"comment_id":40705461,"body_markdown":"@hsz And I can reproduce this on my local Windows which had JDK 1.6.0_45.","body":"@hsz And I can reproduce this on my local Windows which had JDK 1.6.0_45."},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1411470452,"post_id":25993225,"comment_id":40705476,"body_markdown":"So... is this fixed in Java 7 or in Java 8?","body":"So... is this fixed in Java 7 or in Java 8?"},{"owner":{"account_id":3965515,"reputation":2640,"user_id":3271600,"accept_rate":27,"display_name":"GvSharma"},"score":0,"creation_date":1411470951,"post_id":25993225,"comment_id":40705706,"body_markdown":"Host = [stackoverflow.com].\nHost = [mail.yahoo.com].\ni got this output when i execute your code and changing first url to stackoverflow.com...","body":"Host = [stackoverflow.com]. Host = [mail.yahoo.com]. i got this output when i execute your code and changing first url to stackoverflow.com..."},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1411471138,"post_id":25993225,"comment_id":40705793,"body_markdown":"@GVSharma Good. How is this relevant to my question?","body":"@GVSharma Good. How is this relevant to my question?"},{"owner":{"account_id":3965515,"reputation":2640,"user_id":3271600,"accept_rate":27,"display_name":"GvSharma"},"score":0,"creation_date":1411471366,"post_id":25993225,"comment_id":40705893,"body_markdown":"you said it is giving null na...just i copied that part of your code and i run it in my pc it is giving host name right..?same result i posted in above comment.","body":"you said it is giving null na...just i copied that part of your code and i run it in my pc it is giving host name right..?same result i posted in above comment."},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1411471430,"post_id":25993225,"comment_id":40705923,"body_markdown":"@GVSharma The example you give is irrelevant. Read the answers below.","body":"@GVSharma The example you give is irrelevant. Read the answers below."}],"answers":[{"comments":[{"owner":{"account_id":1005727,"reputation":1276,"user_id":1019562,"accept_rate":64,"display_name":"TheWhiteLlama"},"score":0,"creation_date":1667925689,"post_id":25993570,"comment_id":131282194,"body_markdown":"took me way too long to find this post. You saved my week, thanks!","body":"took me way too long to find this post. You saved my week, thanks!"},{"owner":{"account_id":1432392,"reputation":1050,"user_id":1354517,"accept_rate":85,"display_name":"Gautam"},"score":0,"creation_date":1688966360,"post_id":25993570,"comment_id":135140334,"body_markdown":"if you are working jdk 8 as of today .. this post is a life saver. not sure when this bug was fixed or is it still relevant. I had my docker container names with &#39;_&#39; &#39;s in them.. and wasted around 3 days to find this post :(","body":"if you are working jdk 8 as of today .. this post is a life saver. not sure when this bug was fixed or is it still relevant. I had my docker container names with &#39;_&#39; &#39;s in them.. and wasted around 3 days to find this post :("},{"owner":{"account_id":6349978,"reputation":56,"user_id":4929350,"display_name":"Alex Chumakin"},"score":0,"creation_date":1697098299,"post_id":25993570,"comment_id":136237426,"body_markdown":"wow thanks!\nAnd it&#39;s not fixed in Java 17 as well ;)","body":"wow thanks! And it&#39;s not fixed in Java 17 as well ;)"}],"tags":[],"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"comment_count":3,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1667992704,"creation_date":1411470609,"answer_id":25993570,"question_id":25993225,"body_markdown":"As mentioned in the comments by @hsz it is a known [bug][1].\r\n\r\nBut, let&#39;s debug and look inside the sources of `URI` class. The problem is inside the method:\r\n\r\n`private int parseHostname(int start, int n)`:\r\n\r\nparsing first URI fails at lines `if ((p &lt; n) &amp;&amp; !at(p, n, &#39;:&#39;))\r\n                fail(&quot;Illegal character in hostname&quot;, p);`\r\n\r\nthis is because `_` symbol isn&#39;t foreseen inside the scan block, so it allows only alphas, digits and `-`symbol (`L_ALPHANUM`, `H_ALPHANUM`, `L_DASH` and `H_DASH`).\r\n\r\nAnd yes, this is not yet fixed in `Java 7`.\r\n\r\n\r\n  [1]: http://bugs.java.com/view_bug.do?bug_id=6587184","title":"URI - getHost returns null. Why?","body":"<p>As mentioned in the comments by @hsz it is a known <a href=\"http://bugs.java.com/view_bug.do?bug_id=6587184\" rel=\"nofollow noreferrer\">bug</a>.</p>\n<p>But, let's debug and look inside the sources of <code>URI</code> class. The problem is inside the method:</p>\n<p><code>private int parseHostname(int start, int n)</code>:</p>\n<p>parsing first URI fails at lines <code>if ((p &lt; n) &amp;&amp; !at(p, n, ':')) fail(&quot;Illegal character in hostname&quot;, p);</code></p>\n<p>this is because <code>_</code> symbol isn't foreseen inside the scan block, so it allows only alphas, digits and <code>-</code>symbol (<code>L_ALPHANUM</code>, <code>H_ALPHANUM</code>, <code>L_DASH</code> and <code>H_DASH</code>).</p>\n<p>And yes, this is not yet fixed in <code>Java 7</code>.</p>\n"},{"comments":[{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":0,"creation_date":1411471644,"post_id":25993664,"comment_id":40706025,"body_markdown":"I noticed this. The question was if this is expected or not. Turned out to be a bug in the Java API code.","body":"I noticed this. The question was if this is expected or not. Turned out to be a bug in the Java API code."}],"tags":[],"owner":{"account_id":4038747,"reputation":2488,"user_id":3322203,"accept_rate":20,"display_name":"Danial Hussain"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1411470910,"creation_date":1411470910,"answer_id":25993664,"question_id":25993225,"body_markdown":"It&#39;s because of underscore in base uri.\r\nJust Remove underscore to check that out.It&#39;s working.\r\n\r\nLike given below :\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n    java.net.URI uri = new java.net.URI(&quot;http://brokenarrow.huntingtonhelps.com&quot;);\r\n    String host = uri.getHost();\r\n    System.out.println(&quot;Host = [&quot; + host + &quot;].&quot;);\r\n\r\n    uri = new java.net.URI(&quot;http://mail.yahoo.com&quot;);\r\n    host = uri.getHost();\r\n    System.out.println(&quot;Host = [&quot; + host + &quot;].&quot;);\r\n}","title":"URI - getHost returns null. Why?","body":"<p>It's because of underscore in base uri.\nJust Remove underscore to check that out.It's working.</p>\n\n<p>Like given below :</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\njava.net.URI uri = new java.net.URI(\"http://brokenarrow.huntingtonhelps.com\");\nString host = uri.getHost();\nSystem.out.println(\"Host = [\" + host + \"].\");\n\nuri = new java.net.URI(\"http://mail.yahoo.com\");\nhost = uri.getHost();\nSystem.out.println(\"Host = [\" + host + \"].\");\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":507466,"reputation":29,"user_id":1604599,"display_name":"Paul Loy"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1415149495,"creation_date":1415149495,"answer_id":26748054,"question_id":25993225,"body_markdown":"I don&#39;t think it&#39;s a bug in Java, I think Java is parsing hostnames correctly according to the spec, there are good explanations of the spec here: http://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_host_names and here: http://www.netregister.biz/faqit.htm#1\r\n\r\nSpecifically hostnames MUST NOT contain underscores.","title":"URI - getHost returns null. Why?","body":"<p>I don't think it's a bug in Java, I think Java is parsing hostnames correctly according to the spec, there are good explanations of the spec here: <a href=\"http://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_host_names\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Hostname#Restrictions_on_valid_host_names</a> and here: <a href=\"http://www.netregister.biz/faqit.htm#1\" rel=\"nofollow\">http://www.netregister.biz/faqit.htm#1</a></p>\n\n<p>Specifically hostnames MUST NOT contain underscores.</p>\n"},{"tags":[],"owner":{"account_id":468974,"reputation":3420,"user_id":875265,"display_name":"fycth"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465920102,"creation_date":1465919505,"answer_id":37816748,"question_id":25993225,"body_markdown":"As mentioned, it is a known JVM bug.\r\nAlthough, if you want to do an HTTP request to such a host, you still can try to use a workaround.\r\nThe main idea is to construct request basing on the IP, not on the &#39;wrong&#39; hostname. But in that case you also need to add &quot;Host&quot; header to the request, with the correct (original) hostname.\r\n\r\n1: Cut hostname from the URL (it&#39;s a rough example, you can use some more smart way):\r\n\r\n    int n = url.indexOf(&quot;://&quot;);  \r\n    if (n &gt; 0) { n += 3; } else { n = 0; }  \r\n    int m = url.indexOf(&quot;:&quot;, n);\r\n    int k = url.indexOf(&quot;/&quot;, n);  \r\n    if (-1 == m) { m = k; }  \r\n    String hostHeader;  \r\n    if (k &gt; -1) {  \r\n      hostHeader = url.substring(n, k);  \r\n    } else {  \r\n      hostHeader = url.substring(n);  \r\n    }\r\n    String hostname;  \r\n    if (m &gt; -1) {  \r\n      hostname = url.substring(n, m);  \r\n    } else {  \r\n      hostname = url.substring(n);  \r\n    }  \r\n\r\n2: Get hostname&#39;s IP:\r\n\r\n    String IP = InetAddress.getByName(hostname).getHostAddress();\r\n\r\n3: Construct new URL basing on the IP:\r\n\r\n    String newURL = url.substring(0, n) + IP + url.substring(m);\r\n\r\n4: Now use an HTTP library for preparing request on the new URL (pseudocode):\r\n\r\n    HttpRequest req = ApacheHTTP.get(newUrl);\r\n\r\n5: And now you should add &quot;Host&quot; header with the correct (original) hostname:\r\n\r\n    req.addHeader(&quot;Host&quot;, hostHeader);\r\n\r\n6: Now you can do the request (pseudocode):\r\n\r\n    String resp = req.getResponse().asString();\r\n\r\n\r\n","title":"URI - getHost returns null. Why?","body":"<p>As mentioned, it is a known JVM bug.\nAlthough, if you want to do an HTTP request to such a host, you still can try to use a workaround.\nThe main idea is to construct request basing on the IP, not on the 'wrong' hostname. But in that case you also need to add \"Host\" header to the request, with the correct (original) hostname.</p>\n\n<p>1: Cut hostname from the URL (it's a rough example, you can use some more smart way):</p>\n\n<pre><code>int n = url.indexOf(\"://\");  \nif (n &gt; 0) { n += 3; } else { n = 0; }  \nint m = url.indexOf(\":\", n);\nint k = url.indexOf(\"/\", n);  \nif (-1 == m) { m = k; }  \nString hostHeader;  \nif (k &gt; -1) {  \n  hostHeader = url.substring(n, k);  \n} else {  \n  hostHeader = url.substring(n);  \n}\nString hostname;  \nif (m &gt; -1) {  \n  hostname = url.substring(n, m);  \n} else {  \n  hostname = url.substring(n);  \n}  \n</code></pre>\n\n<p>2: Get hostname's IP:</p>\n\n<pre><code>String IP = InetAddress.getByName(hostname).getHostAddress();\n</code></pre>\n\n<p>3: Construct new URL basing on the IP:</p>\n\n<pre><code>String newURL = url.substring(0, n) + IP + url.substring(m);\n</code></pre>\n\n<p>4: Now use an HTTP library for preparing request on the new URL (pseudocode):</p>\n\n<pre><code>HttpRequest req = ApacheHTTP.get(newUrl);\n</code></pre>\n\n<p>5: And now you should add \"Host\" header with the correct (original) hostname:</p>\n\n<pre><code>req.addHeader(\"Host\", hostHeader);\n</code></pre>\n\n<p>6: Now you can do the request (pseudocode):</p>\n\n<pre><code>String resp = req.getResponse().asString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247716,"reputation":1009,"user_id":2047385,"display_name":"xorcus"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553795148,"creation_date":1553795148,"answer_id":55403924,"question_id":25993225,"body_markdown":"Consider using: `new java.net.URL(&quot;http://broken_arrow.huntingtonhelps.com&quot;).getHost()` instead. It has alternative parsing implementation. If you have an `URI myUri` instance, then call `myUri.toURL().getHost()`.\r\n\r\nI faced this `URI` issue in OpenJDK 1.8 and it worked fine with `URL`.","title":"URI - getHost returns null. Why?","body":"<p>Consider using: <code>new java.net.URL(\"http://broken_arrow.huntingtonhelps.com\").getHost()</code> instead. It has alternative parsing implementation. If you have an <code>URI myUri</code> instance, then call <code>myUri.toURL().getHost()</code>.</p>\n\n<p>I faced this <code>URI</code> issue in OpenJDK 1.8 and it worked fine with <code>URL</code>.</p>\n"}],"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11796,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":25993570,"answer_count":5,"score":20,"last_activity_date":1667992704,"creation_date":1411469507,"question_id":25993225,"body_markdown":"Why is the 1st one returning `null`, while the 2nd one is returning `mail.yahoo.com`?\r\n\r\nIsn&#39;t this weird? If not, what&#39;s the logic behind this behavior?  \r\n\r\nIs the underscore the culprit? Why? \r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tjava.net.URI uri = new java.net.URI(&quot;http://broken_arrow.huntingtonhelps.com&quot;);\r\n\t\tString host = uri.getHost();\r\n\t\tSystem.out.println(&quot;Host = [&quot; + host + &quot;].&quot;);\r\n\t\t\r\n\t\turi = new java.net.URI(&quot;http://mail.yahoo.com&quot;);\r\n\t\thost = uri.getHost();\r\n\t\tSystem.out.println(&quot;Host = [&quot; + host + &quot;].&quot;);\r\n\t}\r\n\r\n\r\n","title":"URI - getHost returns null. Why?","body":"<p>Why is the 1st one returning <code>null</code>, while the 2nd one is returning <code>mail.yahoo.com</code>?</p>\n\n<p>Isn't this weird? If not, what's the logic behind this behavior?  </p>\n\n<p>Is the underscore the culprit? Why? </p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    java.net.URI uri = new java.net.URI(\"http://broken_arrow.huntingtonhelps.com\");\n    String host = uri.getHost();\n    System.out.println(\"Host = [\" + host + \"].\");\n\n    uri = new java.net.URI(\"http://mail.yahoo.com\");\n    host = uri.getHost();\n    System.out.println(\"Host = [\" + host + \"].\");\n}\n</code></pre>\n"},{"tags":["java","printing"],"comments":[{"owner":{"account_id":286782,"reputation":3674,"user_id":586229,"accept_rate":20,"display_name":"hoijui"},"score":0,"creation_date":1436353837,"post_id":31290875,"comment_id":50572811,"body_markdown":"why not use the java api for printing?","body":"why not use the java api for printing?"},{"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":3,"creation_date":1436353894,"post_id":31290875,"comment_id":50572846,"body_markdown":"You can start by writing a printer driver. Drivers are _required_ to provide an API to talk to hardware. Whether you _want_ to install one or not is not relevant.","body":"You can start by writing a printer driver. Drivers are <i>required</i> to provide an API to talk to hardware. Whether you <i>want</i> to install one or not is not relevant."},{"owner":{"account_id":6544596,"reputation":442,"user_id":5061004,"accept_rate":100,"display_name":"Altay Mazlum"},"score":1,"creation_date":1436353931,"post_id":31290875,"comment_id":50572870,"body_markdown":"See http://stackoverflow.com/help/how-to-ask. Your typing made me dizzy.","body":"See <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>. Your typing made me dizzy."},{"owner":{"account_id":6591126,"reputation":13,"user_id":5092238,"display_name":"Praful Jain"},"score":0,"creation_date":1436353966,"post_id":31290875,"comment_id":50572890,"body_markdown":"java api is useful whenever I will install printer Driver but I don&#39;t want to install printer driver","body":"java api is useful whenever I will install printer Driver but I don&#39;t want to install printer driver"},{"owner":{"account_id":6591126,"reputation":13,"user_id":5092238,"display_name":"Praful Jain"},"score":0,"creation_date":1436354060,"post_id":31290875,"comment_id":50572957,"body_markdown":"can i Use java pos for this task","body":"can i Use java pos for this task"}],"answers":[{"comments":[{"owner":{"account_id":6591126,"reputation":13,"user_id":5092238,"display_name":"Praful Jain"},"score":0,"creation_date":1436424388,"post_id":31291673,"comment_id":50608532,"body_markdown":"Bro Thanks for your valuable response but I want to know that can I operate my printer through Java API without installing printer Driver please try to help me #KDM","body":"Bro Thanks for your valuable response but I want to know that can I operate my printer through Java API without installing printer Driver please try to help me #KDM"},{"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"score":0,"creation_date":1436425299,"post_id":31291673,"comment_id":50609062,"body_markdown":"This API doesn&#39;t require any driver as it connects directly to the LPT1 etc. Try it out and see whether it helps.","body":"This API doesn&#39;t require any driver as it connects directly to the LPT1 etc. Try it out and see whether it helps."},{"owner":{"account_id":6591126,"reputation":13,"user_id":5092238,"display_name":"Praful Jain"},"score":0,"creation_date":1436426829,"post_id":31291673,"comment_id":50610019,"body_markdown":"Hey KDM I used your valuable suggestion in my application ,its working properly but the problem is printer is getting the value but its not printing anything even its not print a blank page  and I want to know about how to send command to printer for printing anything if driver is not installed","body":"Hey KDM I used your valuable suggestion in my application ,its working properly but the problem is printer is getting the value but its not printing anything even its not print a blank page  and I want to know about how to send command to printer for printing anything if driver is not installed"},{"owner":{"account_id":6591126,"reputation":13,"user_id":5092238,"display_name":"Praful Jain"},"score":0,"creation_date":1436427192,"post_id":31291673,"comment_id":50610224,"body_markdown":"Below I am posting my coding its working but not printing anything even printer is connected to my pc through LPT1 parallel port but I don&#39;t Want to install printer driver..i want to get a print directly from java coding","body":"Below I am posting my coding its working but not printing anything even printer is connected to my pc through LPT1 parallel port but I don&#39;t Want to install printer driver..i want to get a print directly from java coding"}],"tags":[],"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436355944,"creation_date":1436355944,"answer_id":31291673,"question_id":31290875,"body_markdown":"What you may want is to use Java Communications API. This API allows you to access Parallel port, serial ports etc.\r\n\r\nHave a look at oracle site: http://www.oracle.com/technetwork/java/index-jsp-141752.html\r\n","title":"how to connect printer to java application without using printer driver","body":"<p>What you may want is to use Java Communications API. This API allows you to access Parallel port, serial ports etc.</p>\n\n<p>Have a look at oracle site: <a href=\"http://www.oracle.com/technetwork/java/index-jsp-141752.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/index-jsp-141752.html</a></p>\n"}],"owner":{"account_id":6591126,"reputation":13,"user_id":5092238,"display_name":"Praful Jain"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2987,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1667992507,"creation_date":1436353687,"question_id":31290875,"body_markdown":"I am developing an application in  JAVA swing in which I have to use a printer to print receipt and my printer name is `EPSON thermal printer` model is `TM-TM-T88IV` (Running on parallel port `LPT1`).\r\n\r\nI want to connect this printer in My JAVA app but the condition is that I don&#39;t want to install printer driver, I want to manually operate Printer. But have no idea how to start.","title":"how to connect printer to java application without using printer driver","body":"<p>I am developing an application in  JAVA swing in which I have to use a printer to print receipt and my printer name is <code>EPSON thermal printer</code> model is <code>TM-TM-T88IV</code> (Running on parallel port <code>LPT1</code>).</p>\n\n<p>I want to connect this printer in My JAVA app but the condition is that I don't want to install printer driver, I want to manually operate Printer. But have no idea how to start.</p>\n"},{"tags":["java","bytecode","javap"],"answers":[{"comments":[{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1667991088,"post_id":74373444,"comment_id":131298017,"body_markdown":"`the character $ which can&#39;t occur in a proper Java language identifier` The user can use `$` as part of the identifier.","body":"<code>the character $ which can&#39;t occur in a proper Java language identifier</code> The user can use <code>$</code> as part of the identifier."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1667992456,"post_id":74373444,"comment_id":131298486,"body_markdown":"@英語は苦手: you&#39;re right, I misremembered this part. I&#39;ve updated that section.","body":"@英語は苦手: you&#39;re right, I misremembered this part. I&#39;ve updated that section."}],"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667992438,"creation_date":1667990155,"answer_id":74373444,"question_id":74373395,"body_markdown":"First: The &quot;name&quot; of that class is effectively irrelevant, since it&#39;s an anonymous name, i.e. it&#39;s generated and not for the developer to know or care about.\r\n\r\nSecond: `AnonymousTestApp$1` is used (by this compiler, that&#39;s not defined in the standard) to indicate the first anonymous subclass *contained in* the code of `AnonymousTestApp`.\r\n\r\n`TestClass$1` would be the name if the anonymous class was defined inside of `TestClass`.\r\n\r\nThink about this problem: If multiple classes in the same package created anonymous subclasses of the same base class, how would they coordinat to avoid name clashes? Using the name of the current top-level class as the prefix avoids such a potential clash.\r\n\r\nWhile `$` *can* be apart of a normal Java identifier, it is [explicitly discouraged in the JLS][1]:\r\n\r\n&gt; The dollar sign should be used only in mechanically generated source code or, rarely, to access pre-existing names on legacy systems. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se19/html/jls-3.html#jls-3.8","title":"Why does an anonymous inner class have such type when I disassemble the class file using javac?","body":"<p>First: The &quot;name&quot; of that class is effectively irrelevant, since it's an anonymous name, i.e. it's generated and not for the developer to know or care about.</p>\n<p>Second: <code>AnonymousTestApp$1</code> is used (by this compiler, that's not defined in the standard) to indicate the first anonymous subclass <em>contained in</em> the code of <code>AnonymousTestApp</code>.</p>\n<p><code>TestClass$1</code> would be the name if the anonymous class was defined inside of <code>TestClass</code>.</p>\n<p>Think about this problem: If multiple classes in the same package created anonymous subclasses of the same base class, how would they coordinat to avoid name clashes? Using the name of the current top-level class as the prefix avoids such a potential clash.</p>\n<p>While <code>$</code> <em>can</em> be apart of a normal Java identifier, it is <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-3.html#jls-3.8\" rel=\"nofollow noreferrer\">explicitly discouraged in the JLS</a>:</p>\n<blockquote>\n<p>The dollar sign should be used only in mechanically generated source code or, rarely, to access pre-existing names on legacy systems.</p>\n</blockquote>\n"}],"owner":{"account_id":12319723,"reputation":33,"user_id":8989302,"display_name":"ChpokHead"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74373444,"answer_count":1,"score":0,"last_activity_date":1667992438,"creation_date":1667989928,"question_id":74373395,"body_markdown":"When I disassembled the code given below, I noticed that the TestClass&#39;s anonymous inner class in constant pool is displayed as &#39;AnonymousTestApp$1&#39;, but shouldn&#39;t it be &#39;TestClass$1&#39;?\r\n\r\nThe code:\r\n```\r\npublic class AnonymousTestApp {\r\n    public static void main(String[] args) {\r\n        TestClass tc = new TestClass(){\r\n\r\n        };\r\n    }\r\n}\r\n```\r\nCompiled using Oracle JDK 17 and disassembled using &#39;javap -c -p -v&#39;.","title":"Why does an anonymous inner class have such type when I disassemble the class file using javac?","body":"<p>When I disassembled the code given below, I noticed that the TestClass's anonymous inner class in constant pool is displayed as 'AnonymousTestApp$1', but shouldn't it be 'TestClass$1'?</p>\n<p>The code:</p>\n<pre><code>public class AnonymousTestApp {\n    public static void main(String[] args) {\n        TestClass tc = new TestClass(){\n\n        };\n    }\n}\n</code></pre>\n<p>Compiled using Oracle JDK 17 and disassembled using 'javap -c -p -v'.</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":21241583,"reputation":151,"user_id":15624965,"display_name":"Daniele Scalco"},"score":0,"creation_date":1667987445,"post_id":74372535,"comment_id":131296733,"body_markdown":"It doesn&#39;t work, the name of the method is not ok","body":"It doesn&#39;t work, the name of the method is not ok"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1667991089,"post_id":74372535,"comment_id":131298018,"body_markdown":"Could you show us `executeStoredProcedure` signature - on my machine your code works perfectly fine - the type of anyMap() is inferred desired Map&lt;String, Object&gt;","body":"Could you show us <code>executeStoredProcedure</code> signature - on my machine your code works perfectly fine - the type of anyMap() is inferred desired Map&lt;String, Object&gt;"},{"owner":{"account_id":21241583,"reputation":151,"user_id":15624965,"display_name":"Daniele Scalco"},"score":0,"creation_date":1667991991,"post_id":74372535,"comment_id":131298300,"body_markdown":"`@Override\n    public void executeStoredProcedure(String query, Map&lt;String, Object&gt; parameters) throws RepositoryException { }`","body":"<code>@Override     public void executeStoredProcedure(String query, Map&lt;String, Object&gt; parameters) throws RepositoryException { }</code>"}],"answers":[{"tags":[],"owner":{"account_id":21241583,"reputation":151,"user_id":15624965,"display_name":"Daniele Scalco"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667991808,"creation_date":1667991808,"answer_id":74373837,"question_id":74372535,"body_markdown":"After a bit of research I founded how to do that: instead of using *anyMap* I have to use *ArgumentMatchers.&lt;String, Object&gt;anyMap()*","title":"Mockito Map type","body":"<p>After a bit of research I founded how to do that: instead of using <em>anyMap</em> I have to use <em>ArgumentMatchers.&lt;String, Object&gt;anyMap()</em></p>\n"}],"owner":{"account_id":21241583,"reputation":151,"user_id":15624965,"display_name":"Daniele Scalco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667991808,"creation_date":1667985880,"question_id":74372535,"body_markdown":"That&#39;s my code:\r\n\r\n```\r\n@Test(expected = ThirdLevelException.class) public void buildChMarginStockTest3() throws Exception{\r\n\t\t\r\n\twhen(clhCategoryHistoryDAO.countById(anyString() , any(Date.class), any(Date.class), anyInt()))\r\n\t\t.thenReturn(0L);\r\n\tdoThrow(new RepositoryException()).when(genericDAO).executeStoredProcedure(anyString(), anyMap());\r\n\t\t\r\n\tupdateMatViewNInfoTradesPaiNpvIccBean.elabThirdLevel(clhCategoryLoad, envelopeBean);\r\n\t\t\r\n}\r\n```\r\n\r\nThe problem is that *genericDAO.executeStoredProcedure()* needs two parameters: a String and a Map&lt;String, Object&gt;. The code as it is now is not good cause has an error: *The method executeStoredProcedure(String, Map&lt;String,Object&gt;) in the type GenericDAO is not applicable for the arguments (String, Map&lt;Object,Object&gt;)*.\r\n\r\nHow can I solve this?","title":"Mockito Map type","body":"<p>That's my code:</p>\n<pre><code>@Test(expected = ThirdLevelException.class) public void buildChMarginStockTest3() throws Exception{\n        \n    when(clhCategoryHistoryDAO.countById(anyString() , any(Date.class), any(Date.class), anyInt()))\n        .thenReturn(0L);\n    doThrow(new RepositoryException()).when(genericDAO).executeStoredProcedure(anyString(), anyMap());\n        \n    updateMatViewNInfoTradesPaiNpvIccBean.elabThirdLevel(clhCategoryLoad, envelopeBean);\n        \n}\n</code></pre>\n<p>The problem is that <em>genericDAO.executeStoredProcedure()</em> needs two parameters: a String and a Map&lt;String, Object&gt;. The code as it is now is not good cause has an error: <em>The method executeStoredProcedure(String, Map&lt;String,Object&gt;) in the type GenericDAO is not applicable for the arguments (String, Map&lt;Object,Object&gt;)</em>.</p>\n<p>How can I solve this?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1668006233,"post_id":74373735,"comment_id":131303664,"body_markdown":"In G1, besides eden/survivor/old regions, there are humongous regions. jstat numbers make sense mostly for old-fashioned collectors; with a modern JVM, it&#39;s better to use JMX for monitoring.","body":"In G1, besides eden/survivor/old regions, there are humongous regions. jstat numbers make sense mostly for old-fashioned collectors; with a modern JVM, it&#39;s better to use JMX for monitoring."},{"owner":{"account_id":95140,"reputation":7103,"user_id":259288,"accept_rate":77,"display_name":"Johnny"},"score":0,"creation_date":1668078536,"post_id":74373735,"comment_id":131322004,"body_markdown":"@apangin Then I still don&#39;t understand. Using JMXTERM I do `get -b java.lang:type=Memory *` and get 15082496248 bytes for heap usage. When I do the same for Eden space with `get java.lang:name=G1\\\\ Eden\\\\ Space,type=MemoryPool *` I get 17968398336 for usage, which is larger than the whole heap. What am I doing wrong?","body":"@apangin Then I still don&#39;t understand. Using JMXTERM I do <code>get -b java.lang:type=Memory *</code> and get 15082496248 bytes for heap usage. When I do the same for Eden space with <code>get java.lang:name=G1\\\\ Eden\\\\ Space,type=MemoryPool *</code> I get 17968398336 for usage, which is larger than the whole heap. What am I doing wrong?"}],"owner":{"account_id":95140,"reputation":7103,"user_id":259288,"accept_rate":77,"display_name":"Johnny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667991376,"creation_date":1667991376,"question_id":74373735,"body_markdown":"I&#39;m trying to understand the output of various JVM memory diagnostics. First thing I do,\r\n\r\n```\r\n$ jcmd 27263 GC.heap_info\r\n27263:\r\n garbage-first heap   total 29319168K, used 16150310K [0x00000000c3000000, 0x00000000c3806fd8, 0x00000007c0800000)\r\n  region size 8192K, 1132 young (9273344K), 8 survivors (65536K)\r\n Metaspace       used 457222K, capacity 526687K, committed 526848K, reserved 1507328K\r\n  class space    used 50629K, capacity 68310K, committed 68352K, reserved 1048576K\r\n```\r\n\r\nSo the used heap size is 16150310k/(1024^2) = 15.4GB. And now I do:\r\n```\r\n$ jstat -gc 27263\r\n S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT\r\n 0.0   65536.0  0.0   65536.0 2547712.0 1736704.0 26705920.0 6794156.1  527104.0 457297.5 68352.0 50635.9   1876  212.356   0      0.000  212.356\r\n```\r\n\r\nAnd I add up S1U (S1 survivor space utilization), EU (Eden space utilization), OU (Old gen utilization): 65536.0 + 1736704.0 + 6794156.1 = 8,596,396.1K = 8.2GB.\r\n\r\nWhat am I missing here? Why does Eden + survivor + Old gen ≠ heap?","title":"JVM memory stats don&#39;t make sense to me","body":"<p>I'm trying to understand the output of various JVM memory diagnostics. First thing I do,</p>\n<pre><code>$ jcmd 27263 GC.heap_info\n27263:\n garbage-first heap   total 29319168K, used 16150310K [0x00000000c3000000, 0x00000000c3806fd8, 0x00000007c0800000)\n  region size 8192K, 1132 young (9273344K), 8 survivors (65536K)\n Metaspace       used 457222K, capacity 526687K, committed 526848K, reserved 1507328K\n  class space    used 50629K, capacity 68310K, committed 68352K, reserved 1048576K\n</code></pre>\n<p>So the used heap size is 16150310k/(1024^2) = 15.4GB. And now I do:</p>\n<pre><code>$ jstat -gc 27263\n S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT\n 0.0   65536.0  0.0   65536.0 2547712.0 1736704.0 26705920.0 6794156.1  527104.0 457297.5 68352.0 50635.9   1876  212.356   0      0.000  212.356\n</code></pre>\n<p>And I add up S1U (S1 survivor space utilization), EU (Eden space utilization), OU (Old gen utilization): 65536.0 + 1736704.0 + 6794156.1 = 8,596,396.1K = 8.2GB.</p>\n<p>What am I missing here? Why does Eden + survivor + Old gen ≠ heap?</p>\n"},{"tags":["java","selenium","junit5"],"answers":[{"tags":[],"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667886564,"creation_date":1667886564,"answer_id":74356186,"question_id":74352979,"body_markdown":"Instead of \r\n\r\n    @IncludeTags({&quot;CC&quot; &amp; &quot;USERMENU&quot;})\r\n\r\ntry\r\n\r\n    @IncludeTags({&quot;CC&amp;USERMENU&quot;})","title":"@IncludeTags with &amp; to only include tests with both tags","body":"<p>Instead of</p>\n<pre><code>@IncludeTags({&quot;CC&quot; &amp; &quot;USERMENU&quot;})\n</code></pre>\n<p>try</p>\n<pre><code>@IncludeTags({&quot;CC&amp;USERMENU&quot;})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26860384,"reputation":3,"user_id":20443992,"display_name":"Hazel Egan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667991329,"creation_date":1667991329,"answer_id":74373726,"question_id":74352979,"body_markdown":"Thank you johanneslink! You put me on the right track!\r\n\r\nAs CC and USERMENU are constant Strings I needed to edit your suggestion slightly and this now works for me:\r\n\r\n```\r\n@IncludeTags({CC+&quot;&amp;&quot;+USERMENU})\r\n```\r\n\r\nThanks so much, I have much cleaner Suites now!","title":"@IncludeTags with &amp; to only include tests with both tags","body":"<p>Thank you johanneslink! You put me on the right track!</p>\n<p>As CC and USERMENU are constant Strings I needed to edit your suggestion slightly and this now works for me:</p>\n<pre><code>@IncludeTags({CC+&quot;&amp;&quot;+USERMENU})\n</code></pre>\n<p>Thanks so much, I have much cleaner Suites now!</p>\n"}],"owner":{"account_id":26860384,"reputation":3,"user_id":20443992,"display_name":"Hazel Egan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74356186,"answer_count":2,"score":0,"last_activity_date":1667991329,"creation_date":1667855405,"question_id":74352979,"body_markdown":"I have a selenium project in Java using JUnit5. I have some suites and several tests with tags. I want to have a suite that runs all tests with **both** tags\r\n\r\nAn example of a suite is:\r\n\r\n```\r\n@SelectClasses(ScreenshotComparisonTests.class)\r\n@IncludeTags({&quot;CC&quot;})\r\n@ExcludeTags({&quot;CASH&quot;, &quot;FINANCIAL&quot;, &quot;HACCP&quot;, &quot;HRM&quot;, &quot;INVENTORY&quot;, &quot;OPERATIONS&quot;, &quot;PURCHASING&quot;, &quot;REPORTING&quot;})\r\n@Suite\r\n@SuiteDisplayName(&quot;C User Menu Screenshots Comparison Tests&quot;)\r\npublic class CUserMenuScreenshotComparisonSuite {\r\n}\r\n```\r\n\r\n\r\nBut instead of listing all of the tags to exclude, I&#39;d rather have something like:\r\n\r\n\r\n\r\n```\r\n@SelectClasses(ScreenshotComparisonTests.class)\r\n@IncludeTags({&quot;CC&quot; &amp; &quot;USERMENU&quot;})\r\n@Suite\r\n@SuiteDisplayName(&quot;C User Menu Screenshots Comparison Tests&quot;)\r\npublic class CUserMenuScreenshotComparisonSuite {\r\n}\r\n```\r\n\r\nBut intellij highlights that &amp; as not allowed here. I have read that this is acceptable here https://junit.org/junit5/docs/current/user-guide/#running-tests-tag-expressions\r\n\r\nTried using:\r\n- @IncludeTags(&quot;CC&quot; &amp; &quot;USERMENU&quot;)\r\n- @IncludeTags{(&quot;CC&quot; &amp; &quot;USERMENU&quot;)}\r\n- @IncludeTags{&quot;CC&quot; &amp; &quot;USERMENU&quot;}\r\n- @IncludeTags{(&quot;CC&quot; &amp;&amp; &quot;USERMENU&quot;)}\r\n\r\n\r\n\r\n```\r\n\r\njava: bad operand types for binary operator &#39;&amp;&#39;\r\n  first type:  java.lang.String\r\n  second type: java.lang.String\r\n\r\n```\r\n","title":"@IncludeTags with &amp; to only include tests with both tags","body":"<p>I have a selenium project in Java using JUnit5. I have some suites and several tests with tags. I want to have a suite that runs all tests with <strong>both</strong> tags</p>\n<p>An example of a suite is:</p>\n<pre><code>@SelectClasses(ScreenshotComparisonTests.class)\n@IncludeTags({&quot;CC&quot;})\n@ExcludeTags({&quot;CASH&quot;, &quot;FINANCIAL&quot;, &quot;HACCP&quot;, &quot;HRM&quot;, &quot;INVENTORY&quot;, &quot;OPERATIONS&quot;, &quot;PURCHASING&quot;, &quot;REPORTING&quot;})\n@Suite\n@SuiteDisplayName(&quot;C User Menu Screenshots Comparison Tests&quot;)\npublic class CUserMenuScreenshotComparisonSuite {\n}\n</code></pre>\n<p>But instead of listing all of the tags to exclude, I'd rather have something like:</p>\n<pre><code>@SelectClasses(ScreenshotComparisonTests.class)\n@IncludeTags({&quot;CC&quot; &amp; &quot;USERMENU&quot;})\n@Suite\n@SuiteDisplayName(&quot;C User Menu Screenshots Comparison Tests&quot;)\npublic class CUserMenuScreenshotComparisonSuite {\n}\n</code></pre>\n<p>But intellij highlights that &amp; as not allowed here. I have read that this is acceptable here <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-tag-expressions\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#running-tests-tag-expressions</a></p>\n<p>Tried using:</p>\n<ul>\n<li>@IncludeTags(&quot;CC&quot; &amp; &quot;USERMENU&quot;)</li>\n<li>@IncludeTags{(&quot;CC&quot; &amp; &quot;USERMENU&quot;)}</li>\n<li>@IncludeTags{&quot;CC&quot; &amp; &quot;USERMENU&quot;}</li>\n<li>@IncludeTags{(&quot;CC&quot; &amp;&amp; &quot;USERMENU&quot;)}</li>\n</ul>\n<pre><code>\njava: bad operand types for binary operator '&amp;'\n  first type:  java.lang.String\n  second type: java.lang.String\n\n</code></pre>\n"},{"tags":["java","object","wso2"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":1,"creation_date":1667990040,"post_id":74373373,"comment_id":131297633,"body_markdown":"You need to convert your string first to an object that contains name and marks attributes using Json converters. There are many...","body":"You need to convert your string first to an object that contains name and marks attributes using Json converters. There are many..."},{"owner":{"account_id":3103561,"reputation":13351,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"score":0,"creation_date":1667999992,"post_id":74373373,"comment_id":131301127,"body_markdown":"@YoucefLaidani What are you trying to do here? Can you explain your full use case?","body":"@YoucefLaidani What are you trying to do here? Can you explain your full use case?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1668000526,"post_id":74373373,"comment_id":131301326,"body_markdown":"@ycr I mean create a class that has a name and marks attributes, then use for example ObjectMapper to convert the JSON to this type, so after you can use `myObj.getName()`","body":"@ycr I mean create a class that has a name and marks attributes, then use for example ObjectMapper to convert the JSON to this type, so after you can use <code>myObj.getName()</code>"},{"owner":{"account_id":3103561,"reputation":13351,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"score":0,"creation_date":1668000987,"post_id":74373373,"comment_id":131301494,"body_markdown":"I mean what is your real business use case? If you just need the name and marks in your Class mediator why don&#39;t you just pass the two as separate properties to the class mediator?","body":"I mean what is your real business use case? If you just need the name and marks in your Class mediator why don&#39;t you just pass the two as separate properties to the class mediator?"}],"answers":[{"comments":[{"owner":{"account_id":2163224,"reputation":6602,"user_id":1916917,"accept_rate":60,"display_name":"Holloway"},"score":0,"creation_date":1667990286,"post_id":74373453,"comment_id":131297701,"body_markdown":"As written you&#39;re still trying to call `.get(&quot;name&quot;)` on a string which won&#39;t work.","body":"As written you&#39;re still trying to call <code>.get(&quot;name&quot;)</code> on a string which won&#39;t work."},{"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"score":1,"creation_date":1667990580,"post_id":74373453,"comment_id":131297813,"body_markdown":"I have amended my example","body":"I have amended my example"}],"tags":[],"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667990567,"creation_date":1667990204,"answer_id":74373453,"question_id":74373373,"body_markdown":"It seems like `obj` is a JSON string. You will need to use a library like GSON (https://github.com/google/gson) to parse it, either to another object or to a map. \r\n\r\nExamples for map:\r\n```java\r\nclass Main {\r\n    private Gson gson = new Gson();\r\n    public boolean mediate(MessageContext synCtx) {\r\n        String obj = synCtx.getProperty(&quot;RequestPayload&quot;).toString();       \r\n        Map&lt;String, Object&gt; result = gson.fromJson(obj, Map.class);\r\n        System.out.println(result.get(&quot;name&quot;));        \r\n        return true;\r\n    }\r\n}\r\n```","title":"How to get value from java object?","body":"<p>It seems like <code>obj</code> is a JSON string. You will need to use a library like GSON (<a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">https://github.com/google/gson</a>) to parse it, either to another object or to a map.</p>\n<p>Examples for map:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Main {\n    private Gson gson = new Gson();\n    public boolean mediate(MessageContext synCtx) {\n        String obj = synCtx.getProperty(&quot;RequestPayload&quot;).toString();       \n        Map&lt;String, Object&gt; result = gson.fromJson(obj, Map.class);\n        System.out.println(result.get(&quot;name&quot;));        \n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user20449264"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":499,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74373453,"answer_count":1,"score":0,"last_activity_date":1667991157,"creation_date":1667989832,"question_id":74373373,"body_markdown":"\r\n\r\n```java  \r\npublic boolean mediate(MessageContext synCtx) {\r\n    Object obj = synCtx.getProperty(&quot;RequestPayload&quot;);       \r\n    System.out.println(obj);        \r\n    return true;\r\n}\r\n```\r\n\r\nFrom above code I can see output like below.\r\n\r\n\r\n```json\r\n{\r\n    &quot;name&quot; : &quot;Jone&quot;,\r\n    &quot;marks&quot; : &quot;45&quot;\r\n}\r\n```\r\n\r\nCan I know how I print name from that object.\r\nI tried like below but its not working.\r\n```java\r\nSystem.out.println(obj.get(&quot;name&quot;).toString());\r\n```\r\nCan anyone help me I am new to this.","title":"How to get value from java object?","body":"<pre class=\"lang-java prettyprint-override\"><code>public boolean mediate(MessageContext synCtx) {\n    Object obj = synCtx.getProperty(&quot;RequestPayload&quot;);       \n    System.out.println(obj);        \n    return true;\n}\n</code></pre>\n<p>From above code I can see output like below.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot; : &quot;Jone&quot;,\n    &quot;marks&quot; : &quot;45&quot;\n}\n</code></pre>\n<p>Can I know how I print name from that object.\nI tried like below but its not working.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(obj.get(&quot;name&quot;).toString());\n</code></pre>\n<p>Can anyone help me I am new to this.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":20788081,"reputation":100,"user_id":15266877,"display_name":"Ezekiela Rakotoarijaona"},"score":0,"creation_date":1641893223,"post_id":70664191,"comment_id":124920104,"body_markdown":"I tried &quot;/synchro/task**&quot; and still the same result the &quot;/synchro/task&quot; works but not the &quot;/synchro/task/1&quot; where 1 is an id does not work. When I should get a 401 when there is no Authorization I get a 200 instead.","body":"I tried &quot;/synchro/task**&quot; and still the same result the &quot;/synchro/task&quot; works but not the &quot;/synchro/task/1&quot; where 1 is an id does not work. When I should get a 401 when there is no Authorization I get a 200 instead."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1641901960,"post_id":70664191,"comment_id":124923536,"body_markdown":"@EzekielaRakotoarijaona `.antMatcher(&quot;/synchro/task/**&quot;)` is the right way, to match all sub paths. But the URL `/synchro/task` is not a sub path. It should work if you use the URL `/synchro/task/`. That&#39;s a workaround.","body":"@EzekielaRakotoarijaona <code>.antMatcher(&quot;&#47;synchro&#47;task&#47;**&quot;)</code> is the right way, to match all sub paths. But the URL <code>&#47;synchro&#47;task</code> is not a sub path. It should work if you use the URL <code>&#47;synchro&#47;task&#47;</code>. That&#39;s a workaround."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1641902792,"post_id":70664191,"comment_id":124923851,"body_markdown":"@EzekielaRakotoarijaona If you really need to match both paths, you should replace `.antMatcher(&quot;/synchro/task/**&quot;)` with `.requestMatchers().antMatchers(&quot;&quot;/synchro/task&quot;&quot;, &quot;/synchro/task/**&quot;)`.","body":"@EzekielaRakotoarijaona If you really need to match both paths, you should replace <code>.antMatcher(&quot;&#47;synchro&#47;task&#47;**&quot;)</code> with <code>.requestMatchers().antMatchers(&quot;&quot;&#47;synchro&#47;task&quot;&quot;, &quot;&#47;synchro&#47;task&#47;**&quot;)</code>."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1641902879,"post_id":70664191,"comment_id":124923887,"body_markdown":"&quot;Spring Boot app that has 2 security entrypoints&quot;...what does it mean??","body":"&quot;Spring Boot app that has 2 security entrypoints&quot;...what does it mean??"},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1641908088,"post_id":70664191,"comment_id":124925893,"body_markdown":"Is there any error? Add `logging.level.org.springframework.security=TRACE` to your `application.properties` and paste the trace here","body":"Is there any error? Add <code>logging.level.org.springframework.security=TRACE</code> to your <code>application.properties</code> and paste the trace here"},{"owner":{"account_id":12921582,"reputation":115,"user_id":9343850,"display_name":"kiloton"},"score":0,"creation_date":1667912121,"post_id":70664191,"comment_id":131276453,"body_markdown":"@dur your upvoted comment is the actual answer and helped me finally figure this out in my project. if you make an answer out of the comment i will upvote. unsure whether there is a question with more votes where you could also put it.","body":"@dur your upvoted comment is the actual answer and helped me finally figure this out in my project. if you make an answer out of the comment i will upvote. unsure whether there is a question with more votes where you could also put it."}],"answers":[{"tags":[],"owner":{"account_id":23972504,"reputation":340,"user_id":17961007,"display_name":"Ashwini Karnale"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667983948,"creation_date":1642651107,"answer_id":70780635,"question_id":70664191,"body_markdown":"Try this code:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    http\r\n        .csrf().disable();\r\n        \r\n    http\r\n        .antMatcher(&quot;/synchro/task/**&quot;)\r\n        .authorizeRequests()\r\n            .antMatchers(&quot;/synchro/task/**&quot;).hasRole(&quot;APP&quot;)\r\n            .and()\r\n        .httpBasic();\r\n\r\n","title":"Spring Security ant matcher for path and it&#39;s path variable","body":"<p>Try this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .csrf().disable();\n    \nhttp\n    .antMatcher(&quot;/synchro/task/**&quot;)\n    .authorizeRequests()\n        .antMatchers(&quot;/synchro/task/**&quot;).hasRole(&quot;APP&quot;)\n        .and()\n    .httpBasic();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667991149,"creation_date":1667990202,"answer_id":74373452,"question_id":70664191,"body_markdown":"`/synchro/task/**` matches only directories in the path `/synchro/task/`, see [`AntPathMatcher`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html):\r\n\r\n&gt; The mapping matches URLs using the following rules:\r\n&gt; \r\n&gt; - ? matches one character\r\n&gt; - \\* matches zero or more characters\r\n&gt; - ** matches zero or more directories in a path\r\n&gt; - {spring:[a-z]+} matches the regexp [a-z]+ as a path variable named &quot;spring&quot;\r\n\r\nBut `/synchro/task` is not a directory in path `/synchro/task/`, so you need to add your parent `/synchro/task` directory.\r\n\r\nYour modified code:\r\n\r\n&lt;!--langaugee: java --&gt;\r\n\r\n    http\r\n        .csrf().disable()\r\n        .requestMatchers()\r\n            .antMatchers(&quot;/synchro/task&quot;, &quot;/synchro/task/**&quot;)\r\n        .authorizeRequests()\r\n            .anyRequest().hasRole(&quot;APP&quot;)\r\n            .and()\r\n        .httpBasic();","title":"Spring Security ant matcher for path and it&#39;s path variable","body":"<p><code>/synchro/task/**</code> matches only directories in the path <code>/synchro/task/</code>, see <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html\" rel=\"nofollow noreferrer\"><code>AntPathMatcher</code></a>:</p>\n<blockquote>\n<p>The mapping matches URLs using the following rules:</p>\n<ul>\n<li>? matches one character</li>\n<li>* matches zero or more characters</li>\n<li>** matches zero or more directories in a path</li>\n<li>{spring:[a-z]+} matches the regexp [a-z]+ as a path variable named &quot;spring&quot;</li>\n</ul>\n</blockquote>\n<p>But <code>/synchro/task</code> is not a directory in path <code>/synchro/task/</code>, so you need to add your parent <code>/synchro/task</code> directory.</p>\n<p>Your modified code:</p>\n\n<pre><code>http\n    .csrf().disable()\n    .requestMatchers()\n        .antMatchers(&quot;/synchro/task&quot;, &quot;/synchro/task/**&quot;)\n    .authorizeRequests()\n        .anyRequest().hasRole(&quot;APP&quot;)\n        .and()\n    .httpBasic();\n</code></pre>\n"}],"owner":{"account_id":20788081,"reputation":100,"user_id":15266877,"display_name":"Ezekiela Rakotoarijaona"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667991149,"creation_date":1641892361,"question_id":70664191,"body_markdown":"I&#39;m configuring a Spring Boot app that has 2 security entrypoints and I configured the first one which is a Basic Auth to match the ant pattern `/synchro/task/**`. But when I test it, it works when I try the URL with just `/synchro/task` but not when I get the task id such as `/synchro/task/1`. \r\n\r\nMy code is as below : \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    http\r\n        .csrf().disable()\r\n        .antMatcher(&quot;/synchro/task/**&quot;)\r\n        .authorizeRequests()\r\n            .anyRequest().hasRole(&quot;APP&quot;)\r\n            .and()\r\n        .httpBasic();\r\n\r\nI also tried to use `requestMatchers` and two `antmatchers` to match `/synchro/task/*` and `/synchro/task/**` but it only takes the `/synchro/task` but not when there is an id. \r\n\r\nThe fun fact is that when I set as below : \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    http\r\n        .csrf().disable()\r\n        .antMatcher(&quot;/synchro/task/*&quot;)\r\n        .authorizeRequests()\r\n            .anyRequest().hasRole(&quot;APP&quot;)\r\n            .and()\r\n        .httpBasic();\r\n\r\nIt works but only with the `/synchro/task/1` for example but no more with the `/synchro/task`.\r\n\r\nSo how could I combine both even if I really thought that the `antMatcher(&quot;/synchro/task/**&quot;)` would cover both paths with ids and without.\r\n\r\nHere is my controller class : \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/synchro&quot;)\r\n    public class SynchroResource extends GenericResource {\r\n        @Autowired\r\n        private IndexationService indexationService;\r\n        @Autowired\r\n        private SynchroService synchroService;\r\n\r\n        @RequestMapping(value = &quot;/task&quot;, method = RequestMethod.GET)\r\n        public IndexationTaskResponse getNextTask() {\r\n            return this.indexationService.getNextTask();\r\n        }\r\n\r\n        @RequestMapping(value = &quot;/task/{taskId}&quot;, method = RequestMethod.PUT)\r\n        public void updateTaskState(@PathVariable long taskId,\r\n                                @RequestBody(required = false) String errorMessage) {\r\n            this.indexationService.updateTaskState(taskId, errorMessage);\r\n        }\r\n    }\r\n\r\n","title":"Spring Security ant matcher for path and it&#39;s path variable","body":"<p>I'm configuring a Spring Boot app that has 2 security entrypoints and I configured the first one which is a Basic Auth to match the ant pattern <code>/synchro/task/**</code>. But when I test it, it works when I try the URL with just <code>/synchro/task</code> but not when I get the task id such as <code>/synchro/task/1</code>.</p>\n<p>My code is as below :</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .csrf().disable()\n    .antMatcher(&quot;/synchro/task/**&quot;)\n    .authorizeRequests()\n        .anyRequest().hasRole(&quot;APP&quot;)\n        .and()\n    .httpBasic();\n</code></pre>\n<p>I also tried to use <code>requestMatchers</code> and two <code>antmatchers</code> to match <code>/synchro/task/*</code> and <code>/synchro/task/**</code> but it only takes the <code>/synchro/task</code> but not when there is an id.</p>\n<p>The fun fact is that when I set as below :</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .csrf().disable()\n    .antMatcher(&quot;/synchro/task/*&quot;)\n    .authorizeRequests()\n        .anyRequest().hasRole(&quot;APP&quot;)\n        .and()\n    .httpBasic();\n</code></pre>\n<p>It works but only with the <code>/synchro/task/1</code> for example but no more with the <code>/synchro/task</code>.</p>\n<p>So how could I combine both even if I really thought that the <code>antMatcher(&quot;/synchro/task/**&quot;)</code> would cover both paths with ids and without.</p>\n<p>Here is my controller class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(value = &quot;/synchro&quot;)\npublic class SynchroResource extends GenericResource {\n    @Autowired\n    private IndexationService indexationService;\n    @Autowired\n    private SynchroService synchroService;\n\n    @RequestMapping(value = &quot;/task&quot;, method = RequestMethod.GET)\n    public IndexationTaskResponse getNextTask() {\n        return this.indexationService.getNextTask();\n    }\n\n    @RequestMapping(value = &quot;/task/{taskId}&quot;, method = RequestMethod.PUT)\n    public void updateTaskState(@PathVariable long taskId,\n                            @RequestBody(required = false) String errorMessage) {\n        this.indexationService.updateTaskState(taskId, errorMessage);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-security","session-timeout"],"answers":[{"comments":[{"owner":{"account_id":1174058,"reputation":651,"user_id":1150507,"display_name":"Perre"},"score":0,"creation_date":1344419312,"post_id":11856611,"comment_id":15778578,"body_markdown":"Thanks for the suggestion, but I don&#39;t think this will solve the issue. I need to catch the session timeout, I can&#39;t wait for the user to make a request (which he/she sometimes will not do, e.g. browser closed). I need to do some releasing of locks that the user may have taken which may be locking for some one else.\n\nNo, not using JSF, Just spring and velocity.","body":"Thanks for the suggestion, but I don&#39;t think this will solve the issue. I need to catch the session timeout, I can&#39;t wait for the user to make a request (which he/she sometimes will not do, e.g. browser closed). I need to do some releasing of locks that the user may have taken which may be locking for some one else.  No, not using JSF, Just spring and velocity."},{"owner":{"account_id":1174058,"reputation":651,"user_id":1150507,"display_name":"Perre"},"score":0,"creation_date":1344459671,"post_id":11856611,"comment_id":15796518,"body_markdown":"Is there a way to get hold of the Authentication object. I tried it, but getting it via SecurityContextHolder.getContext().getAuthentication() returns null. I need to get the Authentication bound to the session right before timeout. I mean, this to me looks like the HttpSession expire event.\n\nHow can I get the Authenticated UserDetails object out of this event ?","body":"Is there a way to get hold of the Authentication object. I tried it, but getting it via SecurityContextHolder.getContext().getAuthentication() returns null. I need to get the Authentication bound to the session right before timeout. I mean, this to me looks like the HttpSession expire event.  How can I get the Authenticated UserDetails object out of this event ?"},{"owner":{"account_id":50590,"reputation":3372,"user_id":150992,"accept_rate":69,"display_name":"Eyal"},"score":1,"creation_date":1351004499,"post_id":11856611,"comment_id":17693272,"body_markdown":"@Perre How about ((SecurityContext) session.getAttribute(&quot;SPRING_SECURITY_CONTEXT&quot;)).getAuthentication()?","body":"@Perre How about ((SecurityContext) session.getAttribute(&quot;SPRING_SECURITY_CONTEXT&quot;)).getAuthenti&zwnj;&#8203;cation()?"},{"owner":{"account_id":1475496,"reputation":3420,"user_id":1385966,"accept_rate":68,"display_name":"Wins"},"score":1,"creation_date":1374631620,"post_id":11856611,"comment_id":26012815,"body_markdown":"@Perre The &lt;code&gt;SecurityContextHolder.getContext()&lt;/code&gt; is taking the context from &lt;code&gt;ThreadLocal&lt;/code&gt; and it is the spring security filters stack that is responsible to set/remove the context from session to ThreadLocal. So in this case, the spring security filters stack is not invoked and therefore you can&#39;t get the SecurityContext from ThreadLocal","body":"@Perre The &lt;code&gt;SecurityContextHolder.getContext()&lt;/code&gt; is taking the context from &lt;code&gt;ThreadLocal&lt;/code&gt; and it is the spring security filters stack that is responsible to set/remove the context from session to ThreadLocal. So in this case, the spring security filters stack is not invoked and therefore you can&#39;t get the SecurityContext from ThreadLocal"},{"owner":{"account_id":3569369,"reputation":574,"user_id":2980108,"accept_rate":71,"display_name":"Aiden Zhao"},"score":0,"creation_date":1438643412,"post_id":11856611,"comment_id":51523870,"body_markdown":"Hi @Ravi, I want to redirect the page to different urls according to the user&#39;s role. Your answer is very helpful. Could you tell me how to redirect in the `sessionDestroyed`? Is it similar as `redirectStrategy.sendRedirect(resquest, response, url)`?","body":"Hi @Ravi, I want to redirect the page to different urls according to the user&#39;s role. Your answer is very helpful. Could you tell me how to redirect in the <code>sessionDestroyed</code>? Is it similar as <code>redirectStrategy.sendRedirect(resquest, response, url)</code>?"}],"tags":[],"owner":{"account_id":1012552,"reputation":8534,"user_id":1024796,"accept_rate":100,"display_name":"Ravi Kadaboina"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1344436864,"creation_date":1344390858,"answer_id":11856611,"question_id":11843010,"body_markdown":"You can use [SimpleRedirectInvalidSessionStrategy](http://static.springsource.org/spring-security/site/docs/3.1.x/apidocs/org/springframework/security/web/session/SimpleRedirectInvalidSessionStrategy.html) to redirect to a URL when an invalid requested session is detected by the SessionManagementFilter.\r\n\r\nSample applicationContext would be like this:\r\n\r\n    &lt;http&gt;\r\n\t\t&lt;custom-filter ref=&quot;sessionManagementFilter&quot; before=&quot;SESSION_MANAGEMENT_FILTER&quot; /&gt;\r\n\t&lt;http&gt;\r\n\r\n\r\n\t&lt;beans:bean id=&quot;sessionManagementFilter&quot; class=&quot;org.springframework.security.web.session.SessionManagementFilter&quot;&gt;\r\n\t\t&lt;beans:constructor-arg name=&quot;securityContextRepository&quot; ref=&quot;httpSessionSecurityContextRepository&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;invalidSessionStrategy&quot; ref=&quot;simpleRedirectInvalidSessionStrategy &quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;beans:bean id=&quot;simpleRedirectInvalidSessionStrategy&quot; class=&quot;org.springframework.security.web.session.SimpleRedirectInvalidSessionStrategy&quot;&gt;\r\n\t  &lt;beans:constructor-arg name=&quot;invalidSessionUrl&quot; value=&quot;/general/logins/sessionExpired.jsf&quot; /&gt;\r\n\t  &lt;beans:property name=&quot;createNewSession&quot; value=&quot;false&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\t&lt;beans:bean id=&quot;httpSessionSecurityContextRepository&quot; class=&quot;org.springframework.security.web.context.HttpSessionSecurityContextRepository&quot;/&gt;\r\n\r\nIf you are using JSF, also refer to https://stackoverflow.com/questions/10143539/jsf-2-spring-security-3-x-and-richfaces-4-redirect-to-login-page-on-session-tim/10156398#10156398 on how to handle Ajax requests as well.\r\n\r\n**UPDATE**: In such a case, you can extend the HttpSessionEventPublisher and listen for sessionDestroyed events like this:\r\n\r\n    package com.examples;\r\n\timport javax.servlet.http.HttpSessionEvent;\r\n\r\n\timport org.springframework.security.web.session.HttpSessionEventPublisher;\r\n\r\n\r\n\tpublic class MyHttpSessionEventPublisher extends HttpSessionEventPublisher {\r\n\r\n\t   @Override\r\n\t   public void sessionCreated(HttpSessionEvent event) {\r\n\t\t  super.sessionCreated(event);\r\n\t   }\r\n\r\n\t   @Override\r\n\t   public void sessionDestroyed(HttpSessionEvent event) {\r\n\t\t  //do something\r\n\t\t  super.sessionDestroyed(event);\r\n\t   }\r\n\t   \r\n\t}\r\n\r\nand then register this listener in your web.xml like this:\r\n\r\n    &lt;listener&gt;\r\n\t\t&lt;listener-class&gt;com.examples.MyHttpSessionEventPublisher&lt;/listener-class&gt;\r\n\t &lt;/listener&gt;","title":"Logout/Session timeout catching with spring security","body":"<p>You can use <a href=\"http://static.springsource.org/spring-security/site/docs/3.1.x/apidocs/org/springframework/security/web/session/SimpleRedirectInvalidSessionStrategy.html\" rel=\"nofollow noreferrer\">SimpleRedirectInvalidSessionStrategy</a> to redirect to a URL when an invalid requested session is detected by the SessionManagementFilter.</p>\n\n<p>Sample applicationContext would be like this:</p>\n\n<pre><code>&lt;http&gt;\n    &lt;custom-filter ref=\"sessionManagementFilter\" before=\"SESSION_MANAGEMENT_FILTER\" /&gt;\n&lt;http&gt;\n\n\n&lt;beans:bean id=\"sessionManagementFilter\" class=\"org.springframework.security.web.session.SessionManagementFilter\"&gt;\n    &lt;beans:constructor-arg name=\"securityContextRepository\" ref=\"httpSessionSecurityContextRepository\" /&gt;\n    &lt;beans:property name=\"invalidSessionStrategy\" ref=\"simpleRedirectInvalidSessionStrategy \" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"simpleRedirectInvalidSessionStrategy\" class=\"org.springframework.security.web.session.SimpleRedirectInvalidSessionStrategy\"&gt;\n  &lt;beans:constructor-arg name=\"invalidSessionUrl\" value=\"/general/logins/sessionExpired.jsf\" /&gt;\n  &lt;beans:property name=\"createNewSession\" value=\"false\" /&gt;\n&lt;/beans:bean&gt;\n&lt;beans:bean id=\"httpSessionSecurityContextRepository\" class=\"org.springframework.security.web.context.HttpSessionSecurityContextRepository\"/&gt;\n</code></pre>\n\n<p>If you are using JSF, also refer to <a href=\"https://stackoverflow.com/questions/10143539/jsf-2-spring-security-3-x-and-richfaces-4-redirect-to-login-page-on-session-tim/10156398#10156398\">JSF 2, Spring Security 3.x and Richfaces 4 redirect to login page on session time out for ajax requests</a> on how to handle Ajax requests as well.</p>\n\n<p><strong>UPDATE</strong>: In such a case, you can extend the HttpSessionEventPublisher and listen for sessionDestroyed events like this:</p>\n\n<pre><code>package com.examples;\nimport javax.servlet.http.HttpSessionEvent;\n\nimport org.springframework.security.web.session.HttpSessionEventPublisher;\n\n\npublic class MyHttpSessionEventPublisher extends HttpSessionEventPublisher {\n\n   @Override\n   public void sessionCreated(HttpSessionEvent event) {\n      super.sessionCreated(event);\n   }\n\n   @Override\n   public void sessionDestroyed(HttpSessionEvent event) {\n      //do something\n      super.sessionDestroyed(event);\n   }\n\n}\n</code></pre>\n\n<p>and then register this listener in your web.xml like this:</p>\n\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;com.examples.MyHttpSessionEventPublisher&lt;/listener-class&gt;\n &lt;/listener&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1174058,"reputation":651,"user_id":1150507,"display_name":"Perre"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1344510765,"creation_date":1344510765,"answer_id":11882150,"question_id":11843010,"body_markdown":"Ok, I got a solution working, it&#39;s not as good as I&#39;d like, but it get&#39;s me to the result.\r\n\r\nI create a bean from which I can get a hold of the ApplicationContext. \r\n\r\n    public class AppCtxProvider implements ApplicationContextAware {\r\n\tprivate static WeakReference&lt;ApplicationContext&gt; APP_CTX;\r\n\r\n\t@Override\r\n\tpublic void setApplicationContext(ApplicationContext applicationContext)\r\n\t\t\tthrows BeansException {\r\n\t\tAPP_CTX = new WeakReference&lt;ApplicationContext&gt;(applicationContext);\r\n\t}\r\n\r\n\tpublic static ApplicationContext getAppCtx() {\r\n\t\treturn APP_CTX.get();\r\n\t}\r\n    }\r\n\r\n\r\nI implement HttpSessionEventPublisher and on destroy, i get the UserDetails via sessionRegistry.getSessionInfo(sessionId)\r\n\r\nNow I have the spring beans which I need to do the cleanup of the session and the user for whom the session timed out for.\r\n\r\n    public class SessionTimeoutHandler extends HttpSessionEventPublisher {\r\n\t@Override\r\n\tpublic void sessionCreated(HttpSessionEvent event) {\r\n\t\tsuper.sessionCreated(event);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void sessionDestroyed(HttpSessionEvent event) {\r\n\t\tSessionRegistry sessionRegistry = getSessionRegistry();\r\n\t\tSessionInformation sessionInfo = (sessionRegistry != null ? sessionRegistry\r\n\t\t\t\t.getSessionInformation(event.getSession().getId()) : null);\r\n\t\tUserDetails ud = null;\r\n\t\tif (sessionInfo != null) {\r\n\t\t\tud = (UserDetails) sessionInfo.getPrincipal();\r\n\t\t}\r\n\t\tif (ud != null) {\r\n                   // Do my stuff\r\n\t\t}\r\n\t\tsuper.sessionDestroyed(event);\r\n\t}\r\n\r\n\tprivate SessionRegistry getSessionRegistry() {\r\n\t\tApplicationContext appCtx = AppCtxProvider.getAppCtx();\r\n\t\treturn appCtx.getBean(&quot;sessionRegistry&quot;, SessionRegistry.class);\r\n\t}\r\n","title":"Logout/Session timeout catching with spring security","body":"<p>Ok, I got a solution working, it's not as good as I'd like, but it get's me to the result.</p>\n\n<p>I create a bean from which I can get a hold of the ApplicationContext. </p>\n\n<pre><code>public class AppCtxProvider implements ApplicationContextAware {\nprivate static WeakReference&lt;ApplicationContext&gt; APP_CTX;\n\n@Override\npublic void setApplicationContext(ApplicationContext applicationContext)\n        throws BeansException {\n    APP_CTX = new WeakReference&lt;ApplicationContext&gt;(applicationContext);\n}\n\npublic static ApplicationContext getAppCtx() {\n    return APP_CTX.get();\n}\n}\n</code></pre>\n\n<p>I implement HttpSessionEventPublisher and on destroy, i get the UserDetails via sessionRegistry.getSessionInfo(sessionId)</p>\n\n<p>Now I have the spring beans which I need to do the cleanup of the session and the user for whom the session timed out for.</p>\n\n<pre><code>public class SessionTimeoutHandler extends HttpSessionEventPublisher {\n@Override\npublic void sessionCreated(HttpSessionEvent event) {\n    super.sessionCreated(event);\n}\n\n@Override\npublic void sessionDestroyed(HttpSessionEvent event) {\n    SessionRegistry sessionRegistry = getSessionRegistry();\n    SessionInformation sessionInfo = (sessionRegistry != null ? sessionRegistry\n            .getSessionInformation(event.getSession().getId()) : null);\n    UserDetails ud = null;\n    if (sessionInfo != null) {\n        ud = (UserDetails) sessionInfo.getPrincipal();\n    }\n    if (ud != null) {\n               // Do my stuff\n    }\n    super.sessionDestroyed(event);\n}\n\nprivate SessionRegistry getSessionRegistry() {\n    ApplicationContext appCtx = AppCtxProvider.getAppCtx();\n    return appCtx.getBean(\"sessionRegistry\", SessionRegistry.class);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1777001,"reputation":532,"user_id":1620597,"display_name":"Tom Fink"},"score":1,"creation_date":1391777603,"post_id":18128496,"comment_id":32682145,"body_markdown":"From my pov this is the better solution. I strongly recommend using this, as I did. Thx John. Btw: This also handles &quot;normal&quot; log outs!","body":"From my pov this is the better solution. I strongly recommend using this, as I did. Thx John. Btw: This also handles &quot;normal&quot; log outs!"},{"owner":{"account_id":1672649,"reputation":5729,"user_id":1538815,"accept_rate":57,"display_name":"yathirigan"},"score":0,"creation_date":1426049967,"post_id":18128496,"comment_id":46208152,"body_markdown":"The session mentioned about here while using &#39;Spring Security&#39; , is it equivalent to the HTTPSession or is it a session of Spring Security ? On an alternative note, the new &#39;Spring Session&#39; component seems to provide a solution http://docs.spring.io/spring-session/docs/current/reference/html5/#api-redisoperationssessionrepository-sessiondestroyedevent","body":"The session mentioned about here while using &#39;Spring Security&#39; , is it equivalent to the HTTPSession or is it a session of Spring Security ? On an alternative note, the new &#39;Spring Session&#39; component seems to provide a solution <a href=\"http://docs.spring.io/spring-session/docs/current/reference/html5/#api-redisoperationssessionrepository-sessiondestroyedevent\" rel=\"nofollow noreferrer\">docs.spring.io/spring-session/docs/current/reference/html5/&hellip;</a>"},{"owner":{"account_id":2691426,"reputation":3360,"user_id":2324685,"accept_rate":70,"display_name":"John29"},"score":5,"creation_date":1426083340,"post_id":18128496,"comment_id":46226376,"body_markdown":"@yathirigan Not sure what you mean by &quot;session of Spring Security&quot;. Spring Security uses HTTP session, so basically it&#39;s the same thing.","body":"@yathirigan Not sure what you mean by &quot;session of Spring Security&quot;. Spring Security uses HTTP session, so basically it&#39;s the same thing."},{"owner":{"account_id":1672649,"reputation":5729,"user_id":1538815,"accept_rate":57,"display_name":"yathirigan"},"score":2,"creation_date":1426086061,"post_id":18128496,"comment_id":46228440,"body_markdown":"&gt;Spring Security uses HTTPSession&lt;  oh ok.. thanks for the clarification. few of the articles which i read (as a beginner to spring session) seemed to indicate that the sessions talked about in Spring Security is different from  HTTPSession. that is the reason i had this confusion.","body":"&gt;Spring Security uses HTTPSession&lt;  oh ok.. thanks for the clarification. few of the articles which i read (as a beginner to spring session) seemed to indicate that the sessions talked about in Spring Security is different from  HTTPSession. that is the reason i had this confusion."},{"owner":{"account_id":1202897,"reputation":309,"user_id":1173192,"accept_rate":60,"display_name":"Manticore"},"score":0,"creation_date":1665394949,"post_id":18128496,"comment_id":130682105,"body_markdown":"This solution doesn&#39;t work for me: the event.getSecurityContexts() returns an empty list and the event has no principal","body":"This solution doesn&#39;t work for me: the event.getSecurityContexts() returns an empty list and the event has no principal"}],"tags":[],"owner":{"account_id":2691426,"reputation":3360,"user_id":2324685,"accept_rate":70,"display_name":"John29"},"comment_count":5,"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1375971619,"creation_date":1375971619,"answer_id":18128496,"question_id":11843010,"body_markdown":"I&#39;ve got a simpler solution. This works for both logout and session timeout.\r\n\r\n    @Component\r\n    public class LogoutListener implements ApplicationListener&lt;SessionDestroyedEvent&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic void onApplicationEvent(SessionDestroyedEvent event)\r\n    \t{\r\n    \t\tList&lt;SecurityContext&gt; lstSecurityContext = event.getSecurityContexts();\r\n    \t\tUserDetails ud;\r\n    \t\tfor (SecurityContext securityContext : lstSecurityContext)\r\n    \t\t{\r\n    \t\t\tud = (UserDetails) securityContext.getAuthentication().getPrincipal();\r\n    \t\t\t// ...\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\nweb.xml:\r\n\r\n    &lt;listener&gt;\r\n    \t&lt;listener-class&gt;org.springframework.security.web.session.HttpSessionEventPublisher&lt;/listener-class&gt;\r\n    &lt;/listener&gt;","title":"Logout/Session timeout catching with spring security","body":"<p>I've got a simpler solution. This works for both logout and session timeout.</p>\n\n<pre><code>@Component\npublic class LogoutListener implements ApplicationListener&lt;SessionDestroyedEvent&gt; {\n\n    @Override\n    public void onApplicationEvent(SessionDestroyedEvent event)\n    {\n        List&lt;SecurityContext&gt; lstSecurityContext = event.getSecurityContexts();\n        UserDetails ud;\n        for (SecurityContext securityContext : lstSecurityContext)\n        {\n            ud = (UserDetails) securityContext.getAuthentication().getPrincipal();\n            // ...\n        }\n    }\n\n}\n</code></pre>\n\n<p>web.xml:</p>\n\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.security.web.session.HttpSessionEventPublisher&lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16125781,"reputation":1,"user_id":11723733,"display_name":"Ankur Raj Prasad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667990923,"creation_date":1667990923,"answer_id":74373636,"question_id":11843010,"body_markdown":"While session getting created at the time of one microservice application with setMaxInactive interval to 60 sec suppose . Session gets timedout after 60sec but after using your suggested change it should come to sessionDestroyed event but still it gets under session created and session again doesnot gets invalidated. ","title":"Logout/Session timeout catching with spring security","body":"<p>While session getting created at the time of one microservice application with setMaxInactive interval to 60 sec suppose . Session gets timedout after 60sec but after using your suggested change it should come to sessionDestroyed event but still it gets under session created and session again doesnot gets invalidated.</p>\n"}],"owner":{"account_id":1174058,"reputation":651,"user_id":1150507,"display_name":"Perre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93559,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":18128496,"answer_count":4,"score":35,"last_activity_date":1667990923,"creation_date":1344331817,"question_id":11843010,"body_markdown":"I&#39;m using spring/spring-security 3.1 and want to take some action whenever the user logs out (or if the session is timed out). I managed to get the action done for logout but for session timeout, I can&#39;t get it working.\r\n\r\nIn web.xml I only have the ContextLoaderListener specified ( can this be the issue? ) and of course the DelegatingFilterProxy.\r\n\r\nI use the auto config like this.\r\n\r\n    \t&lt;security:http auto-config=&quot;false&quot; use-expressions=&quot;false&quot;&gt;\r\n\t\t&lt;security:intercept-url pattern=&quot;/dialog/*&quot;\r\n\t\t\taccess=&quot;ROLE_USERS&quot; /&gt;\r\n\t\t&lt;security:intercept-url pattern=&quot;/boa/*&quot;\r\n\t\t\taccess=&quot;ROLE-USERS&quot; /&gt;\r\n\t\t&lt;security:intercept-url pattern=&quot;/*.html&quot;\r\n\t\t\taccess=&quot;ROLE-USERS&quot; /&gt;\r\n\r\n\t\t&lt;security:form-login login-page=&quot;/auth/login.html&quot;\r\n\t\t\tdefault-target-url=&quot;/index.html&quot; /&gt;\r\n\t\t&lt;security:logout logout-url=&quot;/logout&quot;\r\n\t\t\t invalidate-session=&quot;true&quot;\r\n\t\t\tdelete-cookies=&quot;JSESSIONID&quot; success-handler-ref=&quot;logoutHandler&quot; /&gt;\r\n\t&lt;/security:http&gt;\r\n\r\n\t&lt;bean id=&quot;logoutHandler&quot; class=&quot;com.bla.bla.bla.LogoutHandler&quot;&gt;\r\n\t\t&lt;property name=&quot;logoutUrl&quot; value=&quot;/auth/logout.html&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\nThe logout handler is called when user clicks logout, which will make some calls to a database. \r\n\r\nBut how do I handle the session timeout ??? \r\n\r\nOne way to handle it would be to inject the username into the session when user logs in and then use an ordinary httpsessionlistener and do the same thing on session timeout. \r\n\r\nIs there a similar way with spring security, so that when spring discovers that the session is to timeout, I can hook in there, access the Authentication and get the UserDetails from there and do the clean up.\r\n\r\n","title":"Logout/Session timeout catching with spring security","body":"<p>I'm using spring/spring-security 3.1 and want to take some action whenever the user logs out (or if the session is timed out). I managed to get the action done for logout but for session timeout, I can't get it working.</p>\n\n<p>In web.xml I only have the ContextLoaderListener specified ( can this be the issue? ) and of course the DelegatingFilterProxy.</p>\n\n<p>I use the auto config like this.</p>\n\n<pre><code>    &lt;security:http auto-config=\"false\" use-expressions=\"false\"&gt;\n    &lt;security:intercept-url pattern=\"/dialog/*\"\n        access=\"ROLE_USERS\" /&gt;\n    &lt;security:intercept-url pattern=\"/boa/*\"\n        access=\"ROLE-USERS\" /&gt;\n    &lt;security:intercept-url pattern=\"/*.html\"\n        access=\"ROLE-USERS\" /&gt;\n\n    &lt;security:form-login login-page=\"/auth/login.html\"\n        default-target-url=\"/index.html\" /&gt;\n    &lt;security:logout logout-url=\"/logout\"\n         invalidate-session=\"true\"\n        delete-cookies=\"JSESSIONID\" success-handler-ref=\"logoutHandler\" /&gt;\n&lt;/security:http&gt;\n\n&lt;bean id=\"logoutHandler\" class=\"com.bla.bla.bla.LogoutHandler\"&gt;\n    &lt;property name=\"logoutUrl\" value=\"/auth/logout.html\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>The logout handler is called when user clicks logout, which will make some calls to a database. </p>\n\n<p>But how do I handle the session timeout ??? </p>\n\n<p>One way to handle it would be to inject the username into the session when user logs in and then use an ordinary httpsessionlistener and do the same thing on session timeout. </p>\n\n<p>Is there a similar way with spring security, so that when spring discovers that the session is to timeout, I can hook in there, access the Authentication and get the UserDetails from there and do the clean up.</p>\n"},{"tags":["javascript","java","android","input","webview"],"answers":[{"tags":[],"owner":{"account_id":872415,"reputation":257,"user_id":922961,"accept_rate":46,"display_name":"Mazz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667990865,"creation_date":1667990865,"answer_id":74373620,"question_id":73849937,"body_markdown":"I managed to solve this issue by selecting the input first then adding the value then deselecting.\r\n\r\n        \r\n\r\n        //Loop through the saved inputs and create javaScript code.\r\n        for (int i = 0; i &lt; payInputs.size(); i++) {\r\n            String id = payInputs.get(i).getId();\r\n            String value = payInputs.get(i).getValue();\r\n\r\n            javaScriptInputs.append(&quot;document.getElementById(&#39;&quot;).append(id).append(&quot;&#39;).select()&quot;).append(&quot;;&quot;);\r\n            javaScriptInputs.append(&quot;document.getElementById(&#39;&quot;).append(id).append(&quot;&#39;).value = &#39;&quot;).append(value).append(&quot;&#39;;&quot;);\r\n            javaScriptInputs.append(&quot;document.getElementById(&#39;&quot;).append(id).append(&quot;&#39;).blur()&quot;).append(&quot;;&quot;);\r\n        }","title":"Input values disappearing when selecting another input - android webView JavaScript injection","body":"<p>I managed to solve this issue by selecting the input first then adding the value then deselecting.</p>\n<pre><code>    //Loop through the saved inputs and create javaScript code.\n    for (int i = 0; i &lt; payInputs.size(); i++) {\n        String id = payInputs.get(i).getId();\n        String value = payInputs.get(i).getValue();\n\n        javaScriptInputs.append(&quot;document.getElementById('&quot;).append(id).append(&quot;').select()&quot;).append(&quot;;&quot;);\n        javaScriptInputs.append(&quot;document.getElementById('&quot;).append(id).append(&quot;').value = '&quot;).append(value).append(&quot;';&quot;);\n        javaScriptInputs.append(&quot;document.getElementById('&quot;).append(id).append(&quot;').blur()&quot;).append(&quot;;&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":872415,"reputation":257,"user_id":922961,"accept_rate":46,"display_name":"Mazz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74373620,"answer_count":1,"score":0,"last_activity_date":1667990865,"creation_date":1664170374,"question_id":73849937,"body_markdown":"I&#39;m creating some code which saves form data from any website and the fills it in when the user requests. \r\n\r\nI am using java with webView to load a web page and inject JavaScript to perform the operation.\r\n\r\nEverything works as expected, but in some webpages, after the inputs have been filled, the data disappears when selecting another input field.\r\n\r\n    private void injectScriptInputValue(){\r\n        //Current web address\r\n        String address = myWebView.getUrl();\r\n        ArrayList&lt;PayInputs&gt; payInputs = new ArrayList&lt;&gt;();\r\n\r\n        //Check for data which matches the current web address.\r\n        for (int i = 0; i &lt; payPages.size(); i++) {\r\n            //Stored web address.\r\n            String payPageAddy = payPages.get(i).getAddress();\r\n\r\n            if (payPageAddy.compareTo(address) == 0) {\r\n                payInputs = payPages.get(i).getPayInputs();\r\n                break;\r\n            }\r\n        }\r\n\r\n        StringBuilder javaScriptInputs = new StringBuilder();\r\n\r\n        //Loop through the saved inputs and create javaScript code.\r\n        for (int i = 0; i &lt; payInputs.size(); i++) {\r\n            String id = payInputs.get(i).getId();\r\n            String value = payInputs.get(i).getValue();\r\n\r\n            //javaScriptInputs.append(&quot;document.getElementById(&#39;&quot;).append(id).append(&quot;&#39;).focus()&quot;).append(&quot;;&quot;);\r\n            //javaScriptInputs.append(&quot;document.getElementById(&#39;&quot;).append(id).append(&quot;&#39;).select()&quot;).append(&quot;;&quot;);\r\n            javaScriptInputs.append(&quot;document.getElementById(&#39;&quot;).append(id).append(&quot;&#39;).value = &#39;&quot;).append(value).append(&quot;&#39;;&quot;);\r\n\r\n        }\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        sb.append(&quot;(function()&quot;);\r\n        sb.append(&quot;{&quot;);\r\n        sb.append(javaScriptInputs);\r\n        sb.append(&quot;}&quot;);\r\n        sb.append(&quot;)&quot;);\r\n        sb.append(&quot;()&quot;);\r\n\r\n        myWebView.loadUrl(&quot;javascript:&quot; + sb.toString());\r\n    }\r\n\r\nIs there something that could be causing this on the website and is there a way to overcome this issue? Is the input checking the data is formatted in a certain way and can this be overridden? ","title":"Input values disappearing when selecting another input - android webView JavaScript injection","body":"<p>I'm creating some code which saves form data from any website and the fills it in when the user requests.</p>\n<p>I am using java with webView to load a web page and inject JavaScript to perform the operation.</p>\n<p>Everything works as expected, but in some webpages, after the inputs have been filled, the data disappears when selecting another input field.</p>\n<pre><code>private void injectScriptInputValue(){\n    //Current web address\n    String address = myWebView.getUrl();\n    ArrayList&lt;PayInputs&gt; payInputs = new ArrayList&lt;&gt;();\n\n    //Check for data which matches the current web address.\n    for (int i = 0; i &lt; payPages.size(); i++) {\n        //Stored web address.\n        String payPageAddy = payPages.get(i).getAddress();\n\n        if (payPageAddy.compareTo(address) == 0) {\n            payInputs = payPages.get(i).getPayInputs();\n            break;\n        }\n    }\n\n    StringBuilder javaScriptInputs = new StringBuilder();\n\n    //Loop through the saved inputs and create javaScript code.\n    for (int i = 0; i &lt; payInputs.size(); i++) {\n        String id = payInputs.get(i).getId();\n        String value = payInputs.get(i).getValue();\n\n        //javaScriptInputs.append(&quot;document.getElementById('&quot;).append(id).append(&quot;').focus()&quot;).append(&quot;;&quot;);\n        //javaScriptInputs.append(&quot;document.getElementById('&quot;).append(id).append(&quot;').select()&quot;).append(&quot;;&quot;);\n        javaScriptInputs.append(&quot;document.getElementById('&quot;).append(id).append(&quot;').value = '&quot;).append(value).append(&quot;';&quot;);\n\n    }\n\n    StringBuilder sb = new StringBuilder();\n\n    sb.append(&quot;(function()&quot;);\n    sb.append(&quot;{&quot;);\n    sb.append(javaScriptInputs);\n    sb.append(&quot;}&quot;);\n    sb.append(&quot;)&quot;);\n    sb.append(&quot;()&quot;);\n\n    myWebView.loadUrl(&quot;javascript:&quot; + sb.toString());\n}\n</code></pre>\n<p>Is there something that could be causing this on the website and is there a way to overcome this issue? Is the input checking the data is formatted in a certain way and can this be overridden?</p>\n"},{"tags":["java","docker","scala","apache-spark","kubernetes-helm"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1667993219,"post_id":74373618,"comment_id":131298753,"body_markdown":"A Helm chart can&#39;t change the code inside an image, and especially not the base image you&#39;re building from.  If you need to do major updates to an image like changing the JVM version, you&#39;ll have to recreate that image from its Dockerfile (or find a different base image or write your own Dockerfile), this isn&#39;t something that&#39;s easily changed on an already-built image.","body":"A Helm chart can&#39;t change the code inside an image, and especially not the base image you&#39;re building from.  If you need to do major updates to an image like changing the JVM version, you&#39;ll have to recreate that image from its Dockerfile (or find a different base image or write your own Dockerfile), this isn&#39;t something that&#39;s easily changed on an already-built image."},{"owner":{"account_id":7860912,"reputation":400,"user_id":5941365,"display_name":"adesai"},"score":0,"creation_date":1667994867,"post_id":74373618,"comment_id":131299316,"body_markdown":"Thanks for the comment.\nThis particular Helm chart provides a way to override the base image by supplying arguments (image.repository and image.tag), so I believe I can create a new image from the original base image and still use the chart without updating the chart itself.","body":"Thanks for the comment. This particular Helm chart provides a way to override the base image by supplying arguments (image.repository and image.tag), so I believe I can create a new image from the original base image and still use the chart without updating the chart itself."},{"owner":{"account_id":10560717,"reputation":181,"user_id":7780577,"display_name":"cauthon"},"score":0,"creation_date":1681967832,"post_id":74373618,"comment_id":134142585,"body_markdown":"Did you figure this out?  I was also trying to do this.","body":"Did you figure this out?  I was also trying to do this."},{"owner":{"account_id":7860912,"reputation":400,"user_id":5941365,"display_name":"adesai"},"score":0,"creation_date":1682089147,"post_id":74373618,"comment_id":134165619,"body_markdown":"Unfortunately, I had to fork the Bitnami repo and create a custom Image.","body":"Unfortunately, I had to fork the Bitnami repo and create a custom Image."}],"owner":{"account_id":7860912,"reputation":400,"user_id":5941365,"display_name":"adesai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1667990845,"creation_date":1667990845,"question_id":74373618,"body_markdown":"I am using [bitnami/spark Helm chart][1] to manage a Spark cluster on Kubernetes which uses [bitnami/spark docker image][2].\r\n\r\nThe latest version of the Helm chart uses Spark 3.3.1 with Scala 2.12.\r\nMy application jar that needs to run on the cluster requires Java 17 and Scala 2.13 ([packaged with Spark 3.3.1][3]).\r\n\r\nWhat is the best way to update the base Docker image to use Java 17 with Spark 3.3.1 with Scala 2.13?\r\n\r\n\r\n  [1]: https://github.com/bitnami/charts/tree/main/bitnami/spark\r\n  [2]: https://hub.docker.com/r/bitnami/spark/\r\n  [3]: https://www.apache.org/dyn/closer.lua/spark/spark-3.3.1/spark-3.3.1-bin-hadoop3-scala2.13.tgz","title":"Best way to extend Docker image to update Java and Spark","body":"<p>I am using <a href=\"https://github.com/bitnami/charts/tree/main/bitnami/spark\" rel=\"nofollow noreferrer\">bitnami/spark Helm chart</a> to manage a Spark cluster on Kubernetes which uses <a href=\"https://hub.docker.com/r/bitnami/spark/\" rel=\"nofollow noreferrer\">bitnami/spark docker image</a>.</p>\n<p>The latest version of the Helm chart uses Spark 3.3.1 with Scala 2.12.\nMy application jar that needs to run on the cluster requires Java 17 and Scala 2.13 (<a href=\"https://www.apache.org/dyn/closer.lua/spark/spark-3.3.1/spark-3.3.1-bin-hadoop3-scala2.13.tgz\" rel=\"nofollow noreferrer\">packaged with Spark 3.3.1</a>).</p>\n<p>What is the best way to update the base Docker image to use Java 17 with Spark 3.3.1 with Scala 2.13?</p>\n"},{"tags":["java","xml","spring-boot","filter"],"answers":[{"tags":[],"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667990419,"creation_date":1667990419,"answer_id":74373514,"question_id":74371766,"body_markdown":"As I can see you&#39;re using Jackson already for serializing to JSON. I&#39;d recommend to use the Jackson XML extension:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nPlease note that this only works for Spring MVC out of the box. If you wish to use the `XmlMapper`, the counterpart of the `ObjectMapper`, in Spring Security, you have to inject a bean. Problem is, that Spring doesn&#39;t register a bean of type `XmlMapper` by default.\r\n\r\nIf you just want to use XML serialization you can do the following:\r\n\r\n    @Bean\r\n    @Primary\r\n    public XmlMapper xmlMapper(MappingJackson2XmlHttpMessageConverter converter) {\r\n        return (XmlMapper) converter.getObjectMapper();\r\n    }\r\n\r\nAfter this you can inject a bean of type `XmlMapper` in your filter.\r\n\r\n**EDIT**\r\n\r\nI answered first and then thought/researched. There already seems to be questions that deal with the problem, take a look at them:\r\n\r\n - [How to autowire default XmlMapper in Spring Boot application][1]\r\n - [Spring Web Jackson ObjectMapper reference][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28812065/how-to-autowire-default-xmlmapper-in-spring-boot-application\r\n  [2]: https://stackoverflow.com/questions/72995871/spring-web-jackson-objectmapper-reference","title":"how to return response with body in xml format from filter in springboot?","body":"<p>As I can see you're using Jackson already for serializing to JSON. I'd recommend to use the Jackson XML extension:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Please note that this only works for Spring MVC out of the box. If you wish to use the <code>XmlMapper</code>, the counterpart of the <code>ObjectMapper</code>, in Spring Security, you have to inject a bean. Problem is, that Spring doesn't register a bean of type <code>XmlMapper</code> by default.</p>\n<p>If you just want to use XML serialization you can do the following:</p>\n<pre><code>@Bean\n@Primary\npublic XmlMapper xmlMapper(MappingJackson2XmlHttpMessageConverter converter) {\n    return (XmlMapper) converter.getObjectMapper();\n}\n</code></pre>\n<p>After this you can inject a bean of type <code>XmlMapper</code> in your filter.</p>\n<p><strong>EDIT</strong></p>\n<p>I answered first and then thought/researched. There already seems to be questions that deal with the problem, take a look at them:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/28812065/how-to-autowire-default-xmlmapper-in-spring-boot-application\">How to autowire default XmlMapper in Spring Boot application</a></li>\n<li><a href=\"https://stackoverflow.com/questions/72995871/spring-web-jackson-objectmapper-reference\">Spring Web Jackson ObjectMapper reference</a></li>\n</ul>\n"}],"owner":{"account_id":1991302,"reputation":724,"user_id":1785263,"accept_rate":48,"display_name":"Nitish Jain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667990419,"creation_date":1667982052,"question_id":74371766,"body_markdown":"Unable to get the response with body in xml format from filter in springboot. I can get in JSON format correctly by using below code:\r\n\r\n                HttpServletRequest request = (HttpServletRequest) servletRequest;\r\n                HttpServletResponse response = (HttpServletResponse) servletResponse;\r\n                response.reset();\r\n                response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\r\n                response.setHeader(HttpHeaders.CONTENT_TYPE, request.getHeader(HttpHeaders.ACCEPT));\r\n                response.setContentType(request.getHeader(HttpHeaders.ACCEPT));\r\n                objectMapper.writeValue(response.getWriter(), ErrorUtil.createErrorsVO(ErrorTypeEnum.HEADER_NOT_SET, INTUIT_OFFERING_ID));","title":"how to return response with body in xml format from filter in springboot?","body":"<p>Unable to get the response with body in xml format from filter in springboot. I can get in JSON format correctly by using below code:</p>\n<pre><code>            HttpServletRequest request = (HttpServletRequest) servletRequest;\n            HttpServletResponse response = (HttpServletResponse) servletResponse;\n            response.reset();\n            response.setStatus(HttpServletResponse.SC_BAD_REQUEST);\n            response.setHeader(HttpHeaders.CONTENT_TYPE, request.getHeader(HttpHeaders.ACCEPT));\n            response.setContentType(request.getHeader(HttpHeaders.ACCEPT));\n            objectMapper.writeValue(response.getWriter(), ErrorUtil.createErrorsVO(ErrorTypeEnum.HEADER_NOT_SET, INTUIT_OFFERING_ID));\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","jdbc"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1667989528,"post_id":74373248,"comment_id":131297448,"body_markdown":"Please add the complete stacktrace","body":"Please add the complete stacktrace"}],"answers":[{"comments":[{"owner":{"account_id":26320929,"reputation":21,"user_id":19982941,"display_name":"Himanshu Chugh"},"score":0,"creation_date":1667990300,"post_id":74373428,"comment_id":131297705,"body_markdown":"Which maven dependency do i need to have in order to be able to use &quot;mongodb.jdbc.MongoDriver()&quot; or &quot;mongodb.jdbc.MongoDriver.class&quot;.\nAs of now i have these two for mongo= &lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n\t\t&lt;/dependency&gt;\n\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.mongodb/mongo-java-driver --&gt;\n\t\t&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;3.12.11&lt;/version&gt;\n\t\t&lt;/dependency&gt;","body":"Which maven dependency do i need to have in order to be able to use &quot;mongodb.jdbc.MongoDriver()&quot; or &quot;mongodb.jdbc.MongoDriver.class&quot;. As of now i have these two for mongo= &lt;dependency&gt; \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt; \t\t&lt;/dependency&gt;  \t\t&lt;!-- <a href=\"https://mvnrepository.com/artifact/org.mongodb/mongo-java-driver\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.mongodb/mongo-java-driver</a> --&gt; \t\t&lt;dependency&gt; \t\t\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt; \t\t\t&lt;version&gt;3.12.11&lt;/version&gt; \t\t&lt;/dependency&gt;"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667990625,"post_id":74373428,"comment_id":131297830,"body_markdown":"@HimanshuChugh That is an entirely different question. I&#39;d start with [Connect from JDBC Driver](https://www.mongodb.com/docs/atlas/data-federation/query/sql/drivers/jdbc/connect/), which conveniently contains a link to Maven Central Search...","body":"@HimanshuChugh That is an entirely different question. I&#39;d start with <a href=\"https://www.mongodb.com/docs/atlas/data-federation/query/sql/drivers/jdbc/connect/\" rel=\"nofollow noreferrer\">Connect from JDBC Driver</a>, which conveniently contains a link to Maven Central Search..."}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667990093,"creation_date":1667990093,"answer_id":74373428,"question_id":74373248,"body_markdown":"`java.sql.Driver` is **an interface**, which means you cannot instantiate it like that. You may want to review the basics of Java before starting with Spring Boot. \r\n\r\nIn any case, you need to use `new mongodb.jdbc.MongoDriver()` instead of `new Driver()`, or use `setDriverClass` and pass it the class reference (`mongodb.jdbc.MongoDriver.class`) instead of a `Driver` instance.\r\n\r\nAlso, please be aware that `SimpleDriverDataSource` is probably the wrong choice, as - for example - it doesn&#39;t provide connection pooling.","title":"Object initialization error SimpleDriverDataSource object with MongoDB","body":"<p><code>java.sql.Driver</code> is <strong>an interface</strong>, which means you cannot instantiate it like that. You may want to review the basics of Java before starting with Spring Boot.</p>\n<p>In any case, you need to use <code>new mongodb.jdbc.MongoDriver()</code> instead of <code>new Driver()</code>, or use <code>setDriverClass</code> and pass it the class reference (<code>mongodb.jdbc.MongoDriver.class</code>) instead of a <code>Driver</code> instance.</p>\n<p>Also, please be aware that <code>SimpleDriverDataSource</code> is probably the wrong choice, as - for example - it doesn't provide connection pooling.</p>\n"}],"owner":{"account_id":26320929,"reputation":21,"user_id":19982941,"display_name":"Himanshu Chugh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1667990170,"creation_date":1667989396,"question_id":74373248,"body_markdown":"I need to set SimpleDriverDataSource object in order to create datasource with MongoDB, however I am not able to figure out what I should pass as &quot;Driver&quot;.\r\n\r\nI searched and found out that this is the JDBC driver for MongoDB &quot;mongodb.jdbc.MongoDriver&quot;, but how do I set it up while initializing SimpleDriverDataSource object?\r\n\r\nI have tried doing the below, but it shows error mentioned below\r\n\r\n    @Bean\r\n    protected DataSource dataSource() {\r\n        SimpleDriverDataSource ds = new SimpleDriverDataSource(); \r\n        Driver driver = new Driver(&quot;mongodb.jdbc.MongoDriver&quot;);     \t\r\n        \r\n        ds.setDriverClass(driver);\r\n        ds.setUrl(&quot;jdbc:mongodb://localhost:27017:spring-security-sampledb&quot;);\r\n        ds.setUsername(&quot;root&quot;);\r\n        ds.setPassword(&quot;secret&quot;);\r\n        return ds;\r\n    }\r\n\r\nerror\r\n\r\n&gt; Cannot instantiate the type Driver\r\n\r\nI am new to Spring Boot. Can you please help me in implementing this?\r\n","title":"Object initialization error SimpleDriverDataSource object with MongoDB","body":"<p>I need to set SimpleDriverDataSource object in order to create datasource with MongoDB, however I am not able to figure out what I should pass as &quot;Driver&quot;.</p>\n<p>I searched and found out that this is the JDBC driver for MongoDB &quot;mongodb.jdbc.MongoDriver&quot;, but how do I set it up while initializing SimpleDriverDataSource object?</p>\n<p>I have tried doing the below, but it shows error mentioned below</p>\n<pre><code>@Bean\nprotected DataSource dataSource() {\n    SimpleDriverDataSource ds = new SimpleDriverDataSource(); \n    Driver driver = new Driver(&quot;mongodb.jdbc.MongoDriver&quot;);         \n    \n    ds.setDriverClass(driver);\n    ds.setUrl(&quot;jdbc:mongodb://localhost:27017:spring-security-sampledb&quot;);\n    ds.setUsername(&quot;root&quot;);\n    ds.setPassword(&quot;secret&quot;);\n    return ds;\n}\n</code></pre>\n<p>error</p>\n<blockquote>\n<p>Cannot instantiate the type Driver</p>\n</blockquote>\n<p>I am new to Spring Boot. Can you please help me in implementing this?</p>\n"},{"tags":["java","selenium-webdriver","automation","junit5","nebular"],"answers":[{"tags":[],"owner":{"account_id":5788395,"reputation":5166,"user_id":4566794,"accept_rate":86,"display_name":"IKo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621582888,"creation_date":1621582888,"answer_id":67632666,"question_id":67632243,"body_markdown":"Try this:\r\n\r\n    WebElement checkbox = driver.findElement(By.cssSelector(&quot;input[type=&#39;checkbox&#39;]&quot;));\r\n    checkbox.click();","title":"How to automate toggle button using Selenium?","body":"<p>Try this:</p>\n<pre><code>WebElement checkbox = driver.findElement(By.cssSelector(&quot;input[type='checkbox']&quot;));\ncheckbox.click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7052975,"reputation":84,"user_id":5401398,"display_name":"user5401398"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667989649,"creation_date":1667988896,"answer_id":74373136,"question_id":67632243,"body_markdown":"I was able to interact with the toggle button through the surrounding parent element:\r\n\r\n    WebElement togName = driver.findElement(By.className(&quot;custom-control&quot;));\r\n    togName.click();","title":"How to automate toggle button using Selenium?","body":"<p>I was able to interact with the toggle button through the surrounding parent element:</p>\n<pre><code>WebElement togName = driver.findElement(By.className(&quot;custom-control&quot;));\ntogName.click();\n</code></pre>\n"}],"owner":{"account_id":15441786,"reputation":1,"user_id":11140125,"display_name":"Nimesha Nadeeshani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2024,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667989649,"creation_date":1621580689,"question_id":67632243,"body_markdown":"How to automate the toggle button using selenium? How to find the path? Please help me.\r\n\r\nHere the code for the nb-toggle selector. What should I get to use Selenium Automation? I took xpath, cssSelector. Any solution?\r\n\r\n\r\n    &lt;div _ngcontent-pnv-c15=&quot;&quot; class=&quot;custom-control custom-switch&quot;&gt;\r\n       &lt;input _ngcontent-pnv-c15=&quot;&quot; class=&quot;custom-control-input&quot; type=&quot;checkbox&quot;id=&quot;6045c1fe1c189e17311821aa&quot;&gt;\r\n    &lt;label _ngcontent-pnv-c15=&quot;&quot; class=&quot;custom-control-label&quot; for=&quot;6045c1fe1c189e17311821aa&quot;&gt;\r\n        :before\r\n        :after\r\n    &lt;/label&gt;\r\n    &lt;/div&gt;\r\n\r\n[![toggle button][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JeXvY.png","title":"How to automate toggle button using Selenium?","body":"<p>How to automate the toggle button using selenium? How to find the path? Please help me.</p>\n<p>Here the code for the nb-toggle selector. What should I get to use Selenium Automation? I took xpath, cssSelector. Any solution?</p>\n<pre><code>&lt;div _ngcontent-pnv-c15=&quot;&quot; class=&quot;custom-control custom-switch&quot;&gt;\n   &lt;input _ngcontent-pnv-c15=&quot;&quot; class=&quot;custom-control-input&quot; type=&quot;checkbox&quot;id=&quot;6045c1fe1c189e17311821aa&quot;&gt;\n&lt;label _ngcontent-pnv-c15=&quot;&quot; class=&quot;custom-control-label&quot; for=&quot;6045c1fe1c189e17311821aa&quot;&gt;\n    :before\n    :after\n&lt;/label&gt;\n&lt;/div&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/JeXvY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JeXvY.png\" alt=\"toggle button\" /></a></p>\n"},{"tags":["java","process","inputstream","processbuilder"],"answers":[{"comments":[{"owner":{"account_id":14586992,"reputation":3,"user_id":11808965,"display_name":"Mykyta Hupalo"},"score":0,"creation_date":1667988779,"post_id":74372255,"comment_id":131297178,"body_markdown":"It didn&#39;t work, hangs on sc.hasNext() as it always returns true. Just calling sc.nextLine() also hangs","body":"It didn&#39;t work, hangs on sc.hasNext() as it always returns true. Just calling sc.nextLine() also hangs"},{"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"score":0,"creation_date":1667988915,"post_id":74372255,"comment_id":131297237,"body_markdown":"Can you post your latest code here?","body":"Can you post your latest code here?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667988922,"post_id":74372255,"comment_id":131297242,"body_markdown":"If you&#39;re working with an application that Returns a command prompt you will need to read up to that prompt. Reading any further will result in the Stream blocking. You could treat the response asynchronously so this blocking didn&#39;t matter as much","body":"If you&#39;re working with an application that Returns a command prompt you will need to read up to that prompt. Reading any further will result in the Stream blocking. You could treat the response asynchronously so this blocking didn&#39;t matter as much"},{"owner":{"account_id":14586992,"reputation":3,"user_id":11808965,"display_name":"Mykyta Hupalo"},"score":0,"creation_date":1667989766,"post_id":74372255,"comment_id":131297540,"body_markdown":"@g00se How can I read up to that prompt? When I use `InputStreamReader input = new InputStreamReader(process.getInputStream());`, it hangs on `(char) input.read()` then (after calling select query). So, I&#39;m not even able to read output char by char","body":"@g00se How can I read up to that prompt? When I use <code>InputStreamReader input = new InputStreamReader(process.getInputStream());</code>, it hangs on <code>(char) input.read()</code> then (after calling select query). So, I&#39;m not even able to read output char by char"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667990921,"post_id":74372255,"comment_id":131297949,"body_markdown":"Let&#39;s step back a bit. Why are you running a MySql client app in Java in the first place let alone a REST app?","body":"Let&#39;s step back a bit. Why are you running a MySql client app in Java in the first place let alone a REST app?"},{"owner":{"account_id":14586992,"reputation":3,"user_id":11808965,"display_name":"Mykyta Hupalo"},"score":0,"creation_date":1667991828,"post_id":74372255,"comment_id":131298253,"body_markdown":"To perform some load on a MySQL db local channel. To do that, it&#39;s necessary to open MySQL client shell from a terminal. Java is used as MySQL is installed on a couple machines. Also, other DBs may be used.","body":"To perform some load on a MySQL db local channel. To do that, it&#39;s necessary to open MySQL client shell from a terminal. Java is used as MySQL is installed on a couple machines. Also, other DBs may be used."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667992286,"post_id":74372255,"comment_id":131298413,"body_markdown":"Sounds unviable to me but if you were determined I would suggest you read the process output and error stream asynchronously as otherwise it will block at the prompt and therefore block your application&#39;s main thread","body":"Sounds unviable to me but if you were determined I would suggest you read the process output and error stream asynchronously as otherwise it will block at the prompt and therefore block your application&#39;s main thread"}],"tags":[],"owner":{"account_id":24597681,"reputation":125,"user_id":18500877,"display_name":"lavantho0508"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667984466,"creation_date":1667984466,"answer_id":74372255,"question_id":74372114,"body_markdown":"I use Scanner to read the process when executing the command, here is my code\r\n\r\n    ProcessBuilder processBuilder = new ProcessBuilder(&quot;ls&quot;); // \r\n       Process process = processBuilder.start();\r\n        Scanner sc = new Scanner(process.getInputStream());\r\n        while (sc.hasNext()) {            \r\n            System.out.println(sc.nextLine());\r\n        }","title":"How to get InputStream from underlying process when using Java Process","body":"<p>I use Scanner to read the process when executing the command, here is my code</p>\n<pre><code>ProcessBuilder processBuilder = new ProcessBuilder(&quot;ls&quot;); // \n   Process process = processBuilder.start();\n    Scanner sc = new Scanner(process.getInputStream());\n    while (sc.hasNext()) {            \n        System.out.println(sc.nextLine());\n    }\n</code></pre>\n"}],"owner":{"account_id":14586992,"reputation":3,"user_id":11808965,"display_name":"Mykyta Hupalo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667988861,"creation_date":1667983830,"question_id":74372114,"body_markdown":"I&#39;m not able to get command execution result from Java process.getInputStream() from processes underlying process. That is &#39;cmd.exe&#39; is called (or any other terminal), then &#39;mysql\\\\n&#39; is typed, so we start an underlying process (or any other command, like &#39;sqlcmd&#39;), and then execute any MySQL command inside that internal shell and can&#39;t get command execution results from the input stream.\r\n\r\nI understand that input stream waits for some termination char for it to be able to be read, but for it it&#39;s necessary to exit the MySQL shell (or when main method finishes, it also outputs the results), but I can&#39;t do it due to requirements, it&#39;s going to be a running REST app.\r\nCan I force somehow to read input stream up to the last point and not close it?\r\nOr maybe any other ideas how to get the command execution result?\r\n\r\nCode:\r\n\r\n```\r\n\r\npublic static void main(String[] args) throws IOException, InterruptedException {\r\nString line, commandInput;\r\n\r\n        ProcessBuilder processBuilder = new ProcessBuilder(&quot;\\\\bin\\\\bash&quot;);\r\n\r\n//        ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;);\r\nprocessBuilder.redirectErrorStream(true);\r\nProcess process = processBuilder.start();\r\nBufferedReader input = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\nBufferedWriter output = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\r\n\r\n// entering MySQL shell\r\ncommandInput = &quot;mysql -u root\\\\n&quot;;\r\noutput.write(commandInput);\r\noutput.flush();\r\n\r\n// providing command to the MySQL shell\r\ncommandInput = &quot;select * from some_table limit 1;\\n&quot;;\r\noutput.write(commandInput);\r\noutput.flush();\r\n\r\n// can&#39;t read the result, input is never ready\r\nwhile (input.ready()) {\r\nline = input.readLine();\r\nif (line == null) {\r\nbreak;\r\n}\r\nSystem.out.println(line);\r\n}\r\n\r\n// providing 2nd command to the MySQL shell\r\ncommandInput = &quot;select * from some_table limit 1;\\n&quot;;\r\noutput.write(commandInput);\r\noutput.flush();\r\n\r\n// same here, input is never ready\r\nwhile (input.ready()) {\r\nline = input.readLine();\r\nif (line == null) {\r\nbreak;\r\n}\r\nSystem.out.println(line);\r\n}\r\n\r\n// if use exit from MySQL shell, so then of course input is ready to be read\r\n//        commandInput = &quot;exit\\\\n&quot;;\r\n//        output.write(commandInput);\r\n//        output.flush();\r\n//        while (input.ready()) {\r\n//            line = input.readLine();\r\n//            if (line == null) {\r\n//                break;\r\n//            }\r\n//            System.out.println(line);\r\n//        }\r\nSystem.out.println();\r\n}\r\n```\r\n\r\nI&#39;ve tried to redirect input, output streams to be INHERITED, but also wasn&#39;t able to get command results then. I was trying to find a way to read the input stream up to the last point, but wasn&#39;t able to find it.","title":"How to get InputStream from underlying process when using Java Process","body":"<p>I'm not able to get command execution result from Java process.getInputStream() from processes underlying process. That is 'cmd.exe' is called (or any other terminal), then 'mysql\\n' is typed, so we start an underlying process (or any other command, like 'sqlcmd'), and then execute any MySQL command inside that internal shell and can't get command execution results from the input stream.</p>\n<p>I understand that input stream waits for some termination char for it to be able to be read, but for it it's necessary to exit the MySQL shell (or when main method finishes, it also outputs the results), but I can't do it due to requirements, it's going to be a running REST app.\nCan I force somehow to read input stream up to the last point and not close it?\nOr maybe any other ideas how to get the command execution result?</p>\n<p>Code:</p>\n<pre><code>\npublic static void main(String[] args) throws IOException, InterruptedException {\nString line, commandInput;\n\n        ProcessBuilder processBuilder = new ProcessBuilder(&quot;\\\\bin\\\\bash&quot;);\n\n//        ProcessBuilder processBuilder = new ProcessBuilder(&quot;cmd.exe&quot;);\nprocessBuilder.redirectErrorStream(true);\nProcess process = processBuilder.start();\nBufferedReader input = new BufferedReader(new InputStreamReader(process.getInputStream()));\nBufferedWriter output = new BufferedWriter(new OutputStreamWriter(process.getOutputStream()));\n\n// entering MySQL shell\ncommandInput = &quot;mysql -u root\\\\n&quot;;\noutput.write(commandInput);\noutput.flush();\n\n// providing command to the MySQL shell\ncommandInput = &quot;select * from some_table limit 1;\\n&quot;;\noutput.write(commandInput);\noutput.flush();\n\n// can't read the result, input is never ready\nwhile (input.ready()) {\nline = input.readLine();\nif (line == null) {\nbreak;\n}\nSystem.out.println(line);\n}\n\n// providing 2nd command to the MySQL shell\ncommandInput = &quot;select * from some_table limit 1;\\n&quot;;\noutput.write(commandInput);\noutput.flush();\n\n// same here, input is never ready\nwhile (input.ready()) {\nline = input.readLine();\nif (line == null) {\nbreak;\n}\nSystem.out.println(line);\n}\n\n// if use exit from MySQL shell, so then of course input is ready to be read\n//        commandInput = &quot;exit\\\\n&quot;;\n//        output.write(commandInput);\n//        output.flush();\n//        while (input.ready()) {\n//            line = input.readLine();\n//            if (line == null) {\n//                break;\n//            }\n//            System.out.println(line);\n//        }\nSystem.out.println();\n}\n</code></pre>\n<p>I've tried to redirect input, output streams to be INHERITED, but also wasn't able to get command results then. I was trying to find a way to read the input stream up to the last point, but wasn't able to find it.</p>\n"},{"tags":["java","c#","oop","debugging","neural-network"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1667925855,"post_id":74364187,"comment_id":131282274,"body_markdown":"1. Why is this tagged java and c#? Are you unsure what language you are coding in? 2. Please show how you print out those values. The error might be there and if you don&#39;t show all code for a complete example that demonstrates the problem, figuring out where you made a mistake is kind of hard. See [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"1. Why is this tagged java and c#? Are you unsure what language you are coding in? 2. Please show how you print out those values. The error might be there and if you don&#39;t show all code for a complete example that demonstrates the problem, figuring out where you made a mistake is kind of hard. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>"},{"owner":{"account_id":26869491,"reputation":3,"user_id":20451720,"display_name":"Sultan Delen"},"score":0,"creation_date":1667925985,"post_id":74364187,"comment_id":131282331,"body_markdown":"it is written in java, and this is the full code.  https://replit.com/@mutludev/EveryVengefulPiracy weights are printed before and after changing them @oh-god-spiders","body":"it is written in java, and this is the full code.  <a href=\"https://replit.com/@mutludev/EveryVengefulPiracy\" rel=\"nofollow noreferrer\">replit.com/@mutludev/EveryVengefulPiracy</a> weights are printed before and after changing them @oh-god-spiders"}],"answers":[{"comments":[{"owner":{"account_id":26869491,"reputation":3,"user_id":20451720,"display_name":"Sultan Delen"},"score":0,"creation_date":1667931344,"post_id":74364650,"comment_id":131284335,"body_markdown":"I log them after every change but after one iteration they log back the same thing for ex.\n\nOld value: 0.25\nNew value: 0.75\n\nNext Iteration\nOld value: 0.25\nNew value: 0.50\n\nCode is linked top of the question.\n@rub&#233;n-aguado","body":"I log them after every change but after one iteration they log back the same thing for ex.  Old value: 0.25 New value: 0.75  Next Iteration Old value: 0.25 New value: 0.50  Code is linked top of the question. @rub&#233;n-aguado"},{"owner":{"account_id":6106545,"reputation":165,"user_id":4764122,"display_name":"Rub&#233;n Aguado"},"score":0,"creation_date":1667938771,"post_id":74364650,"comment_id":131286671,"body_markdown":"@SultanDelen, simplify your code and post it","body":"@SultanDelen, simplify your code and post it"}],"tags":[],"owner":{"account_id":6106545,"reputation":165,"user_id":4764122,"display_name":"Rub&#233;n Aguado"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667988727,"creation_date":1667927503,"answer_id":74364650,"question_id":74364187,"body_markdown":"weights change, but finally the result is the same for maths ops.\r\nTry modify you method with more log:\r\n\r\n\t  public void decreaseWeight(double[] inputs) {\r\n\t    double[] newWeights = new double[inputs.length];\r\n\t    for (int i = 0; i &lt; this.weights.length; i++) {\r\n\t      newWeights[i] = this.weights[i] - learningRate;\r\n\t    }\r\n\t    this.weights = newWeights;\r\n      System.out.println(&quot;intermedial weights: &quot; + Arrays.toString(this.weights));\r\n\r\n\t  }\r\n\r\n\t  public void increaseWeight(double[] inputs) {\r\n\t    double[] newWeights = new double[inputs.length];\r\n\t    for (int i = 0; i &lt; this.weights.length; i++) {\r\n\t      newWeights[i] = this.weights[i] + learningRate;\r\n\t    }\r\n\t    this.weights = newWeights;\r\n\t    System.out.println(&quot;intermedial weights: &quot; + Arrays.toString(this.weights));\r\n\t}\r\n\r\nand study the result.\r\n\r\n[![debug][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BxTuY.png\r\n\r\nFor each neurons iterator you are increasing and then decreasing weights whith the same value, so finally neuron weights are the same","title":"Java, Class&#39; s property is not updated when it is changed with method","body":"<p>weights change, but finally the result is the same for maths ops.\nTry modify you method with more log:</p>\n<pre><code>  public void decreaseWeight(double[] inputs) {\n    double[] newWeights = new double[inputs.length];\n    for (int i = 0; i &lt; this.weights.length; i++) {\n      newWeights[i] = this.weights[i] - learningRate;\n    }\n    this.weights = newWeights;\n  System.out.println(&quot;intermedial weights: &quot; + Arrays.toString(this.weights));\n\n  }\n\n  public void increaseWeight(double[] inputs) {\n    double[] newWeights = new double[inputs.length];\n    for (int i = 0; i &lt; this.weights.length; i++) {\n      newWeights[i] = this.weights[i] + learningRate;\n    }\n    this.weights = newWeights;\n    System.out.println(&quot;intermedial weights: &quot; + Arrays.toString(this.weights));\n}\n</code></pre>\n<p>and study the result.</p>\n<p><a href=\"https://i.stack.imgur.com/BxTuY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BxTuY.png\" alt=\"debug\" /></a></p>\n<p>For each neurons iterator you are increasing and then decreasing weights whith the same value, so finally neuron weights are the same</p>\n"}],"owner":{"account_id":26869491,"reputation":3,"user_id":20451720,"display_name":"Sultan Delen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74364650,"answer_count":1,"score":-1,"last_activity_date":1667988727,"creation_date":1667925487,"question_id":74364187,"body_markdown":"App Link: [Replit](https://replit.com/@mutludev/EveryVengefulPiracy)\r\n\r\nI have a Neuron_ class\r\n```\r\npublic class Neuron_ {\r\n  private double[] weights;\r\n  double learningRate;\r\n\r\n  public Neuron_ (int inputNeurons, double learningRate) {\r\n    this.weights = new double[inputNeurons];\r\n    this.learningRate = learningRate;\r\n    for (int i = 0; i &lt; inputNeurons; i++) {\r\n      this.weights[i] = Math.random();\r\n    }\r\n  }\r\n\r\n  public double calculate(double[] inputs) {\r\n    double output = 0;\r\n    for(int i = 0; i &lt; inputs.length; i++) {\r\n      output += inputs[i] * this.weights[i];\r\n    }\r\n    return output;\r\n  }\r\n\r\n  public void decreaseWeight(double[] inputs) {    \r\n    for (int i = 0; i &lt; this.weights.length; i++) {\r\n      this.weights[i] -= learningRate * inputs[i] ;\r\n    }\r\n  }\r\n\r\n  public void increaseWeight(double[] inputs) {\r\n    for (int i = 0; i &lt; this.weights.length; i++) {\r\n      this.weights[i] += learningRate * inputs[i] ;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nand I call increaseWeight and decreaseWeight methods from NeuralNetwork class\r\n\r\n```\r\nif(biggestIndex != correctIndex) {\r\n      System.out.println(&quot;Wrong output, changing weights&quot;);\r\n      for (int i = 0; i &lt; this.neurons.length; i++) {\r\n        for (int j = 0; j &lt; outputNeurons.length; j++) {\r\n          System.out.println(&quot;Changing weights for neuron &quot; + i + &quot; for output &quot; + outputNeurons[j]);\r\n          if (j == correctIndex) {\r\n            this.neurons[i].increaseWeight(inputs);\r\n          } else if (j == biggestIndex) {\r\n            this.neurons[i].decreaseWeight(inputs);\r\n          }\r\n        }\r\n    }\r\n    }\r\n```\r\nneurons array is created like this\r\n\r\n```\r\n  public NeuralNetwork_ (int inputNeurons, String[] outputNeurons, double learningRate) {\r\n    this.outputNeurons = outputNeurons;\r\n    this.neurons = new Neuron_[outputNeurons.length];\r\n    for(int i = 0; i&lt;outputNeurons.length; i++) {\r\n      this.neurons[i] = new Neuron_(inputNeurons, learningRate);\r\n    }\r\n  }\r\n```\r\n\r\n\r\n\r\nWhen I call decreaseWeight and increaseWeight methods from another class, Logs show like they were changed but when I log weights at the beginning and at the end of the training, they were same every time.\r\n\r\nweights array is not updating.\r\n","title":"Java, Class&#39; s property is not updated when it is changed with method","body":"<p>App Link: <a href=\"https://replit.com/@mutludev/EveryVengefulPiracy\" rel=\"nofollow noreferrer\">Replit</a></p>\n<p>I have a Neuron_ class</p>\n<pre><code>public class Neuron_ {\n  private double[] weights;\n  double learningRate;\n\n  public Neuron_ (int inputNeurons, double learningRate) {\n    this.weights = new double[inputNeurons];\n    this.learningRate = learningRate;\n    for (int i = 0; i &lt; inputNeurons; i++) {\n      this.weights[i] = Math.random();\n    }\n  }\n\n  public double calculate(double[] inputs) {\n    double output = 0;\n    for(int i = 0; i &lt; inputs.length; i++) {\n      output += inputs[i] * this.weights[i];\n    }\n    return output;\n  }\n\n  public void decreaseWeight(double[] inputs) {    \n    for (int i = 0; i &lt; this.weights.length; i++) {\n      this.weights[i] -= learningRate * inputs[i] ;\n    }\n  }\n\n  public void increaseWeight(double[] inputs) {\n    for (int i = 0; i &lt; this.weights.length; i++) {\n      this.weights[i] += learningRate * inputs[i] ;\n    }\n  }\n}\n</code></pre>\n<p>and I call increaseWeight and decreaseWeight methods from NeuralNetwork class</p>\n<pre><code>if(biggestIndex != correctIndex) {\n      System.out.println(&quot;Wrong output, changing weights&quot;);\n      for (int i = 0; i &lt; this.neurons.length; i++) {\n        for (int j = 0; j &lt; outputNeurons.length; j++) {\n          System.out.println(&quot;Changing weights for neuron &quot; + i + &quot; for output &quot; + outputNeurons[j]);\n          if (j == correctIndex) {\n            this.neurons[i].increaseWeight(inputs);\n          } else if (j == biggestIndex) {\n            this.neurons[i].decreaseWeight(inputs);\n          }\n        }\n    }\n    }\n</code></pre>\n<p>neurons array is created like this</p>\n<pre><code>  public NeuralNetwork_ (int inputNeurons, String[] outputNeurons, double learningRate) {\n    this.outputNeurons = outputNeurons;\n    this.neurons = new Neuron_[outputNeurons.length];\n    for(int i = 0; i&lt;outputNeurons.length; i++) {\n      this.neurons[i] = new Neuron_(inputNeurons, learningRate);\n    }\n  }\n</code></pre>\n<p>When I call decreaseWeight and increaseWeight methods from another class, Logs show like they were changed but when I log weights at the beginning and at the end of the training, they were same every time.</p>\n<p>weights array is not updating.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","flyway"],"answers":[{"tags":[],"owner":{"account_id":13214732,"reputation":443,"user_id":9543676,"display_name":"Duc Vo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667752103,"creation_date":1667752103,"answer_id":74337685,"question_id":74330865,"body_markdown":"If you use flyway only for `insert data` don&#39;t do that. Try to use this:\r\n\r\n[With Hibernate][1]:\r\n\r\n&gt; In addition, a file named import.sql in the root of the classpath is executed on startup if Hibernate creates the schema from scratch (that is, if the ddl-auto property is set to create or create-drop).\r\n\r\n[With Basic SQL Scripts][1]:\r\n\r\n&gt; Spring Boot can automatically create the schema (DDL scripts) of your JDBC DataSource or R2DBC ConnectionFactory and initialize it (DML scripts). It loads SQL from the standard root classpath locations: schema.sql and data.sql\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-basic-sql-scripts","title":"Flyway &amp; Hibernate : Cannot populate data to initial database","body":"<p>If you use flyway only for <code>insert data</code> don't do that. Try to use this:</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-basic-sql-scripts\" rel=\"nofollow noreferrer\">With Hibernate</a>:</p>\n<blockquote>\n<p>In addition, a file named import.sql in the root of the classpath is executed on startup if Hibernate creates the schema from scratch (that is, if the ddl-auto property is set to create or create-drop).</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-basic-sql-scripts\" rel=\"nofollow noreferrer\">With Basic SQL Scripts</a>:</p>\n<blockquote>\n<p>Spring Boot can automatically create the schema (DDL scripts) of your JDBC DataSource or R2DBC ConnectionFactory and initialize it (DML scripts). It loads SQL from the standard root classpath locations: schema.sql and data.sql</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1668010520,"post_id":74373077,"comment_id":131305424,"body_markdown":"Thanks a lot, actually I had also some problems when using `data.sql`. Although it works and inserted data to the created table without Flyway, then when running the app 2nd tim it gives error as it tries to insert the same records again. So, flyway is the best way to avoid also this kind of situations and keep data on each running of the data, right?","body":"Thanks a lot, actually I had also some problems when using <code>data.sql</code>. Although it works and inserted data to the created table without Flyway, then when running the app 2nd tim it gives error as it tries to insert the same records again. So, flyway is the best way to avoid also this kind of situations and keep data on each running of the data, right?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1668010626,"post_id":74373077,"comment_id":131305469,"body_markdown":"On the other hand, what about using the annotations also on Hibernate side (I mean Entity classes)? Of course I will create all the constraint, indexes, sequence, etc. via flyway migration scripts, but I also think that it is good idea to add all of corresponding annotations to the Entity side? What do you suggest?","body":"On the other hand, what about using the annotations also on Hibernate side (I mean Entity classes)? Of course I will create all the constraint, indexes, sequence, etc. via flyway migration scripts, but I also think that it is good idea to add all of corresponding annotations to the Entity side? What do you suggest?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1668081040,"post_id":74373077,"comment_id":131322806,"body_markdown":"Any reply please?","body":"Any reply please?"}],"tags":[],"owner":{"account_id":22150081,"reputation":444,"user_id":16398766,"display_name":"Barry"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667988627,"creation_date":1667988627,"answer_id":74373077,"question_id":74330865,"body_markdown":"The issue here is that Hibernate does not automatically create tables. Additionally, if using Spring Boot, Flyway will run before the service using hibernate has started. As a result, your Flyway script are interacting with a table that does not exist.\r\n\r\nThe recommended way to do this is to use Flyway to manage both your database structure, your create tables etc, and static data. This will mean your database is versioned and provisioned ready for your service and hibernate can connect. ","title":"Flyway &amp; Hibernate : Cannot populate data to initial database","body":"<p>The issue here is that Hibernate does not automatically create tables. Additionally, if using Spring Boot, Flyway will run before the service using hibernate has started. As a result, your Flyway script are interacting with a table that does not exist.</p>\n<p>The recommended way to do this is to use Flyway to manage both your database structure, your create tables etc, and static data. This will mean your database is versioned and provisioned ready for your service and hibernate can connect.</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667988627,"creation_date":1667676385,"question_id":74330865,"body_markdown":"In a Spring Boot app, I am using Hibernate and 2 tables is created properly. However, I also need to insert data one of these tables and for this purpose I thought I should use Flyway. \r\n\r\nThen I just added insert clauses to the Flyway and use the following parameters for Hibernate and Flyway in application.properties:v\r\n\r\n```\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\nspring.jpa.hibernate.ddl-auto= update # also tried none\r\n\r\nspring.flyway.url=jdbc:mysql://localhost:3306\r\nspring.flyway.schemas=demo-db\r\nspring.flyway.user=root\r\nspring.flyway.password=******\r\n```\r\n\r\nI have not used Flyway for initializing database and I am not sure if I can use Flyway with Hibernate as I mentioned above. Or, should I disable Hibernate table creation and create another migration script for table creation? \r\n\r\n","title":"Flyway &amp; Hibernate : Cannot populate data to initial database","body":"<p>In a Spring Boot app, I am using Hibernate and 2 tables is created properly. However, I also need to insert data one of these tables and for this purpose I thought I should use Flyway.</p>\n<p>Then I just added insert clauses to the Flyway and use the following parameters for Hibernate and Flyway in application.properties:v</p>\n<pre><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.hibernate.ddl-auto= update # also tried none\n\nspring.flyway.url=jdbc:mysql://localhost:3306\nspring.flyway.schemas=demo-db\nspring.flyway.user=root\nspring.flyway.password=******\n</code></pre>\n<p>I have not used Flyway for initializing database and I am not sure if I can use Flyway with Hibernate as I mentioned above. Or, should I disable Hibernate table creation and create another migration script for table creation?</p>\n"},{"tags":["java","java-8","java-stream","peek"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":71,"creation_date":1447175920,"post_id":33635717,"comment_id":55045456,"body_markdown":"Any time I find myself needing a multi-line lambda, I move the lines to a private method and pass the method reference instead of the lambda.","body":"Any time I find myself needing a multi-line lambda, I move the lines to a private method and pass the method reference instead of the lambda."},{"owner":{"account_id":4129188,"reputation":2559,"user_id":3387507,"accept_rate":73,"display_name":"Adam.J"},"score":0,"creation_date":1447176947,"post_id":33635717,"comment_id":55046093,"body_markdown":"Yeah I understand this. I was just trying to more clearly demonstrate what I&#39;m trying to achieve. Thanks though :)","body":"Yeah I understand this. I was just trying to more clearly demonstrate what I&#39;m trying to achieve. Thanks though :)"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1447177432,"post_id":33635717,"comment_id":55046368,"body_markdown":"What&#39;s the intent - are you trying to log all accounts in *and* filter them based on if they&#39;re logged in (which may be trivially true)?  Or, do you want to log them in, *then* filter them based on whether or not they&#39;ve logged in?  I&#39;m asking this in this order because `forEach` may be the operation you want as opposed to `peek`.  Just because it&#39;s in the API doesn&#39;t mean it&#39;s not open for abuse (like `Optional.of`).","body":"What&#39;s the intent - are you trying to log all accounts in <i>and</i> filter them based on if they&#39;re logged in (which may be trivially true)?  Or, do you want to log them in, <i>then</i> filter them based on whether or not they&#39;ve logged in?  I&#39;m asking this in this order because <code>forEach</code> may be the operation you want as opposed to <code>peek</code>.  Just because it&#39;s in the API doesn&#39;t mean it&#39;s not open for abuse (like <code>Optional.of</code>)."},{"owner":{"account_id":4129188,"reputation":2559,"user_id":3387507,"accept_rate":73,"display_name":"Adam.J"},"score":1,"creation_date":1447177593,"post_id":33635717,"comment_id":55046460,"body_markdown":"Filter based in if they have actually logged in. For example if the username is wrong it won&#39;t log in. So I then want to check if it is or isn&#39;t logged in. If it&#39;s not then it&#39;ll get tossed by the filter.","body":"Filter based in if they have actually logged in. For example if the username is wrong it won&#39;t log in. So I then want to check if it is or isn&#39;t logged in. If it&#39;s not then it&#39;ll get tossed by the filter."},{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":13,"creation_date":1447191170,"post_id":33635717,"comment_id":55054025,"body_markdown":"Also note that your code could just be `.peek(Account::login)` and `.filter(Account::loggedIn)`;  there&#39;s no reason to write a Consumer and Predicate that just calls another method like that.","body":"Also note that your code could just be <code>.peek(Account::login)</code> and <code>.filter(Account::loggedIn)</code>;  there&#39;s no reason to write a Consumer and Predicate that just calls another method like that."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":2,"creation_date":1447194463,"post_id":33635717,"comment_id":55055747,"body_markdown":"Also note that the stream API [explicitly discourages side-effects](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Statelessness) in _behavioural parameters_.","body":"Also note that the stream API <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Statelessness\" rel=\"nofollow noreferrer\">explicitly discourages side-effects</a> in <i>behavioural parameters</i>."},{"owner":{"account_id":4129188,"reputation":2559,"user_id":3387507,"accept_rate":73,"display_name":"Adam.J"},"score":0,"creation_date":1447198906,"post_id":33635717,"comment_id":55057611,"body_markdown":"@DidierL Okay so would the following be discourage? Consumer&lt;Account&gt; login = account -&gt; getWebsite(account.getUrl()).login(account.getUsername(), account.getPassword())","body":"@DidierL Okay so would the following be discourage? Consumer&lt;Account&gt; login = account -&gt; getWebsite(account.getUrl()).login(account.getUsername(), account.getPassword())"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":8,"creation_date":1447199590,"post_id":33635717,"comment_id":55057880,"body_markdown":"Useful consumers always have side-effects, those are not discouraged of course. This is actually mentioned in the same section: “_A small number of stream operations, such as `forEach()` and `peek()`, can operate only via side-effects; these should be used with care._”. My remark was more to remind that the `peek` operation (which is designed for debugging purposes) should not be replaced by doing the same thing inside another operation like `map()` or `filter()`.","body":"Useful consumers always have side-effects, those are not discouraged of course. This is actually mentioned in the same section: “<i>A small number of stream operations, such as <code>forEach()</code> and <code>peek()</code>, can operate only via side-effects; these should be used with care.</i>”. My remark was more to remind that the <code>peek</code> operation (which is designed for debugging purposes) should not be replaced by doing the same thing inside another operation like <code>map()</code> or <code>filter()</code>."},{"owner":{"account_id":4129188,"reputation":2559,"user_id":3387507,"accept_rate":73,"display_name":"Adam.J"},"score":0,"creation_date":1447199746,"post_id":33635717,"comment_id":55057935,"body_markdown":"@DidierL Okay thanks. So I would call forEach(login) on the accounts. Then when I want to do something with the logged in accounts filter using a loggedIn predicate? Starting to make more sense now. Thanks","body":"@DidierL Okay thanks. So I would call forEach(login) on the accounts. Then when I want to do something with the logged in accounts filter using a loggedIn predicate? Starting to make more sense now. Thanks"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1447199944,"post_id":33635717,"comment_id":55058005,"body_markdown":"Yep, exactly as in @Makoto&#39;s answer :-)","body":"Yep, exactly as in @Makoto&#39;s answer :-)"},{"owner":{"account_id":1765312,"reputation":463,"user_id":2335486,"accept_rate":29,"display_name":"Diablo"},"score":0,"creation_date":1605891131,"post_id":33635717,"comment_id":114800551,"body_markdown":"A kitchen knife can kill a person, but you don&#39;t go to a war with that! :).  Java 8 streams are cool. But, try not to achieve everything using streams when regular loops can do better. A `forEach` would be more intuitive here. We are so obsessed with java 8 streams and try to solve everything using them. I observe lot of people(including me) try to achieve something like the above using `peek()` thought the API clearly mentions not to use it.","body":"A kitchen knife can kill a person, but you don&#39;t go to a war with that! :).  Java 8 streams are cool. But, try not to achieve everything using streams when regular loops can do better. A <code>forEach</code> would be more intuitive here. We are so obsessed with java 8 streams and try to solve everything using them. I observe lot of people(including me) try to achieve something like the above using <code>peek()</code> thought the API clearly mentions not to use it."}],"answers":[{"comments":[{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":1,"creation_date":1447178809,"post_id":33636377,"comment_id":55047202,"body_markdown":"will there be any problem, future or present, in OP&#39;s use case? Does his code always do what he wants?","body":"will there be any problem, future or present, in OP&#39;s use case? Does his code always do what he wants?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":11,"creation_date":1447178982,"post_id":33636377,"comment_id":55047292,"body_markdown":"@bayou.io: as far as I can see, there is no problem in *this exact form*. But as I tried to explain, using it this way implies you have to remember this aspect, even if you come back to the code one or two years later to incorporate &#171;feature request 9876&#187; into the code…","body":"@bayou.io: as far as I can see, there is no problem in <i>this exact form</i>. But as I tried to explain, using it this way implies you have to remember this aspect, even if you come back to the code one or two years later to incorporate &#171;feature request 9876&#187; into the code…"},{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":1,"creation_date":1498839423,"post_id":33636377,"comment_id":76682553,"body_markdown":"&quot;the peek action may get invoked in an arbitrary order and concurrently&quot;.  Doesn&#39;t this statement go against their rule for how peek works, e.g. &quot;as elements are consumed&quot;?","body":"&quot;the peek action may get invoked in an arbitrary order and concurrently&quot;.  Doesn&#39;t this statement go against their rule for how peek works, e.g. &quot;as elements are consumed&quot;?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":6,"creation_date":1499078565,"post_id":33636377,"comment_id":76745136,"body_markdown":"@Jose Martinez: It says “as elements are consumed *from the resulting stream*”, which isn’t the terminal action but the processing, though even the terminal action could consume elements out of order as long as the final result is consistent. But I also think, the phrase of the API note, “*see the elements as they flow past a certain point in a pipeline*” does a better job at describing it.","body":"@Jose Martinez: It says “as elements are consumed <i>from the resulting stream</i>”, which isn’t the terminal action but the processing, though even the terminal action could consume elements out of order as long as the final result is consistent. But I also think, the phrase of the API note, “<i>see the elements as they flow past a certain point in a pipeline</i>” does a better job at describing it."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":4,"down_vote_count":0,"up_vote_count":164,"is_accepted":false,"score":164,"last_activity_date":1584029275,"creation_date":1447177830,"answer_id":33636377,"question_id":33635717,"body_markdown":"The important thing you have to understand is that streams are driven by the *terminal operation*. The terminal operation determines whether all elements have to be processed or any at all. So `collect` is an operation that processes each item, whereas `findAny` may stop processing items once it encountered a matching element.\r\n\r\nAnd `count()` may not process any elements at all when it can determine the size of the stream without processing the items. Since this is an optimization not made in Java&#160;8, but which will be in Java&#160;9, there might be surprises when you switch to Java&#160;9 and have code relying on `count()` processing all items. This is also connected to other implementation-dependent details, e.g. even in Java&#160;9, the reference implementation will not be able to predict the size of an infinite stream source combined with `limit` while there is no fundamental limitation preventing such prediction.\r\n\r\nSince [`peek`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#peek-java.util.function.Consumer-) allows “performing the provided action on each element *as elements are consumed from the resulting stream*”, it does not mandate processing of elements but will perform the action depending on what the terminal operation needs. This implies that you have to use it with great care if you need a particular processing, e.g. want to apply an action on all elements. It works if the terminal operation is guaranteed to process all items, but even then, you must be sure that not the next developer changes the terminal operation (or you forget that subtle aspect).\r\n\r\nFurther, while streams guarantee to maintain the encounter order for a certain combination of operations even for parallel streams, these guarantees do not apply to `peek`. When collecting into a list, the resulting list will have the right order for ordered parallel streams, but the `peek` action may get invoked in an arbitrary order and concurrently.\r\n\r\nSo the most useful thing you can do with `peek` is to find out whether a stream element has been processed which is exactly what the API documentation says:\r\n\r\n&gt; This method exists mainly to support debugging, where you want to see the elements as they flow past a certain point in a pipeline","title":"In Java streams is peek really only for debugging?","body":"<p>The important thing you have to understand is that streams are driven by the <em>terminal operation</em>. The terminal operation determines whether all elements have to be processed or any at all. So <code>collect</code> is an operation that processes each item, whereas <code>findAny</code> may stop processing items once it encountered a matching element.</p>\n\n<p>And <code>count()</code> may not process any elements at all when it can determine the size of the stream without processing the items. Since this is an optimization not made in Java 8, but which will be in Java 9, there might be surprises when you switch to Java 9 and have code relying on <code>count()</code> processing all items. This is also connected to other implementation-dependent details, e.g. even in Java 9, the reference implementation will not be able to predict the size of an infinite stream source combined with <code>limit</code> while there is no fundamental limitation preventing such prediction.</p>\n\n<p>Since <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#peek-java.util.function.Consumer-\" rel=\"noreferrer\"><code>peek</code></a> allows “performing the provided action on each element <em>as elements are consumed from the resulting stream</em>”, it does not mandate processing of elements but will perform the action depending on what the terminal operation needs. This implies that you have to use it with great care if you need a particular processing, e.g. want to apply an action on all elements. It works if the terminal operation is guaranteed to process all items, but even then, you must be sure that not the next developer changes the terminal operation (or you forget that subtle aspect).</p>\n\n<p>Further, while streams guarantee to maintain the encounter order for a certain combination of operations even for parallel streams, these guarantees do not apply to <code>peek</code>. When collecting into a list, the resulting list will have the right order for ordered parallel streams, but the <code>peek</code> action may get invoked in an arbitrary order and concurrently.</p>\n\n<p>So the most useful thing you can do with <code>peek</code> is to find out whether a stream element has been processed which is exactly what the API documentation says:</p>\n\n<blockquote>\n  <p>This method exists mainly to support debugging, where you want to see the elements as they flow past a certain point in a pipeline</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":6,"creation_date":1447178382,"post_id":33636457,"comment_id":55046917,"body_markdown":"If you perform the login in a preprocessing step, you don’t need a stream at all. You can perform `forEach` right at the source collection: `accounts.forEach(a -&gt; a.login());`","body":"If you perform the login in a preprocessing step, you don’t need a stream at all. You can perform <code>forEach</code> right at the source collection: <code>accounts.forEach(a -&gt; a.login());</code>"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1447178453,"post_id":33636457,"comment_id":55046963,"body_markdown":"@Holger:  Excellent point.  I&#39;ve incorporated that into the answer.","body":"@Holger:  Excellent point.  I&#39;ve incorporated that into the answer."},{"owner":{"account_id":4129188,"reputation":2559,"user_id":3387507,"accept_rate":73,"display_name":"Adam.J"},"score":0,"creation_date":1447183475,"post_id":33636457,"comment_id":55049792,"body_markdown":"Great answer! I was torn between this and what @Holger said. Both convey the same thing, but this seems a little clearer and has a nice example too. I&#39;ll follow this approach, even though I doubt there will be another developer using this, I myself may forget the intent of the function.","body":"Great answer! I was torn between this and what @Holger said. Both convey the same thing, but this seems a little clearer and has a nice example too. I&#39;ll follow this approach, even though I doubt there will be another developer using this, I myself may forget the intent of the function."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1447184585,"post_id":33636457,"comment_id":55050415,"body_markdown":"@Adam.J: Right, my answer focused more on the general question contained in your title, i.e. is this method really only for debugging, by explaining the aspects of that method. This answer is more fused on your actual use case and how to do it instead. So you could say, together they provide the full picture. First, the reason why this is not the intended use, second the conclusion, not to stick to an unintended use and what to do instead. The latter will have more practical use for you.","body":"@Adam.J: Right, my answer focused more on the general question contained in your title, i.e. is this method really only for debugging, by explaining the aspects of that method. This answer is more fused on your actual use case and how to do it instead. So you could say, together they provide the full picture. First, the reason why this is not the intended use, second the conclusion, not to stick to an unintended use and what to do instead. The latter will have more practical use for you."},{"owner":{"account_id":4129188,"reputation":2559,"user_id":3387507,"accept_rate":73,"display_name":"Adam.J"},"score":0,"creation_date":1447185127,"post_id":33636457,"comment_id":55050742,"body_markdown":"Yeah I can see that. Just a shame I can&#39;t accept bother answers hah. One this is for sure, both answers have definitely helped me understand why not to do it and how to achieve the same thing, in a more practical manor.","body":"Yeah I can see that. Just a shame I can&#39;t accept bother answers hah. One this is for sure, both answers have definitely helped me understand why not to do it and how to achieve the same thing, in a more practical manor."},{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":1,"creation_date":1447191364,"post_id":33636457,"comment_id":55054117,"body_markdown":"This works in OP&#39;s case, where the stream can be easily recreated.  However, if the stream wasn&#39;t based on a collection, this approach wouldn&#39;t work so well.  You could make an argument that if the stream is only available once, a semantically better way to write this would be `.map(a -&gt; { account.login(); return account; })`, but that does seem a bit more verbose than a simple `.peek(Account::login)`.","body":"This works in OP&#39;s case, where the stream can be easily recreated.  However, if the stream wasn&#39;t based on a collection, this approach wouldn&#39;t work so well.  You could make an argument that if the stream is only available once, a semantically better way to write this would be <code>.map(a -&gt; { account.login(); return account; })</code>, but that does seem a bit more verbose than a simple <code>.peek(Account::login)</code>."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1447193603,"post_id":33636457,"comment_id":55055323,"body_markdown":"@JoshuaTaylor:  If it&#39;s not a collection or an array, you&#39;re doing something with I/O and you&#39;re attempting to act on it in a way that was probably not intended.  The main takeaway from this (besides the bolded one) would be to perform the transformation operation *before* you filter.  Needing to transform *and* filter in the same step may be seen as an edge case or a code smell, and I&#39;d lean more towards the latter.","body":"@JoshuaTaylor:  If it&#39;s not a collection or an array, you&#39;re doing something with I/O and you&#39;re attempting to act on it in a way that was probably not intended.  The main takeaway from this (besides the bolded one) would be to perform the transformation operation <i>before</i> you filter.  Needing to transform <i>and</i> filter in the same step may be seen as an edge case or a code smell, and I&#39;d lean more towards the latter."},{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":1,"creation_date":1447193892,"post_id":33636457,"comment_id":55055468,"body_markdown":"@Makoto &quot; If it&#39;s not a collection or an array, you&#39;re doing something with I/O and you&#39;re attempting to act on it in a way that was probably not intended. &quot;  That&#39;s not necessarily true at all.  I can write a method that takes a `Stream&lt;...&gt;` and then call it with `myCollection.stream()` without doing anything that&#39;s IO based.  If the streams API is supposed to be useful, there&#39;s no real reason why methods might not take streams as arguments.","body":"@Makoto &quot; If it&#39;s not a collection or an array, you&#39;re doing something with I/O and you&#39;re attempting to act on it in a way that was probably not intended. &quot;  That&#39;s not necessarily true at all.  I can write a method that takes a <code>Stream&lt;...&gt;</code> and then call it with <code>myCollection.stream()</code> without doing anything that&#39;s IO based.  If the streams API is supposed to be useful, there&#39;s no real reason why methods might not take streams as arguments."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1447228760,"post_id":33636457,"comment_id":55066082,"body_markdown":"Of course, it was much easier if the `login()` method returned a `boolean` value indicating the success status…","body":"Of course, it was much easier if the <code>login()</code> method returned a <code>boolean</code> value indicating the success status…"},{"owner":{"account_id":4129188,"reputation":2559,"user_id":3387507,"accept_rate":73,"display_name":"Adam.J"},"score":0,"creation_date":1447233924,"post_id":33636457,"comment_id":55068460,"body_markdown":"@Holger I was wondering if this was the correct way to do it or not? I have a few void methods which I later need to check they&#39;re success. I wasn&#39;t sure if this should be two methods or one which returned a boolean. Thanks for this.","body":"@Holger I was wondering if this was the correct way to do it or not? I have a few void methods which I later need to check they&#39;re success. I wasn&#39;t sure if this should be two methods or one which returned a boolean. Thanks for this."},{"owner":{"account_id":4129188,"reputation":2559,"user_id":3387507,"accept_rate":73,"display_name":"Adam.J"},"score":0,"creation_date":1447238333,"post_id":33636457,"comment_id":55070948,"body_markdown":"@Holger Also, could I make login a predicate? It would log in, then return loggedIn?","body":"@Holger Also, could I make login a predicate? It would log in, then return loggedIn?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1447240380,"post_id":33636457,"comment_id":55072077,"body_markdown":"That’s what I was aiming at. If `login()` returns a `boolean`, you can use it as a predicate which is the cleanest solution. It still has a side effect, but that’s ok as long as it is non-interfering, i.e. the `login` process` of one `Account` has no influence on the login` process` of another `Account`.","body":"That’s what I was aiming at. If <code>login()</code> returns a <code>boolean</code>, you can use it as a predicate which is the cleanest solution. It still has a side effect, but that’s ok as long as it is non-interfering, i.e. the <code>login</code> process` of one <code>Account</code> has no influence on the login` process` of another <code>Account</code>."},{"owner":{"account_id":4129188,"reputation":2559,"user_id":3387507,"accept_rate":73,"display_name":"Adam.J"},"score":0,"creation_date":1447240759,"post_id":33636457,"comment_id":55072241,"body_markdown":"@Holger Thanks! That seems like the better solution!","body":"@Holger Thanks! That seems like the better solution!"},{"owner":{"account_id":7361865,"reputation":254,"user_id":5604890,"display_name":"Lukas"},"score":0,"creation_date":1490687871,"post_id":33636457,"comment_id":73211395,"body_markdown":"How is this the accepted answer? We are iterating over the collection twice while technically only one iteration is required. I am currently facing a similar issue and am considering usage of a classic forEach Loop. What advantage does the usage of two streams have here?","body":"How is this the accepted answer? We are iterating over the collection twice while technically only one iteration is required. I am currently facing a similar issue and am considering usage of a classic forEach Loop. What advantage does the usage of two streams have here?"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1490721721,"post_id":33636457,"comment_id":73235433,"body_markdown":"@Lukas:  One stream introduces side-effects, and the other doesn&#39;t.  If you blend streams which have side-effects in with streams that *shouldn&#39;t*, it can be come trickier to debug and maintain going forward.  This is for clarity&#39;s sake.   At the same time, I&#39;d doubt there&#39;s much in terms of performance win by iterating over it once; you&#39;re still doing the same operations on it, with the second operation simply filtering out the unsuccessfully authenticated accounts.","body":"@Lukas:  One stream introduces side-effects, and the other doesn&#39;t.  If you blend streams which have side-effects in with streams that <i>shouldn&#39;t</i>, it can be come trickier to debug and maintain going forward.  This is for clarity&#39;s sake.   At the same time, I&#39;d doubt there&#39;s much in terms of performance win by iterating over it once; you&#39;re still doing the same operations on it, with the second operation simply filtering out the unsuccessfully authenticated accounts."},{"owner":{"account_id":8692600,"reputation":484,"user_id":6505091,"display_name":"kaba713"},"score":1,"creation_date":1530604589,"post_id":33636457,"comment_id":89282351,"body_markdown":"Obviously this solution is not good as it is forcing a functional way of writing where a non functional code makes so much more sense. Either the login function should return a logged in Account object or at least a boolean or the classic for each loop is a cleaner way to write it. If you have to iterate twice over the same collection then your code is broken. Please don&#39;t use the stream API for the sake of using it.","body":"Obviously this solution is not good as it is forcing a functional way of writing where a non functional code makes so much more sense. Either the login function should return a logged in Account object or at least a boolean or the classic for each loop is a cleaner way to write it. If you have to iterate twice over the same collection then your code is broken. Please don&#39;t use the stream API for the sake of using it."}],"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"comment_count":16,"down_vote_count":3,"up_vote_count":115,"is_accepted":true,"score":112,"last_activity_date":1447178435,"creation_date":1447178122,"answer_id":33636457,"question_id":33635717,"body_markdown":"The key takeaway from this:\r\n\r\n**Don&#39;t use the API in an unintended way, even if it accomplishes your immediate goal.** That approach may break in the future, and it is also unclear to future maintainers.\r\n\r\n---\r\n\r\n\r\nThere is no harm in breaking this out to multiple operations, as they are distinct operations.  There *is* harm in using the API in an unclear and unintended way, which may have ramifications if this particular behavior is modified in future versions of Java.\r\n\r\nUsing `forEach` on this operation would make it clear to the maintainer that there is an *intended* side effect on each element of `accounts`, and that you are performing some operation that can mutate it.\r\n\r\nIt&#39;s also more conventional in the sense that `peek` is an intermediate operation which doesn&#39;t operate on the entire collection until the terminal operation runs, but `forEach` is indeed a terminal operation.  This way, you can make strong arguments around the behavior and the flow of your code as opposed to asking questions about if `peek` would behave the same as `forEach` does in this context.\r\n\r\n    accounts.forEach(a -&gt; a.login());\r\n    List&lt;Account&gt; loggedInAccounts = accounts.stream()\r\n                                             .filter(Account::loggedIn)\r\n                                             .collect(Collectors.toList());\r\n","title":"In Java streams is peek really only for debugging?","body":"<p>The key takeaway from this:</p>\n\n<p><strong>Don't use the API in an unintended way, even if it accomplishes your immediate goal.</strong> That approach may break in the future, and it is also unclear to future maintainers.</p>\n\n<hr>\n\n<p>There is no harm in breaking this out to multiple operations, as they are distinct operations.  There <em>is</em> harm in using the API in an unclear and unintended way, which may have ramifications if this particular behavior is modified in future versions of Java.</p>\n\n<p>Using <code>forEach</code> on this operation would make it clear to the maintainer that there is an <em>intended</em> side effect on each element of <code>accounts</code>, and that you are performing some operation that can mutate it.</p>\n\n<p>It's also more conventional in the sense that <code>peek</code> is an intermediate operation which doesn't operate on the entire collection until the terminal operation runs, but <code>forEach</code> is indeed a terminal operation.  This way, you can make strong arguments around the behavior and the flow of your code as opposed to asking questions about if <code>peek</code> would behave the same as <code>forEach</code> does in this context.</p>\n\n<pre><code>accounts.forEach(a -&gt; a.login());\nList&lt;Account&gt; loggedInAccounts = accounts.stream()\n                                         .filter(Account::loggedIn)\n                                         .collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":221262,"reputation":2192,"user_id":479136,"accept_rate":60,"display_name":"GauravJ"},"score":5,"creation_date":1604447376,"post_id":40548432,"comment_id":114349925,"body_markdown":"Iterating twice is O(2n) =~ O(n). The chances of you having a performance problem because of this are minimal. You do however score on clarity if you don&#39;t use peek.","body":"Iterating twice is O(2n) =~ O(n). The chances of you having a performance problem because of this are minimal. You do however score on clarity if you don&#39;t use peek."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1694767870,"post_id":40548432,"comment_id":135937427,"body_markdown":"In fact, it’s possible that the two iterations perform better than the single stream operation with two different purposes. Predicting performance in an environment with a runtime optimizer is very hard.","body":"In fact, it’s possible that the two iterations perform better than the single stream operation with two different purposes. Predicting performance in an environment with a runtime optimizer is very hard."}],"tags":[],"owner":{"account_id":9626769,"reputation":347,"user_id":7146132,"display_name":"chimera8"},"comment_count":2,"down_vote_count":2,"up_vote_count":35,"is_accepted":false,"score":33,"last_activity_date":1478868721,"creation_date":1478868721,"answer_id":40548432,"question_id":33635717,"body_markdown":"Perhaps a rule of thumb should be that if you do use peek outside the &quot;debug&quot; scenario, you should only do so if you&#39;re sure of what the terminating and intermediate filtering conditions are. For example:\r\n\r\n    return list.stream().map(foo-&gt;foo.getBar())\r\n                        .peek(bar-&gt;bar.publish(&quot;HELLO&quot;))\r\n                        .collect(Collectors.toList());\r\n\r\nseems to be a valid case where you want, in one operation to transform all Foos to Bars and tell them all hello.\r\n\r\nSeems more efficient and elegant than something like:\r\n    \r\n    List&lt;Bar&gt; bars = list.stream().map(foo-&gt;foo.getBar()).collect(Collectors.toList());\r\n    bars.forEach(bar-&gt;bar.publish(&quot;HELLO&quot;));\r\n    return bars;\r\n\r\nand you don&#39;t end up iterating a collection twice.\r\n","title":"In Java streams is peek really only for debugging?","body":"<p>Perhaps a rule of thumb should be that if you do use peek outside the \"debug\" scenario, you should only do so if you're sure of what the terminating and intermediate filtering conditions are. For example:</p>\n\n<pre><code>return list.stream().map(foo-&gt;foo.getBar())\n                    .peek(bar-&gt;bar.publish(\"HELLO\"))\n                    .collect(Collectors.toList());\n</code></pre>\n\n<p>seems to be a valid case where you want, in one operation to transform all Foos to Bars and tell them all hello.</p>\n\n<p>Seems more efficient and elegant than something like:</p>\n\n<pre><code>List&lt;Bar&gt; bars = list.stream().map(foo-&gt;foo.getBar()).collect(Collectors.toList());\nbars.forEach(bar-&gt;bar.publish(\"HELLO\"));\nreturn bars;\n</code></pre>\n\n<p>and you don't end up iterating a collection twice.</p>\n"},{"comments":[{"owner":{"account_id":8692600,"reputation":484,"user_id":6505091,"display_name":"kaba713"},"score":5,"creation_date":1530604910,"post_id":46957376,"comment_id":89282519,"body_markdown":"All you have to do is to get that login method right. I really don&#39;t see how the peek is the cleanest way to go. How should someone who is reading your code know that you actually misusing the API. Good and clean code doesn&#39;t force a reader to make assumptions about the code.","body":"All you have to do is to get that login method right. I really don&#39;t see how the peek is the cleanest way to go. How should someone who is reading your code know that you actually misusing the API. Good and clean code doesn&#39;t force a reader to make assumptions about the code."},{"owner":{"account_id":43574,"reputation":22566,"user_id":127465,"accept_rate":94,"display_name":"ThomasH"},"score":0,"creation_date":1619154125,"post_id":46957376,"comment_id":118823973,"body_markdown":"I think you need to qualify the method reference in the `.peek` operation, e.g. as `Account::login`, for it to work.","body":"I think you need to qualify the method reference in the <code>.peek</code> operation, e.g. as <code>Account::login</code>, for it to work."},{"owner":{"account_id":43574,"reputation":22566,"user_id":127465,"accept_rate":94,"display_name":"ThomasH"},"score":1,"creation_date":1619154720,"post_id":46957376,"comment_id":118824088,"body_markdown":"I agree that using `.peek` in favor of the `.map` alternative is more succinct, expressive and understandable. The lambda in the .map is only necessary to return the passed in object. .peek does this on its own. I know that as soon as I read the operation name, and don&#39;t have to inspect the lambda to find it out.","body":"I agree that using <code>.peek</code> in favor of the <code>.map</code> alternative is more succinct, expressive and understandable. The lambda in the .map is only necessary to return the passed in object. .peek does this on its own. I know that as soon as I read the operation name, and don&#39;t have to inspect the lambda to find it out."}],"tags":[],"owner":{"account_id":4693886,"reputation":700,"user_id":3799290,"display_name":"UltimaWeapon"},"comment_count":3,"down_vote_count":3,"up_vote_count":11,"is_accepted":false,"score":8,"last_activity_date":1509029135,"creation_date":1509029135,"answer_id":46957376,"question_id":33635717,"body_markdown":"Although I agree with most answers above, I have one case in which using peek actually seems like the cleanest way to go. \r\n\r\nSimilar to your use case, suppose you want to filter only on active accounts and then perform a login on these accounts. \r\n\r\n    accounts.stream()\r\n        .filter(Account::isActive)\r\n        .peek(login)\r\n        .collect(Collectors.toList());\r\n\r\nPeek is helpful to avoid the redundant call while not having to iterate the collection twice: \r\n\r\n    accounts.stream()\r\n        .filter(Account::isActive)\r\n        .map(account -&gt; {\r\n            account.login();\r\n            return account;\r\n        })\r\n        .collect(Collectors.toList());","title":"In Java streams is peek really only for debugging?","body":"<p>Although I agree with most answers above, I have one case in which using peek actually seems like the cleanest way to go. </p>\n\n<p>Similar to your use case, suppose you want to filter only on active accounts and then perform a login on these accounts. </p>\n\n<pre><code>accounts.stream()\n    .filter(Account::isActive)\n    .peek(login)\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>Peek is helpful to avoid the redundant call while not having to iterate the collection twice: </p>\n\n<pre><code>accounts.stream()\n    .filter(Account::isActive)\n    .map(account -&gt; {\n        account.login();\n        return account;\n    })\n    .collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2651121,"reputation":4898,"user_id":2292766,"accept_rate":80,"display_name":"Hannes Schneidermayer"},"score":1,"creation_date":1654699115,"post_id":50970747,"comment_id":128154158,"body_markdown":"**Not true at all.** According to its JavaDocs, the intermediate Stream operation java.util.Stream.peek() “exists mainly to support debugging” purposes.","body":"<b>Not true at all.</b> According to its JavaDocs, the intermediate Stream operation java.util.Stream.peek() “exists mainly to support debugging” purposes."}],"tags":[],"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"comment_count":1,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1667987932,"creation_date":1529590495,"answer_id":50970747,"question_id":33635717,"body_markdown":"I would say that `peek` provides the ability to **decentralize code that can mutate stream objects, or modify global state** (based on them), instead of stuffing everything into a **simple or composed function** passed to a terminal method.\r\n\r\nNow the question might be: **should we mutate stream objects or change global state from within functions in functional style java programming**?\r\n\r\nIf the answer to any of the the above 2 questions is yes (or: in some cases yes) then `peek()` is **definitely not only for debugging purposes**, **for the same reason that `forEach()` isn&#39;t only for debugging purposes**.\r\n\r\nFor me when choosing between `forEach()` and `peek()`, is choosing the following: Do I want pieces of code that mutate stream objects (or change global state) to be attached to a composable, or do I want them to attach directly to stream?\r\n\r\nI think `peek()` will better pair with java9 methods. e.g. `takeWhile()` may need to decide when to stop iteration based on an already mutated object, so paring it with `forEach()` would not have the same effect.\r\n\r\n**P.S.** I have not mentioned `map()` anywhere because in case we want to  mutate objects (or global state), rather than generating new objects, it works exactly like `peek()`.\r\n","title":"In Java streams is peek really only for debugging?","body":"<p>I would say that <code>peek</code> provides the ability to <strong>decentralize code that can mutate stream objects, or modify global state</strong> (based on them), instead of stuffing everything into a <strong>simple or composed function</strong> passed to a terminal method.</p>\n<p>Now the question might be: <strong>should we mutate stream objects or change global state from within functions in functional style java programming</strong>?</p>\n<p>If the answer to any of the the above 2 questions is yes (or: in some cases yes) then <code>peek()</code> is <strong>definitely not only for debugging purposes</strong>, <strong>for the same reason that <code>forEach()</code> isn't only for debugging purposes</strong>.</p>\n<p>For me when choosing between <code>forEach()</code> and <code>peek()</code>, is choosing the following: Do I want pieces of code that mutate stream objects (or change global state) to be attached to a composable, or do I want them to attach directly to stream?</p>\n<p>I think <code>peek()</code> will better pair with java9 methods. e.g. <code>takeWhile()</code> may need to decide when to stop iteration based on an already mutated object, so paring it with <code>forEach()</code> would not have the same effect.</p>\n<p><strong>P.S.</strong> I have not mentioned <code>map()</code> anywhere because in case we want to  mutate objects (or global state), rather than generating new objects, it works exactly like <code>peek()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1630934,"reputation":3623,"user_id":1505487,"accept_rate":40,"display_name":"Solubris"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1551384696,"creation_date":1551384696,"answer_id":54933527,"question_id":33635717,"body_markdown":"The functional solution is to make account object immutable. So account.login() must return a new account object. This will mean that the map operation can be used for login instead of peek.","title":"In Java streams is peek really only for debugging?","body":"<p>The functional solution is to make account object immutable. So account.login() must return a new account object. This will mean that the map operation can be used for login instead of peek.</p>\n"},{"comments":[{"owner":{"account_id":43574,"reputation":22566,"user_id":127465,"accept_rate":94,"display_name":"ThomasH"},"score":0,"creation_date":1619155713,"post_id":66047984,"comment_id":118824297,"body_markdown":"I&#39;m not sure your results are reliable. As the `.count` terminal operation also produces output, JShell might be overwriting the output of the .peek operation with it. If you replace .count with another terminal operation that doesn&#39;t produce output, it works nicely, e.g. `jshell&gt; IntStream.range(1,10).peek(System.out::println).forEach(i-&gt;{})`.","body":"I&#39;m not sure your results are reliable. As the <code>.count</code> terminal operation also produces output, JShell might be overwriting the output of the .peek operation with it. If you replace .count with another terminal operation that doesn&#39;t produce output, it works nicely, e.g. <code>jshell&gt; IntStream.range(1,10).peek(System.out::println).forEach(i-&gt;{&zwnj;&#8203;})</code>."},{"owner":{"account_id":2024343,"reputation":924,"user_id":1809799,"display_name":"Ren&#233;"},"score":2,"creation_date":1619187754,"post_id":66047984,"comment_id":118837087,"body_markdown":"Having count as the terminal operation here is exactly the problem I want to show. count is not interested in your actual elements which is why they are sometimes not processed and the count just calculated.","body":"Having count as the terminal operation here is exactly the problem I want to show. count is not interested in your actual elements which is why they are sometimes not processed and the count just calculated."},{"owner":{"account_id":43574,"reputation":22566,"user_id":127465,"accept_rate":94,"display_name":"ThomasH"},"score":0,"creation_date":1619205057,"post_id":66047984,"comment_id":118844274,"body_markdown":"Ah, ok, now I see.","body":"Ah, ok, now I see."},{"owner":{"account_id":10363513,"reputation":1171,"user_id":7643283,"display_name":"Xobotun"},"score":0,"creation_date":1645176397,"post_id":66047984,"comment_id":125806681,"body_markdown":"Just for anyone wondering how does the `count()` method works without actually calculating number of elements in the stream, I strongly believe it is because of flag `StreamOpFlag.SIZED` being set by `IntStream` and `Stream.of`. What is worse, `Stream.of` behaviour differs between JVM versions: in 1.8 it used to be a normal stream, but in some latter version it became `SIZED`, iirc.","body":"Just for anyone wondering how does the <code>count()</code> method works without actually calculating number of elements in the stream, I strongly believe it is because of flag <code>StreamOpFlag.SIZED</code> being set by <code>IntStream</code> and <code>Stream.of</code>. What is worse, <code>Stream.of</code> behaviour differs between JVM versions: in 1.8 it used to be a normal stream, but in some latter version it became <code>SIZED</code>, iirc."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1694767433,"post_id":66047984,"comment_id":135937344,"body_markdown":"@Xobotun as said in other (much older) answers, `count()` was changed in Java&#160;9, [not `Stream.of()`’s behavior](https://tio.run/##jVLLbsIwELznK1Y@OSr1B0Afh9JKbS@VcmvpwQSTGJI48i5BtOLb6SaBAKKUnjbemZ2djD3Tlb52pSlmk/lmY/PSeYIZN9WCbKaiMrNkvCbnB8EJiuSNzlXUlEEQxJlGhPb4lOkE4TsAKBfjzMaApIlL5ewEcm0LyTxbJB@foH2CYUMFiFZIJlduQapkmLJCihdeCAKudmBi6M2zZ08rKRo3lfFoXSHCcNCoxKmJ51K0TpSbylD04OB0jjYSehyPxDG77olLIz0YiYmZ/jrbgxr6v0T9kaT2Ly0uzNhKroM6ZW8rTeYo5nZTmzMsU007uZv7O@giPw1d1lzOW/RBbE0zaf8UmvESbgEV7ruyo9qpxFKlGh9S7XXMuEU2hfJAQ0XP74/DcG/i3O2/Fm6JYAkB7ZfpNw@B1Q0r5vzDETe7C62zaKvJ0FyUHjqDUDiCOe/oVogjsXWwDjabHw)","body":"@Xobotun as said in other (much older) answers, <code>count()</code> was changed in Java 9, <a href=\"https://tio.run/##jVLLbsIwELznK1Y@OSr1B0Afh9JKbS@VcmvpwQSTGJI48i5BtOLb6SaBAKKUnjbemZ2djD3Tlb52pSlmk/lmY/PSeYIZN9WCbKaiMrNkvCbnB8EJiuSNzlXUlEEQxJlGhPb4lOkE4TsAKBfjzMaApIlL5ewEcm0LyTxbJB@foH2CYUMFiFZIJlduQapkmLJCihdeCAKudmBi6M2zZ08rKRo3lfFoXSHCcNCoxKmJ51K0TpSbylD04OB0jjYSehyPxDG77olLIz0YiYmZ/jrbgxr6v0T9kaT2Ly0uzNhKroM6ZW8rTeYo5nZTmzMsU007uZv7O@giPw1d1lzOW/RBbE0zaf8UmvESbgEV7ruyo9qpxFKlGh9S7XXMuEU2hfJAQ0XP74/DcG/i3O2/Fm6JYAkB7ZfpNw@B1Q0r5vzDETe7C62zaKvJ0FyUHjqDUDiCOe/oVogjsXWwDjabHw\" rel=\"nofollow noreferrer\">not <code>Stream.of()</code>’s behavior</a>"}],"tags":[],"owner":{"account_id":2024343,"reputation":924,"user_id":1809799,"display_name":"Ren&#233;"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1612450451,"creation_date":1612450135,"answer_id":66047984,"question_id":33635717,"body_markdown":"A lot of answers made good points, and especially the (accepted) answer by Makoto describes the possible problems in quite some detail. But no one actually showed how it can go wrong:\r\n\r\n\r\n    [1]-&gt; IntStream.range(1, 10).peek(System.out::println).count();\r\n    |  $6 ==&gt; 9\r\n\r\nNo output.\r\n\r\n    [2]-&gt; IntStream.range(1, 10).filter(i -&gt; i%2==0).peek(System.out::println).count();\r\n    |  $9 ==&gt; 4\r\n\r\nOutputs numbers 2, 4, 6, 8.\r\n\r\n    [3]-&gt; IntStream.range(1, 10).filter(i -&gt; i &gt; 0).peek(System.out::println).count();\r\n    |  $12 ==&gt; 9\r\n\r\nOutputs numbers 1 to 9.\r\n\r\n    [4]-&gt; IntStream.range(1, 10).map(i -&gt; i * 2).peek(System.out::println).count();\r\n    |  $16 ==&gt; 9\r\n\r\nNo output.\r\n\r\n    [5]-&gt; Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9).peek(System.out::println).count();\r\n    |  $23 ==&gt; 9\r\n\r\nNo output.\r\n\r\n    [6]-&gt; Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9).stream().peek(System.out::println).count();\r\n    |  $25 ==&gt; 9\r\n\r\nNo output.\r\n\r\n    [7]-&gt; IntStream.range(1, 10).filter(i -&gt; true).peek(System.out::println).count();\r\n    |  $30 ==&gt; 9\r\n\r\nOutputs numbers 1 to 9.\r\n\r\n    [1]-&gt; List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    |  list ==&gt; []\r\n    [2]-&gt; Stream.of(1, 5, 2, 7, 3, 9, 8, 4, 6).sorted().peek(list::add).count();\r\n    |  $7 ==&gt; 9\r\n    [3]-&gt; list\r\n    |  list ==&gt; []\r\n\r\n(You get the idea.)\r\n\r\nThe examples were run in jshell (Java 15.0.2) and mimic the use case of converting data (replace `System.out::println` by `list::add` for example as also done in some answers) and returning how much data was added. The current observation is that any operation that could filter elements (such as filter or skip) seems to force handling of all remaining elements, but it need not stay that way.","title":"In Java streams is peek really only for debugging?","body":"<p>A lot of answers made good points, and especially the (accepted) answer by Makoto describes the possible problems in quite some detail. But no one actually showed how it can go wrong:</p>\n<pre><code>[1]-&gt; IntStream.range(1, 10).peek(System.out::println).count();\n|  $6 ==&gt; 9\n</code></pre>\n<p>No output.</p>\n<pre><code>[2]-&gt; IntStream.range(1, 10).filter(i -&gt; i%2==0).peek(System.out::println).count();\n|  $9 ==&gt; 4\n</code></pre>\n<p>Outputs numbers 2, 4, 6, 8.</p>\n<pre><code>[3]-&gt; IntStream.range(1, 10).filter(i -&gt; i &gt; 0).peek(System.out::println).count();\n|  $12 ==&gt; 9\n</code></pre>\n<p>Outputs numbers 1 to 9.</p>\n<pre><code>[4]-&gt; IntStream.range(1, 10).map(i -&gt; i * 2).peek(System.out::println).count();\n|  $16 ==&gt; 9\n</code></pre>\n<p>No output.</p>\n<pre><code>[5]-&gt; Stream.of(1, 2, 3, 4, 5, 6, 7, 8, 9).peek(System.out::println).count();\n|  $23 ==&gt; 9\n</code></pre>\n<p>No output.</p>\n<pre><code>[6]-&gt; Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9).stream().peek(System.out::println).count();\n|  $25 ==&gt; 9\n</code></pre>\n<p>No output.</p>\n<pre><code>[7]-&gt; IntStream.range(1, 10).filter(i -&gt; true).peek(System.out::println).count();\n|  $30 ==&gt; 9\n</code></pre>\n<p>Outputs numbers 1 to 9.</p>\n<pre><code>[1]-&gt; List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n|  list ==&gt; []\n[2]-&gt; Stream.of(1, 5, 2, 7, 3, 9, 8, 4, 6).sorted().peek(list::add).count();\n|  $7 ==&gt; 9\n[3]-&gt; list\n|  list ==&gt; []\n</code></pre>\n<p>(You get the idea.)</p>\n<p>The examples were run in jshell (Java 15.0.2) and mimic the use case of converting data (replace <code>System.out::println</code> by <code>list::add</code> for example as also done in some answers) and returning how much data was added. The current observation is that any operation that could filter elements (such as filter or skip) seems to force handling of all remaining elements, but it need not stay that way.</p>\n"},{"comments":[{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1683732351,"post_id":67224776,"comment_id":134412651,"body_markdown":"This is an excellent answer! Tysvm for detailing your thoughts.","body":"This is an excellent answer! Tysvm for detailing your thoughts."}],"tags":[],"owner":{"account_id":43574,"reputation":22566,"user_id":127465,"accept_rate":94,"display_name":"ThomasH"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1619160418,"creation_date":1619158211,"answer_id":67224776,"question_id":33635717,"body_markdown":"Despite the documentation note for `.peek` saying the _&quot;method exists mainly to support debugging&quot;_ I think it has general relevance. For one thing the documentation says &quot;mainly&quot;, so leaves room for other use cases. It is not deprecated since years, and speculations about its removal are futile IMO.\r\n\r\nI would say in a world where we still have to handle side-effectful methods it has a valid place and utility. There are many valid operations in streams that use side-effects. Many have been mentioned in other answers, I&#39;ll just add here to set a flag on a collection of objects, or register them with a registry, on objects which are then further processed in the stream. Not to mention creating log messages during stream processing.\r\n\r\nI support the idea to have separate actions in separate stream operations, so I avoid pushing everything into a final `.forEach`. I favor `.peek` over an equivalent `.map` with a lambda who&#39;s only purpose, besides calling the side-effect method, is to return the passed in argument. `.peek` tells me that what goes in also goes out as soon as I encounter this operation, and I don&#39;t need to read a lambda to find out. In that sense it is succinct, expressive and improves readability of the code.\r\n\r\nHaving said that I agree with all the considerations when using `.peek`, e.g. being aware of the effect of the terminal operation of the stream it is used in.","title":"In Java streams is peek really only for debugging?","body":"<p>Despite the documentation note for <code>.peek</code> saying the <em>&quot;method exists mainly to support debugging&quot;</em> I think it has general relevance. For one thing the documentation says &quot;mainly&quot;, so leaves room for other use cases. It is not deprecated since years, and speculations about its removal are futile IMO.</p>\n<p>I would say in a world where we still have to handle side-effectful methods it has a valid place and utility. There are many valid operations in streams that use side-effects. Many have been mentioned in other answers, I'll just add here to set a flag on a collection of objects, or register them with a registry, on objects which are then further processed in the stream. Not to mention creating log messages during stream processing.</p>\n<p>I support the idea to have separate actions in separate stream operations, so I avoid pushing everything into a final <code>.forEach</code>. I favor <code>.peek</code> over an equivalent <code>.map</code> with a lambda who's only purpose, besides calling the side-effect method, is to return the passed in argument. <code>.peek</code> tells me that what goes in also goes out as soon as I encounter this operation, and I don't need to read a lambda to find out. In that sense it is succinct, expressive and improves readability of the code.</p>\n<p>Having said that I agree with all the considerations when using <code>.peek</code>, e.g. being aware of the effect of the terminal operation of the stream it is used in.</p>\n"},{"tags":[],"owner":{"account_id":1812830,"reputation":1461,"user_id":1648546,"display_name":"Jay Ehsaniara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660501787,"creation_date":1660501485,"answer_id":73354169,"question_id":33635717,"body_markdown":"It seems like a helper class is needed:\r\n\r\n    public static class OneBranchOnly&lt;T&gt; {\r\n        public Function&lt;T, T&gt; apply(Predicate&lt;? super T&gt; test,\r\n                                    Consumer&lt;? super T&gt; t) {\r\n            return o -&gt; {\r\n                if (test.test(o)) t.accept(o);\r\n                return o;\r\n            };\r\n        }\r\n    }\r\n\r\nthen switch `peek` with `map`:\r\n\r\n    .map(new OneBranchOnly&lt; Account &gt;().apply(                   \r\n                        account -&gt; account.isTestAccount(),\r\n                        account -&gt; account.setName(&quot;Test Account&quot;))\r\n    )\r\nresults: Collections of accounts that only test accounts got renamed (no reference gets maintained)","title":"In Java streams is peek really only for debugging?","body":"<p>It seems like a helper class is needed:</p>\n<pre><code>public static class OneBranchOnly&lt;T&gt; {\n    public Function&lt;T, T&gt; apply(Predicate&lt;? super T&gt; test,\n                                Consumer&lt;? super T&gt; t) {\n        return o -&gt; {\n            if (test.test(o)) t.accept(o);\n            return o;\n        };\n    }\n}\n</code></pre>\n<p>then switch <code>peek</code> with <code>map</code>:</p>\n<pre><code>.map(new OneBranchOnly&lt; Account &gt;().apply(                   \n                    account -&gt; account.isTestAccount(),\n                    account -&gt; account.setName(&quot;Test Account&quot;))\n)\n</code></pre>\n<p>results: Collections of accounts that only test accounts got renamed (no reference gets maintained)</p>\n"},{"tags":[],"owner":{"account_id":1281759,"reputation":1068,"user_id":1235724,"accept_rate":40,"display_name":"Jens Jensen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666534602,"creation_date":1666534602,"answer_id":74171844,"question_id":33635717,"body_markdown":"To get rid of warnings, I use functor `tee`, named after [Unix&#39; tee][1]:\r\n\r\n```java\r\npublic static &lt;T&gt; Function&lt;T,T&gt; tee(Consumer&lt;T&gt; after) {\r\n\treturn arg -&gt; {\r\n\t\tf.accept(arg);\r\n\t\treturn arg;\r\n\t};\r\n}\r\n```\r\n\r\nYou can replace:\r\n\r\n```java\r\n  .peek(f)\r\n```\r\n\r\nwith\r\n\r\n```java\r\n  .map(tee(f))\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Tee_(Unix)","title":"In Java streams is peek really only for debugging?","body":"<p>To get rid of warnings, I use functor <code>tee</code>, named after <a href=\"https://en.wikipedia.org/wiki/Tee_(Unix)\" rel=\"nofollow noreferrer\">Unix' tee</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; Function&lt;T,T&gt; tee(Consumer&lt;T&gt; after) {\n    return arg -&gt; {\n        f.accept(arg);\n        return arg;\n    };\n}\n</code></pre>\n<p>You can replace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  .peek(f)\n</code></pre>\n<p>with</p>\n<pre class=\"lang-java prettyprint-override\"><code>  .map(tee(f))\n</code></pre>\n"}],"owner":{"account_id":4129188,"reputation":2559,"user_id":3387507,"accept_rate":73,"display_name":"Adam.J"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99689,"favorite_count":0,"down_vote_count":0,"up_vote_count":218,"accepted_answer_id":33636457,"answer_count":10,"score":218,"last_activity_date":1667987932,"creation_date":1447175578,"question_id":33635717,"body_markdown":"I&#39;m reading up about Java streams and discovering new things as I go along. One of the new things I found was the `peek()` function. Almost everything I&#39;ve read on peek says it should be used to debug your Streams.\r\n\r\nWhat if I had a Stream&lt;Account&gt; where each Account has a username, password field and a login() and loggedIn() method.\r\n\r\nI also have\r\n\r\n    Consumer&lt;Account&gt; login = account -&gt; account.login();\r\n\r\nand\r\n\r\n    Predicate&lt;Account&gt; loggedIn = account -&gt; account.loggedIn();\r\n\r\nWhy would this be so bad?\r\n\r\n    List&lt;Account&gt; accounts; //assume it&#39;s been setup\r\n    List&lt;Account&gt; loggedInAccount = \r\n    accounts.stream()\r\n        .peek(login)\r\n        .filter(loggedIn)\r\n        .collect(Collectors.toList());\r\n\r\nNow as far as I can tell this does exactly what it&#39;s intended to do. It;\r\n\r\n- Takes a list of accounts\r\n- Tries to log in to each account\r\n- Filters out any account which aren&#39;t logged in\r\n- Collects the logged in accounts into a new list\r\n\r\nWhat is the downside of doing something like this? Any reason I shouldn&#39;t proceed? Lastly, if not this solution then what?\r\n\r\nThe original version of this used the .filter() method as follows;\r\n\r\n    .filter(account -&gt; {\r\n            account.login();\r\n            return account.loggedIn();\r\n        })","title":"In Java streams is peek really only for debugging?","body":"<p>I'm reading up about Java streams and discovering new things as I go along. One of the new things I found was the <code>peek()</code> function. Almost everything I've read on peek says it should be used to debug your Streams.</p>\n\n<p>What if I had a Stream where each Account has a username, password field and a login() and loggedIn() method.</p>\n\n<p>I also have</p>\n\n<pre><code>Consumer&lt;Account&gt; login = account -&gt; account.login();\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Predicate&lt;Account&gt; loggedIn = account -&gt; account.loggedIn();\n</code></pre>\n\n<p>Why would this be so bad?</p>\n\n<pre><code>List&lt;Account&gt; accounts; //assume it's been setup\nList&lt;Account&gt; loggedInAccount = \naccounts.stream()\n    .peek(login)\n    .filter(loggedIn)\n    .collect(Collectors.toList());\n</code></pre>\n\n<p>Now as far as I can tell this does exactly what it's intended to do. It;</p>\n\n<ul>\n<li>Takes a list of accounts</li>\n<li>Tries to log in to each account</li>\n<li>Filters out any account which aren't logged in</li>\n<li>Collects the logged in accounts into a new list</li>\n</ul>\n\n<p>What is the downside of doing something like this? Any reason I shouldn't proceed? Lastly, if not this solution then what?</p>\n\n<p>The original version of this used the .filter() method as follows;</p>\n\n<pre><code>.filter(account -&gt; {\n        account.login();\n        return account.loggedIn();\n    })\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":3,"creation_date":1533496645,"post_id":51697485,"comment_id":90356362,"body_markdown":"Can you change `int` to `Integer` or `Long` please","body":"Can you change <code>int</code> to <code>Integer</code> or <code>Long</code> please"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1533496708,"post_id":51697485,"comment_id":90356375,"body_markdown":"Wha tis the difference in int and Integer when I use them with JPA?","body":"Wha tis the difference in int and Integer when I use them with JPA?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":3,"creation_date":1533496888,"post_id":51697485,"comment_id":90356425,"body_markdown":"int is a primitive type not an Object","body":"int is a primitive type not an Object"},{"owner":{"account_id":11146802,"reputation":117,"user_id":8181241,"display_name":"Anupama Karunarathna"},"score":1,"creation_date":1594221442,"post_id":51697485,"comment_id":111052293,"body_markdown":"Though int and Integer are used to store integer type data the major difference between both is type of int is primitive while Integer is of class type. So int can not be null.","body":"Though int and Integer are used to store integer type data the major difference between both is type of int is primitive while Integer is of class type. So int can not be null."}],"answers":[{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1533496835,"post_id":51697522,"comment_id":90356407,"body_markdown":"Is there some configuration that I can use to allow int to be null?","body":"Is there some configuration that I can use to allow int to be null?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1533496915,"post_id":51697522,"comment_id":90356437,"body_markdown":"What di you mean?","body":"What di you mean?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":2,"creation_date":1533496946,"post_id":51697522,"comment_id":90356447,"body_markdown":"@PeterPenzov please try the solution","body":"@PeterPenzov please try the solution"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":4,"creation_date":1533497235,"post_id":51697522,"comment_id":90356531,"body_markdown":"@PeterPenzov int is not an object. So it can not be null.","body":"@PeterPenzov int is not an object. So it can not be null."},{"owner":{"account_id":1510698,"reputation":288,"user_id":1412913,"display_name":"Isaac Riley"},"score":0,"creation_date":1563924578,"post_id":51697522,"comment_id":100859687,"body_markdown":"The best way to avoid Hibernate&#39;s attempts at setting null values to primitives is to use Wrapper classes. Auto-boxing is your friend.","body":"The best way to avoid Hibernate&#39;s attempts at setting null values to primitives is to use Wrapper classes. Auto-boxing is your friend."}],"tags":[],"owner":{"account_id":5009368,"reputation":611,"user_id":4026070,"display_name":"Kikkirej"},"comment_count":5,"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1667986793,"creation_date":1533496713,"answer_id":51697522,"question_id":51697485,"body_markdown":"The primitive datatype **int** isn&#39;t **nullable**. You need to use the Wrapper class `Integer` in this case. So just replace the type.","title":"Can not set int field to null value","body":"<p>The primitive datatype <strong>int</strong> isn't <strong>nullable</strong>. You need to use the Wrapper class <code>Integer</code> in this case. So just replace the type.</p>\n"},{"tags":[],"owner":{"account_id":12232531,"reputation":1276,"user_id":8928037,"display_name":"Kaumadie Kariyawasam"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667987149,"creation_date":1593452919,"answer_id":62643900,"question_id":51697485,"body_markdown":"use `Integer` instead of `int` \r\n\r\nex-:\r\n\r\n`private Integer contract_owner_id;`","title":"Can not set int field to null value","body":"<p>use <code>Integer</code> instead of <code>int</code></p>\n<p>ex-:</p>\n<p><code>private Integer contract_owner_id;</code></p>\n"},{"tags":[],"owner":{"account_id":21881565,"reputation":1,"user_id":16169748,"display_name":"eliax421"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654293048,"creation_date":1654293048,"answer_id":72495493,"question_id":51697485,"body_markdown":"Could be because you are using primitive datatype, try to use Wrapper instead (Long, Integer, Double)","title":"Can not set int field to null value","body":"<p>Could be because you are using primitive datatype, try to use Wrapper instead (Long, Integer, Double)</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31235,"favorite_count":0,"down_vote_count":3,"up_vote_count":18,"accepted_answer_id":51697522,"answer_count":3,"score":15,"last_activity_date":1667987149,"creation_date":1533496407,"question_id":51697485,"body_markdown":"I have this `int` column:\r\n\r\n    @Column(length = 4)\r\n    private int contract_owner_id;\r\n\r\nI don&#39;t need to set always value for every table row. I get this exception when I make select query:\r\n\r\n    Can not set int field org.entity.contracts.contract_owner_id to null value\r\n\r\nIs there some way to set numb setups when there is no data into the table column?","title":"Can not set int field to null value","body":"<p>I have this <code>int</code> column:</p>\n\n<pre><code>@Column(length = 4)\nprivate int contract_owner_id;\n</code></pre>\n\n<p>I don't need to set always value for every table row. I get this exception when I make select query:</p>\n\n<pre><code>Can not set int field org.entity.contracts.contract_owner_id to null value\n</code></pre>\n\n<p>Is there some way to set numb setups when there is no data into the table column?</p>\n"},{"tags":["java","spring-boot","spring-security","swagger-ui","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":5506151,"reputation":3498,"user_id":4373948,"accept_rate":88,"display_name":"Abder KRIMA"},"score":0,"creation_date":1667940448,"post_id":74366468,"comment_id":131287216,"body_markdown":"Well it will be good if you put you code and depedencies and logs but in your application.properties you can customize the acces url of swagger3 by : `spring.swagger-ui.path=/swagger/index.html` and also  `spring.api-docs=what you want`","body":"Well it will be good if you put you code and depedencies and logs but in your application.properties you can customize the acces url of swagger3 by : <code>spring.swagger-ui.path=&#47;swagger&#47;index.html</code> and also  <code>spring.api-docs=what you want</code>"}],"answers":[{"tags":[],"owner":{"account_id":26646938,"reputation":29,"user_id":20261750,"display_name":"peetahGriffin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667986732,"creation_date":1667986732,"answer_id":74372693,"question_id":74366468,"body_markdown":"what url are you trying for ui page ?\r\nTry using `localhost:YourPort/swagger-ui.html` .","title":"localhost:8080/abc/swagger-ui/index.html showing 404 not found after migrating from swagger2 to openApi3","body":"<p>what url are you trying for ui page ?\nTry using <code>localhost:YourPort/swagger-ui.html</code> .</p>\n"}],"owner":{"account_id":26871108,"reputation":1,"user_id":20453107,"display_name":"Spartan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":760,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667986732,"creation_date":1667937536,"question_id":74366468,"body_markdown":"Migrated to openApi3 SpringBoot project. But I&#39;m not able to get swagger ui page while /v3/api-docs/ url working. But swagger url showing 404 not found. I&#39;m also able to access /v3/api-docs/swagger-config/.\r\n\r\nI&#39;m using springdoc-openapi-ui dependency having version 1.6.11. I tried every possible way. For one time UI was displaying somehow but after restarting server it disappears. FYI, I&#39;ve implemented SwaggerConfig.java and ConfigWebSecurity.java for ignoring url from spring security.In short i have implemented all those things which is mentioned for migration from swagger to openApi3 in official documentation. \r\nFYI -\r\nI have migrated 2 other applications by following same process. But for this app I&#39;m facing this issue.\r\nThank in advance","title":"localhost:8080/abc/swagger-ui/index.html showing 404 not found after migrating from swagger2 to openApi3","body":"<p>Migrated to openApi3 SpringBoot project. But I'm not able to get swagger ui page while /v3/api-docs/ url working. But swagger url showing 404 not found. I'm also able to access /v3/api-docs/swagger-config/.</p>\n<p>I'm using springdoc-openapi-ui dependency having version 1.6.11. I tried every possible way. For one time UI was displaying somehow but after restarting server it disappears. FYI, I've implemented SwaggerConfig.java and ConfigWebSecurity.java for ignoring url from spring security.In short i have implemented all those things which is mentioned for migration from swagger to openApi3 in official documentation.\nFYI -\nI have migrated 2 other applications by following same process. But for this app I'm facing this issue.\nThank in advance</p>\n"},{"tags":["java","sql","sorting"],"answers":[{"comments":[{"owner":{"account_id":4401529,"reputation":35,"user_id":3587082,"display_name":"Arwinnd"},"score":0,"creation_date":1667981542,"post_id":74371527,"comment_id":131294765,"body_markdown":"Thank you very much! I was checking that answer, but gradle could not find some classes which should be in that library. https://stackoverflow.com/questions/31583096/mechanism-similar-to-sql-to-filter-and-sort-objects","body":"Thank you very much! I was checking that answer, but gradle could not find some classes which should be in that library. <a href=\"https://stackoverflow.com/questions/31583096/mechanism-similar-to-sql-to-filter-and-sort-objects\" title=\"mechanism similar to sql to filter and sort objects\">stackoverflow.com/questions/31583096/&hellip;</a>"}],"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667980559,"creation_date":1667980559,"answer_id":74371527,"question_id":74371446,"body_markdown":"There&#39;s an overload of `thenComparing()` which takes a `Comparator` so you can compose them as wanted. Actually, `thenComparing(function)` is just a convenience method for `thenComparing(comparing(function))`\r\n\r\nThus you can use this: \r\n``` \r\nComparator.comparing(Stuff::getName)\r\n          .thenComparing(Comparator.comparing(Stuff::getLastName).reversed())\r\n```\r\n\r\nWhich is equal to \r\n\r\n    Comparator&lt;Stuff&gt; nameAscComparator = Comparator.comparing(Stuff::getName);\r\n    Comparator&lt;Stuff&gt; lastNameDescComparator = Comparator.comparing(Stuff::getLastName).reversed();\r\n\r\n    Comparator&lt;Stuff&gt; combined = nameAscComparator.thenComparing(lastNameDescComparator);\r\n","title":"Java sort with independent reversed","body":"<p>There's an overload of <code>thenComparing()</code> which takes a <code>Comparator</code> so you can compose them as wanted. Actually, <code>thenComparing(function)</code> is just a convenience method for <code>thenComparing(comparing(function))</code></p>\n<p>Thus you can use this:</p>\n<pre><code>Comparator.comparing(Stuff::getName)\n          .thenComparing(Comparator.comparing(Stuff::getLastName).reversed())\n</code></pre>\n<p>Which is equal to</p>\n<pre><code>Comparator&lt;Stuff&gt; nameAscComparator = Comparator.comparing(Stuff::getName);\nComparator&lt;Stuff&gt; lastNameDescComparator = Comparator.comparing(Stuff::getLastName).reversed();\n\nComparator&lt;Stuff&gt; combined = nameAscComparator.thenComparing(lastNameDescComparator);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667986344,"creation_date":1667983723,"answer_id":74372085,"question_id":74371446,"body_markdown":"I always have the same problem. So I defined three helper methods (`orderBy`, `asc` and `desc`) to simply describe comparators.\r\n\r\n\r\n    @SafeVarargs\r\n    public static &lt;T&gt; Comparator&lt;T&gt; orderBy(Comparator&lt;T&gt; first, Comparator&lt;? super T&gt;... rest) {\r\n        for (Comparator&lt;? super T&gt; e : rest)\r\n            first = first.thenComparing(e);\r\n        return first;\r\n    }\r\n\r\n    public static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; asc(Function&lt;? super T, ? extends U&gt; f) {\r\n        return Comparator.comparing(f);\r\n    }\r\n\r\n    public static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; desc(Function&lt;? super T, ? extends U&gt; f) {\r\n        return Collections.reverseOrder(Comparator.comparing(f));\r\n    }\r\n\r\nHere&#39;s an example usage:\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Stuff&gt; list = Arrays.asList(\r\n            new Stuff(&quot;A&quot;, &quot;a&quot;),\r\n            new Stuff(&quot;B&quot;, &quot;b&quot;),\r\n            new Stuff(&quot;A&quot;, &quot;c&quot;));\r\n        list.sort(orderBy(asc(Stuff::getName), desc(Stuff::getLastName)));\r\n        list.forEach(System.out::println);\r\n    }\r\n\r\noutput:\r\n\r\n    Stuff [name=A, lastName=c]\r\n    Stuff [name=A, lastName=a]\r\n    Stuff [name=B, lastName=b]\r\n\r\nIf you want to sort by a single property, you can also do something like `list.sort(desc(Stuff::getLastName))` without `orderBy()`.","title":"Java sort with independent reversed","body":"<p>I always have the same problem. So I defined three helper methods (<code>orderBy</code>, <code>asc</code> and <code>desc</code>) to simply describe comparators.</p>\n<pre><code>@SafeVarargs\npublic static &lt;T&gt; Comparator&lt;T&gt; orderBy(Comparator&lt;T&gt; first, Comparator&lt;? super T&gt;... rest) {\n    for (Comparator&lt;? super T&gt; e : rest)\n        first = first.thenComparing(e);\n    return first;\n}\n\npublic static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; asc(Function&lt;? super T, ? extends U&gt; f) {\n    return Comparator.comparing(f);\n}\n\npublic static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; desc(Function&lt;? super T, ? extends U&gt; f) {\n    return Collections.reverseOrder(Comparator.comparing(f));\n}\n</code></pre>\n<p>Here's an example usage:</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Stuff&gt; list = Arrays.asList(\n        new Stuff(&quot;A&quot;, &quot;a&quot;),\n        new Stuff(&quot;B&quot;, &quot;b&quot;),\n        new Stuff(&quot;A&quot;, &quot;c&quot;));\n    list.sort(orderBy(asc(Stuff::getName), desc(Stuff::getLastName)));\n    list.forEach(System.out::println);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>Stuff [name=A, lastName=c]\nStuff [name=A, lastName=a]\nStuff [name=B, lastName=b]\n</code></pre>\n<p>If you want to sort by a single property, you can also do something like <code>list.sort(desc(Stuff::getLastName))</code> without <code>orderBy()</code>.</p>\n"}],"owner":{"account_id":4401529,"reputation":35,"user_id":3587082,"display_name":"Arwinnd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74371527,"answer_count":2,"score":1,"last_activity_date":1667986344,"creation_date":1667980067,"question_id":74371446,"body_markdown":"I have the issue with Java sort. In SQL, I can sort independently on each field. I need something similar in Java.\r\n```sql\r\nSELECT * FROM Stuff ORDER BY name ASC,last_name DSC;\r\n```\r\nWhen using `sort(Comparator.comparing(Stuff::getName).thenComparing(Stuff::getLastName).reversed()` I get the whole sort reversed, and I want only for the second sort to be in reversed order. Is there a library for it, or a simple way to solve that?","title":"Java sort with independent reversed","body":"<p>I have the issue with Java sort. In SQL, I can sort independently on each field. I need something similar in Java.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM Stuff ORDER BY name ASC,last_name DSC;\n</code></pre>\n<p>When using <code>sort(Comparator.comparing(Stuff::getName).thenComparing(Stuff::getLastName).reversed()</code> I get the whole sort reversed, and I want only for the second sort to be in reversed order. Is there a library for it, or a simple way to solve that?</p>\n"},{"tags":["java","mapping","mapstruct"],"answers":[{"comments":[{"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"score":6,"creation_date":1619809224,"post_id":48509482,"comment_id":119025897,"body_markdown":"I&#39;m trying to achieve something similar, but I have several fields I don&#39;t want to map, and I would like to avoid repeating the same `@Mapping` annotation, if possible. Basically, I&#39;m looking for something like `@Mapping(ignore = true, target = [&quot;id&quot;, &quot;other&quot;, &quot;another&quot;])`. Is that possible nowadays?","body":"I&#39;m trying to achieve something similar, but I have several fields I don&#39;t want to map, and I would like to avoid repeating the same <code>@Mapping</code> annotation, if possible. Basically, I&#39;m looking for something like <code>@Mapping(ignore = true, target = [&quot;id&quot;, &quot;other&quot;, &quot;another&quot;])</code>. Is that possible nowadays?"},{"owner":{"account_id":3214581,"reputation":1597,"user_id":2713696,"display_name":"Mukesh Kumar Gupta"},"score":0,"creation_date":1684993932,"post_id":48509482,"comment_id":134599213,"body_markdown":"Similar use case for me as well. It is not very clean to write 20 line to igore the unwanted filed.","body":"Similar use case for me as well. It is not very clean to write 20 line to igore the unwanted filed."}],"tags":[],"owner":{"account_id":1128956,"reputation":19775,"user_id":1115491,"display_name":"Filip"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1517257834,"creation_date":1517257834,"answer_id":48509482,"question_id":48509231,"body_markdown":"You have answered your own question, and I am not sure if I understood you correctly. You want to type `@Mapping(ignore = true, target = &quot;otherField&quot;)` only once?\r\n\r\nIf this field is in some common base class you can use [Shared Configurations](http://mapstruct.org/documentation/stable/reference/html/#shared-configurations). Otherwise the way you are doing with `@Mapping(ignore = true)` is the way to go.\r\n\r\nOne side note. You don&#39;t have to add `@Mapping(source = &quot;say&quot;, target = &quot;say&quot;)` MapStruct automatically maps properties with the same name","title":"exclude specific fields in mapstruct","body":"<p>You have answered your own question, and I am not sure if I understood you correctly. You want to type <code>@Mapping(ignore = true, target = \"otherField\")</code> only once?</p>\n\n<p>If this field is in some common base class you can use <a href=\"http://mapstruct.org/documentation/stable/reference/html/#shared-configurations\" rel=\"noreferrer\">Shared Configurations</a>. Otherwise the way you are doing with <code>@Mapping(ignore = true)</code> is the way to go.</p>\n\n<p>One side note. You don't have to add <code>@Mapping(source = \"say\", target = \"say\")</code> MapStruct automatically maps properties with the same name</p>\n"},{"comments":[{"owner":{"account_id":10355543,"reputation":11623,"user_id":7637657,"display_name":"Alex Romanov"},"score":0,"creation_date":1668528046,"post_id":74372588,"comment_id":131424685,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/33140542)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/33140542\">From Review</a>"}],"tags":[],"owner":{"account_id":18885007,"reputation":11,"user_id":13776649,"display_name":"Bluexin"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667986197,"creation_date":1667986197,"answer_id":74372588,"question_id":48509231,"body_markdown":"I know it might not answer the original question, but I can&#39;t answer the comment about repeating @Mapping annotation because I&#39;m lacking reputation and I figured other people would land here looking for this.\r\n\r\nYou can totally combine annotations :\r\n\r\n```kotlin\r\n@Mapping(ignore = true, target = &quot;version&quot;)\r\n@Mapping(ignore = true, target = &quot;created&quot;)\r\n@Mapping(ignore = true, target = &quot;updated&quot;)\r\nfun toModel(json: JsonClass): ModelClass\r\n```\r\n\r\nIf you have a set of fields you reuse commonly, you can also combine them by making your own annotations :\r\n```kotlin\r\n@Mapping(source = &quot;version&quot;, ignore = true, target = &quot;version&quot;)\r\n@Mapping(source = &quot;created&quot;, ignore = true, target = &quot;created&quot;)\r\n@Mapping(source = &quot;updated&quot;, ignore = true, target = &quot;updated&quot;)\r\nannotation class ToModelMapping\r\n```\r\n","title":"exclude specific fields in mapstruct","body":"<p>I know it might not answer the original question, but I can't answer the comment about repeating @Mapping annotation because I'm lacking reputation and I figured other people would land here looking for this.</p>\n<p>You can totally combine annotations :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Mapping(ignore = true, target = &quot;version&quot;)\n@Mapping(ignore = true, target = &quot;created&quot;)\n@Mapping(ignore = true, target = &quot;updated&quot;)\nfun toModel(json: JsonClass): ModelClass\n</code></pre>\n<p>If you have a set of fields you reuse commonly, you can also combine them by making your own annotations :</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Mapping(source = &quot;version&quot;, ignore = true, target = &quot;version&quot;)\n@Mapping(source = &quot;created&quot;, ignore = true, target = &quot;created&quot;)\n@Mapping(source = &quot;updated&quot;, ignore = true, target = &quot;updated&quot;)\nannotation class ToModelMapping\n</code></pre>\n"}],"owner":{"account_id":1887647,"reputation":5271,"user_id":1706545,"accept_rate":89,"display_name":"Daniel Taub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28338,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":48509482,"answer_count":2,"score":9,"last_activity_date":1667986197,"creation_date":1517256717,"question_id":48509231,"body_markdown":"While I am trying to create a `mapper` between two `classes` in [`mapstruct`][1],  \r\nI am getting a `warning` when I compile my code : \r\n\r\n    src/main/java/mapstruct/DogMapper.java:15: warning: Unmapped target property: &quot;otherField&quot;.\r\n        Cat convert(Dog dog);\r\n            ^\r\n    1 warning\r\n\r\nThis are the two objects I am trying to map between :  \r\n      \r\n**Dog**\r\n\r\n    @Getter\r\n    @Setter\r\n    public class Dog {\r\n        private String say;\r\n    }\r\n\r\n\r\n**Cat**\r\n\r\n    @Getter\r\n    @Setter\r\n    public class Cat {\r\n        private String say;\r\n        private String otherField;\r\n    }\r\n\r\n\r\nAnd this is my **Mapper**\r\n\r\n    @Mapper\r\n    public interface DogMapper {\r\n        DogMapper mapper = Mappers.getMapper( DogMapper.class );\r\n    \r\n        @Mapping(source = &quot;say&quot;, target = &quot;say&quot;)\r\n        Cat convert(Dog dog);\r\n    }\r\n\r\n\r\nI read the [`mapstruct docs`][2], and I know i can exclude this specific field in many ways : \r\n\r\n    @Mapping(ignore = true, target = &quot;otherField&quot;)\r\n\r\nOr by this way : \r\n\r\n    @Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\r\n\r\nBut my purpose in the end is to exclude the specific field called `otherField`,  \r\nfrom all my mappers, but not to exclude other field that I am not using.\r\n\r\nIs there any way to achieve that?\r\n\r\n  [1]: http://mapstruct.org/\r\n  [2]: http://mapstruct.org/documentation/stable/reference/html/\r\n","title":"exclude specific fields in mapstruct","body":"<p>While I am trying to create a <code>mapper</code> between two <code>classes</code> in <a href=\"http://mapstruct.org/\" rel=\"noreferrer\"><code>mapstruct</code></a>,<br>\nI am getting a <code>warning</code> when I compile my code : </p>\n\n<pre><code>src/main/java/mapstruct/DogMapper.java:15: warning: Unmapped target property: \"otherField\".\n    Cat convert(Dog dog);\n        ^\n1 warning\n</code></pre>\n\n<p>This are the two objects I am trying to map between :  </p>\n\n<p><strong>Dog</strong></p>\n\n<pre><code>@Getter\n@Setter\npublic class Dog {\n    private String say;\n}\n</code></pre>\n\n<p><strong>Cat</strong></p>\n\n<pre><code>@Getter\n@Setter\npublic class Cat {\n    private String say;\n    private String otherField;\n}\n</code></pre>\n\n<p>And this is my <strong>Mapper</strong></p>\n\n<pre><code>@Mapper\npublic interface DogMapper {\n    DogMapper mapper = Mappers.getMapper( DogMapper.class );\n\n    @Mapping(source = \"say\", target = \"say\")\n    Cat convert(Dog dog);\n}\n</code></pre>\n\n<p>I read the <a href=\"http://mapstruct.org/documentation/stable/reference/html/\" rel=\"noreferrer\"><code>mapstruct docs</code></a>, and I know i can exclude this specific field in many ways : </p>\n\n<pre><code>@Mapping(ignore = true, target = \"otherField\")\n</code></pre>\n\n<p>Or by this way : </p>\n\n<pre><code>@Mapper(unmappedTargetPolicy = ReportingPolicy.IGNORE)\n</code></pre>\n\n<p>But my purpose in the end is to exclude the specific field called <code>otherField</code>,<br>\nfrom all my mappers, but not to exclude other field that I am not using.</p>\n\n<p>Is there any way to achieve that?</p>\n"},{"tags":["java","logging","javac","annotation-processing"],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667985978,"creation_date":1667985978,"question_id":74372548,"body_markdown":"I have an annotation processor from which I want sometimes to log errors. \r\nThese errors are logged as such: \r\n\r\n    processingEnv.getMessager().printMessage(kind, msg, element)\r\n\r\n... where `processingEnv` is an instance of `JavacProcessingEnvironment` that is injected by the compiler over compilation on the abstract method `init` of `AbstractProcessor`.\r\n\r\nThe problem I&#39;m having is that my message `msg` is a multi-line message and I want to print it all on the logs when the compilation fails. \r\n\r\nHowever, this doesn&#39;t happen. I&#39;ve debugged a bit, and realized that the concrete instance of `JavacMessager` behind the `getMessager()` has an instance of `com.sun.tools.javac.util.Log`, that is initialized with an instance of `JCDiagnostic.Factory`, that wraps my error in the following diagnostic: \r\n\r\n    public JCDiagnostic create(LintCategory lc, Set&lt;DiagnosticFlag&gt; flags, DiagnosticSource source, DiagnosticPosition pos, DiagnosticInfo diagnosticInfo) {\r\n        return new JCDiagnostic(formatter, normalize(diagnosticInfo), lc, flags, source, pos);\r\n    }\r\n\r\nMy problem is that this `new JCDiagnostic` is by default a non-multiline diagnostic and so when the logger parses my message, it will only print the first line. \r\n\r\nI&#39;ve seen that the class `JCDiagnostic` is extended by `MultilineDiagnostic` which I guess is what I want, but I&#39;m not managing to use it nor to find any information on the web about how to use it (even when searching the exact classes that I mentioned in this thread).\r\n\r\nAnyone has any idea? I feel like I should configure the `ProcessingEnvironment` that I receive from the compiler at initialization of my annotation processor, but I don&#39;t find any method to do so.\r\n\r\nOver simplified skeleton of my annotation processor: \r\n\r\n    public final class MyProcessor extends AbstractProcessor {\r\n    \r\n        @Override\r\n        public synchronized void init(ProcessingEnvironment processingEnv) {\r\n            super(processingEnv);\r\n            //I guess I should do something here to configure the logger?\r\n        }\r\n\r\n        @Override\r\n        public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n            //do stuff\r\n            //and in case of log needed: \r\n            processingEnv.getMessager().printMessage(kind, msg, element);\r\n        }\r\n\r\n    }\r\n\r\nIf more information is needed to answer the question don&#39;t hesitate to ask. Thanks in advance","title":"How to configure JavacProcessingEnvironment to print log messages in multi-line mode?","body":"<p>I have an annotation processor from which I want sometimes to log errors.\nThese errors are logged as such:</p>\n<pre><code>processingEnv.getMessager().printMessage(kind, msg, element)\n</code></pre>\n<p>... where <code>processingEnv</code> is an instance of <code>JavacProcessingEnvironment</code> that is injected by the compiler over compilation on the abstract method <code>init</code> of <code>AbstractProcessor</code>.</p>\n<p>The problem I'm having is that my message <code>msg</code> is a multi-line message and I want to print it all on the logs when the compilation fails.</p>\n<p>However, this doesn't happen. I've debugged a bit, and realized that the concrete instance of <code>JavacMessager</code> behind the <code>getMessager()</code> has an instance of <code>com.sun.tools.javac.util.Log</code>, that is initialized with an instance of <code>JCDiagnostic.Factory</code>, that wraps my error in the following diagnostic:</p>\n<pre><code>public JCDiagnostic create(LintCategory lc, Set&lt;DiagnosticFlag&gt; flags, DiagnosticSource source, DiagnosticPosition pos, DiagnosticInfo diagnosticInfo) {\n    return new JCDiagnostic(formatter, normalize(diagnosticInfo), lc, flags, source, pos);\n}\n</code></pre>\n<p>My problem is that this <code>new JCDiagnostic</code> is by default a non-multiline diagnostic and so when the logger parses my message, it will only print the first line.</p>\n<p>I've seen that the class <code>JCDiagnostic</code> is extended by <code>MultilineDiagnostic</code> which I guess is what I want, but I'm not managing to use it nor to find any information on the web about how to use it (even when searching the exact classes that I mentioned in this thread).</p>\n<p>Anyone has any idea? I feel like I should configure the <code>ProcessingEnvironment</code> that I receive from the compiler at initialization of my annotation processor, but I don't find any method to do so.</p>\n<p>Over simplified skeleton of my annotation processor:</p>\n<pre><code>public final class MyProcessor extends AbstractProcessor {\n\n    @Override\n    public synchronized void init(ProcessingEnvironment processingEnv) {\n        super(processingEnv);\n        //I guess I should do something here to configure the logger?\n    }\n\n    @Override\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n        //do stuff\n        //and in case of log needed: \n        processingEnv.getMessager().printMessage(kind, msg, element);\n    }\n\n}\n</code></pre>\n<p>If more information is needed to answer the question don't hesitate to ask. Thanks in advance</p>\n"},{"tags":["java","apache-commons-io"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667984128,"post_id":74371533,"comment_id":131295534,"body_markdown":"Use HttpURLConnection and check response code","body":"Use HttpURLConnection and check response code"}],"answers":[{"tags":[],"owner":{"account_id":4901543,"reputation":956,"user_id":4903440,"display_name":"Praveen E"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667985631,"creation_date":1667985631,"answer_id":74372477,"question_id":74371533,"body_markdown":"So, basically your URL is returning 500 error upon requesting for invalid date. You can simply use the another method available in FileUtils\r\n\r\nhttps://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#copyURLToFile(java.net.URL,%20java.io.File,%20int,%20int)\r\n\r\nExample code : (Adjust timeouts as per your requirement)\r\n\r\n    var url = new URL(&quot;https://archives.nseindia.com/archives/equities/bhavcopy/pr/PR081122.zip&quot;);\r\n        var f = new File(&quot;NSEData.zip&quot;);\r\n        try {\r\n            FileUtils.copyURLToFile(url, f, 5000, 5000);\r\n        } catch (Exception e) {\r\n        }","title":"FileUtils.copyURLToFile Getting Stuck","body":"<p>So, basically your URL is returning 500 error upon requesting for invalid date. You can simply use the another method available in FileUtils</p>\n<p><a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#copyURLToFile(java.net.URL,%20java.io.File,%20int,%20int)\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/FileUtils.html#copyURLToFile(java.net.URL,%20java.io.File,%20int,%20int)</a></p>\n<p>Example code : (Adjust timeouts as per your requirement)</p>\n<pre><code>var url = new URL(&quot;https://archives.nseindia.com/archives/equities/bhavcopy/pr/PR081122.zip&quot;);\n    var f = new File(&quot;NSEData.zip&quot;);\n    try {\n        FileUtils.copyURLToFile(url, f, 5000, 5000);\n    } catch (Exception e) {\n    }\n</code></pre>\n"}],"owner":{"account_id":12735189,"reputation":99,"user_id":9250350,"display_name":"Vebby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74372477,"answer_count":1,"score":0,"last_activity_date":1667985819,"creation_date":1667980575,"question_id":74371533,"body_markdown":"I&#39;m using a Jave program to get NSE share price data from NSE&#39;s website like this for example:\r\n\r\n```\r\nurl = new URL(&quot;https://archives.nseindia.com/archives/equities/bhavcopy/pr/PR071122.zip&quot;);\r\nf = new File(&quot;NSEData.zip&quot;);\r\ntry {\r\n     FileUtils.copyURLToFile(url, f);\r\n} catch (Exception e) {\r\n}\r\n```\r\n\r\nThe above code works for dates where market data exists, like 07/11/22 . However, where data does not exist, like on 08/11/22, the url is broken and the copyURLToFile line gets stuck indefinitely during runtime (replacing 071122 with 081122 in the url/code above will cause it to get stuck). Is there an easy way to get the program to recognize that the url for a certain date is broken (eg. https://archives.nseindia.com/archives/equities/bhavcopy/pr/PR081122.zip) and therefore ignore and continue past the `try` block without getting stuck?\r\n\r\n\r\n\r\nMy current workaround is to check whether a certain date is a market holiday using a DayOfWeek check as well as a HashSet containing a list of public holidays, but this is not perfect.","title":"FileUtils.copyURLToFile Getting Stuck","body":"<p>I'm using a Jave program to get NSE share price data from NSE's website like this for example:</p>\n<pre><code>url = new URL(&quot;https://archives.nseindia.com/archives/equities/bhavcopy/pr/PR071122.zip&quot;);\nf = new File(&quot;NSEData.zip&quot;);\ntry {\n     FileUtils.copyURLToFile(url, f);\n} catch (Exception e) {\n}\n</code></pre>\n<p>The above code works for dates where market data exists, like 07/11/22 . However, where data does not exist, like on 08/11/22, the url is broken and the copyURLToFile line gets stuck indefinitely during runtime (replacing 071122 with 081122 in the url/code above will cause it to get stuck). Is there an easy way to get the program to recognize that the url for a certain date is broken (eg. <a href=\"https://archives.nseindia.com/archives/equities/bhavcopy/pr/PR081122.zip\" rel=\"nofollow noreferrer\">https://archives.nseindia.com/archives/equities/bhavcopy/pr/PR081122.zip</a>) and therefore ignore and continue past the <code>try</code> block without getting stuck?</p>\n<p>My current workaround is to check whether a certain date is a market holiday using a DayOfWeek check as well as a HashSet containing a list of public holidays, but this is not perfect.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","javers"],"owner":{"account_id":26758836,"reputation":1,"user_id":20357084,"display_name":"Nick Apostolides"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667985806,"creation_date":1667985806,"question_id":74372517,"body_markdown":"I have a Spring Java microservice using Mongodb and Javers for versioning. The document being persisted is large and includes a list of value objects. At it&#39;s simplest level the data structure looks as below.\r\n```\r\nclass MyEntity {\r\n   String id,\r\n   Map&lt;String, ItemA&gt; items,\r\n}\r\n\r\nclass ItemA {\r\n   List&lt;ItemB&gt; values\r\n \r\n}\r\n\r\nclass ItemB {\r\n   String name,\r\n   LocalDate startDate\r\n}\r\n\r\n```\r\n\r\nI am trying to get the versions of the list.\r\n\r\nI tried the following code\r\n```\r\nString path = &quot;items/&quot; +  key + &quot;/values&quot;;\r\n\r\nJqlQuery query = QueryBuilder.byValueObjectId(id, MyEntity.class, path)\r\n        .withShadowScope(ShadowScope.DEEP_PLUS)\r\n        .build();\r\n\r\nList&lt;Shadow&lt;List&lt;ItemB&gt;&gt;&gt; shadows = javers.findShadows(query);\r\n```\r\n \r\nHowever it returns no shadows. I tried annotating ItemB as a @ValueObject and tried changing the ShadowScope but had no improvement.\r\n","title":"Can&#39;t Retrieve shadows for a list of Value Objects","body":"<p>I have a Spring Java microservice using Mongodb and Javers for versioning. The document being persisted is large and includes a list of value objects. At it's simplest level the data structure looks as below.</p>\n<pre><code>class MyEntity {\n   String id,\n   Map&lt;String, ItemA&gt; items,\n}\n\nclass ItemA {\n   List&lt;ItemB&gt; values\n \n}\n\nclass ItemB {\n   String name,\n   LocalDate startDate\n}\n\n</code></pre>\n<p>I am trying to get the versions of the list.</p>\n<p>I tried the following code</p>\n<pre><code>String path = &quot;items/&quot; +  key + &quot;/values&quot;;\n\nJqlQuery query = QueryBuilder.byValueObjectId(id, MyEntity.class, path)\n        .withShadowScope(ShadowScope.DEEP_PLUS)\n        .build();\n\nList&lt;Shadow&lt;List&lt;ItemB&gt;&gt;&gt; shadows = javers.findShadows(query);\n</code></pre>\n<p>However it returns no shadows. I tried annotating ItemB as a @ValueObject and tried changing the ShadowScope but had no improvement.</p>\n"},{"tags":["java","apache-kafka","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1667861794,"post_id":74351083,"comment_id":131264756,"body_markdown":"Why are you not using a schema registry? Without that, you&#39;ll not know if data is truly backwards compatible","body":"Why are you not using a schema registry? Without that, you&#39;ll not know if data is truly backwards compatible"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1667861898,"post_id":74351083,"comment_id":131264781,"body_markdown":"Also, I don&#39;t think you need `SpecificDatumWriter` if you are going to be using `GenericRecord`, anyway","body":"Also, I don&#39;t think you need <code>SpecificDatumWriter</code> if you are going to be using <code>GenericRecord</code>, anyway"},{"owner":{"account_id":2010707,"reputation":890,"user_id":1799206,"accept_rate":48,"display_name":"Valath"},"score":0,"creation_date":1667864687,"post_id":74351083,"comment_id":131265374,"body_markdown":"Adding an optional field should be fine, {&quot;type&quot;: [&quot;null&quot;, &quot;string&quot;], &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: null}  Am curious of the extra double quotes in the example pasted. More at : https://docs.confluent.io/platform/current/schema-registry/avro.html#full-compatibility","body":"Adding an optional field should be fine, {&quot;type&quot;: [&quot;null&quot;, &quot;string&quot;], &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: null}  Am curious of the extra double quotes in the example pasted. More at : <a href=\"https://docs.confluent.io/platform/current/schema-registry/avro.html#full-compatibility\" rel=\"nofollow noreferrer\">docs.confluent.io/platform/current/schema-registry/&hellip;</a>"},{"owner":{"account_id":26326332,"reputation":31,"user_id":19987591,"display_name":"Pedro"},"score":0,"creation_date":1667897561,"post_id":74351083,"comment_id":131271210,"body_markdown":"@OneCricketeer: I don&#39;t want to use Schema Registry, I want to use only apache libs not Confluent.","body":"@OneCricketeer: I don&#39;t want to use Schema Registry, I want to use only apache libs not Confluent."},{"owner":{"account_id":26326332,"reputation":31,"user_id":19987591,"display_name":"Pedro"},"score":0,"creation_date":1667897904,"post_id":74351083,"comment_id":131271326,"body_markdown":"@OneCricketeer: is there any other way than with a `SpecificDatumWriter` ? In this test I used a `GenericRecord` but I also tried with a bean generated from avro-maven-plugin, with the same error.","body":"@OneCricketeer: is there any other way than with a <code>SpecificDatumWriter</code> ? In this test I used a <code>GenericRecord</code> but I also tried with a bean generated from avro-maven-plugin, with the same error."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1667916863,"post_id":74351083,"comment_id":131278469,"body_markdown":"I didn&#39;t say Confluent. I said a registry. This one is Apache licensed https://www.apicur.io/registry/ or https://karapace.io/. In any case, `GenericDatumWriter` is a superclass of specific one. The specific one should only be used for the generated SpecificRecord subclasses","body":"I didn&#39;t say Confluent. I said a registry. This one is Apache licensed <a href=\"https://www.apicur.io/registry/\" rel=\"nofollow noreferrer\">apicur.io/registry</a> or <a href=\"https://karapace.io/\" rel=\"nofollow noreferrer\">karapace.io</a>. In any case, <code>GenericDatumWriter</code> is a superclass of specific one. The specific one should only be used for the generated SpecificRecord subclasses"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1667917257,"post_id":74351083,"comment_id":131278618,"body_markdown":"Also, I suggest you remove Kafka dependency while you test. You can do the exact same thing here with local byte arrays in one Junit method","body":"Also, I suggest you remove Kafka dependency while you test. You can do the exact same thing here with local byte arrays in one Junit method"},{"owner":{"account_id":26326332,"reputation":31,"user_id":19987591,"display_name":"Pedro"},"score":0,"creation_date":1667918665,"post_id":74351083,"comment_id":131279236,"body_markdown":"@OneCricketeer: I just tried with a `GenericDatumWriter` instead of the `SpecificDatumWriter` but I have exactly the same error :(\nAbout the schema registry, thanks for links but I want to do that without any if possible. Maybe it&#39;s that, can I have a schema backward compatibility without schema registry ?","body":"@OneCricketeer: I just tried with a <code>GenericDatumWriter</code> instead of the <code>SpecificDatumWriter</code> but I have exactly the same error :( About the schema registry, thanks for links but I want to do that without any if possible. Maybe it&#39;s that, can I have a schema backward compatibility without schema registry ?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1667940741,"post_id":74351083,"comment_id":131287309,"body_markdown":"You can, but it will be centrally checked by the server, and prevent runtime errors like those that you are getting... More specifically, each test that you are running, are you clearing the topic? Or are you producing new events over and over? Or do you keep running the consumer, and only changing the schema there? In other words - it&#39;s difficult to know where your error is happening because you have multiple schemas shown here, and we don&#39;t know what is `SCHEMA` in your producer.","body":"You can, but it will be centrally checked by the server, and prevent runtime errors like those that you are getting... More specifically, each test that you are running, are you clearing the topic? Or are you producing new events over and over? Or do you keep running the consumer, and only changing the schema there? In other words - it&#39;s difficult to know where your error is happening because you have multiple schemas shown here, and we don&#39;t know what is <code>SCHEMA</code> in your producer."},{"owner":{"account_id":26326332,"reputation":31,"user_id":19987591,"display_name":"Pedro"},"score":1,"creation_date":1667984970,"post_id":74351083,"comment_id":131295876,"body_markdown":"The Producer produce the old one the `v1_0.avsc`.  \nThe consumer read with the new one `v2_0.avsc`.","body":"The Producer produce the old one the <code>v1_0.avsc</code>.   The consumer read with the new one <code>v2_0.avsc</code>."}],"owner":{"account_id":26326332,"reputation":31,"user_id":19987591,"display_name":"Pedro"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667985293,"creation_date":1667844807,"question_id":74351083,"body_markdown":"I try to add a new field to my avro schema and I expect a retrocompatibility for the old messages as specified in the avro specification: [Source](https://avro.apache.org/docs/1.8.2/spec.html#Schema+Resolution).\r\n\r\nI updated my Avro schema with a new field `v2_0.avsc`.  \r\nI try to consume an old message, written with the old schema `v1_0.avsc`, it throws the error `java.io.EOFException: null`.  \r\nI added a default value for the new field but without success.\r\n\r\n\r\nOld schema `v1_0.avsc`:\r\n\r\n```json\r\n{\r\n  &quot;type&quot;: &quot;record&quot;,\r\n  &quot;name&quot;: &quot;Test&quot;,\r\n  &quot;fields&quot;: [\r\n     {&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_1&quot;}\r\n    ,{&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_2&quot;}\r\n    ]\r\n}\r\n```\r\nThe new one `v2_0.avsc`:\r\n\r\n```json\r\n{\r\n  &quot;type&quot;: &quot;record&quot;,\r\n  &quot;name&quot;: &quot;Test&quot;,\r\n  &quot;fields&quot;: [\r\n     {&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_1&quot;}\r\n    ,{&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_2&quot;}\r\n    ,{&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: &quot;default_value&quot;}\r\n    ]\r\n}\r\n```\r\n\r\nI tried also, several combinaisons of union type, for the new schema and the default value:\r\n\r\nWith default strings and different union order\r\n\r\n```json\r\n    ,{&quot;type&quot;: [&quot;string&quot;, &quot;null&quot;], &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: &quot;default_value&quot;}\r\n```\r\n\r\n```json\r\n    ,{&quot;type&quot;: [&quot;null&quot;, &quot;string&quot;], &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: &quot;null&quot;}\r\n```\r\n\r\nOr just `null`\r\n\r\n```json\r\n    ,{&quot;type&quot;: [&quot;null&quot;, &quot;string&quot;], &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: null}\r\n```\r\n\r\nBut all of them produce the same error:\r\n\r\n```\r\njava.io.EOFException: null\r\n\tat org.apache.avro.io.BinaryDecoder.ensureBounds(BinaryDecoder.java:542)\r\n\tat org.apache.avro.io.BinaryDecoder.readInt(BinaryDecoder.java:173)\r\n\tat org.apache.avro.io.BinaryDecoder.readIndex(BinaryDecoder.java:493)\r\n\tat org.apache.avro.io.ResolvingDecoder.readIndex(ResolvingDecoder.java:282)\r\n\tat org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:188)\r\n\tat org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:161)\r\n\tat org.apache.avro.generic.GenericDatumReader.readField(GenericDatumReader.java:260)\r\n\tat org.apache.avro.specific.SpecificDatumReader.readField(SpecificDatumReader.java:142)\r\n\tat org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:248)\r\n\tat org.apache.avro.specific.SpecificDatumReader.readRecord(SpecificDatumReader.java:123)\r\n\tat org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:180)\r\n\tat org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:161)\r\n\tat org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:154)\r\n```\r\n\r\nMy consumer use the new schema `v2_0.avsc`:\r\n\r\n```java\r\nimport org.apache.avro.Schema;\r\nimport org.apache.avro.generic.GenericRecord;\r\nimport org.apache.avro.io.DatumReader;\r\nimport org.apache.avro.io.Decoder;\r\nimport org.apache.avro.io.DecoderFactory;\r\nimport org.apache.avro.specific.SpecificDatumReader;\r\nimport org.apache.kafka.clients.CommonClientConfigs;\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\r\nimport org.apache.kafka.clients.consumer.ConsumerRecords;\r\nimport org.apache.kafka.clients.consumer.KafkaConsumer;\r\nimport org.apache.kafka.common.config.SaslConfigs;\r\nimport org.apache.kafka.common.errors.SerializationException;\r\nimport org.apache.kafka.common.serialization.ByteArrayDeserializer;\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\n....\r\n\r\n\t\t\r\n\t\t// Create consumer configs\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.setProperty(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n\t\tproperties.setProperty(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\r\n\t\tproperties.setProperty(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class.getName());\r\n\t\tproperties.setProperty(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n\t\tproperties.setProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n\t\t// Kerberos\r\n\t\t...\r\n\t\t\r\n\t\t// Create consumer and subscribe to the topic\r\n\t\tKafkaConsumer&lt;String,  byte[]&gt; consumer = new KafkaConsumer&lt;&gt;(properties);\r\n\t\tconsumer.subscribe(Collections.singletonList(topic));\r\n\t\t\r\n\r\n\t\tConsumerRecords&lt;String, byte[]&gt; records = consumer.poll(Duration.ofMillis(1000));\r\n\t\t\t\r\n\r\n\t\tbyte[] data = record.value();\r\n\t\tDatumReader&lt;GenericRecord&gt; reader = new SpecificDatumReader&lt;&gt;(SCHEMA);\r\n\t\tDecoder decoder = DecoderFactory.get().binaryDecoder(data, null);\r\n\t\tGenericRecord message;\r\n\t\t\t\t\t\r\n\r\n\t\tmessage = reader.read(null, decoder);\r\n```\r\n\r\nMy producer use the old schema `v1_0.avsc` to try backward compatibility:\r\n\r\n```java\r\nimport org.apache.avro.Schema;\r\nimport org.apache.avro.generic.GenericData;\r\nimport org.apache.avro.generic.GenericRecord;\r\nimport org.apache.avro.io.BinaryEncoder;\r\nimport org.apache.avro.io.DatumWriter;\r\nimport org.apache.avro.io.EncoderFactory;\r\nimport org.apache.avro.specific.SpecificDatumWriter;\r\nimport org.apache.kafka.clients.CommonClientConfigs;\r\nimport org.apache.kafka.clients.producer.KafkaProducer;\r\nimport org.apache.kafka.clients.producer.ProducerConfig;\r\nimport org.apache.kafka.clients.producer.ProducerRecord;\r\nimport org.apache.kafka.common.config.SaslConfigs;\r\nimport org.apache.kafka.common.security.auth.SecurityProtocol;\r\nimport org.apache.kafka.common.serialization.ByteArraySerializer;\r\nimport org.apache.kafka.common.serialization.StringSerializer;\r\n....\r\n\r\n\r\n\t\tproperties.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\r\n\t\tproperties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n\t\tproperties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, ByteArraySerializer.class.getName());\r\n\t\tproperties.setProperty(ProducerConfig.CLIENT_ID_CONFIG, CLIENT_ID);\r\n\t\t// Kerberos\r\n\t\t...\r\n\t\t\r\n\t\ttry ( KafkaProducer&lt;String, byte[]&gt; producer = new KafkaProducer&lt;&gt;(properties) ) {\r\n\t\t\t\r\n\r\n\t\t\tGenericRecord payload = new GenericData.Record(SCHEMA);\r\n\t\t\tpayload.put(&quot;field_1&quot;, &quot;001&quot;);\r\n\t\t\tpayload.put(&quot;field_2&quot;, &quot;002&quot;);\r\n\t\t\tDatumWriter&lt;GenericRecord&gt; writer = new SpecificDatumWriter&lt;&gt;(SCHEMA);\r\n\t\t\tbyte[] serializedBytes;\r\n\t\t\ttry ( ByteArrayOutputStream out = new ByteArrayOutputStream() ) {\r\n\t\t\t\tBinaryEncoder encoder = EncoderFactory.get().binaryEncoder(out, null);\r\n\t\t\t\twriter.write(payload, encoder);\r\n\t\t\t\tencoder.flush();\r\n\t\t\t\tserializedBytes = out.toByteArray();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tProducerRecord&lt;String, byte[]&gt; message = new ProducerRecord&lt;&gt;(TOPIC, serializedBytes);\r\n\t\t\tproducer.send(message);\r\n```\r\n\r\nI tried with libs `org.apache.avro:avro` 1.8.1 and 1.11.0 with the same bad result.\r\n\r\n\r\n\r\nCould you please tell me what am I doing wrong ?","title":"Avro schema backward compatibility error in Java","body":"<p>I try to add a new field to my avro schema and I expect a retrocompatibility for the old messages as specified in the avro specification: <a href=\"https://avro.apache.org/docs/1.8.2/spec.html#Schema+Resolution\" rel=\"nofollow noreferrer\">Source</a>.</p>\n<p>I updated my Avro schema with a new field <code>v2_0.avsc</code>.<br />\nI try to consume an old message, written with the old schema <code>v1_0.avsc</code>, it throws the error <code>java.io.EOFException: null</code>.<br />\nI added a default value for the new field but without success.</p>\n<p>Old schema <code>v1_0.avsc</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;Test&quot;,\n  &quot;fields&quot;: [\n     {&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_1&quot;}\n    ,{&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_2&quot;}\n    ]\n}\n</code></pre>\n<p>The new one <code>v2_0.avsc</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;Test&quot;,\n  &quot;fields&quot;: [\n     {&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_1&quot;}\n    ,{&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_2&quot;}\n    ,{&quot;type&quot;: &quot;string&quot;,  &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: &quot;default_value&quot;}\n    ]\n}\n</code></pre>\n<p>I tried also, several combinaisons of union type, for the new schema and the default value:</p>\n<p>With default strings and different union order</p>\n<pre class=\"lang-json prettyprint-override\"><code>    ,{&quot;type&quot;: [&quot;string&quot;, &quot;null&quot;], &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: &quot;default_value&quot;}\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>    ,{&quot;type&quot;: [&quot;null&quot;, &quot;string&quot;], &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: &quot;null&quot;}\n</code></pre>\n<p>Or just <code>null</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>    ,{&quot;type&quot;: [&quot;null&quot;, &quot;string&quot;], &quot;name&quot;: &quot;field_3&quot;, &quot;default&quot;: null}\n</code></pre>\n<p>But all of them produce the same error:</p>\n<pre><code>java.io.EOFException: null\n    at org.apache.avro.io.BinaryDecoder.ensureBounds(BinaryDecoder.java:542)\n    at org.apache.avro.io.BinaryDecoder.readInt(BinaryDecoder.java:173)\n    at org.apache.avro.io.BinaryDecoder.readIndex(BinaryDecoder.java:493)\n    at org.apache.avro.io.ResolvingDecoder.readIndex(ResolvingDecoder.java:282)\n    at org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:188)\n    at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:161)\n    at org.apache.avro.generic.GenericDatumReader.readField(GenericDatumReader.java:260)\n    at org.apache.avro.specific.SpecificDatumReader.readField(SpecificDatumReader.java:142)\n    at org.apache.avro.generic.GenericDatumReader.readRecord(GenericDatumReader.java:248)\n    at org.apache.avro.specific.SpecificDatumReader.readRecord(SpecificDatumReader.java:123)\n    at org.apache.avro.generic.GenericDatumReader.readWithoutConversion(GenericDatumReader.java:180)\n    at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:161)\n    at org.apache.avro.generic.GenericDatumReader.read(GenericDatumReader.java:154)\n</code></pre>\n<p>My consumer use the new schema <code>v2_0.avsc</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.avro.Schema;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.avro.io.DatumReader;\nimport org.apache.avro.io.Decoder;\nimport org.apache.avro.io.DecoderFactory;\nimport org.apache.avro.specific.SpecificDatumReader;\nimport org.apache.kafka.clients.CommonClientConfigs;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.apache.kafka.clients.consumer.ConsumerRecords;\nimport org.apache.kafka.clients.consumer.KafkaConsumer;\nimport org.apache.kafka.common.config.SaslConfigs;\nimport org.apache.kafka.common.errors.SerializationException;\nimport org.apache.kafka.common.serialization.ByteArrayDeserializer;\nimport org.apache.kafka.common.serialization.StringDeserializer;\n....\n\n        \n        // Create consumer configs\n        Properties properties = new Properties();\n        properties.setProperty(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        properties.setProperty(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class.getName());\n        properties.setProperty(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, ByteArrayDeserializer.class.getName());\n        properties.setProperty(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        properties.setProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n        // Kerberos\n        ...\n        \n        // Create consumer and subscribe to the topic\n        KafkaConsumer&lt;String,  byte[]&gt; consumer = new KafkaConsumer&lt;&gt;(properties);\n        consumer.subscribe(Collections.singletonList(topic));\n        \n\n        ConsumerRecords&lt;String, byte[]&gt; records = consumer.poll(Duration.ofMillis(1000));\n            \n\n        byte[] data = record.value();\n        DatumReader&lt;GenericRecord&gt; reader = new SpecificDatumReader&lt;&gt;(SCHEMA);\n        Decoder decoder = DecoderFactory.get().binaryDecoder(data, null);\n        GenericRecord message;\n                    \n\n        message = reader.read(null, decoder);\n</code></pre>\n<p>My producer use the old schema <code>v1_0.avsc</code> to try backward compatibility:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.avro.Schema;\nimport org.apache.avro.generic.GenericData;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.avro.io.BinaryEncoder;\nimport org.apache.avro.io.DatumWriter;\nimport org.apache.avro.io.EncoderFactory;\nimport org.apache.avro.specific.SpecificDatumWriter;\nimport org.apache.kafka.clients.CommonClientConfigs;\nimport org.apache.kafka.clients.producer.KafkaProducer;\nimport org.apache.kafka.clients.producer.ProducerConfig;\nimport org.apache.kafka.clients.producer.ProducerRecord;\nimport org.apache.kafka.common.config.SaslConfigs;\nimport org.apache.kafka.common.security.auth.SecurityProtocol;\nimport org.apache.kafka.common.serialization.ByteArraySerializer;\nimport org.apache.kafka.common.serialization.StringSerializer;\n....\n\n\n        properties.setProperty(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_SERVERS);\n        properties.setProperty(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n        properties.setProperty(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, ByteArraySerializer.class.getName());\n        properties.setProperty(ProducerConfig.CLIENT_ID_CONFIG, CLIENT_ID);\n        // Kerberos\n        ...\n        \n        try ( KafkaProducer&lt;String, byte[]&gt; producer = new KafkaProducer&lt;&gt;(properties) ) {\n            \n\n            GenericRecord payload = new GenericData.Record(SCHEMA);\n            payload.put(&quot;field_1&quot;, &quot;001&quot;);\n            payload.put(&quot;field_2&quot;, &quot;002&quot;);\n            DatumWriter&lt;GenericRecord&gt; writer = new SpecificDatumWriter&lt;&gt;(SCHEMA);\n            byte[] serializedBytes;\n            try ( ByteArrayOutputStream out = new ByteArrayOutputStream() ) {\n                BinaryEncoder encoder = EncoderFactory.get().binaryEncoder(out, null);\n                writer.write(payload, encoder);\n                encoder.flush();\n                serializedBytes = out.toByteArray();\n            }\n            \n            ProducerRecord&lt;String, byte[]&gt; message = new ProducerRecord&lt;&gt;(TOPIC, serializedBytes);\n            producer.send(message);\n</code></pre>\n<p>I tried with libs <code>org.apache.avro:avro</code> 1.8.1 and 1.11.0 with the same bad result.</p>\n<p>Could you please tell me what am I doing wrong ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":4,"creation_date":1667919230,"post_id":74362677,"comment_id":131279477,"body_markdown":"you can&#39;t use the for-each syntax, as you need two items of the list at the same time. Use `for(var i = 0, j=Test2.size()-1; i&lt;j; i++) { var c1 = Test2.get(i); var c2 = Test2.get(i+i); ...` and compare c1 to c2","body":"you can&#39;t use the for-each syntax, as you need two items of the list at the same time. Use <code>for(var i = 0, j=Test2.size()-1; i&lt;j; i++) { var c1 = Test2.get(i); var c2 = Test2.get(i+i); ...</code> and compare c1 to c2"}],"answers":[{"tags":[],"owner":{"account_id":6321227,"reputation":21,"user_id":4909220,"display_name":"Phil"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667920092,"creation_date":1667920092,"answer_id":74362960,"question_id":74362677,"body_markdown":"You could do something like this:\r\n\r\n    var values = asList(1, 2, 3, 4);\r\n\r\n    for (int i = 0; i &lt; values.size(); i++) {\r\n        if (i &lt; values.size()-1) {\r\n            var current = values.get(i);\r\n            var next = values.get(i+1);\r\n\r\n            //TODO do your logik\r\n            boolean isNextHigher = next &gt; current;\r\n        }\r\n    }","title":"Compare ArrayList entry with the next ArrayList entry","body":"<p>You could do something like this:</p>\n<pre><code>var values = asList(1, 2, 3, 4);\n\nfor (int i = 0; i &lt; values.size(); i++) {\n    if (i &lt; values.size()-1) {\n        var current = values.get(i);\n        var next = values.get(i+1);\n\n        //TODO do your logik\n        boolean isNextHigher = next &gt; current;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26858416,"reputation":1,"user_id":20442353,"display_name":"Flowerboy1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1667985150,"creation_date":1667918938,"question_id":74362677,"body_markdown":"I want to compare the first ArrayList entry with the second one. The second one with the thirt one and so one. The comparison should be that the second entry that should be compared has to be higher than the first one.\r\n\r\nI wrote the following code: \r\n\r\n```java\r\nfor (double x : Test2) // my ArrayList is called Test2\r\n{\r\n    if (x &lt; x + 1) // for example compare entry one with entry one+1, that makes entry two (i think atleast)\r\n    {\r\n        variable3 = true;       \r\n        break;\r\n    }\r\n}\r\n```\r\n","title":"Compare ArrayList entry with the next ArrayList entry","body":"<p>I want to compare the first ArrayList entry with the second one. The second one with the thirt one and so one. The comparison should be that the second entry that should be compared has to be higher than the first one.</p>\n<p>I wrote the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (double x : Test2) // my ArrayList is called Test2\n{\n    if (x &lt; x + 1) // for example compare entry one with entry one+1, that makes entry two (i think atleast)\n    {\n        variable3 = true;       \n        break;\n    }\n}\n</code></pre>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1421821513,"post_id":28059563,"comment_id":44502889,"body_markdown":"As far as document creation is concerned, PDFBox mainly is an equivalent to the low level API of iText. What you are missing is something replacing iText&#39;s high level API on top of that. I&#39;m not aware of something like that available to the public.","body":"As far as document creation is concerned, PDFBox mainly is an equivalent to the low level API of iText. What you are missing is something replacing iText&#39;s high level API on top of that. I&#39;m not aware of something like that available to the public."},{"owner":{"account_id":1080617,"reputation":1745,"user_id":1077723,"accept_rate":72,"display_name":"Anil"},"score":0,"creation_date":1421821992,"post_id":28059563,"comment_id":44503040,"body_markdown":"Yeah, you nailed it. High level API for PDFBox for creating all these tables is what is missing. A lot of dev community is migrating from iText to other open source pdf libraries and I am sure someone will have an elegant solution.","body":"Yeah, you nailed it. High level API for PDFBox for creating all these tables is what is missing. A lot of dev community is migrating from iText to other open source pdf libraries and I am sure someone will have an elegant solution."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":4,"creation_date":1421824278,"post_id":28059563,"comment_id":44504018,"body_markdown":"Here&#39;s another: https://github.com/dhorions/boxable","body":"Here&#39;s another: <a href=\"https://github.com/dhorions/boxable\" rel=\"nofollow noreferrer\">github.com/dhorions/boxable</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1421825449,"post_id":28059563,"comment_id":44504494,"body_markdown":"And another: https://stackoverflow.com/questions/3871879/apache-pdfbox-java-library-is-there-an-api-for-creating-tables","body":"And another: <a href=\"https://stackoverflow.com/questions/3871879/apache-pdfbox-java-library-is-there-an-api-for-creating-tables\" title=\"apache pdfbox java library is there an api for creating tables\">stackoverflow.com/questions/3871879/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1421828573,"post_id":28059563,"comment_id":44505725,"body_markdown":"@TilmanHausherr I&#39;m afraid all those samples IMO meely are proofs of concept, probably of use in limited use cases but by far not for generic use. PDFBox has its strengths, e.g. a quite versatile content extraction framework and a content rendering capability, but the absence a proper layouting API  is a serious weakness.","body":"@TilmanHausherr I&#39;m afraid all those samples IMO meely are proofs of concept, probably of use in limited use cases but by far not for generic use. PDFBox has its strengths, e.g. a quite versatile content extraction framework and a content rendering capability, but the absence a proper layouting API  is a serious weakness."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1421832940,"post_id":28059563,"comment_id":44507967,"body_markdown":"I know... I just don&#39;t want to create another iText. We&#39;re not the Samwer brothers. But I&#39;ll write something about that topic on the dev list tonight.","body":"I know... I just don&#39;t want to create another iText. We&#39;re not the Samwer brothers. But I&#39;ll write something about that topic on the dev list tonight."},{"owner":{"account_id":1080617,"reputation":1745,"user_id":1077723,"accept_rate":72,"display_name":"Anil"},"score":0,"creation_date":1421844902,"post_id":28059563,"comment_id":44515054,"body_markdown":"Thanks Tilman for the suggestions. I&#39;ll go through them and update my comments here. iText is an awesome library but their licensing really sucks. I myself am writing a lot of wrappers around pdfbox, when time permits, I&#39;ll publish the same.","body":"Thanks Tilman for the suggestions. I&#39;ll go through them and update my comments here. iText is an awesome library but their licensing really sucks. I myself am writing a lot of wrappers around pdfbox, when time permits, I&#39;ll publish the same."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1421874683,"post_id":28059563,"comment_id":44532683,"body_markdown":"I&#39;ve posted my thoughts not in the dev list but in a JIRA issue here: https://issues.apache.org/jira/browse/PDFBOX-2618","body":"I&#39;ve posted my thoughts not in the dev list but in a JIRA issue here: <a href=\"https://issues.apache.org/jira/browse/PDFBOX-2618\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/PDFBOX-2618</a>"},{"owner":{"display_name":"user17432086"},"score":0,"creation_date":1661191896,"post_id":28059563,"comment_id":129708591,"body_markdown":"@Anil `I am sure someone will have an elegant solution` 7 years later and we still don&#39;t have that elegant solution","body":"@Anil <code>I am sure someone will have an elegant solution</code> 7 years later and we still don&#39;t have that elegant solution"}],"answers":[{"comments":[{"owner":{"account_id":107177,"reputation":1055,"user_id":1171769,"accept_rate":71,"display_name":"Darshan Puranik"},"score":1,"creation_date":1487245503,"post_id":28073600,"comment_id":71701991,"body_markdown":"I couldnt find Example1.java you mentioned in your answer. WIll you please paste your code or Example1.java.","body":"I couldnt find Example1.java you mentioned in your answer. WIll you please paste your code or Example1.java."},{"owner":{"account_id":374852,"reputation":5831,"user_id":725306,"accept_rate":97,"display_name":"Mohammad Faisal"},"score":1,"creation_date":1507620787,"post_id":28073600,"comment_id":80270405,"body_markdown":"@DarshanPuranik: perhaps this [test](https://github.com/dhorions/boxable/blob/master/src/test/java/be/quodlibet/boxable/TableTest.java) may help you.","body":"@DarshanPuranik: perhaps this <a href=\"https://github.com/dhorions/boxable/blob/master/src/test/java/be/quodlibet/boxable/TableTest.java\" rel=\"nofollow noreferrer\">test</a> may help you."}],"tags":[],"owner":{"account_id":1080617,"reputation":1745,"user_id":1077723,"accept_rate":72,"display_name":"Anil"},"comment_count":2,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1421863692,"creation_date":1421862397,"answer_id":28073600,"question_id":28059563,"body_markdown":"Thanks to the links provided by Tilman. Using the boxable API (https://github.com/dhorions/boxable) I was able to create the table I wanted to. Just an FYI I wanted to create the table with variable number of cells. For example row 1 would have 2 cells, row 2 could have 5 cells and row 3 could have just 3 cells. I was able to do with ease. I followed Example1.java in the link mentioned above.","title":"How to create Table using Apache PDFBox","body":"<p>Thanks to the links provided by Tilman. Using the boxable API (<a href=\"https://github.com/dhorions/boxable\" rel=\"noreferrer\">https://github.com/dhorions/boxable</a>) I was able to create the table I wanted to. Just an FYI I wanted to create the table with variable number of cells. For example row 1 would have 2 cells, row 2 could have 5 cells and row 3 could have just 3 cells. I was able to do with ease. I followed Example1.java in the link mentioned above.</p>\n"},{"comments":[{"owner":{"account_id":1238284,"reputation":3771,"user_id":1201423,"accept_rate":75,"display_name":"cklab"},"score":0,"creation_date":1492619527,"post_id":42612456,"comment_id":74056892,"body_markdown":"Tried to give this a shot.. are you missing a class `AWTColor` in the source?","body":"Tried to give this a shot.. are you missing a class <code>AWTColor</code> in the source?"},{"owner":{"account_id":64961,"reputation":3691,"user_id":191466,"accept_rate":83,"display_name":"philonous"},"score":0,"creation_date":1492667029,"post_id":42612456,"comment_id":74076072,"body_markdown":"Indeed! Thanks for your feedback! :) Obviously I didn&#39;t carefully check the last pull request. Please git pull again and it should be working now.","body":"Indeed! Thanks for your feedback! :) Obviously I didn&#39;t carefully check the last pull request. Please git pull again and it should be working now."},{"owner":{"account_id":6894262,"reputation":2252,"user_id":5296760,"accept_rate":71,"display_name":"Sandun Chathuranga"},"score":0,"creation_date":1550741374,"post_id":42612456,"comment_id":96383707,"body_markdown":"what about pagination?","body":"what about pagination?"},{"owner":{"account_id":64961,"reputation":3691,"user_id":191466,"accept_rate":83,"display_name":"philonous"},"score":1,"creation_date":1550742348,"post_id":42612456,"comment_id":96384376,"body_markdown":"You mean a table spanning over several pages? If so, have a look at this code which produces a table over three pages: https://github.com/vandeseer/easytable/blob/master/src/test/java/org/vandeseer/integrationtest/TableOverSeveralPagesTest.java","body":"You mean a table spanning over several pages? If so, have a look at this code which produces a table over three pages: <a href=\"https://github.com/vandeseer/easytable/blob/master/src/test/java/org/vandeseer/integrationtest/TableOverSeveralPagesTest.java\" rel=\"nofollow noreferrer\">github.com/vandeseer/easytable/blob/master/src/test/java/org&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":7820084,"reputation":251,"user_id":5913490,"accept_rate":60,"display_name":"Sagar Kadu"},"score":0,"creation_date":1565005640,"post_id":42612456,"comment_id":101202714,"body_markdown":"@philonous does it support adding multiple tables one after another over several pages?","body":"@philonous does it support adding multiple tables one after another over several pages?"},{"owner":{"account_id":64961,"reputation":3691,"user_id":191466,"accept_rate":83,"display_name":"philonous"},"score":0,"creation_date":1565006313,"post_id":42612456,"comment_id":101203053,"body_markdown":"Well, if you want to draw a table over multiple pages, you can find an example here: [TableOverSeveralPagesTest.java](https://github.com/vandeseer/easytable/blob/master/src/test/java/org/vandeseer/integrationtest/TableOverSeveralPagesTest.java)","body":"Well, if you want to draw a table over multiple pages, you can find an example here: <a href=\"https://github.com/vandeseer/easytable/blob/master/src/test/java/org/vandeseer/integrationtest/TableOverSeveralPagesTest.java\" rel=\"nofollow noreferrer\">TableOverSeveralPagesTest.java</a>"},{"owner":{"account_id":7820084,"reputation":251,"user_id":5913490,"accept_rate":60,"display_name":"Sagar Kadu"},"score":0,"creation_date":1565007076,"post_id":42612456,"comment_id":101203497,"body_markdown":"@philonous example shows only 1 table which is drawn over several pages..My use case is to have different tables which are next to each other &amp; they could span across multiple pages","body":"@philonous example shows only 1 table which is drawn over several pages..My use case is to have different tables which are next to each other &amp; they could span across multiple pages"},{"owner":{"account_id":64961,"reputation":3691,"user_id":191466,"accept_rate":83,"display_name":"philonous"},"score":0,"creation_date":1565008377,"post_id":42612456,"comment_id":101204316,"body_markdown":"I think you would need to do at least some calculations yourself: You would need to keep track of the point where the next table should start to be drawn if another one just has finished. That shouldn&#39;t be too hard though.","body":"I think you would need to do at least some calculations yourself: You would need to keep track of the point where the next table should start to be drawn if another one just has finished. That shouldn&#39;t be too hard though."},{"owner":{"account_id":7820084,"reputation":251,"user_id":5913490,"accept_rate":60,"display_name":"Sagar Kadu"},"score":0,"creation_date":1565178148,"post_id":42612456,"comment_id":101268983,"body_markdown":"@philonous do you happen to have example of it?I tried but seems like pagination is not happening properly with multiple tables","body":"@philonous do you happen to have example of it?I tried but seems like pagination is not happening properly with multiple tables"},{"owner":{"account_id":64961,"reputation":3691,"user_id":191466,"accept_rate":83,"display_name":"philonous"},"score":0,"creation_date":1565191375,"post_id":42612456,"comment_id":101276977,"body_markdown":"I don&#39;t have one yet, but just open an issue (tagged as question) on github and we can continue there.","body":"I don&#39;t have one yet, but just open an issue (tagged as question) on github and we can continue there."}],"tags":[],"owner":{"account_id":64961,"reputation":3691,"user_id":191466,"accept_rate":83,"display_name":"philonous"},"comment_count":10,"down_vote_count":0,"up_vote_count":109,"is_accepted":false,"score":109,"last_activity_date":1548258999,"creation_date":1488739503,"answer_id":42612456,"question_id":28059563,"body_markdown":"Since I also needed table drawing functionality for a side project, I implemented a small &quot;table drawer&quot; library myself, which I uploaded to [github](https://github.com/vandeseer/easytable). \r\n\r\nIn order to produce such a table – for instance – ... \r\n[![enter image description here][1]][1]\r\n\r\n... you would need [this code][2].\r\nIn the same file you find the code for that table as well:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThe current &quot;feature list&quot; includes:\r\n\r\n - set font and font size on table level as well as on cell level\r\n - define single cells with bottom-, top-, left- and right-border width separately\r\n - define the background color on row or cell level\r\n - define padding (top, bottom, left, right) on cell level\r\n - define border color (on table, row or cell level)\r\n - specify text alignment (vertical and horizontal)\r\n - cell spanning and row spanning\r\n - text wrapping and line spacing\r\n\r\nAlso it should not be too hard to add missing stuff like having different border colors for borders on top, bottom, left and right-borders, if needed.\r\n\r\n\r\n  [1]: https://raw.githubusercontent.com/vandeseer/easytable/master/doc/example.png\r\n  [2]: https://github.com/vandeseer/easytable/blob/master/src/test/java/org/vandeseer/integrationtest/ExcelLikeExampleTest.java\r\n\r\n  [4]:https://raw.githubusercontent.com/vandeseer/easytable/master/doc/example2.png","title":"How to create Table using Apache PDFBox","body":"<p>Since I also needed table drawing functionality for a side project, I implemented a small \"table drawer\" library myself, which I uploaded to <a href=\"https://github.com/vandeseer/easytable\" rel=\"noreferrer\">github</a>. </p>\n\n<p>In order to produce such a table – for instance – ... \n<a href=\"https://raw.githubusercontent.com/vandeseer/easytable/master/doc/example.png\" rel=\"noreferrer\"><img src=\"https://raw.githubusercontent.com/vandeseer/easytable/master/doc/example.png\" alt=\"enter image description here\"></a></p>\n\n<p>... you would need <a href=\"https://github.com/vandeseer/easytable/blob/master/src/test/java/org/vandeseer/integrationtest/ExcelLikeExampleTest.java\" rel=\"noreferrer\">this code</a>.\nIn the same file you find the code for that table as well:</p>\n\n<p><a href=\"https://raw.githubusercontent.com/vandeseer/easytable/master/doc/example2.png\" rel=\"noreferrer\"><img src=\"https://raw.githubusercontent.com/vandeseer/easytable/master/doc/example2.png\" alt=\"enter image description here\"></a></p>\n\n<p>The current \"feature list\" includes:</p>\n\n<ul>\n<li>set font and font size on table level as well as on cell level</li>\n<li>define single cells with bottom-, top-, left- and right-border width separately</li>\n<li>define the background color on row or cell level</li>\n<li>define padding (top, bottom, left, right) on cell level</li>\n<li>define border color (on table, row or cell level)</li>\n<li>specify text alignment (vertical and horizontal)</li>\n<li>cell spanning and row spanning</li>\n<li>text wrapping and line spacing</li>\n</ul>\n\n<p>Also it should not be too hard to add missing stuff like having different border colors for borders on top, bottom, left and right-borders, if needed.</p>\n"},{"tags":[],"owner":{"account_id":26876381,"reputation":86,"user_id":20457576,"display_name":"Dinuka Silva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667985134,"creation_date":1667985134,"answer_id":74372381,"question_id":28059563,"body_markdown":"**This example code works for me. I think this would be helpful to you**\r\n\r\n    public static void creteTablePdf() throws IOException {\r\n        PDDocument document = new PDDocument();\r\n        PDPage page = new PDPage();\r\n        document.addPage(page);\r\n\r\n        int pageWidth = (int)page.getTrimBox().getWidth(); //get width of the page\r\n        int pageHeight = (int)page.getTrimBox().getHeight(); //get height of the page\r\n\r\n        PDPageContentStream contentStream = new PDPageContentStream(document,page);\r\n        contentStream.setStrokingColor(Color.DARK_GRAY);\r\n        contentStream.setLineWidth(1);\r\n\r\n        int initX = 50;\r\n        int initY = pageHeight-50;\r\n        int cellHeight = 20;\r\n        int cellWidth = 100;\r\n\r\n        int colCount = 3;\r\n        int rowCount = 3;\r\n\r\n        for(int i = 1; i&lt;=rowCount;i++){\r\n            for(int j = 1; j&lt;=colCount;j++){\r\n                if(j == 2){\r\n                    contentStream.addRect(initX,initY,cellWidth+30,-cellHeight);\r\n\r\n                    contentStream.beginText();\r\n                    contentStream.newLineAtOffset(initX+30,initY-cellHeight+10);\r\n                    contentStream.setFont(PDType1Font.TIMES_ROMAN,10);\r\n                    contentStream.showText(&quot;Dinuka&quot;);\r\n                    contentStream.endText();\r\n\r\n                    initX+=cellWidth+30;\r\n                }else{\r\n                    contentStream.addRect(initX,initY,cellWidth,-cellHeight);\r\n\r\n                    contentStream.beginText();\r\n                    contentStream.newLineAtOffset(initX+10,initY-cellHeight+10);\r\n                    contentStream.setFont(PDType1Font.TIMES_ROMAN,10);\r\n                    contentStream.showText(&quot;Dinuka&quot;);\r\n                    contentStream.endText();\r\n\r\n                    initX+=cellWidth;\r\n                }\r\n            }\r\n            initX = 50;\r\n            initY -=cellHeight;\r\n        }\r\n\r\n        contentStream.stroke();\r\n        contentStream.close();\r\n\r\n\r\n        document.save(&quot;C:\\\\table.pdf&quot;);\r\n        document.close();\r\n        System.out.println(&quot;table pdf created&quot;);\r\n    }","title":"How to create Table using Apache PDFBox","body":"<p><strong>This example code works for me. I think this would be helpful to you</strong></p>\n<pre><code>public static void creteTablePdf() throws IOException {\n    PDDocument document = new PDDocument();\n    PDPage page = new PDPage();\n    document.addPage(page);\n\n    int pageWidth = (int)page.getTrimBox().getWidth(); //get width of the page\n    int pageHeight = (int)page.getTrimBox().getHeight(); //get height of the page\n\n    PDPageContentStream contentStream = new PDPageContentStream(document,page);\n    contentStream.setStrokingColor(Color.DARK_GRAY);\n    contentStream.setLineWidth(1);\n\n    int initX = 50;\n    int initY = pageHeight-50;\n    int cellHeight = 20;\n    int cellWidth = 100;\n\n    int colCount = 3;\n    int rowCount = 3;\n\n    for(int i = 1; i&lt;=rowCount;i++){\n        for(int j = 1; j&lt;=colCount;j++){\n            if(j == 2){\n                contentStream.addRect(initX,initY,cellWidth+30,-cellHeight);\n\n                contentStream.beginText();\n                contentStream.newLineAtOffset(initX+30,initY-cellHeight+10);\n                contentStream.setFont(PDType1Font.TIMES_ROMAN,10);\n                contentStream.showText(&quot;Dinuka&quot;);\n                contentStream.endText();\n\n                initX+=cellWidth+30;\n            }else{\n                contentStream.addRect(initX,initY,cellWidth,-cellHeight);\n\n                contentStream.beginText();\n                contentStream.newLineAtOffset(initX+10,initY-cellHeight+10);\n                contentStream.setFont(PDType1Font.TIMES_ROMAN,10);\n                contentStream.showText(&quot;Dinuka&quot;);\n                contentStream.endText();\n\n                initX+=cellWidth;\n            }\n        }\n        initX = 50;\n        initY -=cellHeight;\n    }\n\n    contentStream.stroke();\n    contentStream.close();\n\n\n    document.save(&quot;C:\\\\table.pdf&quot;);\n    document.close();\n    System.out.println(&quot;table pdf created&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1080617,"reputation":1745,"user_id":1077723,"accept_rate":72,"display_name":"Anil"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72698,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":28073600,"answer_count":3,"score":39,"last_activity_date":1667985134,"creation_date":1421813902,"question_id":28059563,"body_markdown":"We are planning to migrate our pdf generation utilities from iText to PDFBox (Due to licensing issues in iText).  With some effort, I was able to write and position text, draw lines etc. But creating Tables with text embedded in Table cells is a challenge, I went through the documentation, examples, Google, Stackoverflow couldn&#39;t find a thing. Was wondering if PDFBox provides native support for creating Tables with embedded text. My last resort would be to use this link https://github.com/eduardohl/Paginated-PDFBox-Table-Sample","title":"How to create Table using Apache PDFBox","body":"<p>We are planning to migrate our pdf generation utilities from iText to PDFBox (Due to licensing issues in iText).  With some effort, I was able to write and position text, draw lines etc. But creating Tables with text embedded in Table cells is a challenge, I went through the documentation, examples, Google, Stackoverflow couldn't find a thing. Was wondering if PDFBox provides native support for creating Tables with embedded text. My last resort would be to use this link <a href=\"https://github.com/eduardohl/Paginated-PDFBox-Table-Sample\">https://github.com/eduardohl/Paginated-PDFBox-Table-Sample</a></p>\n"},{"tags":["java","mongodb","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"score":0,"creation_date":1667915529,"post_id":74361519,"comment_id":131277950,"body_markdown":"checkout this answer https://stackoverflow.com/a/48140893/3651739 ,","body":"checkout this answer <a href=\"https://stackoverflow.com/a/48140893/3651739\">stackoverflow.com/a/48140893/3651739</a> ,"},{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1667918302,"post_id":74361519,"comment_id":131279077,"body_markdown":"You can skip the database name, however then it defaults to https://stackoverflow.com/questions/63754742/authentication-failure-while-trying-to-save-to-mongodb/63755470#63755470","body":"You can skip the database name, however then it defaults to <a href=\"https://stackoverflow.com/questions/63754742/authentication-failure-while-trying-to-save-to-mongodb/63755470#63755470\" title=\"authentication failure while trying to save to mongodb\">stackoverflow.com/questions/63754742/&hellip;</a>"}],"owner":{"account_id":15611730,"reputation":31,"user_id":13296532,"display_name":"Anna315"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667985103,"creation_date":1667914009,"question_id":74361519,"body_markdown":"I&#39;m using spring boot and database mongo. Our database is placed on AWS cluster. Inside data source we have couples databases(AccountsDB, SubscriptionsDB etc). I did realization, when in Spring boot I connected to 2 databases using disable autoconfiguration in application.properties file and connect to mongoDB twice: ones, to database AccountsDB(\r\n\r\n```\r\nmongodb://${MONGO_DB_USERNAME}:${MONGO_DB_PASSWORD}@${MONGODB_HOST}:${MONGODB_PORT}/{AccountsDB}?replicaSet=rs0&amp;readPreference=secondaryPreferred&amp;retryWrites=false\r\n```\r\n\r\n), and second connection to SubscriptionDB(\r\n\r\n```\r\nmongodb://${MONGO_DB_USERNAME}:${MONGO_DB_PASSWORD}@${MONGODB_HOST}:${MONGODB_PORT}/{SubscriptionDB}?replicaSet=rs0&amp;readPreference=secondaryPreferred&amp;retryWrites=false\r\n```\r\n\r\n). \r\nBut my manager unhappy with this realization... There is any way to connect to data source without clarification of data base name? I couldn&#39;t find any solution for this, if we are not clarify its not showing any data. Thank you for any replying\r\n\r\nI tried to connect without clarification, and it doesn&#39;t display any data\r\n\r\n```\r\nmongodb://${MONGO_DB_USERNAME}:${MONGO_DB_PASSWORD}@${MONGODB_HOST}:${MONGODB_PORT}/?replicaSet=rs0&amp;readPreference=secondaryPreferred&amp;retryWrites=false\r\n```\r\n\r\nMight be any way to connect to datasource and after using SpringJPA make connection?","title":"Connecting to data source without specifying database name","body":"<p>I'm using spring boot and database mongo. Our database is placed on AWS cluster. Inside data source we have couples databases(AccountsDB, SubscriptionsDB etc). I did realization, when in Spring boot I connected to 2 databases using disable autoconfiguration in application.properties file and connect to mongoDB twice: ones, to database AccountsDB(</p>\n<pre><code>mongodb://${MONGO_DB_USERNAME}:${MONGO_DB_PASSWORD}@${MONGODB_HOST}:${MONGODB_PORT}/{AccountsDB}?replicaSet=rs0&amp;readPreference=secondaryPreferred&amp;retryWrites=false\n</code></pre>\n<p>), and second connection to SubscriptionDB(</p>\n<pre><code>mongodb://${MONGO_DB_USERNAME}:${MONGO_DB_PASSWORD}@${MONGODB_HOST}:${MONGODB_PORT}/{SubscriptionDB}?replicaSet=rs0&amp;readPreference=secondaryPreferred&amp;retryWrites=false\n</code></pre>\n<p>).\nBut my manager unhappy with this realization... There is any way to connect to data source without clarification of data base name? I couldn't find any solution for this, if we are not clarify its not showing any data. Thank you for any replying</p>\n<p>I tried to connect without clarification, and it doesn't display any data</p>\n<pre><code>mongodb://${MONGO_DB_USERNAME}:${MONGO_DB_PASSWORD}@${MONGODB_HOST}:${MONGODB_PORT}/?replicaSet=rs0&amp;readPreference=secondaryPreferred&amp;retryWrites=false\n</code></pre>\n<p>Might be any way to connect to datasource and after using SpringJPA make connection?</p>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":10438739,"reputation":537,"user_id":7696140,"display_name":"Meccano"},"score":2,"creation_date":1492036194,"post_id":43380636,"comment_id":73823416,"body_markdown":"you can print all elements except the last one and then print the last element seperately","body":"you can print all elements except the last one and then print the last element seperately"},{"owner":{"account_id":1623866,"reputation":5200,"user_id":1499877,"accept_rate":86,"display_name":"WOUNDEDStevenJones"},"score":0,"creation_date":1492036195,"post_id":43380636,"comment_id":73823417,"body_markdown":"truncate the last 3 characters and then append &quot;]&quot; back.  Or better yet, instead of blindly appending the `&quot;, &quot;`, check the length of `myArray` and the value of `i` to determine if you need to append `&quot;, &quot;`.","body":"truncate the last 3 characters and then append &quot;]&quot; back.  Or better yet, instead of blindly appending the <code>&quot;, &quot;</code>, check the length of <code>myArray</code> and the value of <code>i</code> to determine if you need to append <code>&quot;, &quot;</code>."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1492036640,"post_id":43380636,"comment_id":73823555,"body_markdown":"I also sometimes build the output in a `StringBuilder`, then just always remove the last space and comma.  `StringBuilder` is just a `char[]` under the hood, so removing two characters from the end is easy.  The resulting code is pretty compact and efficient too.","body":"I also sometimes build the output in a <code>StringBuilder</code>, then just always remove the last space and comma.  <code>StringBuilder</code> is just a <code>char[]</code> under the hood, so removing two characters from the end is easy.  The resulting code is pretty compact and efficient too."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1492038406,"post_id":43380636,"comment_id":73824097,"body_markdown":"To avoid confusion, I suggest your `printArray` method, only print the array.  Having it also initialise the array is a confusing complication missed by some answering the question. You could call the method `initialiseAndPrintArray`","body":"To avoid confusion, I suggest your <code>printArray</code> method, only print the array.  Having it also initialise the array is a confusing complication missed by some answering the question. You could call the method <code>initialiseAndPrintArray</code>"}],"answers":[{"comments":[{"owner":{"account_id":18348479,"reputation":1986,"user_id":13363175,"display_name":"notaorb"},"score":0,"creation_date":1701901805,"post_id":43380662,"comment_id":136833931,"body_markdown":"This doesn&#39;t work","body":"This doesn&#39;t work"}],"tags":[],"owner":{"account_id":788777,"reputation":28977,"user_id":857132,"accept_rate":69,"display_name":"John3136"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1492036256,"creation_date":1492036256,"answer_id":43380662,"question_id":43380636,"body_markdown":"Don&#39;t print it in the first place. Print the comma before the string and only when `i &gt; 0`.\r\n\r\n    public static void printArray(int[] myArray)\r\n    {\r\n\r\n        System.out.print(&quot;[&quot;);\r\n        for(int i = 0; i &lt; myArray.length; i++)\r\n        {\r\n            myArray[i] = i + 1;\r\n            if (i &gt; 0)\r\n            {\r\n                System.out.print(&quot;, &quot;);\r\n            }\r\n            System.out.print(myArray[i]);\r\n        }\r\n        System.out.println(&quot;]&quot;);\r\n    }","title":"How to remove last comma and space in array? Java","body":"<p>Don't print it in the first place. Print the comma before the string and only when <code>i &gt; 0</code>.</p>\n\n<pre><code>public static void printArray(int[] myArray)\n{\n\n    System.out.print(\"[\");\n    for(int i = 0; i &lt; myArray.length; i++)\n    {\n        myArray[i] = i + 1;\n        if (i &gt; 0)\n        {\n            System.out.print(\", \");\n        }\n        System.out.print(myArray[i]);\n    }\n    System.out.println(\"]\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1492036460,"post_id":43380690,"comment_id":73823506,"body_markdown":"`Collections.asList` doesn&#39;t work for array of primitive types. You may want to use `Stream.of` or `Arrays.stream` instead.","body":"<code>Collections.asList</code> doesn&#39;t work for array of primitive types. You may want to use <code>Stream.of</code> or <code>Arrays.stream</code> instead."},{"owner":{"account_id":7857907,"reputation":441,"user_id":5939139,"display_name":"Gabe"},"score":0,"creation_date":1492036658,"post_id":43380690,"comment_id":73823568,"body_markdown":"Right, I was thinking of `Arrays.asList` (no such thing as `Collections.asList`) while typing it. Hehe :) Thanks! Amended. :)","body":"Right, I was thinking of <code>Arrays.asList</code> (no such thing as <code>Collections.asList</code>) while typing it. Hehe :) Thanks! Amended. :)"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1492036884,"post_id":43380690,"comment_id":73823651,"body_markdown":"Actually I also was thinking about `Arrays.asList` so problem stays. Take a look. If you have `int[] array = {1,2}` and you use `Arrays.asList` you will get `List&lt;int[]&gt;` which will contain one element, array itself. You will not get `List&lt;int&gt;` (since generic types can&#39;t be primitive) nor `List&lt;Integer&gt;` (since autoboxing applies only for primitive types, but *any* array is not primitive type, even `int[]`).","body":"Actually I also was thinking about <code>Arrays.asList</code> so problem stays. Take a look. If you have <code>int[] array = {1,2}</code> and you use <code>Arrays.asList</code> you will get <code>List&lt;int[]&gt;</code> which will contain one element, array itself. You will not get <code>List&lt;int&gt;</code> (since generic types can&#39;t be primitive) nor <code>List&lt;Integer&gt;</code> (since autoboxing applies only for primitive types, but <i>any</i> array is not primitive type, even <code>int[]</code>)."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1492037308,"post_id":43380690,"comment_id":73823790,"body_markdown":"Take a look at [Arrays.asList() not working as it should?](http://stackoverflow.com/questions/1467913/arrays-aslist-not-working-as-it-should), especially this answer: http://stackoverflow.com/a/1467940/1393766","body":"Take a look at <a href=\"http://stackoverflow.com/questions/1467913/arrays-aslist-not-working-as-it-should\">Arrays.asList() not working as it should?</a>, especially this answer: <a href=\"http://stackoverflow.com/a/1467940/1393766\">stackoverflow.com/a/1467940/1393766</a>"},{"owner":{"account_id":7857907,"reputation":441,"user_id":5939139,"display_name":"Gabe"},"score":0,"creation_date":1492037350,"post_id":43380690,"comment_id":73823807,"body_markdown":"Had to open an IDE to fix it! hehe. Amended! :) Thanks!","body":"Had to open an IDE to fix it! hehe. Amended! :) Thanks!"}],"tags":[],"owner":{"account_id":7857907,"reputation":441,"user_id":5939139,"display_name":"Gabe"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492037324,"creation_date":1492036403,"answer_id":43380690,"question_id":43380636,"body_markdown":"I would modify it as such _(printing the comma before the next item, for index &gt; 0)_\r\n\r\n    System.out.print(&quot;[&quot;);\r\n    for(int i = 0; i &lt; myArray.length; i++) {\r\n      myArray[i] = i + 1;\r\n      System.out.print(((i &gt; 0) ? &quot;, &quot; : &quot;&quot;) + myArray[i]);\r\n    }\r\n    System.out.print(&quot;]&quot;);\r\n\r\nOr, in Java 8,\r\n\r\n    System.out.println(\r\n      &quot;[&quot; + \r\n      Arrays.stream(array)\r\n          .mapToObj(String::valueOf)\r\n          .collect(Collectors.joining(&quot;, &quot;))\r\n      + &quot;]&quot;\r\n    );","title":"How to remove last comma and space in array? Java","body":"<p>I would modify it as such <em>(printing the comma before the next item, for index > 0)</em></p>\n\n<pre><code>System.out.print(\"[\");\nfor(int i = 0; i &lt; myArray.length; i++) {\n  myArray[i] = i + 1;\n  System.out.print(((i &gt; 0) ? \", \" : \"\") + myArray[i]);\n}\nSystem.out.print(\"]\");\n</code></pre>\n\n<p>Or, in Java 8,</p>\n\n<pre><code>System.out.println(\n  \"[\" + \n  Arrays.stream(array)\n      .mapToObj(String::valueOf)\n      .collect(Collectors.joining(\", \"))\n  + \"]\"\n);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1492038155,"post_id":43380792,"comment_id":73824020,"body_markdown":"Note; rather confusingly, instead of just printing the array OP&#39;s code also initialises it.","body":"Note; rather confusingly, instead of just printing the array OP&#39;s code also initialises it."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1492038197,"post_id":43380792,"comment_id":73824033,"body_markdown":"Oh, OP&#39;s code.  Yeah that&#39;s kinda weird.","body":"Oh, OP&#39;s code.  Yeah that&#39;s kinda weird."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1492038318,"post_id":43380792,"comment_id":73824076,"body_markdown":"The original code has `myArray[i] = i + 1;` which is going to do something different from your code. IMHO your code makes more sense, it just doesn&#39;t do the same thing.","body":"The original code has <code>myArray[i] = i + 1;</code> which is going to do something different from your code. IMHO your code makes more sense, it just doesn&#39;t do the same thing."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1492038414,"post_id":43380792,"comment_id":73824101,"body_markdown":"I assume that was just a test case so he could produce output, but yeah he might have meant to also initialize the array too, in which case his question doesn&#39;t really match his problem.","body":"I assume that was just a test case so he could produce output, but yeah he might have meant to also initialize the array too, in which case his question doesn&#39;t really match his problem."},{"owner":{"account_id":10435196,"reputation":119,"user_id":7693723,"accept_rate":100,"display_name":"IDK"},"score":0,"creation_date":1492127468,"post_id":43380792,"comment_id":73867241,"body_markdown":"Yeah, sorry about that guys, I removed my main method. I thought it would make things easier to read.","body":"Yeah, sorry about that guys, I removed my main method. I thought it would make things easier to read."}],"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1492037885,"creation_date":1492036919,"answer_id":43380792,"question_id":43380636,"body_markdown":"The easy way to do this is just use `Arrays.toString`\r\n\r\n    public static void printArray(int[] myArray)\r\n    {\r\n        System.out.print( Arrays.toString( myArray ) );\r\n    }\r\n\r\nNote this prints brackets instead of braces.  In the interest of completeness, if you do implement this yourself, don&#39;t forget to check for the array being `null` in addition to other boundary conditions like length = 0.\r\n\r\nHere is an example using `StringBuilder`, where I just always remove the last two characters after checking for `null` and length = 0.  If you have a very complicated string to calculate for each item in a list/array, this can be easier than copying the code to make each item outside the loop, and can be slightly faster than checking for `i==array.length-1` each time through the loop.\r\n\r\n    public class MyArraysToString\r\n    {\r\n    \r\n       public static void main( String[] args )\r\n       {\r\n          int[] test = { 8, 7, 6, 5, 4, };\r\n          printArray( test );\r\n          System.out.println( myToString( null ) );\r\n          System.out.println( myToString( new int[0] ) );\r\n          System.out.println( myToString( test ) );\r\n       }\r\n    \r\n       public static void printArray( int[] myArray )\r\n       {\r\n          System.out.println( Arrays.toString( myArray ) );\r\n       }\r\n    \r\n       public static String myToString( int[] a ) {\r\n          if( a == null ) return &quot;null&quot;;\r\n          if( a.length == 0 ) return &quot;{}&quot;;\r\n          StringBuilder sb = new StringBuilder();\r\n          sb.append( &#39;{&#39; );\r\n          for (int i = 0; i &lt; a.length; i++) {\r\n             sb.append( a[i] );\r\n             sb.append( &quot;, &quot; );\r\n          }\r\n          sb.setLength( sb.length()-2 );\r\n          sb.append( &#39;}&#39; );\r\n          return sb.toString();\r\n       }\r\n    }\r\n\r\n","title":"How to remove last comma and space in array? Java","body":"<p>The easy way to do this is just use <code>Arrays.toString</code></p>\n\n<pre><code>public static void printArray(int[] myArray)\n{\n    System.out.print( Arrays.toString( myArray ) );\n}\n</code></pre>\n\n<p>Note this prints brackets instead of braces.  In the interest of completeness, if you do implement this yourself, don't forget to check for the array being <code>null</code> in addition to other boundary conditions like length = 0.</p>\n\n<p>Here is an example using <code>StringBuilder</code>, where I just always remove the last two characters after checking for <code>null</code> and length = 0.  If you have a very complicated string to calculate for each item in a list/array, this can be easier than copying the code to make each item outside the loop, and can be slightly faster than checking for <code>i==array.length-1</code> each time through the loop.</p>\n\n<pre><code>public class MyArraysToString\n{\n\n   public static void main( String[] args )\n   {\n      int[] test = { 8, 7, 6, 5, 4, };\n      printArray( test );\n      System.out.println( myToString( null ) );\n      System.out.println( myToString( new int[0] ) );\n      System.out.println( myToString( test ) );\n   }\n\n   public static void printArray( int[] myArray )\n   {\n      System.out.println( Arrays.toString( myArray ) );\n   }\n\n   public static String myToString( int[] a ) {\n      if( a == null ) return \"null\";\n      if( a.length == 0 ) return \"{}\";\n      StringBuilder sb = new StringBuilder();\n      sb.append( '{' );\n      for (int i = 0; i &lt; a.length; i++) {\n         sb.append( a[i] );\n         sb.append( \", \" );\n      }\n      sb.setLength( sb.length()-2 );\n      sb.append( '}' );\n      return sb.toString();\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":10435196,"reputation":119,"user_id":7693723,"accept_rate":100,"display_name":"IDK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10376,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1492036995,"accepted_answer_id":43380662,"answer_count":3,"score":6,"last_activity_date":1667984954,"creation_date":1492036115,"question_id":43380636,"body_markdown":"guys I was wondering how to remove the extra comma and space from the array? When I run the program it gives me {1, 2, 3, 4, 5, }. What I want is \r\n{1, 2, 3, 4, 5}. Main must stay the same. PrintArray method is the one I need help with. \r\n\r\nReferring to duplicate question statement.\r\nThis is different because it asks a user for a number and prints the array accordingly. This is not a duplicate question.\r\n\r\n    public static void printArray(int[] myArray) {\r\n    \tSystem.out.print(&quot;[&quot;);\r\n    \tfor(int i = 0; i &lt; myArray.length; i++) {\r\n    \t\tmyArray[i] = i + 1;\r\n    \t\tSystem.out.print(myArray[i] + &quot;, &quot;);\r\n    \t}\r\n\r\n    \tSystem.out.println(&quot;]&quot;);\r\n    }","title":"How to remove last comma and space in array? Java","body":"<p>guys I was wondering how to remove the extra comma and space from the array? When I run the program it gives me {1, 2, 3, 4, 5, }. What I want is\n{1, 2, 3, 4, 5}. Main must stay the same. PrintArray method is the one I need help with.</p>\n<p>Referring to duplicate question statement.\nThis is different because it asks a user for a number and prints the array accordingly. This is not a duplicate question.</p>\n<pre><code>public static void printArray(int[] myArray) {\n    System.out.print(&quot;[&quot;);\n    for(int i = 0; i &lt; myArray.length; i++) {\n        myArray[i] = i + 1;\n        System.out.print(myArray[i] + &quot;, &quot;);\n    }\n\n    System.out.println(&quot;]&quot;);\n}\n</code></pre>\n"},{"tags":["java","cryptography","rsa"],"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1521716483,"post_id":49426844,"comment_id":85854829,"body_markdown":"You did not specify the algorithm used, but maybe this is helpful: https://stackoverflow.com/questions/4428236/given-two-ssh2-keys-how-do-i-check-that-they-belong-to-the-same-key-pair-in-java","body":"You did not specify the algorithm used, but maybe this is helpful: <a href=\"https://stackoverflow.com/questions/4428236/given-two-ssh2-keys-how-do-i-check-that-they-belong-to-the-same-key-pair-in-java\" title=\"given two ssh2 keys how do i check that they belong to the same key pair in java\">stackoverflow.com/questions/4428236/&hellip;</a>"},{"owner":{"account_id":11628650,"reputation":463,"user_id":9184839,"accept_rate":77,"display_name":"Aravind S"},"score":0,"creation_date":1521717109,"post_id":49426844,"comment_id":85855274,"body_markdown":"Its RSA algorithm, specified in the tags and updated the question. And thanks for the link.","body":"Its RSA algorithm, specified in the tags and updated the question. And thanks for the link."}],"answers":[{"comments":[{"owner":{"account_id":11628650,"reputation":463,"user_id":9184839,"accept_rate":77,"display_name":"Aravind S"},"score":1,"creation_date":1521719662,"post_id":49427242,"comment_id":85857068,"body_markdown":"Thanks a lot, it worked! And I must research on this code too.","body":"Thanks a lot, it worked! And I must research on this code too."},{"owner":{"account_id":11628650,"reputation":463,"user_id":9184839,"accept_rate":77,"display_name":"Aravind S"},"score":0,"creation_date":1521722244,"post_id":49427242,"comment_id":85858942,"body_markdown":"And can you provide any link related to this, so I can understand it&#39;s working?","body":"And can you provide any link related to this, so I can understand it&#39;s working?"},{"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"score":0,"creation_date":1521726003,"post_id":49427242,"comment_id":85861900,"body_markdown":"Java tutorial: generating and verifying signatures -&gt; https://docs.oracle.com/javase/tutorial/security/apisign/index.html","body":"Java tutorial: generating and verifying signatures -&gt; <a href=\"https://docs.oracle.com/javase/tutorial/security/apisign/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/security/apisign/index.html</a>"},{"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"score":0,"creation_date":1521726252,"post_id":49427242,"comment_id":85862072,"body_markdown":"Usually signatures are used to verify that a message was not altered. It can also be used to identify the parties (one owning the private key, the other owning the public key) by using a challenge that is signed and then verified. We use this for authentication: server poses a challenge, client signs it (with the private key) and the server validates the identity by verifying the signed challenge (with the client&#39;s public key).","body":"Usually signatures are used to verify that a message was not altered. It can also be used to identify the parties (one owning the private key, the other owning the public key) by using a challenge that is signed and then verified. We use this for authentication: server poses a challenge, client signs it (with the private key) and the server validates the identity by verifying the signed challenge (with the client&#39;s public key)."},{"owner":{"account_id":11628650,"reputation":463,"user_id":9184839,"accept_rate":77,"display_name":"Aravind S"},"score":0,"creation_date":1521731651,"post_id":49427242,"comment_id":85866169,"body_markdown":"Thanks for the explanation, will look into the link too.","body":"Thanks for the explanation, will look into the link too."}],"tags":[],"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"comment_count":5,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1667818138,"creation_date":1521717315,"answer_id":49427242,"question_id":49426844,"body_markdown":"You can verify if a key pair matches by\r\n\r\n - creating a **challenge** (random byte sequence of sufficient length)\r\n - **signing** the challenge with the **private key**\r\n - **verifying** the signature using the **public key**\r\n\r\nThis gives you a sufficiently high confidence (almost certainity) that a key pair matches if the signature verification is ok, and an absolute certainity that a key pair does not match otherwise.\r\n\r\nExample code:\r\n\r\n    KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n    keyGen.initialize(2048);\r\n\r\n    KeyPair keyPair = keyGen.generateKeyPair();\r\n    PublicKey publicKey = keyPair.getPublic();\r\n    PrivateKey privateKey = keyPair.getPrivate();\r\n\r\n    // create a challenge\r\n    byte[] challenge = new byte[10000];\r\n    ThreadLocalRandom.current().nextBytes(challenge);\r\n\r\n    // sign using the private key\r\n    Signature sig = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n    sig.initSign(privateKey);\r\n    sig.update(challenge);\r\n    byte[] signature = sig.sign();\r\n\r\n    // verify signature using the public key\r\n    sig.initVerify(publicKey);\r\n    sig.update(challenge);\r\n    \r\n    boolean keyPairMatches = sig.verify(signature);\r\n\r\nThis also works with **Elliptic Curve (EC)** key pairs, but you need to use a different signature algorithm (`SHA256withECDSA`):\r\n\r\n    KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;EC&quot;);\r\n    keyGen.initialize(new ECGenParameterSpec(&quot;sect571k1&quot;));\r\n    ...\r\n    Signature sig = Signature.getInstance(&quot;SHA256withECDSA&quot;);","title":"How to validate a public and private key pair in Java","body":"<p>You can verify if a key pair matches by</p>\n<ul>\n<li>creating a <strong>challenge</strong> (random byte sequence of sufficient length)</li>\n<li><strong>signing</strong> the challenge with the <strong>private key</strong></li>\n<li><strong>verifying</strong> the signature using the <strong>public key</strong></li>\n</ul>\n<p>This gives you a sufficiently high confidence (almost certainity) that a key pair matches if the signature verification is ok, and an absolute certainity that a key pair does not match otherwise.</p>\n<p>Example code:</p>\n<pre><code>KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;);\nkeyGen.initialize(2048);\n\nKeyPair keyPair = keyGen.generateKeyPair();\nPublicKey publicKey = keyPair.getPublic();\nPrivateKey privateKey = keyPair.getPrivate();\n\n// create a challenge\nbyte[] challenge = new byte[10000];\nThreadLocalRandom.current().nextBytes(challenge);\n\n// sign using the private key\nSignature sig = Signature.getInstance(&quot;SHA256withRSA&quot;);\nsig.initSign(privateKey);\nsig.update(challenge);\nbyte[] signature = sig.sign();\n\n// verify signature using the public key\nsig.initVerify(publicKey);\nsig.update(challenge);\n\nboolean keyPairMatches = sig.verify(signature);\n</code></pre>\n<p>This also works with <strong>Elliptic Curve (EC)</strong> key pairs, but you need to use a different signature algorithm (<code>SHA256withECDSA</code>):</p>\n<pre><code>KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;EC&quot;);\nkeyGen.initialize(new ECGenParameterSpec(&quot;sect571k1&quot;));\n...\nSignature sig = Signature.getInstance(&quot;SHA256withECDSA&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"score":0,"creation_date":1667817807,"post_id":66021798,"comment_id":131250092,"body_markdown":"This answer does not work with general key pairs (EC, DSA, ...) but only with RSA key pairs.","body":"This answer does not work with general key pairs (EC, DSA, ...) but only with RSA key pairs."},{"owner":{"account_id":276507,"reputation":16077,"user_id":569976,"accept_rate":68,"display_name":"neubert"},"score":1,"creation_date":1667827526,"post_id":66021798,"comment_id":131253492,"body_markdown":"@PeterWalser - that&#39;s true but the OP&#39;s question was &quot;_using RSA algorithm_&quot;. But even then, you still don&#39;t need to sign / verify, even with EC or DSA. With EC you&#39;d check to make sure that the curve is the same along with the QA parameter. Technically, I suppose a EC private key might not have QA available but I feel like most real world EC keys would just as most real world RSA private keys have the public exponent embedded within them. I mean, like with RSA, technically, all you need is the modulus and the private exponent but most real world RSA private keys include CRT components as well","body":"@PeterWalser - that&#39;s true but the OP&#39;s question was &quot;<i>using RSA algorithm</i>&quot;. But even then, you still don&#39;t need to sign / verify, even with EC or DSA. With EC you&#39;d check to make sure that the curve is the same along with the QA parameter. Technically, I suppose a EC private key might not have QA available but I feel like most real world EC keys would just as most real world RSA private keys have the public exponent embedded within them. I mean, like with RSA, technically, all you need is the modulus and the private exponent but most real world RSA private keys include CRT components as well"}],"tags":[],"owner":{"account_id":276507,"reputation":16077,"user_id":569976,"accept_rate":68,"display_name":"neubert"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1659691773,"creation_date":1612330213,"answer_id":66021798,"question_id":49426844,"body_markdown":"The answer that was marked as being correct wastes a lot of CPU cycles. This answer is waaaay more CPU efficient:\r\n\r\n```\r\nKeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\nkeyGen.initialize(2048);\r\n\r\nKeyPair keyPair = keyGen.generateKeyPair();\r\nRSAPrivateCrtKey privateKey = (RSAPrivateCrtKey) keyPair.getPrivate();\r\nRSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\r\n\r\n// comment this out to verify the behavior when the keys are different\r\n//keyPair = keyGen.generateKeyPair();\r\n//publicKey = (RSAPublicKey) keyPair.getPublic();\r\n\r\nboolean keyPairMatches = privateKey.getModulus().equals(publicKey.getModulus()) &amp;&amp;\r\n\tprivateKey.getPublicExponent().equals(publicKey.getPublicExponent());\r\n```\r\n(the other answer signs a message with the private key and then verifies it with the public key whereas my answer checks to see if the modulus and public exponent are the same)","title":"How to validate a public and private key pair in Java","body":"<p>The answer that was marked as being correct wastes a lot of CPU cycles. This answer is waaaay more CPU efficient:</p>\n<pre><code>KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;);\nkeyGen.initialize(2048);\n\nKeyPair keyPair = keyGen.generateKeyPair();\nRSAPrivateCrtKey privateKey = (RSAPrivateCrtKey) keyPair.getPrivate();\nRSAPublicKey publicKey = (RSAPublicKey) keyPair.getPublic();\n\n// comment this out to verify the behavior when the keys are different\n//keyPair = keyGen.generateKeyPair();\n//publicKey = (RSAPublicKey) keyPair.getPublic();\n\nboolean keyPairMatches = privateKey.getModulus().equals(publicKey.getModulus()) &amp;&amp;\n    privateKey.getPublicExponent().equals(publicKey.getPublicExponent());\n</code></pre>\n<p>(the other answer signs a message with the private key and then verifies it with the public key whereas my answer checks to see if the modulus and public exponent are the same)</p>\n"},{"tags":[],"owner":{"account_id":26815284,"reputation":1,"user_id":20405322,"display_name":"cyberhorse"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667984915,"creation_date":1667462476,"answer_id":74299733,"question_id":49426844,"body_markdown":"`boolean keyPairMatches = privateKey.getModulus().equals(publicKey.getModulus()) &amp;&amp;\r\n    privateKey.getPublicExponent().equals(publicKey.getPublicExponent()); `\r\n\r\n\r\n`java.security.interfaces.RSAPrivateKey` doesn&#39;t have getPublicExponent() method.\r\n\r\n`org.bouncycastle.asn1.pkcs.RSAPrivateKey` has getPublicExponent() method.\r\n\r\nSo,if you don&#39;t want to use `bouncycastle`, you have to use the `sign&amp;verify` answer.","title":"How to validate a public and private key pair in Java","body":"<p><code>boolean keyPairMatches = privateKey.getModulus().equals(publicKey.getModulus()) &amp;&amp; privateKey.getPublicExponent().equals(publicKey.getPublicExponent()); </code></p>\n<p><code>java.security.interfaces.RSAPrivateKey</code> doesn't have getPublicExponent() method.</p>\n<p><code>org.bouncycastle.asn1.pkcs.RSAPrivateKey</code> has getPublicExponent() method.</p>\n<p>So,if you don't want to use <code>bouncycastle</code>, you have to use the <code>sign&amp;verify</code> answer.</p>\n"}],"owner":{"account_id":11628650,"reputation":463,"user_id":9184839,"accept_rate":77,"display_name":"Aravind S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14195,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":49427242,"answer_count":3,"score":9,"last_activity_date":1667984915,"creation_date":1521716136,"question_id":49426844,"body_markdown":"Is there a way to validate in java if the given private key, say certain *.key file matches with the certain public key, to a certain .pub file using RSA algorithm?\r\n","title":"How to validate a public and private key pair in Java","body":"<p>Is there a way to validate in java if the given private key, say certain *.key file matches with the certain public key, to a certain .pub file using RSA algorithm?</p>\n"},{"tags":["java","serialization","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":21886042,"reputation":1703,"user_id":16173669,"display_name":"Martijn Visser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667984665,"creation_date":1667918785,"answer_id":74362641,"question_id":74354339,"body_markdown":"I believe this can be resolved with what https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/table/types/ calls to use a `@DataTypeHint` annotation\r\n\r\n&gt; Data type hints can parameterize or replace the default extraction logic of individual function parameters and return types, structured classes, or fields of structured classes. An implementer can choose to what extent the default extraction logic should be modified by declaring a` @DataTypeHint` annotation.\r\n&gt;\r\n&gt; The `@DataTypeHint` annotation provides a set of optional hint parameters. Some of those parameters are shown in the following example. More information can be found in the documentation of the annotation class.","title":"Is there a way to &quot;legally&quot; eliminate TypeExtractor warnings in flink?","body":"<p>I believe this can be resolved with what <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/table/types/\" rel=\"nofollow noreferrer\">https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/table/types/</a> calls to use a <code>@DataTypeHint</code> annotation</p>\n<blockquote>\n<p>Data type hints can parameterize or replace the default extraction logic of individual function parameters and return types, structured classes, or fields of structured classes. An implementer can choose to what extent the default extraction logic should be modified by declaring a<code> @DataTypeHint</code> annotation.</p>\n<p>The <code>@DataTypeHint</code> annotation provides a set of optional hint parameters. Some of those parameters are shown in the following example. More information can be found in the documentation of the annotation class.</p>\n</blockquote>\n"}],"owner":{"account_id":2695321,"reputation":629,"user_id":2327550,"accept_rate":82,"display_name":"Yar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667984665,"creation_date":1667865742,"question_id":74354339,"body_markdown":"I changed my durations in profiling data I drag around all the flink data pipeline (*we are using flink 1.13*) from `Long` representation to `java.time.Duration`. Now my test output is littered with A LOT of \r\n\r\n```\r\n2022-11-07T23:34:46,247 INFO  TypeExtractor - class java.time.Duration does not contain a setter for field seconds\r\n2022-11-07T23:34:46,247 INFO  TypeExtractor - Class class java.time.Duration cannot be used as a POJO type because not all fields are valid POJO fields, and must be processed as GenericType. Please read the Flink documentation on &quot;Data Types &amp; Serialization&quot; for details of the effect on performance.\r\n```\r\nand a few similar warnings about `com.google.protobuf.ByteString`. \r\nGoogle turned up few results on this, one of which suggested registering the non-POJO types as Kryo, so I tried `env.getConfig.registerKryoType(classOf[Duration])` but it didn&#39;t help. \r\n\r\nI understand these `TypeExtractor` messages are trying to warn me about a potential performance hit, but I am not worried unless I understand how big it is, what I&#39;m worried about is they are so plentiful it is hard to scroll up or down to meaningful logs, so I am tempted to just disable them in logger config.\r\n\r\nIs there a way to *solve* them? ","title":"Is there a way to &quot;legally&quot; eliminate TypeExtractor warnings in flink?","body":"<p>I changed my durations in profiling data I drag around all the flink data pipeline (<em>we are using flink 1.13</em>) from <code>Long</code> representation to <code>java.time.Duration</code>. Now my test output is littered with A LOT of</p>\n<pre><code>2022-11-07T23:34:46,247 INFO  TypeExtractor - class java.time.Duration does not contain a setter for field seconds\n2022-11-07T23:34:46,247 INFO  TypeExtractor - Class class java.time.Duration cannot be used as a POJO type because not all fields are valid POJO fields, and must be processed as GenericType. Please read the Flink documentation on &quot;Data Types &amp; Serialization&quot; for details of the effect on performance.\n</code></pre>\n<p>and a few similar warnings about <code>com.google.protobuf.ByteString</code>.\nGoogle turned up few results on this, one of which suggested registering the non-POJO types as Kryo, so I tried <code>env.getConfig.registerKryoType(classOf[Duration])</code> but it didn't help.</p>\n<p>I understand these <code>TypeExtractor</code> messages are trying to warn me about a potential performance hit, but I am not worried unless I understand how big it is, what I'm worried about is they are so plentiful it is hard to scroll up or down to meaningful logs, so I am tempted to just disable them in logger config.</p>\n<p>Is there a way to <em>solve</em> them?</p>\n"},{"tags":["java","dart","byte","24-bit"],"comments":[{"owner":{"account_id":60124,"reputation":83599,"user_id":179715,"accept_rate":80,"display_name":"jamesdlin"},"score":0,"creation_date":1668009630,"post_id":74372147,"comment_id":131305081,"body_markdown":"The [`int.toSigned`](https://api.dart.dev/stable/dart-core/int/toSigned.html) method might be useful to you.","body":"The <a href=\"https://api.dart.dev/stable/dart-core/int/toSigned.html\" rel=\"nofollow noreferrer\"><code>int.toSigned</code></a> method might be useful to you."}],"answers":[{"tags":[],"owner":{"account_id":16554897,"reputation":307,"user_id":11962301,"display_name":"LacticWhale"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667984396,"creation_date":1667984396,"answer_id":74372234,"question_id":74372147,"body_markdown":"There is ```Int8List``` type in ```dart:typed_data```.\r\n\r\nAnd by accessing ```Int8List::buffer``` you can read any number you want. \r\n","title":"Read a signed integer of 24 bit on Dart","body":"<p>There is <code>Int8List</code> type in <code>dart:typed_data</code>.</p>\n<p>And by accessing <code>Int8List::buffer</code> you can read any number you want.</p>\n"}],"owner":{"account_id":19294873,"reputation":119,"user_id":14104023,"display_name":"SciFi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667984396,"creation_date":1667983965,"question_id":74372147,"body_markdown":"I need help to read data from an external device. In the specifications is written that every single fetched value is a 24bit signed integer, but I can&#39;t correctly read data from Dart (while I can on Java).\r\n\r\nStarting from Java (just because it works), I fetch the data as a byte array, then reading a byte give me the correct value:\r\n\r\n```java\r\n byte[] data  = call.argument(&quot;mydata&quot;);\r\n Log.d(&quot;CONVERT_DATA_datai&quot;, String.valueOf(data[4]));\r\n```\r\n\r\nIn this case, the output is `-1` and it&#39;s correct.\r\n\r\nIn Dart i&#39;ve seen that there isn&#39;t a byte array type but I should use a `List&lt;int&gt;` instead, so my code is:\r\n\r\n```dart\r\n List&lt;int&gt; data = value as List&lt;int&gt;;\r\n print(data[4].toString());\r\n```\r\n\r\nIn this case I get the value `255` which is incorrect, I think because I&#39;ve to convert it to signed 24bit integer.\r\n\r\nOther samples are:\r\n\r\n`-6` in java, `250` in dart (incorrect)\r\n\r\n`3` in java, `3` in dart (correct)\r\n\r\nHow can i solve this problem?\r\n\r\nThanks in advance.\r\n","title":"Read a signed integer of 24 bit on Dart","body":"<p>I need help to read data from an external device. In the specifications is written that every single fetched value is a 24bit signed integer, but I can't correctly read data from Dart (while I can on Java).</p>\n<p>Starting from Java (just because it works), I fetch the data as a byte array, then reading a byte give me the correct value:</p>\n<pre class=\"lang-java prettyprint-override\"><code> byte[] data  = call.argument(&quot;mydata&quot;);\n Log.d(&quot;CONVERT_DATA_datai&quot;, String.valueOf(data[4]));\n</code></pre>\n<p>In this case, the output is <code>-1</code> and it's correct.</p>\n<p>In Dart i've seen that there isn't a byte array type but I should use a <code>List&lt;int&gt;</code> instead, so my code is:</p>\n<pre class=\"lang-dart prettyprint-override\"><code> List&lt;int&gt; data = value as List&lt;int&gt;;\n print(data[4].toString());\n</code></pre>\n<p>In this case I get the value <code>255</code> which is incorrect, I think because I've to convert it to signed 24bit integer.</p>\n<p>Other samples are:</p>\n<p><code>-6</code> in java, <code>250</code> in dart (incorrect)</p>\n<p><code>3</code> in java, <code>3</code> in dart (correct)</p>\n<p>How can i solve this problem?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","maven","pdf","pdfbox","pdfcompare"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1667900871,"post_id":74356729,"comment_id":131272402,"body_markdown":"There&#39;s some code for this in TestPDFToImage.java in the source code download. This renders two PDFs and compares the rendering output and produces visual diff files. But this isn&#39;t very elegant to look at.","body":"There&#39;s some code for this in TestPDFToImage.java in the source code download. This renders two PDFs and compares the rendering output and produces visual diff files. But this isn&#39;t very elegant to look at."},{"owner":{"account_id":22041910,"reputation":11,"user_id":16307591,"display_name":"Aneek Biswas"},"score":0,"creation_date":1667903734,"post_id":74356729,"comment_id":131273490,"body_markdown":"Thanks for that - are you aware of any link to its repo or anything to which I can refer to?","body":"Thanks for that - are you aware of any link to its repo or anything to which I can refer to?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1667907098,"post_id":74356729,"comment_id":131274643,"body_markdown":"It&#39;s here: https://svn.apache.org/viewvc/pdfbox/branches/2.0/pdfbox/src/test/java/org/apache/pdfbox/rendering/TestPDFToImage.java?view=markup The source code in full is here (you don&#39;t really need the repo but you can get it at http://svn.apache.org/repos/asf/pdfbox/branches/2.0/ ) https://pdfbox.apache.org/download.html","body":"It&#39;s here: <a href=\"https://svn.apache.org/viewvc/pdfbox/branches/2.0/pdfbox/src/test/java/org/apache/pdfbox/rendering/TestPDFToImage.java?view=markup\" rel=\"nofollow noreferrer\">svn.apache.org/viewvc/pdfbox/branches/2.0/pdfbox/src/test/ja&zwnj;&#8203;va/&hellip;</a> The source code in full is here (you don&#39;t really need the repo but you can get it at <a href=\"http://svn.apache.org/repos/asf/pdfbox/branches/2.0/\" rel=\"nofollow noreferrer\">svn.apache.org/repos/asf/pdfbox/branches/2.0</a> ) <a href=\"https://pdfbox.apache.org/download.html\" rel=\"nofollow noreferrer\">pdfbox.apache.org/download.html</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1667907317,"post_id":74356729,"comment_id":131274724,"body_markdown":"Note that it isn&#39;t part of the build tests, you have to explicitly start it. This is because renderings slightly differ in different OS / different jdk versions. So it&#39;s only used by individual developers on their own machine. This is &quot;developer code&quot; i.e. not ready to use as an application, but you can modify that code to make something for yourself (if you think the output is useful).","body":"Note that it isn&#39;t part of the build tests, you have to explicitly start it. This is because renderings slightly differ in different OS / different jdk versions. So it&#39;s only used by individual developers on their own machine. This is &quot;developer code&quot; i.e. not ready to use as an application, but you can modify that code to make something for yourself (if you think the output is useful)."},{"owner":{"account_id":22041910,"reputation":11,"user_id":16307591,"display_name":"Aneek Biswas"},"score":0,"creation_date":1667916694,"post_id":74356729,"comment_id":131278407,"body_markdown":"Sure, thanks! I&#39;ll give it a try and let you know.","body":"Sure, thanks! I&#39;ll give it a try and let you know."}],"answers":[{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667984250,"creation_date":1667984250,"answer_id":74372204,"question_id":74356729,"body_markdown":"We are using [pdfcompare][1] for this. It is based on pdfbox but can do exactly this...\r\n\r\n\r\n  [1]: https://github.com/red6/pdfcompare","title":"Compare two PDFs side by side and highlighting the differences in them, separately in Java","body":"<p>We are using <a href=\"https://github.com/red6/pdfcompare\" rel=\"nofollow noreferrer\">pdfcompare</a> for this. It is based on pdfbox but can do exactly this...</p>\n"}],"owner":{"account_id":22041910,"reputation":11,"user_id":16307591,"display_name":"Aneek Biswas"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667984250,"creation_date":1667890634,"question_id":74356729,"body_markdown":"I am currently trying to compare two PDFs with minor differences in Java, and storing the result in an output PDF. Generally whichever solution available out there merges the two PDFs into one, and highlights the differences then and there, which is not the business requirement. \r\nFor this purpose, I am looking for some open source solution or any form of suggestion to this, where the differences of the two PDFs are highlighted, and stored in an output PDF with the two PDFs retained and the differences are highlighted in them separately. \r\n\r\nI have tried compare functionality of PDFBox, but the issue I found there with respect to my requirement is that, it is merging the two PDFs into one, and the differences are highlighted in that single PDF, which appears kind of messy. \r\n\r\nAspose&#39;s solution seemed impressive although it again returns in a single PDF file but is more structured - but my organisation doesn&#39;t allow access to their API due to security reasons.\r\n","title":"Compare two PDFs side by side and highlighting the differences in them, separately in Java","body":"<p>I am currently trying to compare two PDFs with minor differences in Java, and storing the result in an output PDF. Generally whichever solution available out there merges the two PDFs into one, and highlights the differences then and there, which is not the business requirement.\nFor this purpose, I am looking for some open source solution or any form of suggestion to this, where the differences of the two PDFs are highlighted, and stored in an output PDF with the two PDFs retained and the differences are highlighted in them separately.</p>\n<p>I have tried compare functionality of PDFBox, but the issue I found there with respect to my requirement is that, it is merging the two PDFs into one, and the differences are highlighted in that single PDF, which appears kind of messy.</p>\n<p>Aspose's solution seemed impressive although it again returns in a single PDF file but is more structured - but my organisation doesn't allow access to their API due to security reasons.</p>\n"},{"tags":["java","localdate","localdatetime"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1667979736,"post_id":74371346,"comment_id":131294261,"body_markdown":"When the time is converted to json it&#39;s probably not `toString()` that&#39;s called albeit I&#39;d have to guess here. More likely an explicit formatter will be used that has less than nano-second precision.","body":"When the time is converted to json it&#39;s probably not <code>toString()</code> that&#39;s called albeit I&#39;d have to guess here. More likely an explicit formatter will be used that has less than nano-second precision."},{"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"score":0,"creation_date":1667979965,"post_id":74371346,"comment_id":131294309,"body_markdown":"How can I modify test case without changing JSON and JPA core implementation of the application","body":"How can I modify test case without changing JSON and JPA core implementation of the application"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1667980206,"post_id":74371346,"comment_id":131294387,"body_markdown":"Well, I would try one of the following: 1) figure out the exact format used when creating the json and use that format on `anyLinkTime.format(DateTimeFormatter.ofPattern(theFormat))` 2) parse `_embedded.positionsSnapshotDToes.linkTime` to a proper `LocalDateTime` instance and compare with `anyLinkTime` directly.","body":"Well, I would try one of the following: 1) figure out the exact format used when creating the json and use that format on <code>anyLinkTime.format(DateTimeFormatter.ofPattern(theFormat))</code> 2) parse <code>_embedded.positionsSnapshotDToes.linkTime</code> to a proper <code>LocalDateTime</code> instance and compare with <code>anyLinkTime</code> directly."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667980267,"post_id":74371346,"comment_id":131294399,"body_markdown":"You should avoid comparing the string representation of LocalDateTime, because actually both strings address the same time. Convert time string from JSON into another LocalDateTime instance and use .equals oder .compareTo","body":"You should avoid comparing the string representation of LocalDateTime, because actually both strings address the same time. Convert time string from JSON into another LocalDateTime instance and use .equals oder .compareTo"},{"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"score":0,"creation_date":1667980791,"post_id":74371346,"comment_id":131294543,"body_markdown":"but how is it possible without using String, body() contains only String value","body":"but how is it possible without using String, body() contains only String value"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667982070,"post_id":74371346,"comment_id":131294909,"body_markdown":"Are you trying to compare a value in hand to a value retrieved from database?","body":"Are you trying to compare a value in hand to a value retrieved from database?"}],"answers":[{"comments":[{"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"score":0,"creation_date":1667981281,"post_id":74371521,"comment_id":131294690,"body_markdown":"I&#39;ve already tested it, having same error, java.lang.AssertionError: 1 expectation failed.\nJSON path _embedded.positionsSnapshotDToes.linkTime doesn&#39;t match.\nExpected: &lt;[2022-11-09T11:06:23.986806700]&gt;\n  Actual: [2022-11-09T11:06:23.986807], most probably toString() is invoked internally","body":"I&#39;ve already tested it, having same error, java.lang.AssertionError: 1 expectation failed. JSON path _embedded.positionsSnapshotDToes.linkTime doesn&#39;t match. Expected: &lt;[2022-11-09T11:06:23.986806700]&gt;   Actual: [2022-11-09T11:06:23.986807], most probably toString() is invoked internally"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667985487,"post_id":74371521,"comment_id":131296075,"body_markdown":"those are different  dates, you need to make your test mode tolerant, e.g. by applying LocalDateTime.truncateTo","body":"those are different  dates, you need to make your test mode tolerant, e.g. by applying LocalDateTime.truncateTo"}],"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667980514,"creation_date":1667980514,"answer_id":74371521,"question_id":74371346,"body_markdown":"Use:\r\n\r\n```java\r\n\r\n// ...\r\n\r\n.statusCode(200)\r\n.log().ifValidationFails()\r\n.and().body(LocalDateTime.parse(_embedded.positionsSnapshotDToes.linkTime), equalTo(Arrays.asList(anyLinkTime)))\r\n\r\n//...\r\n\r\n```\r\n","title":"LocalDateTime Integration Testing","body":"<p>Use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n// ...\n\n.statusCode(200)\n.log().ifValidationFails()\n.and().body(LocalDateTime.parse(_embedded.positionsSnapshotDToes.linkTime), equalTo(Arrays.asList(anyLinkTime)))\n\n//...\n\n</code></pre>\n"}],"owner":{"account_id":1360112,"reputation":9949,"user_id":1297641,"accept_rate":76,"display_name":"Ahmet Karakaya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667983926,"creation_date":1667979433,"question_id":74371346,"body_markdown":"I am having assertion Error\r\n\r\nWhy the lenght of `second` is different in `toString()` and `DB Stored Value`\r\n\r\n    java.lang.AssertionError: 1 expectation failed.\r\n    JSON path _embedded.positionsSnapshotDToes.linkTime doesn&#39;t match.\r\n    Expected: &lt;[2022-11-09T10:01:03.152146400]&gt;\r\n      Actual: [2022-11-09T10:01:03.152146]\r\n\r\nUsing JPA to store entities basically I have following Pojo \r\n\r\n   \r\n\r\n    @Column(name = &quot;LINK_TIME&quot;)\r\n        private LocalDateTime linkTime;\r\n\r\n**Here is the test code**\r\n\r\n    @Test\r\n    shouldPassLinkTime()\r\n    {\r\n    \r\n            final LocalDateTime anyLinkTime = LocalDateTime.now();\r\n    \r\n            posSnapshotRepo.save(\r\n                    PositionsSnapshot.builder()\r\n                            .linkTime(anyLinkTime)\r\n                            .build()\r\n            );\r\n    \r\n           SnapshotFilterDTO dto = SnapshotFilterDTO.builder()\r\n                    .build();\r\n    \r\n            given()\r\n                    .spec(correctCredentialsAndPortSpec)\r\n                    .log().ifValidationFails()\r\n                    .contentType(&quot;application/json&quot;)\r\n                    .body(MAPPER_HELPER.writeValueAsString(dto))\r\n                    .when()\r\n                    .post(&quot;service/unmatched&quot;)\r\n                    .then()\r\n                    .statusCode(200)\r\n                    .log().ifValidationFails()\r\n                    .and().body(&quot;_embedded.positionsSnapshotDToes.linkTime&quot;, equalTo(Arrays.asList(anyLinkTime.toString())))\r\n    \r\n    \r\n                    .and().body(&quot;page.totalPages&quot;, equalTo(1))\r\n                    .and().body(&quot;page.totalElements&quot;, equalTo(1))\r\n                    .and().body(&quot;page.number&quot;, equalTo(0));\r\n        }","title":"LocalDateTime Integration Testing","body":"<p>I am having assertion Error</p>\n<p>Why the lenght of <code>second</code> is different in <code>toString()</code> and <code>DB Stored Value</code></p>\n<pre><code>java.lang.AssertionError: 1 expectation failed.\nJSON path _embedded.positionsSnapshotDToes.linkTime doesn't match.\nExpected: &lt;[2022-11-09T10:01:03.152146400]&gt;\n  Actual: [2022-11-09T10:01:03.152146]\n</code></pre>\n<p>Using JPA to store entities basically I have following Pojo</p>\n<pre><code>@Column(name = &quot;LINK_TIME&quot;)\n    private LocalDateTime linkTime;\n</code></pre>\n<p><strong>Here is the test code</strong></p>\n<pre><code>@Test\nshouldPassLinkTime()\n{\n\n        final LocalDateTime anyLinkTime = LocalDateTime.now();\n\n        posSnapshotRepo.save(\n                PositionsSnapshot.builder()\n                        .linkTime(anyLinkTime)\n                        .build()\n        );\n\n       SnapshotFilterDTO dto = SnapshotFilterDTO.builder()\n                .build();\n\n        given()\n                .spec(correctCredentialsAndPortSpec)\n                .log().ifValidationFails()\n                .contentType(&quot;application/json&quot;)\n                .body(MAPPER_HELPER.writeValueAsString(dto))\n                .when()\n                .post(&quot;service/unmatched&quot;)\n                .then()\n                .statusCode(200)\n                .log().ifValidationFails()\n                .and().body(&quot;_embedded.positionsSnapshotDToes.linkTime&quot;, equalTo(Arrays.asList(anyLinkTime.toString())))\n\n\n                .and().body(&quot;page.totalPages&quot;, equalTo(1))\n                .and().body(&quot;page.totalElements&quot;, equalTo(1))\n                .and().body(&quot;page.number&quot;, equalTo(0));\n    }\n</code></pre>\n"},{"tags":["java","jfreechart"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667983596,"creation_date":1667767682,"answer_id":74339640,"question_id":74334691,"body_markdown":"[`ChartFactory::createCandlestickChart`][1] uses a [`DateAxis`][2] [internally][3], which sees each data item&#39;s `Date` as the number of milliseconds since the epoch. As a result, you can\r\n\r\n- Specify the desired format in `setDateFormatOverride()` as shown [here][4], or\r\n\r\n- Use a `NumberAxis` in your own factory, perhaps modeled on the one [cited][3], or simply substitute a `NumberAxis`:\r\n\r\n        XYPlot xyplot = chart.getXYPlot();\r\n        NumberAxis domain = new NumberAxis();\r\n        domain.setAutoRangeIncludesZero(false);\r\n        domain.setNumberFormatOverride(NumberFormat.getInstance());\r\n        xyplot.setDomainAxis(domain);\r\n\r\n[![Axis image][5]][5]\r\n\r\n\r\n  [1]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/ChartFactory.html#createCandlestickChart(java.lang.String,java.lang.String,java.lang.String,org.jfree.data.xy.OHLCDataset,boolean)\r\n  [2]: https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/axis/DateAxis.html\r\n  [3]: https://www.jfree.org/jfreechart/javadoc/src-html/org/jfree/chart/ChartFactory.html#line.1861\r\n  [4]: https://stackoverflow.com/search?q=user%3A230513%20%5Bjfreechart%5D%20setDateFormatOverride\r\n  [5]: https://i.stack.imgur.com/9KkG4.png","title":"JFreeChart: Candlestick chart with different x-axis?","body":"<p><a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/ChartFactory.html#createCandlestickChart(java.lang.String,java.lang.String,java.lang.String,org.jfree.data.xy.OHLCDataset,boolean)\" rel=\"nofollow noreferrer\"><code>ChartFactory::createCandlestickChart</code></a> uses a <a href=\"https://www.jfree.org/jfreechart/javadoc/org/jfree/chart/axis/DateAxis.html\" rel=\"nofollow noreferrer\"><code>DateAxis</code></a> <a href=\"https://www.jfree.org/jfreechart/javadoc/src-html/org/jfree/chart/ChartFactory.html#line.1861\" rel=\"nofollow noreferrer\">internally</a>, which sees each data item's <code>Date</code> as the number of milliseconds since the epoch. As a result, you can</p>\n<ul>\n<li><p>Specify the desired format in <code>setDateFormatOverride()</code> as shown <a href=\"https://stackoverflow.com/search?q=user%3A230513%20%5Bjfreechart%5D%20setDateFormatOverride\">here</a>, or</p>\n</li>\n<li><p>Use a <code>NumberAxis</code> in your own factory, perhaps modeled on the one <a href=\"https://www.jfree.org/jfreechart/javadoc/src-html/org/jfree/chart/ChartFactory.html#line.1861\" rel=\"nofollow noreferrer\">cited</a>, or simply substitute a <code>NumberAxis</code>:</p>\n<pre><code>  XYPlot xyplot = chart.getXYPlot();\n  NumberAxis domain = new NumberAxis();\n  domain.setAutoRangeIncludesZero(false);\n  domain.setNumberFormatOverride(NumberFormat.getInstance());\n  xyplot.setDomainAxis(domain);\n</code></pre>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/9KkG4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9KkG4.png\" alt=\"Axis image\" /></a></p>\n"}],"owner":{"account_id":4617439,"reputation":488,"user_id":3743424,"accept_rate":9,"display_name":"cobby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74339640,"answer_count":1,"score":1,"last_activity_date":1667983596,"creation_date":1667727553,"question_id":74334691,"body_markdown":"Is it possible to draw a candlestick chart with the x-axis being of the type number/integer, instead of time? Currently i&#39;m using `ChartFactory#createCandlestickChart` which takes an OHLCDataset, which uses a timestamps for the x-axis.","title":"JFreeChart: Candlestick chart with different x-axis?","body":"<p>Is it possible to draw a candlestick chart with the x-axis being of the type number/integer, instead of time? Currently i'm using <code>ChartFactory#createCandlestickChart</code> which takes an OHLCDataset, which uses a timestamps for the x-axis.</p>\n"},{"tags":["java","selenium","selenium-webdriver","file-upload"],"answers":[{"comments":[{"owner":{"account_id":26874747,"reputation":1,"user_id":20456170,"display_name":"Suraj Jibhakate"},"score":0,"creation_date":1667984524,"post_id":74371393,"comment_id":131295696,"body_markdown":"Thanks @Tal Angel\n\n, but facing issue\n\nBelow is my modified code:\n\nWebElement browse = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;__next\\&quot;]/div[2]/div/main/div/div[1]/div[1]/label&quot;));\n\n\t\t browse.sendKeys(&quot;C:\\\\Users\\\\Lenovo\\\\Pictures\\\\Files\\\\nft.jpg&quot;); \n\nbrowse.click();","body":"Thanks @Tal Angel  , but facing issue  Below is my modified code:  WebElement browse = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;__next\\&quot;]/div[2]/div/&zwnj;&#8203;main/div/div[1]/div[&zwnj;&#8203;1]/label&quot;));  \t\t browse.sendKeys(&quot;C:\\\\Users\\\\Lenovo\\\\Pictures\\\\Files\\\\nft.jpg&zwnj;&#8203;&quot;);   browse.click();"}],"tags":[],"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667979818,"creation_date":1667979818,"answer_id":74371393,"question_id":74370533,"body_markdown":"No, you don&#39;t click on the upload file prompt, you are just sending it the file&#39;s path. Later, click on the send / upload file button.\r\n        \r\n \r\n \r\n \r\n \r\n\r\n    upload_file.sendKeys(&quot;C:\\\\Users\\\\Lenovo\\\\Pictures\\\\Files\\\\image.jpg&quot;);\r\n    upload_button = driver.findElement(By.Xpath, &#39;//*[text()=&quot;upload&quot;]&#39;);\r\n    upload_button.click();\r\n\r\n","title":"Unable to upload image using Upload button using Java and Selenium","body":"<p>No, you don't click on the upload file prompt, you are just sending it the file's path. Later, click on the send / upload file button.</p>\n<pre><code>upload_file.sendKeys(&quot;C:\\\\Users\\\\Lenovo\\\\Pictures\\\\Files\\\\image.jpg&quot;);\nupload_button = driver.findElement(By.Xpath, '//*[text()=&quot;upload&quot;]');\nupload_button.click();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26874747,"reputation":1,"user_id":20456170,"display_name":"Suraj Jibhakate"},"score":0,"creation_date":1667996549,"post_id":74372047,"comment_id":131299917,"body_markdown":"Hey Prophet, you really are a prophet.\n\nit worked out ... thanks","body":"Hey Prophet, you really are a prophet.  it worked out ... thanks"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1667996764,"post_id":74372047,"comment_id":131299994,"body_markdown":"No, I&#39;m not a real prophet. Also not a genius. Just somewhat experienced :)","body":"No, I&#39;m not a real prophet. Also not a genius. Just somewhat experienced :)"}],"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667983489,"creation_date":1667983489,"answer_id":74372047,"question_id":74370533,"body_markdown":"Uploading file by Selenium is normally done as following:   \r\nYou can send the uploading file full path to the special element on the web page. This is not the &quot;Upload&quot; visible button but a special element with `input` tag name and `type` attribute with `file` value. As a user you can&#39;t see it on the page but can find it with use of dev tools. So, this element can be located by the following XPath: `//input[@type=&#39;file&#39;]`.  \r\nSo, to upload your file try this:\r\n```java\r\ndriver.findElement(By.xpath(&quot;//input[@type=&#39;file&#39;]&quot;)).sendKeys(&quot;C:\\\\Users\\\\Lenovo\\\\Pictures\\\\Files\\\\image.jpg&quot;);\r\n```","title":"Unable to upload image using Upload button using Java and Selenium","body":"<p>Uploading file by Selenium is normally done as following:<br />\nYou can send the uploading file full path to the special element on the web page. This is not the &quot;Upload&quot; visible button but a special element with <code>input</code> tag name and <code>type</code> attribute with <code>file</code> value. As a user you can't see it on the page but can find it with use of dev tools. So, this element can be located by the following XPath: <code>//input[@type='file']</code>.<br />\nSo, to upload your file try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.findElement(By.xpath(&quot;//input[@type='file']&quot;)).sendKeys(&quot;C:\\\\Users\\\\Lenovo\\\\Pictures\\\\Files\\\\image.jpg&quot;);\n</code></pre>\n"}],"owner":{"account_id":26874747,"reputation":1,"user_id":20456170,"display_name":"Suraj Jibhakate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667983517,"creation_date":1667973875,"question_id":74370533,"body_markdown":"trying to upload a an image file using Java selenium    \r\n\r\nHi all, I am trying to upload a an image file using Java selenium\r\n    \r\nbelow is the code:   \r\nfirst approach:\r\n    \r\n    WebElement upload_file = driver.findElement(By.xpath(&quot;xpath of upload button&quot;));\r\n    upload_file .click();\r\n    // just passed a delay, it does not crate a problem I can remove it\r\n    java.lang.Thread.sleep(2000); \r\n    //full file path present in my local machine\r\n    \t\tuplaod_file.sendKeys(&quot;C:\\\\Users\\\\Lenovo\\\\Pictures\\\\Files\\\\image.jpg&quot;);\r\n    \t\tSystem.out.println(&quot;File is Uploaded Successfully&quot;);\r\n    \r\nIssue observed :org.openqa.selenium.ElementNotInteractableException: element not interactable\r\n    \r\n\r\n\r\nSecond approach:\r\n                     \r\n    \t\tBy upload_file_button = By.xpath(&quot;xpath of upload button&quot;);\r\n    \t\texplicit_wait.until(ExpectedConditions.elementToBeClickable(upload_file_button));\r\n    \t\tdriver.findElement(upload_file_button).click();\r\n    \t\tjava.lang.Thread.sleep(2000);\r\n    \t\t((WebElement) upload_file_button).sendKeys(&quot;C:\\\\Users\\\\Lenovo\\\\Pictures\\\\Files\\\\image.jpg&quot;);\r\n    \t\tSystem.out.println(&quot;File is Uploaded Successfully&quot;);\r\n    \r\nIssue observed : org.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: xpath of upload button (tried for 20 second(s) with 500 milliseconds interval)\r\n    \r\nneed help for same, please do correct me If I am wrong.","title":"Unable to upload image using Upload button using Java and Selenium","body":"<p>trying to upload a an image file using Java selenium</p>\n<p>Hi all, I am trying to upload a an image file using Java selenium</p>\n<p>below is the code:<br />\nfirst approach:</p>\n<pre><code>WebElement upload_file = driver.findElement(By.xpath(&quot;xpath of upload button&quot;));\nupload_file .click();\n// just passed a delay, it does not crate a problem I can remove it\njava.lang.Thread.sleep(2000); \n//full file path present in my local machine\n        uplaod_file.sendKeys(&quot;C:\\\\Users\\\\Lenovo\\\\Pictures\\\\Files\\\\image.jpg&quot;);\n        System.out.println(&quot;File is Uploaded Successfully&quot;);\n</code></pre>\n<p>Issue observed :org.openqa.selenium.ElementNotInteractableException: element not interactable</p>\n<p>Second approach:</p>\n<pre><code>        By upload_file_button = By.xpath(&quot;xpath of upload button&quot;);\n        explicit_wait.until(ExpectedConditions.elementToBeClickable(upload_file_button));\n        driver.findElement(upload_file_button).click();\n        java.lang.Thread.sleep(2000);\n        ((WebElement) upload_file_button).sendKeys(&quot;C:\\\\Users\\\\Lenovo\\\\Pictures\\\\Files\\\\image.jpg&quot;);\n        System.out.println(&quot;File is Uploaded Successfully&quot;);\n</code></pre>\n<p>Issue observed : org.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: xpath of upload button (tried for 20 second(s) with 500 milliseconds interval)</p>\n<p>need help for same, please do correct me If I am wrong.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":26874690,"reputation":1,"user_id":20456111,"display_name":"Wranderous"},"score":0,"creation_date":1667971877,"post_id":74370294,"comment_id":131292667,"body_markdown":"Yep! That&#39;s exactly what I needed! \n\nI didn&#39;t realize you needed to specify p1S again before the second comparison. \n\nVery much appreciated!","body":"Yep! That&#39;s exactly what I needed!   I didn&#39;t realize you needed to specify p1S again before the second comparison.   Very much appreciated!"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667986273,"post_id":74370294,"comment_id":131296351,"body_markdown":"Could also do (just for demonstration purpose): `if(p1 &gt; Math.max(p2,p3))`","body":"Could also do (just for demonstration purpose): <code>if(p1 &gt; Math.max(p2,p3))</code>"}],"tags":[],"owner":{"account_id":124787,"reputation":9383,"user_id":320111,"display_name":"Stephan Branczyk"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667971714,"creation_date":1667971714,"answer_id":74370294,"question_id":74370269,"body_markdown":"Is this what you want?\r\n\r\n    if(p1S &gt; p2S &amp;&amp; p1S &gt; p3S)\r\n    \r\n    }\r\n\r\nThe reason the previous code didn&#39;t work is that the first part\r\n\r\n    if(p1S &gt; p2S &amp;&amp; p3S)\r\n    \r\n    }\r\n\r\nevaluates to:\r\n\r\n    if(boolean &amp;&amp; p3S)\r\n    \r\n    }\r\n\r\nAnd you can&#39;t do an &amp;&amp; between a boolean and an int.","title":"If statements with 3+ variable comparisons using &amp;&amp; or alternate options","body":"<p>Is this what you want?</p>\n<pre><code>if(p1S &gt; p2S &amp;&amp; p1S &gt; p3S)\n\n}\n</code></pre>\n<p>The reason the previous code didn't work is that the first part</p>\n<pre><code>if(p1S &gt; p2S &amp;&amp; p3S)\n\n}\n</code></pre>\n<p>evaluates to:</p>\n<pre><code>if(boolean &amp;&amp; p3S)\n\n}\n</code></pre>\n<p>And you can't do an &amp;&amp; between a boolean and an int.</p>\n"}],"owner":{"account_id":26874690,"reputation":1,"user_id":20456111,"display_name":"Wranderous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74370294,"answer_count":1,"score":-1,"last_activity_date":1667983439,"creation_date":1667971464,"question_id":74370269,"body_markdown":"I&#39;m attempting the below:\r\n\r\n```\r\nif(p1S &gt; p2S &amp;&amp; p3S)\r\n\r\n}\r\n```\r\n\r\nBut the IDE doesn&#39;t like the &amp;&amp; here. \r\n\r\nSo, how would I compare these 3 ints to find the one with the highest value, thus moving forward. \r\n\r\nAka: If Int 1 is greater than int 2, and int 3, then do this. . .\r\n\r\nI suspect I just don&#39;t know the syntax well enough just yet (I&#39;ve only just started college for CS).","title":"If statements with 3+ variable comparisons using &amp;&amp; or alternate options","body":"<p>I'm attempting the below:</p>\n<pre><code>if(p1S &gt; p2S &amp;&amp; p3S)\n\n}\n</code></pre>\n<p>But the IDE doesn't like the &amp;&amp; here.</p>\n<p>So, how would I compare these 3 ints to find the one with the highest value, thus moving forward.</p>\n<p>Aka: If Int 1 is greater than int 2, and int 3, then do this. . .</p>\n<p>I suspect I just don't know the syntax well enough just yet (I've only just started college for CS).</p>\n"},{"tags":["java","spring","autowired"],"comments":[{"owner":{"account_id":153994,"reputation":1136,"user_id":3062879,"display_name":"Steve Sowerby"},"score":1,"creation_date":1388825410,"post_id":20918825,"comment_id":31406220,"body_markdown":"Have you actually just tried this?  It should work in Spring 2.5 and beyond.  The key will be the bean name.","body":"Have you actually just tried this?  It should work in Spring 2.5 and beyond.  The key will be the bean name."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1388842459,"post_id":20918825,"comment_id":31411281,"body_markdown":"No, you can&#39;t inject them into a Map where the key is the return value of a method call on a bean.","body":"No, you can&#39;t inject them into a Map where the key is the return value of a method call on a bean."},{"owner":{"account_id":185123,"reputation":8396,"user_id":421642,"accept_rate":77,"display_name":"OhadR"},"score":0,"creation_date":1458571865,"post_id":20918825,"comment_id":59907026,"body_markdown":"Possible duplicate of [Spring can&#39;t autowire Map bean](http://stackoverflow.com/questions/13913752/spring-cant-autowire-map-bean)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/13913752/spring-cant-autowire-map-bean\">Spring can&#39;t autowire Map bean</a>"}],"answers":[{"comments":[{"owner":{"account_id":153994,"reputation":1136,"user_id":3062879,"display_name":"Steve Sowerby"},"score":0,"creation_date":1388825754,"post_id":20918905,"comment_id":31406308,"body_markdown":"But this is not an attempt to inject a map that&#39;s registered as a bean.  Autowired does support injecting all implementations which is what the question asked.  See the docs: http://docs.spring.io/spring/docs/2.5.x/reference/beans.html#beans-autowired-annotation","body":"But this is not an attempt to inject a map that&#39;s registered as a bean.  Autowired does support injecting all implementations which is what the question asked.  See the docs: <a href=\"http://docs.spring.io/spring/docs/2.5.x/reference/beans.html#beans-autowired-annotation\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/2.5.x/reference/&hellip;</a>"},{"owner":{"account_id":4421662,"reputation":582,"user_id":3601406,"accept_rate":61,"display_name":"abi_pat"},"score":1,"creation_date":1521623294,"post_id":20918905,"comment_id":85805364,"body_markdown":"I have a situation. I dont want to do this from xml beans. I want to do this by annotations. Again, I cant do any hardcoding. Any suggestions?","body":"I have a situation. I dont want to do this from xml beans. I want to do this by annotations. Again, I cant do any hardcoding. Any suggestions?"},{"owner":{"account_id":3015538,"reputation":4229,"user_id":2557818,"accept_rate":82,"display_name":"Raja Anbazhagan"},"score":0,"creation_date":1636184158,"post_id":20918905,"comment_id":123493120,"body_markdown":"Autwire them as lists and then loop through that list to create a map. If you could define the logic as a @Bean method, then you can get away with returning the map as a bean.","body":"Autwire them as lists and then loop through that list to create a map. If you could define the logic as a @Bean method, then you can get away with returning the map as a bean."}],"tags":[],"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"comment_count":3,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1388828932,"creation_date":1388825533,"answer_id":20918905,"question_id":20918825,"body_markdown":"Try with something like [@Resource](http://docs.oracle.com/javaee/6/api/javax/annotation/Resource.html) - I have not tested this code.\r\n\r\n    @Resource(name=&quot;converters&quot;)\r\n    private Map&lt;String, ISendableConverter&gt; converters;\r\n\r\nor\r\n\r\n    @Value(&quot;#{converters}&quot;)\r\n    private Map&lt;String, ISendableConverter&gt; converters;\r\n\r\nFrom [Spring Docs](http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-autowired-annotation-qualifiers)\r\n\r\n&gt;&gt; (..) beans that are themselves defined as a collection or map type cannot be injected through @Autowired, because type matching is not properly applicable to them. Use [@Resource](http://docs.oracle.com/javaee/6/api/javax/annotation/Resource.html) for such beans, referring to the specific collection or map bean by unique name.\r\n\r\nThis should work, only if you prepare `converters` bean like this:\r\n\r\n    &lt;util:map id=&quot;converters&quot; scope=&quot;prototype&quot; map-class=&quot;java.util.HashMap&quot; \r\n              key-type=&quot;java.lang.String&quot; value-type=&quot;...ISendableConverter&quot;&gt;\r\n        &lt;entry key=&quot;VOICE&quot; value=&quot;sendableVoiceMsgConverter&quot; /&gt;\r\n    &lt;/util:map&gt;\r\n\r\nThis is also similar question: \r\n\r\n * https://stackoverflow.com/questions/1363310/auto-wiring-a-list-using-util-schema-gives-nosuchbeandefinitionexception\r\n * https://stackoverflow.com/questions/13913752/spring-cant-autowire-map-bean","title":"Can spring @Autowired Map?","body":"<p>Try with something like <a href=\"http://docs.oracle.com/javaee/6/api/javax/annotation/Resource.html\" rel=\"noreferrer\">@Resource</a> - I have not tested this code.</p>\n\n<pre><code>@Resource(name=\"converters\")\nprivate Map&lt;String, ISendableConverter&gt; converters;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@Value(\"#{converters}\")\nprivate Map&lt;String, ISendableConverter&gt; converters;\n</code></pre>\n\n<p>From <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-autowired-annotation-qualifiers\" rel=\"noreferrer\">Spring Docs</a></p>\n\n<blockquote>\n  <blockquote>\n    <p>(..) beans that are themselves defined as a collection or map type cannot be injected through @Autowired, because type matching is not properly applicable to them. Use <a href=\"http://docs.oracle.com/javaee/6/api/javax/annotation/Resource.html\" rel=\"noreferrer\">@Resource</a> for such beans, referring to the specific collection or map bean by unique name.</p>\n  </blockquote>\n</blockquote>\n\n<p>This should work, only if you prepare <code>converters</code> bean like this:</p>\n\n<pre><code>&lt;util:map id=\"converters\" scope=\"prototype\" map-class=\"java.util.HashMap\" \n          key-type=\"java.lang.String\" value-type=\"...ISendableConverter\"&gt;\n    &lt;entry key=\"VOICE\" value=\"sendableVoiceMsgConverter\" /&gt;\n&lt;/util:map&gt;\n</code></pre>\n\n<p>This is also similar question: </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1363310/auto-wiring-a-list-using-util-schema-gives-nosuchbeandefinitionexception\">Auto-wiring a List using util schema gives NoSuchBeanDefinitionException</a></li>\n<li><a href=\"https://stackoverflow.com/questions/13913752/spring-cant-autowire-map-bean\">Spring can&#39;t autowire Map bean</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":339128,"reputation":11063,"user_id":668417,"accept_rate":55,"display_name":"Ondrej Bozek"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1606232551,"creation_date":1437646505,"answer_id":31584390,"question_id":20918825,"body_markdown":"You can create an automatically initialized map with keys of your choice using Spring Java configuration:\r\n\r\nIn class annotated with `@Configuration` annotation:\r\n\r\n    @Autowired\r\n    private List&lt;ISendableConverter&gt; sendableConverters;\r\n\r\n\t@Bean\r\n\tpublic Map&lt;String, ISendableConverter&gt; sendableConvertersMap() {\r\n\t\tMap&lt;String, ISendableConverter&gt; sendableConvertersMap = new HashMap&lt;&gt;();\r\n\t\tfor (ISendableConverter converter : sendableConverters) {\r\n\t\t\tsendableConvertersMap.put(converter.getType(), converter);\r\n\t\t}\r\n\t\treturn sendableConvertersMap;\r\n\t}\r\n\r\nThan you inject this map with:\r\n\r\n\t@Resource()\r\n\tprivate Map&lt;String, ISendableConverter&gt; sendableConverters;\r\n\r\nYou can optionally add some selector string to your `@Resource` annotation if you have defined more maps of the same type.\r\n\r\nThis way all you have to do is implement `ISendableConverter` by your spring bean and it will automatically appear in Map defined above. \r\nYou don&#39;t need to create map items by hand for each implementation. \r\n","title":"Can spring @Autowired Map?","body":"<p>You can create an automatically initialized map with keys of your choice using Spring Java configuration:</p>\n<p>In class annotated with <code>@Configuration</code> annotation:</p>\n<pre><code>@Autowired\nprivate List&lt;ISendableConverter&gt; sendableConverters;\n\n@Bean\npublic Map&lt;String, ISendableConverter&gt; sendableConvertersMap() {\n    Map&lt;String, ISendableConverter&gt; sendableConvertersMap = new HashMap&lt;&gt;();\n    for (ISendableConverter converter : sendableConverters) {\n        sendableConvertersMap.put(converter.getType(), converter);\n    }\n    return sendableConvertersMap;\n}\n</code></pre>\n<p>Than you inject this map with:</p>\n<pre><code>@Resource()\nprivate Map&lt;String, ISendableConverter&gt; sendableConverters;\n</code></pre>\n<p>You can optionally add some selector string to your <code>@Resource</code> annotation if you have defined more maps of the same type.</p>\n<p>This way all you have to do is implement <code>ISendableConverter</code> by your spring bean and it will automatically appear in Map defined above.\nYou don't need to create map items by hand for each implementation.</p>\n"},{"tags":[],"owner":{"account_id":7687078,"reputation":441,"user_id":5824474,"display_name":"TimYi"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1453435852,"creation_date":1453435852,"answer_id":34938869,"question_id":20918825,"body_markdown":"you can do something like this:    \r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n\tprivate List&lt;OneTypeImageLoader&gt; imageLoaders;\r\n\tprivate Map&lt;String, OneTypeImageLoader&gt; imageLoaderMap=new HashMap&lt;&gt;();\r\n\t\r\n\t@Autowired\r\n\tpublic void setImageLoaders(List&lt;OneTypeImageLoader&gt; imageLoaders) {\r\n\t\tthis.imageLoaders = imageLoaders;\r\n\t\timageLoaders.forEach(l-&gt; {\r\n\t\t\timageLoaderMap.put(l.getType(), l);\r\n\t\t});\r\n\t}","title":"Can spring @Autowired Map?","body":"<p>you can do something like this:    </p>\n\n<pre><code>@SuppressWarnings(\"unused\")\nprivate List&lt;OneTypeImageLoader&gt; imageLoaders;\nprivate Map&lt;String, OneTypeImageLoader&gt; imageLoaderMap=new HashMap&lt;&gt;();\n\n@Autowired\npublic void setImageLoaders(List&lt;OneTypeImageLoader&gt; imageLoaders) {\n    this.imageLoaders = imageLoaders;\n    imageLoaders.forEach(l-&gt; {\n        imageLoaderMap.put(l.getType(), l);\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1484846433,"creation_date":1460535997,"answer_id":36592662,"question_id":20918825,"body_markdown":"Try something like this, it works for me\r\n\r\n    private Map&lt;String, ISendableConverter&gt; converters;\r\n    \r\n    @Autowired\r\n\tpublic void setUploadServices(Set&lt;ISendableConverter&gt; converters){\r\n        this.conveters = converters.stream()\r\n            .collect(Collectors.toMap(ISendableConverter::getType, Function.identity()));\r\n    }\r\n\r\nThe same result can be achieved using constructor injection:\r\n\r\n    private Map&lt;String, ISendableConverter&gt; converters;\r\n    \r\n    @Autowired\r\n    public Foo(Set&lt;ISendableConverter&gt; converters) {\r\n        this.conveters = converters.stream()\r\n            .collect(Collectors.toMap(ISendableConverter::getType, Function.identity()));\r\n    }","title":"Can spring @Autowired Map?","body":"<p>Try something like this, it works for me</p>\n\n<pre><code>private Map&lt;String, ISendableConverter&gt; converters;\n\n@Autowired\npublic void setUploadServices(Set&lt;ISendableConverter&gt; converters){\n    this.conveters = converters.stream()\n        .collect(Collectors.toMap(ISendableConverter::getType, Function.identity()));\n}\n</code></pre>\n\n<p>The same result can be achieved using constructor injection:</p>\n\n<pre><code>private Map&lt;String, ISendableConverter&gt; converters;\n\n@Autowired\npublic Foo(Set&lt;ISendableConverter&gt; converters) {\n    this.conveters = converters.stream()\n        .collect(Collectors.toMap(ISendableConverter::getType, Function.identity()));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6690948,"reputation":115,"user_id":5211049,"display_name":"NewSheriff"},"score":0,"creation_date":1624387642,"post_id":55919248,"comment_id":120344054,"body_markdown":"What problems can this cause?","body":"What problems can this cause?"}],"tags":[],"owner":{"account_id":4260593,"reputation":356,"user_id":3485048,"display_name":"Rigeborod"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1556620995,"creation_date":1556620995,"answer_id":55919248,"question_id":20918825,"body_markdown":"    @Component(&quot;VOICE&quot;)\r\n    public class SendableVoiceMsgConverter implements ISendableConverter {\r\n    \r\n        @Override\r\n        public ISendableMsg convert(BaseMessage baseMessage) {\r\n            // TODO Auto-generated method stub\r\n            return null;\r\n        }\r\n    }\r\n\r\nYou may want to just add the type name directly into the component annotation, that will do the job.","title":"Can spring @Autowired Map?","body":"<pre><code>@Component(\"VOICE\")\npublic class SendableVoiceMsgConverter implements ISendableConverter {\n\n    @Override\n    public ISendableMsg convert(BaseMessage baseMessage) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n}\n</code></pre>\n\n<p>You may want to just add the type name directly into the component annotation, that will do the job.</p>\n"},{"tags":[],"owner":{"account_id":3578252,"reputation":19,"user_id":2987011,"display_name":"Borys Rudenko"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1566269395,"creation_date":1558676089,"answer_id":56286394,"question_id":20918825,"body_markdown":"You can make it more generic and build something like this:\r\n\r\n        public interface BasicStrategy {\r\n            String getKey();\r\n        }\r\n       \r\n        public final class StrategyMap&lt;K extends BasicStrategy&gt; extends HashMap&lt;String, K&gt; {\r\n    \r\n        public StrategyMap(List&lt;K&gt; strategies) {\r\n            super(strategies.stream().collect(Collectors.toMap(K::getKey, Function.identity())));\r\n        }\r\n    \r\n        @Override\r\n        public K get(Object key) {\r\n            BasicStrategy basicStrategy = super.get(key);\r\n            if (basicStrategy == null) {\r\n                throw new RuntimeException(&quot;No strategy found for key: &#39;&quot; + key + &quot;&#39;&quot;);\r\n            }\r\n            return (K) basicStrategy;\r\n        }\r\n    }\r\n\r\nNow you can use this `StrategyMap` everywhere around your code like this:\r\n\r\n    private StrategyMap&lt;ISendableConverter&gt; converters;\r\n    \r\n    @Autowired\r\n    public Foo(List&lt;ISendableConverter&gt; converters) {\r\n        this.conveters = new StrategyMap&lt;&gt;(converters);\r\n    }\r\n\r\nThis approach generify the creation of a `StrategyMap` and also logic for the case where value is not found can be centralized.\r\n\r\nPS: Of course `ISendableConverter` has to extend `BasicStrategy` interface.\r\n","title":"Can spring @Autowired Map?","body":"<p>You can make it more generic and build something like this:</p>\n\n<pre><code>    public interface BasicStrategy {\n        String getKey();\n    }\n\n    public final class StrategyMap&lt;K extends BasicStrategy&gt; extends HashMap&lt;String, K&gt; {\n\n    public StrategyMap(List&lt;K&gt; strategies) {\n        super(strategies.stream().collect(Collectors.toMap(K::getKey, Function.identity())));\n    }\n\n    @Override\n    public K get(Object key) {\n        BasicStrategy basicStrategy = super.get(key);\n        if (basicStrategy == null) {\n            throw new RuntimeException(\"No strategy found for key: '\" + key + \"'\");\n        }\n        return (K) basicStrategy;\n    }\n}\n</code></pre>\n\n<p>Now you can use this <code>StrategyMap</code> everywhere around your code like this:</p>\n\n<pre><code>private StrategyMap&lt;ISendableConverter&gt; converters;\n\n@Autowired\npublic Foo(List&lt;ISendableConverter&gt; converters) {\n    this.conveters = new StrategyMap&lt;&gt;(converters);\n}\n</code></pre>\n\n<p>This approach generify the creation of a <code>StrategyMap</code> and also logic for the case where value is not found can be centralized.</p>\n\n<p>PS: Of course <code>ISendableConverter</code> has to extend <code>BasicStrategy</code> interface.</p>\n"},{"comments":[{"owner":{"account_id":3186472,"reputation":692,"user_id":2691974,"display_name":"Valamburi M"},"score":0,"creation_date":1683798696,"post_id":68219806,"comment_id":134423054,"body_markdown":"Is there a Spring documentation that explains this solution? I am looking for answers on how this solution is working?","body":"Is there a Spring documentation that explains this solution? I am looking for answers on how this solution is working?"}],"tags":[],"owner":{"account_id":14972824,"reputation":31,"user_id":10809105,"display_name":"shaoqiang yan"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1625201877,"creation_date":1625201877,"answer_id":68219806,"question_id":20918825,"body_markdown":"First, set Bean name like the return value of `getType()` \r\n```\r\n@Component(&quot;VOICE&quot;)\r\npublic class SendableVoiceMsgConverter implements ISendableConverter {\r\n\r\n    @Override\r\n    public ISendableMsg convert(BaseMessage baseMessage) {\r\n        // TODO Auto-generated method stub\r\n        return null;\r\n    }\r\n}\r\n```\r\nAnd you can use like this:\r\n```\r\n@Autowired\r\nprivate Map&lt;String, ISendableConverter&gt; converters;\r\n```\r\nthis map&#39;s V type is instance of Bean , and K type is Bean&#39;s name","title":"Can spring @Autowired Map?","body":"<p>First, set Bean name like the return value of <code>getType()</code></p>\n<pre><code>@Component(&quot;VOICE&quot;)\npublic class SendableVoiceMsgConverter implements ISendableConverter {\n\n    @Override\n    public ISendableMsg convert(BaseMessage baseMessage) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n}\n</code></pre>\n<p>And you can use like this:</p>\n<pre><code>@Autowired\nprivate Map&lt;String, ISendableConverter&gt; converters;\n</code></pre>\n<p>this map's V type is instance of Bean , and K type is Bean's name</p>\n"},{"tags":[],"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667983269,"creation_date":1667983269,"answer_id":74371993,"question_id":20918825,"body_markdown":"This can be achieved with `spring-componentmap` (https://github.com/krud-dev/spring-componentmap)\r\n\r\nBased on your example:\r\n```java\r\npublic interface ISendableConverter {\r\n\r\n    ISendableMsg convert(BaseMessage baseMessage);\r\n\r\n    @ComponentMapKey\r\n    String getType();\r\n}\r\n\r\n@Component\r\npublic class SendableVoiceMsgConverter implements ISendableConverter {\r\n\r\n    @Override\r\n    public ISendableMsg convert(BaseMessage baseMessage) {\r\n        // TODO Auto-generated method stub\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public String getType() {\r\n        return &quot;VOICE&quot;;\r\n    }\r\n}\r\n\r\n// Call the converter by type\r\n@Component\r\nclass SendableMsgConverter {\r\n\r\n    // @ComponentMap replaces @Autowired in this case\r\n    @ComponentMap\r\n    private Map&lt;String, ISendableConverter&gt; converterMap;\r\n\r\n    public ISendableMsg convert(BaseMessage baseMessage) {\r\n        ISendableConverter converter = converterMap.get(baseMessage.getType());\r\n        return converter.convert(baseMessage);\r\n    }\r\n}\r\n```\r\n\r\nDisclaimer: I co-developed `spring-componentmap`","title":"Can spring @Autowired Map?","body":"<p>This can be achieved with <code>spring-componentmap</code> (<a href=\"https://github.com/krud-dev/spring-componentmap\" rel=\"nofollow noreferrer\">https://github.com/krud-dev/spring-componentmap</a>)</p>\n<p>Based on your example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ISendableConverter {\n\n    ISendableMsg convert(BaseMessage baseMessage);\n\n    @ComponentMapKey\n    String getType();\n}\n\n@Component\npublic class SendableVoiceMsgConverter implements ISendableConverter {\n\n    @Override\n    public ISendableMsg convert(BaseMessage baseMessage) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public String getType() {\n        return &quot;VOICE&quot;;\n    }\n}\n\n// Call the converter by type\n@Component\nclass SendableMsgConverter {\n\n    // @ComponentMap replaces @Autowired in this case\n    @ComponentMap\n    private Map&lt;String, ISendableConverter&gt; converterMap;\n\n    public ISendableMsg convert(BaseMessage baseMessage) {\n        ISendableConverter converter = converterMap.get(baseMessage.getType());\n        return converter.convert(baseMessage);\n    }\n}\n</code></pre>\n<p>Disclaimer: I co-developed <code>spring-componentmap</code></p>\n"}],"owner":{"account_id":2069263,"reputation":3591,"user_id":1844078,"accept_rate":28,"display_name":"Joe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74318,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"answer_count":8,"score":52,"last_activity_date":1667983269,"creation_date":1388824967,"question_id":20918825,"body_markdown":"Here&#39;s the Map\r\n\r\n    @Autowired\r\n    private Map&lt;String, ISendableConverter&gt; converters;\r\n\r\nand `ISendableConverter`\r\n\r\n    public interface ISendableConverter {\r\n\r\n        ISendableMsg convert(BaseMessage baseMessage);\r\n\r\n        String getType();\r\n    }\r\n\r\nThere are some classes that implements `ISendableConverter`\r\n\r\nI want to inject them into the variable `converters` by using spring `@Autowried` annotation.\r\n\r\nThe instance of class as value, and the result of method `getType()` as key.\r\n\r\nlike this one\r\n\r\n    @Component\r\n    public class SendableVoiceMsgConverter implements ISendableConverter {\r\n\r\n        @Override\r\n        public ISendableMsg convert(BaseMessage baseMessage) {\r\n            // TODO Auto-generated method stub\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public String getType() {\r\n            return &quot;VOICE&quot;;\r\n        }\r\n    }\r\n\r\nIs this possible? and how?","title":"Can spring @Autowired Map?","body":"<p>Here's the Map</p>\n\n<pre><code>@Autowired\nprivate Map&lt;String, ISendableConverter&gt; converters;\n</code></pre>\n\n<p>and <code>ISendableConverter</code></p>\n\n<pre><code>public interface ISendableConverter {\n\n    ISendableMsg convert(BaseMessage baseMessage);\n\n    String getType();\n}\n</code></pre>\n\n<p>There are some classes that implements <code>ISendableConverter</code></p>\n\n<p>I want to inject them into the variable <code>converters</code> by using spring <code>@Autowried</code> annotation.</p>\n\n<p>The instance of class as value, and the result of method <code>getType()</code> as key.</p>\n\n<p>like this one</p>\n\n<pre><code>@Component\npublic class SendableVoiceMsgConverter implements ISendableConverter {\n\n    @Override\n    public ISendableMsg convert(BaseMessage baseMessage) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public String getType() {\n        return \"VOICE\";\n    }\n}\n</code></pre>\n\n<p>Is this possible? and how?</p>\n"},{"tags":["java","amazon-web-services","spring-cloud","spring-cloud-config","spring-cloud-aws"],"comments":[{"owner":{"account_id":3803644,"reputation":1290,"user_id":3156607,"display_name":"Dennis Kieselhorst"},"score":0,"creation_date":1678186166,"post_id":74131638,"comment_id":133480663,"body_markdown":"Where are you running your application? If you are on AWS you should rather use an IAM role instead of access keys and secret.","body":"Where are you running your application? If you are on AWS you should rather use an IAM role instead of access keys and secret."},{"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"score":0,"creation_date":1689821722,"post_id":74131638,"comment_id":135268700,"body_markdown":"@DennisKieselhorst I am running this in on prem. See this repo to reproduce the error https://github.com/pavankjadda/springboot-aws-s3-bug","body":"@DennisKieselhorst I am running this in on prem. See this repo to reproduce the error <a href=\"https://github.com/pavankjadda/springboot-aws-s3-bug\" rel=\"nofollow noreferrer\">github.com/pavankjadda/springboot-aws-s3-bug</a>"}],"owner":{"account_id":3936694,"reputation":4506,"user_id":9244861,"accept_rate":67,"display_name":"Pavan Jadda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667983090,"creation_date":1666211991,"question_id":74131638,"body_markdown":"All, I am trying to use secrets manager in Spring Boot and Spring Cloud AWS. Here is my `application.yml`:\r\n\r\n```yaml\r\ncloud:\r\n  aws:\r\n    stack:\r\n      auto: false\r\n    credentials:\r\n      accessKey: ${aws_access_key}\r\n      secretKey: ${aws_secret_key}\r\n      instanceProfile: false\r\n    region:\r\n      static: us-east-1\r\n\r\nspring:\r\n  profiles:\r\n    active: &#39;aws-dev&#39;\r\n  config:\r\n    import: aws-secretsmanager:/dev/onprem/mib-air/backend\r\n\r\naws:\r\n  secretsmanager:\r\n    prefix: /dev/onprem/mib-air\r\n    name: backend\r\n    region: us-east-1\r\n```\r\n\r\nWhen I start the application I get error:\r\n\r\n```\r\nCaused by: com.amazonaws.SdkClientException: Unable to load AWS credentials from any provider in the chain: [EnvironmentVariableCredentialsProvider: Unable to load AWS credentials from environment variables (AWS_ACCESS_KEY_ID (or AWS_ACCESS_KEY) and AWS_SECRET_KEY (or AWS_SECRET_ACCESS_KEY)),\r\nSystemPropertiesCredentialsProvider: Unable to load AWS credentials from Java system properties (aws.accessKeyId and aws.secretKey),\r\nWebIdentityTokenCredentialsProvider: To use assume role profiles the aws-java-sdk-sts module must be on the class path.,\r\ncom.amazonaws.auth.profile.ProfileCredentialsProvider@55ecfe1d: profile file cannot be null,\r\ncom.amazonaws.auth.EC2ContainerCredentialsProviderWrapper@5b16b260: Failed to connect to service endpoint: \r\n```\r\n\r\nIt seems, the Spring Boot failing to load AWS access key and secret key despite mentioning them earlier.\r\n","title":"Spring Cloud AWS unable to load AWS AccessKey and Secret Key","body":"<p>All, I am trying to use secrets manager in Spring Boot and Spring Cloud AWS. Here is my <code>application.yml</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>cloud:\n  aws:\n    stack:\n      auto: false\n    credentials:\n      accessKey: ${aws_access_key}\n      secretKey: ${aws_secret_key}\n      instanceProfile: false\n    region:\n      static: us-east-1\n\nspring:\n  profiles:\n    active: 'aws-dev'\n  config:\n    import: aws-secretsmanager:/dev/onprem/mib-air/backend\n\naws:\n  secretsmanager:\n    prefix: /dev/onprem/mib-air\n    name: backend\n    region: us-east-1\n</code></pre>\n<p>When I start the application I get error:</p>\n<pre><code>Caused by: com.amazonaws.SdkClientException: Unable to load AWS credentials from any provider in the chain: [EnvironmentVariableCredentialsProvider: Unable to load AWS credentials from environment variables (AWS_ACCESS_KEY_ID (or AWS_ACCESS_KEY) and AWS_SECRET_KEY (or AWS_SECRET_ACCESS_KEY)),\nSystemPropertiesCredentialsProvider: Unable to load AWS credentials from Java system properties (aws.accessKeyId and aws.secretKey),\nWebIdentityTokenCredentialsProvider: To use assume role profiles the aws-java-sdk-sts module must be on the class path.,\ncom.amazonaws.auth.profile.ProfileCredentialsProvider@55ecfe1d: profile file cannot be null,\ncom.amazonaws.auth.EC2ContainerCredentialsProviderWrapper@5b16b260: Failed to connect to service endpoint: \n</code></pre>\n<p>It seems, the Spring Boot failing to load AWS access key and secret key despite mentioning them earlier.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"score":0,"creation_date":1667977513,"post_id":74371029,"comment_id":131293704,"body_markdown":"Does this answer your question? [Scanner is never closed](https://stackoverflow.com/questions/15613626/scanner-is-never-closed)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15613626/scanner-is-never-closed\">Scanner is never closed</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667982773,"post_id":74371029,"comment_id":131295113,"body_markdown":"Generally, for a `Scanner` wrapping `System.in`, this should be considered a false positive. If you close `sc`, you will also close `System.in`, which means you can no longer use it for any user input.","body":"Generally, for a <code>Scanner</code> wrapping <code>System.in</code>, this should be considered a false positive. If you close <code>sc</code>, you will also close <code>System.in</code>, which means you can no longer use it for any user input."}],"owner":{"account_id":26875408,"reputation":1,"user_id":20456738,"display_name":"Subhadeep Dutta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667982918,"answer_count":0,"score":0,"last_activity_date":1667982927,"creation_date":1667977335,"question_id":74371029,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/jaa21.png)](https://i.stack.imgur.com/jaa21.png)\r\n\r\nsc function is never closed. What to do to avoid this error?\r\n\r\nI tried to input integer data using scanner function in java, but the sc line is facing some error. Although the code runs properly. But I want to know why it showing error. Thanks in advance.\r\n","title":"Resource leak: &#39;sc&#39; is never closedJava(536871799)","body":"<p><a href=\"https://i.stack.imgur.com/jaa21.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jaa21.png\" alt=\"enter image description here\" /></a></p>\n<p>sc function is never closed. What to do to avoid this error?</p>\n<p>I tried to input integer data using scanner function in java, but the sc line is facing some error. Although the code runs properly. But I want to know why it showing error. Thanks in advance.</p>\n"},{"tags":["java","casting"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1667981039,"post_id":74371579,"comment_id":131294612,"body_markdown":"No, `me` in line 7 is a _reference_ (you can think of it as a pointer but there&#39;s still a difference) to the _next_ entry in the map, i.e. a very specific entry. That entry consists of a key and a value which is why lines 8 and 9 work. Note that line 4 establishes an iterator, line 6 checks if there is one more entry and line 7 gets that entry.","body":"No, <code>me</code> in line 7 is a <i>reference</i> (you can think of it as a pointer but there&#39;s still a difference) to the <i>next</i> entry in the map, i.e. a very specific entry. That entry consists of a key and a value which is why lines 8 and 9 work. Note that line 4 establishes an iterator, line 6 checks if there is one more entry and line 7 gets that entry."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1667981283,"post_id":74371579,"comment_id":131294692,"body_markdown":"Btw, since Java 5 (which is very old now) there are generics and maps should not be used without those generics anymore. Hence the code should become `Map&lt;String, Double&gt; hm = new HashMap&lt;&gt;();` (also using the &quot;program to interface&quot; principle) as well as `Set&lt;Map.Entry&lt;String, Double&gt;&gt; set = hm.entrySet(); Iterator&lt;Map.Entry&lt;String, Double&gt;&gt; i = set.iterator(); ... Map.Entry&lt;String, Double&gt; me = i.next();` (note the cast is missing now).","body":"Btw, since Java 5 (which is very old now) there are generics and maps should not be used without those generics anymore. Hence the code should become <code>Map&lt;String, Double&gt; hm = new HashMap&lt;&gt;();</code> (also using the &quot;program to interface&quot; principle) as well as <code>Set&lt;Map.Entry&lt;String, Double&gt;&gt; set = hm.entrySet(); Iterator&lt;Map.Entry&lt;String, Double&gt;&gt; i = set.iterator(); ... Map.Entry&lt;String, Double&gt; me = i.next();</code> (note the cast is missing now)."}],"answers":[{"tags":[],"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667982739,"creation_date":1667981827,"answer_id":74371727,"question_id":74371579,"body_markdown":"For easy understanding I have updated the code.  `i.next()` is saved to Object variable before type casting to `Map.Entry`\r\n\r\n    while(i.hasNext()) {\r\n        \t Object obj = i.next();\r\n             Map.Entry me = (Map.Entry)obj;\r\n             System.out.print(me.getKey() + &quot;: &quot;);\r\n             System.out.println(me.getValue());\r\n          }\r\n\r\nFrom the below image captured in debug mode, you can see obj contains key-value before type casting.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nTo sum up, `i.next()` is returning a `Map.Entry` but we are storing it in an `Object` Class reference variable because java allows super class reference variable to hold the sub class object and `Object` class is super class to all. \r\n\r\nWhy typecasting? because we can&#39;t invoke sub class methods on a super class variable.\r\n\r\nIf you want the iterator to return Map.Entry without type casting, declare  Iterator as `Map.Entry` Iterator like this `Iterator&lt;Map.Entry&gt; i`. Happy learning!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XFE6f.png","title":"How does compiler understand the key and value part of an object during casting?","body":"<p>For easy understanding I have updated the code.  <code>i.next()</code> is saved to Object variable before type casting to <code>Map.Entry</code></p>\n<pre><code>while(i.hasNext()) {\n         Object obj = i.next();\n         Map.Entry me = (Map.Entry)obj;\n         System.out.print(me.getKey() + &quot;: &quot;);\n         System.out.println(me.getValue());\n      }\n</code></pre>\n<p>From the below image captured in debug mode, you can see obj contains key-value before type casting.</p>\n<p><a href=\"https://i.stack.imgur.com/XFE6f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XFE6f.png\" alt=\"enter image description here\" /></a></p>\n<p>To sum up, <code>i.next()</code> is returning a <code>Map.Entry</code> but we are storing it in an <code>Object</code> Class reference variable because java allows super class reference variable to hold the sub class object and <code>Object</code> class is super class to all.</p>\n<p>Why typecasting? because we can't invoke sub class methods on a super class variable.</p>\n<p>If you want the iterator to return Map.Entry without type casting, declare  Iterator as <code>Map.Entry</code> Iterator like this <code>Iterator&lt;Map.Entry&gt; i</code>. Happy learning!</p>\n"}],"owner":{"account_id":14243610,"reputation":95,"user_id":10289312,"display_name":"Chirayu Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74371727,"answer_count":1,"score":1,"last_activity_date":1667982739,"creation_date":1667980890,"question_id":74371579,"body_markdown":"I was going through https://www.tutorialspoint.com/java/java_hashmap_class.htm .\r\nIt gives following code\r\n\r\n```\r\n1       // Get a set of the entries\r\n2       Set set = hm.entrySet();\r\n\r\n3       // Get an iterator\r\n4       Iterator i = set.iterator();\r\n\r\n5       // Display elements\r\n6       while(i.hasNext()) {\r\n7           Map.Entry me = (Map.Entry)i.next();\r\n8           System.out.print(me.getKey() + &quot;: &quot;);\r\n9            System.out.println(me.getValue());\r\n10        }\r\n```\r\n\r\nI was wondering that in line 7 the coder has done i.next() which returns *java.lang.Object* which has been cast to Map.Entry type.Remember in line 7 *me* variable has pointer to the keys of map that had been defined in earlier lines.\r\nIn line 9 we call me.getValue() ,so how does jvm know that a particular value is associated with a particular key?","title":"How does compiler understand the key and value part of an object during casting?","body":"<p>I was going through <a href=\"https://www.tutorialspoint.com/java/java_hashmap_class.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/java/java_hashmap_class.htm</a> .\nIt gives following code</p>\n<pre><code>1       // Get a set of the entries\n2       Set set = hm.entrySet();\n\n3       // Get an iterator\n4       Iterator i = set.iterator();\n\n5       // Display elements\n6       while(i.hasNext()) {\n7           Map.Entry me = (Map.Entry)i.next();\n8           System.out.print(me.getKey() + &quot;: &quot;);\n9            System.out.println(me.getValue());\n10        }\n</code></pre>\n<p>I was wondering that in line 7 the coder has done i.next() which returns <em>java.lang.Object</em> which has been cast to Map.Entry type.Remember in line 7 <em>me</em> variable has pointer to the keys of map that had been defined in earlier lines.\nIn line 9 we call me.getValue() ,so how does jvm know that a particular value is associated with a particular key?</p>\n"},{"tags":["java","maven","log4j2"],"comments":[{"owner":{"account_id":1938618,"reputation":698,"user_id":1745416,"display_name":"JohnC"},"score":5,"creation_date":1517959793,"post_id":47900670,"comment_id":84305327,"body_markdown":"I had a similar problem with log4j2 incurring java.lang.AbstractMethodError errors. The following stackoverflow post helped solve my problem: https://stackoverflow.com/questions/11677572/dealing-with-xerces-hell-in-java-maven  I removed all xerces and xml_apis mentions from my pom file, including adding xerces and xml_apis exclusion elements from third party dependencies (so that they would use the default versions that come with java api)","body":"I had a similar problem with log4j2 incurring java.lang.AbstractMethodError errors. The following stackoverflow post helped solve my problem: <a href=\"https://stackoverflow.com/questions/11677572/dealing-with-xerces-hell-in-java-maven\" title=\"dealing with xerces hell in java maven\">stackoverflow.com/questions/11677572/&hellip;</a>  I removed all xerces and xml_apis mentions from my pom file, including adding xerces and xml_apis exclusion elements from third party dependencies (so that they would use the default versions that come with java api)"}],"answers":[{"tags":[],"owner":{"account_id":13171602,"reputation":178,"user_id":9513756,"display_name":"Ayyoub"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1521416970,"creation_date":1521416970,"answer_id":49354017,"question_id":47900670,"body_markdown":"Try adding \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;xerces&lt;/groupId&gt;\r\n        &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n        &lt;version&gt;2.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nto your pom.xml","title":"ERROR StatusLogger Caught java.lang.AbstractMethodError","body":"<p>Try adding </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;xerces&lt;/groupId&gt;\n    &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n    &lt;version&gt;2.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>to your pom.xml</p>\n"},{"tags":[],"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633629070,"creation_date":1633629070,"answer_id":69485705,"question_id":47900670,"body_markdown":"For me it was resolved by excluding xercesImpl dependency:\r\n\r\n    implementation (group: &#39;com.github.mkolisnyk&#39;, name: &#39;cucumber-runner&#39;, version: &#39;X.X.X&#39;) {\r\n                exclude group: &#39;xerces&#39;, module: &#39;xercesImpl&#39;\r\n    }\r\n\r\nYou can check your project dependencies tree by:\r\n\r\n    gradlew &lt;project&gt;: dependencies --configuration\r\n\r\n[Gradle][1]\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html","title":"ERROR StatusLogger Caught java.lang.AbstractMethodError","body":"<p>For me it was resolved by excluding xercesImpl dependency:</p>\n<pre><code>implementation (group: 'com.github.mkolisnyk', name: 'cucumber-runner', version: 'X.X.X') {\n            exclude group: 'xerces', module: 'xercesImpl'\n}\n</code></pre>\n<p>You can check your project dependencies tree by:</p>\n<pre><code>gradlew &lt;project&gt;: dependencies --configuration\n</code></pre>\n<p><a href=\"https://docs.gradle.org/current/userguide/viewing_debugging_dependencies.html\" rel=\"nofollow noreferrer\">Gradle</a></p>\n"},{"tags":[],"owner":{"account_id":13275737,"reputation":109,"user_id":9585152,"display_name":"R.Wedisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667982589,"creation_date":1667982589,"answer_id":74371862,"question_id":47900670,"body_markdown":"In my case, adding the dependency to the pom file did not work. However, it was resolved after adding the below 2 jars to my runtime lib folder\r\n\r\n 1. xercesImpl.jar  \r\n 2. xml-resolver.jar\r\n\r\n\r\n\r\n","title":"ERROR StatusLogger Caught java.lang.AbstractMethodError","body":"<p>In my case, adding the dependency to the pom file did not work. However, it was resolved after adding the below 2 jars to my runtime lib folder</p>\n<ol>\n<li>xercesImpl.jar</li>\n<li>xml-resolver.jar</li>\n</ol>\n"}],"owner":{"account_id":11709740,"reputation":81,"user_id":8572019,"display_name":"zhaodazzle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21488,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1667982589,"creation_date":1513754226,"question_id":47900670,"body_markdown":"I have an application that used log4j1.2.17.Now I want to change it to log4j2.\r\nSo i changed the pom.xml (I&#39;m sure that i have remove the log4j1 in any dependency), add the log4j2.xml. The log4j2 works fine, and it log the infomation that i want.But i got the below error at the begining.\r\n\r\n    ERROR StatusLogger Caught java.lang.AbstractMethodError setting feature http://xml.org/sax/features/external-general-entities to false on DocumentBuilderFactory org.apache.xerces.jaxp.DocumentBuilderFactoryImpl@476ac20c: java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\r\n     java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.setFeature(XmlConfiguration.java:213)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.disableDtdProcessing(XmlConfiguration.java:205)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.newDocumentBuilder(XmlConfiguration.java:194)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:92)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfigurationFactory.getConfiguration(XmlConfigurationFactory.java:46)\r\n    \tat org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:451)\r\n    \tat org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:385)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:237)\r\n    \tat org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:158)\r\n    \tat org.apache.logging.log4j.web.Log4jWebInitializerImpl.initializeNonJndi(Log4jWebInitializerImpl.java:168)\r\n    \tat org.apache.logging.log4j.web.Log4jWebInitializerImpl.start(Log4jWebInitializerImpl.java:110)\r\n    \tat org.apache.logging.log4j.web.Log4jServletContextListener.contextInitialized(Log4jServletContextListener.java:56)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4813)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5272)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:725)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:701)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\r\n    \tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1696)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:484)\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:433)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    \tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    ERROR StatusLogger Caught java.lang.AbstractMethodError setting feature http://xml.org/sax/features/external-parameter-entities to false on DocumentBuilderFactory org.apache.xerces.jaxp.DocumentBuilderFactoryImpl@476ac20c: java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\r\n     java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.setFeature(XmlConfiguration.java:213)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.disableDtdProcessing(XmlConfiguration.java:206)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.newDocumentBuilder(XmlConfiguration.java:194)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:92)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfigurationFactory.getConfiguration(XmlConfigurationFactory.java:46)\r\n    \tat org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:451)\r\n    \tat org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:385)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:237)\r\n    \tat org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:158)\r\n    \tat org.apache.logging.log4j.web.Log4jWebInitializerImpl.initializeNonJndi(Log4jWebInitializerImpl.java:168)\r\n    \tat org.apache.logging.log4j.web.Log4jWebInitializerImpl.start(Log4jWebInitializerImpl.java:110)\r\n    \tat org.apache.logging.log4j.web.Log4jServletContextListener.contextInitialized(Log4jServletContextListener.java:56)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4813)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5272)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:725)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:701)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\r\n    \tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1696)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:484)\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:433)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    \tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    ERROR StatusLogger Caught java.lang.AbstractMethodError setting feature http://apache.org/xml/features/nonvalidating/load-external-dtd to false on DocumentBuilderFactory org.apache.xerces.jaxp.DocumentBuilderFactoryImpl@476ac20c: java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\r\n     java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.setFeature(XmlConfiguration.java:213)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.disableDtdProcessing(XmlConfiguration.java:207)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.newDocumentBuilder(XmlConfiguration.java:194)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:92)\r\n    \tat org.apache.logging.log4j.core.config.xml.XmlConfigurationFactory.getConfiguration(XmlConfigurationFactory.java:46)\r\n    \tat org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:451)\r\n    \tat org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:385)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:237)\r\n    \tat org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:158)\r\n    \tat org.apache.logging.log4j.web.Log4jWebInitializerImpl.initializeNonJndi(Log4jWebInitializerImpl.java:168)\r\n    \tat org.apache.logging.log4j.web.Log4jWebInitializerImpl.start(Log4jWebInitializerImpl.java:110)\r\n    \tat org.apache.logging.log4j.web.Log4jServletContextListener.contextInitialized(Log4jServletContextListener.java:56)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4813)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5272)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:725)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:701)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\r\n    \tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1696)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:484)\r\n    \tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:433)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\r\n    \tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\r\n    \tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    \tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    SLF4J: Class path contains multiple SLF4J bindings.\r\n    SLF4J: Found binding in [jar:file:/C:/ZKH/WebShop/target/esp-0.0.1-SNAPSHOT/WEB-INF/lib/log4j-slf4j-impl-2.9.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: Found binding in [jar:file:/C:/ZKH/WebShop/target/esp-0.0.1-SNAPSHOT/WEB-INF/lib/slf4j-log4j12-1.6.6.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\n    SLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\r\n\r\nMy jdk version is 1.8.0_102.  \r\nMaven version is 3.3.9.  \r\nlog4j2 version is 2.9.1.  \r\n\r\nI view the issue of log4j. The [LOG4J2-2026][LOG4J2-2026] seems to fix it, but version of log4j2 that i used is already 2.9.1 . I don&#39;t know what cause this error.\r\n\r\n[LOG4J2-2026]: https://issues.apache.org/jira/browse/LOG4J2-2026","title":"ERROR StatusLogger Caught java.lang.AbstractMethodError","body":"<p>I have an application that used log4j1.2.17.Now I want to change it to log4j2.\nSo i changed the pom.xml (I'm sure that i have remove the log4j1 in any dependency), add the log4j2.xml. The log4j2 works fine, and it log the infomation that i want.But i got the below error at the begining.</p>\n\n<pre><code>ERROR StatusLogger Caught java.lang.AbstractMethodError setting feature http://xml.org/sax/features/external-general-entities to false on DocumentBuilderFactory org.apache.xerces.jaxp.DocumentBuilderFactoryImpl@476ac20c: java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\n java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.setFeature(XmlConfiguration.java:213)\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.disableDtdProcessing(XmlConfiguration.java:205)\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.newDocumentBuilder(XmlConfiguration.java:194)\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:92)\n    at org.apache.logging.log4j.core.config.xml.XmlConfigurationFactory.getConfiguration(XmlConfigurationFactory.java:46)\n    at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:451)\n    at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:385)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:237)\n    at org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:158)\n    at org.apache.logging.log4j.web.Log4jWebInitializerImpl.initializeNonJndi(Log4jWebInitializerImpl.java:168)\n    at org.apache.logging.log4j.web.Log4jWebInitializerImpl.start(Log4jWebInitializerImpl.java:110)\n    at org.apache.logging.log4j.web.Log4jServletContextListener.contextInitialized(Log4jServletContextListener.java:56)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4813)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5272)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:725)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:701)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1696)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:484)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:433)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\n    at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nERROR StatusLogger Caught java.lang.AbstractMethodError setting feature http://xml.org/sax/features/external-parameter-entities to false on DocumentBuilderFactory org.apache.xerces.jaxp.DocumentBuilderFactoryImpl@476ac20c: java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\n java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.setFeature(XmlConfiguration.java:213)\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.disableDtdProcessing(XmlConfiguration.java:206)\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.newDocumentBuilder(XmlConfiguration.java:194)\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:92)\n    at org.apache.logging.log4j.core.config.xml.XmlConfigurationFactory.getConfiguration(XmlConfigurationFactory.java:46)\n    at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:451)\n    at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:385)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:237)\n    at org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:158)\n    at org.apache.logging.log4j.web.Log4jWebInitializerImpl.initializeNonJndi(Log4jWebInitializerImpl.java:168)\n    at org.apache.logging.log4j.web.Log4jWebInitializerImpl.start(Log4jWebInitializerImpl.java:110)\n    at org.apache.logging.log4j.web.Log4jServletContextListener.contextInitialized(Log4jServletContextListener.java:56)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4813)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5272)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:725)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:701)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1696)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:484)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:433)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\n    at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nERROR StatusLogger Caught java.lang.AbstractMethodError setting feature http://apache.org/xml/features/nonvalidating/load-external-dtd to false on DocumentBuilderFactory org.apache.xerces.jaxp.DocumentBuilderFactoryImpl@476ac20c: java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\n java.lang.AbstractMethodError: javax.xml.parsers.DocumentBuilderFactory.setFeature(Ljava/lang/String;Z)V\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.setFeature(XmlConfiguration.java:213)\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.disableDtdProcessing(XmlConfiguration.java:207)\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.newDocumentBuilder(XmlConfiguration.java:194)\n    at org.apache.logging.log4j.core.config.xml.XmlConfiguration.&lt;init&gt;(XmlConfiguration.java:92)\n    at org.apache.logging.log4j.core.config.xml.XmlConfigurationFactory.getConfiguration(XmlConfigurationFactory.java:46)\n    at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:451)\n    at org.apache.logging.log4j.core.config.ConfigurationFactory$Factory.getConfiguration(ConfigurationFactory.java:385)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:237)\n    at org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:158)\n    at org.apache.logging.log4j.web.Log4jWebInitializerImpl.initializeNonJndi(Log4jWebInitializerImpl.java:168)\n    at org.apache.logging.log4j.web.Log4jWebInitializerImpl.start(Log4jWebInitializerImpl.java:110)\n    at org.apache.logging.log4j.web.Log4jServletContextListener.contextInitialized(Log4jServletContextListener.java:56)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4813)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5272)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:147)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:725)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:701)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717)\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1696)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:484)\n    at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:433)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\n    at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.__invoke(DelegatingMethodAccessorImpl.java:43)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:324)\n    at sun.rmi.transport.Transport$1.run(Transport.java:200)\n    at sun.rmi.transport.Transport$1.run(Transport.java:197)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/C:/ZKH/WebShop/target/esp-0.0.1-SNAPSHOT/WEB-INF/lib/log4j-slf4j-impl-2.9.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/C:/ZKH/WebShop/target/esp-0.0.1-SNAPSHOT/WEB-INF/lib/slf4j-log4j12-1.6.6.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\n</code></pre>\n\n<p>My jdk version is 1.8.0_102.<br>\nMaven version is 3.3.9.<br>\nlog4j2 version is 2.9.1.  </p>\n\n<p>I view the issue of log4j. The <a href=\"https://issues.apache.org/jira/browse/LOG4J2-2026\" rel=\"noreferrer\">LOG4J2-2026</a> seems to fix it, but version of log4j2 that i used is already 2.9.1 . I don't know what cause this error.</p>\n"},{"tags":["java","java-io"],"owner":{"account_id":26875969,"reputation":1,"user_id":20457225,"display_name":"Hồ Gia Khang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667982391,"answer_count":0,"score":0,"last_activity_date":1667982422,"creation_date":1667981901,"question_id":74371744,"body_markdown":"[![the directory of the image](https://i.stack.imgur.com/z5JIv.png)](https://i.stack.imgur.com/z5JIv.png)\r\n\r\nI&#39;m practicing for my project by trying to replicate the PvZ game. Why the getResourceAsStream() keep returning null.\r\n\r\nI have tried `&quot;/PvZ/data/gfx/mainMenu.png&quot;` and `&quot;PvZ/data/gfx/mainMenu.png&quot;`, but none of them worked.\r\n","title":"Why the getResourceAsStream() in my project always returns null?","body":"<p><a href=\"https://i.stack.imgur.com/z5JIv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z5JIv.png\" alt=\"the directory of the image\" /></a></p>\n<p>I'm practicing for my project by trying to replicate the PvZ game. Why the getResourceAsStream() keep returning null.</p>\n<p>I have tried <code>&quot;/PvZ/data/gfx/mainMenu.png&quot;</code> and <code>&quot;PvZ/data/gfx/mainMenu.png&quot;</code>, but none of them worked.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9325,"page":898,"page_size":100}
