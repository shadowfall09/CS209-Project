{"items":[{"tags":["java","concurrency","concurrenthashmap"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1667446298,"post_id":74297467,"comment_id":131170710,"body_markdown":"The crucial method here is `generateImplementation`, which clearly (as that&#39;s what the error means) somehow results in you calling `put`, or `computeIfAbsent`, or therefore this very `getImplementationOf` method. It&#39;s possible it&#39;s not and there is a bug in CHM&lt; but that is an extraordinary claim that requires extraordinary evidence. At the very least, that evidence would have to include the code of `generateImplementation`. Without it, I&#39;m going with the 99% bet, which is, that generateImpl modifies the map.","body":"The crucial method here is <code>generateImplementation</code>, which clearly (as that&#39;s what the error means) somehow results in you calling <code>put</code>, or <code>computeIfAbsent</code>, or therefore this very <code>getImplementationOf</code> method. It&#39;s possible it&#39;s not and there is a bug in CHM&lt; but that is an extraordinary claim that requires extraordinary evidence. At the very least, that evidence would have to include the code of <code>generateImplementation</code>. Without it, I&#39;m going with the 99% bet, which is, that generateImpl modifies the map."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1667527823,"post_id":74297467,"comment_id":131193227,"body_markdown":"In this instance, _recursive_ means that a thread performed a write operation while inside the scope of another write operation, to the same map instance. This assertion only occurs under the hash bin&#39;s exclusive lock, which a writer must acquire before it can proceed. Therefore unless this rule was violated by its author, the only thread that could trigger this assertion is one that held the lock previously from a write earlier on its call stack. The workaround is to compute [outside](https://github.com/ben-manes/caffeine/wiki/Faq#recursive-computations) of the mapping operation.","body":"In this instance, <i>recursive</i> means that a thread performed a write operation while inside the scope of another write operation, to the same map instance. This assertion only occurs under the hash bin&#39;s exclusive lock, which a writer must acquire before it can proceed. Therefore unless this rule was violated by its author, the only thread that could trigger this assertion is one that held the lock previously from a write earlier on its call stack. The workaround is to compute <a href=\"https://github.com/ben-manes/caffeine/wiki/Faq#recursive-computations\" rel=\"nofollow noreferrer\">outside</a> of the mapping operation."}],"answers":[{"tags":[],"owner":{"account_id":5584931,"reputation":2048,"user_id":4425643,"accept_rate":64,"display_name":"CausingUnderflowsEverywhere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667444572,"creation_date":1667444572,"answer_id":74297747,"question_id":74297467,"body_markdown":"## ConcurrentHashmap - computeIfAbsent\r\n    \r\n**Throws:**\r\nIllegalStateException – if the computation detectably attempts a recursive update to this map that would otherwise never complete\r\n\r\n-------\r\n\r\n\r\nDiving into the ConcurrentHashmap class file, the following code triggers the IllegalStateException.\r\n\r\n        Node&lt;K,V&gt; pred = e;\r\n        if ((e = e.next) == null) {\r\n            if ((val = mappingFunction.apply(key)) != null) {\r\n                if (pred.next != null)\r\n                    throw new IllegalStateException(&quot;Recursive update&quot;);\r\n                added = true;\r\n                pred.next = new Node&lt;K,V&gt;(h, key, val);\r\n            }\r\n            break;\r\n        }\r\n\r\nWe can see it throws the exception when the mapping function has altered the HashMap making the last node have a new node which it didn&#39;t just before in the `(e = e.next) == null` check.","title":"ConcurrentHashMap throws IllegalStateException: Recursive update","body":"<h2>ConcurrentHashmap - computeIfAbsent</h2>\n<p><strong>Throws:</strong>\nIllegalStateException – if the computation detectably attempts a recursive update to this map that would otherwise never complete</p>\n<hr />\n<p>Diving into the ConcurrentHashmap class file, the following code triggers the IllegalStateException.</p>\n<pre><code>    Node&lt;K,V&gt; pred = e;\n    if ((e = e.next) == null) {\n        if ((val = mappingFunction.apply(key)) != null) {\n            if (pred.next != null)\n                throw new IllegalStateException(&quot;Recursive update&quot;);\n            added = true;\n            pred.next = new Node&lt;K,V&gt;(h, key, val);\n        }\n        break;\n    }\n</code></pre>\n<p>We can see it throws the exception when the mapping function has altered the HashMap making the last node have a new node which it didn't just before in the <code>(e = e.next) == null</code> check.</p>\n"},{"tags":[],"owner":{"account_id":2184058,"reputation":1185,"user_id":1932890,"accept_rate":67,"display_name":"raner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667979734,"creation_date":1667979734,"answer_id":74371387,"question_id":74297467,"body_markdown":"Alright, mea culpa, false alarm, after some further debugging it turns out that `ConcurrentHashMap` works as designed. There was a rarely executed code branch, where the runtime code generator made use of itself to create certain classes (I should have foreseen that this would cause trouble at some point). The problem only surfaced when the particular class was not in the cache yet, i.e. there was a _recursive_ call but no _update_, which made it look like a race condition (which it technically was).\r\n\r\nMy fallacy when analyzing the stack traces was that the offending update (of course!) had already popped of the stack since it already had already been completed. The first update (which caused the problem) succeeded just fine, but it was the second update that threw the exception, and, by then, the offending earlier update was no longer on the stack.\r\n\r\nThe way I tracked it down in the end was by using an instrumented anonymous subclass of `CHM`. Instead of just initializing the map with `new ConcurrentHashMap&lt;Class&lt;_Artifact_&gt;, Class&lt;? extends _Artifact_&gt;&gt;();`, I used:\r\n\r\n    new ConcurrentHashMap&lt;Class&lt;_Artifact_&gt;, Class&lt;? extends _Artifact_&gt;&gt;()\r\n    {\r\n        @Override\r\n        public Class&lt;? extends _Artifact_&gt; computeIfAbsent(Class&lt;_Artifact_&gt; key, Function&lt;? super Class&lt;_Artifact_&gt;, ? extends Class&lt;? extends _Artifact_&gt;&gt; mappingFunction)\r\n        {\r\n            Stream&lt;StackTraceElement&gt; stack = Stream.of(new Throwable().getStackTrace());\r\n            if (stack.filter(element -&gt; element.getMethodName().equals(&quot;computeIfAbsent&quot;)).count() &gt; 2)\r\n            {\r\n                throw new RuntimeException(&quot;recursive update happening!&quot;);\r\n            }\r\n            return super.computeIfAbsent(key, mappingFunction);\r\n        }   \r\n    };\r\n\r\nNormally, there should only be two occurrences of `computeIfAbsent` in the stack (one for the modified implementation in the subclass, and one for the original implementation called via `super`). If there were more than two, this means there was a recursive update (unless there happened to be multiple different maps involved). This pinpointed the source of the problem pretty quickly, and I thought it might be worth sharing (alternatively, some debuggers may have a feature that can be used to the same effect).","title":"ConcurrentHashMap throws IllegalStateException: Recursive update","body":"<p>Alright, mea culpa, false alarm, after some further debugging it turns out that <code>ConcurrentHashMap</code> works as designed. There was a rarely executed code branch, where the runtime code generator made use of itself to create certain classes (I should have foreseen that this would cause trouble at some point). The problem only surfaced when the particular class was not in the cache yet, i.e. there was a <em>recursive</em> call but no <em>update</em>, which made it look like a race condition (which it technically was).</p>\n<p>My fallacy when analyzing the stack traces was that the offending update (of course!) had already popped of the stack since it already had already been completed. The first update (which caused the problem) succeeded just fine, but it was the second update that threw the exception, and, by then, the offending earlier update was no longer on the stack.</p>\n<p>The way I tracked it down in the end was by using an instrumented anonymous subclass of <code>CHM</code>. Instead of just initializing the map with <code>new ConcurrentHashMap&lt;Class&lt;_Artifact_&gt;, Class&lt;? extends _Artifact_&gt;&gt;();</code>, I used:</p>\n<pre><code>new ConcurrentHashMap&lt;Class&lt;_Artifact_&gt;, Class&lt;? extends _Artifact_&gt;&gt;()\n{\n    @Override\n    public Class&lt;? extends _Artifact_&gt; computeIfAbsent(Class&lt;_Artifact_&gt; key, Function&lt;? super Class&lt;_Artifact_&gt;, ? extends Class&lt;? extends _Artifact_&gt;&gt; mappingFunction)\n    {\n        Stream&lt;StackTraceElement&gt; stack = Stream.of(new Throwable().getStackTrace());\n        if (stack.filter(element -&gt; element.getMethodName().equals(&quot;computeIfAbsent&quot;)).count() &gt; 2)\n        {\n            throw new RuntimeException(&quot;recursive update happening!&quot;);\n        }\n        return super.computeIfAbsent(key, mappingFunction);\n    }   \n};\n</code></pre>\n<p>Normally, there should only be two occurrences of <code>computeIfAbsent</code> in the stack (one for the modified implementation in the subclass, and one for the original implementation called via <code>super</code>). If there were more than two, this means there was a recursive update (unless there happened to be multiple different maps involved). This pinpointed the source of the problem pretty quickly, and I thought it might be worth sharing (alternatively, some debuggers may have a feature that can be used to the same effect).</p>\n"}],"owner":{"account_id":2184058,"reputation":1185,"user_id":1932890,"accept_rate":67,"display_name":"raner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1809,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74371387,"answer_count":2,"score":1,"last_activity_date":1667979734,"creation_date":1667441117,"question_id":74297467,"body_markdown":"First of all, I am aware of several similar ([53998845][1], [71087512][2], [71269113][3]) and related ([28840047][4], [44224952][5]) questions, but I believe that none of them exactly captures the same situation that I am encountering.\r\n\r\nI am using a `ConcurrentHashMap` as a cache for some runtime-generated Java classes. Specifically, I use `computeIfAbsent` to either return a previously generated class, or generate the class on the fly. In some circumstances, this call throws an `IllegalStateException: Recursive update`. An example stack trace looks like this:\r\n\r\n    java.lang.IllegalStateException: Recursive update\r\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1742)\r\n    at pro.projo.internal.rcg.RuntimeCodeGenerationHandler.getImplementationOf(RuntimeCodeGenerationHandler.java:151)\r\n    at pro.projo.Projo.getImplementationClass(Projo.java:451)\r\n    at pro.projo.Projo.getImplementationClass(Projo.java:438)\r\n    at fxxx.natives.bootstrap.Bootstrap$1.lambda$configure$2(Bootstrap.java:63)\r\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1510)\r\n    at fxxx.natives.bootstrap.Bootstrap$1.configure(Bootstrap.java:76)\r\n    at com.google.inject.AbstractModule.configure(AbstractModule.java:66)\r\n    at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:409)\r\n    at com.google.inject.spi.Elements.getElements(Elements.java:108)\r\n    at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:160)\r\n    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:107)\r\n    at com.google.inject.Guice.createInjector(Guice.java:87)\r\n    at com.google.inject.Guice.createInjector(Guice.java:69)\r\n    at com.google.inject.Guice.createInjector(Guice.java:59)\r\n    at fxxx.natives.bootstrap.Bootstrap.&lt;init&gt;(Bootstrap.java:89)\r\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\r\n    at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:782)\r\n    at java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:724)\r\n    at java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1396)\r\n    at java.base/java.util.ServiceLoader.findFirst(ServiceLoader.java:1811)\r\n    at fxxx.bootstrap.Bootstrap.load(Bootstrap.java:34)\r\n    at fxxx.test.junit.FxxxTestClassTestDescriptor.instantiateTestClass(FxxxTestClassTestDescriptor.java:27)\r\n\r\nAs far as I am aware, I am not violating `ConcurrentHashMap.computeIfAbsent`&#39;s requirement that &quot;_The mapping function must not modify this map during computation_&quot;, as that function is a pure function without side effects.\r\nFor the other requirement, that &quot;_the computation should be short and simple_&quot;, my code&#39;s compliance is not as clear cut, since generating the classes on the fly is definitely an involved and expensive process (hence the caching).\r\n\r\nI do, however, believe that the exception&#39;s claimed &quot;_Recursive update_&quot; is an incorrect assessment of what is actually going on here. If that were indeed the case, I would expect to see multiple occurrences of my code&#39;s call to `CHM.computeIfAbsent` in the stack trace, but this is not what I see (not in the example stack trace, or any other stack trace that I&#39;ve seen with this problem).\r\n\r\nThe code in `CHM` is as follows:\r\n\r\n    1738            Node&lt;K,V&gt; pred = e;\r\n    1739            if ((e = e.next) == null) {\r\n    1740                if ((val = mappingFunction.apply(key)) != null) {\r\n    1741                    if (pred.next != null)\r\n    1742                        throw new IllegalStateException(&quot;Recursive update&quot;);\r\n    1743                    added = true;\r\n    1744                    pred.next = new Node&lt;K,V&gt;(h, key, val);\r\n    1745                }\r\n    1746                break;\r\n    1747            }\r\n\r\nFrom the stack trace, I already know that this is not a recursive call to `computeIfAbsent` from within another `computeIfAbsent` invocation. The code saves a reference to the previous node as `pred` (line 1738) and then updates `e` to the next node (line 1739). Since we made it past the `if` check, we know that the original `e`&#39;s `next` value was `null`, therefore `pred.next` should at this point also be `null`.\r\nHowever, a subsequent check (line 1741) reveals that `pred` next is no longer `null` (which triggers the exception).\r\nAs a _recursive_ update is not corroborated by the stack trace, I am assuming that this must actually be a _concurrent_ update instead. It appears that the original `e` object, now known as `pred`, has its `next` pointer changed by another thread (`java.util.concurrent.ConcurrentHashMap.Node` produces mutable objects, unfortunately).\r\n\r\nI am using `CHM` for the one reason that this caching mechanism must be thread-safe and have low overhead (i.e., no blanket locking). I would expect concurrent update of the cache to work. However, in this particular scenario, _concurrent_ access does _not_ work, and seems to be incorrectly classified as a _recursive_ update instead.\r\n\r\nFor further context, my own code that invokes `computeIfAbsent` looks like this:\r\n\r\n    public Class&lt;? extends _Artifact_&gt; getImplementationOf(Class&lt;_Artifact_&gt; type, boolean defaultPackage)\r\n    {\r\n        return implementationClassCache.computeIfAbsent(type, it -&gt; generateImplementation(it, defaultPackage));\r\n    }\r\n\r\nThis code is from a utility library that needs to work on Java 8, but I&#39;ve only ever seen the exception happen when the code is used from another project that&#39;s running on Java 11.\r\n\r\nIs this another bug in `ConcurrentHashMap` or am I overlooking something regarding the proper use of this class?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53998845\r\n  [2]: https://stackoverflow.com/questions/71087512\r\n  [3]: https://stackoverflow.com/questions/71269113\r\n  [4]: https://stackoverflow.com/questions/28840047\r\n  [5]: https://stackoverflow.com/questions/44224952","title":"ConcurrentHashMap throws IllegalStateException: Recursive update","body":"<p>First of all, I am aware of several similar (<a href=\"https://stackoverflow.com/questions/53998845\">53998845</a>, <a href=\"https://stackoverflow.com/questions/71087512\">71087512</a>, <a href=\"https://stackoverflow.com/questions/71269113\">71269113</a>) and related (<a href=\"https://stackoverflow.com/questions/28840047\">28840047</a>, <a href=\"https://stackoverflow.com/questions/44224952\">44224952</a>) questions, but I believe that none of them exactly captures the same situation that I am encountering.</p>\n<p>I am using a <code>ConcurrentHashMap</code> as a cache for some runtime-generated Java classes. Specifically, I use <code>computeIfAbsent</code> to either return a previously generated class, or generate the class on the fly. In some circumstances, this call throws an <code>IllegalStateException: Recursive update</code>. An example stack trace looks like this:</p>\n<pre><code>java.lang.IllegalStateException: Recursive update\nat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1742)\nat pro.projo.internal.rcg.RuntimeCodeGenerationHandler.getImplementationOf(RuntimeCodeGenerationHandler.java:151)\nat pro.projo.Projo.getImplementationClass(Projo.java:451)\nat pro.projo.Projo.getImplementationClass(Projo.java:438)\nat fxxx.natives.bootstrap.Bootstrap$1.lambda$configure$2(Bootstrap.java:63)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1510)\nat fxxx.natives.bootstrap.Bootstrap$1.configure(Bootstrap.java:76)\nat com.google.inject.AbstractModule.configure(AbstractModule.java:66)\nat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:409)\nat com.google.inject.spi.Elements.getElements(Elements.java:108)\nat com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:160)\nat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:107)\nat com.google.inject.Guice.createInjector(Guice.java:87)\nat com.google.inject.Guice.createInjector(Guice.java:69)\nat com.google.inject.Guice.createInjector(Guice.java:59)\nat fxxx.natives.bootstrap.Bootstrap.&lt;init&gt;(Bootstrap.java:89)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:481)\nat java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:782)\nat java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:724)\nat java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1396)\nat java.base/java.util.ServiceLoader.findFirst(ServiceLoader.java:1811)\nat fxxx.bootstrap.Bootstrap.load(Bootstrap.java:34)\nat fxxx.test.junit.FxxxTestClassTestDescriptor.instantiateTestClass(FxxxTestClassTestDescriptor.java:27)\n</code></pre>\n<p>As far as I am aware, I am not violating <code>ConcurrentHashMap.computeIfAbsent</code>'s requirement that &quot;<em>The mapping function must not modify this map during computation</em>&quot;, as that function is a pure function without side effects.\nFor the other requirement, that &quot;<em>the computation should be short and simple</em>&quot;, my code's compliance is not as clear cut, since generating the classes on the fly is definitely an involved and expensive process (hence the caching).</p>\n<p>I do, however, believe that the exception's claimed &quot;<em>Recursive update</em>&quot; is an incorrect assessment of what is actually going on here. If that were indeed the case, I would expect to see multiple occurrences of my code's call to <code>CHM.computeIfAbsent</code> in the stack trace, but this is not what I see (not in the example stack trace, or any other stack trace that I've seen with this problem).</p>\n<p>The code in <code>CHM</code> is as follows:</p>\n<pre><code>1738            Node&lt;K,V&gt; pred = e;\n1739            if ((e = e.next) == null) {\n1740                if ((val = mappingFunction.apply(key)) != null) {\n1741                    if (pred.next != null)\n1742                        throw new IllegalStateException(&quot;Recursive update&quot;);\n1743                    added = true;\n1744                    pred.next = new Node&lt;K,V&gt;(h, key, val);\n1745                }\n1746                break;\n1747            }\n</code></pre>\n<p>From the stack trace, I already know that this is not a recursive call to <code>computeIfAbsent</code> from within another <code>computeIfAbsent</code> invocation. The code saves a reference to the previous node as <code>pred</code> (line 1738) and then updates <code>e</code> to the next node (line 1739). Since we made it past the <code>if</code> check, we know that the original <code>e</code>'s <code>next</code> value was <code>null</code>, therefore <code>pred.next</code> should at this point also be <code>null</code>.\nHowever, a subsequent check (line 1741) reveals that <code>pred</code> next is no longer <code>null</code> (which triggers the exception).\nAs a <em>recursive</em> update is not corroborated by the stack trace, I am assuming that this must actually be a <em>concurrent</em> update instead. It appears that the original <code>e</code> object, now known as <code>pred</code>, has its <code>next</code> pointer changed by another thread (<code>java.util.concurrent.ConcurrentHashMap.Node</code> produces mutable objects, unfortunately).</p>\n<p>I am using <code>CHM</code> for the one reason that this caching mechanism must be thread-safe and have low overhead (i.e., no blanket locking). I would expect concurrent update of the cache to work. However, in this particular scenario, <em>concurrent</em> access does <em>not</em> work, and seems to be incorrectly classified as a <em>recursive</em> update instead.</p>\n<p>For further context, my own code that invokes <code>computeIfAbsent</code> looks like this:</p>\n<pre><code>public Class&lt;? extends _Artifact_&gt; getImplementationOf(Class&lt;_Artifact_&gt; type, boolean defaultPackage)\n{\n    return implementationClassCache.computeIfAbsent(type, it -&gt; generateImplementation(it, defaultPackage));\n}\n</code></pre>\n<p>This code is from a utility library that needs to work on Java 8, but I've only ever seen the exception happen when the code is used from another project that's running on Java 11.</p>\n<p>Is this another bug in <code>ConcurrentHashMap</code> or am I overlooking something regarding the proper use of this class?</p>\n"},{"tags":["java","web-services","rest","soap","spring-ws"],"answers":[{"tags":[],"owner":{"account_id":7795,"reputation":116405,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1471127380,"creation_date":1308523600,"answer_id":6405548,"question_id":6405517,"body_markdown":"There&#39;s nothing stopping you from send POST filled with XML to get results filled with XML back.\r\n\r\nThe simplest thing to do is somehow capture the SOAP requests going back and forth, and simply turn the request in to a template with the blanks being your parameters, and then using XPath on the resulting XML to pull your results out.\r\n\r\nThe only nit being you might need SOAPAction header in your POST, but likely not. \r\n\r\nIt&#39;s really no big deal. If you have dozens of methods, it&#39;s more of a pain. Also, if you&#39;re using any of the encryption parts of SOAP, then it&#39;s more of a pain. But if just a few, in the end it&#39;s just XML, and a bulk of that XML is boilerplate, so looked at that way, it&#39;s pretty straightforward.\r\n\r\nAddenda:\r\n\r\nIf you have back end logic that you want to front with a more HTTP friendly service, then JAX-RS can to that quite easily, but it would require coding on the server end.\r\n\r\nIf you have an existing SOAP web service that you wish to use, then forget the whole SOAP part of the equation, and simply treat it as an HTTP web service that uses XML payloads. It&#39;s still SOAP, but you&#39;re not using any SOAP tooling on the client side. You&#39;re simply assembling XML payloads on the client requests (from templates would be easiest, IMHO), and consuming XML payloads as a result, and trading these over HTTP.\r\n\r\nDepending on how many different methods on the existing web service you intend to call gives you an idea of the scope of the work involved. It&#39;s simple work (once you can view the payloads easily), but it&#39;s still work. If you only have a few methods, especially if the interface is stable and not changing, it&#39;s far easier to just work with the raw XML than learn and fight some new unfamiliar framework.","title":"Convert SOAP to a virtual Restful service?","body":"<p>There's nothing stopping you from send POST filled with XML to get results filled with XML back.</p>\n\n<p>The simplest thing to do is somehow capture the SOAP requests going back and forth, and simply turn the request in to a template with the blanks being your parameters, and then using XPath on the resulting XML to pull your results out.</p>\n\n<p>The only nit being you might need SOAPAction header in your POST, but likely not. </p>\n\n<p>It's really no big deal. If you have dozens of methods, it's more of a pain. Also, if you're using any of the encryption parts of SOAP, then it's more of a pain. But if just a few, in the end it's just XML, and a bulk of that XML is boilerplate, so looked at that way, it's pretty straightforward.</p>\n\n<p>Addenda:</p>\n\n<p>If you have back end logic that you want to front with a more HTTP friendly service, then JAX-RS can to that quite easily, but it would require coding on the server end.</p>\n\n<p>If you have an existing SOAP web service that you wish to use, then forget the whole SOAP part of the equation, and simply treat it as an HTTP web service that uses XML payloads. It's still SOAP, but you're not using any SOAP tooling on the client side. You're simply assembling XML payloads on the client requests (from templates would be easiest, IMHO), and consuming XML payloads as a result, and trading these over HTTP.</p>\n\n<p>Depending on how many different methods on the existing web service you intend to call gives you an idea of the scope of the work involved. It's simple work (once you can view the payloads easily), but it's still work. If you only have a few methods, especially if the interface is stable and not changing, it's far easier to just work with the raw XML than learn and fight some new unfamiliar framework.</p>\n"},{"tags":[],"owner":{"account_id":418377,"reputation":534,"user_id":794902,"display_name":"Al Baker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308532683,"creation_date":1308532683,"answer_id":6406098,"question_id":6405517,"body_markdown":"Spring-WS just adds some annotations to your beans and then you have Spring beans doing most of the heavy lifting.  Presumably you have some classes annotated with @Endpoint, @PayloadRoot and the like.  You should be able to re-use all of these in one of three ways.\r\n\r\nIf your Spring-WS endpoint classes are adapter pattern style (e.g. your Endpoint class is injected with a POJO service that does the real work), then you could do a similar adapter-style Spring MVC Controller (where REST exists in Spring 3.0).\r\n\r\nIf you have your annotations directly on your business logic class, then in theory, you should be able to just sprinkle on some more annotations (might get a little busy-looking).\r\n\r\nIf you have Spring-WS beans that are POX (and not SOAP), then you might be able to get away with some fancy URL mappings to give them more RESTful looking URLs\r\n\r\nTo migrate to the Spring 3 for REST support, add the appropriate @RequestMapping and another annotations to expose them as REST services to match specific URLs.  While you&#39;re adding, you might as well remove the old @PayloadRoots and @Endpoint, but that may not be a big deal.  Of course if you leave old Spring-WS annotations around, you&#39;ll still need the Spring-WS jars on your classpath, but as long as you are not using a Spring-WS servlet nor any other other beans in your Spring file - you should be okay (in theory...).\r\n\r\nThe biggest gotchas will be:\r\n\r\n - Don&#39;t forget to remove Spring-WS beans from your Spring file\r\n - DO remember to add the Spring MVC beans to your Spring file, and most importantly different Dispatcher servlet\r\n - REST security in Spring will be provided by Spring Security, not the same SOAP interceptors found in Spring-WS, so that will be a complete overhaul.  The good news is that Spring Security is actually pretty easy to work with\r\n\r\n","title":"Convert SOAP to a virtual Restful service?","body":"<p>Spring-WS just adds some annotations to your beans and then you have Spring beans doing most of the heavy lifting.  Presumably you have some classes annotated with @Endpoint, @PayloadRoot and the like.  You should be able to re-use all of these in one of three ways.</p>\n\n<p>If your Spring-WS endpoint classes are adapter pattern style (e.g. your Endpoint class is injected with a POJO service that does the real work), then you could do a similar adapter-style Spring MVC Controller (where REST exists in Spring 3.0).</p>\n\n<p>If you have your annotations directly on your business logic class, then in theory, you should be able to just sprinkle on some more annotations (might get a little busy-looking).</p>\n\n<p>If you have Spring-WS beans that are POX (and not SOAP), then you might be able to get away with some fancy URL mappings to give them more RESTful looking URLs</p>\n\n<p>To migrate to the Spring 3 for REST support, add the appropriate @RequestMapping and another annotations to expose them as REST services to match specific URLs.  While you're adding, you might as well remove the old @PayloadRoots and @Endpoint, but that may not be a big deal.  Of course if you leave old Spring-WS annotations around, you'll still need the Spring-WS jars on your classpath, but as long as you are not using a Spring-WS servlet nor any other other beans in your Spring file - you should be okay (in theory...).</p>\n\n<p>The biggest gotchas will be:</p>\n\n<ul>\n<li>Don't forget to remove Spring-WS beans from your Spring file</li>\n<li>DO remember to add the Spring MVC beans to your Spring file, and most importantly different Dispatcher servlet</li>\n<li>REST security in Spring will be provided by Spring Security, not the same SOAP interceptors found in Spring-WS, so that will be a complete overhaul.  The good news is that Spring Security is actually pretty easy to work with</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":114848,"reputation":134179,"user_id":301832,"accept_rate":60,"display_name":"Donal Fellows"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308564342,"creation_date":1308564342,"answer_id":6409640,"question_id":6405517,"body_markdown":"Looking at your code, it&#39;s very difficult to tell what the best approach would be. REST and SOAP are really quite different ways of imagining how a web-based service interface could work: SOAP is all about method calls, and REST is all about resources, representations and links. To convert, you have to start from your underlying abstract API.\r\n\r\nIf your basic API is one of “I give you a document, you give me a response document” and there&#39;s no exposure of anything other than that, it&#39;s a _very_ SOAP-oriented model. You can model that in REST through POSTing a document and getting a response, but it&#39;s not at all elegant. If you can instead think of your interface in terms of “here&#39;s an overall resource, with properties I can set, and certain operations I can do” then that maps to REST far more easily (the overall resource is represented as a document full of links to individual property resources and operations, and the individual properties can be GET and PUT – and possibly DELETEd – as necessary). Which style you&#39;ve got… well, it looks a lot like you&#39;ve got the first, but I&#39;m only guessing because determining it for real would require looking at more of your code than you&#39;ve shown.","title":"Convert SOAP to a virtual Restful service?","body":"<p>Looking at your code, it's very difficult to tell what the best approach would be. REST and SOAP are really quite different ways of imagining how a web-based service interface could work: SOAP is all about method calls, and REST is all about resources, representations and links. To convert, you have to start from your underlying abstract API.</p>\n\n<p>If your basic API is one of “I give you a document, you give me a response document” and there's no exposure of anything other than that, it's a <em>very</em> SOAP-oriented model. You can model that in REST through POSTing a document and getting a response, but it's not at all elegant. If you can instead think of your interface in terms of “here's an overall resource, with properties I can set, and certain operations I can do” then that maps to REST far more easily (the overall resource is represented as a document full of links to individual property resources and operations, and the individual properties can be GET and PUT – and possibly DELETEd – as necessary). Which style you've got… well, it looks a lot like you've got the first, but I'm only guessing because determining it for real would require looking at more of your code than you've shown.</p>\n"},{"tags":[],"owner":{"account_id":5358157,"reputation":153,"user_id":4270288,"display_name":"jony.buzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605816059,"creation_date":1605814428,"answer_id":64918764,"question_id":6405517,"body_markdown":"This is how I solved that problem, using Spring Boot + Spring Integration.\r\n\r\n- Having a WSDL of the SOAP WS, I used maven-jaxb2-plugin to have my Java POJO&#39;s generated at build time.\r\n- Optionally, you could create transformations to adapt those classes and attributes to what the REST client expected.\r\n- Using Spring Integration, I mapped every REST endpoint to a SOAP gateway like this:\r\n\r\n```java\r\n@Bean\r\npublic IntegrationFlow myFlow(GenericTransformer reqTransformer, GenericTransformer resTransformer) {\r\n    return IntegrationFlows\r\n        .from(this.getRestGateway(POST, &quot;/api/entity&quot;, MyRestResponse.class))\r\n        .transform(reqTransformer)\r\n        .handle(this.getSoapGateway(&quot;gwBean&quot;))\r\n        .enrichHeaders(h -&gt; h.header(HttpHeaders.STATUS_CODE, HttpStatus.OK))\r\n        .transform(resTransformer)\r\n        .logAndReply();\r\n}\r\n\r\nprivate HttpRequestHandlingMessagingGateway getRestGateway(HttpMethod method, String path, Class payloadType) {\r\n    HttpRequestHandlingMessagingGateway httpGateway = new HttpRequestHandlingMessagingGateway();\r\n    RequestMapping requestMapping = new RequestMapping();\r\n    requestMapping.setMethods(method);\r\n    requestMapping.setPathPatterns(path);\r\n    httpGateway.setRequestMapping(requestMapping);\r\n    httpGateway.setReplyTimeout(timeout);\r\n    httpGateway.setRequestPayloadTypeClass(payloadType);\r\n    httpGateway.setMessageConverters(asList(jsonConverter));\r\n    return httpGateway;\r\n}\r\n\r\nprivate MarshallingWebServiceOutboundGateway getSoapGateway(String nameBean) {\r\n    Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n    marshaller.setContextPath(generatedClassesPackage);\r\n    SaajSoapMessageFactory messageFactory = new SaajSoapMessageFactory();\r\n    messageFactory.setSoapVersion(SoapVersion.SOAP_12);\r\n    messageFactory.afterPropertiesSet();\r\n    MarshallingWebServiceOutboundGateway webServiceGateway = new MarshallingWebServiceOutboundGateway(soapUri, marshaller);\r\n    webServiceGateway.setMessageFactory(messageFactory);\r\n    webServiceGateway.setBeanName(nombreBean);\r\n    return webServiceGateway;\r\n}\r\n```","title":"Convert SOAP to a virtual Restful service?","body":"<p>This is how I solved that problem, using Spring Boot + Spring Integration.</p>\n<ul>\n<li>Having a WSDL of the SOAP WS, I used maven-jaxb2-plugin to have my Java POJO's generated at build time.</li>\n<li>Optionally, you could create transformations to adapt those classes and attributes to what the REST client expected.</li>\n<li>Using Spring Integration, I mapped every REST endpoint to a SOAP gateway like this:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic IntegrationFlow myFlow(GenericTransformer reqTransformer, GenericTransformer resTransformer) {\n    return IntegrationFlows\n        .from(this.getRestGateway(POST, &quot;/api/entity&quot;, MyRestResponse.class))\n        .transform(reqTransformer)\n        .handle(this.getSoapGateway(&quot;gwBean&quot;))\n        .enrichHeaders(h -&gt; h.header(HttpHeaders.STATUS_CODE, HttpStatus.OK))\n        .transform(resTransformer)\n        .logAndReply();\n}\n\nprivate HttpRequestHandlingMessagingGateway getRestGateway(HttpMethod method, String path, Class payloadType) {\n    HttpRequestHandlingMessagingGateway httpGateway = new HttpRequestHandlingMessagingGateway();\n    RequestMapping requestMapping = new RequestMapping();\n    requestMapping.setMethods(method);\n    requestMapping.setPathPatterns(path);\n    httpGateway.setRequestMapping(requestMapping);\n    httpGateway.setReplyTimeout(timeout);\n    httpGateway.setRequestPayloadTypeClass(payloadType);\n    httpGateway.setMessageConverters(asList(jsonConverter));\n    return httpGateway;\n}\n\nprivate MarshallingWebServiceOutboundGateway getSoapGateway(String nameBean) {\n    Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n    marshaller.setContextPath(generatedClassesPackage);\n    SaajSoapMessageFactory messageFactory = new SaajSoapMessageFactory();\n    messageFactory.setSoapVersion(SoapVersion.SOAP_12);\n    messageFactory.afterPropertiesSet();\n    MarshallingWebServiceOutboundGateway webServiceGateway = new MarshallingWebServiceOutboundGateway(soapUri, marshaller);\n    webServiceGateway.setMessageFactory(messageFactory);\n    webServiceGateway.setBeanName(nombreBean);\n    return webServiceGateway;\n}\n</code></pre>\n"}],"owner":{"account_id":159560,"reputation":11453,"user_id":379028,"accept_rate":85,"display_name":"Spring"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11213,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":6405548,"answer_count":4,"score":2,"last_activity_date":1667979677,"creation_date":1308523147,"question_id":6405517,"body_markdown":"Is there a way to use my SOAP web service(spring-ws, java) as a XML based RESTful service virtually?\r\n\r\nI don&#39;t want to re-write whole my SOAP web service into RESTful from scratch in java, but I need to access it through iphone using REST, which they already have easy native support.\r\n\r\nXMLGateway, Proxys..? or some extra java code? since my SOAP request and response is simply an XML file why can&#39;t I modify it to be used by a REST service?\r\n\r\nOr without changing changing any logic and xml parsing in my application is that easy to add jax-rs annotations and create a rest request xml?\r\n\r\nmy config spring file is like this:\r\n\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n\t&lt;bean id=&quot;webServicePluginDescriptor&quot;\r\n\t\tclass=&quot;com.mysite.ws.configuration.MyWebservicePluginDescriptor&quot; /&gt;\r\n\r\n\t&lt;bean id=&quot;payloadMapping&quot;\r\n\t\tclass=&quot;org.springframework.ws.server.endpoint.mapping.PayloadRootQNameEndpointMapping&quot;&gt;\r\n\t\t&lt;property name=&quot;defaultEndpoint&quot; ref=&quot;inferenceEndPoint&quot; /&gt;\r\n\t\t&lt;property name=&quot;interceptors&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;ref local=&quot;validatingInterceptor&quot; /&gt;\r\n\t\t\t\t&lt;ref local=&quot;payLoadInterceptor&quot; /&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;payLoadInterceptor&quot;\r\n\t\tclass=&quot;org.springframework.ws.server.endpoint.interceptor.PayloadLoggingInterceptor&quot; /&gt;\r\n\r\n\t&lt;bean id=&quot;validatingInterceptor&quot;\r\n\t\tclass=&quot;org.springframework.ws.soap.server.endpoint.interceptor.PayloadValidatingInterceptor&quot;&gt;\r\n\t\t&lt;property name=&quot;schema&quot;\r\n\t\t\tvalue=&quot;classpath:/wsdl/Request.xsd&quot; /&gt;\r\n\t\t&lt;property name=&quot;validateRequest&quot; value=&quot;true&quot; /&gt;\r\n\t\t&lt;property name=&quot;validateResponse&quot; value=&quot;false&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;PropertyResource&quot; class=&quot;com.mysite.ws.im.PropertyResource&quot;&gt;\r\n\t\t&lt;property name=&quot;resource&quot;\r\n\t\t\tvalue=&quot;/WEB-INF/client-specific/InferenceMachine.properties&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;inferenceEndPoint&quot; class=&quot;com.mysite.ws.web.InferenceEndPoint&quot;&gt;\r\n\t\t&lt;property name=&quot;messageWebService&quot; ref=&quot;messageWebService&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;messageWebService&quot; class=&quot;com.mysite.ws.service.MessageWebService&quot;\r\n\t\tscope=&quot;request&quot;&gt;\r\n\t\t&lt;aop:scoped-proxy /&gt;\r\n\t\t&lt;property name=&quot;inferenceService&quot; ref=&quot;inferenceService&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;Request&quot; class=&quot;org.springframework.xml.xsd.SimpleXsdSchema&quot;&gt;\r\n\t\t&lt;property name=&quot;xsd&quot; value=&quot;classpath:/wsdl/Request.xsd&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;Response&quot; class=&quot;org.springframework.xml.xsd.SimpleXsdSchema&quot;&gt;\r\n\t\t&lt;property name=&quot;xsd&quot; value=&quot;classpath:/wsdl/Response.xsd&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\t&lt;bean id=&quot;Error&quot; class=&quot;org.springframework.xml.xsd.SimpleXsdSchema&quot;&gt;\r\n\t\t&lt;property name=&quot;xsd&quot; value=&quot;classpath:/wsdl/Error.xsd&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;mwsid&quot;\r\n\t\tclass=&quot;org.springframework.ws.wsdl.wsdl11.SimpleWsdl11Definition&quot;&gt;\r\n\t\t&lt;constructor-arg value=&quot;classpath:/wsdl/mtchwsdl.wsdl&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;inferenceService&quot; class=&quot;com.mysite.ws.im.InferenceService&quot;\r\n\t\tscope=&quot;request&quot;&gt;\r\n\t\t&lt;aop:scoped-proxy /&gt;\r\n\t\t&lt;property name=&quot;webServiceConfiguration&quot; ref=&quot;wsPlayerConfiguration&quot; /&gt;\r\n\r\n\t\t&lt;property name=&quot;properties&quot;&gt;\r\n\t\t\t&lt;bean class=&quot;com.mysite.ws.im.PropertyResource&quot;&gt;\r\n\t\t\t\t&lt;property name=&quot;resource&quot;\r\n\t\t\t\t\tvalue=&quot;/WEB-INF/client-specific/InferenceMachine.properties&quot; /&gt;\r\n\t\t\t&lt;/bean&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;!-- ~~~~~~~ Application beans ~~~~~~~ --&gt;\r\n\t&lt;bean id=&quot;wsPlayerConfiguration&quot;\r\n\t\tclass=&quot;com.mysite.ws.configuration.WebServiceConfiguration&quot;\r\n\t\tscope=&quot;request&quot;&gt;\r\n\t\t&lt;aop:scoped-proxy /&gt;\r\n\t\t&lt;property name=&quot;playerConfiguration&quot; ref=&quot;playerConfiguration&quot;&gt;&lt;/property&gt;\r\n\t\t&lt;property name=&quot;configurationSetup&quot; ref=&quot;configurationSetup&quot;&gt;&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\nand this is my endpoint class:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    /**\r\n     * The EndPoint of the Web Service Application. This class gets the raw\r\n     * SOAP-body message from the Spring Payload Dispatcher and sends the message to\r\n     * the @see MessageService class. After it has gotten the response XML message\r\n     * it returns this back to the Spring Payload Dispatcher.\r\n     */\r\n    public class InferenceEndPoint extends AbstractJDomPayloadEndpoint {\r\n\r\n    \tprivate MessageWebService messageWebService;\r\n    \tpublic InferenceEndPoint() {\r\n    \t}\r\n\t\r\n    \t@Override\r\n    \tprotected Element invokeInternal(Element inferenceRequest) throws Exception {\r\n    \t\tElement ret = messageWebService.handleRequest(inferenceRequest);\r\n    \t\treturn ret;\r\n    \t}\r\n\r\n    \t/**\r\n    \t * @param messageWebService\r\n    \t */\r\n    \tpublic void setMessageWebService(MessageWebService messageWebService) {\r\n    \t\tthis.messageWebService = messageWebService;\r\n    \t}\r\n    }\r\n\r\n\r\nany ideas?","title":"Convert SOAP to a virtual Restful service?","body":"<p>Is there a way to use my SOAP web service(spring-ws, java) as a XML based RESTful service virtually?</p>\n\n<p>I don't want to re-write whole my SOAP web service into RESTful from scratch in java, but I need to access it through iphone using REST, which they already have easy native support.</p>\n\n<p>XMLGateway, Proxys..? or some extra java code? since my SOAP request and response is simply an XML file why can't I modify it to be used by a REST service?</p>\n\n<p>Or without changing changing any logic and xml parsing in my application is that easy to add jax-rs annotations and create a rest request xml?</p>\n\n<p>my config spring file is like this:</p>\n\n\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=\"webServicePluginDescriptor\"\n    class=\"com.mysite.ws.configuration.MyWebservicePluginDescriptor\" /&gt;\n\n&lt;bean id=\"payloadMapping\"\n    class=\"org.springframework.ws.server.endpoint.mapping.PayloadRootQNameEndpointMapping\"&gt;\n    &lt;property name=\"defaultEndpoint\" ref=\"inferenceEndPoint\" /&gt;\n    &lt;property name=\"interceptors\"&gt;\n        &lt;list&gt;\n            &lt;ref local=\"validatingInterceptor\" /&gt;\n            &lt;ref local=\"payLoadInterceptor\" /&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"payLoadInterceptor\"\n    class=\"org.springframework.ws.server.endpoint.interceptor.PayloadLoggingInterceptor\" /&gt;\n\n&lt;bean id=\"validatingInterceptor\"\n    class=\"org.springframework.ws.soap.server.endpoint.interceptor.PayloadValidatingInterceptor\"&gt;\n    &lt;property name=\"schema\"\n        value=\"classpath:/wsdl/Request.xsd\" /&gt;\n    &lt;property name=\"validateRequest\" value=\"true\" /&gt;\n    &lt;property name=\"validateResponse\" value=\"false\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"PropertyResource\" class=\"com.mysite.ws.im.PropertyResource\"&gt;\n    &lt;property name=\"resource\"\n        value=\"/WEB-INF/client-specific/InferenceMachine.properties\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"inferenceEndPoint\" class=\"com.mysite.ws.web.InferenceEndPoint\"&gt;\n    &lt;property name=\"messageWebService\" ref=\"messageWebService\" /&gt;\n&lt;/bean&gt;\n&lt;bean id=\"messageWebService\" class=\"com.mysite.ws.service.MessageWebService\"\n    scope=\"request\"&gt;\n    &lt;aop:scoped-proxy /&gt;\n    &lt;property name=\"inferenceService\" ref=\"inferenceService\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"Request\" class=\"org.springframework.xml.xsd.SimpleXsdSchema\"&gt;\n    &lt;property name=\"xsd\" value=\"classpath:/wsdl/Request.xsd\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"Response\" class=\"org.springframework.xml.xsd.SimpleXsdSchema\"&gt;\n    &lt;property name=\"xsd\" value=\"classpath:/wsdl/Response.xsd\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"Error\" class=\"org.springframework.xml.xsd.SimpleXsdSchema\"&gt;\n    &lt;property name=\"xsd\" value=\"classpath:/wsdl/Error.xsd\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"mwsid\"\n    class=\"org.springframework.ws.wsdl.wsdl11.SimpleWsdl11Definition\"&gt;\n    &lt;constructor-arg value=\"classpath:/wsdl/mtchwsdl.wsdl\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"inferenceService\" class=\"com.mysite.ws.im.InferenceService\"\n    scope=\"request\"&gt;\n    &lt;aop:scoped-proxy /&gt;\n    &lt;property name=\"webServiceConfiguration\" ref=\"wsPlayerConfiguration\" /&gt;\n\n    &lt;property name=\"properties\"&gt;\n        &lt;bean class=\"com.mysite.ws.im.PropertyResource\"&gt;\n            &lt;property name=\"resource\"\n                value=\"/WEB-INF/client-specific/InferenceMachine.properties\" /&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;!-- ~~~~~~~ Application beans ~~~~~~~ --&gt;\n&lt;bean id=\"wsPlayerConfiguration\"\n    class=\"com.mysite.ws.configuration.WebServiceConfiguration\"\n    scope=\"request\"&gt;\n    &lt;aop:scoped-proxy /&gt;\n    &lt;property name=\"playerConfiguration\" ref=\"playerConfiguration\"&gt;&lt;/property&gt;\n    &lt;property name=\"configurationSetup\" ref=\"configurationSetup\"&gt;&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>and this is my endpoint class:</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * The EndPoint of the Web Service Application. This class gets the raw\n * SOAP-body message from the Spring Payload Dispatcher and sends the message to\n * the @see MessageService class. After it has gotten the response XML message\n * it returns this back to the Spring Payload Dispatcher.\n */\npublic class InferenceEndPoint extends AbstractJDomPayloadEndpoint {\n\n    private MessageWebService messageWebService;\n    public InferenceEndPoint() {\n    }\n\n    @Override\n    protected Element invokeInternal(Element inferenceRequest) throws Exception {\n        Element ret = messageWebService.handleRequest(inferenceRequest);\n        return ret;\n    }\n\n    /**\n     * @param messageWebService\n     */\n    public void setMessageWebService(MessageWebService messageWebService) {\n        this.messageWebService = messageWebService;\n    }\n}\n</code></pre>\n\n<p>any ideas?</p>\n"},{"tags":["java","hadoop","ftp"],"answers":[{"tags":[],"owner":{"account_id":2814311,"reputation":2660,"user_id":2918720,"display_name":"KhogaEslam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667979549,"creation_date":1667979549,"answer_id":74371358,"question_id":72677577,"body_markdown":"You may need to change the transfer and/or connection mode to one of the following\r\n\r\n```\r\n\r\nconf.set(&quot;fs.ftp.transfer.mode&quot;, &quot;COMPRESSED_TRANSFER_MODE&quot;);\r\n// OR\r\nconf.set(&quot;fs.ftp.transfer.mode&quot;, &quot;STREAM_TRANSFER_MODE&quot;);\r\n\r\n// AND\r\n\r\nconf.set(&quot;fs.ftp.data.connection.mode&quot;, &quot;PASSIVE_LOCAL_DATA_CONNECTION_MODE&quot;);\r\n// OR\r\nconf.set(&quot;fs.ftp.data.connection.mode&quot;, &quot;PASSIVE_REMOTE_DATA_CONNECTION_MODE&quot;);\r\n","title":"Hadoop FTPFileSystem fails to list files and throws SocketTimeOutException","body":"<p>You may need to change the transfer and/or connection mode to one of the following</p>\n<pre><code>\nconf.set(&quot;fs.ftp.transfer.mode&quot;, &quot;COMPRESSED_TRANSFER_MODE&quot;);\n// OR\nconf.set(&quot;fs.ftp.transfer.mode&quot;, &quot;STREAM_TRANSFER_MODE&quot;);\n\n// AND\n\nconf.set(&quot;fs.ftp.data.connection.mode&quot;, &quot;PASSIVE_LOCAL_DATA_CONNECTION_MODE&quot;);\n// OR\nconf.set(&quot;fs.ftp.data.connection.mode&quot;, &quot;PASSIVE_REMOTE_DATA_CONNECTION_MODE&quot;);\n</code></pre>\n"}],"owner":{"account_id":12139477,"reputation":752,"user_id":8863925,"display_name":"Selim Alawwa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":74371358,"answer_count":1,"score":5,"last_activity_date":1667979549,"creation_date":1655648112,"question_id":72677577,"body_markdown":"I am using Apache Hadoop [FTPFileSystem][1] version 3.2.0 to list and read files from an FTP Server.\r\n\r\nHere is my test code:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String host = &quot;some-host&quot;;\r\n        int port = 21;\r\n        Configuration conf = new Configuration(false);\r\n        conf.set(&quot;fs.ftp.host&quot;, host);\r\n        conf.setInt(&quot;fs.ftp.host.port&quot;, port);\r\n        conf.set(&quot;fs.ftp.user.&quot; + host, &quot;username&quot;);\r\n        conf.set(&quot;fs.ftp.password.&quot; + host, &quot;password&quot;);\r\n        conf.set(&quot;fs.ftp.data.connection.mode&quot;, &quot;PASSIVE_LOCAL_DATA_CONNECTION_MODE&quot;);\r\n        conf.set(&quot;fs.ftp.impl&quot;, &quot;org.apache.hadoop.fs.ftp.FTPFileSystem&quot;);\r\n        \r\n        String fsURL = String.format(&quot;ftp://%s:%s&quot;, host, String.valueOf(port));\r\n        conf.set(&quot;fs.default.name&quot;, fsURL);\r\n        FileSystem fs =  FileSystem.newInstance(conf);\r\n        Path somePath = new Path(&quot;actual/path&quot;);\r\n        fs.getFileStatus(somePath).isDirectory(); // returns true\r\n        fs.listStatus(somePath); // keeps spinning then throws SocketTimeOutException\r\n    }\r\n\r\nAfter some debugging the deadlock or the delay happens at this method `org.apache.commons.net.ftp.FTPClient.initiateListParsing(FTPFileEntryParser, String)` at this method execution: `engine.readServerList(socket.getInputStream(), getControlEncoding());` as below:\r\n\r\n    private FTPListParseEngine initiateListParsing(\r\n            FTPFileEntryParser parser, String pathname)\r\n    throws IOException\r\n    {\r\n        Socket socket = _openDataConnection_(FTPCmd.LIST, getListArguments(pathname));\r\n\r\n        FTPListParseEngine engine = new FTPListParseEngine(parser, __configuration);\r\n        if (socket == null)\r\n        {\r\n            return engine;\r\n        }\r\n\r\n        try {\r\n            engine.readServerList(socket.getInputStream(), getControlEncoding());\r\n        }\r\n        finally {\r\n            Util.closeQuietly(socket);\r\n        }\r\n\r\n        completePendingCommand();\r\n        return engine;\r\n    }\r\n\r\nThe method call keeps blocked until it finally throws a socketTimeoutException, even-though using FileZilla with same credentials and properties I can list &amp; read files smoothly and in a much faster time.\r\n\r\nThe credentials I am using and properties are correct as the initial connection and `fs.getFileStatus(somePath).isDirectory();` call works and return correct value.\r\n\r\nIs there a property I can add to make things faster or is it a bug in apache hadoop FTPFileSystem version 3.2.0?\r\n\r\n\r\n  [1]: https://github.com/apache/hadoop/blob/branch-3.2.0/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/ftp/FTPFileSystem.java","title":"Hadoop FTPFileSystem fails to list files and throws SocketTimeOutException","body":"<p>I am using Apache Hadoop <a href=\"https://github.com/apache/hadoop/blob/branch-3.2.0/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/ftp/FTPFileSystem.java\" rel=\"noreferrer\">FTPFileSystem</a> version 3.2.0 to list and read files from an FTP Server.</p>\n<p>Here is my test code:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    String host = &quot;some-host&quot;;\n    int port = 21;\n    Configuration conf = new Configuration(false);\n    conf.set(&quot;fs.ftp.host&quot;, host);\n    conf.setInt(&quot;fs.ftp.host.port&quot;, port);\n    conf.set(&quot;fs.ftp.user.&quot; + host, &quot;username&quot;);\n    conf.set(&quot;fs.ftp.password.&quot; + host, &quot;password&quot;);\n    conf.set(&quot;fs.ftp.data.connection.mode&quot;, &quot;PASSIVE_LOCAL_DATA_CONNECTION_MODE&quot;);\n    conf.set(&quot;fs.ftp.impl&quot;, &quot;org.apache.hadoop.fs.ftp.FTPFileSystem&quot;);\n    \n    String fsURL = String.format(&quot;ftp://%s:%s&quot;, host, String.valueOf(port));\n    conf.set(&quot;fs.default.name&quot;, fsURL);\n    FileSystem fs =  FileSystem.newInstance(conf);\n    Path somePath = new Path(&quot;actual/path&quot;);\n    fs.getFileStatus(somePath).isDirectory(); // returns true\n    fs.listStatus(somePath); // keeps spinning then throws SocketTimeOutException\n}\n</code></pre>\n<p>After some debugging the deadlock or the delay happens at this method <code>org.apache.commons.net.ftp.FTPClient.initiateListParsing(FTPFileEntryParser, String)</code> at this method execution: <code>engine.readServerList(socket.getInputStream(), getControlEncoding());</code> as below:</p>\n<pre><code>private FTPListParseEngine initiateListParsing(\n        FTPFileEntryParser parser, String pathname)\nthrows IOException\n{\n    Socket socket = _openDataConnection_(FTPCmd.LIST, getListArguments(pathname));\n\n    FTPListParseEngine engine = new FTPListParseEngine(parser, __configuration);\n    if (socket == null)\n    {\n        return engine;\n    }\n\n    try {\n        engine.readServerList(socket.getInputStream(), getControlEncoding());\n    }\n    finally {\n        Util.closeQuietly(socket);\n    }\n\n    completePendingCommand();\n    return engine;\n}\n</code></pre>\n<p>The method call keeps blocked until it finally throws a socketTimeoutException, even-though using FileZilla with same credentials and properties I can list &amp; read files smoothly and in a much faster time.</p>\n<p>The credentials I am using and properties are correct as the initial connection and <code>fs.getFileStatus(somePath).isDirectory();</code> call works and return correct value.</p>\n<p>Is there a property I can add to make things faster or is it a bug in apache hadoop FTPFileSystem version 3.2.0?</p>\n"},{"tags":["java","talend"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667913533,"post_id":74361260,"comment_id":131277048,"body_markdown":"Dumping an unreadable screenshot is hardly asking a question. It is impossible to read the error.","body":"Dumping an unreadable screenshot is hardly asking a question. It is impossible to read the error."},{"owner":{"account_id":3898097,"reputation":291,"user_id":3226560,"accept_rate":57,"display_name":"TomG"},"score":0,"creation_date":1667914142,"post_id":74361260,"comment_id":131277349,"body_markdown":"I don&#39;t understand what is unreadable ?. If you click on the picture, the image will get maximized which is readable by all.","body":"I don&#39;t understand what is unreadable ?. If you click on the picture, the image will get maximized which is readable by all."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667914875,"post_id":74361260,"comment_id":131277659,"body_markdown":"Which, in my 40&quot; monitor, is still unreadable. Please post errors as text with proper formatting so that they are clearly readable (and searchable).","body":"Which, in my 40&quot; monitor, is still unreadable. Please post errors as text with proper formatting so that they are clearly readable (and searchable)."},{"owner":{"account_id":3898097,"reputation":291,"user_id":3226560,"accept_rate":57,"display_name":"TomG"},"score":0,"creation_date":1667915241,"post_id":74361260,"comment_id":131277826,"body_markdown":"I have a 23&#39;&#39; Monitor and is clear when the picture opens in maximized mode.","body":"I have a 23&#39;&#39; Monitor and is clear when the picture opens in maximized mode."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667915786,"post_id":74361260,"comment_id":131278070,"body_markdown":"Thanks for adding the text. You are missing poms in your repo. As you are on windows aren&#39;t you exceeding the maxlength of the paths?","body":"Thanks for adding the text. You are missing poms in your repo. As you are on windows aren&#39;t you exceeding the maxlength of the paths?"},{"owner":{"account_id":3898097,"reputation":291,"user_id":3226560,"accept_rate":57,"display_name":"TomG"},"score":0,"creation_date":1667916691,"post_id":74361260,"comment_id":131278406,"body_markdown":"The max length of path is 260 characters right.  The path length given in error message is 211. Also this is generated by Talend( GUI tool) which I don&#39;t have a control.","body":"The max length of path is 260 characters right.  The path length given in error message is 211. Also this is generated by Talend( GUI tool) which I don&#39;t have a control."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1667916770,"post_id":74361260,"comment_id":131278438,"body_markdown":"Well not entirely because you decide where it starts and that is now somewher deep in the users directory.","body":"Well not entirely because you decide where it starts and that is now somewher deep in the users directory."}],"answers":[{"tags":[],"owner":{"account_id":3898097,"reputation":291,"user_id":3226560,"accept_rate":57,"display_name":"TomG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667979525,"creation_date":1667979525,"answer_id":74371356,"question_id":74361260,"body_markdown":"I have force fully re-synchronized poms and applied the change as per the below screen shot and the issue got resolved.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EbHg7.png","title":"Exception related to pom while running a job in talend studio 7.3.1","body":"<p>I have force fully re-synchronized poms and applied the change as per the below screen shot and the issue got resolved.</p>\n<p><a href=\"https://i.stack.imgur.com/EbHg7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EbHg7.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3898097,"reputation":291,"user_id":3226560,"accept_rate":57,"display_name":"TomG"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74371356,"answer_count":1,"score":-1,"last_activity_date":1667979525,"creation_date":1667912799,"question_id":74361260,"body_markdown":"When I try to run a job in talend studio 7.3.1, I get the following error.\r\nThere are many jobs in the repository but some jobs are displaying this issue when run. I cannot add the long error message which I got while running the job as stack overflow is not allowing me to copy the entire stack trace. I added the first part of the error message below the screen shot.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JziSz.jpg\r\n\r\n\r\n    org.talend.designer.runprocess.ProcessorException: java.lang.Exception: [ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n    [ERROR] Child module C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\jobs\\joblets_spark\\DSRC_GCW\\Development\\Block2\\pr_ams_cross_border_blk2_0.1\\pom.xml of C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\build-aggregator.pom does not exist @ \r\n    [ERROR] The build could not read 1 project -&gt; [Help 1]\r\n    [ERROR]   \r\n    [ERROR]   The project org.talend:build.aggregator:7.0.0 (C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\build-aggregator.pom) has 1 error\r\n    [ERROR]     Child module C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\jobs\\joblets_spark\\DSRC_GCW\\Development\\Block2\\pr_ams_cross_border_blk2_0.1\\pom.xml of C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\build-aggregator.pom does not exist\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException","title":"Exception related to pom while running a job in talend studio 7.3.1","body":"<p>When I try to run a job in talend studio 7.3.1, I get the following error.\nThere are many jobs in the repository but some jobs are displaying this issue when run. I cannot add the long error message which I got while running the job as stack overflow is not allowing me to copy the entire stack trace. I added the first part of the error message below the screen shot.</p>\n<p><a href=\"https://i.stack.imgur.com/JziSz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JziSz.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>org.talend.designer.runprocess.ProcessorException: java.lang.Exception: [ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[ERROR] Child module C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\jobs\\joblets_spark\\DSRC_GCW\\Development\\Block2\\pr_ams_cross_border_blk2_0.1\\pom.xml of C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\build-aggregator.pom does not exist @ \n[ERROR] The build could not read 1 project -&gt; [Help 1]\n[ERROR]   \n[ERROR]   The project org.talend:build.aggregator:7.0.0 (C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\build-aggregator.pom) has 1 error\n[ERROR]     Child module C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\jobs\\joblets_spark\\DSRC_GCW\\Development\\Block2\\pr_ams_cross_border_blk2_0.1\\pom.xml of C:\\Users\\tomgeorg\\Documents\\TalendRemoteWorkspace\\.repositories\\743898097\\branches\\ICE_DATASOURCING_DEV\\HP_ICE_DATASRC_DEV\\poms\\build-aggregator.pom does not exist\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/ProjectBuildingException\n</code></pre>\n"},{"tags":["java","spring","inversion-of-control"],"comments":[{"owner":{"account_id":7908129,"reputation":98,"user_id":5972950,"display_name":"Java Samurai"},"score":0,"creation_date":1667974812,"post_id":74369524,"comment_id":131293126,"body_markdown":"I am unable to open the github link. For your code I have questions\nWhich is the concrete class for TestManager. ComponentScan?\nShould Component Scan should have a path to folder and not class file?","body":"I am unable to open the github link. For your code I have questions Which is the concrete class for TestManager. ComponentScan? Should Component Scan should have a path to folder and not class file?"},{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1668038038,"post_id":74369524,"comment_id":131313450,"body_markdown":"Try git clone https://github.com/nicholaswkc34/Selenium-V4-Selenide.git.  TestManager is abstract class. No idea how to use Componentscan though..","body":"Try git clone <a href=\"https://github.com/nicholaswkc34/Selenium-V4-Selenide.git\" rel=\"nofollow noreferrer\">github.com/nicholaswkc34/Selenium-V4-Selenide.git</a>.  TestManager is abstract class. No idea how to use Componentscan though.."},{"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"score":0,"creation_date":1668049560,"post_id":74369524,"comment_id":131315142,"body_markdown":"What is your email address i will send you the source code?","body":"What is your email address i will send you the source code?"},{"owner":{"account_id":7908129,"reputation":98,"user_id":5972950,"display_name":"Java Samurai"},"score":0,"creation_date":1668055977,"post_id":74369524,"comment_id":131315967,"body_markdown":"It could be an access issue. Give me access on my github user \nhttps://github.com/CodeWarOdin","body":"It could be an access issue. Give me access on my github user  <a href=\"https://github.com/CodeWarOdin\" rel=\"nofollow noreferrer\">github.com/CodeWarOdin</a>"}],"owner":{"account_id":153568,"reputation":2613,"user_id":368907,"accept_rate":88,"display_name":"nicholas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667978813,"creation_date":1667963618,"question_id":74369524,"body_markdown":"I tried to do automation testing usign @ Autowired annotation but the beans that annotated with @autowired is null and cause NPE. What wrong with my code?\r\n\r\n```java\r\n@ComponentScan({&quot;com.nicholas.pages.LoginPages&quot;, &quot;com.nicholas.utils.Methods&quot;})\r\npublic abstract class TestManager {\r\n\r\n    protected ExtentTest extentTest;\r\n\r\n    @Autowired\r\n    protected LoginPages loginPages;\r\n}\r\n```\r\n```\r\n@Test // This is a class of GenericTestManager\r\npublic void testLogin() {\r\n    extentTest = extentManager.getExtentReports().createTest(&quot;Test 1&quot;);\r\n\r\n    loginPages.login();\r\n}\r\n```\r\n```\r\n@Component\r\npublic class LoginPages {\r\n\r\n    @Autowired\r\n    private Methods methods;\r\n\r\n    public void login() {\r\n        methods.waitUntilPageIsReady();\r\n\r\n    }\r\n}\r\n```\r\n\r\nI have other variable need to instantiate manually cause it using Singleton design pattern. \r\n\r\n[Source Code][1]\r\n\r\n\r\n  [1]: https://github.com/nicholaswkc34/Selenium-V4-Selenide","title":"Autowired return NPE","body":"<p>I tried to do automation testing usign @ Autowired annotation but the beans that annotated with @autowired is null and cause NPE. What wrong with my code?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ComponentScan({&quot;com.nicholas.pages.LoginPages&quot;, &quot;com.nicholas.utils.Methods&quot;})\npublic abstract class TestManager {\n\n    protected ExtentTest extentTest;\n\n    @Autowired\n    protected LoginPages loginPages;\n}\n</code></pre>\n<pre><code>@Test // This is a class of GenericTestManager\npublic void testLogin() {\n    extentTest = extentManager.getExtentReports().createTest(&quot;Test 1&quot;);\n\n    loginPages.login();\n}\n</code></pre>\n<pre><code>@Component\npublic class LoginPages {\n\n    @Autowired\n    private Methods methods;\n\n    public void login() {\n        methods.waitUntilPageIsReady();\n\n    }\n}\n</code></pre>\n<p>I have other variable need to instantiate manually cause it using Singleton design pattern.</p>\n<p><a href=\"https://github.com/nicholaswkc34/Selenium-V4-Selenide\" rel=\"nofollow noreferrer\">Source Code</a></p>\n"},{"tags":["java","methods","constructor"],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667974915,"creation_date":1667974915,"answer_id":74370659,"question_id":74370544,"body_markdown":"    fgPercentage = numMade * 100 / numAttempt;\r\n\r\nOtherwise, your code is not working as expected, because you cast numMade into double while still dividing it by the integer numAttempt. ","title":"Percentage Output printing out 0","body":"<pre><code>fgPercentage = numMade * 100 / numAttempt;\n</code></pre>\n<p>Otherwise, your code is not working as expected, because you cast numMade into double while still dividing it by the integer numAttempt.</p>\n"},{"tags":[],"owner":{"account_id":23057660,"reputation":477,"user_id":17173476,"display_name":"Vinz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667977064,"creation_date":1667975528,"answer_id":74370748,"question_id":74370544,"body_markdown":"A couple of Things:\r\n\r\nFirstly, make sure you get your question precise. You are mentioning an array with no array to be found anywhere, you are not showing us how you are calling the Constructor etc.\r\n\r\nThat being said, your Constructor looks fine, other than that there are two unnecessary assignments in it, and you can give the Parameters of the Constructor the same names as the fields in your Class, like so:\r\n```\r\npublic Player(String name, int numMade, int numAttempt) {\r\n        this.name = name;\r\n        if (numAttempt &lt; numMade) {\r\n            this.numMade = numAttempt;\r\n            this.numAttempt = numMade;\r\n        } else {\r\n            this.numAttempt = numAttempt;\r\n            this.numMade = numMade;\r\n        }\r\n    }\r\n```\r\n\r\nThen, I recommend you change your `calculateFieldGoalPercentage()` method to this:\r\n```\r\n  public double calculateFieldGoalPercentage() {\r\n        if (numAttempt &gt; 0) {\r\n            return ((double) numMade / numAttempt) * 100;\r\n        }\r\n        return 0;\r\n    }\r\n```\r\n\r\nI would not have the assignment of the variable in an if clause and then return the field outside of it like you are currently doing, as that can lead to returning null, because the variable has never been instantiated.\r\n\r\nFinally, you can now use this Class in your main Method like so:\r\n\r\n```\r\n public static void main(String[] args) {\r\n        Player[] team = {new Player(&quot;Tony&quot;, 3, 17),\r\n                new Player(&quot;Peter&quot;, 0, 12), new Player(&quot;Mary&quot;, 2, 3)};\r\n\r\n        for (Player p : team) {\r\n            p.printData();\r\n        }\r\n    }\r\n```\r\n\r\nThis example will give you the output:\r\n```\r\nName : Tony\r\nField Goals Made : 3\r\nFields Goals Attempted : 17\r\nField Goal Percentage :  17.65\r\nEffectiveness : 17.647058823529413\r\n____________________________________________\r\nName : Peter\r\nField Goals Made : 0\r\nFields Goals Attempted : 12\r\nField Goal Percentage :  0.00\r\nEffectiveness : 0.0\r\n____________________________________________\r\nName : Mary\r\nField Goals Made : 2\r\nFields Goals Attempted : 3\r\nField Goal Percentage :  66.67\r\nEffectiveness : 66.66666666666666\r\n____________________________________________\r\n```\r\n\r\n**EDIT**\r\n\r\nThe problem is, that you are never calling the function that calculates the field `fieldGoalPercentage`. Here is what you need to change, alongside the above:\r\n```\r\npublic void printData() {\r\n        System.out.println(&quot;Name : &quot; + name);\r\n        System.out.println(&quot;Field Goals Made : &quot; + numMade);\r\n        System.out.println(&quot;Fields Goals Attempted : &quot; + numAttempt);\r\n        System.out.printf(&quot;%8s %.2f%n&quot;, &quot;Field Goal Percentage : &quot;, calculateFieldGoalPercentage());\r\n        System.out.println(&quot;Effectiveness : &quot; + calculateFieldGoalPercentage());\r\n        System.out.println(&quot;____________________________________________&quot;);\r\n    }\r\n```\r\n","title":"Percentage Output printing out 0","body":"<p>A couple of Things:</p>\n<p>Firstly, make sure you get your question precise. You are mentioning an array with no array to be found anywhere, you are not showing us how you are calling the Constructor etc.</p>\n<p>That being said, your Constructor looks fine, other than that there are two unnecessary assignments in it, and you can give the Parameters of the Constructor the same names as the fields in your Class, like so:</p>\n<pre><code>public Player(String name, int numMade, int numAttempt) {\n        this.name = name;\n        if (numAttempt &lt; numMade) {\n            this.numMade = numAttempt;\n            this.numAttempt = numMade;\n        } else {\n            this.numAttempt = numAttempt;\n            this.numMade = numMade;\n        }\n    }\n</code></pre>\n<p>Then, I recommend you change your <code>calculateFieldGoalPercentage()</code> method to this:</p>\n<pre><code>  public double calculateFieldGoalPercentage() {\n        if (numAttempt &gt; 0) {\n            return ((double) numMade / numAttempt) * 100;\n        }\n        return 0;\n    }\n</code></pre>\n<p>I would not have the assignment of the variable in an if clause and then return the field outside of it like you are currently doing, as that can lead to returning null, because the variable has never been instantiated.</p>\n<p>Finally, you can now use this Class in your main Method like so:</p>\n<pre><code> public static void main(String[] args) {\n        Player[] team = {new Player(&quot;Tony&quot;, 3, 17),\n                new Player(&quot;Peter&quot;, 0, 12), new Player(&quot;Mary&quot;, 2, 3)};\n\n        for (Player p : team) {\n            p.printData();\n        }\n    }\n</code></pre>\n<p>This example will give you the output:</p>\n<pre><code>Name : Tony\nField Goals Made : 3\nFields Goals Attempted : 17\nField Goal Percentage :  17.65\nEffectiveness : 17.647058823529413\n____________________________________________\nName : Peter\nField Goals Made : 0\nFields Goals Attempted : 12\nField Goal Percentage :  0.00\nEffectiveness : 0.0\n____________________________________________\nName : Mary\nField Goals Made : 2\nFields Goals Attempted : 3\nField Goal Percentage :  66.67\nEffectiveness : 66.66666666666666\n____________________________________________\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>The problem is, that you are never calling the function that calculates the field <code>fieldGoalPercentage</code>. Here is what you need to change, alongside the above:</p>\n<pre><code>public void printData() {\n        System.out.println(&quot;Name : &quot; + name);\n        System.out.println(&quot;Field Goals Made : &quot; + numMade);\n        System.out.println(&quot;Fields Goals Attempted : &quot; + numAttempt);\n        System.out.printf(&quot;%8s %.2f%n&quot;, &quot;Field Goal Percentage : &quot;, calculateFieldGoalPercentage());\n        System.out.println(&quot;Effectiveness : &quot; + calculateFieldGoalPercentage());\n        System.out.println(&quot;____________________________________________&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":26874988,"reputation":1,"user_id":20456375,"display_name":"marior21"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667978632,"creation_date":1667973940,"question_id":74370544,"body_markdown":"I am new to Java, and I am trying to get a Field Goal percentage calculation, and the output keeps giving me 0. Not sure if it has something to do with my constructor, or if it is not pulling the correct info out of my array.\r\n\r\n```\r\npublic Player(String newName, int newnumMade, int newnumAttempt)\r\n\t{\r\n\t\tname = newName;\r\n\t\t\r\n\t\tnumAttempt = newnumAttempt;\r\n\t\tnumMade = newnumMade;\r\n\t\t\r\n\t\tif(newnumAttempt &lt; newnumMade)\r\n\t\t{\r\n\t\t\tnumMade = newnumAttempt;\r\n\t\t\tnumAttempt = newnumMade;\r\n\t\t}\r\n\t\telse \r\n\t\t{\r\n\t\t\tnumAttempt = newnumAttempt;\r\n\t\t\tnumMade = newnumMade;\r\n\t\t}\r\n\t}\r\n```\r\n``` \r\npublic double getfgPercentage()\r\n\t{\r\n\t\t\r\n\t\t if(numAttempt &gt; 0)\r\n\t\t{\r\n\t\t\tdouble first = (double)numMade / numAttempt;\r\n\t\t\tfgPercentage = first * 100;\r\n\t\t}\r\n\t\treturn fgPercentage;\r\n\t}\r\n```\r\n\r\n\r\nI understand that int division always gives an int so I converted one of my ints into a double. Ive tested out multiple ways adding two numbers just to see if it would work, but the output is constantly giving me 0.","title":"Percentage Output printing out 0","body":"<p>I am new to Java, and I am trying to get a Field Goal percentage calculation, and the output keeps giving me 0. Not sure if it has something to do with my constructor, or if it is not pulling the correct info out of my array.</p>\n<pre><code>public Player(String newName, int newnumMade, int newnumAttempt)\n    {\n        name = newName;\n        \n        numAttempt = newnumAttempt;\n        numMade = newnumMade;\n        \n        if(newnumAttempt &lt; newnumMade)\n        {\n            numMade = newnumAttempt;\n            numAttempt = newnumMade;\n        }\n        else \n        {\n            numAttempt = newnumAttempt;\n            numMade = newnumMade;\n        }\n    }\n</code></pre>\n<pre><code>public double getfgPercentage()\n    {\n        \n         if(numAttempt &gt; 0)\n        {\n            double first = (double)numMade / numAttempt;\n            fgPercentage = first * 100;\n        }\n        return fgPercentage;\n    }\n</code></pre>\n<p>I understand that int division always gives an int so I converted one of my ints into a double. Ive tested out multiple ways adding two numbers just to see if it would work, but the output is constantly giving me 0.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":0,"creation_date":1667977569,"post_id":74371019,"comment_id":131293717,"body_markdown":"Java is already telling you what the issue is, you need to add the type of the parameters in the method signature.","body":"Java is already telling you what the issue is, you need to add the type of the parameters in the method signature."},{"owner":{"account_id":22529197,"reputation":1,"user_id":16721568,"display_name":"Jack Sparrow"},"score":0,"creation_date":1667978217,"post_id":74371019,"comment_id":131293855,"body_markdown":"Thanks for helping me out as I am new to Java language.","body":"Thanks for helping me out as I am new to Java language."}],"answers":[{"tags":[],"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667978495,"creation_date":1667977997,"answer_id":74371128,"question_id":74371019,"body_markdown":"As @Bahij.Mik mentioned in the comments, you are missing the [types][1] in the method signature. So change the `search` method to:\r\n\r\n    public static int search(int[] num, int target_value) {\r\n      ..\r\n    }\r\n\r\n\r\n*N.B. Check also this [Guide to the Static Keyword][2] in Java!*\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_data_types.asp\r\n  [2]: https://www.baeldung.com/java-static","title":"/binarysearch.java:2: error: &lt;identifier&gt; expected","body":"<p>As @Bahij.Mik mentioned in the comments, you are missing the <a href=\"https://www.w3schools.com/java/java_data_types.asp\" rel=\"nofollow noreferrer\">types</a> in the method signature. So change the <code>search</code> method to:</p>\n<pre><code>public static int search(int[] num, int target_value) {\n  ..\n}\n</code></pre>\n<p><em>N.B. Check also this <a href=\"https://www.baeldung.com/java-static\" rel=\"nofollow noreferrer\">Guide to the Static Keyword</a> in Java!</em></p>\n"},{"tags":[],"owner":{"account_id":21354378,"reputation":91,"user_id":15723533,"display_name":"Eric Kong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667978333,"creation_date":1667978333,"answer_id":74371173,"question_id":74371019,"body_markdown":"You have to add type parameters in the method\r\n\r\n    public static int search(int[] num, int target_value)\r\n\r\nand if you make the method static you dont have to declaration the object\r\n\r\nyou can call the method directly\r\n\r\n    int result = search(num,target_value);","title":"/binarysearch.java:2: error: &lt;identifier&gt; expected","body":"<p>You have to add type parameters in the method</p>\n<pre><code>public static int search(int[] num, int target_value)\n</code></pre>\n<p>and if you make the method static you dont have to declaration the object</p>\n<p>you can call the method directly</p>\n<pre><code>int result = search(num,target_value);\n</code></pre>\n"}],"owner":{"account_id":22529197,"reputation":1,"user_id":16721568,"display_name":"Jack Sparrow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667978495,"creation_date":1667977278,"question_id":74371019,"body_markdown":"```\r\npublic class binarysearch {\r\n    public static int search(num, target_value) {\r\n        int low = 0;\r\n        int mid;\r\n        int high = num.length - 1;\r\n        \r\n        while (low &lt; high) {\r\n            mid = (low + high) / 2;\r\n\r\n            if (num[mid] == target_value) {\r\n                return mid;\r\n            }\r\n\r\n            if (num[mid] &lt; target_value){\r\n                low = mid + 1;\r\n            } else {\r\n                high = mid - 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        binarysearch ob = new binarysearch();\r\n        int target_value = 69;\r\n        int[] num = {10,23,45,11,69,81};\r\n        int result = ob.search(num,target_value);\r\n        \r\n        if (result == -1) {\r\n          System.out.println(&quot;Element not present&quot;);\r\n        } else {\r\n          System.out.println(&quot;Element is present&quot; + mid);\r\n        }\r\n    }\r\n}\r\n```\r\nCould someone help me what exactly I am doing wrong here. I am facing a compilation error while executing my code.\r\n\r\nI was trying to implement Binary Search and I am receiving this error : \r\n\r\n```\r\n/binarysearch.java:2: error: &lt;identifier&gt; expected\r\n    public static int search(num,target_value)\r\n                                ^\r\n/binarysearch.java:2: error: &lt;identifier&gt; expected\r\n    public static int search(num,target_value)\r\n                                             ^\r\n2 errors\r\n```\r\n","title":"/binarysearch.java:2: error: &lt;identifier&gt; expected","body":"<pre><code>public class binarysearch {\n    public static int search(num, target_value) {\n        int low = 0;\n        int mid;\n        int high = num.length - 1;\n        \n        while (low &lt; high) {\n            mid = (low + high) / 2;\n\n            if (num[mid] == target_value) {\n                return mid;\n            }\n\n            if (num[mid] &lt; target_value){\n                low = mid + 1;\n            } else {\n                high = mid - 1;\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        binarysearch ob = new binarysearch();\n        int target_value = 69;\n        int[] num = {10,23,45,11,69,81};\n        int result = ob.search(num,target_value);\n        \n        if (result == -1) {\n          System.out.println(&quot;Element not present&quot;);\n        } else {\n          System.out.println(&quot;Element is present&quot; + mid);\n        }\n    }\n}\n</code></pre>\n<p>Could someone help me what exactly I am doing wrong here. I am facing a compilation error while executing my code.</p>\n<p>I was trying to implement Binary Search and I am receiving this error :</p>\n<pre><code>/binarysearch.java:2: error: &lt;identifier&gt; expected\n    public static int search(num,target_value)\n                                ^\n/binarysearch.java:2: error: &lt;identifier&gt; expected\n    public static int search(num,target_value)\n                                             ^\n2 errors\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","dependency-injection"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":1,"creation_date":1667740712,"post_id":74336186,"comment_id":131234112,"body_markdown":"Is this bean is in under component scan?","body":"Is this bean is in under component scan?"},{"owner":{"account_id":4434750,"reputation":1949,"user_id":3610891,"accept_rate":62,"display_name":"Onki"},"score":1,"creation_date":1667821841,"post_id":74336186,"comment_id":131251438,"body_markdown":"@RohitAgarwal, amidst of all the analysis, this is what I missed. After adding, the package of the class which I saw after decompiling the jar, I could get the bean. I think the 3rd party library should provide all this details. thanks for pointing this out.","body":"@RohitAgarwal, amidst of all the analysis, this is what I missed. After adding, the package of the class which I saw after decompiling the jar, I could get the bean. I think the 3rd party library should provide all this details. thanks for pointing this out."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1667826103,"post_id":74336186,"comment_id":131252955,"body_markdown":"Good to hear that issue is resolved :)","body":"Good to hear that issue is resolved :)"}],"answers":[{"tags":[],"owner":{"account_id":21055927,"reputation":1,"user_id":15475196,"display_name":"Pushpendra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667752499,"creation_date":1667752499,"answer_id":74337750,"question_id":74336186,"body_markdown":"This is information is not enough, can you please share your pom file of library that contains CustomObject. \r\n\r\nI need to see pom file build section code. ","title":"not able to get the bean which is created in another 3rd party spring boot lib","body":"<p>This is information is not enough, can you please share your pom file of library that contains CustomObject.</p>\n<p>I need to see pom file build section code.</p>\n"},{"tags":[],"owner":{"account_id":4434750,"reputation":1949,"user_id":3610891,"accept_rate":62,"display_name":"Onki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667978381,"creation_date":1667978381,"answer_id":74371185,"question_id":74336186,"body_markdown":"as suggested by @Rohit in comments, I missed to add the package of the class in the 3rd party lib jar under  component scan. After adding the package under component scan, issue is resolved.","title":"not able to get the bean which is created in another 3rd party spring boot lib","body":"<p>as suggested by @Rohit in comments, I missed to add the package of the class in the 3rd party lib jar under  component scan. After adding the package under component scan, issue is resolved.</p>\n"}],"owner":{"account_id":4434750,"reputation":1949,"user_id":3610891,"accept_rate":62,"display_name":"Onki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74371185,"answer_count":2,"score":0,"last_activity_date":1667978381,"creation_date":1667740569,"question_id":74336186,"body_markdown":"I have a spring boot app in which I have added another library (in pom.xml).\r\n\r\nThis library is also a spring boot library which has created some beans and made the beans available using @Bean. The code snippet in 3rd party library is like this  :\r\n\r\n    @Bean\r\n    public CustomObject customObject() {\r\n        return new CustomObject();\r\n    }\r\n\r\nNow, I am using this library in my application, but I dont see this bean registered with my application.\r\nI checked all the beans registered with application Context and also tried loading from application context. But no luck.\r\n\r\nWhat am I missing here? The purpose of this 3rd party library is to check some config and create this bean, so if I have to manually create this bean, it takes away the whole purpose.\r\n","title":"not able to get the bean which is created in another 3rd party spring boot lib","body":"<p>I have a spring boot app in which I have added another library (in pom.xml).</p>\n<p>This library is also a spring boot library which has created some beans and made the beans available using @Bean. The code snippet in 3rd party library is like this  :</p>\n<pre><code>@Bean\npublic CustomObject customObject() {\n    return new CustomObject();\n}\n</code></pre>\n<p>Now, I am using this library in my application, but I dont see this bean registered with my application.\nI checked all the beans registered with application Context and also tried loading from application context. But no luck.</p>\n<p>What am I missing here? The purpose of this 3rd party library is to check some config and create this bean, so if I have to manually create this bean, it takes away the whole purpose.</p>\n"},{"tags":["java","jdbc","trino"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1667842569,"post_id":74350504,"comment_id":131259259,"body_markdown":"seems service is not running on 443 port. Can you recheck.","body":"seems service is not running on 443 port. Can you recheck."},{"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"score":0,"creation_date":1667843371,"post_id":74350504,"comment_id":131259549,"body_markdown":"trino-cluster                          NodePort       XXXXXXX     &lt;none&gt;            443:31212/TCP                                                                                                                  10d   Its running on 443 port .. tried with external port also same exception","body":"trino-cluster                          NodePort       XXXXXXX     &lt;none&gt;            443:31212/TCP                                                                                                                  10d   Its running on 443 port .. tried with external port also same exception"},{"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"score":0,"creation_date":1667927604,"post_id":74350504,"comment_id":131282949,"body_markdown":"Inital default port is 8080 with http .. Then I was facing SSLHandshakeException .. so chnaged to https &amp; 443 then getting connection refused","body":"Inital default port is 8080 with http .. Then I was facing SSLHandshakeException .. so chnaged to https &amp; 443 then getting connection refused"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1667927853,"post_id":74350504,"comment_id":131283038,"body_markdown":"Documentation doesn&#39;t seem to have any mention of SSL error if you run with 8080. Can you check if you are running this code inside proxy","body":"Documentation doesn&#39;t seem to have any mention of SSL error if you run with 8080. Can you check if you are running this code inside proxy"},{"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"score":0,"creation_date":1667978391,"post_id":74350504,"comment_id":131293890,"body_markdown":"Updated now Ashish , Currently no proxy / gateway is configured inside the cluster","body":"Updated now Ashish , Currently no proxy / gateway is configured inside the cluster"},{"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"score":0,"creation_date":1668014156,"post_id":74350504,"comment_id":131306762,"body_markdown":"Properties properties = new Properties();\n\t\tproperties.setProperty(&quot;user&quot;, &quot;user&quot;);\n\t\tproperties.setProperty(&quot;SSL&quot;, &quot;false&quot;);\n\t\t\n\t\tConnection connection = DriverManager.getConnection(url,properties);\n\t\tStatement stmt=connection.createStatement();   This worked to bypass SSL Exception and currently connection is established through http ..","body":"Properties properties = new Properties(); \t\tproperties.setProperty(&quot;user&quot;, &quot;user&quot;); \t\tproperties.setProperty(&quot;SSL&quot;, &quot;false&quot;); \t\t \t\tConnection connection = DriverManager.getConnection(url,properties); \t\tStatement stmt=connection.createStatement();   This worked to bypass SSL Exception and currently connection is established through http .."}],"owner":{"account_id":13892465,"reputation":13,"user_id":10948905,"display_name":"mpsimham"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667982673,"answer_count":0,"score":0,"last_activity_date":1667978349,"creation_date":1667841817,"question_id":74350504,"body_markdown":"I am getting below exception when executing sql query through trino Java API \r\n\r\n\r\n```\r\n[] threw exception [Request processing failed; nested exception is java.sql.SQLException: Error executing query: java.net.ConnectException: **Failed to connect to /clusterIP:port]** with root cause\r\n\r\njava.net.ConnectException: Connection refused (Connection refused)\r\n        at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_212]\r\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_212]\r\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_212]\r\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_212]\r\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_212]\r\n        at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_212]\r\n        at io.trino.jdbc.$internal.okhttp3.internal.platform.Platform.connectSocket(Platform.java:130) ~[trino-jdbc-402.jar!/:402]\r\n        at io.trino.jdbc.$internal.okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:263) ~[trino-jdbc-402.jar!/:402]\r\n\r\nwith http &amp; 8080 port below is the message :\r\n&quot;message&quot;: &quot;Error executing query: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake&quot;,\r\n\r\n```\r\n\r\nMaven dependency:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.trino&lt;/groupId&gt;\r\n    &lt;artifactId&gt;trino-jdbc&lt;/artifactId&gt;\r\n    &lt;version&gt;402&lt;/version&gt;\r\n    \r\n```\r\n\r\n\r\n\r\nCode snippet:   \r\n```\r\nString url = &quot;jdbc:trino://trino-cluster:443&quot;;\r\nString sql = &quot;select * from keyspace.tableName&quot;;\r\n\t \r\nProperties properties = new Properties();\r\nproperties.setProperty(&quot;user&quot;, &quot;user&quot;);\r\nproperties.setProperty(&quot;SSL&quot;, &quot;true&quot;);\r\n\r\nConnection connection = DriverManager.getConnection(url,properties);\r\nStatement stmt=connection.createStatement();\r\n\r\nResultSet rs=stmt.executeQuery(sql);\r\nwhile(rs.next()){\r\n     System.out.println(rs.getString(1));\r\n}\r\nSystem.out.println(connection.getCatalog());\r\n```\r\n\r\n\r\nFollowed this ref to deploy trino-cluster with 8080 port and updated it to 443 for SSL Handshake issue resolution.\r\n\r\nhttps://trino.io/docs/current/installation/kubernetes.html\r\n\r\nI am able to exec the pod and run cassandra queries, but from java while executeQuery() its giving exception.\r\n\r\nI have deployed trino using helm as one service and created another micro service with above code snippet to connect to trino service and run the queries in kubernetes cluster\r\n\r\nKindly suggest if any changes needed. Couldn&#39;t get much docs w.r.t trino Java Integration.\r\n\r\nMy requirement to connect to trino to fetch records from cassandra connector through Java API","title":"Connection refused while connecting to trino","body":"<p>I am getting below exception when executing sql query through trino Java API</p>\n<pre><code>[] threw exception [Request processing failed; nested exception is java.sql.SQLException: Error executing query: java.net.ConnectException: **Failed to connect to /clusterIP:port]** with root cause\n\njava.net.ConnectException: Connection refused (Connection refused)\n        at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_212]\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_212]\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_212]\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_212]\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_212]\n        at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_212]\n        at io.trino.jdbc.$internal.okhttp3.internal.platform.Platform.connectSocket(Platform.java:130) ~[trino-jdbc-402.jar!/:402]\n        at io.trino.jdbc.$internal.okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:263) ~[trino-jdbc-402.jar!/:402]\n\nwith http &amp; 8080 port below is the message :\n&quot;message&quot;: &quot;Error executing query: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake&quot;,\n\n</code></pre>\n<p>Maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.trino&lt;/groupId&gt;\n    &lt;artifactId&gt;trino-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;402&lt;/version&gt;\n    \n</code></pre>\n<p>Code snippet:</p>\n<pre><code>String url = &quot;jdbc:trino://trino-cluster:443&quot;;\nString sql = &quot;select * from keyspace.tableName&quot;;\n     \nProperties properties = new Properties();\nproperties.setProperty(&quot;user&quot;, &quot;user&quot;);\nproperties.setProperty(&quot;SSL&quot;, &quot;true&quot;);\n\nConnection connection = DriverManager.getConnection(url,properties);\nStatement stmt=connection.createStatement();\n\nResultSet rs=stmt.executeQuery(sql);\nwhile(rs.next()){\n     System.out.println(rs.getString(1));\n}\nSystem.out.println(connection.getCatalog());\n</code></pre>\n<p>Followed this ref to deploy trino-cluster with 8080 port and updated it to 443 for SSL Handshake issue resolution.</p>\n<p><a href=\"https://trino.io/docs/current/installation/kubernetes.html\" rel=\"nofollow noreferrer\">https://trino.io/docs/current/installation/kubernetes.html</a></p>\n<p>I am able to exec the pod and run cassandra queries, but from java while executeQuery() its giving exception.</p>\n<p>I have deployed trino using helm as one service and created another micro service with above code snippet to connect to trino service and run the queries in kubernetes cluster</p>\n<p>Kindly suggest if any changes needed. Couldn't get much docs w.r.t trino Java Integration.</p>\n<p>My requirement to connect to trino to fetch records from cassandra connector through Java API</p>\n"},{"tags":["java","mysql","mariadb","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1667977870,"creation_date":1482331730,"answer_id":41265541,"question_id":41264116,"body_markdown":"This is a known limitation in jOOQ 3.9: https://github.com/jOOQ/jOOQ/issues/2943\r\n\r\nYou currently cannot use the `RETURNING` clause in jOOQ when using [plain SQL tables and fields][1] (as opposed to generated ones), because jOOQ needs to know the identity column name to bind to JDBC (in most databases), and that meta data is not available from your `table(&quot;users&quot;)` object.\r\n\r\nUnfortunately, passing the `ID` column to the `RETURNING` clause isn&#39;t sufficient, because there&#39;s no guarantee that this is the identity column. You might also pass several columns to the `RETURNING` clause, in case of which jOOQ wouldn&#39;t know which one would be the identity column.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/plain-sql/","title":"INSERT..RETURNING is not working in JOOQ","body":"<p>This is a known limitation in jOOQ 3.9: <a href=\"https://github.com/jOOQ/jOOQ/issues/2943\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/2943</a></p>\n<p>You currently cannot use the <code>RETURNING</code> clause in jOOQ when using <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql/\" rel=\"nofollow noreferrer\">plain SQL tables and fields</a> (as opposed to generated ones), because jOOQ needs to know the identity column name to bind to JDBC (in most databases), and that meta data is not available from your <code>table(&quot;users&quot;)</code> object.</p>\n<p>Unfortunately, passing the <code>ID</code> column to the <code>RETURNING</code> clause isn't sufficient, because there's no guarantee that this is the identity column. You might also pass several columns to the <code>RETURNING</code> clause, in case of which jOOQ wouldn't know which one would be the identity column.</p>\n"}],"owner":{"account_id":3629749,"reputation":24734,"user_id":3026283,"accept_rate":90,"display_name":"H&#233;ctor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2577,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":41265541,"answer_count":1,"score":5,"last_activity_date":1667977870,"creation_date":1482327482,"question_id":41264116,"body_markdown":"I have a MariaDB database and I&#39;m trying to insert a row in my table `users`. It has a generated `id` and I want to get it after insert. I have seen [this][1] but it&#39;s not working for me:\r\n\r\n    public Integer addNewUser(String name) {\r\n        Record record = context.insertInto(table(&quot;users&quot;), field(&quot;name&quot;))\r\n            .values(name)\r\n            .returning(field(&quot;id&quot;))\r\n            .fetchOne();\r\n        return record.into(Integer.class);\r\n    }\r\n\r\nNew row is inserted but `record` is always `null`. I&#39;m not using JOOQ code generation.\r\n\r\n  [1]: http://www.jooq.org/doc/3.8/manual/sql-building/sql-statements/insert-statement/insert-returning/","title":"INSERT..RETURNING is not working in JOOQ","body":"<p>I have a MariaDB database and I'm trying to insert a row in my table <code>users</code>. It has a generated <code>id</code> and I want to get it after insert. I have seen <a href=\"http://www.jooq.org/doc/3.8/manual/sql-building/sql-statements/insert-statement/insert-returning/\" rel=\"noreferrer\">this</a> but it's not working for me:</p>\n\n<pre><code>public Integer addNewUser(String name) {\n    Record record = context.insertInto(table(\"users\"), field(\"name\"))\n        .values(name)\n        .returning(field(\"id\"))\n        .fetchOne();\n    return record.into(Integer.class);\n}\n</code></pre>\n\n<p>New row is inserted but <code>record</code> is always <code>null</code>. I'm not using JOOQ code generation.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1667977734,"post_id":74371011,"comment_id":131293757,"body_markdown":"I don&#39;t quite get this. Is this a kind of simulation? `bitOK(p)` for sure isn&#39;t checking any bit value if all it takes is a probability. Can you explain what a &quot;package&quot; is here? Is it just a string of bits? And how would you check if a bit has the correct value or not? There are some algorithms to check if _any_ bit is corrupted e.g. by using checksums and there may be some that can tell you which bit it is but can you elaborate on what exactly you are trying to achieve - ideally with some examples?","body":"I don&#39;t quite get this. Is this a kind of simulation? <code>bitOK(p)</code> for sure isn&#39;t checking any bit value if all it takes is a probability. Can you explain what a &quot;package&quot; is here? Is it just a string of bits? And how would you check if a bit has the correct value or not? There are some algorithms to check if <i>any</i> bit is corrupted e.g. by using checksums and there may be some that can tell you which bit it is but can you elaborate on what exactly you are trying to achieve - ideally with some examples?"},{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1667978013,"post_id":74371011,"comment_id":131293816,"body_markdown":"Could you provide some examples of input information, and the output results, and explain what doesn&#39;t work as expected?","body":"Could you provide some examples of input information, and the output results, and explain what doesn&#39;t work as expected?"},{"owner":{"account_id":26845905,"reputation":37,"user_id":20431658,"display_name":"brah79"},"score":0,"creation_date":1667978057,"post_id":74371011,"comment_id":131293827,"body_markdown":"It&#39;s not checking for a value it&#39;s checking if a bit is sent without damage by comparing the probability to generated random number. And then the second method if checking for en entire package by checking if every bit is ok. what I mean by a package is a specific number of bits. say 100 bits for example","body":"It&#39;s not checking for a value it&#39;s checking if a bit is sent without damage by comparing the probability to generated random number. And then the second method if checking for en entire package by checking if every bit is ok. what I mean by a package is a specific number of bits. say 100 bits for example"},{"owner":{"account_id":26845905,"reputation":37,"user_id":20431658,"display_name":"brah79"},"score":0,"creation_date":1667978408,"post_id":74371011,"comment_id":131293898,"body_markdown":"Let&#39;s say the probability of a bit is wrong p = 0,01. we generate a random number between 0 and 1 call it n and compare with p. if n &lt; p then the bit it corrupted. else bit ok.","body":"Let&#39;s say the probability of a bit is wrong p = 0,01. we generate a random number between 0 and 1 call it n and compare with p. if n &lt; p then the bit it corrupted. else bit ok."}],"owner":{"account_id":26845905,"reputation":37,"user_id":20431658,"display_name":"brah79"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667977363,"creation_date":1667977221,"question_id":74371011,"body_markdown":"I&#39;m trying to build a program that checks if a bit in a package is\r\n\r\ncorrupted or not but I can&#39;t get the right logic. This is the code: \r\n\r\n\r\n\r\n\r\n```\r\n// a method to determine if a bit a incorrect or not with \r\n\r\n//probability p that a bit is not correct in other words the \r\n\r\n//probability of this method returning false is (p)\r\n\r\npublic static boolean bitOK(double p) {\r\n\t\tRandom rnd = new Random();\r\n\t\tif (rnd.nextDouble() &lt; p){\r\n\t\treturn false;\r\n\t\t}\r\n\t\telse {\r\n\t\treturn true;\r\n\t\t}\r\n}\r\n\r\n\r\n\r\n```\r\n```\r\n// this is the method that&#39;s going to check if all the bits are okey using the above method. \r\npublic static boolean packetOK(int size, double p){\r\n\t\tfor(int i = 0; i &lt; size; i++) // size is the number of bits {\r\n\t\t\tif (bitOK(p)) {\r\n\t\t\t\treturn true; \r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false; \r\n\t\t\t\r\n\t}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\ncan anyone explain to me why I&#39;m not thinking right.\r\nthank you ","title":"check if a bit or a package is sent correctly","body":"<p>I'm trying to build a program that checks if a bit in a package is</p>\n<p>corrupted or not but I can't get the right logic. This is the code:</p>\n<pre><code>// a method to determine if a bit a incorrect or not with \n\n//probability p that a bit is not correct in other words the \n\n//probability of this method returning false is (p)\n\npublic static boolean bitOK(double p) {\n        Random rnd = new Random();\n        if (rnd.nextDouble() &lt; p){\n        return false;\n        }\n        else {\n        return true;\n        }\n}\n\n\n\n</code></pre>\n<pre><code>// this is the method that's going to check if all the bits are okey using the above method. \npublic static boolean packetOK(int size, double p){\n        for(int i = 0; i &lt; size; i++) // size is the number of bits {\n            if (bitOK(p)) {\n                return true; \n            }\n        }\n        return false; \n            \n    }\n</code></pre>\n<p>can anyone explain to me why I'm not thinking right.\nthank you</p>\n"},{"tags":["java","spring-boot","maven","wsdl"],"answers":[{"tags":[],"owner":{"account_id":17291618,"reputation":119,"user_id":12523079,"display_name":"Jilliss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667976958,"creation_date":1667976958,"answer_id":74370974,"question_id":74369578,"body_markdown":"Whether you need to generate code from a wsdl file ?\r\n\r\nIf it is. The wsdl file is usually provided by the server\r\n\r\nThe url rule is usually\r\n`http(s)://serviceurl:port/interface-method.wsdl`\r\n\r\nFor example [Google adwords][1]\r\n\r\n\r\nhttps://adwords.google.com/api/adwords/cm/v201809/CampaignService?wsdl\r\n\r\n\r\n  [1]: https://developers.google.com/adwords/api/docs/guides/call-structure","title":"How to use org.apache.cxf with WSDL2JAVA from url?","body":"<p>Whether you need to generate code from a wsdl file ?</p>\n<p>If it is. The wsdl file is usually provided by the server</p>\n<p>The url rule is usually\n<code>http(s)://serviceurl:port/interface-method.wsdl</code></p>\n<p>For example <a href=\"https://developers.google.com/adwords/api/docs/guides/call-structure\" rel=\"nofollow noreferrer\">Google adwords</a></p>\n<p><a href=\"https://adwords.google.com/api/adwords/cm/v201809/CampaignService?wsdl\" rel=\"nofollow noreferrer\">https://adwords.google.com/api/adwords/cm/v201809/CampaignService?wsdl</a></p>\n"}],"owner":{"account_id":5144135,"reputation":2717,"user_id":4120583,"accept_rate":29,"display_name":"Hikaru Shindo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667976958,"creation_date":1667964218,"question_id":74369578,"body_markdown":"I&#39;m very new to WSDL. I&#39;m working on a Spring Boot project. I have a requirement to connect to WSDL from a 3rd party service. I want to generate JAVA from WSDL URL. I&#39;m using \r\n\r\n\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n\r\n\r\nI follow the example from https://turreta.com/2018/01/21/generate-java-classes-from-wsdl-files-using-cxf-codegen-plugin-in-maven/\r\n\r\nThe example option is below,\r\n\r\n\t&lt;wsdl&gt;${project.basedir}/src/main/resources/wsdl/geoipservice.wsdl&lt;/wsdl&gt;\r\n\t&lt;wsdlLocation&gt;classpath:wsdl/geoipservice.wsdl&lt;/wsdlLocation&gt;\r\n\r\nBut my WSDL source is URL. I&#39;ve spent on the internet for an hour looking for the option for WSDL url but nothing found yet. \r\n\r\nPlease help.","title":"How to use org.apache.cxf with WSDL2JAVA from url?","body":"<p>I'm very new to WSDL. I'm working on a Spring Boot project. I have a requirement to connect to WSDL from a 3rd party service. I want to generate JAVA from WSDL URL. I'm using</p>\n<pre><code>    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n</code></pre>\n<p>I follow the example from <a href=\"https://turreta.com/2018/01/21/generate-java-classes-from-wsdl-files-using-cxf-codegen-plugin-in-maven/\" rel=\"nofollow noreferrer\">https://turreta.com/2018/01/21/generate-java-classes-from-wsdl-files-using-cxf-codegen-plugin-in-maven/</a></p>\n<p>The example option is below,</p>\n<pre><code>&lt;wsdl&gt;${project.basedir}/src/main/resources/wsdl/geoipservice.wsdl&lt;/wsdl&gt;\n&lt;wsdlLocation&gt;classpath:wsdl/geoipservice.wsdl&lt;/wsdlLocation&gt;\n</code></pre>\n<p>But my WSDL source is URL. I've spent on the internet for an hour looking for the option for WSDL url but nothing found yet.</p>\n<p>Please help.</p>\n"},{"tags":["java","arrays","while-loop","joptionpane"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667976728,"creation_date":1667975659,"answer_id":74370772,"question_id":74370685,"body_markdown":"You could request values in a loop, as you suggest anyway.\r\nMy example shows the loop you can use. There are more efficient ways to test for the allowed values.\r\n\r\n    int aNbrTanks = 0;\r\n    while (true) {\r\n       try {\r\n           aNbrTanks = Integer.parseInt(JOptionPane.showInputDialog(&quot;Enter the number of Tanks&quot;));the number of Vehicles&quot;));\r\n       } catch (NumberFormatException e) {\r\n           e.printStackTrace(e);\r\n       }\r\n\r\n       if (aNbrTanks==2) {\r\n           break;\r\n       }\r\n    }\r\n\r\nComing back to your title question, you can use JOptionPane with an Object[], not int[]. It will then convert your list of choices into a JComboBox. Here is an example:\r\n\r\n    public static void main(String[] args) {\r\n        Object[] choices = new Object[]{2,3,5,8};\r\n        System.out.println(Arrays.toString(choices));\r\n        \r\n        Object choice = JOptionPane.showInputDialog(null, &quot;Enter the number of Tanks&quot;, &quot;Tanks&quot;, JOptionPane.PLAIN_MESSAGE, null, choices, 2);\r\n        \r\n        System.out.println(choice);\r\n    }\r\n","title":"How to I do an array with a JOptionPane","body":"<p>You could request values in a loop, as you suggest anyway.\nMy example shows the loop you can use. There are more efficient ways to test for the allowed values.</p>\n<pre><code>int aNbrTanks = 0;\nwhile (true) {\n   try {\n       aNbrTanks = Integer.parseInt(JOptionPane.showInputDialog(&quot;Enter the number of Tanks&quot;));the number of Vehicles&quot;));\n   } catch (NumberFormatException e) {\n       e.printStackTrace(e);\n   }\n\n   if (aNbrTanks==2) {\n       break;\n   }\n}\n</code></pre>\n<p>Coming back to your title question, you can use JOptionPane with an Object[], not int[]. It will then convert your list of choices into a JComboBox. Here is an example:</p>\n<pre><code>public static void main(String[] args) {\n    Object[] choices = new Object[]{2,3,5,8};\n    System.out.println(Arrays.toString(choices));\n    \n    Object choice = JOptionPane.showInputDialog(null, &quot;Enter the number of Tanks&quot;, &quot;Tanks&quot;, JOptionPane.PLAIN_MESSAGE, null, choices, 2);\n    \n    System.out.println(choice);\n}\n</code></pre>\n"}],"owner":{"account_id":26577691,"reputation":1,"user_id":20202796,"display_name":"Jared Castaneda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667976728,"creation_date":1667975092,"question_id":74370685,"body_markdown":"The question asks &quot;The number of fuel tanks can only be (2,4,8,10, 15,20)&quot; this is aNbrTanks in the code below. I been trying to use an array to have these inputs. But then I get the error of Object cant be converted to int or int[] to int. I need to ask for input by JOptionPane and then ask again if it doesn&#39;t meet the standards. \r\n\r\n\r\n```\r\npackage project2;\r\nimport javax.swing.JOptionPane;\r\n/**\r\n *\r\n * @author Administrator\r\n */\r\npublic class VehicleApp {\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        // TODO code application logic here\r\n     //name\r\n        String firstName = JOptionPane.showInputDialog(&quot;Please enter your first name&quot;);\r\n        while(firstName.equals(&quot;&quot;)){\r\n           firstName =JOptionPane.showInputDialog(&quot;Please enter a valid first name&quot;);\r\n        }\r\n        String lastName = JOptionPane.showInputDialog(&quot;Please enter your last name&quot;);\r\n        \r\n        while(lastName.equals(&quot;&quot;)){\r\n            lastName =JOptionPane.showInputDialog(&quot;Please enter a valid first name&quot;);\r\n        }\r\n        String aName = firstName + &quot; &quot; + lastName;\r\n        \r\n        //phone\r\n        String aphone = JOptionPane.showInputDialog(&quot;Please enter your number&quot;);\r\n        while(aphone.length()!=10){\r\n            aphone = JOptionPane.showInputDialog(&quot;Please enter a valid phone number&quot;);\r\n        }\r\n        String aPhone = (&quot;&quot; + aphone).replaceAll(&quot;(...)(...)(....)&quot;, &quot;$1-$2-$3&quot;);\r\n        //vechicle number\r\n        int aNbrVehicles = Integer.parseInt(JOptionPane.showInputDialog(&quot;Enter the number of Vehicles&quot;));\r\n        while(aNbrVehicles &lt; 1  || aNbrVehicles &gt; 10 ){\r\n            aNbrVehicles = Integer.parseInt(JOptionPane.showInputDialog(&quot;valid number of Vehicles&quot;));\r\n        }\r\n        \r\n        //fuel tank\r\n        int aNbrTanks = Integer.parseInt(JOptionPane.showInputDialog(&quot;Enter the number of Tanks&quot;));     \r\n       \r\n     \r\n            \r\n        VehicleFactory JarApp = new VehicleFactory(aName, aPhone, aNbrVehicles, aNbrTanks);\r\n       \r\n        JarApp.calcManufacturingCost();\r\n        JarApp.calcFuelTankCost();\r\n        JarApp.calcSubtotal();\r\n        JarApp.calcTax();\r\n        JarApp.calcTotal();\r\n        JOptionPane.showMessageDialog(null, JarApp.getSummary());\r\n\r\n}\r\n    } \r\n```\r\n\r\n\r\nI just need ideas or help figuring out how to get an array or a statement that be used as int aNbrTanks like the question asks.","title":"How to I do an array with a JOptionPane","body":"<p>The question asks &quot;The number of fuel tanks can only be (2,4,8,10, 15,20)&quot; this is aNbrTanks in the code below. I been trying to use an array to have these inputs. But then I get the error of Object cant be converted to int or int[] to int. I need to ask for input by JOptionPane and then ask again if it doesn't meet the standards.</p>\n<pre><code>package project2;\nimport javax.swing.JOptionPane;\n/**\n *\n * @author Administrator\n */\npublic class VehicleApp {\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        // TODO code application logic here\n     //name\n        String firstName = JOptionPane.showInputDialog(&quot;Please enter your first name&quot;);\n        while(firstName.equals(&quot;&quot;)){\n           firstName =JOptionPane.showInputDialog(&quot;Please enter a valid first name&quot;);\n        }\n        String lastName = JOptionPane.showInputDialog(&quot;Please enter your last name&quot;);\n        \n        while(lastName.equals(&quot;&quot;)){\n            lastName =JOptionPane.showInputDialog(&quot;Please enter a valid first name&quot;);\n        }\n        String aName = firstName + &quot; &quot; + lastName;\n        \n        //phone\n        String aphone = JOptionPane.showInputDialog(&quot;Please enter your number&quot;);\n        while(aphone.length()!=10){\n            aphone = JOptionPane.showInputDialog(&quot;Please enter a valid phone number&quot;);\n        }\n        String aPhone = (&quot;&quot; + aphone).replaceAll(&quot;(...)(...)(....)&quot;, &quot;$1-$2-$3&quot;);\n        //vechicle number\n        int aNbrVehicles = Integer.parseInt(JOptionPane.showInputDialog(&quot;Enter the number of Vehicles&quot;));\n        while(aNbrVehicles &lt; 1  || aNbrVehicles &gt; 10 ){\n            aNbrVehicles = Integer.parseInt(JOptionPane.showInputDialog(&quot;valid number of Vehicles&quot;));\n        }\n        \n        //fuel tank\n        int aNbrTanks = Integer.parseInt(JOptionPane.showInputDialog(&quot;Enter the number of Tanks&quot;));     \n       \n     \n            \n        VehicleFactory JarApp = new VehicleFactory(aName, aPhone, aNbrVehicles, aNbrTanks);\n       \n        JarApp.calcManufacturingCost();\n        JarApp.calcFuelTankCost();\n        JarApp.calcSubtotal();\n        JarApp.calcTax();\n        JarApp.calcTotal();\n        JOptionPane.showMessageDialog(null, JarApp.getSummary());\n\n}\n    } \n</code></pre>\n<p>I just need ideas or help figuring out how to get an array or a statement that be used as int aNbrTanks like the question asks.</p>\n"},{"tags":["java","php","encryption"],"comments":[{"owner":{"account_id":26824252,"reputation":1,"user_id":20413120,"display_name":"jovlog"},"score":0,"creation_date":1667973565,"post_id":74370149,"comment_id":131292930,"body_markdown":"@shingo - hello, you are referring to PHP right? how can I sort it? how about the base64 encode? can you please show me pseudo or a code itself please?","body":"@shingo - hello, you are referring to PHP right? how can I sort it? how about the base64 encode? can you please show me pseudo or a code itself please?"},{"owner":{"account_id":26824252,"reputation":1,"user_id":20413120,"display_name":"jovlog"},"score":0,"creation_date":1667974109,"post_id":74370149,"comment_id":131293017,"body_markdown":"@shingo - i&#39;ve updated my code above, please check? still getting the same result: `83kZpBbrQT4=`","body":"@shingo - i&#39;ve updated my code above, please check? still getting the same result: <code>83kZpBbrQT4=</code>"},{"owner":{"account_id":26824252,"reputation":1,"user_id":20413120,"display_name":"jovlog"},"score":0,"creation_date":1667974390,"post_id":74370149,"comment_id":131293064,"body_markdown":"@shingo - ive update my code but still getting same result, pls check sir","body":"@shingo - ive update my code but still getting same result, pls check sir"}],"answers":[{"tags":[],"owner":{"account_id":8238102,"reputation":20380,"user_id":6196568,"display_name":"shingo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667976411,"creation_date":1667976411,"answer_id":74370890,"question_id":74370149,"body_markdown":"Refer to this bug: https://bugs.php.net/bug.php?id=72362, you can use an undocumented option **OPENSSL_DONT_ZERO_PAD_KEY** to solve this problem.\r\n\r\n    openssl_encrypt(&quot;Text&quot;,&quot;BF-CBC&quot;,&quot;SECRETKEY&quot;,OPENSSL_DONT_ZERO_PAD_KEY,&quot;abcdefgh&quot;);\r\n\r\nOtherwise you need manually pad the key up to a rational size.\r\n\r\n    openssl_encrypt(&quot;Text&quot;,&quot;BF-CBC&quot;,&quot;SECRETKEYSECRETKEY&quot;,0,&quot;abcdefgh&quot;);","title":"How to encrypt Blowfish/CBC/PKCS5Padding, comparing encryption in PHP and Java","body":"<p>Refer to this bug: <a href=\"https://bugs.php.net/bug.php?id=72362\" rel=\"nofollow noreferrer\">https://bugs.php.net/bug.php?id=72362</a>, you can use an undocumented option <strong>OPENSSL_DONT_ZERO_PAD_KEY</strong> to solve this problem.</p>\n<pre><code>openssl_encrypt(&quot;Text&quot;,&quot;BF-CBC&quot;,&quot;SECRETKEY&quot;,OPENSSL_DONT_ZERO_PAD_KEY,&quot;abcdefgh&quot;);\n</code></pre>\n<p>Otherwise you need manually pad the key up to a rational size.</p>\n<pre><code>openssl_encrypt(&quot;Text&quot;,&quot;BF-CBC&quot;,&quot;SECRETKEYSECRETKEY&quot;,0,&quot;abcdefgh&quot;);\n</code></pre>\n"}],"owner":{"account_id":26824252,"reputation":1,"user_id":20413120,"display_name":"jovlog"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667976411,"creation_date":1667970459,"question_id":74370149,"body_markdown":"I am trying to encrypt text, the problem is I have two different encrypted values in PHP and Java.\r\n\r\nExpected output should be the same in PHP and Java.\r\n\r\nIs there a way to achieve this and work on this code if ever there are any problems?\r\n\r\nHere are the encrypted result:\r\n\r\nPHP Code:\r\n\r\n     \r\n    &lt;?php\r\n    $cipher = &#39;BF-CBC&#39;;\r\n    \r\n    $key = &#39;SECRETKEY&#39;;\r\n    \r\n    $iv = &quot;abcdefgh&quot;;\r\n    \r\n    $opts = OPENSSL_ZERO_PADDING;\r\n    \r\n    $plaintext = &quot;Text&quot;;\r\n    \r\n    if (strlen($plaintext) % 8) {\r\n        $plaintext = str_pad($plaintext, strlen($plaintext) + 8 - strlen($plaintext) % 8, &quot;\\0&quot;);\r\n    }\r\n    \r\n    $chiperRaw = openssl_encrypt($plaintext, $cipher, $key, $opts, $iv);\r\n    \r\n    $ciphertext = trim(base64_encode($chiperRaw));\r\n    \r\n    echo($ciphertext);\r\n    \r\n    ?&gt;\r\n\r\n\r\nJava Code:\r\n\r\n    private static final String ALGORITHM = &quot;Blowfish&quot;;\r\n    private static final String MODE = &quot;Blowfish/CBC/PKCS5Padding&quot;;\r\n    private static final String IV = &quot;abcdefgh&quot;;\r\n    private static final String Key = &quot;SECRETKEY&quot;;\r\n\r\n    public static String encrypt(String value) throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\r\n        SecretKeySpec secretKeySpec = new SecretKeySpec(Key.getBytes(), ALGORITHM);\r\n        Cipher cipher = Cipher.getInstance(MODE);\r\n        cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec, new IvParameterSpec(IV.getBytes()));\r\n        byte[] values = cipher.doFinal(value.getBytes());\r\n        return Base64.encodeToString(values, Base64.DEFAULT);\r\n    }\r\n\r\n\r\n\r\nResult\r\n\r\n    PHP: 83kZpBbrQT4= \r\n    \r\n    Java: YBSmeMNPSjw=\r\n\r\n\r\nOutput should be:\r\n\r\n    PHP: YBSmeMNPSjw= \r\n    Java: YBSmeMNPSjw=\r\n\r\n\r\n","title":"How to encrypt Blowfish/CBC/PKCS5Padding, comparing encryption in PHP and Java","body":"<p>I am trying to encrypt text, the problem is I have two different encrypted values in PHP and Java.</p>\n<p>Expected output should be the same in PHP and Java.</p>\n<p>Is there a way to achieve this and work on this code if ever there are any problems?</p>\n<p>Here are the encrypted result:</p>\n<p>PHP Code:</p>\n<pre><code>&lt;?php\n$cipher = 'BF-CBC';\n\n$key = 'SECRETKEY';\n\n$iv = &quot;abcdefgh&quot;;\n\n$opts = OPENSSL_ZERO_PADDING;\n\n$plaintext = &quot;Text&quot;;\n\nif (strlen($plaintext) % 8) {\n    $plaintext = str_pad($plaintext, strlen($plaintext) + 8 - strlen($plaintext) % 8, &quot;\\0&quot;);\n}\n\n$chiperRaw = openssl_encrypt($plaintext, $cipher, $key, $opts, $iv);\n\n$ciphertext = trim(base64_encode($chiperRaw));\n\necho($ciphertext);\n\n?&gt;\n</code></pre>\n<p>Java Code:</p>\n<pre><code>private static final String ALGORITHM = &quot;Blowfish&quot;;\nprivate static final String MODE = &quot;Blowfish/CBC/PKCS5Padding&quot;;\nprivate static final String IV = &quot;abcdefgh&quot;;\nprivate static final String Key = &quot;SECRETKEY&quot;;\n\npublic static String encrypt(String value) throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\n    SecretKeySpec secretKeySpec = new SecretKeySpec(Key.getBytes(), ALGORITHM);\n    Cipher cipher = Cipher.getInstance(MODE);\n    cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec, new IvParameterSpec(IV.getBytes()));\n    byte[] values = cipher.doFinal(value.getBytes());\n    return Base64.encodeToString(values, Base64.DEFAULT);\n}\n</code></pre>\n<p>Result</p>\n<pre><code>PHP: 83kZpBbrQT4= \n\nJava: YBSmeMNPSjw=\n</code></pre>\n<p>Output should be:</p>\n<pre><code>PHP: YBSmeMNPSjw= \nJava: YBSmeMNPSjw=\n</code></pre>\n"},{"tags":["java","floating-point","user-input"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1667976253,"post_id":74370817,"comment_id":131293424,"body_markdown":"Does this answer your question? [Scanner double value - InputMismatchException](https://stackoverflow.com/questions/17150627/scanner-double-value-inputmismatchexception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17150627/scanner-double-value-inputmismatchexception\">Scanner double value - InputMismatchException</a>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1667996035,"post_id":74370817,"comment_id":131299757,"body_markdown":"Not related to your problem, but if you compile using javac, then run using `java Javabasics` (without `.java`) **or** skip compiling with `javac Javabasics.java` first.  If you use `java Javabasics.java`, you can only run &quot;single source file&quot; programs, and Java will compile it again.","body":"Not related to your problem, but if you compile using javac, then run using <code>java Javabasics</code> (without <code>.java</code>) <b>or</b> skip compiling with <code>javac Javabasics.java</code> first.  If you use <code>java Javabasics.java</code>, you can only run &quot;single source file&quot; programs, and Java will compile it again."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667976230,"creation_date":1667976230,"answer_id":74370863,"question_id":74370817,"body_markdown":"Your title has nothing whatsoever to do with the actual question you then ask.\r\n\r\nThe problem is __locale__. Scanners adopt the locale of your platform. On your platform, the locale is configured so that comma, not dot, is the decimal separator. That&#39;s why 1,23 does work - that&#39;s 1 unit and 23 hundreths.\r\n\r\nOne easy fix is to call `sc.useLocale(Locale.ENGLISH);`.","title":"java programme showimg error : no class declared insource file","body":"<p>Your title has nothing whatsoever to do with the actual question you then ask.</p>\n<p>The problem is <strong>locale</strong>. Scanners adopt the locale of your platform. On your platform, the locale is configured so that comma, not dot, is the decimal separator. That's why 1,23 does work - that's 1 unit and 23 hundreths.</p>\n<p>One easy fix is to call <code>sc.useLocale(Locale.ENGLISH);</code>.</p>\n"}],"owner":{"account_id":26847507,"reputation":1,"user_id":20433036,"display_name":"Grow More"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667976230,"creation_date":1667975949,"question_id":74370817,"body_markdown":"```\r\nimport java.util.*;\r\npublic class Javabasics{\r\n    public static void main (String args[])\r\n    {\r\n      Scanner sc=new Scanner(System.in);\r\n      double price=sc.nextDouble();\r\n      System.out.println(price);\r\n}\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nPS D:\\JAVA&gt; javac Javabasics.java \r\nPS D:\\JAVA&gt; java Javabasics.java \r\n12.456\r\nException in thread &quot;main&quot; java.util.InputMismatchException\r\n        at java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\r\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\r\n        at Javabasics.main(Javabasics.java:9)\r\nPS D:\\JAVA&gt; \r\n```\r\nThe problem is the vs code is not taking the float or double value like 12.1456, it is only taking value of datatype int like 1,23,789,... even after using double or float datatype.","title":"java programme showimg error : no class declared insource file","body":"<pre><code>import java.util.*;\npublic class Javabasics{\n    public static void main (String args[])\n    {\n      Scanner sc=new Scanner(System.in);\n      double price=sc.nextDouble();\n      System.out.println(price);\n}\n}\n\n</code></pre>\n<pre><code>PS D:\\JAVA&gt; javac Javabasics.java \nPS D:\\JAVA&gt; java Javabasics.java \n12.456\nException in thread &quot;main&quot; java.util.InputMismatchException\n        at java.base/java.util.Scanner.throwFor(Scanner.java:939)\n        at java.base/java.util.Scanner.next(Scanner.java:1594)\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2258)\n        at java.base/java.util.Scanner.nextInt(Scanner.java:2212)\n        at Javabasics.main(Javabasics.java:9)\nPS D:\\JAVA&gt; \n</code></pre>\n<p>The problem is the vs code is not taking the float or double value like 12.1456, it is only taking value of datatype int like 1,23,789,... even after using double or float datatype.</p>\n"},{"tags":["java","null","double"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1667974717,"post_id":74370622,"comment_id":131293117,"body_markdown":"`public double isFree` means that the method should return a double.  Th expression that you have written evaluates to a boolean i.e. (true/false).","body":"<code>public double isFree</code> means that the method should return a double.  Th expression that you have written evaluates to a boolean i.e. (true/false)."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1667974919,"post_id":74370622,"comment_id":131293153,"body_markdown":"primitives (int, float, double etc) do not have methods and can not be `null`","body":"primitives (int, float, double etc) do not have methods and can not be <code>null</code>"},{"owner":{"account_id":16117709,"reputation":1646,"user_id":11634381,"display_name":"paranaaan"},"score":0,"creation_date":1667974975,"post_id":74370622,"comment_id":131293161,"body_markdown":"Just change type of price from `double` to `Double`;","body":"Just change type of price from <code>double</code> to <code>Double</code>;"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667975844,"creation_date":1667975844,"answer_id":74370796,"question_id":74370622,"body_markdown":"`null` is a _reference_ - a pointer to an object. Like an address in an address book. In java, all objects are stored as an address. That&#39;s because it&#39;s _a lot_ simpler to give you an address on a piece of paper, than it is to copy an entire house on a piece of paper.\r\n\r\n`null` is a special value: An address where everybody knows - there&#39;s nothing there.\r\n\r\n`double` is a primitive. __Not an object__. It doesn&#39;t have an address at all. To transfer primitives around, they&#39;re just... transferred. That&#39;s why _all_ primitives are small, and fixed size.\r\n\r\nGiven that they aren&#39;t an address, they cannot be `null`.\r\n\r\nWhen you  create a field, they start as 0.0. There is no way to differentiate &#39;0&#39; from &#39;not set yet&#39;.\r\n\r\n`.` is the dereference operator: It basically means &quot;look up this address then walk over to it&quot;. Hence, you can&#39;t do that on doubles. `price.anything` doesn&#39;t work. `price == 0.0` would.\r\n\r\nI&#39;m not exactly sure if `price` is a good way to convey whether a room is free, maybe you want to comp one. Still, if you insist:\r\n\r\n```\r\npublic boolean isFree() {\r\n  return this.price == 0.0;\r\n}\r\n```\r\n\r\nNote: This returns a `boolean` - of course it should. &quot;is it free&quot; is a question you answer with a `boolean` value, not a `double` value.\r\n","title":"Java operator &#39; !=&#39; cannot be applied to &#39;double&#39; &#39;null&#39;","body":"<p><code>null</code> is a <em>reference</em> - a pointer to an object. Like an address in an address book. In java, all objects are stored as an address. That's because it's <em>a lot</em> simpler to give you an address on a piece of paper, than it is to copy an entire house on a piece of paper.</p>\n<p><code>null</code> is a special value: An address where everybody knows - there's nothing there.</p>\n<p><code>double</code> is a primitive. <strong>Not an object</strong>. It doesn't have an address at all. To transfer primitives around, they're just... transferred. That's why <em>all</em> primitives are small, and fixed size.</p>\n<p>Given that they aren't an address, they cannot be <code>null</code>.</p>\n<p>When you  create a field, they start as 0.0. There is no way to differentiate '0' from 'not set yet'.</p>\n<p><code>.</code> is the dereference operator: It basically means &quot;look up this address then walk over to it&quot;. Hence, you can't do that on doubles. <code>price.anything</code> doesn't work. <code>price == 0.0</code> would.</p>\n<p>I'm not exactly sure if <code>price</code> is a good way to convey whether a room is free, maybe you want to comp one. Still, if you insist:</p>\n<pre><code>public boolean isFree() {\n  return this.price == 0.0;\n}\n</code></pre>\n<p>Note: This returns a <code>boolean</code> - of course it should. &quot;is it free&quot; is a question you answer with a <code>boolean</code> value, not a <code>double</code> value.</p>\n"}],"owner":{"account_id":22175146,"reputation":11,"user_id":16419838,"display_name":"Rawan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667975844,"creation_date":1667974592,"question_id":74370622,"body_markdown":"I&#39;m new to java and I&#39;m building a hotel reservation system. I&#39;m trying to write a method to check if a room is free, but i keep getting this error message &quot;Java operator &#39; !=&#39; cannot be applied to &#39;double&#39; &#39;null&#39;&quot; \r\nHere&#39;s the code:\r\n\r\n\r\n```\r\ndouble price;\r\npublic double isFree() {\r\n\r\n    return this.price != null &amp;&amp; this.price.equals(0.0);\r\n}\r\n```\r\n\r\n\r\n","title":"Java operator &#39; !=&#39; cannot be applied to &#39;double&#39; &#39;null&#39;","body":"<p>I'm new to java and I'm building a hotel reservation system. I'm trying to write a method to check if a room is free, but i keep getting this error message &quot;Java operator ' !=' cannot be applied to 'double' 'null'&quot;\nHere's the code:</p>\n<pre><code>double price;\npublic double isFree() {\n\n    return this.price != null &amp;&amp; this.price.equals(0.0);\n}\n</code></pre>\n"},{"tags":["java","android","android-permissions","android-file","android-storage"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667130217,"post_id":74252061,"comment_id":131093321,"body_markdown":"You do not have read access to files in `Download/` on Android 11+, unless your app is the one that wrote the file there.","body":"You do not have read access to files in <code>Download&#47;</code> on Android 11+, unless your app is the one that wrote the file there."},{"owner":{"account_id":19939990,"reputation":31,"user_id":14611913,"display_name":"Georges GRESSIEN"},"score":0,"creation_date":1667131707,"post_id":74252061,"comment_id":131093565,"body_markdown":"Thank for your reply. The file is an Excel file from another application and not by my application. What I can do?","body":"Thank for your reply. The file is an Excel file from another application and not by my application. What I can do?"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667133438,"post_id":74252061,"comment_id":131093908,"body_markdown":"Use the Storage Access Framework. `ACTION_OPEN_DOCUMENT` / `ActivityResultContracts.OpenDocument` will let the user choose the document. You will get a `Uri` back pointing to that document. Use `ContentResolver` and `openInputStream()` to get the `InputStream` that you then use with `new XSSFWorkbook()`. FWIW, I demonstrate the use of `ActivityResultContracts.OpenDocument` in [this section](https://commonsware.com/Jetpack/pages/chap-files-004.html) of [this free book](https://commonsware.com/Jetpack).","body":"Use the Storage Access Framework. <code>ACTION_OPEN_DOCUMENT</code> / <code>ActivityResultContracts.OpenDocument</code> will let the user choose the document. You will get a <code>Uri</code> back pointing to that document. Use <code>ContentResolver</code> and <code>openInputStream()</code> to get the <code>InputStream</code> that you then use with <code>new XSSFWorkbook()</code>. FWIW, I demonstrate the use of <code>ActivityResultContracts.OpenDocument</code> in <a href=\"https://commonsware.com/Jetpack/pages/chap-files-004.html\" rel=\"nofollow noreferrer\">this section</a> of <a href=\"https://commonsware.com/Jetpack\" rel=\"nofollow noreferrer\">this free book</a>."},{"owner":{"account_id":19939990,"reputation":31,"user_id":14611913,"display_name":"Georges GRESSIEN"},"score":0,"creation_date":1667205125,"post_id":74252061,"comment_id":131106803,"body_markdown":"Thank you very much, I will try to implement your solution","body":"Thank you very much, I will try to implement your solution"}],"answers":[{"tags":[],"owner":{"account_id":22805652,"reputation":1,"user_id":16957733,"display_name":"Enes Sıtkı"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667466123,"creation_date":1667466123,"answer_id":74300411,"question_id":74252061,"body_markdown":"Can you try add permission and provide full permission from the application information screen:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.STORAGE&quot;/&gt;","title":"java.io.FileNotFoundException: /storage/emulated/0/Download/Joueurs.xlsx: open failed: EACCES (Permission denied)","body":"<p>Can you try add permission and provide full permission from the application information screen:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.STORAGE&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19939990,"reputation":31,"user_id":14611913,"display_name":"Georges GRESSIEN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667975841,"creation_date":1667808732,"answer_id":74343624,"question_id":74252061,"body_markdown":"This is the code :\r\n\r\n```\r\nActivityResultLauncher &lt;Intent&gt;  activityLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n            @Override\r\n            public void onActivityResult(ActivityResult result) {\r\n                if(result.getResultCode()== Activity.RESULT_OK) {\r\n                    Intent dataExcel  = result.getData();\r\n                    Uri uri = dataExcel.getData();\r\n                    try {\r\n                        inputStream = ImportActivity.this.getContentResolver().openInputStream(Uri.parse(uri.toString()));} catch (FileNotFoundException e) {\r\n                        e.printStackTrace();}\r\n                    try {\r\n                        String excelPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\r\n                        fileName = new File(excelPath, &quot;Joueurs_copy.xlsx&quot;);\r\n                        ActivityCompat.requestPermissions(ImportActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE},\r\n                                PackageManager.PERMISSION_GRANTED);\r\n\r\n                        FileUtils.copyToFile(inputStream, fileName);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    importPlayer();\r\n                }\r\n            }\r\n        }\r\n);\r\n```\r\n","title":"java.io.FileNotFoundException: /storage/emulated/0/Download/Joueurs.xlsx: open failed: EACCES (Permission denied)","body":"<p>This is the code :</p>\n<pre><code>ActivityResultLauncher &lt;Intent&gt;  activityLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n            @Override\n            public void onActivityResult(ActivityResult result) {\n                if(result.getResultCode()== Activity.RESULT_OK) {\n                    Intent dataExcel  = result.getData();\n                    Uri uri = dataExcel.getData();\n                    try {\n                        inputStream = ImportActivity.this.getContentResolver().openInputStream(Uri.parse(uri.toString()));} catch (FileNotFoundException e) {\n                        e.printStackTrace();}\n                    try {\n                        String excelPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\n                        fileName = new File(excelPath, &quot;Joueurs_copy.xlsx&quot;);\n                        ActivityCompat.requestPermissions(ImportActivity.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE},\n                                PackageManager.PERMISSION_GRANTED);\n\n                        FileUtils.copyToFile(inputStream, fileName);\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                    importPlayer();\n                }\n            }\n        }\n);\n</code></pre>\n"}],"owner":{"account_id":19939990,"reputation":31,"user_id":14611913,"display_name":"Georges GRESSIEN"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1535,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667975841,"creation_date":1667123731,"question_id":74252061,"body_markdown":"I have a problem with some Android Phone with an error :\r\njava.io.FileNotFoundException: /storage/emulated/0/Download/Joueurs.xlsx: open failed: EACCES (Permission denied)\r\nI looked at solutions given by Stackoverflow. I changed my code and manifest but always had the same error. We have a problem with a Galaxy S21. In the parameter of it, it&#39;s not possible to change the permission setting to change the multim&#233;dia file to all files.\r\nIt seems difficult to test this problem with the simulator  \r\nHave you an idea to solve this error\r\nThank you very much for your help\r\n\r\nBest regards\r\n\r\nGeorges\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n     &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.prod.gfer94&quot;\r\n    android:minSdkVersion=&quot;8&quot;\r\n    android:targetSdkVersion=&quot;19&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.GET_ACCOUNTS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.USE_CREDENTIALS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\r\n\r\n     tools:ignore=&quot;ScopedStorage&quot;/&gt;\r\n    &lt;application\r\n        android:icon=&quot;@drawable/icogaef&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@drawable/icogaef&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:requestLegacyExternalStorage=&quot;true&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:label=&quot;G.F.E.R94&quot;\r\n            android:textColor=&quot;@color/colorBleuDistrict&quot;&gt;\r\n\r\n\r\n        ImageButton BoutonLicencies = findViewById(R.id.imageButtonLicencies);\r\n        BoutonLicencies.setOnClickListener(v -&gt; {\r\n            if (accesLicencies == 1){\r\n\r\n                searchFile(&quot;Joueurs.xlsx&quot;);\r\n\r\n                try {\r\n                    FileInputStream fileJoueur = null;\r\n                    if(!fileName.canRead())\r\n                        fileName.setReadable(true);\r\n                    fileJoueur = new FileInputStream(fileName);\r\n                    XSSFWorkbook myWorkBook = null;\r\n                    myWorkBook =  new  XSSFWorkbook(fileJoueur);\r\n                    XSSFSheet mySheet = myWorkBook.getSheetAt(0);\r\n                    mySheet = myWorkBook.getSheetAt(0);\r\n                    Iterator&lt;Row&gt; rowIterator = mySheet.iterator();\r\n    \r\n\r\n\r\n\r\n","title":"java.io.FileNotFoundException: /storage/emulated/0/Download/Joueurs.xlsx: open failed: EACCES (Permission denied)","body":"<p>I have a problem with some Android Phone with an error :\njava.io.FileNotFoundException: /storage/emulated/0/Download/Joueurs.xlsx: open failed: EACCES (Permission denied)\nI looked at solutions given by Stackoverflow. I changed my code and manifest but always had the same error. We have a problem with a Galaxy S21. In the parameter of it, it's not possible to change the permission setting to change the multimédia file to all files.\nIt seems difficult to test this problem with the simulator<br />\nHave you an idea to solve this error\nThank you very much for your help</p>\n<p>Best regards</p>\n<p>Georges</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\npackage=&quot;com.prod.gfer94&quot;\nandroid:minSdkVersion=&quot;8&quot;\nandroid:targetSdkVersion=&quot;19&quot;&gt;\n\n&lt;uses-permission android:name=&quot;android.permission.GET_ACCOUNTS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.USE_CREDENTIALS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\n\n tools:ignore=&quot;ScopedStorage&quot;/&gt;\n&lt;application\n    android:icon=&quot;@drawable/icogaef&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@drawable/icogaef&quot;\n    android:theme=&quot;@style/AppTheme&quot;\n    android:requestLegacyExternalStorage=&quot;true&quot;&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;\n        android:label=&quot;G.F.E.R94&quot;\n        android:textColor=&quot;@color/colorBleuDistrict&quot;&gt;\n\n\n    ImageButton BoutonLicencies = findViewById(R.id.imageButtonLicencies);\n    BoutonLicencies.setOnClickListener(v -&gt; {\n        if (accesLicencies == 1){\n\n            searchFile(&quot;Joueurs.xlsx&quot;);\n\n            try {\n                FileInputStream fileJoueur = null;\n                if(!fileName.canRead())\n                    fileName.setReadable(true);\n                fileJoueur = new FileInputStream(fileName);\n                XSSFWorkbook myWorkBook = null;\n                myWorkBook =  new  XSSFWorkbook(fileJoueur);\n                XSSFSheet mySheet = myWorkBook.getSheetAt(0);\n                mySheet = myWorkBook.getSheetAt(0);\n                Iterator&lt;Row&gt; rowIterator = mySheet.iterator();\n</code></pre>\n"},{"tags":["java","authentication","oauth","exchangewebservices","azure-ad-msal"],"answers":[{"tags":[],"owner":{"account_id":1085024,"reputation":20746,"user_id":1080923,"display_name":"Glen Scales"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667516084,"creation_date":1667516084,"answer_id":74310399,"question_id":74306204,"body_markdown":"The Official Java EWS Managed API isn&#39;t being updated or maintained by Microsoft anymore and doesn&#39;t support oAuth. Its open source and a few people have forked it and added that support in https://github.com/OfficeDev/ews-java-api/issues?q=is%3Aissue+is%3Aopen+oauth eg\r\n\r\nhttps://github.com/bookaroom/RESTApi/blob/master/src/com/comeet/exchange/BearerTokenCredentials.java\r\n\r\n\r\n\r\n","title":"How to authenticate to Microsoft Exchange via the ExchangeWebServices Java API classes and OAuth?","body":"<p>The Official Java EWS Managed API isn't being updated or maintained by Microsoft anymore and doesn't support oAuth. Its open source and a few people have forked it and added that support in <a href=\"https://github.com/OfficeDev/ews-java-api/issues?q=is%3Aissue+is%3Aopen+oauth\" rel=\"nofollow noreferrer\">https://github.com/OfficeDev/ews-java-api/issues?q=is%3Aissue+is%3Aopen+oauth</a> eg</p>\n<p><a href=\"https://github.com/bookaroom/RESTApi/blob/master/src/com/comeet/exchange/BearerTokenCredentials.java\" rel=\"nofollow noreferrer\">https://github.com/bookaroom/RESTApi/blob/master/src/com/comeet/exchange/BearerTokenCredentials.java</a></p>\n"}],"owner":{"account_id":26819836,"reputation":1,"user_id":20409353,"display_name":"dstr62"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":575,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667975509,"creation_date":1667491746,"question_id":74306204,"body_markdown":"I have a working Java batch program accessing Microsoft Exchange via the \r\n**ExchangeWebServices** Java API classes and the now **expired basic authentication**.&lt;br/&gt;\r\nI want to the **change the authentication method to oauthentication** (package com.microsoft.aad.**msal4j**).&lt;br/&gt;\r\nI found examples how to generate a ConfidentialClientApplication and then acquire a token (IAuthenticationResult) with it.&lt;br/&gt;\r\nBut then I don&#39;t know **how to create ExchangeCredentials out of the OAuth token** because the following line does not compile because **there is not class OAuthCredentials in the ExchangeWebServices**:&lt;br/&gt;\r\n\r\n    ExchangeCredentials credentials = new OAuthCredentials(authResult.AccessToken); \r\n\r\nFor Basic Auth I could simply use the following code:\r\n\r\n    ExchangeService     service     = new ExchangeService(ExchangeVersion.Exchange2010_SP2);\r\n    ExchangeCredentials credentials = new WebCredentials(&lt;user&gt;,&lt;password&gt;);\r\n    service.setCredentials(credentials);\r\n    service.setUrl(new URI(&lt;Exchange_URI&gt;));\r\n\r\nNow with msal4j for oauth I start as follows (example found elsewhere except for the last 2 lines):\r\n\r\n    IClientCredential credential = ClientCredentialFactory.createFromSecret(context.Exchange_AzureClientSecret);\r\n    ConfidentialClientApplication cca =\r\n            ConfidentialClientApplication\r\n                    .builder(&lt;Exchange_AzureClientId&gt;, credential)\r\n                    .authority(&lt;Exchange_Authority&gt;)\r\n                    .build();\r\n    IAuthenticationResult authResult;\r\n    Set&lt;String&gt; scope = Collections.singleton(&quot;https://outlook.office365.com/.default&quot;);\r\n         try {\r\n             SilentParameters silentParameters =\r\n                     SilentParameters\r\n                             .builder(scope)\r\n                             .build();\r\n             // try to acquire token silently. This call will fail since the token cache does not\r\n             // have a token for the application you are requesting an access token for\r\n             authResult = cca.acquireTokenSilently(silentParameters).join();\r\n         } catch (Exception ex) {\r\n             if (ex.getCause() instanceof MsalException) {\r\n                 ClientCredentialParameters parameters =\r\n                         ClientCredentialParameters\r\n                                 .builder(scope)\r\n                                 .build();\r\n                 // Try to acquire a token. If successful, you should see\r\n                 // the token information printed out to console\r\n                 authResult = cca.acquireToken(parameters).join();\r\n             } else {\r\n                 // Handle other exceptions accordingly\r\n                 throw ex;\r\n             }\r\n         }\r\n    ExchangeService service = new ExchangeService(ExchangeVersion.Exchange2010_SP2);\r\n    ExchangeCredentials credentials = new OAuthCredentials(authResult.AccessToken);\r\n    //...\r\n\r\nHow to create ExchangeCredentials out of the OAuth token (here named authResult)?\r\n\r\n","title":"How to authenticate to Microsoft Exchange via the ExchangeWebServices Java API classes and OAuth?","body":"<p>I have a working Java batch program accessing Microsoft Exchange via the\n<strong>ExchangeWebServices</strong> Java API classes and the now <strong>expired basic authentication</strong>.<br/>\nI want to the <strong>change the authentication method to oauthentication</strong> (package com.microsoft.aad.<strong>msal4j</strong>).<br/>\nI found examples how to generate a ConfidentialClientApplication and then acquire a token (IAuthenticationResult) with it.<br/>\nBut then I don't know <strong>how to create ExchangeCredentials out of the OAuth token</strong> because the following line does not compile because <strong>there is not class OAuthCredentials in the ExchangeWebServices</strong>:<br/></p>\n<pre><code>ExchangeCredentials credentials = new OAuthCredentials(authResult.AccessToken); \n</code></pre>\n<p>For Basic Auth I could simply use the following code:</p>\n<pre><code>ExchangeService     service     = new ExchangeService(ExchangeVersion.Exchange2010_SP2);\nExchangeCredentials credentials = new WebCredentials(&lt;user&gt;,&lt;password&gt;);\nservice.setCredentials(credentials);\nservice.setUrl(new URI(&lt;Exchange_URI&gt;));\n</code></pre>\n<p>Now with msal4j for oauth I start as follows (example found elsewhere except for the last 2 lines):</p>\n<pre><code>IClientCredential credential = ClientCredentialFactory.createFromSecret(context.Exchange_AzureClientSecret);\nConfidentialClientApplication cca =\n        ConfidentialClientApplication\n                .builder(&lt;Exchange_AzureClientId&gt;, credential)\n                .authority(&lt;Exchange_Authority&gt;)\n                .build();\nIAuthenticationResult authResult;\nSet&lt;String&gt; scope = Collections.singleton(&quot;https://outlook.office365.com/.default&quot;);\n     try {\n         SilentParameters silentParameters =\n                 SilentParameters\n                         .builder(scope)\n                         .build();\n         // try to acquire token silently. This call will fail since the token cache does not\n         // have a token for the application you are requesting an access token for\n         authResult = cca.acquireTokenSilently(silentParameters).join();\n     } catch (Exception ex) {\n         if (ex.getCause() instanceof MsalException) {\n             ClientCredentialParameters parameters =\n                     ClientCredentialParameters\n                             .builder(scope)\n                             .build();\n             // Try to acquire a token. If successful, you should see\n             // the token information printed out to console\n             authResult = cca.acquireToken(parameters).join();\n         } else {\n             // Handle other exceptions accordingly\n             throw ex;\n         }\n     }\nExchangeService service = new ExchangeService(ExchangeVersion.Exchange2010_SP2);\nExchangeCredentials credentials = new OAuthCredentials(authResult.AccessToken);\n//...\n</code></pre>\n<p>How to create ExchangeCredentials out of the OAuth token (here named authResult)?</p>\n"},{"tags":["java","spring","spring-mvc","spring-security","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":26852554,"reputation":16,"user_id":20437264,"display_name":"Serhii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667975424,"creation_date":1667802538,"answer_id":74342698,"question_id":74331616,"body_markdown":"Looks like you&#39;re looking for the best solution\r\n\r\nThymeleaf has its special integration with Spring Security\r\n\r\nYou can check [docs here][1]\r\n\r\nFirst of all, you should add `org.thymeleaf.extras` dependency to your project:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n    &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nNext step. Add Thymeleaf `sec` namespace to your `.html` template:\r\n\r\n```\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\nxmlns:th=&quot;http://www.thymeleaf.org&quot;\r\nxmlns:sec=&quot;http://www.thymeleaf.org/extras/spring-security&quot;&gt;\r\n```\r\n\r\nFinally, you can check user role and show specific content for different role:\r\n\r\n```\r\n&lt;div sec:authorize=&quot;hasRole(&#39;ROLE_ADMIN&#39;)&quot;&gt;\r\n    &lt;p&gt;Admin functionality&lt;/p&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nAlso `sec:authentication` can be used to retrieve user name and roles:\r\n\r\n```\r\n&lt;div sec:authorize=&quot;isAuthenticated()&quot;&gt;\r\n    User: &lt;span sec:authentication=&quot;name&quot;&gt;User name&lt;/span&gt;\r\n    Roles: &lt;span sec:authentication=&quot;principal.authorities&quot;&gt;User roles&lt;/span&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\n[1]: https://www.thymeleaf.org/doc/articles/springsecurity.html","title":"Spring. One-time add session attributes after authorization","body":"<p>Looks like you're looking for the best solution</p>\n<p>Thymeleaf has its special integration with Spring Security</p>\n<p>You can check <a href=\"https://www.thymeleaf.org/doc/articles/springsecurity.html\" rel=\"nofollow noreferrer\">docs here</a></p>\n<p>First of all, you should add <code>org.thymeleaf.extras</code> dependency to your project:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n    &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Next step. Add Thymeleaf <code>sec</code> namespace to your <code>.html</code> template:</p>\n<pre><code>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\nxmlns:th=&quot;http://www.thymeleaf.org&quot;\nxmlns:sec=&quot;http://www.thymeleaf.org/extras/spring-security&quot;&gt;\n</code></pre>\n<p>Finally, you can check user role and show specific content for different role:</p>\n<pre><code>&lt;div sec:authorize=&quot;hasRole('ROLE_ADMIN')&quot;&gt;\n    &lt;p&gt;Admin functionality&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Also <code>sec:authentication</code> can be used to retrieve user name and roles:</p>\n<pre><code>&lt;div sec:authorize=&quot;isAuthenticated()&quot;&gt;\n    User: &lt;span sec:authentication=&quot;name&quot;&gt;User name&lt;/span&gt;\n    Roles: &lt;span sec:authentication=&quot;principal.authorities&quot;&gt;User roles&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":18412529,"reputation":53,"user_id":13412398,"display_name":"Dimitrii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74342698,"answer_count":1,"score":1,"last_activity_date":1667975424,"creation_date":1667683730,"question_id":74331616,"body_markdown":"Stack: Spring Security and Thymeleaf.\r\n\r\nI have the following problem: I want to show or not show some elements in all html templates depending on user&#39;s role.\r\n\r\nSo, I need a boolean variable &quot;isAdmin&quot; in all templates so that I can use it in conditions:\r\n```\r\n&lt;p th:if=&quot;${isAdmin}&quot;&gt;Admin functionality&lt;/p&gt;\r\n```\r\nPlease help me find the best solution. What I tried:\r\n\r\n**Option 1.**\r\nI can add variable to the model in all controllers. But I think it&#39;s a bad practice.\r\n\r\n**Option 2.**\r\nI can inject variable into the body with &quot;th:with&quot; directly from the session:\r\n\r\n```\r\n&lt;body th:with=&quot;isAdmin=\r\n    ${session\r\n    .SPRING_SECURITY_CONTEXT\r\n    .getAuthentication()\r\n    .getAuthorities()\r\n    .contains(T(com.example.model.enums.Role).ADMIN)}&quot;&gt;\r\n```\r\n\r\nBut it&#39;s too long declaration.\r\nI also didn&#39;t fin information about the scope of global variables in Thymeleaf.\r\n\r\n**Option 3.**\r\nI understood I should add custom attribute in user session. And I should add it only one-time after authorization. I couldn&#39;t think of something better than overriding successForwardUrl, adding attribute in new controller and redirecting to the main page.\r\n\r\n```\r\n.formLogin()\r\n.loginPage(&quot;/login&quot;).permitAll()\r\n.successForwardUrl(&quot;/login/setAttributes&quot;)\r\n```\r\n\r\n```\r\n@PostMapping (&quot;login/setAttributes&quot;)\r\npublic String postLoginPage(HttpSession httpSession) {\r\n    boolean isAdmin = SecurityContextHolder\r\n            .getContext()\r\n            .getAuthentication()\r\n            .getAuthorities()\r\n            .contains(Role.ADMIN);\r\n\r\n    httpSession.setAttribute(&quot;isAdmin&quot;, isAdmin);\r\n    return &quot;redirect:/&quot;;\r\n}\r\n```\r\nBut I still think it&#39;s not the best solution.","title":"Spring. One-time add session attributes after authorization","body":"<p>Stack: Spring Security and Thymeleaf.</p>\n<p>I have the following problem: I want to show or not show some elements in all html templates depending on user's role.</p>\n<p>So, I need a boolean variable &quot;isAdmin&quot; in all templates so that I can use it in conditions:</p>\n<pre><code>&lt;p th:if=&quot;${isAdmin}&quot;&gt;Admin functionality&lt;/p&gt;\n</code></pre>\n<p>Please help me find the best solution. What I tried:</p>\n<p><strong>Option 1.</strong>\nI can add variable to the model in all controllers. But I think it's a bad practice.</p>\n<p><strong>Option 2.</strong>\nI can inject variable into the body with &quot;th:with&quot; directly from the session:</p>\n<pre><code>&lt;body th:with=&quot;isAdmin=\n    ${session\n    .SPRING_SECURITY_CONTEXT\n    .getAuthentication()\n    .getAuthorities()\n    .contains(T(com.example.model.enums.Role).ADMIN)}&quot;&gt;\n</code></pre>\n<p>But it's too long declaration.\nI also didn't fin information about the scope of global variables in Thymeleaf.</p>\n<p><strong>Option 3.</strong>\nI understood I should add custom attribute in user session. And I should add it only one-time after authorization. I couldn't think of something better than overriding successForwardUrl, adding attribute in new controller and redirecting to the main page.</p>\n<pre><code>.formLogin()\n.loginPage(&quot;/login&quot;).permitAll()\n.successForwardUrl(&quot;/login/setAttributes&quot;)\n</code></pre>\n<pre><code>@PostMapping (&quot;login/setAttributes&quot;)\npublic String postLoginPage(HttpSession httpSession) {\n    boolean isAdmin = SecurityContextHolder\n            .getContext()\n            .getAuthentication()\n            .getAuthorities()\n            .contains(Role.ADMIN);\n\n    httpSession.setAttribute(&quot;isAdmin&quot;, isAdmin);\n    return &quot;redirect:/&quot;;\n}\n</code></pre>\n<p>But I still think it's not the best solution.</p>\n"},{"tags":["java","swing","javafx","maps"],"comments":[{"owner":{"account_id":8648244,"reputation":367,"user_id":6474819,"accept_rate":89,"display_name":"M. Rogers"},"score":2,"creation_date":1667853773,"post_id":74348309,"comment_id":131262797,"body_markdown":"My guess is the online google maps isn&#39;t supported for WebView? That&#39;s where I would look. Google also has a maps API which may be worth looking into. Also side note, it seems weird to used both JavaFx and Swing here. Why not fully commit to FX.","body":"My guess is the online google maps isn&#39;t supported for WebView? That&#39;s where I would look. Google also has a maps API which may be worth looking into. Also side note, it seems weird to used both JavaFx and Swing here. Why not fully commit to FX."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1667859595,"post_id":74348309,"comment_id":131264281,"body_markdown":"I tried to open &quot;https://www.google.com/maps&quot; in a JavaFX 19 (OS X) WebView.  I didn&#39;t see a message &quot;Update your browser to use Google Maps&quot; message, however, the page did not display a map either.  I think @M.Rogers is correct that the current version of Google maps is incompatible with WebView.  This is likely an issue that only Google and/or a JavaFX system developer can fix.","body":"I tried to open &quot;<a href=\"https://www.google.com/maps\" rel=\"nofollow noreferrer\">google.com/maps</a>&quot; in a JavaFX 19 (OS X) WebView.  I didn&#39;t see a message &quot;Update your browser to use Google Maps&quot; message, however, the page did not display a map either.  I think @M.Rogers is correct that the current version of Google maps is incompatible with WebView.  This is likely an issue that only Google and/or a JavaFX system developer can fix."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1667862220,"post_id":74348309,"comment_id":131264846,"body_markdown":"It&#39;s possible that google maps checks the browser and version against a list of known browsers and supported apps. If that&#39;s the case, you may be able to convince google that web view is supported by setting the user agent on the web engine to make it appear to be, e.g., Chrome.","body":"It&#39;s possible that google maps checks the browser and version against a list of known browsers and supported apps. If that&#39;s the case, you may be able to convince google that web view is supported by setting the user agent on the web engine to make it appear to be, e.g., Chrome."}],"answers":[{"tags":[],"owner":{"account_id":8314655,"reputation":51,"user_id":6248426,"display_name":"SYK&#39;O"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667975161,"creation_date":1667975161,"answer_id":74370699,"question_id":74348309,"body_markdown":"After banging my head to a wall for hours, i updated jdk to jdk 19 but i guess jdk 19 doesn&#39;t include dependencies for javafx so i included the libraries in the image below and all is guchi now.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThanks all.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1Ha1t.jpg","title":"Update your browser to use Google Maps when opening a google map within a SimpleSwingBrowser","body":"<p>After banging my head to a wall for hours, i updated jdk to jdk 19 but i guess jdk 19 doesn't include dependencies for javafx so i included the libraries in the image below and all is guchi now.</p>\n<p><a href=\"https://i.stack.imgur.com/1Ha1t.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Ha1t.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Thanks all.</p>\n"}],"owner":{"account_id":8314655,"reputation":51,"user_id":6248426,"display_name":"SYK&#39;O"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667975161,"creation_date":1667831852,"question_id":74348309,"body_markdown":"am trying to open a google maps link within a java application. came across the sample code below tried it out and it loads the map perfectly but then after loading is done the page shows &quot;Update your browser to use Google Maps&quot; message and the map closes. \r\n\r\nusing jdk 1.8, GMapsFX-2.12.0 on Netbeans IDE 8.2\r\n\r\npoint me in the right direction.. tnxs in advance.\r\n\r\nHere is my code\r\n\r\n        package com.lynden.SimpleSwingBrowser;\r\n    \r\n        import java.awt.*;\r\n        import java.awt.event.*;\r\n        import java.net.MalformedURLException;\r\n        import java.net.URL;\r\n        import javafx.application.Platform;\r\n        import javafx.beans.value.ChangeListener;\r\n        import javafx.beans.value.ObservableValue;\r\n        import static javafx.concurrent.Worker.State.FAILED;\r\n        import javafx.embed.swing.JFXPanel;\r\n        import javafx.event.EventHandler;\r\n        import javafx.scene.Scene;\r\n        import javafx.scene.web.WebEngine;\r\n        import javafx.scene.web.WebEvent;\r\n        import javafx.scene.web.WebView;\r\n        import javax.swing.*;\r\n    \r\n        /**\r\n         *\r\n         * @author User\r\n         */\r\n        public class SimpleSwingBrowser implements Runnable {\r\n        private JFXPanel jfxPanel;\r\n        private WebEngine engine;\r\n    \r\n        private JFrame frame = new JFrame();\r\n        private JPanel panel = new JPanel(new BorderLayout());\r\n        private JLabel lblStatus = new JLabel();\r\n    \r\n        private JButton btnGo = new JButton(&quot;Go&quot;);\r\n        private JTextField txtURL = new JTextField();\r\n        private JProgressBar progressBar = new JProgressBar();\r\n    \r\n        private void initComponents() {\r\n            jfxPanel = new JFXPanel();\r\n    \r\n            createScene();\r\n    \r\n            ActionListener al = new ActionListener() {\r\n                @Override public void actionPerformed(ActionEvent e) {\r\n                    loadURL(txtURL.getText());\r\n                }\r\n            };\r\n    \r\n            btnGo.addActionListener(al);\r\n            txtURL.addActionListener(al);\r\n    \r\n            progressBar.setPreferredSize(new Dimension(150, 18));\r\n            progressBar.setStringPainted(true);\r\n    \r\n            JPanel topBar = new JPanel(new BorderLayout(5, 0));\r\n            topBar.setBorder(BorderFactory.createEmptyBorder(3, 5, 3, 5));\r\n            topBar.add(txtURL, BorderLayout.CENTER);\r\n            topBar.add(btnGo, BorderLayout.EAST);\r\n    \r\n    \r\n            JPanel statusBar = new JPanel(new BorderLayout(5, 0));\r\n            statusBar.setBorder(BorderFactory.createEmptyBorder(3, 5, 3, 5));\r\n            statusBar.add(lblStatus, BorderLayout.CENTER);\r\n            statusBar.add(progressBar, BorderLayout.EAST);\r\n    \r\n            panel.add(topBar, BorderLayout.NORTH);\r\n            panel.add(jfxPanel, BorderLayout.CENTER);\r\n            panel.add(statusBar, BorderLayout.SOUTH);\r\n    \r\n            frame.getContentPane().add(panel);\r\n        }\r\n    \r\n        private void createScene() {\r\n    \r\n            Platform.runLater(new Runnable() {\r\n                @Override public void run() {\r\n    \r\n                    WebView view = new WebView();\r\n                    engine = view.getEngine();\r\n    \r\n                \r\n    \r\n    engine.titleProperty().addListener(new ChangeListener&lt;String&gt;() {\r\n                    @Override\r\n                    public void changed(ObservableValue&lt;? extends String&gt; observable, String `oldValue, final String newValue) {`\r\n                        SwingUtilities.invokeLater(new Runnable() {\r\n                            @Override public void run() {\r\n                                frame.setTitle(newValue);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n    \r\n                    engine.setOnStatusChanged(new EventHandler&lt;WebEvent&lt;String&gt;&gt;() {\r\n                        @Override public void handle(final WebEvent&lt;String&gt; event) {\r\n                            SwingUtilities.invokeLater(new Runnable() {\r\n                                @Override public void run() {\r\n                                    lblStatus.setText(event.getData());\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n    \r\n                \r\n    \r\n    engine.locationProperty().addListener(new ChangeListener&lt;String&gt;() {\r\n                    @Override\r\n                    public void changed(ObservableValue&lt;? extends String&gt; ov, String oldValue, final `String newValue) {`\r\n                        SwingUtilities.invokeLater(new Runnable() {\r\n                            @Override public void run() {\r\n                                txtURL.setText(newValue);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n    \r\n                \r\n    \r\n    engine.getLoadWorker().workDoneProperty().addListener(new ChangeListener&lt;Number&gt;() {\r\n                    @Override\r\n                    public void changed(ObservableValue&lt;? extends Number&gt; observableValue, Number `oldValue, final Number newValue) {`\r\n                        SwingUtilities.invokeLater(new Runnable() {\r\n                            @Override public void run() {\r\n                                progressBar.setValue(newValue.intValue());\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n    \r\n                \r\n    \r\n    engine.getLoadWorker()\r\n                        .exceptionProperty()\r\n                        .addListener(new ChangeListener&lt;Throwable&gt;() {\r\n    \r\n                            public void changed(ObservableValue&lt;? extends Throwable&gt; o, Throwable `old, final Throwable value) {`\r\n                                if (engine.getLoadWorker().getState() == FAILED) {\r\n                                    SwingUtilities.invokeLater(new Runnable() {\r\n                                        @Override public void run() {\r\n                                            JOptionPane.showMessageDialog(\r\n                                                    panel,\r\n                                                    (value != null) ?\r\n                                                    engine.getLocation() + &quot;\\n&quot; + value.getMessage() :\r\n                                                    engine.getLocation() + &quot;\\nUnexpected error.&quot;,\r\n                                                    &quot;Loading error...&quot;,\r\n                                                    JOptionPane.ERROR_MESSAGE);\r\n                                        }\r\n                                    });\r\n                                }\r\n                            }\r\n                        });\r\n    \r\n                jfxPanel.setScene(new Scene(view));\r\n            }\r\n        });\r\n    }\r\n    \r\n     \r\n    \r\n    public void loadURL(final String url) {\r\n        Platform.runLater(new Runnable() {\r\n            @Override public void run() {\r\n                String tmp = toURL(url);\r\n    \r\n                if (tmp == null) {\r\n                    tmp = toURL(&quot;http://&quot; + url);\r\n                }\r\n    \r\n                engine.load(tmp);\r\n            }\r\n        });\r\n    }\r\n    \r\n    private static String toURL(String str) {\r\n        try {\r\n            return new URL(str).toExternalForm();\r\n        } catch (MalformedURLException exception) {\r\n                return null;\r\n        }\r\n    }\r\n    \r\n            @Override public void run() {\r\n        \r\n                frame.setPreferredSize(new Dimension(1024, 600));\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        \r\n                initComponents();\r\n        \r\n            \r\n        \r\n        loadURL(&quot;https://www.google.com/maps/dir/7.0685289,38.4791676/Teticha+Health+Center,+Teticha/Awaye+Kararo+Health+Center/Mejo+Primary+Hospital,+Bubbe/7.0685289,38.4791676/@6.6555334,38.4639454,11z/data=!4m24!4m23!1m1!4e1!1m5!1m1!1s0x17b0d1ddc537e75b:0x8f01bdf3b440d3ac!2m2!1d38.5331294!2d6.5576005!1m5!1m1!1s0x17b733852eccaa3f:0x888346f55e085a32!2m2!1d38.7300855!2d6.435249!1m5!1m1!1s0x17b73fb931e23413:0xd0d5830b9b7b12dc!2m2!1d38.9510496!2d6.3811229!1m1!4e1!3e0&quot;);\r\n        \r\n                frame.pack();\r\n                frame.setVisible(true);\r\n            }\r\n        \r\n            public static void main(String[] args) {\r\n                SwingUtilities.invokeLater(new SimpleSwingBrowser());\r\n            }\r\n        }\r\n\r\n   \r\n\r\n \r\n\r\n","title":"Update your browser to use Google Maps when opening a google map within a SimpleSwingBrowser","body":"<p>am trying to open a google maps link within a java application. came across the sample code below tried it out and it loads the map perfectly but then after loading is done the page shows &quot;Update your browser to use Google Maps&quot; message and the map closes.</p>\n<p>using jdk 1.8, GMapsFX-2.12.0 on Netbeans IDE 8.2</p>\n<p>point me in the right direction.. tnxs in advance.</p>\n<p>Here is my code</p>\n<pre><code>    package com.lynden.SimpleSwingBrowser;\n\n    import java.awt.*;\n    import java.awt.event.*;\n    import java.net.MalformedURLException;\n    import java.net.URL;\n    import javafx.application.Platform;\n    import javafx.beans.value.ChangeListener;\n    import javafx.beans.value.ObservableValue;\n    import static javafx.concurrent.Worker.State.FAILED;\n    import javafx.embed.swing.JFXPanel;\n    import javafx.event.EventHandler;\n    import javafx.scene.Scene;\n    import javafx.scene.web.WebEngine;\n    import javafx.scene.web.WebEvent;\n    import javafx.scene.web.WebView;\n    import javax.swing.*;\n\n    /**\n     *\n     * @author User\n     */\n    public class SimpleSwingBrowser implements Runnable {\n    private JFXPanel jfxPanel;\n    private WebEngine engine;\n\n    private JFrame frame = new JFrame();\n    private JPanel panel = new JPanel(new BorderLayout());\n    private JLabel lblStatus = new JLabel();\n\n    private JButton btnGo = new JButton(&quot;Go&quot;);\n    private JTextField txtURL = new JTextField();\n    private JProgressBar progressBar = new JProgressBar();\n\n    private void initComponents() {\n        jfxPanel = new JFXPanel();\n\n        createScene();\n\n        ActionListener al = new ActionListener() {\n            @Override public void actionPerformed(ActionEvent e) {\n                loadURL(txtURL.getText());\n            }\n        };\n\n        btnGo.addActionListener(al);\n        txtURL.addActionListener(al);\n\n        progressBar.setPreferredSize(new Dimension(150, 18));\n        progressBar.setStringPainted(true);\n\n        JPanel topBar = new JPanel(new BorderLayout(5, 0));\n        topBar.setBorder(BorderFactory.createEmptyBorder(3, 5, 3, 5));\n        topBar.add(txtURL, BorderLayout.CENTER);\n        topBar.add(btnGo, BorderLayout.EAST);\n\n\n        JPanel statusBar = new JPanel(new BorderLayout(5, 0));\n        statusBar.setBorder(BorderFactory.createEmptyBorder(3, 5, 3, 5));\n        statusBar.add(lblStatus, BorderLayout.CENTER);\n        statusBar.add(progressBar, BorderLayout.EAST);\n\n        panel.add(topBar, BorderLayout.NORTH);\n        panel.add(jfxPanel, BorderLayout.CENTER);\n        panel.add(statusBar, BorderLayout.SOUTH);\n\n        frame.getContentPane().add(panel);\n    }\n\n    private void createScene() {\n\n        Platform.runLater(new Runnable() {\n            @Override public void run() {\n\n                WebView view = new WebView();\n                engine = view.getEngine();\n\n            \n\nengine.titleProperty().addListener(new ChangeListener&lt;String&gt;() {\n                @Override\n                public void changed(ObservableValue&lt;? extends String&gt; observable, String `oldValue, final String newValue) {`\n                    SwingUtilities.invokeLater(new Runnable() {\n                        @Override public void run() {\n                            frame.setTitle(newValue);\n                        }\n                    });\n                }\n            });\n\n                engine.setOnStatusChanged(new EventHandler&lt;WebEvent&lt;String&gt;&gt;() {\n                    @Override public void handle(final WebEvent&lt;String&gt; event) {\n                        SwingUtilities.invokeLater(new Runnable() {\n                            @Override public void run() {\n                                lblStatus.setText(event.getData());\n                            }\n                        });\n                    }\n                });\n\n            \n\nengine.locationProperty().addListener(new ChangeListener&lt;String&gt;() {\n                @Override\n                public void changed(ObservableValue&lt;? extends String&gt; ov, String oldValue, final `String newValue) {`\n                    SwingUtilities.invokeLater(new Runnable() {\n                        @Override public void run() {\n                            txtURL.setText(newValue);\n                        }\n                    });\n                }\n            });\n\n            \n\nengine.getLoadWorker().workDoneProperty().addListener(new ChangeListener&lt;Number&gt;() {\n                @Override\n                public void changed(ObservableValue&lt;? extends Number&gt; observableValue, Number `oldValue, final Number newValue) {`\n                    SwingUtilities.invokeLater(new Runnable() {\n                        @Override public void run() {\n                            progressBar.setValue(newValue.intValue());\n                        }\n                    });\n                }\n            });\n\n            \n\nengine.getLoadWorker()\n                    .exceptionProperty()\n                    .addListener(new ChangeListener&lt;Throwable&gt;() {\n\n                        public void changed(ObservableValue&lt;? extends Throwable&gt; o, Throwable `old, final Throwable value) {`\n                            if (engine.getLoadWorker().getState() == FAILED) {\n                                SwingUtilities.invokeLater(new Runnable() {\n                                    @Override public void run() {\n                                        JOptionPane.showMessageDialog(\n                                                panel,\n                                                (value != null) ?\n                                                engine.getLocation() + &quot;\\n&quot; + value.getMessage() :\n                                                engine.getLocation() + &quot;\\nUnexpected error.&quot;,\n                                                &quot;Loading error...&quot;,\n                                                JOptionPane.ERROR_MESSAGE);\n                                    }\n                                });\n                            }\n                        }\n                    });\n\n            jfxPanel.setScene(new Scene(view));\n        }\n    });\n}\n\n \n\npublic void loadURL(final String url) {\n    Platform.runLater(new Runnable() {\n        @Override public void run() {\n            String tmp = toURL(url);\n\n            if (tmp == null) {\n                tmp = toURL(&quot;http://&quot; + url);\n            }\n\n            engine.load(tmp);\n        }\n    });\n}\n\nprivate static String toURL(String str) {\n    try {\n        return new URL(str).toExternalForm();\n    } catch (MalformedURLException exception) {\n            return null;\n    }\n}\n\n        @Override public void run() {\n    \n            frame.setPreferredSize(new Dimension(1024, 600));\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    \n            initComponents();\n    \n        \n    \n    loadURL(&quot;https://www.google.com/maps/dir/7.0685289,38.4791676/Teticha+Health+Center,+Teticha/Awaye+Kararo+Health+Center/Mejo+Primary+Hospital,+Bubbe/7.0685289,38.4791676/@6.6555334,38.4639454,11z/data=!4m24!4m23!1m1!4e1!1m5!1m1!1s0x17b0d1ddc537e75b:0x8f01bdf3b440d3ac!2m2!1d38.5331294!2d6.5576005!1m5!1m1!1s0x17b733852eccaa3f:0x888346f55e085a32!2m2!1d38.7300855!2d6.435249!1m5!1m1!1s0x17b73fb931e23413:0xd0d5830b9b7b12dc!2m2!1d38.9510496!2d6.3811229!1m1!4e1!3e0&quot;);\n    \n            frame.pack();\n            frame.setVisible(true);\n        }\n    \n        public static void main(String[] args) {\n            SwingUtilities.invokeLater(new SimpleSwingBrowser());\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2540793,"reputation":1637,"user_id":2206638,"display_name":"Pavel"},"score":0,"creation_date":1552148108,"post_id":55079127,"comment_id":96904789,"body_markdown":"you can construct map from your array, this way it would be much easier to achieve the described problem solution","body":"you can construct map from your array, this way it would be much easier to achieve the described problem solution"},{"owner":{"account_id":15310674,"reputation":1297,"user_id":11046080,"display_name":"Syed Mehtab Hassan"},"score":0,"creation_date":1552148318,"post_id":55079127,"comment_id":96904857,"body_markdown":"@Maya what is the required output in your problem?","body":"@Maya what is the required output in your problem?"},{"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1552149063,"post_id":55079127,"comment_id":96905082,"body_markdown":"I don&#39;t think you have understood the problem guessTwo should return 1 (or 0 depending on the rules) and not 3 cows.","body":"I don&#39;t think you have understood the problem guessTwo should return 1 (or 0 depending on the rules) and not 3 cows."},{"owner":{"account_id":15492018,"reputation":29,"user_id":11176185,"display_name":"Maya"},"score":0,"creation_date":1552155685,"post_id":55079127,"comment_id":96906981,"body_markdown":"@SyedMehtabHassan The outputs are presented in the examples","body":"@SyedMehtabHassan The outputs are presented in the examples"},{"owner":{"account_id":15492018,"reputation":29,"user_id":11176185,"display_name":"Maya"},"score":0,"creation_date":1552155796,"post_id":55079127,"comment_id":96907011,"body_markdown":"@JoakimDanielson I know that guessTwo should return 0, but my code returns 3 instead. I can&#39;t figure out how to fix the problem","body":"@JoakimDanielson I know that guessTwo should return 0, but my code returns 3 instead. I can&#39;t figure out how to fix the problem"},{"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1552158026,"post_id":55079127,"comment_id":96907637,"body_markdown":"Ok but you wrote the other way around in the question. You might want to update it. And you might also want to explain better how to handle bulls and cows together if any such rules exists.","body":"Ok but you wrote the other way around in the question. You might want to update it. And you might also want to explain better how to handle bulls and cows together if any such rules exists."},{"owner":{"account_id":15492018,"reputation":29,"user_id":11176185,"display_name":"Maya"},"score":0,"creation_date":1552158117,"post_id":55079127,"comment_id":96907666,"body_markdown":"@JoakimDanielson No, I wrote it correctly. You might have read it too fast","body":"@JoakimDanielson No, I wrote it correctly. You might have read it too fast"},{"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1552170547,"post_id":55079127,"comment_id":96910851,"body_markdown":"Your example was correct yes, I got confused by the text under it.","body":"Your example was correct yes, I got confused by the text under it."},{"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1552408455,"post_id":55079127,"comment_id":96994541,"body_markdown":"Possible duplicate of [Counting the number of common elements in integer arrays located at different positions](https://stackoverflow.com/questions/55121991/counting-the-number-of-common-elements-in-integer-arrays-located-at-different-po)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/55121991/counting-the-number-of-common-elements-in-integer-arrays-located-at-different-po\">Counting the number of common elements in integer arrays located at different positions</a>"}],"answers":[{"tags":[],"owner":{"account_id":15310674,"reputation":1297,"user_id":11046080,"display_name":"Syed Mehtab Hassan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552148545,"creation_date":1552148545,"answer_id":55079386,"question_id":55079127,"body_markdown":"Just adding a condition i != j will solve your problem so that the position of elements will not be same.\r\nfor (int i = 0; i &lt; guessedNumber.length; i++) {\r\n\r\n        for (int j = 0; j &lt; secretNumber.length; j++) {\r\n\r\n          int guessedDigit = guessedNumber[i];\r\n          int secretDigit = secretNumber[j];\r\n\r\n          if ( i != j &amp;&amp; guessedDigit == secretDigit) {\r\n\r\n            // Update the varaible\r\n\r\n            numberOfCows++;\r\n          }\r\n        }\r\n","title":"Counting the number of matching digits in an array at different positions","body":"<p>Just adding a condition i != j will solve your problem so that the position of elements will not be same.\nfor (int i = 0; i &lt; guessedNumber.length; i++) {</p>\n\n<pre><code>    for (int j = 0; j &lt; secretNumber.length; j++) {\n\n      int guessedDigit = guessedNumber[i];\n      int secretDigit = secretNumber[j];\n\n      if ( i != j &amp;&amp; guessedDigit == secretDigit) {\n\n        // Update the varaible\n\n        numberOfCows++;\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552397146,"creation_date":1552170260,"answer_id":55082558,"question_id":55079127,"body_markdown":"This solution merges the two functions into one since we must keep track of what numbers in the secret has already been marked as bull or cow. This means that it will return an array of 2 ints (bulls &amp; cows) rather than an int. For clarity I have assumed the arrays are the same size. This check can of course be added back or even better performed before the method is called.\r\n\r\n    public static int[] getNumOfBullsAndCows(int[] secretNumber, int[] guessedNumber) {\r\n        int max = secretNumber.length;\r\n        int cows = 0;\r\n        int bulls = 0;\r\n        int[] checked = new int[max];\r\n        for (int i = 0; i &lt; max; i++) {\r\n            if (secretNumber[i] == guessedNumber[i]) {\r\n              bulls++;\r\n              checked[i] = 1;\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; max; i++) {\r\n          if (checked[i] == 1) {\r\n            continue;\r\n          }\r\n          for (int j = 0; j &lt; max; j++) {\r\n            if (secretNumber[i] == guessedNumber[j]) {\r\n              cows++;\r\n              checked[i] = 1;\r\n            }\r\n          }\r\n        }\r\n        return new int[]{bulls, cows};\r\n    }\r\n\r\n---\r\nAlternative take, use the original method in the question to count bulls and use my solution only to count cows\r\n\r\n    public static int getNumOfCows(int[] secretNumber, int[] guessedNumber) {\r\n        int max = secretNumber.length;\r\n        int cows = 0;\r\n        int[] checked = new int[max];\r\n        for (int i = 0; i &lt; max; i++) {\r\n            if (secretNumber[i] == guessedNumber[i]) {\r\n              checked[i] = 1;\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; max; i++) {\r\n          if (checked[i] == 1) {\r\n            continue;\r\n          }\r\n          for (int j = 0; j &lt; max; j++) {\r\n            if (secretNumber[i] == guessedNumber[j]) {\r\n              cows++;\r\n              checked[i] = 1;\r\n            }\r\n          }\r\n        }\r\n        return cows;\r\n    }","title":"Counting the number of matching digits in an array at different positions","body":"<p>This solution merges the two functions into one since we must keep track of what numbers in the secret has already been marked as bull or cow. This means that it will return an array of 2 ints (bulls &amp; cows) rather than an int. For clarity I have assumed the arrays are the same size. This check can of course be added back or even better performed before the method is called.</p>\n\n<pre><code>public static int[] getNumOfBullsAndCows(int[] secretNumber, int[] guessedNumber) {\n    int max = secretNumber.length;\n    int cows = 0;\n    int bulls = 0;\n    int[] checked = new int[max];\n    for (int i = 0; i &lt; max; i++) {\n        if (secretNumber[i] == guessedNumber[i]) {\n          bulls++;\n          checked[i] = 1;\n        }\n    }\n\n    for (int i = 0; i &lt; max; i++) {\n      if (checked[i] == 1) {\n        continue;\n      }\n      for (int j = 0; j &lt; max; j++) {\n        if (secretNumber[i] == guessedNumber[j]) {\n          cows++;\n          checked[i] = 1;\n        }\n      }\n    }\n    return new int[]{bulls, cows};\n}\n</code></pre>\n\n<hr>\n\n<p>Alternative take, use the original method in the question to count bulls and use my solution only to count cows</p>\n\n<pre><code>public static int getNumOfCows(int[] secretNumber, int[] guessedNumber) {\n    int max = secretNumber.length;\n    int cows = 0;\n    int[] checked = new int[max];\n    for (int i = 0; i &lt; max; i++) {\n        if (secretNumber[i] == guessedNumber[i]) {\n          checked[i] = 1;\n        }\n    }\n\n    for (int i = 0; i &lt; max; i++) {\n      if (checked[i] == 1) {\n        continue;\n      }\n      for (int j = 0; j &lt; max; j++) {\n        if (secretNumber[i] == guessedNumber[j]) {\n          cows++;\n          checked[i] = 1;\n        }\n      }\n    }\n    return cows;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26765491,"reputation":1,"user_id":20362713,"display_name":"Vineet James Neogi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667974968,"creation_date":1667797502,"answer_id":74342173,"question_id":55079127,"body_markdown":"For the getNumOfCows method, use the same code for the getNumOfBulls method, but in the for loop, call another method called contains(). \r\n\r\nThe contains() method takes as input an array of integers and a specific integer. The method returns true if the specified integer is an element of the given array, and false otherwise.\r\n\r\n```\r\npublic static boolean contains(int userInput[], int specificInteger){\r\n\r\n    int[] secretNumber = userInput;\r\n    int guessedDigit = specificInteger;\r\n\r\n    for (int i = 0; i &lt; input.length; i++) {\r\n\r\n        if(input[i] == element) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    return false;\r\n\r\n}\r\n```\r\n\r\n\r\nTo write the getNumOfCows method, I will copy and paste the getNumOfBulls method above and add my contains() method inside it.\r\n\r\n```\r\npublic static int getNumOfCows(int[] secretNumber, int[] guessedNumber) {\r\n\r\n    // Initialize and declare a variable that acts as a counter\r\n    int numberOfCows = 0;\r\n\r\n    if (guessedNumber.length == secretNumber.length) {\r\n\r\n      // Compare the elements of both arrays at position i  \r\n      for (int i = 0; i &lt; guessedNumber.length; i++) {\r\n\r\n        int guessedDigit = guessedNumber[i];\r\n        int secretDigit = secretNumber[i];\r\n\r\n        if (contains(secretNumber, guessedNumber[i]) {\r\n          // Update the variable\r\n          numberOfCows++;\r\n        }\r\n      }\r\n    }\r\n\r\n    else {\r\n      // Throw an IllegalArgumentException\r\n      throw new IllegalArgumentException (&quot;Both array must contain the same number of elements&quot;);\r\n    }\r\n\r\n    return numberOfCows;\r\n}\r\n\r\n```\r\n\r\n","title":"Counting the number of matching digits in an array at different positions","body":"<p>For the getNumOfCows method, use the same code for the getNumOfBulls method, but in the for loop, call another method called contains().</p>\n<p>The contains() method takes as input an array of integers and a specific integer. The method returns true if the specified integer is an element of the given array, and false otherwise.</p>\n<pre><code>public static boolean contains(int userInput[], int specificInteger){\n\n    int[] secretNumber = userInput;\n    int guessedDigit = specificInteger;\n\n    for (int i = 0; i &lt; input.length; i++) {\n\n        if(input[i] == element) {\n            return true;\n        }\n    }\n\n    return false;\n\n}\n</code></pre>\n<p>To write the getNumOfCows method, I will copy and paste the getNumOfBulls method above and add my contains() method inside it.</p>\n<pre><code>public static int getNumOfCows(int[] secretNumber, int[] guessedNumber) {\n\n    // Initialize and declare a variable that acts as a counter\n    int numberOfCows = 0;\n\n    if (guessedNumber.length == secretNumber.length) {\n\n      // Compare the elements of both arrays at position i  \n      for (int i = 0; i &lt; guessedNumber.length; i++) {\n\n        int guessedDigit = guessedNumber[i];\n        int secretDigit = secretNumber[i];\n\n        if (contains(secretNumber, guessedNumber[i]) {\n          // Update the variable\n          numberOfCows++;\n        }\n      }\n    }\n\n    else {\n      // Throw an IllegalArgumentException\n      throw new IllegalArgumentException (&quot;Both array must contain the same number of elements&quot;);\n    }\n\n    return numberOfCows;\n}\n\n</code></pre>\n"}],"owner":{"account_id":15492018,"reputation":29,"user_id":11176185,"display_name":"Maya"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1667974968,"creation_date":1552146943,"question_id":55079127,"body_markdown":"Definitions:\r\n\r\n - Bulls: If the matching digits in an array are at the same positions\r\n - Cows: If the matching digits in an array are at different positions\r\n\r\nFor my assignment, I am trying to write functions that count the number of bulls and cows. \r\n\r\nFor example: \r\n\r\n    int[] secret = {2, 0, 6, 9};\r\n    int[] guessOne = {9, 5, 6, 2};\r\n    int[] guessTwo = {2, 0, 6, 2};\r\n    int[] guessThree = {1, 2, 3, 4, 5, 6};\r\n    int[] guessFour = {1, 3, 4, 4, 0, 5};\r\n    \r\n    getNumOfBulls(secret, guessOne) returns 1.\r\n    getNumOfBulls(secret, guessTwo) returns 3.\r\n    getNumOfBulls(secret, guessThree) raises an exception.\r\n    getNumOfBulls(guessThree, guessFour) returns 2.\r\n    getNumOfCows(secret, guessOne) returns 2.\r\n    getNumOfCows(secret, guessTwo) returns 0.\r\n    getNumOfCows(secret, guessThree) raises an exception.\r\n    getNumOfCows(guessThree, guessFour) returns 2.\r\n\r\nI was able to complete the first part, but I am having trouble with counting the number of cows. My code includes the number of bulls in count of the cows such that getNumOfCows(secret, guessTwo) returns 3 instead of 0.\r\n\r\nHere is my code:\r\n\r\n    // A method that gets the number of bulls in a guess\r\n      \r\n      public static int getNumOfBulls(int[] secretNumber, int[] guessedNumber) {\r\n        \r\n        // Initialize and declare a variable that acts as a counter\r\n        \r\n        int numberOfBulls = 0;\r\n        \r\n        if (guessedNumber.length == secretNumber.length) {\r\n          \r\n          // Compare the elements of both arrays at position i  \r\n          \r\n          for (int i = 0; i &lt; guessedNumber.length; i++) {\r\n            \r\n            int guessedDigit = guessedNumber[i];\r\n            int secretDigit = secretNumber[i];\r\n            \r\n            if (guessedDigit == secretDigit) {\r\n              \r\n              // Update the variable\r\n              \r\n              numberOfBulls++;\r\n            }\r\n          }\r\n        }\r\n            \r\n        else {\r\n          \r\n          // Throw an IllegalArgumentException\r\n          \r\n          throw new IllegalArgumentException (&quot;Both array must contain the same number of elements&quot;);\r\n        }\r\n        \r\n        return numberOfBulls;\r\n      }\r\n      \r\n      \r\n      // A method that gets the number of cows in a guess --- TO BE FIXED\r\n      \r\n      public static int getNumOfCows(int[] secretNumber, int[] guessedNumber) {\r\n        \r\n        // Initialize and declare a variable that acts as a counter\r\n        \r\n        int numberOfCows = 0;\r\n        \r\n        if (guessedNumber.length == secretNumber.length) {\r\n          \r\n          // Loop through all the elements of both arrays to see if there is any matching digit located at different positions\r\n          \r\n          for (int i = 0; i &lt; guessedNumber.length; i++) {\r\n            \r\n            for (int j = 0; j &lt; secretNumber.length; j++) {\r\n              \r\n              int guessedDigit = guessedNumber[i];\r\n              int secretDigit = secretNumber[j];\r\n              \r\n              if (guessedDigit == secretDigit) {\r\n                \r\n                // Update the varaible\r\n                \r\n                numberOfCows++;\r\n              }\r\n            }\r\n          }\r\n        }\r\n          \r\n        else {\r\n          \r\n          // Throw an IllegalArgumentException\r\n          \r\n          throw new IllegalArgumentException (&quot;Both array must contain the same number of elements&quot;);\r\n        }\r\n        \r\n        return numberOfCows;\r\n      }\r\n\r\nHow can I adjust my second method in order to obtain the correct amount of cows?","title":"Counting the number of matching digits in an array at different positions","body":"<p>Definitions:</p>\n\n<ul>\n<li>Bulls: If the matching digits in an array are at the same positions</li>\n<li>Cows: If the matching digits in an array are at different positions</li>\n</ul>\n\n<p>For my assignment, I am trying to write functions that count the number of bulls and cows. </p>\n\n<p>For example: </p>\n\n<pre><code>int[] secret = {2, 0, 6, 9};\nint[] guessOne = {9, 5, 6, 2};\nint[] guessTwo = {2, 0, 6, 2};\nint[] guessThree = {1, 2, 3, 4, 5, 6};\nint[] guessFour = {1, 3, 4, 4, 0, 5};\n\ngetNumOfBulls(secret, guessOne) returns 1.\ngetNumOfBulls(secret, guessTwo) returns 3.\ngetNumOfBulls(secret, guessThree) raises an exception.\ngetNumOfBulls(guessThree, guessFour) returns 2.\ngetNumOfCows(secret, guessOne) returns 2.\ngetNumOfCows(secret, guessTwo) returns 0.\ngetNumOfCows(secret, guessThree) raises an exception.\ngetNumOfCows(guessThree, guessFour) returns 2.\n</code></pre>\n\n<p>I was able to complete the first part, but I am having trouble with counting the number of cows. My code includes the number of bulls in count of the cows such that getNumOfCows(secret, guessTwo) returns 3 instead of 0.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>// A method that gets the number of bulls in a guess\n\n  public static int getNumOfBulls(int[] secretNumber, int[] guessedNumber) {\n\n    // Initialize and declare a variable that acts as a counter\n\n    int numberOfBulls = 0;\n\n    if (guessedNumber.length == secretNumber.length) {\n\n      // Compare the elements of both arrays at position i  \n\n      for (int i = 0; i &lt; guessedNumber.length; i++) {\n\n        int guessedDigit = guessedNumber[i];\n        int secretDigit = secretNumber[i];\n\n        if (guessedDigit == secretDigit) {\n\n          // Update the variable\n\n          numberOfBulls++;\n        }\n      }\n    }\n\n    else {\n\n      // Throw an IllegalArgumentException\n\n      throw new IllegalArgumentException (\"Both array must contain the same number of elements\");\n    }\n\n    return numberOfBulls;\n  }\n\n\n  // A method that gets the number of cows in a guess --- TO BE FIXED\n\n  public static int getNumOfCows(int[] secretNumber, int[] guessedNumber) {\n\n    // Initialize and declare a variable that acts as a counter\n\n    int numberOfCows = 0;\n\n    if (guessedNumber.length == secretNumber.length) {\n\n      // Loop through all the elements of both arrays to see if there is any matching digit located at different positions\n\n      for (int i = 0; i &lt; guessedNumber.length; i++) {\n\n        for (int j = 0; j &lt; secretNumber.length; j++) {\n\n          int guessedDigit = guessedNumber[i];\n          int secretDigit = secretNumber[j];\n\n          if (guessedDigit == secretDigit) {\n\n            // Update the varaible\n\n            numberOfCows++;\n          }\n        }\n      }\n    }\n\n    else {\n\n      // Throw an IllegalArgumentException\n\n      throw new IllegalArgumentException (\"Both array must contain the same number of elements\");\n    }\n\n    return numberOfCows;\n  }\n</code></pre>\n\n<p>How can I adjust my second method in order to obtain the correct amount of cows?</p>\n"},{"tags":["java","string","character","palindrome","testcase"],"comments":[{"owner":{"account_id":8249870,"reputation":515,"user_id":6204881,"display_name":"Coreggon"},"score":0,"creation_date":1627570433,"post_id":68578138,"comment_id":121196631,"body_markdown":"did you try debugging your code? After a quick look I would say it&#39;s something with  `while(f&lt;=l)`","body":"did you try debugging your code? After a quick look I would say it&#39;s something with  <code>while(f&lt;=l)</code>"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1627570587,"post_id":68578138,"comment_id":121196710,"body_markdown":"The very first `if` will cause the code to ignore any non a-z characters, including ignoring any digits...","body":"The very first <code>if</code> will cause the code to ignore any non a-z characters, including ignoring any digits..."},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1627570622,"post_id":68578138,"comment_id":121196736,"body_markdown":"The problem in your logic is that you cannot separate the check whether a char is not a letter and the check whether the character is not a digit. `if (!(char1 &gt;= &#39;a&#39; &amp;&amp; char1 &lt;= &#39;z&#39;))` or `if (!(Character.isDigit(char1)))` &lt;- One of those conditions will always be true. If a char falls in the a-z range then he is not a digit, and if it is a digit it will not be in the a-z range. Therefor your loop will always just skip and do `f++` until it skipped all characters. You need to do both of those checks in one if condition, aka check if a character is neither a letter nor a digit.","body":"The problem in your logic is that you cannot separate the check whether a char is not a letter and the check whether the character is not a digit. <code>if (!(char1 &gt;= &#39;a&#39; &amp;&amp; char1 &lt;= &#39;z&#39;))</code> or <code>if (!(Character.isDigit(char1)))</code> &lt;- One of those conditions will always be true. If a char falls in the a-z range then he is not a digit, and if it is a digit it will not be in the a-z range. Therefor your loop will always just skip and do <code>f++</code> until it skipped all characters. You need to do both of those checks in one if condition, aka check if a character is neither a letter nor a digit."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1627572632,"post_id":68578138,"comment_id":121197692,"body_markdown":"Please note that this site is not a debugging service. Copy-pasting slabs of code into the question and asking us to debug it is off-topic. However, we can help you with *specific* questions about small *parts* of your code (a few lines), ideally accompanied by an [MCVE](https://stackoverflow.com/help/mcve). Please edit your question to narrow its focus and remove all code not directly relevant. That said, one approach is to delete all your code and replace with `s = s.replaceAll(&quot;[^a-zA-Z]&quot;, &quot;&quot;).toLowerCase(); return s.equals(new StringBuilder(s).reverse().toString());`","body":"Please note that this site is not a debugging service. Copy-pasting slabs of code into the question and asking us to debug it is off-topic. However, we can help you with <i>specific</i> questions about small <i>parts</i> of your code (a few lines), ideally accompanied by an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. Please edit your question to narrow its focus and remove all code not directly relevant. That said, one approach is to delete all your code and replace with <code>s = s.replaceAll(&quot;[^a-zA-Z]&quot;, &quot;&quot;).toLowerCase(); return s.equals(new StringBuilder(s).reverse().toString());</code>"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":0,"creation_date":1627573008,"post_id":68578138,"comment_id":121197863,"body_markdown":"Why would not you delete all non-alphanumeric characters (as @Bohemian suggested) and check if the remaining string is a palindrome (e.g. `for (int i = 0, n = s.length(), j = n - 1; i &lt; n/2;  i++. j--) { if (s.charAt(i) != s.charAt(j)) return false;} return true; `)?","body":"Why would not you delete all non-alphanumeric characters (as @Bohemian suggested) and check if the remaining string is a palindrome (e.g. <code>for (int i = 0, n = s.length(), j = n - 1; i &lt; n&#47;2;  i++. j--) { if (s.charAt(i) != s.charAt(j)) return false;} return true; </code>)?"}],"answers":[{"tags":[],"owner":{"account_id":8595751,"reputation":5395,"user_id":6438819,"display_name":"RaffleBuffle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627573095,"creation_date":1627573095,"answer_id":68578956,"question_id":68578138,"body_markdown":"As &quot;OH GOD SPIDERS&quot; has pointed out in the comments, you have a subtle logical flaw in the checks you&#39;re performing for non-alphanumeric characters.\r\n\r\nYour code is effectively doing:\r\n\r\n    if(!(char1&gt;=&#39;a&#39; &amp;&amp; char1&lt;=&#39;z&#39;) || !Character.isDigit(char1)) \r\n    {\r\n      f++;\r\n    }\r\n\r\nA whitespace character or digit will match the 1st condition (not a letter) while\r\na letter will match the 2nd condition (not a digit), so the combined expression will always be true. \r\n\r\nYou instead want to `and` the two negative conditions: \r\n\r\n    if(!(char1&gt;=&#39;a&#39; &amp;&amp; char1&lt;=&#39;z&#39;) &amp;&amp; !Character.isDigit(char1))\r\n    {\r\n        f++;\r\n    }\r\n\r\nor equivalently ([De Morgan&#39;s Law][1]):\r\n\r\n    if(!((char1&gt;=&#39;a&#39; &amp;&amp; char1&lt;=&#39;z&#39;) || Character.isDigit(char1) ))\r\n    {\r\n        f++;\r\n    }\r\n\r\nThis will only be true of whitespace or non-alphanumeric characters.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/De_Morgan%27s_laws","title":"Given a string s, determine if it is a palindrome, considering only alphanumeric characters and ignoring cases","body":"<p>As &quot;OH GOD SPIDERS&quot; has pointed out in the comments, you have a subtle logical flaw in the checks you're performing for non-alphanumeric characters.</p>\n<p>Your code is effectively doing:</p>\n<pre><code>if(!(char1&gt;='a' &amp;&amp; char1&lt;='z') || !Character.isDigit(char1)) \n{\n  f++;\n}\n</code></pre>\n<p>A whitespace character or digit will match the 1st condition (not a letter) while\na letter will match the 2nd condition (not a digit), so the combined expression will always be true.</p>\n<p>You instead want to <code>and</code> the two negative conditions:</p>\n<pre><code>if(!(char1&gt;='a' &amp;&amp; char1&lt;='z') &amp;&amp; !Character.isDigit(char1))\n{\n    f++;\n}\n</code></pre>\n<p>or equivalently (<a href=\"https://en.wikipedia.org/wiki/De_Morgan%27s_laws\" rel=\"nofollow noreferrer\">De Morgan's Law</a>):</p>\n<pre><code>if(!((char1&gt;='a' &amp;&amp; char1&lt;='z') || Character.isDigit(char1) ))\n{\n    f++;\n}\n</code></pre>\n<p>This will only be true of whitespace or non-alphanumeric characters.</p>\n"},{"tags":[],"owner":{"account_id":14540265,"reputation":81,"user_id":12900473,"display_name":"Muhammad Shazar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667974766,"creation_date":1667925203,"answer_id":74364128,"question_id":68578138,"body_markdown":"Here&#39;s a solution in ruby \r\n\r\n\r\n```\r\ndef is_palindrome(string)\r\n    string = removeNonAlphanumeric(string).gsub(&quot; &quot;,&quot;&quot;).downcase\r\n    string == string.reverse ? true : false\r\nend\r\n\r\ndef removeNonAlphanumeric(string)\r\n  string.each_line do |ch|\r\n    ascii = ch.ord\r\n    if !(48 &lt;= ascii &amp;&amp; ascii &lt;=57) &amp;&amp; !(97 &lt;= ascii &amp;&amp; ascii &lt;=122)\r\n      string = string.gsub(ch, &quot;&quot;)\r\n    end\r\n  end\r\n\r\n  string\r\nend\r\n\r\nputs is_palindrome(&quot;Eye: eye eYe&quot;)","title":"Given a string s, determine if it is a palindrome, considering only alphanumeric characters and ignoring cases","body":"<p>Here's a solution in ruby</p>\n<pre><code>def is_palindrome(string)\n    string = removeNonAlphanumeric(string).gsub(&quot; &quot;,&quot;&quot;).downcase\n    string == string.reverse ? true : false\nend\n\ndef removeNonAlphanumeric(string)\n  string.each_line do |ch|\n    ascii = ch.ord\n    if !(48 &lt;= ascii &amp;&amp; ascii &lt;=57) &amp;&amp; !(97 &lt;= ascii &amp;&amp; ascii &lt;=122)\n      string = string.gsub(ch, &quot;&quot;)\n    end\n  end\n\n  string\nend\n\nputs is_palindrome(&quot;Eye: eye eYe&quot;)\n</code></pre>\n"}],"owner":{"account_id":19619055,"reputation":19,"user_id":14740055,"display_name":"vhvg vhcc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1667974766,"creation_date":1627570077,"question_id":68578138,"body_markdown":"I have made the following code for the above program.\r\nIn this program the test case &quot;race a car&quot; is not passing i.e. not showing the correct output for this test case. I don&#39;t know why. What&#39;s the reason? also if there is any way to correct this.\r\n\r\n![test case][1]\r\n\r\n  [1]: https://i.stack.imgur.com/imaeo.png\r\n\r\n```\r\nclass Solution {\r\n    public boolean isPalindrome(String s) {\r\n        int f = 0, l = s.length() - 1;\r\n        s = s.toLowerCase();\r\n\r\n        while (f &lt;= l) {\r\n            char char1 = s.charAt(f);\r\n            char char2 = s.charAt(l);\r\n            \r\n            if (!(char1 &gt;= &#39;a&#39; &amp;&amp; char1 &lt;= &#39;z&#39;)) {\r\n                f++;\r\n            } else if (!(char2 &gt;= &#39;a&#39; &amp;&amp; char2 &lt;= &#39;z&#39;)) {\r\n                l--;\r\n            } else if (!(Character.isDigit(char1))) {\r\n                f++;\r\n            } else if (!(Character.isDigit(char2))) {\r\n                l--;\r\n            } else if (char1 == char2) {\r\n                f++;\r\n                l--;\r\n            } else\r\n                return false;\r\n        }\r\n        \r\n        return true;\r\n    }\r\n} \r\n```","title":"Given a string s, determine if it is a palindrome, considering only alphanumeric characters and ignoring cases","body":"<p>I have made the following code for the above program.\nIn this program the test case &quot;race a car&quot; is not passing i.e. not showing the correct output for this test case. I don't know why. What's the reason? also if there is any way to correct this.</p>\n<p><img src=\"https://i.stack.imgur.com/imaeo.png\" alt=\"test case\" /></p>\n<pre><code>class Solution {\n    public boolean isPalindrome(String s) {\n        int f = 0, l = s.length() - 1;\n        s = s.toLowerCase();\n\n        while (f &lt;= l) {\n            char char1 = s.charAt(f);\n            char char2 = s.charAt(l);\n            \n            if (!(char1 &gt;= 'a' &amp;&amp; char1 &lt;= 'z')) {\n                f++;\n            } else if (!(char2 &gt;= 'a' &amp;&amp; char2 &lt;= 'z')) {\n                l--;\n            } else if (!(Character.isDigit(char1))) {\n                f++;\n            } else if (!(Character.isDigit(char2))) {\n                l--;\n            } else if (char1 == char2) {\n                f++;\n                l--;\n            } else\n                return false;\n        }\n        \n        return true;\n    }\n} \n</code></pre>\n"},{"tags":["java","android","flutter","android-studio","kotlin"],"owner":{"account_id":6462409,"reputation":91,"user_id":5005718,"display_name":"Sonu Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667974590,"creation_date":1667540855,"question_id":74312713,"body_markdown":"I have android SDK app in which I have many flutter modules. when I am launching the module I am getting a crash saying &quot;Fatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{package/io.flutter.embedding.android.FlutterActivity}: java.lang.IllegalStateException: The requested cached FlutterEngine did not exist in the FlutterEngineCache: &#39;my_engine_id&#39;\r\n&quot;. This is an Intermediate crash, which is being logged on firebase for almost 0.1% user.\r\n\r\nTo launch the flutter module from SDK below are the steps\r\n\r\n1. FlutterIntentProvider.kt\r\n```\r\nif (activity == null) {\r\n    instance!!.flutterEngine =\r\n        FlutterEngine(MyApplication.getInstance().currentActivity.applicationContext)\r\n} else {\r\n    instance!!.flutterEngine = FlutterEngine(activity)\r\n}\r\ninstance!!.flutterEngine.dartExecutor.executeDartEntrypoint(\r\n    DartExecutor.DartEntrypoint.createDefault()\r\n)\r\n\r\ntry {\r\n    FlutterEngineCache\r\n        .getInstance().clear()\r\n\r\n    FlutterEngineCache\r\n        .getInstance()\r\n        .put(ENGINE_ID, instance!!.flutterEngine)\r\n\r\n    GeneratedPluginRegister.registerGeneratedPlugins(instance!!.flutterEngine)\r\n} catch (e: Exception) {\r\n    // logging exception\r\n}\r\n\r\n\r\nif (baseActivity == null ||\r\n    !FlutterEngineCache.getInstance().contains(ENGINE_ID)\r\n) {\r\n    FirebaseCrashlytics.getInstance().recordException(Throwable(&quot;Engine Id not found&quot;))\r\n    return false\r\n}\r\n\r\nwhen (moduleName) {\r\n    Constant.MODULE1 -&gt; Module1PlatformChannels(flutterEngine, baseActivity!!).init()\r\n\r\n    Constant.MODULE2 -&gt; Module2PlatformChannels(flutterEngine, baseActivity!!).init()\r\n}\r\n\r\nreturn FlutterActivity.withCachedEngine(ENGINE_ID)\r\n    .build(context)\r\n```\r\nModule1PlatformChannels.kt\r\n```\r\nclass Module1PlatformChannels(engine: FlutterEngine, activity: BaseActivity) {\r\n    private val flutterEngine: FlutterEngine = engine\r\n    val baseActivity: BaseActivity = activity\r\n\r\n    fun init() {\r\n        initEpfChannel()\r\n    }\r\n\r\n    private fun initEpfChannel() {\r\n        MethodChannel(\r\n            flutterEngine.dartExecutor.binaryMessenger,\r\n            &quot;MODULE1&quot;\r\n        ).setMethodCallHandler { call: MethodCall, result: MethodChannel.Result -&gt;\r\n            if (call.method == &quot;buildType&quot;) {\r\n                result.success(buildType)\r\n            }\r\n    }\r\n}\r\n```\r\nNow inside view\r\n```\r\nactivity.startActivity(\r\n    FlutterInterface.getInstance()\r\n        .startFlutterIntent(activity, &quot;&quot;, &quot;&quot;, Constant.MODULE1)\r\n)\r\n``` \r\n\r\nNote: when i am not clearing the engine cache it is taking me back to the 1st module which I have launched for the 1st time again-2 irrespective of what I want to launch. That&#39;s why I am clearing it 1st and then creating the new one. Also when I am not using the cache engine then screen is getting blank for some time.\r\n","title":"Unable to start activity ComponentInfo{package/io.flutter.embedding.android.FlutterActivity}","body":"<p>I have android SDK app in which I have many flutter modules. when I am launching the module I am getting a crash saying &quot;Fatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{package/io.flutter.embedding.android.FlutterActivity}: java.lang.IllegalStateException: The requested cached FlutterEngine did not exist in the FlutterEngineCache: 'my_engine_id'\n&quot;. This is an Intermediate crash, which is being logged on firebase for almost 0.1% user.</p>\n<p>To launch the flutter module from SDK below are the steps</p>\n<ol>\n<li>FlutterIntentProvider.kt</li>\n</ol>\n<pre><code>if (activity == null) {\n    instance!!.flutterEngine =\n        FlutterEngine(MyApplication.getInstance().currentActivity.applicationContext)\n} else {\n    instance!!.flutterEngine = FlutterEngine(activity)\n}\ninstance!!.flutterEngine.dartExecutor.executeDartEntrypoint(\n    DartExecutor.DartEntrypoint.createDefault()\n)\n\ntry {\n    FlutterEngineCache\n        .getInstance().clear()\n\n    FlutterEngineCache\n        .getInstance()\n        .put(ENGINE_ID, instance!!.flutterEngine)\n\n    GeneratedPluginRegister.registerGeneratedPlugins(instance!!.flutterEngine)\n} catch (e: Exception) {\n    // logging exception\n}\n\n\nif (baseActivity == null ||\n    !FlutterEngineCache.getInstance().contains(ENGINE_ID)\n) {\n    FirebaseCrashlytics.getInstance().recordException(Throwable(&quot;Engine Id not found&quot;))\n    return false\n}\n\nwhen (moduleName) {\n    Constant.MODULE1 -&gt; Module1PlatformChannels(flutterEngine, baseActivity!!).init()\n\n    Constant.MODULE2 -&gt; Module2PlatformChannels(flutterEngine, baseActivity!!).init()\n}\n\nreturn FlutterActivity.withCachedEngine(ENGINE_ID)\n    .build(context)\n</code></pre>\n<p>Module1PlatformChannels.kt</p>\n<pre><code>class Module1PlatformChannels(engine: FlutterEngine, activity: BaseActivity) {\n    private val flutterEngine: FlutterEngine = engine\n    val baseActivity: BaseActivity = activity\n\n    fun init() {\n        initEpfChannel()\n    }\n\n    private fun initEpfChannel() {\n        MethodChannel(\n            flutterEngine.dartExecutor.binaryMessenger,\n            &quot;MODULE1&quot;\n        ).setMethodCallHandler { call: MethodCall, result: MethodChannel.Result -&gt;\n            if (call.method == &quot;buildType&quot;) {\n                result.success(buildType)\n            }\n    }\n}\n</code></pre>\n<p>Now inside view</p>\n<pre><code>activity.startActivity(\n    FlutterInterface.getInstance()\n        .startFlutterIntent(activity, &quot;&quot;, &quot;&quot;, Constant.MODULE1)\n)\n</code></pre>\n<p>Note: when i am not clearing the engine cache it is taking me back to the 1st module which I have launched for the 1st time again-2 irrespective of what I want to launch. That's why I am clearing it 1st and then creating the new one. Also when I am not using the cache engine then screen is getting blank for some time.</p>\n"},{"tags":["java","morse-code"],"comments":[{"owner":{"account_id":4775169,"reputation":962,"user_id":3858559,"accept_rate":0,"display_name":"Microtribute"},"score":0,"creation_date":1667965526,"post_id":74369682,"comment_id":131291866,"body_markdown":"I am not quite familiar with Morse codes but do you want to split the line by a series of spaces regardless of how many?","body":"I am not quite familiar with Morse codes but do you want to split the line by a series of spaces regardless of how many?"},{"owner":{"account_id":7908129,"reputation":98,"user_id":5972950,"display_name":"Java Samurai"},"score":0,"creation_date":1667966271,"post_id":74369682,"comment_id":131291941,"body_markdown":"Does two spaces means it is a word?","body":"Does two spaces means it is a word?"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667968476,"creation_date":1667968476,"answer_id":74369962,"question_id":74369682,"body_markdown":"Try this.\r\n\r\n    static final String[] MORSE = {\r\n        &quot;A&quot;, &quot;.-&quot;, &quot;B&quot;, &quot;-...&quot;, &quot;C&quot;, &quot;-.-.&quot;, &quot;D&quot;, &quot;-..&quot;, &quot;E&quot;, &quot;.&quot;, &quot;F&quot;, &quot;..-.&quot;,\r\n        &quot;G&quot;, &quot;--.&quot;, &quot;H&quot;, &quot;....&quot;, &quot;I&quot;, &quot;..&quot;, &quot;J&quot;, &quot;.---&quot;, &quot;K&quot;, &quot;-.-&quot;, &quot;L&quot;, &quot;.-..&quot;,\r\n        &quot;M&quot;, &quot;--&quot;, &quot;N&quot;, &quot;-.&quot;, &quot;O&quot;, &quot;---&quot;, &quot;P&quot;, &quot;.--.&quot;, &quot;Q&quot;, &quot;--.-&quot;, &quot;R&quot;, &quot;.-.&quot;,\r\n        &quot;S&quot;, &quot;...&quot;, &quot;T&quot;, &quot;-&quot;, &quot;U&quot;, &quot;..-&quot;, &quot;V&quot;, &quot;...-&quot;, &quot;W&quot;, &quot;.--&quot;, &quot;X&quot;, &quot;-..-&quot;,\r\n        &quot;Y&quot;, &quot;-.--&quot;, &quot;Z&quot;, &quot;--..&quot;,\r\n        &quot;0&quot;, &quot;-----&quot;, &quot;1&quot;, &quot;.----&quot;, &quot;2&quot;, &quot;..---&quot;, &quot;3&quot;, &quot;...--&quot;, &quot;4&quot;, &quot;....-&quot;, &quot;5&quot;, &quot;.....&quot;,\r\n        &quot;6&quot;, &quot;-....&quot;, &quot;7&quot;, &quot;--...&quot;, &quot;8&quot;, &quot;---..&quot;, &quot;9&quot;, &quot;----.&quot;,\r\n        &quot;.&quot;, &quot;.-.-.-&quot;, &quot;,&quot;, &quot;--..--&quot;, &quot;?&quot;, &quot;..--..&quot;, &quot;&#39;&quot;, &quot;.----.&quot;, &quot;!&quot;, &quot;-.-.--&quot;, &quot;/&quot;, &quot;-..-.&quot;,\r\n        &quot;(&quot;, &quot;-.--.&quot;, &quot;)&quot;, &quot;-.--.-&quot;, &quot;&amp;&quot;, &quot;.-...&quot;, &quot;:&quot;, &quot;---...&quot;, &quot;;&quot;, &quot;-.-.-.&quot;, &quot;=&quot;, &quot;-...-&quot;,\r\n        &quot;+&quot;, &quot;.-.-.&quot;, &quot;-&quot;, &quot;-....-&quot;, &quot;_&quot;, &quot;..--.-&quot;, &quot;\\&quot;&quot;, &quot;.-..-.&quot;, &quot;$&quot;, &quot;...-..-&quot;, &quot;@&quot;, &quot;.--.-.&quot;,\r\n        &quot;&#191;&quot;, &quot;..-.-&quot;, &quot;&#161;&quot;, &quot;--...-&quot;,\r\n    };\r\n    static final Map&lt;String, String&gt; DECODE = new HashMap&lt;&gt;();\r\n    static {\r\n        for (int i = 0; i &lt; MORSE.length; i += 2)\r\n            DECODE.put(MORSE[i + 1], MORSE[i]);\r\n    }\r\n\r\n    static final Pattern MORSE_CHAR = Pattern.compile(&quot;(\\\\S+)\\\\s?&quot;);\r\n    \r\n    public static String decode(String input) {\r\n        return MORSE_CHAR.matcher(input).replaceAll(m -&gt; DECODE.get(m.group(1)));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String input = &quot;.- ...- ..--- .-- .... .. . -.-. -..-  ....- .....&quot;;\r\n        System.out.println(decode(input));\r\n    }\r\n\r\noutput:\r\n\r\n    AV2WHIECX 45\r\n","title":"Morse Code conversion to English - adding a space","body":"<p>Try this.</p>\n<pre><code>static final String[] MORSE = {\n    &quot;A&quot;, &quot;.-&quot;, &quot;B&quot;, &quot;-...&quot;, &quot;C&quot;, &quot;-.-.&quot;, &quot;D&quot;, &quot;-..&quot;, &quot;E&quot;, &quot;.&quot;, &quot;F&quot;, &quot;..-.&quot;,\n    &quot;G&quot;, &quot;--.&quot;, &quot;H&quot;, &quot;....&quot;, &quot;I&quot;, &quot;..&quot;, &quot;J&quot;, &quot;.---&quot;, &quot;K&quot;, &quot;-.-&quot;, &quot;L&quot;, &quot;.-..&quot;,\n    &quot;M&quot;, &quot;--&quot;, &quot;N&quot;, &quot;-.&quot;, &quot;O&quot;, &quot;---&quot;, &quot;P&quot;, &quot;.--.&quot;, &quot;Q&quot;, &quot;--.-&quot;, &quot;R&quot;, &quot;.-.&quot;,\n    &quot;S&quot;, &quot;...&quot;, &quot;T&quot;, &quot;-&quot;, &quot;U&quot;, &quot;..-&quot;, &quot;V&quot;, &quot;...-&quot;, &quot;W&quot;, &quot;.--&quot;, &quot;X&quot;, &quot;-..-&quot;,\n    &quot;Y&quot;, &quot;-.--&quot;, &quot;Z&quot;, &quot;--..&quot;,\n    &quot;0&quot;, &quot;-----&quot;, &quot;1&quot;, &quot;.----&quot;, &quot;2&quot;, &quot;..---&quot;, &quot;3&quot;, &quot;...--&quot;, &quot;4&quot;, &quot;....-&quot;, &quot;5&quot;, &quot;.....&quot;,\n    &quot;6&quot;, &quot;-....&quot;, &quot;7&quot;, &quot;--...&quot;, &quot;8&quot;, &quot;---..&quot;, &quot;9&quot;, &quot;----.&quot;,\n    &quot;.&quot;, &quot;.-.-.-&quot;, &quot;,&quot;, &quot;--..--&quot;, &quot;?&quot;, &quot;..--..&quot;, &quot;'&quot;, &quot;.----.&quot;, &quot;!&quot;, &quot;-.-.--&quot;, &quot;/&quot;, &quot;-..-.&quot;,\n    &quot;(&quot;, &quot;-.--.&quot;, &quot;)&quot;, &quot;-.--.-&quot;, &quot;&amp;&quot;, &quot;.-...&quot;, &quot;:&quot;, &quot;---...&quot;, &quot;;&quot;, &quot;-.-.-.&quot;, &quot;=&quot;, &quot;-...-&quot;,\n    &quot;+&quot;, &quot;.-.-.&quot;, &quot;-&quot;, &quot;-....-&quot;, &quot;_&quot;, &quot;..--.-&quot;, &quot;\\&quot;&quot;, &quot;.-..-.&quot;, &quot;$&quot;, &quot;...-..-&quot;, &quot;@&quot;, &quot;.--.-.&quot;,\n    &quot;¿&quot;, &quot;..-.-&quot;, &quot;¡&quot;, &quot;--...-&quot;,\n};\nstatic final Map&lt;String, String&gt; DECODE = new HashMap&lt;&gt;();\nstatic {\n    for (int i = 0; i &lt; MORSE.length; i += 2)\n        DECODE.put(MORSE[i + 1], MORSE[i]);\n}\n\nstatic final Pattern MORSE_CHAR = Pattern.compile(&quot;(\\\\S+)\\\\s?&quot;);\n\npublic static String decode(String input) {\n    return MORSE_CHAR.matcher(input).replaceAll(m -&gt; DECODE.get(m.group(1)));\n}\n\npublic static void main(String[] args) {\n    String input = &quot;.- ...- ..--- .-- .... .. . -.-. -..-  ....- .....&quot;;\n    System.out.println(decode(input));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>AV2WHIECX 45\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7908129,"reputation":98,"user_id":5972950,"display_name":"Java Samurai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667973654,"creation_date":1667973654,"answer_id":74370508,"question_id":74369682,"body_markdown":"Since the rule is 2 spaces equal to one space and a space is between character, you can solve it by doing two splits. One at two spaces and after that one at single space. Following is inside of main that I used assuming decode takes String representing word in morse and returns the character\r\n```\r\n        InputStreamReader reader = new InputStreamReader(System.in, StandardCharsets.UTF_8);\r\n        BufferedReader in = new BufferedReader(reader);\r\n        String line = &quot;.- ...- ..--- .-- .... .. . -.-. -..-  ....- .....&quot;;\r\n        String newMorse = &quot;&quot;; \r\n        String selectedMorse; \r\n        String convertedMorse;\r\n\r\n        while ((line = in.readLine()) != null) {\r\n            String[] morseWords = line.split(&quot;  &quot;);\r\n            for (String word: morseWords) {\r\n                String[] morseChars = word.split(&quot; &quot;);\r\n                for (String morseChar: morseChars)\r\n                    newMorse = newMorse + decode(morseChar);\r\n                newMorse = newMorse + &quot; &quot;;    \r\n            }\r\n        }\r\n        System.out.println(newMorse);\r\n```","title":"Morse Code conversion to English - adding a space","body":"<p>Since the rule is 2 spaces equal to one space and a space is between character, you can solve it by doing two splits. One at two spaces and after that one at single space. Following is inside of main that I used assuming decode takes String representing word in morse and returns the character</p>\n<pre><code>        InputStreamReader reader = new InputStreamReader(System.in, StandardCharsets.UTF_8);\n        BufferedReader in = new BufferedReader(reader);\n        String line = &quot;.- ...- ..--- .-- .... .. . -.-. -..-  ....- .....&quot;;\n        String newMorse = &quot;&quot;; \n        String selectedMorse; \n        String convertedMorse;\n\n        while ((line = in.readLine()) != null) {\n            String[] morseWords = line.split(&quot;  &quot;);\n            for (String word: morseWords) {\n                String[] morseChars = word.split(&quot; &quot;);\n                for (String morseChar: morseChars)\n                    newMorse = newMorse + decode(morseChar);\n                newMorse = newMorse + &quot; &quot;;    \n            }\n        }\n        System.out.println(newMorse);\n</code></pre>\n"}],"owner":{"account_id":26697218,"reputation":29,"user_id":20304864,"display_name":"compsci3289294"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667973654,"creation_date":1667965221,"question_id":74369682,"body_markdown":" I&#39;m working on a morse code conversion from morse code to english. I&#39;m stuck on one part, I need to be able to add in space when 2 spaces appear in a row on the morse code, but i&#39;m unsure how to do this. The Rule is, Each letter appears after a space in the morse code, each space appears after 2 spaces in the morse code. Problem Is I split the array using 1 space So I&#39;m unsure how to find out when there&#39;s 2 spaces in a row.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n    InputStreamReader reader = new InputStreamReader(System.in, StandardCharsets.UTF_8);\r\n    BufferedReader in = new BufferedReader(reader);\r\n\r\n    String line;\r\n    String newMorse = &quot;&quot;; \r\n       String selectedMorse; \r\n       String convertedMorse;\r\n\r\n    int x = 0;\r\n    \r\n    while ((line = in.readLine()) != null) {\r\n      \r\n         String[] morseChars = line.split(&quot; &quot;);\r\n\r\n\r\n\r\n      for (int i = 0; i &lt; morseChars.length; i++)\r\n       \r\n       \r\n           selectedMorse = morseChars[i];\r\n           convertedMorse = decode(selectedMorse);\r\n           newMorse = newMorse + convertedMorse;\r\n   \r\n        }\r\n          System.out.println(newMorse);\r\n\r\n      }\r\n    }\r\n    }\r\n\r\n\r\nExample input:\r\n.- ...- ..--- .-- .... .. . -.-. -..-(two spaces)....- .....\r\n\r\nExpected Output:\r\nAV2WHIECX 45\r\n\r\nI labelled where the two spaces would go to make it easy to see.","title":"Morse Code conversion to English - adding a space","body":"<p>I'm working on a morse code conversion from morse code to english. I'm stuck on one part, I need to be able to add in space when 2 spaces appear in a row on the morse code, but i'm unsure how to do this. The Rule is, Each letter appears after a space in the morse code, each space appears after 2 spaces in the morse code. Problem Is I split the array using 1 space So I'm unsure how to find out when there's 2 spaces in a row.</p>\n<pre><code>public static void main(String[] args) throws IOException {\nInputStreamReader reader = new InputStreamReader(System.in, StandardCharsets.UTF_8);\nBufferedReader in = new BufferedReader(reader);\n\nString line;\nString newMorse = &quot;&quot;; \n   String selectedMorse; \n   String convertedMorse;\n\nint x = 0;\n\nwhile ((line = in.readLine()) != null) {\n  \n     String[] morseChars = line.split(&quot; &quot;);\n\n\n\n  for (int i = 0; i &lt; morseChars.length; i++)\n   \n   \n       selectedMorse = morseChars[i];\n       convertedMorse = decode(selectedMorse);\n       newMorse = newMorse + convertedMorse;\n\n    }\n      System.out.println(newMorse);\n\n  }\n}\n}\n</code></pre>\n<p>Example input:\n.- ...- ..--- .-- .... .. . -.-. -..-(two spaces)....- .....</p>\n<p>Expected Output:\nAV2WHIECX 45</p>\n<p>I labelled where the two spaces would go to make it easy to see.</p>\n"},{"tags":["java","scala","zip"],"answers":[{"tags":[],"owner":{"account_id":282039,"reputation":671,"user_id":578699,"accept_rate":60,"display_name":"objectuser"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1432068649,"creation_date":1432068649,"answer_id":30335876,"question_id":30335332,"body_markdown":"I don&#39;t know a package that does that. You need to write some code. It&#39;s not hard. I&#39;ve not used that package, but it&#39;s easy to do in the JDK. Look at the [ZipInputStream][1] in the JDK. Use FileInputStream to open a file. Create a ZipInputStream from the FileInputStream and you can read the entries using getNextEntry. It&#39;s pretty easy really, but requires some code.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/zip/ZipInputStream.html","title":"Apache Commons Unzip method?","body":"<p>I don't know a package that does that. You need to write some code. It's not hard. I've not used that package, but it's easy to do in the JDK. Look at the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/zip/ZipInputStream.html\" rel=\"nofollow\">ZipInputStream</a> in the JDK. Use FileInputStream to open a file. Create a ZipInputStream from the FileInputStream and you can read the entries using getNextEntry. It's pretty easy really, but requires some code.</p>\n"},{"tags":[],"owner":{"account_id":1421177,"reputation":413,"user_id":1345734,"accept_rate":75,"display_name":"CQLI"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1667973168,"creation_date":1530087288,"answer_id":51057815,"question_id":30335332,"body_markdown":"Some sample code using IOUtils:\r\n\r\n\tpublic static void unzip(Path path, Charset charset) throws IOException{\r\n\t\tString fileBaseName = FilenameUtils.getBaseName(path.getFileName().toString());\r\n\t\tPath destFolderPath = Paths.get(path.getParent().toString(), fileBaseName);\r\n\t\t\r\n\t\ttry (ZipFile zipFile = new ZipFile(path.toFile(), ZipFile.OPEN_READ, charset)){\r\n\t\t\tEnumeration&lt;? extends ZipEntry&gt; entries = zipFile.entries();\r\n\t\t\twhile (entries.hasMoreElements()) {\r\n\t\t\t\tZipEntry entry = entries.nextElement();\r\n\t\t\t\tPath entryPath = destFolderPath.resolve(entry.getName());\r\n\t\t\t\tif (entryPath.normalize().startsWith(destFolderPath.normalize())){\r\n\t\t\t\t\tif (entry.isDirectory()) {\r\n\t\t\t\t\t\tFiles.createDirectories(entryPath);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tFiles.createDirectories(entryPath.getParent());\r\n\t\t\t\t\t\ttry (InputStream in = zipFile.getInputStream(entry)){\r\n\t\t\t\t\t\t\ttry (OutputStream out = new FileOutputStream(entryPath.toFile())){\r\n\t\t\t\t\t\t\t\tIOUtils.copy(in, out);\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Apache Commons Unzip method?","body":"<p>Some sample code using IOUtils:</p>\n<pre><code>public static void unzip(Path path, Charset charset) throws IOException{\n    String fileBaseName = FilenameUtils.getBaseName(path.getFileName().toString());\n    Path destFolderPath = Paths.get(path.getParent().toString(), fileBaseName);\n    \n    try (ZipFile zipFile = new ZipFile(path.toFile(), ZipFile.OPEN_READ, charset)){\n        Enumeration&lt;? extends ZipEntry&gt; entries = zipFile.entries();\n        while (entries.hasMoreElements()) {\n            ZipEntry entry = entries.nextElement();\n            Path entryPath = destFolderPath.resolve(entry.getName());\n            if (entryPath.normalize().startsWith(destFolderPath.normalize())){\n                if (entry.isDirectory()) {\n                    Files.createDirectories(entryPath);\n                } else {\n                    Files.createDirectories(entryPath.getParent());\n                    try (InputStream in = zipFile.getInputStream(entry)){\n                        try (OutputStream out = new FileOutputStream(entryPath.toFile())){\n                            IOUtils.copy(in, out);                          \n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":191038,"reputation":1040,"user_id":431357,"accept_rate":87,"display_name":"Rex Butler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11826,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":30335876,"answer_count":2,"score":9,"last_activity_date":1667973168,"creation_date":1432066619,"question_id":30335332,"body_markdown":"I&#39;ve recently discovered https://commons.apache.org/proper/commons-compress/zip.html, the Apache Commons Compress library.\r\n\r\nHowever, there is no direct method to simply unzip a given file to a particular directory.\r\n\r\nIs there a canonical / easy way to do this?","title":"Apache Commons Unzip method?","body":"<p>I've recently discovered <a href=\"https://commons.apache.org/proper/commons-compress/zip.html\" rel=\"noreferrer\">https://commons.apache.org/proper/commons-compress/zip.html</a>, the Apache Commons Compress library.</p>\n\n<p>However, there is no direct method to simply unzip a given file to a particular directory.</p>\n\n<p>Is there a canonical / easy way to do this?</p>\n"},{"tags":["java","android","firebase","google-play-console"],"comments":[{"owner":{"account_id":3683985,"reputation":24027,"user_id":3068190,"display_name":"samthecodingman"},"score":2,"creation_date":1667974036,"post_id":74370370,"comment_id":131292999,"body_markdown":"Some components of the Firebase SDKs depend on Google Play Services, which Google requires that you disclose in your privacy policy. The list of the components that use Google Play Services is [documented here](https://firebase.google.com/docs/android/android-play-services#google-play-services-required-recommended). Analytics, Cloud Messaging and Dynamic Links are the common culprits. The docs also have a section on [Google Play data disclosure requirements](https://firebase.google.com/docs/android/play-data-disclosure).","body":"Some components of the Firebase SDKs depend on Google Play Services, which Google requires that you disclose in your privacy policy. The list of the components that use Google Play Services is <a href=\"https://firebase.google.com/docs/android/android-play-services#google-play-services-required-recommended\" rel=\"nofollow noreferrer\">documented here</a>. Analytics, Cloud Messaging and Dynamic Links are the common culprits. The docs also have a section on <a href=\"https://firebase.google.com/docs/android/play-data-disclosure\" rel=\"nofollow noreferrer\">Google Play data disclosure requirements</a>."},{"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"score":0,"creation_date":1673979569,"post_id":74370370,"comment_id":132615684,"body_markdown":"Maybe [this answer](https://stackoverflow.com/a/75149753/2289835) is useful.","body":"Maybe <a href=\"https://stackoverflow.com/a/75149753/2289835\">this answer</a> is useful."}],"owner":{"account_id":26874786,"reputation":11,"user_id":20456205,"display_name":"Surya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1667972426,"creation_date":1667972426,"question_id":74370370,"body_markdown":"Your app is uploading users&#39; **Installed Application** information to https://cloudconfig.googleapis.com without disclosing it in the privacy policy in Play Console.\r\n\r\nI have searched in my project but there is no trace of the collecting the data using the link, indeed I use firebase SDK. Expecting a reason for rejection, when we use the same google products in our projects. ","title":"App got rejected by Google play - APK REQUIRES PROMINENT DISCLOSURE​","body":"<p>Your app is uploading users' <strong>Installed Application</strong> information to <a href=\"https://cloudconfig.googleapis.com\" rel=\"nofollow noreferrer\">https://cloudconfig.googleapis.com</a> without disclosing it in the privacy policy in Play Console.</p>\n<p>I have searched in my project but there is no trace of the collecting the data using the link, indeed I use firebase SDK. Expecting a reason for rejection, when we use the same google products in our projects.</p>\n"},{"tags":["java","jenkins","groovy","mockito","matcher"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1667199353,"post_id":74258910,"comment_id":131105428,"body_markdown":"What class are you trying to mock?","body":"What class are you trying to mock?"},{"owner":{"account_id":1923696,"reputation":567,"user_id":1820068,"display_name":"kirill-a"},"score":0,"creation_date":1667200068,"post_id":74258910,"comment_id":131105566,"body_markdown":"DSL class from org.jenkinsci.plugins.workflow.cps","body":"DSL class from org.jenkinsci.plugins.workflow.cps"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1667215269,"post_id":74258910,"comment_id":131109840,"body_markdown":"&#187;Following methods *cannot* be stubbed/verified: final/private/[…]. Mocking methods declared on non-public parent classes is not supported.&#171; Any of those apply?","body":"&#187;Following methods <i>cannot</i> be stubbed/verified: final/private/[…]. Mocking methods declared on non-public parent classes is not supported.&#171; Any of those apply?"},{"owner":{"account_id":1923696,"reputation":567,"user_id":1820068,"display_name":"kirill-a"},"score":0,"creation_date":1667226498,"post_id":74258910,"comment_id":131113924,"body_markdown":"I guess it doesn&#39;t apply https://javadoc.jenkins.io/plugin/workflow-cps/org/jenkinsci/plugins/workflow/cps/DSL.html#invokeMethod-java.lang.String-java.lang.Object-","body":"I guess it doesn&#39;t apply <a href=\"https://javadoc.jenkins.io/plugin/workflow-cps/org/jenkinsci/plugins/workflow/cps/DSL.html#invokeMethod-java.lang.String-java.lang.Object-\" rel=\"nofollow noreferrer\">javadoc.jenkins.io/plugin/workflow-cps/org/jenkinsci/plugins&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":1923696,"reputation":567,"user_id":1820068,"display_name":"kirill-a"},"score":0,"creation_date":1667226519,"post_id":74258910,"comment_id":131113933,"body_markdown":"and it had worked fine before until the upgrade of the dependency","body":"and it had worked fine before until the upgrade of the dependency"},{"owner":{"account_id":442668,"reputation":1431,"user_id":833399,"accept_rate":75,"display_name":"Knight Industries"},"score":1,"creation_date":1667423868,"post_id":74258910,"comment_id":131166953,"body_markdown":"The answer is probably to be found somewhere in [here](https://github.com/apache/groovy/compare/GROOVY_2_4_12...GROOVY_2_4_21).","body":"The answer is probably to be found somewhere in <a href=\"https://github.com/apache/groovy/compare/GROOVY_2_4_12...GROOVY_2_4_21\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":1923696,"reputation":567,"user_id":1820068,"display_name":"kirill-a"},"score":0,"creation_date":1667447160,"post_id":74258910,"comment_id":131170835,"body_markdown":"@KnightIndustries thank you for the comment. I&#39;ve checked the changelog and the only thing I&#39;ve found related to mocks is subprojects/groovy-test/src/main/java/groovy/mock/interceptor/MockProxyMetaClass.java","body":"@KnightIndustries thank you for the comment. I&#39;ve checked the changelog and the only thing I&#39;ve found related to mocks is subprojects/groovy-test/src/main/java/groovy/mock/intercepto&zwnj;&#8203;r/MockProxyMetaClass&zwnj;&#8203;.java"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1667822910,"post_id":74258910,"comment_id":131251833,"body_markdown":"What happens when you use `any(TheArgument.class)` instead of plain `any()`?","body":"What happens when you use <code>any(TheArgument.class)</code> instead of plain <code>any()</code>?"},{"owner":{"account_id":1923696,"reputation":567,"user_id":1820068,"display_name":"kirill-a"},"score":0,"creation_date":1667879253,"post_id":74258910,"comment_id":131267399,"body_markdown":"@Lino same error","body":"@Lino same error"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1667906309,"post_id":74258910,"comment_id":131274351,"body_markdown":"Hey @kirill-a , can you please check my latest comment on my answer?","body":"Hey @kirill-a , can you please check my latest comment on my answer?"}],"answers":[{"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667486827,"creation_date":1667486827,"answer_id":74304991,"question_id":74258910,"body_markdown":"I tried to reproduce your error locally but faced a compilation error on line: `throw new AbortException((String) invocationOnMock.getArguments()[1][0])`. Could you maybe try the following:\r\n```java\r\nwhen(mock.invokeMethod(eq(&quot;error&quot;), any(String[].class))).then(new Answer&lt;String&gt;() {\r\n    @Override\r\n    public String answer(InvocationOnMock invocationOnMock) throws Throwable {\r\n        String[] array = (String[]) invocationOnMock.getArguments()[1];\r\n        throw new AbortException((String) array[0]);\r\n    }\r\n});\r\n```","title":"Mockito incorrect argument matcher after Jenkins core upgrade","body":"<p>I tried to reproduce your error locally but faced a compilation error on line: <code>throw new AbortException((String) invocationOnMock.getArguments()[1][0])</code>. Could you maybe try the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(mock.invokeMethod(eq(&quot;error&quot;), any(String[].class))).then(new Answer&lt;String&gt;() {\n    @Override\n    public String answer(InvocationOnMock invocationOnMock) throws Throwable {\n        String[] array = (String[]) invocationOnMock.getArguments()[1];\n        throw new AbortException((String) array[0]);\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11454057,"reputation":1114,"user_id":8395666,"display_name":"emilles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667519993,"creation_date":1667519993,"answer_id":74310776,"question_id":74258910,"body_markdown":"The `doAnswer(...).when(mock).call(...)` doesn&#39;t trigger much if any execution within the mock.  Also static compilation can shut down Groovy&#39;s dynamic behavior, which can help since you&#39;re overriding `invokeMethod(String,Object)` which has special significance.\r\n\r\n```groovy\r\nimport static org.mockito.Mockito.*\r\n// ...\r\nclass DSLMock {\r\n  @groovy.transform.CompileStatic\r\n  DSLMock() {\r\n    this.mock = mock(DSL)\r\n    doCallRealMethod().when(this.mock).getMetaClass() // if DSL implements GroovyObject\r\n    doAnswer({ iom -&gt;\r\n      throw new AbortException(iom.getArgumentAt(1, String[])[0])\r\n    }).when(this.mock).invokeMethod(eq(&#39;error&#39;), anyObject())\r\n  }\r\n  // ...\r\n}\r\n```","title":"Mockito incorrect argument matcher after Jenkins core upgrade","body":"<p>The <code>doAnswer(...).when(mock).call(...)</code> doesn't trigger much if any execution within the mock.  Also static compilation can shut down Groovy's dynamic behavior, which can help since you're overriding <code>invokeMethod(String,Object)</code> which has special significance.</p>\n<pre><code>import static org.mockito.Mockito.*\n// ...\nclass DSLMock {\n  @groovy.transform.CompileStatic\n  DSLMock() {\n    this.mock = mock(DSL)\n    doCallRealMethod().when(this.mock).getMetaClass() // if DSL implements GroovyObject\n    doAnswer({ iom -&gt;\n      throw new AbortException(iom.getArgumentAt(1, String[])[0])\n    }).when(this.mock).invokeMethod(eq('error'), anyObject())\n  }\n  // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":519535,"reputation":2273,"user_id":1303158,"display_name":"Bernie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667972262,"creation_date":1667972262,"answer_id":74370347,"question_id":74258910,"body_markdown":"It seems like there have been similar issues with other versions of Groovy and Mockito: https://stackoverflow.com/questions/65329154/is-groovy-3-0-5-incompatible-with-mockito-3-6-28-mocks-are-not-usable\r\n\r\nHowever, even the latest version of Mockito doesn&#39;t seem to fix the issue with the version of Groovy that you&#39;re using. In the meantime, this worked for me:\r\n\r\n    @Test\r\n    void shouldMockObject() {\r\n        DSL mock = spy(new DSL(null) {\r\n            @Override\r\n            Object invokeMethod(String name, Object args) {\r\n                return null\r\n            }\r\n        })\r\n\r\n        when(mock.invokeMethod(eq(&quot;error&quot;), any())).then(new Answer&lt;String&gt;() {\r\n            @Override\r\n            String answer(InvocationOnMock invocationOnMock) throws Throwable {\r\n                throw new AbortException((String) invocationOnMock.getArguments()[1][0])\r\n            }\r\n        })\r\n\r\n        assertThrows(AbortException.class) {\r\n            mock.invokeMethod(&quot;error&quot;, [ &quot;message&quot; ])\r\n        }\r\n    }\r\n","title":"Mockito incorrect argument matcher after Jenkins core upgrade","body":"<p>It seems like there have been similar issues with other versions of Groovy and Mockito: <a href=\"https://stackoverflow.com/questions/65329154/is-groovy-3-0-5-incompatible-with-mockito-3-6-28-mocks-are-not-usable\">Is Groovy 3.0.5 incompatible with Mockito 3.6.28 ? Mocks are not usable</a></p>\n<p>However, even the latest version of Mockito doesn't seem to fix the issue with the version of Groovy that you're using. In the meantime, this worked for me:</p>\n<pre><code>@Test\nvoid shouldMockObject() {\n    DSL mock = spy(new DSL(null) {\n        @Override\n        Object invokeMethod(String name, Object args) {\n            return null\n        }\n    })\n\n    when(mock.invokeMethod(eq(&quot;error&quot;), any())).then(new Answer&lt;String&gt;() {\n        @Override\n        String answer(InvocationOnMock invocationOnMock) throws Throwable {\n            throw new AbortException((String) invocationOnMock.getArguments()[1][0])\n        }\n    })\n\n    assertThrows(AbortException.class) {\n        mock.invokeMethod(&quot;error&quot;, [ &quot;message&quot; ])\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1923696,"reputation":567,"user_id":1820068,"display_name":"kirill-a"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":74370347,"answer_count":3,"score":5,"last_activity_date":1667972262,"creation_date":1667192395,"question_id":74258910,"body_markdown":"We have Jenkins shared library project with some unit-tests that utilize Mockito.\r\nAfter an upgrade of Jenkins-core from version 2.325 to 2.326 tests start failing on the following line:\r\n\r\n```\r\nclass DSLMock {\r\n\r\n  DSLMock() {\r\n\r\n    this.mock = mock(DSL.class)\r\n\r\n-&gt;  when(mock.invokeMethod(eq(&quot;error&quot;), any())).then(new Answer&lt;String&gt;() {\r\n      @Override\r\n      String answer(InvocationOnMock invocationOnMock) throws Throwable {\r\n        throw new AbortException((String) invocationOnMock.getArguments()[1][0])\r\n      }\r\n    })\r\n...\r\n```\r\n\r\nwith error:\r\n\r\n```\r\n\r\norg.mockito.exceptions.misusing.InvalidUseOfMatchersException: \r\nMisplaced or misused argument matcher detected here:\r\n-&gt; at com.devops.jenkins.testing.DSLMock.&lt;init&gt;(DSLMock.groovy:66)\r\n-&gt; at com.devops.jenkins.testing.DSLMock.&lt;init&gt;(DSLMock.groovy:66)\r\nYou cannot use argument matchers outside of verification or stubbing.\r\nExamples of correct usage of argument matchers:\r\n    when(mock.get(anyInt())).thenReturn(null);\r\n    doThrow(new RuntimeException()).when(mock).someVoidMethod(anyObject());\r\n    verify(mock).someMethod(contains(&quot;foo&quot;))\r\nThis message may appear after an NullPointerException if the last matcher is returning an object \r\nlike any() but the stubbed method signature expect a primitive argument, in this case,\r\nuse primitive alternatives.\r\n    when(mock.get(any())); // bad use, will raise NPE\r\n    when(mock.get(anyInt())); // correct usage use\r\nAlso, this error might show up because you use argument matchers with methods that cannot be mocked.\r\nFollowing methods *cannot* be stubbed/verified: final/private/equals()/hashCode().\r\nMocking methods declared on non-public parent classes is not supported.\r\n```\r\n\r\n\r\nI&#39;ve tried to replace any() with methods like anyString() and just value like &quot;&quot; but still got same error.\r\nAlso I&#39;ve tried different stub syntax like\r\n```\r\ndoAnswer(new Answer...).when(mock).invokeMethod(eq(&quot;error&quot;), any())\r\n```\r\n\r\nIn changelog https://www.jenkins.io/changelog-old/#v2.326 I see Groovy patch version has been upgraded:\r\n\r\n - Upgrade Groovy from 2.4.12 to 2.4.21\r\n\r\nI wonder if that would cause the issue. Other dependencies versions are not changed:\r\n```\r\n&lt;groovy.version&gt;2.4.12&lt;/groovy.version&gt;\r\n&lt;junit-jupiter.version&gt;5.8.1&lt;/junit-jupiter.version&gt;\r\n&lt;mockito.core.version&gt;3.3.3&lt;/mockito.core.version&gt;\r\n```","title":"Mockito incorrect argument matcher after Jenkins core upgrade","body":"<p>We have Jenkins shared library project with some unit-tests that utilize Mockito.\nAfter an upgrade of Jenkins-core from version 2.325 to 2.326 tests start failing on the following line:</p>\n<pre><code>class DSLMock {\n\n  DSLMock() {\n\n    this.mock = mock(DSL.class)\n\n-&gt;  when(mock.invokeMethod(eq(&quot;error&quot;), any())).then(new Answer&lt;String&gt;() {\n      @Override\n      String answer(InvocationOnMock invocationOnMock) throws Throwable {\n        throw new AbortException((String) invocationOnMock.getArguments()[1][0])\n      }\n    })\n...\n</code></pre>\n<p>with error:</p>\n<pre><code>\norg.mockito.exceptions.misusing.InvalidUseOfMatchersException: \nMisplaced or misused argument matcher detected here:\n-&gt; at com.devops.jenkins.testing.DSLMock.&lt;init&gt;(DSLMock.groovy:66)\n-&gt; at com.devops.jenkins.testing.DSLMock.&lt;init&gt;(DSLMock.groovy:66)\nYou cannot use argument matchers outside of verification or stubbing.\nExamples of correct usage of argument matchers:\n    when(mock.get(anyInt())).thenReturn(null);\n    doThrow(new RuntimeException()).when(mock).someVoidMethod(anyObject());\n    verify(mock).someMethod(contains(&quot;foo&quot;))\nThis message may appear after an NullPointerException if the last matcher is returning an object \nlike any() but the stubbed method signature expect a primitive argument, in this case,\nuse primitive alternatives.\n    when(mock.get(any())); // bad use, will raise NPE\n    when(mock.get(anyInt())); // correct usage use\nAlso, this error might show up because you use argument matchers with methods that cannot be mocked.\nFollowing methods *cannot* be stubbed/verified: final/private/equals()/hashCode().\nMocking methods declared on non-public parent classes is not supported.\n</code></pre>\n<p>I've tried to replace any() with methods like anyString() and just value like &quot;&quot; but still got same error.\nAlso I've tried different stub syntax like</p>\n<pre><code>doAnswer(new Answer...).when(mock).invokeMethod(eq(&quot;error&quot;), any())\n</code></pre>\n<p>In changelog <a href=\"https://www.jenkins.io/changelog-old/#v2.326\" rel=\"nofollow noreferrer\">https://www.jenkins.io/changelog-old/#v2.326</a> I see Groovy patch version has been upgraded:</p>\n<ul>\n<li>Upgrade Groovy from 2.4.12 to 2.4.21</li>\n</ul>\n<p>I wonder if that would cause the issue. Other dependencies versions are not changed:</p>\n<pre><code>&lt;groovy.version&gt;2.4.12&lt;/groovy.version&gt;\n&lt;junit-jupiter.version&gt;5.8.1&lt;/junit-jupiter.version&gt;\n&lt;mockito.core.version&gt;3.3.3&lt;/mockito.core.version&gt;\n</code></pre>\n"},{"tags":["java","selenium","github","heroku","selenium-chromedriver"],"comments":[{"owner":{"account_id":145051,"reputation":130079,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1667948832,"post_id":74367614,"comment_id":131289318,"body_markdown":"It looks like you&#39;re using a Chromedriver that&#39;s not compatible with the version of Linux Heroku is using. The Chromedriver is not part of your application and should not be committed in the first place. Use appropriate buildpacks instead. There are [lots of questions](https://stackoverflow.com/questions/tagged/heroku+selenium-chromedriver) about using Chromedriver on Heroku.","body":"It looks like you&#39;re using a Chromedriver that&#39;s not compatible with the version of Linux Heroku is using. The Chromedriver is not part of your application and should not be committed in the first place. Use appropriate buildpacks instead. There are <a href=\"https://stackoverflow.com/questions/tagged/heroku+selenium-chromedriver\">lots of questions</a> about using Chromedriver on Heroku."},{"owner":{"account_id":25801101,"reputation":13,"user_id":19543531,"display_name":"Anton"},"score":0,"creation_date":1667949031,"post_id":74367614,"comment_id":131289365,"body_markdown":"How do I use a buildpack? Sorry, I am new in using this and don&#39;t understand. I should put chromedriver in certain folder?","body":"How do I use a buildpack? Sorry, I am new in using this and don&#39;t understand. I should put chromedriver in certain folder?"},{"owner":{"account_id":145051,"reputation":130079,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1667949398,"post_id":74367614,"comment_id":131289442,"body_markdown":"No, you shouldn&#39;t have a Chromedriver in your project at all. You need to use a buildpack, e.g. [this one](https://elements.heroku.com/buildpacks/heroku/heroku-buildpack-chromedriver).","body":"No, you shouldn&#39;t have a Chromedriver in your project at all. You need to use a buildpack, e.g. <a href=\"https://elements.heroku.com/buildpacks/heroku/heroku-buildpack-chromedriver\" rel=\"nofollow noreferrer\">this one</a>."},{"owner":{"account_id":25801101,"reputation":13,"user_id":19543531,"display_name":"Anton"},"score":0,"creation_date":1667953037,"post_id":74367614,"comment_id":131290075,"body_markdown":"Every guidance I find is about adding buildpacks via command lines. But I used github to deploy my project and I can&#39;t find anything about buildpacks and how to use them... Please do you have any resources I can visit for that?","body":"Every guidance I find is about adding buildpacks via command lines. But I used github to deploy my project and I can&#39;t find anything about buildpacks and how to use them... Please do you have any resources I can visit for that?"},{"owner":{"account_id":25801101,"reputation":13,"user_id":19543531,"display_name":"Anton"},"score":0,"creation_date":1667953507,"post_id":74367614,"comment_id":131290155,"body_markdown":"Like if I have this `heroku create --buildpack https://github.com/SeleniumHQ/selenium.git`, where should I put it in? I know there is console in your_app -&gt; More -&gt; Run console, but it is completely different from what they show in guides...","body":"Like if I have this <code>heroku create --buildpack https:&#47;&#47;github.com&#47;SeleniumHQ&#47;selenium.git</code>, where should I put it in? I know there is console in your_app -&gt; More -&gt; Run console, but it is completely different from what they show in guides..."}],"answers":[{"tags":[],"owner":{"account_id":25801101,"reputation":13,"user_id":19543531,"display_name":"Anton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667960192,"creation_date":1667960065,"answer_id":74369215,"question_id":74367614,"body_markdown":"What about my question, I finally solved it. I just didn&#39;t see any tutorial for Java developer about Selenium on Heroku. Want to answer my question: we need to add to our project 2 buildpacks:\r\n*https://buildpack-registry.s3.amazonaws.com/buildpacks/heroku/chromedriver.tgz*\r\n*https://buildpack-registry.s3.amazonaws.com/buildpacks/heroku/google-chrome.tgz*\r\nTo add them you need to go to your application -&gt; Settings -&gt; Buildpacks -&gt; Add buildpack and just paste links above 1 by 1.\r\n[How it should look][1]\r\n\r\nSo these drivers add 2 properties to our project which are paths to Google Chrome and Chromedriver. To start up your WebDriver you need this piece of code I found [here][2]\r\n```\r\nSystem.setProperty(&quot;GOOGLE_CHROME_BIN&quot;, &quot;/app/.apt/usr/bin/google-chrome&quot;); \r\nSystem.setProperty(&quot;CHROMEDRIVER_PATH&quot;, &quot;/app/.chromedriver/bin/chromedriver&quot;);\r\nChromeOptions options = new ChromeOptions();\r\noptions.setBinary(&quot;/app/.apt/usr/bin/google-chrome&quot;);   \r\noptions.addArguments(&quot;--enable-javascript&quot;); \r\noptions.addArguments(&quot;--headless&quot;); \r\noptions.addArguments(&quot;--disable-gpu&quot;); \r\noptions.addArguments(&quot;--no-sandbox&quot;);\r\n\r\nWebDriver driver = new ChromeDriver(options);\r\ndriver.manage().window().maximize();\r\ndriver.get(&quot;https://the-web_you_want&quot;);\r\n```\r\n\r\nThat&#39;s it. Good luck!\r\n\r\n  [1]: https://i.stack.imgur.com/Lk4jr.jpg\r\n  [2]: https://stackoverflow.com/questions/49067778/issue-while-executing-the-chromedriver-in-heroku-java-maven","title":"Failing using chromedriver when it is on Heroku","body":"<p>What about my question, I finally solved it. I just didn't see any tutorial for Java developer about Selenium on Heroku. Want to answer my question: we need to add to our project 2 buildpacks:\n<em><a href=\"https://buildpack-registry.s3.amazonaws.com/buildpacks/heroku/chromedriver.tgz\" rel=\"nofollow noreferrer\">https://buildpack-registry.s3.amazonaws.com/buildpacks/heroku/chromedriver.tgz</a></em>\n<em><a href=\"https://buildpack-registry.s3.amazonaws.com/buildpacks/heroku/google-chrome.tgz\" rel=\"nofollow noreferrer\">https://buildpack-registry.s3.amazonaws.com/buildpacks/heroku/google-chrome.tgz</a></em>\nTo add them you need to go to your application -&gt; Settings -&gt; Buildpacks -&gt; Add buildpack and just paste links above 1 by 1.\n<a href=\"https://i.stack.imgur.com/Lk4jr.jpg\" rel=\"nofollow noreferrer\">How it should look</a></p>\n<p>So these drivers add 2 properties to our project which are paths to Google Chrome and Chromedriver. To start up your WebDriver you need this piece of code I found <a href=\"https://stackoverflow.com/questions/49067778/issue-while-executing-the-chromedriver-in-heroku-java-maven\">here</a></p>\n<pre><code>System.setProperty(&quot;GOOGLE_CHROME_BIN&quot;, &quot;/app/.apt/usr/bin/google-chrome&quot;); \nSystem.setProperty(&quot;CHROMEDRIVER_PATH&quot;, &quot;/app/.chromedriver/bin/chromedriver&quot;);\nChromeOptions options = new ChromeOptions();\noptions.setBinary(&quot;/app/.apt/usr/bin/google-chrome&quot;);   \noptions.addArguments(&quot;--enable-javascript&quot;); \noptions.addArguments(&quot;--headless&quot;); \noptions.addArguments(&quot;--disable-gpu&quot;); \noptions.addArguments(&quot;--no-sandbox&quot;);\n\nWebDriver driver = new ChromeDriver(options);\ndriver.manage().window().maximize();\ndriver.get(&quot;https://the-web_you_want&quot;);\n</code></pre>\n<p>That's it. Good luck!</p>\n"}],"owner":{"account_id":25801101,"reputation":13,"user_id":19543531,"display_name":"Anton"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667971960,"creation_date":1667944669,"question_id":74367614,"body_markdown":"I have discord bot which is meant to return leaderboard data from one website. This code works perfectly on my macbook, but when I upload this code to Heroku, it returns this error:\r\n```\r\n/app/chromedriver: 1: Syntax error: word unexpected (expecting &quot;)&quot;)\r\napp[worker.1]: [JDA MainWS-ReadThread] ERROR JDA - One of the EventListeners had an uncaught exception\r\napp[worker.1]: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\r\n```\r\nMy code for this command:\r\n```\r\nChromeOptions options = new ChromeOptions();\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriver&quot;);\r\noptions.addArguments(&quot;--lang=en&quot;);\r\noptions.addArguments(&quot;--no-sandbox&quot;);\r\noptions.addArguments(&quot;--headless&quot;);\r\n//options.setBinary(&quot;chromedriver&quot;) - doesn&#39;t work for me.\r\nWebDriver driver = new ChromeDriver(options);\r\n\r\ndriver.get(&quot;https://hordes.io/players&quot;);\r\n\r\ndriver.findElements(By.tagName(&quot;tr&quot;)).get(0).findElements(By.tagName(&quot;th&quot;)).get(n).click();\r\n\r\ntry {\r\n    Thread.sleep(2000);\r\n} catch (InterruptedException e) {\r\n    Thread.currentThread().interrupt();\r\n}\r\n\r\nList&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;tr&quot;));\r\n```\r\nWhen I tried to use `options.setBinary(&quot;chromedriver&quot;)` it didn&#39;t work on my pc (neither for server).  I have also tried reinstalling chromedriver - didn&#39;t help. Actually it runs even without specifying chromedriver&#39;s path\r\n\r\nWhat about architecture of my project, it is simple:\r\n\r\nProject structure\r\n\r\n[![](https://i.stack.imgur.com/4Wmeq.png)](https://i.stack.imgur.com/4Wmeq.png)\r\n\r\nInside of src/main/java\r\n\r\n[![](https://i.stack.imgur.com/rGS9N.png)](https://i.stack.imgur.com/rGS9N.png)\r\n\r\nTopPlayers is the class which uses selenium for scraping.\r\n\r\nChromedriver&#39;s version is 107 (as my chrome).\r\n\r\nAs the error says the problem is more likely with starting up my webDriver. I don&#39;t see many questions on this topic for java, mostly python, so I am very lost.\r\n","title":"Failing using chromedriver when it is on Heroku","body":"<p>I have discord bot which is meant to return leaderboard data from one website. This code works perfectly on my macbook, but when I upload this code to Heroku, it returns this error:</p>\n<pre><code>/app/chromedriver: 1: Syntax error: word unexpected (expecting &quot;)&quot;)\napp[worker.1]: [JDA MainWS-ReadThread] ERROR JDA - One of the EventListeners had an uncaught exception\napp[worker.1]: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\n</code></pre>\n<p>My code for this command:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriver&quot;);\noptions.addArguments(&quot;--lang=en&quot;);\noptions.addArguments(&quot;--no-sandbox&quot;);\noptions.addArguments(&quot;--headless&quot;);\n//options.setBinary(&quot;chromedriver&quot;) - doesn't work for me.\nWebDriver driver = new ChromeDriver(options);\n\ndriver.get(&quot;https://hordes.io/players&quot;);\n\ndriver.findElements(By.tagName(&quot;tr&quot;)).get(0).findElements(By.tagName(&quot;th&quot;)).get(n).click();\n\ntry {\n    Thread.sleep(2000);\n} catch (InterruptedException e) {\n    Thread.currentThread().interrupt();\n}\n\nList&lt;WebElement&gt; elements = driver.findElements(By.tagName(&quot;tr&quot;));\n</code></pre>\n<p>When I tried to use <code>options.setBinary(&quot;chromedriver&quot;)</code> it didn't work on my pc (neither for server).  I have also tried reinstalling chromedriver - didn't help. Actually it runs even without specifying chromedriver's path</p>\n<p>What about architecture of my project, it is simple:</p>\n<p>Project structure</p>\n<p><a href=\"https://i.stack.imgur.com/4Wmeq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Wmeq.png\" alt=\"\" /></a></p>\n<p>Inside of src/main/java</p>\n<p><a href=\"https://i.stack.imgur.com/rGS9N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rGS9N.png\" alt=\"\" /></a></p>\n<p>TopPlayers is the class which uses selenium for scraping.</p>\n<p>Chromedriver's version is 107 (as my chrome).</p>\n<p>As the error says the problem is more likely with starting up my webDriver. I don't see many questions on this topic for java, mostly python, so I am very lost.</p>\n"},{"tags":["java","list","one-to-many","hierarchy"],"comments":[{"owner":{"account_id":15628680,"reputation":501,"user_id":11275562,"display_name":"Icarus"},"score":0,"creation_date":1667973373,"post_id":74370266,"comment_id":131292890,"body_markdown":"are you trying to reformat a list of books into a list of books/series?","body":"are you trying to reformat a list of books into a list of books/series?"},{"owner":{"account_id":2683594,"reputation":490,"user_id":2318409,"accept_rate":80,"display_name":"Gary Greenberg"},"score":0,"creation_date":1667980343,"post_id":74370266,"comment_id":131294420,"body_markdown":"You got it right. I do need a list of books/series.","body":"You got it right. I do need a list of books/series."}],"owner":{"account_id":2683594,"reputation":490,"user_id":2318409,"accept_rate":80,"display_name":"Gary Greenberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667971414,"creation_date":1667971414,"question_id":74370266,"body_markdown":"I have a SQL table describing books in the online library. it looks like this:\r\n\r\n      create table if not exists BOOKS (\r\n      BOOK_ID        char(36) default (UUID()) not null, \r\n      TITLE          varchar(255) not null, \r\n      URL            varchar(512), \r\n      PUBLISHED_ON   date, \r\n      ISBN           varchar(24), \r\n      ANNOTATION     text, \r\n      COMMENTARY     text, \r\n      RATING         tinyint, \r\n      SERIES_ID      char(36), \r\n      SERIES_VOL_NUM tinyint, \r\n      constraint BOOK_PK primary key (BOOK_ID),\r\n      constraint FK_BOOKS_SERIES foreign key (SERIES_ID) references BOOKS (BOOK_ID)\r\n    );\r\n\r\nForeign key to itself needed as books might be linked to a series (like Harry Potter has 7 books and James Bond series has over 40). The hierarchy might be 2, 3 and very rare cases 4 level deep.\r\n\r\nI have created Java class Book reflecting the information in the table and another class\r\n\r\n    public class Series extends Book {\r\n        \r\n        @JsonInclude(JsonInclude.Include.NON_NULL)\r\n        private List&lt;Book&gt; volumes;\r\n        // setters and getters omitted\r\n     }\r\n\r\nWhen I am retrieving book info per given criteria, I am getting a plain list of all books and now I do need to build a list that will contain some hierarchy. I.e. I need to present it like following:\r\n\r\n&gt;      Book1\r\n&gt;      Book2\r\n&gt;      Series1\r\n&gt;        Volume 1 of S1\r\n&gt;        Volume 2 of S1\r\n&gt;           Part 1 of V2S1\r\n&gt;           Part 2 of V2S1\r\n&gt;        Volume 3 of S1\r\n&gt;      Book3\r\n&gt;      Book4\r\n&gt;      Series2\r\n&gt;        Volume1 of S2\r\n&gt;        Volume2 of S2\r\n\r\netc.\r\nIt is not a tree ( in that case I&#39;d use recursion) and I am wrecking my brain on how to do it effectively. If someone can give me a hint, I will appreciate it.\r\n\r\n","title":"Building a list with some hierarchical elements","body":"<p>I have a SQL table describing books in the online library. it looks like this:</p>\n<pre><code>  create table if not exists BOOKS (\n  BOOK_ID        char(36) default (UUID()) not null, \n  TITLE          varchar(255) not null, \n  URL            varchar(512), \n  PUBLISHED_ON   date, \n  ISBN           varchar(24), \n  ANNOTATION     text, \n  COMMENTARY     text, \n  RATING         tinyint, \n  SERIES_ID      char(36), \n  SERIES_VOL_NUM tinyint, \n  constraint BOOK_PK primary key (BOOK_ID),\n  constraint FK_BOOKS_SERIES foreign key (SERIES_ID) references BOOKS (BOOK_ID)\n);\n</code></pre>\n<p>Foreign key to itself needed as books might be linked to a series (like Harry Potter has 7 books and James Bond series has over 40). The hierarchy might be 2, 3 and very rare cases 4 level deep.</p>\n<p>I have created Java class Book reflecting the information in the table and another class</p>\n<pre><code>public class Series extends Book {\n    \n    @JsonInclude(JsonInclude.Include.NON_NULL)\n    private List&lt;Book&gt; volumes;\n    // setters and getters omitted\n }\n</code></pre>\n<p>When I am retrieving book info per given criteria, I am getting a plain list of all books and now I do need to build a list that will contain some hierarchy. I.e. I need to present it like following:</p>\n<blockquote>\n<pre><code> Book1\n Book2\n Series1\n   Volume 1 of S1\n   Volume 2 of S1\n      Part 1 of V2S1\n      Part 2 of V2S1\n   Volume 3 of S1\n Book3\n Book4\n Series2\n   Volume1 of S2\n   Volume2 of S2\n</code></pre>\n</blockquote>\n<p>etc.\nIt is not a tree ( in that case I'd use recursion) and I am wrecking my brain on how to do it effectively. If someone can give me a hint, I will appreciate it.</p>\n"},{"tags":["java","swing","jpanel","graphics2d"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667873500,"post_id":74354961,"comment_id":131266612,"body_markdown":"*&quot;how can I pass a single graphics object to my decorator pattern classes?&quot;* you don&#39;t.  Each panel will have it&#39;s own `Graphics` context, which you can get access to via one of the paint methods.  This would then be passed to the &quot;renderer/delegate&quot; (or decorator in your case)","body":"<i>&quot;how can I pass a single graphics object to my decorator pattern classes?&quot;</i> you don&#39;t.  Each panel will have it&#39;s own <code>Graphics</code> context, which you can get access to via one of the paint methods.  This would then be passed to the &quot;renderer/delegate&quot; (or decorator in your case)"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667873563,"post_id":74354961,"comment_id":131266623,"body_markdown":"You should have a look at [Painting in AWT and Swing](https://www.oracle.com/java/technologies/painting.html) and [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) for more details about how painting works in Swing.","body":"You should have a look at <a href=\"https://www.oracle.com/java/technologies/painting.html\" rel=\"nofollow noreferrer\">Painting in AWT and Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> for more details about how painting works in Swing."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1667873602,"post_id":74354961,"comment_id":131266629,"body_markdown":"Alternatively, you could have the decorator generate an `Image` which could then either be added to the panel via a `JLabel` or painted based on your needs","body":"Alternatively, you could have the decorator generate an <code>Image</code> which could then either be added to the panel via a <code>JLabel</code> or painted based on your needs"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1668124626,"post_id":74354961,"comment_id":131336487,"body_markdown":"Do you have any questions about my answer?","body":"Do you have any questions about my answer?"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667911265,"creation_date":1667873585,"answer_id":74354999,"question_id":74354961,"body_markdown":"&gt; The application is supposed to be using a decorator pattern approach, where the simple line graph would be the base that needs to be rendered first and then using the same base the extra feature (decorator) of bar graph needs to be added on it. In order to achieve this, how can I pass a single graphics object to my decorator pattern classes?\r\n\r\nYour question is in fact be an [XY Problem](http://mywiki.wooledge.org/XyProblem) where you ask &quot;how do I do such-and-such&quot; when the best solution is to use a completely different approach entirely. \r\n\r\nFor one, you do ***not*** want to pass a single Graphics object around but rather each JPanel would use its own Graphics object that gets passed to it by the JVM via its `protected void paintComponent(Graphics g)` Graphics parameter. Instead, you would share the same data, and could draw the parent&#39;s graphics by calling a painting method of the panel to be decorated within the current JPanel&#39;s `paintComponent` method. This should draw the line graph. You could then use the shared data to draw the additional things after that line of code.\r\n\r\nNote also that usually the decorator pattern would be used for your GUI application&#39;s *model*, the non-GUI brains that holds the program&#39;s state (its data) and behaviors (its logical methods), and not its *view*, the GUI portion of the program. The view is mainly responsible for displaying visually the model&#39;s state, as well as possibly allowing for user input. Otherwise I would find it most unusual to pass a parent JPanel into a child&#39;s constructor and decorate on top of that, .... but that is not impossible to do, just unusual, and prone to errors.\r\n\r\n____________________________________\r\n\r\nI suppose that you could use actual JPanels in a decorator fashion, having them all extend from a decorator interface, such as,...\r\n```\r\npublic interface DecoratorPanel {\r\n    int[] getData();\r\n\r\n    int convertDatumToY(int i);\r\n\r\n    int convertItoX(int i);\r\n\r\n    void drawGraph(Graphics g);\r\n    \r\n    public int getGap();\r\n}\r\n```\r\n\r\nand then have the parent panel draw the line, perhaps something like:\r\n```\r\npublic class ParentPanel extends JPanel implements DecoratorPanel {\r\n    // ...\r\n    private int[] data;\r\n    // ...\r\n\r\n\t// ...\r\n\t\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g); // this should not be called by children\r\n        drawGraph(g);\r\n    }\r\n\r\n    // this allows children to call graphics code without calling \r\n    // super.paintComponent\r\n    public void drawGraph(Graphics g) {\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        g2.setColor(LINE_COLOR);\r\n        for (int i = 1; i &lt; data.length; i++) {\r\n            int x1 = convertItoX(i - 1);\r\n            int y1 = convertDatumToY(data[i - 1]);\r\n            int x2 = convertItoX(i);\r\n            int y2 = convertDatumToY(data[i]);\r\n            g2.drawLine(x1, y1, x2, y2);\r\n        }\r\n    }\r\n\r\n\t//...\r\n\r\n}\r\n```\r\nAnd then a decorator JPanel could perhaps use the paintComponent output from this parent:\r\n\r\n```\r\npublic class ChildBoxPanel extends JPanel implements DecoratorPanel {\r\n    private static final int BC = 245;\r\n    private static final Color BACKGROUND = new Color(BC, BC, BC);\r\n    private DecoratorPanel panelToBeDecorated;\r\n\r\n    public ChildBoxPanel(DecoratorPanel panelToBeDecorated) {\r\n        if (panelToBeDecorated == null) {\r\n            throw new IllegalArgumentException(&quot;panelToBeDecorated is null&quot;);\r\n        }\r\n        this.panelToBeDecorated = panelToBeDecorated;\r\n        setBackground(BACKGROUND);\r\n    }\r\n\r\n    @Override\r\n    public int[] getData() {\r\n\t\t// delegate many things to the &quot;seed&quot; JPanel\r\n        return panelToBeDecorated.getData();\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        drawGraph(g);\r\n    }\r\n\t\r\n    @Override\r\n    public void drawGraph(Graphics g) {\r\n        panelToBeDecorated.drawGraph(g);\r\n\t\t\r\n\t\t// here would go the new drawing specific for this JPanel\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        g2.setColor(Color.BLUE);\r\n        for (int i = 0; i &lt; getData().length; i++) {\r\n            int x = convertItoX(i);\r\n            int y = convertDatumToY(getData()[i]);\r\n            g2.fillRect(x - getGap(), y - getGap(), 2 * getGap(), 2 * getGap());\r\n        }\r\n    }\t\r\n    \r\n   // ...\r\n    \r\n}\r\n```\r\n\r\nI have tested this code and it *works*, as shown below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnother possible solution would be to decorate BufferedImages -- something for my next project!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cksgf.jpg","title":"Java Swing: Reusing a parent JPanel graphics2D reference in child JPanels","body":"<blockquote>\n<p>The application is supposed to be using a decorator pattern approach, where the simple line graph would be the base that needs to be rendered first and then using the same base the extra feature (decorator) of bar graph needs to be added on it. In order to achieve this, how can I pass a single graphics object to my decorator pattern classes?</p>\n</blockquote>\n<p>Your question is in fact be an <a href=\"http://mywiki.wooledge.org/XyProblem\" rel=\"nofollow noreferrer\">XY Problem</a> where you ask &quot;how do I do such-and-such&quot; when the best solution is to use a completely different approach entirely.</p>\n<p>For one, you do <em><strong>not</strong></em> want to pass a single Graphics object around but rather each JPanel would use its own Graphics object that gets passed to it by the JVM via its <code>protected void paintComponent(Graphics g)</code> Graphics parameter. Instead, you would share the same data, and could draw the parent's graphics by calling a painting method of the panel to be decorated within the current JPanel's <code>paintComponent</code> method. This should draw the line graph. You could then use the shared data to draw the additional things after that line of code.</p>\n<p>Note also that usually the decorator pattern would be used for your GUI application's <em>model</em>, the non-GUI brains that holds the program's state (its data) and behaviors (its logical methods), and not its <em>view</em>, the GUI portion of the program. The view is mainly responsible for displaying visually the model's state, as well as possibly allowing for user input. Otherwise I would find it most unusual to pass a parent JPanel into a child's constructor and decorate on top of that, .... but that is not impossible to do, just unusual, and prone to errors.</p>\n<hr />\n<p>I suppose that you could use actual JPanels in a decorator fashion, having them all extend from a decorator interface, such as,...</p>\n<pre><code>public interface DecoratorPanel {\n    int[] getData();\n\n    int convertDatumToY(int i);\n\n    int convertItoX(int i);\n\n    void drawGraph(Graphics g);\n    \n    public int getGap();\n}\n</code></pre>\n<p>and then have the parent panel draw the line, perhaps something like:</p>\n<pre><code>public class ParentPanel extends JPanel implements DecoratorPanel {\n    // ...\n    private int[] data;\n    // ...\n\n    // ...\n    \n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g); // this should not be called by children\n        drawGraph(g);\n    }\n\n    // this allows children to call graphics code without calling \n    // super.paintComponent\n    public void drawGraph(Graphics g) {\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        g2.setColor(LINE_COLOR);\n        for (int i = 1; i &lt; data.length; i++) {\n            int x1 = convertItoX(i - 1);\n            int y1 = convertDatumToY(data[i - 1]);\n            int x2 = convertItoX(i);\n            int y2 = convertDatumToY(data[i]);\n            g2.drawLine(x1, y1, x2, y2);\n        }\n    }\n\n    //...\n\n}\n</code></pre>\n<p>And then a decorator JPanel could perhaps use the paintComponent output from this parent:</p>\n<pre><code>public class ChildBoxPanel extends JPanel implements DecoratorPanel {\n    private static final int BC = 245;\n    private static final Color BACKGROUND = new Color(BC, BC, BC);\n    private DecoratorPanel panelToBeDecorated;\n\n    public ChildBoxPanel(DecoratorPanel panelToBeDecorated) {\n        if (panelToBeDecorated == null) {\n            throw new IllegalArgumentException(&quot;panelToBeDecorated is null&quot;);\n        }\n        this.panelToBeDecorated = panelToBeDecorated;\n        setBackground(BACKGROUND);\n    }\n\n    @Override\n    public int[] getData() {\n        // delegate many things to the &quot;seed&quot; JPanel\n        return panelToBeDecorated.getData();\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        drawGraph(g);\n    }\n    \n    @Override\n    public void drawGraph(Graphics g) {\n        panelToBeDecorated.drawGraph(g);\n        \n        // here would go the new drawing specific for this JPanel\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        g2.setColor(Color.BLUE);\n        for (int i = 0; i &lt; getData().length; i++) {\n            int x = convertItoX(i);\n            int y = convertDatumToY(getData()[i]);\n            g2.fillRect(x - getGap(), y - getGap(), 2 * getGap(), 2 * getGap());\n        }\n    }   \n    \n   // ...\n    \n}\n</code></pre>\n<p>I have tested this code and it <em>works</em>, as shown below:</p>\n<p><a href=\"https://i.stack.imgur.com/cksgf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cksgf.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Another possible solution would be to decorate BufferedImages -- something for my next project!</p>\n"}],"owner":{"account_id":26733681,"reputation":1,"user_id":20335606,"display_name":"Vaishu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667971398,"creation_date":1667873245,"question_id":74354961,"body_markdown":"I am relatively new to Java *Swing* and I have a use case where I have a single `JPanel` that needs to be divided into 2 equal sections horizontally. \r\nEach section needs to display a graph with added features. \r\nThe first section would be a simple line graph.\r\nThe second would be a line graph plus bar chart rendered in one single graph. \r\n\r\nThe application is supposed to be using a decorator pattern approach, where the simple line graph would be the base that needs to be rendered first and then using the same base the extra feature (decorator) of bar graph needs to be added on it. In order to achieve this, how can I pass a single graphics object to my decorator pattern classes? \r\n\r\nI am expecting something like this.    \r\n[![Reference Image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d1Fum.jpg","title":"Java Swing: Reusing a parent JPanel graphics2D reference in child JPanels","body":"<p>I am relatively new to Java <em>Swing</em> and I have a use case where I have a single <code>JPanel</code> that needs to be divided into 2 equal sections horizontally.\nEach section needs to display a graph with added features.\nThe first section would be a simple line graph.\nThe second would be a line graph plus bar chart rendered in one single graph.</p>\n<p>The application is supposed to be using a decorator pattern approach, where the simple line graph would be the base that needs to be rendered first and then using the same base the extra feature (decorator) of bar graph needs to be added on it. In order to achieve this, how can I pass a single graphics object to my decorator pattern classes?</p>\n<p>I am expecting something like this.<br />\n<a href=\"https://i.stack.imgur.com/d1Fum.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d1Fum.jpg\" alt=\"Reference Image\" /></a></p>\n"},{"tags":["java","android","listview"],"answers":[{"tags":[],"owner":{"account_id":26135494,"reputation":99,"user_id":19825554,"display_name":"SAVAN JADAV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667970887,"creation_date":1667970887,"answer_id":74370201,"question_id":74366910,"body_markdown":"\r\nTry this\r\n\r\nyou can do that in getView method at your adapter and if you use ArrayAdapter you can also override getView method as following :\r\n\r\n\r\n         ArrayAdapter arrayAdapter = new ArrayAdapter(MainActivity.this,android.R.layout.simple_list_item_1,strings){\r\n                    @Override\r\n                    public View getView(int position, View convertView, ViewGroup parent) {\r\n    \r\n                        View view;\r\n                        if(convertView==null) {\r\n                            LayoutInflater Inflater = (LayoutInflater) MainActivity.this.getSystemService(MainActivity.this.LAYOUT_INFLATER_SERVICE);\r\n                            view = Inflater.inflate(android.R.layout.simple_list_item_1, null);\r\n                        }\r\n                        else\r\n                        {\r\n                            view=convertView;\r\n                        }\r\n                        if(position==YOUR_TARGET_POSITION_TO_CHANGE_ITS_BACKGROUND)\r\n                        {\r\n                            view.setBackgroundColor(0x2196f3);\r\n                        }\r\n    //Update Of textView\r\n    \r\n                        TextView txt1=(TextView)view.findViewById(android.R.id.text1);\r\n                    text1.setText(strings[position]);\r\n    \r\n        //Rest of your code\r\n                        return view;\r\n                    }\r\n                };\r\n        listView.setAdapter(arrayAdapter);","title":"How to change a specific element inside a ListView on creation","body":"<p>Try this</p>\n<p>you can do that in getView method at your adapter and if you use ArrayAdapter you can also override getView method as following :</p>\n<pre><code>     ArrayAdapter arrayAdapter = new ArrayAdapter(MainActivity.this,android.R.layout.simple_list_item_1,strings){\n                @Override\n                public View getView(int position, View convertView, ViewGroup parent) {\n\n                    View view;\n                    if(convertView==null) {\n                        LayoutInflater Inflater = (LayoutInflater) MainActivity.this.getSystemService(MainActivity.this.LAYOUT_INFLATER_SERVICE);\n                        view = Inflater.inflate(android.R.layout.simple_list_item_1, null);\n                    }\n                    else\n                    {\n                        view=convertView;\n                    }\n                    if(position==YOUR_TARGET_POSITION_TO_CHANGE_ITS_BACKGROUND)\n                    {\n                        view.setBackgroundColor(0x2196f3);\n                    }\n//Update Of textView\n\n                    TextView txt1=(TextView)view.findViewById(android.R.id.text1);\n                text1.setText(strings[position]);\n\n    //Rest of your code\n                    return view;\n                }\n            };\n    listView.setAdapter(arrayAdapter);\n</code></pre>\n"}],"owner":{"account_id":8863520,"reputation":111,"user_id":6619276,"accept_rate":86,"display_name":"Silent_Jager"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667970887,"creation_date":1667939948,"question_id":74366910,"body_markdown":"Assume I have a `ListView` of elements and I would like to change the background color of the first element in this ListView, not by `setOnItemClickListener`, but on the ListView creation. \r\n\r\nI have tried the following:\r\n\r\n```java\r\n@Override\r\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n\r\n    View root = inflater. Inflate(R.layout.fragment_manage, container, false);\r\n\r\n    listView = root.findViewById(R.id.listView);\r\n    listArrayAdapter = new ArrayAdapter&lt;&gt;(root.getContext(), R.layout.list_item, R.id.listNameTextView, elementList);\r\n    listView.setAdapter(listArrayAdapter);\r\n\r\n    // Am trying to change the element here.\r\n    listView.getChildAt(listView.getFirstVisiblePosition()).setBackgroundColor(000);\r\n\r\n    return root;\r\n}\r\n```\r\nBut I get a NullPointerException.\r\n```java\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.view.View.setBackgroundColor(int)&#39; on a null object reference\r\n```\r\n\r\nHow would I go about accessing the list element and changing it otherwise?","title":"How to change a specific element inside a ListView on creation","body":"<p>Assume I have a <code>ListView</code> of elements and I would like to change the background color of the first element in this ListView, not by <code>setOnItemClickListener</code>, but on the ListView creation.</p>\n<p>I have tried the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n\n    View root = inflater. Inflate(R.layout.fragment_manage, container, false);\n\n    listView = root.findViewById(R.id.listView);\n    listArrayAdapter = new ArrayAdapter&lt;&gt;(root.getContext(), R.layout.list_item, R.id.listNameTextView, elementList);\n    listView.setAdapter(listArrayAdapter);\n\n    // Am trying to change the element here.\n    listView.getChildAt(listView.getFirstVisiblePosition()).setBackgroundColor(000);\n\n    return root;\n}\n</code></pre>\n<p>But I get a NullPointerException.</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.NullPointerException: Attempt to invoke virtual method 'void android.view.View.setBackgroundColor(int)' on a null object reference\n</code></pre>\n<p>How would I go about accessing the list element and changing it otherwise?</p>\n"},{"tags":["java","apache-spark","hadoop","apache-spark-sql"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1667916568,"post_id":74360406,"comment_id":131278353,"body_markdown":"If you&#39;re working on Spark, then add Spark dependencies. Those already include hdfs client as a transitive dependency.... You don&#39;t need the rest of your dependencies here to run the code you&#39;ve shown","body":"If you&#39;re working on Spark, then add Spark dependencies. Those already include hdfs client as a transitive dependency.... You don&#39;t need the rest of your dependencies here to run the code you&#39;ve shown"},{"owner":{"account_id":15690662,"reputation":284,"user_id":11321873,"display_name":"Prateek Gautam"},"score":0,"creation_date":1667926648,"post_id":74360406,"comment_id":131282591,"body_markdown":"We have added spark dependencies as well like spark core, spark sql, spark avro and spark hive","body":"We have added spark dependencies as well like spark core, spark sql, spark avro and spark hive"},{"owner":{"account_id":15690662,"reputation":284,"user_id":11321873,"display_name":"Prateek Gautam"},"score":0,"creation_date":1667926693,"post_id":74360406,"comment_id":131282607,"body_markdown":"These dependencies were already there but i still don&#39;t understand why it can&#39;t find a particular class","body":"These dependencies were already there but i still don&#39;t understand why it can&#39;t find a particular class"},{"owner":{"account_id":320466,"reputation":8954,"user_id":638764,"display_name":"mazaneicha"},"score":0,"creation_date":1667931732,"post_id":74360406,"comment_id":131284459,"body_markdown":"Worth noting that `NoClassDefFoundError` is not the same as `ClassNotFoundException`. https://stackoverflow.com/questions/28322833/classnotfoundexception-vs-noclassdeffounderror. TLDR The former is often seen when **the dependencies** of a class being loaded are not found in classpath, at runtime, not the class itself.","body":"Worth noting that <code>NoClassDefFoundError</code> is not the same as <code>ClassNotFoundException</code>. <a href=\"https://stackoverflow.com/questions/28322833/classnotfoundexception-vs-noclassdeffounderror\" title=\"classnotfoundexception vs noclassdeffounderror\">stackoverflow.com/questions/28322833/&hellip;</a>. TLDR The former is often seen when <b>the dependencies</b> of a class being loaded are not found in classpath, at runtime, not the class itself."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1667940086,"post_id":74360406,"comment_id":131287085,"body_markdown":"Please show your complete POM as a [mcve] if you do have Spark dependencies. Also what Spark version do you have installed?","body":"Please show your complete POM as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you do have Spark dependencies. Also what Spark version do you have installed?"},{"owner":{"account_id":15690662,"reputation":284,"user_id":11321873,"display_name":"Prateek Gautam"},"score":0,"creation_date":1667970616,"post_id":74360406,"comment_id":131292454,"body_markdown":"@OneCricketeer I&#39;ve added spark dependencies as well in my answer. My pom is 800 lines long, I highly doubt if i can paste that entire thing over here","body":"@OneCricketeer I&#39;ve added spark dependencies as well in my answer. My pom is 800 lines long, I highly doubt if i can paste that entire thing over here"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1668008573,"post_id":74360406,"comment_id":131304625,"body_markdown":"Thanks, so I suspect your problem is that Spark 2.4.7 isn&#39;t using Hadoop 3 libraries, so you manually adding them is causing conflicts. As I stated before, Spark includes HDFS dependencies itself, so what exactly is the error you&#39;re getting when you remove the ones you&#39;ve added? Also, you should add provided scope to the Spark dependencies. (and I highly doubt you should be excluding so much unless you want other class not found exceptions)","body":"Thanks, so I suspect your problem is that Spark 2.4.7 isn&#39;t using Hadoop 3 libraries, so you manually adding them is causing conflicts. As I stated before, Spark includes HDFS dependencies itself, so what exactly is the error you&#39;re getting when you remove the ones you&#39;ve added? Also, you should add provided scope to the Spark dependencies. (and I highly doubt you should be excluding so much unless you want other class not found exceptions)"}],"owner":{"account_id":15690662,"reputation":284,"user_id":11321873,"display_name":"Prateek Gautam"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667970534,"creation_date":1667908918,"question_id":74360406,"body_markdown":"I&#39;m working on Spark java application that should load a json file. Application successfully loads avro file but gets the below error while loading json file.\r\n\r\n```\r\nsparksession.read().json(hdfs_path_of_file) -- loading json file doesn&#39;t work\r\nsparksession.read().format(avro).load(hdfs_path_of_file) -- loading avro file works\r\njava.lang.NoClassDefFoundError org/apache/hadoop/fs/FSBuilder\r\n```\r\n\r\nMy dependencies are-\r\n```\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n&lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n&lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;exclusions&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jetty&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;commons-cli&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jetty-webapp&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;zookeeper&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.woodstox&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;woodstox-core&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;org.codehaus.woodstox&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;stax2-api&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n&lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n&lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\r\n&lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;exclusions&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;netty&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;commons-cli&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hadoop-hdfs-client&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;netty&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;xerces&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jetty&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jetty-util&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n&lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n&lt;artifactId&gt;hadoop-hdfs-client&lt;/artifactId&gt;\r\n&lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;exclusions&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;com.squareup.okhttp&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n&lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n&lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\r\n&lt;version&gt;2.4.7.7.1.7.48-2&lt;/version&gt;\r\n&lt;exclusions&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;com.squareup.okhttp&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;commons-cli&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hadoop-hdfs-client&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n&lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n&lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\r\n&lt;version&gt;2.4.7.7.1.7.48-2&lt;/version&gt;\r\n&lt;exclusions&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n&lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n&lt;artifactId&gt;spark-avro_2.11&lt;/artifactId&gt;\r\n&lt;version&gt;2.4.7.7.1.7.48-2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n&lt;artifactId&gt;spark-hive_2.11&lt;/artifactId&gt;\r\n&lt;version&gt;2.4.7.7.1.7.48-2&lt;/version&gt;\r\n&lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;exclusions&gt;\r\n\t&lt;exclusion&gt;\r\n\t\t&lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hive-exec&lt;/artifactId&gt;\r\n\t&lt;/exclusion&gt;\r\n&lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWhy can&#39;t `FSBuilder` be found even when `hadoop-common` is there? Also, `FSBuilder` is an interface and not a class, but I assume JVM classloader loads both classes as well as interfaces.\r\n\r\n","title":"java.lang.NoClassDefFoundError org/apache/hadoop/fs/FSBuilder spark java","body":"<p>I'm working on Spark java application that should load a json file. Application successfully loads avro file but gets the below error while loading json file.</p>\n<pre><code>sparksession.read().json(hdfs_path_of_file) -- loading json file doesn't work\nsparksession.read().format(avro).load(hdfs_path_of_file) -- loading avro file works\njava.lang.NoClassDefFoundError org/apache/hadoop/fs/FSBuilder\n</code></pre>\n<p>My dependencies are-</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n&lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n&lt;version&gt;3.0.0&lt;/version&gt;\n&lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n        &lt;artifactId&gt;jetty&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;commons-net&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;commons-cli&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n        &lt;artifactId&gt;jetty-webapp&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.apache.zookeeper&lt;/groupId&gt;\n        &lt;artifactId&gt;zookeeper&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;com.fasterxml.woodstox&lt;/groupId&gt;\n        &lt;artifactId&gt;woodstox-core&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n        &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.codehaus.woodstox&lt;/groupId&gt;\n        &lt;artifactId&gt;stax2-api&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n&lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\n&lt;version&gt;3.0.0&lt;/version&gt;\n&lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;commons-cli&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-hdfs-client&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;xerces&lt;/groupId&gt;\n        &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n        &lt;artifactId&gt;jetty&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n        &lt;artifactId&gt;jetty-util&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n&lt;artifactId&gt;hadoop-hdfs-client&lt;/artifactId&gt;\n&lt;version&gt;3.0.0&lt;/version&gt;\n&lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;com.squareup.okhttp&lt;/groupId&gt;\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n&lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\n&lt;version&gt;2.4.7.7.1.7.48-2&lt;/version&gt;\n&lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;com.squareup.okhttp&lt;/groupId&gt;\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-compress&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;commons-cli&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-cli&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;commons-net&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n        &lt;artifactId&gt;hadoop-hdfs-client&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n&lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\n&lt;version&gt;2.4.7.7.1.7.48-2&lt;/version&gt;\n&lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n        &lt;artifactId&gt;spark-core_2.11&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-compiler&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n&lt;artifactId&gt;spark-avro_2.11&lt;/artifactId&gt;\n&lt;version&gt;2.4.7.7.1.7.48-2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n&lt;artifactId&gt;spark-hive_2.11&lt;/artifactId&gt;\n&lt;version&gt;2.4.7.7.1.7.48-2&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n&lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n        &lt;artifactId&gt;hive-exec&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Why can't <code>FSBuilder</code> be found even when <code>hadoop-common</code> is there? Also, <code>FSBuilder</code> is an interface and not a class, but I assume JVM classloader loads both classes as well as interfaces.</p>\n"},{"tags":["java","date","vb6"],"comments":[{"owner":{"account_id":3430207,"reputation":624,"user_id":2874865,"accept_rate":80,"display_name":"JShell"},"score":1,"creation_date":1439326706,"post_id":31951765,"comment_id":51812950,"body_markdown":"Maybe im misunderstanding, but it seems a lot more likely that your VB6 code is giving you the time of your current timezone","body":"Maybe im misunderstanding, but it seems a lot more likely that your VB6 code is giving you the time of your current timezone"},{"owner":{"account_id":1954792,"reputation":5618,"user_id":1758051,"accept_rate":52,"display_name":"AgilePro"},"score":1,"creation_date":1667970393,"post_id":31951765,"comment_id":131292422,"body_markdown":"The millisecond value is the same all over the world and in all time zones.  The millisecond value is not &quot;in&quot; UTC or GMT.  It has no timezone, and it is the same in all timezones.","body":"The millisecond value is the same all over the world and in all time zones.  The millisecond value is not &quot;in&quot; UTC or GMT.  It has no timezone, and it is the same in all timezones."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667977653,"post_id":31951765,"comment_id":131293741,"body_markdown":"Yes, the `Date` class is confusing. This is far from the only point. Fortunately it is also outdated. Instead use `Instant` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). And by the way, rather than passing milliseconds from VB6, pass [ISO 8601 format](https://en.wikipedia.org/wiki/ISO_8601), for example `2015-08-11T20:40:50Z` (the trailing `Z` means UTC).","body":"Yes, the <code>Date</code> class is confusing. This is far from the only point. Fortunately it is also outdated. Instead use <code>Instant</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. And by the way, rather than passing milliseconds from VB6, pass <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601 format</a>, for example <code>2015-08-11T20:40:50Z</code> (the trailing <code>Z</code> means UTC)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667984218,"post_id":31951765,"comment_id":131295569,"body_markdown":"The string from `toString()` contains an *ambiguous* time zone abbreviation. CDT may be for Australian Central Daylight Time, North American Central Daylight Time, Cuba Daylight Time or Chatham Daylight Time.","body":"The string from <code>toString()</code> contains an <i>ambiguous</i> time zone abbreviation. CDT may be for Australian Central Daylight Time, North American Central Daylight Time, Cuba Daylight Time or Chatham Daylight Time."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1439326857,"creation_date":1439326720,"answer_id":31951815,"question_id":31951765,"body_markdown":"&gt; Is the CDT just there because the local machines timezone is CDT?\r\n\r\nThe timezone for display purposes is based on the default time zone.\r\n\r\nThe millis in the Date is relative to epoch and it doesn&#39;t have a time zone of its own.\r\n\r\nIt is taken since 00:00 1/1/1970 GMT or if you prefer 17:00 12/31/1969 CDT.\r\n\r\n\r\n&gt; would implicitly be in the local machines timezone\r\n\r\nThe use of the local time zone is for display purposes only. Use another time zone or serialize the `Date` and send it to a machine in another timezone and it will use the local timezone again.","title":"Java Date toString contains a timezone... Why?","body":"<blockquote>\n  <p>Is the CDT just there because the local machines timezone is CDT?</p>\n</blockquote>\n\n<p>The timezone for display purposes is based on the default time zone.</p>\n\n<p>The millis in the Date is relative to epoch and it doesn't have a time zone of its own.</p>\n\n<p>It is taken since 00:00 1/1/1970 GMT or if you prefer 17:00 12/31/1969 CDT.</p>\n\n<blockquote>\n  <p>would implicitly be in the local machines timezone</p>\n</blockquote>\n\n<p>The use of the local time zone is for display purposes only. Use another time zone or serialize the <code>Date</code> and send it to a machine in another timezone and it will use the local timezone again.</p>\n"},{"tags":[],"owner":{"account_id":5856133,"reputation":246,"user_id":4613313,"display_name":"PekosoG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439326801,"creation_date":1439326801,"answer_id":31951839,"question_id":31951765,"body_markdown":"You can use a custom representation of a date by using the correct format\r\n\r\nRead this post, it might help you\r\nhttps://stackoverflow.com/questions/4772425/format-date-in-java\r\n","title":"Java Date toString contains a timezone... Why?","body":"<p>You can use a custom representation of a date by using the correct format</p>\n\n<p>Read this post, it might help you\n<a href=\"https://stackoverflow.com/questions/4772425/format-date-in-java\">Change date format in a Java string</a></p>\n"},{"tags":[],"owner":{"account_id":23827,"reputation":16963,"user_id":60020,"accept_rate":85,"display_name":"Samuel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1439474585,"creation_date":1439326822,"answer_id":31951845,"question_id":31951765,"body_markdown":"You&#39;re correct it&#39;s showing CDT in the `toString()` because your [locale][1] indicates that is the correct timezone for you. The `Date` object itself doesn&#39;t care about timezones and is a glorified wrapper around the Unix epoch in milliseconds. Generally you should use `toString()` for debugging purposes, and use [a date formatter][2] to actually display dates to the user (optionally specifying an explicit timezone instead of the one specified by the user&#39;s locale).\r\n\r\nThe [Javadoc][3] for `Date.toString()` only specifies the format of the string, it doesn&#39;t actually say anything about which timezone is used. I wouldn&#39;t rely on `toString()` always returning the default `Locale` in every implementation of Java.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toString--","title":"Java Date toString contains a timezone... Why?","body":"<p>You're correct it's showing CDT in the <code>toString()</code> because your <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Locale.html\" rel=\"nofollow\">locale</a> indicates that is the correct timezone for you. The <code>Date</code> object itself doesn't care about timezones and is a glorified wrapper around the Unix epoch in milliseconds. Generally you should use <code>toString()</code> for debugging purposes, and use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow\">a date formatter</a> to actually display dates to the user (optionally specifying an explicit timezone instead of the one specified by the user's locale).</p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toString--\" rel=\"nofollow\">Javadoc</a> for <code>Date.toString()</code> only specifies the format of the string, it doesn't actually say anything about which timezone is used. I wouldn't rely on <code>toString()</code> always returning the default <code>Locale</code> in every implementation of Java.</p>\n"},{"tags":[],"owner":{"account_id":1954792,"reputation":5618,"user_id":1758051,"accept_rate":52,"display_name":"AgilePro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667970242,"creation_date":1667970242,"answer_id":74370126,"question_id":31951765,"body_markdown":"The number of milliseconds since epoch began is NOT in the timezone known as UTC.  It is not in any time zone.  The epoch value is the same in ALL time zones.  That epoch millisecond value is the same in London as it is in New York or San Francisco for that instant in time.\r\n\r\nThe Date function always uses the current default time zone if you don&#39;t set one.  So for you, yes, the local machines timezone is CDT.   Again, the epoch value in CDT is exactly the same as everywhere else on the planet, so there is no real reason to pick UTC when your machine thinks it is in central time.\r\n","title":"Java Date toString contains a timezone... Why?","body":"<p>The number of milliseconds since epoch began is NOT in the timezone known as UTC.  It is not in any time zone.  The epoch value is the same in ALL time zones.  That epoch millisecond value is the same in London as it is in New York or San Francisco for that instant in time.</p>\n<p>The Date function always uses the current default time zone if you don't set one.  So for you, yes, the local machines timezone is CDT.   Again, the epoch value in CDT is exactly the same as everywhere else on the planet, so there is no real reason to pick UTC when your machine thinks it is in central time.</p>\n"}],"owner":{"account_id":1726292,"reputation":2791,"user_id":1580864,"accept_rate":74,"display_name":"Mark W"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":31951815,"answer_count":4,"score":0,"last_activity_date":1667970242,"creation_date":1439326535,"question_id":31951765,"body_markdown":"I wrote some code today in VB6 which would get me the number of milliseconds since 1/1/1970, so I could then send the value off to a java application which would parse that value like &lt;code&gt;new Date(Long.parse(milliseconds))&lt;/code&gt;. I understand that the milliseconds the Date(Long) is looking for is the number of milliseconds since epoch in GMT. The machine I am running on is on CDT here in the US. When I get the toString value of the date parsed from the milliseconds, this is the value I get:\r\n\r\n    Tue Aug 11 15:40:50 CDT 2015\r\n\r\nIs the CDT just there because the local machines timezone is CDT? I just think its a little weird that the constructor for Date would assume that a date derived from the milliseconds since epoch in GMT would implicitly be in the local machines timezone, rather than being offset (in this case) by -5 hours.","title":"Java Date toString contains a timezone... Why?","body":"<p>I wrote some code today in VB6 which would get me the number of milliseconds since 1/1/1970, so I could then send the value off to a java application which would parse that value like <code>new Date(Long.parse(milliseconds))</code>. I understand that the milliseconds the Date(Long) is looking for is the number of milliseconds since epoch in GMT. The machine I am running on is on CDT here in the US. When I get the toString value of the date parsed from the milliseconds, this is the value I get:</p>\n\n<pre><code>Tue Aug 11 15:40:50 CDT 2015\n</code></pre>\n\n<p>Is the CDT just there because the local machines timezone is CDT? I just think its a little weird that the constructor for Date would assume that a date derived from the milliseconds since epoch in GMT would implicitly be in the local machines timezone, rather than being offset (in this case) by -5 hours.</p>\n"},{"tags":["java","hadoop","mapreduce"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667868651,"post_id":74351156,"comment_id":131265966,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":16324044,"reputation":11,"user_id":11789055,"display_name":"Herbert Br."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667969802,"creation_date":1667969802,"answer_id":74370082,"question_id":74351156,"body_markdown":"in the Energy Value Class class you need to override the to string method of the class, passing in your reducer the to_string, the way you are doing it you are passing the value of the object and not the string","title":"Hadoop map reduce for finding max hourly consumption based on cumulative energy reading","body":"<p>in the Energy Value Class class you need to override the to string method of the class, passing in your reducer the to_string, the way you are doing it you are passing the value of the object and not the string</p>\n"}],"owner":{"account_id":26859071,"reputation":1,"user_id":20442899,"display_name":"coder12345"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667969802,"creation_date":1667845266,"question_id":74351156,"body_markdown":"Determine the maximum hourly electricity consumption for all the housing units across\r\nall dates. Your processing should produce a single value.\r\n\r\nI have this sample data\r\n\r\n```\r\nLOG_ID\t   HOUSE_ID\tCONDATE\t    CONHOUR\tENERGY_READING\tFLAG\r\n\r\n3682572\t16\t2019-01-01\t 05:21:50\t11143.735496\t0\r\n\r\n3682573\t16\t2019-01-01\t05:22:00\t11143.738274\t0\r\n\r\n3682574\t16\t2019-01-01\t05:22:10\t11143.741052\t0\r\n\r\n3682575\t16\t2019-01-01\t05:22:20\t11143.74383\t0\r\n\r\n3682576\t16\t2019-01-01\t05:22:30\t11143.746608\t0\r\n\r\n3682577\t16\t2019-01-01\t05:22:40\t11143.749386\t0\r\n\r\n3682578\t16\t2019-01-01\t05:22:50\t11143.752164\t0\r\n\r\n3682579\t16\t2019-01-01\t05:23:00\t11143.754942\t0\r\n\r\n3682580\t16\t2019-01-01\t05:23:10\t11143.75772\t0\r\n\r\n3682581\t16\t2019-01-01\t05:23:20\t11143.760498\t0\r\n\r\n3682582\t16\t2019-01-01\t05:23:30\t11143.763276\t0\r\n\r\n3682583\t16\t2019-01-01\t05:23:40\t11143.766054\t0\r\n\r\n3682584\t16\t2019-01-01\t05:23:50\t11143.768832\t0\r\n```\r\n\r\nthis is the sample data. where energy consumption is in cumulative. So here i want to find the max hourly consumption for each day.\r\n\r\nI tried:\r\nMapper Class\r\n\r\n\r\n\r\n```java\r\nimport org.apache.hadoop.io.*;\r\nimport org.apache.hadoop.mapreduce.Mapper;\r\nimport java.io.IOException;\r\n\r\npublic class EnergyMapper\r\n        extends Mapper&lt;LongWritable, Text, Text, FloatWritable&gt; {\r\n    @Override\r\n    protected void map(LongWritable key, Text value, Mapper.Context context) throws IOException, InterruptedException {\r\n        String[] values = value.toString().split(&quot;\\\\s+&quot;);\r\n        String date;\r\n\r\n        int houseId;\r\n        String time;\r\n        double energyReading;\r\n        EnergyValues ev;\r\n\r\n        try {\r\n            date = values[2];\r\n            houseId = Integer.parseInt(values[1]);\r\n            time = values[3];\r\n            energyReading = Double.parseDouble(values[4]);\r\n            ev = new EnergyValues(houseId,time,energyReading,date);\r\n        }\r\n        catch (Exception e){\r\n            date = &quot;NA&quot;;\r\n            ev = new EnergyValues();\r\n        }\r\n        context.write(new Text(date), ev);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nReducer Class\r\n\r\n\r\n\r\n```java\r\nimport org.apache.hadoop.io.Text;\r\nimport org.apache.hadoop.mapreduce.Reducer;\r\nimport java.text.ParseException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\nimport java.io.IOException;\r\n\r\n\r\npublic class EnergyReducer extends Reducer&lt;Text, EnergyValues, Text, EnergyValues&gt; {\r\n    @Override\r\n    protected void reduce(Text key, Iterable&lt;EnergyValues&gt; sales, Context context)\r\n            throws IOException, InterruptedException {\r\n        String Data = &quot;&quot;;\r\n     //   int i = 0;\r\n        double  Consumption = 0.0D;\r\n        double  minConsumption = 0.0D;\r\n        double  MaxConsumption = 0.0D;\r\n\r\n        for (EnergyValues amount: sales) {\r\n\r\n            //maxConsumption =\r\n\r\n            try {\r\n                minConsumption = getHourlyComp(key,sales,amount.getTime());\r\n            } catch (ParseException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n            Consumption = minConsumption - amount.getEnergyReading() ;\r\n            System.out.println(&quot;outside function +++++++++++++++++++++++++&quot;);\r\n            System.out.println(amount.getEnergyReading() );\r\n\r\n\r\n            MaxConsumption = Math.max(MaxConsumption, Consumption);\r\n\r\n            Data =  amount.getHouseId()+&quot;,&quot;+ &quot;,&quot;+ amount.getTime() + &quot;,&quot; + amount.getEnergyReading();\r\n        }\r\n\r\n\r\n        context.write(new Text(String.valueOf(MaxConsumption)), new EnergyValues(Data));\r\n\r\n    }\r\n\r\n    public double getHourlyComp(Text key, Iterable&lt;EnergyValues&gt; sales, String time)throws ParseException{\r\n\r\n        float maxConsumption = 0.0F;\r\n\r\n        for (EnergyValues amount: sales) {\r\n\r\n               // String hours = time.substring(0, 2);\r\n\r\n               // if (hours != &quot;23&quot;){\r\n                    if (key.toString() == amount.getDate()) {\r\n\r\n                        String myTime = time;\r\n                        SimpleDateFormat df = new SimpleDateFormat(&quot;HH:MM:SS&quot;);\r\n                        Date d = df.parse(myTime);\r\n                        Calendar cal = Calendar.getInstance();\r\n                        cal.setTime(d);\r\n                        cal.add(Calendar.HOUR, 1);\r\n                        String newTime = df.format(cal.getTime());\r\n\r\n                        if (newTime == amount.getTime()) {\r\n                            System.out.println(&quot;Inside function ----------------------&quot;);\r\n                            System.out.println(amount.getEnergyReading() );\r\n                            return amount.getEnergyReading();\r\n                        }\r\n                    }\r\n          //  }\r\n\r\n        }\r\n        return 0;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nENergy Value class\r\n\r\n```java\r\nimport org.apache.hadoop.io.Writable;\r\n\r\nimport java.io.DataInput;\r\nimport java.io.DataOutput;\r\nimport java.io.IOException;\r\n\r\npublic class EnergyValues implements Writable {\r\n    int houseId;\r\n    String time;\r\n    double energyReading;\r\n    String date;\r\n\r\n    String data;\r\n\r\n    public EnergyValues(){\r\n        this.houseId = 0;\r\n        this.time = &quot;&quot;;\r\n        this.energyReading =0.0;\r\n        this.date = &quot;&quot;;\r\n    }\r\n    public EnergyValues( String value2) {\r\n        this.data = value2;\r\n        }\r\n    public EnergyValues(int val1, String val2, double val3,String val4) {\r\n        this.houseId = val1;\r\n        this.time = val2;\r\n        this.energyReading = val3;\r\n        this.date =val4;\r\n    }\r\n\r\n    public int getHouseId() {\r\n        return houseId;\r\n    }\r\n\r\n    public String getTime() {return time; }\r\n\r\n    public double getEnergyReading(){return energyReading;}\r\n\r\n    public String getDate(){return date;}\r\n\r\n    @Override\r\n    public void write(DataOutput dataOutput) throws IOException {\r\n        dataOutput.writeInt(houseId);\r\n        dataOutput.writeChars(time);\r\n        dataOutput.writeDouble(energyReading);\r\n        dataOutput.writeChars(date);\r\n    }\r\n\r\n    @Override\r\n    public void readFields(DataInput dataInput) throws IOException {\r\n        houseId = dataInput.readInt();\r\n        time = String.valueOf(dataInput.readChar());\r\n        energyReading = dataInput.readDouble();\r\n        date = String.valueOf(dataInput.readChar());\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\nBut when i run this, i get this results\r\n\r\n```\r\n\r\n0.0     EnergyValues@f79a760\r\n\r\n0.0     EnergyValues@14f5da2c\r\n\r\n0.0     EnergyValues@239b0f9d\r\n\r\n0.0     EnergyValues@619bfe29\r\n\r\n0.0     EnergyValues@1eb6749b\r\n\r\n0.0     EnergyValues@652a7737\r\n\r\n0.0     EnergyValues@2bef51f2\r\n\r\n0.0     EnergyValues@650eab8\r\n```","title":"Hadoop map reduce for finding max hourly consumption based on cumulative energy reading","body":"<p>Determine the maximum hourly electricity consumption for all the housing units across\nall dates. Your processing should produce a single value.</p>\n<p>I have this sample data</p>\n<pre><code>LOG_ID     HOUSE_ID CONDATE     CONHOUR ENERGY_READING  FLAG\n\n3682572 16  2019-01-01   05:21:50   11143.735496    0\n\n3682573 16  2019-01-01  05:22:00    11143.738274    0\n\n3682574 16  2019-01-01  05:22:10    11143.741052    0\n\n3682575 16  2019-01-01  05:22:20    11143.74383 0\n\n3682576 16  2019-01-01  05:22:30    11143.746608    0\n\n3682577 16  2019-01-01  05:22:40    11143.749386    0\n\n3682578 16  2019-01-01  05:22:50    11143.752164    0\n\n3682579 16  2019-01-01  05:23:00    11143.754942    0\n\n3682580 16  2019-01-01  05:23:10    11143.75772 0\n\n3682581 16  2019-01-01  05:23:20    11143.760498    0\n\n3682582 16  2019-01-01  05:23:30    11143.763276    0\n\n3682583 16  2019-01-01  05:23:40    11143.766054    0\n\n3682584 16  2019-01-01  05:23:50    11143.768832    0\n</code></pre>\n<p>this is the sample data. where energy consumption is in cumulative. So here i want to find the max hourly consumption for each day.</p>\n<p>I tried:\nMapper Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.hadoop.io.*;\nimport org.apache.hadoop.mapreduce.Mapper;\nimport java.io.IOException;\n\npublic class EnergyMapper\n        extends Mapper&lt;LongWritable, Text, Text, FloatWritable&gt; {\n    @Override\n    protected void map(LongWritable key, Text value, Mapper.Context context) throws IOException, InterruptedException {\n        String[] values = value.toString().split(&quot;\\\\s+&quot;);\n        String date;\n\n        int houseId;\n        String time;\n        double energyReading;\n        EnergyValues ev;\n\n        try {\n            date = values[2];\n            houseId = Integer.parseInt(values[1]);\n            time = values[3];\n            energyReading = Double.parseDouble(values[4]);\n            ev = new EnergyValues(houseId,time,energyReading,date);\n        }\n        catch (Exception e){\n            date = &quot;NA&quot;;\n            ev = new EnergyValues();\n        }\n        context.write(new Text(date), ev);\n    }\n}\n</code></pre>\n<p>Reducer Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Reducer;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.io.IOException;\n\n\npublic class EnergyReducer extends Reducer&lt;Text, EnergyValues, Text, EnergyValues&gt; {\n    @Override\n    protected void reduce(Text key, Iterable&lt;EnergyValues&gt; sales, Context context)\n            throws IOException, InterruptedException {\n        String Data = &quot;&quot;;\n     //   int i = 0;\n        double  Consumption = 0.0D;\n        double  minConsumption = 0.0D;\n        double  MaxConsumption = 0.0D;\n\n        for (EnergyValues amount: sales) {\n\n            //maxConsumption =\n\n            try {\n                minConsumption = getHourlyComp(key,sales,amount.getTime());\n            } catch (ParseException e) {\n                throw new RuntimeException(e);\n            }\n\n            Consumption = minConsumption - amount.getEnergyReading() ;\n            System.out.println(&quot;outside function +++++++++++++++++++++++++&quot;);\n            System.out.println(amount.getEnergyReading() );\n\n\n            MaxConsumption = Math.max(MaxConsumption, Consumption);\n\n            Data =  amount.getHouseId()+&quot;,&quot;+ &quot;,&quot;+ amount.getTime() + &quot;,&quot; + amount.getEnergyReading();\n        }\n\n\n        context.write(new Text(String.valueOf(MaxConsumption)), new EnergyValues(Data));\n\n    }\n\n    public double getHourlyComp(Text key, Iterable&lt;EnergyValues&gt; sales, String time)throws ParseException{\n\n        float maxConsumption = 0.0F;\n\n        for (EnergyValues amount: sales) {\n\n               // String hours = time.substring(0, 2);\n\n               // if (hours != &quot;23&quot;){\n                    if (key.toString() == amount.getDate()) {\n\n                        String myTime = time;\n                        SimpleDateFormat df = new SimpleDateFormat(&quot;HH:MM:SS&quot;);\n                        Date d = df.parse(myTime);\n                        Calendar cal = Calendar.getInstance();\n                        cal.setTime(d);\n                        cal.add(Calendar.HOUR, 1);\n                        String newTime = df.format(cal.getTime());\n\n                        if (newTime == amount.getTime()) {\n                            System.out.println(&quot;Inside function ----------------------&quot;);\n                            System.out.println(amount.getEnergyReading() );\n                            return amount.getEnergyReading();\n                        }\n                    }\n          //  }\n\n        }\n        return 0;\n    }\n}\n\n\n</code></pre>\n<p>ENergy Value class</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.hadoop.io.Writable;\n\nimport java.io.DataInput;\nimport java.io.DataOutput;\nimport java.io.IOException;\n\npublic class EnergyValues implements Writable {\n    int houseId;\n    String time;\n    double energyReading;\n    String date;\n\n    String data;\n\n    public EnergyValues(){\n        this.houseId = 0;\n        this.time = &quot;&quot;;\n        this.energyReading =0.0;\n        this.date = &quot;&quot;;\n    }\n    public EnergyValues( String value2) {\n        this.data = value2;\n        }\n    public EnergyValues(int val1, String val2, double val3,String val4) {\n        this.houseId = val1;\n        this.time = val2;\n        this.energyReading = val3;\n        this.date =val4;\n    }\n\n    public int getHouseId() {\n        return houseId;\n    }\n\n    public String getTime() {return time; }\n\n    public double getEnergyReading(){return energyReading;}\n\n    public String getDate(){return date;}\n\n    @Override\n    public void write(DataOutput dataOutput) throws IOException {\n        dataOutput.writeInt(houseId);\n        dataOutput.writeChars(time);\n        dataOutput.writeDouble(energyReading);\n        dataOutput.writeChars(date);\n    }\n\n    @Override\n    public void readFields(DataInput dataInput) throws IOException {\n        houseId = dataInput.readInt();\n        time = String.valueOf(dataInput.readChar());\n        energyReading = dataInput.readDouble();\n        date = String.valueOf(dataInput.readChar());\n    }\n\n\n}\n\n\n\n</code></pre>\n<p>But when i run this, i get this results</p>\n<pre><code>\n0.0     EnergyValues@f79a760\n\n0.0     EnergyValues@14f5da2c\n\n0.0     EnergyValues@239b0f9d\n\n0.0     EnergyValues@619bfe29\n\n0.0     EnergyValues@1eb6749b\n\n0.0     EnergyValues@652a7737\n\n0.0     EnergyValues@2bef51f2\n\n0.0     EnergyValues@650eab8\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1667935120,"post_id":74366028,"comment_id":131285554,"body_markdown":"Anchor pane is just not the correct approach here. Use a combination of (probably) Border Pane, Grid Panes, HBoxes and VBoxes. Any time you are using Anchor Pane and/or hard-coding sizes or layout positions, you are explicitly choosing not to make your layout responsive.","body":"Anchor pane is just not the correct approach here. Use a combination of (probably) Border Pane, Grid Panes, HBoxes and VBoxes. Any time you are using Anchor Pane and/or hard-coding sizes or layout positions, you are explicitly choosing not to make your layout responsive."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1667935229,"post_id":74366028,"comment_id":131285584,"body_markdown":"My guess is what you&#39;re seeing is the background of the VBox, and the Anchor Pane is not filling the VBox. But this is just the wrong approach to start with.","body":"My guess is what you&#39;re seeing is the background of the VBox, and the Anchor Pane is not filling the VBox. But this is just the wrong approach to start with."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1667942964,"post_id":74366028,"comment_id":131287903,"body_markdown":"See if the ideas from https://stackoverflow.com/questions/46453780/javafx-how-i-can-bind-a-stage-with-screen-resolution/46455368#46455368 will help.","body":"See if the ideas from <a href=\"https://stackoverflow.com/questions/46453780/javafx-how-i-can-bind-a-stage-with-screen-resolution/46455368#46455368\" title=\"javafx how i can bind a stage with screen resolution\">stackoverflow.com/questions/46453780/&hellip;</a> will help."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667969382,"creation_date":1667944348,"answer_id":74367570,"question_id":74366028,"body_markdown":"I created a version of your `FXML` file. Try to incorporate the ideas from this answer into your Layout.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;!-- &lt;?import com.gluonhq.charm.glisten.control.TextField?&gt; --&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.ComboBox?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.TableColumn?&gt;\r\n&lt;?import javafx.scene.control.TableView?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.StackPane?&gt;\r\n&lt;?import javafx.scene.layout.VBox?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;VBox alignment=&quot;CENTER&quot; prefHeight=&quot;720.0&quot; prefWidth=&quot;1080.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.maxxplusapi.controller.ActvityPlannerController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;StackPane maxHeight=&quot;55.0&quot; minHeight=&quot;43.0&quot; style=&quot;-fx-background-color: #2e4b75;&quot; /&gt;\r\n      &lt;VBox prefHeight=&quot;200.0&quot; prefWidth=&quot;100.0&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\r\n         &lt;children&gt;\r\n            &lt;Label alignment=&quot;CENTER&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Aktivit&#228;tsplaner &quot;&gt;\r\n               &lt;font&gt;\r\n                  &lt;Font size=&quot;36.0&quot; /&gt;\r\n               &lt;/font&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets top=&quot;10.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/Label&gt;\r\n            &lt;TextField fx:id=&quot;reminderDesc&quot; promptText=&quot;Erinnerungsnachricht&quot; style=&quot;-fx-border-color: black;&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;300.0&quot; right=&quot;300.0&quot; top=&quot;15.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;TextField fx:id=&quot;txtRemarks&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;388.0&quot; promptText=&quot;Remarks&quot; style=&quot;-fx-border-color: black;&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;300.0&quot; right=&quot;300.0&quot; top=&quot;15.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;HBox&gt;\r\n               &lt;children&gt;\r\n                  &lt;TextField fx:id=&quot;beginTime&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;172.0&quot; promptText=&quot;Beginnzeit&quot; style=&quot;-fx-border-color: black;&quot; /&gt;\r\n                  &lt;Label alignment=&quot;CENTER_RIGHT&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Intervall&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\r\n                     &lt;HBox.margin&gt;\r\n                        &lt;Insets right=&quot;5.0&quot; /&gt;\r\n                     &lt;/HBox.margin&gt;\r\n                  &lt;/Label&gt;\r\n                  &lt;ComboBox fx:id=&quot;cycleComboBox&quot; prefWidth=&quot;150.0&quot; style=&quot;-fx-border-color: black;&quot; /&gt;\r\n               &lt;/children&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;300.0&quot; right=&quot;300.0&quot; top=&quot;15.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/HBox&gt;\r\n            &lt;Label maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Projekt Bereich&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;300.0&quot; right=&quot;300.0&quot; top=&quot;15.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/Label&gt;\r\n            &lt;ComboBox fx:id=&quot;projectComboBox&quot; maxWidth=&quot;1.7976931348623157E308&quot; style=&quot;-fx-border-color: black;&quot;&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets left=&quot;300.0&quot; right=&quot;300.0&quot; top=&quot;15.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/ComboBox&gt;\r\n            &lt;HBox alignment=&quot;CENTER&quot; maxWidth=&quot;1.7976931348623157E308&quot; spacing=&quot;5.0&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;Button fx:id=&quot;updateButton&quot; mnemonicParsing=&quot;false&quot; onMouseClicked=&quot;#Edit&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;92.0&quot; text=&quot;Update&quot; /&gt;\r\n                  &lt;Button contentDisplay=&quot;CENTER&quot; mnemonicParsing=&quot;false&quot; onMouseClicked=&quot;#DeleteData&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;92.0&quot; text=&quot;Delete&quot; /&gt;\r\n                  &lt;Button mnemonicParsing=&quot;false&quot; onMouseClicked=&quot;#clearFields&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;92.0&quot; text=&quot;Clear&quot; /&gt;\r\n               &lt;/children&gt;\r\n               &lt;padding&gt;\r\n                  &lt;Insets left=&quot;300.0&quot; right=&quot;300.0&quot; top=&quot;15.0&quot; /&gt;\r\n               &lt;/padding&gt;\r\n            &lt;/HBox&gt;\r\n            &lt;TableView fx:id=&quot;tableViewBooking&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; onMouseClicked=&quot;#getSelected&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\r\n               &lt;columns&gt;\r\n                  &lt;TableColumn fx:id=&quot;tableID&quot; editable=&quot;false&quot; prefWidth=&quot;76.800048828125&quot; text=&quot;id&quot; /&gt;\r\n                  &lt;TableColumn fx:id=&quot;tableColName&quot; editable=&quot;false&quot; prefWidth=&quot;104.79997253417969&quot; text=&quot;Erinnerung&quot; /&gt;\r\n                  &lt;TableColumn fx:id=&quot;tableColRemarks&quot; editable=&quot;false&quot; prefWidth=&quot;104.79997253417969&quot; text=&quot;Remarks&quot; /&gt;\r\n                  &lt;TableColumn fx:id=&quot;tableColProject&quot; editable=&quot;false&quot; prefWidth=&quot;104.79997253417969&quot; text=&quot;Projekt&quot; /&gt;\r\n                  &lt;TableColumn fx:id=&quot;tableColDate&quot; editable=&quot;false&quot; prefWidth=&quot;83.20001220703125&quot; text=&quot;Begin Datum&quot; /&gt;\r\n                  &lt;TableColumn fx:id=&quot;tableColHours&quot; editable=&quot;false&quot; prefWidth=&quot;66.39996337890625&quot; text=&quot;Stunde&quot; /&gt;\r\n                  &lt;TableColumn fx:id=&quot;tableColType&quot; editable=&quot;false&quot; prefWidth=&quot;71.20001220703125&quot; text=&quot;Intervall&quot; /&gt;\r\n                  &lt;TableColumn fx:id=&quot;tableColSTime&quot; editable=&quot;false&quot; prefWidth=&quot;76.800048828125&quot; text=&quot;Begin Zeit&quot; /&gt;\r\n                  &lt;TableColumn fx:id=&quot;tableColETime&quot; editable=&quot;false&quot; prefWidth=&quot;76.800048828125&quot; text=&quot;End Zeit&quot; /&gt;\r\n               &lt;/columns&gt;\r\n               &lt;VBox.margin&gt;\r\n                  &lt;Insets bottom=&quot;10.0&quot; left=&quot;150.0&quot; right=&quot;150.0&quot; top=&quot;25.0&quot; /&gt;\r\n               &lt;/VBox.margin&gt;\r\n            &lt;/TableView&gt;\r\n         &lt;/children&gt;\r\n      &lt;/VBox&gt;\r\n   &lt;/children&gt;\r\n&lt;/VBox&gt;\r\n```\r\n\r\n 1. Save this as an `FXML` file to your machine. \r\n 2. Open it using SceneBuilder.\r\n 3. Press control+p after it opens in SceneBuilder.\r\n 4. Test by minimizing and maximizing the screen.\r\n","title":"How to make AnchorPane size responsive to the maximized screen view","body":"<p>I created a version of your <code>FXML</code> file. Try to incorporate the ideas from this answer into your Layout.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!-- &lt;?import com.gluonhq.charm.glisten.control.TextField?&gt; --&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ComboBox?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;VBox alignment=&quot;CENTER&quot; prefHeight=&quot;720.0&quot; prefWidth=&quot;1080.0&quot; xmlns=&quot;http://javafx.com/javafx/18&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.maxxplusapi.controller.ActvityPlannerController&quot;&gt;\n   &lt;children&gt;\n      &lt;StackPane maxHeight=&quot;55.0&quot; minHeight=&quot;43.0&quot; style=&quot;-fx-background-color: #2e4b75;&quot; /&gt;\n      &lt;VBox prefHeight=&quot;200.0&quot; prefWidth=&quot;100.0&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\n         &lt;children&gt;\n            &lt;Label alignment=&quot;CENTER&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Aktivitätsplaner &quot;&gt;\n               &lt;font&gt;\n                  &lt;Font size=&quot;36.0&quot; /&gt;\n               &lt;/font&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets top=&quot;10.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/Label&gt;\n            &lt;TextField fx:id=&quot;reminderDesc&quot; promptText=&quot;Erinnerungsnachricht&quot; style=&quot;-fx-border-color: black;&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;300.0&quot; right=&quot;300.0&quot; top=&quot;15.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/TextField&gt;\n            &lt;TextField fx:id=&quot;txtRemarks&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;388.0&quot; promptText=&quot;Remarks&quot; style=&quot;-fx-border-color: black;&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;300.0&quot; right=&quot;300.0&quot; top=&quot;15.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/TextField&gt;\n            &lt;HBox&gt;\n               &lt;children&gt;\n                  &lt;TextField fx:id=&quot;beginTime&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;172.0&quot; promptText=&quot;Beginnzeit&quot; style=&quot;-fx-border-color: black;&quot; /&gt;\n                  &lt;Label alignment=&quot;CENTER_RIGHT&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Intervall&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\n                     &lt;HBox.margin&gt;\n                        &lt;Insets right=&quot;5.0&quot; /&gt;\n                     &lt;/HBox.margin&gt;\n                  &lt;/Label&gt;\n                  &lt;ComboBox fx:id=&quot;cycleComboBox&quot; prefWidth=&quot;150.0&quot; style=&quot;-fx-border-color: black;&quot; /&gt;\n               &lt;/children&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;300.0&quot; right=&quot;300.0&quot; top=&quot;15.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/HBox&gt;\n            &lt;Label maxWidth=&quot;1.7976931348623157E308&quot; text=&quot;Projekt Bereich&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;300.0&quot; right=&quot;300.0&quot; top=&quot;15.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/Label&gt;\n            &lt;ComboBox fx:id=&quot;projectComboBox&quot; maxWidth=&quot;1.7976931348623157E308&quot; style=&quot;-fx-border-color: black;&quot;&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets left=&quot;300.0&quot; right=&quot;300.0&quot; top=&quot;15.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/ComboBox&gt;\n            &lt;HBox alignment=&quot;CENTER&quot; maxWidth=&quot;1.7976931348623157E308&quot; spacing=&quot;5.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;Button fx:id=&quot;updateButton&quot; mnemonicParsing=&quot;false&quot; onMouseClicked=&quot;#Edit&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;92.0&quot; text=&quot;Update&quot; /&gt;\n                  &lt;Button contentDisplay=&quot;CENTER&quot; mnemonicParsing=&quot;false&quot; onMouseClicked=&quot;#DeleteData&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;92.0&quot; text=&quot;Delete&quot; /&gt;\n                  &lt;Button mnemonicParsing=&quot;false&quot; onMouseClicked=&quot;#clearFields&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;92.0&quot; text=&quot;Clear&quot; /&gt;\n               &lt;/children&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;300.0&quot; right=&quot;300.0&quot; top=&quot;15.0&quot; /&gt;\n               &lt;/padding&gt;\n            &lt;/HBox&gt;\n            &lt;TableView fx:id=&quot;tableViewBooking&quot; maxHeight=&quot;1.7976931348623157E308&quot; maxWidth=&quot;1.7976931348623157E308&quot; onMouseClicked=&quot;#getSelected&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\n               &lt;columns&gt;\n                  &lt;TableColumn fx:id=&quot;tableID&quot; editable=&quot;false&quot; prefWidth=&quot;76.800048828125&quot; text=&quot;id&quot; /&gt;\n                  &lt;TableColumn fx:id=&quot;tableColName&quot; editable=&quot;false&quot; prefWidth=&quot;104.79997253417969&quot; text=&quot;Erinnerung&quot; /&gt;\n                  &lt;TableColumn fx:id=&quot;tableColRemarks&quot; editable=&quot;false&quot; prefWidth=&quot;104.79997253417969&quot; text=&quot;Remarks&quot; /&gt;\n                  &lt;TableColumn fx:id=&quot;tableColProject&quot; editable=&quot;false&quot; prefWidth=&quot;104.79997253417969&quot; text=&quot;Projekt&quot; /&gt;\n                  &lt;TableColumn fx:id=&quot;tableColDate&quot; editable=&quot;false&quot; prefWidth=&quot;83.20001220703125&quot; text=&quot;Begin Datum&quot; /&gt;\n                  &lt;TableColumn fx:id=&quot;tableColHours&quot; editable=&quot;false&quot; prefWidth=&quot;66.39996337890625&quot; text=&quot;Stunde&quot; /&gt;\n                  &lt;TableColumn fx:id=&quot;tableColType&quot; editable=&quot;false&quot; prefWidth=&quot;71.20001220703125&quot; text=&quot;Intervall&quot; /&gt;\n                  &lt;TableColumn fx:id=&quot;tableColSTime&quot; editable=&quot;false&quot; prefWidth=&quot;76.800048828125&quot; text=&quot;Begin Zeit&quot; /&gt;\n                  &lt;TableColumn fx:id=&quot;tableColETime&quot; editable=&quot;false&quot; prefWidth=&quot;76.800048828125&quot; text=&quot;End Zeit&quot; /&gt;\n               &lt;/columns&gt;\n               &lt;VBox.margin&gt;\n                  &lt;Insets bottom=&quot;10.0&quot; left=&quot;150.0&quot; right=&quot;150.0&quot; top=&quot;25.0&quot; /&gt;\n               &lt;/VBox.margin&gt;\n            &lt;/TableView&gt;\n         &lt;/children&gt;\n      &lt;/VBox&gt;\n   &lt;/children&gt;\n&lt;/VBox&gt;\n</code></pre>\n<ol>\n<li>Save this as an <code>FXML</code> file to your machine.</li>\n<li>Open it using SceneBuilder.</li>\n<li>Press control+p after it opens in SceneBuilder.</li>\n<li>Test by minimizing and maximizing the screen.</li>\n</ol>\n"}],"owner":{"account_id":21733462,"reputation":5,"user_id":16041815,"display_name":"Cicada3301"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74367570,"answer_count":1,"score":-1,"last_activity_date":1667969382,"creation_date":1667934759,"question_id":74366028,"body_markdown":"I don&#39;t know what is the grey area and how to extend my `Anchorpane` to all over the screen\r\n[Image][1]\r\n\r\nthe not unmaximized view is this [image2][2]\r\n\r\nMy Fxml is a bit messy with alot of an Anchorpanes but it was out of my hand.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;!-- &lt;?import com.gluonhq.charm.glisten.control.TextField?&gt; --&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.ComboBox?&gt;\r\n    &lt;?import javafx.scene.control.DatePicker?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.TableColumn?&gt;\r\n    &lt;?import javafx.scene.control.TableView?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    &lt;?import javafx.scene.text.Text?&gt;\r\n    \r\n    &lt;VBox alignment=&quot;CENTER&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.maxxplusapi.controller.ActvityPlannerController&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot;&gt;\r\n             &lt;children&gt;\r\n                &lt;AnchorPane style=&quot;-fx-background-color: white;&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n                   &lt;children&gt;\r\n                      &lt;TextField fx:id=&quot;beginTime&quot; layoutX=&quot;256.0&quot; layoutY=&quot;189.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;172.0&quot; promptText=&quot;Beginnzeit&quot; style=&quot;-fx-border-color: black;&quot; /&gt;\r\n                      &lt;TextField fx:id=&quot;endTime&quot; layoutX=&quot;472.0&quot; layoutY=&quot;189.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;172.0&quot; promptText=&quot;Endzeit&quot; style=&quot;-fx-border-color: black;&quot; /&gt;\r\n                      &lt;TextField fx:id=&quot;reminderDesc&quot; layoutX=&quot;255.0&quot; layoutY=&quot;104.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;388.0&quot; promptText=&quot;Erinnerungsnachricht&quot; style=&quot;-fx-border-color: black;&quot; /&gt;\r\n                      &lt;TextField fx:id=&quot;txtRemarks&quot; layoutX=&quot;255.0&quot; layoutY=&quot;145.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;388.0&quot; promptText=&quot;Remarks&quot; style=&quot;-fx-border-color: black;&quot; /&gt;\r\n                      &lt;Button fx:id=&quot;saveButton&quot; layoutX=&quot;309.0&quot; layoutY=&quot;357.0&quot; mnemonicParsing=&quot;false&quot; onMouseClicked=&quot;#addData&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;92.0&quot; style=&quot;-fx-border-color: black;&quot; text=&quot;Speichern&quot; /&gt;\r\n                      &lt;AnchorPane&gt;\r\n                         &lt;children&gt;\r\n                            &lt;AnchorPane layoutY=&quot;-8.0&quot; prefHeight=&quot;43.0&quot; prefWidth=&quot;925.0&quot; style=&quot;-fx-background-color: #2e4b75;&quot;/&gt;\r\n                         &lt;/children&gt;\r\n                      &lt;/AnchorPane&gt;\r\n                      &lt;Label layoutX=&quot;446.0&quot; layoutY=&quot;243.0&quot; text=&quot;Intervall&quot; /&gt;\r\n                      &lt;Label layoutX=&quot;252.0&quot; layoutY=&quot;280.0&quot; text=&quot;Projekt Bereich&quot; /&gt;\r\n                      &lt;ComboBox fx:id=&quot;cycleComboBox&quot; layoutX=&quot;494.0&quot; layoutY=&quot;238.0&quot; prefWidth=&quot;150.0&quot; style=&quot;-fx-border-color: black;&quot; /&gt;\r\n                      &lt;ComboBox fx:id=&quot;projectComboBox&quot; layoutX=&quot;252.0&quot; layoutY=&quot;304.0&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;388.0&quot; style=&quot;-fx-border-color: black;&quot; /&gt;\r\n                      &lt;Button fx:id=&quot;updateButton&quot; layoutX=&quot;309.0&quot; layoutY=&quot;357.0&quot; mnemonicParsing=&quot;false&quot; onMouseClicked=&quot;#Edit&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;92.0&quot; text=&quot;Update&quot; /&gt;\r\n                      &lt;Text layoutX=&quot;225.0&quot; layoutY=&quot;85.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Aktivit&#228;tsplaner &quot; textAlignment=&quot;CENTER&quot; wrappingWidth=&quot;452.7265625&quot;&gt;\r\n                         &lt;font&gt;\r\n                            &lt;Font name=&quot;System Bold&quot; size=&quot;36.0&quot; /&gt;\r\n                         &lt;/font&gt;\r\n                      &lt;/Text&gt;\r\n                      &lt;Button contentDisplay=&quot;CENTER&quot; layoutX=&quot;404.0&quot; layoutY=&quot;357.0&quot; mnemonicParsing=&quot;false&quot; onMouseClicked=&quot;#DeleteData&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;92.0&quot; text=&quot;Delete&quot; /&gt;\r\n                      &lt;TableView fx:id=&quot;tableViewBooking&quot; layoutX=&quot;104.0&quot; layoutY=&quot;403.0&quot; onMouseClicked=&quot;#getSelected&quot; prefHeight=&quot;238.0&quot; prefWidth=&quot;694.0&quot;&gt;\r\n                        &lt;columns&gt;\r\n                          &lt;TableColumn fx:id=&quot;tableID&quot; editable=&quot;false&quot; prefWidth=&quot;76.800048828125&quot; text=&quot;id&quot; /&gt;\r\n                          &lt;TableColumn fx:id=&quot;tableColName&quot; editable=&quot;false&quot; prefWidth=&quot;104.79997253417969&quot; text=&quot;Erinnerung&quot; /&gt;\r\n                           &lt;TableColumn fx:id=&quot;tableColRemarks&quot; editable=&quot;false&quot; prefWidth=&quot;104.79997253417969&quot; text=&quot;Remarks&quot; /&gt;\r\n                           &lt;TableColumn fx:id=&quot;tableColProject&quot; editable=&quot;false&quot; prefWidth=&quot;104.79997253417969&quot; text=&quot;Projekt&quot; /&gt;\r\n                          &lt;TableColumn fx:id=&quot;tableColDate&quot; editable=&quot;false&quot; prefWidth=&quot;83.20001220703125&quot; text=&quot;Begin Datum&quot; /&gt;\r\n                          &lt;TableColumn fx:id=&quot;tableColHours&quot; editable=&quot;false&quot; prefWidth=&quot;66.39996337890625&quot; text=&quot;Stunde&quot; /&gt;  \r\n                           &lt;TableColumn fx:id=&quot;tableColType&quot; editable=&quot;false&quot; prefWidth=&quot;71.20001220703125&quot; text=&quot;Intervall&quot; /&gt;\r\n                          &lt;TableColumn fx:id=&quot;tableColSTime&quot; editable=&quot;false&quot; prefWidth=&quot;76.800048828125&quot; text=&quot;Begin Zeit&quot; /&gt;   \r\n                          &lt;TableColumn fx:id=&quot;tableColETime&quot; editable=&quot;false&quot; prefWidth=&quot;76.800048828125&quot; text=&quot;End Zeit&quot; /&gt;\r\n                          \r\n                          &lt;!--&lt;TableColumn fx:id=&quot;tableColProj&quot; prefWidth=&quot;75.0&quot; text=&quot;Projekt&quot; /&gt; --&gt;\r\n                        &lt;/columns&gt;\r\n                      &lt;/TableView&gt;\r\n                      &lt;DatePicker fx:id=&quot;beginDate&quot; layoutX=&quot;253.0&quot; layoutY=&quot;239.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;172.0&quot; promptText=&quot;Begindatum&quot; /&gt;\r\n                      &lt;DatePicker fx:id=&quot;endDate&quot; layoutX=&quot;441.0&quot; layoutY=&quot;239.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;172.0&quot; promptText=&quot;Enddatum&quot; visible=&quot;false&quot; /&gt;\r\n                      &lt;Button layoutX=&quot;500.0&quot; layoutY=&quot;357.0&quot; mnemonicParsing=&quot;false&quot; onMouseClicked=&quot;#clearFields&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;92.0&quot; text=&quot;Clear&quot; /&gt;\r\n                   &lt;/children&gt;\r\n                &lt;/AnchorPane&gt;\r\n             &lt;/children&gt;\r\n          &lt;/AnchorPane&gt;\r\n       &lt;/children&gt;\r\n    &lt;/VBox&gt;\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m5HqA.png\r\n  [2]: https://i.stack.imgur.com/14QC3.png\r\n\r\nI tried using AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot; on my child AnchorPane but didn&#39;t work","title":"How to make AnchorPane size responsive to the maximized screen view","body":"<p>I don't know what is the grey area and how to extend my <code>Anchorpane</code> to all over the screen\n<a href=\"https://i.stack.imgur.com/m5HqA.png\" rel=\"nofollow noreferrer\">Image</a></p>\n<p>the not unmaximized view is this <a href=\"https://i.stack.imgur.com/14QC3.png\" rel=\"nofollow noreferrer\">image2</a></p>\n<p>My Fxml is a bit messy with alot of an Anchorpanes but it was out of my hand.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!-- &lt;?import com.gluonhq.charm.glisten.control.TextField?&gt; --&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ComboBox?&gt;\n&lt;?import javafx.scene.control.DatePicker?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import javafx.scene.text.Text?&gt;\n\n&lt;VBox alignment=&quot;CENTER&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.maxxplusapi.controller.ActvityPlannerController&quot;&gt;\n   &lt;children&gt;\n      &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot;&gt;\n         &lt;children&gt;\n            &lt;AnchorPane style=&quot;-fx-background-color: white;&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n               &lt;children&gt;\n                  &lt;TextField fx:id=&quot;beginTime&quot; layoutX=&quot;256.0&quot; layoutY=&quot;189.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;172.0&quot; promptText=&quot;Beginnzeit&quot; style=&quot;-fx-border-color: black;&quot; /&gt;\n                  &lt;TextField fx:id=&quot;endTime&quot; layoutX=&quot;472.0&quot; layoutY=&quot;189.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;172.0&quot; promptText=&quot;Endzeit&quot; style=&quot;-fx-border-color: black;&quot; /&gt;\n                  &lt;TextField fx:id=&quot;reminderDesc&quot; layoutX=&quot;255.0&quot; layoutY=&quot;104.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;388.0&quot; promptText=&quot;Erinnerungsnachricht&quot; style=&quot;-fx-border-color: black;&quot; /&gt;\n                  &lt;TextField fx:id=&quot;txtRemarks&quot; layoutX=&quot;255.0&quot; layoutY=&quot;145.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;388.0&quot; promptText=&quot;Remarks&quot; style=&quot;-fx-border-color: black;&quot; /&gt;\n                  &lt;Button fx:id=&quot;saveButton&quot; layoutX=&quot;309.0&quot; layoutY=&quot;357.0&quot; mnemonicParsing=&quot;false&quot; onMouseClicked=&quot;#addData&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;92.0&quot; style=&quot;-fx-border-color: black;&quot; text=&quot;Speichern&quot; /&gt;\n                  &lt;AnchorPane&gt;\n                     &lt;children&gt;\n                        &lt;AnchorPane layoutY=&quot;-8.0&quot; prefHeight=&quot;43.0&quot; prefWidth=&quot;925.0&quot; style=&quot;-fx-background-color: #2e4b75;&quot;/&gt;\n                     &lt;/children&gt;\n                  &lt;/AnchorPane&gt;\n                  &lt;Label layoutX=&quot;446.0&quot; layoutY=&quot;243.0&quot; text=&quot;Intervall&quot; /&gt;\n                  &lt;Label layoutX=&quot;252.0&quot; layoutY=&quot;280.0&quot; text=&quot;Projekt Bereich&quot; /&gt;\n                  &lt;ComboBox fx:id=&quot;cycleComboBox&quot; layoutX=&quot;494.0&quot; layoutY=&quot;238.0&quot; prefWidth=&quot;150.0&quot; style=&quot;-fx-border-color: black;&quot; /&gt;\n                  &lt;ComboBox fx:id=&quot;projectComboBox&quot; layoutX=&quot;252.0&quot; layoutY=&quot;304.0&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;388.0&quot; style=&quot;-fx-border-color: black;&quot; /&gt;\n                  &lt;Button fx:id=&quot;updateButton&quot; layoutX=&quot;309.0&quot; layoutY=&quot;357.0&quot; mnemonicParsing=&quot;false&quot; onMouseClicked=&quot;#Edit&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;92.0&quot; text=&quot;Update&quot; /&gt;\n                  &lt;Text layoutX=&quot;225.0&quot; layoutY=&quot;85.0&quot; strokeType=&quot;OUTSIDE&quot; strokeWidth=&quot;0.0&quot; text=&quot;Aktivitätsplaner &quot; textAlignment=&quot;CENTER&quot; wrappingWidth=&quot;452.7265625&quot;&gt;\n                     &lt;font&gt;\n                        &lt;Font name=&quot;System Bold&quot; size=&quot;36.0&quot; /&gt;\n                     &lt;/font&gt;\n                  &lt;/Text&gt;\n                  &lt;Button contentDisplay=&quot;CENTER&quot; layoutX=&quot;404.0&quot; layoutY=&quot;357.0&quot; mnemonicParsing=&quot;false&quot; onMouseClicked=&quot;#DeleteData&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;92.0&quot; text=&quot;Delete&quot; /&gt;\n                  &lt;TableView fx:id=&quot;tableViewBooking&quot; layoutX=&quot;104.0&quot; layoutY=&quot;403.0&quot; onMouseClicked=&quot;#getSelected&quot; prefHeight=&quot;238.0&quot; prefWidth=&quot;694.0&quot;&gt;\n                    &lt;columns&gt;\n                      &lt;TableColumn fx:id=&quot;tableID&quot; editable=&quot;false&quot; prefWidth=&quot;76.800048828125&quot; text=&quot;id&quot; /&gt;\n                      &lt;TableColumn fx:id=&quot;tableColName&quot; editable=&quot;false&quot; prefWidth=&quot;104.79997253417969&quot; text=&quot;Erinnerung&quot; /&gt;\n                       &lt;TableColumn fx:id=&quot;tableColRemarks&quot; editable=&quot;false&quot; prefWidth=&quot;104.79997253417969&quot; text=&quot;Remarks&quot; /&gt;\n                       &lt;TableColumn fx:id=&quot;tableColProject&quot; editable=&quot;false&quot; prefWidth=&quot;104.79997253417969&quot; text=&quot;Projekt&quot; /&gt;\n                      &lt;TableColumn fx:id=&quot;tableColDate&quot; editable=&quot;false&quot; prefWidth=&quot;83.20001220703125&quot; text=&quot;Begin Datum&quot; /&gt;\n                      &lt;TableColumn fx:id=&quot;tableColHours&quot; editable=&quot;false&quot; prefWidth=&quot;66.39996337890625&quot; text=&quot;Stunde&quot; /&gt;  \n                       &lt;TableColumn fx:id=&quot;tableColType&quot; editable=&quot;false&quot; prefWidth=&quot;71.20001220703125&quot; text=&quot;Intervall&quot; /&gt;\n                      &lt;TableColumn fx:id=&quot;tableColSTime&quot; editable=&quot;false&quot; prefWidth=&quot;76.800048828125&quot; text=&quot;Begin Zeit&quot; /&gt;   \n                      &lt;TableColumn fx:id=&quot;tableColETime&quot; editable=&quot;false&quot; prefWidth=&quot;76.800048828125&quot; text=&quot;End Zeit&quot; /&gt;\n                      \n                      &lt;!--&lt;TableColumn fx:id=&quot;tableColProj&quot; prefWidth=&quot;75.0&quot; text=&quot;Projekt&quot; /&gt; --&gt;\n                    &lt;/columns&gt;\n                  &lt;/TableView&gt;\n                  &lt;DatePicker fx:id=&quot;beginDate&quot; layoutX=&quot;253.0&quot; layoutY=&quot;239.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;172.0&quot; promptText=&quot;Begindatum&quot; /&gt;\n                  &lt;DatePicker fx:id=&quot;endDate&quot; layoutX=&quot;441.0&quot; layoutY=&quot;239.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;172.0&quot; promptText=&quot;Enddatum&quot; visible=&quot;false&quot; /&gt;\n                  &lt;Button layoutX=&quot;500.0&quot; layoutY=&quot;357.0&quot; mnemonicParsing=&quot;false&quot; onMouseClicked=&quot;#clearFields&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;92.0&quot; text=&quot;Clear&quot; /&gt;\n               &lt;/children&gt;\n            &lt;/AnchorPane&gt;\n         &lt;/children&gt;\n      &lt;/AnchorPane&gt;\n   &lt;/children&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p>I tried using AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot; on my child AnchorPane but didn't work</p>\n"},{"tags":["java","jboss","stream","connection","wildfly"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1567124432,"post_id":57704127,"comment_id":101879752,"body_markdown":"What version of Windows?  Windows 10, for example, is not meant as a server O/S and will have a lower limit than a Windows server O/S.","body":"What version of Windows?  Windows 10, for example, is not meant as a server O/S and will have a lower limit than a Windows server O/S."}],"answers":[{"tags":[],"owner":{"account_id":7637322,"reputation":4139,"user_id":5790498,"display_name":"Abhijeet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667968258,"creation_date":1567158868,"answer_id":57724515,"question_id":57704127,"body_markdown":"You can add `max-connections` connections attribute to `http-listner` tag. e.g.\r\n\r\n    &lt;http-listener name=&quot;default&quot; max-connections=&quot;1000&quot; socket-binding=&quot;http&quot; redirect-socket=&quot;https&quot; enable-http2=&quot;true&quot;/&gt;\r\n\r\nWith this you will be able to increase the maximum number of connections.\r\n\r\nNote: This actually limits connections, without the attribute the implication is &quot;unlimited&quot;","title":"How to increase the max connections, streams and threads in Wildfly?","body":"<p>You can add <code>max-connections</code> connections attribute to <code>http-listner</code> tag. e.g.</p>\n<pre><code>&lt;http-listener name=&quot;default&quot; max-connections=&quot;1000&quot; socket-binding=&quot;http&quot; redirect-socket=&quot;https&quot; enable-http2=&quot;true&quot;/&gt;\n</code></pre>\n<p>With this you will be able to increase the maximum number of connections.</p>\n<p>Note: This actually limits connections, without the attribute the implication is &quot;unlimited&quot;</p>\n"},{"tags":[],"owner":{"account_id":2138679,"reputation":18996,"user_id":1897870,"display_name":"Steve C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567851934,"creation_date":1567835162,"answer_id":57831043,"question_id":57704127,"body_markdown":"I believe that you are running out of connections because your `subscribe` method never returns because of that `while (true) { ... }` loop.\r\n\r\nThe following works for me:\r\n\r\n    @Singleton\r\n    @Path(&quot;&quot;)\r\n    public class BroadcastService {\r\n    \r\n        @Context\r\n        private Sse sse;\r\n    \r\n        private SseBroadcaster broadcaster;\r\n    \r\n        @PostConstruct\r\n        void initialise() {\r\n            this.broadcaster = sse.newBroadcaster();\r\n        }\r\n    \r\n        @PreDestroy\r\n        void shutdown() {\r\n            this.broadcaster.close();\r\n        }\r\n    \r\n        @GET\r\n        @Path(&quot;register&quot;)\r\n        @Produces(MediaType.SERVER_SENT_EVENTS)\r\n        public void subscribe(@Context SseEventSink sseEventSink) {\r\n            this.broadcaster.register(sseEventSink);\r\n        }\r\n        \r\n        @Schedule(second = &quot;*/5&quot;, minute = &quot;*&quot;, hour = &quot;*&quot;, persistent = false)\r\n        public void broadcastData() {\r\n            OutboundSseEvent sseEvent = this.sse.newEventBuilder()\r\n              .data(&quot;some data&quot;)\r\n              .reconnectDelay(3000)\r\n              .build();\r\n            this.broadcaster.broadcast(sseEvent);\r\n        }\r\n    }\r\n\r\nI tested with:\r\n\r\n    ab -c 2000 -n 4000 http://127.0.0.1:8080/sse-demo/register\r\n\r\nand was still able to:\r\n\r\n    curl http://127.0.0.1:8080/sse-demo/register\r\n    \r\n    \r\n    retry: 3000\r\n    data: some data\r\n    \r\n    retry: 3000\r\n    data: some data\r\n\r\n","title":"How to increase the max connections, streams and threads in Wildfly?","body":"<p>I believe that you are running out of connections because your <code>subscribe</code> method never returns because of that <code>while (true) { ... }</code> loop.</p>\n\n<p>The following works for me:</p>\n\n<pre><code>@Singleton\n@Path(\"\")\npublic class BroadcastService {\n\n    @Context\n    private Sse sse;\n\n    private SseBroadcaster broadcaster;\n\n    @PostConstruct\n    void initialise() {\n        this.broadcaster = sse.newBroadcaster();\n    }\n\n    @PreDestroy\n    void shutdown() {\n        this.broadcaster.close();\n    }\n\n    @GET\n    @Path(\"register\")\n    @Produces(MediaType.SERVER_SENT_EVENTS)\n    public void subscribe(@Context SseEventSink sseEventSink) {\n        this.broadcaster.register(sseEventSink);\n    }\n\n    @Schedule(second = \"*/5\", minute = \"*\", hour = \"*\", persistent = false)\n    public void broadcastData() {\n        OutboundSseEvent sseEvent = this.sse.newEventBuilder()\n          .data(\"some data\")\n          .reconnectDelay(3000)\n          .build();\n        this.broadcaster.broadcast(sseEvent);\n    }\n}\n</code></pre>\n\n<p>I tested with:</p>\n\n<pre><code>ab -c 2000 -n 4000 http://127.0.0.1:8080/sse-demo/register\n</code></pre>\n\n<p>and was still able to:</p>\n\n<pre><code>curl http://127.0.0.1:8080/sse-demo/register\n\n\nretry: 3000\ndata: some data\n\nretry: 3000\ndata: some data\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20215793,"reputation":41,"user_id":14826657,"display_name":"nowoe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1607987181,"creation_date":1607987181,"answer_id":65297806,"question_id":57704127,"body_markdown":"I think you are not facing a connection limit problem, but instead wildfly runs out of I/O threads. If you run an 8-core CPU, it would match your mentioned about 120 concurrent clients: from https://wildscribe.github.io/WildFly/18.0/subsystem/io/worker/index.html#attr-task-max-threads\r\n\r\n&gt; Specify the maximum number of threads for the worker task thread pool.If not set, default value used which is calculated by formula cpuCount * 16\r\n\r\n\r\nIncrease the value with jboss-cli.sh:\r\n\r\n    /subsystem=io/worker=default:write-attribute(name=task-max-threads, value=1024)\r\n\r\nOr in standalone.xml:\r\n\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:io:3.0&quot;&gt;\r\n        &lt;worker name=&quot;default&quot; task-max-threads=&quot;1024&quot;/&gt;\r\n        &lt;buffer-pool name=&quot;default&quot;/&gt;\r\n    &lt;/subsystem&gt;\r\n\r\n","title":"How to increase the max connections, streams and threads in Wildfly?","body":"<p>I think you are not facing a connection limit problem, but instead wildfly runs out of I/O threads. If you run an 8-core CPU, it would match your mentioned about 120 concurrent clients: from <a href=\"https://wildscribe.github.io/WildFly/18.0/subsystem/io/worker/index.html#attr-task-max-threads\" rel=\"nofollow noreferrer\">https://wildscribe.github.io/WildFly/18.0/subsystem/io/worker/index.html#attr-task-max-threads</a></p>\n<blockquote>\n<p>Specify the maximum number of threads for the worker task thread pool.If not set, default value used which is calculated by formula cpuCount * 16</p>\n</blockquote>\n<p>Increase the value with jboss-cli.sh:</p>\n<pre><code>/subsystem=io/worker=default:write-attribute(name=task-max-threads, value=1024)\n</code></pre>\n<p>Or in standalone.xml:</p>\n<pre><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:io:3.0&quot;&gt;\n    &lt;worker name=&quot;default&quot; task-max-threads=&quot;1024&quot;/&gt;\n    &lt;buffer-pool name=&quot;default&quot;/&gt;\n&lt;/subsystem&gt;\n</code></pre>\n"}],"owner":{"account_id":3916360,"reputation":159,"user_id":3240085,"accept_rate":64,"display_name":"uti.devel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7970,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1667968258,"creation_date":1567059697,"question_id":57704127,"body_markdown":"I&#39;m building a notification system which allows clients to connect to a web-server and then get notified by server side events. I currently use Wildfly 16.0 standalone (on Windows) as web-server. I got server side events working with the example code below.\r\n\r\n\r\n    @GET\r\n    @Path(&quot;register&quot;)\r\n    @Produces(&quot;text/event-stream&quot;)\r\n    public void subscribe(@Context SseEventSink sseEventSink,\r\n                          @HeaderParam(HttpHeaders.LAST_EVENT_ID_HEADER)) {\r\n\r\n        while (true) {\r\n\r\n            OutboundSseEvent sseEvent = this.eventBuilder\r\n                    .data(&quot;some data&quot;)\r\n                    .reconnectDelay(3000)\r\n                    .build();\r\n            CompletionStage&lt;?&gt; cs = sseEventSink.send(sseEvent);\r\n\r\n            cs.whenComplete((x, y) -&gt; {\r\n                System.out.println(&quot;Completed &quot; + x);\r\n                if (y != null) y.printStackTrace();\r\n            });\r\n\r\n\r\n            Thread.sleep(5 * 1000);\r\n\r\n        }\r\n        sseEventSink.close();\r\n    }\r\n\r\nThis solution is working for up to 120 connected clients with minimal server load, after that no new connections can be established. \r\n\r\nI use ApacheBench, Version 2.3 for testing. \r\n\r\n        ab -A 123:123 -c 120 -n 120 http://127.0.0.1:8080/\r\n\r\nIf i go higher than 120 concurrent connections no one else can connect. This seems to me, that there is an active connection or stream or thread limit in place. If one user disconnects, another than can connect. I tried to set max-connections on the http-listener in the standalone.xml. This had no effect. I than simply added a zero to every connection / thread / pool option i could find. Still, no change.\r\n\r\n\r\nWhere to look next?","title":"How to increase the max connections, streams and threads in Wildfly?","body":"<p>I'm building a notification system which allows clients to connect to a web-server and then get notified by server side events. I currently use Wildfly 16.0 standalone (on Windows) as web-server. I got server side events working with the example code below.</p>\n\n<pre><code>@GET\n@Path(\"register\")\n@Produces(\"text/event-stream\")\npublic void subscribe(@Context SseEventSink sseEventSink,\n                      @HeaderParam(HttpHeaders.LAST_EVENT_ID_HEADER)) {\n\n    while (true) {\n\n        OutboundSseEvent sseEvent = this.eventBuilder\n                .data(\"some data\")\n                .reconnectDelay(3000)\n                .build();\n        CompletionStage&lt;?&gt; cs = sseEventSink.send(sseEvent);\n\n        cs.whenComplete((x, y) -&gt; {\n            System.out.println(\"Completed \" + x);\n            if (y != null) y.printStackTrace();\n        });\n\n\n        Thread.sleep(5 * 1000);\n\n    }\n    sseEventSink.close();\n}\n</code></pre>\n\n<p>This solution is working for up to 120 connected clients with minimal server load, after that no new connections can be established. </p>\n\n<p>I use ApacheBench, Version 2.3 for testing. </p>\n\n<pre><code>    ab -A 123:123 -c 120 -n 120 http://127.0.0.1:8080/\n</code></pre>\n\n<p>If i go higher than 120 concurrent connections no one else can connect. This seems to me, that there is an active connection or stream or thread limit in place. If one user disconnects, another than can connect. I tried to set max-connections on the http-listener in the standalone.xml. This had no effect. I than simply added a zero to every connection / thread / pool option i could find. Still, no change.</p>\n\n<p>Where to look next?</p>\n"},{"tags":["java","android","xml","google-maps","google-maps-api-3"],"answers":[{"tags":[],"owner":{"account_id":4896710,"reputation":1488,"user_id":3946096,"accept_rate":71,"display_name":"Alexander N."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667967349,"creation_date":1667967349,"answer_id":74369876,"question_id":74346876,"body_markdown":"You would want to calculate point to polyline and have some tolerance for the range that you find acceptable based upon the projection that you are using to represent your data. Points near the poles will be actual closer than reported if you are using a traditional mercator or web mercator projection. Depending on your language, there is likely a library that already does this. Since I assume you are using the Google Maps API, there is a [Nearest Roads API][1] that you may find beneficial.\r\n\r\n\r\n  [1]: https://developers.google.com/maps/documentation/roads/nearest","title":"How to implement speed van feature like toll feature using Google Maps API","body":"<p>You would want to calculate point to polyline and have some tolerance for the range that you find acceptable based upon the projection that you are using to represent your data. Points near the poles will be actual closer than reported if you are using a traditional mercator or web mercator projection. Depending on your language, there is likely a library that already does this. Since I assume you are using the Google Maps API, there is a <a href=\"https://developers.google.com/maps/documentation/roads/nearest\" rel=\"nofollow noreferrer\">Nearest Roads API</a> that you may find beneficial.</p>\n"}],"owner":{"account_id":20205659,"reputation":49,"user_id":14820169,"display_name":"donny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74369876,"answer_count":1,"score":0,"last_activity_date":1667967349,"creation_date":1667825342,"question_id":74346876,"body_markdown":"I am creating a route planner application for my application I am using Google Maps API which allows me to use Google Maps in my application anyone who has used Google Maps know that when picking a route you want to take clicking on a specific route tells you how long it will take and if there is a toll on it (atleast for Ireland it comes up telling you where tolls are). For my route planner application I want to tell the user that this route could have a speed van on it. I also want to be able to tell the user that a speed van is coming up slow down. I am wondering how could I implement these features I have a csv file for where the speed vans are. \r\n\r\n","title":"How to implement speed van feature like toll feature using Google Maps API","body":"<p>I am creating a route planner application for my application I am using Google Maps API which allows me to use Google Maps in my application anyone who has used Google Maps know that when picking a route you want to take clicking on a specific route tells you how long it will take and if there is a toll on it (atleast for Ireland it comes up telling you where tolls are). For my route planner application I want to tell the user that this route could have a speed van on it. I also want to be able to tell the user that a speed van is coming up slow down. I am wondering how could I implement these features I have a csv file for where the speed vans are.</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":8985379,"reputation":325,"user_id":6699096,"display_name":"某某某"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667967283,"creation_date":1667967283,"answer_id":74369866,"question_id":74368565,"body_markdown":"using [access](https://docs.spring.io/spring-security/reference/servlet/authorization/expression-based.html) with SpEL\r\n\r\n```java\r\nhttp\r\n\t\t\t\t.authorizeRequests()\r\n\t\t\t\t.antMatchers(HttpMethod.valueOf(&quot;POST&quot;), &quot;/api/something&quot;)\r\n\t\t\t\t.access(&quot;hasIpAddress(&#39;172.17.0.0/24&#39;) or isAuthenticated()&quot;)\r\n\r\n```","title":"How to check for authenticated() or hasIpAddress for the same antMatcher()?","body":"<p>using <a href=\"https://docs.spring.io/spring-security/reference/servlet/authorization/expression-based.html\" rel=\"nofollow noreferrer\">access</a> with SpEL</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n                .authorizeRequests()\n                .antMatchers(HttpMethod.valueOf(&quot;POST&quot;), &quot;/api/something&quot;)\n                .access(&quot;hasIpAddress('172.17.0.0/24') or isAuthenticated()&quot;)\n\n</code></pre>\n"}],"owner":{"account_id":12849806,"reputation":310,"user_id":9295062,"display_name":"Jucaalpa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74369866,"answer_count":1,"score":0,"last_activity_date":1667967283,"creation_date":1667952439,"question_id":74368565,"body_markdown":"I am trying to configure Sprint Security to check if the user is authenticated **or** if the request comes from a specific IP subnet.\r\n\r\nI wrote the following code that is not working as expected:\r\n\r\n```\r\nprotected void configure(HttpSecurity http) throws Exception {\r\n    http.authorizeRequests().antMatchers(HttpMethod.valueOf(&quot;POST&quot;), &quot;/api/something&quot;).authenticated();\r\n    http.authorizeRequests().antMatchers(HttpMethod.valueOf(&quot;POST&quot;), &quot;/api/something&quot;).hasIpAddress(&quot;172.17.0.0/24&quot;);\r\n  }\r\n```\r\n\r\nEach configuration works individually, but I don&#39;t know how to put them together using an **OR** operator.\r\n\r\nThe problem is that the second configuration overrides the first one.\r\n\r\nIs there a way to achieve this?\r\n\r\nThank you","title":"How to check for authenticated() or hasIpAddress for the same antMatcher()?","body":"<p>I am trying to configure Sprint Security to check if the user is authenticated <strong>or</strong> if the request comes from a specific IP subnet.</p>\n<p>I wrote the following code that is not working as expected:</p>\n<pre><code>protected void configure(HttpSecurity http) throws Exception {\n    http.authorizeRequests().antMatchers(HttpMethod.valueOf(&quot;POST&quot;), &quot;/api/something&quot;).authenticated();\n    http.authorizeRequests().antMatchers(HttpMethod.valueOf(&quot;POST&quot;), &quot;/api/something&quot;).hasIpAddress(&quot;172.17.0.0/24&quot;);\n  }\n</code></pre>\n<p>Each configuration works individually, but I don't know how to put them together using an <strong>OR</strong> operator.</p>\n<p>The problem is that the second configuration overrides the first one.</p>\n<p>Is there a way to achieve this?</p>\n<p>Thank you</p>\n"},{"tags":["java","hibernate","servlets","dao"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1427623072,"creation_date":1427623072,"answer_id":29327771,"question_id":29327519,"body_markdown":"Your mapping makes no sense. A category has several posts, but the post&#39;s ID, which uniquely identifies the post, is (according to your mapping) also the ID of the category it belongs to:\r\n\r\n    @ManyToOne(optional = false)\r\n    @JoinColumn(name = &quot;ID&quot;, insertable=false, updatable=false)\r\n    private Category category;\r\n\r\nYou need some CATEGORY_ID column in Post, and that column should be the JoinColumn of the ManyToOne association.","title":"org.hibernate.ObjectNotFoundException: No row with the given identifier exists","body":"<p>Your mapping makes no sense. A category has several posts, but the post's ID, which uniquely identifies the post, is (according to your mapping) also the ID of the category it belongs to:</p>\n\n<pre><code>@ManyToOne(optional = false)\n@JoinColumn(name = \"ID\", insertable=false, updatable=false)\nprivate Category category;\n</code></pre>\n\n<p>You need some CATEGORY_ID column in Post, and that column should be the JoinColumn of the ManyToOne association.</p>\n"},{"tags":[],"owner":{"account_id":12559838,"reputation":23,"user_id":9138049,"display_name":"shalika range"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667966888,"creation_date":1667966888,"answer_id":74369827,"question_id":29327519,"body_markdown":"Are you missing referential integrity? Does your Category table contain rows where CategoryId has a value but that value doesn&#39;t exist in the id column of the Post table? If there are rows like that, delete them (they&#39;re corrupt), add referential integrity (foreign key from Category.postId to post.id), and try again","title":"org.hibernate.ObjectNotFoundException: No row with the given identifier exists","body":"<p>Are you missing referential integrity? Does your Category table contain rows where CategoryId has a value but that value doesn't exist in the id column of the Post table? If there are rows like that, delete them (they're corrupt), add referential integrity (foreign key from Category.postId to post.id), and try again</p>\n"}],"owner":{"account_id":5756146,"reputation":137,"user_id":4544016,"accept_rate":100,"display_name":"asdascascaedfa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10131,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29327771,"answer_count":2,"score":2,"last_activity_date":1667966888,"creation_date":1427621187,"question_id":29327519,"body_markdown":"I&#39;m learning javaEE. Before I put the annotation `OneToMany` and `ManyToOne` is everything working well. But then I see this error: \r\n\r\n&gt; INFO: HHH000327: Error performing load command :\r\n&gt; org.hibernate.ObjectNotFoundException: No row with the given\r\n&gt; identifier exists: [app.web.landingpage.object.Category#28]\r\n&gt; getIndexPost org.hibernate.ObjectNotFoundException: No row with the\r\n&gt; given identifier exists: [app.web.landingpage.object.Category#28]\r\n\r\nI can&#39;t select all information on db or insert. I use pattern DAO, Hibernate\r\n\r\n\r\n**Category**\r\n\r\n        @Entity\r\n        @Table(name=&quot;CATEGORY&quot;)\r\n        public class Category {\r\n        \t\r\n        \t@Id @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n        \t@Column(name = &quot;ID&quot;, insertable=false, nullable=false)\r\n        \tprivate int id;\r\n        \r\n        \t@Column(name=&quot;NAMECAT&quot;) \r\n        \tprivate String nameCat;\r\n        \t\r\n        \t@Column(name=&quot;INDEX&quot;) \r\n        \tprivate boolean index;\r\n        \t\r\n        \t@OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;category&quot;)\r\n        \tprivate Set&lt;Posts&gt; post;\r\n    //then get and set\r\n\r\n**Posts**\r\n\r\n    @Entity(name=&quot;Posts&quot;)\r\n    @Table(name=&quot;POSTS&quot;)\r\n    public class Posts implements java.io.Serializable{\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t@Id @GeneratedValue\r\n    \t@Column(name = &quot;ID&quot;, unique = true, nullable = false)\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(name=&quot;NAMEPOST&quot;, nullable = false) \r\n    \tprivate String namePost;\r\n    \t\r\n    \t@Column(name=&quot;TEXT&quot;, nullable = false) \r\n    \tprivate String text;\r\n    \t\r\n    \t@Column(name=&quot;IDCAT&quot;, nullable = false, insertable=false, updatable=false) \r\n    \tprivate int idCat;\r\n    \t\r\n    \t@ManyToOne(optional = false)\r\n    \t@JoinColumn(name = &quot;ID&quot;, insertable=false, updatable=false)\r\n    \tprivate Category category;\r\n    //then get and set\r\n\r\n*interface* **CategoryDao**\r\n\r\n    public interface CategoryDao {\r\n    \tpublic Collection getAllCategory();\r\n    }\r\n\r\n*interface* **PostDao**\r\n\r\n    public interface PostDao {\r\n       public Collection getIndexPost();\r\n    }\r\n\r\n**CategoryDaoImpl**\r\n\r\n    public Collection getAllCategory() {\r\n    \t\tSession session = null;\r\n    \t\tList categoris = new ArrayList&lt;Category&gt;();\r\n    \t\ttry{\r\n    \t\t\tsession = HibernateUtil.getSessionFactory().openSession();\r\n    \t\t\tcategoris = session.createCriteria(Category.class).list();\r\n    \t\t}catch(Exception e) {\r\n    \t\t\tSystem.out.println(&quot;getAllCategory &quot;+ e);\r\n    \t\t}finally{\r\n    \t\t\tif(session != null &amp;&amp; session.isOpen())\r\n    \t\t\t\tsession.close();\r\n    \t\t}\r\n    \t\treturn categoris;\r\n    \t}\r\n\r\n**PostDaoImpl**\r\n\r\n    public Collection getIndexPost() {\r\n    \t\tList&lt;Posts&gt; posts = null;\r\n    \t\tSession session = null;\r\n    \t\ttry{\r\n    \t\t\tsession = HibernateUtil.getSessionFactory().openSession();\r\n    \t\t\tSQLQuery q = (SQLQuery) \r\n    \t\t\t\t\tsession.createSQLQuery(&quot;select p.* from posts p join category c on c.index=1&quot;);\r\n    \t\t\tq.addEntity(Posts.class);\r\n    \t\t\tposts = q.list();\r\n    \t\t} catch(Exception e) { outputError(&quot;getIndexPost&quot;, e);\r\n    \t\t} finally{ closeSession(session); }\r\n    \t\treturn posts;\r\n    \t}\r\n\r\nAnd this **servlet** outputs category and posts\r\n\r\n \r\n\r\n    Session session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n        \t\tsession.beginTransaction();\r\n        \t\t\r\n        \t\ttry{\r\n    //get all category\r\n        \t\t\tCollection allcategory = Factory.getInstance().getCatDAO().getAllCategory();\r\n    //get all post\r\n        \t\t\tCollection allpost = Factory.getInstance().getPostDAO().getIndexPost();\r\n        \t\t\t\r\n        \t\t\trequest.setAttribute(&quot;allcategory&quot;, allcategory);\r\n        \t\t\trequest.setAttribute(&quot;allpost&quot;, allpost);\r\n        \t\t\t\r\n        \t\t\trequest.getRequestDispatcher(&quot;/index.jsp&quot;).forward(request, response); \r\n        \t\t} catch(Exception e) { \r\n        \t\t\tSystem.out.println(e);\r\n        \t\t} finally{\r\n        \t\t\tif(session!=null &amp;&amp; session.isOpen())\r\n        \t\t\t\tsession.close();\r\n        \t\t}\r\n\r\n______________________________________________________________________\r\n**UPD:**\r\n\r\nnow output information fine, but i cant add in **posts** column **idCat**\r\nbefore i add posts like this:\r\n\r\n        String[] catarrayid = request.getParameterValues(&quot;eachcat&quot;);//get cat what user use\r\n        \t\tString textpost = request.getParameter(&quot;textpost&quot;); //text post\r\n        \t\tString namepost = request.getParameter(&quot;namepost&quot;); //name post\r\n        \t\t\r\n        \t\tif(!textpost.isEmpty() &amp;&amp; !namepost.isEmpty() &amp;&amp; catarrayid!=null) {\r\n    //open session    \t\t\t\r\n    Session session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n        \t\t\tsession.beginTransaction();\r\n        \t\t\t\r\n        \t\t\tPosts post = new Posts();\r\n    //this value take id category    \t\t\t\r\n    int id = 0;\r\n        \t\t\tfor(String s : catarrayid) {\r\n        \t\t\t\tid = Integer.parseInt(s);\r\n        \t\t\t}\r\n        \t\t\t\r\n    //create post object \r\n        \t\t\tpost.setnamePost(namepost);\r\n        \t\t\tpost.setText(textpost);\r\n    //this i add in table post value idCat    \t\t\t\r\n    post.setIdCat(id);\r\n        \t\t\t\r\n        \t\t\ttry{\r\n    //and i add\r\n        \t\t\t\tFactory.getInstance().getPostDAO().addPost(post);\r\n        \t\t\t\tresponse.sendRedirect(&quot;indexadmin&quot;);\r\n        \t\t\t}catch(Exception e) {\r\n        \t\t\t\tSystem.out.println(e);\r\n        \t\t\t}finally{\r\n        \t\t\t\tif(session!=null &amp;&amp; session.isOpen())\r\n        \t\t\t\t\tsession.close();\r\n        \t\t\t}\r\n\r\nbut now i change **Posts** like this\r\n\r\n    @Id @GeneratedValue\r\n    \t@Column(name = &quot;ID&quot;, unique = true, nullable = false)\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(name=&quot;NAMEPOST&quot;, nullable = false) \r\n    \tprivate String namePost;\r\n    \t\r\n    \t@Column(name=&quot;TEXT&quot;, nullable = false) \r\n    \tprivate String text;\r\n    \t\r\n    \t@ManyToOne(fetch=FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;IDCAT&quot;, insertable=false, updatable=false)\r\n    \tprivate Category category;\r\n\r\nand i dont know how add in post value idCat. In table post(id, namePost, Text, idCat). Category(id, nameCat)\r\nI try but not success","title":"org.hibernate.ObjectNotFoundException: No row with the given identifier exists","body":"<p>I'm learning javaEE. Before I put the annotation <code>OneToMany</code> and <code>ManyToOne</code> is everything working well. But then I see this error: </p>\n\n<blockquote>\n  <p>INFO: HHH000327: Error performing load command :\n  org.hibernate.ObjectNotFoundException: No row with the given\n  identifier exists: [app.web.landingpage.object.Category#28]\n  getIndexPost org.hibernate.ObjectNotFoundException: No row with the\n  given identifier exists: [app.web.landingpage.object.Category#28]</p>\n</blockquote>\n\n<p>I can't select all information on db or insert. I use pattern DAO, Hibernate</p>\n\n<p><strong>Category</strong></p>\n\n<pre><code>    @Entity\n    @Table(name=\"CATEGORY\")\n    public class Category {\n\n        @Id @GeneratedValue(strategy=GenerationType.IDENTITY)\n        @Column(name = \"ID\", insertable=false, nullable=false)\n        private int id;\n\n        @Column(name=\"NAMECAT\") \n        private String nameCat;\n\n        @Column(name=\"INDEX\") \n        private boolean index;\n\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = \"category\")\n        private Set&lt;Posts&gt; post;\n//then get and set\n</code></pre>\n\n<p><strong>Posts</strong></p>\n\n<pre><code>@Entity(name=\"Posts\")\n@Table(name=\"POSTS\")\npublic class Posts implements java.io.Serializable{\n    private static final long serialVersionUID = 1L;\n\n    @Id @GeneratedValue\n    @Column(name = \"ID\", unique = true, nullable = false)\n    private int id;\n\n    @Column(name=\"NAMEPOST\", nullable = false) \n    private String namePost;\n\n    @Column(name=\"TEXT\", nullable = false) \n    private String text;\n\n    @Column(name=\"IDCAT\", nullable = false, insertable=false, updatable=false) \n    private int idCat;\n\n    @ManyToOne(optional = false)\n    @JoinColumn(name = \"ID\", insertable=false, updatable=false)\n    private Category category;\n//then get and set\n</code></pre>\n\n<p><em>interface</em> <strong>CategoryDao</strong></p>\n\n<pre><code>public interface CategoryDao {\n    public Collection getAllCategory();\n}\n</code></pre>\n\n<p><em>interface</em> <strong>PostDao</strong></p>\n\n<pre><code>public interface PostDao {\n   public Collection getIndexPost();\n}\n</code></pre>\n\n<p><strong>CategoryDaoImpl</strong></p>\n\n<pre><code>public Collection getAllCategory() {\n        Session session = null;\n        List categoris = new ArrayList&lt;Category&gt;();\n        try{\n            session = HibernateUtil.getSessionFactory().openSession();\n            categoris = session.createCriteria(Category.class).list();\n        }catch(Exception e) {\n            System.out.println(\"getAllCategory \"+ e);\n        }finally{\n            if(session != null &amp;&amp; session.isOpen())\n                session.close();\n        }\n        return categoris;\n    }\n</code></pre>\n\n<p><strong>PostDaoImpl</strong></p>\n\n<pre><code>public Collection getIndexPost() {\n        List&lt;Posts&gt; posts = null;\n        Session session = null;\n        try{\n            session = HibernateUtil.getSessionFactory().openSession();\n            SQLQuery q = (SQLQuery) \n                    session.createSQLQuery(\"select p.* from posts p join category c on c.index=1\");\n            q.addEntity(Posts.class);\n            posts = q.list();\n        } catch(Exception e) { outputError(\"getIndexPost\", e);\n        } finally{ closeSession(session); }\n        return posts;\n    }\n</code></pre>\n\n<p>And this <strong>servlet</strong> outputs category and posts</p>\n\n<pre><code>Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n            session.beginTransaction();\n\n            try{\n//get all category\n                Collection allcategory = Factory.getInstance().getCatDAO().getAllCategory();\n//get all post\n                Collection allpost = Factory.getInstance().getPostDAO().getIndexPost();\n\n                request.setAttribute(\"allcategory\", allcategory);\n                request.setAttribute(\"allpost\", allpost);\n\n                request.getRequestDispatcher(\"/index.jsp\").forward(request, response); \n            } catch(Exception e) { \n                System.out.println(e);\n            } finally{\n                if(session!=null &amp;&amp; session.isOpen())\n                    session.close();\n            }\n</code></pre>\n\n<hr>\n\n<p><strong>UPD:</strong></p>\n\n<p>now output information fine, but i cant add in <strong>posts</strong> column <strong>idCat</strong>\nbefore i add posts like this:</p>\n\n<pre><code>    String[] catarrayid = request.getParameterValues(\"eachcat\");//get cat what user use\n            String textpost = request.getParameter(\"textpost\"); //text post\n            String namepost = request.getParameter(\"namepost\"); //name post\n\n            if(!textpost.isEmpty() &amp;&amp; !namepost.isEmpty() &amp;&amp; catarrayid!=null) {\n//open session              \nSession session = HibernateUtil.getSessionFactory().getCurrentSession();\n                session.beginTransaction();\n\n                Posts post = new Posts();\n//this value take id category               \nint id = 0;\n                for(String s : catarrayid) {\n                    id = Integer.parseInt(s);\n                }\n\n//create post object \n                post.setnamePost(namepost);\n                post.setText(textpost);\n//this i add in table post value idCat              \npost.setIdCat(id);\n\n                try{\n//and i add\n                    Factory.getInstance().getPostDAO().addPost(post);\n                    response.sendRedirect(\"indexadmin\");\n                }catch(Exception e) {\n                    System.out.println(e);\n                }finally{\n                    if(session!=null &amp;&amp; session.isOpen())\n                        session.close();\n                }\n</code></pre>\n\n<p>but now i change <strong>Posts</strong> like this</p>\n\n<pre><code>@Id @GeneratedValue\n    @Column(name = \"ID\", unique = true, nullable = false)\n    private int id;\n\n    @Column(name=\"NAMEPOST\", nullable = false) \n    private String namePost;\n\n    @Column(name=\"TEXT\", nullable = false) \n    private String text;\n\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name = \"IDCAT\", insertable=false, updatable=false)\n    private Category category;\n</code></pre>\n\n<p>and i dont know how add in post value idCat. In table post(id, namePost, Text, idCat). Category(id, nameCat)\nI try but not success</p>\n"},{"tags":["java","jwt","micronaut"],"comments":[{"owner":{"account_id":1900240,"reputation":336,"user_id":1716240,"display_name":"katoquro"},"score":0,"creation_date":1626414514,"post_id":68281703,"comment_id":120890986,"body_markdown":"May be you have wrong yaml path to some micronaut parameters...\nThis is from my prod setup of jwt but in *.properties format\n\n`micronaut.security.authentication=bearer\nmicronaut.security.token.jwt.signatures.secret.generator.secret=&quot;${JWT_GENERATOR_SIGNATURE_SECRET\\:unit_testing_jwt_generator_secret}&quot;\nmicronaut.security.token.jwt.generator.refresh-token.secret=&quot;${JWT_GENERATOR_REFRESH_SECRET\\:unit_testing_jwt_refresh_secret}&quot;`\n\nAnd refresh token should appear at least on login endpoint (and on refresh endpoint path from variable `micronaut.security.endpoints.oauth.path`).","body":"May be you have wrong yaml path to some micronaut parameters... This is from my prod setup of jwt but in *.properties format  <code>micronaut.security.authentication=bearer micronaut.security.token.jwt.signatures.secret.generator.sec&zwnj;&#8203;ret=&quot;${JWT_GENERATOR&zwnj;&#8203;_SIGNATURE_SECRET\\:u&zwnj;&#8203;nit_testing_jwt_gene&zwnj;&#8203;rator_secret}&quot; micronaut.security.token.jwt.generator.refresh-token.secret=&zwnj;&#8203;&quot;${JWT_GENERATOR_REF&zwnj;&#8203;RESH_SECRET\\:unit_te&zwnj;&#8203;sting_jwt_refresh_se&zwnj;&#8203;cret}&quot;</code>  And refresh token should appear at least on login endpoint (and on refresh endpoint path from variable <code>micronaut.security.endpoints.oauth.path</code>)."}],"answers":[{"tags":[],"owner":{"account_id":22184054,"reputation":11,"user_id":16427289,"display_name":"hedgehog&#39;s mind"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1626033931,"creation_date":1626033931,"answer_id":68339598,"question_id":68281703,"body_markdown":"You are probably missing an implementation of `RefreshTokenPersistence`.\r\n\r\nI&#39;d suggest you to read this section of micronaut&#39;s security docs: [https://micronaut-projects.github.io/micronaut-security/latest/guide/#refresh][1]\r\n\r\nHere is a very very naive implementation of the persistence unit. Please do not forget to add `@Singleton` to your implementation. I was missing exactly that, which was the reason why micronaut did not generate a refresh token at first in my own project.\r\n\r\n```\r\nimport io.micronaut.security.authentication.UserDetails;\r\nimport io.micronaut.security.token.event.RefreshTokenGeneratedEvent;\r\nimport io.micronaut.security.token.refresh.RefreshTokenPersistence;\r\nimport io.reactivex.BackpressureStrategy;\r\nimport io.reactivex.Flowable;\r\nimport org.reactivestreams.Publisher;\r\n\r\nimport javax.inject.Singleton;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@Singleton\r\npublic class MyRefreshTokenPersistence implements RefreshTokenPersistence {\r\n\r\n    private final Map&lt;String, UserDetails&gt; storage = new HashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public void persistToken(RefreshTokenGeneratedEvent event) {\r\n        storage.put(event.getRefreshToken(), event.getUserDetails());\r\n    }\r\n\r\n    @Override\r\n    public Publisher&lt;UserDetails&gt; getUserDetails(String refreshToken) {\r\n        return Flowable.create(emitter -&gt; {\r\n            final UserDetails userDetails = storage.get(refreshToken);\r\n            if ( userDetails != null ) {\r\n                emitter.onNext(userDetails);\r\n                emitter.onComplete();\r\n            } else {\r\n                emitter.onError(new IllegalArgumentException(&quot;refresh token unknown&quot;));\r\n            }\r\n        }, BackpressureStrategy.BUFFER);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://micronaut-projects.github.io/micronaut-security/latest/guide/#refresh","title":"Micronaut config not issuing a JWT refresh token","body":"<p>You are probably missing an implementation of <code>RefreshTokenPersistence</code>.</p>\n<p>I'd suggest you to read this section of micronaut's security docs: <a href=\"https://micronaut-projects.github.io/micronaut-security/latest/guide/#refresh\" rel=\"nofollow noreferrer\">https://micronaut-projects.github.io/micronaut-security/latest/guide/#refresh</a></p>\n<p>Here is a very very naive implementation of the persistence unit. Please do not forget to add <code>@Singleton</code> to your implementation. I was missing exactly that, which was the reason why micronaut did not generate a refresh token at first in my own project.</p>\n<pre><code>import io.micronaut.security.authentication.UserDetails;\nimport io.micronaut.security.token.event.RefreshTokenGeneratedEvent;\nimport io.micronaut.security.token.refresh.RefreshTokenPersistence;\nimport io.reactivex.BackpressureStrategy;\nimport io.reactivex.Flowable;\nimport org.reactivestreams.Publisher;\n\nimport javax.inject.Singleton;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Singleton\npublic class MyRefreshTokenPersistence implements RefreshTokenPersistence {\n\n    private final Map&lt;String, UserDetails&gt; storage = new HashMap&lt;&gt;();\n\n    @Override\n    public void persistToken(RefreshTokenGeneratedEvent event) {\n        storage.put(event.getRefreshToken(), event.getUserDetails());\n    }\n\n    @Override\n    public Publisher&lt;UserDetails&gt; getUserDetails(String refreshToken) {\n        return Flowable.create(emitter -&gt; {\n            final UserDetails userDetails = storage.get(refreshToken);\n            if ( userDetails != null ) {\n                emitter.onNext(userDetails);\n                emitter.onComplete();\n            } else {\n                emitter.onError(new IllegalArgumentException(&quot;refresh token unknown&quot;));\n            }\n        }, BackpressureStrategy.BUFFER);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23395999,"reputation":1,"user_id":17460014,"display_name":"Sanjeev Trivedi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637352703,"creation_date":1637352703,"answer_id":70040443,"question_id":68281703,"body_markdown":"I found this issue with Micronaut v3.1.4. It needs a class that implements RefreshTokenPersistence. This worked for me.\r\n\r\n\r\n\r\n    import io.micronaut.security.authentication.Authentication;\r\n    import io.micronaut.security.token.event.RefreshTokenGeneratedEvent;\r\n    import io.micronaut.security.token.refresh.RefreshTokenPersistence;\r\n    import jakarta.inject.Singleton;\r\n    import org.reactivestreams.Publisher;\r\n\r\n    @Singleton\r\n    public class CustomRefreshTokenPersistence implements RefreshTokenPersistence {\r\n    \r\n        @Override\r\n        public void persistToken(final RefreshTokenGeneratedEvent event) {\r\n       \r\n        }\r\n    \r\n        @Override\r\n        public Publisher&lt;Authentication&gt; getAuthentication(final String refreshToken) {\r\n            return null;\r\n        }\r\n    }\r\n","title":"Micronaut config not issuing a JWT refresh token","body":"<p>I found this issue with Micronaut v3.1.4. It needs a class that implements RefreshTokenPersistence. This worked for me.</p>\n<pre><code>import io.micronaut.security.authentication.Authentication;\nimport io.micronaut.security.token.event.RefreshTokenGeneratedEvent;\nimport io.micronaut.security.token.refresh.RefreshTokenPersistence;\nimport jakarta.inject.Singleton;\nimport org.reactivestreams.Publisher;\n\n@Singleton\npublic class CustomRefreshTokenPersistence implements RefreshTokenPersistence {\n\n    @Override\n    public void persistToken(final RefreshTokenGeneratedEvent event) {\n   \n    }\n\n    @Override\n    public Publisher&lt;Authentication&gt; getAuthentication(final String refreshToken) {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14312140,"reputation":1,"user_id":10338106,"display_name":"Rahul Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667966214,"creation_date":1667966062,"answer_id":74369743,"question_id":68281703,"body_markdown":"I feel your application.yml configurations are looking a little out of order to me. As the documents suggest it should have been something similar to as below.\r\n\r\n```\r\nmicronaut:\r\n  security:\r\n    authentication: bearer\r\n    token:\r\n      jwt:\r\n        signatures:\r\n          secret:\r\n            generator:\r\n              secret: &#39;&quot;${JWT_GENERATOR_SIGNATURE_SECRET:pleaseChangeThisSecretForANewOne}&quot;&#39;\r\n        generator:\r\n          refresh-token:\r\n            secret: &#39;&quot;${JWT_GENERATOR_SIGNATURE_SECRET:pleaseChangeThisSecretForANewOne}&quot;&#39;\r\n```\r\n\r\n***Link to the micronuat document:*** https://guides.micronaut.io/latest/micronaut-security-jwt-gradle-groovy.html","title":"Micronaut config not issuing a JWT refresh token","body":"<p>I feel your application.yml configurations are looking a little out of order to me. As the documents suggest it should have been something similar to as below.</p>\n<pre><code>micronaut:\n  security:\n    authentication: bearer\n    token:\n      jwt:\n        signatures:\n          secret:\n            generator:\n              secret: '&quot;${JWT_GENERATOR_SIGNATURE_SECRET:pleaseChangeThisSecretForANewOne}&quot;'\n        generator:\n          refresh-token:\n            secret: '&quot;${JWT_GENERATOR_SIGNATURE_SECRET:pleaseChangeThisSecretForANewOne}&quot;'\n</code></pre>\n<p><em><strong>Link to the micronuat document:</strong></em> <a href=\"https://guides.micronaut.io/latest/micronaut-security-jwt-gradle-groovy.html\" rel=\"nofollow noreferrer\">https://guides.micronaut.io/latest/micronaut-security-jwt-gradle-groovy.html</a></p>\n"}],"owner":{"account_id":2165459,"reputation":3660,"user_id":1918669,"accept_rate":56,"display_name":"Jacob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1064,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1667966214,"creation_date":1625642598,"question_id":68281703,"body_markdown":"I have the following config in my `application.yml`. According to the specs this should issue a refresh token besides the access token in the `JWT` response, but I get just the access token and not the refresh one. \r\n\r\nAm I missing something?\r\n\r\n    token:\r\n      jwt:\r\n        signatures:\r\n          secret:\r\n            generator:\r\n              refresh-token:\r\n                secret: &quot;${JWT_GENERATOR_SIGNATURE_SECRET:pleaseChangeThisSecretForANewOne}&quot;  \r\n              secret: &quot;${JWT_GENERATOR_SIGNATURE_SECRET:pleaseChangeThisSecretForANewOne}&quot;     ","title":"Micronaut config not issuing a JWT refresh token","body":"<p>I have the following config in my <code>application.yml</code>. According to the specs this should issue a refresh token besides the access token in the <code>JWT</code> response, but I get just the access token and not the refresh one.</p>\n<p>Am I missing something?</p>\n<pre><code>token:\n  jwt:\n    signatures:\n      secret:\n        generator:\n          refresh-token:\n            secret: &quot;${JWT_GENERATOR_SIGNATURE_SECRET:pleaseChangeThisSecretForANewOne}&quot;  \n          secret: &quot;${JWT_GENERATOR_SIGNATURE_SECRET:pleaseChangeThisSecretForANewOne}&quot;     \n</code></pre>\n"},{"tags":["java","maven","groovy"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1661152089,"post_id":73377499,"comment_id":129694598,"body_markdown":"Why `&lt;outputDirectory&gt;/&lt;/outputDirectory&gt;`?","body":"Why <code>&lt;outputDirectory&gt;&#47;&lt;&#47;outputDirectory&gt;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":14446626,"reputation":2578,"user_id":10435528,"display_name":"devatherock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667966175,"creation_date":1667966175,"answer_id":74369754,"question_id":73377499,"body_markdown":"Look like there are multiple problems here. First off, Groovy files need to be placed in `src/main/groovy` folder, not the `src/main/java` folder. Then, in the above `pom.xml`, the `groovy-maven-plugin` has been listed in the `dependencies` section - it should instead be listed in the `plugins` section. Also doesn&#39;t look like the [gmaven](https://github.com/groovy/gmaven) plugin is in active development, so I used the [GMavenPlus](https://github.com/groovy/GMavenPlus) plugin instead. The below `pom.xml` worked for me:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;dvalidator&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;maven-assembly-plugin.version&gt;2.2.2&lt;/maven-assembly-plugin.version&gt;\r\n        &lt;maven-resources-plugin.version&gt;2.5&lt;/maven-resources-plugin.version&gt;\r\n        &lt;maven-surefire-plugin.version&gt;2.22.2&lt;/maven-surefire-plugin.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.couchbase.client/java-client --&gt;\r\n       \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n          &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;addSources&lt;/goal&gt;\r\n                      &lt;goal&gt;addTestSources&lt;/goal&gt;\r\n                      &lt;goal&gt;generateStubs&lt;/goal&gt;\r\n                      &lt;goal&gt;compile&lt;/goal&gt;\r\n                      &lt;goal&gt;generateTestStubs&lt;/goal&gt;\r\n                      &lt;goal&gt;compileTests&lt;/goal&gt;\r\n                      &lt;goal&gt;removeStubs&lt;/goal&gt;\r\n                      &lt;goal&gt;removeTestStubs&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                            &lt;descriptors&gt;\r\n                                &lt;descriptor&gt;src/main/java/assembly/assembly.xml&lt;/descriptor&gt;\r\n                            &lt;/descriptors&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;descriptorRefs&gt;\r\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                            &lt;/descriptorRefs&gt;\r\n                            &lt;archive&gt;\r\n                            &lt;/archive&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-resources-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nYou can find a sample project on [github](https://github.com/devatherock/java-demo/tree/maven-groovy)","title":".class files missing in jar after maven build","body":"<p>Look like there are multiple problems here. First off, Groovy files need to be placed in <code>src/main/groovy</code> folder, not the <code>src/main/java</code> folder. Then, in the above <code>pom.xml</code>, the <code>groovy-maven-plugin</code> has been listed in the <code>dependencies</code> section - it should instead be listed in the <code>plugins</code> section. Also doesn't look like the <a href=\"https://github.com/groovy/gmaven\" rel=\"nofollow noreferrer\">gmaven</a> plugin is in active development, so I used the <a href=\"https://github.com/groovy/GMavenPlus\" rel=\"nofollow noreferrer\">GMavenPlus</a> plugin instead. The below <code>pom.xml</code> worked for me:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;dvalidator&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;maven-assembly-plugin.version&gt;2.2.2&lt;/maven-assembly-plugin.version&gt;\n        &lt;maven-resources-plugin.version&gt;2.5&lt;/maven-resources-plugin.version&gt;\n        &lt;maven-surefire-plugin.version&gt;2.22.2&lt;/maven-surefire-plugin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.couchbase.client/java-client --&gt;\n       \n        &lt;dependency&gt;\n          &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n          &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n          &lt;version&gt;2.5.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\n            &lt;version&gt;1.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.gmavenplus&lt;/groupId&gt;\n                &lt;artifactId&gt;gmavenplus-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.1.0&lt;/version&gt;\n                &lt;executions&gt;\n                  &lt;execution&gt;\n                    &lt;goals&gt;\n                      &lt;goal&gt;addSources&lt;/goal&gt;\n                      &lt;goal&gt;addTestSources&lt;/goal&gt;\n                      &lt;goal&gt;generateStubs&lt;/goal&gt;\n                      &lt;goal&gt;compile&lt;/goal&gt;\n                      &lt;goal&gt;generateTestStubs&lt;/goal&gt;\n                      &lt;goal&gt;compileTests&lt;/goal&gt;\n                      &lt;goal&gt;removeStubs&lt;/goal&gt;\n                      &lt;goal&gt;removeTestStubs&lt;/goal&gt;\n                    &lt;/goals&gt;\n                  &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                            &lt;descriptors&gt;\n                                &lt;descriptor&gt;src/main/java/assembly/assembly.xml&lt;/descriptor&gt;\n                            &lt;/descriptors&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;descriptorRefs&gt;\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                            &lt;/descriptorRefs&gt;\n                            &lt;archive&gt;\n                            &lt;/archive&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-resources-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>You can find a sample project on <a href=\"https://github.com/devatherock/java-demo/tree/maven-groovy\" rel=\"nofollow noreferrer\">github</a></p>\n"}],"owner":{"account_id":19068200,"reputation":113,"user_id":19692198,"display_name":"deewreck"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667966175,"creation_date":1660668384,"question_id":73377499,"body_markdown":"maven clean install not packaging .class files. jar has no class file \r\nwhat am i doing wrong? i have added a assembly plugin inorder to generate build as zip. i am using this zip with aws lambda \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;dvalidator&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;maven-assembly-plugin.version&gt;2.2.2&lt;/maven-assembly-plugin.version&gt;\r\n        &lt;maven-resources-plugin.version&gt;2.5&lt;/maven-resources-plugin.version&gt;\r\n        &lt;maven-surefire-plugin.version&gt;2.22.2&lt;/maven-surefire-plugin.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.couchbase.client/java-client --&gt;\r\n       \r\n        &lt;!-- https://mvnrepository.com/artifact/org.codehaus.gmaven/groovy-maven-plugin --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.gmaven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;groovy-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\r\n                            &lt;descriptors&gt;\r\n                                &lt;descriptor&gt;src/main/java/assembly/assembly.xml&lt;/descriptor&gt;\r\n                            &lt;/descriptors&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;assembly&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;descriptorRefs&gt;\r\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                            &lt;/descriptorRefs&gt;\r\n                            &lt;archive&gt;\r\n                            &lt;/archive&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-resources-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nassembly.xml \r\n\r\n```\r\n&lt;assembly\r\n        xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd&quot;&gt;\r\n    &lt;id&gt;bin&lt;/id&gt;\r\n    &lt;formats&gt;\r\n        &lt;format&gt;zip&lt;/format&gt;\r\n    &lt;/formats&gt;\r\n    &lt;fileSets&gt;\r\n        &lt;fileSet&gt;\r\n            &lt;directory&gt;${project.build.directory}&lt;/directory&gt;\r\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;*.jar&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n        &lt;/fileSet&gt;\r\n    &lt;/fileSets&gt;\r\n    &lt;dependencySets&gt;\r\n        &lt;dependencySet&gt;\r\n            &lt;outputDirectory&gt;lib/&lt;/outputDirectory&gt;\r\n            &lt;useProjectArtifact&gt;false&lt;/useProjectArtifact&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;excludes&gt;\r\n            &lt;/excludes&gt;\r\n        &lt;/dependencySet&gt;\r\n    &lt;/dependencySets&gt;\r\n&lt;/assembly&gt;\r\n```\r\n\r\nclasses folder inside target is empty. my code has 1 groovy script and one groovy class for aws lambda handler inside /src/main/java/package\r\n\r\nwhat am i doing wrong? ","title":".class files missing in jar after maven build","body":"<p>maven clean install not packaging .class files. jar has no class file\nwhat am i doing wrong? i have added a assembly plugin inorder to generate build as zip. i am using this zip with aws lambda</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;dvalidator&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;maven-assembly-plugin.version&gt;2.2.2&lt;/maven-assembly-plugin.version&gt;\n        &lt;maven-resources-plugin.version&gt;2.5&lt;/maven-resources-plugin.version&gt;\n        &lt;maven-surefire-plugin.version&gt;2.22.2&lt;/maven-surefire-plugin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.couchbase.client/java-client --&gt;\n       \n        &lt;!-- https://mvnrepository.com/artifact/org.codehaus.gmaven/groovy-maven-plugin --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.gmaven&lt;/groupId&gt;\n            &lt;artifactId&gt;groovy-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\n            &lt;version&gt;1.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;appendAssemblyId&gt;false&lt;/appendAssemblyId&gt;\n                            &lt;descriptors&gt;\n                                &lt;descriptor&gt;src/main/java/assembly/assembly.xml&lt;/descriptor&gt;\n                            &lt;/descriptors&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-assembly-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;descriptorRefs&gt;\n                                &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                            &lt;/descriptorRefs&gt;\n                            &lt;archive&gt;\n                            &lt;/archive&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven-resources-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>assembly.xml</p>\n<pre><code>&lt;assembly\n        xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd&quot;&gt;\n    &lt;id&gt;bin&lt;/id&gt;\n    &lt;formats&gt;\n        &lt;format&gt;zip&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;fileSets&gt;\n        &lt;fileSet&gt;\n            &lt;directory&gt;${project.build.directory}&lt;/directory&gt;\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;*.jar&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/fileSet&gt;\n    &lt;/fileSets&gt;\n    &lt;dependencySets&gt;\n        &lt;dependencySet&gt;\n            &lt;outputDirectory&gt;lib/&lt;/outputDirectory&gt;\n            &lt;useProjectArtifact&gt;false&lt;/useProjectArtifact&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;excludes&gt;\n            &lt;/excludes&gt;\n        &lt;/dependencySet&gt;\n    &lt;/dependencySets&gt;\n&lt;/assembly&gt;\n</code></pre>\n<p>classes folder inside target is empty. my code has 1 groovy script and one groovy class for aws lambda handler inside /src/main/java/package</p>\n<p>what am i doing wrong?</p>\n"},{"tags":["java","for-loop","if-statement","while-loop","conditional-statements"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1667973143,"post_id":74369555,"comment_id":131292850,"body_markdown":"It looks like end is supposed to go down instead of start going up.","body":"It looks like end is supposed to go down instead of start going up."},{"owner":{"account_id":26351566,"reputation":1,"user_id":20009099,"display_name":"Stephen Fabia"},"score":0,"creation_date":1668009660,"post_id":74369555,"comment_id":131305093,"body_markdown":"Yes. From the lowest to the highest. Basically I wanted to print the range of numbers between starting point and ending point and stop the loop once the next printed number is a factor to the end point. Also, I think another issue is the zero. 0%number isn&#39;t correct so stops automatically in the loop.","body":"Yes. From the lowest to the highest. Basically I wanted to print the range of numbers between starting point and ending point and stop the loop once the next printed number is a factor to the end point. Also, I think another issue is the zero. 0%number isn&#39;t correct so stops automatically in the loop."}],"answers":[{"tags":[],"owner":{"account_id":10219029,"reputation":121,"user_id":7543749,"accept_rate":40,"display_name":"Shubham Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667966113,"creation_date":1667966113,"answer_id":74369748,"question_id":74369555,"body_markdown":"According to your code - `num_1 = -10` and `num_2 = -1`. And how can it print -10 to -5 first of all?  \r\n\r\nLook at your If the condition which means `num_2 % num_1 == 0` that will never be true in that case that&#39;s why it is printing `-10 to -1`.\r\n\r\nCan you elaborate more or give me a particular test case so that I can look for the correct code? I think your code is correct just check with the right test scenarios.","title":"How to write a program that prints the range of -num1 to -num2 and stops when -num1 is a factor of num2?","body":"<p>According to your code - <code>num_1 = -10</code> and <code>num_2 = -1</code>. And how can it print -10 to -5 first of all?</p>\n<p>Look at your If the condition which means <code>num_2 % num_1 == 0</code> that will never be true in that case that's why it is printing <code>-10 to -1</code>.</p>\n<p>Can you elaborate more or give me a particular test case so that I can look for the correct code? I think your code is correct just check with the right test scenarios.</p>\n"}],"owner":{"account_id":26351566,"reputation":1,"user_id":20009099,"display_name":"Stephen Fabia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667966113,"creation_date":1667963932,"question_id":74369555,"body_markdown":"I was able to write a program that prints the range of num1 to num2 but the problem is when a negative number is entered, it ignores the condition that has entered inside the loop.\r\n\r\nFor instance, if num1 = -10 and num2 = -1, its supposed to print -10 to -5 only since -10 % -5 == 0. But it prints -10 to -1 instead and ignores the if condition.\r\n\r\nHere&#39;s the code:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class Main\r\n{\r\n    public static void main(String[] args) {\r\n\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        int start = 0;\r\n        int end = 0;\r\n\r\n        System.out.print(&quot;Enter starting: &quot;);\r\n        start = input.nextInt();\r\n        System.out.print(&quot;Enter ending: &quot;);\r\n        end = input.nextInt();\r\n        \r\n        while(start &lt;= end){\r\n            System.out.println(start);\r\n            start++;\r\n\r\n            if(end%start == 0){\r\n                System.out.println(start);\r\n                break;\r\n            }\r\n            \r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nIt follows the condition if both numbers are positive but ignores the condition if both negative. I want it to function the same regardless of the number sign.","title":"How to write a program that prints the range of -num1 to -num2 and stops when -num1 is a factor of num2?","body":"<p>I was able to write a program that prints the range of num1 to num2 but the problem is when a negative number is entered, it ignores the condition that has entered inside the loop.</p>\n<p>For instance, if num1 = -10 and num2 = -1, its supposed to print -10 to -5 only since -10 % -5 == 0. But it prints -10 to -1 instead and ignores the if condition.</p>\n<p>Here's the code:</p>\n<pre><code>import java.util.Scanner;\n\n\npublic class Main\n{\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n\n        int start = 0;\n        int end = 0;\n\n        System.out.print(&quot;Enter starting: &quot;);\n        start = input.nextInt();\n        System.out.print(&quot;Enter ending: &quot;);\n        end = input.nextInt();\n        \n        while(start &lt;= end){\n            System.out.println(start);\n            start++;\n\n            if(end%start == 0){\n                System.out.println(start);\n                break;\n            }\n            \n        }\n    }\n}\n</code></pre>\n<p>It follows the condition if both numbers are positive but ignores the condition if both negative. I want it to function the same regardless of the number sign.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1666631523,"post_id":74184097,"comment_id":130978089,"body_markdown":"I don&#39;t use Jackson but this might be applicable: [Jackson ObjectMapper with UTF-8 encoding?](https://stackoverflow.com/q/10004241)","body":"I don&#39;t use Jackson but this might be applicable: <a href=\"https://stackoverflow.com/q/10004241\">Jackson ObjectMapper with UTF-8 encoding?</a>"},{"owner":{"account_id":26165056,"reputation":5,"user_id":19850997,"display_name":"Lyna DJELMOUDI"},"score":0,"creation_date":1666910704,"post_id":74184097,"comment_id":131053282,"body_markdown":"well i didn&#39;t get any solution, do you use another json thing at it works ?","body":"well i didn&#39;t get any solution, do you use another json thing at it works ?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1666965300,"post_id":74184097,"comment_id":131065630,"body_markdown":"Are you sure this is just not a symptom of the console - or whatever you are using to view the text - not being able to print a &#39;●&#39;? Usually when the console can&#39;t print a character because of the wrong font/encoding it will print a &#39;?&#39;. What OS are you using?","body":"Are you sure this is just not a symptom of the console - or whatever you are using to view the text - not being able to print a &#39;●&#39;? Usually when the console can&#39;t print a character because of the wrong font/encoding it will print a &#39;?&#39;. What OS are you using?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1666965786,"post_id":74184097,"comment_id":131065796,"body_markdown":"If using Windows, click the button on the top left of the console window and choose &quot;Properties&quot;. Then change the font to &quot;Consolas&quot;. Then okay that and go back to the command prompt. Type &quot;CHCP 65001&quot; at the command prompt to change the code page. Then run your code.","body":"If using Windows, click the button on the top left of the console window and choose &quot;Properties&quot;. Then change the font to &quot;Consolas&quot;. Then okay that and go back to the command prompt. Type &quot;CHCP 65001&quot; at the command prompt to change the code page. Then run your code."},{"owner":{"account_id":26165056,"reputation":5,"user_id":19850997,"display_name":"Lyna DJELMOUDI"},"score":0,"creation_date":1667061916,"post_id":74184097,"comment_id":131083824,"body_markdown":"Johnny Mopp thank you for the tip I will try it and tell you if it worked. But if it is the console issue, why with the bufferedreader it is well printed \\n\\r\\u..., and after the mapping not ?","body":"Johnny Mopp thank you for the tip I will try it and tell you if it worked. But if it is the console issue, why with the bufferedreader it is well printed \\n\\r\\u..., and after the mapping not ?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1667220093,"post_id":74184097,"comment_id":131111457,"body_markdown":"`\\u25cf` is the unicode sequence for &#39;●&#39;. `BufferedReader` is not processing it but just leaving it as text. The JSON parser then converts the code point to an actual character. Then when you try to print the &#39;●&#39; char in a console that doesn&#39;t support it you get `?`.","body":"<code>\\u25cf</code> is the unicode sequence for &#39;●&#39;. <code>BufferedReader</code> is not processing it but just leaving it as text. The JSON parser then converts the code point to an actual character. Then when you try to print the &#39;●&#39; char in a console that doesn&#39;t support it you get <code>?</code>."},{"owner":{"account_id":26165056,"reputation":5,"user_id":19850997,"display_name":"Lyna DJELMOUDI"},"score":0,"creation_date":1667337012,"post_id":74184097,"comment_id":131142952,"body_markdown":"okay tha,k you for yout help, I fotget to answer, I&#39;am using eclipse as ide and I am on a windows system","body":"okay tha,k you for yout help, I fotget to answer, I&#39;am using eclipse as ide and I am on a windows system"}],"answers":[{"tags":[],"owner":{"account_id":26165056,"reputation":5,"user_id":19850997,"display_name":"Lyna DJELMOUDI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667965842,"creation_date":1667773176,"answer_id":74340211,"question_id":74184097,"body_markdown":"So after research and some manipulations in my eclipse IDE. I finally come up with a solution that worked for me. Hope it will help :).\r\n\r\n1) First thing I tried to change some default encoding in eclipse : \r\n     a) Window &gt; Preferences &gt; General &gt; Content Types, set UTF-8 as the default encoding for all content types.\r\n\r\n     b) Window &gt; Preferences &gt; General &gt; Workspace, set Text file encoding to Other: UTF-8\r\n     c) \r\n       Run &gt; RunConfiguration -&gt; Common -&gt; Encoding -&gt; set Other to UTF-8\r\n\r\n2) Welle the first step didn&#39;t work for me so I tried this code \r\n\r\n```\r\nfor (int i = 0; i &lt; size; i++)\r\n{\r\n\tCharset utf8 = Charset.forName(&quot;UTF-8&quot;);\r\n\tCharset def = Charset.defaultCharset();\r\n\r\n\tbyte[] bytes = cards.get(i).get(&quot;desc&quot;).asText().getBytes(&quot;UTF-8&quot;);\r\n\t\r\n\tString message = new String(bytes , def.name());\r\n\r\n\tPrintStream printStream = new PrintStream(System.out, true, utf8.name());\r\n\t\r\n\tprintStream.println(message); // should print your character\r\n\t\r\n}\r\n```\r\n\r\nAnd here is what I have in the console :) :) :)\r\n```\r\n● Cannot be destroyed by battle or your opponent&#39;s card effects.\r\n```\r\n\r\n : \r\n[Well... You can find everything here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9180981/how-to-support-utf-8-encoding-in-eclipse#:~:text=Open%20Eclipse%20and%20do%20the,OR%20click%20simply%20OK%20button","title":"encoding issue mapper.readTree","body":"<p>So after research and some manipulations in my eclipse IDE. I finally come up with a solution that worked for me. Hope it will help :).</p>\n<ol>\n<li><p>First thing I tried to change some default encoding in eclipse :\na) Window &gt; Preferences &gt; General &gt; Content Types, set UTF-8 as the default encoding for all content types.</p>\n<p>b) Window &gt; Preferences &gt; General &gt; Workspace, set Text file encoding to Other: UTF-8\nc)\nRun &gt; RunConfiguration -&gt; Common -&gt; Encoding -&gt; set Other to UTF-8</p>\n</li>\n<li><p>Welle the first step didn't work for me so I tried this code</p>\n</li>\n</ol>\n<pre><code>for (int i = 0; i &lt; size; i++)\n{\n    Charset utf8 = Charset.forName(&quot;UTF-8&quot;);\n    Charset def = Charset.defaultCharset();\n\n    byte[] bytes = cards.get(i).get(&quot;desc&quot;).asText().getBytes(&quot;UTF-8&quot;);\n    \n    String message = new String(bytes , def.name());\n\n    PrintStream printStream = new PrintStream(System.out, true, utf8.name());\n    \n    printStream.println(message); // should print your character\n    \n}\n</code></pre>\n<p>And here is what I have in the console :) :) :)</p>\n<pre><code>● Cannot be destroyed by battle or your opponent's card effects.\n</code></pre>\n<p>:\n<a href=\"https://stackoverflow.com/questions/9180981/how-to-support-utf-8-encoding-in-eclipse#:%7E:text=Open%20Eclipse%20and%20do%20the,OR%20click%20simply%20OK%20button\">Well... You can find everything here</a></p>\n"}],"owner":{"account_id":26165056,"reputation":5,"user_id":19850997,"display_name":"Lyna DJELMOUDI"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667965842,"creation_date":1666628672,"question_id":74184097,"body_markdown":"well I am working on a yugioh game. I tried to get data from api and put it to database (sql server). The issue is when I use map.readTRee() to convert the data to json , It puts ? instead of the real caractere. What is strange is when I read the data stream threw BufferedReader System.out.printlen() read it correctly.\r\n\r\n```\r\npublic class ApiEngine {\r\n\t\r\n\t/**\r\n\t * This function will collect all cards data from &#39;db.ygoprodeck.com/api/v7/cardinfo.php?&#39;\r\n\t *@return the result of API research that is a JSonNode type, null otherwise\r\n\t * \r\n\t */\r\n\tpublic static JsonNode getCardData()\r\n\t{\r\n\t\ttry \r\n\t\t{\r\n\t         URL url = new URL(&quot;https://db.ygoprodeck.com/api/v7/cardinfo.php?name=astral kuriboh&quot;);\r\n\t\r\n\t         HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n\t         \r\n\t         conn.setRequestMethod(&quot;GET&quot;);\r\n\t         \r\n\t         conn.connect();\r\n\t\r\n\t         //Check if connect is made\r\n\t         int responseCode = conn.getResponseCode();\r\n\t\r\n\t         \r\n\t         if (responseCode != 200) \r\n\t         {\r\n\t             throw new RuntimeException(&quot;HttpResponseCode: &quot; + responseCode);\r\n\t         } \r\n\t         else \r\n\t         {\r\n\t        \tBufferedReader br = new BufferedReader(new InputStreamReader( url.openStream(), StandardCharsets.UTF_8));    \r\n\t      \r\n\r\n\t        \t/*String strCurrentLine;\r\n\t        \t\r\n\t        \twhile ((strCurrentLine = br.readLine()) != null) {\r\n\t        \t\t    System.out.println(strCurrentLine);\r\n\t        \t\t}*/\r\n\t        \t\t\r\n\t   \r\n\t        \tObjectMapper mapper = new ObjectMapper();\r\n\t        \t\r\n\t        \tJsonNode cardData = mapper.readTree(br);\r\n\t        \t\r\n\t          \t        \t\r\n\t        \treturn cardData;\r\n\t         }\r\n\t     } \r\n\t\tcatch (Exception e) \r\n\t\t{\r\n\t         e.printStackTrace();\r\n\t         \r\n\t         return null;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n```\r\npublic class ExporterCardDataEngine {\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t/**\r\n\t * This function will export API data to database\r\n\t * @throws SQLException \r\n\t */\r\n\tpublic static void exportApiData() throws SQLException\r\n\t{\r\n\t\t\r\n\t\tJsonNode cards = ApiEngine.getCardData().get(&quot;data&quot;);\r\n\t\t\r\n\t\tConnection connexion = DatabaseEngine.connect();\r\n\t\t\r\n\t\tint size = cards.size();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; size; i++)\r\n\t\t{\r\n\t\t\tSystem.out.println((i + 1) +&quot;/&quot; + size + cards.get(i).get(&quot;desc&quot;));\r\n\t\t\t\r\n\t\t\tDatabaseEngine.insertCard(connexion, cards.get(i));\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String args[])\r\n\t{\r\n\t\ttry {\r\n\t\t\tExporterCardDataEngine.exportApiData();\r\n\t\t} catch (SQLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nHere is the result when printing the bufferedReader\r\n```\r\n&quot;desc&quot;:&quot;You can reveal 1 \\&quot;Number\\&quot; Xyz Monster in your Extra Deck; Special Summon this card from your hand. If you do, this card&#39;s Level becomes the revealed monster&#39;s Rank, also while it is face-up in the Monster Zone, you cannot Special Summon monsters from the Extra Deck, except \\&quot;Number\\&quot; Xyz Monsters. You can only use this effect of \\&quot;Astral Kuriboh\\&quot; once per turn. A \\&quot;Number\\&quot; Xyz Monster that was Summoned using this card on the field as material gains this effect.\\r\\n\\u25cf Cannot be destroyed by battle or your opponent&#39;s card effects.&quot;\r\n````\r\nHere after the mapper.readTree()\r\n```\r\n1/1&quot;You can reveal 1 \\&quot;Number\\&quot; Xyz Monster in your Extra Deck; Special Summon this card from your hand. If you do, this card&#39;s Level becomes the revealed monster&#39;s Rank, also while it is face-up in the Monster Zone, you cannot Special Summon monsters from the Extra Deck, except \\&quot;Number\\&quot; Xyz Monsters. You can only use this effect of \\&quot;Astral Kuriboh\\&quot; once per turn. A \\&quot;Number\\&quot; Xyz Monster that was Summoned using this card on the field as material gains this effect.\\r\\n? Cannot be destroyed by battle or your opponent&#39;s card effects.&quot;\r\n```\r\n\r\nthank you for your help","title":"encoding issue mapper.readTree","body":"<p>well I am working on a yugioh game. I tried to get data from api and put it to database (sql server). The issue is when I use map.readTRee() to convert the data to json , It puts ? instead of the real caractere. What is strange is when I read the data stream threw BufferedReader System.out.printlen() read it correctly.</p>\n<pre><code>public class ApiEngine {\n    \n    /**\n     * This function will collect all cards data from 'db.ygoprodeck.com/api/v7/cardinfo.php?'\n     *@return the result of API research that is a JSonNode type, null otherwise\n     * \n     */\n    public static JsonNode getCardData()\n    {\n        try \n        {\n             URL url = new URL(&quot;https://db.ygoprodeck.com/api/v7/cardinfo.php?name=astral kuriboh&quot;);\n    \n             HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n             \n             conn.setRequestMethod(&quot;GET&quot;);\n             \n             conn.connect();\n    \n             //Check if connect is made\n             int responseCode = conn.getResponseCode();\n    \n             \n             if (responseCode != 200) \n             {\n                 throw new RuntimeException(&quot;HttpResponseCode: &quot; + responseCode);\n             } \n             else \n             {\n                BufferedReader br = new BufferedReader(new InputStreamReader( url.openStream(), StandardCharsets.UTF_8));    \n          \n\n                /*String strCurrentLine;\n                \n                while ((strCurrentLine = br.readLine()) != null) {\n                        System.out.println(strCurrentLine);\n                    }*/\n                    \n       \n                ObjectMapper mapper = new ObjectMapper();\n                \n                JsonNode cardData = mapper.readTree(br);\n                \n                            \n                return cardData;\n             }\n         } \n        catch (Exception e) \n        {\n             e.printStackTrace();\n             \n             return null;\n        }\n    }\n}\n</code></pre>\n<pre><code>public class ExporterCardDataEngine {\n    \n    \n    \n    \n    /**\n     * This function will export API data to database\n     * @throws SQLException \n     */\n    public static void exportApiData() throws SQLException\n    {\n        \n        JsonNode cards = ApiEngine.getCardData().get(&quot;data&quot;);\n        \n        Connection connexion = DatabaseEngine.connect();\n        \n        int size = cards.size();\n        \n        for (int i = 0; i &lt; size; i++)\n        {\n            System.out.println((i + 1) +&quot;/&quot; + size + cards.get(i).get(&quot;desc&quot;));\n            \n            DatabaseEngine.insertCard(connexion, cards.get(i));\n        }\n    }\n    \n    public static void main(String args[])\n    {\n        try {\n            ExporterCardDataEngine.exportApiData();\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>Here is the result when printing the bufferedReader</p>\n<pre><code>&quot;desc&quot;:&quot;You can reveal 1 \\&quot;Number\\&quot; Xyz Monster in your Extra Deck; Special Summon this card from your hand. If you do, this card's Level becomes the revealed monster's Rank, also while it is face-up in the Monster Zone, you cannot Special Summon monsters from the Extra Deck, except \\&quot;Number\\&quot; Xyz Monsters. You can only use this effect of \\&quot;Astral Kuriboh\\&quot; once per turn. A \\&quot;Number\\&quot; Xyz Monster that was Summoned using this card on the field as material gains this effect.\\r\\n\\u25cf Cannot be destroyed by battle or your opponent's card effects.&quot;\n</code></pre>\n<p>Here after the mapper.readTree()</p>\n<pre><code>1/1&quot;You can reveal 1 \\&quot;Number\\&quot; Xyz Monster in your Extra Deck; Special Summon this card from your hand. If you do, this card's Level becomes the revealed monster's Rank, also while it is face-up in the Monster Zone, you cannot Special Summon monsters from the Extra Deck, except \\&quot;Number\\&quot; Xyz Monsters. You can only use this effect of \\&quot;Astral Kuriboh\\&quot; once per turn. A \\&quot;Number\\&quot; Xyz Monster that was Summoned using this card on the field as material gains this effect.\\r\\n? Cannot be destroyed by battle or your opponent's card effects.&quot;\n</code></pre>\n<p>thank you for your help</p>\n"},{"tags":["java","hibernate","spring-webflux","spring-data-r2dbc"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1611908882,"post_id":65950985,"comment_id":116606196,"body_markdown":"did you read the documentation for spring R2DBC before you asked here?","body":"did you read the documentation for spring R2DBC before you asked here?"},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1611909078,"post_id":65950985,"comment_id":116606260,"body_markdown":"As I mentioned, I&#39;m new to Spring WebFlux. I&#39;ve already read some documents but they are about R2DBC MongoDB. I cannot find any resource about custom HQL","body":"As I mentioned, I&#39;m new to Spring WebFlux. I&#39;ve already read some documents but they are about R2DBC MongoDB. I cannot find any resource about custom HQL"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1611909296,"post_id":65950985,"comment_id":116606341,"body_markdown":"well if you actually looked up what HQL is, it stands for Hibernate Query Language, and Hibernate is not supported in R2DBC, which is easy to google, if you google R2DBC and Hibernate. Also if you google `R2DBC documentation` you will be taken to the official documentation and there you can read all about what it supports and what you can and cannot do. https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users","body":"well if you actually looked up what HQL is, it stands for Hibernate Query Language, and Hibernate is not supported in R2DBC, which is easy to google, if you google R2DBC and Hibernate. Also if you google <code>R2DBC documentation</code> you will be taken to the official documentation and there you can read all about what it supports and what you can and cannot do. <a href=\"https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\" title=\"how much research effort is expected of stack overflow users\">meta.stackoverflow.com/questions/261592/&hellip;</a>"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1611909478,"post_id":65950985,"comment_id":116606395,"body_markdown":"just because you are new, doesn&#39;t mean you arn&#39;t allowed to read documentation, on the contrary, when you are new you should be reading the documentation first, before asking.","body":"just because you are new, doesn&#39;t mean you arn&#39;t allowed to read documentation, on the contrary, when you are new you should be reading the documentation first, before asking."},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1611909513,"post_id":65950985,"comment_id":116606411,"body_markdown":"If I cannot use HQL, could you suggest me another mechanism which support in querying with complicated conditions like that?","body":"If I cannot use HQL, could you suggest me another mechanism which support in querying with complicated conditions like that?"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1611909568,"post_id":65950985,"comment_id":116606423,"body_markdown":"how about just plain regular SQL? as said, read the docs, what is &quot;complicated&quot; is relative. You have not stated your exact demands, neither have you actually tried anything yet.","body":"how about just plain regular SQL? as said, read the docs, what is &quot;complicated&quot; is relative. You have not stated your exact demands, neither have you actually tried anything yet."}],"answers":[{"tags":[],"owner":{"account_id":20219093,"reputation":141,"user_id":14829079,"display_name":"Ferten"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1612364044,"creation_date":1612364044,"answer_id":66029974,"question_id":65950985,"body_markdown":"Spring Data R2DBC is not backed by a fully-fledged ORM framework like Hibernate. Therefore there are no such things as EntityManager and no possibility to write JQL/HQL queries. \r\n\r\nHowever, one can still use native queries to define more complex methods, e.g.\r\n```\r\ninterface MyRepository extends ReactiveCrudRepository&lt;...&gt; {\r\n\r\n    @Query(&quot;SELECT b from Book b WHERE (VERY COMPLICATED CONDITIONS)&quot;)\r\n    Flux&lt;...&gt; find(...);\r\n}\r\n```","title":"r2dbc ReactiveCrudRepository how to write JPQL/HQL","body":"<p>Spring Data R2DBC is not backed by a fully-fledged ORM framework like Hibernate. Therefore there are no such things as EntityManager and no possibility to write JQL/HQL queries.</p>\n<p>However, one can still use native queries to define more complex methods, e.g.</p>\n<pre><code>interface MyRepository extends ReactiveCrudRepository&lt;...&gt; {\n\n    @Query(&quot;SELECT b from Book b WHERE (VERY COMPLICATED CONDITIONS)&quot;)\n    Flux&lt;...&gt; find(...);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480584,"reputation":8226,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667964688,"creation_date":1667896385,"answer_id":74357760,"question_id":65950985,"body_markdown":"If you want to use Hibernate/JPA JPQL like query in your project, consider [Hibernate Reactive](https://hibernate.org/reactive/).\r\n\r\nI have written an article to describe [how to use Hibernate Reactive with Spring](https://itnext.io/integrating-hibernate-reactive-with-spring-5427440607fe) (**BTW**, I have contributed a patch to register SmallRye in Spring framework, so at the end of this article, you can skip to register `MutinyAdapter` in `ReactiveAdapterRegistry` ).\r\n1.  Spring Data has no plan to integrate Hibernate Reactive, so there is no `Repository` support.\r\n2.  Hibernate Reactive depends on Vertx reactive drivers, it does not support R2dbc. \r\n3.  HibernateReactive supports another ReactiveStreams implemetnation from Redhat - [Smallrye Munity](https://smallrye.io/smallrye-mutiny/1.7.0/).\r\n\r\n","title":"r2dbc ReactiveCrudRepository how to write JPQL/HQL","body":"<p>If you want to use Hibernate/JPA JPQL like query in your project, consider <a href=\"https://hibernate.org/reactive/\" rel=\"nofollow noreferrer\">Hibernate Reactive</a>.</p>\n<p>I have written an article to describe <a href=\"https://itnext.io/integrating-hibernate-reactive-with-spring-5427440607fe\" rel=\"nofollow noreferrer\">how to use Hibernate Reactive with Spring</a> (<strong>BTW</strong>, I have contributed a patch to register SmallRye in Spring framework, so at the end of this article, you can skip to register <code>MutinyAdapter</code> in <code>ReactiveAdapterRegistry</code> ).</p>\n<ol>\n<li>Spring Data has no plan to integrate Hibernate Reactive, so there is no <code>Repository</code> support.</li>\n<li>Hibernate Reactive depends on Vertx reactive drivers, it does not support R2dbc.</li>\n<li>HibernateReactive supports another ReactiveStreams implemetnation from Redhat - <a href=\"https://smallrye.io/smallrye-mutiny/1.7.0/\" rel=\"nofollow noreferrer\">Smallrye Munity</a>.</li>\n</ol>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3386,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":74357760,"answer_count":2,"score":3,"last_activity_date":1667964688,"creation_date":1611908507,"question_id":65950985,"body_markdown":"I&#39;m new to Spring WebFlux reactive. I use R2DBC postgresql. I have a repository like that:\r\n\r\n    public interface BookRepository extends ReactiveCrudRepository&lt;Book, Long&gt; {\r\n    }\r\nNow I want to add custom method to query by many complicated conditions:\r\n\r\n    public interface CustomBookRepository extends BookRepository {\r\n        Flux&lt;Book&gt; findByVeryComplicatedCondition(MyCriteriaDto criteria);\r\n    }\r\n\r\nMy implementation:\r\n\r\n    public class CustomBookRepositoryImpl extends CustomBookRepository {\r\n\r\n        //How to get it?\r\n        EntityManager em;\r\n\r\n        @Override\r\n        public Flux&lt;Book&gt; findByVeryComplicatedCondition(MyCriteriaDto criteria) {\r\n            Query query = em.createQuery(&quot;SELECT b from Book b WHERE (VERY COMPLICATED CONDITIONS)&quot;);\r\n            //What next?\r\n        }\r\n    }\r\nMy questions are in the code above:\r\n\r\n 1. How to obtain an EntityManager?\r\n 2. How to get Flux&lt;Book&gt; from HQL query I built?\r\n\r\nWhen I ask these questions, I mean &quot;How to do this with Spring reactive/r2dbc way&quot;, not &quot;How to do this normal way with JDBC&quot;","title":"r2dbc ReactiveCrudRepository how to write JPQL/HQL","body":"<p>I'm new to Spring WebFlux reactive. I use R2DBC postgresql. I have a repository like that:</p>\n<pre><code>public interface BookRepository extends ReactiveCrudRepository&lt;Book, Long&gt; {\n}\n</code></pre>\n<p>Now I want to add custom method to query by many complicated conditions:</p>\n<pre><code>public interface CustomBookRepository extends BookRepository {\n    Flux&lt;Book&gt; findByVeryComplicatedCondition(MyCriteriaDto criteria);\n}\n</code></pre>\n<p>My implementation:</p>\n<pre><code>public class CustomBookRepositoryImpl extends CustomBookRepository {\n\n    //How to get it?\n    EntityManager em;\n\n    @Override\n    public Flux&lt;Book&gt; findByVeryComplicatedCondition(MyCriteriaDto criteria) {\n        Query query = em.createQuery(&quot;SELECT b from Book b WHERE (VERY COMPLICATED CONDITIONS)&quot;);\n        //What next?\n    }\n}\n</code></pre>\n<p>My questions are in the code above:</p>\n<ol>\n<li>How to obtain an EntityManager?</li>\n<li>How to get Flux from HQL query I built?</li>\n</ol>\n<p>When I ask these questions, I mean &quot;How to do this with Spring reactive/r2dbc way&quot;, not &quot;How to do this normal way with JDBC&quot;</p>\n"},{"tags":["java","unit-testing","mocking","mockito"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1667944617,"post_id":74367228,"comment_id":131288346,"body_markdown":"Unit tests (see also integration tests) should have no external dependencies since they should run fast/often, and as part of a build.  If it fails, then did it fail because the external dependency was not available or because a bug was introduced?  The example is *hard to test* because of what looks like use of static methods.  The typical approach is to wrap static classes in a class that can be instantiated, and inject them through the constructor.  For testing, the wrappers can be mocked and set up to return the appropriate objects to trigger the various paths through the code.","body":"Unit tests (see also integration tests) should have no external dependencies since they should run fast/often, and as part of a build.  If it fails, then did it fail because the external dependency was not available or because a bug was introduced?  The example is <i>hard to test</i> because of what looks like use of static methods.  The typical approach is to wrap static classes in a class that can be instantiated, and inject them through the constructor.  For testing, the wrappers can be mocked and set up to return the appropriate objects to trigger the various paths through the code."}],"answers":[{"tags":[],"owner":{"account_id":19288635,"reputation":1,"user_id":14099141,"display_name":"Digital Ringo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667964359,"creation_date":1667964359,"answer_id":74369590,"question_id":74367228,"body_markdown":"In this case you can use for unit test some libs like [WireMock][1]. This will helps you to reproduce behaviour with different response codes and bodies. Also with WireMock you could assert requests headers and url.\r\n\r\n  [1]: https://wiremock.org/","title":"What is the right technique to use Mocks for Unit test","body":"<p>In this case you can use for unit test some libs like <a href=\"https://wiremock.org/\" rel=\"nofollow noreferrer\">WireMock</a>. This will helps you to reproduce behaviour with different response codes and bodies. Also with WireMock you could assert requests headers and url.</p>\n"}],"owner":{"account_id":14865333,"reputation":161,"user_id":10734656,"display_name":"Eikthyrnir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667964359,"creation_date":1667941938,"question_id":74367228,"body_markdown":"I&#39;m a complete newbie to testing. \r\n&lt;br&gt; Suppose there is a simple method that sends a request to some third-party API and returns an object constructed from the received json:\r\n\r\n    public Object getAirQualityIndex(int id) {\r\n        try {\r\n            String stationInfoUrl = aqIndexUrlPattern.replace(&quot;{id}&quot;, String.valueOf(id));\r\n            HttpRequest stationRequest = HttpRequest.newBuilder()\r\n                    .uri(URI.create(stationInfoUrl))\r\n                    .GET()\r\n                    .build();\r\n            HttpResponse&lt;String&gt; stationResponse = HttpClient.newBuilder()\r\n                    .build()\r\n                    .send(stationRequest, HttpResponse.BodyHandlers.ofString());\r\n            if (stationResponse.statusCode() != 200) {\r\n                throw new RuntimeException(&quot;Air Quality Index is currently unavailable, &quot; +\r\n                        &quot;status code &quot; + stationResponse.statusCode());\r\n            }\r\n            return new ObjectMapper().readValue(stationResponse.body(), new TypeReference&lt;&gt;() {});\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;failed to get station measures information&quot;, e);\r\n        }\r\n    }\r\n\r\nIt can be divided into several private methods, but in this case, I think it will not change the essence of the issue.\r\n\r\nNow I want to write a unit test for this method, do I understand correctly that for this I need to create a Mock for the dependencies such as: `HttpResponse.statusCode()`, `HttpResponse.body()`, `ObjectMapper().readValue(...)`?  But it seems to me that then the whole test will just check if `if (statusCode != 200)` works, because I will replace everything else with Mocks so that nothing could fail, is there any practical sense in such a test?\r\n\r\nNext, there is a method that allows you to save the resulting object to a file, in which form it saves it is not so important, but suppose it is **pdf** using `itext7`:\r\n\r\n    public void writeAirQualityIndexAsPdf(Object aqIndex, Path destPath) throws IOException {\r\n        PdfDocument pdf = new PdfDocument(new PdfWriter(destPath.toFile()));\r\n        Document document = new Document(pdf);\r\n    \r\n        String aqIndexYaml = new YAMLMapper()\r\n                .writerWithDefaultPrettyPrinter()\r\n                .withRootName(&quot;AirQualityIndex&quot;)\r\n                .writeValueAsString(aqIndex);\r\n        //replaced spaces with \\u00A0 to prevent itext7 to trim whitespaces\r\n        document.add(new Paragraph(aqIndexYaml.replaceAll(&quot; &quot;, &quot;\\u00A0&quot;)));\r\n        document.close();\r\n    }\r\n\r\nThere’s not even much of my code here, which can be tested if everything is replaced with Mocks, it can even be rewrited as a one-liner... So how should I test this method? \r\n&lt;br&gt;Maybe I just misunderstand something in the ideas of unit tests and it’s not worth creating a Mock for every third-party calls?","title":"What is the right technique to use Mocks for Unit test","body":"<p>I'm a complete newbie to testing.\n<br> Suppose there is a simple method that sends a request to some third-party API and returns an object constructed from the received json:</p>\n<pre><code>public Object getAirQualityIndex(int id) {\n    try {\n        String stationInfoUrl = aqIndexUrlPattern.replace(&quot;{id}&quot;, String.valueOf(id));\n        HttpRequest stationRequest = HttpRequest.newBuilder()\n                .uri(URI.create(stationInfoUrl))\n                .GET()\n                .build();\n        HttpResponse&lt;String&gt; stationResponse = HttpClient.newBuilder()\n                .build()\n                .send(stationRequest, HttpResponse.BodyHandlers.ofString());\n        if (stationResponse.statusCode() != 200) {\n            throw new RuntimeException(&quot;Air Quality Index is currently unavailable, &quot; +\n                    &quot;status code &quot; + stationResponse.statusCode());\n        }\n        return new ObjectMapper().readValue(stationResponse.body(), new TypeReference&lt;&gt;() {});\n    } catch (Exception e) {\n        throw new RuntimeException(&quot;failed to get station measures information&quot;, e);\n    }\n}\n</code></pre>\n<p>It can be divided into several private methods, but in this case, I think it will not change the essence of the issue.</p>\n<p>Now I want to write a unit test for this method, do I understand correctly that for this I need to create a Mock for the dependencies such as: <code>HttpResponse.statusCode()</code>, <code>HttpResponse.body()</code>, <code>ObjectMapper().readValue(...)</code>?  But it seems to me that then the whole test will just check if <code>if (statusCode != 200)</code> works, because I will replace everything else with Mocks so that nothing could fail, is there any practical sense in such a test?</p>\n<p>Next, there is a method that allows you to save the resulting object to a file, in which form it saves it is not so important, but suppose it is <strong>pdf</strong> using <code>itext7</code>:</p>\n<pre><code>public void writeAirQualityIndexAsPdf(Object aqIndex, Path destPath) throws IOException {\n    PdfDocument pdf = new PdfDocument(new PdfWriter(destPath.toFile()));\n    Document document = new Document(pdf);\n\n    String aqIndexYaml = new YAMLMapper()\n            .writerWithDefaultPrettyPrinter()\n            .withRootName(&quot;AirQualityIndex&quot;)\n            .writeValueAsString(aqIndex);\n    //replaced spaces with \\u00A0 to prevent itext7 to trim whitespaces\n    document.add(new Paragraph(aqIndexYaml.replaceAll(&quot; &quot;, &quot;\\u00A0&quot;)));\n    document.close();\n}\n</code></pre>\n<p>There’s not even much of my code here, which can be tested if everything is replaced with Mocks, it can even be rewrited as a one-liner... So how should I test this method?\n<br>Maybe I just misunderstand something in the ideas of unit tests and it’s not worth creating a Mock for every third-party calls?</p>\n"},{"tags":["java","datetime-format","simpledateformat","iso8601","offsetdatetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1667890108,"post_id":74356407,"comment_id":131268994,"body_markdown":"`Instant.now().toString()` (yes, if you accept not having control over the number of decimals, it really is this simple). Leave out `.toString()` if you do not require a `String`.","body":"<code>Instant.now().toString()</code> (yes, if you accept not having control over the number of decimals, it really is this simple). Leave out <code>.toString()</code> if you do not require a <code>String</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1667954769,"post_id":74356407,"comment_id":131290366,"body_markdown":"@OleV.V. Neither [that Question](https://stackoverflow.com/q/56933100/642706) nor [that Question](https://stackoverflow.com/q/64872001/642706) is a direct original of this one. Both are convoluted, neither directly asks for today&#39;s date in ISO 8601 format, and both are Android-specific. I expected an original existing Question to mark this Question as a duplicate, but I could not find one. Thus my Answer.","body":"@OleV.V. Neither <a href=\"https://stackoverflow.com/q/56933100/642706\">that Question</a> nor <a href=\"https://stackoverflow.com/q/64872001/642706\">that Question</a> is a direct original of this one. Both are convoluted, neither directly asks for today&#39;s date in ISO 8601 format, and both are Android-specific. I expected an original existing Question to mark this Question as a duplicate, but I could not find one. Thus my Answer."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1667963496,"post_id":74356407,"comment_id":131291578,"body_markdown":"Do you know for a fact that you need exactly three decimals of fraction of second (as in `.844`)? Asking because your format is [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) and that standard doesn’t put a limit on the number of decimals.","body":"Do you know for a fact that you need exactly three decimals of fraction of second (as in <code>.844</code>)? Asking because your format is <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> and that standard doesn’t put a limit on the number of decimals."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1693625154,"post_id":74356407,"comment_id":135789017,"body_markdown":"Does this answer your question? [How to get the current time in YYYY-MM-DD HH:MI:Sec.Millisecond format in Java?](https://stackoverflow.com/questions/1459656/how-to-get-the-current-time-in-yyyy-mm-dd-hhmisec-millisecond-format-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1459656/how-to-get-the-current-time-in-yyyy-mm-dd-hhmisec-millisecond-format-in-java\">How to get the current time in YYYY-MM-DD HH:MI:Sec.Millisecond format in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667888906,"creation_date":1667888906,"answer_id":74356495,"question_id":74356407,"body_markdown":"ZonedDateTime.now().format(DateTimeFormatter.ISO_LOCAL_DATE_TIME)","title":"How to get the date and time in format 2022-10-03T19:45:47.844Z in Java","body":"<p>ZonedDateTime.now().format(DateTimeFormatter.ISO_LOCAL_DATE_TIME)</p>\n"},{"tags":[],"owner":{"account_id":411142,"reputation":34084,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667890632,"creation_date":1667889267,"answer_id":74356542,"question_id":74356407,"body_markdown":"What you have is a fully specified timestamp in standard [ISO 8601][1] format. While java.util.Date and friends make this difficult, you can include [joda](https://www.joda.org/joda-time/) in your classpath and use the following incantation to manipulate it:\r\n\r\n&gt;  System.out.println(ISODateTimeFormat.dateTime().print(DateTime.now());\r\n\r\nGood luck!\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601","title":"How to get the date and time in format 2022-10-03T19:45:47.844Z in Java","body":"<p>What you have is a fully specified timestamp in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format. While java.util.Date and friends make this difficult, you can include <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">joda</a> in your classpath and use the following incantation to manipulate it:</p>\n<blockquote>\n<p>System.out.println(ISODateTimeFormat.dateTime().print(DateTime.now());</p>\n</blockquote>\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1667893039,"creation_date":1667891161,"answer_id":74356822,"question_id":74356407,"body_markdown":"# tl;dr\r\n\r\n    Instant.now().toString()\r\n\r\nSee this [code run at Ideone.com][1].\r\n\r\n&gt;2022-11-08T07:18:21.482293Z\r\n\r\n# `Instant.now().toString()`\r\n\r\nAs [commented by Ole V.V.][2], you can capture the current moment as seen with an [offset][3] of zero hours-minutes-seconds from UTC by using the `java.time.Instant` class. \r\n\r\n    Instant instant = Instant.now() ;\r\n\r\n## ISO 8601\r\n\r\nYou can generate a string in standard [ISO 8601][4] format, your desired format. by calling `Instant#toString()`.\r\n\r\n    String output = instant.toString() ;\r\n\r\nOf course we can combine these:\r\n\r\n    Instant.now().toString()  \r\n\r\n## Resolution\r\n\r\nAn `Instant` represents a moment in UTC with a resolution as fine as nanoseconds. \r\n\r\nNote that [`Instant#toString`][5] uses a [formatter][6] that formats the fractional seconds in groups of three digits, up to nine digits for nanoseconds. Any finer group of all zeros is suppressed. So if your `Instant` has only [milliseconds][7] with zero [microseconds][8]/[nanoseconds][9], you get three digits. If micros without nanos, six digits. If nanos, nine digits. \r\n\r\nYou will likely capture the current moment with:\r\n\r\n - Milliseconds (3 digits in fractional second) in Java 8. \r\n - Microseconds (6 digits) in Java 9 and later, due to a fresh implementation of the [`Clock`][10] class in the [OpenJDK][11] project’s codebase.\r\n\r\nCommon computer hardware clocks are not accurate in nanoseconds. So a `Instant` can represent a value with nanoseconds, but you&#39;ll not likely see the current moment captured with that precision. \r\n\r\nIf you want only milliseconds, [truncate][12]. Specify your desired granularity by way of [`ChronoUnit`][13] enum, and implementation of [`TemporalUnit`][14]. \r\n\r\n    Instant.now().truncatedTo( ChronoUnit.MILLIS ).toString()\r\n\r\nBut remember, if you happened to have a fractional second of zero, no fractional second digits at all would appear in the resulting `String` object. \r\n\r\n\r\n## `Z`\r\n\r\nThe `Z` on the end of your desired format means an offset of zero. Pronounced “Zulu”. Comes from aviation/military history. Standardized in ISO 8601. \r\n\r\n## Avoid legacy date-time classes\r\n\r\nYou said:\r\n\r\n&gt;I tried using the zoneddatetime and simple date format\r\n\r\nThe [`java.time.ZonedDateTime`][15] class is for representing a moment as seen in a particular time zone. Your desired format has no time zone, only an offset of zero. So `ZonedDateTime` is not appropriate here. Use `Instant` instead, or use [`OffsetDateTime`][16] if you need more flexibility such as other formatters. \r\n\r\nDefinitions:\r\n\r\n - An [offset][3] is **merely a number of hours-minutes-seconds** ahead or behind the temporal prime meridian of UTC.\r\n - A [time zone][17] is much more. A time zone is a **named history of the past, present, and future changes to the offset** used by the people of a particular region as decided by their politicians. \r\n\r\nNever use the terribly flawed classes of `SimpleDateFormat`, `Date`, `Calendar`, etc. These are now legacy since Java 8+, supplanted by the modern *java.time* classes defined in JSR 310. \r\n\r\n\r\n  [1]: https://ideone.com/9MMZAm\r\n  [2]: https://stackoverflow.com/questions/74356407/how-to-get-the-date-and-time-in-format-2022-10-03t194547-844z-in-java#comment131268994_74356407\r\n  [3]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [4]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#toString()\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT\r\n  [7]: https://en.wikipedia.org/wiki/Millisecond\r\n  [8]: https://en.wikipedia.org/wiki/Microsecond\r\n  [9]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [10]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html\r\n  [11]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [12]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#truncatedTo(java.time.temporal.TemporalUnit)\r\n  [13]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/ChronoUnit.html\r\n  [14]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/TemporalUnit.html\r\n  [15]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html\r\n  [16]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\r\n  [17]: https://en.wikipedia.org/wiki/Time_zone","title":"How to get the date and time in format 2022-10-03T19:45:47.844Z in Java","body":"<h1>tl;dr</h1>\n<pre><code>Instant.now().toString()\n</code></pre>\n<p>See this <a href=\"https://ideone.com/9MMZAm\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n<blockquote>\n<p>2022-11-08T07:18:21.482293Z</p>\n</blockquote>\n<h1><code>Instant.now().toString()</code></h1>\n<p>As <a href=\"https://stackoverflow.com/questions/74356407/how-to-get-the-date-and-time-in-format-2022-10-03t194547-844z-in-java#comment131268994_74356407\">commented by Ole V.V.</a>, you can capture the current moment as seen with an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset</a> of zero hours-minutes-seconds from UTC by using the <code>java.time.Instant</code> class.</p>\n<pre><code>Instant instant = Instant.now() ;\n</code></pre>\n<h2>ISO 8601</h2>\n<p>You can generate a string in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format, your desired format. by calling <code>Instant#toString()</code>.</p>\n<pre><code>String output = instant.toString() ;\n</code></pre>\n<p>Of course we can combine these:</p>\n<pre><code>Instant.now().toString()  \n</code></pre>\n<h2>Resolution</h2>\n<p>An <code>Instant</code> represents a moment in UTC with a resolution as fine as nanoseconds.</p>\n<p>Note that <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#toString()\" rel=\"nofollow noreferrer\"><code>Instant#toString</code></a> uses a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html#ISO_INSTANT\" rel=\"nofollow noreferrer\">formatter</a> that formats the fractional seconds in groups of three digits, up to nine digits for nanoseconds. Any finer group of all zeros is suppressed. So if your <code>Instant</code> has only <a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"nofollow noreferrer\">milliseconds</a> with zero <a href=\"https://en.wikipedia.org/wiki/Microsecond\" rel=\"nofollow noreferrer\">microseconds</a>/<a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a>, you get three digits. If micros without nanos, six digits. If nanos, nine digits.</p>\n<p>You will likely capture the current moment with:</p>\n<ul>\n<li>Milliseconds (3 digits in fractional second) in Java 8.</li>\n<li>Microseconds (6 digits) in Java 9 and later, due to a fresh implementation of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html\" rel=\"nofollow noreferrer\"><code>Clock</code></a> class in the <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a> project’s codebase.</li>\n</ul>\n<p>Common computer hardware clocks are not accurate in nanoseconds. So a <code>Instant</code> can represent a value with nanoseconds, but you'll not likely see the current moment captured with that precision.</p>\n<p>If you want only milliseconds, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Instant.html#truncatedTo(java.time.temporal.TemporalUnit)\" rel=\"nofollow noreferrer\">truncate</a>. Specify your desired granularity by way of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/ChronoUnit.html\" rel=\"nofollow noreferrer\"><code>ChronoUnit</code></a> enum, and implementation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/TemporalUnit.html\" rel=\"nofollow noreferrer\"><code>TemporalUnit</code></a>.</p>\n<pre><code>Instant.now().truncatedTo( ChronoUnit.MILLIS ).toString()\n</code></pre>\n<p>But remember, if you happened to have a fractional second of zero, no fractional second digits at all would appear in the resulting <code>String</code> object.</p>\n<h2><code>Z</code></h2>\n<p>The <code>Z</code> on the end of your desired format means an offset of zero. Pronounced “Zulu”. Comes from aviation/military history. Standardized in ISO 8601.</p>\n<h2>Avoid legacy date-time classes</h2>\n<p>You said:</p>\n<blockquote>\n<p>I tried using the zoneddatetime and simple date format</p>\n</blockquote>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>java.time.ZonedDateTime</code></a> class is for representing a moment as seen in a particular time zone. Your desired format has no time zone, only an offset of zero. So <code>ZonedDateTime</code> is not appropriate here. Use <code>Instant</code> instead, or use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a> if you need more flexibility such as other formatters.</p>\n<p>Definitions:</p>\n<ul>\n<li>An <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"nofollow noreferrer\">offset</a> is <strong>merely a number of hours-minutes-seconds</strong> ahead or behind the temporal prime meridian of UTC.</li>\n<li>A <a href=\"https://en.wikipedia.org/wiki/Time_zone\" rel=\"nofollow noreferrer\">time zone</a> is much more. A time zone is a <strong>named history of the past, present, and future changes to the offset</strong> used by the people of a particular region as decided by their politicians.</li>\n</ul>\n<p>Never use the terribly flawed classes of <code>SimpleDateFormat</code>, <code>Date</code>, <code>Calendar</code>, etc. These are now legacy since Java 8+, supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n"}],"owner":{"account_id":26863309,"reputation":61,"user_id":20446428,"display_name":"Pranoy Kakubal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3635,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":3,"score":5,"last_activity_date":1667963649,"creation_date":1667888201,"question_id":74356407,"body_markdown":"I need the current system date and time in 2022-10-03T19:45:47.844Z format in a java class.\r\n\r\n\r\n\r\nI tried using the zoneddatetime and simple date format but couldn&#39;t get the write syntax or code from online. I&#39;m beginner in Java, any help is appreciated.\r\nThanks.","title":"How to get the date and time in format 2022-10-03T19:45:47.844Z in Java","body":"<p>I need the current system date and time in 2022-10-03T19:45:47.844Z format in a java class.</p>\n<p>I tried using the zoneddatetime and simple date format but couldn't get the write syntax or code from online. I'm beginner in Java, any help is appreciated.\nThanks.</p>\n"},{"tags":["java","sonarqube","code-coverage","sonarcloud"],"comments":[{"owner":{"account_id":4470329,"reputation":1272,"user_id":3636822,"display_name":"tomasulo"},"score":0,"creation_date":1571385809,"post_id":58446379,"comment_id":103231196,"body_markdown":"What does the configuration of the `jacoco-maven-plugin` in your `pom.xml` look like?","body":"What does the configuration of the <code>jacoco-maven-plugin</code> in your <code>pom.xml</code> look like?"},{"owner":{"account_id":16669822,"reputation":379,"user_id":12047586,"display_name":"Imaguest"},"score":0,"creation_date":1571385924,"post_id":58446379,"comment_id":103231251,"body_markdown":"You can use the property `sonar.coverage.exclusions` like you&#39;ve used `sonar.test.exclusions`","body":"You can use the property <code>sonar.coverage.exclusions</code> like you&#39;ve used <code>sonar.test.exclusions</code>"}],"answers":[{"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571399436,"creation_date":1571399436,"answer_id":58450300,"question_id":58446379,"body_markdown":"Note that coverage is displayed for files classified as *sources*, and not displayed for files classified as *tests*.\r\n\r\nThis looks like a mistake:\r\n\r\n&gt;     -Dsonar.test.exclusions=project/src/test/**/*Test.java\r\n\r\nIf you want `*Test.java` files to be treated as tests, and thereby exclude them from sources and therefore coverage computations, then change that line to be an *inclusion* instead of an *exclusion*:\r\n\r\n    -Dsonar.test.inclusions=project/src/test/**/*Test.java\r\n\r\n---\r\n\r\nAs an aside: why are you using `sonar-scanner` instead of `mvn sonar:sonar`?","title":"SonarCloud shows coverage for test class although test classes are excluded","body":"<p>Note that coverage is displayed for files classified as <em>sources</em>, and not displayed for files classified as <em>tests</em>.</p>\n\n<p>This looks like a mistake:</p>\n\n<blockquote>\n<pre><code>-Dsonar.test.exclusions=project/src/test/**/*Test.java\n</code></pre>\n</blockquote>\n\n<p>If you want <code>*Test.java</code> files to be treated as tests, and thereby exclude them from sources and therefore coverage computations, then change that line to be an <em>inclusion</em> instead of an <em>exclusion</em>:</p>\n\n<pre><code>-Dsonar.test.inclusions=project/src/test/**/*Test.java\n</code></pre>\n\n<hr>\n\n<p>As an aside: why are you using <code>sonar-scanner</code> instead of <code>mvn sonar:sonar</code>?</p>\n"},{"tags":[],"owner":{"account_id":17403057,"reputation":481,"user_id":12611597,"display_name":"jdk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667963564,"creation_date":1667963564,"answer_id":74369514,"question_id":58446379,"body_markdown":"In my root pom.xml, adding following two lines resolved the issue,\r\n\r\n```\r\n\t\t&lt;sonar.sources&gt;**/main/java/**/*&lt;/sonar.sources&gt;\r\n\t\t&lt;sonar.inclusions&gt;**/main/java/**/*&lt;/sonar.inclusions&gt;\r\n```\r\nThis doesn&#39;t count *Test.java files from src/test folder in coverage report.\r\n","title":"SonarCloud shows coverage for test class although test classes are excluded","body":"<p>In my root pom.xml, adding following two lines resolved the issue,</p>\n<pre><code>        &lt;sonar.sources&gt;**/main/java/**/*&lt;/sonar.sources&gt;\n        &lt;sonar.inclusions&gt;**/main/java/**/*&lt;/sonar.inclusions&gt;\n</code></pre>\n<p>This doesn't count *Test.java files from src/test folder in coverage report.</p>\n"}],"owner":{"account_id":1408474,"reputation":1578,"user_id":1335594,"accept_rate":68,"display_name":"Abhijeet Vaikar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2777,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1667963564,"creation_date":1571385428,"question_id":58446379,"body_markdown":"I have set up SonarCloud analysis for a Java project which triggers analysis when a PR is created on the git repository.\r\n\r\nThe command for triggering the check in my `.travis.yml` file is:\r\n\r\n```\r\nmvn clean compile test dependency:copy-dependencies\r\nsonar-scanner \r\n-Dsonar.projectKey=project-key \r\n-Dsonar.java.binaries=project/target/classes \r\n-Dsonar.java.test.binaries=project/target/test-classes \r\n-Dsonar.java.libraries=project/target/dependency \r\n-Dsonar.java.test.libraries=project/target/dependency \r\n-Dsonar.test.exclusions=project/src/test/**/*Test.java\r\n\r\n```\r\n\r\n**What is expected**&lt;br&gt;\r\nIf someone checks-in code in a Pull Request that has a test class then it should not be considered for coverage. Only the target class should be.\r\n\r\n**What is happening**&lt;br&gt;\r\nIf I check-in 2 classes `SonarSample.java` and `SonarSampleTest.java` then SonarCloud shows coverage for both the classes.\r\n\r\n[![enter image description here][1]][1]\r\nHow can I exclude the test class from being considered for coverage data?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f11Oy.png","title":"SonarCloud shows coverage for test class although test classes are excluded","body":"<p>I have set up SonarCloud analysis for a Java project which triggers analysis when a PR is created on the git repository.</p>\n\n<p>The command for triggering the check in my <code>.travis.yml</code> file is:</p>\n\n<pre><code>mvn clean compile test dependency:copy-dependencies\nsonar-scanner \n-Dsonar.projectKey=project-key \n-Dsonar.java.binaries=project/target/classes \n-Dsonar.java.test.binaries=project/target/test-classes \n-Dsonar.java.libraries=project/target/dependency \n-Dsonar.java.test.libraries=project/target/dependency \n-Dsonar.test.exclusions=project/src/test/**/*Test.java\n\n</code></pre>\n\n<p><strong>What is expected</strong><br>\nIf someone checks-in code in a Pull Request that has a test class then it should not be considered for coverage. Only the target class should be.</p>\n\n<p><strong>What is happening</strong><br>\nIf I check-in 2 classes <code>SonarSample.java</code> and <code>SonarSampleTest.java</code> then SonarCloud shows coverage for both the classes.</p>\n\n<p><a href=\"https://i.stack.imgur.com/f11Oy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f11Oy.png\" alt=\"enter image description here\"></a>\nHow can I exclude the test class from being considered for coverage data?</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1524412539,"post_id":49967864,"comment_id":86951340,"body_markdown":"What exception do you see in the console??","body":"What exception do you see in the console??"}],"answers":[{"tags":[],"owner":{"account_id":3788825,"reputation":23829,"user_id":3145960,"accept_rate":100,"display_name":"Reaz Murshed"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1524412722,"creation_date":1524412649,"answer_id":49967897,"question_id":49967864,"body_markdown":"If you look at the [docs][1] you&#39;ll see that `Resources.getSystem().getStrings` will provide you with system wide strings, not the ones in your application (`strings.xml`).\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/content/res/Resources.html#getSystem()\r\n\r\nReplace the following line \r\n\r\n    String url = Resources.getSystem().getString(R.string.song);\r\n\r\nwith the following. \r\n\r\n    String url = v.getContext().getResources().getString(R.string.song);","title":"how to get string from string.xml in adapter class on click method","body":"<p>If you look at the <a href=\"https://developer.android.com/reference/android/content/res/Resources.html#getSystem()\" rel=\"noreferrer\">docs</a> you'll see that <code>Resources.getSystem().getStrings</code> will provide you with system wide strings, not the ones in your application (<code>strings.xml</code>).</p>\n\n<p>Replace the following line </p>\n\n<pre><code>String url = Resources.getSystem().getString(R.string.song);\n</code></pre>\n\n<p>with the following. </p>\n\n<pre><code>String url = v.getContext().getResources().getString(R.string.song);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20517284,"reputation":155,"user_id":15057647,"display_name":"Zeus Almighty"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667962182,"creation_date":1619704309,"answer_id":67318778,"question_id":49967864,"body_markdown":"You can also use context of `TextView` inside apply method from Kotlin.\r\n\r\n**Kotlin:**\r\n\r\n```kotlin\r\ntextView.apply {\r\n    context.resources.getString(R.string.your_string)\r\n}\r\n```","title":"how to get string from string.xml in adapter class on click method","body":"<p>You can also use context of <code>TextView</code> inside apply method from Kotlin.</p>\n<p><strong>Kotlin:</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>textView.apply {\n    context.resources.getString(R.string.your_string)\n}\n</code></pre>\n"}],"owner":{"account_id":10960381,"reputation":148,"user_id":8053880,"display_name":"Muhammad Hasher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5298,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":49967897,"answer_count":2,"score":7,"last_activity_date":1667962182,"creation_date":1524412434,"question_id":49967864,"body_markdown":"I want to get string in my adapter class on view holder in on click method my app crash when i implement  the code write below in on click `if(postion==1)`.\r\n\r\n    public class Adapter extends RecyclerView.Adapter&lt;Adapter.ViewHolder&gt;{\r\n    \r\n        private Context context;\r\n        String SongURL;\r\n        private String[] data;\r\n        public Adapter(String[] data){\r\n            this.data = data;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            LayoutInflater inflater = LayoutInflater.from(parent.getContext());\r\n            View view = inflater.inflate(R.layout.activity_list_item,parent,false);\r\n            return new ViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, final int position) {\r\n            String title = data[position];\r\n            holder.text.setText(title);\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return data.length;\r\n        }\r\n    \r\n        public class ViewHolder extends RecyclerView.ViewHolder{\r\n    \r\n            ImageView img;\r\n            TextView text;\r\n    \r\n            public ViewHolder(final View itemView) {\r\n                super(itemView);\r\n                img = (ImageView) itemView.findViewById(R.id.image1);\r\n                text = (TextView) itemView.findViewById(R.id.text1);\r\n                itemView.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        int postion =getAdapterPosition();\r\n                        if (postion==0){\r\n                            String url = &quot;http://sound41.songsbling.link/2016/english-songs/loud-rihanna/12%20-%20Love%20The%20Way%20You%20Lie%20Part%20I%20Bonus%20From%20Us%20%20-%20Loud%20-%20[SongsPK.city].mp3&quot;;\r\n                            Intent intent = new Intent(v.getContext(),player.class);\r\n                            intent.putExtra(&quot;url&quot;,url);\r\n                            v.getContext().startActivity(intent);\r\n                        }\r\n                        if (postion==1){\r\n    \r\n                            // *This code crashes the app*\r\n                            String url=Resources.getSystem().getString(R.string.song);\r\n    \r\n                        Intent intent = new Intent(v.getContext(),player.class);\r\n                        intent.putExtra(&quot;url&quot;,url);\r\n                        v.getContext().startActivity(intent);\r\n                    }\r\n                }\r\n            });\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\n","title":"how to get string from string.xml in adapter class on click method","body":"<p>I want to get string in my adapter class on view holder in on click method my app crash when i implement  the code write below in on click <code>if(postion==1)</code>.</p>\n\n<pre><code>public class Adapter extends RecyclerView.Adapter&lt;Adapter.ViewHolder&gt;{\n\n    private Context context;\n    String SongURL;\n    private String[] data;\n    public Adapter(String[] data){\n        this.data = data;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n        View view = inflater.inflate(R.layout.activity_list_item,parent,false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, final int position) {\n        String title = data[position];\n        holder.text.setText(title);\n    }\n\n    @Override\n    public int getItemCount() {\n        return data.length;\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder{\n\n        ImageView img;\n        TextView text;\n\n        public ViewHolder(final View itemView) {\n            super(itemView);\n            img = (ImageView) itemView.findViewById(R.id.image1);\n            text = (TextView) itemView.findViewById(R.id.text1);\n            itemView.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    int postion =getAdapterPosition();\n                    if (postion==0){\n                        String url = \"http://sound41.songsbling.link/2016/english-songs/loud-rihanna/12%20-%20Love%20The%20Way%20You%20Lie%20Part%20I%20Bonus%20From%20Us%20%20-%20Loud%20-%20[SongsPK.city].mp3\";\n                        Intent intent = new Intent(v.getContext(),player.class);\n                        intent.putExtra(\"url\",url);\n                        v.getContext().startActivity(intent);\n                    }\n                    if (postion==1){\n\n                        // *This code crashes the app*\n                        String url=Resources.getSystem().getString(R.string.song);\n\n                    Intent intent = new Intent(v.getContext(),player.class);\n                    intent.putExtra(\"url\",url);\n                    v.getContext().startActivity(intent);\n                }\n            }\n        });\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","kotlin"],"answers":[{"tags":[],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667961875,"creation_date":1667961875,"answer_id":74369381,"question_id":74368167,"body_markdown":"\r\n\r\nYou can use `env`\r\n\r\n    import org.springframework.core.env.get\r\n\r\n    val beans = beans {\r\n        bean {\r\n          Thing(env[&quot;foo&quot;]) \r\n        }\r\n    }","title":"How to inject @Value into a bean using kotlin beans DSL","body":"<p>You can use <code>env</code></p>\n<pre><code>import org.springframework.core.env.get\n\nval beans = beans {\n    bean {\n      Thing(env[&quot;foo&quot;]) \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74369381,"answer_count":1,"score":0,"last_activity_date":1667961875,"creation_date":1667948807,"question_id":74368167,"body_markdown":"I need to inject some config values into a bean, and I am trying to use the new dsl for kotlin. Basically, I need the java equivalent of the following, but for kotlin bean DSL\r\n\r\n```java\r\n\r\npublic Thing myThing(@Value(&quot;${foo}&quot;) String foo) {\r\n   return new Thing(foo)\r\n}\r\n```\r\nin Kotlin DSL:\r\n\r\n```kotlin\r\nval beans = beans {\r\n    bean {\r\n      Thing(&quot;????? How to get foo&quot;) // I need @Value(&quot;${foo}&quot;) here\r\n    }\r\n}","title":"How to inject @Value into a bean using kotlin beans DSL","body":"<p>I need to inject some config values into a bean, and I am trying to use the new dsl for kotlin. Basically, I need the java equivalent of the following, but for kotlin bean DSL</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic Thing myThing(@Value(&quot;${foo}&quot;) String foo) {\n   return new Thing(foo)\n}\n</code></pre>\n<p>in Kotlin DSL:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val beans = beans {\n    bean {\n      Thing(&quot;????? How to get foo&quot;) // I need @Value(&quot;${foo}&quot;) here\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","azure-blob-storage"],"comments":[{"owner":{"account_id":63568,"reputation":129737,"user_id":188096,"accept_rate":93,"display_name":"Gaurav Mantri"},"score":0,"creation_date":1667452400,"post_id":74298101,"comment_id":131171468,"body_markdown":"Please edit your question and include your code. There could be many reasons why the upload is not working.","body":"Please edit your question and include your code. There could be many reasons why the upload is not working."},{"owner":{"account_id":26767023,"reputation":11,"user_id":20364012,"display_name":"SATWIK BADANI"},"score":0,"creation_date":1667482362,"post_id":74298101,"comment_id":131180430,"body_markdown":"Found the Solution, my access to the blob storage got restricted. Sorry for the incomplete question, will do it from next time @GauravMantri thanks for the suggestion :)","body":"Found the Solution, my access to the blob storage got restricted. Sorry for the incomplete question, will do it from next time @GauravMantri thanks for the suggestion :)"},{"owner":{"account_id":24666064,"reputation":365,"user_id":18561714,"display_name":"tabbyfoo"},"score":0,"creation_date":1667853990,"post_id":74298101,"comment_id":131262845,"body_markdown":"Please add your solution as an answer and mark it as accepted too. It helps other users who might have a similar issue to keep things organized.","body":"Please add your solution as an answer and mark it as accepted too. It helps other users who might have a similar issue to keep things organized."}],"answers":[{"tags":[],"owner":{"account_id":26767023,"reputation":11,"user_id":20364012,"display_name":"SATWIK BADANI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667961566,"creation_date":1667961566,"answer_id":74369361,"question_id":74298101,"body_markdown":"I have resolved this issue by adding my client IP Address in Firewalls and Virtual Networks. \r\nIf you are facing a similar problem you might not have access for reading or writing in the Azure blob.\r\nAll you need to do is open the Azure Resource group -&gt; Storage account -&gt; In the Security + networking section you have an option called Networking -&gt; In the Firewall section you can see an option called **Add your client IP address**, you can check that check box and save your changes.\r\nThat&#39;s it you&#39;ll get access to read or write the blob storage after that.","title":"Azure blob refuses to upload a document","body":"<p>I have resolved this issue by adding my client IP Address in Firewalls and Virtual Networks.\nIf you are facing a similar problem you might not have access for reading or writing in the Azure blob.\nAll you need to do is open the Azure Resource group -&gt; Storage account -&gt; In the Security + networking section you have an option called Networking -&gt; In the Firewall section you can see an option called <strong>Add your client IP address</strong>, you can check that check box and save your changes.\nThat's it you'll get access to read or write the blob storage after that.</p>\n"}],"owner":{"account_id":26767023,"reputation":11,"user_id":20364012,"display_name":"SATWIK BADANI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":74369361,"answer_count":1,"score":-3,"last_activity_date":1667961566,"creation_date":1667448975,"question_id":74298101,"body_markdown":"Caused by: com.azure.storage.blob.models.BlobStorageException: If you are using a StorageSharedKeyCredential, and the server returned an error message that says &#39;Signature did not match&#39;, you can compare the string to sign with the one generated by the SDK. To log the string to sign, pass in the context key value pair &#39;Azure-Storage-Log-String-To-Sign&#39;: true to the appropriate method call.\r\nIf you are using a SAS token, and the server returned an error message that says &#39;Signature did not match&#39;, you can compare the string to sign with the one generated by the SDK. To log the string to sign, pass in the context key value pair &#39;Azure-Storage-Log-String-To-Sign&#39;: true to the appropriate generateSas method call.\r\nPlease remember to disable &#39;Azure-Storage-Log-String-To-Sign&#39; before going to production as this string can potentially contain PII.\r\nStatus code 403, &quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;Error&gt;&lt;Code&gt;AuthorizationFailure&lt;/Code&gt;&lt;Message&gt;This request is not authorized to perform this operation.\r\n\r\nI have tried uploading a document to azure blob.","title":"Azure blob refuses to upload a document","body":"<p>Caused by: com.azure.storage.blob.models.BlobStorageException: If you are using a StorageSharedKeyCredential, and the server returned an error message that says 'Signature did not match', you can compare the string to sign with the one generated by the SDK. To log the string to sign, pass in the context key value pair 'Azure-Storage-Log-String-To-Sign': true to the appropriate method call.\nIf you are using a SAS token, and the server returned an error message that says 'Signature did not match', you can compare the string to sign with the one generated by the SDK. To log the string to sign, pass in the context key value pair 'Azure-Storage-Log-String-To-Sign': true to the appropriate generateSas method call.\nPlease remember to disable 'Azure-Storage-Log-String-To-Sign' before going to production as this string can potentially contain PII.\nStatus code 403, &quot;<Code>AuthorizationFailure</Code>This request is not authorized to perform this operation.</p>\n<p>I have tried uploading a document to azure blob.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1667931854,"post_id":74365477,"comment_id":131284498,"body_markdown":"Add code as text not as image","body":"Add code as text not as image"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1667931910,"post_id":74365477,"comment_id":131284514,"body_markdown":"Welcome to Stack Overflow.  Please do not supply code, error messages, or other textual output as images.  Instead, include the text directly in your question, properly formatted.","body":"Welcome to Stack Overflow.  Please do not supply code, error messages, or other textual output as images.  Instead, include the text directly in your question, properly formatted."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1667931925,"post_id":74365477,"comment_id":131284520,"body_markdown":"Those errors are from different code to what you posted","body":"Those errors are from different code to what you posted"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1667931971,"post_id":74365477,"comment_id":131284534,"body_markdown":"What is the contents of &quot;exercise_prog1.java&quot;?  Apparently, that file refers to an identifier named `exp` that has not been defined.","body":"What is the contents of &quot;exercise_prog1.java&quot;?  Apparently, that file refers to an identifier named <code>exp</code> that has not been defined."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1667932001,"post_id":74365477,"comment_id":131284548,"body_markdown":"Take care of java naming conventions. Class names should start with upper case character and should be CamelCase not Snake_case","body":"Take care of java naming conventions. Class names should start with upper case character and should be CamelCase not Snake_case"},{"owner":{"account_id":15449163,"reputation":102,"user_id":11145145,"display_name":"Thomton"},"score":0,"creation_date":1667932006,"post_id":74365477,"comment_id":131284551,"body_markdown":"Yeah the error literally tells you what&#39;s wrong `exp` and `exerciseprog2` cannot be resolved to a variable so you need to show us the code that contains these two &#39;variables&#39;","body":"Yeah the error literally tells you what&#39;s wrong <code>exp</code> and <code>exerciseprog2</code> cannot be resolved to a variable so you need to show us the code that contains these two &#39;variables&#39;"},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1667932221,"post_id":74365477,"comment_id":131284618,"body_markdown":"You might want to try moving the source file you show to a different directory.  It sounds like you&#39;ve got a directory full of Java files, and you&#39;re attempting to execute one of them.  Java is likely attempting to compile all of the source files in that same directory, and some of them are not valid and so don&#39;t compile, and so you get the errors you&#39;re seeing.","body":"You might want to try moving the source file you show to a different directory.  It sounds like you&#39;ve got a directory full of Java files, and you&#39;re attempting to execute one of them.  Java is likely attempting to compile all of the source files in that same directory, and some of them are not valid and so don&#39;t compile, and so you get the errors you&#39;re seeing."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1668749772,"post_id":74365477,"comment_id":131486732,"body_markdown":"May I know what&#39;s going on with the problem? This [document](https://code.visualstudio.com/docs/java/java-tutorial) may be helpful. –","body":"May I know what&#39;s going on with the problem? This <a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\">document</a> may be helpful. –"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667960416,"creation_date":1667960416,"answer_id":74369246,"question_id":74365477,"body_markdown":"There should be multiple java files inside the folder you are currently opening in vscode and you are running one of them. There is a bug in another java script that causes a compilation error when you run the current file. \r\n\r\nIt doesn&#39;t matter, you just need to click on `Proceed` in the popup, which will continue to run the current code. As long as your current code has no errors, the program will run successfully and output the result.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnother way is to install [**Code Runner**][2] and then use the `Run Code` option it brings to run the code. This way it will only compile and run the current file, and will not bring compile errors.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n*But be aware that **Code Runner** may have errors when your file structure is complex.*\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N7N5s.png\r\n  [2]: https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\r\n  [3]: https://i.stack.imgur.com/3auxf.png","title":"Error while running a program on java on visual studio code","body":"<p>There should be multiple java files inside the folder you are currently opening in vscode and you are running one of them. There is a bug in another java script that causes a compilation error when you run the current file.</p>\n<p>It doesn't matter, you just need to click on <code>Proceed</code> in the popup, which will continue to run the current code. As long as your current code has no errors, the program will run successfully and output the result.</p>\n<p><a href=\"https://i.stack.imgur.com/N7N5s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N7N5s.png\" alt=\"enter image description here\" /></a></p>\n<p>Another way is to install <a href=\"https://marketplace.visualstudio.com/items?itemName=formulahendry.code-runner\" rel=\"nofollow noreferrer\"><strong>Code Runner</strong></a> and then use the <code>Run Code</code> option it brings to run the code. This way it will only compile and run the current file, and will not bring compile errors.</p>\n<p><a href=\"https://i.stack.imgur.com/3auxf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3auxf.png\" alt=\"enter image description here\" /></a></p>\n<p><em>But be aware that <strong>Code Runner</strong> may have errors when your file structure is complex.</em></p>\n"}],"owner":{"account_id":21710164,"reputation":11,"user_id":16021892,"display_name":"Karan Sanghvi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1667960416,"creation_date":1667931713,"question_id":74365477,"body_markdown":"This is the porgram which I am running on visual studio code\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen I run the program I am getting this error box\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAfter getting the error box, it is showing this page.\r\n[![enter image description here][3]][3]\r\n\r\n\r\nWhat shall be done in this for the program to run on VS Code?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3X6d8.jpg\r\n  [2]: https://i.stack.imgur.com/7Ku3o.jpg\r\n  [3]: https://i.stack.imgur.com/CM9Ta.jpg","title":"Error while running a program on java on visual studio code","body":"<p>This is the porgram which I am running on visual studio code</p>\n<p><a href=\"https://i.stack.imgur.com/3X6d8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3X6d8.jpg\" alt=\"enter image description here\" /></a></p>\n<p>When I run the program I am getting this error box\n<a href=\"https://i.stack.imgur.com/7Ku3o.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Ku3o.jpg\" alt=\"enter image description here\" /></a></p>\n<p>After getting the error box, it is showing this page.\n<a href=\"https://i.stack.imgur.com/CM9Ta.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CM9Ta.jpg\" alt=\"enter image description here\" /></a></p>\n<p>What shall be done in this for the program to run on VS Code?</p>\n"},{"tags":["java","maven","osgi"],"answers":[{"tags":[],"owner":{"account_id":1095589,"reputation":1595,"user_id":1089242,"accept_rate":100,"display_name":"Lacek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667960262,"creation_date":1667960262,"answer_id":74369232,"question_id":70321873,"body_markdown":"You have to add corresponding annotation dependency to your `pom.xml`.\r\n\r\nThe [documentation of Maven SCR Plugin](https://felix.apache.org/documentation/subprojects/apache-felix-maven-scr-plugin/apache-felix-maven-scr-plugin-use.html) stated that:\r\n\r\n&gt; If you want to use the annotations from the Apache Felix project, add this dependency to your pom:\r\n&gt; \r\n&gt; ```xml\r\n&gt; &lt;project&gt;\r\n&gt;   ...\r\n&gt;   &lt;dependencies&gt;\r\n&gt;     ...\r\n&gt;     &lt;dependency&gt;\r\n&gt;          &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n&gt;          &lt;artifactId&gt;org.apache.felix.scr.annotations&lt;/artifactId&gt;\r\n&gt;          &lt;version&gt;1.12.0&lt;/version&gt;\r\n&gt;          &lt;scope&gt;provided&lt;/scope&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     ...\r\n&gt;   &lt;/dependencies&gt;\r\n&gt;   ...\r\n&gt; &lt;/project&gt;\r\n&gt; ```\r\n\r\nAnd that:\r\n\r\n&gt; If you want to process the standard annotations with the maven-scr-plugin add this dependency:\r\n&gt; \r\n&gt; ```xml\r\n&gt; &lt;project&gt;\r\n&gt;   ...\r\n&gt;   &lt;dependencies&gt;\r\n&gt;     ...\r\n&gt;     &lt;dependency&gt;\r\n&gt;          &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n&gt;          &lt;artifactId&gt;org.apache.felix.scr.ds-annotations&lt;/artifactId&gt;\r\n&gt;          &lt;version&gt;1.2.10&lt;/version&gt;\r\n&gt;          &lt;scope&gt;provided&lt;/scope&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt;     ...\r\n&gt;   &lt;/dependencies&gt;\r\n&gt;   ...\r\n&gt; &lt;/project&gt;\r\n&gt; ```","title":"maven-scr-plugin shows No annotation processors found in classpath error","body":"<p>You have to add corresponding annotation dependency to your <code>pom.xml</code>.</p>\n<p>The <a href=\"https://felix.apache.org/documentation/subprojects/apache-felix-maven-scr-plugin/apache-felix-maven-scr-plugin-use.html\" rel=\"nofollow noreferrer\">documentation of Maven SCR Plugin</a> stated that:</p>\n<blockquote>\n<p>If you want to use the annotations from the Apache Felix project, add this dependency to your pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  ...\n  &lt;dependencies&gt;\n    ...\n    &lt;dependency&gt;\n         &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n         &lt;artifactId&gt;org.apache.felix.scr.annotations&lt;/artifactId&gt;\n         &lt;version&gt;1.12.0&lt;/version&gt;\n         &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    ...\n  &lt;/dependencies&gt;\n  ...\n&lt;/project&gt;\n</code></pre>\n</blockquote>\n<p>And that:</p>\n<blockquote>\n<p>If you want to process the standard annotations with the maven-scr-plugin add this dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  ...\n  &lt;dependencies&gt;\n    ...\n    &lt;dependency&gt;\n         &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n         &lt;artifactId&gt;org.apache.felix.scr.ds-annotations&lt;/artifactId&gt;\n         &lt;version&gt;1.2.10&lt;/version&gt;\n         &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    ...\n  &lt;/dependencies&gt;\n  ...\n&lt;/project&gt;\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":23569441,"reputation":127,"user_id":17609755,"display_name":"Ramachandran Rajasekaran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667960262,"creation_date":1639295855,"question_id":70321873,"body_markdown":"I am trying to build OSGi bundle using the maven build tool. \r\n\r\nUsing the maven-scr-plugin and maven-bundle-plugin to build the project,\r\n```\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-scr-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.26.4&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-scr-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.26.4&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;generate-scr-scrdescriptor&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;scr&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;instructions&gt;\r\n\t\t\t\t\t\t&lt;Bundle-SymbolicName&gt;${pom.groupId}.${pom.artifactId}&lt;/Bundle-SymbolicName&gt;\r\n\t\t\t\t\t\t&lt;Export-Package&gt;com.osgi.mini.project.*&lt;/Export-Package&gt;\r\n\t\t\t\t\t&lt;/instructions&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\n\r\nBut when the maven-scr-plugin is added to the pom file it was throwing an exception when building the maven project. In eclipse, the &quot;execution&quot; tag is highlighted under the maven-scr-plugin which was causing throwing the below exception,\r\n```\r\nNo annotation processors found in classpath. (org.apache.felix:maven-scr-plugin:1.26.4:scr:generate-scr-scrdescriptor:process-classes)\r\n\r\norg.apache.maven.plugin.MojoFailureException: No annotation processors found in classpath.\r\n\tat org.apache.felix.scrplugin.mojo.SCRDescriptorMojo.execute(SCRDescriptorMojo.java:253)\r\n\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:332)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenImpl.lambda$8(MavenImpl.java:1379)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:179)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:114)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:1378)\r\n\tat org.eclipse.m2e.core.project.configurator.MojoExecutionBuildParticipant.build(MojoExecutionBuildParticipant.java:54)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilderImpl.build(MavenBuilderImpl.java:135)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:169)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:1)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.lambda$1(MavenBuilder.java:114)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:179)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:114)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.lambda$0(MavenBuilder.java:105)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:179)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:153)\r\n\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:101)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.execute(MavenBuilder.java:88)\r\n\tat org.eclipse.m2e.core.internal.builder.MavenBuilder.build(MavenBuilder.java:197)\r\n\tat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:832)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:220)\r\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:263)\r\n\tat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:316)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:319)\r\n\tat org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:371)\r\n\tat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:392)\r\n\tat org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:154)\r\n\tat org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:244)\r\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\nCaused by: org.apache.felix.scrplugin.SCRDescriptorFailureException: No annotation processors found in classpath.\r\n\tat org.apache.felix.scrplugin.helper.AnnotationProcessorManager.&lt;init&gt;(AnnotationProcessorManager.java:78)\r\n```\r\n\r\n","title":"maven-scr-plugin shows No annotation processors found in classpath error","body":"<p>I am trying to build OSGi bundle using the maven build tool.</p>\n<p>Using the maven-scr-plugin and maven-bundle-plugin to build the project,</p>\n<pre><code>                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-scr-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.26.4&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-scr-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.26.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-scr-scrdescriptor&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;scr&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;instructions&gt;\n                        &lt;Bundle-SymbolicName&gt;${pom.groupId}.${pom.artifactId}&lt;/Bundle-SymbolicName&gt;\n                        &lt;Export-Package&gt;com.osgi.mini.project.*&lt;/Export-Package&gt;\n                    &lt;/instructions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>But when the maven-scr-plugin is added to the pom file it was throwing an exception when building the maven project. In eclipse, the &quot;execution&quot; tag is highlighted under the maven-scr-plugin which was causing throwing the below exception,</p>\n<pre><code>No annotation processors found in classpath. (org.apache.felix:maven-scr-plugin:1.26.4:scr:generate-scr-scrdescriptor:process-classes)\n\norg.apache.maven.plugin.MojoFailureException: No annotation processors found in classpath.\n    at org.apache.felix.scrplugin.mojo.SCRDescriptorMojo.execute(SCRDescriptorMojo.java:253)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:332)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.lambda$8(MavenImpl.java:1379)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:179)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:114)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:1378)\n    at org.eclipse.m2e.core.project.configurator.MojoExecutionBuildParticipant.build(MojoExecutionBuildParticipant.java:54)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilderImpl.build(MavenBuilderImpl.java:135)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:169)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:1)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.lambda$1(MavenBuilder.java:114)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:179)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:114)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.lambda$0(MavenBuilder.java:105)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:179)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:153)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:101)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.execute(MavenBuilder.java:88)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder.build(MavenBuilder.java:197)\n    at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:832)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:220)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:263)\n    at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:316)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:319)\n    at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:371)\n    at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:392)\n    at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:154)\n    at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:244)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\nCaused by: org.apache.felix.scrplugin.SCRDescriptorFailureException: No annotation processors found in classpath.\n    at org.apache.felix.scrplugin.helper.AnnotationProcessorManager.&lt;init&gt;(AnnotationProcessorManager.java:78)\n</code></pre>\n"},{"tags":["java","jframe","jpanel","netbeans-8","mouse-cursor"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1667959438,"post_id":74369124,"comment_id":131291028,"body_markdown":"*it is a window with opacity* - opacity has to be set to 0, otherwise mouse events are handled by the frame.","body":"<i>it is a window with opacity</i> - opacity has to be set to 0, otherwise mouse events are handled by the frame."},{"owner":{"account_id":24185258,"reputation":11,"user_id":18145269,"display_name":"Cabred"},"score":0,"creation_date":1667959639,"post_id":74369124,"comment_id":131291049,"body_markdown":"is that I want it to apply a tone to the entire screen, it is like a color filter type","body":"is that I want it to apply a tone to the entire screen, it is like a color filter type"}],"owner":{"account_id":24185258,"reputation":11,"user_id":18145269,"display_name":"Cabred"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1667959013,"creation_date":1667959013,"question_id":74369124,"body_markdown":"I want the cursor to manage everything normally, but through the window that is fixed on top, it is a window with opacity but the actions do not go through the window, how can I achieve that? it is with java netbeans 8.2\r\n\r\nI have no idea how to make the window invisible to the cursor and just apply the window as a watermark to the entire screen.","title":"How do I control the cursor below the window?","body":"<p>I want the cursor to manage everything normally, but through the window that is fixed on top, it is a window with opacity but the actions do not go through the window, how can I achieve that? it is with java netbeans 8.2</p>\n<p>I have no idea how to make the window invisible to the cursor and just apply the window as a watermark to the entire screen.</p>\n"},{"tags":["java","linux","docker","intel-pin","monolithic"],"comments":[{"owner":{"account_id":238260,"reputation":7858,"user_id":507028,"display_name":"Neitsa"},"score":1,"creation_date":1667986290,"post_id":74368817,"comment_id":131296359,"body_markdown":"1) I&#39;m not sure Pin is the right tool for your need, unless you have JNI calls. Java is a JIT-ed language (your source is translated to bytecode which is then JIT-ed, that is translated to target CPU instructions). What you&#39;re going to obtain here is what the JVM is currently executing internally: you won&#39;t see anything (e.g. java function names and things like that) that could be possibly interesting for you (unless you are actually wanting to inspect how the JVM is performing internally). Moreover PIN is itself a JIT-er (of the target executables and binaries), that&#39;s double Jit-ing :(","body":"1) I&#39;m not sure Pin is the right tool for your need, unless you have JNI calls. Java is a JIT-ed language (your source is translated to bytecode which is then JIT-ed, that is translated to target CPU instructions). What you&#39;re going to obtain here is what the JVM is currently executing internally: you won&#39;t see anything (e.g. java function names and things like that) that could be possibly interesting for you (unless you are actually wanting to inspect how the JVM is performing internally). Moreover PIN is itself a JIT-er (of the target executables and binaries), that&#39;s double Jit-ing :("},{"owner":{"account_id":238260,"reputation":7858,"user_id":507028,"display_name":"Neitsa"},"score":1,"creation_date":1667986438,"post_id":74368817,"comment_id":131296406,"body_markdown":"2) So unless you need to do dynamic binary instrumentation on JNI calls or inspect the inner workings of the JVM I would definitely try to look for a tool dedicated specifically to Java, e.g. a Java profiler.","body":"2) So unless you need to do dynamic binary instrumentation on JNI calls or inspect the inner workings of the JVM I would definitely try to look for a tool dedicated specifically to Java, e.g. a Java profiler."},{"owner":{"account_id":14589084,"reputation":124,"user_id":10536873,"display_name":"De Santa Michell"},"score":0,"creation_date":1668027286,"post_id":74368817,"comment_id":131310986,"body_markdown":"@Neitsa Thank you! If that is the case, do you think disabling JIT would help?","body":"@Neitsa Thank you! If that is the case, do you think disabling JIT would help?"},{"owner":{"account_id":14589084,"reputation":124,"user_id":10536873,"display_name":"De Santa Michell"},"score":0,"creation_date":1668030207,"post_id":74368817,"comment_id":131311868,"body_markdown":"I actually attempted to disable JIT but the server still doesn&#39;t seem to run normally. By my understanding, PIN is injecting codes to extract runtime information, which is why we can&#39;t allow Java to use JIT since otherwise, it would be injecting into byte code, not machine code. But Since disabling JIT doesn&#39;t help, I suppose there are some other issue as well?","body":"I actually attempted to disable JIT but the server still doesn&#39;t seem to run normally. By my understanding, PIN is injecting codes to extract runtime information, which is why we can&#39;t allow Java to use JIT since otherwise, it would be injecting into byte code, not machine code. But Since disabling JIT doesn&#39;t help, I suppose there are some other issue as well?"},{"owner":{"account_id":1150960,"reputation":1788,"user_id":1132699,"accept_rate":84,"display_name":"nitzanms"},"score":0,"creation_date":1669010706,"post_id":74368817,"comment_id":131536633,"body_markdown":"The issue isn&#39;t jit, it is that pin is not made for managed languages/runtimes like java. You should look for java specific tools for java.","body":"The issue isn&#39;t jit, it is that pin is not made for managed languages/runtimes like java. You should look for java specific tools for java."}],"owner":{"account_id":14589084,"reputation":124,"user_id":10536873,"display_name":"De Santa Michell"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667955483,"creation_date":1667955483,"question_id":74368817,"body_markdown":"I am currently working on getting the CPU footprint from AcmeAir monolithic application:\r\nhttps://github.com/blueperf/acmeair-monolithic-java\r\n\r\nI have correctly setup the webapp and database and it can normally function in a docker container. \r\n\r\nNormally If I run this command inside the container:\r\n```\r\n/opt/java/openjdk/bin/java -javaagent:/opt/ol/wlp/bin/tools/ws-javaagent.jar -Djava.awt.headless=true -Djdk.attach.allowAttachSelf=true --add-exports java.base/sun.security.action=ALL-UNNAMED --add-exports java.naming/com.sun.jndi.ldap=ALL-UNNAMED --add-exports java.naming/com.sun.jndi.url.ldap=ALL-UNNAMED --add-exports jdk.naming.dns/com.sun.jndi.dns=ALL-UNNAMED --add-exports java.security.jgss/sun.security.krb5.internal=ALL-UNNAMED --add-exports jdk.attach/sun.tools.attach=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.util.concurrent=ALL-UNNAMED --add-opens java.base/java.io=ALL-UNNAMED --add-opens java.naming/javax.naming.spi=ALL-UNNAMED --add-opens jdk.naming.rmi/com.sun.jndi.url.rmi=ALL-UNNAMED --add-opens java.naming/javax.naming=ALL-UNNAMED --add-opens java.rmi/java.rmi=ALL-UNNAMED --add-opens java.sql/java.sql=ALL-UNNAMED --add-opens java.management/javax.management=ALL-UNNAMED --add-opens java.base/java.lang.reflect=ALL-UNNAMED --add-opens java.desktop/java.awt.image=ALL-UNNAMED --add-opens java.base/java.security=ALL-UNNAMED --add-opens java.base/java.net=ALL-UNNAMED --add-opens java.base/java.text=ALL-UNNAMED --add-opens java.base/sun.net.www.protocol.https=ALL-UNNAMED --add-exports jdk.management.agent/jdk.internal.agent=ALL-UNNAMED --add-exports java.base/jdk.internal.vm=ALL-UNNAMED -jar /opt/ol/wlp/bin/tools/ws-server.jar defaultServer\r\n```\r\n\r\nThe server will properly boot up and function normally.\r\n\r\nHowever, when I attach PIN onto the process, the server stop function normally. \r\n\r\nI have tried three approach:\r\n\r\n1. Use PIN as entrypoint. I overwrite the entrypoint using `docker-compose.override.yml` to force the java program to start with my script. Here is the docker-compose file:\r\n\r\n```\r\nacmeair-db:\r\n  container_name: acmeair-db\r\n  image: mongo:4.0.0\r\n  net: ${NETWORK}\r\n  privileged: true\r\n\r\nacmeair-monolithic-java:\r\n  container_name: acmeair-monolithic-java\r\n  dockerfile: Dockerfile\r\n  net: ${NETWORK}\r\n  entrypoint: ./startup-pin.sh\r\n  build: .\r\n  ports:\r\n    - &quot;80:9080&quot;\r\n  environment:\r\n    - MONGO_HOST=acmeair-db\r\n  volumes_from:\r\n    - acmeair-db\r\n  mem_limit: 1024m\r\n  privileged: true\r\n\r\n```\r\nAnd here is my starting script:\r\n```\r\n#!/bin/bash\r\n\r\n/pin-gcc-linux/pin -t /pin-gcc-linux/source/tools/ManualExamples/obj-intel64/proccount.so -- /opt/java/openjdk/bin/java -javaagent:/opt/ol/wlp/bin/tools/ws-javaagent.jar -Djava.awt.headless=true -Djdk.attach.allowAttachSelf=true --add-exports java.base/sun.security.action=ALL-UNNAMED --add-exports java.naming/com.sun.jndi.ldap=ALL-UNNAMED --add-exports java.naming/com.sun.jndi.url.ldap=ALL-UNNAMED --add-exports jdk.naming.dns/com.sun.jndi.dns=ALL-UNNAMED --add-exports java.security.jgss/sun.security.krb5.internal=ALL-UNNAMED --add-exports jdk.attach/sun.tools.attach=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.util.concurrent=ALL-UNNAMED --add-opens java.base/java.io=ALL-UNNAMED --add-opens java.naming/javax.naming.spi=ALL-UNNAMED --add-opens jdk.naming.rmi/com.sun.jndi.url.rmi=ALL-UNNAMED --add-opens java.naming/javax.naming=ALL-UNNAMED --add-opens java.rmi/java.rmi=ALL-UNNAMED --add-opens java.sql/java.sql=ALL-UNNAMED --add-opens java.management/javax.management=ALL-UNNAMED --add-opens java.base/java.lang.reflect=ALL-UNNAMED --add-opens java.desktop/java.awt.image=ALL-UNNAMED --add-opens java.base/java.security=ALL-UNNAMED --add-opens java.base/java.net=ALL-UNNAMED --add-opens java.base/java.text=ALL-UNNAMED --add-opens java.base/sun.net.www.protocol.https=ALL-UNNAMED --add-exports jdk.management.agent/jdk.internal.agent=ALL-UNNAMED --add-exports java.base/jdk.internal.vm=ALL-UNNAMED -jar /opt/ol/wlp/bin/tools/ws-server.jar defaultServer\r\n```\r\nThere will be trace out, but the server is not functioning normally at all. Most of the services are down and I can&#39;t access the server log as well. \r\n\r\n2. I tried to attach the PID to PIN like:\r\n`/pin-gcc-linux/pin -pid &lt;PID&gt; -t /pin-gcc-linux/source/tools/ManualExamples/obj-intel64/proccount.so`\r\n\r\nIf I attach it from host to container, it will say:\r\n```\r\nA:  /tmp_proj/pinjen/workspace/pypl-pin-nightly/GitPin/Source/pin/base_l/sysfuncs_linux.cpp: GetProcessName: 107: assertion failed: p\r\n```\r\nWhich is an error I can not find at anywhere.\r\n\r\nIf I attach it from within the container, it won&#39;t crash but will stall and do nothing. It also prints no output. \r\n\r\nI would like to know how can Intel PIN work with Java server, and any direction and help will be appreciated. Thank you! ","title":"How do I make Intel-PIN work with Java server","body":"<p>I am currently working on getting the CPU footprint from AcmeAir monolithic application:\n<a href=\"https://github.com/blueperf/acmeair-monolithic-java\" rel=\"nofollow noreferrer\">https://github.com/blueperf/acmeair-monolithic-java</a></p>\n<p>I have correctly setup the webapp and database and it can normally function in a docker container.</p>\n<p>Normally If I run this command inside the container:</p>\n<pre><code>/opt/java/openjdk/bin/java -javaagent:/opt/ol/wlp/bin/tools/ws-javaagent.jar -Djava.awt.headless=true -Djdk.attach.allowAttachSelf=true --add-exports java.base/sun.security.action=ALL-UNNAMED --add-exports java.naming/com.sun.jndi.ldap=ALL-UNNAMED --add-exports java.naming/com.sun.jndi.url.ldap=ALL-UNNAMED --add-exports jdk.naming.dns/com.sun.jndi.dns=ALL-UNNAMED --add-exports java.security.jgss/sun.security.krb5.internal=ALL-UNNAMED --add-exports jdk.attach/sun.tools.attach=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.util.concurrent=ALL-UNNAMED --add-opens java.base/java.io=ALL-UNNAMED --add-opens java.naming/javax.naming.spi=ALL-UNNAMED --add-opens jdk.naming.rmi/com.sun.jndi.url.rmi=ALL-UNNAMED --add-opens java.naming/javax.naming=ALL-UNNAMED --add-opens java.rmi/java.rmi=ALL-UNNAMED --add-opens java.sql/java.sql=ALL-UNNAMED --add-opens java.management/javax.management=ALL-UNNAMED --add-opens java.base/java.lang.reflect=ALL-UNNAMED --add-opens java.desktop/java.awt.image=ALL-UNNAMED --add-opens java.base/java.security=ALL-UNNAMED --add-opens java.base/java.net=ALL-UNNAMED --add-opens java.base/java.text=ALL-UNNAMED --add-opens java.base/sun.net.www.protocol.https=ALL-UNNAMED --add-exports jdk.management.agent/jdk.internal.agent=ALL-UNNAMED --add-exports java.base/jdk.internal.vm=ALL-UNNAMED -jar /opt/ol/wlp/bin/tools/ws-server.jar defaultServer\n</code></pre>\n<p>The server will properly boot up and function normally.</p>\n<p>However, when I attach PIN onto the process, the server stop function normally.</p>\n<p>I have tried three approach:</p>\n<ol>\n<li>Use PIN as entrypoint. I overwrite the entrypoint using <code>docker-compose.override.yml</code> to force the java program to start with my script. Here is the docker-compose file:</li>\n</ol>\n<pre><code>acmeair-db:\n  container_name: acmeair-db\n  image: mongo:4.0.0\n  net: ${NETWORK}\n  privileged: true\n\nacmeair-monolithic-java:\n  container_name: acmeair-monolithic-java\n  dockerfile: Dockerfile\n  net: ${NETWORK}\n  entrypoint: ./startup-pin.sh\n  build: .\n  ports:\n    - &quot;80:9080&quot;\n  environment:\n    - MONGO_HOST=acmeair-db\n  volumes_from:\n    - acmeair-db\n  mem_limit: 1024m\n  privileged: true\n\n</code></pre>\n<p>And here is my starting script:</p>\n<pre><code>#!/bin/bash\n\n/pin-gcc-linux/pin -t /pin-gcc-linux/source/tools/ManualExamples/obj-intel64/proccount.so -- /opt/java/openjdk/bin/java -javaagent:/opt/ol/wlp/bin/tools/ws-javaagent.jar -Djava.awt.headless=true -Djdk.attach.allowAttachSelf=true --add-exports java.base/sun.security.action=ALL-UNNAMED --add-exports java.naming/com.sun.jndi.ldap=ALL-UNNAMED --add-exports java.naming/com.sun.jndi.url.ldap=ALL-UNNAMED --add-exports jdk.naming.dns/com.sun.jndi.dns=ALL-UNNAMED --add-exports java.security.jgss/sun.security.krb5.internal=ALL-UNNAMED --add-exports jdk.attach/sun.tools.attach=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.util.concurrent=ALL-UNNAMED --add-opens java.base/java.io=ALL-UNNAMED --add-opens java.naming/javax.naming.spi=ALL-UNNAMED --add-opens jdk.naming.rmi/com.sun.jndi.url.rmi=ALL-UNNAMED --add-opens java.naming/javax.naming=ALL-UNNAMED --add-opens java.rmi/java.rmi=ALL-UNNAMED --add-opens java.sql/java.sql=ALL-UNNAMED --add-opens java.management/javax.management=ALL-UNNAMED --add-opens java.base/java.lang.reflect=ALL-UNNAMED --add-opens java.desktop/java.awt.image=ALL-UNNAMED --add-opens java.base/java.security=ALL-UNNAMED --add-opens java.base/java.net=ALL-UNNAMED --add-opens java.base/java.text=ALL-UNNAMED --add-opens java.base/sun.net.www.protocol.https=ALL-UNNAMED --add-exports jdk.management.agent/jdk.internal.agent=ALL-UNNAMED --add-exports java.base/jdk.internal.vm=ALL-UNNAMED -jar /opt/ol/wlp/bin/tools/ws-server.jar defaultServer\n</code></pre>\n<p>There will be trace out, but the server is not functioning normally at all. Most of the services are down and I can't access the server log as well.</p>\n<ol start=\"2\">\n<li>I tried to attach the PID to PIN like:\n<code>/pin-gcc-linux/pin -pid &lt;PID&gt; -t /pin-gcc-linux/source/tools/ManualExamples/obj-intel64/proccount.so</code></li>\n</ol>\n<p>If I attach it from host to container, it will say:</p>\n<pre><code>A:  /tmp_proj/pinjen/workspace/pypl-pin-nightly/GitPin/Source/pin/base_l/sysfuncs_linux.cpp: GetProcessName: 107: assertion failed: p\n</code></pre>\n<p>Which is an error I can not find at anywhere.</p>\n<p>If I attach it from within the container, it won't crash but will stall and do nothing. It also prints no output.</p>\n<p>I would like to know how can Intel PIN work with Java server, and any direction and help will be appreciated. Thank you!</p>\n"},{"tags":["java","jsp","el"],"comments":[{"owner":{"account_id":76259,"reputation":17345,"user_id":218454,"accept_rate":75,"display_name":"nfechner"},"score":0,"creation_date":1303138409,"post_id":5704712,"comment_id":6519587,"body_markdown":"Absolute URL to where? From what information? We need a lot more information to help you, I&#39;m afaid..","body":"Absolute URL to where? From what information? We need a lot more information to help you, I&#39;m afaid.."},{"owner":{"account_id":54377,"reputation":13404,"user_id":162684,"accept_rate":100,"display_name":"MarcoS"},"score":0,"creation_date":1303138555,"post_id":5704712,"comment_id":6519632,"body_markdown":"like this: `String s = &quot;http://www.example.com&quot;` :) Well, jokes apart, what do you mean exactly? Building from what? And, pardon my ignorance, what is &quot;EL&quot;?","body":"like this: <code>String s = &quot;http:&#47;&#47;www.example.com&quot;</code> :) Well, jokes apart, what do you mean exactly? Building from what? And, pardon my ignorance, what is &quot;EL&quot;?"},{"owner":{"account_id":319704,"reputation":5844,"user_id":637609,"accept_rate":96,"display_name":"Mark W"},"score":0,"creation_date":1303138755,"post_id":5704712,"comment_id":6519719,"body_markdown":"Sorry All, I mean to the current server. Using the current protocol and port etc","body":"Sorry All, I mean to the current server. Using the current protocol and port etc"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1303138984,"post_id":5704712,"comment_id":6519787,"body_markdown":"@MarcoS: hover the `[el]` tag below the question and read the popbox and click if necessary the `info` link therein.","body":"@MarcoS: hover the <code>[el]</code> tag below the question and read the popbox and click if necessary the <code>info</code> link therein."},{"owner":{"account_id":54377,"reputation":13404,"user_id":162684,"accept_rate":100,"display_name":"MarcoS"},"score":0,"creation_date":1303139367,"post_id":5704712,"comment_id":6519906,"body_markdown":"@BalusC: ah, stupid me! thank you for suggesting this.","body":"@BalusC: ah, stupid me! thank you for suggesting this."}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1303139146,"creation_date":1303139146,"answer_id":5704920,"question_id":5704712,"body_markdown":"You can get the base URL up to with the context root with help of [JSTL][1] as follows:\r\n\r\n    &lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n    &lt;%@taglib prefix=&quot;fn&quot; uri=&quot;http://java.sun.com/jsp/jstl/functions&quot; %&gt;\r\n    ...\r\n    &lt;c:set var=&quot;baseURL&quot; value=&quot;${fn:replace(pageContext.request.requestURL, pageContext.request.requestURI, pageContext.request.contextPath)}&quot; /&gt;\r\n    ...\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;${baseURL}/foo.css&quot; /&gt;\r\n    &lt;script src=&quot;${baseURL}/foo.js&quot;&gt;&lt;/script&gt;\r\n    &lt;a href=&quot;${baseURL}/foo.jsp&quot;&gt;link&lt;/a&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/tags/jstl/info","title":"get absolute URL with EL","body":"<p>You can get the base URL up to with the context root with help of <a href=\"https://stackoverflow.com/tags/jstl/info\">JSTL</a> as follows:</p>\n\n<pre><code>&lt;%@taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n&lt;%@taglib prefix=\"fn\" uri=\"http://java.sun.com/jsp/jstl/functions\" %&gt;\n...\n&lt;c:set var=\"baseURL\" value=\"${fn:replace(pageContext.request.requestURL, pageContext.request.requestURI, pageContext.request.contextPath)}\" /&gt;\n...\n&lt;link rel=\"stylesheet\" href=\"${baseURL}/foo.css\" /&gt;\n&lt;script src=\"${baseURL}/foo.js\"&gt;&lt;/script&gt;\n&lt;a href=\"${baseURL}/foo.jsp\"&gt;link&lt;/a&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319704,"reputation":5844,"user_id":637609,"accept_rate":96,"display_name":"Mark W"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1305543783,"creation_date":1305217368,"answer_id":5981188,"question_id":5704712,"body_markdown":"Another way is:\r\n\r\n    http://${pageContext.request.serverName}:${pageContext.request.serverPort}${pageContext.request.contextPath}/thePage.jsp","title":"get absolute URL with EL","body":"<p>Another way is:</p>\n\n<pre><code>http://${pageContext.request.serverName}:${pageContext.request.serverPort}${pageContext.request.contextPath}/thePage.jsp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6537119,"reputation":43,"user_id":5056221,"display_name":"ghjang"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1667955264,"creation_date":1667955264,"answer_id":74368796,"question_id":5704712,"body_markdown":"Yet another way is:\r\n\r\n      &lt;c:set var=&quot;serverPath&quot; value=&quot;${pageContext.request.scheme}://${pageContext.request.serverName}:${pageContext.request.serverPort}${pageContext.request.contextPath}&quot;/&gt;\r\n\r\n\r\nI&#39;m quite surprised when the GitHub Copilot just suggested the code snippet. ~~ :)","title":"get absolute URL with EL","body":"<p>Yet another way is:</p>\n<pre><code>  &lt;c:set var=&quot;serverPath&quot; value=&quot;${pageContext.request.scheme}://${pageContext.request.serverName}:${pageContext.request.serverPort}${pageContext.request.contextPath}&quot;/&gt;\n</code></pre>\n<p>I'm quite surprised when the GitHub Copilot just suggested the code snippet. ~~ :)</p>\n"}],"owner":{"account_id":319704,"reputation":5844,"user_id":637609,"accept_rate":96,"display_name":"Mark W"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25476,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":5704920,"answer_count":3,"score":11,"last_activity_date":1667955264,"creation_date":1303138278,"question_id":5704712,"body_markdown":"How can I build up an absolute URL using no scriptlets (only EL) to the current server, using the current protocol, port, application etc?","title":"get absolute URL with EL","body":"<p>How can I build up an absolute URL using no scriptlets (only EL) to the current server, using the current protocol, port, application etc?</p>\n"},{"tags":["java","selenium","kotlin","selenium-webdriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1667949100,"post_id":74362603,"comment_id":131289378,"body_markdown":"you&#39;d just pass the function and the call to the function as a string... it&#39;s a script so it&#39;s not interpreted yet, so you should be fine.   I.e. you send &quot;someFunction(() =&gt; console.log(&#39;hi&#39;)); &quot; along with the function you are calling: &quot;function someFunction(callback) {\n   callback()\n}&quot; ... as part of the same string... no need to pass as argument.","body":"you&#39;d just pass the function and the call to the function as a string... it&#39;s a script so it&#39;s not interpreted yet, so you should be fine.   I.e. you send &quot;someFunction(() =&gt; console.log(&#39;hi&#39;)); &quot; along with the function you are calling: &quot;function someFunction(callback) {    callback() }&quot; ... as part of the same string... no need to pass as argument."},{"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"score":0,"creation_date":1667990853,"post_id":74362603,"comment_id":131297923,"body_markdown":"that makes sense for static strings. but if you want to make something generic, it&#39;s a bit more painful and you lose the benefits of Selenium arguments conversions (e.g. in maps and lists). look at the hack I had to do: https://github.com/lsoares/selenium-testing-library/blob/main/lib/src/main/kotlin/seleniumtestinglib/coreapi/Queries.kt#L16-L35","body":"that makes sense for static strings. but if you want to make something generic, it&#39;s a bit more painful and you lose the benefits of Selenium arguments conversions (e.g. in maps and lists). look at the hack I had to do: <a href=\"https://github.com/lsoares/selenium-testing-library/blob/main/lib/src/main/kotlin/seleniumtestinglib/coreapi/Queries.kt#L16-L35\" rel=\"nofollow noreferrer\">github.com/lsoares/selenium-testing-library/blob/main/lib/sr&zwnj;&#8203;c/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":937336,"reputation":54163,"user_id":966023,"accept_rate":65,"display_name":"pguardiario"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667954922,"creation_date":1667954922,"answer_id":74368765,"question_id":74362603,"body_markdown":"with eval:\r\n\r\n    driver.executeScript(&quot;&quot;&quot;\r\n      var fn = eval(arguments[0])\r\n      fn()\r\n    &quot;&quot;&quot;, &quot;() =&gt; console.log(&#39;hi&#39;)&quot;)\r\n\r\n**Note**: I don&#39;t know how to escape quotes in java, this is python-style","title":"How to pass functions to Selenium&#39;s JavaScript executor?","body":"<p>with eval:</p>\n<pre><code>driver.executeScript(&quot;&quot;&quot;\n  var fn = eval(arguments[0])\n  fn()\n&quot;&quot;&quot;, &quot;() =&gt; console.log('hi')&quot;)\n</code></pre>\n<p><strong>Note</strong>: I don't know how to escape quotes in java, this is python-style</p>\n"}],"owner":{"account_id":433987,"reputation":5865,"user_id":819651,"accept_rate":90,"display_name":"Lu&#237;s Soares"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667954922,"creation_date":1667918639,"question_id":74362603,"body_markdown":"Let&#39;s say I have a JS function like that:\r\n\r\n    function someFunction(callback) {\r\n       callback()\r\n    }\r\n\r\nand I want to call it from Selenium. for normal arguments (e.g. strings, arrays, integers, maps, HTML Elements) I can do:\r\n\r\n    driver.executeScript(&quot;someFunction(arguments[0])&quot;, &quot;() =&gt; console.log(&#39;hi&#39;)&quot;)\r\n\r\nand Selenium automatically converts/escapes the arguments.\r\nbut if an argument is a function, then it&#39;s passed as a string. \r\nthe call above becomes:\r\n\r\n\r\n    someFunction(&quot;() =&gt; console.log(&#39;hi&#39;)&quot;)\r\n\r\nbut it should have been:\r\n\r\n    someFunction(() =&gt; console.log(&#39;hi&#39;))\r\n\r\n\r\nis there a way to tell Selenium that the passed argument is a function?","title":"How to pass functions to Selenium&#39;s JavaScript executor?","body":"<p>Let's say I have a JS function like that:</p>\n<pre><code>function someFunction(callback) {\n   callback()\n}\n</code></pre>\n<p>and I want to call it from Selenium. for normal arguments (e.g. strings, arrays, integers, maps, HTML Elements) I can do:</p>\n<pre><code>driver.executeScript(&quot;someFunction(arguments[0])&quot;, &quot;() =&gt; console.log('hi')&quot;)\n</code></pre>\n<p>and Selenium automatically converts/escapes the arguments.\nbut if an argument is a function, then it's passed as a string.\nthe call above becomes:</p>\n<pre><code>someFunction(&quot;() =&gt; console.log('hi')&quot;)\n</code></pre>\n<p>but it should have been:</p>\n<pre><code>someFunction(() =&gt; console.log('hi'))\n</code></pre>\n<p>is there a way to tell Selenium that the passed argument is a function?</p>\n"},{"tags":["java","tomcat","http-status-code-404"],"answers":[{"tags":[],"owner":{"account_id":9543613,"reputation":2770,"user_id":7090655,"accept_rate":75,"display_name":"L&#234; Quang Bảo"},"down_vote_count":1,"up_vote_count":58,"is_accepted":true,"score":57,"last_activity_date":1532052429,"creation_date":1491228356,"answer_id":43186803,"question_id":43186315,"body_markdown":"Problem solved, I&#39;ve not added the **index.html**. Which is point out in the **web.xml**\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8OoEx.png\r\n\r\n**Note:** a project may have more than one **web.xml** file.\r\n\r\nif there are another **web.xml** in \r\n\r\n&gt; src/main/webapp/WEB-INF\r\n\r\nThen you might need to add another index (this time **index.jsp**) to \r\n\r\n&gt; src/main/webapp/WEB-INF/pages/","title":"Tomcat 404 error: The origin server did not find a current representation for the target resource or is not willing to disclose that one exists","body":"<p>Problem solved, I've not added the <strong>index.html</strong>. Which is point out in the <strong>web.xml</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/8OoEx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8OoEx.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Note:</strong> a project may have more than one <strong>web.xml</strong> file.</p>\n\n<p>if there are another <strong>web.xml</strong> in </p>\n\n<blockquote>\n  <p>src/main/webapp/WEB-INF</p>\n</blockquote>\n\n<p>Then you might need to add another index (this time <strong>index.jsp</strong>) to </p>\n\n<blockquote>\n  <p>src/main/webapp/WEB-INF/pages/</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5788311,"reputation":457,"user_id":4566741,"display_name":"Michael Joshua Ramos"},"down_vote_count":6,"up_vote_count":28,"is_accepted":false,"score":22,"last_activity_date":1667954074,"creation_date":1498794824,"answer_id":44838323,"question_id":43186315,"body_markdown":"From Eclipse, you right-click the project -&gt; Run As -&gt; Run on Server. It worked for me. I used Eclipse Jee Neon and Apache Tomcat 9.0.\r\n\r\nI just removed the head portion in index.html file and it worked fine. This is the head tag in HTML file:  \r\n[![This is the head tag in html file][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d80sE.png","title":"Tomcat 404 error: The origin server did not find a current representation for the target resource or is not willing to disclose that one exists","body":"<p>From Eclipse, you right-click the project -&gt; Run As -&gt; Run on Server. It worked for me. I used Eclipse Jee Neon and Apache Tomcat 9.0.</p>\n<p>I just removed the head portion in index.html file and it worked fine. This is the head tag in HTML file:<br />\n<a href=\"https://i.stack.imgur.com/d80sE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d80sE.png\" alt=\"This is the head tag in html file\" /></a></p>\n"}],"owner":{"account_id":9543613,"reputation":2770,"user_id":7090655,"accept_rate":75,"display_name":"L&#234; Quang Bảo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1125030,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"closed_date":1501315579,"accepted_answer_id":43186803,"answer_count":2,"score":87,"last_activity_date":1667954074,"creation_date":1491227107,"question_id":43186315,"body_markdown":"I was following the tutorial on **o7planning** and got stuck at step 6:\n \nhttp://o7planning.org/en/10169/java-servlet-tutorial\n\nIt&#39;s just a simple project that show *HelloWorld* but for some reason I keep getting `404` error. Detail:\n\n[![enter image description here][1]][1]\nHowever the Tomcat welcome page showing properly.\n\n[![Tomcat welcome page][2]][2]\n\n\nHere solutions that I&#39;ve tried so far (and they are NOT working):\n\n&gt; Right-click project -&gt; properties -&gt; Project Facets -&gt; Runtimes -&gt; checked &quot;Apache Tomcat v9.0&quot; -&gt; Apply -&gt; finish.\n&gt;\n&gt; Server tab -&gt; Right-click &quot;Tomcat v9.0...&quot; -&gt; properties -&gt; switch location -&gt; Choose &quot;Use tomcat installation&quot; on &quot;Server locations&quot; panel.\n\n\n  [1]: https://i.stack.imgur.com/ASMwv.png\n  [2]: https://i.stack.imgur.com/ybGTj.png","title":"Tomcat 404 error: The origin server did not find a current representation for the target resource or is not willing to disclose that one exists","body":"<p>I was following the tutorial on <strong>o7planning</strong> and got stuck at step 6:</p>\n<p><a href=\"http://o7planning.org/en/10169/java-servlet-tutorial\" rel=\"noreferrer\">http://o7planning.org/en/10169/java-servlet-tutorial</a></p>\n<p>It's just a simple project that show <em>HelloWorld</em> but for some reason I keep getting <code>404</code> error. Detail:</p>\n<p><a href=\"https://i.stack.imgur.com/ASMwv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ASMwv.png\" alt=\"enter image description here\" /></a>\nHowever the Tomcat welcome page showing properly.</p>\n<p><a href=\"https://i.stack.imgur.com/ybGTj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ybGTj.png\" alt=\"Tomcat welcome page\" /></a></p>\n<p>Here solutions that I've tried so far (and they are NOT working):</p>\n<blockquote>\n<p>Right-click project -&gt; properties -&gt; Project Facets -&gt; Runtimes -&gt; checked &quot;Apache Tomcat v9.0&quot; -&gt; Apply -&gt; finish.</p>\n<p>Server tab -&gt; Right-click &quot;Tomcat v9.0...&quot; -&gt; properties -&gt; switch location -&gt; Choose &quot;Use tomcat installation&quot; on &quot;Server locations&quot; panel.</p>\n</blockquote>\n"},{"tags":["java","javafx","jar"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":2,"creation_date":1667822720,"post_id":74346018,"comment_id":131251764,"body_markdown":"JavaFX is not part of JDK 17. You need to point your module path to the modules of your *JavaFX* jmods.","body":"JavaFX is not part of JDK 17. You need to point your module path to the modules of your <i>JavaFX</i> jmods."}],"answers":[{"tags":[],"owner":{"account_id":8648244,"reputation":367,"user_id":6474819,"accept_rate":89,"display_name":"M. Rogers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667953205,"creation_date":1667830013,"answer_id":74347899,"question_id":74346018,"body_markdown":"Download the SDK for JavaFx here:\r\n\r\n * https://gluonhq.com/products/javafx/\r\n\r\nFor my example, the SDK is at: \r\n\r\n    C:\\eclipse\\jdks\\javafx-sdk-19\\lib\r\n\r\nThen use the following where `JavaFxTest.jar` is obviously your jar...\r\n\r\n    java --module-path &quot;C:\\eclipse\\jdks\\javafx-sdk-19\\lib&quot; --add-modules javafx.controls,javafx.fxml -jar JavaFxTest.jar","title":"Can&#39;t run jar file of JavaFx application","body":"<p>Download the SDK for JavaFx here:</p>\n<ul>\n<li><a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">https://gluonhq.com/products/javafx/</a></li>\n</ul>\n<p>For my example, the SDK is at:</p>\n<pre><code>C:\\eclipse\\jdks\\javafx-sdk-19\\lib\n</code></pre>\n<p>Then use the following where <code>JavaFxTest.jar</code> is obviously your jar...</p>\n<pre><code>java --module-path &quot;C:\\eclipse\\jdks\\javafx-sdk-19\\lib&quot; --add-modules javafx.controls,javafx.fxml -jar JavaFxTest.jar\n</code></pre>\n"}],"owner":{"account_id":26599514,"reputation":1,"user_id":20221346,"display_name":"Aqua"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":509,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1667953205,"creation_date":1667821197,"question_id":74346018,"body_markdown":"I created JavaFx application. It works correct. But when I created jar file, it doesn&#39;t open. I do not get any errors logs. I use OpenJDK 17.\r\n\r\nI tried to create a bat file:\r\n\r\n    java -jar Rating.jar\r\n\r\nAnd it doesn&#39;t work. Then I tried to run application from command line and I got this error:\r\n\r\n    javafx runtime components are missing and are required to run this application\r\n\r\nThen I added VM option:\r\n\r\n    --module-path &quot;C:\\Users\\Admin\\.jdks\\openjdk-17\\lib&quot; --add-modules=javafx.controls\r\n\r\nIt doesn&#39;t work even from idea.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Can&#39;t run jar file of JavaFx application","body":"<p>I created JavaFx application. It works correct. But when I created jar file, it doesn't open. I do not get any errors logs. I use OpenJDK 17.</p>\n<p>I tried to create a bat file:</p>\n<pre><code>java -jar Rating.jar\n</code></pre>\n<p>And it doesn't work. Then I tried to run application from command line and I got this error:</p>\n<pre><code>javafx runtime components are missing and are required to run this application\n</code></pre>\n<p>Then I added VM option:</p>\n<pre><code>--module-path &quot;C:\\Users\\Admin\\.jdks\\openjdk-17\\lib&quot; --add-modules=javafx.controls\n</code></pre>\n<p>It doesn't work even from idea.</p>\n"},{"tags":["java","string","file-handling","filewriter"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":6,"creation_date":1667952997,"post_id":74368568,"comment_id":131290067,"body_markdown":"You read in the file, and write out a new file, except for the parts you want to &#39;delete&#39;.","body":"You read in the file, and write out a new file, except for the parts you want to &#39;delete&#39;."},{"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"score":1,"creation_date":1667953641,"post_id":74368568,"comment_id":131290174,"body_markdown":"You can read the file into a List&lt;String&gt;, then remove the 2nd entry of the list. Then write the list back into the same file overwriting it.","body":"You can read the file into a List&lt;String&gt;, then remove the 2nd entry of the list. Then write the list back into the same file overwriting it."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1667955072,"post_id":74368568,"comment_id":131290420,"body_markdown":"Please explain what difficulty you&#39;re having doing this.","body":"Please explain what difficulty you&#39;re having doing this."}],"owner":{"account_id":26843690,"reputation":11,"user_id":20429783,"display_name":"dwextit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667958479,"answer_count":0,"score":0,"last_activity_date":1667952464,"creation_date":1667952464,"question_id":74368568,"body_markdown":"I used a filewriter class to write my inputs into a text file. Is there a way I can delete a line in the txt file created?\r\n\r\n```\r\nimport java.util.*;\r\nimport java.io.*;\r\n\r\nclass Main {\r\n    public static void main(String args[]) {\r\n        Scanner read = new Scanner(System.in);\r\n        try{\r\n            FileWriter f = new FileWriter(&quot;output.txt&quot;, false);\r\n            for (int x = 0; x &lt; 5; x++){ \r\n                System.out.print(&quot;Enter a word: &quot;);\r\n                f.write(x+1 + &quot; &quot; + read.nextLine() + &#39;\\n&#39;);\r\n            }\r\n            f.close();\r\n        }\r\n        catch(IOException e){\r\n            System.out.println(e);\r\n        }\r\n    }\r\n}\r\n```\r\nThe strings written in the file is [![enter image description here](https://i.stack.imgur.com/gbmWm.png)](https://i.stack.imgur.com/gbmWm.png)\r\n\r\nwhat if I want to remove 2 hello from the contents of the file? What should I do?\r\n","title":"How to delete a line of string in a text file - Java","body":"<p>I used a filewriter class to write my inputs into a text file. Is there a way I can delete a line in the txt file created?</p>\n<pre><code>import java.util.*;\nimport java.io.*;\n\nclass Main {\n    public static void main(String args[]) {\n        Scanner read = new Scanner(System.in);\n        try{\n            FileWriter f = new FileWriter(&quot;output.txt&quot;, false);\n            for (int x = 0; x &lt; 5; x++){ \n                System.out.print(&quot;Enter a word: &quot;);\n                f.write(x+1 + &quot; &quot; + read.nextLine() + '\\n');\n            }\n            f.close();\n        }\n        catch(IOException e){\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n<p>The strings written in the file is <a href=\"https://i.stack.imgur.com/gbmWm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gbmWm.png\" alt=\"enter image description here\" /></a></p>\n<p>what if I want to remove 2 hello from the contents of the file? What should I do?</p>\n"},{"tags":["java","loops","opencv","debugging"],"comments":[{"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"score":0,"creation_date":1667959666,"post_id":74368523,"comment_id":131291055,"body_markdown":"What does &quot;fails&quot; mean? Be specific.","body":"What does &quot;fails&quot; mean? Be specific."},{"owner":{"account_id":5514699,"reputation":85,"user_id":4379855,"accept_rate":50,"display_name":"Steve Short"},"score":0,"creation_date":1667961378,"post_id":74368523,"comment_id":131291288,"body_markdown":"src is empty and the image doesn’t load","body":"src is empty and the image doesn’t load"},{"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"score":0,"creation_date":1668014310,"post_id":74368523,"comment_id":131306813,"body_markdown":"Is this being called from multiple threads simultaneously? If it works when setting a breakpoint, that&#39;s often related to thread issues.","body":"Is this being called from multiple threads simultaneously? If it works when setting a breakpoint, that&#39;s often related to thread issues."}],"owner":{"account_id":5514699,"reputation":85,"user_id":4379855,"accept_rate":50,"display_name":"Steve Short"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667952112,"creation_date":1667952071,"question_id":74368523,"body_markdown":"I&#39;m running the below code in a loop and injecting the filePath. I know 100%  the file path is correct. For some reason the below code fails when I let the loop run. HOWEVER, if i set a break point anywhere each time I &quot;continue&quot; it works without any issues. \r\n\r\nWhy the heck do I need to have a breakpoint hit to have this code work?\r\n\r\n    private static String FindCircles(String filePath) {\r\n\t\t\r\n\t\tMat src = Imgcodecs.imread(filePath, Imgcodecs.IMREAD_COLOR);\r\n\r\n\t\tif( src.empty() ) {\r\n\t\t\tSystem.out.println(&quot;Error opening image!&quot;);\r\n\t\t    return &quot;&quot;;\r\n\t\t}\r\n","title":"Open CV Issue with Imgcodecs.imread In Loop Java","body":"<p>I'm running the below code in a loop and injecting the filePath. I know 100%  the file path is correct. For some reason the below code fails when I let the loop run. HOWEVER, if i set a break point anywhere each time I &quot;continue&quot; it works without any issues.</p>\n<p>Why the heck do I need to have a breakpoint hit to have this code work?</p>\n<pre><code>private static String FindCircles(String filePath) {\n    \n    Mat src = Imgcodecs.imread(filePath, Imgcodecs.IMREAD_COLOR);\n\n    if( src.empty() ) {\n        System.out.println(&quot;Error opening image!&quot;);\n        return &quot;&quot;;\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","jwt","spring-cloud","api-gateway"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1667485024,"post_id":74304377,"comment_id":131181533,"body_markdown":"Gateway does not depend on this class. I have no idea who manages com.microservice.apigateway","body":"Gateway does not depend on this class. I have no idea who manages com.microservice.apigateway"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1667486468,"post_id":74304377,"comment_id":131182152,"body_markdown":"@spencergibb The api gateway has also JWTUtils class.","body":"@spencergibb The api gateway has also JWTUtils class."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1667505777,"post_id":74304377,"comment_id":131188925,"body_markdown":"`com.microservice.apigateway.util.JwtUtils` is not from spring cloud","body":"<code>com.microservice.apigateway.util.JwtUtils</code> is not from spring cloud"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1667511243,"post_id":74304377,"comment_id":131190393,"body_markdown":"@spencergibb How can I fix the issue? I still couldn&#39;t fix it.","body":"@spencergibb How can I fix the issue? I still couldn&#39;t fix it."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1667521488,"post_id":74304377,"comment_id":131192360,"body_markdown":"I don&#39;t know. I don&#39;t maintain that class or even know where it comes from","body":"I don&#39;t know. I don&#39;t maintain that class or even know where it comes from"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1667561070,"post_id":74304377,"comment_id":131200749,"body_markdown":"@spencergibb I added some screenshots.","body":"@spencergibb I added some screenshots."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1667694349,"post_id":74304377,"comment_id":131227900,"body_markdown":"@spencergibb I still couldn&#39;t fix the issue even if I added a dependency named jaxb-api in the pom.xml of api gateway.","body":"@spencergibb I still couldn&#39;t fix the issue even if I added a dependency named jaxb-api in the pom.xml of api gateway."},{"owner":{"account_id":3619003,"reputation":653,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"score":0,"creation_date":1667769326,"post_id":74304377,"comment_id":131240641,"body_markdown":"Can you paste a jwt token example?","body":"Can you paste a jwt token example?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668377770,"post_id":74304377,"comment_id":131384579,"body_markdown":"@Alex I shared the answer. Can you also help me my another issue regarding jwt again if you don&#39;t mind? It is my latest post.","body":"@Alex I shared the answer. Can you also help me my another issue regarding jwt again if you don&#39;t mind? It is my latest post."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669676443,"post_id":74304377,"comment_id":131692519,"body_markdown":"@ALex Can you look through my another question if you don&#39;t mind? Here is the link : https://stackoverflow.com/questions/74586470/spring-boot-microservices-spring-cloud-403-forbidden-among-services-control","body":"@ALex Can you look through my another question if you don&#39;t mind? Here is the link : <a href=\"https://stackoverflow.com/questions/74586470/spring-boot-microservices-spring-cloud-403-forbidden-among-services-control\" title=\"spring boot microservices spring cloud 403 forbidden among services control\">stackoverflow.com/questions/74586470/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667951534,"creation_date":1667951534,"answer_id":74368473,"question_id":74304377,"body_markdown":"After I revised some codes in **JWTUTils** in **API Gateway**, the issue disappeared.\r\n\r\nHere is the solution\r\n\r\n    final String authorization = request.getHeaders().getOrEmpty(&quot;Authorization&quot;).get(0);\r\n    final String token = authorization.replace(&quot;Bearer &quot;, &quot;&quot;);\r\n    jwtUtils.validateJwtToken(token);","title":"Spring Cloud API Gateway JWT Issue Web Token Issue","body":"<p>After I revised some codes in <strong>JWTUTils</strong> in <strong>API Gateway</strong>, the issue disappeared.</p>\n<p>Here is the solution</p>\n<pre><code>final String authorization = request.getHeaders().getOrEmpty(&quot;Authorization&quot;).get(0);\nfinal String token = authorization.replace(&quot;Bearer &quot;, &quot;&quot;);\njwtUtils.validateJwtToken(token);\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":722,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":74368473,"answer_count":1,"score":-4,"last_activity_date":1667951534,"creation_date":1667484125,"question_id":74304377,"body_markdown":"I have a problem about sending any request to a defined service through api gateway with the usage of bearer token coming from login.\r\n\r\nAfter login, I tried to send a request to a defined service but I got this issue in JWTAuthenticationFilter of api gateway shown below.\r\n\r\n    java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\r\n    \tat io.jsonwebtoken.impl.Base64Codec.decode(Base64Codec.java:26) ~[jjwt-0.9.1.jar:0.9.1]\r\n    \tat io.jsonwebtoken.impl.DefaultJwtParser.setSigningKey(DefaultJwtParser.java:151) ~[jjwt-0.9.1.jar:0.9.1]\r\n    \tat com.microservice.apigateway.util.JwtUtils.validateJwtToken(JwtUtils.java:31) ~[classes/:na]\r\n    \tat com.microservice.apigateway.filter.JwtAuthenticationFilter.filter(JwtAuthenticationFilter.java:55) ~[classes/:na]\r\n    \tat org.springframework.cloud.gateway.filter.OrderedGatewayFilter.filter(OrderedGatewayFilter.java:44) ~[spring-cloud-gateway-server-3.1.4.jar:3.1.4]\r\n    \tat org.springframework.cloud.gateway.handler.FilteringWebHandler$DefaultGatewayFilterChain.lambda$filter$0(FilteringWebHandler.java:117) ~[spring-cloud-gateway-server-3.1.4.jar:3.1.4]\r\n    \tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:44) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.Mono.subscribe(Mono.java:4455) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.Mono.subscribe(Mono.java:4455) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.4.23.jar:3.4.23]\r\n    \t\r\n    java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\r\n    \tat io.jsonwebtoken.impl.Base64Codec.decode(Base64Codec.java:26) ~[jjwt-0.9.1.jar:0.9.1]\r\n    \tat io.jsonwebtoken.impl.DefaultJwtParser.setSigningKey(DefaultJwtParser.java:151) ~[jjwt-0.9.1.jar:0.9.1]\r\n    \tat com.microservice.apigateway.util.JwtUtils.validateJwtToken(JwtUtils.java:31) ~[classes/:na]\r\n    \tat com.microservice.apigateway.filter.JwtAuthenticationFilter.filter(JwtAuthenticationFilter.java:55)\r\n    \r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\r\n\r\nThe exact location is in JWTUtils class with this line shown below.\r\n\r\n    Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\r\n\r\nHow can I fix the issue?\r\n\r\nHere is the repository : [Link][1]\r\n\r\nHere is the screenshots : [Link][2]\r\n\r\n**Edited** \r\n\r\nAfter I added this dependency in pom.xml of api gateway shown below I got this issue.\r\nHere is the dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHere is the error:\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;io.jsonwebtoken.Claims.get(Object)&quot; because &quot;claims&quot; is null\r\n    \tat com.microservice.apigateway.filter.JwtAuthenticationFilter.filter(JwtAuthenticationFilter.java:66) ~[classes/:na]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/microservicecoursedailybuffer\r\n  [2]: https://drive.google.com/drive/folders/1BCMSj9STszd-GaHWJZE4a0IuLpUcXBxj?usp=sharing","title":"Spring Cloud API Gateway JWT Issue Web Token Issue","body":"<p>I have a problem about sending any request to a defined service through api gateway with the usage of bearer token coming from login.</p>\n<p>After login, I tried to send a request to a defined service but I got this issue in JWTAuthenticationFilter of api gateway shown below.</p>\n<pre><code>java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\n    at io.jsonwebtoken.impl.Base64Codec.decode(Base64Codec.java:26) ~[jjwt-0.9.1.jar:0.9.1]\n    at io.jsonwebtoken.impl.DefaultJwtParser.setSigningKey(DefaultJwtParser.java:151) ~[jjwt-0.9.1.jar:0.9.1]\n    at com.microservice.apigateway.util.JwtUtils.validateJwtToken(JwtUtils.java:31) ~[classes/:na]\n    at com.microservice.apigateway.filter.JwtAuthenticationFilter.filter(JwtAuthenticationFilter.java:55) ~[classes/:na]\n    at org.springframework.cloud.gateway.filter.OrderedGatewayFilter.filter(OrderedGatewayFilter.java:44) ~[spring-cloud-gateway-server-3.1.4.jar:3.1.4]\n    at org.springframework.cloud.gateway.handler.FilteringWebHandler$DefaultGatewayFilterChain.lambda$filter$0(FilteringWebHandler.java:117) ~[spring-cloud-gateway-server-3.1.4.jar:3.1.4]\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:44) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4455) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.Mono.subscribe(Mono.java:4455) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.4.23.jar:3.4.23]\n    at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.4.23.jar:3.4.23]\n    \njava.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\n    at io.jsonwebtoken.impl.Base64Codec.decode(Base64Codec.java:26) ~[jjwt-0.9.1.jar:0.9.1]\n    at io.jsonwebtoken.impl.DefaultJwtParser.setSigningKey(DefaultJwtParser.java:151) ~[jjwt-0.9.1.jar:0.9.1]\n    at com.microservice.apigateway.util.JwtUtils.validateJwtToken(JwtUtils.java:31) ~[classes/:na]\n    at com.microservice.apigateway.filter.JwtAuthenticationFilter.filter(JwtAuthenticationFilter.java:55)\n\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\n</code></pre>\n<p>The exact location is in JWTUtils class with this line shown below.</p>\n<pre><code>Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\n</code></pre>\n<p>How can I fix the issue?</p>\n<p>Here is the repository : <a href=\"https://github.com/Rapter1990/microservicecoursedailybuffer\" rel=\"nofollow noreferrer\">Link</a></p>\n<p>Here is the screenshots : <a href=\"https://drive.google.com/drive/folders/1BCMSj9STszd-GaHWJZE4a0IuLpUcXBxj?usp=sharing\" rel=\"nofollow noreferrer\">Link</a></p>\n<p><strong>Edited</strong></p>\n<p>After I added this dependency in pom.xml of api gateway shown below I got this issue.\nHere is the dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is the error:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;io.jsonwebtoken.Claims.get(Object)&quot; because &quot;claims&quot; is null\n    at com.microservice.apigateway.filter.JwtAuthenticationFilter.filter(JwtAuthenticationFilter.java:66) ~[classes/:na]\n</code></pre>\n"},{"tags":["java","process","pid","processbuilder","taskkill"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1667950985,"post_id":74368326,"comment_id":131289737,"body_markdown":"What doesn&#39;t it kill?   The process that spawns the cmd prompt?","body":"What doesn&#39;t it kill?   The process that spawns the cmd prompt?"},{"owner":{"account_id":15176905,"reputation":1,"user_id":10951375,"display_name":"metinbinbir"},"score":0,"creation_date":1667951316,"post_id":74368326,"comment_id":131289792,"body_markdown":"It does not kill java.exe.","body":"It does not kill java.exe."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1667952877,"post_id":74368326,"comment_id":131290052,"body_markdown":"So just exit when the process &#39;p1&#39; has completed.","body":"So just exit when the process &#39;p1&#39; has completed."},{"owner":{"account_id":15176905,"reputation":1,"user_id":10951375,"display_name":"metinbinbir"},"score":0,"creation_date":1668201776,"post_id":74368326,"comment_id":131356524,"body_markdown":"Thank you anyway but I realized that the latest java.exe in the tasklist was my java program to kill the process tree. So, I think both ProcessBuilder and ProcessHandle implementations are working.","body":"Thank you anyway but I realized that the latest java.exe in the tasklist was my java program to kill the process tree. So, I think both ProcessBuilder and ProcessHandle implementations are working."}],"owner":{"account_id":15176905,"reputation":1,"user_id":10951375,"display_name":"metinbinbir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667950141,"creation_date":1667950141,"question_id":74368326,"body_markdown":"when I type taskkill /f /t /pid xxx in Command Prompt, my process tree ends correctly. However, the code block below written in Java ends all processes in my process tree except one of them. Could you help me?\r\n\r\n```\r\nString pid = getPidWithSomeWay();\r\nProcessBuilder pb1 = new ProcessBuilder(&quot;cmd.exe&quot;,&quot;/c&quot;,&quot;taskkill /f /t /pid &quot; + pid);\r\nProcess p1 = pb1.start();\r\n```\r\n\r\n\r\n\r\n\r\nAlso, I tried ending process tree implementation with ProcessHandle, but I am facing the same problem. ","title":"taskkill command works with cmd but not working in java code to end process tree","body":"<p>when I type taskkill /f /t /pid xxx in Command Prompt, my process tree ends correctly. However, the code block below written in Java ends all processes in my process tree except one of them. Could you help me?</p>\n<pre><code>String pid = getPidWithSomeWay();\nProcessBuilder pb1 = new ProcessBuilder(&quot;cmd.exe&quot;,&quot;/c&quot;,&quot;taskkill /f /t /pid &quot; + pid);\nProcess p1 = pb1.start();\n</code></pre>\n<p>Also, I tried ending process tree implementation with ProcessHandle, but I am facing the same problem.</p>\n"},{"tags":["java","spring","protocol-buffers"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1667951902,"post_id":74368325,"comment_id":131289878,"body_markdown":"Can you explain in other words exactly what you mean by _serializing_ objects?","body":"Can you explain in other words exactly what you mean by <i>serializing</i> objects?"},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1667971465,"post_id":74368325,"comment_id":131292606,"body_markdown":"The only understanding I have of your two approaches is that &quot;First&quot; sends the messages as JSON and &quot;Second&quot; sends the message as protobuf&#39;s binary format. The proto binary format will usually be smaller than the JSON equivalent. Peers will **always** need to serialize|deserialize (marshall|unmarshall) messages to convert between language-specific types and JSON or proto&#39;s binary format; you&#39;re not doing fewer transformations and you may be doing more.","body":"The only understanding I have of your two approaches is that &quot;First&quot; sends the messages as JSON and &quot;Second&quot; sends the message as protobuf&#39;s binary format. The proto binary format will usually be smaller than the JSON equivalent. Peers will <b>always</b> need to serialize|deserialize (marshall|unmarshall) messages to convert between language-specific types and JSON or proto&#39;s binary format; you&#39;re not doing fewer transformations and you may be doing more."}],"owner":{"account_id":10716185,"reputation":1,"user_id":13908324,"display_name":"laserman999"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667950135,"creation_date":1667950135,"question_id":74368325,"body_markdown":"Currently I am creating some intra-service calls among microservices. Opting to leverage google&#39;s protobuf, I am using it in unison with Spring Boot Rest APIs. And I am presented with two options.\r\n\r\nFirst: Serializing the protobuf objects. It is possible to serialize protobuf objects in the REST request and have the receiving end deserialize it and perform whatever it needs, then serialize a protobuf response for the initial caller. This involves a flow of serializing, deserializing, and vice versa. \r\n\r\nSecond: Sending the protobuf object as is. It seems like a REST API is able to accept x-protobuf requests. I am wondering if this has any significant drawbacks in terms of speed? \r\n\r\nCurrently, I am employing the latter, I was wondering if anyone else who has tried this prefers one over the other? ","title":"Serializing vs not Serializing Protobuf object in Spring REST call","body":"<p>Currently I am creating some intra-service calls among microservices. Opting to leverage google's protobuf, I am using it in unison with Spring Boot Rest APIs. And I am presented with two options.</p>\n<p>First: Serializing the protobuf objects. It is possible to serialize protobuf objects in the REST request and have the receiving end deserialize it and perform whatever it needs, then serialize a protobuf response for the initial caller. This involves a flow of serializing, deserializing, and vice versa.</p>\n<p>Second: Sending the protobuf object as is. It seems like a REST API is able to accept x-protobuf requests. I am wondering if this has any significant drawbacks in terms of speed?</p>\n<p>Currently, I am employing the latter, I was wondering if anyone else who has tried this prefers one over the other?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1667951032,"post_id":74367019,"comment_id":131289746,"body_markdown":"FYI: [*Remove Accents and Diacritics From a String in Java*](https://www.baeldung.com/java-remove-accents-from-text) by baeldung.","body":"FYI: <a href=\"https://www.baeldung.com/java-remove-accents-from-text\" rel=\"nofollow noreferrer\"><i>Remove Accents and Diacritics From a String in Java</i></a> by baeldung."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667941094,"creation_date":1667941094,"answer_id":74367099,"question_id":74367019,"body_markdown":"You want to flip your keys and values:\r\n\r\n```\r\nMap&lt;Character, Character&gt; charMap = new HashMap&lt;&gt;();\r\ncharMap.put(&#39;&#243;&#39;,&#39;o&#39;);\r\ncharMap.put(&#39;&#233;&#39;,&#39;e&#39;);\r\ncharMap.put(&#39;&#239;&#39;,&#39;i&#39;);\r\n```\r\n\r\nand then get the mapped character:\r\n\r\n```\r\nchar mappedChar = charMap.getOrDefault(inputChar, inputChar);\r\n```\r\n\r\nTo get the chars for a string, call `String#toCharArray()`","title":"Java. Extracting character from array that isn&#39;t ASCII","body":"<p>You want to flip your keys and values:</p>\n<pre><code>Map&lt;Character, Character&gt; charMap = new HashMap&lt;&gt;();\ncharMap.put('ó','o');\ncharMap.put('é','e');\ncharMap.put('ï','i');\n</code></pre>\n<p>and then get the mapped character:</p>\n<pre><code>char mappedChar = charMap.getOrDefault(inputChar, inputChar);\n</code></pre>\n<p>To get the chars for a string, call <code>String#toCharArray()</code></p>\n"},{"tags":[],"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667949107,"creation_date":1667942227,"answer_id":74367272,"question_id":74367019,"body_markdown":"You can just use `replaceAll`. Put this in the `while` loop, so that it works on each line you read from the file. With this change, you won&#39;t need the `split` and `if (... matches)` anymore.\r\n\r\n```java\r\ncontentLine.replaceAll(&quot;&#243;&quot;, &quot;o&quot;);\r\ncontentLine.replaceAll(&quot;&#233;&quot;, &quot;e&quot;);\r\ncontentLine.replaceAll(&quot;&#239;&quot;, &quot;i&quot;);\r\n```\r\n\r\nIf you want to keep a map, just iterate over its keys and replace with the values you want to map to:\r\n\r\n```java\r\nMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;&#243;&quot;, &quot;o&quot;);\r\n// ... and all the others\r\n```\r\n\r\nLater, in your loop reading the contents, you replace all the characters:\r\n\r\n```\r\nfor (Map.Entry&lt;String, String&gt; entry : map.entrySet())\r\n{\r\n    String oldChar = entry.getKey();\r\n    String newChar = entry.getValue();\r\n    contentLine = contentLine.replaceAll(oldChar, newChar);\r\n}\r\n```\r\n\r\nHere is a complete example:\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n        HashMap&lt;String, String&gt; nonAsciiToAscii = new HashMap&lt;&gt;();\r\n        nonAsciiToAscii.put(&quot;&#243;&quot;, &quot;o&quot;);\r\n        nonAsciiToAscii.put(&quot;&#233;&quot;, &quot;e&quot;);\r\n        nonAsciiToAscii.put(&quot;&#239;&quot;, &quot;i&quot;);\r\n\r\n        BufferedReader br = new BufferedReader(new FileReader(&quot;movie-names.txt&quot;));\r\n        String contentLine = br.readLine();\r\n        while (contentLine != null)\r\n        {\r\n            for (Map.Entry&lt;String, String&gt; entry : nonAsciiToAscii.entrySet())\r\n            {\r\n                String oldChar = entry.getKey();\r\n                String newChar = entry.getValue();\r\n                contentLine = contentLine.replaceAll(oldChar, newChar);\r\n            }\r\n\r\n            System.out.println(contentLine); // or whatever else you want to do with the cleaned lines\r\n\r\n            contentLine = br.readLine();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis prints:\r\n\r\n```none\r\nrobert:~$ javac Main.java &amp;&amp; java Main\r\n1|Toy Story (1995)\r\n2|GoldenEye (1995)\r\n3|Four Rooms (1995)\r\n4|Get Shorty (1995)\r\nrobert:~$\r\n```","title":"Java. Extracting character from array that isn&#39;t ASCII","body":"<p>You can just use <code>replaceAll</code>. Put this in the <code>while</code> loop, so that it works on each line you read from the file. With this change, you won't need the <code>split</code> and <code>if (... matches)</code> anymore.</p>\n<pre class=\"lang-java prettyprint-override\"><code>contentLine.replaceAll(&quot;ó&quot;, &quot;o&quot;);\ncontentLine.replaceAll(&quot;é&quot;, &quot;e&quot;);\ncontentLine.replaceAll(&quot;ï&quot;, &quot;i&quot;);\n</code></pre>\n<p>If you want to keep a map, just iterate over its keys and replace with the values you want to map to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;ó&quot;, &quot;o&quot;);\n// ... and all the others\n</code></pre>\n<p>Later, in your loop reading the contents, you replace all the characters:</p>\n<pre><code>for (Map.Entry&lt;String, String&gt; entry : map.entrySet())\n{\n    String oldChar = entry.getKey();\n    String newChar = entry.getValue();\n    contentLine = contentLine.replaceAll(oldChar, newChar);\n}\n</code></pre>\n<p>Here is a complete example:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        HashMap&lt;String, String&gt; nonAsciiToAscii = new HashMap&lt;&gt;();\n        nonAsciiToAscii.put(&quot;ó&quot;, &quot;o&quot;);\n        nonAsciiToAscii.put(&quot;é&quot;, &quot;e&quot;);\n        nonAsciiToAscii.put(&quot;ï&quot;, &quot;i&quot;);\n\n        BufferedReader br = new BufferedReader(new FileReader(&quot;movie-names.txt&quot;));\n        String contentLine = br.readLine();\n        while (contentLine != null)\n        {\n            for (Map.Entry&lt;String, String&gt; entry : nonAsciiToAscii.entrySet())\n            {\n                String oldChar = entry.getKey();\n                String newChar = entry.getValue();\n                contentLine = contentLine.replaceAll(oldChar, newChar);\n            }\n\n            System.out.println(contentLine); // or whatever else you want to do with the cleaned lines\n\n            contentLine = br.readLine();\n        }\n    }\n}\n</code></pre>\n<p>This prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code>robert:~$ javac Main.java &amp;&amp; java Main\n1|Toy Story (1995)\n2|GoldenEye (1995)\n3|Four Rooms (1995)\n4|Get Shorty (1995)\nrobert:~$\n</code></pre>\n"}],"owner":{"account_id":26871579,"reputation":11,"user_id":20453486,"display_name":"JackofSpades"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74367272,"answer_count":2,"score":1,"last_activity_date":1667949107,"creation_date":1667940670,"question_id":74367019,"body_markdown":"I&#39;m trying to extract a certain character from a buffer that isn&#39;t ASCII. I&#39;m reading in a file that contains movie names that have some non ASCII character sprinkled in it like so. \r\n\r\n```none\r\n1|T&#243;y Story (1995)\r\n2|GoldenEye (1995)\r\n3|Four Rooms (1995)\r\n4|G&#233;t Shorty (1995)\r\n```\r\nI was able to pick off the lines that contained the non ASCII characters, but I&#39;m trying to figure out how to get that particular character from the lines that have said non ASCII character and replace it with an ACSII character from the map I&#39;ve made. \r\n\r\n\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        HashMap&lt;Character, Character&gt;Char_Map = new HashMap&lt;&gt;();\r\n        Char_Map.put(&#39;o&#39;,&#39;&#243;&#39;);\r\n        Char_Map.put(&#39;e&#39;,&#39;&#233;&#39;);\r\n        Char_Map.put(&#39;i&#39;,&#39;&#239;&#39;);\r\n\r\n        for(Map.Entry&lt;Character,Character&gt; entry: Char_Map.entrySet())\r\n        {\r\n            System.out.println(entry.getKey() + &quot; -&gt; &quot;+ entry.getValue());\r\n        }\r\n\r\n        try\r\n        {\r\n            BufferedReader br = new BufferedReader(new FileReader(&quot;movie-names.txt&quot;));\r\n            String contentLine= br.readLine();\r\n\r\n\r\n            while(contentLine != null)\r\n            {\r\n                String[] contents = contentLine.split(&quot;\\\\|&quot;);\r\n                boolean result = contents[1].matches(&quot;\\\\A\\\\p{ASCII}*\\\\z&quot;);\r\n\r\n                if(!result)\r\n                {\r\n                    System.out.println(contentLine);\r\n\r\n                    \r\n\r\n                    //System.out.println();\r\n                }\r\n\r\n                contentLine= br.readLine();\r\n\r\n            }\r\n        }\r\n        catch (IOException ioe)\r\n        {\r\n            System.out.println(&quot;Cannot open file as it doesn&#39;t exist&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried using something along the lines of:\r\n\r\n\r\n```\r\nif((contentLine.charAt(i) == something\r\n```\r\n\r\nBut I&#39;m not sure. ","title":"Java. Extracting character from array that isn&#39;t ASCII","body":"<p>I'm trying to extract a certain character from a buffer that isn't ASCII. I'm reading in a file that contains movie names that have some non ASCII character sprinkled in it like so.</p>\n<pre class=\"lang-none prettyprint-override\"><code>1|Tóy Story (1995)\n2|GoldenEye (1995)\n3|Four Rooms (1995)\n4|Gét Shorty (1995)\n</code></pre>\n<p>I was able to pick off the lines that contained the non ASCII characters, but I'm trying to figure out how to get that particular character from the lines that have said non ASCII character and replace it with an ACSII character from the map I've made.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        HashMap&lt;Character, Character&gt;Char_Map = new HashMap&lt;&gt;();\n        Char_Map.put('o','ó');\n        Char_Map.put('e','é');\n        Char_Map.put('i','ï');\n\n        for(Map.Entry&lt;Character,Character&gt; entry: Char_Map.entrySet())\n        {\n            System.out.println(entry.getKey() + &quot; -&gt; &quot;+ entry.getValue());\n        }\n\n        try\n        {\n            BufferedReader br = new BufferedReader(new FileReader(&quot;movie-names.txt&quot;));\n            String contentLine= br.readLine();\n\n\n            while(contentLine != null)\n            {\n                String[] contents = contentLine.split(&quot;\\\\|&quot;);\n                boolean result = contents[1].matches(&quot;\\\\A\\\\p{ASCII}*\\\\z&quot;);\n\n                if(!result)\n                {\n                    System.out.println(contentLine);\n\n                    \n\n                    //System.out.println();\n                }\n\n                contentLine= br.readLine();\n\n            }\n        }\n        catch (IOException ioe)\n        {\n            System.out.println(&quot;Cannot open file as it doesn't exist&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I tried using something along the lines of:</p>\n<pre><code>if((contentLine.charAt(i) == something\n</code></pre>\n<p>But I'm not sure.</p>\n"},{"tags":["java","list"],"answers":[{"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667947677,"creation_date":1667945387,"answer_id":74367708,"question_id":74367633,"body_markdown":"Your solution has you looping through the product sublist for each product.  If you collect your list of `ProductSub`s in a map keyed by the id, then you only have to loop through the sublist once and then once through the product list:\r\n\r\nGetting an object from a map is constant time complexity so this will be an O(n + m) whereas your solution with filtering and collecting to a list will be O(n * m), where n is the number of products and m is the number of product subs\r\n\r\n\r\nAs an example:\r\n\r\n```\r\n    Map&lt;Long, List&lt;ProductSub&gt;&gt; map = new HashMap&lt;&gt;();\r\n\r\n    for (ProductSub productSub : productSubList) {\r\n      map.computeIfAbsent(productSub.getProductId(), (k) -&gt; new ArrayList&lt;&gt;()).add(productSub);\r\n    }\r\n    for (Product product : productList) {\r\n      product.setProductSubList(map.get(product.getProductId()));\r\n    }\r\n```","title":"Java: Adding Child List to Parent Main List Iterating","body":"<p>Your solution has you looping through the product sublist for each product.  If you collect your list of <code>ProductSub</code>s in a map keyed by the id, then you only have to loop through the sublist once and then once through the product list:</p>\n<p>Getting an object from a map is constant time complexity so this will be an O(n + m) whereas your solution with filtering and collecting to a list will be O(n * m), where n is the number of products and m is the number of product subs</p>\n<p>As an example:</p>\n<pre><code>    Map&lt;Long, List&lt;ProductSub&gt;&gt; map = new HashMap&lt;&gt;();\n\n    for (ProductSub productSub : productSubList) {\n      map.computeIfAbsent(productSub.getProductId(), (k) -&gt; new ArrayList&lt;&gt;()).add(productSub);\n    }\n    for (Product product : productList) {\n      product.setProductSubList(map.get(product.getProductId()));\n    }\n</code></pre>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74367708,"answer_count":1,"score":0,"last_activity_date":1667947677,"creation_date":1667944812,"question_id":74367633,"body_markdown":"We have a Product List, and ProductSubLine Items.\r\nWe are taking productSubLineItems and adding them to the appropriate Product List. Is this an optimal way to do it, or any faster/algorithm way?\r\n\r\n\r\n**Classes:**\r\n\r\n    public class Product {\r\n        private long productId;\r\n        private String productName;\r\n        private BigDecimal costAmount;\r\n        private List&lt;ProductSub&gt; productSublist;\r\n    }\r\n    \r\n    public class ProductSub {\r\n        private long productId;\r\n        private long productSubId;\r\n        private String lineItemName;\r\n        private BigDecimal subCost;\r\n    }\r\n\r\n**Method:**\r\n\r\n    List&lt;Product&gt; productList = ..(got from service)\r\n    List&lt;ProductSub&gt; productSubList = ..(got from service)\r\n\r\n    for (Product productItem : productList){\r\n            List&lt;ProductSub&gt; productSubItems = productSubList.stream()\r\n               .filter(x -&gt; x.getProductId() == productItem.getProductId())\r\n               .collect(Collectors.toList());\r\n            productItem.setProductSubList(productSubItems);\r\n        }","title":"Java: Adding Child List to Parent Main List Iterating","body":"<p>We have a Product List, and ProductSubLine Items.\nWe are taking productSubLineItems and adding them to the appropriate Product List. Is this an optimal way to do it, or any faster/algorithm way?</p>\n<p><strong>Classes:</strong></p>\n<pre><code>public class Product {\n    private long productId;\n    private String productName;\n    private BigDecimal costAmount;\n    private List&lt;ProductSub&gt; productSublist;\n}\n\npublic class ProductSub {\n    private long productId;\n    private long productSubId;\n    private String lineItemName;\n    private BigDecimal subCost;\n}\n</code></pre>\n<p><strong>Method:</strong></p>\n<pre><code>List&lt;Product&gt; productList = ..(got from service)\nList&lt;ProductSub&gt; productSubList = ..(got from service)\n\nfor (Product productItem : productList){\n        List&lt;ProductSub&gt; productSubItems = productSubList.stream()\n           .filter(x -&gt; x.getProductId() == productItem.getProductId())\n           .collect(Collectors.toList());\n        productItem.setProductSubList(productSubItems);\n    }\n</code></pre>\n"},{"tags":["java","android","scanf"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667948499,"post_id":74367935,"comment_id":131289253,"body_markdown":"You have to use the ScanResult class on your result.","body":"You have to use the ScanResult class on your result."},{"owner":{"account_id":6447140,"reputation":45,"user_id":4995331,"accept_rate":60,"display_name":"Touhidul Islam"},"score":0,"creation_date":1667983200,"post_id":74367935,"comment_id":131295254,"body_markdown":"@blackapps thanks. Could you please share some example codes?","body":"@blackapps thanks. Could you please share some example codes?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1667983776,"post_id":74367935,"comment_id":131295436,"body_markdown":"I havent. I just then googled and immediately hit on an example where this class was used in onActivityResult on the result.  So please do a little effort to find it.","body":"I havent. I just then googled and immediately hit on an example where this class was used in onActivityResult on the result.  So please do a little effort to find it."}],"owner":{"account_id":6447140,"reputation":45,"user_id":4995331,"accept_rate":60,"display_name":"Touhidul Islam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667947052,"creation_date":1667947052,"question_id":74367935,"body_markdown":"I&#39;m using ZXing API and using ActivityResultLauncher to launch the camera to scan a QR code and try to extract the QR code data. As onActivityResult is deprecated I need to use ActivityResultLauncher. But result.getData(); giving me the following:[![result.getData() responce](https://i.stack.imgur.com/oqpuh.jpg)](https://i.stack.imgur.com/oqpuh.jpg)\r\n\r\nI have the following code:`\r\n```\r\nactivityResultLaucher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n            @Override\r\n            public void onActivityResult(ActivityResult result) {\r\n                if(result.getResultCode() == RESULT_OK &amp;&amp; result.getData() != null){\r\n                   Toast.makeText(getApplicationContext(), result.getData().toString(), Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\nand: `\r\n```\r\nIntentIntegrator scanIntegrator = new IntentIntegrator(this);\r\nString ScanPromptMessage=App.getTranslationString(this, R.string.ScanPrompt);\r\nscanIntegrator.setPrompt(ScanPromptMessage);\r\nactivityResultLaucher.launch(scanIntegrator.createScanIntent());\r\n```\r\n``\r\nThis code lauches scanner and scans successfully but not been able to extract the QR code data. How can I extract the QR code data? Could you please help?","title":"How to extract QR code scan results from ActivityResultLauncher","body":"<p>I'm using ZXing API and using ActivityResultLauncher to launch the camera to scan a QR code and try to extract the QR code data. As onActivityResult is deprecated I need to use ActivityResultLauncher. But result.getData(); giving me the following:<a href=\"https://i.stack.imgur.com/oqpuh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oqpuh.jpg\" alt=\"result.getData() responce\" /></a></p>\n<p>I have the following code:`</p>\n<pre><code>activityResultLaucher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(), new ActivityResultCallback&lt;ActivityResult&gt;() {\n            @Override\n            public void onActivityResult(ActivityResult result) {\n                if(result.getResultCode() == RESULT_OK &amp;&amp; result.getData() != null){\n                   Toast.makeText(getApplicationContext(), result.getData().toString(), Toast.LENGTH_LONG).show();\n                }\n            }\n        });\n</code></pre>\n<p>and: `</p>\n<pre><code>IntentIntegrator scanIntegrator = new IntentIntegrator(this);\nString ScanPromptMessage=App.getTranslationString(this, R.string.ScanPrompt);\nscanIntegrator.setPrompt(ScanPromptMessage);\nactivityResultLaucher.launch(scanIntegrator.createScanIntent());\n</code></pre>\n<p>``\nThis code lauches scanner and scans successfully but not been able to extract the QR code data. How can I extract the QR code data? Could you please help?</p>\n"},{"tags":["java","class","object","oop"],"answers":[{"tags":[],"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1667946746,"creation_date":1667946746,"answer_id":74367888,"question_id":74367719,"body_markdown":"Add the ``static`` keyword to the ``pendingOrders`` in ``Robot``.  \r\nCheck this [guide](https://www.baeldung.com/java-static) for more info","title":"How to update a single array using multiple instances of a class","body":"<p>Add the <code>static</code> keyword to the <code>pendingOrders</code> in <code>Robot</code>.<br />\nCheck this <a href=\"https://www.baeldung.com/java-static\" rel=\"nofollow noreferrer\">guide</a> for more info</p>\n"}],"owner":{"account_id":15299633,"reputation":117,"user_id":11038519,"display_name":"Simran Bhake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74367888,"answer_count":1,"score":0,"last_activity_date":1667946746,"creation_date":1667945448,"question_id":74367719,"body_markdown":"How can I make two instances of a class, update the same array from that class? Like here, I want r1 and r2 to update same pendingOrders, so that finally the array is [&#39;yo&#39;, &#39;lo&#39;]. That is not happening, the r1 and r2 are making different arrays.\r\n\r\n```\r\nimport java.util.ArrayList;\r\n\r\npublic class Student{\r\n\r\n    static int enrollmentNumber;\r\n    String studentName;\r\n\r\n    Student(String name){\r\n        enrollmentNumber += 1;\r\n        studentName = name;\r\n    }\r\n\r\n    public String toString(){\r\n        return enrollmentNumber+&quot;: &quot;+this.studentName;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Student s = new Student(&quot;Pam&quot;);\r\n        System.out.println(s.toString());\r\n        \r\n        Student s1 = new Student(&quot;Hellooo&quot;);\r\n        System.out.println(s1.toString());\r\n\r\n\r\n        Student s2 = new Student(&quot;Pam2&quot;);\r\n        System.out.println(s2.toString());\r\n        \r\n        \r\n        Robot r1 = new Robot(&quot;Bob&quot;);\r\n        r1.addToQueue(&quot;yo&quot;);\r\n        System.out.println(r1.returnList()); // prints: [&#39;yo&#39;]\r\n        \r\n        Robot r2 = new Robot(&quot;Rob&quot;);\r\n        r2.addToQueue(&quot;lo&quot;);\r\n        System.out.println(r2.returnList()); // prints: [&#39;lo&#39;]\r\n        // But I want it to print [&#39;yo&#39;, &#39;lo&#39;]\r\n\r\n    }\r\n}\r\n\r\nclass Robot{\r\n    public ArrayList&lt;String&gt; pendingOrders = new ArrayList&lt;String&gt;();\r\n    String rName;\r\n\r\n    Robot(String name){\r\n      rName = name;\r\n    }\r\n\r\n    public void addToQueue(String s){\r\n        pendingOrders.add(s);\r\n    }\r\n    \r\n    public ArrayList returnList(){\r\n        return pendingOrders;\r\n    }\r\n}\r\n```","title":"How to update a single array using multiple instances of a class","body":"<p>How can I make two instances of a class, update the same array from that class? Like here, I want r1 and r2 to update same pendingOrders, so that finally the array is ['yo', 'lo']. That is not happening, the r1 and r2 are making different arrays.</p>\n<pre><code>import java.util.ArrayList;\n\npublic class Student{\n\n    static int enrollmentNumber;\n    String studentName;\n\n    Student(String name){\n        enrollmentNumber += 1;\n        studentName = name;\n    }\n\n    public String toString(){\n        return enrollmentNumber+&quot;: &quot;+this.studentName;\n    }\n\n    public static void main(String[] args) {\n\n        Student s = new Student(&quot;Pam&quot;);\n        System.out.println(s.toString());\n        \n        Student s1 = new Student(&quot;Hellooo&quot;);\n        System.out.println(s1.toString());\n\n\n        Student s2 = new Student(&quot;Pam2&quot;);\n        System.out.println(s2.toString());\n        \n        \n        Robot r1 = new Robot(&quot;Bob&quot;);\n        r1.addToQueue(&quot;yo&quot;);\n        System.out.println(r1.returnList()); // prints: ['yo']\n        \n        Robot r2 = new Robot(&quot;Rob&quot;);\n        r2.addToQueue(&quot;lo&quot;);\n        System.out.println(r2.returnList()); // prints: ['lo']\n        // But I want it to print ['yo', 'lo']\n\n    }\n}\n\nclass Robot{\n    public ArrayList&lt;String&gt; pendingOrders = new ArrayList&lt;String&gt;();\n    String rName;\n\n    Robot(String name){\n      rName = name;\n    }\n\n    public void addToQueue(String s){\n        pendingOrders.add(s);\n    }\n    \n    public ArrayList returnList(){\n        return pendingOrders;\n    }\n}\n</code></pre>\n"},{"tags":["java","sorting"],"comments":[{"owner":{"account_id":1636158,"reputation":4134,"user_id":1509578,"accept_rate":50,"display_name":"Mohammod Hossain"},"score":0,"creation_date":1345968542,"post_id":12128553,"comment_id":16223349,"body_markdown":"are they object of an List or table record? when you are writing or logging your data you can use bubble sort algorithm to sort","body":"are they object of an List or table record? when you are writing or logging your data you can use bubble sort algorithm to sort"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1345975901,"post_id":12128553,"comment_id":16220955,"body_markdown":"It would be trivial to offer the user the ability to do that, using a `JTable`.  Though I guess that is not the functionality you are trying to implement.  ;)","body":"It would be trivial to offer the user the ability to do that, using a <code>JTable</code>.  Though I guess that is not the functionality you are trying to implement.  ;)"}],"answers":[{"tags":[],"owner":{"account_id":176186,"reputation":1016,"user_id":406714,"accept_rate":47,"display_name":"Markus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345969732,"creation_date":1345968465,"answer_id":12128569,"question_id":12128553,"body_markdown":"I would suggest you read that file line by line and use a StringTokenizer on each line to have access to the single words. You can then put each line into a HashMap with the country as key. \r\n\r\nUsing\r\n    \r\n    Collection&lt;String&gt; k = yourHashMap.keySet();\r\n    Collections.sort(k);\r\n\r\nWould sort your key set in natural order. You can then iterate over the key set and access each line in the hashmap in a sorted way.","title":"Sorting lines based on column","body":"<p>I would suggest you read that file line by line and use a StringTokenizer on each line to have access to the single words. You can then put each line into a HashMap with the country as key. </p>\n\n<p>Using</p>\n\n<pre><code>Collection&lt;String&gt; k = yourHashMap.keySet();\nCollections.sort(k);\n</code></pre>\n\n<p>Would sort your key set in natural order. You can then iterate over the key set and access each line in the hashmap in a sorted way.</p>\n"},{"tags":[],"owner":{"account_id":1196838,"reputation":6753,"user_id":1168372,"accept_rate":79,"display_name":"Sujay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1345971745,"creation_date":1345969886,"answer_id":12128699,"question_id":12128553,"body_markdown":"I would suggest using a `TreeSet` and reading your text file and keeping your data in a class that implements `Comparable`. That way, when you&#39;re adding to the `TreeSet` the data would get added in a sorted order. \r\n\r\nThis example might help:\r\n\r\n    class Data implements Comparable&lt;Data&gt;{\r\n    \t\r\n    \tprivate int digits;\r\n    \tprivate String country;\r\n    \tprivate String animal;\r\n    \tprivate String capital;\r\n    \t\r\n    \tpublic Data(int digits, String country, String animal, String capital){\r\n    \t\tthis.digits = digits;\r\n    \t\tthis.country = country;\r\n    \t\tthis.animal = animal;\r\n    \t\tthis.capital = capital;\r\n    \t}\r\n    \r\n    \tpublic int getDigits() {\r\n    \t\treturn digits;\r\n    \t}\r\n    \r\n    \tpublic void setDigits(int digits) {\r\n    \t\tthis.digits = digits;\r\n    \t}\r\n    \r\n    \tpublic String getCountry() {\r\n    \t\treturn country;\r\n    \t}\r\n    \r\n    \tpublic void setCountry(String country) {\r\n    \t\tthis.country = country;\r\n    \t}\r\n    \r\n    \tpublic String getAnimal() {\r\n    \t\treturn animal;\r\n    \t}\r\n    \r\n    \tpublic void setAnimal(String animal) {\r\n    \t\tthis.animal = animal;\r\n    \t}\r\n    \r\n    \tpublic String getCapital() {\r\n    \t\treturn capital;\r\n    \t}\r\n    \r\n    \tpublic void setCapital(String capital) {\r\n    \t\tthis.capital = capital;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int compareTo(Data data) {\r\n    \t\treturn getCountry().compareTo(data.getCountry());\r\n    \t}\r\n    }\r\n    \r\n     \r\n    class TestCountry{\r\n    \tpublic static void main(String[] args) {\r\n    \t\tTreeSet&lt;Data&gt; set = new TreeSet&lt;Data&gt;();\r\n            /** \r\n             * Assuming that you can read the CSV file and build up the Data objects.\r\n             * You would then put them in the set where they will be added in a sorted\r\n             * fashion \r\n             */\r\n    \t\tset.add(new Data(1000, &quot;Australia&quot;, &quot;Kangaroo&quot;, &quot;Canberra&quot;));\r\n    \t\tset.add(new Data(1002, &quot;India&quot;, &quot;Tiger&quot;, &quot;Delhi&quot;));\r\n    \t\tset.add(new Data(1092, &quot;Germany&quot;, &quot;Eagle&quot;, &quot;Berlin&quot;));\r\n    \t\t\r\n    \t\tfor(Data data: set){\r\n    \t\t\tSystem.out.println(data.getDigits()+&quot;\\t&quot;+data.getCountry()+&quot;\\t&quot;+data.getAnimal()+&quot;\\t&quot;+data.getCapital());\r\n    \t\t}\r\n    \t}\r\n    }","title":"Sorting lines based on column","body":"<p>I would suggest using a <code>TreeSet</code> and reading your text file and keeping your data in a class that implements <code>Comparable</code>. That way, when you're adding to the <code>TreeSet</code> the data would get added in a sorted order. </p>\n\n<p>This example might help:</p>\n\n<pre><code>class Data implements Comparable&lt;Data&gt;{\n\n    private int digits;\n    private String country;\n    private String animal;\n    private String capital;\n\n    public Data(int digits, String country, String animal, String capital){\n        this.digits = digits;\n        this.country = country;\n        this.animal = animal;\n        this.capital = capital;\n    }\n\n    public int getDigits() {\n        return digits;\n    }\n\n    public void setDigits(int digits) {\n        this.digits = digits;\n    }\n\n    public String getCountry() {\n        return country;\n    }\n\n    public void setCountry(String country) {\n        this.country = country;\n    }\n\n    public String getAnimal() {\n        return animal;\n    }\n\n    public void setAnimal(String animal) {\n        this.animal = animal;\n    }\n\n    public String getCapital() {\n        return capital;\n    }\n\n    public void setCapital(String capital) {\n        this.capital = capital;\n    }\n\n    @Override\n    public int compareTo(Data data) {\n        return getCountry().compareTo(data.getCountry());\n    }\n}\n\n\nclass TestCountry{\n    public static void main(String[] args) {\n        TreeSet&lt;Data&gt; set = new TreeSet&lt;Data&gt;();\n        /** \n         * Assuming that you can read the CSV file and build up the Data objects.\n         * You would then put them in the set where they will be added in a sorted\n         * fashion \n         */\n        set.add(new Data(1000, \"Australia\", \"Kangaroo\", \"Canberra\"));\n        set.add(new Data(1002, \"India\", \"Tiger\", \"Delhi\"));\n        set.add(new Data(1092, \"Germany\", \"Eagle\", \"Berlin\"));\n\n        for(Data data: set){\n            System.out.println(data.getDigits()+\"\\t\"+data.getCountry()+\"\\t\"+data.getAnimal()+\"\\t\"+data.getCapital());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1706316,"reputation":34,"user_id":1565293,"display_name":"BolBol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345971924,"creation_date":1345971924,"answer_id":12128886,"question_id":12128553,"body_markdown":"You can struct your data as this model\r\n\r\n**Row Class** represent row data\r\n\r\n  \r\n\r\n    public class Row implements Comparable&lt;Row&gt; {\r\n\r\n\tprivate int number;\r\n\tprivate String country;\r\n\tprivate String animal;\r\n\tprivate String city;\r\n\r\n\tpublic Row(int number, String country, String animal, String city) {\r\n\t\tsuper();\r\n\t\tthis.number = number;\r\n\t\tthis.country = country;\r\n\t\tthis.animal = animal;\r\n\t\tthis.city = city;\r\n\t}\r\n\r\n\tpublic int getNumber() {\r\n\t\treturn number;\r\n\t}\r\n\r\n\tpublic void setNumber(int number) {\r\n\t\tthis.number = number;\r\n\t}\r\n\r\n\tpublic String getCountry() {\r\n\t\treturn country;\r\n\t}\r\n\r\n\tpublic void setCountry(String country) {\r\n\t\tthis.country = country;\r\n\t}\r\n\r\n\tpublic String getAnimal() {\r\n\t\treturn animal;\r\n\t}\r\n\r\n\tpublic void setAnimal(String animal) {\r\n\t\tthis.animal = animal;\r\n\t}\r\n\r\n\tpublic String getCity() {\r\n\t\treturn city;\r\n\t}\r\n\r\n\tpublic void setCity(String city) {\r\n\t\tthis.city = city;\r\n\t}\r\n\r\n\t// Easy to print and show the row data\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Row [number=&quot; + number + &quot;, country=&quot; + country + &quot;, animal=&quot;\r\n\t\t\t\t+ animal + &quot;, city=&quot; + city + &quot;]&quot;;\r\n\t}\r\n\r\n\t// sort based on column &quot;country&quot;\r\n\t@Override\r\n\tpublic int compareTo(Row o) {\r\n\t\treturn this.country.compareTo(o.country);\r\n\t}\r\n\r\n}\r\n\r\n \r\n\r\n\r\nand the test **example** will be as\r\n\r\n    public static void main(String[] args) {\r\n\t\t\r\n\t\tArrayList&lt;Row&gt; data = new ArrayList&lt;Row&gt;();\r\n\t\tdata.add(new Row(1000, &quot;Australia&quot;, &quot;Kangaroo&quot;, &quot;Canberra&quot;));\r\n\t\tdata.add(new Row(1002, &quot;India&quot;, &quot;Tiger&quot;, &quot;Delhi&quot;));\r\n\t\tdata.add(new Row(1092, &quot;Germany&quot;, &quot;Eagle&quot;, &quot;Berlin&quot;));\r\n\t\t\r\n\t\t// To sort the data (based on column &quot;country&quot;)\r\n\t\tCollections.sort(data);\r\n\r\n\t\t// Print and show the data\r\n\t\tfor (int i = 0; i &lt; data.size(); i++) {\r\n\t\t\tSystem.out.println(data.get(i));\r\n\t\t}\r\n\r\n\r\n\t}","title":"Sorting lines based on column","body":"<p>You can struct your data as this model</p>\n\n<p><strong>Row Class</strong> represent row data</p>\n\n<pre><code>public class Row implements Comparable&lt;Row&gt; {\n\nprivate int number;\nprivate String country;\nprivate String animal;\nprivate String city;\n\npublic Row(int number, String country, String animal, String city) {\n    super();\n    this.number = number;\n    this.country = country;\n    this.animal = animal;\n    this.city = city;\n}\n\npublic int getNumber() {\n    return number;\n}\n\npublic void setNumber(int number) {\n    this.number = number;\n}\n\npublic String getCountry() {\n    return country;\n}\n\npublic void setCountry(String country) {\n    this.country = country;\n}\n\npublic String getAnimal() {\n    return animal;\n}\n\npublic void setAnimal(String animal) {\n    this.animal = animal;\n}\n\npublic String getCity() {\n    return city;\n}\n\npublic void setCity(String city) {\n    this.city = city;\n}\n\n// Easy to print and show the row data\n@Override\npublic String toString() {\n    return \"Row [number=\" + number + \", country=\" + country + \", animal=\"\n            + animal + \", city=\" + city + \"]\";\n}\n\n// sort based on column \"country\"\n@Override\npublic int compareTo(Row o) {\n    return this.country.compareTo(o.country);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>and the test <strong>example</strong> will be as</p>\n\n<pre><code>public static void main(String[] args) {\n\n    ArrayList&lt;Row&gt; data = new ArrayList&lt;Row&gt;();\n    data.add(new Row(1000, \"Australia\", \"Kangaroo\", \"Canberra\"));\n    data.add(new Row(1002, \"India\", \"Tiger\", \"Delhi\"));\n    data.add(new Row(1092, \"Germany\", \"Eagle\", \"Berlin\"));\n\n    // To sort the data (based on column \"country\")\n    Collections.sort(data);\n\n    // Print and show the data\n    for (int i = 0; i &lt; data.size(); i++) {\n        System.out.println(data.get(i));\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667946581,"creation_date":1667945931,"answer_id":74367780,"question_id":12128553,"body_markdown":"Here is an updated answer on how this could be done with streams and a `Comparator`.\r\n- The sort method takes a comparator.\r\n- the comparator takes a key extractor, in this case the second column after spliting the string.\r\n- then using that key, the sort is done on a case insensitive fashion in natural order (ascending for strings).\r\n```\r\nString[] data = { \r\n        &quot;000 Australia     Kangaroo            Canberra&quot;,\r\n        &quot;002 India         Tiger               Delhi&quot;,\r\n        &quot;092 Germany       Eagle               Berlin&quot; };\r\n\r\nString[] result = Arrays.stream(data)\r\n        .sorted(Comparator.comparing(s -&gt; s.split(&quot;\\\\s+&quot;)[1],\r\n                String.CASE_INSENSITIVE_ORDER))\r\n        .toArray(String[]::new);\r\n\r\nfor (String lines : result) {\r\n    System.out.println(lines);\r\n}\r\n```\r\nprints\r\n```\r\n000 Australia     Kangaroo            Canberra\r\n092 Germany       Eagle               Berlin\r\n002 India         Tiger               Delhi\r\n```\r\n**Note:**\r\n\r\nFor case dependent comparisons, either of the following would work.\r\n\r\n`Comparator.naturalOrder()` and `Comparator.comparing(Function.identity())))` ","title":"Sorting lines based on column","body":"<p>Here is an updated answer on how this could be done with streams and a <code>Comparator</code>.</p>\n<ul>\n<li>The sort method takes a comparator.</li>\n<li>the comparator takes a key extractor, in this case the second column after spliting the string.</li>\n<li>then using that key, the sort is done on a case insensitive fashion in natural order (ascending for strings).</li>\n</ul>\n<pre><code>String[] data = { \n        &quot;000 Australia     Kangaroo            Canberra&quot;,\n        &quot;002 India         Tiger               Delhi&quot;,\n        &quot;092 Germany       Eagle               Berlin&quot; };\n\nString[] result = Arrays.stream(data)\n        .sorted(Comparator.comparing(s -&gt; s.split(&quot;\\\\s+&quot;)[1],\n                String.CASE_INSENSITIVE_ORDER))\n        .toArray(String[]::new);\n\nfor (String lines : result) {\n    System.out.println(lines);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>000 Australia     Kangaroo            Canberra\n092 Germany       Eagle               Berlin\n002 India         Tiger               Delhi\n</code></pre>\n<p><strong>Note:</strong></p>\n<p>For case dependent comparisons, either of the following would work.</p>\n<p><code>Comparator.naturalOrder()</code> and <code>Comparator.comparing(Function.identity())))</code></p>\n"}],"owner":{"account_id":1218509,"reputation":3130,"user_id":1189361,"accept_rate":62,"display_name":"FirmView"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2711,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1667946581,"creation_date":1345968288,"question_id":12128553,"body_markdown":"Is there any way where we can sort based on columns? \r\n\r\nI have lines like,\r\n\r\n    1000 Australia     Kangaroo            Canberra\r\n    1002 India         Tiger               Delhi\r\n    1092 Germany       Eagle               Berlin\r\n\r\n\r\nThe above lines has to be sorted based on the second column, that is Australia, Germany, India.  \r\n\r\nSo, the result should be,\r\n\r\n    1000 Australia     Kangaroo            Canberra\r\n    1092 Germany       Eagle               Berlin   \r\n    1002 India         Tiger               Delhi\r\n\r\n\r\nData is from text file","title":"Sorting lines based on column","body":"<p>Is there any way where we can sort based on columns? </p>\n\n<p>I have lines like,</p>\n\n<pre><code>1000 Australia     Kangaroo            Canberra\n1002 India         Tiger               Delhi\n1092 Germany       Eagle               Berlin\n</code></pre>\n\n<p>The above lines has to be sorted based on the second column, that is Australia, Germany, India.  </p>\n\n<p>So, the result should be,</p>\n\n<pre><code>1000 Australia     Kangaroo            Canberra\n1092 Germany       Eagle               Berlin   \n1002 India         Tiger               Delhi\n</code></pre>\n\n<p>Data is from text file</p>\n"},{"tags":["java","char","integer","printf"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1667936932,"post_id":74366324,"comment_id":131286117,"body_markdown":"Your title does not match the examples you give.  The examples show no case of an error using %c.","body":"Your title does not match the examples you give.  The examples show no case of an error using %c."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1667937379,"post_id":74366324,"comment_id":131286220,"body_markdown":"@accessviolation: the example posted causes this: `Exception in thread &quot;main&quot; java.util.IllegalFormatConversionException: d != java.lang.Character` for me on the indicated line.","body":"@accessviolation: the example posted causes this: <code>Exception in thread &quot;main&quot; java.util.IllegalFormatConversionException: d != java.lang.Character</code> for me on the indicated line."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1667937548,"post_id":74366324,"comment_id":131286271,"body_markdown":"@HovercraftFullOfEels - the title says &#39;%c causes error&#39;, and that is a case of %d causing an error.","body":"@HovercraftFullOfEels - the title says &#39;%c causes error&#39;, and that is a case of %d causing an error."},{"owner":{"account_id":5074998,"reputation":406,"user_id":4072641,"display_name":"Pedro Siqueira"},"score":0,"creation_date":1667939987,"post_id":74366324,"comment_id":131287053,"body_markdown":"Sorry, I corrected the question","body":"Sorry, I corrected the question"}],"answers":[{"tags":[],"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667946547,"creation_date":1667937311,"answer_id":74366431,"question_id":74366324,"body_markdown":"There is &#39;no risk of losing values&#39; by using an int argument with %c.  The argument is **not** first converted to a char datatype. See [documentation](https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax).\r\n\r\nThe specification for %c says that it will print the character if the argument is a valid codepoint, otherwise it will throw an IllegalFormatCodePointException.\r\n\r\nAccepting an &#39;int&#39; argument is necessary in order to print characters with codepoint values of 0x10000 or greater. Valid codepoints are in the range 0 to 0x10FFFF, exceeding what will fit in a single Java char.\r\n\r\nBy contrast, %d only accepts integral numeric types (not including char) because it has no reason to do otherwise.\r\n\r\n\r\n","title":"Java `printf` `char` with `%d` causes error","body":"<p>There is 'no risk of losing values' by using an int argument with %c.  The argument is <strong>not</strong> first converted to a char datatype. See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>The specification for %c says that it will print the character if the argument is a valid codepoint, otherwise it will throw an IllegalFormatCodePointException.</p>\n<p>Accepting an 'int' argument is necessary in order to print characters with codepoint values of 0x10000 or greater. Valid codepoints are in the range 0 to 0x10FFFF, exceeding what will fit in a single Java char.</p>\n<p>By contrast, %d only accepts integral numeric types (not including char) because it has no reason to do otherwise.</p>\n"}],"owner":{"account_id":5074998,"reputation":406,"user_id":4072641,"display_name":"Pedro Siqueira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667946547,"creation_date":1667936700,"question_id":74366324,"body_markdown":"Why does Java allow printing `int` as `char` using `%c` in `printf`, even though there is a risk of losing values, but not allow printing `char` as `int` using `%d` in `printf`, even though there is no risk of losing values?\r\n\r\n```\r\nSystem.out.printf(&quot;%c\\n&quot;, 112);       // ok\r\nSystem.out.printf(&quot;%d\\n&quot;, 112);       // ok\r\n\r\nSystem.out.printf(&quot;%c\\n&quot;, &#39;p&#39;);       // ok\r\nSystem.out.printf(&quot;%d\\n&quot;, &#39;p&#39;);       // error --&gt; why???\r\n\r\nSystem.out.printf(&quot;%d\\n&quot;, (int) &#39;p&#39;); // ok\r\n```","title":"Java `printf` `char` with `%d` causes error","body":"<p>Why does Java allow printing <code>int</code> as <code>char</code> using <code>%c</code> in <code>printf</code>, even though there is a risk of losing values, but not allow printing <code>char</code> as <code>int</code> using <code>%d</code> in <code>printf</code>, even though there is no risk of losing values?</p>\n<pre><code>System.out.printf(&quot;%c\\n&quot;, 112);       // ok\nSystem.out.printf(&quot;%d\\n&quot;, 112);       // ok\n\nSystem.out.printf(&quot;%c\\n&quot;, 'p');       // ok\nSystem.out.printf(&quot;%d\\n&quot;, 'p');       // error --&gt; why???\n\nSystem.out.printf(&quot;%d\\n&quot;, (int) 'p'); // ok\n</code></pre>\n"},{"tags":["java","spring","eclipse","soap","wsdl"],"answers":[{"tags":[],"owner":{"account_id":3904164,"reputation":2111,"user_id":3276902,"accept_rate":83,"display_name":"timguy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667946436,"creation_date":1667946436,"answer_id":74367840,"question_id":74355899,"body_markdown":"I would do the following steps:\r\n- put the WSDL in my repo anyway to see later changes\r\n- create a maven or gradle task to have the &quot;WSDL to java generation&quot; with JAXB whenever I will need it: https://spring.io/guides/gs/consuming-web-service/#initial\r\n- extend from `WebServiceGatewaySupport` to have a client\r\n\r\nYou could also follow this complete example:\r\nhttps://spring.io/guides/gs/consuming-web-service/","title":"Unable to convert WSDL url to JAVA","body":"<p>I would do the following steps:</p>\n<ul>\n<li>put the WSDL in my repo anyway to see later changes</li>\n<li>create a maven or gradle task to have the &quot;WSDL to java generation&quot; with JAXB whenever I will need it: <a href=\"https://spring.io/guides/gs/consuming-web-service/#initial\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/consuming-web-service/#initial</a></li>\n<li>extend from <code>WebServiceGatewaySupport</code> to have a client</li>\n</ul>\n<p>You could also follow this complete example:\n<a href=\"https://spring.io/guides/gs/consuming-web-service/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/consuming-web-service/</a></p>\n"}],"owner":{"account_id":5144135,"reputation":2717,"user_id":4120583,"accept_rate":29,"display_name":"Hikaru Shindo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667946436,"creation_date":1667884020,"question_id":74355899,"body_markdown":"I&#39;m working on a Spring Boot project. I have a 3rd party to use its service. It provides me WSDL url but I really new to the WSDL. \r\nI&#39;ve found that if I want to connect its service I need to convert WSDL to the JAVA class. \r\n\r\nSo, I&#39;ve found 2 solutions to do this.\r\n\r\n 1. Using &quot;wsimport -keep -verbose http://compA.com/ws/server?wsdl&quot;\r\n\r\nrefer: https://mkyong.com/webservices/jax-ws/jax-ws-wsimport-tool-example/\r\n\r\nWhen I attempt on this method I get below error.\r\n\r\n&gt; The operation couldn’t be completed. Unable to locate a Java Runtime\r\n&gt; that supports wsimport. Please visit http://www.java.com for\r\n&gt; information on installing Java.\r\n\r\nHere is my **java --version**\r\n\r\n&gt; java 19.0.1 2022-10-18\r\n&gt; \r\n&gt; Java(TM) SE Runtime Environment (build 19.0.1+10-21)\r\n&gt; \r\n&gt; Java HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode,\r\n&gt; sharing)\r\n\r\n 2. Using Eclipse\r\n\r\nAccording to https://stackoverflow.com/questions/22460571/how-do-you-convert-wsdls-to-java-classes-using-eclipse, my Eclipse has no **Web Services** option to be selected even I download Eclipse from https://www.eclipse.org/downloads/packages/release/2022-09/r/eclipse-ide-enterprise-java-and-web-developers","title":"Unable to convert WSDL url to JAVA","body":"<p>I'm working on a Spring Boot project. I have a 3rd party to use its service. It provides me WSDL url but I really new to the WSDL.\nI've found that if I want to connect its service I need to convert WSDL to the JAVA class.</p>\n<p>So, I've found 2 solutions to do this.</p>\n<ol>\n<li>Using &quot;wsimport -keep -verbose <a href=\"http://compA.com/ws/server?wsdl%22\" rel=\"nofollow noreferrer\">http://compA.com/ws/server?wsdl&quot;</a></li>\n</ol>\n<p>refer: <a href=\"https://mkyong.com/webservices/jax-ws/jax-ws-wsimport-tool-example/\" rel=\"nofollow noreferrer\">https://mkyong.com/webservices/jax-ws/jax-ws-wsimport-tool-example/</a></p>\n<p>When I attempt on this method I get below error.</p>\n<blockquote>\n<p>The operation couldn’t be completed. Unable to locate a Java Runtime\nthat supports wsimport. Please visit <a href=\"http://www.java.com\" rel=\"nofollow noreferrer\">http://www.java.com</a> for\ninformation on installing Java.</p>\n</blockquote>\n<p>Here is my <strong>java --version</strong></p>\n<blockquote>\n<p>java 19.0.1 2022-10-18</p>\n<p>Java(TM) SE Runtime Environment (build 19.0.1+10-21)</p>\n<p>Java HotSpot(TM) 64-Bit Server VM (build 19.0.1+10-21, mixed mode,\nsharing)</p>\n</blockquote>\n<ol start=\"2\">\n<li>Using Eclipse</li>\n</ol>\n<p>According to <a href=\"https://stackoverflow.com/questions/22460571/how-do-you-convert-wsdls-to-java-classes-using-eclipse\">How do you convert WSDLs to Java classes using Eclipse?</a>, my Eclipse has no <strong>Web Services</strong> option to be selected even I download Eclipse from <a href=\"https://www.eclipse.org/downloads/packages/release/2022-09/r/eclipse-ide-enterprise-java-and-web-developers\" rel=\"nofollow noreferrer\">https://www.eclipse.org/downloads/packages/release/2022-09/r/eclipse-ide-enterprise-java-and-web-developers</a></p>\n"},{"tags":["java","microservices","properties-file","api-gateway","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":8753156,"reputation":796,"user_id":6545554,"accept_rate":56,"display_name":"Capslock10"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1604476169,"creation_date":1604474630,"answer_id":64675684,"question_id":64675523,"body_markdown":"Just updated the ans.\r\n\r\nIt should be similer to this format:\r\n\r\n    spring.cloud.gateway.discovery.locator.predicates[0].name: Path\r\n    spring.cloud.gateway.discovery.locator.predicates[0].args[pattern]: &quot;&#39;/&#39;+serviceId+&#39;/**&#39;&quot;\r\n    spring.cloud.gateway.discovery.locator.predicates[1].name: Host\r\n    spring.cloud.gateway.discovery.locator.predicates[1].args[pattern]: &quot;&#39;**.foo.com&#39;&quot;\r\n    spring.cloud.gateway.discovery.locator.filters[0].name: Hystrix\r\n    spring.cloud.gateway.discovery.locator.filters[0].args[name]: serviceId\r\n    spring.cloud.gateway.discovery.locator.filters[1].name: RewritePath\r\n    spring.cloud.gateway.discovery.locator.filters[1].args[regexp]: &quot;&#39;/&#39; + serviceId + &#39;/(?&lt;remaining&gt;.*)&#39;&quot;\r\n    spring.cloud.gateway.discovery.locator.filters[1].args[replacement]: &quot;&#39;/${remaining}&#39;&quot;\r\n\r\nRef. https://cloud.spring.io/spring-cloud-gateway/multi/multi__configuration.html\r\n\r\n----------\r\nIf you are using intelliJ, the below plugin is so helpful for converting the format between .yaml and .properties:\r\nhttps://plugins.jetbrains.com/plugin/13804-convert-yaml-and-properties-file\r\n","title":"springcloud api gateway properties file declaring variables","body":"<p>Just updated the ans.</p>\n<p>It should be similer to this format:</p>\n<pre><code>spring.cloud.gateway.discovery.locator.predicates[0].name: Path\nspring.cloud.gateway.discovery.locator.predicates[0].args[pattern]: &quot;'/'+serviceId+'/**'&quot;\nspring.cloud.gateway.discovery.locator.predicates[1].name: Host\nspring.cloud.gateway.discovery.locator.predicates[1].args[pattern]: &quot;'**.foo.com'&quot;\nspring.cloud.gateway.discovery.locator.filters[0].name: Hystrix\nspring.cloud.gateway.discovery.locator.filters[0].args[name]: serviceId\nspring.cloud.gateway.discovery.locator.filters[1].name: RewritePath\nspring.cloud.gateway.discovery.locator.filters[1].args[regexp]: &quot;'/' + serviceId + '/(?&lt;remaining&gt;.*)'&quot;\nspring.cloud.gateway.discovery.locator.filters[1].args[replacement]: &quot;'/${remaining}'&quot;\n</code></pre>\n<p>Ref. <a href=\"https://cloud.spring.io/spring-cloud-gateway/multi/multi__configuration.html\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-gateway/multi/multi__configuration.html</a></p>\n<hr />\n<p>If you are using intelliJ, the below plugin is so helpful for converting the format between .yaml and .properties:\n<a href=\"https://plugins.jetbrains.com/plugin/13804-convert-yaml-and-properties-file\" rel=\"nofollow noreferrer\">https://plugins.jetbrains.com/plugin/13804-convert-yaml-and-properties-file</a></p>\n"},{"tags":[],"owner":{"account_id":3732901,"reputation":491,"user_id":3913894,"display_name":"khwilo"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1631344748,"creation_date":1631344748,"answer_id":69140898,"question_id":64675523,"body_markdown":"You can define the variables as follows in your `application.properties` file:\r\n\r\n    spring.cloud.gateway.routes[0].id=pgService\r\n    spring.cloud.gateway.routes[0].uri=http://localhost:2005/\r\n    spring.cloud.gateway.routes[0].predicates[0]=Path=/employee/**\r\n    spring.cloud.gateway.routes[1].id=inMateService\r\n    spring.cloud.gateway.routes[1].uri=http://localhost:2006/\r\n    spring.cloud.gateway.routes[1].predicates[0]=Path=/consumer/**","title":"springcloud api gateway properties file declaring variables","body":"<p>You can define the variables as follows in your <code>application.properties</code> file:</p>\n<pre><code>spring.cloud.gateway.routes[0].id=pgService\nspring.cloud.gateway.routes[0].uri=http://localhost:2005/\nspring.cloud.gateway.routes[0].predicates[0]=Path=/employee/**\nspring.cloud.gateway.routes[1].id=inMateService\nspring.cloud.gateway.routes[1].uri=http://localhost:2006/\nspring.cloud.gateway.routes[1].predicates[0]=Path=/consumer/**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22789129,"reputation":81,"user_id":16943764,"display_name":"dinakaran karan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643312637,"creation_date":1631977100,"answer_id":69235773,"question_id":64675523,"body_markdown":"It worked for me\r\n\r\n----------\r\n\r\n    spring.cloud.gateway.routes[0].id=USER-SERVICE\r\n    spring.cloud.gateway.routes[0].uri=lb://USER-SERVICE\r\n    spring.cloud.gateway.routes[0].predicates[0].name=Path\r\n    spring.cloud.gateway.routes[0].predicates[0].args[pattern]=/user/**\r\n\r\n    spring.cloud.gateway.routes[1].id=USER-SERVICE\r\n    spring.cloud.gateway.routes[1].uri=lb://USER-SERVICE\r\n    spring.cloud.gateway.routes[1].predicates[0].name=Path\r\n    spring.cloud.gateway.routes[1].predicates[0].args[pattern]=/department/**\r\n\r\n","title":"springcloud api gateway properties file declaring variables","body":"<p>It worked for me</p>\n<hr />\n<pre><code>spring.cloud.gateway.routes[0].id=USER-SERVICE\nspring.cloud.gateway.routes[0].uri=lb://USER-SERVICE\nspring.cloud.gateway.routes[0].predicates[0].name=Path\nspring.cloud.gateway.routes[0].predicates[0].args[pattern]=/user/**\n\nspring.cloud.gateway.routes[1].id=USER-SERVICE\nspring.cloud.gateway.routes[1].uri=lb://USER-SERVICE\nspring.cloud.gateway.routes[1].predicates[0].name=Path\nspring.cloud.gateway.routes[1].predicates[0].args[pattern]=/department/**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14230964,"reputation":11,"user_id":10280213,"display_name":"Yuvi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654499150,"creation_date":1654499150,"answer_id":72514149,"question_id":64675523,"body_markdown":"    ## microservices mapping ##\r\n    spring.cloud.gateway.routes[0].id=product-service\r\n    spring.cloud.gateway.routes[0].uri=lb://product-service\r\n    #spring.cloud.gateway.routes[0].uri=http://localhost:8002/\r\n    spring.cloud.gateway.routes[0].predicates[0]=Path=/product/api/**\r\n    spring.cloud.gateway.routes[0].filters[0]=StripPrefix=2\r\n\r\n    ## microservices mapping ##\r\n    spring.cloud.gateway.routes[1].id=product-service\r\n    #spring.cloud.gateway.routes[1].uri=lb://product-serviceed\r\n    spring.cloud.gateway.routes[1].uri=http://localhost:8003\r\n    spring.cloud.gateway.routes[1].predicates[0]=Path=/user/api/**\r\n    spring.cloud.gateway.routes[1].filters[0]=StripPrefix=2\r\n\r\n    Please refer code here : https://github.com/sunilkul/spring-cloud- \r\n    microservice/tree/spring-cloud-demo","title":"springcloud api gateway properties file declaring variables","body":"<pre><code>## microservices mapping ##\nspring.cloud.gateway.routes[0].id=product-service\nspring.cloud.gateway.routes[0].uri=lb://product-service\n#spring.cloud.gateway.routes[0].uri=http://localhost:8002/\nspring.cloud.gateway.routes[0].predicates[0]=Path=/product/api/**\nspring.cloud.gateway.routes[0].filters[0]=StripPrefix=2\n\n## microservices mapping ##\nspring.cloud.gateway.routes[1].id=product-service\n#spring.cloud.gateway.routes[1].uri=lb://product-serviceed\nspring.cloud.gateway.routes[1].uri=http://localhost:8003\nspring.cloud.gateway.routes[1].predicates[0]=Path=/user/api/**\nspring.cloud.gateway.routes[1].filters[0]=StripPrefix=2\n\nPlease refer code here : https://github.com/sunilkul/spring-cloud- \nmicroservice/tree/spring-cloud-demo\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14156320,"reputation":111,"user_id":10226930,"display_name":"Jiao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667945529,"creation_date":1667945529,"answer_id":74367729,"question_id":64675523,"body_markdown":"## works for me ##\r\n```\r\nspring.cloud.gateway.routes[0].id=USER-SERVICE\r\nspring.cloud.gateway.routes[0].uri=lb://USER-SERVICE\r\nspring.cloud.gateway.routes[0].predicates[0]=Path=/v1/users/**\r\nspring.cloud.gateway.routes[1].id=DEPARTMENT-SERVICE\r\nspring.cloud.gateway.routes[1].uri=lb://DEPARTMENT-SERVICE\r\nspring.cloud.gateway.routes[1].predicates[0]=Path=/v1/departments/**\r\n```\r\nIn my cotroller class:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/v1/users&quot;)\r\npublic class UserController {\r\n\r\n\r\n@RestController\r\n@RequestMapping(&quot;/v1/departments&quot;)\r\n```\r\nYou need to change them","title":"springcloud api gateway properties file declaring variables","body":"<h2>works for me</h2>\n<pre><code>spring.cloud.gateway.routes[0].id=USER-SERVICE\nspring.cloud.gateway.routes[0].uri=lb://USER-SERVICE\nspring.cloud.gateway.routes[0].predicates[0]=Path=/v1/users/**\nspring.cloud.gateway.routes[1].id=DEPARTMENT-SERVICE\nspring.cloud.gateway.routes[1].uri=lb://DEPARTMENT-SERVICE\nspring.cloud.gateway.routes[1].predicates[0]=Path=/v1/departments/**\n</code></pre>\n<p>In my cotroller class:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/v1/users&quot;)\npublic class UserController {\n\n\n@RestController\n@RequestMapping(&quot;/v1/departments&quot;)\n</code></pre>\n<p>You need to change them</p>\n"}],"owner":{"account_id":10305928,"reputation":101,"user_id":7603170,"display_name":"CHETAN  PATIL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24298,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":5,"score":10,"last_activity_date":1667945529,"creation_date":1604473725,"question_id":64675523,"body_markdown":"I have application.yaml in springboot app as below\r\n\r\n    spring:\r\n      cloud:\r\n        gateway:\r\n          routes:\r\n          - id: pgService\r\n            uri: http://localhost:2005/\r\n            predicates:\r\n            - Path=/employee/**\r\n          - id: inMateService\r\n            uri: http://localhost:2006/\r\n            predicates:\r\n            - Path=/consumer/**\r\n\r\nThe above declared variables are with respect to spring cloud gateway\r\n\t\t\r\nI want to declare these same variables in application.properties file.\r\ni don&#39;t want to use yaml file. please help me to achieve this\r\nThank you\t\t","title":"springcloud api gateway properties file declaring variables","body":"<p>I have application.yaml in springboot app as below</p>\n<pre><code>spring:\n  cloud:\n    gateway:\n      routes:\n      - id: pgService\n        uri: http://localhost:2005/\n        predicates:\n        - Path=/employee/**\n      - id: inMateService\n        uri: http://localhost:2006/\n        predicates:\n        - Path=/consumer/**\n</code></pre>\n<p>The above declared variables are with respect to spring cloud gateway</p>\n<p>I want to declare these same variables in application.properties file.\ni don't want to use yaml file. please help me to achieve this\nThank you</p>\n"},{"tags":["java","database","hibernate","jpa","orm"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1667944867,"post_id":74361973,"comment_id":131288430,"body_markdown":"You should not have the &quot;@PrimaryKeyJoinColumn&quot; annotation on your mapping in Ticket. Mapped by already means the &#39;target&#39; controls the relationship and that it points to this entities primary key without putting that annotation in there to muddy the waters. It was used in JPA 1.0 for what is now done through derived IDs  and MapsId. I&#39;m actually unclear how this works for you - you are specifying Ticket&#39;s ID sequence should be pulled from the User and set as if it is a foreign key, yet User should have a foreign key to ticket &quot;TICKET_ID&quot;.","body":"You should not have the &quot;@PrimaryKeyJoinColumn&quot; annotation on your mapping in Ticket. Mapped by already means the &#39;target&#39; controls the relationship and that it points to this entities primary key without putting that annotation in there to muddy the waters. It was used in JPA 1.0 for what is now done through derived IDs  and MapsId. I&#39;m actually unclear how this works for you - you are specifying Ticket&#39;s ID sequence should be pulled from the User and set as if it is a foreign key, yet User should have a foreign key to ticket &quot;TICKET_ID&quot;."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667945096,"creation_date":1667945096,"answer_id":74367668,"question_id":74361973,"body_markdown":"The JPA specification states this behavior is wrong:\r\n\r\nLooking at the 3.0 release:\r\nsection &quot;3.2.2. Persisting an Entity Instance&quot; implies user is unmanaged after your persist (you can check with the em.contains method).\r\n\r\nSection &quot;3.2.4. Synchronization to the Database&quot; covers the flush/commit which states: \r\n\r\n    • If X is a managed entity, it is synchronized to the database.\r\n      ..\r\n      ◦ For any entity Y referenced by a relationship from X, where the relationship to Y has not been annotated with the cascade element value cascade=PERSIST or cascade=ALL:\r\n        ▪ If Y is new or removed, an IllegalStateException will be thrown by the flush operation (and the transaction marked for rollback) or the transaction commit will fail.\r\n\r\nUser is new, so this should be resulting in an exception. That it works might be a glitch in how Hibernate is handling the @PrimaryKeyJoinColumn annotation (speculation on my part) and custom &quot;foreignGenerator&quot;. \r\n\r\nThis is not a pattern I&#39;d suggest you rely on, and should instead call persist to avoid inconsistencies with the behavior on other mapping setups. ","title":"Why is an entity being automatically saved without calling persist when using foreign generation strategy in bidirectional one-to-one mapping?","body":"<p>The JPA specification states this behavior is wrong:</p>\n<p>Looking at the 3.0 release:\nsection &quot;3.2.2. Persisting an Entity Instance&quot; implies user is unmanaged after your persist (you can check with the em.contains method).</p>\n<p>Section &quot;3.2.4. Synchronization to the Database&quot; covers the flush/commit which states:</p>\n<pre><code>• If X is a managed entity, it is synchronized to the database.\n  ..\n  ◦ For any entity Y referenced by a relationship from X, where the relationship to Y has not been annotated with the cascade element value cascade=PERSIST or cascade=ALL:\n    ▪ If Y is new or removed, an IllegalStateException will be thrown by the flush operation (and the transaction marked for rollback) or the transaction commit will fail.\n</code></pre>\n<p>User is new, so this should be resulting in an exception. That it works might be a glitch in how Hibernate is handling the @PrimaryKeyJoinColumn annotation (speculation on my part) and custom &quot;foreignGenerator&quot;.</p>\n<p>This is not a pattern I'd suggest you rely on, and should instead call persist to avoid inconsistencies with the behavior on other mapping setups.</p>\n"}],"owner":{"account_id":16010726,"reputation":1,"user_id":19142361,"display_name":"Jouenshin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667945096,"creation_date":1667915930,"question_id":74361973,"body_markdown":"I have been practicing one-to-one mapping in hibernate and don&#39;t understand this particular case. I have to say, the program is working fine and as I intended, but apparently I can omit a perist() call and it still works smoothly. The fact that it&#39;s working is good, but I want to know exactly why the call is optional. Let me write some details:\r\n\r\nThis is the user class, which is supposed to be the owning side of the mapping:\r\n\r\n``` \r\n@Data\r\n@Entity\r\npublic class User {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.SEQUENCE)\r\n\tprivate Long id;\r\n\t\r\n\tprivate String name;\r\n\t\r\n\t@OneToOne\r\n\tprivate Ticket ticket;\r\n\t\r\n\tpublic User() {}\r\n\t\r\n\tpublic User(String name) {\r\n\t\tthis.name=name;\r\n\t}\r\n}\r\n``` \r\nAnd this is the ticket class that&#39;s supposed to be the dependent one:\r\n\r\n```\r\n@Data\r\n@Entity\r\npublic class Ticket {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(generator=&quot;foreignGenerator&quot;)\r\n\t@GenericGenerator(name=&quot;foreignGenerator&quot;, strategy=&quot;foreign&quot;, \r\n\tparameters=@org.hibernate.annotations.Parameter(name=&quot;property&quot;, value=&quot;user&quot;))\r\n\tprivate Long id;\r\n\t\r\n\t@OneToOne(optional = false, mappedBy=&quot;ticket&quot;)\t\t \r\n    @PrimaryKeyJoinColumn\r\n\tprivate User user;\r\n\t\r\n\tpublic Ticket() {\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Ticket(User user) {\r\n\t\tthis.user=user;\r\n\t}\t\r\n\r\n}\r\n```\r\n\r\nI am trying to test the &quot;shared primary key&quot; strategy in one-to-one mapping. As you can see I have set up the generator with foreign strategy, which is supposed to make Ticket&#39;s id the same as it&#39;s corresponding User&#39;s id.\r\n\r\n```\r\n\t@Bean\r\n\tCommandLineRunner loadData() {\r\n\t\treturn args-&gt;{\r\n\t\t\tEntityManager em=emf.createEntityManager();\r\n\t\t\tem.getTransaction().begin();\r\n\t\t\tUser user=new User(&quot;Test User&quot;);\r\n\t\t\tTicket ticket=new Ticket(user);\r\n\t\t\t//em.persist(user);\r\n\t\t\tuser.setTicket(ticket);\r\n\t\t\tem.persist(ticket);\r\n\t\t\tem.getTransaction().commit();\r\n\t\t\tem.close();\r\n\t\t\t//We don&#39;t have to call persist on user\r\n\t\t};\r\n\t}\t\t\r\n}\r\n```\r\n\r\nThis program runs perfectly. Uncommenting the line which calls persist on user makes no difference. I am assuming that persisting ticket, which has it&#39;s user property set, automatically saves the user as well. Therefore, the reason it makes no difference is that no matter if user is getting saved or not, it will get persisted when we call ticket. \r\n\r\nI want to know if my assumption is correct and any additional links to articles/documentation would be greatly appreaciated. Especially I am wondering about this part that I said above-&quot;I am assuming that persisting ticket, which has it&#39;s user property set, automatically saves the user as well.&quot; I couldn&#39;t find anything that would confirm or deny this. I know that the &quot;shared primary key&quot; approach in one-to-one mapping is the only use case of &quot;foreign&quot; generation strategy, so there are not a lot of posts about it, and whatever posts are there are getting overshadowed by &quot;foreign key&quot; during the search. \r\n\r\nAny help regarding this or any other issue that might be wrong with the code provided above would be appreciated. Thanks for taking your time to read this\r\n\r\n","title":"Why is an entity being automatically saved without calling persist when using foreign generation strategy in bidirectional one-to-one mapping?","body":"<p>I have been practicing one-to-one mapping in hibernate and don't understand this particular case. I have to say, the program is working fine and as I intended, but apparently I can omit a perist() call and it still works smoothly. The fact that it's working is good, but I want to know exactly why the call is optional. Let me write some details:</p>\n<p>This is the user class, which is supposed to be the owning side of the mapping:</p>\n<pre><code>@Data\n@Entity\npublic class User {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.SEQUENCE)\n    private Long id;\n    \n    private String name;\n    \n    @OneToOne\n    private Ticket ticket;\n    \n    public User() {}\n    \n    public User(String name) {\n        this.name=name;\n    }\n}\n</code></pre>\n<p>And this is the ticket class that's supposed to be the dependent one:</p>\n<pre><code>@Data\n@Entity\npublic class Ticket {\n    \n    @Id\n    @GeneratedValue(generator=&quot;foreignGenerator&quot;)\n    @GenericGenerator(name=&quot;foreignGenerator&quot;, strategy=&quot;foreign&quot;, \n    parameters=@org.hibernate.annotations.Parameter(name=&quot;property&quot;, value=&quot;user&quot;))\n    private Long id;\n    \n    @OneToOne(optional = false, mappedBy=&quot;ticket&quot;)       \n    @PrimaryKeyJoinColumn\n    private User user;\n    \n    public Ticket() {\n        \n    }\n    \n    public Ticket(User user) {\n        this.user=user;\n    }   \n\n}\n</code></pre>\n<p>I am trying to test the &quot;shared primary key&quot; strategy in one-to-one mapping. As you can see I have set up the generator with foreign strategy, which is supposed to make Ticket's id the same as it's corresponding User's id.</p>\n<pre><code>    @Bean\n    CommandLineRunner loadData() {\n        return args-&gt;{\n            EntityManager em=emf.createEntityManager();\n            em.getTransaction().begin();\n            User user=new User(&quot;Test User&quot;);\n            Ticket ticket=new Ticket(user);\n            //em.persist(user);\n            user.setTicket(ticket);\n            em.persist(ticket);\n            em.getTransaction().commit();\n            em.close();\n            //We don't have to call persist on user\n        };\n    }       \n}\n</code></pre>\n<p>This program runs perfectly. Uncommenting the line which calls persist on user makes no difference. I am assuming that persisting ticket, which has it's user property set, automatically saves the user as well. Therefore, the reason it makes no difference is that no matter if user is getting saved or not, it will get persisted when we call ticket.</p>\n<p>I want to know if my assumption is correct and any additional links to articles/documentation would be greatly appreaciated. Especially I am wondering about this part that I said above-&quot;I am assuming that persisting ticket, which has it's user property set, automatically saves the user as well.&quot; I couldn't find anything that would confirm or deny this. I know that the &quot;shared primary key&quot; approach in one-to-one mapping is the only use case of &quot;foreign&quot; generation strategy, so there are not a lot of posts about it, and whatever posts are there are getting overshadowed by &quot;foreign key&quot; during the search.</p>\n<p>Any help regarding this or any other issue that might be wrong with the code provided above would be appreciated. Thanks for taking your time to read this</p>\n"},{"tags":["java","powershell","command-line","process"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667942819,"post_id":74367140,"comment_id":131287867,"body_markdown":"You haven&#39;t explained [your problem](https://technojeeves.com/index.php/aliasjava1/77-doesntwork) I would recommend you use the well-documented `ProcessBuilder`","body":"You haven&#39;t explained <a href=\"https://technojeeves.com/index.php/aliasjava1/77-doesntwork\" rel=\"nofollow noreferrer\">your problem</a> I would recommend you use the well-documented <code>ProcessBuilder</code>"}],"answers":[{"tags":[],"owner":{"account_id":19375,"reputation":396713,"user_id":45375,"display_name":"mklement0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667944743,"creation_date":1667944151,"answer_id":74367537,"question_id":74367140,"body_markdown":"Pass all arguments that make up your PowerShell command line as _individual_ array elements:\r\n\r\n```\r\nString[] command = new String[]{\r\n  &quot;powershell.exe&quot;,\r\n  &quot;-ExecutionPolicy&quot;,\r\n  &quot;Unrestricted&quot;,\r\n  &quot;-file&quot;,\r\n  &quot;C:\\\\Users\\\\xxxyyy\\\\Downloads\\\\test_script.ps1&quot;,\r\n  &quot;-d&quot;,\r\n  &quot;C:\\\\Users\\\\xxxyyy\\\\Downloads&quot;,\r\n  &quot;-f&quot;,\r\n  &quot;TestFile&quot;\r\n};\r\n```\r\n\r\nOn a general note:\r\n\r\n * `powershell.exe`, the PowerShell [CLI](https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_powershell_exe), would only understand `&#39;...&#39;` (single-quoted) strings as part of argument(s) passed to its `-Command` parameter, not with `-File`.\r\n","title":"Why is my script working when running from command line, but not in Java code?","body":"<p>Pass all arguments that make up your PowerShell command line as <em>individual</em> array elements:</p>\n<pre><code>String[] command = new String[]{\n  &quot;powershell.exe&quot;,\n  &quot;-ExecutionPolicy&quot;,\n  &quot;Unrestricted&quot;,\n  &quot;-file&quot;,\n  &quot;C:\\\\Users\\\\xxxyyy\\\\Downloads\\\\test_script.ps1&quot;,\n  &quot;-d&quot;,\n  &quot;C:\\\\Users\\\\xxxyyy\\\\Downloads&quot;,\n  &quot;-f&quot;,\n  &quot;TestFile&quot;\n};\n</code></pre>\n<p>On a general note:</p>\n<ul>\n<li><code>powershell.exe</code>, the PowerShell <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_powershell_exe\" rel=\"nofollow noreferrer\">CLI</a>, would only understand <code>'...'</code> (single-quoted) strings as part of argument(s) passed to its <code>-Command</code> parameter, not with <code>-File</code>.</li>\n</ul>\n"}],"owner":{"account_id":5494394,"reputation":39,"user_id":4366027,"display_name":"Kyozoku"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":74367537,"answer_count":1,"score":0,"last_activity_date":1667944743,"creation_date":1667941317,"question_id":74367140,"body_markdown":"This powershell script that I am trying to run with Java code works when I run the command ”powershell.exe -ExecutionPolicy Unrestricted -file &#39;C:\\\\Users\\\\xxxyyy\\\\Downloads\\\\test_script.ps1&#39; -d &#39;C:\\\\Users\\\\xxxyyy\\\\Downloads&#39; -f &#39;TestFile&#39;&quot; in powershell. The script converts an xlsx file successfully to a csv file. But when I try to run it in below test class the test is passed, but the file is not converted to csv. Can someone help me identify the issue?\r\n\r\nHere is the code of the Java test class and the powershell script.\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    import java.io.*;\r\n    import java.nio.charset.StandardCharsets;\r\n\r\n    public class PowershellTest {\r\n\r\n         @Test\r\n         public void shouldConvertXlsxToCsv() {\r\n            try {\r\n                runCommand();\r\n             } catch (IOException e) {\r\n                 e.printStackTrace();\r\n             }\r\n         }\r\n\r\n        public void runCommand() throws IOException {\r\n             String[] command = new String[]{&quot;powershell.exe&quot;,&quot;-ExecutionPolicy Unrestricted -file &#39;C:\\\\Users\\\\xxxyyy\\\\Downloads\\\\test_script.ps1&#39; -d &#39;C:\\\\Users\\\\xxxyyy\\\\Downloads&#39; -f &#39;TestFile&#39;&quot;};\r\n             Process powerShellProcess = Runtime.getRuntime().exec(command);\r\n             powerShellProcess.getOutputStream().close();\r\n             BufferedReader output = new BufferedReader(new \r\n             InputStreamReader(powerShellProcess.getInputStream(), StandardCharsets.ISO_8859_1));\r\n\r\n             try {\r\n                String line;\r\n                while ((line = output.readLine()) != null) {\r\n                    System.out.println(line);\r\n                }\r\n            } catch (Exception e) {\r\n               throw new RuntimeException(e);\r\n            } finally {\r\n                try {\r\n                    output.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nPS script: \r\n\r\n    Param(\r\n        [string]$d,\r\n        [string]$f\r\n    ) \r\n    \r\n    $excelFile = $d + &#39;\\&#39; + $f + &quot;.xlsx&quot;\r\n    $Excel = New-Object -ComObject Excel.Application\r\n    $wb = $Excel.Workbooks.Open($excelFile)\r\n\t\r\n    foreach ($ws in $wb.Worksheets) {\r\n        $ws.SaveAs($d + &#39;\\&#39; + $f + &quot;.csv&quot;, 6)\r\n    }\r\n    $Excel.Quit()","title":"Why is my script working when running from command line, but not in Java code?","body":"<p>This powershell script that I am trying to run with Java code works when I run the command ”powershell.exe -ExecutionPolicy Unrestricted -file 'C:\\Users\\xxxyyy\\Downloads\\test_script.ps1' -d 'C:\\Users\\xxxyyy\\Downloads' -f 'TestFile'&quot; in powershell. The script converts an xlsx file successfully to a csv file. But when I try to run it in below test class the test is passed, but the file is not converted to csv. Can someone help me identify the issue?</p>\n<p>Here is the code of the Java test class and the powershell script.</p>\n<pre><code>import org.junit.jupiter.api.Test;\n\nimport java.io.*;\nimport java.nio.charset.StandardCharsets;\n\npublic class PowershellTest {\n\n     @Test\n     public void shouldConvertXlsxToCsv() {\n        try {\n            runCommand();\n         } catch (IOException e) {\n             e.printStackTrace();\n         }\n     }\n\n    public void runCommand() throws IOException {\n         String[] command = new String[]{&quot;powershell.exe&quot;,&quot;-ExecutionPolicy Unrestricted -file 'C:\\\\Users\\\\xxxyyy\\\\Downloads\\\\test_script.ps1' -d 'C:\\\\Users\\\\xxxyyy\\\\Downloads' -f 'TestFile'&quot;};\n         Process powerShellProcess = Runtime.getRuntime().exec(command);\n         powerShellProcess.getOutputStream().close();\n         BufferedReader output = new BufferedReader(new \n         InputStreamReader(powerShellProcess.getInputStream(), StandardCharsets.ISO_8859_1));\n\n         try {\n            String line;\n            while ((line = output.readLine()) != null) {\n                System.out.println(line);\n            }\n        } catch (Exception e) {\n           throw new RuntimeException(e);\n        } finally {\n            try {\n                output.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>PS script:</p>\n<pre><code>Param(\n    [string]$d,\n    [string]$f\n) \n\n$excelFile = $d + '\\' + $f + &quot;.xlsx&quot;\n$Excel = New-Object -ComObject Excel.Application\n$wb = $Excel.Workbooks.Open($excelFile)\n\nforeach ($ws in $wb.Worksheets) {\n    $ws.SaveAs($d + '\\' + $f + &quot;.csv&quot;, 6)\n}\n$Excel.Quit()\n</code></pre>\n"},{"tags":["java","logging","logback","slf4j"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1667499449,"post_id":74307629,"comment_id":131187087,"body_markdown":"slf4j doesn&#39;t control the output logging format, that&#39;s determined by whatever logging implementation you&#39;re using? Is this a Spring Boot application?","body":"slf4j doesn&#39;t control the output logging format, that&#39;s determined by whatever logging implementation you&#39;re using? Is this a Spring Boot application?"},{"owner":{"account_id":1349824,"reputation":3326,"user_id":1289801,"accept_rate":30,"display_name":"TMOTTM"},"score":0,"creation_date":1667513421,"post_id":74307629,"comment_id":131190971,"body_markdown":"@E-Riz Correct, it&#39;s a Spring Boot application.","body":"@E-Riz Correct, it&#39;s a Spring Boot application."}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667944612,"creation_date":1667944612,"answer_id":74367599,"question_id":74307629,"body_markdown":"As mentioned in the comments above, slf4j doesn&#39;t control the format of the log output - that&#39;s done by the logging implementation you are using ([slf4j is just a facade/abstraction, not an implementation][1]). In Spring Boot applications, the default logging implementation is logback, and logback&#39;s pattern formatter supports left and right padding &quot;columns&quot; as well as setting min and max widths. Together, those formatting options can get what you&#39;re asking for.\r\n\r\nRather than give you and exact format, I urge you to [read the documentation][2] and determine which format you want. There are a lot of possible combinations to consider, and that page even has examples to help determine which you want.\r\n\r\n\r\n  [1]: https://www.slf4j.org/#:~:text=The%20Simple%20Logging%20Facade%20for%20Java%20(SLF4J)%20serves%20as%20a%20simple%20facade%20or%20abstraction%20for%20various%20logging%20frameworks%20(e.g.%20java.util.logging%2C%20logback%2C%20log4j)%20allowing%20the%20end%20user%20to%20plug%20in%20the%20desired%20logging%20framework%20at%20deployment%20time.\r\n  [2]: https://logback.qos.ch/manual/layouts.html#formatModifiers","title":"How to align SLF4J Log output?","body":"<p>As mentioned in the comments above, slf4j doesn't control the format of the log output - that's done by the logging implementation you are using (<a href=\"https://www.slf4j.org/#:%7E:text=The%20Simple%20Logging%20Facade%20for%20Java%20(SLF4J)%20serves%20as%20a%20simple%20facade%20or%20abstraction%20for%20various%20logging%20frameworks%20(e.g.%20java.util.logging%2C%20logback%2C%20log4j)%20allowing%20the%20end%20user%20to%20plug%20in%20the%20desired%20logging%20framework%20at%20deployment%20time.\" rel=\"nofollow noreferrer\">slf4j is just a facade/abstraction, not an implementation</a>). In Spring Boot applications, the default logging implementation is logback, and logback's pattern formatter supports left and right padding &quot;columns&quot; as well as setting min and max widths. Together, those formatting options can get what you're asking for.</p>\n<p>Rather than give you and exact format, I urge you to <a href=\"https://logback.qos.ch/manual/layouts.html#formatModifiers\" rel=\"nofollow noreferrer\">read the documentation</a> and determine which format you want. There are a lot of possible combinations to consider, and that page even has examples to help determine which you want.</p>\n"}],"owner":{"account_id":1349824,"reputation":3326,"user_id":1289801,"accept_rate":30,"display_name":"TMOTTM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667944650,"creation_date":1667498455,"question_id":74307629,"body_markdown":"For testing purposes, default log outputs too long lines which become hard to read.\r\n\r\nCurrently, I&#39;d just like to have an abbreviated class and the output given to `log.info` and for it to be aligned on the `---` symbols.\r\n\r\nI just this format currently:\r\n\r\n    logging.pattern.console=%c{1}           --- %m%n\r\n\r\nI guess `%n` means &quot;new line&quot;, `%c` means &quot;class&quot;, `{1}` abbreviates the fully qualified name (which is good). The output I&#39;m getting is:\r\n\r\n\r\n    d.e.e.Eva04p2Beanlifecycle           --- No active profile set, falling back to default profiles: default\r\n    d.e.e.s.SmallService           --- doBeforeInitializing before upadating ... what&#39;s my personal name? frieda\r\n    d.e.e.s.SmallService           --- doBeforeInitializing ... what&#39;s my personal name? marga\r\n    d.e.e.Eva04p2Beanlifecycle           --- Started Eva04p2Beanlifecycle in 0.628 seconds (JVM running for 0.824)\r\n    d.e.e.s.SmallService           --- doSomething ... what&#39;s my personal name? marga\r\n    d.e.e.s.SmallService           --- doBeforeDestroying ... what&#39;s my personal name? elisa\r\n\r\nusing these kinds of instructions:\r\n\r\n\r\n\r\n    @PostConstruct\r\n    public void doBeforeInitializing() {\r\n    \tlog.info(&quot;doBeforeInitializing before upadating ... what&#39;s my personal name? &quot; + myPersonalName);\r\n        myPersonalName = &quot;marga&quot;;\r\n        log.info(&quot;doBeforeInitializing ... what&#39;s my personal name? &quot; + myPersonalName);\r\n    }\r\n\r\n    public void doSomething() {\r\n    \tlog.info(&quot;doSomething ... what&#39;s my personal name? &quot; + myPersonalName);\r\n    }\r\n\r\n    @PreDestroy\r\n    public void doBeforeDestroying() {\r\n        myPersonalName = &quot;elisa&quot;;\r\n        log.info(&quot;doBeforeDestroying ... what&#39;s my personal name? &quot; + myPersonalName);\r\n    }\r\n\r\n\r\nWhat do I need to change, such that all `---` are printed aligned above each other?","title":"How to align SLF4J Log output?","body":"<p>For testing purposes, default log outputs too long lines which become hard to read.</p>\n<p>Currently, I'd just like to have an abbreviated class and the output given to <code>log.info</code> and for it to be aligned on the <code>---</code> symbols.</p>\n<p>I just this format currently:</p>\n<pre><code>logging.pattern.console=%c{1}           --- %m%n\n</code></pre>\n<p>I guess <code>%n</code> means &quot;new line&quot;, <code>%c</code> means &quot;class&quot;, <code>{1}</code> abbreviates the fully qualified name (which is good). The output I'm getting is:</p>\n<pre><code>d.e.e.Eva04p2Beanlifecycle           --- No active profile set, falling back to default profiles: default\nd.e.e.s.SmallService           --- doBeforeInitializing before upadating ... what's my personal name? frieda\nd.e.e.s.SmallService           --- doBeforeInitializing ... what's my personal name? marga\nd.e.e.Eva04p2Beanlifecycle           --- Started Eva04p2Beanlifecycle in 0.628 seconds (JVM running for 0.824)\nd.e.e.s.SmallService           --- doSomething ... what's my personal name? marga\nd.e.e.s.SmallService           --- doBeforeDestroying ... what's my personal name? elisa\n</code></pre>\n<p>using these kinds of instructions:</p>\n<pre><code>@PostConstruct\npublic void doBeforeInitializing() {\n    log.info(&quot;doBeforeInitializing before upadating ... what's my personal name? &quot; + myPersonalName);\n    myPersonalName = &quot;marga&quot;;\n    log.info(&quot;doBeforeInitializing ... what's my personal name? &quot; + myPersonalName);\n}\n\npublic void doSomething() {\n    log.info(&quot;doSomething ... what's my personal name? &quot; + myPersonalName);\n}\n\n@PreDestroy\npublic void doBeforeDestroying() {\n    myPersonalName = &quot;elisa&quot;;\n    log.info(&quot;doBeforeDestroying ... what's my personal name? &quot; + myPersonalName);\n}\n</code></pre>\n<p>What do I need to change, such that all <code>---</code> are printed aligned above each other?</p>\n"},{"tags":["java","spring","unit-testing","junit4"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1667927396,"post_id":74364316,"comment_id":131282866,"body_markdown":"try with this annotation on the test class: `@ExtendWith(SpringExtension.class)\n@EnableConfigurationProperties(value = JmsMessageGatewayConnectionConfig.class) @TestPropertySource(locations = &quot;classpath:camel.properties&quot;)`","body":"try with this annotation on the test class: <code>@ExtendWith(SpringExtension.class) @EnableConfigurationProperties(value = JmsMessageGatewayConnectionConfig.class) @TestPropertySource(locations = &quot;classpath:camel.properties&quot;)</code>"},{"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"score":0,"creation_date":1667927929,"post_id":74364316,"comment_id":131283057,"body_markdown":"Now test just fails. I don&#39;t think it creates a bean","body":"Now test just fails. I don&#39;t think it creates a bean"}],"answers":[{"tags":[],"owner":{"account_id":26869578,"reputation":1,"user_id":20451796,"display_name":"Jo.R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667928826,"creation_date":1667926526,"answer_id":74364427,"question_id":74364316,"body_markdown":"Have you tried added @DependsOn since the implementation does require the configuration properties to exist first?\r\n@DependsOn allows you to define dependencies of a bean before it can be created.\r\n\r\nAlso, it depends on which version of spring you are using.\r\nAre you using spring-boot?\r\n\r\nOr define the properties reference in the class.  \r\n\r\n    @PropertySource(&quot;classpath:camel.properties&quot;)\r\n    public class JmsMessageGatewayProperties  {}\r\n\r\nThere were changes to spring that allowed the following:\r\n\r\n    @ConfigurationPropertiesScan \r\n    @ConfigurationProperties(prefix = &quot;jms&quot;)\r\n    public JmsMessageGatewayProperties messageGatewayProperties() {\r\n        return new JmsMessageGatewayProperties();\r\n    }","title":"How do I create unit test for configuration class with properties?","body":"<p>Have you tried added @DependsOn since the implementation does require the configuration properties to exist first?\n@DependsOn allows you to define dependencies of a bean before it can be created.</p>\n<p>Also, it depends on which version of spring you are using.\nAre you using spring-boot?</p>\n<p>Or define the properties reference in the class.</p>\n<pre><code>@PropertySource(&quot;classpath:camel.properties&quot;)\npublic class JmsMessageGatewayProperties  {}\n</code></pre>\n<p>There were changes to spring that allowed the following:</p>\n<pre><code>@ConfigurationPropertiesScan \n@ConfigurationProperties(prefix = &quot;jms&quot;)\npublic JmsMessageGatewayProperties messageGatewayProperties() {\n    return new JmsMessageGatewayProperties();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667944638,"creation_date":1667927102,"answer_id":74364565,"question_id":74364316,"body_markdown":"I don&#39;t know why but definig the bean annotated with `@ConfigurationProperties` in the `@Configuration` class\r\n```\r\n@Bean\r\n@ConfigurationProperties(prefix = &quot;jms&quot;)\r\npublic JmsMessageGatewayProperties messageGatewayProperties() {\r\n    return new JmsMessageGatewayProperties();\r\n}\r\n```\r\ngives this error in the test:\r\n&gt;Caused by: java.lang.IllegalStateException: No ConfigurationProperties annotation found on  &#39;com.example.springbootconsumer.JmsMessageGatewayProperties&#39;.\r\n\r\nTest Class:\r\n```\r\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\nimport org.springframework.test.context.ContextConfiguration;\r\nimport org.springframework.test.context.TestPropertySource;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\n\r\n@ExtendWith(SpringExtension.class)\r\n@EnableConfigurationProperties(value = JmsMessageGatewayProperties.class)\r\n@ContextConfiguration(classes = JmsMessageGatewayConnectionConfig.class)\r\n@TestPropertySource(locations = &quot;classpath:camel.properties&quot;)\r\npublic class JmsMessageGatewayConnectionConfigTest {\r\n\r\n    @Autowired\r\n    private JmsMessageGatewayProperties jmsMessageGatewayProperties;\r\n\r\n    @Test\r\n    public void jmsMessageGatewayConnectionConfigTest() {\r\n        assertNotNull(jmsMessageGatewayProperties);\r\n    }\r\n}\r\n```\r\nA possible workaround is to define the bean for the properties like this:\r\n```\r\n@Configuration\r\n@ConfigurationProperties(prefix = &quot;jms&quot;)\r\npublic class JmsMessageGatewayProperties {\r\n\t\r\n\tprivate String remoteUri;\r\n    private String username;\r\n    private String password;\r\n    private boolean messagePersistent;\r\n    private Integer forceDetachedRetryLimit = 1;\r\n    //getters setters\r\n}\r\n```\r\nand inject it in the configuration class:\r\n```\r\n@Configuration\r\npublic class JmsMessageGatewayConnectionConfig {\r\n    @Autowired\r\n    private JmsMessageGatewayProperties jmsConfig;\r\n    @Bean\r\n    public JmsMessageGatewayConnection jmsMessageGatewayConnection () throws JMSException {\r\n        return new JmsMessageGatewayConnection(jmsConfig, cachingConnectionFactory(jmsConfig));\r\n    }\r\n\r\n    private CachingConnectionFactory cachingConnectionFactory() {\r\n        CachingConnectionFactory cachingConnectionFactory = new CachingConnectionFactory();\r\n        cachingConnectionFactory.setTargetConnectionFactory(jmsConnectionFactory(jmsConfig));\r\n        cachingConnectionFactory.resetConnection();\r\n        return cachingConnectionFactory;\r\n    }\r\n\r\n    private JmsConnectionFactory jmsConnectionFactory() {\r\n        JmsConnectionFactory jmsConnectionFactory =\r\n                new JmsConnectionFactory(jmsConfig.getUsername(), jmsConfig.getPassword(), jmsConfig.getRemoteUri());\r\n        jmsConnectionFactory.setReceiveLocalOnly(true);\r\n        return jmsConnectionFactory;\r\n    }\r\n}\r\n```\r\nTest class:\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@EnableConfigurationProperties(value = JmsMessageGatewayProperties.class)\r\n@ContextConfiguration(classes = JmsMessageGatewayConnectionConfig.class)\r\n@TestPropertySource(locations = &quot;classpath:camel.properties&quot;)\r\npublic class JmsMessageGatewayConnectionConfigTest {\r\n\r\n    @Autowired\r\n    private JmsMessageGatewayConnection jmsMessageGatewayConnection;\r\n\r\n    @Test\r\n    public void jmsMessageGatewayConnectionConfigTest() {\r\n        Assert.assertNotNull(jmsMessageGatewayConnection);\r\n    }\r\n}\r\n```\r\nusing spring-boot 2.7.3\r\nHope this helps","title":"How do I create unit test for configuration class with properties?","body":"<p>I don't know why but definig the bean annotated with <code>@ConfigurationProperties</code> in the <code>@Configuration</code> class</p>\n<pre><code>@Bean\n@ConfigurationProperties(prefix = &quot;jms&quot;)\npublic JmsMessageGatewayProperties messageGatewayProperties() {\n    return new JmsMessageGatewayProperties();\n}\n</code></pre>\n<p>gives this error in the test:</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalStateException: No ConfigurationProperties annotation found on  'com.example.springbootconsumer.JmsMessageGatewayProperties'.</p>\n</blockquote>\n<p>Test Class:</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertNotNull;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.TestPropertySource;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\n\n@ExtendWith(SpringExtension.class)\n@EnableConfigurationProperties(value = JmsMessageGatewayProperties.class)\n@ContextConfiguration(classes = JmsMessageGatewayConnectionConfig.class)\n@TestPropertySource(locations = &quot;classpath:camel.properties&quot;)\npublic class JmsMessageGatewayConnectionConfigTest {\n\n    @Autowired\n    private JmsMessageGatewayProperties jmsMessageGatewayProperties;\n\n    @Test\n    public void jmsMessageGatewayConnectionConfigTest() {\n        assertNotNull(jmsMessageGatewayProperties);\n    }\n}\n</code></pre>\n<p>A possible workaround is to define the bean for the properties like this:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;jms&quot;)\npublic class JmsMessageGatewayProperties {\n    \n    private String remoteUri;\n    private String username;\n    private String password;\n    private boolean messagePersistent;\n    private Integer forceDetachedRetryLimit = 1;\n    //getters setters\n}\n</code></pre>\n<p>and inject it in the configuration class:</p>\n<pre><code>@Configuration\npublic class JmsMessageGatewayConnectionConfig {\n    @Autowired\n    private JmsMessageGatewayProperties jmsConfig;\n    @Bean\n    public JmsMessageGatewayConnection jmsMessageGatewayConnection () throws JMSException {\n        return new JmsMessageGatewayConnection(jmsConfig, cachingConnectionFactory(jmsConfig));\n    }\n\n    private CachingConnectionFactory cachingConnectionFactory() {\n        CachingConnectionFactory cachingConnectionFactory = new CachingConnectionFactory();\n        cachingConnectionFactory.setTargetConnectionFactory(jmsConnectionFactory(jmsConfig));\n        cachingConnectionFactory.resetConnection();\n        return cachingConnectionFactory;\n    }\n\n    private JmsConnectionFactory jmsConnectionFactory() {\n        JmsConnectionFactory jmsConnectionFactory =\n                new JmsConnectionFactory(jmsConfig.getUsername(), jmsConfig.getPassword(), jmsConfig.getRemoteUri());\n        jmsConnectionFactory.setReceiveLocalOnly(true);\n        return jmsConnectionFactory;\n    }\n}\n</code></pre>\n<p>Test class:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@EnableConfigurationProperties(value = JmsMessageGatewayProperties.class)\n@ContextConfiguration(classes = JmsMessageGatewayConnectionConfig.class)\n@TestPropertySource(locations = &quot;classpath:camel.properties&quot;)\npublic class JmsMessageGatewayConnectionConfigTest {\n\n    @Autowired\n    private JmsMessageGatewayConnection jmsMessageGatewayConnection;\n\n    @Test\n    public void jmsMessageGatewayConnectionConfigTest() {\n        Assert.assertNotNull(jmsMessageGatewayConnection);\n    }\n}\n</code></pre>\n<p>using spring-boot 2.7.3\nHope this helps</p>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1667944638,"creation_date":1667926059,"question_id":74364316,"body_markdown":"I am trying to create unit test for configuration class for connection class. Here is my config class for connection:\r\n```\r\n@Configuration\r\npublic class JmsMessageGatewayConnectionConfig {\r\n\r\n    @Bean\r\n    public JmsMessageGatewayConnection jmsMessageGatewayConnection (final JmsMessageGatewayProperties jmsConfig) throws JMSException {\r\n        return new JmsMessageGatewayConnection(jmsConfig, cachingConnectionFactory(jmsConfig));\r\n    }\r\n\r\n    private CachingConnectionFactory cachingConnectionFactory(final JmsMessageGatewayProperties jmsConfig) {\r\n        CachingConnectionFactory cachingConnectionFactory = new CachingConnectionFactory();\r\n        cachingConnectionFactory.setTargetConnectionFactory(jmsConnectionFactory(jmsConfig));\r\n        cachingConnectionFactory.resetConnection();\r\n        return cachingConnectionFactory;\r\n    }\r\n\r\n    private JmsConnectionFactory jmsConnectionFactory(final JmsMessageGatewayProperties jmsConfig) {\r\n        JmsConnectionFactory jmsConnectionFactory =\r\n                new JmsConnectionFactory(jmsConfig.getUsername(), jmsConfig.getPassword(), jmsConfig.getRemoteUri());\r\n        jmsConnectionFactory.setReceiveLocalOnly(true);\r\n        return jmsConnectionFactory;\r\n    }\r\n\r\n    @Bean\r\n    @ConfigurationProperties(prefix = &quot;jms&quot;)\r\n    public JmsMessageGatewayProperties messageGatewayProperties() {\r\n        return new JmsMessageGatewayProperties();\r\n    }\r\n}\r\n```\r\nAnd here is JmsMessageGatewayProperties class:\r\n```\r\npublic class JmsMessageGatewayProperties {\r\n\r\n    private String remoteUri;\r\n    private String username;\r\n    private String password;\r\n    private boolean messagePersistent;\r\n    private Integer forceDetachedRetryLimit = 1;\r\n\r\n    public String getRemoteUri() {\r\n        return remoteUri;\r\n    }\r\n\r\n    public void setRemoteUri(final String remoteUri) {\r\n        this.remoteUri = remoteUri;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(final String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(final String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public boolean isMessagePersistent() {\r\n        return messagePersistent;\r\n    }\r\n\r\n    public void setMessagePersistent(final boolean messagePersistent) {\r\n        this.messagePersistent = messagePersistent;\r\n    }\r\n\r\n    public Integer getForceDetachedRetryLimit() {\r\n        return forceDetachedRetryLimit;\r\n    }\r\n\r\n    public void setForceDetachedRetryLimit(final Integer forceDetachedRetryLimit) {\r\n        this.forceDetachedRetryLimit = forceDetachedRetryLimit;\r\n    }\r\n}\r\n```\r\nAnd here is my test class:\r\n```\r\n@RunWith(SpringRunner.class)\r\n@ContextConfiguration(classes = { JmsMessageGatewayConnectionConfig.class})\r\n@TestPropertySource(locations = &quot;classpath:camel.properties&quot;)\r\npublic class JmsMessageGatewayConnectionConfigTest {\r\n\r\n    @Autowired\r\n    private JmsMessageGatewayConnection jmsMessageGatewayConnection;\r\n\r\n    @Test\r\n    public void jmsMessageGatewayConnectionConfigTest() {\r\n        Assert.assertNotNull(jmsMessageGatewayConnection);\r\n    }\r\n}\r\n```\r\n\r\nTest fails with `Invalid URI: cannot be null or empty`. I think I understand that properties in `jmsConfig` are null via checking it in debug mode. I did update my camel.properties to have the properties like this:\r\n```\r\njms.remoteUri=vm://localhost:61616\r\njms.username=username\r\njms.password=password\r\n```\r\n\r\nI am not sure what I am missing here. Why are the properties inside of JmsMessageGatewayProperties null even though it has the object?","title":"How do I create unit test for configuration class with properties?","body":"<p>I am trying to create unit test for configuration class for connection class. Here is my config class for connection:</p>\n<pre><code>@Configuration\npublic class JmsMessageGatewayConnectionConfig {\n\n    @Bean\n    public JmsMessageGatewayConnection jmsMessageGatewayConnection (final JmsMessageGatewayProperties jmsConfig) throws JMSException {\n        return new JmsMessageGatewayConnection(jmsConfig, cachingConnectionFactory(jmsConfig));\n    }\n\n    private CachingConnectionFactory cachingConnectionFactory(final JmsMessageGatewayProperties jmsConfig) {\n        CachingConnectionFactory cachingConnectionFactory = new CachingConnectionFactory();\n        cachingConnectionFactory.setTargetConnectionFactory(jmsConnectionFactory(jmsConfig));\n        cachingConnectionFactory.resetConnection();\n        return cachingConnectionFactory;\n    }\n\n    private JmsConnectionFactory jmsConnectionFactory(final JmsMessageGatewayProperties jmsConfig) {\n        JmsConnectionFactory jmsConnectionFactory =\n                new JmsConnectionFactory(jmsConfig.getUsername(), jmsConfig.getPassword(), jmsConfig.getRemoteUri());\n        jmsConnectionFactory.setReceiveLocalOnly(true);\n        return jmsConnectionFactory;\n    }\n\n    @Bean\n    @ConfigurationProperties(prefix = &quot;jms&quot;)\n    public JmsMessageGatewayProperties messageGatewayProperties() {\n        return new JmsMessageGatewayProperties();\n    }\n}\n</code></pre>\n<p>And here is JmsMessageGatewayProperties class:</p>\n<pre><code>public class JmsMessageGatewayProperties {\n\n    private String remoteUri;\n    private String username;\n    private String password;\n    private boolean messagePersistent;\n    private Integer forceDetachedRetryLimit = 1;\n\n    public String getRemoteUri() {\n        return remoteUri;\n    }\n\n    public void setRemoteUri(final String remoteUri) {\n        this.remoteUri = remoteUri;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(final String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(final String password) {\n        this.password = password;\n    }\n\n    public boolean isMessagePersistent() {\n        return messagePersistent;\n    }\n\n    public void setMessagePersistent(final boolean messagePersistent) {\n        this.messagePersistent = messagePersistent;\n    }\n\n    public Integer getForceDetachedRetryLimit() {\n        return forceDetachedRetryLimit;\n    }\n\n    public void setForceDetachedRetryLimit(final Integer forceDetachedRetryLimit) {\n        this.forceDetachedRetryLimit = forceDetachedRetryLimit;\n    }\n}\n</code></pre>\n<p>And here is my test class:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@ContextConfiguration(classes = { JmsMessageGatewayConnectionConfig.class})\n@TestPropertySource(locations = &quot;classpath:camel.properties&quot;)\npublic class JmsMessageGatewayConnectionConfigTest {\n\n    @Autowired\n    private JmsMessageGatewayConnection jmsMessageGatewayConnection;\n\n    @Test\n    public void jmsMessageGatewayConnectionConfigTest() {\n        Assert.assertNotNull(jmsMessageGatewayConnection);\n    }\n}\n</code></pre>\n<p>Test fails with <code>Invalid URI: cannot be null or empty</code>. I think I understand that properties in <code>jmsConfig</code> are null via checking it in debug mode. I did update my camel.properties to have the properties like this:</p>\n<pre><code>jms.remoteUri=vm://localhost:61616\njms.username=username\njms.password=password\n</code></pre>\n<p>I am not sure what I am missing here. Why are the properties inside of JmsMessageGatewayProperties null even though it has the object?</p>\n"},{"tags":["java","gradle","aws-codebuild"],"comments":[{"owner":{"account_id":16192240,"reputation":393,"user_id":11690682,"display_name":"sweintritt"},"score":1,"creation_date":1663869039,"post_id":73818677,"comment_id":130346726,"body_markdown":"Do you get more info with the &#39;--stacktrace&#39; option? Have you tried executing the referenced compiler (`/usr/lib/jvm/java-17-amazon-corretto.x86_64/bin/javac -version`)? Does this give any error messages?","body":"Do you get more info with the &#39;--stacktrace&#39; option? Have you tried executing the referenced compiler (<code>&#47;usr&#47;lib&#47;jvm&#47;java-17-amazon-corretto.x86_64&#47;bin&#47;javac -version</code>)? Does this give any error messages?"},{"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"score":0,"creation_date":1663877334,"post_id":73818677,"comment_id":130349146,"body_markdown":"Thanks, good tip - I get this, it sounds like CodeBuild is incorrectly setting the JAVA_HOME variable. I wish that Gradle would include error messages by default in the log: 2022/09/22 20:06:28 null null\nINFO: [Container] 2022/09/22 20:06:28 Running command echo `/usr/lib/jvm/java-17-amazon-corretto.x86_64/bin/javac -version`\n/codebuild/output/tmp/script.sh: line 4: /usr/lib/jvm/java-17-amazon-corretto.x86_64/bin/javac: No such file or directory","body":"Thanks, good tip - I get this, it sounds like CodeBuild is incorrectly setting the JAVA_HOME variable. I wish that Gradle would include error messages by default in the log: 2022/09/22 20:06:28 null null INFO: [Container] 2022/09/22 20:06:28 Running command echo <code>&#47;usr&#47;lib&#47;jvm&#47;java-17-amazon-corretto.x86_64&#47;bin&#47;javac -version</code> /codebuild/output/tmp/script.sh: line 4: /usr/lib/jvm/java-17-amazon-corretto.x86_64/bin/javac: No such file or directory"}],"answers":[{"tags":[],"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667944554,"creation_date":1663883465,"answer_id":73821027,"question_id":73818677,"body_markdown":"The problem occurs because the Java runtime is broken for aws/codebuild/amazonlinux2-x86_64-standard:4.0; there is a jre installed but no jdk.","title":"How do I get Gradle to run the java compiler?","body":"<p>The problem occurs because the Java runtime is broken for aws/codebuild/amazonlinux2-x86_64-standard:4.0; there is a jre installed but no jdk.</p>\n"}],"owner":{"account_id":95716,"reputation":6589,"user_id":260516,"accept_rate":63,"display_name":"Jesse Barnum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667944554,"creation_date":1663867984,"question_id":73818677,"body_markdown":"I&#39;m running Gradle 7.4.2, and get an error that there was a problem starting the compiler. I cannot find any details or reason. Why isn’t the error message from launching the compiler output to the log? The message recommends using --scan, but I’m doing that.\r\n\r\n    2022-09-22T16:40:40.905+0000 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * What went wrong:\r\n    876 2022-09-22T16:40:40.905+0000 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] Execution failed for task ‘:LicenseClientAPI:compileJava’.\r\n    877 2022-09-22T16:40:40.906+0000 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; A problem occurred starting process ‘command ‘/usr/lib/jvm/java-17-amazon-corretto.x86_64/bin/javac’’\r\n    878 2022-09-22T16:40:40.906+0000 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]\r\n    879 2022-09-22T16:40:40.906+0000 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * Try:\r\n    880 2022-09-22T16:40:40.906+0000 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; Run with --stacktrace option to get the stack trace.\r\n    881 2022-09-22T16:40:40.906+0000 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; Run with --scan to get full insights.\r\n    882 2022-09-22T16:40:40.906+0000 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]\r\n    883 2022-09-22T16:40:40.906+0000 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * Get more help at https://help.gradle.org\r\n\r\n\r\nHere is the build.gradle file:\r\n\r\n    apply plugin: &#39;idea&#39;\r\n    \r\n    group &#39;com.prosc&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    compileJava.options.encoding = &#39;UTF-8&#39;\r\n    \r\n    ext.buildLocation = System.getenv(&quot;buildLocation&quot;) ?: rootDir\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    idea {\r\n    \tmodule {\r\n    \t\tinheritOutputDirs = true\r\n    \t}\r\n    }\r\n    \r\n    \r\n    sourceSets {\r\n    \tmain {\r\n    \t\tjava {\r\n    \t\t\tsrcDirs = [&quot;src&quot;]\r\n    \t\t}\r\n    \t\tresources {\r\n    \t\t\tsrcDirs = [&quot;src&quot;]\r\n    \t\t}\r\n    \t}\r\n    \ttest {\r\n    \t\tjava {\r\n    \t\t\tsrcDirs = [&quot;test_src&quot;]\r\n    \t\t}\r\n    \t\tresources {\r\n    \t\t\tsrcDirs = [&quot;test_src&quot;]\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    ext.com_squareup_retrofit2_converter_gson_2_9_0 = &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n    ext.com_squareup_retrofit2_converter_gson_2_9_0_files = files ( &quot;${buildLocation}/out/gradle/repoLibs/converter-gson-2.9.0.jar&quot;,\r\n    \t&quot;${buildLocation}/out/gradle/repoLibs/retrofit-2.9.0.jar&quot;,\r\n    \t&quot;${buildLocation}/out/gradle/repoLibs/okhttp-3.14.9.jar&quot;,\r\n    \t&quot;${buildLocation}/out/gradle/repoLibs/okio-1.17.2.jar&quot;,\r\n    \t&quot;${buildLocation}/out/gradle/repoLibs/gson-2.8.5.jar&quot;)\r\n    ext.IntellijAnnotations = &#39;org.jetbrains:annotations:16.0.1&#39;\r\n    ext.IntellijAnnotations_files = files ( &quot;${buildLocation}/out/gradle/repoLibs/annotations-16.0.1.jar&quot;)\r\n    ext.junit = &#39;junit:junit:4.13.2&#39;\r\n    ext.junit_files = files ( &quot;${buildLocation}/out/gradle/repoLibs/junit-4.13.2.jar&quot;,\r\n    \t&quot;${buildLocation}/out/gradle/repoLibs/hamcrest-core-1.3.jar&quot;)\r\n    \r\n    \r\n    dependencies {\r\n    \timplementation project(&#39;:ProscCore&#39;)\r\n    \ttestImplementation project(&#39;:ProscCore&#39;).sourceSets.test.output\r\n    \timplementation project(&#39;:ProscDeployment&#39;)\r\n    \ttestImplementation project(&#39;:ProscDeployment&#39;).sourceSets.test.output\r\n    \tapi com_squareup_retrofit2_converter_gson_2_9_0\r\n    \timplementation project(&#39;:LicenseClientAPI&#39;)\r\n    \ttestImplementation project(&#39;:LicenseClientAPI&#39;).sourceSets.test.output\r\n    \timplementation IntellijAnnotations\r\n    \timplementation project(&#39;:ProscCoreDesktop&#39;)\r\n    \ttestImplementation project(&#39;:ProscCoreDesktop&#39;).sourceSets.test.output\r\n    \ttestCompileOnly junit\r\n    }\r\n\r\n","title":"How do I get Gradle to run the java compiler?","body":"<p>I'm running Gradle 7.4.2, and get an error that there was a problem starting the compiler. I cannot find any details or reason. Why isn’t the error message from launching the compiler output to the log? The message recommends using --scan, but I’m doing that.</p>\n<pre><code>2022-09-22T16:40:40.905+0000 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * What went wrong:\n876 2022-09-22T16:40:40.905+0000 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] Execution failed for task ‘:LicenseClientAPI:compileJava’.\n877 2022-09-22T16:40:40.906+0000 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; A problem occurred starting process ‘command ‘/usr/lib/jvm/java-17-amazon-corretto.x86_64/bin/javac’’\n878 2022-09-22T16:40:40.906+0000 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]\n879 2022-09-22T16:40:40.906+0000 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * Try:\n880 2022-09-22T16:40:40.906+0000 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; Run with --stacktrace option to get the stack trace.\n881 2022-09-22T16:40:40.906+0000 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] &gt; Run with --scan to get full insights.\n882 2022-09-22T16:40:40.906+0000 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter]\n883 2022-09-22T16:40:40.906+0000 [ERROR] [org.gradle.internal.buildevents.BuildExceptionReporter] * Get more help at https://help.gradle.org\n</code></pre>\n<p>Here is the build.gradle file:</p>\n<pre><code>apply plugin: 'idea'\n\ngroup 'com.prosc'\nversion '1.0-SNAPSHOT'\n\ncompileJava.options.encoding = 'UTF-8'\n\next.buildLocation = System.getenv(&quot;buildLocation&quot;) ?: rootDir\n\nrepositories {\n    mavenCentral()\n}\n\nidea {\n    module {\n        inheritOutputDirs = true\n    }\n}\n\n\nsourceSets {\n    main {\n        java {\n            srcDirs = [&quot;src&quot;]\n        }\n        resources {\n            srcDirs = [&quot;src&quot;]\n        }\n    }\n    test {\n        java {\n            srcDirs = [&quot;test_src&quot;]\n        }\n        resources {\n            srcDirs = [&quot;test_src&quot;]\n        }\n    }\n}\n\next.com_squareup_retrofit2_converter_gson_2_9_0 = 'com.squareup.retrofit2:converter-gson:2.9.0'\next.com_squareup_retrofit2_converter_gson_2_9_0_files = files ( &quot;${buildLocation}/out/gradle/repoLibs/converter-gson-2.9.0.jar&quot;,\n    &quot;${buildLocation}/out/gradle/repoLibs/retrofit-2.9.0.jar&quot;,\n    &quot;${buildLocation}/out/gradle/repoLibs/okhttp-3.14.9.jar&quot;,\n    &quot;${buildLocation}/out/gradle/repoLibs/okio-1.17.2.jar&quot;,\n    &quot;${buildLocation}/out/gradle/repoLibs/gson-2.8.5.jar&quot;)\next.IntellijAnnotations = 'org.jetbrains:annotations:16.0.1'\next.IntellijAnnotations_files = files ( &quot;${buildLocation}/out/gradle/repoLibs/annotations-16.0.1.jar&quot;)\next.junit = 'junit:junit:4.13.2'\next.junit_files = files ( &quot;${buildLocation}/out/gradle/repoLibs/junit-4.13.2.jar&quot;,\n    &quot;${buildLocation}/out/gradle/repoLibs/hamcrest-core-1.3.jar&quot;)\n\n\ndependencies {\n    implementation project(':ProscCore')\n    testImplementation project(':ProscCore').sourceSets.test.output\n    implementation project(':ProscDeployment')\n    testImplementation project(':ProscDeployment').sourceSets.test.output\n    api com_squareup_retrofit2_converter_gson_2_9_0\n    implementation project(':LicenseClientAPI')\n    testImplementation project(':LicenseClientAPI').sourceSets.test.output\n    implementation IntellijAnnotations\n    implementation project(':ProscCoreDesktop')\n    testImplementation project(':ProscCoreDesktop').sourceSets.test.output\n    testCompileOnly junit\n}\n</code></pre>\n"},{"tags":["java","for-loop","exception","multidimensional-array","try-catch"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1667943285,"post_id":74367371,"comment_id":131287979,"body_markdown":"In general, don&#39;t use exceptions for logic control.  Instead, change the `for` to terminate so an exception will not be thrown, for example `for (int i = 0; i &lt; b.size() - 1; i ++)`, and/or explicitly check the boundary in the `if` condition.","body":"In general, don&#39;t use exceptions for logic control.  Instead, change the <code>for</code> to terminate so an exception will not be thrown, for example <code>for (int i = 0; i &lt; b.size() - 1; i ++)</code>, and/or explicitly check the boundary in the <code>if</code> condition."},{"owner":{"account_id":22705934,"reputation":286,"user_id":16872665,"display_name":"ChrisSc"},"score":0,"creation_date":1667943433,"post_id":74367371,"comment_id":131288020,"body_markdown":"it&#39;s not clear what you are trying to achieve. The `continue` statements will continue the loop, not check another part of the `if` logic statements.","body":"it&#39;s not clear what you are trying to achieve. The <code>continue</code> statements will continue the loop, not check another part of the <code>if</code> logic statements."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1667943605,"post_id":74367371,"comment_id":131288070,"body_markdown":"@AndrewS, not in general, NEVER use exceptions for logic control. That said, it doesn&#39;t mean that you cannot execute an alternate execution if an exception occurs during normal execution. For example if writing to a new file, it is OK to create a new file if a `FileNotFoundException` is caught.","body":"@AndrewS, not in general, NEVER use exceptions for logic control. That said, it doesn&#39;t mean that you cannot execute an alternate execution if an exception occurs during normal execution. For example if writing to a new file, it is OK to create a new file if a <code>FileNotFoundException</code> is caught."}],"answers":[{"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667944419,"creation_date":1667944011,"answer_id":74367509,"question_id":74367371,"body_markdown":"&gt; I want to use multiple Try-Catch blocks to handle exception but one exception will stop the iteration and move on to the next, which is not what I want\r\n\r\nIt is not the Try-Catch block that skips you to the next iteration in the loop without evaluating the other Try-Catch blocks, it is the `continue` statement.  If you remove the `continue` and have nothing in your `catch` block, you will get the behavior that you want.\r\n\r\nThat being said, as Andrew mentioned, Try-Catch blocks and exceptions were not designed for this type of logic and **you should not use them here**.  You should devise a way to check that your index values are within the bounds of your 2D array before you attempt to index into the array at those values.\r\n\r\nTo give you an idea of what I&#39;m talking about see below\r\n\r\n```\r\n    for (int i = 0; i &lt; b.size(); i ++) {\r\n      for (int j = 0; j &lt; b.size(); j ++) {\r\n        if (i + 1 &lt; b.size() &amp;&amp; b.tile(i, j).value() == b.tile(i + 1, j).value()) {\r\n          return true;\r\n        }\r\n        if (i - 1 &gt; 0  &amp;&amp; (b.tile(i, j).value() == b.tile(i - 1, j).value()) {\r\n          return true;\r\n        }\r\n        if (j - 1 &gt; 0 &amp;&amp; (b.tile(i, j).value() == b.tile(i, j - 1).value()) {\r\n          return true;\r\n        }\r\n        if (j + 1 &lt; b.size() &amp;&amp; (b.tile(i, j).value() == b.tile(i, j + 1).value()) {\r\n          return true;\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    return false;\r\n```","title":"How to implement multiple Try-Catch block inside a For-Loop?","body":"<blockquote>\n<p>I want to use multiple Try-Catch blocks to handle exception but one exception will stop the iteration and move on to the next, which is not what I want</p>\n</blockquote>\n<p>It is not the Try-Catch block that skips you to the next iteration in the loop without evaluating the other Try-Catch blocks, it is the <code>continue</code> statement.  If you remove the <code>continue</code> and have nothing in your <code>catch</code> block, you will get the behavior that you want.</p>\n<p>That being said, as Andrew mentioned, Try-Catch blocks and exceptions were not designed for this type of logic and <strong>you should not use them here</strong>.  You should devise a way to check that your index values are within the bounds of your 2D array before you attempt to index into the array at those values.</p>\n<p>To give you an idea of what I'm talking about see below</p>\n<pre><code>    for (int i = 0; i &lt; b.size(); i ++) {\n      for (int j = 0; j &lt; b.size(); j ++) {\n        if (i + 1 &lt; b.size() &amp;&amp; b.tile(i, j).value() == b.tile(i + 1, j).value()) {\n          return true;\n        }\n        if (i - 1 &gt; 0  &amp;&amp; (b.tile(i, j).value() == b.tile(i - 1, j).value()) {\n          return true;\n        }\n        if (j - 1 &gt; 0 &amp;&amp; (b.tile(i, j).value() == b.tile(i, j - 1).value()) {\n          return true;\n        }\n        if (j + 1 &lt; b.size() &amp;&amp; (b.tile(i, j).value() == b.tile(i, j + 1).value()) {\n          return true;\n        }\n        return false;\n      }\n    }\n    return false;\n</code></pre>\n"}],"owner":{"account_id":26285575,"reputation":11,"user_id":19953344,"display_name":"Tim Swen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667944419,"creation_date":1667942907,"question_id":74367371,"body_markdown":"Say I have a 2D array (X by X, X = b.size) and each element inside is an object(Tile Class). I want to use a for-loop to iterate each element(b.tile(i,j)) and see if there&#39;s any adjacent element around it that holds the same value (use .value() to get the value). If there&#39;s at lease one element around it that holds the same value then return true. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI&#39;m trying to compare its value with adjacent elements(b.tile(i-1,j), b.tile(i+1,j), b.tile(i,j-1), b.tile(i,j+1)) but there&#39;ll be indexOutOfBoundException when it comes to elements that are on the array&#39;s border. I want to use multiple Try-Catch blocks to handle exception but one exception will stop the iteration and move on to the next, which is not what I want. Since there might be other Try-Catch blocks that return true.\r\n\r\nMay I receive some pointers?\r\n\r\nHere&#39;s what I wrote so far:\r\n\r\n\r\n\r\n\r\n```\r\nfor (int i = 0; i &lt; b.size(); i ++) {\r\n        for (int j = 0; j &lt; b.size(); j ++) {\r\n            try {\r\n                if ((b.tile(i, j).value() == b.tile(i + 1, j).value()) {\r\n                    return true;\r\n                }\r\n            }\r\n            catch (IndexOutOfBoundsException e) {\r\n                continue;\r\n            }\r\n            try {\r\n                if ((b.tile(i, j).value() == b.tile(i - 1, j).value()) {\r\n                    return true;\r\n                }\r\n            }\r\n            catch (IndexOutOfBoundsException e) {\r\n                continue;\r\n            }\r\n            try {\r\n                if ((b.tile(i, j).value() == b.tile(i, j - 1).value()) {\r\n                    return true;\r\n                }\r\n            }\r\n            catch (IndexOutOfBoundsException e) {\r\n                continue;\r\n            }\r\n            try {\r\n                if ((b.tile(i, j).value() == b.tile(i, j + 1).value()) {\r\n                    return true;\r\n                }\r\n            }\r\n            catch (IndexOutOfBoundsException e) {\r\n                continue;\r\n            }\r\n\r\n            return false;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n```\r\n\r\n","title":"How to implement multiple Try-Catch block inside a For-Loop?","body":"<p>Say I have a 2D array (X by X, X = b.size) and each element inside is an object(Tile Class). I want to use a for-loop to iterate each element(b.tile(i,j)) and see if there's any adjacent element around it that holds the same value (use .value() to get the value). If there's at lease one element around it that holds the same value then return true.</p>\n<p>I'm trying to compare its value with adjacent elements(b.tile(i-1,j), b.tile(i+1,j), b.tile(i,j-1), b.tile(i,j+1)) but there'll be indexOutOfBoundException when it comes to elements that are on the array's border. I want to use multiple Try-Catch blocks to handle exception but one exception will stop the iteration and move on to the next, which is not what I want. Since there might be other Try-Catch blocks that return true.</p>\n<p>May I receive some pointers?</p>\n<p>Here's what I wrote so far:</p>\n<pre><code>for (int i = 0; i &lt; b.size(); i ++) {\n        for (int j = 0; j &lt; b.size(); j ++) {\n            try {\n                if ((b.tile(i, j).value() == b.tile(i + 1, j).value()) {\n                    return true;\n                }\n            }\n            catch (IndexOutOfBoundsException e) {\n                continue;\n            }\n            try {\n                if ((b.tile(i, j).value() == b.tile(i - 1, j).value()) {\n                    return true;\n                }\n            }\n            catch (IndexOutOfBoundsException e) {\n                continue;\n            }\n            try {\n                if ((b.tile(i, j).value() == b.tile(i, j - 1).value()) {\n                    return true;\n                }\n            }\n            catch (IndexOutOfBoundsException e) {\n                continue;\n            }\n            try {\n                if ((b.tile(i, j).value() == b.tile(i, j + 1).value()) {\n                    return true;\n                }\n            }\n            catch (IndexOutOfBoundsException e) {\n                continue;\n            }\n\n            return false;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":["java","spring","autowired"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1667929308,"post_id":74364951,"comment_id":131283608,"body_markdown":"Where are you using the class `SimpleMessageBuilder`? Can you show that code?","body":"Where are you using the class <code>SimpleMessageBuilder</code>? Can you show that code?"},{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":0,"creation_date":1667929697,"post_id":74364951,"comment_id":131283747,"body_markdown":"Did you tried Setter based dependency injection? Field based injection is mostly a bad idea...","body":"Did you tried Setter based dependency injection? Field based injection is mostly a bad idea..."}],"answers":[{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667944341,"creation_date":1667944341,"answer_id":74367566,"question_id":74364951,"body_markdown":"@Autowired doesn&#39;t work neither on field neither on constructors of abstract classes. It works on setter of abstract class but be sure to make it final because if overwritten by concrete class behavior is unstable. An abstract class isn&#39;t component-scanned since it can&#39;t be instantiated without a concrete subclass.","title":"@Autowired field is null when used in new abstract class","body":"<p>@Autowired doesn't work neither on field neither on constructors of abstract classes. It works on setter of abstract class but be sure to make it final because if overwritten by concrete class behavior is unstable. An abstract class isn't component-scanned since it can't be instantiated without a concrete subclass.</p>\n"}],"owner":{"account_id":354716,"reputation":1249,"user_id":693233,"accept_rate":61,"display_name":"l0r3nz4cc10"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667944341,"creation_date":1667928955,"question_id":74364951,"body_markdown":"I have a bit of code that is working :\r\n\r\n    @Component\r\n    public class MessageUtil {\r\n    \r\n    \t@Autowired\r\n    \t@Qualifier(&quot;processMessages&quot;)\r\n    \tprivate ReloadableConfig config;\r\n    \t\r\n    \tpublic String createMessage() {\r\n    \t\treturn config.getPropertyStr(&quot;message.simple.signature&quot;);\r\n    \t}\r\n    }\r\n\r\nThe bean `processMessages` is defined here :\r\n\r\n\t&lt;bean id=&quot;processMessages&quot; class=&quot;com.company.framework.resources.ReloadableConfig&quot;&gt;\r\n\t\t&lt;property name=&quot;basename&quot; value=&quot;classpath:com/company/aaa/bbb/domain/service/processMessages&quot;/&gt;\r\n\t\t&lt;property name=&quot;defaultEncoding&quot; value=&quot;UTF-8&quot;/&gt;\r\n\t\t&lt;property name=&quot;cacheSeconds&quot; value=&quot;60&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\nThen I created some new classes :\r\n\r\n    public abstract class MessageBuilder {\r\n        @Autowired\r\n        @Qualifier(&quot;processMessages&quot;)\r\n        protected ReloadableConfig config;\r\n    \t\r\n        public abstract String createMessage();\r\n    }\r\n    \r\n    @Component\r\n    public class SimpleMessageBuilder extends MessageBuilder {\r\n        private String template;\r\n    \r\n        private void setTemplate() {\r\n            template = config.getPropertyStr(&quot;message.simple.signature&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public String createMessage() {\r\n            setTemplate();\r\n    \t\treturn template;\r\n        }\r\n    }\r\n\r\nI now have a NullPointerException because in `setTemplate()`, `config` is null.\r\nWhat&#39;s the problem in the second code ?","title":"@Autowired field is null when used in new abstract class","body":"<p>I have a bit of code that is working :</p>\n<pre><code>@Component\npublic class MessageUtil {\n\n    @Autowired\n    @Qualifier(&quot;processMessages&quot;)\n    private ReloadableConfig config;\n    \n    public String createMessage() {\n        return config.getPropertyStr(&quot;message.simple.signature&quot;);\n    }\n}\n</code></pre>\n<p>The bean <code>processMessages</code> is defined here :</p>\n<pre><code>&lt;bean id=&quot;processMessages&quot; class=&quot;com.company.framework.resources.ReloadableConfig&quot;&gt;\n    &lt;property name=&quot;basename&quot; value=&quot;classpath:com/company/aaa/bbb/domain/service/processMessages&quot;/&gt;\n    &lt;property name=&quot;defaultEncoding&quot; value=&quot;UTF-8&quot;/&gt;\n    &lt;property name=&quot;cacheSeconds&quot; value=&quot;60&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Then I created some new classes :</p>\n<pre><code>public abstract class MessageBuilder {\n    @Autowired\n    @Qualifier(&quot;processMessages&quot;)\n    protected ReloadableConfig config;\n    \n    public abstract String createMessage();\n}\n\n@Component\npublic class SimpleMessageBuilder extends MessageBuilder {\n    private String template;\n\n    private void setTemplate() {\n        template = config.getPropertyStr(&quot;message.simple.signature&quot;);\n    }\n\n    @Override\n    public String createMessage() {\n        setTemplate();\n        return template;\n    }\n}\n</code></pre>\n<p>I now have a NullPointerException because in <code>setTemplate()</code>, <code>config</code> is null.\nWhat's the problem in the second code ?</p>\n"},{"tags":["java","multithreading","concurrency","java.util.concurrent"],"answers":[{"tags":[],"owner":{"account_id":25167589,"reputation":340,"user_id":19010882,"display_name":"Prectron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667943686,"creation_date":1667943686,"answer_id":74367459,"question_id":74344203,"body_markdown":"Let&#39;s say you have split a list of values into `List&lt;ListInteger&gt;&gt; sublists`. Then an easy option to process the sublists concurrently is to use [paraller streams](https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html#executing_streams_in_parallel):\r\n```java\r\nsublists.parallelStream()\r\n    .forEach(this::handle);\r\n```\r\nOf course, you have to remember to synchronize all shared resources utilized by `handle()`.\r\n\r\nIf the case is simpler and a result of processing is simply returned by `handle()`:\r\n```java\r\nsublists.parallelStream()\r\n    .map(this::handle)\r\n    .collect(Collectors.toList());\r\n``` \r\nwill process the sublists in parallel and create a list with the results.","title":"Concurrency constructs for processing shared list and posting results","body":"<p>Let's say you have split a list of values into <code>List&lt;ListInteger&gt;&gt; sublists</code>. Then an easy option to process the sublists concurrently is to use <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/parallelism.html#executing_streams_in_parallel\" rel=\"nofollow noreferrer\">paraller streams</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>sublists.parallelStream()\n    .forEach(this::handle);\n</code></pre>\n<p>Of course, you have to remember to synchronize all shared resources utilized by <code>handle()</code>.</p>\n<p>If the case is simpler and a result of processing is simply returned by <code>handle()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>sublists.parallelStream()\n    .map(this::handle)\n    .collect(Collectors.toList());\n</code></pre>\n<p>will process the sublists in parallel and create a list with the results.</p>\n"}],"owner":{"account_id":12434767,"reputation":3949,"user_id":9055634,"accept_rate":22,"display_name":"Jim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667943686,"creation_date":1667812393,"question_id":74344203,"body_markdown":"There is a class as follows:  \r\n\r\n    class Foo {\r\n      private int len;\r\n      public Foo(int l) { this.N = N; }\r\n      public void process(List&lt;Bar&gt; list) {\r\n        int start = 0;\r\n        while(start &lt; list.size()) {\r\n            N = N &lt; list.size()? N : list.size();\r\n            List&lt;Integer&gt; sublist = list.subList(start, N);\r\n            process(sublist);\r\n            start = N;\r\n            N += len;\r\n        }\r\n      \r\n      }\r\n      \r\n      private void handle(List&lt;Bar&gt; sublist) {\r\n        // time consuming code here\r\n      }\r\n    }\r\n\r\nI would like to parallelise this code because the `handle` method is time consuming.  \r\nI was thinking that an approach could be:  \r\n\r\n    Split the list in lists of size len \r\n    Pass each sublist to an Executor via a Runnable submission per sublist\r\n    Have a shared list for storing the results of handle\r\n    Make current thread wait till Executor finishes. \r\n\r\nIs there some other constructs that are more suitable for this use case?","title":"Concurrency constructs for processing shared list and posting results","body":"<p>There is a class as follows:</p>\n<pre><code>class Foo {\n  private int len;\n  public Foo(int l) { this.N = N; }\n  public void process(List&lt;Bar&gt; list) {\n    int start = 0;\n    while(start &lt; list.size()) {\n        N = N &lt; list.size()? N : list.size();\n        List&lt;Integer&gt; sublist = list.subList(start, N);\n        process(sublist);\n        start = N;\n        N += len;\n    }\n  \n  }\n  \n  private void handle(List&lt;Bar&gt; sublist) {\n    // time consuming code here\n  }\n}\n</code></pre>\n<p>I would like to parallelise this code because the <code>handle</code> method is time consuming.<br />\nI was thinking that an approach could be:</p>\n<pre><code>Split the list in lists of size len \nPass each sublist to an Executor via a Runnable submission per sublist\nHave a shared list for storing the results of handle\nMake current thread wait till Executor finishes. \n</code></pre>\n<p>Is there some other constructs that are more suitable for this use case?</p>\n"},{"tags":["java","eclipse","java-ee-5"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1667546248,"post_id":74309837,"comment_id":131196087,"body_markdown":"_File &gt; Open Projects from File System..._ is the recommended way to import projects. The project structure looks weird. Is `.settings` a file or folder (if it&#39;s a folder, is the folder empty)? What&#39;s the content of `project/.project` (an Eclipse project would have a `.project` in the root folder, not in a subfolder, and a Java project would also have a `.classpath` file which seems missing here too).","body":"<i>File &gt; Open Projects from File System...</i> is the recommended way to import projects. The project structure looks weird. Is <code>.settings</code> a file or folder (if it&#39;s a folder, is the folder empty)? What&#39;s the content of <code>project&#47;.project</code> (an Eclipse project would have a <code>.project</code> in the root folder, not in a subfolder, and a Java project would also have a <code>.classpath</code> file which seems missing here too)."},{"owner":{"account_id":2807582,"reputation":1003,"user_id":2414505,"accept_rate":81,"display_name":"likeGreen"},"score":0,"creation_date":1667565718,"post_id":74309837,"comment_id":131202311,"body_markdown":"@howlger I have modified my question with .settings folder and .project contents available in repo when I import it. Also, when I import the project in my local it adds .project and .classpath in root.  When I get latest code from repo and On using File &gt; Open Projects from File System, it just imports src folder and build.xml and the jars. The web folder is not imported at all. Can I add them manually in Java Build Path or add Deployment Assembly","body":"@howlger I have modified my question with .settings folder and .project contents available in repo when I import it. Also, when I import the project in my local it adds .project and .classpath in root.  When I get latest code from repo and On using File &gt; Open Projects from File System, it just imports src folder and build.xml and the jars. The web folder is not imported at all. Can I add them manually in Java Build Path or add Deployment Assembly"}],"owner":{"account_id":2807582,"reputation":1003,"user_id":2414505,"accept_rate":81,"display_name":"likeGreen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667942384,"creation_date":1667511667,"question_id":74309837,"body_markdown":"How do I import an existing project in eclipse (latest). I have downloaded a project from git repo. It is a legacy Java web application. Project directory structure:\r\n\r\n    Myapp\r\n      -.settings\r\n           .jsdtscope (added in my local)\r\n           org.eclipse.jdt.core.prefs (added in my local)\r\n           org.eclipse.wst.common.component (added in my local)\r\n           org.eclipse.wst.common.project.facet.core.xml (added in my local)\r\n           org.eclipse.wst.jsdt.ui.superType.container (modified in local from repo contents)\r\n           org.eclipse.wst.jsdt.ui.superType.container(modified in local from repo)\r\n      -project\r\n          settings\r\n          .project (It is xml file with &lt;projectDescription&gt; &lt;buildSpec&gt;....)\r\n      -src\r\n         com.abc.xyz\r\n             core\r\n             model\r\n             service\r\n             util\r\n      -testsrc\r\n      -web\r\n         html\r\n         js\r\n         jsp\r\n         images\r\n         WEB-INF\r\n              classes\r\n              application.xml\r\n              applicationContext.xml\r\n              web.xml\r\n      -build.xml\r\n\r\nI tried to import the project in Eclipse in various ways, and it&#39;s always imported incorrectly. For example, when import as:\r\n\r\n1. Existing Project into workspace\r\n2. File System    \r\n  For option 1 and 2 there is one src folder containing all the packages and code as expected, except core\r\n\r\n      src\r\n         com.abc.xyz\r\n             model\r\n             service\r\n             util\r\n    But, then there is another package created with src.com.abc.xyz.core (no idea why this is happening) due to which jsp pages are not able to find java classes in core\r\n\r\n3. Projects from folder or archive - issue is web folder is not imported at all.\r\n\r\nPlease let me know is there any way to import this manually and run this on tomcat using Eclipse\r\n\r\n","title":"Import existing project in Eclipse","body":"<p>How do I import an existing project in eclipse (latest). I have downloaded a project from git repo. It is a legacy Java web application. Project directory structure:</p>\n<pre><code>Myapp\n  -.settings\n       .jsdtscope (added in my local)\n       org.eclipse.jdt.core.prefs (added in my local)\n       org.eclipse.wst.common.component (added in my local)\n       org.eclipse.wst.common.project.facet.core.xml (added in my local)\n       org.eclipse.wst.jsdt.ui.superType.container (modified in local from repo contents)\n       org.eclipse.wst.jsdt.ui.superType.container(modified in local from repo)\n  -project\n      settings\n      .project (It is xml file with &lt;projectDescription&gt; &lt;buildSpec&gt;....)\n  -src\n     com.abc.xyz\n         core\n         model\n         service\n         util\n  -testsrc\n  -web\n     html\n     js\n     jsp\n     images\n     WEB-INF\n          classes\n          application.xml\n          applicationContext.xml\n          web.xml\n  -build.xml\n</code></pre>\n<p>I tried to import the project in Eclipse in various ways, and it's always imported incorrectly. For example, when import as:</p>\n<ol>\n<li><p>Existing Project into workspace</p>\n</li>\n<li><p>File System<br />\nFor option 1 and 2 there is one src folder containing all the packages and code as expected, except core</p>\n<p>src\ncom.abc.xyz\nmodel\nservice\nutil\nBut, then there is another package created with src.com.abc.xyz.core (no idea why this is happening) due to which jsp pages are not able to find java classes in core</p>\n</li>\n<li><p>Projects from folder or archive - issue is web folder is not imported at all.</p>\n</li>\n</ol>\n<p>Please let me know is there any way to import this manually and run this on tomcat using Eclipse</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":8335206,"reputation":710,"user_id":6262375,"accept_rate":50,"display_name":"Walid"},"score":0,"creation_date":1667935490,"post_id":74366100,"comment_id":131285652,"body_markdown":"you need to get the fragment instance first, then you can access to its views","body":"you need to get the fragment instance first, then you can access to its views"},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":2,"creation_date":1667938307,"post_id":74366100,"comment_id":131286508,"body_markdown":"@Walid Please, don&#39;t give someone horrible advice. Generally, you should never access views of a fragment from activity.","body":"@Walid Please, don&#39;t give someone horrible advice. Generally, you should never access views of a fragment from activity."},{"owner":{"account_id":8335206,"reputation":710,"user_id":6262375,"accept_rate":50,"display_name":"Walid"},"score":0,"creation_date":1668169358,"post_id":74366100,"comment_id":131346309,"body_markdown":"I know, I just pointed out why it&#39;s not working. It&#39;s more a hint than an answer or an advice. and that&#39;s why I posted it as comment and not as an answer.","body":"I know, I just pointed out why it&#39;s not working. It&#39;s more a hint than an answer or an advice. and that&#39;s why I posted it as comment and not as an answer."}],"answers":[{"tags":[],"owner":{"account_id":12601597,"reputation":12580,"user_id":9164141,"accept_rate":93,"display_name":"Gast&#243;n Saill&#233;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667942379,"creation_date":1667942379,"answer_id":74367297,"question_id":74366100,"body_markdown":"I think the problem is that your are trying to access the button instance that is contained inside the Fragmen xml from your Activity xml.\r\n\r\nTo fix this, you should go to your `FragmentBasic` and after `onCreateView` is finished (inside `onViewcreated`) find the button and do the action you need.\r\n\r\nTo communicate between a fragment and an activity you can use a shared viewmodel\r\n\r\nPlease see \r\n\r\n&gt; https://developer.android.com/guide/fragments/communicate","title":"findViewById doesn&#39;t see button in fragment","body":"<p>I think the problem is that your are trying to access the button instance that is contained inside the Fragmen xml from your Activity xml.</p>\n<p>To fix this, you should go to your <code>FragmentBasic</code> and after <code>onCreateView</code> is finished (inside <code>onViewcreated</code>) find the button and do the action you need.</p>\n<p>To communicate between a fragment and an activity you can use a shared viewmodel</p>\n<p>Please see</p>\n<blockquote>\n<p><a href=\"https://developer.android.com/guide/fragments/communicate\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/fragments/communicate</a></p>\n</blockquote>\n"}],"owner":{"account_id":26870878,"reputation":1,"user_id":20452917,"display_name":"Ixeriko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667942379,"creation_date":1667935197,"question_id":74366100,"body_markdown":"I have a TabLayout Activity that contains 3 fragments, each of which has buttons.\r\nI&#39;m trying to get a button from one of the fragments in this Activity, but I&#39;m getting the error Attempt to invoke virtual method &#39;void android.widget.Button.setText(java.lang.CharSequence)&#39; on a null object reference.\r\nHow can I get a button from a TabLayout fragment and assign it to change Activity when clicked?\r\n\r\n\r\n\r\n\r\n\r\nMy TabLayout class:\r\n\r\n\r\n```\r\npublic class SecondPage extends AppCompatActivity {\r\n\r\n    TabLayout tl;\r\n    ViewPager2 vp2;\r\n    PagerAdapter pa;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_second_page);\r\n\r\n        tl = findViewById(R.id.tab_layout_spage);\r\n        vp2 = findViewById(R.id.view_pager_spage);\r\n        pa = new PagerAdapter(this);\r\n        vp2.setAdapter(pa);\r\n        //there I try to get Button via Button b = findViewById(R.id.fbtn); and get an error\r\n        //fbtn is in the fragment Basic\r\n\r\n\r\n        tl.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n            @Override\r\n            public void onTabSelected(TabLayout.Tab tab) {\r\n                vp2.setCurrentItem(tab.getPosition());\r\n            }\r\n\r\n            @Override\r\n            public void onTabUnselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTabReselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\nMy Fragment class:\r\n\r\n\r\n```\r\npublic class Basic extends Fragment {\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        return inflater.inflate(R.layout.fragment_basic, container, false);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"findViewById doesn&#39;t see button in fragment","body":"<p>I have a TabLayout Activity that contains 3 fragments, each of which has buttons.\nI'm trying to get a button from one of the fragments in this Activity, but I'm getting the error Attempt to invoke virtual method 'void android.widget.Button.setText(java.lang.CharSequence)' on a null object reference.\nHow can I get a button from a TabLayout fragment and assign it to change Activity when clicked?</p>\n<p>My TabLayout class:</p>\n<pre><code>public class SecondPage extends AppCompatActivity {\n\n    TabLayout tl;\n    ViewPager2 vp2;\n    PagerAdapter pa;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_second_page);\n\n        tl = findViewById(R.id.tab_layout_spage);\n        vp2 = findViewById(R.id.view_pager_spage);\n        pa = new PagerAdapter(this);\n        vp2.setAdapter(pa);\n        //there I try to get Button via Button b = findViewById(R.id.fbtn); and get an error\n        //fbtn is in the fragment Basic\n\n\n        tl.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n            @Override\n            public void onTabSelected(TabLayout.Tab tab) {\n                vp2.setCurrentItem(tab.getPosition());\n            }\n\n            @Override\n            public void onTabUnselected(TabLayout.Tab tab) {\n\n            }\n\n            @Override\n            public void onTabReselected(TabLayout.Tab tab) {\n\n            }\n        });\n    }\n}\n</code></pre>\n<p>My Fragment class:</p>\n<pre><code>public class Basic extends Fragment {\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        return inflater.inflate(R.layout.fragment_basic, container, false);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","spring-security-oauth2"],"comments":[{"owner":{"account_id":7712763,"reputation":628,"user_id":5841551,"accept_rate":50,"display_name":"kladderradatsch"},"score":0,"creation_date":1667917287,"post_id":74361526,"comment_id":131278635,"body_markdown":"What is your intention? Building up a Keycloak server within a Spring Boot 2 Application or using OAuth2 to secure requests to your Spring Boot 2 Application? For the former look [here](https://www.baeldung.com/spring-security-oauth-resource-server) and for the latter look [there](https://www.baeldung.com/spring-boot-keycloak).","body":"What is your intention? Building up a Keycloak server within a Spring Boot 2 Application or using OAuth2 to secure requests to your Spring Boot 2 Application? For the former look <a href=\"https://www.baeldung.com/spring-security-oauth-resource-server\" rel=\"nofollow noreferrer\">here</a> and for the latter look <a href=\"https://www.baeldung.com/spring-boot-keycloak\" rel=\"nofollow noreferrer\">there</a>."}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667942202,"creation_date":1667940457,"answer_id":74366991,"question_id":74361526,"body_markdown":"First, if your authorization-server produces JWTs (Keycloak does), you&#39;d probably better use JWT decoder than token introspection. This is much more efficient: all JWTs are validated with a public key downloaded only once when introspection requires resource-server (Spring REST API) to submit each and every access-token to authorization-server (Keycloak).\r\n\r\nSecond, double check the `spring-security-oauth2-resource-server` version in your dependency tree: `SpringOpaqueTokenIntrospector` is there from **5.6** only.\r\n\r\nThird, I contributed an easier way to map authorities for token introspection in version **5.8**: provide an authentication converter (handle the introspection result) instead of overloading the all introspector:\r\n```java\r\nhttp.oauth2ResourceServer().opaqueToken().authenticationConverter(authenticationConverter);\r\n```\r\nwhere `authenticationConverter` can be implemented as:\r\n```java\r\n(String introspectedToken, OAuth2AuthenticatedPrincipal authenticatedPrincipal) -&gt; new BearerTokenAuthentication(\r\n            authenticatedPrincipal,\r\n            new OAuth2AccessToken(\r\n                    OAuth2AccessToken.TokenType.BEARER,\r\n                    introspectedToken,\r\n                    authenticatedPrincipal.getAttribute(OAuth2TokenIntrospectionClaimNames.IAT),\r\n                    authenticatedPrincipal.getAttribute(OAuth2TokenIntrospectionClaimNames.EXP)),\r\n            authoritiesConverter.convert(authenticatedPrincipal.getAttributes()));\r\n```\r\nand `authoritiesConverter` is a `Converter&lt;Map&lt;String, Object&gt;, Collection&lt;? extends GrantedAuthority&gt;&gt;` (maps authorities from Keycloak introspection JSON response, which you should have already implemented)\r\n\r\nLast, you might find useful tips for configuring your resource-server in [this tutorials][1]: it could be as simple as \r\n```xml\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t\t\t&lt;!-- change &quot;webmvc&quot; with &quot;webflux&quot; for reactive apps --&gt;\r\n\t\t\t&lt;!-- change &quot;jwt&quot; with &quot;introspecting&quot; for access-token introspection instead of JWT decoding --&gt;\r\n\t\t\t&lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\r\n\t\t\t&lt;!-- 6.0.4 goes with spring-boot 3.0.0-RC1, use 5.x with boot 2.6.x and below --&gt;\r\n\t\t\t&lt;version&gt;6.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n```java\r\n@EnableMethodSecurity\r\n@Configuration\r\npublic class SecurityConfig { }\r\n```\r\n```properties\r\nspring.security.oauth2.resourceserver.opaquetoken.introspection-uri=https://localhost:8443/realms/master/protocol/openid-connect/token/introspect\r\nspring.security.oauth2.resourceserver.opaquetoken.client-id=spring-addons-confidential\r\nspring.security.oauth2.resourceserver.opaquetoken.client-secret=change-me\r\n\r\ncom.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443/realms/master\r\n\r\n# shoud be configured with a list of private-claims this authorization-server puts user roles into\r\n# below is default Keycloak conf for a `spring-addons` client with client roles mapper enabled\r\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=realm_access.roles,resource_access.spring-addons-public.roles,resource_access.spring-addons-confidential.roles\r\n\r\n# Fine-grained CORS configuration can be set per path as follow:\r\ncom.c4-soft.springaddons.security.cors[0].path=/sample/**\r\n\r\n# More useful resource-server security conf from preperties, use IDE auto-completion\r\n```\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials","title":"SpringOpaqueTokenIntrospector Class Not Found","body":"<p>First, if your authorization-server produces JWTs (Keycloak does), you'd probably better use JWT decoder than token introspection. This is much more efficient: all JWTs are validated with a public key downloaded only once when introspection requires resource-server (Spring REST API) to submit each and every access-token to authorization-server (Keycloak).</p>\n<p>Second, double check the <code>spring-security-oauth2-resource-server</code> version in your dependency tree: <code>SpringOpaqueTokenIntrospector</code> is there from <strong>5.6</strong> only.</p>\n<p>Third, I contributed an easier way to map authorities for token introspection in version <strong>5.8</strong>: provide an authentication converter (handle the introspection result) instead of overloading the all introspector:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http.oauth2ResourceServer().opaqueToken().authenticationConverter(authenticationConverter);\n</code></pre>\n<p>where <code>authenticationConverter</code> can be implemented as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>(String introspectedToken, OAuth2AuthenticatedPrincipal authenticatedPrincipal) -&gt; new BearerTokenAuthentication(\n            authenticatedPrincipal,\n            new OAuth2AccessToken(\n                    OAuth2AccessToken.TokenType.BEARER,\n                    introspectedToken,\n                    authenticatedPrincipal.getAttribute(OAuth2TokenIntrospectionClaimNames.IAT),\n                    authenticatedPrincipal.getAttribute(OAuth2TokenIntrospectionClaimNames.EXP)),\n            authoritiesConverter.convert(authenticatedPrincipal.getAttributes()));\n</code></pre>\n<p>and <code>authoritiesConverter</code> is a <code>Converter&lt;Map&lt;String, Object&gt;, Collection&lt;? extends GrantedAuthority&gt;&gt;</code> (maps authorities from Keycloak introspection JSON response, which you should have already implemented)</p>\n<p>Last, you might find useful tips for configuring your resource-server in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">this tutorials</a>: it could be as simple as</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n            &lt;!-- change &quot;webmvc&quot; with &quot;webflux&quot; for reactive apps --&gt;\n            &lt;!-- change &quot;jwt&quot; with &quot;introspecting&quot; for access-token introspection instead of JWT decoding --&gt;\n            &lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\n            &lt;!-- 6.0.4 goes with spring-boot 3.0.0-RC1, use 5.x with boot 2.6.x and below --&gt;\n            &lt;version&gt;6.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableMethodSecurity\n@Configuration\npublic class SecurityConfig { }\n</code></pre>\n<pre><code>spring.security.oauth2.resourceserver.opaquetoken.introspection-uri=https://localhost:8443/realms/master/protocol/openid-connect/token/introspect\nspring.security.oauth2.resourceserver.opaquetoken.client-id=spring-addons-confidential\nspring.security.oauth2.resourceserver.opaquetoken.client-secret=change-me\n\ncom.c4-soft.springaddons.security.issuers[0].location=https://localhost:8443/realms/master\n\n# shoud be configured with a list of private-claims this authorization-server puts user roles into\n# below is default Keycloak conf for a `spring-addons` client with client roles mapper enabled\ncom.c4-soft.springaddons.security.issuers[0].authorities.claims=realm_access.roles,resource_access.spring-addons-public.roles,resource_access.spring-addons-confidential.roles\n\n# Fine-grained CORS configuration can be set per path as follow:\ncom.c4-soft.springaddons.security.cors[0].path=/sample/**\n\n# More useful resource-server security conf from preperties, use IDE auto-completion\n</code></pre>\n"}],"owner":{"account_id":18106034,"reputation":61,"user_id":13163365,"display_name":"Random Guy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1014,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74366991,"answer_count":1,"score":1,"last_activity_date":1667942202,"creation_date":1667914050,"question_id":74361526,"body_markdown":"I&#39;ve been facing some issues while running `Spring Boot 2.7.0` and `spring-boot-starter-oauth2-resource-server`. My goal is to use Keycloak to check tokens from http requests. But since I&#39;ve added `spring-boot-starter-oauth2-resource-server` to my application it fails to start because of exception:\r\n```log\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerOpaqueTokenConfiguration$OpaqueTokenIntrospectionClientConfiguration&#39;: Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerOpaqueTokenConfiguration$OpaqueTokenIntrospectionClientConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@6f94fa3e]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n\tat com.test.TestApplication.main(TestApplication.java:14)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerOpaqueTokenConfiguration$OpaqueTokenIntrospectionClientConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@6f94fa3e]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\r\n\tat org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\r\n\t... 23 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/oauth2/server/resource/introspection/SpringOpaqueTokenIntrospector\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402)\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2504)\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\r\n\t... 25 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.server.resource.introspection.SpringOpaqueTokenIntrospector\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 29 common frames omitted\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nDependencies of project:\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n\t&lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t&lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-ws-security&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nDo you have any idea what is wrong with this setup? Thanks in advance","title":"SpringOpaqueTokenIntrospector Class Not Found","body":"<p>I've been facing some issues while running <code>Spring Boot 2.7.0</code> and <code>spring-boot-starter-oauth2-resource-server</code>. My goal is to use Keycloak to check tokens from http requests. But since I've added <code>spring-boot-starter-oauth2-resource-server</code> to my application it fails to start because of exception:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerOpaqueTokenConfiguration$OpaqueTokenIntrospectionClientConfiguration': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerOpaqueTokenConfiguration$OpaqueTokenIntrospectionClientConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@6f94fa3e]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at com.test.TestApplication.main(TestApplication.java:14)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerOpaqueTokenConfiguration$OpaqueTokenIntrospectionClientConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@6f94fa3e]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\n    at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\n    ... 23 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/oauth2/server/resource/introspection/SpringOpaqueTokenIntrospector\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402)\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504)\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\n    ... 25 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.server.resource.introspection.SpringOpaqueTokenIntrospector\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 29 common frames omitted\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>Dependencies of project:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-ws-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-ldap&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Do you have any idea what is wrong with this setup? Thanks in advance</p>\n"},{"tags":["python","java","c++","algorithm","sorting"],"comments":[{"owner":{"account_id":1605058,"reputation":3401,"user_id":1485311,"accept_rate":100,"display_name":"ChatterOne"},"score":0,"creation_date":1524342421,"post_id":49958256,"comment_id":86936237,"body_markdown":"Probably (just guessing) because you can apply it not just to numbers, but to any type that you decide has a finite set of items that you know how to sort in advance. Having this kind of generalization makes it cumbersome compared to writing your own implementation.","body":"Probably (just guessing) because you can apply it not just to numbers, but to any type that you decide has a finite set of items that you know how to sort in advance. Having this kind of generalization makes it cumbersome compared to writing your own implementation."}],"answers":[{"tags":[],"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1524368923,"creation_date":1524342459,"answer_id":49959952,"question_id":49958256,"body_markdown":"Java has a static method `Arrays.sort` that could in principle be implemented as a radix sort for the overloads that accept integer types (https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html#sort(int[])). They chose to implement with quicksort. There&#39;s no justification given, but I imagine 1. Radix sort requires additional memory, where quicksort doesn&#39;t 2. The difference between n log n and n is blunted by the fact that quicksort has good cache locality, where radix sort, less so.","title":"Why isn&#39;t there a bucket sort library(or is there?)","body":"<p>Java has a static method <code>Arrays.sort</code> that could in principle be implemented as a radix sort for the overloads that accept integer types (<a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html#sort(int[])\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/10/docs/api/java/util/Arrays.html#sort(int[])</a>). They chose to implement with quicksort. There's no justification given, but I imagine 1. Radix sort requires additional memory, where quicksort doesn't 2. The difference between n log n and n is blunted by the fact that quicksort has good cache locality, where radix sort, less so.</p>\n"},{"tags":[],"owner":{"account_id":21021210,"reputation":1,"user_id":15447519,"display_name":"sarnath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616362494,"creation_date":1616362494,"answer_id":66737806,"question_id":49958256,"body_markdown":"Definitely an omission. JgrahT has an implementation, but only for Integer arays. If you want to sort an array of objects from any user-defined class, you will need to go through the key one bit at a time. Thus the class will have to provide a method like getIthKeyBit(). Surprised that this was ignored. ","title":"Why isn&#39;t there a bucket sort library(or is there?)","body":"<p>Definitely an omission. JgrahT has an implementation, but only for Integer arays. If you want to sort an array of objects from any user-defined class, you will need to go through the key one bit at a time. Thus the class will have to provide a method like getIthKeyBit(). Surprised that this was ignored.</p>\n"},{"tags":[],"owner":{"account_id":3930435,"reputation":2483,"user_id":3249257,"display_name":"Denis Stafichuk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667535044,"creation_date":1667151081,"answer_id":74255267,"question_id":49958256,"body_markdown":"Java\r\n====\r\n\r\nArrays.sort(byte[]), Arrays.sort(short[]) and Arrays.sort(char[])\r\n-----------------------------------------------------------------\r\n\r\nAt least starting from Java 7 are implemented using an in-place [counting sort][counting-sort-wiki] with **O(n) time** and **O(1) space** complexities:\r\n```java\r\nstatic void sort(short[] a, int low, int high) {\r\n  if (high - low &gt; MIN_SHORT_OR_CHAR_COUNTING_SORT_SIZE) {\r\n    countingSort(a, low, high);\r\n  } else {\r\n    sort(a, 0, low, high);\r\n  }\r\n}\r\n\r\nprivate static void countingSort(short[] a, int low, int high) {\r\n  int[] count = new int[NUM_SHORT_VALUES];\r\n\r\n  /*\r\n   * Compute a histogram with the number of each values.\r\n   */\r\n  for (int i = high; i &gt; low; ++count[a[--i] &amp; 0xFFFF]);\r\n\r\n  /*\r\n   * Place values on their final positions.\r\n   */\r\n  if (high - low &gt; NUM_SHORT_VALUES) {\r\n    for (int i = MAX_SHORT_INDEX; --i &gt; Short.MAX_VALUE; ) {\r\n      int value = i &amp; 0xFFFF;\r\n\r\n      for (low = high - count[value]; high &gt; low;\r\n           a[--high] = (short) value\r\n      );\r\n    }\r\n  } else {\r\n    for (int i = MAX_SHORT_INDEX; high &gt; low; ) {\r\n      while (count[--i &amp; 0xFFFF] == 0);\r\n\r\n      int value = i &amp; 0xFFFF;\r\n      int c = count[value];\r\n\r\n      do {\r\n        a[--high] = (short) value;\r\n      } while (--c &gt; 0);\r\n    }\r\n  }\r\n}\r\n```\r\n[Counting sort implementation][counting-sort-jdk]\r\n\r\nArrays.sort(int[]), Arrays.sort(long[]), Arrays.sort(float[]) and Arrays.sort(double[])\r\n-----------------------------------------------------------------\r\n\r\nThere is a ticket [JDK-8266431][radix-sort-jdk-ticket] and a related pull request https://github.com/openjdk/jdk/pull/3938 that intend to switch to radix sort for large arrays.\r\n\r\nEfficiency of radix sort\r\n====\r\n\r\n[Radix sort][radix-sort-wiki] is faster than quicksort or any other comparison-based sorting algorithms both in theory and in practice. There are multiple benchmarks that demonstrate this:\r\n\r\n[![Radix sort is three times faster than quicksort in Java][radix-sort-faster-than-quicksort-java]][radix-sort-faster-than-quicksort-java]\r\n[![Radix sort is 4-6 times faster than quicksort in C++][radix-sort-faster-than-quicksort-cpp]][radix-sort-faster-than-quicksort-cpp]\r\n\r\nhttps://erik.gorset.no/2011/04/radix-sort-is-faster-than-quicksort.html\r\nhttps://probablydance.com/2016/12/02/investigating-radix-sort/\r\n\r\n\r\n  [radix-sort-wiki]: https://en.wikipedia.org/wiki/Radix_sort\r\n  [counting-sort-wiki]: https://en.wikipedia.org/wiki/Counting_sort\r\n  [counting-sort-jdk]: https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L2348\r\n  [radix-sort-faster-than-quicksort-java]: https://i.stack.imgur.com/Hr9N2.png\r\n  [radix-sort-faster-than-quicksort-cpp]: https://i.stack.imgur.com/pQBOe.png\r\n  [radix-sort-jdk-ticket]: https://bugs.openjdk.org/browse/JDK-8266431","title":"Why isn&#39;t there a bucket sort library(or is there?)","body":"<h1>Java</h1>\n<h2>Arrays.sort(byte[]), Arrays.sort(short[]) and Arrays.sort(char[])</h2>\n<p>At least starting from Java 7 are implemented using an in-place <a href=\"https://en.wikipedia.org/wiki/Counting_sort\" rel=\"nofollow noreferrer\">counting sort</a> with <strong>O(n) time</strong> and <strong>O(1) space</strong> complexities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void sort(short[] a, int low, int high) {\n  if (high - low &gt; MIN_SHORT_OR_CHAR_COUNTING_SORT_SIZE) {\n    countingSort(a, low, high);\n  } else {\n    sort(a, 0, low, high);\n  }\n}\n\nprivate static void countingSort(short[] a, int low, int high) {\n  int[] count = new int[NUM_SHORT_VALUES];\n\n  /*\n   * Compute a histogram with the number of each values.\n   */\n  for (int i = high; i &gt; low; ++count[a[--i] &amp; 0xFFFF]);\n\n  /*\n   * Place values on their final positions.\n   */\n  if (high - low &gt; NUM_SHORT_VALUES) {\n    for (int i = MAX_SHORT_INDEX; --i &gt; Short.MAX_VALUE; ) {\n      int value = i &amp; 0xFFFF;\n\n      for (low = high - count[value]; high &gt; low;\n           a[--high] = (short) value\n      );\n    }\n  } else {\n    for (int i = MAX_SHORT_INDEX; high &gt; low; ) {\n      while (count[--i &amp; 0xFFFF] == 0);\n\n      int value = i &amp; 0xFFFF;\n      int c = count[value];\n\n      do {\n        a[--high] = (short) value;\n      } while (--c &gt; 0);\n    }\n  }\n}\n</code></pre>\n<p><a href=\"https://github.com/openjdk/jdk/blob/jdk-14-ga/src/java.base/share/classes/java/util/DualPivotQuicksort.java#L2348\" rel=\"nofollow noreferrer\">Counting sort implementation</a></p>\n<h2>Arrays.sort(int[]), Arrays.sort(long[]), Arrays.sort(float[]) and Arrays.sort(double[])</h2>\n<p>There is a ticket <a href=\"https://bugs.openjdk.org/browse/JDK-8266431\" rel=\"nofollow noreferrer\">JDK-8266431</a> and a related pull request <a href=\"https://github.com/openjdk/jdk/pull/3938\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/pull/3938</a> that intend to switch to radix sort for large arrays.</p>\n<h1>Efficiency of radix sort</h1>\n<p><a href=\"https://en.wikipedia.org/wiki/Radix_sort\" rel=\"nofollow noreferrer\">Radix sort</a> is faster than quicksort or any other comparison-based sorting algorithms both in theory and in practice. There are multiple benchmarks that demonstrate this:</p>\n<p><a href=\"https://i.stack.imgur.com/Hr9N2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hr9N2.png\" alt=\"Radix sort is three times faster than quicksort in Java\" /></a>\n<a href=\"https://i.stack.imgur.com/pQBOe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pQBOe.png\" alt=\"Radix sort is 4-6 times faster than quicksort in C++\" /></a></p>\n<p><a href=\"https://erik.gorset.no/2011/04/radix-sort-is-faster-than-quicksort.html\" rel=\"nofollow noreferrer\">https://erik.gorset.no/2011/04/radix-sort-is-faster-than-quicksort.html</a>\n<a href=\"https://probablydance.com/2016/12/02/investigating-radix-sort/\" rel=\"nofollow noreferrer\">https://probablydance.com/2016/12/02/investigating-radix-sort/</a></p>\n"}],"owner":{"account_id":11083609,"reputation":89,"user_id":8138111,"display_name":"cobaltblue"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49959952,"answer_count":3,"score":1,"last_activity_date":1667942142,"creation_date":1524330706,"question_id":49958256,"body_markdown":"I&#39;ve been studying algorithm, and just came across this bucket sort. Although it can only be used for few cases, it just looks too efficient to be not implemented in standard library, since it can sort a list in O(n) time. so my question is, why isn&#39;t there a given library that supports bucket sort, or any other counting-sort-like algorithm such as radix sort in most of the languages? I&#39;ve checked java, python, and c++ library, but it doesn&#39;t look like it supports any sorting algorithm other then sorting algorithms based on comparing. \r\n&lt;br&gt;Although implementing such algorithm requires list to have integer in specific range, it doesn&#39;t seem impossible to implement such method. Java, for example, can have a interface similar to Comparator() which returns integer in given range that would be used as index for sorting. So what is the reason that makes O(n) sorting algorithms not used? Or is there a library that actually uses bucket sort that I just missed? Sorry if it was a silly question, I just thought there must be a reason that makes O(n) algorithm unused.","title":"Why isn&#39;t there a bucket sort library(or is there?)","body":"<p>I've been studying algorithm, and just came across this bucket sort. Although it can only be used for few cases, it just looks too efficient to be not implemented in standard library, since it can sort a list in O(n) time. so my question is, why isn't there a given library that supports bucket sort, or any other counting-sort-like algorithm such as radix sort in most of the languages? I've checked java, python, and c++ library, but it doesn't look like it supports any sorting algorithm other then sorting algorithms based on comparing. \n<br>Although implementing such algorithm requires list to have integer in specific range, it doesn't seem impossible to implement such method. Java, for example, can have a interface similar to Comparator() which returns integer in given range that would be used as index for sorting. So what is the reason that makes O(n) sorting algorithms not used? Or is there a library that actually uses bucket sort that I just missed? Sorry if it was a silly question, I just thought there must be a reason that makes O(n) algorithm unused.</p>\n"},{"tags":["java","sorting","text","row","columnsorting"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1667942104,"post_id":74367025,"comment_id":131287673,"body_markdown":"Create a class representing a row  implement Comparable interface. Read text file into a List of rows and use lambda to sort.","body":"Create a class representing a row  implement Comparable interface. Read text file into a List of rows and use lambda to sort."},{"owner":{"account_id":20154715,"reputation":1,"user_id":14781239,"display_name":"DLCVIP007"},"score":0,"creation_date":1667945528,"post_id":74367025,"comment_id":131288575,"body_markdown":"Can you elaborate? I don&#39;t want to sort based on rows! I need 2nd column as reference","body":"Can you elaborate? I don&#39;t want to sort based on rows! I need 2nd column as reference"},{"owner":{"account_id":20154715,"reputation":1,"user_id":14781239,"display_name":"DLCVIP007"},"score":0,"creation_date":1667945666,"post_id":74367025,"comment_id":131288612,"body_markdown":"Is there an example of what you are suggesting anywhere? @ChristophDahlen some sample code","body":"Is there an example of what you are suggesting anywhere? @ChristophDahlen some sample code"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667946100,"post_id":74367025,"comment_id":131288702,"body_markdown":"You still need the entire row, even if you use the 2nd column for sorting.","body":"You still need the entire row, even if you use the 2nd column for sorting."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667950784,"post_id":74367025,"comment_id":131289699,"body_markdown":"```static void printSorted(String path) throws IOException {\n        Files.lines(Paths.get(path))\n            .map(line -&gt; line.split(&quot;\\\\s+&quot;))\n            .skip(1)\n            .sorted((a1, a2) -&gt;a1[1].compareTo(a2[1]))\n            .forEach(a -&gt;System.out.println(Arrays.toString(a)));\n    }\n```might do it for you","body":"<code>static void printSorted(String path) throws IOException {         Files.lines(Paths.get(path))             .map(line -&gt; line.split(&quot;\\\\s+&quot;))             .skip(1)             .sorted((a1, a2) -&gt;a1[1].compareTo(a2[1]))             .forEach(a -&gt;System.out.println(Arrays.toString(a)));     } </code>might do it for you"}],"owner":{"account_id":20154715,"reputation":1,"user_id":14781239,"display_name":"DLCVIP007"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1667945031,"answer_count":0,"score":0,"last_activity_date":1667941952,"creation_date":1667940696,"question_id":74367025,"body_markdown":"I have a text file in JAVA like the following:\r\n```\r\nnumber1 name number2\r\n12      mike 2\r\n3       jack 99\r\n1       mike 23\r\n0       lily 19  \r\n```\r\n\r\nIn JAVA, I want to sort the rows alphabetically ascending based on the 2nd column values. There are duplicate values too. So like this:\r\n```\r\nnumber1 name number2\r\n3       jack 99\r\n0       lily 19 \r\n12      mike 2\r\n1       mike 23  \r\n```\r\nIs there a quick way of doing this instead of searching? \r\n\r\nI can do this using search elements but I am looking for a quick and clean solution using collections, arrays, etc.","title":"sort text files rows based on 2nd column","body":"<p>I have a text file in JAVA like the following:</p>\n<pre><code>number1 name number2\n12      mike 2\n3       jack 99\n1       mike 23\n0       lily 19  \n</code></pre>\n<p>In JAVA, I want to sort the rows alphabetically ascending based on the 2nd column values. There are duplicate values too. So like this:</p>\n<pre><code>number1 name number2\n3       jack 99\n0       lily 19 \n12      mike 2\n1       mike 23  \n</code></pre>\n<p>Is there a quick way of doing this instead of searching?</p>\n<p>I can do this using search elements but I am looking for a quick and clean solution using collections, arrays, etc.</p>\n"},{"tags":["java","spring","unit-testing","spring-mvc","spring-test-mvc"],"answers":[{"tags":[],"owner":{"account_id":10957403,"reputation":72,"user_id":8283041,"display_name":"Valdemaras"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1588147150,"creation_date":1588147150,"answer_id":61496914,"question_id":61458160,"body_markdown":"Seems like problem could be with `when(serviceMock.register(employeeForRegister)).thenReturn(successfullyRegisteredEmployee);`. \r\n\r\nDid you try to have breakpoint on `return ResponseEntity.status(201).body(registeredEmployee);` to check if registeredEmployee is actually filled?\r\nIf it&#39;s empty then try replacing mock with `when(serviceMock.register(any())).thenReturn(successfullyRegisteredEmployee);` and if it works that means either `equals()` method is not overridden for `Employee` or comparison just fails.","title":"When try to test post() rest endpoint see: json can not be null or empty","body":"<p>Seems like problem could be with <code>when(serviceMock.register(employeeForRegister)).thenReturn(successfullyRegisteredEmployee);</code>. </p>\n\n<p>Did you try to have breakpoint on <code>return ResponseEntity.status(201).body(registeredEmployee);</code> to check if registeredEmployee is actually filled?\nIf it's empty then try replacing mock with <code>when(serviceMock.register(any())).thenReturn(successfullyRegisteredEmployee);</code> and if it works that means either <code>equals()</code> method is not overridden for <code>Employee</code> or comparison just fails.</p>\n"}],"owner":{"account_id":17263392,"reputation":73,"user_id":12500745,"display_name":"pavloN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":917,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61496914,"answer_count":1,"score":0,"last_activity_date":1667941831,"creation_date":1587987948,"question_id":61458160,"body_markdown":"If I try to test the post() endpoint, I see:\r\n\r\njava.lang.AssertionError: No value at JSON path &quot;$.firstName&quot;\r\n\r\nCaused by: java.lang.IllegalArgumentException: json can not be null or empty\r\n\r\nBut with the test for the get() all work fine.\r\nAnd in the postTest() the result for status is correct.\r\nWhere is my mistaker?\r\nIs it correct way to test the rest controller in this style?\r\n\r\n\r\n    @RunWith(MockitoJUnitRunner.Silent.class)\r\n    public class Temp {\r\n        private final Employee successfullyRegisteredEmployee = new Employee(2L, &quot;Iven&quot;);\r\n        private final Employee employeeGetById = new Employee(2L, &quot;Iven&quot;);\r\n    \r\n    \r\n        @Mock\r\n        private EmployeeServiceImpl serviceMock;\r\n    \r\n        private MockMvc mockMvc;\r\n    \r\n        @Before\r\n        public void setUp() throws Exception {\r\n            mockMvc = MockMvcBuilders.standaloneSetup(new EmployeeControllerImpl( serviceMock))\r\n                    .build();\r\n        }\r\n    \r\n    \r\n        @Test\r\n        public void getTest() throws Exception {\r\n            when(serviceMock.getEmployee(2L)).thenReturn(employeeGetById);\r\n    \r\n            mockMvc.perform(get(&quot;/employee/get/2&quot;))\r\n                    .andExpect(status().is(200))\r\n                    .andExpect(content().json((&quot;{&#39;firstName&#39;:&#39;Iven&#39;}&quot;)));\r\n    \r\n            verify(serviceMock).getEmployee(2L);\r\n        }\r\n    \r\n    \r\n    \r\n        @Test\r\n        public void postTest() throws Exception {\r\n            String json = &quot;{\\n&quot; +\r\n                    &quot;  \\&quot;firstName\\&quot;: \\&quot;Iven\\&quot;\\n&quot; \r\n                    &quot;}&quot;;\r\n            when(serviceMock.register(employeeForRegister)).thenReturn(successfullyRegisteredEmployee);\r\n    \r\n            mockMvc.perform( MockMvcRequestBuilders\r\n                    .post(&quot;/employee/register&quot;)\r\n                    .content(json)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .accept(MediaType.APPLICATION_JSON))\r\n                    .andExpect(status().is(201))\r\n                    .andExpect(jsonPath(&quot;$.firstName&quot;, Matchers.is(&quot;Iven&quot;)));\r\n    \r\n        }\r\n    }\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/employee&quot;)\r\n    public class EmployeeControllerImpl implements EmployeeController {\r\n        private final EmployeeService service;\r\n    \r\n        public EmployeeControllerImpl(EmployeeService service) {\r\n            this.service = service;\r\n        }\r\n    \r\n        @PostMapping(path = &quot;/register&quot;,\r\n                consumes = &quot;application/json&quot;,\r\n                produces = &quot;application/json&quot;\r\n        )\r\n        public ResponseEntity&lt;Employee&gt; registerEmployee(@Valid @RequestBody Employee employee) {\r\n            Employee registeredEmployee = service.register(employee);\r\n            return ResponseEntity.status(201).body(registeredEmployee);\r\n        }\r\n    }","title":"When try to test post() rest endpoint see: json can not be null or empty","body":"<p>If I try to test the post() endpoint, I see:</p>\n\n<p>java.lang.AssertionError: No value at JSON path \"$.firstName\"</p>\n\n<p>Caused by: java.lang.IllegalArgumentException: json can not be null or empty</p>\n\n<p>But with the test for the get() all work fine.\nAnd in the postTest() the result for status is correct.\nWhere is my mistaker?\nIs it correct way to test the rest controller in this style?</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.Silent.class)\npublic class Temp {\n    private final Employee successfullyRegisteredEmployee = new Employee(2L, \"Iven\");\n    private final Employee employeeGetById = new Employee(2L, \"Iven\");\n\n\n    @Mock\n    private EmployeeServiceImpl serviceMock;\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void setUp() throws Exception {\n        mockMvc = MockMvcBuilders.standaloneSetup(new EmployeeControllerImpl( serviceMock))\n                .build();\n    }\n\n\n    @Test\n    public void getTest() throws Exception {\n        when(serviceMock.getEmployee(2L)).thenReturn(employeeGetById);\n\n        mockMvc.perform(get(\"/employee/get/2\"))\n                .andExpect(status().is(200))\n                .andExpect(content().json((\"{'firstName':'Iven'}\")));\n\n        verify(serviceMock).getEmployee(2L);\n    }\n\n\n\n    @Test\n    public void postTest() throws Exception {\n        String json = \"{\\n\" +\n                \"  \\\"firstName\\\": \\\"Iven\\\"\\n\" \n                \"}\";\n        when(serviceMock.register(employeeForRegister)).thenReturn(successfullyRegisteredEmployee);\n\n        mockMvc.perform( MockMvcRequestBuilders\n                .post(\"/employee/register\")\n                .content(json)\n                .contentType(MediaType.APPLICATION_JSON)\n                .accept(MediaType.APPLICATION_JSON))\n                .andExpect(status().is(201))\n                .andExpect(jsonPath(\"$.firstName\", Matchers.is(\"Iven\")));\n\n    }\n}\n\n@RestController\n@RequestMapping(\"/employee\")\npublic class EmployeeControllerImpl implements EmployeeController {\n    private final EmployeeService service;\n\n    public EmployeeControllerImpl(EmployeeService service) {\n        this.service = service;\n    }\n\n    @PostMapping(path = \"/register\",\n            consumes = \"application/json\",\n            produces = \"application/json\"\n    )\n    public ResponseEntity&lt;Employee&gt; registerEmployee(@Valid @RequestBody Employee employee) {\n        Employee registeredEmployee = service.register(employee);\n        return ResponseEntity.status(201).body(registeredEmployee);\n    }\n}\n</code></pre>\n"},{"tags":["java","logstash","logback","logstash-logback-encoder"],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1667941583,"creation_date":1667847332,"question_id":74351542,"body_markdown":"I was reading the following section in the logback manual:\r\nhttps://logback.qos.ch/manual/configuration.html#variableSubstitution\r\n\r\nI&#39;m using logback v2.9.1 and v6.1 of logstash-logback-encoder.\r\n\r\nI have a situation where I&#39;m defining an encoder with a &quot;providers&quot; element, and in that I&#39;m setting the &quot;stackTrace&quot; element, and the &quot;throwableConverter&quot;.  I set the &quot;rootCauseFirst&quot; property.  Right now I&#39;m setting it to a static value, but I&#39;m experimenting with setting it from a property.\r\n\r\nIn my test case, I clearly see the difference between setting a static value of &quot;true&quot; vs. &quot;false&quot;.  However, if I define a &quot;ROOT_CAUSE_FIRST&quot; variable before the appender definition, with a value of either &quot;true&quot; or &quot;false&quot;, and reference &quot;${ROOT_CAUSE_FIRST}&quot; in the &quot;rootCauseFirst&quot; setting, the result is that it doesn&#39;t log the exception at all. I don&#39;t see it in the log.\r\n\r\nThe following is an elided copy of my logback.xml:\r\n\r\n    &lt;configuration scan=&quot;true&quot; scanPeriod=&quot;5 seconds&quot; debug=&quot;true&quot;&gt;\r\n\t\t\t&lt;variable name=&quot;ROOT_CAUSE_FIRST&quot; value=&quot;false&quot;/&gt;\r\n\t\t&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\t\t\t&lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n\t\t\t\t&lt;providers&gt;\r\n\t\t\t\t\t...\r\n\t\t\t\t\t&lt;stackTrace&gt;\r\n\t\t\t\t\t\t&lt;fieldName&gt;exTrace&lt;/fieldName&gt;\r\n\t\t\t\t\t\t&lt;throwableConverter class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;maxDepthPerThrowable&gt;10&lt;/maxDepthPerThrowable&gt;\r\n\t\t\t\t\t\t\t&lt;!-- &lt;rootCauseFirst&gt;${ROOT_CAUSE_FIRST}&lt;/rootCauseFirst&gt; --&gt;\r\n\t\t\t\t\t\t\t&lt;rootCauseFirst&gt;true&lt;/rootCauseFirst&gt;\r\n\t\t\t\t\t\t\t&lt;maxLength&gt;10240&lt;/maxLength&gt;\r\n\t\t\t\t\t\t&lt;/throwableConverter&gt;\r\n\t\t\t\t\t&lt;/stackTrace&gt;\r\n\t\t\t\t\t&lt;stackHash&gt;\r\n\t\t\t\t\t\t&lt;fieldName&gt;exHash&lt;/fieldName&gt;\r\n\t\t\t\t\t&lt;/stackHash&gt;\r\n\t\t\t\t\t&lt;sequence&gt;\r\n\t\t\t\t\t\t&lt;fieldName&gt;seq&lt;/fieldName&gt;\r\n\t\t\t\t\t&lt;/sequence&gt;\r\n\t\t\t\t\t&lt;pattern&gt;&lt;pattern&gt;{ &quot;format&quot;: &quot;nf-v1.0&quot; }&lt;/pattern&gt;&lt;/pattern&gt;  \r\n\t\t\t&lt;/providers&gt;\r\n\t\t\t&lt;/encoder&gt;\r\n\t\t&lt;/appender&gt;\r\n\t\t...\r\n\t&lt;/configuration&gt;\r\n\r\nWhat is shown here is the &quot;static&quot; version, and the line with the variable ref is commented out.  As I said earlier, this appears to work fine, but if I reverse the comments, it simply doesn&#39;t log the exception at all.","title":"Can logback.xml reference a property in a provider declaration?","body":"<p>I was reading the following section in the logback manual:\n<a href=\"https://logback.qos.ch/manual/configuration.html#variableSubstitution\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/configuration.html#variableSubstitution</a></p>\n<p>I'm using logback v2.9.1 and v6.1 of logstash-logback-encoder.</p>\n<p>I have a situation where I'm defining an encoder with a &quot;providers&quot; element, and in that I'm setting the &quot;stackTrace&quot; element, and the &quot;throwableConverter&quot;.  I set the &quot;rootCauseFirst&quot; property.  Right now I'm setting it to a static value, but I'm experimenting with setting it from a property.</p>\n<p>In my test case, I clearly see the difference between setting a static value of &quot;true&quot; vs. &quot;false&quot;.  However, if I define a &quot;ROOT_CAUSE_FIRST&quot; variable before the appender definition, with a value of either &quot;true&quot; or &quot;false&quot;, and reference &quot;${ROOT_CAUSE_FIRST}&quot; in the &quot;rootCauseFirst&quot; setting, the result is that it doesn't log the exception at all. I don't see it in the log.</p>\n<p>The following is an elided copy of my logback.xml:</p>\n<pre><code>&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;5 seconds&quot; debug=&quot;true&quot;&gt;\n        &lt;variable name=&quot;ROOT_CAUSE_FIRST&quot; value=&quot;false&quot;/&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n            &lt;providers&gt;\n                ...\n                &lt;stackTrace&gt;\n                    &lt;fieldName&gt;exTrace&lt;/fieldName&gt;\n                    &lt;throwableConverter class=&quot;net.logstash.logback.stacktrace.ShortenedThrowableConverter&quot;&gt;\n                        &lt;maxDepthPerThrowable&gt;10&lt;/maxDepthPerThrowable&gt;\n                        &lt;!-- &lt;rootCauseFirst&gt;${ROOT_CAUSE_FIRST}&lt;/rootCauseFirst&gt; --&gt;\n                        &lt;rootCauseFirst&gt;true&lt;/rootCauseFirst&gt;\n                        &lt;maxLength&gt;10240&lt;/maxLength&gt;\n                    &lt;/throwableConverter&gt;\n                &lt;/stackTrace&gt;\n                &lt;stackHash&gt;\n                    &lt;fieldName&gt;exHash&lt;/fieldName&gt;\n                &lt;/stackHash&gt;\n                &lt;sequence&gt;\n                    &lt;fieldName&gt;seq&lt;/fieldName&gt;\n                &lt;/sequence&gt;\n                &lt;pattern&gt;&lt;pattern&gt;{ &quot;format&quot;: &quot;nf-v1.0&quot; }&lt;/pattern&gt;&lt;/pattern&gt;  \n        &lt;/providers&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    ...\n&lt;/configuration&gt;\n</code></pre>\n<p>What is shown here is the &quot;static&quot; version, and the line with the variable ref is commented out.  As I said earlier, this appears to work fine, but if I reverse the comments, it simply doesn't log the exception at all.</p>\n"},{"tags":["java","docker","maven","jenkins-pipeline","artifactory"],"comments":[{"owner":{"account_id":17881538,"reputation":1050,"user_id":12990185,"display_name":"vel"},"score":0,"creation_date":1658588903,"post_id":71131670,"comment_id":129091270,"body_markdown":"Hi, I am having difficulties to understand where do you specify which file (e.g .zip ) you want to deploy? Also don&#39;t you need a rtMavenRun method as well? Thanks","body":"Hi, I am having difficulties to understand where do you specify which file (e.g .zip ) you want to deploy? Also don&#39;t you need a rtMavenRun method as well? Thanks"},{"owner":{"account_id":4264892,"reputation":679,"user_id":3488237,"accept_rate":83,"display_name":"rugby82"},"score":0,"creation_date":1659359420,"post_id":71131670,"comment_id":129269076,"body_markdown":"i want run the &quot;stage (&#39;Artifactory configuration&#39;) &quot; into the agent Docker...but it seems not easy....at the moment I have used a work around changing the workspace and uploading the files using the &quot;classic&quot; agent...if you use a docker agent  in a pipeline, jenkins creates 2 different  workspace (one for the classic agent and one for the docker agent)","body":"i want run the &quot;stage (&#39;Artifactory configuration&#39;) &quot; into the agent Docker...but it seems not easy....at the moment I have used a work around changing the workspace and uploading the files using the &quot;classic&quot; agent...if you use a docker agent  in a pipeline, jenkins creates 2 different  workspace (one for the classic agent and one for the docker agent)"}],"answers":[{"tags":[],"owner":{"account_id":14305614,"reputation":72,"user_id":10333632,"display_name":"sagstetterC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667294656,"creation_date":1667294656,"answer_id":74273792,"question_id":71131670,"body_markdown":"try it with\r\n\r\n`args &#39;-v /usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacert: /etc/ssl/certs/java/cacerts&#39;`","title":"Jenkins pipeline using docker agent can&#39;t push on artifactory due to jvm cacert","body":"<p>try it with</p>\n<p><code>args '-v /usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacert: /etc/ssl/certs/java/cacerts'</code></p>\n"}],"owner":{"account_id":4264892,"reputation":679,"user_id":3488237,"accept_rate":83,"display_name":"rugby82"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1667940952,"creation_date":1644950044,"question_id":71131670,"body_markdown":"I need to push some jar files obtained during a Jenkins pipeline, to Jfrog; \r\nbelow the code:\r\n\r\n```\r\nstage (&#39;Artifactory configuration&#39;) {\r\n            when { expression { params.runDelivery } }\r\n            steps {\r\n                rtServer (\r\n                    id: &quot;artifactory&quot;,\r\n                    url: &quot;https://jfroglocal/artifactory&quot;,\r\n                    credentialsId: &quot;jfrog&quot;\r\n                )\r\n\r\n                rtMavenDeployer (\r\n                    id: &quot;MAVEN_DEPLOYER&quot;,\r\n                    serverId: &quot;artifactory&quot;,\r\n                    releaseRepo: &quot;example-repo-local&quot;,\r\n                    snapshotRepo: &quot;example-repo-local&quot;\r\n                )\r\n            }\r\n        }\r\n```\r\n\r\n\r\nhere the error:\r\n\r\n```\r\n[m org.apache.maven.cli.MavenCli -  Skipping deployment of remaining artifacts (if any) and build info. sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target etc\r\n```\r\n\r\n\r\nif I run the pipeline directly from the &quot;jenkins slave server&quot; the error disappear after linkng  /usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacert to /etc/ssl/certs/java/cacerts\r\n\r\nif I run the same pipeline from an docker agent the error persists; below the declared agent:\r\n\r\n\r\n```\r\nagent {\r\n        docker {\r\n            label &#39;Ubuntu-20.04-Slave&#39;\r\n            image &#39;node:10&#39;\r\n            args &#39;-u root&#39;\r\n        }\r\n\r\n    }\r\n```\r\n\r\nhow can i link the cacert file into the container?\r\n","title":"Jenkins pipeline using docker agent can&#39;t push on artifactory due to jvm cacert","body":"<p>I need to push some jar files obtained during a Jenkins pipeline, to Jfrog;\nbelow the code:</p>\n<pre><code>stage ('Artifactory configuration') {\n            when { expression { params.runDelivery } }\n            steps {\n                rtServer (\n                    id: &quot;artifactory&quot;,\n                    url: &quot;https://jfroglocal/artifactory&quot;,\n                    credentialsId: &quot;jfrog&quot;\n                )\n\n                rtMavenDeployer (\n                    id: &quot;MAVEN_DEPLOYER&quot;,\n                    serverId: &quot;artifactory&quot;,\n                    releaseRepo: &quot;example-repo-local&quot;,\n                    snapshotRepo: &quot;example-repo-local&quot;\n                )\n            }\n        }\n</code></pre>\n<p>here the error:</p>\n<pre><code>[m org.apache.maven.cli.MavenCli -  Skipping deployment of remaining artifacts (if any) and build info. sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target etc\n</code></pre>\n<p>if I run the pipeline directly from the &quot;jenkins slave server&quot; the error disappear after linkng  /usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacert to /etc/ssl/certs/java/cacerts</p>\n<p>if I run the same pipeline from an docker agent the error persists; below the declared agent:</p>\n<pre><code>agent {\n        docker {\n            label 'Ubuntu-20.04-Slave'\n            image 'node:10'\n            args '-u root'\n        }\n\n    }\n</code></pre>\n<p>how can i link the cacert file into the container?</p>\n"},{"tags":["java","gradle","artifactory"],"answers":[{"tags":[],"owner":{"account_id":19858726,"reputation":46,"user_id":14547510,"display_name":"Pavan Gonugunta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646142792,"creation_date":1646142792,"answer_id":71309541,"question_id":71150079,"body_markdown":"Regarding your query, Yes you can make use of [JFrog CLI][1] as an alternate or another way to integrate Gradle client to the Artifactory application. This will help to resolve dependencies and deploy build artifacts from and to Artifactory and also collects the build-info which will be stored in Artifactory. For more details on this, you may refer to our CLI Wiki page [here][2].\r\n\r\n\r\n  [1]: https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory\r\n  [2]: https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory#CLIforJFrogArtifactory-RunningGradleBuilds","title":"Cannot publish pom for project &#39;:&#39; it does not contain the Maven plugin install task and task &#39;:artifactoryPublish&#39; doesn&#39;t specify a custom pom path","body":"<p>Regarding your query, Yes you can make use of <a href=\"https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory\" rel=\"nofollow noreferrer\">JFrog CLI</a> as an alternate or another way to integrate Gradle client to the Artifactory application. This will help to resolve dependencies and deploy build artifacts from and to Artifactory and also collects the build-info which will be stored in Artifactory. For more details on this, you may refer to our CLI Wiki page <a href=\"https://www.jfrog.com/confluence/display/CLI/CLI+for+JFrog+Artifactory#CLIforJFrogArtifactory-RunningGradleBuilds\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2140912,"reputation":1357,"user_id":1899566,"display_name":"Robert Fleming"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665031919,"creation_date":1665031919,"answer_id":73968792,"question_id":71150079,"body_markdown":"What fixed this for me was adding the `maven` plugin (I previously only had the `maven-publish` plugin):\r\n\r\n    plugins {\r\n      id &#39;maven&#39;\r\n      id &#39;maven-publish&#39;\r\n      id &#39;com.jfrog.artifactory&#39; version &#39;4.29.0&#39;\r\n    }\r\n\r\n","title":"Cannot publish pom for project &#39;:&#39; it does not contain the Maven plugin install task and task &#39;:artifactoryPublish&#39; doesn&#39;t specify a custom pom path","body":"<p>What fixed this for me was adding the <code>maven</code> plugin (I previously only had the <code>maven-publish</code> plugin):</p>\n<pre><code>plugins {\n  id 'maven'\n  id 'maven-publish'\n  id 'com.jfrog.artifactory' version '4.29.0'\n}\n</code></pre>\n"}],"owner":{"account_id":11573210,"reputation":774,"user_id":8479386,"display_name":"Karan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667940942,"creation_date":1645050528,"question_id":71150079,"body_markdown":"I am trying to publish/deploy jar (in build/lib) file created by my gradle project to artifactory. To make things simple I installed a local artifactory-oss installation without docker. When I execute the command gradlew build artifactoryDeploy then output shows following\r\n\r\n    \r\n\r\n&gt; Cannot publish pom for project &#39;:&#39; since it does not contain the Maven\r\n&gt; plugin install task and task &#39;:artifactoryPublish&#39; does not specify a\r\n&gt; custom pom path.\r\n&gt;     \r\n&gt;     &gt; Task :artifactoryDeploy\r\n&gt;     Deploying build info...\r\n&gt;     Build-info successfully deployed. Browse it in Artifactory under http://100.100.11.11:8081/artifactory/webapp/builds/mygradle/1846079453857\r\n\r\nI tried following [jfrog documentation][1] and [other resources][2] but still it is just pushing the build info.\r\n\r\nMy gradle.build looks like following\r\n \r\n\r\n    buildscript {\r\n     repositories {\r\n    \t\tjcenter()\r\n            maven {\r\n                url &#39;http://100.100.11.11:8081/artifactory/gradle-release-local&#39;\r\n                credentials {\r\n                    username = &quot;${artifactory_user}&quot;\r\n                    password = &quot;${artifactory_password}&quot;\r\n                }\r\n            }\r\n        }\r\n        dependencies {\r\n            //Check for the latest version here: http://plugins.gradle.org/plugin/com.jfrog.artifactory\r\n            classpath &quot;org.jfrog.buildinfo:build-info-extractor-gradle:4+&quot;\r\n        }\r\n    }\r\n    \r\n    plugins {\r\n        // Apply the java-library plugin to add support for Java Library\r\n        id &#39;java-library&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;maven-publish&#39;\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    \r\n    repositories {\r\n        // Use jcenter for resolving dependencies.\r\n        // You can declare any Maven/Ivy/file repository here.\r\n        jcenter()\r\n    }\r\n    \r\n    dependencies {\r\n        // This dependency is exported to consumers, that is to say found on their compile classpath.\r\n        api &#39;org.apache.commons:commons-math3:3.6.1&#39;\r\n    \r\n        // This dependency is used internally, and not exposed to consumers on their own compile classpath.\r\n        implementation &#39;com.google.guava:guava:29.0-jre&#39;\r\n    \r\n        // Use JUnit test framework\r\n        testImplementation &#39;junit:junit:4.13&#39;\r\n    }\r\n    \r\n    task createPom {\r\n    doLast{\r\n    pom { \r\n            project { \r\n                groupId &#39;edc&#39;\r\n                artifactId &#39;mygradle&#39;\r\n                version &#39;1.0.0&#39;\r\n            }\r\n        }.writeTo(&quot;pom.xml&quot;)\r\n    } \r\n        \r\n    }\r\n    \r\n    allprojects {\r\n      apply plugin: &#39;com.jfrog.artifactory&#39;\r\n      group = &#39;org.jfrog.example.gradle&#39;\r\n      version = &quot;4.21.0&quot;\r\n      status = &quot;release&quot;\r\n    }\r\n    \r\n    configurations {\r\n      published\r\n    }\r\n    \r\n    def f1 = file(&quot;to_deploy.txt&quot;)\r\n    def f2 = file(&quot;build/libs/mygradle-1.0.0-sources.jar&quot;)\r\n    \r\n    artifacts {\r\n    \tpublished file: f1, name: f1.getName(), type: &#39;txt&#39;\r\n        published file: f2, name: f2.getName(), type: &#39;jar&#39;\r\n    }\r\n    \r\n    artifactoryPublish {\r\n          skip = false //Skip build info analysis and publishing (false by default)\r\n          contextUrl = &#39;http://100.100.11.11:8081/artifactory&#39;\r\n          publications (&#39;ALL_PUBLICATIONS&#39;)\r\n      \r\n          clientConfig.publisher.repoKey = &#39;gradle-release-local&#39;\r\n          clientConfig.publisher.username = &quot;${artifactory_user}&quot;\r\n          clientConfig.publisher.password = &quot;${artifactory_password}&quot;\r\n      }\r\n    \r\n    artifactory {\r\n      contextUrl = &#39;http://100.100.11.11:8081/artifactory&#39;\r\n      publish {\r\n        repository {\r\n          repoKey = &#39;gradle-release-local&#39;\r\n          username = &quot;${artifactory_user}&quot;\r\n          password = &quot;${artifactory_password}&quot;\r\n    \t  maven = true\r\n        }\r\n        defaults {\r\n    \t  publications(&#39;ALL_PUBLICATIONS&#39;)\r\n          publishConfigs(&#39;published&#39;)\t  \r\n          publishBuildInfo = true\r\n          publishArtifacts = true\r\n          publishPom = true\r\n          publishIvy = true\r\n        }\r\n      }\r\n      resolve {\r\n        repository {\r\n          repoKey = &#39;maven-remote&#39;\r\n          username = &quot;admin&quot;\r\n          password = &quot;password&quot;\r\n        }\r\n      }\r\n    }\r\n    \r\n    task sourceJar(type: Jar){\r\n        from file(&quot;build/libs/mygradle-1.0.0-sources.jar&quot;)\r\n     }\r\n    \r\n     publishing {\r\n          publications {\r\n               pluginJar(MavenPublication) {\r\n                groupId &quot;${group}&quot;\r\n                artifactId &#39;mygradle&#39;                         // this is the package suffix the jar will go into in artifactory\r\n                version &quot;${version}&quot;\r\n                artifact sourceJar\r\n    \t\t\tfrom components.java\r\n            }\r\n          }\r\n      }\r\n\r\nI know there might be somethings extra in this build.gradle file but I added those to just try them out. Is it possible to publish/deploy a gradle project to artifactory without setting up jenkins? If yes then where my build.gradle is lacking?\r\n\r\nI know that it is possible with maven build projects. As I have done it.\r\n\r\n\r\n\r\n  [1]: https://www.jfrog.com/confluence/display/JFROG/Gradle+Artifactory+Plugin#:~:text=The%20Gradle%20Artifactory%20Plugin%20allows,supported%20Gradle%20version%20is%204.10.\r\n  [2]: https://jfrog.com/knowledge-base/artifactory-deploying-and-resolving-different-artifact-types-through-a-gradle-job/","title":"Cannot publish pom for project &#39;:&#39; it does not contain the Maven plugin install task and task &#39;:artifactoryPublish&#39; doesn&#39;t specify a custom pom path","body":"<p>I am trying to publish/deploy jar (in build/lib) file created by my gradle project to artifactory. To make things simple I installed a local artifactory-oss installation without docker. When I execute the command gradlew build artifactoryDeploy then output shows following</p>\n<blockquote>\n<p>Cannot publish pom for project ':' since it does not contain the Maven\nplugin install task and task ':artifactoryPublish' does not specify a\ncustom pom path.</p>\n<pre><code>&gt; Task :artifactoryDeploy\nDeploying build info...\nBuild-info successfully deployed. Browse it in Artifactory under http://100.100.11.11:8081/artifactory/webapp/builds/mygradle/1846079453857\n</code></pre>\n</blockquote>\n<p>I tried following <a href=\"https://www.jfrog.com/confluence/display/JFROG/Gradle+Artifactory+Plugin#:%7E:text=The%20Gradle%20Artifactory%20Plugin%20allows,supported%20Gradle%20version%20is%204.10.\" rel=\"nofollow noreferrer\">jfrog documentation</a> and <a href=\"https://jfrog.com/knowledge-base/artifactory-deploying-and-resolving-different-artifact-types-through-a-gradle-job/\" rel=\"nofollow noreferrer\">other resources</a> but still it is just pushing the build info.</p>\n<p>My gradle.build looks like following</p>\n<pre><code>buildscript {\n repositories {\n        jcenter()\n        maven {\n            url 'http://100.100.11.11:8081/artifactory/gradle-release-local'\n            credentials {\n                username = &quot;${artifactory_user}&quot;\n                password = &quot;${artifactory_password}&quot;\n            }\n        }\n    }\n    dependencies {\n        //Check for the latest version here: http://plugins.gradle.org/plugin/com.jfrog.artifactory\n        classpath &quot;org.jfrog.buildinfo:build-info-extractor-gradle:4+&quot;\n    }\n}\n\nplugins {\n    // Apply the java-library plugin to add support for Java Library\n    id 'java-library'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n}\n\napply plugin: 'eclipse'\napply plugin: 'maven-publish'\napply plugin: 'io.spring.dependency-management'\n\nrepositories {\n    // Use jcenter for resolving dependencies.\n    // You can declare any Maven/Ivy/file repository here.\n    jcenter()\n}\n\ndependencies {\n    // This dependency is exported to consumers, that is to say found on their compile classpath.\n    api 'org.apache.commons:commons-math3:3.6.1'\n\n    // This dependency is used internally, and not exposed to consumers on their own compile classpath.\n    implementation 'com.google.guava:guava:29.0-jre'\n\n    // Use JUnit test framework\n    testImplementation 'junit:junit:4.13'\n}\n\ntask createPom {\ndoLast{\npom { \n        project { \n            groupId 'edc'\n            artifactId 'mygradle'\n            version '1.0.0'\n        }\n    }.writeTo(&quot;pom.xml&quot;)\n} \n    \n}\n\nallprojects {\n  apply plugin: 'com.jfrog.artifactory'\n  group = 'org.jfrog.example.gradle'\n  version = &quot;4.21.0&quot;\n  status = &quot;release&quot;\n}\n\nconfigurations {\n  published\n}\n\ndef f1 = file(&quot;to_deploy.txt&quot;)\ndef f2 = file(&quot;build/libs/mygradle-1.0.0-sources.jar&quot;)\n\nartifacts {\n    published file: f1, name: f1.getName(), type: 'txt'\n    published file: f2, name: f2.getName(), type: 'jar'\n}\n\nartifactoryPublish {\n      skip = false //Skip build info analysis and publishing (false by default)\n      contextUrl = 'http://100.100.11.11:8081/artifactory'\n      publications ('ALL_PUBLICATIONS')\n  \n      clientConfig.publisher.repoKey = 'gradle-release-local'\n      clientConfig.publisher.username = &quot;${artifactory_user}&quot;\n      clientConfig.publisher.password = &quot;${artifactory_password}&quot;\n  }\n\nartifactory {\n  contextUrl = 'http://100.100.11.11:8081/artifactory'\n  publish {\n    repository {\n      repoKey = 'gradle-release-local'\n      username = &quot;${artifactory_user}&quot;\n      password = &quot;${artifactory_password}&quot;\n      maven = true\n    }\n    defaults {\n      publications('ALL_PUBLICATIONS')\n      publishConfigs('published')     \n      publishBuildInfo = true\n      publishArtifacts = true\n      publishPom = true\n      publishIvy = true\n    }\n  }\n  resolve {\n    repository {\n      repoKey = 'maven-remote'\n      username = &quot;admin&quot;\n      password = &quot;password&quot;\n    }\n  }\n}\n\ntask sourceJar(type: Jar){\n    from file(&quot;build/libs/mygradle-1.0.0-sources.jar&quot;)\n }\n\n publishing {\n      publications {\n           pluginJar(MavenPublication) {\n            groupId &quot;${group}&quot;\n            artifactId 'mygradle'                         // this is the package suffix the jar will go into in artifactory\n            version &quot;${version}&quot;\n            artifact sourceJar\n            from components.java\n        }\n      }\n  }\n</code></pre>\n<p>I know there might be somethings extra in this build.gradle file but I added those to just try them out. Is it possible to publish/deploy a gradle project to artifactory without setting up jenkins? If yes then where my build.gradle is lacking?</p>\n<p>I know that it is possible with maven build projects. As I have done it.</p>\n"},{"tags":["java","caching","ehcache","profiler","jconsole"],"owner":{"display_name":"user1768830"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":991,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1667940591,"creation_date":1374803253,"question_id":17871569,"body_markdown":"A co-worker told me that it might be possible to use JConsole to view the contents of an EhCache cache at any time in production. I&#39;m wondering: is this true, and if so how/why? And more importantly, would merely peeking at the cache&#39;s contents cause performance issues for the app (like starting a profiler would)?","title":"How to view contents of EhCache cache in production","body":"<p>A co-worker told me that it might be possible to use JConsole to view the contents of an EhCache cache at any time in production. I'm wondering: is this true, and if so how/why? And more importantly, would merely peeking at the cache's contents cause performance issues for the app (like starting a profiler would)?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1653698631,"post_id":72411743,"comment_id":127921711,"body_markdown":"`MouseInfo.getPointerInfo().getLocation();` &lt;- Nope, use a `MouseListener`","body":"<code>MouseInfo.getPointerInfo().getLocation();</code> &lt;- Nope, use a <code>MouseListener</code>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1653698884,"post_id":72411743,"comment_id":127921742,"body_markdown":"A lot of what you&#39;re describing is &quot;basic&quot; trigonometry (I say basic, but I&#39;m an idiot, so it&#39;s all just a confusing mess for me &#128540;)","body":"A lot of what you&#39;re describing is &quot;basic&quot; trigonometry (I say basic, but I&#39;m an idiot, so it&#39;s all just a confusing mess for me 😜)"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1653709822,"post_id":72411743,"comment_id":127922854,"body_markdown":"Usually you override method `paintComponent` and not `paint`. Refer to [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) lesson in _Creating a GUI With Swing_ trail of Oracle&#39;s Java tutorials. Also, I think that people who are not using IntelliJ as their IDE (like me) won&#39;t be able to help you because of the `MainMenu.form` file.","body":"Usually you override method <code>paintComponent</code> and not <code>paint</code>. Refer to <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> lesson in <i>Creating a GUI With Swing</i> trail of Oracle&#39;s Java tutorials. Also, I think that people who are not using IntelliJ as their IDE (like me) won&#39;t be able to help you because of the <code>MainMenu.form</code> file."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1653711112,"post_id":72411743,"comment_id":127922972,"body_markdown":"*&quot;The GitHub is linked here:&quot;* No thanks. All relevant code should be included in the question in the form of a [mre].","body":"<i>&quot;The GitHub is linked here:&quot;</i> No thanks. All relevant code should be included in the question in the form of a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1667940290,"creation_date":1653712371,"answer_id":72412859,"question_id":72411743,"body_markdown":"So, your problem basically boils down to a series of trigonometry problems ... yea (can you feel the sarcasm &#128540;).\r\n\r\nBut what do I mean?  So, you want to find the end point of the barrel, based on it&#39;s current angle of rotation?  Well, you will need to know the length of barrel, this will give you a radius around which the barrel can travel, from that you can simply perform a &quot;point on a circle&quot; calculation.\r\n\r\nWant to know the path of the projectile, calculate the &quot;point on a circle&quot; based on a radius greater than the visible area and then draw a line between the barrel and this point, that&#39;s your path.  Told you, trigonometry.\r\n\r\nSo, I started by creating a simple entity which would end up looking something like (with color guides)...\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe turret and the body are seperate images, but when drawn on top of each other, they will appear as above, this is really important, as this saves so much effort.\r\n\r\nThe turret then has a specified radius and can rotate easily around the body\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIf you look really hard, the turret is actually not centered around the &quot;natural&quot; center of the image, but by laying it out this way, we can easily rotate around the mid point of the image - so much easier.\r\n\r\nOkay, that all sounds fun, let&#39;s start with a basic concept of our &quot;tank&quot; entity...\r\n\r\n    public class Tank {\r\n        private BufferedImage body;\r\n        private BufferedImage turret;\r\n\r\n        private int x;\r\n        private int y;\r\n\r\n        private double bodyAngle = 0;\r\n        private double turretAngle = 0;\r\n\r\n        private int width;\r\n        private int height;\r\n\r\n        private int midX;\r\n        private int midY;\r\n\r\n        public Tank() throws IOException {\r\n            body = ImageIO.read(getClass().getResource(&quot;/images/TankBody.png&quot;));\r\n            turret = ImageIO.read(getClass().getResource(&quot;/images/TankTurret.png&quot;));\r\n\r\n            width = body.getWidth();\r\n            height = body.getHeight();\r\n\r\n            midX = width / 2;\r\n            midY = height / 2;\r\n        }\r\n\r\n        public int getX() {\r\n            return x;\r\n        }\r\n\r\n        public int getY() {\r\n            return y;\r\n        }\r\n\r\n        public void setX(int x) {\r\n            this.x = x;\r\n        }\r\n\r\n        public void setY(int y) {\r\n            this.y = y;\r\n        }\r\n\r\n        public double getBodyAngle() {\r\n            return bodyAngle;\r\n        }\r\n\r\n        public double getTurretAngle() {\r\n            return turretAngle;\r\n        }\r\n\r\n        public void setBodyAngle(double bodyAngle) {\r\n            this.bodyAngle = bodyAngle;\r\n        }\r\n\r\n        public void setTurretAngle(double turretAngle) {\r\n            this.turretAngle = turretAngle;\r\n        }\r\n\r\n        // This represents the &quot;unrotated&quot; width\r\n        public int getWidth() {\r\n            return width;\r\n        }\r\n\r\n        // This represents the &quot;unrotated&quot; height\r\n        public int getHeight() {\r\n            return height;\r\n        }\r\n\r\n        protected int getMidX() {\r\n            return midX;\r\n        }\r\n\r\n        protected int getMidY() {\r\n            return midY;\r\n        }\r\n\r\n        protected BufferedImage getBody() {\r\n            return body;\r\n        }\r\n\r\n        protected BufferedImage getTurret() {\r\n            return turret;\r\n        }\r\n\r\n        public void paint(Graphics2D master, ImageObserver observer) {\r\n            Graphics2D g2d = (Graphics2D) master.create();\r\n            g2d.translate(getX() - getMidX(), getY() - getMidY());\r\n\r\n            g2d.setColor(Color.RED);\r\n            g2d.drawOval(0, 0, getWidth(), getHeight());\r\n\r\n            Graphics2D bodyG = (Graphics2D) g2d.create();\r\n            bodyG.rotate(Math.toRadians(getBodyAngle()), getMidX(), getMidY());\r\n            // &gt;&gt;&gt; Debug\r\n            bodyG.setColor(Color.ORANGE.darker());\r\n            bodyG.drawRect(0, 0, 64, 64);\r\n            // &lt;&lt;&lt; Debug\r\n            bodyG.drawImage(getBody(), 0, 0, observer);\r\n            bodyG.dispose();\r\n\r\n            Graphics2D turrtG = (Graphics2D) g2d.create();\r\n            turrtG.rotate(Math.toRadians(getTurretAngle()), getMidX(), getMidY());\r\n            // &gt;&gt;&gt; Debug\r\n            turrtG.setColor(Color.GREEN.darker());\r\n            // I mesured the turrent size in a image editor\r\n            // The acutal image size is the same as the body\r\n            // in order to make the workflow simpler\r\n            turrtG.drawRect((getWidth() - 20) / 2, 0, 20, 44);\r\n            // &lt;&lt;&lt; Debug\r\n            turrtG.drawImage(getTurret(), 0, 0, observer);\r\n            turrtG.dispose();\r\n\r\n            g2d.dispose();\r\n        }\r\n    }\r\n\r\nThe important things to note here are...\r\n\r\n* The x/y position of the tank represents it&#39;s &quot;center&quot; point\r\n* The body and turret can rotate independently of each other\r\n\r\nNow, we can make the turret look at the mouse by using a `MouseMotionListener` and, you guessed it, some more trigonometry\r\n\r\n[![enter image description here][3]][3]\r\n\r\n    public class GamePane extends JPanel {\r\n\r\n        private Tank tank;\r\n        private Point mousePoint;\r\n\r\n        public GamePane() throws IOException {\r\n            tank = new Tank();\r\n            addMouseMotionListener(new MouseAdapter() {\r\n                @Override\r\n                public void mouseMoved(MouseEvent e) {\r\n                    mousePoint = e.getPoint();\r\n                }\r\n            });\r\n            tank.setX(200);\r\n            tank.setY(200);\r\n\r\n            Timer timer = new Timer(5, new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    if (mousePoint != null) {\r\n                        double deltaX = tank.getX() - mousePoint.x;\r\n                        double deltaY = tank.getY() - mousePoint.y;\r\n                        // Because the image is pointing up, we need to offset\r\n                        // the rotation by 90 for the API\r\n                        double rotation = Math.toDegrees(Math.atan2(deltaY, deltaX) - Math.toRadians(90));\r\n                        tank.setTurretAngle(rotation);\r\n                    }\r\n                    repaint();\r\n                }\r\n            });\r\n            timer.start();\r\n        }\r\n\r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            return new Dimension(400, 400);\r\n        }\r\n\r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            Graphics2D g2d = (Graphics2D) g.create();\r\n            tank.paint(g2d, this);\r\n            // I don&#39;t trust the tanks paint process ;)\r\n            g2d.dispose();\r\n            g2d = (Graphics2D) g.create();\r\n\r\n            // This is all debug\r\n            if (mousePoint != null) {\r\n                // The radius around the tank based on the mouse&#39;s current location\r\n                double radius = Point2D.distance(tank.getX(), tank.getY(), mousePoint.x, mousePoint.y);\r\n                g2d.setColor(Color.MAGENTA);\r\n                g2d.draw(new Ellipse2D.Double(\r\n                        tank.getX() - radius,\r\n                        tank.getY() - radius,\r\n                        radius * 2,\r\n                        radius * 2));\r\n            }\r\n            g2d.dispose();\r\n        }\r\n    }\r\n\r\nThe &quot;core&quot; functionality is in the `Timer` and looks like...\r\n\r\n    double deltaX = tank.getX() - mousePoint.x;\r\n    double deltaY = tank.getY() - mousePoint.y;\r\n    // Because the image is pointing up, we need to offset\r\n    // the rotation by 90 for the API\r\n    double rotation = Math.toDegrees(Math.atan2(deltaY, deltaX) - Math.toRadians(90));\r\n\r\nIt&#39;s important to note that the `Graphics` API and `Math` API have a different concept of `0` (yea).\r\n\r\nOkay, but how do we find the projectile path?!  Well, more trigonometry!\r\n\r\nBut first, we need some help...\r\n\r\n    public class Util {\r\n        public static Point2D getPointOnCircle(double degress, double offset, double radius) {\r\n            double rads = Math.toRadians(degress + offset); // 0 becomes the top\r\n\r\n            // Calculate the outter point of the line\r\n            double xPosy = Math.cos(rads) * radius;\r\n            double yPosy = Math.sin(rads) * radius;\r\n\r\n            return new Point2D.Double(xPosy, yPosy);\r\n        }\r\n\r\n        public static Point2D getPointOnCircle(double degress, double offset, double radius, double centerX, double centerY) {\r\n            Point2D poc = getPointOnCircle(degress, offset, radius);\r\n            return new Point2D.Double(poc.getX() + centerX, poc.getY() + centerY);\r\n        }\r\n    }\r\n\r\nSo, all this does is provide some basic &quot;point on circle&quot; calculations.  From this, we can calculate the &quot;point&quot; in the &quot;world&quot; we&#39;re looking for...\r\n\r\nSo, we can add...\r\n\r\n\r\n    public Point2D getBusinessEndOfBarrel() {\r\n        // I&#39;ve deliberatly set up the images to be the same size, so this\r\n        // can be made easier.  If your turren is a different size/position\r\n        // then you will need calculate this yourself\r\n\r\n        // Also, we&#39;re calculating this in &quot;world&quot; space\r\n        int centerX = getX();\r\n        int centerY = getY();\r\n        return Util.getPointOnCircle(getTurretAngle(), -90, Math.max(getWidth(), getHeight()) / 2, centerX, centerY);\r\n    }\r\n\r\nto our `Tank` entity, this will return the &quot;world&quot; coordinates that represents the end of the barrel.\r\n\r\nLet&#39;s add some &quot;debug&quot; graphics to our `paintComponent`...\r\n\r\n    // This is all debug\r\n    if (mousePoint != null) {\r\n        // The radius around the tank based on the mouse&#39;s current location\r\n        double radius = Point2D.distance(tank.getX(), tank.getY(), mousePoint.x, mousePoint.y);\r\n        g2d.setColor(Color.MAGENTA);\r\n        g2d.draw(new Ellipse2D.Double(\r\n                tank.getX() - radius,\r\n                tank.getY() - radius,\r\n                radius * 2,\r\n                radius * 2));\r\n\r\n        // From point, base the turrets current angle\r\n        Point2D fromPoint = tank.getBusinessEndOfBarrel();\r\n\r\n        // Mid point of the tank in the world\r\n        int worldMidX = tank.getX();\r\n        int worldMidY = tank.getY();\r\n        // The point on the circle where the mouse is, based on the turrents current angle\r\n        // which the diection the turret is pointing\r\n        Point2D toPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, radius, worldMidX, worldMidY);\r\n\r\n        // The &quot;out of view&quot; radius, this represents the &quot;end point&quot; for our projectile, because, it&#39;s easier \r\n        // to calculate\r\n        double outOfViewRadius = Math.max(getWidth(), getHeight()) * 2d;\r\n        Point2D outOfViewToPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, outOfViewRadius, getWidth() / 2, getHeight() / 2);\r\n        g2d.setColor(Color.CYAN);\r\n        // The projectiles path\r\n        g2d.draw(new Line2D.Double(fromPoint, outOfViewToPoint));\r\n\r\n        // A line from the barrel to the mouse point\r\n        g2d.setColor(Color.BLUE);\r\n        g2d.draw(new Line2D.Double(fromPoint, toPoint));\r\n    }\r\n\r\nThis will add...\r\n\r\n* A guide which represents the target circle created by the mouse\r\n* A projectile line from the barrel to the mouse\r\n* A projectile line from the barrel to outside the visible area\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\nYou might be surprised that this actually now provides the answer to the question.  You have the start point and end point of the projectile, now you just need some way to animate it...\r\n\r\nWhen it comes to animation, I tend to prefer time based animations, but since the projectile might travel a variable distance, what we really need is a linear progression, so if it was to travel a long distance or a short distance, it would travel at the same speed.\r\n\r\nNow, I banged by head against Google for a bit and was able to come up with...\r\n\r\n    public class Projectile {\r\n        private Point2D from;\r\n        private Point2D to;\r\n\r\n        private Point2D current;\r\n        \r\n        private long lastUpdate = 0;\r\n        \r\n        private double deltaX;\r\n        private double deltaY;\r\n\r\n        public Projectile(Point2D from, Point2D to) {\r\n            this.from = from;\r\n            this.to = to;\r\n            current = new Point2D.Double(from.getX(), from.getY());\r\n\r\n            double deltaX = from.getX() - to.getX();\r\n            double deltaY = from.getY() - to.getY();\r\n            double angle = Math.atan2(deltaY, deltaX) + Math.toRadians(180);\r\n            \r\n            this.deltaY = Math.sin(angle) * 100;\r\n            this.deltaX = Math.cos(angle) * 100;\r\n            lastUpdate = System.currentTimeMillis();\r\n        }\r\n\r\n        public Point2D getFrom() {\r\n            return from;\r\n        }\r\n\r\n        public Point2D getTo() {\r\n            return to;\r\n        }\r\n\r\n        public Point2D getLocation() {\r\n            return current;\r\n        }\r\n        \r\n        public void tick() {\r\n            long elapsedTime = System.currentTimeMillis() - lastUpdate;\r\n            lastUpdate = System.currentTimeMillis();\r\n            \r\n            double x = current.getX();\r\n            double y = current.getY();\r\n            \r\n            x += deltaX * (elapsedTime / 1000d);\r\n            y += deltaY * (elapsedTime / 1000d);\r\n            \r\n            current.setLocation(x, y);\r\n        }\r\n    }\r\n\r\nThis will basically calculate a x/y delta which needs to be applied to move the projectile from the current point to it&#39;s target point using a constant speed.\r\n\r\nNow we can add a `MouseListener`...\r\n\r\n    addMouseListener(new MouseAdapter() {\r\n        @Override\r\n        public void mouseClicked(MouseEvent e) {\r\n            int worldMidX = tank.getX();\r\n            int worldMidY = tank.getY();\r\n            Point2D fromPoint = tank.getBusinessEndOfBarrel();\r\n            double outOfViewRadius = Math.max(getWidth(), getHeight()) * 2d;\r\n            Point2D toPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, outOfViewRadius, worldMidX, worldMidY);\r\n\r\n            Projectile projectile = new Projectile(fromPoint, toPoint);\r\n            projectiles.add(projectile);\r\n        }\r\n    });\r\n\r\nUpdate the projectiles in our main loop...\r\n\r\n    List&lt;Projectile&gt; outOfScopeProjectiles = new ArrayList&lt;&gt;(8);\r\n    Rectangle visibleBounds = new Rectangle(0, 0, getWidth(), getHeight());\r\n    for (Projectile projectile : projectiles) {\r\n        projectile.tick();\r\n        Point2D current = projectile.getLocation();\r\n        if (!visibleBounds.contains(current)) {\r\n            outOfScopeProjectiles.add(projectile);\r\n        }\r\n    }\r\n    projectiles.removeAll(outOfScopeProjectiles);\r\n\r\nAnd update our `paintComponent`...\r\n\r\n    g2d.setColor(Color.RED);\r\n    for (Projectile projectile : projectiles) {\r\n        Point2D current = projectile.getLocation();\r\n        g2d.fill(new Ellipse2D.Double(current.getX() - 2, current.getY() - 2, 4, 4));\r\n        // &gt;&gt;&gt; DEBUG\r\n        g2d.draw(new Line2D.Double(projectile.getFrom(), projectile.getTo()));\r\n        // &lt;&lt; DEBUG\r\n    }\r\n\r\n[![enter image description here][5]][5]\r\n\r\n# Runnable example...\r\n\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.geom.Ellipse2D;\r\n    import java.awt.geom.Line2D;\r\n    import java.awt.geom.Point2D;\r\n    import java.awt.image.BufferedImage;\r\n    import java.awt.image.ImageObserver;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new GamePane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class GamePane extends JPanel {\r\n\r\n            private Tank tank;\r\n            private Point mousePoint;\r\n\r\n            private List&lt;Projectile&gt; projectiles = new ArrayList&lt;&gt;(8);\r\n\r\n            public GamePane() throws IOException {\r\n                tank = new Tank();\r\n                addMouseMotionListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseMoved(MouseEvent e) {\r\n                        mousePoint = e.getPoint();\r\n                    }\r\n                });\r\n                addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        int worldMidX = tank.getX();\r\n                        int worldMidY = tank.getY();\r\n                        Point2D fromPoint = tank.getBusinessEndOfBarrel();\r\n                        double outOfViewRadius = Math.max(getWidth(), getHeight()) * 2d;\r\n                        Point2D toPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, outOfViewRadius, worldMidX, worldMidY);\r\n\r\n                        Projectile projectile = new Projectile(fromPoint, toPoint);\r\n                        projectiles.add(projectile);\r\n                    }\r\n                });\r\n                tank.setX(200);\r\n                tank.setY(200);\r\n\r\n                Timer timer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (mousePoint != null) {\r\n                            double deltaX = tank.getX() - mousePoint.x;\r\n                            double deltaY = tank.getY() - mousePoint.y;\r\n                            // Because the image is pointing up, we need to offset\r\n                            // the rotation by 90 for the API\r\n                            double rotation = Math.toDegrees(Math.atan2(deltaY, deltaX) - Math.toRadians(90));\r\n                            tank.setTurretAngle(rotation);\r\n                        }\r\n\r\n                        List&lt;Projectile&gt; outOfScopeProjectiles = new ArrayList&lt;&gt;(8);\r\n                        Rectangle visibleBounds = new Rectangle(0, 0, getWidth(), getHeight());\r\n                        for (Projectile projectile : projectiles) {\r\n                            projectile.tick();\r\n                            Point2D current = projectile.getLocation();\r\n                            if (!visibleBounds.contains(current)) {\r\n                                outOfScopeProjectiles.add(projectile);\r\n                            }\r\n                        }\r\n                        projectiles.removeAll(outOfScopeProjectiles);\r\n\r\n                        repaint();\r\n                    }\r\n                });\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(400, 400);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                tank.paint(g2d, this);\r\n                // I don&#39;t trust the tanks paint process ;)\r\n                g2d.dispose();\r\n                g2d = (Graphics2D) g.create();\r\n\r\n                // This is all debug\r\n                if (mousePoint != null) {\r\n                    // The radius around the tank based on the mouse&#39;s current location\r\n                    double radius = Point2D.distance(tank.getX(), tank.getY(), mousePoint.x, mousePoint.y);\r\n                    g2d.setColor(Color.MAGENTA);\r\n                    g2d.draw(new Ellipse2D.Double(\r\n                            tank.getX() - radius,\r\n                            tank.getY() - radius,\r\n                            radius * 2,\r\n                            radius * 2));\r\n\r\n                    // From point, base the turrets current angle\r\n                    Point2D fromPoint = tank.getBusinessEndOfBarrel();\r\n\r\n                    // Mid point of the tank in the world\r\n                    int worldMidX = tank.getX();\r\n                    int worldMidY = tank.getY();\r\n                    // The point on the circle where the mouse is, based on the turrents current angle\r\n                    // which the diection the turret is pointing\r\n                    Point2D toPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, radius, worldMidX, worldMidY);\r\n\r\n                    // The &quot;out of view&quot; radius, this represents the &quot;end point&quot; for our projectile, because, it&#39;s easier \r\n                    // to calculate\r\n                    double outOfViewRadius = Math.max(getWidth(), getHeight()) * 2d;\r\n                    Point2D outOfViewToPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, outOfViewRadius, getWidth() / 2, getHeight() / 2);\r\n                    g2d.setColor(Color.CYAN);\r\n                    // The projectiles path\r\n                    g2d.draw(new Line2D.Double(fromPoint, outOfViewToPoint));\r\n\r\n                    // A line from the barrel to the mouse point\r\n                    g2d.setColor(Color.BLUE);\r\n                    g2d.draw(new Line2D.Double(fromPoint, toPoint));\r\n                }\r\n                g2d.setColor(Color.RED);\r\n                for (Projectile projectile : projectiles) {\r\n                    Point2D current = projectile.getLocation();\r\n                    g2d.fill(new Ellipse2D.Double(current.getX() - 2, current.getY() - 2, 4, 4));\r\n                    // &gt;&gt;&gt; DEBUG\r\n                    g2d.draw(new Line2D.Double(projectile.getFrom(), projectile.getTo()));\r\n                    // &lt;&lt; DEBUG\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n\r\n        public class Util {\r\n            public static Point2D getPointOnCircle(double degress, double offset, double radius) {\r\n                double rads = Math.toRadians(degress + offset); // 0 becomes the top\r\n\r\n                // Calculate the outter point of the line\r\n                double xPosy = Math.cos(rads) * radius;\r\n                double yPosy = Math.sin(rads) * radius;\r\n\r\n                return new Point2D.Double(xPosy, yPosy);\r\n            }\r\n\r\n            public static Point2D getPointOnCircle(double degress, double offset, double radius, double centerX, double centerY) {\r\n                Point2D poc = getPointOnCircle(degress, offset, radius);\r\n                return new Point2D.Double(poc.getX() + centerX, poc.getY() + centerY);\r\n            }\r\n        }\r\n\r\n        public class Projectile {\r\n            private Point2D from;\r\n            private Point2D to;\r\n\r\n            private Point2D current;\r\n\r\n            private long lastUpdate = 0;\r\n\r\n            private double deltaX;\r\n            private double deltaY;\r\n\r\n            public Projectile(Point2D from, Point2D to) {\r\n                this.from = from;\r\n                this.to = to;\r\n                current = new Point2D.Double(from.getX(), from.getY());\r\n\r\n                double deltaX = from.getX() - to.getX();\r\n                double deltaY = from.getY() - to.getY();\r\n                double angle = Math.atan2(deltaY, deltaX) + Math.toRadians(180);\r\n\r\n                this.deltaY = Math.sin(angle) * 100;\r\n                this.deltaX = Math.cos(angle) * 100;\r\n                lastUpdate = System.currentTimeMillis();\r\n            }\r\n\r\n            public Point2D getFrom() {\r\n                return from;\r\n            }\r\n\r\n            public Point2D getTo() {\r\n                return to;\r\n            }\r\n\r\n            public Point2D getLocation() {\r\n                return current;\r\n            }\r\n\r\n            public void tick() {\r\n                long elapsedTime = System.currentTimeMillis() - lastUpdate;\r\n                lastUpdate = System.currentTimeMillis();\r\n\r\n                double x = current.getX();\r\n                double y = current.getY();\r\n\r\n                x += deltaX * (elapsedTime / 1000d);\r\n                y += deltaY * (elapsedTime / 1000d);\r\n\r\n                current.setLocation(x, y);\r\n            }\r\n\r\n        }\r\n\r\n        public class Tank {\r\n            private BufferedImage body;\r\n            private BufferedImage turret;\r\n\r\n            private int x;\r\n            private int y;\r\n\r\n            private double bodyAngle = 0;\r\n            private double turretAngle = 0;\r\n\r\n            private int width;\r\n            private int height;\r\n\r\n            private int midX;\r\n            private int midY;\r\n\r\n            public Tank() throws IOException {\r\n                body = ImageIO.read(getClass().getResource(&quot;/images/TankBody.png&quot;));\r\n                turret = ImageIO.read(getClass().getResource(&quot;/images/TankTurret.png&quot;));\r\n\r\n                width = body.getWidth();\r\n                height = body.getHeight();\r\n\r\n                midX = width / 2;\r\n                midY = height / 2;\r\n            }\r\n\r\n            public int getX() {\r\n                return x;\r\n            }\r\n\r\n            public int getY() {\r\n                return y;\r\n            }\r\n\r\n            public void setX(int x) {\r\n                this.x = x;\r\n            }\r\n\r\n            public void setY(int y) {\r\n                this.y = y;\r\n            }\r\n\r\n            public double getBodyAngle() {\r\n                return bodyAngle;\r\n            }\r\n\r\n            public double getTurretAngle() {\r\n                return turretAngle;\r\n            }\r\n\r\n            public void setBodyAngle(double bodyAngle) {\r\n                this.bodyAngle = bodyAngle;\r\n            }\r\n\r\n            public void setTurretAngle(double turretAngle) {\r\n                this.turretAngle = turretAngle;\r\n            }\r\n\r\n            // This represents the &quot;unrotated&quot; width\r\n            public int getWidth() {\r\n                return width;\r\n            }\r\n\r\n            // This represents the &quot;unrotated&quot; height\r\n            public int getHeight() {\r\n                return height;\r\n            }\r\n\r\n            protected int getMidX() {\r\n                return midX;\r\n            }\r\n\r\n            protected int getMidY() {\r\n                return midY;\r\n            }\r\n\r\n            protected BufferedImage getBody() {\r\n                return body;\r\n            }\r\n\r\n            protected BufferedImage getTurret() {\r\n                return turret;\r\n            }\r\n\r\n            public Point2D getBusinessEndOfBarrel() {\r\n                // I&#39;ve deliberatly set up the images to be the same size, so this\r\n                // can be made easier.  If your turren is a different size/position\r\n                // then you will need calculate this yourself\r\n\r\n                // Also, we&#39;re calculating this in &quot;world&quot; space\r\n                int centerX = getX();\r\n                int centerY = getY();\r\n                return Util.getPointOnCircle(getTurretAngle(), -90, Math.max(getWidth(), getHeight()) / 2, centerX, centerY);\r\n            }\r\n\r\n            public void paint(Graphics2D master, ImageObserver observer) {\r\n                Graphics2D g2d = (Graphics2D) master.create();\r\n                g2d.translate(getX() - getMidX(), getY() - getMidY());\r\n\r\n                g2d.setColor(Color.RED);\r\n                g2d.drawOval(0, 0, getWidth(), getHeight());\r\n\r\n                Graphics2D bodyG = (Graphics2D) g2d.create();\r\n                bodyG.rotate(Math.toRadians(getBodyAngle()), getMidX(), getMidY());\r\n                // &gt;&gt;&gt; Debug\r\n                bodyG.setColor(Color.ORANGE.darker());\r\n                bodyG.drawRect(0, 0, 64, 64);\r\n                // &lt;&lt;&lt; Debug\r\n                bodyG.drawImage(getBody(), 0, 0, observer);\r\n                bodyG.dispose();\r\n\r\n                Graphics2D turrtG = (Graphics2D) g2d.create();\r\n                turrtG.rotate(Math.toRadians(getTurretAngle()), getMidX(), getMidY());\r\n                // &gt;&gt;&gt; Debug\r\n                turrtG.setColor(Color.GREEN.darker());\r\n                // I mesured the turrent size in a image editor\r\n                // The acutal image size is the same as the body\r\n                // in order to make the workflow simpler\r\n                turrtG.drawRect((getWidth() - 20) / 2, 0, 20, 44);\r\n                // &lt;&lt;&lt; Debug\r\n                turrtG.drawImage(getTurret(), 0, 0, observer);\r\n                turrtG.dispose();\r\n\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zPeVN.png\r\n  [2]: https://i.stack.imgur.com/WUlgN.png\r\n  [3]: https://i.stack.imgur.com/k4Z3U.gif\r\n  [4]: https://i.stack.imgur.com/EkRam.gif\r\n  [5]: https://i.stack.imgur.com/hsG2w.gif","title":"How to move paint graphics along slope?","body":"<p>So, your problem basically boils down to a series of trigonometry problems ... yea (can you feel the sarcasm 😜).</p>\n<p>But what do I mean?  So, you want to find the end point of the barrel, based on it's current angle of rotation?  Well, you will need to know the length of barrel, this will give you a radius around which the barrel can travel, from that you can simply perform a &quot;point on a circle&quot; calculation.</p>\n<p>Want to know the path of the projectile, calculate the &quot;point on a circle&quot; based on a radius greater than the visible area and then draw a line between the barrel and this point, that's your path.  Told you, trigonometry.</p>\n<p>So, I started by creating a simple entity which would end up looking something like (with color guides)...</p>\n<p><a href=\"https://i.stack.imgur.com/zPeVN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zPeVN.png\" alt=\"enter image description here\" /></a></p>\n<p>The turret and the body are seperate images, but when drawn on top of each other, they will appear as above, this is really important, as this saves so much effort.</p>\n<p>The turret then has a specified radius and can rotate easily around the body</p>\n<p><a href=\"https://i.stack.imgur.com/WUlgN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WUlgN.png\" alt=\"enter image description here\" /></a></p>\n<p>If you look really hard, the turret is actually not centered around the &quot;natural&quot; center of the image, but by laying it out this way, we can easily rotate around the mid point of the image - so much easier.</p>\n<p>Okay, that all sounds fun, let's start with a basic concept of our &quot;tank&quot; entity...</p>\n<pre><code>public class Tank {\n    private BufferedImage body;\n    private BufferedImage turret;\n\n    private int x;\n    private int y;\n\n    private double bodyAngle = 0;\n    private double turretAngle = 0;\n\n    private int width;\n    private int height;\n\n    private int midX;\n    private int midY;\n\n    public Tank() throws IOException {\n        body = ImageIO.read(getClass().getResource(&quot;/images/TankBody.png&quot;));\n        turret = ImageIO.read(getClass().getResource(&quot;/images/TankTurret.png&quot;));\n\n        width = body.getWidth();\n        height = body.getHeight();\n\n        midX = width / 2;\n        midY = height / 2;\n    }\n\n    public int getX() {\n        return x;\n    }\n\n    public int getY() {\n        return y;\n    }\n\n    public void setX(int x) {\n        this.x = x;\n    }\n\n    public void setY(int y) {\n        this.y = y;\n    }\n\n    public double getBodyAngle() {\n        return bodyAngle;\n    }\n\n    public double getTurretAngle() {\n        return turretAngle;\n    }\n\n    public void setBodyAngle(double bodyAngle) {\n        this.bodyAngle = bodyAngle;\n    }\n\n    public void setTurretAngle(double turretAngle) {\n        this.turretAngle = turretAngle;\n    }\n\n    // This represents the &quot;unrotated&quot; width\n    public int getWidth() {\n        return width;\n    }\n\n    // This represents the &quot;unrotated&quot; height\n    public int getHeight() {\n        return height;\n    }\n\n    protected int getMidX() {\n        return midX;\n    }\n\n    protected int getMidY() {\n        return midY;\n    }\n\n    protected BufferedImage getBody() {\n        return body;\n    }\n\n    protected BufferedImage getTurret() {\n        return turret;\n    }\n\n    public void paint(Graphics2D master, ImageObserver observer) {\n        Graphics2D g2d = (Graphics2D) master.create();\n        g2d.translate(getX() - getMidX(), getY() - getMidY());\n\n        g2d.setColor(Color.RED);\n        g2d.drawOval(0, 0, getWidth(), getHeight());\n\n        Graphics2D bodyG = (Graphics2D) g2d.create();\n        bodyG.rotate(Math.toRadians(getBodyAngle()), getMidX(), getMidY());\n        // &gt;&gt;&gt; Debug\n        bodyG.setColor(Color.ORANGE.darker());\n        bodyG.drawRect(0, 0, 64, 64);\n        // &lt;&lt;&lt; Debug\n        bodyG.drawImage(getBody(), 0, 0, observer);\n        bodyG.dispose();\n\n        Graphics2D turrtG = (Graphics2D) g2d.create();\n        turrtG.rotate(Math.toRadians(getTurretAngle()), getMidX(), getMidY());\n        // &gt;&gt;&gt; Debug\n        turrtG.setColor(Color.GREEN.darker());\n        // I mesured the turrent size in a image editor\n        // The acutal image size is the same as the body\n        // in order to make the workflow simpler\n        turrtG.drawRect((getWidth() - 20) / 2, 0, 20, 44);\n        // &lt;&lt;&lt; Debug\n        turrtG.drawImage(getTurret(), 0, 0, observer);\n        turrtG.dispose();\n\n        g2d.dispose();\n    }\n}\n</code></pre>\n<p>The important things to note here are...</p>\n<ul>\n<li>The x/y position of the tank represents it's &quot;center&quot; point</li>\n<li>The body and turret can rotate independently of each other</li>\n</ul>\n<p>Now, we can make the turret look at the mouse by using a <code>MouseMotionListener</code> and, you guessed it, some more trigonometry</p>\n<p><a href=\"https://i.stack.imgur.com/k4Z3U.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k4Z3U.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class GamePane extends JPanel {\n\n    private Tank tank;\n    private Point mousePoint;\n\n    public GamePane() throws IOException {\n        tank = new Tank();\n        addMouseMotionListener(new MouseAdapter() {\n            @Override\n            public void mouseMoved(MouseEvent e) {\n                mousePoint = e.getPoint();\n            }\n        });\n        tank.setX(200);\n        tank.setY(200);\n\n        Timer timer = new Timer(5, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (mousePoint != null) {\n                    double deltaX = tank.getX() - mousePoint.x;\n                    double deltaY = tank.getY() - mousePoint.y;\n                    // Because the image is pointing up, we need to offset\n                    // the rotation by 90 for the API\n                    double rotation = Math.toDegrees(Math.atan2(deltaY, deltaX) - Math.toRadians(90));\n                    tank.setTurretAngle(rotation);\n                }\n                repaint();\n            }\n        });\n        timer.start();\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(400, 400);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2d = (Graphics2D) g.create();\n        tank.paint(g2d, this);\n        // I don't trust the tanks paint process ;)\n        g2d.dispose();\n        g2d = (Graphics2D) g.create();\n\n        // This is all debug\n        if (mousePoint != null) {\n            // The radius around the tank based on the mouse's current location\n            double radius = Point2D.distance(tank.getX(), tank.getY(), mousePoint.x, mousePoint.y);\n            g2d.setColor(Color.MAGENTA);\n            g2d.draw(new Ellipse2D.Double(\n                    tank.getX() - radius,\n                    tank.getY() - radius,\n                    radius * 2,\n                    radius * 2));\n        }\n        g2d.dispose();\n    }\n}\n</code></pre>\n<p>The &quot;core&quot; functionality is in the <code>Timer</code> and looks like...</p>\n<pre><code>double deltaX = tank.getX() - mousePoint.x;\ndouble deltaY = tank.getY() - mousePoint.y;\n// Because the image is pointing up, we need to offset\n// the rotation by 90 for the API\ndouble rotation = Math.toDegrees(Math.atan2(deltaY, deltaX) - Math.toRadians(90));\n</code></pre>\n<p>It's important to note that the <code>Graphics</code> API and <code>Math</code> API have a different concept of <code>0</code> (yea).</p>\n<p>Okay, but how do we find the projectile path?!  Well, more trigonometry!</p>\n<p>But first, we need some help...</p>\n<pre><code>public class Util {\n    public static Point2D getPointOnCircle(double degress, double offset, double radius) {\n        double rads = Math.toRadians(degress + offset); // 0 becomes the top\n\n        // Calculate the outter point of the line\n        double xPosy = Math.cos(rads) * radius;\n        double yPosy = Math.sin(rads) * radius;\n\n        return new Point2D.Double(xPosy, yPosy);\n    }\n\n    public static Point2D getPointOnCircle(double degress, double offset, double radius, double centerX, double centerY) {\n        Point2D poc = getPointOnCircle(degress, offset, radius);\n        return new Point2D.Double(poc.getX() + centerX, poc.getY() + centerY);\n    }\n}\n</code></pre>\n<p>So, all this does is provide some basic &quot;point on circle&quot; calculations.  From this, we can calculate the &quot;point&quot; in the &quot;world&quot; we're looking for...</p>\n<p>So, we can add...</p>\n<pre><code>public Point2D getBusinessEndOfBarrel() {\n    // I've deliberatly set up the images to be the same size, so this\n    // can be made easier.  If your turren is a different size/position\n    // then you will need calculate this yourself\n\n    // Also, we're calculating this in &quot;world&quot; space\n    int centerX = getX();\n    int centerY = getY();\n    return Util.getPointOnCircle(getTurretAngle(), -90, Math.max(getWidth(), getHeight()) / 2, centerX, centerY);\n}\n</code></pre>\n<p>to our <code>Tank</code> entity, this will return the &quot;world&quot; coordinates that represents the end of the barrel.</p>\n<p>Let's add some &quot;debug&quot; graphics to our <code>paintComponent</code>...</p>\n<pre><code>// This is all debug\nif (mousePoint != null) {\n    // The radius around the tank based on the mouse's current location\n    double radius = Point2D.distance(tank.getX(), tank.getY(), mousePoint.x, mousePoint.y);\n    g2d.setColor(Color.MAGENTA);\n    g2d.draw(new Ellipse2D.Double(\n            tank.getX() - radius,\n            tank.getY() - radius,\n            radius * 2,\n            radius * 2));\n\n    // From point, base the turrets current angle\n    Point2D fromPoint = tank.getBusinessEndOfBarrel();\n\n    // Mid point of the tank in the world\n    int worldMidX = tank.getX();\n    int worldMidY = tank.getY();\n    // The point on the circle where the mouse is, based on the turrents current angle\n    // which the diection the turret is pointing\n    Point2D toPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, radius, worldMidX, worldMidY);\n\n    // The &quot;out of view&quot; radius, this represents the &quot;end point&quot; for our projectile, because, it's easier \n    // to calculate\n    double outOfViewRadius = Math.max(getWidth(), getHeight()) * 2d;\n    Point2D outOfViewToPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, outOfViewRadius, getWidth() / 2, getHeight() / 2);\n    g2d.setColor(Color.CYAN);\n    // The projectiles path\n    g2d.draw(new Line2D.Double(fromPoint, outOfViewToPoint));\n\n    // A line from the barrel to the mouse point\n    g2d.setColor(Color.BLUE);\n    g2d.draw(new Line2D.Double(fromPoint, toPoint));\n}\n</code></pre>\n<p>This will add...</p>\n<ul>\n<li>A guide which represents the target circle created by the mouse</li>\n<li>A projectile line from the barrel to the mouse</li>\n<li>A projectile line from the barrel to outside the visible area</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/EkRam.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EkRam.gif\" alt=\"enter image description here\" /></a></p>\n<p>You might be surprised that this actually now provides the answer to the question.  You have the start point and end point of the projectile, now you just need some way to animate it...</p>\n<p>When it comes to animation, I tend to prefer time based animations, but since the projectile might travel a variable distance, what we really need is a linear progression, so if it was to travel a long distance or a short distance, it would travel at the same speed.</p>\n<p>Now, I banged by head against Google for a bit and was able to come up with...</p>\n<pre><code>public class Projectile {\n    private Point2D from;\n    private Point2D to;\n\n    private Point2D current;\n    \n    private long lastUpdate = 0;\n    \n    private double deltaX;\n    private double deltaY;\n\n    public Projectile(Point2D from, Point2D to) {\n        this.from = from;\n        this.to = to;\n        current = new Point2D.Double(from.getX(), from.getY());\n\n        double deltaX = from.getX() - to.getX();\n        double deltaY = from.getY() - to.getY();\n        double angle = Math.atan2(deltaY, deltaX) + Math.toRadians(180);\n        \n        this.deltaY = Math.sin(angle) * 100;\n        this.deltaX = Math.cos(angle) * 100;\n        lastUpdate = System.currentTimeMillis();\n    }\n\n    public Point2D getFrom() {\n        return from;\n    }\n\n    public Point2D getTo() {\n        return to;\n    }\n\n    public Point2D getLocation() {\n        return current;\n    }\n    \n    public void tick() {\n        long elapsedTime = System.currentTimeMillis() - lastUpdate;\n        lastUpdate = System.currentTimeMillis();\n        \n        double x = current.getX();\n        double y = current.getY();\n        \n        x += deltaX * (elapsedTime / 1000d);\n        y += deltaY * (elapsedTime / 1000d);\n        \n        current.setLocation(x, y);\n    }\n}\n</code></pre>\n<p>This will basically calculate a x/y delta which needs to be applied to move the projectile from the current point to it's target point using a constant speed.</p>\n<p>Now we can add a <code>MouseListener</code>...</p>\n<pre><code>addMouseListener(new MouseAdapter() {\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        int worldMidX = tank.getX();\n        int worldMidY = tank.getY();\n        Point2D fromPoint = tank.getBusinessEndOfBarrel();\n        double outOfViewRadius = Math.max(getWidth(), getHeight()) * 2d;\n        Point2D toPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, outOfViewRadius, worldMidX, worldMidY);\n\n        Projectile projectile = new Projectile(fromPoint, toPoint);\n        projectiles.add(projectile);\n    }\n});\n</code></pre>\n<p>Update the projectiles in our main loop...</p>\n<pre><code>List&lt;Projectile&gt; outOfScopeProjectiles = new ArrayList&lt;&gt;(8);\nRectangle visibleBounds = new Rectangle(0, 0, getWidth(), getHeight());\nfor (Projectile projectile : projectiles) {\n    projectile.tick();\n    Point2D current = projectile.getLocation();\n    if (!visibleBounds.contains(current)) {\n        outOfScopeProjectiles.add(projectile);\n    }\n}\nprojectiles.removeAll(outOfScopeProjectiles);\n</code></pre>\n<p>And update our <code>paintComponent</code>...</p>\n<pre><code>g2d.setColor(Color.RED);\nfor (Projectile projectile : projectiles) {\n    Point2D current = projectile.getLocation();\n    g2d.fill(new Ellipse2D.Double(current.getX() - 2, current.getY() - 2, 4, 4));\n    // &gt;&gt;&gt; DEBUG\n    g2d.draw(new Line2D.Double(projectile.getFrom(), projectile.getTo()));\n    // &lt;&lt; DEBUG\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hsG2w.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hsG2w.gif\" alt=\"enter image description here\" /></a></p>\n<h1>Runnable example...</h1>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.Rectangle;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.geom.Ellipse2D;\nimport java.awt.geom.Line2D;\nimport java.awt.geom.Point2D;\nimport java.awt.image.BufferedImage;\nimport java.awt.image.ImageObserver;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new GamePane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class GamePane extends JPanel {\n\n        private Tank tank;\n        private Point mousePoint;\n\n        private List&lt;Projectile&gt; projectiles = new ArrayList&lt;&gt;(8);\n\n        public GamePane() throws IOException {\n            tank = new Tank();\n            addMouseMotionListener(new MouseAdapter() {\n                @Override\n                public void mouseMoved(MouseEvent e) {\n                    mousePoint = e.getPoint();\n                }\n            });\n            addMouseListener(new MouseAdapter() {\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    int worldMidX = tank.getX();\n                    int worldMidY = tank.getY();\n                    Point2D fromPoint = tank.getBusinessEndOfBarrel();\n                    double outOfViewRadius = Math.max(getWidth(), getHeight()) * 2d;\n                    Point2D toPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, outOfViewRadius, worldMidX, worldMidY);\n\n                    Projectile projectile = new Projectile(fromPoint, toPoint);\n                    projectiles.add(projectile);\n                }\n            });\n            tank.setX(200);\n            tank.setY(200);\n\n            Timer timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (mousePoint != null) {\n                        double deltaX = tank.getX() - mousePoint.x;\n                        double deltaY = tank.getY() - mousePoint.y;\n                        // Because the image is pointing up, we need to offset\n                        // the rotation by 90 for the API\n                        double rotation = Math.toDegrees(Math.atan2(deltaY, deltaX) - Math.toRadians(90));\n                        tank.setTurretAngle(rotation);\n                    }\n\n                    List&lt;Projectile&gt; outOfScopeProjectiles = new ArrayList&lt;&gt;(8);\n                    Rectangle visibleBounds = new Rectangle(0, 0, getWidth(), getHeight());\n                    for (Projectile projectile : projectiles) {\n                        projectile.tick();\n                        Point2D current = projectile.getLocation();\n                        if (!visibleBounds.contains(current)) {\n                            outOfScopeProjectiles.add(projectile);\n                        }\n                    }\n                    projectiles.removeAll(outOfScopeProjectiles);\n\n                    repaint();\n                }\n            });\n            timer.start();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(400, 400);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            tank.paint(g2d, this);\n            // I don't trust the tanks paint process ;)\n            g2d.dispose();\n            g2d = (Graphics2D) g.create();\n\n            // This is all debug\n            if (mousePoint != null) {\n                // The radius around the tank based on the mouse's current location\n                double radius = Point2D.distance(tank.getX(), tank.getY(), mousePoint.x, mousePoint.y);\n                g2d.setColor(Color.MAGENTA);\n                g2d.draw(new Ellipse2D.Double(\n                        tank.getX() - radius,\n                        tank.getY() - radius,\n                        radius * 2,\n                        radius * 2));\n\n                // From point, base the turrets current angle\n                Point2D fromPoint = tank.getBusinessEndOfBarrel();\n\n                // Mid point of the tank in the world\n                int worldMidX = tank.getX();\n                int worldMidY = tank.getY();\n                // The point on the circle where the mouse is, based on the turrents current angle\n                // which the diection the turret is pointing\n                Point2D toPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, radius, worldMidX, worldMidY);\n\n                // The &quot;out of view&quot; radius, this represents the &quot;end point&quot; for our projectile, because, it's easier \n                // to calculate\n                double outOfViewRadius = Math.max(getWidth(), getHeight()) * 2d;\n                Point2D outOfViewToPoint = Util.getPointOnCircle(tank.getTurretAngle(), -90, outOfViewRadius, getWidth() / 2, getHeight() / 2);\n                g2d.setColor(Color.CYAN);\n                // The projectiles path\n                g2d.draw(new Line2D.Double(fromPoint, outOfViewToPoint));\n\n                // A line from the barrel to the mouse point\n                g2d.setColor(Color.BLUE);\n                g2d.draw(new Line2D.Double(fromPoint, toPoint));\n            }\n            g2d.setColor(Color.RED);\n            for (Projectile projectile : projectiles) {\n                Point2D current = projectile.getLocation();\n                g2d.fill(new Ellipse2D.Double(current.getX() - 2, current.getY() - 2, 4, 4));\n                // &gt;&gt;&gt; DEBUG\n                g2d.draw(new Line2D.Double(projectile.getFrom(), projectile.getTo()));\n                // &lt;&lt; DEBUG\n            }\n            g2d.dispose();\n        }\n\n    }\n\n    public class Util {\n        public static Point2D getPointOnCircle(double degress, double offset, double radius) {\n            double rads = Math.toRadians(degress + offset); // 0 becomes the top\n\n            // Calculate the outter point of the line\n            double xPosy = Math.cos(rads) * radius;\n            double yPosy = Math.sin(rads) * radius;\n\n            return new Point2D.Double(xPosy, yPosy);\n        }\n\n        public static Point2D getPointOnCircle(double degress, double offset, double radius, double centerX, double centerY) {\n            Point2D poc = getPointOnCircle(degress, offset, radius);\n            return new Point2D.Double(poc.getX() + centerX, poc.getY() + centerY);\n        }\n    }\n\n    public class Projectile {\n        private Point2D from;\n        private Point2D to;\n\n        private Point2D current;\n\n        private long lastUpdate = 0;\n\n        private double deltaX;\n        private double deltaY;\n\n        public Projectile(Point2D from, Point2D to) {\n            this.from = from;\n            this.to = to;\n            current = new Point2D.Double(from.getX(), from.getY());\n\n            double deltaX = from.getX() - to.getX();\n            double deltaY = from.getY() - to.getY();\n            double angle = Math.atan2(deltaY, deltaX) + Math.toRadians(180);\n\n            this.deltaY = Math.sin(angle) * 100;\n            this.deltaX = Math.cos(angle) * 100;\n            lastUpdate = System.currentTimeMillis();\n        }\n\n        public Point2D getFrom() {\n            return from;\n        }\n\n        public Point2D getTo() {\n            return to;\n        }\n\n        public Point2D getLocation() {\n            return current;\n        }\n\n        public void tick() {\n            long elapsedTime = System.currentTimeMillis() - lastUpdate;\n            lastUpdate = System.currentTimeMillis();\n\n            double x = current.getX();\n            double y = current.getY();\n\n            x += deltaX * (elapsedTime / 1000d);\n            y += deltaY * (elapsedTime / 1000d);\n\n            current.setLocation(x, y);\n        }\n\n    }\n\n    public class Tank {\n        private BufferedImage body;\n        private BufferedImage turret;\n\n        private int x;\n        private int y;\n\n        private double bodyAngle = 0;\n        private double turretAngle = 0;\n\n        private int width;\n        private int height;\n\n        private int midX;\n        private int midY;\n\n        public Tank() throws IOException {\n            body = ImageIO.read(getClass().getResource(&quot;/images/TankBody.png&quot;));\n            turret = ImageIO.read(getClass().getResource(&quot;/images/TankTurret.png&quot;));\n\n            width = body.getWidth();\n            height = body.getHeight();\n\n            midX = width / 2;\n            midY = height / 2;\n        }\n\n        public int getX() {\n            return x;\n        }\n\n        public int getY() {\n            return y;\n        }\n\n        public void setX(int x) {\n            this.x = x;\n        }\n\n        public void setY(int y) {\n            this.y = y;\n        }\n\n        public double getBodyAngle() {\n            return bodyAngle;\n        }\n\n        public double getTurretAngle() {\n            return turretAngle;\n        }\n\n        public void setBodyAngle(double bodyAngle) {\n            this.bodyAngle = bodyAngle;\n        }\n\n        public void setTurretAngle(double turretAngle) {\n            this.turretAngle = turretAngle;\n        }\n\n        // This represents the &quot;unrotated&quot; width\n        public int getWidth() {\n            return width;\n        }\n\n        // This represents the &quot;unrotated&quot; height\n        public int getHeight() {\n            return height;\n        }\n\n        protected int getMidX() {\n            return midX;\n        }\n\n        protected int getMidY() {\n            return midY;\n        }\n\n        protected BufferedImage getBody() {\n            return body;\n        }\n\n        protected BufferedImage getTurret() {\n            return turret;\n        }\n\n        public Point2D getBusinessEndOfBarrel() {\n            // I've deliberatly set up the images to be the same size, so this\n            // can be made easier.  If your turren is a different size/position\n            // then you will need calculate this yourself\n\n            // Also, we're calculating this in &quot;world&quot; space\n            int centerX = getX();\n            int centerY = getY();\n            return Util.getPointOnCircle(getTurretAngle(), -90, Math.max(getWidth(), getHeight()) / 2, centerX, centerY);\n        }\n\n        public void paint(Graphics2D master, ImageObserver observer) {\n            Graphics2D g2d = (Graphics2D) master.create();\n            g2d.translate(getX() - getMidX(), getY() - getMidY());\n\n            g2d.setColor(Color.RED);\n            g2d.drawOval(0, 0, getWidth(), getHeight());\n\n            Graphics2D bodyG = (Graphics2D) g2d.create();\n            bodyG.rotate(Math.toRadians(getBodyAngle()), getMidX(), getMidY());\n            // &gt;&gt;&gt; Debug\n            bodyG.setColor(Color.ORANGE.darker());\n            bodyG.drawRect(0, 0, 64, 64);\n            // &lt;&lt;&lt; Debug\n            bodyG.drawImage(getBody(), 0, 0, observer);\n            bodyG.dispose();\n\n            Graphics2D turrtG = (Graphics2D) g2d.create();\n            turrtG.rotate(Math.toRadians(getTurretAngle()), getMidX(), getMidY());\n            // &gt;&gt;&gt; Debug\n            turrtG.setColor(Color.GREEN.darker());\n            // I mesured the turrent size in a image editor\n            // The acutal image size is the same as the body\n            // in order to make the workflow simpler\n            turrtG.drawRect((getWidth() - 20) / 2, 0, 20, 44);\n            // &lt;&lt;&lt; Debug\n            turrtG.drawImage(getTurret(), 0, 0, observer);\n            turrtG.dispose();\n\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25409182,"reputation":1,"user_id":19217345,"display_name":"Anthony"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1653723956,"accepted_answer_id":72412859,"answer_count":1,"score":0,"last_activity_date":1667940290,"creation_date":1653692015,"question_id":72411743,"body_markdown":"I have a tank game where you rotate via A/D keys and move forward/backward with W/S. The turret follows the mouse cursor on the screen. I am attempting to get shooting to work when I click. I get the initial degree of the turret rotation on click, as well as the point at the end of the turret. I set `isShooting()` to check if I am currently shooting at the given moment, and it is set to `true` on click. I use `shotFired()` also set to true on click, to tell whether there is a shot on the screen.\r\n\r\nI want to have the bullet moving along a straight line with a give slope every time I click, from the end of the barrel to off the screen.\r\n\r\nCurrently the bullet moves in the wrong directions and is influenced by movement of the turret. I have been working to find the issue and cannot find it.\r\n\r\n    public void update() {\r\n        playerTank.setCenterTurret(new Point2D.Double(playerTank.xPos() + 67, playerTank.yPos() + 125));\r\n        playerTank.setEndTurret(new Point2D.Double(playerTank.xPos() + ((Math.sin(Math.toRadians(playerTank.getTurretDegree())))) + 63, playerTank.yPos() + ((Math.cos(Math.toRadians(playerTank.getTurretDegree())))) - 25));\r\n        playerTank.setCenterBase(new Point2D.Double(playerTank.xPos() + (playerTank_PNG_WIDTH / 2), playerTank.yPos() + (playerTank_PNG_HEIGHT / 2)));\r\n\r\n        mouseLoc = MouseInfo.getPointerInfo().getLocation();\r\n        SwingUtilities.convertPointFromScreen(mouseLoc, this);\r\n\r\n        mouseLocX = (int) mouseLoc.getX();\r\n        mouseLocY = (int) mouseLoc.getY();\r\n\r\n        mouseDistX = mouseLocX - playerTank.getCenterTurret().getX();\r\n        mouseDistY = mouseLocY - playerTank.getCenterTurret().getY();\r\n\r\n        mouseDegree = angleInRelation(mouseLoc, playerTank.getCenterTurret());\r\n\r\n        if(moveUp) {\r\n            playerTank.setLocation(playerTank.xPos() + (MOVEMENT_SPEED * Math.sin(Math.toRadians(playerTank.getBaseDegree()))), playerTank.yPos() - MOVEMENT_SPEED * Math.cos(Math.toRadians(playerTank.getBaseDegree())));\r\n        }\r\n        if(moveDown) {\r\n            playerTank.setLocation(playerTank.xPos() - (MOVEMENT_SPEED * Math.sin(Math.toRadians(playerTank.getBaseDegree()))), playerTank.yPos() + MOVEMENT_SPEED * Math.cos(Math.toRadians(playerTank.getBaseDegree())));\r\n        }\r\n        if(rotateLeft &amp;&amp; playerTank.xPos() &gt;= 0) {\r\n            playerTank.setBaseDegree(playerTank.getBaseDegree() - 5);\r\n        }\r\n        if(rotateRight &amp;&amp; playerTank.xPos() + playerTank.getWidth() &lt;= FRAME_WIDTH) {\r\n            playerTank.setBaseDegree(playerTank.getBaseDegree() + 5);\r\n        }\r\n\r\n        mouseDegree -= playerTank.getBaseDegree();\r\n\r\n        this.setBackground(Color.white);\r\n        repaint();\r\n    }\r\n\r\n    @Override\r\n    public void paint(Graphics g) {\r\n        this.setBackground(Color.white);\r\n        Graphics2D g2D = (Graphics2D) g;\r\n        g2D.setBackground(Color.white);\r\n        g2D.setColor(Color.white);\r\n\r\n        g2D.fillRect(0, 0, FRAME_WIDTH, FRAME_HEIGHT);\r\n\r\n        paintBase(g2D);\r\n\r\n        playerTank.setTurretDegree(mouseDegree);\r\n        g2D.rotate(Math.toRadians(playerTank.getTurretDegree()), playerTank.xPos() + 67, playerTank.yPos() + 125);\r\n        paintTurret(g2D);\r\n\r\n        paintBullet(g2D);\r\n    }\r\n\r\n    public void paintBullet(Graphics2D g2D) {\r\n        g2D.setColor(Color.black);\r\n\r\n        if(playerTank.isShooting()) {\r\n            playerTank.setBulletPos(playerTank.getEndTurret());\r\n            g2D.fillRect((int) playerTank.getEndTurret().getX(), (int) playerTank.getEndTurret().getY(), 8, 18);\r\n            playerTank.setShooting(false);\r\n        }\r\n        if (playerTank.shotFired()) {\r\n            double newX = (BULLET_SPEED * (Math.sin(Math.toRadians(playerTank.getInitialTurretDegree()))));\r\n            double newY = (BULLET_SPEED * (Math.cos(Math.toRadians(playerTank.getInitialTurretDegree()))));\r\n            playerTank.setBulletPos(playerTank.getBulletX() + newX, playerTank.getBulletY() - newY);\r\n            g2D.fillRect((int) playerTank.getBulletX(), (int) playerTank.getBulletY(), 8, 18);\r\n\r\n            if((playerTank.getBulletX() &gt; FRAME_WIDTH || playerTank.getBulletY() &gt; FRAME_HEIGHT) || (playerTank.getBulletX() &lt; 0 || playerTank.getBulletY() &lt; 0)) {\r\n                playerTank.setShotFired(false);\r\n            }\r\n        }\r\n\r\nThank you so much. ","title":"How to move paint graphics along slope?","body":"<p>I have a tank game where you rotate via A/D keys and move forward/backward with W/S. The turret follows the mouse cursor on the screen. I am attempting to get shooting to work when I click. I get the initial degree of the turret rotation on click, as well as the point at the end of the turret. I set <code>isShooting()</code> to check if I am currently shooting at the given moment, and it is set to <code>true</code> on click. I use <code>shotFired()</code> also set to true on click, to tell whether there is a shot on the screen.</p>\n<p>I want to have the bullet moving along a straight line with a give slope every time I click, from the end of the barrel to off the screen.</p>\n<p>Currently the bullet moves in the wrong directions and is influenced by movement of the turret. I have been working to find the issue and cannot find it.</p>\n<pre><code>public void update() {\n    playerTank.setCenterTurret(new Point2D.Double(playerTank.xPos() + 67, playerTank.yPos() + 125));\n    playerTank.setEndTurret(new Point2D.Double(playerTank.xPos() + ((Math.sin(Math.toRadians(playerTank.getTurretDegree())))) + 63, playerTank.yPos() + ((Math.cos(Math.toRadians(playerTank.getTurretDegree())))) - 25));\n    playerTank.setCenterBase(new Point2D.Double(playerTank.xPos() + (playerTank_PNG_WIDTH / 2), playerTank.yPos() + (playerTank_PNG_HEIGHT / 2)));\n\n    mouseLoc = MouseInfo.getPointerInfo().getLocation();\n    SwingUtilities.convertPointFromScreen(mouseLoc, this);\n\n    mouseLocX = (int) mouseLoc.getX();\n    mouseLocY = (int) mouseLoc.getY();\n\n    mouseDistX = mouseLocX - playerTank.getCenterTurret().getX();\n    mouseDistY = mouseLocY - playerTank.getCenterTurret().getY();\n\n    mouseDegree = angleInRelation(mouseLoc, playerTank.getCenterTurret());\n\n    if(moveUp) {\n        playerTank.setLocation(playerTank.xPos() + (MOVEMENT_SPEED * Math.sin(Math.toRadians(playerTank.getBaseDegree()))), playerTank.yPos() - MOVEMENT_SPEED * Math.cos(Math.toRadians(playerTank.getBaseDegree())));\n    }\n    if(moveDown) {\n        playerTank.setLocation(playerTank.xPos() - (MOVEMENT_SPEED * Math.sin(Math.toRadians(playerTank.getBaseDegree()))), playerTank.yPos() + MOVEMENT_SPEED * Math.cos(Math.toRadians(playerTank.getBaseDegree())));\n    }\n    if(rotateLeft &amp;&amp; playerTank.xPos() &gt;= 0) {\n        playerTank.setBaseDegree(playerTank.getBaseDegree() - 5);\n    }\n    if(rotateRight &amp;&amp; playerTank.xPos() + playerTank.getWidth() &lt;= FRAME_WIDTH) {\n        playerTank.setBaseDegree(playerTank.getBaseDegree() + 5);\n    }\n\n    mouseDegree -= playerTank.getBaseDegree();\n\n    this.setBackground(Color.white);\n    repaint();\n}\n\n@Override\npublic void paint(Graphics g) {\n    this.setBackground(Color.white);\n    Graphics2D g2D = (Graphics2D) g;\n    g2D.setBackground(Color.white);\n    g2D.setColor(Color.white);\n\n    g2D.fillRect(0, 0, FRAME_WIDTH, FRAME_HEIGHT);\n\n    paintBase(g2D);\n\n    playerTank.setTurretDegree(mouseDegree);\n    g2D.rotate(Math.toRadians(playerTank.getTurretDegree()), playerTank.xPos() + 67, playerTank.yPos() + 125);\n    paintTurret(g2D);\n\n    paintBullet(g2D);\n}\n\npublic void paintBullet(Graphics2D g2D) {\n    g2D.setColor(Color.black);\n\n    if(playerTank.isShooting()) {\n        playerTank.setBulletPos(playerTank.getEndTurret());\n        g2D.fillRect((int) playerTank.getEndTurret().getX(), (int) playerTank.getEndTurret().getY(), 8, 18);\n        playerTank.setShooting(false);\n    }\n    if (playerTank.shotFired()) {\n        double newX = (BULLET_SPEED * (Math.sin(Math.toRadians(playerTank.getInitialTurretDegree()))));\n        double newY = (BULLET_SPEED * (Math.cos(Math.toRadians(playerTank.getInitialTurretDegree()))));\n        playerTank.setBulletPos(playerTank.getBulletX() + newX, playerTank.getBulletY() - newY);\n        g2D.fillRect((int) playerTank.getBulletX(), (int) playerTank.getBulletY(), 8, 18);\n\n        if((playerTank.getBulletX() &gt; FRAME_WIDTH || playerTank.getBulletY() &gt; FRAME_HEIGHT) || (playerTank.getBulletX() &lt; 0 || playerTank.getBulletY() &lt; 0)) {\n            playerTank.setShotFired(false);\n        }\n    }\n</code></pre>\n<p>Thank you so much.</p>\n"},{"tags":["java","sql","database","hibernate","hql"],"answers":[{"tags":[],"owner":{"account_id":91954,"reputation":2671,"user_id":252243,"display_name":"Sean Carroll"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1376806452,"creation_date":1376806452,"answer_id":18296258,"question_id":18296227,"body_markdown":"There is a feature request still open for this https://hibernate.atlassian.net/browse/HHH-1050. Also take a look at https://stackoverflow.com/questions/201023/hibernate-union-alternatives","title":"Does Hibernate support UNION ALL?","body":"<p>There is a feature request still open for this <a href=\"https://hibernate.atlassian.net/browse/HHH-1050\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-1050</a>. Also take a look at <a href=\"https://stackoverflow.com/questions/201023/hibernate-union-alternatives\">Hibernate Union alternatives</a></p>\n"},{"tags":[],"owner":{"account_id":4464116,"reputation":29,"user_id":3632200,"display_name":"Lanmaster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419004669,"creation_date":1419004669,"answer_id":27569569,"question_id":18296227,"body_markdown":"would like to share, which in my case, I found a situation that skirted this situation.\r\nThe only rule here is to have the same type, in this case String, corresponding to return the list, could add as many tables you want:\r\n    \r\n\tpublic List&lt;String&gt; findByCPForCNPJ(String query){\r\n\t\tTypedQuery&lt;String&gt; ccpf = manager.createQuery(&quot;select cpf from PessoaFisica where cpf like :pCpf&quot;, String.class);\r\n\t\tccpf.setParameter(&quot;pCpf&quot;, &quot;%&quot; + query + &quot;%&quot;);\r\n\t\tList&lt;String&gt; lista1 = ccpf.getResultList();\r\n\r\n\t\tTypedQuery&lt;String&gt; ccnpj = manager.createQuery(&quot;select cnpj from PessoaJuridica where cnpj like :pCnpj&quot;, String.class);\r\n\t\tccnpj.setParameter(&quot;pCnpj&quot;, &quot;%&quot; + query + &quot;%&quot;);\r\n\t\t\r\n\t\tlista1.addAll(ccnpj.getResultList());\r\n\t\treturn lista1;\r\n\t}\r\n\r\nI hope I have contributed a bit, good luck to all...","title":"Does Hibernate support UNION ALL?","body":"<p>would like to share, which in my case, I found a situation that skirted this situation.\nThe only rule here is to have the same type, in this case String, corresponding to return the list, could add as many tables you want:</p>\n\n<pre><code>public List&lt;String&gt; findByCPForCNPJ(String query){\n    TypedQuery&lt;String&gt; ccpf = manager.createQuery(\"select cpf from PessoaFisica where cpf like :pCpf\", String.class);\n    ccpf.setParameter(\"pCpf\", \"%\" + query + \"%\");\n    List&lt;String&gt; lista1 = ccpf.getResultList();\n\n    TypedQuery&lt;String&gt; ccnpj = manager.createQuery(\"select cnpj from PessoaJuridica where cnpj like :pCnpj\", String.class);\n    ccnpj.setParameter(\"pCnpj\", \"%\" + query + \"%\");\n\n    lista1.addAll(ccnpj.getResultList());\n    return lista1;\n}\n</code></pre>\n\n<p>I hope I have contributed a bit, good luck to all...</p>\n"},{"tags":[],"owner":{"account_id":8945558,"reputation":249,"user_id":6673169,"display_name":"Andriy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667939735,"creation_date":1667919216,"answer_id":74362741,"question_id":18296227,"body_markdown":"Starting from Hibernate 6, UNION ALL is supported. For Postgres, in particular.\r\n\r\n\r\n```Java\r\nimport com.example.domain.*;\r\nimport jakarta.persistence.EntityManager;\r\nimport jakarta.persistence.TypedQuery;\r\nimport jakarta.persistence.criteria.*;\r\nimport org.hibernate.query.criteria.JpaCriteriaQuery;\r\nimport org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\n@Repository\r\npublic class UnionAllJpaRepository {\r\n\r\n    @Autowired\r\n    private EntityManager em;\r\n\r\n    List&lt;UnionItem&gt; find() {\r\n        CriteriaBuilder builder = em.getCriteriaBuilder();\r\n        CriteriaQuery&lt;UnionItem&gt; queryUser = builder.createQuery(UnionItem.class);\r\n        CriteriaQuery&lt;UnionItem&gt; queryCompany = builder.createQuery(UnionItem.class);\r\n\r\n\r\n        {\r\n\r\n            Root&lt;User&gt; rootUser = queryUser.from(User.class);\r\n            queryUser\r\n                    .select(\r\n                            builder.construct(\r\n                                    UnionItem.class,\r\n                                    rootUser.get(User_.ID),\r\n                            )\r\n                    );\r\n        }\r\n\r\n        {\r\n            Root&lt;Company&gt; rootCompany = queryCompany.from(Company.class);\r\n            queryC\r\n                    .select(\r\n                            builder.construct(\r\n                                    UnionItem.class,\r\n                                    rootC.get(Company_.ID)\r\n                            )\r\n                    );\r\n        }\r\n\r\n        JpaCriteriaQuery&lt;UnionItem&gt; unionAllJpaCriteriaQuery = ((SqmCriteriaNodeBuilder) builder).unionAll(\r\n                queryUser,\r\n                queryCompany\r\n        );\r\n\r\n        TypedQuery&lt;UnionItem&gt; resultQuery = em.createQuery(unionAllJpaCriteriaQuery);\r\n\r\n\r\n        return resultQuery.getResultList();\r\n    }\r\n\r\n\r\n    public record UnionItem(\r\n            Long id\r\n    ) {\r\n    }\r\n\r\n}\r\n\r\n```","title":"Does Hibernate support UNION ALL?","body":"<p>Starting from Hibernate 6, UNION ALL is supported. For Postgres, in particular.</p>\n<pre><code>import com.example.domain.*;\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.TypedQuery;\nimport jakarta.persistence.criteria.*;\nimport org.hibernate.query.criteria.JpaCriteriaQuery;\nimport org.hibernate.query.sqm.internal.SqmCriteriaNodeBuilder;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@Repository\npublic class UnionAllJpaRepository {\n\n    @Autowired\n    private EntityManager em;\n\n    List&lt;UnionItem&gt; find() {\n        CriteriaBuilder builder = em.getCriteriaBuilder();\n        CriteriaQuery&lt;UnionItem&gt; queryUser = builder.createQuery(UnionItem.class);\n        CriteriaQuery&lt;UnionItem&gt; queryCompany = builder.createQuery(UnionItem.class);\n\n\n        {\n\n            Root&lt;User&gt; rootUser = queryUser.from(User.class);\n            queryUser\n                    .select(\n                            builder.construct(\n                                    UnionItem.class,\n                                    rootUser.get(User_.ID),\n                            )\n                    );\n        }\n\n        {\n            Root&lt;Company&gt; rootCompany = queryCompany.from(Company.class);\n            queryC\n                    .select(\n                            builder.construct(\n                                    UnionItem.class,\n                                    rootC.get(Company_.ID)\n                            )\n                    );\n        }\n\n        JpaCriteriaQuery&lt;UnionItem&gt; unionAllJpaCriteriaQuery = ((SqmCriteriaNodeBuilder) builder).unionAll(\n                queryUser,\n                queryCompany\n        );\n\n        TypedQuery&lt;UnionItem&gt; resultQuery = em.createQuery(unionAllJpaCriteriaQuery);\n\n\n        return resultQuery.getResultList();\n    }\n\n\n    public record UnionItem(\n            Long id\n    ) {\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":1875769,"reputation":1335,"user_id":1697017,"accept_rate":53,"display_name":"Brady Zhu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35662,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1667939735,"creation_date":1376806033,"question_id":18296227,"body_markdown":"I&#39;m a partial UI developer, right now I need to turn into Hibernate development. Today I occurred a problem in HQL when I&#39;m trying to use UNION ALL, here is the HQL:\r\n\r\n    SELECT COUNT(DISTINCT users.userId) AS totalSize FROM (SELECT DISTINCT \r\n    d1.sponsor.id AS userId FROM Dating d1 WHERE d1.invitee.id = ? UNION ALL \r\n    SELECT DISTINCT d2.invitee.id AS userId FROM Dating d2 WHERE d2.sponsor.id = ?) \r\n    AS users \r\n\r\nIt shows error like this:\r\n\r\n    org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: ( near line 1, column 55\r\n\r\nAnd then I tried translate this HQL to raw SQL:\r\n\r\n    SELECT COUNT(DISTINCT users.userId) AS totalSize FROM (SELECT DISTINCT \r\n    d1.sponsorId AS userId FROM mmy_dating d1 WHERE d1.inviteeId = 6 UNION \r\n    ALL SELECT DISTINCT d2.inviteeId AS userId FROM mmy_dating d2 WHERE \r\n    d2.sponsorId = 6) AS users;\r\n\r\nIt normally shows the correct result, so I was thinking if Hibernate doesn&#39;t support UNION ALL syntax?\r\n\r\nThanks in advance.","title":"Does Hibernate support UNION ALL?","body":"<p>I'm a partial UI developer, right now I need to turn into Hibernate development. Today I occurred a problem in HQL when I'm trying to use UNION ALL, here is the HQL:</p>\n\n<pre><code>SELECT COUNT(DISTINCT users.userId) AS totalSize FROM (SELECT DISTINCT \nd1.sponsor.id AS userId FROM Dating d1 WHERE d1.invitee.id = ? UNION ALL \nSELECT DISTINCT d2.invitee.id AS userId FROM Dating d2 WHERE d2.sponsor.id = ?) \nAS users \n</code></pre>\n\n<p>It shows error like this:</p>\n\n<pre><code>org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected token: ( near line 1, column 55\n</code></pre>\n\n<p>And then I tried translate this HQL to raw SQL:</p>\n\n<pre><code>SELECT COUNT(DISTINCT users.userId) AS totalSize FROM (SELECT DISTINCT \nd1.sponsorId AS userId FROM mmy_dating d1 WHERE d1.inviteeId = 6 UNION \nALL SELECT DISTINCT d2.inviteeId AS userId FROM mmy_dating d2 WHERE \nd2.sponsorId = 6) AS users;\n</code></pre>\n\n<p>It normally shows the correct result, so I was thinking if Hibernate doesn't support UNION ALL syntax?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","apache-kafka","reactor-kafka"],"comments":[{"owner":{"account_id":4282200,"reputation":1648,"user_id":4203773,"display_name":"Paweł Szymczyk"},"score":0,"creation_date":1667908756,"post_id":74356677,"comment_id":131275220,"body_markdown":"Would you like to have more than one instance active within consumer group?","body":"Would you like to have more than one instance active within consumer group?"},{"owner":{"account_id":13774827,"reputation":295,"user_id":9941424,"display_name":"Rico Sancho Abarro"},"score":0,"creation_date":1667912543,"post_id":74356677,"comment_id":131276622,"body_markdown":"do you mean one consumer instance? the default implementation is for us to have one instance of consumer listen to a topic with 1 partition but there will be some instance where we will have multiple consumer in a single consumer group with multiple partitions (we will do it as 1 consumer per 1 partition)","body":"do you mean one consumer instance? the default implementation is for us to have one instance of consumer listen to a topic with 1 partition but there will be some instance where we will have multiple consumer in a single consumer group with multiple partitions (we will do it as 1 consumer per 1 partition)"},{"owner":{"account_id":4282200,"reputation":1648,"user_id":4203773,"display_name":"Paweł Szymczyk"},"score":0,"creation_date":1667919314,"post_id":74356677,"comment_id":131279523,"body_markdown":"Imho your code snippet is ok, you just need to add two things:\n1. store in some singleton last offsets of topic and partition during consumer assignment, handle it in `addAssignListener` implementation.\n2. then just invoke `close()` on consumer when  you process offset from point one.\nRemember that it wouldn&#39;t be so simple if you want to process more than one partition within single consumer :(","body":"Imho your code snippet is ok, you just need to add two things: 1. store in some singleton last offsets of topic and partition during consumer assignment, handle it in <code>addAssignListener</code> implementation. 2. then just invoke <code>close()</code> on consumer when  you process offset from point one. Remember that it wouldn&#39;t be so simple if you want to process more than one partition within single consumer :("},{"owner":{"account_id":4282200,"reputation":1648,"user_id":4203773,"display_name":"Paweł Szymczyk"},"score":0,"creation_date":1667919936,"post_id":74356677,"comment_id":131279839,"body_markdown":"I would also consider resign from Kafka auto partition assignment feature and set subscription using manual assignment to the specified partitions (using assignment(Collection&lt;org.apache.kafka.common.TopicPartition&gt; partitions) method), then seek to the beginning and then finally start consuming messages.","body":"I would also consider resign from Kafka auto partition assignment feature and set subscription using manual assignment to the specified partitions (using assignment(Collection&lt;org.apache.kafka.common.TopicPartition&zwnj;&#8203;&gt; partitions) method), then seek to the beginning and then finally start consuming messages."},{"owner":{"account_id":13774827,"reputation":295,"user_id":9941424,"display_name":"Rico Sancho Abarro"},"score":0,"creation_date":1667922824,"post_id":74356677,"comment_id":131281077,"body_markdown":"what method should I use to get the last message offset in the addAssignListener? I can only see viable option is the position e.g. element.position(); \n\nbased on this https://projectreactor.io/docs/kafka/release/api/reactor/kafka/receiver/ReceiverPartition.html it Returns the offset of the next record that will be fetched from this topic partition.","body":"what method should I use to get the last message offset in the addAssignListener? I can only see viable option is the position e.g. element.position();   based on this <a href=\"https://projectreactor.io/docs/kafka/release/api/reactor/kafka/receiver/ReceiverPartition.html\" rel=\"nofollow noreferrer\">projectreactor.io/docs/kafka/release/api/reactor/kafka/recei&zwnj;&#8203;ver/&hellip;</a> it Returns the offset of the next record that will be fetched from this topic partition."}],"answers":[{"tags":[],"owner":{"account_id":4282200,"reputation":1648,"user_id":4203773,"display_name":"Paweł Szymczyk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667938443,"creation_date":1667937140,"answer_id":74366398,"question_id":74356677,"body_markdown":"So I finally figured it out, I&#39;m not familiar with reactor so it took me a while, but the code below works as expected:\r\n\r\n```java\r\npublic Disposable consumeMessages(TopicPartition topicPartition) {\r\n        ReceiverOptions&lt;Integer, String&gt; options = receiverOptions.subscription(Collections.singleton(topicPartition.topic()))\r\n                .addAssignListener(partitions -&gt; partitions.forEach(ReceiverPartition::seekToBeginning));\r\n        KafkaReceiver&lt;Integer, String&gt; kafkaReceiver = KafkaReceiver.create(options);\r\n        return kafkaReceiver\r\n                .receive()\r\n                .flatMap(record -&gt; kafkaReceiver.doOnConsumer(consumer -&gt; consumer.endOffsets(Collections.singleton(topicPartition))).cache()\r\n                        .map(topicPartitionToLastOffset -&gt; Tuples.of(record, topicPartitionToLastOffset.get(topicPartition))))\r\n                .takeUntil(recordAndLastOffset -&gt; recordAndLastOffset.getT1().offset() &gt;= (recordAndLastOffset.getT2()-1))\r\n                .subscribe(record -&gt; {\r\n                    ReceiverOffset offset = record.getT1().receiverOffset();\r\n                    System.out.printf(&quot;Received message: topic-partition=%s offset=%d key=%d value=%s\\n&quot;,\r\n                            offset.topicPartition(),\r\n                            offset.offset(),\r\n                            record.getT1().key(),\r\n                            record.getT1().value());\r\n                    offset.acknowledge();\r\n                });\r\n    }  \r\n``` ","title":"Stop Kafka Consumer after consuming the log end offset using reactor kafka","body":"<p>So I finally figured it out, I'm not familiar with reactor so it took me a while, but the code below works as expected:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Disposable consumeMessages(TopicPartition topicPartition) {\n        ReceiverOptions&lt;Integer, String&gt; options = receiverOptions.subscription(Collections.singleton(topicPartition.topic()))\n                .addAssignListener(partitions -&gt; partitions.forEach(ReceiverPartition::seekToBeginning));\n        KafkaReceiver&lt;Integer, String&gt; kafkaReceiver = KafkaReceiver.create(options);\n        return kafkaReceiver\n                .receive()\n                .flatMap(record -&gt; kafkaReceiver.doOnConsumer(consumer -&gt; consumer.endOffsets(Collections.singleton(topicPartition))).cache()\n                        .map(topicPartitionToLastOffset -&gt; Tuples.of(record, topicPartitionToLastOffset.get(topicPartition))))\n                .takeUntil(recordAndLastOffset -&gt; recordAndLastOffset.getT1().offset() &gt;= (recordAndLastOffset.getT2()-1))\n                .subscribe(record -&gt; {\n                    ReceiverOffset offset = record.getT1().receiverOffset();\n                    System.out.printf(&quot;Received message: topic-partition=%s offset=%d key=%d value=%s\\n&quot;,\n                            offset.topicPartition(),\n                            offset.offset(),\n                            record.getT1().key(),\n                            record.getT1().value());\n                    offset.acknowledge();\n                });\n    }  \n</code></pre>\n"}],"owner":{"account_id":13774827,"reputation":295,"user_id":9941424,"display_name":"Rico Sancho Abarro"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":864,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74366398,"answer_count":1,"score":0,"last_activity_date":1667938443,"creation_date":1667890356,"question_id":74356677,"body_markdown":"I have a requirement where I will consume all message from a topic from the beginning to the latest message offset in the partition then stop the consumer from listening to the topic. I have created the following code snippet:\r\n```\r\nReceiverOptions&lt;String, byte[]&gt; receiverOptions = this.receiverOptions.subscription(Collections.singleton( topicName ) )\r\n          .addAssignListener( partitions -&gt; {\r\n              log.debug( &quot;starting to {} offset&quot;, startOffset );\r\n              partitions.forEach( element -&gt; element.seekToBeginning() \r\n          )\r\n          .addRevokeListener( partitions -&gt; log.debug( &quot;partition revoked = {}&quot;, partitions ) );\r\n\r\nFlux&lt;ReceiverRecord&lt;String, byte[]&gt;&gt; fluxKafka = KafkaReceiver.create( receiverOptions ).receive();\r\n\r\ndisposable = fluxKafka.publishOn( Schedulers.fromExecutor( scheduledExecutor ) )\r\n          .subscribe( record -&gt; {\r\n\r\n              log.debug( &quot;received record [offset = {}, message = {}, timestamp = {}]&quot;, record.offset(),\r\n                            new String( record.value() ), record.timestamp() );\r\n\r\n              T message = avroDeserializer.deserialize( record.value() );\r\n\r\n              Optional.ofNullable( onMessageHandler )\r\n                            .ifPresent( handler -&gt; handler.accept( message ) );\r\n\r\n              record.receiverOffset().acknowledge();\r\n          } );\r\n```\r\n\r\nI don&#39;t know what approach should I do.. I&#39;m thinking of getting the current partition position() but I&#39;m not sure if I should proceed with it.. ","title":"Stop Kafka Consumer after consuming the log end offset using reactor kafka","body":"<p>I have a requirement where I will consume all message from a topic from the beginning to the latest message offset in the partition then stop the consumer from listening to the topic. I have created the following code snippet:</p>\n<pre><code>ReceiverOptions&lt;String, byte[]&gt; receiverOptions = this.receiverOptions.subscription(Collections.singleton( topicName ) )\n          .addAssignListener( partitions -&gt; {\n              log.debug( &quot;starting to {} offset&quot;, startOffset );\n              partitions.forEach( element -&gt; element.seekToBeginning() \n          )\n          .addRevokeListener( partitions -&gt; log.debug( &quot;partition revoked = {}&quot;, partitions ) );\n\nFlux&lt;ReceiverRecord&lt;String, byte[]&gt;&gt; fluxKafka = KafkaReceiver.create( receiverOptions ).receive();\n\ndisposable = fluxKafka.publishOn( Schedulers.fromExecutor( scheduledExecutor ) )\n          .subscribe( record -&gt; {\n\n              log.debug( &quot;received record [offset = {}, message = {}, timestamp = {}]&quot;, record.offset(),\n                            new String( record.value() ), record.timestamp() );\n\n              T message = avroDeserializer.deserialize( record.value() );\n\n              Optional.ofNullable( onMessageHandler )\n                            .ifPresent( handler -&gt; handler.accept( message ) );\n\n              record.receiverOffset().acknowledge();\n          } );\n</code></pre>\n<p>I don't know what approach should I do.. I'm thinking of getting the current partition position() but I'm not sure if I should proceed with it..</p>\n"},{"tags":["java","opencv","image-processing"],"comments":[{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":0,"creation_date":1667950375,"post_id":74366591,"comment_id":131289617,"body_markdown":"Can you explain how strong the color change is? Because of interpolation, pixels can have minor color changes, especially at edges. You can prevent that by using NN interpolation (nearest neighbor). But if you have dramatic color changes in the whole image this is likely not your problem source.","body":"Can you explain how strong the color change is? Because of interpolation, pixels can have minor color changes, especially at edges. You can prevent that by using NN interpolation (nearest neighbor). But if you have dramatic color changes in the whole image this is likely not your problem source."},{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":0,"creation_date":1667950471,"post_id":74366591,"comment_id":131289633,"body_markdown":"Encoding an image as jpg will always decrease the image quality, because jpg is a lossy compression. Try to encode as .png to check if compression is your problem here.","body":"Encoding an image as jpg will always decrease the image quality, because jpg is a lossy compression. Try to encode as .png to check if compression is your problem here."}],"owner":{"account_id":21710806,"reputation":11,"user_id":16022458,"display_name":"Mouad_thf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667938153,"creation_date":1667938153,"question_id":74366591,"body_markdown":"hope you&#39;re doing well.\r\nActually, i&#39;m facing a problem when trying to rotate an image using ***Core.rotate*** Class of OpenCV.\r\nthe colors of the image pixels keep changing every time i click the rotation Button.\r\nCan anyone please help me fixing this problem ?\r\nThanks in advance.\r\n\r\nI&#39;ve tried to change the colors of the image using Imgproc.cvtColor but it didn&#39;t work.\r\nThis is the code : \r\n\r\n`\r\n```\r\npackage application;\r\n\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\n\r\nimport javax.imageio.ImageIO;\r\n\r\nimport org.opencv.core.Core;\r\nimport org.opencv.core.Mat;\r\nimport org.opencv.core.MatOfByte;\r\nimport org.opencv.imgcodecs.Imgcodecs;\r\n\r\nimport javafx.embed.swing.SwingFXUtils;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\n\r\npublic class SampleController {\r\n\r\n    @FXML\r\n    private ImageView myimageview;\r\n    \r\n    @FXML\r\n    private Button showimageButton, rotateButton;\r\n\r\n    @FXML\r\n    void rotateButtonClicked(ActionEvent event) throws Exception {\r\n    \tBufferedImage image = SwingFXUtils.fromFXImage(myimageview.getImage(), null);    \r\n        Mat src = BufferedImage2Mat(image);        \r\n        Core.rotate(src, src, Core.ROTATE_90_CLOCKWISE);\r\n        image = Mat2BufferedImage(src);\r\n        try {\r\n            Image converted_image = SwingFXUtils.toFXImage(image, null);\r\n            myimageview.setImage(converted_image);\r\n        }\r\n        catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n    \r\n    public Mat BufferedImage2Mat(BufferedImage image) throws IOException {\r\n\t    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n\t    ImageIO.write(image, &quot;jpg&quot;, byteArrayOutputStream);\r\n\t    byteArrayOutputStream.flush();\r\n\t    return Imgcodecs.imdecode(new MatOfByte(byteArrayOutputStream.toByteArray()), Imgcodecs.CV_LOAD_IMAGE_UNCHANGED);\r\n\t}\r\n    \r\n    static BufferedImage Mat2BufferedImage(Mat matrix)throws Exception {        \r\n        MatOfByte mob=new MatOfByte();\r\n        Imgcodecs.imencode(&quot;.jpg&quot;, matrix, mob);\r\n        byte ba[]=mob.toArray();\r\n        BufferedImage bi=ImageIO.read(new ByteArrayInputStream(ba));\r\n        return bi;\r\n    }\r\n    \r\n    @FXML\r\n    void showimageButtonClicked(ActionEvent event) {\r\n    \tImage im = new Image(&quot;file:///C:\\\\Users\\\\poste\\\\eclipse-workspace\\\\dragImage\\\\Images\\\\temp.jpg&quot;);\r\n    \tmyimageview.setImage(im);\r\n    }\r\n\r\n}\r\n\r\n```\r\n`","title":"Colors of image&#39;s pixels change when rotating image using java OpenCV","body":"<p>hope you're doing well.\nActually, i'm facing a problem when trying to rotate an image using <em><strong>Core.rotate</strong></em> Class of OpenCV.\nthe colors of the image pixels keep changing every time i click the rotation Button.\nCan anyone please help me fixing this problem ?\nThanks in advance.</p>\n<p>I've tried to change the colors of the image using Imgproc.cvtColor but it didn't work.\nThis is the code :</p>\n<p>`</p>\n<pre><code>package application;\n\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\n\nimport javax.imageio.ImageIO;\n\nimport org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.core.MatOfByte;\nimport org.opencv.imgcodecs.Imgcodecs;\n\nimport javafx.embed.swing.SwingFXUtils;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\n\npublic class SampleController {\n\n    @FXML\n    private ImageView myimageview;\n    \n    @FXML\n    private Button showimageButton, rotateButton;\n\n    @FXML\n    void rotateButtonClicked(ActionEvent event) throws Exception {\n        BufferedImage image = SwingFXUtils.fromFXImage(myimageview.getImage(), null);    \n        Mat src = BufferedImage2Mat(image);        \n        Core.rotate(src, src, Core.ROTATE_90_CLOCKWISE);\n        image = Mat2BufferedImage(src);\n        try {\n            Image converted_image = SwingFXUtils.toFXImage(image, null);\n            myimageview.setImage(converted_image);\n        }\n        catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n    \n    public Mat BufferedImage2Mat(BufferedImage image) throws IOException {\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n        ImageIO.write(image, &quot;jpg&quot;, byteArrayOutputStream);\n        byteArrayOutputStream.flush();\n        return Imgcodecs.imdecode(new MatOfByte(byteArrayOutputStream.toByteArray()), Imgcodecs.CV_LOAD_IMAGE_UNCHANGED);\n    }\n    \n    static BufferedImage Mat2BufferedImage(Mat matrix)throws Exception {        \n        MatOfByte mob=new MatOfByte();\n        Imgcodecs.imencode(&quot;.jpg&quot;, matrix, mob);\n        byte ba[]=mob.toArray();\n        BufferedImage bi=ImageIO.read(new ByteArrayInputStream(ba));\n        return bi;\n    }\n    \n    @FXML\n    void showimageButtonClicked(ActionEvent event) {\n        Image im = new Image(&quot;file:///C:\\\\Users\\\\poste\\\\eclipse-workspace\\\\dragImage\\\\Images\\\\temp.jpg&quot;);\n        myimageview.setImage(im);\n    }\n\n}\n\n</code></pre>\n<p>`</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":26500159,"reputation":1,"user_id":20137237,"display_name":"ntimo"},"score":0,"creation_date":1667938953,"post_id":74366561,"comment_id":131286737,"body_markdown":"Im not getting an outofbound exception and the leftbounds are correct (o, 15, 30...). so in the second loop it should start from 0 and count up. i think im printing it out the wrong way? or storing it the wrong way?","body":"Im not getting an outofbound exception and the leftbounds are correct (o, 15, 30...). so in the second loop it should start from 0 and count up. i think im printing it out the wrong way? or storing it the wrong way?"},{"owner":{"account_id":26500159,"reputation":1,"user_id":20137237,"display_name":"ntimo"},"score":0,"creation_date":1667939093,"post_id":74366561,"comment_id":131286779,"body_markdown":"omg yes this is right!","body":"omg yes this is right!"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1667953172,"post_id":74366561,"comment_id":131290090,"body_markdown":"Suggestion: Seeing it was resolved without an answer, delete the question.","body":"Suggestion: Seeing it was resolved without an answer, delete the question."}],"owner":{"account_id":26500159,"reputation":1,"user_id":20137237,"display_name":"ntimo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1667937993,"creation_date":1667937993,"question_id":74366561,"body_markdown":"My task is to create a multidimensional array that is seperated in n pieces from a range of min to max.\r\n\r\nSo if the range is 0 til 90 and it is devided in 6 pieces it should look like this\r\n\r\n  \r\n\r\n    int[][] array = {   {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14},\r\n                            {15, 16, 17, 18, . . ., 29},\r\n                            {. . .},\r\n                            {. . .},\r\n                            {. . .},\r\n                            {. . ., 90}\r\n                            }\r\n\r\n```\r\n\r\n    public class H {\r\n    public static void main(String[] args) {\r\n\r\n        int min = 0;\r\n        int max = 90;\r\n        int n = 6;\r\n\r\n\r\n        // 90 / 6 = 15\r\n        int elementsInBin = (max - min) / n; //15\r\n        int[][] bin = new int[n][elementsInBin];\r\n        \r\n        //n = 6\r\n        for(int i = 0; i &lt; n; i++){\r\n\r\n            int leftBound = elementsInBin * i;\r\n            int rightBound = (elementsInBin * i) + (elementsInBin-1);\r\n\r\n            int span = rightBound - leftBound;\r\n\r\n            for(int j = leftBound; j &lt; span; j++){\r\n                System.out.print(bin[i][j]);\r\n                \r\n                \r\n            }  \r\n        }  \r\n    }\r\n```\r\nso the first loop is n long because these are the rows and im defining the left and right border of the interval of the row.\r\nthe next for loop starts with the left bound 0 and with the right bound 14 and it counts up the span.\r\nthen in the new next loop the left border is at 15 and the right border is at 15 + 15 -1 so 29 and the next for-loop should count from the new left border (15) to 29.\r\n\r\nbut my output is always \r\n\r\n00000000000000\r\n\r\nim not getting what im doing wrong.\r\n   \r\n\r\n\r\n","title":"Why does my for-loop not work with set binterval borders?","body":"<p>My task is to create a multidimensional array that is seperated in n pieces from a range of min to max.</p>\n<p>So if the range is 0 til 90 and it is devided in 6 pieces it should look like this</p>\n<pre><code>int[][] array = {   {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14},\n                        {15, 16, 17, 18, . . ., 29},\n                        {. . .},\n                        {. . .},\n                        {. . .},\n                        {. . ., 90}\n                        }\n</code></pre>\n<pre><code>\n    public class H {\n    public static void main(String[] args) {\n\n        int min = 0;\n        int max = 90;\n        int n = 6;\n\n\n        // 90 / 6 = 15\n        int elementsInBin = (max - min) / n; //15\n        int[][] bin = new int[n][elementsInBin];\n        \n        //n = 6\n        for(int i = 0; i &lt; n; i++){\n\n            int leftBound = elementsInBin * i;\n            int rightBound = (elementsInBin * i) + (elementsInBin-1);\n\n            int span = rightBound - leftBound;\n\n            for(int j = leftBound; j &lt; span; j++){\n                System.out.print(bin[i][j]);\n                \n                \n            }  \n        }  \n    }\n</code></pre>\n<p>so the first loop is n long because these are the rows and im defining the left and right border of the interval of the row.\nthe next for loop starts with the left bound 0 and with the right bound 14 and it counts up the span.\nthen in the new next loop the left border is at 15 and the right border is at 15 + 15 -1 so 29 and the next for-loop should count from the new left border (15) to 29.</p>\n<p>but my output is always</p>\n<p>00000000000000</p>\n<p>im not getting what im doing wrong.</p>\n"},{"tags":["java","dataframe","apache-spark","partition"],"comments":[{"owner":{"account_id":26241395,"reputation":3478,"user_id":19915660,"display_name":"M_S"},"score":0,"creation_date":1667906705,"post_id":74358366,"comment_id":131274501,"body_markdown":"Do you want to get such informations at runtime in code or just to get familiar with your data after some test run?","body":"Do you want to get such informations at runtime in code or just to get familiar with your data after some test run?"},{"owner":{"account_id":13103514,"reputation":492,"user_id":9467089,"display_name":"Des0lat0r"},"score":0,"creation_date":1667909781,"post_id":74358366,"comment_id":131275588,"body_markdown":"Thank you very for your answer! I would like to print it at runtime in the console or stdout of each node.","body":"Thank you very for your answer! I would like to print it at runtime in the console or stdout of each node."},{"owner":{"account_id":13103514,"reputation":492,"user_id":9467089,"display_name":"Des0lat0r"},"score":0,"creation_date":1667936837,"post_id":74358366,"comment_id":131286084,"body_markdown":"I  used below command in the code: sp.sessionState().executePlan(df.queryExecution().logical()).optimizedPlan().stats().sizeInBytes() but it gives me a way to big number: 9223372036854775807 and if I divide that by 1600 partitions it still is a huge number.","body":"I  used below command in the code: sp.sessionState().executePlan(df.queryExecution().logical())&zwnj;&#8203;.optimizedPlan().sta&zwnj;&#8203;ts().sizeInBytes() but it gives me a way to big number: 9223372036854775807 and if I divide that by 1600 partitions it still is a huge number."},{"owner":{"account_id":26241395,"reputation":3478,"user_id":19915660,"display_name":"M_S"},"score":0,"creation_date":1667937990,"post_id":74358366,"comment_id":131286405,"body_markdown":"Maybe your dataset was not cached? I added my answer with more details, i know it does not fully answer your question but maybe it will be helpful for you","body":"Maybe your dataset was not cached? I added my answer with more details, i know it does not fully answer your question but maybe it will be helpful for you"}],"answers":[{"tags":[],"owner":{"account_id":26241395,"reputation":3478,"user_id":19915660,"display_name":"M_S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667937935,"creation_date":1667937935,"answer_id":74366549,"question_id":74358366,"body_markdown":"I dont know if there is an easy way to get exact size in byte for partition in runtime, but if you want to know this to find skew you can easily get number of records for each partition with something like this (its Scala)\r\n\r\n    df.mapPartitions(it =&gt; Iterator(it.size)).show\r\n\r\nIf your dataset is cached you get get size in bytes in your codes from statistics. Please remember, that your dataset needs to be cached and there needs to be some action between caching and reading from statistics. If you need sample action you can use something like this: input.cache.foreach(_ =&gt; ())\r\n\r\n    val bytes = spark\r\n        .sessionState\r\n        .executePlan(repartitioned.queryExecution.logical)\r\n        .optimizedPlan\r\n        .stats\r\n        .sizeInBytes\r\n\r\nSame work when you load your data from file, for example csv or json (in this case Spark is creating statistics &quot;for free&quot; during load) or when you are reading from input with compatible and accurate statistics (for example Hive table)\r\n\r\nOther options are available via SparkUI. First is as you mentioned just to cache te dataset and get the size from storage tab. Other options is to check input or shuffle write/read sizes during stage which is interesting for you. It can show you if you have some skew \r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere you can see a very clear example, this is a list of tasks (1 task = 1 partition) for stage on which i did foreach(_ =&gt; ()) on my dataset, it shows pretty well how data are organised within partitions, you can both size and number of records.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h7SE0.png","title":"Spark Java dataframe - Size of partition","body":"<p>I dont know if there is an easy way to get exact size in byte for partition in runtime, but if you want to know this to find skew you can easily get number of records for each partition with something like this (its Scala)</p>\n<pre><code>df.mapPartitions(it =&gt; Iterator(it.size)).show\n</code></pre>\n<p>If your dataset is cached you get get size in bytes in your codes from statistics. Please remember, that your dataset needs to be cached and there needs to be some action between caching and reading from statistics. If you need sample action you can use something like this: input.cache.foreach(_ =&gt; ())</p>\n<pre><code>val bytes = spark\n    .sessionState\n    .executePlan(repartitioned.queryExecution.logical)\n    .optimizedPlan\n    .stats\n    .sizeInBytes\n</code></pre>\n<p>Same work when you load your data from file, for example csv or json (in this case Spark is creating statistics &quot;for free&quot; during load) or when you are reading from input with compatible and accurate statistics (for example Hive table)</p>\n<p>Other options are available via SparkUI. First is as you mentioned just to cache te dataset and get the size from storage tab. Other options is to check input or shuffle write/read sizes during stage which is interesting for you. It can show you if you have some skew</p>\n<p><a href=\"https://i.stack.imgur.com/h7SE0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h7SE0.png\" alt=\"enter image description here\" /></a></p>\n<p>Here you can see a very clear example, this is a list of tasks (1 task = 1 partition) for stage on which i did foreach(_ =&gt; ()) on my dataset, it shows pretty well how data are organised within partitions, you can both size and number of records.</p>\n"}],"owner":{"account_id":13103514,"reputation":492,"user_id":9467089,"display_name":"Des0lat0r"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1667937935,"creation_date":1667899672,"question_id":74358366,"body_markdown":"I have a dataframe with 1600 partitions.\r\n\r\n1) How can I get the size(in mb) of each partition? \r\n2) How can I get the total size(in mb) of the dataframe? Would it be correct if I persist it and check the Storage tab of SparkUI?","title":"Spark Java dataframe - Size of partition","body":"<p>I have a dataframe with 1600 partitions.</p>\n<ol>\n<li>How can I get the size(in mb) of each partition?</li>\n<li>How can I get the total size(in mb) of the dataframe? Would it be correct if I persist it and check the Storage tab of SparkUI?</li>\n</ol>\n"},{"tags":["java","android","kotlin","httprequest","okhttp"],"answers":[{"tags":[],"owner":{"account_id":9150719,"reputation":3537,"user_id":6805392,"accept_rate":100,"display_name":"F.Mysir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1667937681,"creation_date":1667937681,"answer_id":74366503,"question_id":74366406,"body_markdown":"It looks like this it would work but I would like to know a better solution\r\n\r\n    fun fetch(completion: (InputStream?) -&gt; Unit) {\r\n        val url = &quot;http://api.labelary.com/v1/printers/8dpmm/labels/4x6/0/^xa^cfa,50^fo100,100^fdHello World^fs^xz&quot;\r\n        val labelFetch = OkHttpClient()\r\n        val request = Request.Builder()\r\n            .header(&quot;Accept&quot;, &quot;application/pdf&quot;)\r\n            .url(url)\r\n            .build()\r\n\r\n        labelFetch.newCall(request).enqueue(object : Callback {\r\n            override fun onFailure(request: Request?, e: IOException?) {\r\n            }\r\n\r\n            override fun onResponse(response: Response?) {\r\n                val pdfData = response?.body()?.byteStream()\r\n                completion(pdfData)\r\n            }\r\n        })","title":"Is the conversion from Java 11 HttpClient to okhttp right?","body":"<p>It looks like this it would work but I would like to know a better solution</p>\n<pre><code>fun fetch(completion: (InputStream?) -&gt; Unit) {\n    val url = &quot;http://api.labelary.com/v1/printers/8dpmm/labels/4x6/0/^xa^cfa,50^fo100,100^fdHello World^fs^xz&quot;\n    val labelFetch = OkHttpClient()\n    val request = Request.Builder()\n        .header(&quot;Accept&quot;, &quot;application/pdf&quot;)\n        .url(url)\n        .build()\n\n    labelFetch.newCall(request).enqueue(object : Callback {\n        override fun onFailure(request: Request?, e: IOException?) {\n        }\n\n        override fun onResponse(response: Response?) {\n            val pdfData = response?.body()?.byteStream()\n            completion(pdfData)\n        }\n    })\n</code></pre>\n"}],"owner":{"account_id":9150719,"reputation":3537,"user_id":6805392,"accept_rate":100,"display_name":"F.Mysir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74366503,"answer_count":1,"score":0,"last_activity_date":1667937681,"creation_date":1667937199,"question_id":74366406,"body_markdown":"The task I want to achieve is to get a PDF file from a POST method and show it to the user.\r\n\r\nWhat I have tried:\r\n\r\nI have a Java example that uses the Java 11 HttpClient API to send a POST request to convert a ZPL string to a PDF file from [labelary:][1]\r\n\r\n    var zpl = &quot;^xa^cfa,50^fo100,100^fdHello World^fs^xz&quot;;\r\n    \r\n    // adjust print density (8dpmm), label width (4 inches), label height (6 inches), and label index (0) as necessary\r\n    var uri = URI.create(&quot;http://api.labelary.com/v1/printers/8dpmm/labels/4x6/0/&quot;);\r\n    var request = HttpRequest.newBuilder(uri)\r\n        .header(&quot;Accept&quot;, &quot;application/pdf&quot;) // omit this line to get PNG images back\r\n        .POST(BodyPublishers.ofString(zpl))\r\n        .build();\r\n    var client = HttpClient.newHttpClient();\r\n    var response = client.send(request, BodyHandlers.ofByteArray());\r\n    var body = response.body();\r\n    \r\n    if (response.statusCode() == 200) {\r\n        var file = new File(&quot;label.pdf&quot;); // change file name for PNG images\r\n        Files.write(file.toPath(), body);\r\n    } else {\r\n        var errorMessage = new String(body, StandardCharsets.UTF_8);\r\n        System.out.println(errorMessage);\r\n    }\r\n\r\nPer my knowledge this code is not possible with Android. So I have tried it with Squareup okhttp library like follow:\r\n\r\n    fun fetch(completion: (InputStream?) -&gt; Unit) {\r\n        val url = &quot;https://api.labelary.com/v1/printers/8dpmm/labels/4x6/0/&quot;\r\n        val postBody = &quot;^xa^cfa,50^fo100,100^fdHello World^fs^xz&quot;\r\n        val text = MediaType.parse(&quot;text/plain;charset=utf-8&quot;)\r\n        val body = RequestBody.create(text, postBody)\r\n        val labelFetch = OkHttpClient()\r\n        val request = Request.Builder()\r\n            .header(&quot;Accept&quot;, &quot;application/pdf&quot;)\r\n            .url(url)\r\n            .post(body)\r\n            .build()\r\n    \r\n        labelFetch.newCall(request).enqueue(object : Callback {\r\n            override fun onFailure(request: Request?, e: IOException?) {\r\n\r\n            }\r\n    \r\n            override fun onResponse(response: Response?) {\r\n                val pdfData = response?.body()?.byteStream()\r\n                completion(pdfData)\r\n            }\r\n        })\r\n    }\r\n\r\nLater on I am getting `InputStream` and if it is not null I am showing it with a pdfViewer, but I get an error like:\r\n                                                                                                    \r\n\r\n&gt; java.io.IOException: file not in PDF format or corrupted\r\n\r\n\r\n\r\n\r\n  [1]: http://labelary.com/service.html#java","title":"Is the conversion from Java 11 HttpClient to okhttp right?","body":"<p>The task I want to achieve is to get a PDF file from a POST method and show it to the user.</p>\n<p>What I have tried:</p>\n<p>I have a Java example that uses the Java 11 HttpClient API to send a POST request to convert a ZPL string to a PDF file from <a href=\"http://labelary.com/service.html#java\" rel=\"nofollow noreferrer\">labelary:</a></p>\n<pre><code>var zpl = &quot;^xa^cfa,50^fo100,100^fdHello World^fs^xz&quot;;\n\n// adjust print density (8dpmm), label width (4 inches), label height (6 inches), and label index (0) as necessary\nvar uri = URI.create(&quot;http://api.labelary.com/v1/printers/8dpmm/labels/4x6/0/&quot;);\nvar request = HttpRequest.newBuilder(uri)\n    .header(&quot;Accept&quot;, &quot;application/pdf&quot;) // omit this line to get PNG images back\n    .POST(BodyPublishers.ofString(zpl))\n    .build();\nvar client = HttpClient.newHttpClient();\nvar response = client.send(request, BodyHandlers.ofByteArray());\nvar body = response.body();\n\nif (response.statusCode() == 200) {\n    var file = new File(&quot;label.pdf&quot;); // change file name for PNG images\n    Files.write(file.toPath(), body);\n} else {\n    var errorMessage = new String(body, StandardCharsets.UTF_8);\n    System.out.println(errorMessage);\n}\n</code></pre>\n<p>Per my knowledge this code is not possible with Android. So I have tried it with Squareup okhttp library like follow:</p>\n<pre><code>fun fetch(completion: (InputStream?) -&gt; Unit) {\n    val url = &quot;https://api.labelary.com/v1/printers/8dpmm/labels/4x6/0/&quot;\n    val postBody = &quot;^xa^cfa,50^fo100,100^fdHello World^fs^xz&quot;\n    val text = MediaType.parse(&quot;text/plain;charset=utf-8&quot;)\n    val body = RequestBody.create(text, postBody)\n    val labelFetch = OkHttpClient()\n    val request = Request.Builder()\n        .header(&quot;Accept&quot;, &quot;application/pdf&quot;)\n        .url(url)\n        .post(body)\n        .build()\n\n    labelFetch.newCall(request).enqueue(object : Callback {\n        override fun onFailure(request: Request?, e: IOException?) {\n\n        }\n\n        override fun onResponse(response: Response?) {\n            val pdfData = response?.body()?.byteStream()\n            completion(pdfData)\n        }\n    })\n}\n</code></pre>\n<p>Later on I am getting <code>InputStream</code> and if it is not null I am showing it with a pdfViewer, but I get an error like:</p>\n<blockquote>\n<p>java.io.IOException: file not in PDF format or corrupted</p>\n</blockquote>\n"},{"tags":["javascript","java","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1545032422,"creation_date":1545032422,"answer_id":53810768,"question_id":53795492,"body_markdown":"Yes you are right, the method getNewPage() was removed with the version 2.33 as part of a a huge refactoring regarding event handling.\r\n\r\nAs replacement you can use the enclosed page of the window.\r\n\r\nE.g. if you are sure that the resulting page is in the same window as your current page (has replaced your page without opening a new window), you can use\r\n\r\n    page.getEnclosingWindow().getEnclosedPage()\r\n\r\nIf your code might opend up a new window it will be more save to ask the webClient for the current window (newly opened windows are automatically marked as the current)\r\n\r\n    page.getWebClient().getCurrentWindow().getEnclosedPage()\r\n\r\nOr in your code sample you can directly use the client\r\n\r\n    webClient.getCurrentWindow().getEnclosedPage()\r\n\r\nHope that helps.","title":"HtmlUnit How to get a page after executing JavaScript","body":"<p>Yes you are right, the method getNewPage() was removed with the version 2.33 as part of a a huge refactoring regarding event handling.</p>\n\n<p>As replacement you can use the enclosed page of the window.</p>\n\n<p>E.g. if you are sure that the resulting page is in the same window as your current page (has replaced your page without opening a new window), you can use</p>\n\n<pre><code>page.getEnclosingWindow().getEnclosedPage()\n</code></pre>\n\n<p>If your code might opend up a new window it will be more save to ask the webClient for the current window (newly opened windows are automatically marked as the current)</p>\n\n<pre><code>page.getWebClient().getCurrentWindow().getEnclosedPage()\n</code></pre>\n\n<p>Or in your code sample you can directly use the client</p>\n\n<pre><code>webClient.getCurrentWindow().getEnclosedPage()\n</code></pre>\n\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":12720408,"reputation":153,"user_id":9241045,"display_name":"machinus"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656597984,"creation_date":1545035232,"answer_id":53811327,"question_id":53795492,"body_markdown":"As for me, I gave a try to the selenium browser :\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n      &lt;version&gt;3.141.59&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd I find it very handful ! I just built a driver, a js executor, an the driver is up to date on the good page as soon as the JS is runned.\r\n\r\n    driver = new ChromeDriver();\r\n    js = (JavascriptExecutor)driver;\r\n    driver.get(url);\r\n    js.executeScript(script);\r\n\r\nFour lines did the trick. I think I will stick with selenium except if there is some good reason not to?","title":"HtmlUnit How to get a page after executing JavaScript","body":"<p>As for me, I gave a try to the selenium browser :</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n  &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n  &lt;version&gt;3.141.59&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And I find it very handful ! I just built a driver, a js executor, an the driver is up to date on the good page as soon as the JS is runned.</p>\n<pre><code>driver = new ChromeDriver();\njs = (JavascriptExecutor)driver;\ndriver.get(url);\njs.executeScript(script);\n</code></pre>\n<p>Four lines did the trick. I think I will stick with selenium except if there is some good reason not to?</p>\n"}],"owner":{"account_id":12720408,"reputation":153,"user_id":9241045,"display_name":"machinus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2913,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53810768,"answer_count":2,"score":0,"last_activity_date":1667937675,"creation_date":1544894442,"question_id":53795492,"body_markdown":"I&#39;m trying to use Html Unit to run JavaScript on a webpage in order to change page.\r\n\r\nI&#39;m importing:\r\n    \r\n    import com.gargoylesoftware.htmlunit.BrowserVersion;\r\n    import com.gargoylesoftware.htmlunit.WebClient;\r\n    import com.gargoylesoftware.htmlunit.html.HtmlPage;\r\n    import com.gargoylesoftware.htmlunit.html.HtmlDivision;\r\n    import com.gargoylesoftware.htmlunit.NicelyResynchronizingAjaxController;\r\n    import com.gargoylesoftware.htmlunit.ScriptResult;\r\n\r\nand the code is something like:\r\n\r\n    String javaScriptCode = &quot;changePage(1)&quot;;\r\n    try{\r\n        webClient = new WebClient(BrowserVersion.CHROME);\r\n        webClient.getOptions().setCssEnabled(false);\r\n        webClient.getOptions().setJavaScriptEnabled(true);\r\n        page = webClient.getPage(url);\r\n        newPage = page.executeJavaScript(javaScriptCode).getNewPage();\r\n        webClient.close();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\nHowever I get the error:\r\n\r\n&gt;[Java] The method getNewPage() is undefined for the type ScriptResult [67108964]\r\n\r\nWhich is crystal clear, however it doesn&#39;t tell me which method I&#39;m supposed to use? Most of what I found on internet is based on the getNewPage method or on getPage but there may have been changes in the library...\r\n\r\nsee: https://stackoverflow.com/questions/21024176/calling-a-javascript-function-with-htmlunit\r\n\r\nI&#39;m using:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\r\n      &lt;version&gt;2.33&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"HtmlUnit How to get a page after executing JavaScript","body":"<p>I'm trying to use Html Unit to run JavaScript on a webpage in order to change page.</p>\n<p>I'm importing:</p>\n<pre><code>import com.gargoylesoftware.htmlunit.BrowserVersion;\nimport com.gargoylesoftware.htmlunit.WebClient;\nimport com.gargoylesoftware.htmlunit.html.HtmlPage;\nimport com.gargoylesoftware.htmlunit.html.HtmlDivision;\nimport com.gargoylesoftware.htmlunit.NicelyResynchronizingAjaxController;\nimport com.gargoylesoftware.htmlunit.ScriptResult;\n</code></pre>\n<p>and the code is something like:</p>\n<pre><code>String javaScriptCode = &quot;changePage(1)&quot;;\ntry{\n    webClient = new WebClient(BrowserVersion.CHROME);\n    webClient.getOptions().setCssEnabled(false);\n    webClient.getOptions().setJavaScriptEnabled(true);\n    page = webClient.getPage(url);\n    newPage = page.executeJavaScript(javaScriptCode).getNewPage();\n    webClient.close();\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>However I get the error:</p>\n<blockquote>\n<p>[Java] The method getNewPage() is undefined for the type ScriptResult [67108964]</p>\n</blockquote>\n<p>Which is crystal clear, however it doesn't tell me which method I'm supposed to use? Most of what I found on internet is based on the getNewPage method or on getPage but there may have been changes in the library...</p>\n<p>see: <a href=\"https://stackoverflow.com/questions/21024176/calling-a-javascript-function-with-htmlunit\">calling a JavaScript function with HTMLUnit</a></p>\n<p>I'm using:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;net.sourceforge.htmlunit&lt;/groupId&gt;\n  &lt;artifactId&gt;htmlunit&lt;/artifactId&gt;\n  &lt;version&gt;2.33&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1470208242,"post_id":38736692,"comment_id":64848487,"body_markdown":"You miss the manytoone relationship in employee","body":"You miss the manytoone relationship in employee"},{"owner":{"account_id":8942336,"reputation":79,"user_id":6670925,"accept_rate":75,"display_name":"KOFFEE"},"score":0,"creation_date":1470208422,"post_id":38736692,"comment_id":64848566,"body_markdown":"@Jens its already added in employee class","body":"@Jens its already added in employee class"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1470208495,"post_id":38736692,"comment_id":64848597,"body_markdown":"And where is the  joincolumn Annotation?","body":"And where is the  joincolumn Annotation?"},{"owner":{"account_id":1885070,"reputation":3672,"user_id":1704453,"accept_rate":88,"display_name":"Vipin CP"},"score":0,"creation_date":1470208644,"post_id":38736692,"comment_id":64848676,"body_markdown":"@Jens is joincolumn mandatory? By default , here `dept_id` will take as column name. am i right or wrong?","body":"@Jens is joincolumn mandatory? By default , here <code>dept_id</code> will take as column name. am i right or wrong?"},{"owner":{"account_id":8942336,"reputation":79,"user_id":6670925,"accept_rate":75,"display_name":"KOFFEE"},"score":0,"creation_date":1470208661,"post_id":38736692,"comment_id":64848690,"body_markdown":"@Jens i am new to hibernate where to use joincolumn i did&#39;nt know about it","body":"@Jens i am new to hibernate where to use joincolumn i did&#39;nt know about it"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1470208768,"post_id":38736692,"comment_id":64848732,"body_markdown":"See [here](https://en.wikibooks.org/wiki/Java_Persistence/ManyToOne) for an example.","body":"See <a href=\"https://en.wikibooks.org/wiki/Java_Persistence/ManyToOne\" rel=\"nofollow noreferrer\">here</a> for an example."}],"answers":[{"tags":[],"owner":{"account_id":1228795,"reputation":8221,"user_id":1193808,"display_name":"Subir Kumar Sao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667937268,"creation_date":1470208660,"answer_id":38736880,"question_id":38736692,"body_markdown":"The default column name for mapping is of type,\r\n`table_name + &#39;_&#39; + target_table_primary_key`. This is why it is looking for `department_dept_id`\r\n\r\n\r\n\r\nYou can specify mapping column using annotations. `@JoinColumn(name=&quot;dept_id&quot;)`.","title":"Unknown column error using hibernate OneToMany mapping","body":"<p>The default column name for mapping is of type,\n<code>table_name + '_' + target_table_primary_key</code>. This is why it is looking for <code>department_dept_id</code></p>\n<p>You can specify mapping column using annotations. <code>@JoinColumn(name=&quot;dept_id&quot;)</code>.</p>\n"},{"tags":[],"owner":{"account_id":2616549,"reputation":1922,"user_id":2265497,"accept_rate":41,"display_name":"slesh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1470209054,"creation_date":1470209054,"answer_id":38737007,"question_id":38736692,"body_markdown":"Try make so \r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;dept_id&quot;)\r\n    private Department department;","title":"Unknown column error using hibernate OneToMany mapping","body":"<p>Try make so </p>\n\n<pre><code>@ManyToOne\n@JoinColumn(name = \"dept_id\")\nprivate Department department;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525520084,"creation_date":1525520084,"answer_id":50188953,"question_id":38736692,"body_markdown":"Property-based access is the right way for using `@OneToMany` and `@ManyToOne` annotation\r\n\r\nUse `@OneToMany` like below:\r\n\r\n    private Collection&lt;Employee&gt; employees;\r\n    \r\n    @OneToMany(mappedBy=&quot;department&quot;, cascade=CascadeType.ALL, fetch=FetchType.EAGER)\r\n    public Collection&lt;Employee&gt; getEmployees() {\r\n        return employees;\r\n    }\r\n    \r\n    public void setEmployees(Collection&lt;Employee&gt; employees) {\r\n        this.employees = employees;\r\n    }\r\n\r\nAnd use `@ManyToOne` like below:\r\n\r\n    private Department department;\r\n    \r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;dept_id&quot;)\r\n    public Department getDepartment() {\r\n        return department;\r\n    }\r\n    public void setDepartment(Department department) {\r\n        this.department = department;\r\n    }\r\n\r\nAlso you need to use an empty `constructor` in your model classes, as hibernate wants it.\r\n\r\nIf you use @OnetoMany and @ManyToOne with File-based access then you will get the following error\r\n\r\n**Initial SessionFactory creation failed.org.hibernate.MappingException: Could not determine type for: java.util.List, for columns: [org.hibernate.mapping.Column(relatedResources)]**\r\n","title":"Unknown column error using hibernate OneToMany mapping","body":"<p>Property-based access is the right way for using <code>@OneToMany</code> and <code>@ManyToOne</code> annotation</p>\n\n<p>Use <code>@OneToMany</code> like below:</p>\n\n<pre><code>private Collection&lt;Employee&gt; employees;\n\n@OneToMany(mappedBy=\"department\", cascade=CascadeType.ALL, fetch=FetchType.EAGER)\npublic Collection&lt;Employee&gt; getEmployees() {\n    return employees;\n}\n\npublic void setEmployees(Collection&lt;Employee&gt; employees) {\n    this.employees = employees;\n}\n</code></pre>\n\n<p>And use <code>@ManyToOne</code> like below:</p>\n\n<pre><code>private Department department;\n\n@ManyToOne\n@JoinColumn(name = \"dept_id\")\npublic Department getDepartment() {\n    return department;\n}\npublic void setDepartment(Department department) {\n    this.department = department;\n}\n</code></pre>\n\n<p>Also you need to use an empty <code>constructor</code> in your model classes, as hibernate wants it.</p>\n\n<p>If you use @OnetoMany and @ManyToOne with File-based access then you will get the following error</p>\n\n<p><strong>Initial SessionFactory creation failed.org.hibernate.MappingException: Could not determine type for: java.util.List, for columns: [org.hibernate.mapping.Column(relatedResources)]</strong></p>\n"}],"owner":{"account_id":8942336,"reputation":79,"user_id":6670925,"accept_rate":75,"display_name":"KOFFEE"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2952,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38737007,"answer_count":3,"score":1,"last_activity_date":1667937268,"creation_date":1470208114,"question_id":38736692,"body_markdown":"I m new to hibernate and having `error Unknown column` in OneToMany mapping. I m trying to implement the one to many relationships using hibernate but having an error.\r\n\r\nHere is my Code:\r\n\r\n    Department Class:\r\n\r\n    @Entity\r\n    @Table(name=&quot;department&quot;)\r\n    public class Department {\r\n\r\n\t@Id\r\n\t@Column(name=&quot;dept_id&quot;)\r\n\tprivate int id;\r\n\t@Column(name=&quot;dept_name&quot;)\r\n\tprivate String name;\r\n\t@OneToMany(mappedBy=&quot;department&quot;, cascade=CascadeType.ALL, fetch=FetchType.EAGER)\r\n\tprivate Collection&lt;Employee&gt; employees = new ArrayList&lt;Employee&gt;();\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic Collection&lt;Employee&gt; getEmployees() {\r\n\t\treturn employees;\r\n\t}\r\n\tpublic void setEmployees(Collection&lt;Employee&gt; employees) {\r\n\t\tthis.employees = employees;\r\n\t}\r\n    }\r\n\r\nEmployee Class:\r\n\r\n    @Entity\r\n    @Table(name = &quot;employee&quot;)\r\n    public class Employee {\r\n\r\n\t@Column(name=&quot;emp_id&quot;)\r\n\t@Id\r\n\tprivate int id;\r\n\t@Column(name=&quot;emp_name&quot;)\r\n\tprivate String name;\r\n\t\r\n\t@ManyToOne\r\n\tprivate Department department;\r\n\t\r\n\t\r\n\t\r\n\tpublic Department getDepartment() {\r\n\t\treturn department;\r\n\t}\r\n\tpublic void setDepartment(Department department) {\r\n\t\tthis.department = department;\r\n\t}\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n    }\r\n\r\nEmployee Dao Class:\r\n\r\n    public class EmployeeDao {\r\n\r\n\tpublic void addEmployee(Employee emp, int id){\r\n\t\t\r\n\t\tDepartment department = new Department(); \r\n\t\t\r\n\t\t\r\n\t\tSessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\r\n\t\tSession session = sessionFactory.openSession();\r\n\t\tsession.beginTransaction();\r\n\t\t\r\n\t\tdepartment = (Department) session.get(Department.class, id);\r\n\t\temp.setDepartment(department);\r\n\t\tdepartment.getEmployees().add(emp);\r\n\t\t\r\n\t\t\r\n\t\tsession.save(emp);\r\n\t\t\r\n\t\tsession.getTransaction().commit();\r\n\t\tsession.close();\r\n\t\tsessionFactory.close();\r\n\t}\r\n    }\r\nHere is my Database :\r\n\r\n    CREATE TABLE `department` (\r\n    `dept_id` int(11) NOT NULL,\r\n    `dept_name` varchar(255) DEFAULT NULL\r\n) \r\n\r\n    CREATE TABLE `employee` (\r\n    `emp_id` int(11) NOT NULL,\r\n    `emp_name` varchar(255) DEFAULT NULL,\r\n    `dept_id` int(11) DEFAULT NULL\r\n    )\r\n\r\nStack Trace :\r\n\r\n    WARNING: #{employee.addEmployee}: org.hibernate.exception.SQLGrammarException: could not load an entity: [com.hibCollection.bean.Department#0]\r\n    javax.faces.FacesException: #{employee.addEmployee}: org.hibernate.exception.SQLGrammarException: could not load an entity: [com.hibCollection.bean.Department#0]\r\n\tat com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:118)\r\n\tat javax.faces.component.UICommand.broadcast(UICommand.java:315)\r\n\tat javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:790)\r\n\tat javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1282)\r\n\tat com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)\r\n\tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\r\n\tat com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:198)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:646)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1070)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:722)\r\n    Caused by: javax.faces.el.EvaluationException: org.hibernate.exception.SQLGrammarException: could not load an entity: [com.hibCollection.bean.Department#0]\r\n\tat javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:101)\r\n\tat com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)\r\n\t... 27 more\r\n    Caused by: org.hibernate.exception.SQLGrammarException: could not load an entity: [com.hibCollection.bean.Department#0]\r\n\tat org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)\r\n\tat org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)\r\n\tat org.hibernate.loader.Loader.loadEntity(Loader.java:2041)\r\n\tat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:86)\r\n\tat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:76)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3293)\r\n\tat org.hibernate.event.def.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:496)\r\n\tat org.hibernate.event.def.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:477)\r\n\tat org.hibernate.event.def.DefaultLoadEventListener.load(DefaultLoadEventListener.java:227)\r\n\tat org.hibernate.event.def.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:285)\r\n\tat org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:152)\r\n\tat org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:1090)\r\n\tat org.hibernate.impl.SessionImpl.get(SessionImpl.java:1005)\r\n\tat org.hibernate.impl.SessionImpl.get(SessionImpl.java:998)\r\n\tat com.hibCollection.dao.EmployeeDao.addEmployee(EmployeeDao.java:21)\r\n\tat com.hibCollection.mangedBean.EmployeeManageBean.addEmployee(EmployeeManageBean.java:29)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:601)\r\n\tat org.apache.el.parser.AstValue.invoke(AstValue.java:278)\r\n\tat org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:273)\r\n\tat com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105)\r\n\tat javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:87)\r\n\t... 28 more\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column &#39;employees1_.department_dept_id&#39; in &#39;field list&#39;\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:525)\r\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:406)\r\n\tat com.mysql.jdbc.Util.getInstance(Util.java:381)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1031)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:957)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3376)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3308)\r\n\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1837)\r\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1961)\r\n\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2543)\r\n\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1737)\r\n\tat com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1888)\r\n\tat org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)\r\n\tat org.hibernate.loader.Loader.getResultSet(Loader.java:1953)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:802)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)\r\n\tat org.hibernate.loader.Loader.loadEntity(Loader.java:2037)\r\n\t... 49 more\r\n\r\n\r\nCan you please tell me  what I&#39;m doing wrong here? :)\r\n","title":"Unknown column error using hibernate OneToMany mapping","body":"<p>I m new to hibernate and having <code>error Unknown column</code> in OneToMany mapping. I m trying to implement the one to many relationships using hibernate but having an error.</p>\n\n<p>Here is my Code:</p>\n\n<pre><code>Department Class:\n\n@Entity\n@Table(name=\"department\")\npublic class Department {\n\n@Id\n@Column(name=\"dept_id\")\nprivate int id;\n@Column(name=\"dept_name\")\nprivate String name;\n@OneToMany(mappedBy=\"department\", cascade=CascadeType.ALL, fetch=FetchType.EAGER)\nprivate Collection&lt;Employee&gt; employees = new ArrayList&lt;Employee&gt;();\npublic int getId() {\n    return id;\n}\npublic void setId(int id) {\n    this.id = id;\n}\npublic String getName() {\n    return name;\n}\npublic void setName(String name) {\n    this.name = name;\n}\npublic Collection&lt;Employee&gt; getEmployees() {\n    return employees;\n}\npublic void setEmployees(Collection&lt;Employee&gt; employees) {\n    this.employees = employees;\n}\n}\n</code></pre>\n\n<p>Employee Class:</p>\n\n<pre><code>@Entity\n@Table(name = \"employee\")\npublic class Employee {\n\n@Column(name=\"emp_id\")\n@Id\nprivate int id;\n@Column(name=\"emp_name\")\nprivate String name;\n\n@ManyToOne\nprivate Department department;\n\n\n\npublic Department getDepartment() {\n    return department;\n}\npublic void setDepartment(Department department) {\n    this.department = department;\n}\npublic int getId() {\n    return id;\n}\npublic void setId(int id) {\n    this.id = id;\n}\npublic String getName() {\n    return name;\n}\npublic void setName(String name) {\n    this.name = name;\n}\n}\n</code></pre>\n\n<p>Employee Dao Class:</p>\n\n<pre><code>public class EmployeeDao {\n\npublic void addEmployee(Employee emp, int id){\n\n    Department department = new Department(); \n\n\n    SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\n    Session session = sessionFactory.openSession();\n    session.beginTransaction();\n\n    department = (Department) session.get(Department.class, id);\n    emp.setDepartment(department);\n    department.getEmployees().add(emp);\n\n\n    session.save(emp);\n\n    session.getTransaction().commit();\n    session.close();\n    sessionFactory.close();\n}\n}\n</code></pre>\n\n<p>Here is my Database :</p>\n\n<pre><code>CREATE TABLE `department` (\n`dept_id` int(11) NOT NULL,\n`dept_name` varchar(255) DEFAULT NULL\n</code></pre>\n\n<p>) </p>\n\n<pre><code>CREATE TABLE `employee` (\n`emp_id` int(11) NOT NULL,\n`emp_name` varchar(255) DEFAULT NULL,\n`dept_id` int(11) DEFAULT NULL\n)\n</code></pre>\n\n<p>Stack Trace :</p>\n\n<pre><code>WARNING: #{employee.addEmployee}: org.hibernate.exception.SQLGrammarException: could not load an entity: [com.hibCollection.bean.Department#0]\njavax.faces.FacesException: #{employee.addEmployee}: org.hibernate.exception.SQLGrammarException: could not load an entity: [com.hibCollection.bean.Department#0]\nat com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:118)\nat javax.faces.component.UICommand.broadcast(UICommand.java:315)\nat javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:790)\nat javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1282)\nat com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:81)\nat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)\nat com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:198)\nat javax.faces.webapp.FacesServlet.service(FacesServlet.java:646)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:503)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\nat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:421)\nat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1070)\nat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:611)\nat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Thread.java:722)\nCaused by: javax.faces.el.EvaluationException: org.hibernate.exception.SQLGrammarException: could not load an entity: [com.hibCollection.bean.Department#0]\nat javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:101)\nat com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:102)\n... 27 more\nCaused by: org.hibernate.exception.SQLGrammarException: could not load an entity: [com.hibCollection.bean.Department#0]\nat org.hibernate.exception.SQLStateConverter.convert(SQLStateConverter.java:92)\nat org.hibernate.exception.JDBCExceptionHelper.convert(JDBCExceptionHelper.java:66)\nat org.hibernate.loader.Loader.loadEntity(Loader.java:2041)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:86)\nat org.hibernate.loader.entity.AbstractEntityLoader.load(AbstractEntityLoader.java:76)\nat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:3293)\nat org.hibernate.event.def.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:496)\nat org.hibernate.event.def.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:477)\nat org.hibernate.event.def.DefaultLoadEventListener.load(DefaultLoadEventListener.java:227)\nat org.hibernate.event.def.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:285)\nat org.hibernate.event.def.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:152)\nat org.hibernate.impl.SessionImpl.fireLoad(SessionImpl.java:1090)\nat org.hibernate.impl.SessionImpl.get(SessionImpl.java:1005)\nat org.hibernate.impl.SessionImpl.get(SessionImpl.java:998)\nat com.hibCollection.dao.EmployeeDao.addEmployee(EmployeeDao.java:21)\nat com.hibCollection.mangedBean.EmployeeManageBean.addEmployee(EmployeeManageBean.java:29)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:601)\nat org.apache.el.parser.AstValue.invoke(AstValue.java:278)\nat org.apache.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:273)\nat com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105)\nat javax.faces.component.MethodBindingMethodExpressionAdapter.invoke(MethodBindingMethodExpressionAdapter.java:87)\n... 28 more\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'employees1_.department_dept_id' in 'field list'\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:525)\nat com.mysql.jdbc.Util.handleNewInstance(Util.java:406)\nat com.mysql.jdbc.Util.getInstance(Util.java:381)\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1031)\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:957)\nat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3376)\nat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3308)\nat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:1837)\nat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:1961)\nat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2543)\nat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1737)\nat com.mysql.jdbc.PreparedStatement.executeQuery(PreparedStatement.java:1888)\nat org.hibernate.jdbc.AbstractBatcher.getResultSet(AbstractBatcher.java:208)\nat org.hibernate.loader.Loader.getResultSet(Loader.java:1953)\nat org.hibernate.loader.Loader.doQuery(Loader.java:802)\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:274)\nat org.hibernate.loader.Loader.loadEntity(Loader.java:2037)\n... 49 more\n</code></pre>\n\n<p>Can you please tell me  what I'm doing wrong here? :)</p>\n"},{"tags":["java","list","casting","set"],"comments":[{"owner":{"account_id":1349982,"reputation":773,"user_id":1289932,"display_name":"Samarth"},"score":0,"creation_date":1667935624,"post_id":74366115,"comment_id":131285694,"body_markdown":"You can actually use set or list if the method printItems has argument Collection&lt;Map&lt;String,?&gt;&gt; items instead of List, and since Set doesnot extends List interface, instead both List and Set extends Collection interface.","body":"You can actually use set or list if the method printItems has argument Collection&lt;Map&lt;String,?&gt;&gt; items instead of List, and since Set doesnot extends List interface, instead both List and Set extends Collection interface."}],"answers":[{"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667936192,"creation_date":1667935594,"answer_id":74366162,"question_id":74366115,"body_markdown":"It doesn&#39;t work because the run-time type of `rows` is `HashSet` and `HashSet` does not implement the `List` interface.\r\n\r\nIt works when you create `listedRows` because the run-time type of that object is `ArrayList` which does implement the `List` interface.\r\n\r\nIn your example, you could just just use the `Collection` abstraction in `printItems` since all you need to do is iterate through items.  This will allow you to invoke the method with a `Set` or `List` (or any other [`Collection`][1]) without having to cast or recreate an object.\r\n\r\n```\r\n    public static void printItems(Collection&lt;Map&lt;String, ?&gt;&gt; items) {\r\n        for (Map&lt;String, ?&gt; str: items)\r\n            System.out.println(str);\r\n    }\r\n```\r\n\r\n\r\n----------\r\n\r\nOn casting if you are interested:\r\n\r\nCasting generally only works when you have an object with a compile-time type that is a parent class of the run-time type and you need to coerce the compile-time type of the object to be the run-time type so that you can invoke a method that is specific to the run-time type.\r\n\r\nFor example (albeit contrived):\r\n\r\n```\r\npublic void addTenObjects(List l) {\r\n\r\n  if (l instanceof ArrayList)\r\n    ((ArrayList)l).ensureCapacity(10)\r\n  \r\n  for (int i = 0; i &lt; 10; i++) \r\n    l.add(new Object())\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html","title":"How does type-casting fail but work fine after constructor","body":"<p>It doesn't work because the run-time type of <code>rows</code> is <code>HashSet</code> and <code>HashSet</code> does not implement the <code>List</code> interface.</p>\n<p>It works when you create <code>listedRows</code> because the run-time type of that object is <code>ArrayList</code> which does implement the <code>List</code> interface.</p>\n<p>In your example, you could just just use the <code>Collection</code> abstraction in <code>printItems</code> since all you need to do is iterate through items.  This will allow you to invoke the method with a <code>Set</code> or <code>List</code> (or any other <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html\" rel=\"nofollow noreferrer\"><code>Collection</code></a>) without having to cast or recreate an object.</p>\n<pre><code>    public static void printItems(Collection&lt;Map&lt;String, ?&gt;&gt; items) {\n        for (Map&lt;String, ?&gt; str: items)\n            System.out.println(str);\n    }\n</code></pre>\n<hr />\n<p>On casting if you are interested:</p>\n<p>Casting generally only works when you have an object with a compile-time type that is a parent class of the run-time type and you need to coerce the compile-time type of the object to be the run-time type so that you can invoke a method that is specific to the run-time type.</p>\n<p>For example (albeit contrived):</p>\n<pre><code>public void addTenObjects(List l) {\n\n  if (l instanceof ArrayList)\n    ((ArrayList)l).ensureCapacity(10)\n  \n  for (int i = 0; i &lt; 10; i++) \n    l.add(new Object())\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667937055,"creation_date":1667937055,"answer_id":74366381,"question_id":74366115,"body_markdown":"Both `Set` and `List` interfaces extend `Collection`, but they don&#39;t extend each other. I.e. they are sibling, therefore you can&#39;t convert one into another via casting.\r\n\r\nSince your method `printItems` simply printing the contents of the argument passed into it, you can use instead of it Java 8 [`Iterable.forEach()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)), which expects a `Consumer` representing the action:\r\n\r\n```\r\nrows.forEach(System.out::println);\r\n```\r\n\r\nNo need to type-cast or copy anything, and no need in introducing the method when you have a fairly simple logic like in this case.","title":"How does type-casting fail but work fine after constructor","body":"<p>Both <code>Set</code> and <code>List</code> interfaces extend <code>Collection</code>, but they don't extend each other. I.e. they are sibling, therefore you can't convert one into another via casting.</p>\n<p>Since your method <code>printItems</code> simply printing the contents of the argument passed into it, you can use instead of it Java 8 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>Iterable.forEach()</code></a>, which expects a <code>Consumer</code> representing the action:</p>\n<pre><code>rows.forEach(System.out::println);\n</code></pre>\n<p>No need to type-cast or copy anything, and no need in introducing the method when you have a fairly simple logic like in this case.</p>\n"}],"owner":{"account_id":454513,"reputation":663,"user_id":852146,"accept_rate":50,"display_name":"dramaticlook"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1667937055,"creation_date":1667935274,"question_id":74366115,"body_markdown":"I am exploring Java and while trying type-casting I ran into the following issue, the casting failed when I called the method the first time but after constructing the List it worked fine.\r\n\r\nLooking for a clear explanation to this please :)\r\nThanks\r\n\r\n    import java.util.*;\r\n    import java.util.Set;\r\n    import java.util.HashMap; // import the HashMap class\r\n    \r\n    \r\n    public class Main{     \r\n        public static void main(String[] args)     \r\n        {     \r\n            Set&lt;Map&lt;String, ?&gt;&gt; rows = new HashSet();\r\n            \r\n            HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n            map.put(&quot;1&quot;,&quot;one&quot;);\r\n            map.put(&quot;2&quot;,&quot;two&quot;);\r\n            \r\n            HashMap&lt;String, String&gt; mapp = new HashMap&lt;String, String&gt;();\r\n            mapp.put(&quot;3&quot;,&quot;three&quot;);\r\n            mapp.put(&quot;4&quot;,&quot;four&quot;);\r\n            \r\n            rows.add(map);\r\n            rows.add(mapp);\r\n    \r\n            //WHY THE FOLLOWING DOESN&#39;T WORK ?????\r\n            //printItems((List&lt;Map&lt;String, ?&gt;&gt;) rows);\r\n            \r\n            //BUT THE FOLLOWING WORKS FINE\r\n            List&lt;Map&lt;String, ?&gt;&gt; listedRows = new ArrayList&lt;&gt;(rows);\r\n            printItems(listedRows);\r\n        }\r\n        \r\n        public static void printItems(List&lt;Map&lt;String, ?&gt;&gt; items) {\r\n            for (Map&lt;String, ?&gt; str: items)\r\n                System.out.println(str);\r\n        }\r\n    }    ","title":"How does type-casting fail but work fine after constructor","body":"<p>I am exploring Java and while trying type-casting I ran into the following issue, the casting failed when I called the method the first time but after constructing the List it worked fine.</p>\n<p>Looking for a clear explanation to this please :)\nThanks</p>\n<pre><code>import java.util.*;\nimport java.util.Set;\nimport java.util.HashMap; // import the HashMap class\n\n\npublic class Main{     \n    public static void main(String[] args)     \n    {     \n        Set&lt;Map&lt;String, ?&gt;&gt; rows = new HashSet();\n        \n        HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n        map.put(&quot;1&quot;,&quot;one&quot;);\n        map.put(&quot;2&quot;,&quot;two&quot;);\n        \n        HashMap&lt;String, String&gt; mapp = new HashMap&lt;String, String&gt;();\n        mapp.put(&quot;3&quot;,&quot;three&quot;);\n        mapp.put(&quot;4&quot;,&quot;four&quot;);\n        \n        rows.add(map);\n        rows.add(mapp);\n\n        //WHY THE FOLLOWING DOESN'T WORK ?????\n        //printItems((List&lt;Map&lt;String, ?&gt;&gt;) rows);\n        \n        //BUT THE FOLLOWING WORKS FINE\n        List&lt;Map&lt;String, ?&gt;&gt; listedRows = new ArrayList&lt;&gt;(rows);\n        printItems(listedRows);\n    }\n    \n    public static void printItems(List&lt;Map&lt;String, ?&gt;&gt; items) {\n        for (Map&lt;String, ?&gt; str: items)\n            System.out.println(str);\n    }\n}    \n</code></pre>\n"},{"tags":["java","dns","inetaddress"],"comments":[{"owner":{"account_id":1807690,"reputation":3480,"user_id":1644440,"accept_rate":100,"display_name":"Zhedar"},"score":0,"creation_date":1424171021,"post_id":28560135,"comment_id":45432354,"body_markdown":"This problem may not be Java related only since my `ping` also can&#39;t resolve `_netblocks.google.com`.","body":"This problem may not be Java related only since my <code>ping</code> also can&#39;t resolve <code>_netblocks.google.com</code>."},{"owner":{"account_id":5801030,"reputation":141,"user_id":4575196,"display_name":"zJK"},"score":0,"creation_date":1424180902,"post_id":28560135,"comment_id":45436353,"body_markdown":"Thanks Zhedar, I know that :) I added that to illustrate what I am trying to do. If I use &#39;google.com&#39; as my argument, it does pop out an IP. But that is the A record. I need to grab the TXT record.","body":"Thanks Zhedar, I know that :) I added that to illustrate what I am trying to do. If I use &#39;google.com&#39; as my argument, it does pop out an IP. But that is the A record. I need to grab the TXT record."}],"answers":[{"tags":[],"owner":{"account_id":4995828,"reputation":4085,"user_id":4124076,"display_name":"Manish Maheshwari"},"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1424212987,"creation_date":1424212987,"answer_id":28572571,"question_id":28560135,"body_markdown":"You **cannot** lookup TXT or other DNS records `InetAddress` class. `InetAddress.getAllByName()` looks up for *A*, or *AAAA* records only. \r\n\r\nCheck [DNS Java](http://www.xbill.org/dnsjava/) for your needs.","title":"DNS query in Java","body":"<p>You <strong>cannot</strong> lookup TXT or other DNS records <code>InetAddress</code> class. <code>InetAddress.getAllByName()</code> looks up for <em>A</em>, or <em>AAAA</em> records only. </p>\n\n<p>Check <a href=\"http://www.xbill.org/dnsjava/\" rel=\"noreferrer\">DNS Java</a> for your needs.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1424214354,"creation_date":1424214354,"answer_id":28572918,"question_id":28560135,"body_markdown":"`InetAddress` doesn&#39;t do this, but you can accomplish DNS TXT record lookups in Java via the [JNDI DNS provider](http://docs.oracle.com/javase/7/docs/technotes/guides/jndi/jndi-dns.html).","title":"DNS query in Java","body":"<p><code>InetAddress</code> doesn't do this, but you can accomplish DNS TXT record lookups in Java via the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/jndi/jndi-dns.html\" rel=\"noreferrer\">JNDI DNS provider</a>.</p>\n"},{"tags":[],"owner":{"account_id":964700,"reputation":1819,"user_id":988346,"display_name":"user988346"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1540531229,"creation_date":1540531229,"answer_id":53001920,"question_id":28560135,"body_markdown":"Here is an example that does what you are trying to do:\r\n\r\n    Attribute attr = new InitialDirContext().getAttributes(&quot;dns:_netblocks.google.com&quot;, new String[] {&quot;TXT&quot;}).get(&quot;TXT&quot;);\r\n    System.out.println(&quot;attr.get() = &quot; + attr.get());\r\n    System.out.println(&quot;attr.getAll() = &quot; + Collections.list(attr.getAll()));\r\n\r\nIf you want to use a custom dns server use &quot;dns://1.1/_netblocks.google.com&quot; instead.","title":"DNS query in Java","body":"<p>Here is an example that does what you are trying to do:</p>\n\n<pre><code>Attribute attr = new InitialDirContext().getAttributes(\"dns:_netblocks.google.com\", new String[] {\"TXT\"}).get(\"TXT\");\nSystem.out.println(\"attr.get() = \" + attr.get());\nSystem.out.println(\"attr.getAll() = \" + Collections.list(attr.getAll()));\n</code></pre>\n\n<p>If you want to use a custom dns server use \"dns://1.1/_netblocks.google.com\" instead.</p>\n"},{"tags":[],"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664981751,"creation_date":1664981751,"answer_id":73962324,"question_id":28560135,"body_markdown":"I ended up using Google&#39;s &quot;JSON API for DNS over HTTPS (DoH)&quot;\r\n\r\nhttps://developers.google.com/speed/public-dns/docs/doh/json","title":"DNS query in Java","body":"<p>I ended up using Google's &quot;JSON API for DNS over HTTPS (DoH)&quot;</p>\n<p><a href=\"https://developers.google.com/speed/public-dns/docs/doh/json\" rel=\"nofollow noreferrer\">https://developers.google.com/speed/public-dns/docs/doh/json</a></p>\n"}],"owner":{"account_id":5801030,"reputation":141,"user_id":4575196,"display_name":"zJK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33525,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1667936238,"creation_date":1424169888,"question_id":28560135,"body_markdown":"I am messing around with DNS services in Java. I am specifically trying to look up all google.com addresses and display them in an array, similar to running a lookup using [`nslookup`](https://en.wikipedia.org/wiki/Nslookup):\r\n\r\n    nslookup -q=TXT _netblocks.google.com 8.8.8.8\r\n\r\nI am using `InetAddress` for this but I keep on getting exceptions. Since the exceptions refer to an &#39;Unknown Host&#39;, I don&#39;t think `InetAddress` can read TXT records (if I use google.com it works, but that doesn&#39;t show the full IP range).\r\n\r\nBelow is my code:\r\n\r\n    InetAddress dnsresult[] = InetAddress.getAllByName(&quot;_netblocks.google.com&quot;);\r\n\r\n    for (int i=0; i&lt;dnsresult.length; i++)\r\n    \tSystem.out.println(dnsresult[i]);\r\n\r\nI would appreciate it if someone could point me in the right direction.\r\n","title":"DNS query in Java","body":"<p>I am messing around with DNS services in Java. I am specifically trying to look up all google.com addresses and display them in an array, similar to running a lookup using <a href=\"https://en.wikipedia.org/wiki/Nslookup\" rel=\"nofollow noreferrer\"><code>nslookup</code></a>:</p>\n<pre><code>nslookup -q=TXT _netblocks.google.com 8.8.8.8\n</code></pre>\n<p>I am using <code>InetAddress</code> for this but I keep on getting exceptions. Since the exceptions refer to an 'Unknown Host', I don't think <code>InetAddress</code> can read TXT records (if I use google.com it works, but that doesn't show the full IP range).</p>\n<p>Below is my code:</p>\n<pre><code>InetAddress dnsresult[] = InetAddress.getAllByName(&quot;_netblocks.google.com&quot;);\n\nfor (int i=0; i&lt;dnsresult.length; i++)\n    System.out.println(dnsresult[i]);\n</code></pre>\n<p>I would appreciate it if someone could point me in the right direction.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9094,"page":898,"page_size":100}
